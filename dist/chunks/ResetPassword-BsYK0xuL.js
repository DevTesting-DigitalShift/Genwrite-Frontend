import{a2 as q,p as M,r as n,o as T,u as W,j as e,L as G}from"./vendor-react-De2z0TIU.js";import{Z as V}from"../assets/index-CsB5qvyX.js";import{m as t}from"./vendor-animation-DLXwypMl.js";import{a5 as B,ag as N,l as H,ar as K,ae as P,Q as _,V as O,a4 as $,S as Q}from"./vendor-icons-Cq_V5qsk.js";import{s as U}from"./vendor-ui-C0h2rz9i.js";import"./vendor-documents-Bo4tJiCa.js";import"./vendor-misc-VtNtTC9_.js";import"./vendor-utils-8H1_Lg8i.js";import"./vendor-http-DugNE7E_.js";import"./vendor-state-WK08LdY7.js";var F=Object.defineProperty,J=Object.defineProperties,X=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,E=(l,a,s)=>a in l?F(l,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[a]=s,I=(l,a)=>{for(var s in a||(a={}))ee.call(a,s)&&E(l,s,a[s]);if(C)for(var s of C(a))se.call(a,s)&&E(l,s,a[s]);return l},z=(l,a)=>J(l,X(a)),te=(l,a,s)=>new Promise((y,c)=>{var w=o=>{try{u(s.next(o))}catch(x){c(x)}},m=o=>{try{u(s.throw(o))}catch(x){c(x)}},u=o=>o.done?y(o.value):Promise.resolve(o.value).then(w,m);u((s=s.apply(l,a)).next())});const he=()=>{const[l]=q(),a=M(),[s,y]=n.useState(""),[c,w]=n.useState(""),[m,u]=n.useState(!1),[o,x]=n.useState(!1),[b,v]=n.useState(!1),[R,L]=n.useState(!1),[d,p]=n.useState({}),[ae,A]=n.useState(""),D=T(),Y=W();n.useEffect(()=>{const i=l.get("token");i?A(i):a("/forgot-password")},[l,a]);const k=i=>{const r=[];return i.length<8&&r.push("At least 8 characters"),/[A-Z]/.test(i)||r.push("One uppercase letter"),/[a-z]/.test(i)||r.push("One lowercase letter"),/\d/.test(i)||r.push("One number"),/[!@#$%^&*(),.?":{}|<>]/.test(i)||r.push("One special character"),r},Z=i=>te(null,null,function*(){i.preventDefault();const r={},h=k(s);if(h.length>0&&(r.password=`Password must contain: ${h.join(", ")}`),c?s!==c&&(r.confirmPassword="Passwords do not match"):r.confirmPassword="Please confirm your password",p(r),Object.keys(r).length>0)return;v(!0);const S=new URLSearchParams(D.search).get("token");if(!S){p({token:"Invalid or missing token"}),v(!1);return}try{const f=yield Y(V({token:S,newPassword:s})).unwrap();f&&(U.success(f),L(!0),a("/login",{replace:!0}))}catch(f){p({server:f})}finally{v(!1)}}),j=i=>{const h=5-k(i).length;return h<=1?{level:"weak",color:"bg-red-500",text:"Weak"}:h<=3?{level:"medium",color:"bg-yellow-500",text:"Medium"}:{level:"strong",color:"bg-green-500",text:"Strong"}},g=j(s);return R?e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx(t.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl"}),e.jsx(t.div,{animate:{rotate:[360,0],scale:[1,1.2,1]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-cyan-400/20 rounded-full blur-3xl"})]}),e.jsx(t.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"absolute top-8 left-1/2 transform -translate-x-1/2 z-10",children:e.jsx("img",{src:"/Images/logo_genwrite_2.png",alt:"GenWrite Logo",className:"w-40 h-auto"})}),e.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 pt-20 pb-8",children:e.jsxs(t.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",stiffness:120,damping:20},className:"w-full max-w-md bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-green-400/10 to-emerald-400/10 rounded-full -translate-y-16 translate-x-16"}),e.jsx(t.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"w-20 h-20 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(B,{className:"w-10 h-10 text-white"})}),e.jsx(t.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-gray-900 mb-4",children:"Password Reset Successful!"}),e.jsx(t.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-gray-600 mb-8 leading-relaxed",children:"Your password has been successfully reset. You can now sign in with your new password."}),e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-8",children:e.jsxs("div",{className:"flex items-center gap-3 text-green-800",children:[e.jsx(N,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:"Your account is now secure with the new password. Make sure to keep it safe!"})]})}),e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:e.jsxs(G,{to:"/login",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 px-6 rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition-all duration-300 flex items-center justify-center gap-2",children:["Continue to Sign In",e.jsx(H,{className:"w-5 h-5"})]})})]})})]}):e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx(t.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl"}),e.jsx(t.div,{animate:{rotate:[360,0],scale:[1,1.2,1]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-cyan-400/20 rounded-full blur-3xl"})]}),e.jsx(t.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"absolute top-8 left-1/2 transform -translate-x-1/2 z-10",children:e.jsx("img",{src:"/Images/logo_genwrite_2.png",alt:"GenWrite Logo",className:"w-40 h-auto"})}),e.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 pt-20 pb-8",children:e.jsxs(t.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",stiffness:120,damping:20},className:"w-full max-w-md bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-400/10 to-purple-400/10 rounded-full -translate-y-16 translate-x-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-indigo-400/10 to-cyan-400/10 rounded-full translate-y-12 -translate-x-12"}),e.jsxs("div",{className:"relative mb-8 text-center",children:[e.jsx(t.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(K,{className:"text-white text-2xl"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Your Password"}),e.jsx("p",{className:"text-gray-600",children:"Enter your new password below to secure your account."})]}),e.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-4 left-4 text-gray-400 z-10",children:e.jsx(P,{className:"w-5 h-5"})}),e.jsx("input",{type:m?"text":"password",placeholder:"Enter new password",value:s,onChange:i=>{y(i.target.value),p(r=>z(I({},r),{password:""}))},className:`w-full pl-12 pr-12 py-4 bg-gray-50/80 border-2 rounded-2xl text-gray-800 placeholder-gray-500 focus:bg-white focus:shadow-lg outline-none transition-all duration-300 ${d.password?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`}),e.jsx("button",{type:"button",onClick:()=>u(!m),className:"absolute right-4 top-4 text-gray-500 hover:text-gray-700 transition-colors z-10",children:m?e.jsx(_,{className:"w-5 h-5"}):e.jsx(O,{className:"w-5 h-5"})})]}),s&&e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${g.color}`,style:{width:`${j(s).level==="weak"?33:j(s).level==="medium"?66:100}%`}})}),e.jsx("span",{className:`text-xs font-medium ${g.level==="weak"?"text-red-600":g.level==="medium"?"text-yellow-600":"text-green-600"}`,children:g.text})]})}),d.password&&e.jsxs(t.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-red-600 text-sm flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4 flex-shrink-0"}),d.password]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-4 left-4 text-gray-400 z-10",children:e.jsx(P,{className:"w-5 h-5"})}),e.jsx("input",{type:o?"text":"password",placeholder:"Confirm new password",value:c,onChange:i=>{w(i.target.value),p(r=>z(I({},r),{confirmPassword:""}))},className:`w-full pl-12 pr-12 py-4 bg-gray-50/80 border-2 rounded-2xl text-gray-800 placeholder-gray-500 focus:bg-white focus:shadow-lg outline-none transition-all duration-300 ${d.confirmPassword?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`}),e.jsx("button",{type:"button",onClick:()=>x(!o),className:"absolute right-4 top-4 text-gray-500 hover:text-gray-700 transition-colors z-10",children:o?e.jsx(_,{className:"w-5 h-5"}):e.jsx(O,{className:"w-5 h-5"})})]}),d.confirmPassword&&e.jsxs(t.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-red-600 text-sm flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4 flex-shrink-0"}),d.confirmPassword]})]}),e.jsx(t.button,{whileHover:{y:-2,scale:1.02},whileTap:{scale:.98},type:"submit",disabled:b,className:`w-full py-4 px-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl ${b?"opacity-70 cursor-not-allowed":"hover:from-blue-700 hover:to-purple-700"}`,children:b?e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(t.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white/30 rounded-full border-t-white"}),e.jsx("span",{children:"Resetting Password..."})]}):e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"}),"Reset Password"]})})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Password Requirements:"}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs text-gray-600",children:[e.jsxs("div",{className:`flex items-center gap-2 ${s.length>=8?"text-green-600":""}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.length>=8?"bg-green-500":"bg-gray-300"}`}),"At least 8 characters"]}),e.jsxs("div",{className:`flex items-center gap-2 ${/[A-Z]/.test(s)?"text-green-600":""}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${/[A-Z]/.test(s)?"bg-green-500":"bg-gray-300"}`}),"One uppercase letter"]}),e.jsxs("div",{className:`flex items-center gap-2 ${/[a-z]/.test(s)?"text-green-600":""}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${/[a-z]/.test(s)?"bg-green-500":"bg-gray-300"}`}),"One lowercase letter"]}),e.jsxs("div",{className:`flex items-center gap-2 ${/\d/.test(s)?"text-green-600":""}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${/\d/.test(s)?"bg-green-500":"bg-gray-300"}`}),"One number"]}),e.jsxs("div",{className:`flex items-center gap-2 ${/[!@#$%^&*(),.?":{}|<>]/.test(s)?"text-green-600":""}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${/[!@#$%^&*(),.?":{}|<>]/.test(s)?"bg-green-500":"bg-gray-300"}`}),"One special character"]})]})]}),e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(N,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{children:"Secure"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"w-3 h-3 text-blue-500"}),e.jsx("span",{children:"Encrypted"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Q,{className:"w-3 h-3 text-purple-500"}),e.jsx("span",{children:"Protected"})]})]})})]})})]})};export{he as default};
