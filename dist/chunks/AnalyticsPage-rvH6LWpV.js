import{l as E,r as J,j as e,a3 as U,a4 as M,a5 as T,a6 as $}from"./vendor-react-De2z0TIU.js";import{bV as Z,F as q,c2 as G}from"./vendor-misc-VtNtTC9_.js";import{s as K,a0 as V}from"../assets/index-CsB5qvyX.js";import{h as p}from"./vendor-utils-8H1_Lg8i.js";import{aG as W,r as H,a as Q,aH as X,aI as Y,F as ee,aJ as se,aK as ae,aL as te,aM as ie}from"./vendor-icons-Cq_V5qsk.js";import{m as l}from"./vendor-animation-DLXwypMl.js";import{S as C,B as re,P as le}from"./vendor-ui-C0h2rz9i.js";import"./vendor-documents-Bo4tJiCa.js";import"./vendor-http-DugNE7E_.js";import"./vendor-state-WK08LdY7.js";var oe=Object.defineProperty,ne=Object.defineProperties,de=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,ce=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable,B=(t,a,i)=>a in t?oe(t,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[a]=i,j=(t,a)=>{for(var i in a||(a={}))ce.call(a,i)&&B(t,i,a[i]);if(w)for(var i of w(a))ge.call(a,i)&&B(t,i,a[i]);return t},f=(t,a)=>ne(t,de(a));q.register(...G);const{Option:v}=C,O=({title:t,value:a,icon:i,iconBg:c,cardBg:h,ringColor:g,progress:y,limit:r})=>e.jsx(l.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`
      group relative ${h} p-4 rounded-xl border border-gray-200
      shadow-sm hover:shadow-md transition-all duration-300
      hover:ring-1 hover:ring-offset-2 ${g}
      text-gray-900 border-gray-200
    `,children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-semibold",children:t}),e.jsx("div",{className:`p-2 rounded-md ${c} shadow-md`,children:i})]}),e.jsxs("p",{className:"text-3xl font-bold",children:[a,r?` / ${r}`:""]}),y!==void 0&&r!==void 0&&e.jsxs("div",{className:"mt-2",children:[e.jsx(le,{percent:Math.min(a/r*100,100),size:"small",status:a>=r?"exception":a/r>.8?"warning":"normal",showInfo:!1,strokeColor:a>=r?"#ef4444":a/r>.8?"#f59e0b":"#10b981"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Math.round(a/r*100),"% of limit used"]})]})]})}),me=({title:t,children:a,className:i=""})=>e.jsxs("div",{className:`rounded-2xl p-6 shadow-sm border transition-all duration-300
      bg-white border-gray-100 text-gray-900
      hover:shadow-lg ${i}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:t}),e.jsx("button",{className:"p-2 rounded-lg transition-colors hover:bg-gray-50","aria-label":"More options",children:e.jsx(ie,{className:"w-5 h-5 text-gray-400"})})]}),e.jsx("div",{className:"h-80",children:a})]}),Be=()=>{const t=E(K),[a,i]=J.useState("7days"),{data:c,isLoading:h,error:g,refetch:y}=Z({queryKey:["blogStatus",a],queryFn:()=>{let s={};const n=p().endOf("day").toISOString();switch(a){case"7days":s={start:p().subtract(6,"days").startOf("day").toISOString(),end:n};break;case"30days":s={start:p().subtract(29,"days").startOf("day").toISOString(),end:n};break;case"90days":s={start:p().subtract(89,"days").startOf("day").toISOString(),end:n};break;default:s={}}return V(s)}}),r=(c==null?void 0:c.stats)||{},{totalBlogs:k=0,postedBlogs:S=0,archivedBlogs:P=0,brandedBlogs:_=0,blogsByModel:m={},blogsByStatus:o={},imageSources:b={},templatesUsed:x={}}=r,u=(t==null?void 0:t.usage)||{createdJobs:0,aiImages:0},N=(t==null?void 0:t.usageLimits)||{createdJobs:10,aiImages:50},d={maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{font:{size:12},padding:20,color:"#6b7280"}},tooltip:{backgroundColor:"white",titleColor:"#1f2937",bodyColor:"#1f2937",borderColor:"#e5e7eb",borderWidth:1,cornerRadius:12}},scales:{x:{ticks:{font:{size:12},color:"#6b7280"}},y:{ticks:{font:{size:12},color:"#6b7280"},beginAtZero:!0}}},I=f(j({},d),{scales:{x:{ticks:{font:{size:12},color:"#6b7280",maxRotation:45,minRotation:45}},y:{ticks:{font:{size:12},color:"#6b7280",stepSize:1},beginAtZero:!0}}}),D=f(j({},d),{plugins:f(j({},d.plugins),{legend:{display:!1}}),scales:{x:{ticks:{font:{size:12},color:"#6b7280",maxRotation:45,minRotation:45}},y:{ticks:{font:{size:12},color:"#6b7280",stepSize:1},beginAtZero:!0}}}),L=[{title:"Blogs by Model",type:"Pie",data:{labels:Object.keys(m).length?Object.keys(m):["No Data"],datasets:[{data:Object.keys(m).length?Object.values(m):[1],backgroundColor:["#3B82F6","#10B981","#F59E0B","#6B7280"],hoverOffset:20,borderColor:"#ffffff"}]}},{title:"Image Sources",type:"Doughnut",data:{labels:Object.keys(b).length?Object.keys(b):["No Data"],datasets:[{data:Object.keys(b).length?Object.values(b):[1],backgroundColor:["#10B981","#F59E0B","#EF4444"],hoverOffset:20,borderColor:"#ffffff"}]}},{title:"Blogs by Status",type:"Bar",data:{labels:Object.keys(o).length?Object.keys(o):["No Data"],datasets:[{label:"Blogs by Status",data:Object.keys(o).length?Object.values(o):[0],backgroundColor:Object.keys(o).length?Object.keys(o).map(s=>{switch(s.toLowerCase()){case"pending":return"#facc15";case"complete":return"#22c55e";case"failed":return"#ef4444";case"in-progress":return"#a78bfa";default:return"#6b7280"}}):["#9ca3af"],borderColor:"#e5e7eb",borderWidth:1}]}},{title:"Templates Used",type:"Line",data:{labels:Object.keys(x).length?Object.keys(x):["No Data"],datasets:[{label:"Templates Used",data:Object.keys(x).length?Object.values(x):[0],borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4,fill:!0}]}}],A=[{title:"Total Blogs",value:k,icon:e.jsx(ee,{className:"w-5 h-5 text-white"}),iconBg:"bg-blue-500",cardBg:"bg-blue-50",ringColor:"ring-blue-200"},{title:"Posted Blogs",value:S,icon:e.jsx(se,{className:"w-5 h-5 text-white"}),iconBg:"bg-green-500",cardBg:"bg-green-50",ringColor:"ring-green-200"},{title:"Archived Blogs",value:P,icon:e.jsx(ae,{className:"w-5 h-5 text-white"}),iconBg:"bg-yellow-500",cardBg:"bg-yellow-50",ringColor:"ring-yellow-200"},{title:"Branded Blogs",value:_,icon:e.jsx(te,{className:"w-5 h-5 text-white"}),iconBg:"bg-pink-500",cardBg:"bg-pink-50",ringColor:"ring-pink-200"}],R=[{title:"Created Jobs",value:u.createdJobs,limit:N.createdJobs,progress:u.createdJobs,icon:e.jsx(W,{className:"w-5 h-5 text-white"}),iconBg:"bg-purple-500",cardBg:"bg-purple-50",ringColor:"ring-purple-200"},{title:"AI Images",value:u.aiImages,limit:N.aiImages,progress:u.aiImages,icon:e.jsx(H,{className:"w-5 h-5 text-white"}),iconBg:"bg-teal-500",cardBg:"bg-teal-50",ringColor:"ring-teal-200"}],z=s=>{i(s)},F=()=>{y()};return e.jsx("div",{className:"min-h-screen transition-colors duration-300 bg-gray-50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Blog Analytics"}),e.jsx("p",{className:"text-sm mt-1 text-gray-600",children:"Track your blog performance and engagement metrics"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(C,{value:a,onChange:z,className:"w-40","aria-label":"Select time range",children:[e.jsx(v,{value:"7days",children:"Last 7 Days"}),e.jsx(v,{value:"30days",children:"Last 30 Days"}),e.jsx(v,{value:"90days",children:"Last 90 Days"})]})})]}),h||!t?e.jsx(be,{}):g?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("p",{className:"text-lg text-red-500",children:["Error: ",g.message||"Failed to load analytics data"]}),e.jsx(re,{onClick:F,className:"mt-4 bg-blue-600 text-white","aria-label":"Retry loading data",children:"Retry"})]}):e.jsxs(e.Fragment,{children:[e.jsx(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-600 flex items-center justify-center",children:e.jsx(Q,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Blog Statistics"})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:A.map((s,n)=>e.jsx(O,{title:s.title,value:s.value,icon:s.icon,iconBg:s.iconBg,cardBg:s.cardBg,ringColor:s.ringColor,progress:s.progress,limit:s.limit},s.title))}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center",children:e.jsx(X,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Usage & Limit"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6 mb-8",children:R.map((s,n)=>e.jsx(O,{title:s.title,value:s.value,icon:s.icon,iconBg:s.iconBg,cardBg:s.cardBg,ringColor:s.ringColor,progress:s.progress,limit:s.limit},s.title))}),e.jsx(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-600 flex items-center justify-center",children:e.jsx(Y,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analytics Charts"})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:L.map((s,n)=>e.jsxs(me,{title:s.title,children:[s.type==="Pie"&&e.jsx(U,{data:s.data,options:d}),s.type==="Doughnut"&&e.jsx(M,{data:s.data,options:d}),s.type==="Bar"&&e.jsx(T,{data:s.data,options:I}),s.type==="Line"&&e.jsx($,{data:s.data,options:D})]},s.title))})]})]})})},be=()=>e.jsxs("div",{className:"p-6",children:[e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("div",{className:"h-8 w-64 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-4 w-48 bg-gray-200 rounded mt-2 animate-pulse"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("div",{className:"h-10 w-40 bg-gray-200 rounded animate-pulse"})})]}),e.jsx(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse"})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((t,a)=>e.jsxs(l.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:a*.1},className:"p-4 rounded-xl border border-gray-200 bg-gray-50 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-md animate-pulse"})]}),e.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded animate-pulse"})]},a))}),e.jsx(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse"})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6 mb-8",children:[...Array(2)].map((t,a)=>e.jsxs(l.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:a*.1},className:"p-4 rounded-xl border border-gray-200 bg-gray-50 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-md animate-pulse"})]}),e.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full animate-pulse"}),e.jsx("div",{className:"h-3 w-16 bg-gray-200 rounded mt-1 animate-pulse"})]})]},a))}),e.jsx(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse"})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(4)].map((t,a)=>e.jsxs(l.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:a*.1},className:"rounded-2xl p-6 shadow-sm border bg-white border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"h-5 w-40 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded animate-pulse"})]}),e.jsx("div",{className:"h-80 w-full bg-gray-200 rounded-lg animate-pulse"})]},a))}),e.jsx("div",{className:"mt-12 text-center",children:e.jsx("div",{className:"h-4 w-48 mx-auto bg-gray-200 rounded animate-pulse"})})]});export{Be as default};
