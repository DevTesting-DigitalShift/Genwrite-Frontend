import{I as Oe,j as e,P as ae,Q as K,a as te,u as ne,S as ze,U as Ge,T as de,V as xe,F as he,m as O,W as _e,X as Re,Y as We,B as ye,Z as je,$ as Ke,a0 as Me,a1 as me,a2 as He,D as Ue,a3 as Ve,H as Qe,A as fe,G as Ie,a4 as Le,a5 as qe,a6 as Ye}from"./index-BiN8l-P3.js";import{b as y}from"./chunk-tiptap-DcNQbKmZ.js";import{C as Ne,o as ue,p as pe}from"./templates-B0UHzDuT.js";import{P as oe}from"./plus-D6LhJHqk.js";import{S as Ze}from"./index-W48ASfQK.js";import{R as Je}from"./refresh-cw-D_qIqLx_.js";import{S as Ee}from"./sparkles-N4hWHHyx.js";import{S as ie}from"./index-C0emBpwG.js";import{C as Be}from"./crown-D_bKIoG-.js";import{T as Pe}from"./triangle-alert-g8QZTvHL.js";import{X as le}from"./x-EXuY2rFn.js";import{P as Xe}from"./pen-tool-BEqAdFn4.js";import{Z as es}from"./zap-CnzKkrux.js";import{c as ce}from"./createLucideIcon-Cn4USsaF.js";import{S as ss}from"./search-CsAQzegS.js";import{U as ts}from"./users-DkfVRK6Y.js";import{h as rs}from"./moment-C5S46NFB.js";import{A as Te}from"./arrow-right-B2wi-NAV.js";import{E as as}from"./eye-PZdlRyYQ.js";import{g as ke}from"./getEstimatedCost-ycRXQGiB.js";import{I as Ae}from"./info-nm78sSb2.js";import{U as Fe}from"./upload-DsYQhgpU.js";import{S as $e}from"./index-CxRoRGUT.js";import{R as ls,a as ns,C as os}from"./CompetitiveAnalysisModal-D9B9ahcN.js";import{F as Ce,T as is}from"./index-CXeJRkDr.js";import{I as ds}from"./index-DILUNdX8.js";import{S as be,a as ge}from"./SkeletonLoader-CHi2GkFI.js";import{C as cs,A as ms,L as xs,a as hs,b as us,P as gs,p as ps,c as fs,d as bs}from"./chart-Cc8l8VFj.js";import{C as ys}from"./clock-3EmOQH6s.js";import"./LeftOutlined-CCav-uP7.js";import"./EllipsisOutlined-BDQ-28KJ.js";import"./Overflow-DbYj3NoT.js";import"./useIcons-DeAJ6z0L.js";import"./index-BcsZyqCP.js";import"./progress-CVIraczL.js";import"./Pagination-BweTF5Wh.js";import"./Input-CO8B-yPm.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ws=ce("activity",js);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],Ns=ce("chart-no-axes-column",vs);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],we=ce("gem",ks);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Ss=ce("grid-3x3",Cs);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ls=ce("tag",Is);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],As=ce("tags",Bs);var Fs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function ve(){return ve=Object.assign?Object.assign.bind():function(R){for(var S=1;S<arguments.length;S++){var N=arguments[S];for(var t in N)Object.prototype.hasOwnProperty.call(N,t)&&(R[t]=N[t])}return R},ve.apply(this,arguments)}const Ks=(R,S)=>y.createElement(Oe,ve({},R,{ref:S,icon:Fs})),De=y.forwardRef(Ks),Ms=({title:R,visible:S,onCancel:N,children:t})=>S?e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e.jsx("div",{className:"modal-overlay absolute inset-0 bg-gray-800 opacity-50"}),e.jsxs("div",{className:"modal-container bgwhi w-96 rounded-lg shadow-lg z-50 overflow-y-auto",children:[e.jsxs("div",{className:"modal-header p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold ",children:R}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:N,children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"modal-content p-4",children:t})]})]}):null,Es=({handleNext:R,handleClose:S,data:N,setData:t})=>{const[w,M]=y.useState(null),[A,I]=y.useState({userDefinedLength:0,tone:"",includeInterlink:!1,includeMetaHeadlines:!1,wordpressStatus:!0,numberOfBlogs:0,postFrequency:0,randomisedFrequency:0,template:[],focusKeywords:[],keywords:[],focusKeywordInput:"",keywordInput:""}),D=[{imgSrc:"./Images/Classic.png",name:"Classic",description:"Timeless elegance for your classic blog journey",author:"Author 1"},{imgSrc:"./Images/Listicle.png",name:"Listicle",description:"Tips for actionable success in list format.",author:"Author 2"},{imgSrc:"./Images/ProductReview.png",name:"Product Review",description:"Product insights: pros, cons, and more.",author:"Author 3"},{imgSrc:"./Images/HowTo.png",name:"How to....",description:"Step-by-step guides for practical how-to solutions.",author:"Author 4"},{imgSrc:"./Images/NewsArticle.png",name:"News Article",description:"Latest updates and breaking news coverage."},{imgSrc:"./Images/OpinionPiece.png",name:"Opinion Piece",description:"Expert insights and analytical perspectives."},{imgSrc:"./Images/CaseStudy.png",name:"Case Study",description:"In-depth analysis and real-world examples."},{imgSrc:"./Images/Interview.png",name:"Interview",description:"Engaging conversations with industry experts."}],F=k=>{M(k),t({...N,template:D[k]}),I({...A,template:[D[k].name]})},z=()=>{if(w!==null){const k=D[w],x={...N,selectedTemplate:k};t(x),R()}else K.error("Please select a template before proceeding.")};return y.useEffect(()=>(open?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[open]),e.jsx(ae,{title:"Step 1: Select Template",open:!0,onCancel:S,footer:[e.jsx("button",{onClick:z,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")],centered:!0,width:800,transitionName:"",maskTransitionName:"",children:e.jsx("div",{children:e.jsx("div",{className:"p-3",children:e.jsx(Ne,{children:D.map((k,x)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${A.template.includes(k.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>F(x),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:k.imgSrc||"/placeholder.svg",alt:k.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:k.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:k.description})]})]})},x))})})})})},Ps=y.memo(Es),{Option:se}=ie,Ts=({handleNext:R,handleClose:S,handlePrevious:N,data:t,setData:w})=>{var s;const[M,A]=y.useState((t==null?void 0:t.topic)||""),[I,D]=y.useState(!1),F=18,[z,k]=y.useState(!1),{selectedKeywords:x}=te(a=>a.analysis),n=ne(),[h,f]=y.useState({focusKeywordInput:"",focusKeywords:(x==null?void 0:x.focusKeywords)||[],keywordInput:"",keywords:(x==null?void 0:x.keywords)||[]}),[i,E]=y.useState({title:!1,topic:!1,tone:!1,focusKeyword:!1,focusKeywordInput:"",keyword:!1,keywordInput:""}),[T,b]=y.useState([]),[L,u]=y.useState(!1);y.useEffect(()=>{f(a=>({...a,focusKeywords:(x==null?void 0:x.focusKeywords)||[],keywords:(x==null?void 0:x.keywords)||[]}))},[x]),y.useEffect(()=>{D(!1),b([])},[]),y.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]);const o=a=>{f(g=>({...g,keywordInput:a.target.value}))},C=()=>{const a=h.keywordInput;if(a.trim()!==""){const g=a.split(",").map(v=>v.trim()).filter(v=>v!==""&&!h.keywords.includes(v));g.length>0&&f(v=>({...v,keywords:[...v.keywords,...g],keywordInput:""}))}},r=a=>{f(g=>({...g,focusKeywordInput:a.target.value}))},j=()=>{const a=h.focusKeywordInput;if(a.trim()!==""){const g=a.split(",").map(v=>v.trim()).filter(v=>v!==""&&!h.focusKeywords.includes(v));if(g.length>0){const v=[...h.focusKeywords,...g].slice(0,3);f(c=>({...c,focusKeywords:v,focusKeywordInput:""}))}}},G=(a,g)=>{const v=[...h[g]];v.splice(a,1),f(c=>({...c,[g]:v}))},_=(a,g)=>{a.key==="Enter"&&(a.preventDefault(),g==="focusKeywords"?j():C())},U=a=>{w(g=>({...g,tone:a})),E(g=>({...g,tone:!1}))},P=async()=>{if(!M.trim()||h.keywords.length===0){K.error("Please enter a topic and at least one keyword before generating titles.");return}u(!0);try{const a={keywords:h.keywords,focusKeywords:h.focusKeywords,topic:M,template:t.selectedTemplate.name,...I&&{oldTitles:T}},g=await n(ze(a)).unwrap();b(g),D(!0)}catch(a){console.error("Error generating titles:",a),K.error("Failed to generate titles. Please try again.")}finally{u(!1)}},d=()=>{var v;const a={title:!((v=t==null?void 0:t.title)!=null&&v.trim()),topic:!(M!=null&&M.trim()),tone:!(t!=null&&t.tone),focusKeyword:h.focusKeywords.length===0,keyword:h.keywords.length===0};if(E(a),Object.values(a).some(c=>c)){K.error("Please fill in all required fields.");return}const g={...t,topic:M,focusKeywords:h.focusKeywords,keywords:h.keywords};w(g),R()};return y.useEffect(()=>{t&&!t.isCheckedGeneratedImages&&w(a=>({...a,isCheckedGeneratedImages:!0,isUnsplashActive:!0}))},[t,w]),e.jsx(ae,{title:"Step 2: Crucial Details",open:!0,onCancel:S,footer:[e.jsx("button",{onClick:N,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Back"},"back"),e.jsx("button",{onClick:d,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Topic ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:`w-full px-3 py-2 bg-gray-50 border ${i.topic?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., Tech Blog",value:M,onChange:a=>{A(a.target.value),E(g=>({...g,topic:!1}))}})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Focus Keywords (up to 3)",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:h.focusKeywordInput,onChange:r,onKeyDown:a=>_(a,"focusKeywords"),className:`flex-1 px-3 py-2 bg-gray-50 border ${i.focusKeyword?"border-red-500":"border-gray-200"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 text-sm`,placeholder:"Enter focus keywords, separated by commas"}),e.jsx("button",{onClick:j,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 text-sm flex items-center",children:e.jsx(oe,{size:16})})]}),h.focusKeywords.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:h.focusKeywords.map((a,g)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[a,e.jsx("button",{onClick:()=>G(g,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},g))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Keywords",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:h.keywordInput,onChange:o,onKeyDown:a=>_(a,"keywords"),className:`flex-1 px-3 py-2 bg-gray-50 border ${i.keyword?"border-red-500":"border-gray-200"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 text-sm`,placeholder:"Enter keywords, separated by commas"}),e.jsx("button",{onClick:C,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 text-sm flex items-center",children:e.jsx(oe,{size:16})})]}),h.keywords.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[(z?h.keywords:h.keywords.slice(0,F)).map((a,g)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[a,e.jsx("button",{onClick:()=>G(g,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},`${a}-${g}`)),h.keywords.length>F&&e.jsx("button",{type:"button",onClick:()=>k(!z),className:"text-xs text-blue-600 underline ml-2 self-center",children:z?"Show less":`+${h.keywords.length-F} more`})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:`flex-1 px-3 py-2 bg-gray-50 border ${i.title?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., How to Create a Tech Blog",value:(t==null?void 0:t.title)||"",onChange:a=>{w(g=>({...g,title:a.target.value})),E(g=>({...g,title:!1}))}}),e.jsx("button",{onClick:P,disabled:L,className:`px-4 py-2 bg-gradient-to-r from-[#1B6FC9] to-[#4C9FE8] text-white rounded-lg flex items-center ${L?"opacity-50 cursor-not-allowed":"hover:from-[#1B6FC9]/90 hover:to-[#4C9FE8]/90"}`,children:L?e.jsx(Ze,{size:"small"}):I?e.jsxs(e.Fragment,{children:[e.jsx(Je,{size:16,className:"mr-2"}),"Generate More"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ee,{size:16,className:"mr-2"}),"Generate Titles"]})})]}),T.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2 items-center",children:T.map((a,g)=>{const v=t.title===a;return e.jsx("div",{className:"relative group",children:e.jsx("button",{type:"button",onClick:()=>{w(c=>({...c,title:a})),E(c=>({...c,title:!1}))},className:`px-3 py-1 rounded-full text-sm border transition w-full truncate
                          ${v?"bg-[#1B6FC9] text-white border-[#1B6FC9]":"bg-gray-100 text-gray-700 border-gray-300 opacity-60 hover:opacity-100 hover:bg-gray-200"}`,children:a})},g)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(ie,{className:"w-full",value:(t==null?void 0:t.tone)||void 0,onChange:U,placeholder:"Select tone",status:i.tone?"error":"",children:[e.jsx(se,{value:"professional",children:"Professional"}),e.jsx(se,{value:"casual",children:"Casual"}),e.jsx(se,{value:"friendly",children:"Friendly"}),e.jsx(se,{value:"formal",children:"Formal"}),e.jsx(se,{value:"conversational",children:"Conversational"}),e.jsx(se,{value:"witty",children:"Witty"}),e.jsx(se,{value:"informative",children:"Informative"}),e.jsx(se,{value:"inspirational",children:"Inspirational"}),e.jsx(se,{value:"persuasive",children:"Persuasive"}),e.jsx(se,{value:"empathetic",children:"Empathetic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Choose length of Blog"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:(t==null?void 0:t.userDefinedLength)??1e3,className:`w-full h-1 rounded-lg appearance-none cursor-pointer \r
                    [&::-webkit-slider-thumb]:appearance-none \r
                    [&::-webkit-slider-thumb]:h-4 \r
                    [&::-webkit-slider-thumb]:w-4 \r
                    [&::-webkit-slider-thumb]:rounded-full \r
                    [&::-webkit-slider-thumb]:bg-[#1B6FC9]`,onChange:a=>{w(g=>({...g,userDefinedLength:parseInt(a.target.value,10)}))},style:{background:`linear-gradient(to right, #1B6FC9 ${(((t==null?void 0:t.userDefinedLength)??1e3)-500)/45}%, #e5e7eb 0%)`}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[(t==null?void 0:t.userDefinedLength)??1e3," words"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add Brief Section (Optional)"}),e.jsx("textarea",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]",rows:3,placeholder:"Enter brief section",value:(t==null?void 0:t.brief)||"",onChange:a=>w(g=>({...g,brief:a.target.value}))}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-xs text-gray-500",children:[((s=t==null?void 0:t.brief)==null?void 0:s.length)||0,"/2000 characters"]})})]})]})})})},$s=y.memo(Ts),Ds=({handlePrevious:R,handleClose:S,data:N,setData:t,handleSubmit:w,navigate:M})=>{var u,o,C;const A=ne(),{user:I}=te(r=>r.auth),{brands:D,loading:F,error:z}=te(r=>r.brand),k=((u=I==null?void 0:I.subscription)==null?void 0:u.plan)||(I==null?void 0:I.plan)||"free",x=((o=I==null?void 0:I.usage)==null?void 0:o.aiImages)>=((C=I==null?void 0:I.usageLimits)==null?void 0:C.aiImages),[n,h]=y.useState({isCheckedQuick:N.isCheckedQuick||!1,isCheckedBrand:N.isCheckedBrand||!1,aiModel:N.aiModel||"gemini",brandId:N.brandId||null,isFAQEnabled:N.isFAQEnabled||!1,imageSource:N.imageSource||"unsplash",isCheckedGeneratedImages:N.isCheckedGeneratedImages||!1,referenceLinks:N.referenceLinks||[],includeInterlinks:N.includeInterlinks||!1,addOutBoundLinks:N.addOutBoundLinks||!1,addCTA:N.addCTA||!0}),[f,i]=y.useState({newLink:""});y.useEffect(()=>{x&&n.isCheckedGeneratedImages&&(h(r=>({...r,isCheckedGeneratedImages:!1,imageSource:"unsplash"})),t(r=>({...r,isCheckedGeneratedImages:!1,imageSource:"unsplash"})))},[x,n.isCheckedGeneratedImages,t]),y.useEffect(()=>{n.isCheckedBrand&&A(Ge())},[n.isCheckedBrand,A]);const E=()=>{const r=f.newLink.trim();if(!r)return;const j=n.referenceLinks.map(P=>P.toLowerCase().trim()),G=P=>{try{return new URL(P),!0}catch{return!1}},_=new Set,U=r.split(",").map(P=>P.trim()).filter(P=>{const d=P.toLowerCase();return!_.has(d)&&G(P)&&!j.includes(d)&&_.add(d)});if(U.length===0){K.error("Please enter valid, non-duplicate URLs separated by commas.");return}h(P=>({...P,referenceLinks:[...P.referenceLinks,...U]})),i(P=>({...P,newLink:""})),K.success("Reference link added!")},T=r=>{h(j=>({...j,referenceLinks:j.referenceLinks.filter((G,_)=>_!==r)}))},b=()=>{const r={...N,...n};w(r)},L=r=>{if(r==="ai"&&k==="free"){ue({featureName:"AI-Generated Images",navigate:M});return}h(j=>({...j,imageSource:r,isCheckedGeneratedImages:r==="ai"})),t(j=>({...j,imageSource:r,isCheckedGeneratedImages:r==="ai",isUnsplashActive:r==="unsplash"}))};return e.jsx(ae,{title:"Final Step: Content Enhancements",open:!0,onCancel:S,footer:[e.jsx("button",{onClick:R,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Previous"},"previous"),e.jsx("button",{onClick:b,className:"px-6 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md ml-3",children:"Submit"},"next")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select AI Model"}),e.jsx("div",{className:"flex gap-6 flex-wrap",children:[{id:"gemini",label:"Gemini",logo:"/Images/gemini.png",restricted:!1},{id:"chatgpt",label:"ChatGPT",logo:"/Images/chatgpt.png"},{id:"claude",label:"Claude",logo:"/Images/claude.png"}].map(r=>e.jsxs("label",{htmlFor:r.id,className:`relative border rounded-lg px-4 py-3 flex items-center gap-3 cursor-pointer transition-all duration-150 ${n.aiModel===r.id?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[200px]`,onClick:j=>{r.restricted&&(j.preventDefault(),ue({featureName:r.label,navigate:M}))},children:[e.jsx("input",{type:"radio",id:r.id,name:"aiModel",value:r.id,checked:n.aiModel===r.id,onChange:j=>{r.restricted||(h(G=>({...G,aiModel:j.target.value})),t(G=>({...G,aiModel:j.target.value})))},className:"hidden"}),e.jsx("img",{src:r.logo,alt:r.label,className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:r.label}),r.restricted&&e.jsx(Be,{className:"w-4 h-4 text-yellow-500 absolute top-2 right-2"})]},r.id))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Add Image"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{htmlFor:"add-image-toggle",className:`relative inline-block w-12 h-6 ${x?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("input",{type:"checkbox",id:"add-image-toggle",className:"sr-only peer",checked:n.isCheckedGeneratedImages,disabled:x,onChange:r=>{if(x){ue({featureName:"AI-Generated Images",navigate:M});return}const j=r.target.checked;h(G=>({...G,isCheckedGeneratedImages:j,imageSource:j?G.imageSource:"unsplash"})),t(G=>({...G,isCheckedGeneratedImages:j,imageSource:j?G.imageSource:"unsplash",isUnsplashActive:j?G.isUnsplashActive:!0}))}}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${n.isCheckedGeneratedImages&&!x?"bg-[#1B6FC9]":"bg-gray-300"}`}),e.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 ${n.isCheckedGeneratedImages&&!x?"translate-x-6":""}`})]}),x&&e.jsx(de,{title:"You've reached your AI image generation limit. It'll reset in the next billing cycle.",overlayInnerStyle:{backgroundColor:"#FEF9C3",border:"1px solid #FACC15",color:"#78350F"},children:e.jsx(Pe,{className:"text-yellow-400 ml-4",size:15})})]})]}),n.isCheckedGeneratedImages&&!x&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Image Source"}),e.jsxs("div",{className:"flex gap-6 flex-wrap",children:[e.jsxs("label",{htmlFor:"unsplash",className:`border rounded-lg px-4 py-3 flex items-center gap-3 justify-center cursor-pointer transition-all duration-150 ${n.imageSource==="unsplash"?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[200px]`,children:[e.jsx("input",{type:"radio",id:"unsplash",name:"imageSource",checked:n.imageSource==="unsplash",onChange:()=>L("unsplash"),className:"hidden"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Stock Images"})]}),e.jsxs("label",{htmlFor:"ai-generated",className:`border rounded-lg px-4 py-3 flex items-center gap-3 justify-center cursor-pointer transition-all duration-150 ${n.imageSource==="ai"?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[200px] relative`,onClick:r=>{k==="free"&&(r.preventDefault(),ue({featureName:"AI-Generated Images",navigate:M}))},children:[e.jsx("input",{type:"radio",id:"ai-generated",name:"imageSource",checked:n.imageSource==="ai",onChange:()=>L("ai"),className:"hidden"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:"AI-Generated Images"}),k==="free"&&e.jsx(Be,{className:"w-4 h-4 text-yellow-500 absolute top-2 right-2"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add a Quick Summary"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.isCheckedQuick,onChange:()=>{h(r=>({...r,isCheckedQuick:!r.isCheckedQuick})),t(r=>({...r,isCheckedQuick:!r.isCheckedQuick}))},className:"sr-only peer","aria-checked":n.isCheckedQuick}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Write with Brand Voice"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.isCheckedBrand,onChange:()=>{h(r=>({...r,isCheckedBrand:!r.isCheckedBrand,brandId:r.isCheckedBrand?null:r.brandId})),t(r=>({...r,isCheckedBrand:!r.isCheckedBrand,brandId:r.isCheckedBrand?null:r.brandId}))},className:"sr-only peer","aria-checked":n.isCheckedBrand}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),n.isCheckedBrand&&e.jsx("div",{className:"mt-3 p-4 rounded-md border border-gray-200 bg-gray-50",children:F?e.jsx("div",{className:"text-gray-500 text-sm",children:"Loading brand voices..."}):z?e.jsx("div",{className:"text-red-500 text-sm font-medium",children:z}):(D==null?void 0:D.length)>0?e.jsx("div",{className:"max-h-48 overflow-y-auto pr-1",children:e.jsx("div",{className:"grid gap-3",children:D.map(r=>e.jsxs("label",{className:`flex items-start gap-2 p-3 rounded-md cursor-pointer ${n.brandId===r._id?"bg-blue-100 border-blue-300":"bg-white border border-gray-200"}`,children:[e.jsx("input",{type:"radio",name:"selectedBrandVoice",value:r._id,checked:n.brandId===r._id,onChange:()=>{h(j=>({...j,brandId:r._id})),t(j=>({...j,brandId:r._id}))},className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-700",children:r.nameOfVoice}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.describeBrand})]})]},r._id))})}):e.jsx("div",{className:"text-gray-500 text-sm italic",children:"No brand voices available. Create one to get started."})}),n.isCheckedBrand&&e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add CTA at the End"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.addCTA,onChange:()=>{setNewJob(r=>({...r,blogs:{...r.blogs,addCTA:!r.formData.addCTA}}))},className:"sr-only peer","aria-checked":n.addCTA}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Add FAQ"}),e.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Generate frequently asked questions for your blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.isFAQEnabled,onChange:()=>{h(r=>({...r,isFAQEnabled:!r.isFAQEnabled})),t(r=>({...r,isFAQEnabled:!r.isFAQEnabled}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Interlinks",e.jsx("p",{className:"text-xs text-gray-500",children:"Auto-link to other blogs within your content."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer self-end",children:[e.jsx("input",{type:"checkbox",checked:n.includeInterlinks,onChange:r=>{h(j=>({...j,includeInterlinks:r.target.checked})),t(j=>({...j,includeInterlinks:r.target.checked}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Add Competitive Research",e.jsx("p",{className:"text-xs text-gray-500",children:"Analyze similar blogs to find strategic insights."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer self-end",children:[e.jsx("input",{type:"checkbox",checked:n.isCompetitiveResearchEnabled,onChange:()=>{h(r=>({...r,isCompetitiveResearchEnabled:!r.isCompetitiveResearchEnabled})),t(r=>({...r,isCompetitiveResearchEnabled:!r.isCompetitiveResearchEnabled}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),n.isCompetitiveResearchEnabled&&e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Show Outbound Links",e.jsx("p",{className:"text-xs text-gray-500",children:"Display reference links from competitor analysis."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer self-end",children:[e.jsx("input",{type:"checkbox",checked:n.addOutBoundLinks,onChange:()=>{h(r=>({...r,addOutBoundLinks:!r.addOutBoundLinks})),t(r=>({...r,addOutBoundLinks:!r.addOutBoundLinks}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Reference Links (Helps make blog more compelling)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600",placeholder:"https://example.com",onKeyDown:r=>{r.key==="Enter"&&(r.preventDefault(),E())},value:f.newLink,onChange:r=>i(j=>({...j,newLink:r.target.value}))}),e.jsx("button",{onClick:E,className:"px-3 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md",children:e.jsx(oe,{className:"w-4 h-4"})})]}),n.referenceLinks.length>0&&e.jsx("div",{className:"mt-2 space-y-2",children:n.referenceLinks.map((r,j)=>e.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-50 rounded-md",children:[e.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 truncate",children:r}),e.jsx("button",{onClick:()=>T(j),className:"text-gray-500 hover:text-red-500",children:e.jsx(le,{className:"w-4 h-4"})})]},j))})]})]})})})},Os=[{id:1,imageUrl:"./Images/createnew.png",title:"Create New Blog",icon:e.jsx(Xe,{className:"w-6 h-6"}),content:"Generate blogs, email, product, description, etc.",hoverGradient:"from-blue-600 to-blue-700"},{id:"A",imageUrl:"./Images/quickblog.png",title:"Generate Quick Blog",icon:e.jsx(es,{className:"w-6 h-6"}),content:"With few inputs you are good to go to create Awesome blogs!",hoverGradient:"from-purple-600 to-purple-700"},{id:"B",imageUrl:"./Images/createmultipleblog.png",title:"Create Multiple Blogs",icon:e.jsx(Ss,{className:"w-6 h-6"}),content:"Generate multiple blogs using a variety of customizable templates.",hoverGradient:"from-emerald-600 to-emerald-700"}],zs=[{id:1,title:"Keyword Research",content:"Explore keywords, check stats, and power your blogs & jobs.",icon:e.jsx(ss,{className:"w-8 h-8"}),color:"text-blue-600",bgColor:"bg-blue-50",hoverBg:"hover:bg-blue-100"},{id:3,title:"Performance Monitoring",content:"Monitor your blog's SEO, keywords, and competitor data easily.",icon:e.jsx(ws,{className:"w-8 h-8"}),color:"text-orange-600",bgColor:"bg-orange-50",hoverBg:"hover:bg-orange-100"},{id:4,title:"Competitor Analysis",content:"Analyze your competitors' content and strategies.",icon:e.jsx(ts,{className:"w-8 h-8"}),color:"text-purple-600",bgColor:"bg-purple-50",hoverBg:"hover:bg-purple-100"},{id:5,title:"Analytics",content:"Visualize performance, unlock insights, and stay ahead",icon:e.jsx(Ns,{className:"w-8 h-8"}),color:"text-green-600",bgColor:"bg-green-50",hoverBg:"hover:bg-green-100",navigate:"/analytics"}],Gs=({title:R,content:S,id:N,functions:t,icon:w,gradient:M})=>{var k,x;const A=te(n=>n.auth.user),I=(A==null?void 0:A.plan)??((k=A==null?void 0:A.subscription)==null?void 0:k.plan),{handlePopup:D}=xe(),F=()=>{D({title:"Upgrade Required",description:"Bulk blog generation is only available for Pro and Enterprise users.",confirmText:"Buy Now",cancelText:"Cancel",icon:e.jsx(we,{style:{fontSize:50,color:"#a47dab"}}),onConfirm:()=>navigate("/pricing")})},z=()=>{var n,h,f,i,E;if(N==="A")(n=t.showQuickBlogModal)==null||n.call(t);else if(N===1)(h=t.showModal)==null||h.call(t);else if(N==="B"){if(["free","basic"].includes(I==null?void 0:I.toLowerCase())){F();return}(f=t.showMultiStepModal)==null||f.call(t)}else N===4?(i=t.showCompetitiveAnalysis)==null||i.call(t):N===3&&((E=t.showPerformanceMonitoring)==null||E.call(t))};return e.jsxs("div",{onClick:z,className:"group relative bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-xl hover:scale-[1.02] transition-all duration-300 cursor-pointer overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-5 transition-opacity duration-300 from-blue-500 to-purple-500"}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-r ${M} text-white mb-6 transition-transform duration-300`,children:w}),["free","basic"].includes((x=I==null?void 0:I.toLowerCase)==null?void 0:x.call(I))&&N==="B"&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(we,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:R}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:S}),e.jsxs("div",{className:"flex items-center text-blue-600 font-medium text-sm group-hover:gap-2 transition-all",children:["Get Started",e.jsx(Te,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})},_s=({icon:R,title:S,content:N,id:t,functions:w,bgColor:M,hoverBg:A,color:I,navigate:D})=>{var f,i;const F=he(),z=te(E=>E.auth.user),k=(z==null?void 0:z.plan)??((f=z==null?void 0:z.subscription)==null?void 0:f.plan),{handlePopup:x}=xe(),n=()=>{x({title:"Upgrade Required",description:"Competitor Analysis is only available for Pro and Enterprise users.",confirmText:"Buy Now",cancelText:"Cancel",onConfirm:()=>F("/pricing")})},h=()=>{if(D){F(D);return}if(t===4&&(w!=null&&w.showCompetitiveAnalysis)){if(["free","basic"].includes(k==null?void 0:k.toLowerCase())){n();return}w.showCompetitiveAnalysis()}else t===3&&(w!=null&&w.showPerformanceMonitoring)?w.showPerformanceMonitoring():t===2&&(w!=null&&w.showSeoAnalysis)?w.showSeoAnalysis():t===1&&(w!=null&&w.showKeywordResearch)&&w.showKeywordResearch()};return e.jsxs("div",{onClick:h,className:`group p-6 rounded-xl ${M} ${A} border border-transparent hover:border-gray-200 hover:shadow-md transition-all duration-300 cursor-pointer`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(O.div,{whileHover:{scale:1.15,rotate:8},transition:{type:"spring",stiffness:300},className:`inline-flex items-center justify-center w-12 h-12 rounded-xl bg-white ${I} mb-4 group-hover:scale-110 transition-transform duration-300 shadow-sm`,children:R}),["free","basic"].includes((i=k==null?void 0:k.toLowerCase)==null?void 0:i.call(k))&&t===4&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(we,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors text-[18px]",children:S}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:N})]})},Rs=({title:R,content:S,tags:N,item:t,time:w})=>{var F,z,k,x,n;const M=he(),A=(n=(x=(k=(z=(F=S==null?void 0:S.replace(/^#+\s*/gm,""))==null?void 0:F.replace(/#[^\s#]+/g,""))==null?void 0:z.replace(/[*_~`>\\=|-]+/g,""))==null?void 0:k.replace(/\n+/g," "))==null?void 0:x.replace(/\s+/g," "))==null?void 0:n.trim(),I=A&&A.length>40?`${A.substring(0,80)}...`:A||"",D=()=>{t&&t._id&&M(`/toolbox/${t._id}`,{state:{blog:t}})};return e.jsx("div",{onClick:D,className:"group p-6 rounded-xl border border-gray-200 hover:border-blue-200 hover:shadow-md transition-all duration-300 cursor-pointer mb-4",children:e.jsxs("div",{className:"flex lg:items-start lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h3",{className:"font-bold capitalize text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-1",children:R}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${t!=null&&t.isManuallyEdited?"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"}`,children:t!=null&&t.isManuallyEdited?"Manually Generated":(t==null?void 0:t.aiModel)||"Gemini"}),e.jsx("span",{className:`px-2 py-1 capitalize text-xs font-medium rounded-full ${(t==null?void 0:t.status)==="complete"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:(t==null?void 0:t.status)||""})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:I}),e.jsx("div",{className:"flex flex-wrap gap-2",children:N==null?void 0:N.map((h,f)=>e.jsx("span",{className:"px-3 py-1 capitalize bg-gray-100 text-gray-700 text-xs rounded-full hover:bg-gray-200 transition-colors",children:h},f))})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(as,{className:"w-4 h-4"}),e.jsx("span",{children:"View"})]}),e.jsx("span",{children:rs(w).fromNow()}),e.jsx(Te,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})})},Ws=({closeFnc:R})=>{var H,Y,J;const S=ne(),N=he(),{handlePopup:t}=xe(),w=te(l=>l.auth.user),M=((H=w==null?void 0:w.subscription)==null?void 0:H.plan)||(w==null?void 0:w.plan),[A,I]=y.useState(!1),D=((Y=w==null?void 0:w.usage)==null?void 0:Y.aiImages)>=((J=w==null?void 0:w.usageLimits)==null?void 0:J.aiImages),[F,z]=y.useState(0),[k,x]=y.useState(null),{Option:n}=ie,[h,f]=y.useState({topics:!1,keywords:!1,tone:!1}),[i,E]=y.useState({templates:[],topics:[],keywords:[],topicInput:"",keywordInput:"",performKeywordResearch:!0,tone:"",numberOfCounts:5,userDefinedLength:1e3,imageSource:"unsplash",useBrandVoice:!0,useCompetitors:!1,includeInterlinks:!0,includeMetaHeadlines:!0,includeFaqs:!0,numberOfBlogs:1,wordpressPostStatus:!1,postFrequency:10*60,selectedDates:null,aiModel:"gemini",includeTableOfContents:!1,isCheckedGeneratedImages:!0,addOutBoundLinks:!1});y.useEffect(()=>{D&&i.isCheckedGeneratedImages&&E(l=>({...l,isCheckedGeneratedImages:!1,imageSource:"unsplash"}))},[D,i.isCheckedGeneratedImages]);const T=()=>{if(F===0&&i.templates.length===0){K.error("Please add at least one template.");return}if(F===1){const l={topics:i.topics.length===0&&i.topicInput.trim()==="",keywords:!i.performKeywordResearch&&i.keywords.length===0&&i.keywordInput.trim()==="",tone:!i.tone};if(f(l),Object.values(l).some(m=>m)){K.error("Please fill all required fields in this step.");return}}z(l=>l+1)},b=()=>{z(l=>l>0?l-1:l)},L=()=>{R()},u=()=>{const l={topics:i.topics.length===0&&i.topicInput.trim()==="",keywords:!i.performKeywordResearch&&i.keywords.length===0&&i.keywordInput.trim()==="",tone:!i.tone};if(f(l),Object.values(l).some(V=>V)){K.error("Please fill all required fields.");return}if(i.numberOfBlogs<1||i.numberOfBlogs>10){K.error("Number of blogs must be between 1 and 10.");return}const m=i.aiModel||"gemini",B=ke("blog.single",m),p=i.numberOfBlogs*B;t({title:"Bulk Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Estimated cost for ",e.jsx("b",{children:i.numberOfBlogs})," blog",i.numberOfBlogs>1?"s":"",": ",e.jsxs("b",{children:[p," credits"]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue?"})]}),onConfirm:()=>{S(_e({blogData:i,navigate:N})),L()}})},o=l=>{const m=pe[l].name;i.templates.includes(m)?E(p=>({...p,templates:p.templates.filter(V=>V!==m)})):i.templates.length<3?E(p=>({...p,templates:[...p.templates,m]})):K.error("You can select a maximum of 3 templates.")},C=l=>{const{name:m,value:B,type:p}=l.target,V=p==="number"?parseInt(B,10)||0:B;E({...i,[m]:V})},r=async l=>{const{name:m,checked:B}=l.target;if(m==="wordpressPostStatus"&&B)try{if(!(w!=null&&w.wordpressLink)){K.error("Please connect your WordPress account in your profile before enabling automatic posting."),N("/profile");return}}catch{K.error("Failed to check profile. Please try again.");return}E({...i,[m]:B}),m==="performKeywordResearch"&&f(p=>({...p,keywords:!1}))},j=l=>{E(m=>({...m,topicInput:l.target.value})),f(m=>({...m,topics:!1}))},G=l=>{E(m=>({...m,keywordInput:l.target.value})),f(m=>({...m,keywords:!1}))},_=()=>{const l=i.topicInput;if(l.trim()==="")return f(p=>({...p,topics:!0})),K.error("Please enter a topic."),!1;const m=i.topics.map(p=>p.toLowerCase().trim()),B=l.split(",").map(p=>p.trim()).filter(p=>p!==""&&!m.includes(p.toLowerCase()));return B.length===0?(f(p=>({...p,topics:!0})),K.error("Please enter valid, non-duplicate topics separated by commas."),E(p=>({...p,topicInput:""})),!1):(E(p=>({...p,topics:[...p.topics,...B],topicInput:""})),f(p=>({...p,topics:!1})),!0)},U=l=>{E(m=>({...m,topics:m.topics.filter((B,p)=>p!==l)}))},P=()=>{const l=i.keywordInput;if(l.trim()==="")return f(p=>({...p,keywords:!0})),K.error("Please enter a keyword."),!1;const m=i.keywords.map(p=>p.toLowerCase().trim()),B=l.split(",").map(p=>p.trim()).filter(p=>p!==""&&!m.includes(p.toLowerCase()));return B.length===0?(f(p=>({...p,keywords:!0})),K.error("Please enter valid, non-duplicate keywords separated by commas."),E(p=>({...p,keywordInput:""})),!1):(E(p=>({...p,keywords:[...p.keywords,...B],keywordInput:""})),f(p=>({...p,keywords:!1})),!0)},d=l=>{E(m=>({...m,keywords:m.keywords.filter((B,p)=>p!==l)}))},s=l=>{if(l.key==="Enter"){l.preventDefault();const m=_();!i.performKeywordResearch&&m&&P()}},a=l=>{E(m=>({...m,imageSource:l}))},g=l=>{var V;const m=(V=l.target.files)==null?void 0:V[0];if(!m)return;if(!m.name.toLowerCase().endsWith(".csv")){K.error("Invalid file type. Please upload a .csv file."),l.target.value=null;return}const B=20*1024;if(m.size>B){K.error("File size exceeds 20KB limit. Please upload a smaller file."),l.target.value=null;return}const p=new FileReader;p.onload=re=>{var q;const ee=(q=re.target)==null?void 0:q.result;if(!ee)return;const W=ee.trim().split(/\r?\n/).slice(1).map(Z=>{const Se=Z.split(",");return Se.length>=2?Se[1].trim():null}).filter(Boolean),Q=i.topics.map(Z=>Z.toLowerCase().trim()),X=W.filter(Z=>!Q.includes(Z.toLowerCase().trim()));if(X.length===0){K.error("No new topics found in the CSV.");return}E(Z=>({...Z,topics:[...Z.topics,...X]})),f(Z=>({...Z,topics:!1})),X.length>8&&(x(X.length),setTimeout(()=>x(null),5e3))},p.readAsText(m),l.target.value=null},v=l=>{var p;const m=(p=l.target.files)==null?void 0:p[0];if(!m)return;const B=new FileReader;B.onload=V=>{var X;const re=(X=V.target)==null?void 0:X.result;if(!re)return;const $=re.trim().split(/\r?\n/).slice(1).map(q=>{const Z=q.split(",");return Z.length>=2?Z[1].trim():null}).filter(Boolean),W=i.keywords.map(q=>q.toLowerCase().trim()),Q=$.filter(q=>!W.includes(q.toLowerCase().trim()));if(Q.length===0){K.error("No new keywords found in the CSV.");return}E(q=>({...q,keywords:[...q.keywords,...Q]})),f(q=>({...q,keywords:!1})),Q.length>8&&(x(Q.length),setTimeout(()=>x(null),5e3))},B.readAsText(m),l.target.value=null},c=["Select Template's","Add Details","Blog Options"];return e.jsx(ae,{title:`Step ${F+1} : ${c[F]}`,open:!0,onCancel:L,footer:e.jsxs("div",{className:"flex justify-end gap-3",children:[F>0&&e.jsx("button",{onClick:b,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Previous"}),e.jsx("button",{onClick:F===2?u:T,className:"px-4 py-2 text-sm font-medium text-white bg-[#1B6FC9] rounded-md hover:bg-[#1B6FC9]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:F===2?"Generate Blogs":"Next"})]}),width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"p-4",children:[F===0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select up to 3 templates for the types of blogs you want to generate."}),e.jsx(Ne,{children:pe.map((l,m)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${i.templates.includes(l.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>o(m),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:l.imgSrc||"/placeholder.svg",alt:l.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:l.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:l.description})]})]})},l.name))})]}),F===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Topics ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(de,{title:"Upload a .csv file in the format: `Keyword` as header",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(Ae,{size:16,className:"text-blue-500"})})})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the main topics for your blogs."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:i.topicInput,onChange:j,onKeyDown:s,className:`flex-1 px-3 py-2 border ${h.topics?"border-red-500":"border-gray-300"} rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 bg-gray-50`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:_,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(Fe,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:g,hidden:!0})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[(A?i.topics:i.topics.slice().reverse().slice(0,18)).map((l,m)=>{const B=A?m:i.topics.length-1-m;return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[l,e.jsx("button",{type:"button",onClick:()=>U(B),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(le,{className:"w-3 h-3"})})]},`${l}-${m}`)}),(i.topics.length>18||k)&&!A&&e.jsxs("span",{onClick:()=>I(!0),className:"cursor-pointer text-xs font-medium text-blue-600 self-center",children:[i.topics.length>18&&`+${i.topics.length-18} more `,k&&`(+${k} uploaded)`]}),A&&e.jsx("span",{onClick:()=>I(!1),className:"cursor-pointer text-xs font-medium text-red-600 self-center",children:"Show less"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Perform Keyword Research?",e.jsx("p",{className:"text-xs text-gray-500",children:"Allow AI to find relevant keywords for the topics."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"performKeywordResearch",checked:i.performKeywordResearch,onChange:r,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),!i.performKeywordResearch&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(de,{title:"Upload a .csv file in the format: `Keyword` as header",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(Ae,{size:16,className:"text-blue-500"})})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:i.keywordInput,onChange:G,onKeyDown:s,className:`flex-1 px-3 py-2 border ${h.keywords?"border-red-500":"border-gray-300"} rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 bg-gray-50`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:P,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(Fe,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:v,hidden:!0})]})]}),h.keywords&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Please add at least one keyword"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[i.keywords.slice().reverse().slice(0,18).map((l,m)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[l,e.jsx("button",{type:"button",onClick:()=>d(i.keywords.length-1-m),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(le,{className:"w-3 h-3"})})]},`${l}-${m}`)),(i.keywords.length>18||k)&&e.jsxs("span",{className:"text-xs font-medium text-blue-600 self-center",children:[i.keywords.length>18&&`+${i.keywords.length-18} more `,k&&`(+${k} uploaded)`]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"tone",className:"block text-sm font-medium text-gray-700 mb-1",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(ie,{className:"w-full",value:i.tone,onChange:l=>{E(m=>({...m,tone:l})),f(m=>({...m,tone:!1}))},placeholder:"Select tone",status:h.tone?"error":"",children:[e.jsx(n,{value:"",children:"Select Tone"}),e.jsx(n,{value:"professional",children:"Professional"}),e.jsx(n,{value:"casual",children:"Casual"}),e.jsx(n,{value:"friendly",children:"Friendly"}),e.jsx(n,{value:"formal",children:"Formal"}),e.jsx(n,{value:"conversational",children:"Conversational"}),e.jsx(n,{value:"witty",children:"Witty"}),e.jsx(n,{value:"informative",children:"Informative"}),e.jsx(n,{value:"inspirational",children:"Inspirational"}),e.jsx(n,{value:"persuasive",children:"Persuasive"}),e.jsx(n,{value:"empathetic",children:"Empathetic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approx. Blog Length (Words)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:i.userDefinedLength,className:"w-full h-1 rounded-lg appearance-none cursor-pointer bg-gradient-to-r from-[#1B6FC9] to-gray-100 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${(i.userDefinedLength-500)/4500*100}%, #E5E7EB ${(i.userDefinedLength-500)/4500*100}%)`},onChange:l=>{E(m=>({...m,userDefinedLength:parseInt(l.target.value,10)}))}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[i.userDefinedLength," words"]})]})]})]})]}),F===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select AI Model"}),e.jsx("div",{className:"flex gap-4 flex-wrap",children:[{id:"gemini",label:"Gemini",logo:"/Images/gemini.png",restricted:!1},{id:"chatgpt",label:"ChatGPT",logo:"/Images/chatgpt.png",restricted:M==="free"},{id:"claude",label:"Claude",logo:"/Images/claude.png",restricted:M==="free"||M==="basic"}].map(l=>e.jsxs("label",{htmlFor:l.id,className:`border rounded-lg px-4 py-3 flex items-center gap-3 cursor-pointer transition-all duration-150 ${i.aiModel===l.id?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[220px]`,children:[e.jsx("input",{type:"radio",id:l.id,name:"aiModel",value:l.id,checked:i.aiModel===l.id,onChange:m=>{E(B=>({...B,aiModel:m.target.value}))},className:"hidden"}),e.jsx("img",{src:l.logo,alt:l.label,className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:l.label})]},l.id))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Add Image"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{htmlFor:"add-image-toggle",className:`relative inline-block w-12 h-6 ${D?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("input",{type:"checkbox",id:"add-image-toggle",className:"sr-only peer",checked:i.isCheckedGeneratedImages,disabled:D,onChange:l=>{if(D){openUpgradePopup({featureName:"AI-Generated Images",navigate:N});return}const m=l.target.checked;E(B=>({...B,isCheckedGeneratedImages:m,imageSource:m?B.imageSource:"unsplash"}))}}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${i.isCheckedGeneratedImages&&!D?"bg-[#1B6FC9]":"bg-gray-300"}`}),e.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 ${i.isCheckedGeneratedImages&&!D?"translate-x-6":""}`})]}),D&&e.jsx(de,{title:"You've reached your AI image generation limit. It'll reset in the next billing cycle.",overlayInnerStyle:{backgroundColor:"#FEF9C3",border:"1px solid #FACC15",color:"#78350F"},children:e.jsx(Pe,{className:"text-yellow-400 ml-4",size:15})})]})]}),i.isCheckedGeneratedImages&&!D&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Image Source"}),e.jsx("div",{className:"flex gap-4 flex-wrap",children:[{id:"unsplash",label:"Stock Images",value:"unsplash",restricted:!1},{id:"ai",label:"AI Generated",value:"ai",restricted:M==="free"}].map(l=>e.jsxs("label",{htmlFor:l.id,className:`border rounded-lg px-4 py-3 flex items-center gap-3 justify-center cursor-pointer transition-all duration-150 ${i.imageSource===l.value?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[220px]`,children:[e.jsx("input",{type:"radio",id:l.id,name:"imageSource",value:l.value,checked:i.imageSource===l.value,onChange:()=>{a(l.value)},className:"hidden"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:l.label})]},l.id))})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Interlinks",e.jsx("p",{className:"text-xs text-gray-500",children:"Attempt to link between generated blogs if relevant."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeInterlinks",checked:i.includeInterlinks,onChange:r,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include FAQ Section",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate relevant FAQ questions and answers for the blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeFaqs",checked:i.includeFaqs,onChange:r,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Competitive Research",e.jsx("p",{className:"text-xs text-gray-500",children:"Perform competitive research to analyze similar blogs."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"useCompetitors",checked:i.useCompetitors,onChange:r,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),i.useCompetitors&&e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Show Outbound Links",e.jsx("p",{className:"text-xs text-gray-500",children:"Display outbound links found during competitor analysis."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"addOutBoundLinks",checked:i.addOutBoundLinks,onChange:r,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Automatic Posting",e.jsx("p",{className:"text-xs text-gray-500",children:"Automatically post blogs on the selected dates."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"wordpressPostStatus",checked:i.wordpressPostStatus,onChange:r,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),i.wordpressPostStatus&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Table of Contents",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate a table of contents for each blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeTableOfContents",checked:i.includeTableOfContents,onChange:r,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Blogs"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"How many blogs to generate based on the topics provided."}),e.jsx("input",{type:"number",name:"numberOfBlogs",min:"1",max:"10",value:i.numberOfBlogs===0?"":i.numberOfBlogs,onChange:C,onWheel:l=>l.currentTarget.blur(),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 5"})]})})]})]})})},Hs=({closeFnc:R})=>{const[S,N]=y.useState(1),t=()=>N(S+1),w=()=>N(S-1);return e.jsxs("div",{className:"border-8 border-teal-700",children:[e.jsx("input",{type:"checkbox",id:"my-modal",className:"modal-toggle"}),e.jsx("div",{className:"modal",children:e.jsxs("div",{className:"modal-box",children:[S===1&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 1"}),e.jsx("p",{className:"py-4",children:"Content for step 1 goes here."}),e.jsx("div",{className:"modal-action",children:e.jsx("button",{className:"btn border-8 border-teal-700",onClick:t,children:"Next"})})]}),S===2&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 2"}),e.jsx("p",{className:"py-4",children:"Content for step 2 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:w,children:"Previous"}),e.jsx("button",{className:"btn",onClick:t,children:"Next"})]})]}),S===3&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 3"}),e.jsx("p",{className:"py-4",children:"Content for step 3 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:R,children:"Previous"}),e.jsx("label",{htmlFor:"my-modal",className:"btn",children:"Finish"})]})]})]})})]})},Us=({closeFnc:R})=>{const[S,N]=y.useState(0),[t,w]=y.useState(null),[M,A]=y.useState([]),[I,D]=y.useState([]),[F,z]=y.useState(!1),[k,x]=y.useState({template:!1,focusKeywords:!1,keywords:!1,videoLinks:!1,otherLinks:!1}),[n,h]=y.useState({template:null,keywords:[],focusKeywords:[],videoLinkInput:"",otherLinkInput:"",focusKeywordInput:"",keywordInput:""}),f=ne(),i=he(),{handlePopup:E}=xe(),T=()=>{if(S===0&&!n.template){x(d=>({...d,template:!0})),K.error("Please select a template before proceeding.");return}x(d=>({...d,template:!1})),N(S+1)},b=()=>{N(S-1)},L=()=>{R()},u=()=>{const d={template:!n.template,focusKeywords:n.focusKeywords.length===0,keywords:n.keywords.length===0,videoLinks:M.length===0,otherLinks:F&&I.length===0};if(x(d),Object.values(d).some(a=>a)){K.error("Please fill all required fields.");return}if(M.length>3){x(a=>({...a,videoLinks:!0})),K.error("You can only add up to 3 video links.");return}if(I.length>3){x(a=>({...a,otherLinks:!0})),K.error("You can only add up to 3 other links.");return}const s={...n,videoLinks:[...M,...I]};E({title:"Quick Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Quick blog generation costs ",e.jsxs("b",{children:[ke("blog.quick")," credits"]}),"."]}),e.jsx("br",{}),e.jsx("span",{children:"Are you sure you want to proceed?"})]}),onConfirm:()=>{f(Re({blogData:s,navigate:i})),L()}})},o=d=>{w(d),h(s=>({...s,template:pe[d].name})),x(s=>({...s,template:!1}))},C=(d,s)=>{const a=s==="keywords"?"keywordInput":"focusKeywordInput";h(g=>({...g,[a]:d.target.value})),x(g=>({...g,[s]:!1}))},r=d=>{const s=d==="keywords"?"keywordInput":"focusKeywordInput",a=n[s].trim();if(!a){x(c=>({...c,[d]:!0})),K.error("Please enter a keyword.");return}const g=new Set(n[d].map(c=>c.trim().toLowerCase())),v=a.split(",").map(c=>c.trim()).filter(c=>c!==""&&!g.has(c.toLowerCase()));if(v.length===0){x(c=>({...c,[d]:!0})),K.error("Please enter valid, non-duplicate keywords separated by commas.");return}if(d==="focusKeywords"&&n[d].length+v.length>3){x(c=>({...c,[d]:!0})),K.error("You can only add up to 3 focus keywords.");return}h(c=>({...c,[d]:[...c[d],...v],[s]:""})),x(c=>({...c,[d]:!1}))},j=(d,s)=>{const a=[...n[s]];a.splice(d,1),h({...n,[s]:a})},G=(d,s)=>{d.key==="Enter"&&(d.preventDefault(),r(s))},_=d=>{var m;const s=d==="video",a=s?"videoLinkInput":"otherLinkInput",g=s?"videoLinks":"otherLinks",v=(m=n[a])==null?void 0:m.trim(),c=s?M:I,H=s?A:D,Y=3;if(!v){x(B=>({...B,[g]:!0})),K.error(`Please enter at least one ${s?"video":"other"} link.`);return}const J=v.split(",").map(B=>B.trim()).filter(B=>B!==""),l=[];for(let B of J){let p=B;/^https?:\/\//i.test(p)||(p=`https://${p}`);try{const V=new URL(p);if(s&&!["youtube.com","youtu.be","vimeo.com"].some(ee=>V.hostname.includes(ee))){x(ee=>({...ee,videoLinks:!0})),K.error("Please enter a valid video URL (e.g., YouTube, Vimeo).");continue}!M.includes(p)&&!I.includes(p)&&!l.includes(p)&&l.push(p)}catch{x(V=>({...V,[g]:!0})),K.error(`Invalid ${s?"video":"other"} URL: ${B}`)}}if(l.length===0){x(B=>({...B,[g]:!0})),K.error(`No valid, unique ${s?"video":"other"} URLs found.`);return}if(c.length+l.length>Y){x(B=>({...B,[g]:!0})),K.error(`You can only add up to ${Y} ${s?"video":"other"} links.`);return}H([...c,...l]),h(B=>({...B,[a]:""})),x(B=>({...B,[g]:!1}))},U=(d,s)=>{d.key==="Enter"&&(d.preventDefault(),_(s))},P=(d,s)=>{const a=s==="video",g=a?M:I,v=a?A:D,c=[...g];c.splice(d,1),v(c),x(H=>({...H,[a?"videoLinks":"otherLinks"]:!1}))};return e.jsx(ae,{title:"Generate Quick Blog",open:!0,onCancel:L,footer:S===0?[e.jsx("button",{onClick:T,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Next step",children:"Next"},"next")]:[e.jsx("button",{onClick:b,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors","aria-label":"Previous step",children:"Previous"},"previous"),e.jsx("button",{onClick:u,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 transition-colors ml-3","aria-label":"Submit quick blog",children:"Submit"},"submit")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"p-6 space-y-6",children:[S===0&&e.jsxs("div",{className:"p-3",children:[e.jsx(Ne,{children:pe.map((d,s)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${n.template===d.name?"border-gray-300 border-2 rounded-md":""}`,onClick:()=>o(s),role:"button",tabIndex:0,onKeyDown:a=>a.key==="Enter"&&o(s),"aria-label":`Select ${d.name} template`,children:e.jsxs("div",{className:"bg-white rounded-md overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:d.imgSrc||"/placeholder.svg",alt:d.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:d.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:d.description})]})]})},s))}),k.template&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Please select a template."})]}),S===1&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Focus Keywords ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n.focusKeywordInput,onChange:d=>C(d,"focusKeywords"),onKeyDown:d=>G(d,"focusKeywords"),className:`flex-1 px-3 py-2 border ${k.focusKeywords?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter focus keywords, separated by commas","aria-label":"Focus keywords"}),e.jsx("button",{onClick:()=>r("focusKeywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Add focus keywords",children:e.jsx(oe,{size:16})})]}),k.focusKeywords&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please add at least one focus keyword."}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.focusKeywords.map((d,s)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[d,e.jsx("button",{onClick:()=>j(s,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove ${d}`,children:e.jsx(le,{size:16})})]},s))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n.keywordInput,onChange:d=>C(d,"keywords"),onKeyDown:d=>G(d,"keywords"),className:`flex-1 px-3 py-2 border ${k.keywords?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter secondary keywords, separated by commas","aria-label":"Secondary keywords"}),e.jsx("button",{onClick:()=>r("keywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Add secondary keywords",children:e.jsx(oe,{size:16})})]}),k.keywords&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please add at least one secondary keyword."}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.keywords.map((d,s)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[d,e.jsx("button",{onClick:()=>j(s,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove ${d}`,children:e.jsx(le,{size:16})})]},s))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Video Links (e.g., YouTube, Vimeo) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n.videoLinkInput,onChange:d=>h(s=>({...s,videoLinkInput:d.target.value})),onKeyDown:d=>U(d,"video"),className:`flex-1 px-3 py-2 border ${k.videoLinks?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter video links (e.g., YouTube, Vimeo), separated by commas","aria-label":"Video links"}),e.jsx("button",{onClick:()=>_("video"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Add video links",children:e.jsx(oe,{size:16})})]}),k.videoLinks&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please add at least one valid video link (up to 3 allowed)."}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:M.map((d,s)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[d,e.jsx("button",{onClick:()=>P(s,"video"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove ${d}`,children:e.jsx(le,{size:16})})]},s))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Other Links (e.g., articles, websites)",F&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx($e,{checked:F,onChange:d=>{z(d),d||(D([]),h(s=>({...s,otherLinkInput:""})),x(s=>({...s,otherLinks:!1})))},"aria-label":"Toggle other links input"})})]}),F&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n.otherLinkInput,onChange:d=>h(s=>({...s,otherLinkInput:d.target.value})),onKeyDown:d=>U(d,"other"),className:`flex-1 px-3 py-2 border ${k.otherLinks?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter other links (e.g., articles, websites), separated by commas","aria-label":"Other links"}),e.jsx("button",{onClick:()=>_("other"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Add other links",children:e.jsx(oe,{size:16})})]}),k.otherLinks&&e.jsx("p",{className:"text-red-500 text-sm",children:"Please add at least one valid other link (up to 3 allowed)."}),e.jsx("div",{className:"flex flex-wrap gap-2",children:I.map((d,s)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[d,e.jsx("button",{onClick:()=>P(s,"other"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove ${d}`,children:e.jsx(le,{size:16})})]},s))})]})]})]})]})})},Vs=({closeFnc:R,visible:S,allBlogs:N})=>{var b,L;const[t,w]=y.useState({selectedBlog:null,title:"",content:"",keywords:[]}),[M,A]=y.useState(null),[I,D]=y.useState(null),[F,z]=y.useState(!1),k=ne();y.useEffect(()=>{I&&(z(!0),k(We(I)).unwrap().then(u=>{u!=null&&u._id?w(o=>({...o,title:u.title||"",content:u.content||"",keywords:u.focusKeywords||[],selectedBlog:u,contentType:"markdown"})):K.error("Blog details not found.")}).catch(u=>{console.error("Failed to fetch blog by ID:",u),K.error("Failed to fetch blog details.")}).finally(()=>z(!1)))},[I,k]);const x=u=>{const o=N.find(C=>C._id===u);o&&(D(o._id),w({selectedBlog:o,title:o.title||"",content:o.content||"",keywords:o.focusKeywords||[]}),A(null))},n=async()=>{var u;if(!((u=t.selectedBlog)!=null&&u._id)){K.error("Please select a blog.");return}if(t.content.length<500){K.warning("Your content is too short. This may affect performance analysis accuracy.");return}z(!0);try{const o=await k(je(t.selectedBlog._id)).unwrap();A(o.stats||o),K.success("Performance insights loaded successfully.")}catch(o){console.error("Failed to fetch blog stats:",o),K.error("Failed to load performance stats.")}finally{z(!1)}},h={flesch:"📘 Flesch Reading Ease (0–100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"📗 SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"📙 ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"📈 Blog Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},f=({type:u="seo"})=>e.jsx(de,{title:h[u],trigger:["hover","click"],placement:"top",children:e.jsx(De,{className:"ml-2 text-gray-500 hover:text-blue-500 cursor-pointer"})}),i=({icon:u,label:o,value:C,color:r,delay:j=0,suffix:G="",description:_=""})=>e.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:j*.1,duration:.3},className:`p-5 bg-white rounded-xl border ${r} shadow-sm hover:shadow-md transition-shadow`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[u&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-500",children:u}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:o}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:[C,G]}),_&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:_})]})]})}),E=({score:u,max:o,label:C,level:r,color:j})=>e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600 flex items-center gap-2",children:[C,e.jsx(f,{type:/seo/gi.test(C)?"seo":"flesch"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:r})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full ${j} transition-all duration-500`,style:{width:`${u/o*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-2",children:e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[u," / ",o]})})]})]}),T=({stats:u})=>{var s,a,g,v,c,H,Y,J;if(!u)return null;const{readabililty:o={},seo:C={},engagement:r={},metadata:j={}}=u,G=(C==null?void 0:C.keywordDensity)||{},_=Object.keys(G).filter(l=>l.split(" ").length<=2).length,U=Object.keys(G).filter(l=>l.split(" ").length>2).length,P=Object.entries(G).map(([l,{count:m,density:B}],p)=>({key:l,keyword:l,count:m,density:B,animationDelay:p*.1})),d=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(l,m)=>l.density-m.density,render:l=>`${l.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 mt-6",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-8 capitalize",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(j==null?void 0:j.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(j==null?void 0:j.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(j==null?void 0:j.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(j==null?void 0:j.aiModel)||"-"})]})]}),(j==null?void 0:j.generatedAt)&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border normal-case border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(j.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[!!(C!=null&&C.score)&&e.jsx(E,{score:(C==null?void 0:C.score)||0,max:100,label:"Blog Score",level:`${(C==null?void 0:C.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(i,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(C==null?void 0:C.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(i,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(C==null?void 0:C.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(i,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(C==null?void 0:C.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(s=C==null?void 0:C.focusKeywords)==null?void 0:s.map((l,m)=>e.jsx(O.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:m*.1},className:"px-3 py-1 bg-blue-50 rounded-full text-sm text-blue-700 border border-blue-100 hover:bg-blue-100 transition-colors",children:l},l))})]}),(C==null?void 0:C.keywords.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Other Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(a=C==null?void 0:C.keywords)==null?void 0:a.map((l,m)=>e.jsx(O.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:m*.1},className:"px-3 py-2 bg-gray-100 rounded-full text-sm text-gray-700 border border-gray-200 hover:bg-gray-200 transition-colors",children:l},l))})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Keyword Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx(i,{icon:e.jsx(Ls,{className:"w-5 h-5"}),label:"Short-Tail Keywords",value:_,color:"border-blue-100",delay:0}),e.jsx(i,{icon:e.jsx(As,{className:"w-5 h-5"}),label:"Long-Tail Keywords",value:U,color:"border-blue-100",delay:.1})]}),e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Keyword Densities"}),e.jsx(O.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:e.jsx(Ce,{dataSource:P,columns:d,pagination:!1,components:{body:{row:({children:l,...m})=>{var p;const B=((p=P[m["data-row-key"]])==null?void 0:p.animationDelay)||0;return e.jsx(O.tr,{...m,initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:B},children:l})}}},className:"rounded-md overflow-hidden capitalize"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(E,{score:((g=o==null?void 0:o.fleschEase)==null?void 0:g.score)||0,max:100,label:"Flesch Ease",level:((v=o==null?void 0:o.fleschEase)==null?void 0:v.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:["SMOG Index",e.jsx(f,{type:"smog"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:((c=o==null?void 0:o.smogIndex)==null?void 0:c.level)||"-"})]}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:[((H=o==null?void 0:o.smogIndex)==null?void 0:H.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:["ARI ",e.jsx(f,{type:"ari"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:((Y=o==null?void 0:o.ari)==null?void 0:Y.level)||"-"})]}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:[((J=o==null?void 0:o.ari)==null?void 0:J.score)||0," grade"]})]}),e.jsx(i,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(o==null?void 0:o.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(i,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(o==null?void 0:o.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(o==null?void 0:o.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(o==null?void 0:o.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(o==null?void 0:o.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(o==null?void 0:o.syllableCount)||0})]})]})]})]})};return y.useEffect(()=>(S?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[S]),e.jsx(ae,{title:e.jsxs(O.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Performance Dashboard"})]}),open:S,onCancel:R,footer:null,width:900,centered:!0,bodyStyle:{maxHeight:"85vh",overflowY:"auto"},className:"rounded-2xl shadow-lg",children:e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-2",children:"Select Blog"}),e.jsx("div",{className:"relative",children:e.jsxs(ie,{showSearch:!0,filterOption:(u,o)=>{var C;return(C=o==null?void 0:o.children)==null?void 0:C.toLowerCase().includes(u.toLowerCase())},className:"w-full",placeholder:"Select Blog",onChange:x,value:((b=t.selectedBlog)==null?void 0:b._id)||"",children:[e.jsx(ie.Option,{value:"",children:"Select Blog"}),N==null?void 0:N.map(u=>e.jsx(ie.Option,{value:u._id,className:"bg-gray-50",children:u.title||"Untitled"},u._id))]})})]}),!t.selectedBlog&&e.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-10 bg-gray-50 rounded-xl border border-gray-200 shadow-sm",children:e.jsx("p",{className:"text-gray-600 text-lg",children:"Select a blog to view content and performance insights."})}),t.selectedBlog&&e.jsxs(e.Fragment,{children:[e.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Content Preview"})}),e.jsx("div",{children:e.jsx("div",{className:"text-gray-700 max-h-40 overflow-y-auto whitespace-pre-wrap leading-relaxed p-4 rounded-md",children:t.content.split(`
`).map((u,o)=>u.startsWith("### ")?e.jsx("h3",{className:"text-lg font-semibold mt-2",children:u.replace("### ","").replace(/[*_~>`]/g,"").trim()},o):u.startsWith("## ")?e.jsx("h2",{className:"text-xl font-semibold mt-2",children:u.replace("## ","").replace(/[*_~>`]/g,"").trim()},o):u.startsWith("# ")?e.jsx("h1",{className:"text-2xl font-bold mt-2",children:u.replace("# ","").replace(/[*_~>`]/g,"").trim()},o):e.jsx("p",{className:"text-base mt-2",children:u.replace(/[*_~>`]/g,"").trim()},o))})})]}),((L=t.keywords)==null?void 0:L.length)>0&&e.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-4 bg-gray-50 border border-gray-200 rounded-lg shadow-sm",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-2",children:"Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.keywords.map((u,o)=>e.jsx(O.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"px-3 py-1 bg-blue-50 rounded-full text-sm text-blue-700 border border-blue-100 hover:bg-blue-100 transition-colors",children:u},u))})]}),!M&&e.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center",children:e.jsx(ye,{type:"primary",size:"large",onClick:n,loading:F,className:"bg-blue-600 text-white hover:bg-blue-700 rounded-lg px-6 py-2 transition-all duration-200",disabled:F||!t.selectedBlog,children:F?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(ls,{})," Loading Insights..."]}):"Get Performance Insights"})}),M&&e.jsx(T,{stats:M})]})]})})},Qs=({closeFnc:R})=>{var E;const[S,N]=y.useState({selectedBlog:null,title:"",content:""}),[t,w]=y.useState(!1),[M,A]=y.useState(null),I=ne(),{blogs:D,error:F}=te(T=>T.blog);y.useEffect(()=>{I(Ke())},[I]),y.useEffect(()=>{F&&K.error(F)},[F]);const z=T=>{N({selectedBlog:T,title:T.title,content:T.content}),A(null)},k=async()=>{if(!S.selectedBlog){K.error("Please select a blog");return}w(!0);try{const T=await I(je(S.selectedBlog._id));if(je.fulfilled.match(T)){const{stats:b}=T.payload;A(b),K.success("Performance analysis completed!")}else K.error("Something went wrong during stats fetching.")}catch{K.error("Unexpected error occurred.")}finally{w(!1)}},x={flesch:"📘 Flesch Reading Ease (0–100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"📗 SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"📙 ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"📈 SEO Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},n=({type:T="seo"})=>e.jsx(de,{title:x[T],trigger:["hover","click"],placement:"top",children:e.jsx(De,{className:"ml-2 text-black size-8 hover:text-blue-500 cursor-pointer"})}),h=({icon:T,label:b,value:L,color:u,delay:o=0,suffix:C="",description:r=""})=>e.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:o*.1,duration:.3},className:`p-4 bg-white rounded-xl border ${u} shadow-sm`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[T&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-500",children:T}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:b}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-1",children:[L,C]}),r&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]})]})}),f=({score:T,max:b,label:L,level:u,color:o})=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[L,e.jsx(n,{type:/seo/gi.test(L)?"seo":"flesch"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:u})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${o}`,style:{width:`${T/b*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[T," / ",b]})})]})]}),i=({stats:T})=>{var G,_,U,P,d,s,a,g;if(!T)return null;const{readabililty:b={},seo:L={},engagement:u={},metadata:o={}}=T,C=(L==null?void 0:L.keywordDensity)||{},r=Object.entries(C).map(([v,{count:c,density:H}],Y)=>({key:v,keyword:v,count:c,density:H,animationDelay:Y*.1})),j=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(v,c)=>v.density-c.density,render:v=>`${v.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-5 mt-4",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(o==null?void 0:o.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(o==null?void 0:o.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(o==null?void 0:o.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(o==null?void 0:o.aiModel)||"-"})]})]}),(o==null?void 0:o.generatedAt)&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(o.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-green-100 rounded text-green-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 11.5V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1.4"}),e.jsx("path",{d:"M14 10V8a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2"}),e.jsx("path",{d:"M10 9.9V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v5"}),e.jsx("path",{d:"M6 14v0a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0"}),e.jsx("path",{d:"M18 11v0a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-4a8 8 0 0 1-8-8 2 2 0 1 1 4 0"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Engagement"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(h,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),label:"GenWrite Views",value:(u==null?void 0:u.views)||0,color:"border-green-100",delay:0}),e.jsx(h,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),label:"WordPress Views",value:(u==null?void 0:u.wordpressViews)||0,color:"border-green-100",delay:1})]}),e.jsx("div",{className:"mt-4 bg-gray-50 p-4 rounded-xl border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Public Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${u!=null&&u.isPublic?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u!=null&&u.isPublic?"✅ Public":"❌ Private"})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(f,{score:(L==null?void 0:L.score)||0,max:100,label:"SEO Score",level:`${(L==null?void 0:L.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(h,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(L==null?void 0:L.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(h,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(L==null?void 0:L.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(h,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(L==null?void 0:L.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(G=L==null?void 0:L.focusKeywords)==null?void 0:G.map((v,c)=>e.jsx(O.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:c*.1},className:"px-3 py-1 bg-blue-50 rounded-full text-sm text-blue-700 border border-blue-100",children:v},v))})]}),(L==null?void 0:L.keywords.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Other Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(_=L==null?void 0:L.keywords)==null?void 0:_.map((v,c)=>e.jsx(O.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:c*.1},className:"px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-700 border border-gray-200",children:v},v))})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Keyword Densities"}),e.jsx(O.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:e.jsx(Ce,{dataSource:r,columns:j,pagination:!1,components:{body:{row:({children:v,...c})=>{var Y;const H=((Y=r[c["data-row-key"]])==null?void 0:Y.animationDelay)||0;return e.jsx(O.tr,{...c,initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:H},children:v})}}},className:"rounded-md overflow-hidden"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(f,{score:((U=b==null?void 0:b.fleschEase)==null?void 0:U.score)||0,max:100,label:"Flesch Ease",level:((P=b==null?void 0:b.fleschEase)==null?void 0:P.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["SMOG Index",e.jsx(n,{type:"smog"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((d=b==null?void 0:b.smogIndex)==null?void 0:d.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((s=b==null?void 0:b.smogIndex)==null?void 0:s.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["ARI ",e.jsx(n,{type:"ari"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((a=b==null?void 0:b.ari)==null?void 0:a.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((g=b==null?void 0:b.ari)==null?void 0:g.score)||0," grade"]})]}),e.jsx(h,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(b==null?void 0:b.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(h,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(b==null?void 0:b.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(b==null?void 0:b.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(b==null?void 0:b.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(b==null?void 0:b.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(b==null?void 0:b.syllableCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paragraphs"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(b==null?void 0:b.paragraphCount)||0})]})]})]})]})};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs(O.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-4xl bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[e.jsxs(O.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Seo Analysis Dashboard"})]}),e.jsx("button",{onClick:R,className:"p-2 rounded-full hover:bg-gray-100 transition-all",children:e.jsx(le,{className:"h-6 w-6 text-gray-500 hover:text-gray-700"})})]}),e.jsx("div",{className:"p-5 overflow-y-auto max-h-[80vh]",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Blog"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 appearance-none",onChange:T=>{const b=D.data.find(L=>L._id===T.target.value);b&&z(b)},value:((E=S.selectedBlog)==null?void 0:E._id)||"",children:[e.jsx("option",{value:"",className:"bg-gray-50",children:"Select a blog"}),D.data.map(T=>e.jsx("option",{value:T._id,className:"bg-gray-50 capitalize",children:T.title},T._id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),S.selectedBlog&&e.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"font-medium text-gray-700",children:"Preview"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 truncate capitalize",children:S.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3",children:S.content})]})]}),e.jsx(O.div,{className:"flex justify-end pt-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(O.button,{onClick:k,className:`px-5 py-2.5 rounded-lg font-medium flex items-center gap-2 ${t?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"} transition-all duration-300 shadow`,disabled:t||!S.selectedBlog,whileHover:{scale:!t&&S.selectedBlog?1.03:1},whileTap:{scale:.97},children:t?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),"Analyze Performance"]})})}),t&&!M&&e.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-4",children:[...Array(6)].map((T,b)=>e.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:b*.1},className:"h-32 bg-gray-100 rounded-xl animate-pulse"},b))}),e.jsx(i,{stats:M})]})}),e.jsx("div",{className:"flex justify-end gap-3 p-5 border-t border-gray-100",children:e.jsx(O.button,{onClick:R,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-300",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close Dashboard"})})]})})},qs=({closeFnc:R,openSecondStepModal:S,openJobModal:N,visible:t})=>{var d;const[w,M]=y.useState(""),[A,I]=y.useState([]),[D,F]=y.useState(1),[z,k]=y.useState(!1),x=ne(),{keywordAnalysis:n,loading:h,selectedKeywords:f}=te(s=>s.analysis);y.useEffect(()=>{A.length===0&&(F(1),x(Me()))},[A,x]);const i=()=>{const s=w.trim();if(!s)return;const a=A.map(c=>c.toLowerCase()),g=new Set,v=s.split(",").map(c=>c.trim()).filter(c=>c&&!a.includes(c.toLowerCase())&&!g.has(c.toLowerCase())&&g.add(c.toLowerCase()));v.length>0&&(I([...A,...v]),M(""))},E=s=>{var v;const a=A[s],g=A.filter((c,H)=>H!==s);if(I(g),g.length===0&&(x(clearKingdomAnalysis()),F(1)),(v=f==null?void 0:f.allKeywords)!=null&&v.includes(a)){const c=f.allKeywords.filter(H=>H!==a);x(me({focusKeywords:c.slice(0,3),keywords:c,allKeywords:c}))}},T=s=>{s.key==="Enter"&&(s.preventDefault(),i())},b=()=>{A.length>0&&(x(He(A)),F(1))},L=()=>{const s={LOW:[],MEDIUM:[],HIGH:[]};n==null||n.forEach(c=>{s[c.competition]&&s[c.competition].push({keyword:c.keyword,competition_index:c.competition_index})});const a=s.LOW.sort((c,H)=>c.competition_index-H.competition_index).slice(0,2),g=s.MEDIUM.sort((c,H)=>c.competition_index-H.competition_index).slice(0,2),v=s.HIGH.sort((c,H)=>c.competition_index-H.competition_index).slice(0,2);return[...a.map(c=>c.keyword),...g.map(c=>c.keyword),...v.map(c=>c.keyword)]},u=()=>{const s=L();if(!s.length||!(n!=null&&n.length)){ae.error({title:"No Auto-Selected Keywords",content:"No keywords available to auto-select. Please analyze keywords first."});return}ae.info({icon:null,title:e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("span",{children:"Auto-Selected Keywords"})}),content:e.jsxs("div",{children:[e.jsx("p",{children:"We selected these keywords automatically based on competition index:"}),e.jsx("ul",{className:"list-disc ml-5 mt-2",children:s.map(a=>e.jsx("li",{className:"capitalize",children:a},a))}),e.jsx("p",{className:"mt-3",children:"Do you want to add these too?"})]}),okText:"Accept",cancelText:"Decline",closable:!0,onOk(){const a=[...(f==null?void 0:f.allKeywords)||[],...s.filter(g=>{var v;return!((v=f==null?void 0:f.allKeywords)!=null&&v.includes(g))})].slice(0,6);x(me({focusKeywords:a.slice(0,3),keywords:a,allKeywords:a}))},onCancel(){const a=(f==null?void 0:f.allKeywords)||[];x(me({focusKeywords:a.slice(0,3),keywords:a,allKeywords:a}))},okButtonProps:{className:"bg-blue-600 text-white"}})},o=async s=>{const a=(f==null?void 0:f.allKeywords)||[];await x(me({focusKeywords:a.slice(0,3),keywords:a.slice(3),allKeywords:a})),setTimeout(()=>{s==="blog"?S({focusKeywords:a.slice(0,3),keywords:a.slice(3),allKeywords:a}):N(),R()},100)},C=()=>{o("blog")},r=()=>{o("job")},j=[{title:"Keyword",dataIndex:"keyword",key:"keyword",sorter:(s,a)=>s.keyword.localeCompare(a.keyword),render:s=>e.jsx("span",{className:"font-medium capitalize",children:s})},{title:"Monthly Searches",dataIndex:"avgMonthlySearches",key:"avgMonthlySearches",sorter:(s,a)=>s.avgMonthlySearches-a.avgMonthlySearches,render:s=>new Intl.NumberFormat().format(s)},{title:"Competition",dataIndex:"competition",key:"competition",sorter:(s,a)=>s.competition_index-a.competition_index,render:s=>e.jsx(is,{color:s==="LOW"?"green":s==="MEDIUM"?"orange":s==="HIGH"?"red":"gray",children:s})},{title:"Competition Index",dataIndex:"competition_index",key:"competition_index",sorter:(s,a)=>s.competition_index-a.competition_index,render:s=>s||"-"}],G=(n==null?void 0:n.map((s,a)=>({key:a,keyword:s.keyword,avgMonthlySearches:s.avgMonthlySearches,competition:s.competition,competition_index:s.competition_index,avgCpc:s.avgCpc,lowBid:s.lowBid,highBid:s.highBid})))||[],_=z?G.filter(s=>{var a;return(a=f==null?void 0:f.allKeywords)==null?void 0:a.includes(s.keyword)}):G,U=s=>F(s);y.useEffect(()=>()=>{I([]),M(""),F(1),k(!1)},[]),y.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);const P=((d=f==null?void 0:f.allKeywords)==null?void 0:d.length)>0;return e.jsx(ae,{open:t,onCancel:R,closable:!0,footer:[e.jsxs("div",{className:"flex justify-end gap-3 pt-2 border-gray-100",children:[e.jsx(O.button,{onClick:u,className:"px-5 py-2.5 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:h||!(n!=null&&n.length),style:{opacity:h||!(n!=null&&n.length)?.5:1,cursor:h||!(n!=null&&n.length)?"not-allowed":"pointer"},children:"Show Auto-Selected Keywords"}),e.jsx(O.button,{onClick:C,className:`px-5 py-2.5 text-sm font-medium rounded-lg ${P?"text-gray-700 bg-gray-100 hover:bg-gray-200":"text-gray-400 bg-gray-200 cursor-not-allowed"}`,whileHover:{scale:P?1.03:1},whileTap:{scale:P?.97:1},disabled:!P,children:"Create Blog"}),e.jsx(O.button,{onClick:r,className:`px-5 py-2.5 text-sm font-medium rounded-lg ${P?"text-gray-700 bg-gray-100 hover:bg-gray-200":"text-gray-400 bg-gray-200 cursor-not-allowed"}`,whileHover:{scale:P?1.03:1},whileTap:{scale:P?.97:1},disabled:!P,children:"Create New Job"}),e.jsx(O.button,{onClick:R,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close"})]})],width:1e3,centered:!0,title:"Keyword Research",maskClosable:!0,children:e.jsxs("div",{children:[e.jsx("p",{className:"mb-4 text-gray-600",children:"Find and analyze keywords for your blog"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx(ds,{placeholder:"Enter a keyword",value:w,onChange:s=>M(s.target.value),onKeyPress:T,className:"flex-1","aria-label":"Enter keyword"}),e.jsx(O.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(ye,{type:"primary",onClick:i,children:"Add"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:A.map((s,a)=>e.jsxs(O.div,{initial:{opacity:0,scale:.8},animate:{opacity:1},className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full flex items-center",children:[e.jsx("span",{className:"capitalize",children:s}),e.jsx(O.div,{whileHover:{scale:1.2},whileTap:{scale:.8},className:"ml-2 cursor-pointer",onClick:()=>E(a),children:e.jsx(ns,{className:"text-blue-800 text-xs"})})]},a))}),e.jsx(O.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(ye,{block:!0,type:"primary",onClick:b,loading:h,disabled:A.length===0,children:"Analyze Keywords"})}),!h&&(n==null?void 0:n.length)>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx($e,{checked:z,onChange:s=>k(s),disabled:!P}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Show Selected Keywords Only"})]}),e.jsx(Ce,{columns:j,dataSource:_,pagination:{current:D,pageSize:5,showSizeChanger:!1,onChange:U,total:_.length},rowSelection:{selectedRowKeys:(f==null?void 0:f.allKeywords)||[],onChange:s=>{x(me({focusKeywords:s.slice(0,3),keywords:s,allKeywords:s}))},getCheckboxProps:s=>({name:s.keyword})},rowKey:s=>s.keyword,scroll:{x:!0}})]})]})})};cs.register(ms,xs,hs,us,gs,ps,fs,bs);const Mt=()=>{const[R,S]=y.useState(!1),[N,t]=y.useState(0),[w,M]=y.useState(!1),[A,I]=y.useState(!1),[D,F]=y.useState(!1),[z,k]=y.useState(!1),[x,n]=y.useState(!1),[h,f]=y.useState(!1),[i,E]=y.useState(!1),[T,b]=y.useState({}),[L,u]=y.useState([]),[o,C]=y.useState(!0),{blogs:r,error:j,allBlogs:G}=te($=>$.blog),_=ne(),U=he(),P=te(Ue),{handlePopup:d}=xe(),s=()=>S(!0),a=()=>M(!0),g=()=>M(!1),v=()=>I(!0),c=()=>I(!1),H=()=>F(!0),Y=()=>F(!1),J=()=>k(!0),l=()=>k(!1),m=()=>{f(!1),S(!0),t(0)},B=()=>{f(!1),_(Ye()),U("/jobs")};y.useEffect(()=>{_(Ve())},[]),y.useEffect(()=>{_(Ke());const $=setTimeout(()=>C(!1),1200);return()=>clearTimeout($)},[_]),y.useEffect(()=>{(async()=>{if(!localStorage.getItem("token")){U("/login");return}try{const Q=await _(Ie());Ie.rejected.match(Q)&&(console.warn("Failed to load user, redirecting..."),U("/login"))}catch(Q){console.error("User init failed:",Q),K.error("Failed to load user data.")}})()},[_,U]),y.useEffect(()=>{if(r!=null&&r.data&&Array.isArray(r.data)){const $=r.data.filter(W=>W.isArchived===!1).slice(0,3);u($)}else u([])},[r]),y.useEffect(()=>{j&&K.error(j)},[j]);const p=async $=>{var W,Q;try{const X=(((W=P==null?void 0:P.credits)==null?void 0:W.base)||0)+(((Q=P==null?void 0:P.credits)==null?void 0:Q.extra)||0),q=ke("blog.single",T.aiModel||"default");d({title:"Confirm Blog Creation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Single Blog generation cost: ",e.jsxs("b",{children:[q," credits"]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue?"})]}),onConfirm:()=>{if(q>X){K.error("You do not have enough credits to generate this blog."),d(!1);return}_(qe({blogData:$,navigate:U})),S(!1),t(0)}}),_(Le())}catch(X){console.error("Error submitting form:",X),K.error("Failed to create blog.")}},V=()=>{S(!1),t(0),b({}),_(Le())},re=()=>t(N+1),ee=()=>t(N-1);return e.jsxs(e.Fragment,{children:[e.jsx(Qe,{children:e.jsx("title",{children:"Home | GenWrite"})}),e.jsxs(Ms,{title:`Step ${N}/3`,visible:R,onCancel:V,className:"max-h-[90vh] overflow-scroll",children:[N===0&&e.jsx(Ps,{handleNext:re,handleClose:V,data:T,setData:b}),N===1&&e.jsx($s,{handleNext:re,handleClose:V,handlePrevious:ee,data:T,setData:b}),N===2&&e.jsx(Ds,{handleNext:re,handlePrevious:ee,handleClose:V,data:T,setData:b,handleSubmit:p}),e.jsx("div",{className:"flex items-center justify-center mt-4",children:e.jsx("progress",{className:"w-full max-w-md",max:"3",value:N})})]}),w&&e.jsx(Hs,{closeFnc:g}),A&&e.jsx(Ws,{closeFnc:c}),D&&e.jsx(Us,{closeFnc:Y}),z&&e.jsx(os,{closeFnc:l,open:J,blogs:G}),x&&e.jsx(Vs,{allBlogs:G,closeFnc:()=>n(!1),visible:()=>n(!0)}),h&&e.jsx(qs,{closeFnc:()=>{f(!1),_(Me())},openSecondStepModal:m,openJobModal:B,visible:h}),i&&e.jsx(Qs,{closeFnc:()=>E(!1)}),e.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mt-5 ml-10",children:[e.jsxs("h1",{className:"bg-clip-text bg-gradient-to-r font-bold from-blue-600 md:text-4xl text-3xl text-transparent to-purple-600",children:["Let's Begin ",e.jsx("span",{className:"ml-2 text-2xl text-yellow-400",children:"✨"})]}),e.jsxs("p",{className:"text-gray-600 text-lg mt-2",children:["Welcome back ",e.jsx("b",{children:(P==null?void 0:P.name)||"User"}),"! Ready to create something amazing today?"]})]}),e.jsxs("div",{className:"min-h-screen bg-gray-50 p-6 relative",children:[o?e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map(($,W)=>e.jsx(be,{},W))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:2}).map(($,W)=>e.jsx(ge,{},W))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map(($,W)=>e.jsx(be,{},W))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map(($,W)=>e.jsx(ge,{},W))})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid lg:grid-cols-3 gap-4",children:e.jsx(fe,{children:o?Array.from({length:3}).map(($,W)=>e.jsx(be,{},W)):Os.map(($,W)=>e.jsx(Gs,{icon:$.icon,title:$.title,content:$.content,id:$.id,gradient:$.hoverGradient,functions:{showModal:s,setModelData:b,showDaisy:a,showMultiStepModal:v,showQuickBlogModal:H,showCompetitiveAnalysis:J}},W))})}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center",children:e.jsx(Ee,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Tools"})]}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4",children:e.jsx(fe,{children:o?Array.from({length:4}).map(($,W)=>e.jsx(ge,{},W)):zs.map(($,W)=>{const Q={};return $.id===1?Q.showKeywordResearch=()=>f(!0):$.id===2?Q.showSeoAnalysis=()=>E(!0):$.id===3?Q.showPerformanceMonitoring=()=>n(!0):$.id===4&&(Q.showCompetitiveAnalysis=()=>J()),e.jsx(_s,{id:$.id,icon:$.icon,title:$.title,content:$.content,bgColor:$.bgColor,hoverBg:$.hoverBg,color:$.color,navigate:$.navigate,functions:Q},W)})})})]}),L.length>0&&e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 mt-6",children:[e.jsx("div",{className:"mb-6 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-600 flex items-center justify-center",children:e.jsx(ys,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Projects"})]})}),e.jsxs("div",{children:[e.jsx(fe,{children:o?Array.from({length:3}).map(($,W)=>e.jsx(ge,{},W)):L.map(($,W)=>e.jsx(Rs,{title:$.title,content:$.content,tags:$.focusKeywords,item:$,time:$.updatedAt},W))}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{className:"px-6 py-2 text-blue-600 hover:text-blue-700 font-medium hover:bg-blue-50 rounded-lg transition-colors",onClick:()=>U("/blogs"),children:"View All Projects"})})]})]})]}),e.jsx("a",{href:`https://docs.google.com/forms/d/e/1FAIpQLScIdA2aVtugx-zMGON8LJKD4IRWtLZqiiurw-jU6wRYfOv7EA/viewform?usp=sharing&ouid=117159793210831255816\r
`,target:"_blank",rel:"noopener noreferrer",className:"fixed right-0 bottom-28 z-50",children:e.jsx("button",{className:"fixed right-[-30px] bottom-28 bg-blue-600 text-white px-4 py-2 rounded-lg rotate-90 flex items-center gap-2 hover:bg-blue-700 transition-all duration-300 shadow-md z-50",style:{backfaceVisibility:"hidden",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},"aria-label":"Provide feedback",children:"Feedback"})})]})]})};export{Mt as default};
