var M=(t,o,l)=>new Promise((i,x)=>{var f=r=>{try{h(l.next(r))}catch(p){x(p)}},m=r=>{try{h(l.throw(r))}catch(p){x(p)}},h=r=>r.done?i(r.value):Promise.resolve(r.value).then(f,m);h((l=l.apply(t,o)).next())});import{r as n,I as R,c_ as D,u as I,z as K,a0 as L,a as T,X as d,ap as $,c$ as H,j as e,a4 as j,T as A}from"./index-DWalI_BQ.js";import{S as B}from"./sparkles-DD2hpeD2.js";import{R as F}from"./refresh-cw-B9UxV27X.js";import{I as P}from"./index-Cn9M85EA.js";import{C as _}from"./coins-CVobQPKQ.js";import"./createLucideIcon-Cuzl3erx.js";import"./Input-HtRL9TXS.js";import"./SearchOutlined-BLahc-8r.js";function w(){return w=Object.assign?Object.assign.bind():function(t){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i])}return t},w.apply(this,arguments)}const z=(t,o)=>n.createElement(R,w({},t,{ref:o,icon:D})),S=n.forwardRef(z),{TextArea:U}=P,se=()=>{var N,v,C,k;const[t,o]=n.useState("");console.log(t.length);const[l,i]=n.useState([]),[x,f]=n.useState(""),[m,h]=n.useState(!1),r=I(),p=K(),{handlePopup:V}=L(),u=T(s=>{var a,g;return(g=(a=s.auth.user)==null?void 0:a.subscription)==null?void 0:g.plan}),c=T(s=>s.wordpress.metadata),E=n.useCallback(()=>t.trim().split(/\s+/).filter(a=>a.length>0).length,[t]),G=n.useCallback(()=>M(null,null,function*(){var s;if(!t.trim()){d.error("Please enter some content to generate metadata.");return}if(t.length<300){d.error("Content must be at least 300 characters long.");return}if(["free","basic"].includes((s=u==null?void 0:u.toLowerCase)==null?void 0:s.call(u))){openUpgradePopup({featureName:"Metadata Generation",navigate:p});return}h(!0);try{yield r($({content:t})).unwrap(),d.success("Metadata generated successfully!")}catch(a){console.error("Error generating metadata:",a),d.error("Failed to generate metadata.")}finally{h(!1)}}),[t,r,u,p]),y=n.useCallback(()=>{if(x.trim()){const s=x.split(",").map(a=>a.trim().toLowerCase()).filter(a=>a&&!l.map(g=>g.toLowerCase()).includes(a));s.length>0&&i(a=>[...a,...s]),f("")}},[x,l]);n.useCallback(s=>{s.key==="Enter"&&(s.preventDefault(),y())},[y]),n.useCallback(s=>{i(a=>a.filter(g=>g!==s))},[]);const b=(s,a)=>{navigator.clipboard.writeText(s).then(()=>{d.success(`${a} copied to clipboard!`)}).catch(()=>{d.error(`Failed to copy ${a}.`)})},O=n.useCallback(()=>{o(""),i([]),f(""),r(H()),d.success("Content and metadata reset!")},[r]);return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 p-5",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl text-white flex items-center justify-center",children:e.jsx(B,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"SEO Metadata Generator"}),e.jsx("p",{className:"text-gray-600",children:"Create SEO-friendly metadata for your content"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Reset all content",children:[e.jsx(F,{className:"w-4 h-4"}),"Reset"]})})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-text w-5 h-5 text-blue-600",children:[e.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),e.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),e.jsx("path",{d:"M10 9H8"}),e.jsx("path",{d:"M16 13H8"}),e.jsx("path",{d:"M16 17H8"})]}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Content"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",E()," words)"]})]}),e.jsx(U,{value:t,onChange:s=>o(s.target.value),placeholder:"Enter your content here...",rows:12,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 custom-scroll"})]}),e.jsxs(j,{onClick:()=>G(),loading:m,disabled:m||!t.trim()||t.length<300,className:`w-full py-3 text-sm font-medium text-white rounded-lg transition-all duration-200 bg-gradient-to-r from-blue-600 to-purple-600 hover:shadow-lg flex items-center justify-center gap-2 ${!t.trim()||t.length<300?"opacity-50 cursor-not-allowed":""}`,children:[m?"Generating...":"Generate Metadata",!m&&e.jsx(A,{title:"This action will deduct 2 credits",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-yellow-300 font-semibold",children:"2"}),e.jsx(_,{className:"w-4 h-4 text-yellow-400"})]})})]})]}),c&&e.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Meta Title"}),e.jsxs(j,{type:"link",onClick:()=>b(c.title,"Meta Title"),className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 p-0",children:[e.jsx(S,{className:"w-4 h-4"}),"Copy"]})]}),e.jsxs("div",{className:"p-3 bg-white border border-gray-300 rounded-lg text-sm text-gray-700",children:[c.title||"No title generated",e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[((N=c.title)==null?void 0:N.length)||0,"/60 characters",((v=c.title)==null?void 0:v.length)>60&&e.jsx("span",{className:"text-red-600 ml-2",children:"Title exceeds 60 characters"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Meta Description"}),e.jsxs(j,{type:"link",onClick:()=>b(c.description,"Meta Description"),className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 p-0",children:[e.jsx(S,{className:"w-4 h-4"}),"Copy"]})]}),e.jsxs("div",{className:"p-3 bg-white border border-gray-300 rounded-lg text-sm text-gray-700",children:[c.description||"No description generated",e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[((C=c.description)==null?void 0:C.length)||0,"/160 characters",((k=c.description)==null?void 0:k.length)>160&&e.jsx("span",{className:"text-red-600 ml-2",children:"Description exceeds 160 characters"})]})]})]})]})]})]})};export{se as default};
