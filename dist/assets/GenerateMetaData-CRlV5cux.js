var k=(t,l,o)=>new Promise((i,x)=>{var b=r=>{try{p(o.next(r))}catch(h){x(h)}},u=r=>{try{p(o.throw(r))}catch(h){x(h)}},p=r=>r.done?i(r.value):Promise.resolve(r.value).then(b,u);p((o=o.apply(t,l)).next())});import{r as n,I as L,ck as T,u as E,b as O,M as I,a as M,W as m,ah as D,cl as K,j as e,B as j}from"./index-BGE4p5HE.js";import{P}from"./ProgressLoadingScreen-DKAunJm8.js";import{S as U}from"./sparkles-BWoz2UVx.js";import{R as $}from"./refresh-cw-Cq0iEaKm.js";import{I as R}from"./index-dgZfIJXW.js";import"./Input-CwCJbSU9.js";import"./EyeOutlined-Bmd706kk.js";import"./SearchOutlined-DcS8vBNp.js";function N(){return N=Object.assign?Object.assign.bind():function(t){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},N.apply(this,arguments)}const H=(t,l)=>n.createElement(L,N({},t,{ref:l,icon:T})),v=n.forwardRef(H),{TextArea:W}=R,d=t=>t.trim().startsWith("http"),X=()=>{const[t,l]=n.useState(""),[o,i]=n.useState([]),[x,b]=n.useState(""),[u,p]=n.useState(!1),r=E(),h=O(),{handlePopup:A}=I(),g=M(s=>{var a,f;return(f=(a=s.auth.user)==null?void 0:a.subscription)==null?void 0:f.plan}),c=M(s=>s.wordpress.metadata),y=n.useCallback(()=>d(t)?300:t.trim().split(/\s+/).filter(a=>a.length>0).length,[t]),S=n.useCallback(()=>k(null,null,function*(){var s;if(!t.trim()){m.error("Please enter some content to generate metadata.");return}if(!d(t)&&t.length<300){m.error("Content must be at least 300 characters long.");return}if(["free","basic"].includes((s=g==null?void 0:g.toLowerCase)==null?void 0:s.call(g))){openUpgradePopup({featureName:"Metadata Generation",navigate:h});return}p(!0);try{const a=d(t)?{url:t}:{content:t};yield r(D(a)).unwrap(),m.success("Metadata generated successfully!")}catch(a){console.error("Error generating metadata:",a),m.error("Failed to generate metadata.")}finally{p(!1)}}),[t,r,g,h]),C=n.useCallback(()=>{if(x.trim()){const s=x.split(",").map(a=>a.trim().toLowerCase()).filter(a=>a&&!o.map(f=>f.toLowerCase()).includes(a));s.length>0&&i(a=>[...a,...s]),b("")}},[x,o]);n.useCallback(s=>{s.key==="Enter"&&(s.preventDefault(),C())},[C]),n.useCallback(s=>{i(a=>a.filter(f=>f!==s))},[]);const w=(s,a)=>{navigator.clipboard.writeText(s).then(()=>{m.success(`${a} copied to clipboard!`)}).catch(()=>{m.error(`Failed to copy ${a}.`)})},G=n.useCallback(()=>{l(""),i([]),b(""),r(K()),m.success("Content and metadata reset!")},[r]);return u?e.jsx("div",{className:"h-[calc(100vh-200px)] p-4 flex items-center justify-center",children:e.jsx(P,{message:"Generating metadata..."})}):e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 p-5",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start sm:items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(U,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"SEO Metadata Generator"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Create SEO-friendly metadata for your content"})]})]}),e.jsx("div",{className:"flex justify-end mt-2 lg:mt-0 flex-shrink-0",children:e.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-3 py-1.5 sm:px-4 sm:py-2 text-sm sm:text-base text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Reset all content",children:[e.jsx($,{className:"w-4 h-4"}),"Reset"]})})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-text w-5 h-5 text-blue-600",children:[e.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),e.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),e.jsx("path",{d:"M10 9H8"}),e.jsx("path",{d:"M16 13H8"}),e.jsx("path",{d:"M16 17H8"})]}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:d(t)?"Target URL":"Content"})]}),d(t)?e.jsx(R,{value:t,onChange:s=>l(s.target.value),placeholder:"Enter URL (e.g., https://example.com/blog)...",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsx(W,{value:t,onChange:s=>l(s.target.value),placeholder:"Paste content or enter URL...",rows:12,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 custom-scroll"})]}),e.jsx("div",{className:"flex justify-end items-center",children:e.jsx("p",{className:`text-sm mb-2 ${y()<300?"text-yellow-500":"text-green-600"}`,children:!d(t)&&e.jsxs(e.Fragment,{children:["Word count: ",y()," ",y()<300?"(Minimum 60 words required)":""]})})}),e.jsx(j,{onClick:()=>S(),loading:u,disabled:u||!t.trim()||!d(t)&&t.length<300,className:`w-full py-3 text-sm font-medium text-white rounded-lg transition-all duration-200 bg-gradient-to-r from-blue-600 to-purple-600 hover:shadow-lg flex items-center justify-center gap-2 ${!t.trim()||!d(t)&&t.length<300?"opacity-50 cursor-not-allowed":""}`,children:u?"Generating...":"Generate Metadata"})]}),c&&e.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Meta Title"}),e.jsxs(j,{type:"link",onClick:()=>w(c.title,"Meta Title"),className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 p-0",children:[e.jsx(v,{className:"w-4 h-4"}),"Copy"]})]}),e.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded-lg text-sm text-gray-700",children:c.title||"No title generated"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Meta Description"}),e.jsxs(j,{type:"link",onClick:()=>w(c.description,"Meta Description"),className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 p-0",children:[e.jsx(v,{className:"w-4 h-4"}),"Copy"]})]}),e.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded-lg text-sm text-gray-700",children:c.description||"No description generated"})]}),c.tags&&c.tags.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tags"}),e.jsxs(j,{type:"link",onClick:()=>w(c.tags.join(", "),"Tags"),className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 p-0",children:[e.jsx(v,{className:"w-4 h-4"}),"Copy All"]})]}),e.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded-lg text-sm text-gray-700 flex flex-wrap gap-2",children:c.tags.map((s,a)=>e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full border border-blue-200",children:s},a))})]})]})]})]})};export{X as default};
