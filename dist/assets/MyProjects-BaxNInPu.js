import{r as s,I as $,u as qe,J as Ke,aB as We,a as Ze,F as Je,W as Xe,j as e,H as et,m as w,aC as tt,E as N,T as Q,S as z,ab as st,aD as at,a0 as rt}from"./index-aYFSkxCW.js";import{b as lt}from"./SkeletonLoader-Cx9Bnn5E.js";import{h as o}from"./moment-F83fPTp3.js";import{F as nt}from"./fuse-BSSWq5vX.js";import{u as ot}from"./useQuery-D9LoEWoC.js";import{u as Se}from"./useMutation-BFmuBRn4.js";import{C as it,D as ct}from"./index-DxfKh3yh.js";import{P as dt}from"./plus-COtfSTE2.js";import{I as ut}from"./index-BUi2m1PB.js";import{X as mt}from"./x-D7vdeMkc.js";import{S as gt}from"./search-DVA5xtaf.js";import{P as ee}from"./index-BlNuHxBG.js";import{c as ce}from"./createLucideIcon-D3N6Lln-.js";import{R as ht}from"./refresh-ccw-teAdWwf2.js";import{R as te}from"./rotate-ccw-OjP9UJfm.js";import{B as pt,T as ft}from"./index-DqBbcinj.js";import{P as xt}from"./index-CU_Wpml5.js";import{P as vt}from"./Pagination-DBT_PGza.js";import"./dayjs.min-DJ8XQ6RA.js";import"./Overflow-BrHWJOfH.js";import"./useIcons-C722aAyl.js";import"./Input-KkkcHe-u.js";import"./LeftOutlined-DpFuWCUD.js";import"./index-ChoG752t.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],yt=ce("arrow-down-up",bt);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wt=ce("calendar",jt);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_t=ce("funnel",St);var Ct={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},Ot={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"},Nt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M945 412H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h256c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM811 548H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h122c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM477.3 322.5H434c-6.2 0-11.2 5-11.2 11.2v248c0 3.6 1.7 6.9 4.6 9l148.9 108.6c5 3.6 12 2.6 15.6-2.4l25.7-35.1v-.1c3.6-5 2.5-12-2.5-15.6l-126.7-91.6V333.7c.1-6.2-5-11.2-11.1-11.2z"}},{tag:"path",attrs:{d:"M804.8 673.9H747c-5.6 0-10.9 2.9-13.9 7.7a321 321 0 01-44.5 55.7 317.17 317.17 0 01-101.3 68.3c-39.3 16.6-81 25-124 25-43.1 0-84.8-8.4-124-25-37.9-16-72-39-101.3-68.3s-52.3-63.4-68.3-101.3c-16.6-39.2-25-80.9-25-124 0-43.1 8.4-84.7 25-124 16-37.9 39-72 68.3-101.3 29.3-29.3 63.4-52.3 101.3-68.3 39.2-16.6 81-25 124-25 43.1 0 84.8 8.4 124 25 37.9 16 72 39 101.3 68.3a321 321 0 0144.5 55.7c3 4.8 8.3 7.7 13.9 7.7h57.8c6.9 0 11.3-7.2 8.2-13.3-65.2-129.7-197.4-214-345-215.7-216.1-2.7-395.6 174.2-396 390.1C71.6 727.5 246.9 903 463.2 903c149.5 0 283.9-84.6 349.8-215.8a9.18 9.18 0 00-8.2-13.3z"}}]},name:"field-time",theme:"outlined"},$t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M742 318V184h86c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H196c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h86v134c0 81.5 42.4 153.2 106.4 194-64 40.8-106.4 112.5-106.4 194v134h-86c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h632c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-86V706c0-81.5-42.4-153.2-106.4-194 64-40.8 106.4-112.5 106.4-194zm-72 388v134H354V706c0-42.2 16.4-81.9 46.3-111.7C430.1 564.4 469.8 548 512 548s81.9 16.4 111.7 46.3C653.6 624.1 670 663.8 670 706zm0-388c0 42.2-16.4 81.9-46.3 111.7C593.9 459.6 554.2 476 512 476s-81.9-16.4-111.7-46.3A156.63 156.63 0 01354 318V184h316v134z"}}]},name:"hourglass",theme:"outlined"},It={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M839.6 433.8L749 150.5a9.24 9.24 0 00-8.9-6.5h-77.4c-4.1 0-7.6 2.6-8.9 6.5l-91.3 283.3c-.3.9-.5 1.9-.5 2.9 0 5.1 4.2 9.3 9.3 9.3h56.4c4.2 0 7.8-2.8 9-6.8l17.5-61.6h89l17.3 61.5c1.1 4 4.8 6.8 9 6.8h61.2c1 0 1.9-.1 2.8-.4 2.4-.8 4.3-2.4 5.5-4.6 1.1-2.2 1.3-4.7.6-7.1zM663.3 325.5l32.8-116.9h6.3l32.1 116.9h-71.2zm143.5 492.9H677.2v-.4l132.6-188.9c1.1-1.6 1.7-3.4 1.7-5.4v-36.4c0-5.1-4.2-9.3-9.3-9.3h-204c-5.1 0-9.3 4.2-9.3 9.3v43c0 5.1 4.2 9.3 9.3 9.3h122.6v.4L587.7 828.9a9.35 9.35 0 00-1.7 5.4v36.4c0 5.1 4.2 9.3 9.3 9.3h211.4c5.1 0 9.3-4.2 9.3-9.3v-43a9.2 9.2 0 00-9.2-9.3zM416 702h-76V172c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v530h-76c-6.7 0-10.5 7.8-6.3 13l112 141.9a8 8 0 0012.6 0l112-141.9c4.1-5.2.4-13-6.3-13z"}}]},name:"sort-ascending",theme:"outlined"},Rt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M839.6 433.8L749 150.5a9.24 9.24 0 00-8.9-6.5h-77.4c-4.1 0-7.6 2.6-8.9 6.5l-91.3 283.3c-.3.9-.5 1.9-.5 2.9 0 5.1 4.2 9.3 9.3 9.3h56.4c4.2 0 7.8-2.8 9-6.8l17.5-61.6h89l17.3 61.5c1.1 4 4.8 6.8 9 6.8h61.2c1 0 1.9-.1 2.8-.4 2.4-.8 4.3-2.4 5.5-4.6 1.1-2.2 1.3-4.7.6-7.1zM663.3 325.5l32.8-116.9h6.3l32.1 116.9h-71.2zm143.5 492.9H677.2v-.4l132.6-188.9c1.1-1.6 1.7-3.4 1.7-5.4v-36.4c0-5.1-4.2-9.3-9.3-9.3h-204c-5.1 0-9.3 4.2-9.3 9.3v43c0 5.1 4.2 9.3 9.3 9.3h122.6v.4L587.7 828.9a9.35 9.35 0 00-1.7 5.4v36.4c0 5.1 4.2 9.3 9.3 9.3h211.4c5.1 0 9.3-4.2 9.3-9.3v-43a9.2 9.2 0 00-9.2-9.3zM310.3 167.1a8 8 0 00-12.6 0L185.7 309c-4.2 5.3-.4 13 6.3 13h76v530c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V322h76c6.7 0 10.5-7.8 6.3-13l-112-141.9z"}}]},name:"sort-descending",theme:"outlined"};function se(){return se=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r[i]=l[i])}return r},se.apply(this,arguments)}const Mt=(r,a)=>s.createElement($,se({},r,{ref:a,icon:Ct})),_e=s.forwardRef(Mt);function ae(){return ae=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r[i]=l[i])}return r},ae.apply(this,arguments)}const kt=(r,a)=>s.createElement($,ae({},r,{ref:a,icon:it})),Dt=s.forwardRef(kt);function re(){return re=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r[i]=l[i])}return r},re.apply(this,arguments)}const Pt=(r,a)=>s.createElement($,re({},r,{ref:a,icon:Ot})),At=s.forwardRef(Pt);function le(){return le=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r[i]=l[i])}return r},le.apply(this,arguments)}const Lt=(r,a)=>s.createElement($,le({},r,{ref:a,icon:Nt})),Ce=s.forwardRef(Lt);function ne(){return ne=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r[i]=l[i])}return r},ne.apply(this,arguments)}const Tt=(r,a)=>s.createElement($,ne({},r,{ref:a,icon:$t})),Bt=s.forwardRef(Tt);function oe(){return oe=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r[i]=l[i])}return r},oe.apply(this,arguments)}const Et=(r,a)=>s.createElement($,oe({},r,{ref:a,icon:It})),Ft=s.forwardRef(Et);function ie(){return ie=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r[i]=l[i])}return r},ie.apply(this,arguments)}const zt=(r,a)=>s.createElement($,ie({},r,{ref:a,icon:Rt})),Ht=s.forwardRef(zt);var Ut=(r,a,l)=>new Promise((i,M)=>{var H=f=>{try{I(l.next(f))}catch(j){M(j)}},U=f=>{try{I(l.throw(f))}catch(j){M(j)}},I=f=>f.done?i(f.value):Promise.resolve(f.value).then(H,U);I((l=l.apply(r,a)).next())});const{RangePicker:Gt}=ct,ps=()=>{var r,a,l,i,M,H,U,I;const f=qe(),j=Ke(),q=We(),de=Ze(Je),n=(de==null?void 0:de.id)||"guest",[ue,Oe]=s.useState([]),[k,g]=s.useState(1),[S,G]=s.useState(15),[x,D]=s.useState(()=>sessionStorage.getItem(`user_${n}_sortType`)||"updatedAt"),[v,P]=s.useState(()=>sessionStorage.getItem(`user_${n}_sortOrder`)||"desc"),[b,A]=s.useState(()=>sessionStorage.getItem(`user_${n}_statusFilter`)||"all"),[c,_]=s.useState([sessionStorage.getItem(`user_${n}_dateRangeStart`)?o(sessionStorage.getItem(`user_${n}_dateRangeStart`)):null,sessionStorage.getItem(`user_${n}_dateRangeEnd`)?o(sessionStorage.getItem(`user_${n}_dateRangeEnd`)):null]),[m,C]=s.useState([sessionStorage.getItem(`user_${n}_presetDateRangeStart`)?o(sessionStorage.getItem(`user_${n}_presetDateRangeStart`)):null,sessionStorage.getItem(`user_${n}_presetDateRangeEnd`)?o(sessionStorage.getItem(`user_${n}_presetDateRangeEnd`)):null]),[y,K]=s.useState(()=>sessionStorage.getItem(`user_${n}_searchTerm`)||""),[Ne,L]=s.useState(!1),[$e,T]=s.useState(!1),[Ie,R]=s.useState(!1),[B,O]=s.useState(()=>sessionStorage.getItem(`user_${n}_activePresetLabel`)||""),{handlePopup:Re}=Xe(),Me=120,[me,ke]=s.useState(0);s.useEffect(()=>{sessionStorage.setItem(`user_${n}_sortType`,x),sessionStorage.setItem(`user_${n}_sortOrder`,v),sessionStorage.setItem(`user_${n}_statusFilter`,b),sessionStorage.setItem(`user_${n}_searchTerm`,y),sessionStorage.setItem(`user_${n}_activePresetLabel`,B),sessionStorage.setItem(`user_${n}_dateRangeStart`,c[0]?c[0].toISOString():""),sessionStorage.setItem(`user_${n}_dateRangeEnd`,c[1]?c[1].toISOString():""),sessionStorage.setItem(`user_${n}_presetDateRangeStart`,m[0]?m[0].toISOString():""),sessionStorage.setItem(`user_${n}_presetDateRangeEnd`,m[1]?m[1].toISOString():"")},[n,x,v,b,y,c,m,B]),s.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[k]);const De=s.useCallback(()=>{D("updatedAt"),P("desc"),A("all"),_([null,null]),C([null,null]),O(""),K(""),g(1),sessionStorage.removeItem(`user_${n}_sortType`),sessionStorage.removeItem(`user_${n}_sortOrder`),sessionStorage.removeItem(`user_${n}_statusFilter`),sessionStorage.removeItem(`user_${n}_searchTerm`),sessionStorage.removeItem(`user_${n}_activePresetLabel`),sessionStorage.removeItem(`user_${n}_dateRangeStart`),sessionStorage.removeItem(`user_${n}_dateRangeEnd`),sessionStorage.removeItem(`user_${n}_presetDateRangeStart`),sessionStorage.removeItem(`user_${n}_presetDateRangeEnd`)},[n]),Pe=s.useCallback(()=>{K(""),g(1)},[]),W=x==="updatedAt"&&v==="desc",Ae=s.useMemo(()=>y||!W||b!=="all"||c[0]||m[0],[y,W,b,c,m]),Le=s.useCallback(()=>x==="title"&&v==="asc"?"A-Z":x==="title"&&v==="desc"?"Z-A":x==="updatedAt"&&v==="desc"?"Recently Updated":x==="updatedAt"&&v==="asc"?"Oldest Updated":"Recently Updated",[x,v]),Te=s.useCallback(()=>{switch(b){case"complete":return"Completed";case"pending":return"Pending";case"failed":return"Failed";default:return"All"}},[b]),Be=s.useCallback(()=>B||(c[0]&&c[1]?`${o(c[0]).format("MMM DD")} - ${o(c[1]).format("MMM DD")}`:"All Dates"),[B,c]),Ee=s.useCallback(()=>Ut(null,null,function*(){const t={start:c[0]?o(c[0]).toISOString():m[0]?o(m[0]).toISOString():void 0,end:c[1]?o(c[1]).toISOString():m[1]?o(m[1]).toISOString():void 0,isArchived:""};return(yield f(rt(t)).unwrap()).data||[]}),[f,c,m]),{data:V=[],isLoading:ge}=ot({queryKey:["blogs",(a=(r=c[0])==null?void 0:r.toISOString())!=null?a:null,(i=(l=c[1])==null?void 0:l.toISOString())!=null?i:null,(H=(M=m[0])==null?void 0:M.toISOString())!=null?H:null,(I=(U=m[1])==null?void 0:U.toISOString())!=null?I:null],queryFn:Ee,staleTime:10*60*1e3,cacheTime:15*60*1e3,onError:t=>{z.error("Failed to load blogs. Please try again.")}}),he=Se({mutationFn:t=>f(st({id:t})).unwrap(),onSuccess:()=>{q.invalidateQueries(["blogs"]),z.success("Blog retry initiated.")},onError:t=>{z.error("Failed to retry blog.")}}),pe=Se({mutationFn:t=>f(at(t)).unwrap(),onSuccess:()=>{q.invalidateQueries(["blogs"]),z.success("Blog moved to trash.")},onError:t=>{z.error("Failed to archive blog.")}}),fe=s.useMemo(()=>new nt(V,{keys:[{name:"title",weight:.5},{name:"content",weight:.3},{name:"focusKeywords",weight:.2}],threshold:.3,includeScore:!0,shouldSort:!0}),[V]),Z=s.useMemo(()=>{let t=V;y.trim()&&(t=fe.search(y).map(({item:u})=>u)),b!=="all"&&(t=t.filter(u=>u.status===b)),c[0]&&c[1]?t=t.filter(u=>o(u.updatedAt).isBetween(c[0],c[1],"day","[]")):m[0]&&m[1]&&(t=t.filter(u=>o(u.updatedAt).isBetween(m[0],m[1],"day","[]")));const d=[...t];return x==="title"?d.sort((u,h)=>v==="asc"?u.title.localeCompare(h.title):h.title.localeCompare(u.title)):x==="updatedAt"&&d.sort((u,h)=>v==="asc"?new Date(u.updatedAt)-new Date(h.updatedAt):new Date(h.updatedAt)-new Date(u.updatedAt)),{blogs:d.slice((k-1)*S,k*S),total:d.length}},[V,y,b,c,m,x,v,k,S,fe]);s.useEffect(()=>{Oe(Z.blogs),ke(Z.total)},[Z]),s.useEffect(()=>{const t=()=>{window.innerWidth>=1024?G(15):window.innerWidth>=768?G(12):G(6),g(1)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const xe=s.useCallback(t=>{j(`/toolbox/${t._id}`)},[j]),ve=s.useCallback(t=>{j(`/blog-editor/${t._id}`)},[j]),Fe=s.useCallback(t=>{he.mutate(t)},[he]),ze=s.useCallback(t=>{pe.mutate(t)},[pe]),be=s.useCallback((t,d=Me)=>t?t.length>d?t.substring(0,d)+"...":t:"",[]),ye=s.useCallback(t=>{var d,u,h;return(h=(u=(d=t==null?void 0:t.replace(/<[^>]*>/g,""))==null?void 0:d.replace(/[\\*#=_~`>\-]+/g,""))==null?void 0:u.replace(/\s{2,}/g," "))==null?void 0:h.trim()},[]),He=s.useMemo(()=>[{label:"A-Z (Ascending)",icon:e.jsx(Ft,{}),onClick:()=>{D("title"),P("asc"),L(!1),g(1)}},{label:"Z-A (Descending)",icon:e.jsx(Ht,{}),onClick:()=>{D("title"),P("desc"),L(!1),g(1)}},{label:"Recently Updated",icon:e.jsx(Ce,{}),onClick:()=>{D("updatedAt"),P("desc"),L(!1),g(1)}},{label:"Oldest Updated",icon:e.jsx(Dt,{}),onClick:()=>{D("updatedAt"),P("asc"),L(!1),g(1)}}],[]),Ue=s.useMemo(()=>[{label:"All Statuses",icon:e.jsx(_e,{}),onClick:()=>{A("all"),T(!1),g(1)}},{label:"Status: Completed",icon:e.jsx(_e,{}),onClick:()=>{A("complete"),T(!1),g(1)}},{label:"Status: Pending",icon:e.jsx(Bt,{}),onClick:()=>{A("pending"),T(!1),g(1)}},{label:"Status: Failed",icon:e.jsx(At,{}),onClick:()=>{A("failed"),T(!1),g(1)}}],[]),Ge=s.useMemo(()=>[{label:"Last 7 Days",value:[o().subtract(7,"days"),o()],onClick:()=>{C([o().subtract(7,"days"),o()]),_([null,null]),O("Last 7 Days"),g(1),R(!1)}},{label:"Last 30 Days",value:[o().subtract(30,"days"),o()],onClick:()=>{C([o().subtract(30,"days"),o()]),_([null,null]),O("Last 30 Days"),g(1),R(!1)}},{label:"Last 3 Months",value:[o().subtract(3,"months"),o()],onClick:()=>{C([o().subtract(3,"months"),o()]),_([null,null]),O("Last 3 Months"),g(1),R(!1)}},{label:"Last 6 Months",value:[o().subtract(6,"months"),o()],onClick:()=>{C([o().subtract(6,"months"),o()]),_([null,null]),O("Last 6 Months"),g(1),R(!1)}},{label:"This Year",value:[o().startOf("year"),o()],onClick:()=>{C([o().startOf("year"),o()]),_([null,null]),O("This Year"),g(1),R(!1)}}],[]);return e.jsxs("div",{className:"p-5",children:[e.jsx(et,{children:e.jsx("title",{children:"Blogs | GenWrite"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(w.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Blogs Generated"}),e.jsx(w.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"text-gray-500 text-sm mt-2 max-w-md",children:"All your content creation tools in one place. Streamline your workflow with our powerful suite of tools."})]}),e.jsx(w.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(tt,{to:"/blog-editor",className:"flex items-center gap-2 px-4 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-lg transition-colors text-sm font-medium",children:[e.jsx(dt,{className:"w-4 h-4"}),"New Blog"]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 bg-white p-4 rounded-lg mb-6",children:[e.jsx("div",{className:"flex-1 flex items-center gap-2",children:e.jsx(ut,{placeholder:"Search blogs...",value:y,onChange:t=>{K(t.target.value),g(1)},prefix:e.jsx(gt,{className:"w-4 h-4 text-gray-500"}),suffix:y?e.jsx(mt,{className:"w-4 h-4 text-gray-500 cursor-pointer",onClick:Pe}):null,className:"rounded-lg border-gray-300 shadow-sm","aria-label":"Search blogs"})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(ee,{open:Ne,onOpenChange:t=>L(t),trigger:"click",placement:"bottomRight",content:e.jsx("div",{className:"min-w-[200px] rounded-lg space-y-1",children:He.map(({label:t,icon:d,onClick:u})=>e.jsx(Q,{title:t,placement:"left",children:e.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 px-4 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors","aria-label":`Sort by ${t}`,children:[e.jsx("span",{className:"text-lg",children:d}),e.jsx("span",{children:t})]})},t))}),children:e.jsx(w.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(N,{type:"default",icon:e.jsx(yt,{className:"w-4 h-4"}),className:`p-2 rounded-lg border-gray-300 shadow-sm hover:bg-gray-100 ${W?"":"border-blue-400 bg-blue-50 text-blue-600"}`,"aria-label":"Open sort menu",children:["Sort: ",Le()]})})}),e.jsx(ee,{open:$e,onOpenChange:t=>T(t),trigger:"click",placement:"bottomRight",content:e.jsx("div",{className:"min-w-[200px] rounded-lg space-y-1",children:Ue.map(({label:t,icon:d,onClick:u})=>e.jsx(Q,{title:t,placement:"left",children:e.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 px-4 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors","aria-label":`Filter by ${t}`,children:[e.jsx("span",{className:"text-lg",children:d}),e.jsx("span",{children:t})]})},t))}),children:e.jsx(w.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(N,{type:"default",icon:e.jsx(_t,{className:"w-4 h-4"}),className:`p-2 rounded-lg border-gray-300 shadow-sm hover:bg-gray-100 ${b!=="all"?"border-green-400 bg-green-50 text-green-600":""}`,"aria-label":"Open filter menu",children:["Filter: ",Te()]})})}),e.jsx(ee,{open:Ie,onOpenChange:t=>R(t),trigger:"click",placement:"bottomRight",content:e.jsx("div",{children:Ge.map(({label:t,onClick:d})=>e.jsx(Q,{title:t,placement:"left",children:e.jsxs("button",{onClick:d,className:"w-full flex items-center gap-3 px-4 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors","aria-label":`Filter by ${t}`,children:[e.jsx("span",{className:"text-lg",children:e.jsx(Ce,{})}),e.jsx("span",{children:t})]})},t))}),children:e.jsx(w.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(N,{type:"default",icon:e.jsx(wt,{className:"w-4 h-4"}),className:`p-2 rounded-lg border-gray-300 shadow-sm hover:bg-gray-100 ${c[0]||m[0]?"border-purple-400 bg-purple-50 text-purple-600":""}`,"aria-label":"Open date preset menu",children:["Date: ",Be()]})})}),e.jsx(w.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(N,{type:"default",icon:e.jsx(ht,{className:"w-4 h-4"}),onClick:()=>q.invalidateQueries(["blogs"]),className:"p-2 rounded-lg border-gray-300 shadow-sm hover:bg-gray-100","aria-label":"Refresh blogs",children:"Refresh"})}),e.jsx(w.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(N,{type:"default",icon:e.jsx(te,{className:"w-4 h-4"}),onClick:De,className:`p-2 rounded-lg border-gray-300 shadow-sm hover:bg-gray-100 ${Ae?"border-red-400 bg-red-50 text-red-600":""}`,"aria-label":"Reset filters",children:"Reset"})})]}),e.jsx("div",{className:"flex-1",children:e.jsx(Gt,{value:c,onChange:t=>{_(t),C([null,null]),O(""),g(1)},className:`w-full rounded-lg border-gray-300 shadow-sm ${c[0]||m[0]?"border-purple-400 shadow-purple-100":""}`,format:"YYYY-MM-DD",placeholder:["Start date","End date"],"aria-label":"Select date range",disabledDate:t=>t&&t>o().endOf("day")})})]}),ge?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(S)].map((t,d)=>e.jsx("div",{className:"bg-white shadow-md rounded-xl p-4",children:e.jsx(lt,{})},d))}):ue.length===0?e.jsxs("div",{className:"flex flex-col justify-center items-center",style:{minHeight:"calc(100vh - 270px)"},children:[e.jsx("img",{src:"Images/no-blog.png",alt:"No blogs",style:{width:"8rem"}}),e.jsx("p",{className:"text-xl mt-5",children:"No blogs available."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 place-items-center p-2",children:ue.map(t=>{const d=t.isManuallyEdited===!0,{_id:u,title:h,status:p,createdAt:Ve,content:je,aiModel:E,focusKeywords:we,updatedAt:Ye,wordpress:J,agendaJob:X}=t,Y=/gemini/gi.test(E);return e.jsx(pt.Ribbon,{text:e.jsx("span",{className:"flex items-center justify-center gap-1 py-1 font-medium tracking-wide",children:d?e.jsx(e.Fragment,{children:"Manually Generated"}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:`./Images/${Y?"gemini":E==="claude"?"claude":"chatgpt"}.png`,alt:Y?"Gemini":E==="claude"?"Claude":"ChatGPT",width:20,height:20,loading:"lazy",className:"bg-white"}),Y?"Gemini 2.0 flash":E==="claude"?"Claude 4 sonnet":"Gpt 4.1 nano"]})}),className:"absolute top-0",color:d?"#9CA3AF":Y?"#4796E3":E==="claude"?"#9368F8":"#74AA9C",children:e.jsxs("div",{className:`bg-white shadow-md hover:shadow-xl transition-all duration-300 rounded-xl p-4 min-h-[180px] min-w-[390px] relative ${d?"border-gray-500":p==="failed"?"border-red-500":p==="pending"||p==="in-progress"?"border-yellow-500":"border-green-500"} border-2`,title:h,children:[e.jsx("div",{className:"text-xs font-semibold text-gray-400 mb-2 -mt-2",children:new Date(Ve).toLocaleDateString("en-US",{dateStyle:"medium"})}),d?e.jsx("div",{className:"cursor-pointer",onClick:()=>ve(t),role:"button",tabIndex:0,onKeyDown:F=>F.key==="Enter"&&ve(t),"aria-label":`View blog ${h}`,children:e.jsxs("div",{className:"flex flex-col gap-4 items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg capitalize font-semibold text-gray-900 !text-left max-w-76",children:h}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3 break-all",children:be(ye(je))||""})]})}):e.jsx(Q,{title:p==="complete"?h:p==="failed"?"Blog generation failed":p==="pending"?`Pending Blog will be generated ${X!=null&&X.nextRunAt?"at "+new Date(X.nextRunAt).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"}):"shortly"}`:`Blog generation is ${p}`,color:p==="complete"?"green":p==="failed"?"red":"#eab308",children:e.jsx("div",{className:"cursor-pointer",onClick:()=>{(p==="complete"||p==="failed")&&xe(t)},role:"button",tabIndex:0,onKeyDown:F=>F.key==="Enter"&&(p==="complete"||p==="failed")&&xe(t),"aria-label":`View blog ${h}`,children:e.jsxs("div",{className:"flex flex-col gap-4 items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg capitalize font-semibold text-gray-900 !text-left max-w-76",children:h}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3 break-all",children:be(ye(je))||""})]})})}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:we==null?void 0:we.map((F,Qe)=>e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-full",children:F},Qe))}),p==="failed"&&e.jsx(xt,{title:"Retry Blog Generation",description:"Are you sure you want to retry generating this blog?",icon:e.jsx(te,{style:{color:"red"},size:15,className:"mt-1 mr-1"}),okText:"Yes",cancelText:"No",onConfirm:()=>Fe(u),children:e.jsx(N,{type:"text",className:"p-2 hover:!border-blue-500 hover:text-blue-500","aria-label":"Retry blog generation",children:e.jsx(te,{})})}),e.jsx(N,{type:"text",className:"p-2 hover:!border-red-500 hover:text-red-500",onClick:()=>Re({title:"Move to Trash",description:e.jsxs("span",{className:"my-2",children:["Blog ",e.jsx("b",{children:h})," will be moved to trash. You can restore it later."]}),confirmText:"Delete",onConfirm:()=>{ze(u)},confirmProps:{type:"text",className:"border-red-500 hover:bg-red-500 hover:text-white"},cancelProps:{danger:!1}}),"aria-label":`Move blog ${h} to trash`,children:e.jsx(ft,{})})]}),e.jsxs("div",{className:"mt-3 -mb-2 flex justify-end text-xs text-right text-gray-500 font-medium",children:[(J==null?void 0:J.postedOn)&&e.jsxs("span",{className:"",children:["Posted on:"," ",new Date(J.postedOn).toLocaleDateString("en-US",{dateStyle:"medium"})]}),e.jsxs("span",{className:"ml-auto",children:["Last updated:"," ",new Date(Ye).toLocaleDateString("en-US",{dateStyle:"medium"})]})]})]})},u)})}),me>S&&e.jsx("div",{className:"flex justify-center mt-8",children:e.jsx(vt,{current:k,total:me,pageSize:S,onChange:(t,d)=>{g(t),d!==S&&(G(d),g(1))},showTotal:t=>`Total ${t} blogs`,responsive:!0,showSizeChanger:!1,pageSizeOptions:["6","12","15"],disabled:ge})})]})]})};export{ps as default};
