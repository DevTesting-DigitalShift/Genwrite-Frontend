var k=Object.defineProperty;var g=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var B=(d,a,s)=>a in d?k(d,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):d[a]=s,m=(d,a)=>{for(var s in a||(a={}))T.call(a,s)&&B(d,s,a[s]);if(g)for(var s of g(a))E.call(a,s)&&B(d,s,a[s]);return d};import{j as e}from"./tiptap-Cw5itmsP.js";import{b as I}from"./Brand.query-OwI8p7Ey.js";import{r as p}from"./vendor-D8zynvq1.js";import{S as i}from"./index-6Wzook5W.js";import{m as n,j as y,J as v,y as C,C as A,T as F,s as N}from"./antd-CNZYc_MN.js";const{Text:V,Paragraph:_}=F,O=({label:d,labelClass:a,value:s={isCheckedBrand:!1,brandId:"",addCTA:!1},onChange:c,errorText:b,size:x="small"})=>{const[t,f]=p.useState(s),o=p.useMemo(()=>b,[b]),{data:l=[],isLoading:w,error:u}=I.useList();p.useEffect(()=>{f(s)},[s]);const h=r=>{const j=m(m({},t),r);f(j),c==null||c(j)},S=r=>{u?(N.error("Brand Fetchin Error, please try after some time."),console.error(u)):r&&(!l||l.length===0)?N.warning("No brand voices available. Create one to enable this option."):h({isCheckedBrand:r,brandId:r?t.brandId:""})};return e.jsx(e.Fragment,{children:e.jsxs(n,{vertical:!0,gap:8,children:[e.jsxs(n,{justify:"space-between",className:"form-item-wrapper",children:[e.jsx("label",{htmlFor:"blog-isCheckedBrand",className:i(a),children:d}),e.jsx(y,{size:x,id:"blog-isCheckedBrand",checked:t.isCheckedBrand,onChange:S,disabled:w||!l||l.length===0})]}),e.jsxs(n,{vertical:!0,gap:4,hidden:!t.isCheckedBrand,className:i(o&&"p-1 rounded-lg border !border-red-500"),children:[e.jsx("label",{className:i(o&&"text-red-500",a),children:o||"Select Brand Voice"}),e.jsx(v.Group,{onChange:r=>h({brandId:r.target.value}),value:t.brandId,className:"w-full",children:e.jsx(C,{direction:"vertical",className:"w-full h-[200px] overflow-y-auto p-2",style:{scrollbarWidth:"thin",scrollBehavior:"smooth"},children:l.map(r=>e.jsx(A,{size:"small",hoverable:!0,className:i("transition-all border mt-2 hover:ring-2 hover:ring-purple-500",t.brandId===r._id?"border-blue-500 bg-blue-50":"border-gray-400"),children:e.jsx(v,{value:r._id,children:e.jsxs(C,{direction:"vertical",size:2,children:[e.jsx(V,{className:"font-montserrat font-medium uppercase line-clamp-1",children:r.nameOfVoice}),e.jsx(_,{type:"secondary",style:{marginBottom:0},ellipsis:{rows:2,expandable:!1},children:r.describeBrand})]})})},r._id))})})]}),e.jsxs(n,{justify:"space-between",hidden:!t.isCheckedBrand,className:"!mt-4",children:[e.jsx("label",{htmlFor:"blog-brand-add-cta",className:i(a),children:"Add CTA at the End"}),e.jsx(y,{size:x,id:"blog-brand-add-cta",checked:t.addCTA,onChange:r=>h({addCTA:r})})]})]})})};export{O as B};
