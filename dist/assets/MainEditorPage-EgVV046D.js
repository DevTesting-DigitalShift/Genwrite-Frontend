var B6=Object.defineProperty,j6=Object.defineProperties;var F6=Object.getOwnPropertyDescriptors;var _c=Object.getOwnPropertySymbols;var Nb=Object.prototype.hasOwnProperty,vb=Object.prototype.propertyIsEnumerable;var wb=Math.pow,Mh=(e,t,n)=>t in e?B6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U=(e,t)=>{for(var n in t||(t={}))Nb.call(t,n)&&Mh(e,n,t[n]);if(_c)for(var n of _c(t))vb.call(t,n)&&Mh(e,n,t[n]);return e},oe=(e,t)=>j6(e,F6(t));var ir=(e,t)=>{var n={};for(var r in e)Nb.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_c)for(var r of _c(e))t.indexOf(r)<0&&vb.call(e,r)&&(n[r]=e[r]);return n};var Vt=(e,t,n)=>Mh(e,typeof t!="symbol"?t+"":t,n);var bt=(e,t,n)=>new Promise((r,i)=>{var s=u=>{try{o(n.next(u))}catch(c){i(c)}},a=u=>{try{o(n.throw(u))}catch(c){i(c)}},o=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,a);o((n=n.apply(e,t)).next())});import{$ as Yl,a0 as H6,r as q,a1 as U6,a2 as z6,a3 as q6,a4 as G6,a5 as V6,a6 as Bh,a7 as $6,a8 as W6,m as jn,j as m,a9 as Y6,c as St,K as Kl,a as oi,z as K6,u as Vf,P as hn,S as ix,W as de,aa as Q6,ab as X6,ac as J6,A as eg,B as He,ad as Li,b as Ql,Q as Z6,M as tg,ae as eI,af as tI,ag as nI,ah as rI,ai as jh,T as kt,aj as iI,ak as sI,al as ng,am as aI,an as $f,ao as rg,ap as Ib,aq as uI,ar as oI,d as ig,L as Cd,as as yl,at as lI,au as cI,x as dI,av as kb,aw as fI,H as hI,ax as Ob,ay as pI,az as mI}from"./index-BOjYwTQ9.js";import{T as gI}from"./TemplateSelection-DmW1_n-E.js";import{I as Ct}from"./index-D46neESn.js";import{S as Ar}from"./index-WfLJFMKX.js";import{P as kn}from"./plus-CgXo6abL.js";import{X as zs}from"./x-BzZJlCKO.js";import{R as bI}from"./refresh-ccw-DUjQ6itV.js";import{S as ls}from"./sparkles-BXl1W_iA.js";import{T as TI,I as bu,D as Db,v as EI}from"./forms.schemas-DlGGW_4w.js";import{B as yI}from"./BrandVoiceSelector-BV4BYgb1.js";import{T as _I}from"./index-Cv4bwi9X.js";import{E as _l,C as sx,L as Au}from"./link-DUL6DIQX.js";import{C as xI}from"./circle-alert-CF-ghz1h.js";import{C as AI}from"./circle-check-big-BmR1hCmp.js";import{o as CI}from"./UpgardePopUp-DSAEuhW0.js";import{c as ax}from"./pricingConfig-DUMy0XHk.js";import{S as Ti}from"./index-Bzifz0ya.js";import{T as SI}from"./index-C5aBg04b.js";import{Z as NI}from"./zap-CP5oQuys.js";import{R as xl}from"./refresh-cw-DLx4XmUO.js";import{T as Op}from"./trending-up-BmFE_7JN.js";import{I as Al}from"./info-DaQTVB57.js";import{G as Rb}from"./globe-CaBxMQf8.js";import{F as Dp}from"./file-text-Bi4mEGDs.js";import{C as vI}from"./calendar-4gXvKxZC.js";import{L as Lb}from"./lock-sFMGQ8xz.js";import{T as wI}from"./tag-DUPL0quW.js";import{C as II}from"./crown-D7h92co4.js";import{D as Pb}from"./download-C3cp_j8i.js";import{I as ai}from"./image-W8KZcnER.js";import{T as kI}from"./target-BYiiTVOC.js";import{I as ux}from"./ImageGalleryPicker-h3hsjJ-E.js";import{F as Mb}from"./index-DYFbVrRz.js";import{T as wi,P as sg}from"./trash-2-D6e6sbIT.js";import{L as ag}from"./loader-circle-BZ0r6lvU.js";import{Y as Fh,M as Bb}from"./youtube-DD6GwgvZ.js";import{C as Cu}from"./check-BD7UZZ5L.js";import{C as OI}from"./chevron-down-DEfjx-Yl.js";import{E as DI}from"./eye-BJ0hcWtJ.js";import"./search-DFVePN2M.js";import"./index-BHYdUTwY.js";import"./Input-C2DAgzTE.js";import"./EyeOutlined-Bmd706kk.js";import"./SearchOutlined-BVWKvrgr.js";import"./move-B52WT0ba.js";import"./Brand.query-Dn5cl9_B.js";import"./useQuery-DARZ7AdZ.js";import"./useInfiniteQuery-moNbRJ06.js";import"./index-DPdlEYDY.js";import"./useForm-IaI-qP_b.js";import"./index-CipYbMI-.js";import"./gapSize-U1swVQyS.js";import"./RightOutlined-BFNK2QcY.js";import"./collapse-BbEVqHco.js";import"./imageGalleryApi-C93NoRVj.js";import"./DebouncedSearchInput-C-Rgm39k.js";function ox(e){const t=Yl(()=>H6(e)),{isStatic:n}=q.useContext(U6);if(n){const[,r]=q.useState(e);q.useEffect(()=>t.on("change",r),[])}return t}function lx(e,t){const n=ox(t()),r=()=>n.set(t());return r(),z6(()=>{const i=()=>q6.preRender(r,!1,!0),s=e.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),G6(r)}}),n}const RI=e=>e&&typeof e=="object"&&e.mix,LI=e=>RI(e)?e.mix:void 0;function PI(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],i=e[1+n],s=e[2+n],a=e[3+n],o=V6(i,s,U({mixer:LI(s[0])},a));return t?o(r):o}function MI(e){Bh.current=[],e();const t=lx(Bh.current,e);return Bh.current=void 0,t}function BI(e,t,n,r){if(typeof e=="function")return MI(e);const i=typeof t=="function"?t:PI(t,n,r);return Array.isArray(e)?jb(e,i):jb([e],([s])=>i(s))}function jb(e,t){const n=Yl(()=>[]);return lx(e,()=>{n.length=0;const r=e.length;for(let i=0;i<r;i++)n[i]=e[i].get();return t(n)})}class jI{constructor(){this.componentControls=new Set}subscribe(t){return this.componentControls.add(t),()=>this.componentControls.delete(t)}start(t,n){this.componentControls.forEach(r=>{r.start(t.nativeEvent||t,n)})}}const FI=()=>new jI;function HI(){return Yl(FI)}const cx=q.createContext(null);function UI(e,t,n,r){if(!r)return e;const i=e.findIndex(l=>l.value===t);if(i===-1)return e;const s=r>0?1:-1,a=e[i+s];if(!a)return e;const o=e[i],u=a.layout,c=$6(u.min,u.max,.5);return s===1&&o.layout.max+n>c||s===-1&&o.layout.min+n<c?W6(e,i,i+s):e}function zI(o,a){var u=o,{children:e,as:t="ul",axis:n="y",onReorder:r,values:i}=u,s=ir(u,["children","as","axis","onReorder","values"]);const c=Yl(()=>jn[t]),l=[],d=q.useRef(!1),h={axis:n,registerItem:(f,p)=>{const x=l.findIndex(_=>f===_.value);x!==-1?l[x].layout=p[n]:l.push({value:f,layout:p[n]}),l.sort(VI)},updateOrder:(f,p,x)=>{if(d.current)return;const _=UI(l,f,p,x);l!==_&&(d.current=!0,r(_.map(GI).filter(b=>i.indexOf(b)!==-1)))}};return q.useEffect(()=>{d.current=!1}),m.jsx(c,oe(U({},s),{ref:a,ignoreStrict:!0,children:m.jsx(cx.Provider,{value:h,children:e})}))}const qI=q.forwardRef(zI);function GI(e){return e.value}function VI(e,t){return e.layout.min-t.layout.min}function Fb(e,t=0){return Y6(e)?e:ox(t)}function $I(u,o){var c=u,{children:e,style:t={},value:n,as:r="li",onDrag:i,layout:s=!0}=c,a=ir(c,["children","style","value","as","onDrag","layout"]);const l=Yl(()=>jn[r]),d=q.useContext(cx),h={x:Fb(t.x),y:Fb(t.y)},f=BI([h.x,h.y],([b,T])=>b||T?1:"unset"),{axis:p,registerItem:x,updateOrder:_}=d;return m.jsx(l,oe(U({drag:p},a),{dragSnapToOrigin:!0,style:oe(U({},t),{x:h.x,y:h.y,zIndex:f}),layout:s,onDrag:(b,T)=>{const{velocity:N}=T;N[p]&&_(n,h[p].get(),N[p]),i&&i(b,T)},onLayoutMeasure:b=>x(n,b),ref:o,ignoreStrict:!0,children:e}))}const WI=q.forwardRef($I);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],dx=St("align-center",YI);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],fx=St("align-left",KI);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],hx=St("align-right",QI);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Sd=St("bold",XI);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],px=St("chart-column",JI);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],ek=St("chart-no-axes-column-increasing",ZI);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nk=St("chevron-left",tk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ik=St("chevron-right",rk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ak=St("chevron-up",sk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],ok=St("file-check",uk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],ck=St("file-code",lk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],fk=St("grip-vertical",dk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],pk=St("heading-1",hk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],gk=St("heading-2",mk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],mx=St("heading-3",bk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v3a1 1 0 0 0 1 1h3",key:"tj5zdr"}],["path",{d:"M21 10v8",key:"1kdml4"}],["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}]],gx=St("heading-4",Tk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Nd=St("italic",Ek);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],_k=St("lightbulb",yk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],bx=St("list-ordered",xk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Tx=St("list",Ak);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["path",{d:"M5 12h14",key:"1ays0h"}]],vd=St("minus",Ck);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],Nk=St("panel-right-open",Sk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Sa=St("pen-line",vk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],Ik=St("redo-2",wk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],Ok=St("redo",kk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["path",{d:"M4 7V4h16v3",key:"9msm58"}],["path",{d:"M5 20h6",key:"1h6pxn"}],["path",{d:"M13 4 8 20",key:"kqq6aj"}],["path",{d:"m15 15 5 5",key:"me55sn"}],["path",{d:"m20 15-5 5",key:"11p7ol"}]],Rk=St("remove-formatting",Dk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Pk=St("save",Lk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]],Ex=St("table-properties",Mk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],yx=St("table",Bk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],_x=St("underline",jk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Hk=St("undo-2",Fk);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],zk=St("undo",Uk);function Hb(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const a=n.slice(i,r).trim();(a||!s)&&t.push(a),i=r+1,r=n.indexOf(",",i)}return t}function xx(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const qk=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Gk=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Vk={};function Ub(e,t){return(Vk.jsx?Gk:qk).test(e)}const $k=/[ \t\n\f\r]/g;function Wk(e){return typeof e=="object"?e.type==="text"?zb(e.value):!1:zb(e)}function zb(e){return e.replace($k,"")===""}let Xl=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};Xl.prototype.normal={};Xl.prototype.property={};Xl.prototype.space=void 0;function Ax(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Xl(n,r,t)}function Cl(e){return e.toLowerCase()}class vr{constructor(t,n){this.attribute=n,this.property=t}}vr.prototype.attribute="";vr.prototype.booleanish=!1;vr.prototype.boolean=!1;vr.prototype.commaOrSpaceSeparated=!1;vr.prototype.commaSeparated=!1;vr.prototype.defined=!1;vr.prototype.mustUseProperty=!1;vr.prototype.number=!1;vr.prototype.overloadedBoolean=!1;vr.prototype.property="";vr.prototype.spaceSeparated=!1;vr.prototype.space=void 0;let Yk=0;const ot=Qa(),En=Qa(),Rp=Qa(),Ae=Qa(),Xt=Qa(),wu=Qa(),Or=Qa();function Qa(){return wb(2,++Yk)}const Lp=Object.freeze(Object.defineProperty({__proto__:null,boolean:ot,booleanish:En,commaOrSpaceSeparated:Or,commaSeparated:wu,number:Ae,overloadedBoolean:Rp,spaceSeparated:Xt},Symbol.toStringTag,{value:"Module"})),Hh=Object.keys(Lp);class ug extends vr{constructor(t,n,r,i){let s=-1;if(super(t,n),qb(this,"space",i),typeof r=="number")for(;++s<Hh.length;){const a=Hh[s];qb(this,Hh[s],(r&Lp[a])===Lp[a])}}}ug.prototype.defined=!0;function qb(e,t,n){n&&(e[t]=n)}function Xu(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new ug(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Cl(r)]=r,n[Cl(s.attribute)]=r}return new Xl(t,n,e.space)}const Cx=Xu({properties:{ariaActiveDescendant:null,ariaAtomic:En,ariaAutoComplete:null,ariaBusy:En,ariaChecked:En,ariaColCount:Ae,ariaColIndex:Ae,ariaColSpan:Ae,ariaControls:Xt,ariaCurrent:null,ariaDescribedBy:Xt,ariaDetails:null,ariaDisabled:En,ariaDropEffect:Xt,ariaErrorMessage:null,ariaExpanded:En,ariaFlowTo:Xt,ariaGrabbed:En,ariaHasPopup:null,ariaHidden:En,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xt,ariaLevel:Ae,ariaLive:null,ariaModal:En,ariaMultiLine:En,ariaMultiSelectable:En,ariaOrientation:null,ariaOwns:Xt,ariaPlaceholder:null,ariaPosInSet:Ae,ariaPressed:En,ariaReadOnly:En,ariaRelevant:null,ariaRequired:En,ariaRoleDescription:Xt,ariaRowCount:Ae,ariaRowIndex:Ae,ariaRowSpan:Ae,ariaSelected:En,ariaSetSize:Ae,ariaSort:null,ariaValueMax:Ae,ariaValueMin:Ae,ariaValueNow:Ae,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Sx(e,t){return t in e?e[t]:t}function Nx(e,t){return Sx(e,t.toLowerCase())}const Kk=Xu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wu,acceptCharset:Xt,accessKey:Xt,action:null,allow:null,allowFullScreen:ot,allowPaymentRequest:ot,allowUserMedia:ot,alt:null,as:null,async:ot,autoCapitalize:null,autoComplete:Xt,autoFocus:ot,autoPlay:ot,blocking:Xt,capture:null,charSet:null,checked:ot,cite:null,className:Xt,cols:Ae,colSpan:null,content:null,contentEditable:En,controls:ot,controlsList:Xt,coords:Ae|wu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ot,defer:ot,dir:null,dirName:null,disabled:ot,download:Rp,draggable:En,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ot,formTarget:null,headers:Xt,height:Ae,hidden:Rp,high:Ae,href:null,hrefLang:null,htmlFor:Xt,httpEquiv:Xt,id:null,imageSizes:null,imageSrcSet:null,inert:ot,inputMode:null,integrity:null,is:null,isMap:ot,itemId:null,itemProp:Xt,itemRef:Xt,itemScope:ot,itemType:Xt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ot,low:Ae,manifest:null,max:null,maxLength:Ae,media:null,method:null,min:null,minLength:Ae,multiple:ot,muted:ot,name:null,nonce:null,noModule:ot,noValidate:ot,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ot,optimum:Ae,pattern:null,ping:Xt,placeholder:null,playsInline:ot,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ot,referrerPolicy:null,rel:Xt,required:ot,reversed:ot,rows:Ae,rowSpan:Ae,sandbox:Xt,scope:null,scoped:ot,seamless:ot,selected:ot,shadowRootClonable:ot,shadowRootDelegatesFocus:ot,shadowRootMode:null,shape:null,size:Ae,sizes:null,slot:null,span:Ae,spellCheck:En,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ae,step:null,style:null,tabIndex:Ae,target:null,title:null,translate:null,type:null,typeMustMatch:ot,useMap:null,value:En,width:Ae,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xt,axis:null,background:null,bgColor:null,border:Ae,borderColor:null,bottomMargin:Ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ot,declare:ot,event:null,face:null,frame:null,frameBorder:null,hSpace:Ae,leftMargin:Ae,link:null,longDesc:null,lowSrc:null,marginHeight:Ae,marginWidth:Ae,noResize:ot,noHref:ot,noShade:ot,noWrap:ot,object:null,profile:null,prompt:null,rev:null,rightMargin:Ae,rules:null,scheme:null,scrolling:En,standby:null,summary:null,text:null,topMargin:Ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ot,disableRemotePlayback:ot,prefix:null,property:null,results:Ae,security:null,unselectable:null},space:"html",transform:Nx}),Qk=Xu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Or,accentHeight:Ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ae,amplitude:Ae,arabicForm:null,ascent:Ae,attributeName:null,attributeType:null,azimuth:Ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ae,by:null,calcMode:null,capHeight:Ae,className:Xt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ae,diffuseConstant:Ae,direction:null,display:null,dur:null,divisor:Ae,dominantBaseline:null,download:ot,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ae,enableBackground:null,end:null,event:null,exponent:Ae,externalResourcesRequired:null,fill:null,fillOpacity:Ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wu,g2:wu,glyphName:wu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ae,horizOriginX:Ae,horizOriginY:Ae,id:null,ideographic:Ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ae,k:Ae,k1:Ae,k2:Ae,k3:Ae,k4:Ae,kernelMatrix:Or,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ae,overlineThickness:Ae,paintOrder:null,panose1:null,path:null,pathLength:Ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ae,pointsAtY:Ae,pointsAtZ:Ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Or,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Or,rev:Or,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Or,requiredFeatures:Or,requiredFonts:Or,requiredFormats:Or,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ae,specularExponent:Ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ae,strikethroughThickness:Ae,string:null,stroke:null,strokeDashArray:Or,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ae,strokeOpacity:Ae,strokeWidth:null,style:null,surfaceScale:Ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Or,tabIndex:Ae,tableValues:null,target:null,targetX:Ae,targetY:Ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Or,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ae,underlineThickness:Ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ae,values:null,vAlphabetic:Ae,vMathematical:Ae,vectorEffect:null,vHanging:Ae,vIdeographic:Ae,version:null,vertAdvY:Ae,vertOriginX:Ae,vertOriginY:Ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Sx}),vx=Xu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),wx=Xu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Nx}),Ix=Xu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Xk={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Jk=/[A-Z]/g,Gb=/-[a-z]/g,Zk=/^data[-\w.:]+$/i;function Wf(e,t){const n=Cl(t);let r=t,i=vr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Zk.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Gb,tO);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Gb.test(s)){let a=s.replace(Jk,eO);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=ug}return new i(r,t)}function eO(e){return"-"+e.toLowerCase()}function tO(e){return e.charAt(1).toUpperCase()}const Jl=Ax([Cx,Kk,vx,wx,Ix],"html"),Ws=Ax([Cx,Qk,vx,wx,Ix],"svg");function Vb(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function kx(e){return e.join(" ").trim()}var su={},Uh,$b;function nO(){if($b)return Uh;$b=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,u=`
`,c="/",l="*",d="",h="comment",f="declaration";function p(_,b){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];b=b||{};var T=1,N=1;function g(D){var B=D.match(t);B&&(T+=B.length);var M=D.lastIndexOf(u);N=~M?D.length-M:N+D.length}function y(){var D={line:T,column:N};return function(B){return B.position=new E(D),L(),B}}function E(D){this.start=D,this.end={line:T,column:N},this.source=b.source}E.prototype.content=_;function I(D){var B=new Error(b.source+":"+T+":"+N+": "+D);if(B.reason=D,B.filename=b.source,B.line=T,B.column=N,B.source=_,!b.silent)throw B}function R(D){var B=D.exec(_);if(B){var M=B[0];return g(M),_=_.slice(M.length),B}}function L(){R(n)}function S(D){var B;for(D=D||[];B=A();)B!==!1&&D.push(B);return D}function A(){var D=y();if(!(c!=_.charAt(0)||l!=_.charAt(1))){for(var B=2;d!=_.charAt(B)&&(l!=_.charAt(B)||c!=_.charAt(B+1));)++B;if(B+=2,d===_.charAt(B-1))return I("End of comment missing");var M=_.slice(2,B-2);return N+=2,g(M),_=_.slice(B),N+=2,D({type:h,comment:M})}}function w(){var D=y(),B=R(r);if(B){if(A(),!R(i))return I("property missing ':'");var M=R(s),F=D({type:f,property:x(B[0].replace(e,d)),value:M?x(M[0].replace(e,d)):d});return R(a),F}}function O(){var D=[];S(D);for(var B;B=w();)B!==!1&&(D.push(B),S(D));return D}return L(),O()}function x(_){return _?_.replace(o,d):d}return Uh=p,Uh}var Wb;function rO(){if(Wb)return su;Wb=1;var e=su&&su.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(su,"__esModule",{value:!0}),su.default=n;const t=e(nO());function n(r,i){let s=null;if(!r||typeof r!="string")return s;const a=(0,t.default)(r),o=typeof i=="function";return a.forEach(u=>{if(u.type!=="declaration")return;const{property:c,value:l}=u;o?i(c,l,u):l&&(s=s||{},s[c]=l)}),s}return su}var fo={},Yb;function iO(){if(Yb)return fo;Yb=1,Object.defineProperty(fo,"__esModule",{value:!0}),fo.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||e.test(c)},a=function(c,l){return l.toUpperCase()},o=function(c,l){return"".concat(l,"-")},u=function(c,l){return l===void 0&&(l={}),s(c)?c:(c=c.toLowerCase(),l.reactCompat?c=c.replace(i,o):c=c.replace(r,o),c.replace(t,a))};return fo.camelCase=u,fo}var ho,Kb;function sO(){if(Kb)return ho;Kb=1;var e=ho&&ho.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(rO()),n=iO();function r(i,s){var a={};return!i||typeof i!="string"||(0,t.default)(i,function(o,u){o&&u&&(a[(0,n.camelCase)(o,s)]=u)}),a}return r.default=r,ho=r,ho}var aO=sO();const uO=Kl(aO),Yf=Ox("end"),Fi=Ox("start");function Ox(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function oO(e){const t=Fi(e),n=Yf(e);if(t&&n)return{start:t,end:n}}function el(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Qb(e.position):"start"in e||"end"in e?Qb(e):"line"in e||"column"in e?Pp(e):""}function Pp(e){return Xb(e&&e.line)+":"+Xb(e&&e.column)}function Qb(e){return Pp(e&&e.start)+"-"+Pp(e&&e.end)}function Xb(e){return e&&typeof e=="number"?e:1}class Qn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s=U({},n)),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=el(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Qn.prototype.file="";Qn.prototype.name="";Qn.prototype.reason="";Qn.prototype.message="";Qn.prototype.stack="";Qn.prototype.column=void 0;Qn.prototype.line=void 0;Qn.prototype.ancestors=void 0;Qn.prototype.cause=void 0;Qn.prototype.fatal=void 0;Qn.prototype.place=void 0;Qn.prototype.ruleId=void 0;Qn.prototype.source=void 0;const og={}.hasOwnProperty,lO=new Map,cO=/[A-Z]/g,dO=new Set(["table","tbody","thead","tfoot","tr"]),fO=new Set(["td","th"]),Dx="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function hO(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=_O(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=yO(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ws:Jl,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Rx(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function Rx(e,t,n){if(t.type==="element")return pO(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return mO(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return bO(e,t,n);if(t.type==="mdxjsEsm")return gO(e,t);if(t.type==="root")return TO(e,t,n);if(t.type==="text")return EO(e,t)}function pO(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Ws,e.schema=i),e.ancestors.push(t);const s=Px(e,t.tagName,!1),a=xO(e,t);let o=cg(e,t);return dO.has(t.tagName)&&(o=o.filter(function(u){return typeof u=="string"?!Wk(u):!0})),Lx(e,a,s,t),lg(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function mO(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Sl(e,t.position)}function gO(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Sl(e,t.position)}function bO(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Ws,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:Px(e,t.name,!0),a=AO(e,t),o=cg(e,t);return Lx(e,a,s,t),lg(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function TO(e,t,n){const r={};return lg(r,cg(e,t)),e.create(t,e.Fragment,r,n)}function EO(e,t){return t.value}function Lx(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function lg(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function yO(e,t,n){return r;function r(i,s,a,o){const c=Array.isArray(a.children)?n:t;return o?c(s,a,o):c(s,a)}}function _O(e,t){return n;function n(r,i,s,a){const o=Array.isArray(s.children),u=Fi(r);return t(i,s,a,o,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function xO(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&og.call(t.properties,i)){const s=CO(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&fO.has(t.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function AO(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Sl(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else Sl(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function cg(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:lO;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const c=i.get(u)||0;a=u+"-"+c,i.set(u,c+1)}}const o=Rx(e,s,a);o!==void 0&&n.push(o)}return n}function CO(e,t,n){const r=Wf(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?xx(n):kx(n)),r.property==="style"){let i=typeof n=="object"?n:SO(e,String(n));return e.stylePropertyNameCase==="css"&&(i=NO(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Xk[r.property]||r.property:r.attribute,n]}}function SO(e,t){try{return uO(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Qn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Dx+"#cannot-parse-style-attribute",i}}function Px(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=Ub(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=Ub(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return og.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Sl(e)}function Sl(e,t){const n=new Qn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Dx+"#cannot-handle-mdx-estrees-without-createevaluater",n}function NO(e){const t={};let n;for(n in e)og.call(e,n)&&(t[vO(n)]=e[n]);return t}function vO(e){let t=e.replace(cO,wO);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function wO(e){return"-"+e.toLowerCase()}const zh={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},IO={};function dg(e,t){const n=IO,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Mx(e,r,i)}function Mx(e,t,n){if(kO(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Jb(e.children,t,n)}return Array.isArray(e)?Jb(e,t,n):""}function Jb(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Mx(e[i],t,n);return r.join("")}function kO(e){return!!(e&&typeof e=="object")}const Zb=document.createElement("i");function fg(e){const t="&"+e+";";Zb.innerHTML=t;const n=Zb.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Pr(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function Gr(e,t){return e.length>0?(Pr(e,e.length,0,t),e):t}const eT={}.hasOwnProperty;function Bx(e){const t={};let n=-1;for(;++n<e.length;)OO(t,e[n]);return t}function OO(e,t){let n;for(n in t){const i=(eT.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){eT.call(i,a)||(i[a]=[]);const o=s[a];DO(i[a],Array.isArray(o)?o:o?[o]:[])}}}function DO(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Pr(e,0,0,r)}function jx(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCodePoint(n)}function ci(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const cr=Ys(/[A-Za-z]/),Wn=Ys(/[\dA-Za-z]/),RO=Ys(/[#-'*+\--9=?A-Z^-~]/);function wd(e){return e!==null&&(e<32||e===127)}const Mp=Ys(/\d/),LO=Ys(/[\dA-Fa-f]/),PO=Ys(/[!-/:-@[-`{-~]/);function We(e){return e!==null&&e<-2}function Yt(e){return e!==null&&(e<0||e===32)}function Tt(e){return e===-2||e===-1||e===32}const Kf=Ys(new RegExp("\\p{P}|\\p{S}","u")),Fa=Ys(/\s/);function Ys(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ju(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&Wn(e.charCodeAt(n+1))&&Wn(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a="ï¿½"}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function _t(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(u){return Tt(u)?(e.enter(n),o(u)):t(u)}function o(u){return Tt(u)&&s++<i?(e.consume(u),o):(e.exit(n),t(u))}}const MO={tokenize:BO};function BO(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),_t(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return We(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const jO={tokenize:FO},tT={tokenize:HO};function FO(e){const t=this,n=[];let r=0,i,s,a;return o;function o(N){if(r<n.length){const g=n[r];return t.containerState=g[1],e.attempt(g[0].continuation,u,c)(N)}return c(N)}function u(N){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&T();const g=t.events.length;let y=g,E;for(;y--;)if(t.events[y][0]==="exit"&&t.events[y][1].type==="chunkFlow"){E=t.events[y][1].end;break}b(r);let I=g;for(;I<t.events.length;)t.events[I][1].end=U({},E),I++;return Pr(t.events,y+1,0,t.events.slice(g)),t.events.length=I,c(N)}return o(N)}function c(N){if(r===n.length){if(!i)return h(N);if(i.currentConstruct&&i.currentConstruct.concrete)return p(N);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(tT,l,d)(N)}function l(N){return i&&T(),b(r),h(N)}function d(N){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,p(N)}function h(N){return t.containerState={},e.attempt(tT,f,p)(N)}function f(N){return r++,n.push([t.currentConstruct,t.containerState]),h(N)}function p(N){if(N===null){i&&T(),b(0),e.consume(N);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),x(N)}function x(N){if(N===null){_(e.exit("chunkFlow"),!0),b(0),e.consume(N);return}return We(N)?(e.consume(N),_(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(N),x)}function _(N,g){const y=t.sliceStream(N);if(g&&y.push(null),N.previous=s,s&&(s.next=N),s=N,i.defineSkip(N.start),i.write(y),t.parser.lazy[N.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<a&&(!i.events[E][1].end||i.events[E][1].end.offset>a))return;const I=t.events.length;let R=I,L,S;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){if(L){S=t.events[R][1].end;break}L=!0}for(b(r),E=I;E<t.events.length;)t.events[E][1].end=U({},S),E++;Pr(t.events,R+1,0,t.events.slice(I)),t.events.length=E}}function b(N){let g=n.length;for(;g-- >N;){const y=n[g];t.containerState=y[1],y[0].exit.call(t,e)}n.length=N}function T(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function HO(e,t,n){return _t(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Pu(e){if(e===null||Yt(e)||Fa(e))return 1;if(Kf(e))return 2}function Qf(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Bp={name:"attention",resolveAll:UO,tokenize:zO};function UO(e,t){let n=-1,r,i,s,a,o,u,c,l;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d=U({},e[r][1].end),h=U({},e[n][1].start);nT(d,-u),nT(h,u),a={type:u>1?"strongSequence":"emphasisSequence",start:d,end:U({},e[r][1].end)},o={type:u>1?"strongSequence":"emphasisSequence",start:U({},e[n][1].start),end:h},s={type:u>1?"strongText":"emphasisText",start:U({},e[r][1].end),end:U({},e[n][1].start)},i={type:u>1?"strong":"emphasis",start:U({},a.start),end:U({},o.end)},e[r][1].end=U({},a.start),e[n][1].start=U({},o.end),c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Gr(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Gr(c,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),c=Gr(c,Qf(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Gr(c,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(l=2,c=Gr(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):l=0,Pr(e,r-1,n-r+3,c),n=r+c.length-l-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function zO(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Pu(r);let s;return a;function a(u){return s=u,e.enter("attentionSequence"),o(u)}function o(u){if(u===s)return e.consume(u),o;const c=e.exit("attentionSequence"),l=Pu(u),d=!l||l===2&&i||n.includes(u),h=!i||i===2&&l||n.includes(r);return c._open=!!(s===42?d:d&&(i||!h)),c._close=!!(s===42?h:h&&(l||!d)),t(u)}}function nT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const qO={name:"autolink",tokenize:GO};function GO(e,t,n){let r=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(f){return cr(f)?(e.consume(f),a):f===64?n(f):c(f)}function a(f){return f===43||f===45||f===46||Wn(f)?(r=1,o(f)):c(f)}function o(f){return f===58?(e.consume(f),r=0,u):(f===43||f===45||f===46||Wn(f))&&r++<32?(e.consume(f),o):(r=0,c(f))}function u(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||wd(f)?n(f):(e.consume(f),u)}function c(f){return f===64?(e.consume(f),l):RO(f)?(e.consume(f),c):n(f)}function l(f){return Wn(f)?d(f):n(f)}function d(f){return f===46?(e.consume(f),r=0,l):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):h(f)}function h(f){if((f===45||Wn(f))&&r++<63){const p=f===45?h:d;return e.consume(f),p}return n(f)}}const Zl={partial:!0,tokenize:VO};function VO(e,t,n){return r;function r(s){return Tt(s)?_t(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||We(s)?t(s):n(s)}}const Fx={continuation:{tokenize:WO},exit:YO,name:"blockQuote",tokenize:$O};function $O(e,t,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Tt(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function WO(e,t,n){const r=this;return i;function i(a){return Tt(a)?_t(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(Fx,t,n)(a)}}function YO(e){e.exit("blockQuote")}const Hx={name:"characterEscape",tokenize:KO};function KO(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return PO(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const Ux={name:"characterReference",tokenize:QO};function QO(e,t,n){const r=this;let i=0,s,a;return o;function o(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),u}function u(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,a=Wn,l(d))}function c(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=LO,l):(e.enter("characterReferenceValue"),s=7,a=Mp,l(d))}function l(d){if(d===59&&i){const h=e.exit("characterReferenceValue");return a===Wn&&!fg(r.sliceSerialize(h))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(d)&&i++<s?(e.consume(d),l):n(d)}}const rT={partial:!0,tokenize:JO},iT={concrete:!0,name:"codeFenced",tokenize:XO};function XO(e,t,n){const r=this,i={partial:!0,tokenize:y};let s=0,a=0,o;return u;function u(E){return c(E)}function c(E){const I=r.events[r.events.length-1];return s=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,o=E,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(E)}function l(E){return E===o?(a++,e.consume(E),l):a<3?n(E):(e.exit("codeFencedFenceSequence"),Tt(E)?_t(e,d,"whitespace")(E):d(E))}function d(E){return E===null||We(E)?(e.exit("codeFencedFence"),r.interrupt?t(E):e.check(rT,x,g)(E)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(E))}function h(E){return E===null||We(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(E)):Tt(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),_t(e,f,"whitespace")(E)):E===96&&E===o?n(E):(e.consume(E),h)}function f(E){return E===null||We(E)?d(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(E))}function p(E){return E===null||We(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(E)):E===96&&E===o?n(E):(e.consume(E),p)}function x(E){return e.attempt(i,g,_)(E)}function _(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),b}function b(E){return s>0&&Tt(E)?_t(e,T,"linePrefix",s+1)(E):T(E)}function T(E){return E===null||We(E)?e.check(rT,x,g)(E):(e.enter("codeFlowValue"),N(E))}function N(E){return E===null||We(E)?(e.exit("codeFlowValue"),T(E)):(e.consume(E),N)}function g(E){return e.exit("codeFenced"),t(E)}function y(E,I,R){let L=0;return S;function S(B){return E.enter("lineEnding"),E.consume(B),E.exit("lineEnding"),A}function A(B){return E.enter("codeFencedFence"),Tt(B)?_t(E,w,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):w(B)}function w(B){return B===o?(E.enter("codeFencedFenceSequence"),O(B)):R(B)}function O(B){return B===o?(L++,E.consume(B),O):L>=a?(E.exit("codeFencedFenceSequence"),Tt(B)?_t(E,D,"whitespace")(B):D(B)):R(B)}function D(B){return B===null||We(B)?(E.exit("codeFencedFence"),I(B)):R(B)}}}function JO(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const qh={name:"codeIndented",tokenize:e8},ZO={partial:!0,tokenize:t8};function e8(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),_t(e,s,"linePrefix",5)(c)}function s(c){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?u(c):We(c)?e.attempt(ZO,a,u)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||We(c)?(e.exit("codeFlowValue"),a(c)):(e.consume(c),o)}function u(c){return e.exit("codeIndented"),t(c)}}function t8(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):We(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):_t(e,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):We(a)?i(a):n(a)}}const n8={name:"codeText",previous:i8,resolve:r8,tokenize:s8};function r8(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function i8(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function s8(e,t,n){let r=0,i,s;return a;function a(d){return e.enter("codeText"),e.enter("codeTextSequence"),o(d)}function o(d){return d===96?(e.consume(d),r++,o):(e.exit("codeTextSequence"),u(d))}function u(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),u):d===96?(s=e.enter("codeTextSequence"),i=0,l(d)):We(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||We(d)?(e.exit("codeTextData"),u(d)):(e.consume(d),c)}function l(d){return d===96?(e.consume(d),i++,l):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(s.type="codeTextData",c(d))}}class a8{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n==null?Number.POSITIVE_INFINITY:n;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&po(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),po(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),po(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);po(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);po(this.left,n.reverse())}}}function po(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function zx(e){const t={};let n=-1,r,i,s,a,o,u,c;const l=new a8(e);for(;++n<l.length;){for(;n in t;)n=t[n];if(r=l.get(n),n&&r[1].type==="chunkFlow"&&l.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,u8(l,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=l.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(l.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end=U({},l.get(i)[1].start),o=l.slice(i,n),o.unshift(r),l.splice(i,n-i+1,o))}}return Pr(e,0,Number.POSITIVE_INFINITY,l.slice(0)),!c}function u8(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,u=[],c={};let l,d,h=-1,f=n,p=0,x=0;const _=[x];for(;f;){for(;e.get(++i)[1]!==f;);s.push(i),f._tokenizer||(l=r.sliceStream(f),f.next||l.push(null),d&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(l),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(x=h+1,_.push(x),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):_.pop(),h=_.length;h--;){const b=o.slice(_[h],_[h+1]),T=s.pop();u.push([T,T+b.length-1]),e.splice(T,2,b)}for(u.reverse(),h=-1;++h<u.length;)c[p+u[h][0]]=p+u[h][1],p+=u[h][1]-u[h][0]-1;return c}const o8={resolve:c8,tokenize:d8},l8={partial:!0,tokenize:f8};function c8(e){return zx(e),e}function d8(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):We(o)?e.check(l8,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function f8(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),_t(e,s,"linePrefix")}function s(a){if(a===null||We(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function qx(e,t,n,r,i,s,a,o,u){const c=u||Number.POSITIVE_INFINITY;let l=0;return d;function d(b){return b===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(b),e.exit(s),h):b===null||b===32||b===41||wd(b)?n(b):(e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),x(b))}function h(b){return b===62?(e.enter(s),e.consume(b),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),f(b))}function f(b){return b===62?(e.exit("chunkString"),e.exit(o),h(b)):b===null||b===60||We(b)?n(b):(e.consume(b),b===92?p:f)}function p(b){return b===60||b===62||b===92?(e.consume(b),f):f(b)}function x(b){return!l&&(b===null||b===41||Yt(b))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(b)):l<c&&b===40?(e.consume(b),l++,x):b===41?(e.consume(b),l--,x):b===null||b===32||b===40||wd(b)?n(b):(e.consume(b),b===92?_:x)}function _(b){return b===40||b===41||b===92?(e.consume(b),x):x(b)}}function Gx(e,t,n,r,i,s){const a=this;let o=0,u;return c;function c(f){return e.enter(r),e.enter(i),e.consume(f),e.exit(i),e.enter(s),l}function l(f){return o>999||f===null||f===91||f===93&&!u||f===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(f):f===93?(e.exit(s),e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):We(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===null||f===91||f===93||We(f)||o++>999?(e.exit("chunkString"),l(f)):(e.consume(f),u||(u=!Tt(f)),f===92?h:d)}function h(f){return f===91||f===92||f===93?(e.consume(f),o++,d):d(f)}}function Vx(e,t,n,r,i,s){let a;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),a=h===40?41:h,u):n(h)}function u(h){return h===a?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(s),c(h))}function c(h){return h===a?(e.exit(s),u(a)):h===null?n(h):We(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),_t(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),l(h))}function l(h){return h===a||h===null||We(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?d:l)}function d(h){return h===a||h===92?(e.consume(h),l):l(h)}}function tl(e,t){let n;return r;function r(i){return We(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Tt(i)?_t(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const h8={name:"definition",tokenize:m8},p8={partial:!0,tokenize:g8};function m8(e,t,n){const r=this;let i;return s;function s(f){return e.enter("definition"),a(f)}function a(f){return Gx.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function o(f){return i=ci(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),u):n(f)}function u(f){return Yt(f)?tl(e,c)(f):c(f)}function c(f){return qx(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function l(f){return e.attempt(p8,d,d)(f)}function d(f){return Tt(f)?_t(e,h,"whitespace")(f):h(f)}function h(f){return f===null||We(f)?(e.exit("definition"),r.parser.defined.push(i),t(f)):n(f)}}function g8(e,t,n){return r;function r(o){return Yt(o)?tl(e,i)(o):n(o)}function i(o){return Vx(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Tt(o)?_t(e,a,"whitespace")(o):a(o)}function a(o){return o===null||We(o)?t(o):n(o)}}const b8={name:"hardBreakEscape",tokenize:T8};function T8(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return We(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const E8={name:"headingAtx",resolve:y8,tokenize:_8};function y8(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Pr(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function _8(e,t,n){let r=0;return i;function i(l){return e.enter("atxHeading"),s(l)}function s(l){return e.enter("atxHeadingSequence"),a(l)}function a(l){return l===35&&r++<6?(e.consume(l),a):l===null||Yt(l)?(e.exit("atxHeadingSequence"),o(l)):n(l)}function o(l){return l===35?(e.enter("atxHeadingSequence"),u(l)):l===null||We(l)?(e.exit("atxHeading"),t(l)):Tt(l)?_t(e,o,"whitespace")(l):(e.enter("atxHeadingText"),c(l))}function u(l){return l===35?(e.consume(l),u):(e.exit("atxHeadingSequence"),o(l))}function c(l){return l===null||l===35||Yt(l)?(e.exit("atxHeadingText"),o(l)):(e.consume(l),c)}}const x8=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],sT=["pre","script","style","textarea"],A8={concrete:!0,name:"htmlFlow",resolveTo:N8,tokenize:v8},C8={partial:!0,tokenize:I8},S8={partial:!0,tokenize:w8};function N8(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function v8(e,t,n){const r=this;let i,s,a,o,u;return c;function c(H){return l(H)}function l(H){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(H),d}function d(H){return H===33?(e.consume(H),h):H===47?(e.consume(H),s=!0,x):H===63?(e.consume(H),i=3,r.interrupt?t:P):cr(H)?(e.consume(H),a=String.fromCharCode(H),_):n(H)}function h(H){return H===45?(e.consume(H),i=2,f):H===91?(e.consume(H),i=5,o=0,p):cr(H)?(e.consume(H),i=4,r.interrupt?t:P):n(H)}function f(H){return H===45?(e.consume(H),r.interrupt?t:P):n(H)}function p(H){const Z="CDATA[";return H===Z.charCodeAt(o++)?(e.consume(H),o===Z.length?r.interrupt?t:w:p):n(H)}function x(H){return cr(H)?(e.consume(H),a=String.fromCharCode(H),_):n(H)}function _(H){if(H===null||H===47||H===62||Yt(H)){const Z=H===47,ee=a.toLowerCase();return!Z&&!s&&sT.includes(ee)?(i=1,r.interrupt?t(H):w(H)):x8.includes(a.toLowerCase())?(i=6,Z?(e.consume(H),b):r.interrupt?t(H):w(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):s?T(H):N(H))}return H===45||Wn(H)?(e.consume(H),a+=String.fromCharCode(H),_):n(H)}function b(H){return H===62?(e.consume(H),r.interrupt?t:w):n(H)}function T(H){return Tt(H)?(e.consume(H),T):S(H)}function N(H){return H===47?(e.consume(H),S):H===58||H===95||cr(H)?(e.consume(H),g):Tt(H)?(e.consume(H),N):S(H)}function g(H){return H===45||H===46||H===58||H===95||Wn(H)?(e.consume(H),g):y(H)}function y(H){return H===61?(e.consume(H),E):Tt(H)?(e.consume(H),y):N(H)}function E(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(e.consume(H),u=H,I):Tt(H)?(e.consume(H),E):R(H)}function I(H){return H===u?(e.consume(H),u=null,L):H===null||We(H)?n(H):(e.consume(H),I)}function R(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||Yt(H)?y(H):(e.consume(H),R)}function L(H){return H===47||H===62||Tt(H)?N(H):n(H)}function S(H){return H===62?(e.consume(H),A):n(H)}function A(H){return H===null||We(H)?w(H):Tt(H)?(e.consume(H),A):n(H)}function w(H){return H===45&&i===2?(e.consume(H),M):H===60&&i===1?(e.consume(H),F):H===62&&i===4?(e.consume(H),j):H===63&&i===3?(e.consume(H),P):H===93&&i===5?(e.consume(H),$):We(H)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(C8,W,O)(H)):H===null||We(H)?(e.exit("htmlFlowData"),O(H)):(e.consume(H),w)}function O(H){return e.check(S8,D,W)(H)}function D(H){return e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),B}function B(H){return H===null||We(H)?O(H):(e.enter("htmlFlowData"),w(H))}function M(H){return H===45?(e.consume(H),P):w(H)}function F(H){return H===47?(e.consume(H),a="",G):w(H)}function G(H){if(H===62){const Z=a.toLowerCase();return sT.includes(Z)?(e.consume(H),j):w(H)}return cr(H)&&a.length<8?(e.consume(H),a+=String.fromCharCode(H),G):w(H)}function $(H){return H===93?(e.consume(H),P):w(H)}function P(H){return H===62?(e.consume(H),j):H===45&&i===2?(e.consume(H),P):w(H)}function j(H){return H===null||We(H)?(e.exit("htmlFlowData"),W(H)):(e.consume(H),j)}function W(H){return e.exit("htmlFlow"),t(H)}}function w8(e,t,n){const r=this;return i;function i(a){return We(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function I8(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Zl,t,n)}}const k8={name:"htmlText",tokenize:O8};function O8(e,t,n){const r=this;let i,s,a;return o;function o(P){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(P),u}function u(P){return P===33?(e.consume(P),c):P===47?(e.consume(P),y):P===63?(e.consume(P),N):cr(P)?(e.consume(P),R):n(P)}function c(P){return P===45?(e.consume(P),l):P===91?(e.consume(P),s=0,p):cr(P)?(e.consume(P),T):n(P)}function l(P){return P===45?(e.consume(P),f):n(P)}function d(P){return P===null?n(P):P===45?(e.consume(P),h):We(P)?(a=d,F(P)):(e.consume(P),d)}function h(P){return P===45?(e.consume(P),f):d(P)}function f(P){return P===62?M(P):P===45?h(P):d(P)}function p(P){const j="CDATA[";return P===j.charCodeAt(s++)?(e.consume(P),s===j.length?x:p):n(P)}function x(P){return P===null?n(P):P===93?(e.consume(P),_):We(P)?(a=x,F(P)):(e.consume(P),x)}function _(P){return P===93?(e.consume(P),b):x(P)}function b(P){return P===62?M(P):P===93?(e.consume(P),b):x(P)}function T(P){return P===null||P===62?M(P):We(P)?(a=T,F(P)):(e.consume(P),T)}function N(P){return P===null?n(P):P===63?(e.consume(P),g):We(P)?(a=N,F(P)):(e.consume(P),N)}function g(P){return P===62?M(P):N(P)}function y(P){return cr(P)?(e.consume(P),E):n(P)}function E(P){return P===45||Wn(P)?(e.consume(P),E):I(P)}function I(P){return We(P)?(a=I,F(P)):Tt(P)?(e.consume(P),I):M(P)}function R(P){return P===45||Wn(P)?(e.consume(P),R):P===47||P===62||Yt(P)?L(P):n(P)}function L(P){return P===47?(e.consume(P),M):P===58||P===95||cr(P)?(e.consume(P),S):We(P)?(a=L,F(P)):Tt(P)?(e.consume(P),L):M(P)}function S(P){return P===45||P===46||P===58||P===95||Wn(P)?(e.consume(P),S):A(P)}function A(P){return P===61?(e.consume(P),w):We(P)?(a=A,F(P)):Tt(P)?(e.consume(P),A):L(P)}function w(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),i=P,O):We(P)?(a=w,F(P)):Tt(P)?(e.consume(P),w):(e.consume(P),D)}function O(P){return P===i?(e.consume(P),i=void 0,B):P===null?n(P):We(P)?(a=O,F(P)):(e.consume(P),O)}function D(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===47||P===62||Yt(P)?L(P):(e.consume(P),D)}function B(P){return P===47||P===62||Yt(P)?L(P):n(P)}function M(P){return P===62?(e.consume(P),e.exit("htmlTextData"),e.exit("htmlText"),t):n(P)}function F(P){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),G}function G(P){return Tt(P)?_t(e,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):$(P)}function $(P){return e.enter("htmlTextData"),a(P)}}const hg={name:"labelEnd",resolveAll:P8,resolveTo:M8,tokenize:B8},D8={tokenize:j8},R8={tokenize:F8},L8={tokenize:H8};function P8(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Pr(e,0,e.length,n),e}function M8(e,t){let n=e.length,r=0,i,s,a,o;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:U({},e[s][1].start),end:U({},e[e.length-1][1].end)},c={type:"label",start:U({},e[s][1].start),end:U({},e[a][1].end)},l={type:"labelText",start:U({},e[s+r+2][1].end),end:U({},e[a-2][1].start)};return o=[["enter",u,t],["enter",c,t]],o=Gr(o,e.slice(s+1,s+r+3)),o=Gr(o,[["enter",l,t]]),o=Gr(o,Qf(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),o=Gr(o,[["exit",l,t],e[a-2],e[a-1],["exit",c,t]]),o=Gr(o,e.slice(a+1)),o=Gr(o,[["exit",u,t]]),Pr(e,s,e.length,o),e}function B8(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(h){return s?s._inactive?d(h):(a=r.parser.defined.includes(ci(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),u):n(h)}function u(h){return h===40?e.attempt(D8,l,a?l:d)(h):h===91?e.attempt(R8,l,a?c:d)(h):a?l(h):d(h)}function c(h){return e.attempt(L8,l,d)(h)}function l(h){return t(h)}function d(h){return s._balanced=!0,n(h)}}function j8(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Yt(d)?tl(e,s)(d):s(d)}function s(d){return d===41?l(d):qx(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return Yt(d)?tl(e,u)(d):l(d)}function o(d){return n(d)}function u(d){return d===34||d===39||d===40?Vx(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):l(d)}function c(d){return Yt(d)?tl(e,l)(d):l(d)}function l(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function F8(e,t,n){const r=this;return i;function i(o){return Gx.call(r,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(ci(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function H8(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const U8={name:"labelStartImage",resolveAll:hg.resolveAll,tokenize:z8};function z8(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const q8={name:"labelStartLink",resolveAll:hg.resolveAll,tokenize:G8};function G8(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Gh={name:"lineEnding",tokenize:V8};function V8(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),_t(e,t,"linePrefix")}}const ud={name:"thematicBreak",tokenize:$8};function $8(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),a(c)}function a(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||We(c))?(e.exit("thematicBreak"),t(c)):n(c)}function u(c){return c===i?(e.consume(c),r++,u):(e.exit("thematicBreakSequence"),Tt(c)?_t(e,o,"whitespace")(c):o(c))}}const _r={continuation:{tokenize:Q8},exit:J8,name:"list",tokenize:K8},W8={partial:!0,tokenize:Z8},Y8={partial:!0,tokenize:X8};function K8(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(f){const p=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:Mp(f)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(ud,n,c)(f):c(f);if(!r.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(f)}return n(f)}function u(f){return Mp(f)&&++a<10?(e.consume(f),u):(!r.interrupt||a<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),c(f)):n(f)}function c(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,e.check(Zl,r.interrupt?n:l,e.attempt(W8,h,d))}function l(f){return r.containerState.initialBlankLine=!0,s++,h(f)}function d(f){return Tt(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),h):n(f)}function h(f){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function Q8(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Zl,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,_t(e,t,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!Tt(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Y8,t,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,_t(e,e.attempt(_r,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function X8(e,t,n){const r=this;return _t(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function J8(e){e.exit(this.containerState.type)}function Z8(e,t,n){const r=this;return _t(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!Tt(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const aT={name:"setextUnderline",resolveTo:eD,tokenize:tD};function eD(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:U({},e[r][1].start),end:U({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=U({},e[s][1].end)):e[r][1]=a,e.push(["exit",a,t]),e}function tD(e,t,n){const r=this;let i;return s;function s(c){let l=r.events.length,d;for(;l--;)if(r.events[l][1].type!=="lineEnding"&&r.events[l][1].type!=="linePrefix"&&r.events[l][1].type!=="content"){d=r.events[l][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=c,a(c)):n(c)}function a(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),Tt(c)?_t(e,u,"lineSuffix")(c):u(c))}function u(c){return c===null||We(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const nD={tokenize:rD};function rD(e){const t=this,n=e.attempt(Zl,r,e.attempt(this.parser.constructs.flowInitial,i,_t(e,e.attempt(this.parser.constructs.flow,i,e.attempt(o8,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const iD={resolveAll:Wx()},sD=$x("string"),aD=$x("text");function $x(e){return{resolveAll:Wx(e==="text"?uD:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,o);return a;function a(l){return c(l)?s(l):o(l)}function o(l){if(l===null){n.consume(l);return}return n.enter("data"),n.consume(l),u}function u(l){return c(l)?(n.exit("data"),s(l)):(n.consume(l),u)}function c(l){if(l===null)return!0;const d=i[l];let h=-1;if(d)for(;++h<d.length;){const f=d[h];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function Wx(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function uD(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,o=0,u;for(;s--;){const c=i[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(c===-2)u=!0,o++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const c={type:n===e.length||u||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:U({},r.end)};r.end=U({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const oD={42:_r,43:_r,45:_r,48:_r,49:_r,50:_r,51:_r,52:_r,53:_r,54:_r,55:_r,56:_r,57:_r,62:Fx},lD={91:h8},cD={[-2]:qh,[-1]:qh,32:qh},dD={35:E8,42:ud,45:[aT,ud],60:A8,61:aT,95:ud,96:iT,126:iT},fD={38:Ux,92:Hx},hD={[-5]:Gh,[-4]:Gh,[-3]:Gh,33:U8,38:Ux,42:Bp,60:[qO,k8],91:q8,92:[b8,Hx],93:hg,95:Bp,96:n8},pD={null:[Bp,iD]},mD={null:[42,95]},gD={null:[]},bD=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:mD,contentInitial:lD,disable:gD,document:oD,flow:dD,flowInitial:cD,insideSpan:pD,string:fD,text:hD},Symbol.toStringTag,{value:"Module"}));function TD(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const u={attempt:I(y),check:I(E),consume:T,enter:N,exit:g,interrupt:I(E,{interrupt:!0})},c={code:null,containerState:{},defineSkip:x,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:f,write:d};let l=t.tokenize.call(c,u);return t.resolveAll&&s.push(t),c;function d(A){return a=Gr(a,A),_(),a[a.length-1]!==null?[]:(R(t,0),c.events=Qf(s,c.events,c),c.events)}function h(A,w){return yD(f(A),w)}function f(A){return ED(a,A)}function p(){const{_bufferIndex:A,_index:w,line:O,column:D,offset:B}=r;return{_bufferIndex:A,_index:w,line:O,column:D,offset:B}}function x(A){i[A.line]=A.column,S()}function _(){let A;for(;r._index<a.length;){const w=a[r._index];if(typeof w=="string")for(A=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===A&&r._bufferIndex<w.length;)b(w.charCodeAt(r._bufferIndex));else b(w)}}function b(A){l=l(A)}function T(A){We(A)?(r.line++,r.column=1,r.offset+=A===-3?2:1,S()):A!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=A}function N(A,w){const O=w||{};return O.type=A,O.start=p(),c.events.push(["enter",O,c]),o.push(O),O}function g(A){const w=o.pop();return w.end=p(),c.events.push(["exit",w,c]),w}function y(A,w){R(A,w.from)}function E(A,w){w.restore()}function I(A,w){return O;function O(D,B,M){let F,G,$,P;return Array.isArray(D)?W(D):"tokenize"in D?W([D]):j(D);function j(ae){return _e;function _e(ge){const je=ge!==null&&ae[ge],Se=ge!==null&&ae.null,Ie=[...Array.isArray(je)?je:je?[je]:[],...Array.isArray(Se)?Se:Se?[Se]:[]];return W(Ie)(ge)}}function W(ae){return F=ae,G=0,ae.length===0?M:H(ae[G])}function H(ae){return _e;function _e(ge){return P=L(),$=ae,ae.partial||(c.currentConstruct=ae),ae.name&&c.parser.constructs.disable.null.includes(ae.name)?ee():ae.tokenize.call(w?Object.assign(Object.create(c),w):c,u,Z,ee)(ge)}}function Z(ae){return A($,P),B}function ee(ae){return P.restore(),++G<F.length?H(F[G]):M}}}function R(A,w){A.resolveAll&&!s.includes(A)&&s.push(A),A.resolve&&Pr(c.events,w,c.events.length-w,A.resolve(c.events.slice(w),c)),A.resolveTo&&(c.events=A.resolveTo(c.events,c))}function L(){const A=p(),w=c.previous,O=c.currentConstruct,D=c.events.length,B=Array.from(o);return{from:D,restore:M};function M(){r=A,c.previous=w,c.currentConstruct=O,c.events.length=D,o=B,S()}}function S(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function ED(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function yD(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function _D(e){const r={constructs:Bx([bD,...(e||{}).extensions||[]]),content:i(MO),defined:[],document:i(jO),flow:i(nD),lazy:{},string:i(sD),text:i(aD)};return r;function i(s){return a;function a(o){return TD(r,s,o)}}}function xD(e){for(;!zx(e););return e}const uT=/[\0\t\n\r]/g;function AD(){let e=1,t="",n=!0,r;return i;function i(s,a,o){const u=[];let c,l,d,h,f;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(uT.lastIndex=d,c=uT.exec(s),h=c&&c.index!==void 0?c.index:s.length,f=s.charCodeAt(h),!c){t=s.slice(d);break}if(f===10&&d===h&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),d<h&&(u.push(s.slice(d,h)),e+=h-d),f){case 0:{u.push(65533),e++;break}case 9:{for(l=Math.ceil(e/4)*4,u.push(-2);e++<l;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}d=h+1}return o&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const CD=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function SD(e){return e.replace(CD,ND)}function ND(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return jx(n.slice(s?2:1),s?16:10)}return fg(n)||e}const Yx={}.hasOwnProperty;function vD(e,t,n){return typeof t!="string"&&(n=t,t=void 0),wD(n)(xD(_D(n).document().write(AD()(e,t,!0))))}function wD(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(zt),autolinkProtocol:L,autolinkEmail:L,atxHeading:s(st),blockQuote:s(Se),characterEscape:L,characterReference:L,codeFenced:s(Ie),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Ie,a),codeText:s(qe,a),codeTextData:L,data:L,codeFlowValue:L,definition:s(te),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s($e),hardBreakEscape:s(Rt),hardBreakTrailing:s(Rt),htmlFlow:s(yt,a),htmlFlowData:L,htmlText:s(yt,a),htmlTextData:L,image:s(xt),label:a,link:s(zt),listItem:s(Nt),listItemValue:h,listOrdered:s(Re,d),listUnordered:s(Re),paragraph:s(At),reference:H,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(st),strong:s(nt),thematicBreak:s(ht)},exit:{atxHeading:u(),atxHeadingSequence:y,autolink:u(),autolinkEmail:je,autolinkProtocol:ge,blockQuote:u(),characterEscapeValue:S,characterReferenceMarkerHexadecimal:ee,characterReferenceMarkerNumeric:ee,characterReferenceValue:ae,characterReference:_e,codeFenced:u(_),codeFencedFence:x,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:S,codeIndented:u(b),codeText:u(B),codeTextData:S,data:S,definition:u(),definitionDestinationString:g,definitionLabelString:T,definitionTitleString:N,emphasis:u(),hardBreakEscape:u(w),hardBreakTrailing:u(w),htmlFlow:u(O),htmlFlowData:S,htmlText:u(D),htmlTextData:S,image:u(F),label:$,labelText:G,lineEnding:A,link:u(M),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:Z,resourceDestinationString:P,resourceTitleString:j,resource:W,setextHeading:u(R),setextHeadingLineSequence:I,setextHeadingText:E,strong:u(),thematicBreak:u()}};Kx(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ie){let ce={type:"root",children:[]};const X={stack:[ce],tokenStack:[],config:t,enter:o,exit:c,buffer:a,resume:l,data:n},me=[];let re=-1;for(;++re<ie.length;)if(ie[re][1].type==="listOrdered"||ie[re][1].type==="listUnordered")if(ie[re][0]==="enter")me.push(re);else{const lt=me.pop();re=i(ie,lt,re)}for(re=-1;++re<ie.length;){const lt=t[ie[re][0]];Yx.call(lt,ie[re][1].type)&&lt[ie[re][1].type].call(Object.assign({sliceSerialize:ie[re][2].sliceSerialize},X),ie[re][1])}if(X.tokenStack.length>0){const lt=X.tokenStack[X.tokenStack.length-1];(lt[1]||oT).call(X,void 0,lt[0])}for(ce.position={start:Ts(ie.length>0?ie[0][1].start:{line:1,column:1,offset:0}),end:Ts(ie.length>0?ie[ie.length-2][1].end:{line:1,column:1,offset:0})},re=-1;++re<t.transforms.length;)ce=t.transforms[re](ce)||ce;return ce}function i(ie,ce,X){let me=ce-1,re=-1,lt=!1,Ht,be,Be,Ke;for(;++me<=X;){const at=ie[me];switch(at[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{at[0]==="enter"?re++:re--,Ke=void 0;break}case"lineEndingBlank":{at[0]==="enter"&&(Ht&&!Ke&&!re&&!Be&&(Be=me),Ke=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ke=void 0}if(!re&&at[0]==="enter"&&at[1].type==="listItemPrefix"||re===-1&&at[0]==="exit"&&(at[1].type==="listUnordered"||at[1].type==="listOrdered")){if(Ht){let Zt=me;for(be=void 0;Zt--;){const Je=ie[Zt];if(Je[1].type==="lineEnding"||Je[1].type==="lineEndingBlank"){if(Je[0]==="exit")continue;be&&(ie[be][1].type="lineEndingBlank",lt=!0),Je[1].type="lineEnding",be=Zt}else if(!(Je[1].type==="linePrefix"||Je[1].type==="blockQuotePrefix"||Je[1].type==="blockQuotePrefixWhitespace"||Je[1].type==="blockQuoteMarker"||Je[1].type==="listItemIndent"))break}Be&&(!be||Be<be)&&(Ht._spread=!0),Ht.end=Object.assign({},be?ie[be][1].start:at[1].end),ie.splice(be||me,0,["exit",Ht,at[2]]),me++,X++}if(at[1].type==="listItemPrefix"){const Zt={type:"listItem",_spread:!1,start:Object.assign({},at[1].start),end:void 0};Ht=Zt,ie.splice(me,0,["enter",Zt,at[2]]),me++,X++,Be=void 0,Ke=!0}}}return ie[ce][1]._spread=lt,X}function s(ie,ce){return X;function X(me){o.call(this,ie(me),me),ce&&ce.call(this,me)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(ie,ce,X){this.stack[this.stack.length-1].children.push(ie),this.stack.push(ie),this.tokenStack.push([ce,X||void 0]),ie.position={start:Ts(ce.start),end:void 0}}function u(ie){return ce;function ce(X){ie&&ie.call(this,X),c.call(this,X)}}function c(ie,ce){const X=this.stack.pop(),me=this.tokenStack.pop();if(me)me[0].type!==ie.type&&(ce?ce.call(this,ie,me[0]):(me[1]||oT).call(this,ie,me[0]));else throw new Error("Cannot close `"+ie.type+"` ("+el({start:ie.start,end:ie.end})+"): itâs not open");X.position.end=Ts(ie.end)}function l(){return dg(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(ie){if(this.data.expectingFirstListItemValue){const ce=this.stack[this.stack.length-2];ce.start=Number.parseInt(this.sliceSerialize(ie),10),this.data.expectingFirstListItemValue=void 0}}function f(){const ie=this.resume(),ce=this.stack[this.stack.length-1];ce.lang=ie}function p(){const ie=this.resume(),ce=this.stack[this.stack.length-1];ce.meta=ie}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const ie=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ie.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const ie=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ie.replace(/(\r?\n|\r)$/g,"")}function T(ie){const ce=this.resume(),X=this.stack[this.stack.length-1];X.label=ce,X.identifier=ci(this.sliceSerialize(ie)).toLowerCase()}function N(){const ie=this.resume(),ce=this.stack[this.stack.length-1];ce.title=ie}function g(){const ie=this.resume(),ce=this.stack[this.stack.length-1];ce.url=ie}function y(ie){const ce=this.stack[this.stack.length-1];if(!ce.depth){const X=this.sliceSerialize(ie).length;ce.depth=X}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function I(ie){const ce=this.stack[this.stack.length-1];ce.depth=this.sliceSerialize(ie).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function L(ie){const X=this.stack[this.stack.length-1].children;let me=X[X.length-1];(!me||me.type!=="text")&&(me=Et(),me.position={start:Ts(ie.start),end:void 0},X.push(me)),this.stack.push(me)}function S(ie){const ce=this.stack.pop();ce.value+=this.sliceSerialize(ie),ce.position.end=Ts(ie.end)}function A(ie){const ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const X=ce.children[ce.children.length-1];X.position.end=Ts(ie.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ce.type)&&(L.call(this,ie),S.call(this,ie))}function w(){this.data.atHardBreak=!0}function O(){const ie=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ie}function D(){const ie=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ie}function B(){const ie=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ie}function M(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=ce,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function F(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=ce,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function G(ie){const ce=this.sliceSerialize(ie),X=this.stack[this.stack.length-2];X.label=SD(ce),X.identifier=ci(ce).toLowerCase()}function $(){const ie=this.stack[this.stack.length-1],ce=this.resume(),X=this.stack[this.stack.length-1];if(this.data.inReference=!0,X.type==="link"){const me=ie.children;X.children=me}else X.alt=ce}function P(){const ie=this.resume(),ce=this.stack[this.stack.length-1];ce.url=ie}function j(){const ie=this.resume(),ce=this.stack[this.stack.length-1];ce.title=ie}function W(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function Z(ie){const ce=this.resume(),X=this.stack[this.stack.length-1];X.label=ce,X.identifier=ci(this.sliceSerialize(ie)).toLowerCase(),this.data.referenceType="full"}function ee(ie){this.data.characterReferenceType=ie.type}function ae(ie){const ce=this.sliceSerialize(ie),X=this.data.characterReferenceType;let me;X?(me=jx(ce,X==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):me=fg(ce);const re=this.stack[this.stack.length-1];re.value+=me}function _e(ie){const ce=this.stack.pop();ce.position.end=Ts(ie.end)}function ge(ie){S.call(this,ie);const ce=this.stack[this.stack.length-1];ce.url=this.sliceSerialize(ie)}function je(ie){S.call(this,ie);const ce=this.stack[this.stack.length-1];ce.url="mailto:"+this.sliceSerialize(ie)}function Se(){return{type:"blockquote",children:[]}}function Ie(){return{type:"code",lang:null,meta:null,value:""}}function qe(){return{type:"inlineCode",value:""}}function te(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $e(){return{type:"emphasis",children:[]}}function st(){return{type:"heading",depth:0,children:[]}}function Rt(){return{type:"break"}}function yt(){return{type:"html",value:""}}function xt(){return{type:"image",title:null,url:"",alt:null}}function zt(){return{type:"link",title:null,url:"",children:[]}}function Re(ie){return{type:"list",ordered:ie.type==="listOrdered",start:null,spread:ie._spread,children:[]}}function Nt(ie){return{type:"listItem",spread:ie._spread,checked:null,children:[]}}function At(){return{type:"paragraph",children:[]}}function nt(){return{type:"strong",children:[]}}function Et(){return{type:"text",value:""}}function ht(){return{type:"thematicBreak"}}}function Ts(e){return{line:e.line,column:e.column,offset:e.offset}}function Kx(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Kx(e,r):ID(e,r)}}function ID(e,t){let n;for(n in t)if(Yx.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function oT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+el({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+el({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+el({start:t.start,end:t.end})+") is still open")}function kD(e){const t=this;t.parser=n;function n(r){return vD(r,oe(U(U({},t.data("settings")),e),{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}}function OD(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function DD(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function RD(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function LD(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function PD(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function MD(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Ju(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(r,o);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,c),e.applyData(t,c)}function BD(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jD(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Qx(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function FD(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Qx(e,t);const i={src:Ju(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function HD(e,t){const n={src:Ju(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function UD(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function zD(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Qx(e,t);const i={href:Ju(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function qD(e,t){const n={href:Ju(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function GD(e,t,n){const r=e.all(t),i=n?VD(n):Xx(t),s={},a=[];if(typeof t.checked=="boolean"){const l=r[0];let d;l&&l.type==="element"&&l.tagName==="p"?d=l:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const l=r[o];(i||o!==0||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`}),l.type==="element"&&l.tagName==="p"&&!i?a.push(...l.children):a.push(l)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,c),e.applyData(t,c)}function VD(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Xx(n[r])}return t}function Xx(e){const t=e.spread;return t==null?e.children.length>1:t}function $D(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function WD(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function YD(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function KD(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function QD(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=Fi(t.children[1]),u=Yf(t.children[t.children.length-1]);o&&u&&(a.position={start:o,end:u}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function XD(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let u=-1;const c=[];for(;++u<o;){const d=t.children[u],h={},f=a?a[u]:void 0;f&&(h.align=f);let p={type:"element",tagName:s,properties:h,children:[]};d&&(p.children=e.all(d),e.patch(d,p),p=e.applyData(d,p)),c.push(p)}const l={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,l),e.applyData(t,l)}function JD(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const lT=9,cT=32;function ZD(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(dT(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(dT(t.slice(i),i>0,!1)),s.join("")}function dT(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===lT||s===cT;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===lT||s===cT;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function e4(e,t){const n={type:"text",value:ZD(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function t4(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const n4={blockquote:OD,break:DD,code:RD,delete:LD,emphasis:PD,footnoteReference:MD,heading:BD,html:jD,imageReference:FD,image:HD,inlineCode:UD,linkReference:zD,link:qD,listItem:GD,list:$D,paragraph:WD,root:YD,strong:KD,table:QD,tableCell:JD,tableRow:XD,text:e4,thematicBreak:t4,toml:xc,yaml:xc,definition:xc,footnoteDefinition:xc};function xc(){}const Jx=-1,Xf=0,nl=1,Id=2,pg=3,mg=4,gg=5,bg=6,Zx=7,eA=8,fT=typeof self=="object"?self:globalThis,r4=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case Xf:case Jx:return n(a,i);case nl:{const o=n([],i);for(const u of a)o.push(r(u));return o}case Id:{const o=n({},i);for(const[u,c]of a)o[r(u)]=r(c);return o}case pg:return n(new Date(a),i);case mg:{const{source:o,flags:u}=a;return n(new RegExp(o,u),i)}case gg:{const o=n(new Map,i);for(const[u,c]of a)o.set(r(u),r(c));return o}case bg:{const o=n(new Set,i);for(const u of a)o.add(r(u));return o}case Zx:{const{name:o,message:u}=a;return n(new fT[o](u),i)}case eA:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new fT[s](a),i)};return r},hT=e=>r4(new Map,e)(0),au="",{toString:i4}={},{keys:s4}=Object,mo=e=>{const t=typeof e;if(t!=="object"||!e)return[Xf,t];const n=i4.call(e).slice(8,-1);switch(n){case"Array":return[nl,au];case"Object":return[Id,au];case"Date":return[pg,au];case"RegExp":return[mg,au];case"Map":return[gg,au];case"Set":return[bg,au];case"DataView":return[nl,n]}return n.includes("Array")?[nl,n]:n.includes("Error")?[Zx,n]:[Id,n]},Ac=([e,t])=>e===Xf&&(t==="function"||t==="symbol"),a4=(e,t,n,r)=>{const i=(a,o)=>{const u=r.push(a)-1;return n.set(o,u),u},s=a=>{if(n.has(a))return n.get(a);let[o,u]=mo(a);switch(o){case Xf:{let l=a;switch(u){case"bigint":o=eA,l=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);l=null;break;case"undefined":return i([Jx],a)}return i([o,l],a)}case nl:{if(u){let h=a;return u==="DataView"?h=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(h=new Uint8Array(a)),i([u,[...h]],a)}const l=[],d=i([o,l],a);for(const h of a)l.push(s(h));return d}case Id:{if(u)switch(u){case"BigInt":return i([u,a.toString()],a);case"Boolean":case"Number":case"String":return i([u,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const l=[],d=i([o,l],a);for(const h of s4(a))(e||!Ac(mo(a[h])))&&l.push([s(h),s(a[h])]);return d}case pg:return i([o,a.toISOString()],a);case mg:{const{source:l,flags:d}=a;return i([o,{source:l,flags:d}],a)}case gg:{const l=[],d=i([o,l],a);for(const[h,f]of a)(e||!(Ac(mo(h))||Ac(mo(f))))&&l.push([s(h),s(f)]);return d}case bg:{const l=[],d=i([o,l],a);for(const h of a)(e||!Ac(mo(h)))&&l.push(s(h));return d}}const{message:c}=a;return i([o,{name:u,message:c}],a)};return s},pT=(e,{json:t,lossy:n}={})=>{const r=[];return a4(!(t||n),!!t,new Map,r)(e),r},Mu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?hT(pT(e,t)):structuredClone(e):(e,t)=>hT(pT(e,t));function u4(e,t){const n=[{type:"text",value:"â©"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function o4(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function l4(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||u4,r=e.options.footnoteBackLabel||o4,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let u=-1;for(;++u<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[u]);if(!c)continue;const l=e.all(c),d=String(c.identifier).toUpperCase(),h=Ju(d.toLowerCase());let f=0;const p=[],x=e.footnoteCounts.get(d);for(;x!==void 0&&++f<=x;){p.length>0&&p.push({type:"text",value:" "});let T=typeof n=="string"?n:n(u,f);typeof T=="string"&&(T={type:"text",value:T}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,f),className:["data-footnote-backref"]},children:Array.isArray(T)?T:[T]})}const _=l[l.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const T=_.children[_.children.length-1];T&&T.type==="text"?T.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...p)}else l.push(...p);const b={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(l,!0)};e.patch(c,b),o.push(b)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:oe(U({},Mu(a)),{id:"footnote-label"}),children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Jf=(function(e){if(e==null)return h4;if(typeof e=="function")return Zf(e);if(typeof e=="object")return Array.isArray(e)?c4(e):d4(e);if(typeof e=="string")return f4(e);throw new Error("Expected function, string, or object as test")});function c4(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Jf(e[n]);return Zf(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function d4(e){const t=e;return Zf(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function f4(e){return Zf(t);function t(n){return n&&n.type===e}}function Zf(e){return t;function t(n,r,i){return!!(p4(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function h4(){return!0}function p4(e){return e!==null&&typeof e=="object"&&"type"in e}const tA=[],m4=!0,jp=!1,g4="skip";function nA(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Jf(i),a=r?-1:1;o(e,void 0,[])();function o(u,c,l){const d=u&&typeof u=="object"?u:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(u.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=tA,p,x,_;if((!t||s(u,c,l[l.length-1]||void 0))&&(f=b4(n(u,l)),f[0]===jp))return f;if("children"in u&&u.children){const b=u;if(b.children&&f[0]!==g4)for(x=(r?b.children.length:-1)+a,_=l.concat(b);x>-1&&x<b.children.length;){const T=b.children[x];if(p=o(T,x,_)(),p[0]===jp)return p;x=typeof p[1]=="number"?p[1]:x+a}}return f}}}function b4(e){return Array.isArray(e)?e:typeof e=="number"?[m4,e]:e==null?tA:[e]}function eh(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),nA(e,s,o,i);function o(u,c){const l=c[c.length-1],d=l?l.children.indexOf(u):void 0;return a(u,d,l)}}const Fp={}.hasOwnProperty,T4={};function E4(e,t){const n=t||T4,r=new Map,i=new Map,s=new Map,a=U(U({},n4),n.handlers),o={all:c,applyData:_4,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:u,options:n,patch:y4,wrap:A4};return eh(e,function(l){if(l.type==="definition"||l.type==="footnoteDefinition"){const d=l.type==="definition"?r:i,h=String(l.identifier).toUpperCase();d.has(h)||d.set(h,l)}}),o;function u(l,d){const h=l.type,f=o.handlers[h];if(Fp.call(o.handlers,h)&&f)return f(o,l,d);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in l){const x=l,{children:_}=x,b=ir(x,["children"]),T=Mu(b);return T.children=o.all(l),T}return Mu(l)}return(o.options.unknownHandler||x4)(o,l,d)}function c(l){const d=[];if("children"in l){const h=l.children;let f=-1;for(;++f<h.length;){const p=o.one(h[f],l);if(p){if(f&&h[f-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=mT(p.value)),!Array.isArray(p)&&p.type==="element")){const x=p.children[0];x&&x.type==="text"&&(x.value=mT(x.value))}Array.isArray(p)?d.push(...p):d.push(p)}}}return d}}function y4(e,t){e.position&&(t.position=oO(e))}function _4(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,Mu(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function x4(e,t){const n=t.data||{},r="value"in t&&!(Fp.call(n,"hProperties")||Fp.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function A4(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function mT(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function gT(e,t){const n=E4(e,t),r=n.one(e,void 0),i=l4(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function C4(e,t){return e&&"run"in e?function(n,r){return bt(this,null,function*(){const i=gT(n,U({file:r},t));yield e.run(i,r)})}:function(n,r){return gT(n,U({file:r},e||t))}}function bT(e){if(e)throw e}var Vh,TT;function S4(){if(TT)return Vh;TT=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var l=e.call(c,"constructor"),d=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!l&&!d)return!1;var h;for(h in c);return typeof h=="undefined"||e.call(c,h)},a=function(c,l){n&&l.name==="__proto__"?n(c,l.name,{enumerable:!0,configurable:!0,value:l.newValue,writable:!0}):c[l.name]=l.newValue},o=function(c,l){if(l==="__proto__")if(e.call(c,l)){if(r)return r(c,l).value}else return;return c[l]};return Vh=function u(){var c,l,d,h,f,p,x=arguments[0],_=1,b=arguments.length,T=!1;for(typeof x=="boolean"&&(T=x,x=arguments[1]||{},_=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});_<b;++_)if(c=arguments[_],c!=null)for(l in c)d=o(x,l),h=o(c,l),x!==h&&(T&&h&&(s(h)||(f=i(h)))?(f?(f=!1,p=d&&i(d)?d:[]):p=d&&s(d)?d:{},a(x,{name:l,newValue:u(T,p,h)})):typeof h!="undefined"&&a(x,{name:l,newValue:h}));return x},Vh}var N4=S4();const $h=Kl(N4);function Hp(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function v4(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(u,...c){const l=e[++s];let d=-1;if(u){a(u);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,l?w4(l,o)(...c):a(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function w4(e,t){let n;return r;function r(...a){const o=e.length>a.length;let u;o&&a.push(i);try{u=e.apply(this,a)}catch(c){const l=c;if(o&&n)throw l;return i(l)}o||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(a,...o){n||(n=!0,t(a,...o))}function s(a){i(null,a)}}const _i={basename:I4,dirname:k4,extname:O4,join:D4,sep:"/"};function I4(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ec(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function k4(e){if(ec(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function O4(e){ec(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function D4(...e){let t=-1,n;for(;++t<e.length;)ec(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":R4(n)}function R4(e){ec(e);const t=e.codePointAt(0)===47;let n=L4(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function L4(e,t){let n="",r=0,i=-1,s=0,a=-1,o,u;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function ec(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const P4={cwd:M4};function M4(){return"/"}function Up(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function B4(e){if(typeof e=="string")e=new URL(e);else if(!Up(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return j4(e)}function j4(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Wh=["history","path","basename","stem","extname","dirname"];class rA{constructor(t){let n;t?Up(t)?n={path:t}:typeof t=="string"||F4(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":P4.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Wh.length;){const s=Wh[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Wh.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?_i.basename(this.path):void 0}set basename(t){Kh(t,"basename"),Yh(t,"basename"),this.path=_i.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?_i.dirname(this.path):void 0}set dirname(t){ET(this.basename,"dirname"),this.path=_i.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?_i.extname(this.path):void 0}set extname(t){if(Yh(t,"extname"),ET(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=_i.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Up(t)&&(t=B4(t)),Kh(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?_i.basename(this.path,this.extname):void 0}set stem(t){Kh(t,"stem"),Yh(t,"stem"),this.path=_i.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Qn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Yh(e,t){if(e&&e.includes(_i.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+_i.sep+"`")}function Kh(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function ET(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function F4(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const H4=(function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),U4={}.hasOwnProperty;class Tg extends H4{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=v4()}copy(){const t=new Tg;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data($h(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Jh("data",this.frozen),this.namespace[t]=n,this):U4.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Jh("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Cc(t),r=this.parser||this.Parser;return Qh("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Qh("process",this.parser||this.Parser),Xh("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=Cc(t),u=r.parse(o);r.run(u,o,function(l,d,h){if(l||!d||!h)return c(l);const f=d,p=r.stringify(f,h);G4(p)?h.value=p:h.result=p,c(l,h)});function c(l,d){l||!d?a(l):s?s(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),Qh("processSync",this.parser||this.Parser),Xh("processSync",this.compiler||this.Compiler),this.process(t,i),_T("processSync","process",n),r;function i(s,a){n=!0,bT(s),r=a}}run(t,n,r){yT(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const u=Cc(n);i.run(t,u,c);function c(l,d,h){const f=d||t;l?o(l):a?a(f):r(void 0,f,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),_T("runSync","run",r),i;function s(a,o){bT(a),i=o,r=!0}}stringify(t,n){this.freeze();const r=Cc(n),i=this.compiler||this.Compiler;return Xh("stringify",i),yT(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Jh("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[l,...d]=c;u(l,d)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=$h(!0,i.settings,c.settings))}function o(c){let l=-1;if(c!=null)if(Array.isArray(c))for(;++l<c.length;){const d=c[l];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,l){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===c){h=d;break}if(h===-1)r.push([c,...l]);else if(l.length>0){let[f,...p]=l;const x=r[h][1];Hp(x)&&Hp(f)&&(f=$h(!0,x,f)),r[h]=[c,f,...p]}}}}const z4=new Tg().freeze();function Qh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Xh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Jh(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function yT(e){if(!Hp(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function _T(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Cc(e){return q4(e)?e:new rA(e)}function q4(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function G4(e){return typeof e=="string"||V4(e)}function V4(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const $4="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",xT=[],AT={allowDangerousHtml:!0},W4=/^(https?|ircs?|mailto|xmpp)$/i,Y4=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function K4(e){const t=Q4(e),n=X4(e);return J4(t.runSync(t.parse(n),n),e)}function Q4(e){const t=e.rehypePlugins||xT,n=e.remarkPlugins||xT,r=e.remarkRehypeOptions?U(U({},e.remarkRehypeOptions),AT):AT;return z4().use(kD).use(n).use(C4,r).use(t)}function X4(e){const t=e.children||"",n=new rA;return typeof t=="string"&&(n.value=t),n}function J4(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,u=t.urlTransform||Z4;for(const l of Y4)Object.hasOwn(t,l.from)&&(""+l.from+(l.to?"use `"+l.to+"` instead":"remove it")+$4+l.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),eh(e,c),hO(e,{Fragment:m.Fragment,components:i,ignoreInvalidStyle:!0,jsx:m.jsx,jsxs:m.jsxs,passKeys:!0,passNode:!0});function c(l,d,h){if(l.type==="raw"&&h&&typeof d=="number")return a?h.children.splice(d,1):h.children[d]={type:"text",value:l.value},d;if(l.type==="element"){let f;for(f in zh)if(Object.hasOwn(zh,f)&&Object.hasOwn(l.properties,f)){const p=l.properties[f],x=zh[f];(x===null||x.includes(l.tagName))&&(l.properties[f]=u(String(p||""),f,l))}}if(l.type==="element"){let f=n?!n.includes(l.tagName):s?s.includes(l.tagName):!1;if(!f&&r&&typeof d=="number"&&(f=!r(l,d,h)),f&&h&&typeof d=="number")return o&&l.children?h.children.splice(d,1,...l.children):h.children.splice(d,1),d}}}function Z4(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||W4.test(e.slice(0,t))?e:""}function CT(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function eR(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function tR(e,t,n){const i=Jf((n||{}).ignore||[]),s=nR(t);let a=-1;for(;++a<s.length;)nA(e,"text",o);function o(c,l){let d=-1,h;for(;++d<l.length;){const f=l[d],p=h?h.children:void 0;if(i(f,p?p.indexOf(f):void 0,h))return;h=f}if(h)return u(c,l)}function u(c,l){const d=l[l.length-1],h=s[a][0],f=s[a][1];let p=0;const _=d.children.indexOf(c);let b=!1,T=[];h.lastIndex=0;let N=h.exec(c.value);for(;N;){const g=N.index,y={index:N.index,input:N.input,stack:[...l,c]};let E=f(...N,y);if(typeof E=="string"&&(E=E.length>0?{type:"text",value:E}:void 0),E===!1?h.lastIndex=g+1:(p!==g&&T.push({type:"text",value:c.value.slice(p,g)}),Array.isArray(E)?T.push(...E):E&&T.push(E),p=g+N[0].length,b=!0),!h.global)break;N=h.exec(c.value)}return b?(p<c.value.length&&T.push({type:"text",value:c.value.slice(p)}),d.children.splice(_,1,...T)):T=[c],_+T.length}}function nR(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([rR(i[0]),iR(i[1])])}return t}function rR(e){return typeof e=="string"?new RegExp(eR(e),"g"):e}function iR(e){return typeof e=="function"?e:function(){return e}}const Zh="phrasing",e0=["autolink","link","image","label"];function sR(){return{transforms:[fR],enter:{literalAutolink:uR,literalAutolinkEmail:t0,literalAutolinkHttp:t0,literalAutolinkWww:t0},exit:{literalAutolink:dR,literalAutolinkEmail:cR,literalAutolinkHttp:oR,literalAutolinkWww:lR}}}function aR(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Zh,notInConstruct:e0},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Zh,notInConstruct:e0},{character:":",before:"[ps]",after:"\\/",inConstruct:Zh,notInConstruct:e0}]}}function uR(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function t0(e){this.config.enter.autolinkProtocol.call(this,e)}function oR(e){this.config.exit.autolinkProtocol.call(this,e)}function lR(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function cR(e){this.config.exit.autolinkEmail.call(this,e)}function dR(e){this.exit(e)}function fR(e){tR(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,hR],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),pR]],{ignore:["link","linkReference"]})}function hR(e,t,n,r,i){let s="";if(!iA(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!mR(n)))return!1;const a=gR(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function pR(e,t,n,r){return!iA(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function mR(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function gR(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=CT(e,"(");let s=CT(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function iA(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Fa(n)||Kf(n))&&(!t||n!==47)}sA.peek=SR;function bR(){this.buffer()}function TR(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function ER(){this.buffer()}function yR(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function _R(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ci(this.sliceSerialize(e)).toLowerCase(),n.label=t}function xR(e){this.exit(e)}function AR(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ci(this.sliceSerialize(e)).toLowerCase(),n.label=t}function CR(e){this.exit(e)}function SR(){return"["}function sA(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function NR(){return{enter:{gfmFootnoteCallString:bR,gfmFootnoteCall:TR,gfmFootnoteDefinitionLabelString:ER,gfmFootnoteDefinition:yR},exit:{gfmFootnoteCallString:_R,gfmFootnoteCall:xR,gfmFootnoteDefinitionLabelString:AR,gfmFootnoteDefinition:CR}}}function vR(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:sA},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const o=s.createTracker(a);let u=o.move("[^");const c=s.enter("footnoteDefinition"),l=s.enter("label");return u+=o.move(s.safe(s.associationId(r),{before:u,after:"]"})),l(),u+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),u+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),t?aA:wR))),c(),u}}function wR(e,t,n){return t===0?e:aA(e,t,n)}function aA(e,t,n){return(n?"":"    ")+e}const IR=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];uA.peek=LR;function kR(){return{canContainEols:["delete"],enter:{strikethrough:DR},exit:{strikethrough:RR}}}function OR(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:IR}],handlers:{delete:uA}}}function DR(e){this.enter({type:"delete",children:[]},e)}function RR(e){this.exit(e)}function uA(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,oe(U({},i.current()),{before:a,after:"~"})),a+=i.move("~~"),s(),a}function LR(){return"~"}function PR(e){return e.length}function MR(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||PR,s=[],a=[],o=[],u=[];let c=0,l=-1;for(;++l<e.length;){const x=[],_=[];let b=-1;for(e[l].length>c&&(c=e[l].length);++b<e[l].length;){const T=BR(e[l][b]);if(n.alignDelimiters!==!1){const N=i(T);_[b]=N,(u[b]===void 0||N>u[b])&&(u[b]=N)}x.push(T)}a[l]=x,o[l]=_}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<c;)s[d]=ST(r[d]);else{const x=ST(r);for(;++d<c;)s[d]=x}d=-1;const h=[],f=[];for(;++d<c;){const x=s[d];let _="",b="";x===99?(_=":",b=":"):x===108?_=":":x===114&&(b=":");let T=n.alignDelimiters===!1?1:Math.max(1,u[d]-_.length-b.length);const N=_+"-".repeat(T)+b;n.alignDelimiters!==!1&&(T=_.length+T+b.length,T>u[d]&&(u[d]=T),f[d]=T),h[d]=N}a.splice(1,0,h),o.splice(1,0,f),l=-1;const p=[];for(;++l<a.length;){const x=a[l],_=o[l];d=-1;const b=[];for(;++d<c;){const T=x[d]||"";let N="",g="";if(n.alignDelimiters!==!1){const y=u[d]-(_[d]||0),E=s[d];E===114?N=" ".repeat(y):E===99?y%2?(N=" ".repeat(y/2+.5),g=" ".repeat(y/2-.5)):(N=" ".repeat(y/2),g=N):g=" ".repeat(y)}n.delimiterStart!==!1&&!d&&b.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&T==="")&&(n.delimiterStart!==!1||d)&&b.push(" "),n.alignDelimiters!==!1&&b.push(N),b.push(T),n.alignDelimiters!==!1&&b.push(g),n.padding!==!1&&b.push(" "),(n.delimiterEnd!==!1||d!==c-1)&&b.push("|")}p.push(n.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return p.join(`
`)}function BR(e){return e==null?"":String(e)}function ST(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const NT={}.hasOwnProperty;function oA(e,t){const n=t||{};function r(i,...s){let a=r.invalid;const o=r.handlers;if(i&&NT.call(i,e)){const u=String(i[e]);a=NT.call(o,u)?o[u]:r.unknown}if(a)return a.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function jR(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),FR);return i(),a}function FR(e,t,n){return">"+(n?"":" ")+e}function HR(e,t){return vT(e,t.inConstruct,!0)&&!vT(e,t.notInConstruct,!1)}function vT(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function wT(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&HR(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function UR(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+t.length,r=n.indexOf(t,i);return a}function zR(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function qR(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function GR(e,t,n,r){const i=qR(n),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(zR(e,n)){const d=n.enter("codeIndented"),h=n.indentLines(s,VR);return d(),h}const o=n.createTracker(r),u=i.repeat(Math.max(UR(s,i)+1,3)),c=n.enter("codeFenced");let l=o.move(u);if(e.lang){const d=n.enter(`codeFencedLang${a}`);l+=o.move(n.safe(e.lang,U({before:l,after:" ",encode:["`"]},o.current()))),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${a}`);l+=o.move(" "),l+=o.move(n.safe(e.meta,U({before:l,after:`
`,encode:["`"]},o.current()))),d()}return l+=o.move(`
`),s&&(l+=o.move(s+`
`)),l+=o.move(u),c(),l}function VR(e,t,n){return(n?"":"    ")+e}function Eg(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function $R(e,t,n,r){const i=Eg(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const u=n.createTracker(r);let c=u.move("[");return c+=u.move(n.safe(n.associationId(e),U({before:c,after:"]"},u.current()))),c+=u.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,U({before:c,after:">"},u.current()))),c+=u.move(">")):(o=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,U({before:c,after:e.title?" ":`
`},u.current())))),o(),e.title&&(o=n.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(n.safe(e.title,U({before:c,after:i},u.current()))),c+=u.move(i),o()),a(),c}function WR(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Nl(e){return"&#x"+e.toString(16).toUpperCase()+";"}function kd(e,t,n){const r=Pu(e),i=Pu(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}lA.peek=YR;function lA(e,t,n,r){const i=WR(n),s=n.enter("emphasis"),a=n.createTracker(r),o=a.move(i);let u=a.move(n.containerPhrasing(e,U({after:i,before:o},a.current())));const c=u.charCodeAt(0),l=kd(r.before.charCodeAt(r.before.length-1),c,i);l.inside&&(u=Nl(c)+u.slice(1));const d=u.charCodeAt(u.length-1),h=kd(r.after.charCodeAt(0),d,i);h.inside&&(u=u.slice(0,-1)+Nl(d));const f=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:l.outside},o+u+f}function YR(e,t,n){return n.options.emphasis||"*"}function KR(e,t){let n=!1;return eh(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,jp}),!!((!e.depth||e.depth<3)&&dg(e)&&(t.options.setext||n))}function QR(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(KR(e,n)){const l=n.enter("headingSetext"),d=n.enter("phrasing"),h=n.containerPhrasing(e,oe(U({},s.current()),{before:`
`,after:`
`}));return d(),l(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),u=n.enter("phrasing");s.move(a+" ");let c=n.containerPhrasing(e,U({before:"# ",after:`
`},s.current()));return/^[\t ]/.test(c)&&(c=Nl(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),u(),o(),c}cA.peek=XR;function cA(e){return e.value||""}function XR(){return"<"}dA.peek=JR;function dA(e,t,n,r){const i=Eg(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const u=n.createTracker(r);let c=u.move("![");return c+=u.move(n.safe(e.alt,U({before:c,after:"]"},u.current()))),c+=u.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,U({before:c,after:">"},u.current()))),c+=u.move(">")):(o=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,U({before:c,after:e.title?" ":")"},u.current())))),o(),e.title&&(o=n.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(n.safe(e.title,U({before:c,after:i},u.current()))),c+=u.move(i),o()),c+=u.move(")"),a(),c}function JR(){return"!"}fA.peek=ZR;function fA(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let u=o.move("![");const c=n.safe(e.alt,U({before:u,after:"]"},o.current()));u+=o.move(c+"]["),a();const l=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),U({before:u,after:"]"},o.current()));return a(),n.stack=l,s(),i==="full"||!c||c!==d?u+=o.move(d+"]"):i==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function ZR(){return"!"}hA.peek=eL;function hA(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let u;if(a.atBreak)for(;u=o.exec(r);){let c=u.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(u.index+1)}}return i+r+i}function eL(){return"`"}function pA(e,t){const n=dg(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}mA.peek=tL;function mA(e,t,n,r){const i=Eg(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,u;if(pA(e,n)){const l=n.stack;n.stack=[],o=n.enter("autolink");let d=a.move("<");return d+=a.move(n.containerPhrasing(e,U({before:d,after:">"},a.current()))),d+=a.move(">"),o(),n.stack=l,d}o=n.enter("link"),u=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(e,U({before:c,after:"]("},a.current()))),c+=a.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,U({before:c,after:">"},a.current()))),c+=a.move(">")):(u=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,U({before:c,after:e.title?" ":")"},a.current())))),u(),e.title&&(u=n.enter(`title${s}`),c+=a.move(" "+i),c+=a.move(n.safe(e.title,U({before:c,after:i},a.current()))),c+=a.move(i),u()),c+=a.move(")"),o(),c}function tL(e,t,n){return pA(e,n)?"<":"["}gA.peek=nL;function gA(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let u=o.move("[");const c=n.containerPhrasing(e,U({before:u,after:"]"},o.current()));u+=o.move(c+"]["),a();const l=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),U({before:u,after:"]"},o.current()));return a(),n.stack=l,s(),i==="full"||!c||c!==d?u+=o.move(d+"]"):i==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function nL(){return"["}function yg(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function rL(e){const t=yg(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function iL(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function bA(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function sL(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?iL(n):yg(n);const o=e.ordered?a==="."?")":".":rL(n);let u=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const l=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&l&&(!l.children||!l.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),bA(n)===a&&l){let d=-1;for(;++d<e.children.length;){const h=e.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=o),n.bulletCurrent=a;const c=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),c}function aL(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function uL(e,t,n,r){const i=aL(n);let s=n.bulletCurrent||yg(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const u=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),l);return u(),c;function l(d,h,f){return h?(f?"":" ".repeat(a))+d:(f?s:s+" ".repeat(a-s.length))+d}}function oL(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,r);return s(),i(),a}const lL=Jf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function cL(e,t,n,r){return(e.children.some(function(a){return lL(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function dL(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}TA.peek=fL;function TA(e,t,n,r){const i=dL(n),s=n.enter("strong"),a=n.createTracker(r),o=a.move(i+i);let u=a.move(n.containerPhrasing(e,U({after:i,before:o},a.current())));const c=u.charCodeAt(0),l=kd(r.before.charCodeAt(r.before.length-1),c,i);l.inside&&(u=Nl(c)+u.slice(1));const d=u.charCodeAt(u.length-1),h=kd(r.after.charCodeAt(0),d,i);h.inside&&(u=u.slice(0,-1)+Nl(d));const f=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:l.outside},o+u+f}function fL(e,t,n){return n.options.strong||"*"}function hL(e,t,n,r){return n.safe(e.value,r)}function pL(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function mL(e,t,n){const r=(bA(n)+(n.options.ruleSpaces?" ":"")).repeat(pL(n));return n.options.ruleSpaces?r.slice(0,-1):r}const EA={blockquote:jR,break:wT,code:GR,definition:$R,emphasis:lA,hardBreak:wT,heading:QR,html:cA,image:dA,imageReference:fA,inlineCode:hA,link:mA,linkReference:gA,list:sL,listItem:uL,paragraph:oL,root:cL,strong:TA,text:hL,thematicBreak:mL};function gL(){return{enter:{table:bL,tableData:IT,tableHeader:IT,tableRow:EL},exit:{codeText:yL,table:TL,tableData:n0,tableHeader:n0,tableRow:n0}}}function bL(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function TL(e){this.exit(e),this.data.inTable=void 0}function EL(e){this.enter({type:"tableRow",children:[]},e)}function n0(e){this.exit(e)}function IT(e){this.enter({type:"tableCell",children:[]},e)}function yL(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,_L));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function _L(e,t){return t==="|"?t:e}function xL(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:a,tableCell:u,tableRow:o}};function a(f,p,x,_){return c(l(f,x,_),f.align)}function o(f,p,x,_){const b=d(f,x,_),T=c([b]);return T.slice(0,T.indexOf(`
`))}function u(f,p,x,_){const b=x.enter("tableCell"),T=x.enter("phrasing"),N=x.containerPhrasing(f,oe(U({},_),{before:s,after:s}));return T(),b(),N}function c(f,p){return MR(f,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function l(f,p,x){const _=f.children;let b=-1;const T=[],N=p.enter("table");for(;++b<_.length;)T[b]=d(_[b],p,x);return N(),T}function d(f,p,x){const _=f.children;let b=-1;const T=[],N=p.enter("tableRow");for(;++b<_.length;)T[b]=u(_[b],f,p,x);return N(),T}function h(f,p,x){let _=EA.inlineCode(f,p,x);return x.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function AL(){return{exit:{taskListCheckValueChecked:kT,taskListCheckValueUnchecked:kT,paragraph:SL}}}function CL(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:NL}}}function kT(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function SL(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function NL(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let u=EA.listItem(e,t,n,U(U({},r),o.current()));return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),u;function c(l){return l+a}}function vL(){return[sR(),NR(),kR(),gL(),AL()]}function wL(e){return{extensions:[aR(),vR(e),OR(),xL(e),CL()]}}const IL={tokenize:PL,partial:!0},yA={tokenize:ML,partial:!0},_A={tokenize:BL,partial:!0},xA={tokenize:jL,partial:!0},kL={tokenize:FL,partial:!0},AA={name:"wwwAutolink",tokenize:RL,previous:SA},CA={name:"protocolAutolink",tokenize:LL,previous:NA},hs={name:"emailAutolink",tokenize:DL,previous:vA},Hi={};function OL(){return{text:Hi}}let sa=48;for(;sa<123;)Hi[sa]=hs,sa++,sa===58?sa=65:sa===91&&(sa=97);Hi[43]=hs;Hi[45]=hs;Hi[46]=hs;Hi[95]=hs;Hi[72]=[hs,CA];Hi[104]=[hs,CA];Hi[87]=[hs,AA];Hi[119]=[hs,AA];function DL(e,t,n){const r=this;let i,s;return a;function a(d){return!zp(d)||!vA.call(r,r.previous)||_g(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(d))}function o(d){return zp(d)?(e.consume(d),o):d===64?(e.consume(d),u):n(d)}function u(d){return d===46?e.check(kL,l,c)(d):d===45||d===95||Wn(d)?(s=!0,e.consume(d),u):l(d)}function c(d){return e.consume(d),i=!0,u}function l(d){return s&&i&&cr(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function RL(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!SA.call(r,r.previous)||_g(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(IL,e.attempt(yA,e.attempt(_A,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function LL(e,t,n){const r=this;let i="",s=!1;return a;function a(d){return(d===72||d===104)&&NA.call(r,r.previous)&&!_g(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),o):n(d)}function o(d){if(cr(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),o;if(d===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(d),u}return n(d)}function u(d){return d===47?(e.consume(d),s?c:(s=!0,u)):n(d)}function c(d){return d===null||wd(d)||Yt(d)||Fa(d)||Kf(d)?n(d):e.attempt(yA,e.attempt(_A,l),n)(d)}function l(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function PL(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function ML(e,t,n){let r,i,s;return a;function a(c){return c===46||c===95?e.check(xA,u,o)(c):c===null||Yt(c)||Fa(c)||c!==45&&Kf(c)?u(c):(s=!0,e.consume(c),a)}function o(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),a}function u(c){return i||r||!s?n(c):t(c)}}function BL(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(xA,t,s)(a):a===null||Yt(a)||Fa(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&r++,e.consume(a),i}}function jL(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||Yt(o)||Fa(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Yt(o)||Fa(o)?t(o):r(o)}function s(o){return cr(o)?a(o):n(o)}function a(o){return o===59?(e.consume(o),r):cr(o)?(e.consume(o),a):n(o)}}function FL(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return Wn(s)?n(s):t(s)}}function SA(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Yt(e)}function NA(e){return!cr(e)}function vA(e){return!(e===47||zp(e))}function zp(e){return e===43||e===45||e===46||e===95||Wn(e)}function _g(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const HL={tokenize:YL,partial:!0};function UL(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:VL,continuation:{tokenize:$L},exit:WL}},text:{91:{name:"gfmFootnoteCall",tokenize:GL},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:zL,resolveTo:qL}}}}function zL(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const u=r.events[i][1];if(u.type==="labelImage"){a=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return o;function o(u){if(!a||!a._balanced)return n(u);const c=ci(r.sliceSerialize({start:a.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function qL(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function GL(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),u}function u(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(d){if(s>999||d===93&&!a||d===null||d===91||Yt(d))return n(d);if(d===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(ci(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return Yt(d)||(a=!0),s++,e.consume(d),d===92?l:c}function l(d){return d===91||d===92||d===93?(e.consume(d),s++,c):c(d)}}function VL(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return u;function u(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",l):n(p)}function l(p){if(a>999||p===93&&!o||p===null||p===91||Yt(p))return n(p);if(p===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return s=ci(r.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Yt(p)||(o=!0),a++,e.consume(p),p===92?d:l}function d(p){return p===91||p===92||p===93?(e.consume(p),a++,l):l(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(s)||i.push(s),_t(e,f,"gfmFootnoteDefinitionWhitespace")):n(p)}function f(p){return t(p)}}function $L(e,t,n){return e.check(Zl,t,e.attempt(HL,t,n))}function WL(e){e.exit("gfmFootnoteDefinition")}function YL(e,t,n){const r=this;return _t(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function KL(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let c=u;for(;c--;)if(a[c][0]==="exit"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[c][1].end.offset-a[c][1].start.offset){a[u][1].type="strikethroughSequence",a[c][1].type="strikethroughSequence";const l={type:"strikethrough",start:Object.assign({},a[c][1].start),end:Object.assign({},a[u][1].end)},d={type:"strikethroughText",start:Object.assign({},a[c][1].end),end:Object.assign({},a[u][1].start)},h=[["enter",l,o],["enter",a[c][1],o],["exit",a[c][1],o],["enter",d,o]],f=o.parser.constructs.insideSpan.null;f&&Pr(h,h.length,0,Qf(f,a.slice(c+1,u),o)),Pr(h,h.length,0,[["exit",d,o],["enter",a[u][1],o],["exit",a[u][1],o],["exit",l,o]]),Pr(a,c-1,u-c+3,h),u=c+h.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}function s(a,o,u){const c=this.previous,l=this.events;let d=0;return h;function h(p){return c===126&&l[l.length-1][1].type!=="characterEscape"?u(p):(a.enter("strikethroughSequenceTemporary"),f(p))}function f(p){const x=Pu(c);if(p===126)return d>1?u(p):(a.consume(p),d++,f);if(d<2&&!n)return u(p);const _=a.exit("strikethroughSequenceTemporary"),b=Pu(p);return _._open=!b||b===2&&!!x,_._close=!x||x===2&&!!b,o(p)}}}class QL{constructor(){this.map=[]}add(t,n,r){XL(this,t,n,r)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function XL(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function JL(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function ZL(){return{flow:{null:{name:"table",tokenize:e5,resolveAll:t5}}}}function e5(e,t,n){const r=this;let i=0,s=0,a;return o;function o(S){let A=r.events.length-1;for(;A>-1;){const D=r.events[A][1].type;if(D==="lineEnding"||D==="linePrefix")A--;else break}const w=A>-1?r.events[A][1].type:null,O=w==="tableHead"||w==="tableRow"?E:u;return O===E&&r.parser.lazy[r.now().line]?n(S):O(S)}function u(S){return e.enter("tableHead"),e.enter("tableRow"),c(S)}function c(S){return S===124||(a=!0,s+=1),l(S)}function l(S){return S===null?n(S):We(S)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),f):n(S):Tt(S)?_t(e,l,"whitespace")(S):(s+=1,a&&(a=!1,i+=1),S===124?(e.enter("tableCellDivider"),e.consume(S),e.exit("tableCellDivider"),a=!0,l):(e.enter("data"),d(S)))}function d(S){return S===null||S===124||Yt(S)?(e.exit("data"),l(S)):(e.consume(S),S===92?h:d)}function h(S){return S===92||S===124?(e.consume(S),d):d(S)}function f(S){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(S):(e.enter("tableDelimiterRow"),a=!1,Tt(S)?_t(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):p(S))}function p(S){return S===45||S===58?_(S):S===124?(a=!0,e.enter("tableCellDivider"),e.consume(S),e.exit("tableCellDivider"),x):y(S)}function x(S){return Tt(S)?_t(e,_,"whitespace")(S):_(S)}function _(S){return S===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(S),e.exit("tableDelimiterMarker"),b):S===45?(s+=1,b(S)):S===null||We(S)?g(S):y(S)}function b(S){return S===45?(e.enter("tableDelimiterFiller"),T(S)):y(S)}function T(S){return S===45?(e.consume(S),T):S===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(S),e.exit("tableDelimiterMarker"),N):(e.exit("tableDelimiterFiller"),N(S))}function N(S){return Tt(S)?_t(e,g,"whitespace")(S):g(S)}function g(S){return S===124?p(S):S===null||We(S)?!a||i!==s?y(S):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(S)):y(S)}function y(S){return n(S)}function E(S){return e.enter("tableRow"),I(S)}function I(S){return S===124?(e.enter("tableCellDivider"),e.consume(S),e.exit("tableCellDivider"),I):S===null||We(S)?(e.exit("tableRow"),t(S)):Tt(S)?_t(e,I,"whitespace")(S):(e.enter("data"),R(S))}function R(S){return S===null||S===124||Yt(S)?(e.exit("data"),I(S)):(e.consume(S),S===92?L:R)}function L(S){return S===92||S===124?(e.consume(S),R):R(S)}}function t5(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,u=0,c,l,d;const h=new QL;for(;++n<e.length;){const f=e[n],p=f[1];f[0]==="enter"?p.type==="tableHead"?(o=!1,u!==0&&(OT(h,t,u,c,l),l=void 0,u=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",c,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,l={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",l,t]])),i=p.type==="tableDelimiterRow"?2:l?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],d=Sc(h,t,s,i,void 0,d),s=[0,0,0,0]),a[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],d=Sc(h,t,s,i,void 0,d)),s=a,a=[s[1],n,0,0])):p.type==="tableHead"?(o=!0,u=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(u=n,s[1]!==0?(a[0]=a[1],d=Sc(h,t,s,i,n,d)):a[1]!==0&&(d=Sc(h,t,a,i,n,d)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(a[3]=n)}for(u!==0&&OT(h,t,u,c,l),h.consume(t.events),n=-1;++n<t.events.length;){const f=t.events[n];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=JL(t.events,n))}return e}function Sc(e,t,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},Tu(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const u=Tu(t.events,n[1]);if(s={type:a,start:Object.assign({},u),end:Object.assign({},u)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const c=Tu(t.events,n[2]),l=Tu(t.events,n[3]),d={type:o,start:Object.assign({},c),end:Object.assign({},l)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const h=t.events[n[2]],f=t.events[n[3]];if(h[1].end=Object.assign({},f[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,x=n[3]-n[2]-1;e.add(p,x,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(s.end=Object.assign({},Tu(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function OT(e,t,n,r,i){const s=[],a=Tu(t.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),r.end=Object.assign({},a),s.push(["exit",r,t]),e.add(n+1,0,s)}function Tu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const n5={name:"tasklistCheck",tokenize:i5};function r5(){return{text:{91:n5}}}function i5(e,t,n){const r=this;return i;function i(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),s)}function s(u){return Yt(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),a):n(u)}function a(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(u)}function o(u){return We(u)?t(u):Tt(u)?e.check({tokenize:s5},t,n)(u):n(u)}}function s5(e,t,n){return _t(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function a5(e){return Bx([OL(),UL(),KL(e),ZL(),r5()])}const u5={};function o5(e){const t=this,n=e||u5,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(a5(n)),s.push(vL()),a.push(wL(n))}const DT=/[#.]/g;function l5(e,t){const n=e||"",r={};let i=0,s,a;for(;i<n.length;){DT.lastIndex=i;const o=DT.exec(n),u=n.slice(i,o?o.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:a=u,i+=u.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||t||"div",properties:r,children:[]}}function wA(e,t,n){const r=n?h5(n):void 0;function i(s,a,...o){let u;if(s==null){u={type:"root",children:[]};const c=a;o.unshift(c)}else{u=l5(s,t);const c=u.tagName.toLowerCase(),l=r?r.get(c):void 0;if(u.tagName=l||c,c5(a))o.unshift(a);else for(const[d,h]of Object.entries(a))d5(e,u.properties,d,h)}for(const c of o)qp(u.children,c);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return i}function c5(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function d5(e,t,n,r){const i=Wf(e,n);let s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=Vb(r):i.commaSeparated?s=Hb(r):i.commaOrSpaceSeparated?s=Vb(Hb(r).join(" ")):s=RT(i,i.property,r):Array.isArray(r)?s=[...r]:s=i.property==="style"?f5(r):String(r);if(Array.isArray(s)){const a=[];for(const o of s)a.push(RT(i,i.property,o));s=a}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}function qp(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)qp(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?qp(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function RT(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Cl(n)===Cl(t)))return!0}return n}function f5(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function h5(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const p5=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],m5=wA(Jl,"div"),g5=wA(Ws,"g",p5);function b5(e){const t=String(e),n=[];return{toOffset:i,toPoint:r};function r(s){if(typeof s=="number"&&s>-1&&s<=t.length){let a=0;for(;;){let o=n[a];if(o===void 0){const u=LT(t,n[a-1]);o=u===-1?t.length+1:u+1,n[a]=o}if(o>s)return{line:a+1,column:s-(a>0?n[a-1]:0)+1,offset:s};a++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const o=n[n.length-1],u=LT(t,o),c=u===-1?t.length+1:u+1;if(o===c)break;n.push(c)}const a=(s.line>1?n[s.line-2]:0)+s.column-1;if(a<n[s.line-1])return a}}}function LT(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const wa={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},IA={}.hasOwnProperty,T5=Object.prototype;function E5(e,t){const n=t||{};return xg({file:n.file||void 0,location:!1,schema:n.space==="svg"?Ws:Jl,verbose:n.verbose||!1},e)}function xg(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},od(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:kA(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),a=b5(s),o=a.toPoint(0),u=a.toPoint(s.length);n.position={start:o,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},od(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},od(e,r,n),n}default:return n=y5(e,t),n}}function kA(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=xg(e,t[n]);r.push(i)}return r}function y5(e,t){const n=e.schema;e.schema=t.namespaceURI===wa.svg?Ws:Jl;let r=-1;const i={};for(;++r<t.attrs.length;){const o=t.attrs[r],u=(o.prefix?o.prefix+":":"")+o.name;IA.call(T5,u)||(i[u]=o.value)}const a=(e.schema.space==="svg"?g5:m5)(t.tagName,i,kA(e,t.childNodes));if(od(e,t,a),a.tagName==="template"){const o=t,u=o.sourceCodeLocation,c=u&&u.startTag&&Su(u.startTag),l=u&&u.endTag&&Su(u.endTag),d=xg(e,o.content);c&&l&&e.file&&(d.position={start:c.end,end:l.start}),a.content=d}return e.schema=n,a}function od(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=_5(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function _5(e,t,n){const r=Su(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let a;if(n.attrs)for(a in n.attrs)IA.call(n.attrs,a)&&(s[Wf(e.schema,a).property]=Su(n.attrs[a]));n.startTag;const o=Su(n.startTag),u=n.endTag?Su(n.endTag):void 0,c={opening:o};u&&(c.closing=u),c.properties=s,t.data={position:c}}}return r}function Su(e){const t=PT({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=PT({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function PT(e){return e.line&&e.column?e:void 0}const x5={},A5={}.hasOwnProperty,OA=oA("type",{handlers:{root:S5,element:k5,text:w5,comment:I5,doctype:v5}});function C5(e,t){const r=(t||x5).space;return OA(e,r==="svg"?Ws:Jl)}function S5(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=Ag(e.children,n,t),Zu(e,n),n}function N5(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=Ag(e.children,n,t),Zu(e,n),n}function v5(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Zu(e,t),t}function w5(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Zu(e,t),t}function I5(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Zu(e,t),t}function k5(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Ws);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&A5.call(e.properties,s)){const u=O5(r,s,e.properties[s]);u&&i.push(u)}}const a=r.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:wa[a],childNodes:[],parentNode:null};return o.childNodes=Ag(e.children,o,r),Zu(e,o),e.tagName==="template"&&e.content&&(o.content=N5(e.content,r)),o}function O5(e,t,n){const r=Wf(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?xx(n):kx(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=wa[r.space]}return i}function Ag(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=OA(e[r],n);s.parentNode=t,i.push(s)}return i}function Zu(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const D5=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],R5=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),sn="ï¿½";var z;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(z||(z={}));const Tr={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function DA(e){return e>=55296&&e<=57343}function L5(e){return e>=56320&&e<=57343}function P5(e,t){return(e-55296)*1024+9216+t}function RA(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function LA(e){return e>=64976&&e<=65007||R5.has(e)}var ue;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ue||(ue={}));const M5=65536;class B5{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=M5,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:s}=this,a=i+n,o=s+n;return{code:t,startLine:r,endLine:r,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(L5(n))return this.pos++,this._addGap(),P5(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,z.EOF;return this._err(ue.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,z.EOF;const r=this.html.charCodeAt(n);return r===z.CARRIAGE_RETURN?z.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,z.EOF;let t=this.html.charCodeAt(this.pos);return t===z.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,z.LINE_FEED):t===z.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,DA(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===z.LINE_FEED||t===z.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){RA(t)?this._err(ue.controlCharacterInInputStream):LA(t)&&this._err(ue.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var mt;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(mt||(mt={}));function PA(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const MA=new Uint16Array('áµ<ÃÄ±ÊÒÕ»×ÙµÛÞ¢ßà à©àªà¶¡à¹­à¼à¼¦áá¨á¡ááááá¥\0\0\0\0\0\0á«áá¦á°á·á½¾â â°âââ»ââ ¤â¤â´â¹â¿ããºã¹ã¬ã£¾ã¨¨ã©±ã« ã¬®à EMabcfglmnoprstu\\bfmsÂÂÂÂÂÂ¦Â³Â¹ÃÃligè»ÃäPè»&ä¦cuteè»Ãäreve;äÄiyx}rcè»Ãä;är;ìðraveè»Ãäpha;äacr;äd;æ©ÄgpÂÂ¡on;äf;ìð¸plyFunction;æ¡ingè»ÃäÄcsÂ¾Ãr;ìðign;æildeè»Ãämlè»ÃäÐaceforsuÃ¥Ã»Ã¾ÄÄÄ¢Ä§ÄªÄcrÃªÃ²kslash;æÅ¶Ã¶Ã¸;æ«§ed;æy;äÆcrtÄÄÄause;æµnoullis;æ¬a;är;ìðpf;ìð¹eve;äcÃ²Ämpeq;æÜHOacdefhilorsuÅÅÅÆÆÆ¢ÆµÆ·ÆºÇÈÉ³É¸É¾cy;ä§PYè»Â©ä©ÆcpyÅÅ¢Åºute;äÄ;iÅ§Å¨ætalDifferentialD;æleys;æ­ÈaeioÆÆÆÆron;ädilè»Ãärc;änint;æ°ot;äÄdnÆ§Æ­illa;ä¸terDot;ä·Ã²Å¿i;ä§rcleÈDMPTÇÇÇÇot;æinus;ælus;æimes;æoÄcsÇ¢Ç¸kwiseContourIntegral;æ²eCurlyÄDQÈÈoubleQuote;æuote;æÈlnpuÈÈ¨ÉÉonÄ;eÈ¥È¦æ·;æ©´ÆgitÈ¯È¶Èºruent;æ¡nt;æ¯ourIntegral;æ®ÄfrÉÉ;æoduct;ænterClockwiseContourIntegral;æ³oss;æ¨¯cr;ìðpÄ;CÊÊæap;æÖDJSZacefiosÊ Ê¬Ê°Ê´Ê¸ËËË¡Ë¦Ì³ÒÄ;oÅ¹Ê¥trahd;æ¤cy;äcy;äcy;äÆgrsÊ¿ËËger;æ¡r;æ¡hv;æ«¤ÄayËËron;ä;älÄ;tËËæa;är;ìðÄafË«Ì§ÄcmË°Ì¢riticalÈADGTÌÌÌÌcute;ä´oÅ´ÌÌ;äbleAcute;ärave;ä ilde;äond;æferentialD;æÑ°Ì½\0\0\0ÍÍ\0Ðf;ìð»Æ;DEÍÍÍä¨ot;æqual;æbleÌCDLRUVÍ£Í²ÎÏÏ¢Ï¸ontourIntegraÃ¬È¹oÉ´Í¹\0\0Í»Â»ÍnArrow;æÄeoÎÎ¤ftÆARTÎÎÎ¡rrow;æightArrow;æeÃ¥ËngÄLRÎ«ÏeftÄARÎ³Î¹rrow;æ¸ightArrow;æºightArrow;æ¹ightÄATÏÏrrow;æee;æ¨pÉÏ©\0\0Ï¯rrow;æownArrow;æerticalBar;æ¥nÌABLRTaÐÐªÐ°ÑÑ¿Í¼rrowÆ;BUÐÐÐ¢æar;æ¤pArrow;æµreve;äeftËÐº\0Ñ\0ÑightVector;æ¥eeVector;æ¥ectorÄ;BÑÑæ½ar;æ¥ightÇÑ§\0Ñ±eeVector;æ¥ectorÄ;BÑºÑ»æar;æ¥eeÄ;AÒÒæ¤rrow;æ§ÄctÒÒr;ìðrok;äà NTacdfglmopqstuxÒ½ÓÓÓÓÓ¢Ó§Ó®ÓµÔ¡Ô¯Ô¶ÕÕÕ Õ¥G;äHè»Ãäcuteè»ÃäÆaiyÓÓÓron;ärcè»Ãä;ä­ot;är;ìðraveè»Ãäement;æÄapÓºÓ¾cr;ätyÉÔ\0\0ÔmallSquare;æ»erySmallSquare;æ«ÄgpÔ¦Ôªon;äf;ìð¼silon;äuÄaiÔ¼ÕlÄ;TÕÕæ©µilde;ælibrium;æÄciÕÕr;æ°m;æ©³a;ämlè»ÃäÄipÕªÕ¯sts;æonentialE;æÊcfiosÖÖÖÖ²×y;ä¤r;ìðlledÉÖ\0\0Ö£mallSquare;æ¼erySmallSquare;æªÍ°Öº\0Ö¿\0\0×f;ìð½All;æriertrf;æ±cÃ²×ØJTabcdfgorst×¨×¬×¯×ºØØØØØØ£Ù¬Ù²cy;äè»>ä¾mmaÄ;d×·×¸ä;äreve;äÆeiyØØØdil;ä¢rc;ä;äot;ä r;ìð;æpf;ìð¾eaterÌEFGLSTØµÙÙÙÙÙ¦qualÄ;LØ¾Ø¿æ¥ess;æullEqual;æ§reater;æª¢ess;æ·lantEqual;æ©¾ilde;æ³cr;ìð¢;æ«ÐAacfiosuÚÚÚÚÚÚªÚ¾ÛRDcy;äªÄctÚÚek;ä;äirc;ä¤r;ælbertSpace;æÇ°Ú¯\0Ú²f;æizontalLine;æÄctÛÛÃ²Ú©rok;ä¦mpÅÛÛownHumÃ°Ä¯qual;æÜEJOacdfgmnostuÛºÛ¾ÜÜÜÜÜÜ¡Ü¨ÝÝ¸ÞÞÞcy;älig;ä²cy;äcuteè»ÃäÄiyÜÜrcè»Ãä;äot;ä°r;æraveè»ÃäÆ;apÜ Ü¯Ü¿ÄcgÜ´Ü·r;äªinaryI;ælieÃ³ÏÇ´Ý\0Ý¢Ä;eÝÝæ¬ÄgrÝÝral;æ«section;æisibleÄCTÝ¬Ý²omma;æ£imes;æ¢ÆgptÝ¿ÞÞon;ä®f;ìða;äcr;æilde;ä¨Ç«Þ\0Þcy;älè»ÃäÊcfosuÞ¬Þ·Þ¼ßßÄiyÞ±Þµrc;ä´;är;ìðpf;ìðÇ£ß\0ßr;ìð¥rcy;äkcy;äÎHJacfosß¤ß¨ß¬ß±ß½à à cy;ä¥cy;äppa;äÄeyß¶ß»dil;ä¶;är;ìðpf;ìðcr;ìð¦ÖJTaceflmostà ¥à ©à ¬à¡à¡£à¦³à¦¸à§à§à¨·à©cy;äè»<ä¼Êcmnprà ·à ¼à¡à¡à¡ute;ä¹bda;äg;æªlacetrf;ær;æÆaeyà¡à¡à¡¡ron;ä½dil;ä»;äÄfsà¡¨à¥°tÔACDFRTUVarà¡¾à¢©à¢±à£ à£¦à£¼à¤¯à¥Îà¥ªÄnrà¢à¢gleBracket;æ¨rowÆ;BRà¢à¢à¢æar;æ¤ightArrow;æeiling;æoÇµà¢·\0à£bleBracket;æ¦nÇà£\0à£eeVector;æ¥¡ectorÄ;Bà£à£æar;æ¥loor;æightÄAVà£¯à£µrrow;æector;æ¥Äerà¤à¤eÆ;AVà¤à¤à¤æ£rrow;æ¤ector;æ¥iangleÆ;BEà¤¤à¤¥à¤©æ²ar;æ§qual;æ´pÆDTVà¤·à¥à¥ownVector;æ¥eeVector;æ¥ ectorÄ;Bà¥à¥æ¿ar;æ¥ectorÄ;Bà¥¥à¥¦æ¼ar;æ¥ightÃ¡ÎsÌEFGLSTà¥¾à¦à¦à¦à¦¢à¦­qualGreater;æullEqual;æ¦reater;æ¶ess;æª¡lantEqual;æ©½ilde;æ²r;ìðÄ;eà¦½à¦¾æftarrow;æidot;ä¿Ænpwà§à¨à¨gÈLRlrà§à§·à¨à¨eftÄARà§¦à§¬rrow;æµightArrow;æ·ightArrow;æ¶eftÄarÎ³à¨ightÃ¡Î¿ightÃ¡Ïf;ìðerÄLRà¨¢à¨¬eftArrow;æightArrow;æÆchtà¨¾à©à©Ã²à¡;æ°rok;ä;æªÐacefiosuà©à©à© à©·à©¼àªàªàªp;æ¤y;äÄdlà©¥à©¯iumSpace;ælintrf;æ³r;ìðnusPlus;æpf;ìðcÃ²à©¶;äÒJacefostuàª£àª§àª­à«à¬à¬à¶à¶à¶cy;äcute;äÆaeyàª´àª¹àª¾ron;ädil;ä;äÆgswà«à«°à¬ativeÆMTVà«à«à«¨ediumSpace;æhiÄcnà«¦à«Ã«à«eryThiÃ®à«tedÄGLà«¸à¬reaterGreateÃ²Ù³essLesÃ³à©Line;är;ìðÈBnptà¬¢à¬¨à¬·à¬ºreak;æ BreakingSpace;ä f;æÚ;CDEGHLNPRSTVà­à­à­ªà­¼à®¡à¯«à°à±à²à²¦à³àµ¡à¶æ«¬Äouà­à­¤ngruent;æ¢pCap;æ­oubleVerticalBar;æ¦Ælqxà®à®à®ement;æualÄ;Tà®à®æ ilde;ìâÌ¸ists;æreaterÎ;EFGLSTà®¶à®·à®½à¯à¯à¯à¯¥æ¯qual;æ±ullEqual;ìâ§Ì¸reater;ìâ«Ì¸ess;æ¹lantEqual;ìâ©¾Ì¸ilde;æµumpÅà¯²à¯½ownHump;ìâÌ¸qual;ìâÌ¸eÄfsà°à°§tTriangleÆ;BEà°à°à°¡æªar;ìâ§Ì¸qual;æ¬sÌ;EGLSTà°µà°¶à°¼à±à±à±æ®qual;æ°reater;æ¸ess;ìâªÌ¸lantEqual;ìâ©½Ì¸ilde;æ´estedÄGLà±¨à±¹reaterGreater;ìâª¢Ì¸essLess;ìâª¡Ì¸recedesÆ;ESà²à²à²æqual;ìâª¯Ì¸lantEqual;æ Äeià²«à²¹verseElement;æghtTriangleÆ;BEà³à³à³æ«ar;ìâ§Ì¸qual;æ­Äquà³à´uareSuÄbpà³¨à³¹setÄ;Eà³°à³³ìâÌ¸qual;æ¢ersetÄ;Eà´à´ìâÌ¸qual;æ£Æbcpà´à´¤àµsetÄ;Eà´à´ìââqual;æceedsÈ;ESTà´²à´³à´»àµæqual;ìâª°Ì¸lantEqual;æ¡ilde;ìâ¿Ì¸ersetÄ;Eàµàµìââqual;æildeÈ;EFTàµ®àµ¯àµµàµ¿æqual;æullEqual;æilde;æerticalBar;æ¤cr;ìð©ildeè»Ãä;äÜEacdfgmoprstuvà¶½à·à·à·à·à· à·§à·¼à¸à¸ à¸¢à¸²à¸¿à¹lig;äcuteè»ÃäÄiyà·à·rcè»Ãä;äblac;är;ìðraveè»ÃäÆaeià·®à·²à·¶cr;äga;ä©cron;äpf;ìðenCurlyÄDQà¸à¸oubleQuote;æuote;æ;æ©Äclà¸§à¸¬r;ìðªashè»ÃäiÅ¬à¸·à¸¼deè»Ãäes;æ¨·mlè»ÃäerÄBPà¹à¹ Äarà¹à¹r;æ¾acÄekà¹à¹;æet;æ´arenthesis;æÒacfhilorsà¹¿àºàºàºàºàºàºàº°à»¼rtialD;æy;är;ìði;ä¦;ä usMinus;ä±Äipàº¢àº­ncareplanÃ¥Úf;æÈ;eioàº¹àººà» à»¤æª»cedesÈ;ESTà»à»à»à»æºqual;æª¯lantEqual;æ¼ilde;æ¾me;æ³Ädpà»©à»®uct;æortionÄ;aÈ¥à»¹l;æÄcià¼à¼r;ìð«;ä¨ÈUfosà¼à¼à¼à¼OTè»"ä¢r;ìðpf;æcr;ìð¬ØBEacefhiorsuà¼¾à½à½à½ à½³à¾§à¾ªà¾­áá©á´á¾arr;æ¤Gè»Â®ä®Æcnrà½à½à½ute;äg;æ«rÄ;tà½à½æ l;æ¤Æaeyà½§à½¬à½±ron;ädil;ä;ä Ä;và½¸à½¹æerseÄEUà¾à¾Älqà¾à¾ement;æuilibrium;æpEquilibrium;æ¥¯rÂ»à½¹o;ä¡ghtÐACDFTUVaà¿à¿«à¿³á¢á¨ááÏÄnrà¿à¿gleBracket;æ©rowÆ;BLà¿à¿à¿¡æar;æ¥eftArrow;æeiling;æoÇµà¿¹\0ábleBracket;æ§nÇá\0áeeVector;æ¥ectorÄ;Bááæar;æ¥loor;æÄerá­áeÆ;AVáµá¶á¼æ¢rrow;æ¦ector;æ¥iangleÆ;BEáááæ³ar;æ§qual;æµpÆDTVá£á®á¸ownVector;æ¥eeVector;æ¥ectorÄ;Bááæ¾ar;æ¥ectorÄ;Bááæar;æ¥Äpuááf;ændImplies;æ¥°ightarrow;æÄchá¹á¼r;æ;æ±leDelayed;æ§´ÚHOacfhimoqstuá¤á±á·á½ááááá¡á§áµá»á¿ÄCcá©á®Hcy;ä©y;ä¨FTcy;ä¬cute;äÊ;aeiyáááááæª¼ron;ä dil;ärc;ä;ä¡r;ìðortÈDLRUáªá´á¾áownArrowÂ»ÐeftArrowÂ»à¢ightArrowÂ»à¿pArrow;ægma;ä£allCircle;æpf;ìðÉ²á­\0\0á°t;æareÈ;ISUá»á¼áá¯æ¡ntersection;æuÄbpáásetÄ;Eááæqual;æersetÄ;Eá¨á©æqual;ænion;æcr;ìð®ar;æÈbcmpááááÄ;sááæetÄ;Eááqual;æÄchá áeedsÈ;ESTá­á®á´á¿æ»qual;æª°lantEqual;æ½ilde;æ¿ThÃ¡à¾;æÆ;esááá£ærsetÄ;Eááæqual;æetÂ»áÖHRSacfhiorsá¾ááááá±á¶ááááORNè»ÃäADE;æ¢ÄHcáácy;äy;ä¦Äbuáá;ä;ä¤Æaeyá¥áªá¯ron;ä¤dil;ä¢;ä¢r;ìðÄeiá»áÇ²á\0áefore;æ´a;äÄcnáákSpace;ìââSpace;ældeÈ;EFTá«á¬á²á¼æ¼qual;æullEqual;æilde;æpf;ìðipleDot;æÄctáár;ìð¯rok;ä¦à«¡á·ááá¦\0á¬á±\0\0\0\0\0á¸á½á·á\0á¿áááÄcrá»áuteè»ÃärÄ;oááæcir;æ¥rÇ£á\0áy;äve;ä¬Äiyáá£rcè»Ãä;ä£blac;ä°r;ìðraveè»Ãäacr;äªÄdiáá©erÄBPááÄaráár;äacÄekáá;æet;æµarenthesis;æonÄ;Pá°á±ælus;æÄgpá»á¿on;ä²f;ìðÐADETadpsáá®á¸áÏ¨ááá³rrowÆ;BDáá á¤ar;æ¤ownArrow;æownArrow;æquilibrium;æ¥®eeÄ;Aááæ¥rrow;æ¥ownÃ¡Ï³erÄLRáá¨eftArrow;æightArrow;æiÄ;lá¹áºäon;ä¥ing;ä®cr;ìð°ilde;ä¨mlè»ÃäÒDbcdefosvá§á¬á°á³á¾ááááash;æ«ar;æ««y;äashÄ;lá»á¼æ©;æ«¦Äeráá;æÆbtyáááºar;æÄ;iáácalÈBLSTá¡á¥áªá´ar;æ£ine;ä¼eparator;æilde;æThinSpace;ær;ìðpf;ìðcr;ìð±dash;æªÊcefosá§á¬á±á¶á¼irc;ä´dge;ær;ìðpf;ìðcr;ìð²Èfiosáááár;ìð;äpf;ìðcr;ìð³ÒAIUacfosuá±áµá¹á½ááááá cy;ä¯cy;äcy;ä®cuteè»ÃäÄiyáárc;ä¶;ä«r;ìðpf;ìðcr;ìð´ml;ä¸ÐHacdefosáµá¹á¿áááá á¤cy;äcute;ä¹Äayááron;ä½;äot;ä»Ç²á\0áoWidtÃ¨à«a;är;æ¨pf;æ¤cr;ìðµà¯¡ááá\0á°á¶á¿\0\0\0\0ááá«áá­\0ááá²á¹\0á¾cuteè»Ã¡ä¡reve;äÌ;Ediuyááá¡á£á¨á­æ¾;ìâ¾Ì³;æ¿rcè»Ã¢ä¢teè»Â´Ì;ä°ligè»Ã¦ä¦Ä;rÂ²áº;ìðraveè»Ã ä ÄepááÄfpáásym;æµÃ¨áha;ä±ÄapácÄclá¤á§r;äg;æ¨¿É¤á°\0\0áÊ;adsváºá»á¿ááæ§nd;æ©;æ©lope;æ©;æ©Î;elmrszááááá¿ááæ ;æ¦¤eÂ»ásdÄ;aá¥á¦æ¡Ñ¡á°á²á´á¶á¸áºá¼á¾;æ¦¨;æ¦©;æ¦ª;æ¦«;æ¦¬;æ¦­;æ¦®;æ¦¯tÄ;vááæbÄ;dááæ¾;æ¦Äptááh;æ¢Â»Â¹arr;æ¼Ägpá£á§on;äf;ìðÎ;Eaeiopáá»á½áááá;æ©°cir;æ©¯;æd;æs;ä§roxÄ;eááÃ±áingè»Ã¥ä¥Æctyá¡á¦á¨r;ìð¶;äªmpÄ;eáá¯Ã±Êildeè»Ã£ä£mlè»Ã¤ä¤ÄciááoninÃ´É²nt;æ¨à Nabcdefiklnoprsuá­á±á°á¼ááá¸á½á á¦á ¹á¡áá¤½á¥á¥°ot;æ«­Äcrá¶ákÈcepsááááong;æpsilon;ä¶rime;æµimÄ;eááæ½q;æÅ¶á¢á¦ee;æ½edÄ;gá¬á­æeÂ»á­rkÄ;táá·brk;æ¶Äoyáá;ä±quo;æÊcmprtááá¡á¤á¨ausÄ;eÄÄptyv;æ¦°sÃ©ánoÃµÄÆahwá¯á±á³;ä²;æ¶een;æ¬r;ìðgÎcostuvwááá³ááááÆaiuáááÃ°Ý rc;æ¯pÂ»á±Ædptá¤á¨á­ot;æ¨lus;æ¨imes;æ¨É±á¹\0\0á¾cup;æ¨ar;æriangleÄduááown;æ½p;æ³plus;æ¨eÃ¥áÃ¥á­arow;æ¤Æakoá­á ¦á µÄcná²á £kÆlstáºÖ«á ozenge;æ§«riangleÈ;dlrá á á á æ´own;æ¾eft;æight;æ¸k;æ£Æ±á «\0á ³Æ²á ¯\0á ±;æ;æ4;æck;æÄeoá ¾á¡Ä;qá¡á¡ì=â¥uiv;ìâ¡â¥t;æÈptwxá¡á¡á¡§á¡¬f;ìðÄ;táá¡£omÂ»átie;æØDHUVbdhmptuvá¢á¢á¢ªá¢»á£á£á£¬á£¿á¤á¤á¤á¤¡ÈLRlrá¢á¢á¢á¢;æ;æ;æ;æÊ;DUduá¢¡á¢¢á¢¤á¢¦á¢¨æ;æ¦;æ©;æ¤;æ§ÈLRlrá¢³á¢µá¢·á¢¹;æ;æ;æ;æÎ;HLRhlrá£á£á£á£á£á£á£æ;æ¬;æ£;æ ;æ«;æ¢;æox;æ§ÈLRlrá£¤á£¦á£¨á£ª;æ;æ;æ;æÊ;DUduÚ½á£·á£¹á£»á£½;æ¥;æ¨;æ¬;æ´inus;ælus;æimes;æ ÈLRlrá¤á¤á¤á¤;æ;æ;æ;æÎ;HLRhlrá¤°á¤±á¤³á¤µá¤·á¤¹á¤»æ;æª;æ¡;æ;æ¼;æ¤;æÄevÄ£á¥barè»Â¦ä¦Èceioá¥á¥á¥á¥ r;ìð·mi;æmÄ;eáálÆ;bhá¥¨á¥©á¥«ä;æ§sub;æÅ¬á¥´á¥¾lÄ;eá¥¹á¥ºæ¢tÂ»á¥ºpÆ;EeÄ¯á¦á¦;æª®Ä;qÛÛà³¡á¦§\0á§¨á¨á¨á¨²\0á¨·á©\0\0áª´\0\0á«\0\0á¬¡á¬®á­á­\0á¯½\0á°Æcprá¦­á¦²á§ute;äÌ;abcdsá¦¿á§á§á§á§á§æ©nd;æ©rcup;æ©Äauá§á§p;æ©p;æ©ot;æ©;ìâ©ï¸Äeoá§¢á§¥t;æÃ®ÚÈaeiuá§°á§»á¨á¨Ç°á§µ\0á§¸s;æ©on;ädilè»Ã§ä§rc;äpsÄ;sá¨á¨æ©m;æ©ot;äÆdmná¨á¨ á¨¦ilè»Â¸Æ­ptyv;æ¦²tèÂ¢;eá¨­á¨®ä¢rÃ¤Æ²r;ìð Æceiá¨½á©á©y;äckÄ;má©á©æarkÂ»á©;ärÎ;Ecefmsá©á© á©¢á©«áª¤áªªáª®æ;æ§Æ;elá©©á©ªá©­äq;æeÉ¡á©´\0\0áªrrowÄlrá©¼áªeft;æºight;æ»ÊRSacdáªáªáªáªáªÂ»à½;æst;æirc;æash;ænint;æ¨id;æ«¯cir;æ§ubsÄ;uáª»áª¼æ£itÂ»áª¼Ë¬á«á«á«º\0á¬onÄ;eá«á«äºÄ;qÃÃÉ­á«\0\0á«¢aÄ;tá«á«ä¬;äÆ;flá«¨á«©á««æÃ®á eÄmxá«±á«¶entÂ»á«©eÃ³ÉÇ§á«¾\0á¬Ä;dá»á¬ot;æ©­nÃ´ÉÆfryá¬á¬á¬;ìðoÃ¤ÉèÂ©;sÅá¬r;æÄaoá¬¥á¬©rr;æµss;æÄcuá¬²á¬·r;ìð¸Äbpá¬¼á­Ä;eá­á­æ«;æ«Ä;eá­á­æ«;æ«dot;æ¯Îdelprvwá­ á­¬á­·á®á®¬á¯á¯¹arrÄlrá­¨á­ª;æ¤¸;æ¤µÉ°á­²\0\0á­µr;æc;æarrÄ;pá­¿á®æ¶;æ¤½Ì;bcdosá®á®á®á®¡á®¥á®¨æªrcap;æ©Äauá®á®p;æ©p;æ©ot;ær;æ©;ìâªï¸Èalrvá®µá®¿á¯á¯£rrÄ;má®¼á®½æ·;æ¤¼yÆevwá¯á¯á¯qÉ°á¯\0\0á¯reÃ£á­³uÃ£á­µee;æedge;æenè»Â¤ä¤earrowÄlrá¯®á¯³eftÂ»á®ightÂ»á®½eÃ¤á¯Äciá°á°oninÃ´Ç·nt;æ±lcty;æ­à¦AHabcdefhijlorstuwzá°¸á°»á°¿á±á±©á±µá²á²á²¬á²·á³»á³¿á´áµ»á¶á¶«á¶»á·á·rÃ²Îar;æ¥¥Èglrsá±á±á±á±ger;æ eth;æ¸Ã²á³hÄ;vá±á±æÂ»à¤Å«á±¡á±§arow;æ¤aÃ£ÌÄayá±®á±³ron;ä;ä´Æ;aoÌ²á±¼á²ÄgrÊ¿á²r;ætseq;æ©·Æglmá²á²á²è»Â°ä°ta;ä´ptyv;æ¦±Äirá²£á²¨sht;æ¥¿;ìð¡arÄlrá²³á²µÂ»à£Â»áÊaegsvá³Í¸á³á³á³ mÆ;osÌ¦á³á³ndÄ;sÌ¦á³uit;æ¦amma;äin;æ²Æ;ioá³§á³¨á³¸ä·deèÃ·;oá³§á³°ntimes;ænÃ¸á³·cy;äcÉ¯á´\0\0á´rn;æop;æÊlptuwá´á´á´¢áµáµlar;ä¤f;ìðÊ;empsÌá´­á´·á´½áµqÄ;dÍá´³ot;æinus;æ¸lus;æquare;æ¡blebarwedgÃ¥ÃºnÆadhá®áµáµ§ownarrowÃ³á²arpoonÄlráµ²áµ¶efÃ´á²´ighÃ´á²¶Å¢áµ¿á¶karoÃ·à½É¯á¶\0\0á¶rn;æop;æÆcotá¶á¶£á¶¦Äryá¶á¶¡;ìð¹;äl;æ§¶rok;äÄdrá¶°á¶´ot;æ±iÄ;fá¶ºá æ¿Äahá·á·rÃ²Ð©aÃ²à¾¦angle;æ¦¦Äciá·á·y;ägrarr;æ¿à¤Dacdefglmnopqrstuxá¸á¸á¸á¸¸Õ¸á¸¼á¹á¹¡á¹¾áº¥áº¯áº½á»¡á¼ªá¼·á½á½á½ÄDoá¸á´´oÃ´á²Äcsá¸á¸uteè»Ã©ä©ter;æ©®Èaioyá¸¢á¸§á¸±á¸¶ron;ärÄ;cá¸­á¸®æè»Ãªäªlon;æ;äot;äÄDrá¹á¹ot;æ;ìð¢Æ;rsá¹á¹á¹æªaveè»Ã¨ä¨Ä;dá¹á¹æªot;æªÈ;ilsá¹ªá¹«á¹²á¹´æªnters;æ§;æÄ;dá¹¹á¹ºæªot;æªÆapsáºáºáºcr;ätyÆ;sváºáºáºæetÂ»áºpÄ1;áºáº¤Ä³áº¡áº£;æ;ææÄgsáºªáº¬;äp;æÄgpáº´áº¸on;äf;ìðÆalsá»á»á»rÄ;sá»á»æl;æ§£us;æ©±iÆ;lvá»á»á»äµonÂ»á»;äµÈcsuvá»ªá»³á¼á¼£Äioá»¯á¸±rcÂ»á¸®É©á»¹\0\0á»»Ã­ÕantÄglá¼á¼trÂ»á¹essÂ»á¹ºÆaeiá¼á¼á¼ls;ä½st;ævÄ;DÈµá¼ D;æ©¸parsl;æ§¥ÄDaá¼¯á¼³ot;ærr;æ¥±Æcdiá¼¾á½á»¸r;æ¯oÃ´ÍÄahá½á½;ä·è»Ã°ä°Ämrá½á½lè»Ã«ä«o;æ¬Æcipá½¡á½¤á½§l;ä¡sÃ´Õ®Äeoá½¬á½´ctatioÃ®ÕnentialÃ¥Õ¹à§¡á¾\0á¾\0á¾¡á¾§\0\0á¿á¿\0á¿\0á¿¦á¿ªâ\0ââllingdotseÃ±á¹y;ämale;æÆilrá¾­á¾³á¿lig;èï¬É©á¾¹\0\0á¾½g;èï¬ig;èï¬;ìð£lig;èï¬lig;ìfjÆaltá¿á¿á¿¡t;æ­ig;èï¬ns;æ±of;äÇ°á¿®\0á¿³f;ìðÄakÖ¿á¿·Ä;vá¿¼á¿½æ;æ«artint;æ¨ÄaoââÄcsââÎ±ââ°â¸ââ\0âÎ²â¢â¥â§âªâ¬\0â®è»Â½ä½;æè»Â¼ä¼;æ;æ;æÆ³â´\0â¶;æ;æÊ´â¾â\0\0âè»Â¾ä¾;æ;æ5;æÆ¶â\0â;æ;æ8;æl;æwn;æ¢cr;ìð»à¢Eabcdefgijlnorstvââââ¥â°â´â°âµâºâ¿âââ¸Ìâ¾ââÄ;lÙâ;æªÆcmpâââute;äµmaÄ;dâá³ä³;æªreve;äÄiyâªâ®rc;ä;ä³ot;ä¡È;lqsØ¾Ùâ½âÆ;qsØ¾ÙâlanÃ´Ù¥È;cdlÙ¥âââ¥c;æª©otÄ;oââæªÄ;lâ¢â£æª;æªÄ;eâªâ­ìâï¸s;æªr;ìð¤Ä;gÙ³Ømel;æ·cy;äÈ;EajÙâââ;æª;æª¥;æª¤ÈEaesâââ©â´;æ©pÄ;pâ£â¤æªroxÂ»â¤Ä;qâ®â¯æªÄ;qâ®âim;æ§pf;ìðÄciââr;æmÆ;elÙ«ââ;æª;æªè>;cdlqr×®â âªâ®â³â¹Äciâ¥â§;æª§r;æ©ºot;æPar;æ¦uest;æ©¼ÊadelsââªâÙâÇ°â\0âproÃ¸âr;æ¥¸qÄlqØ¿âlesÃ³âiÃ­Ù«Äenâ£â­rtneqq;ìâ©ï¸ÃâªÔAabcefkosyâââ±âµâºâââ¯â¨â½rÃ²Î ÈilmrâââârsÃ°áfÂ»â¤ilÃ´Ú©Ädrâ â¤cy;äÆ;cwà£´â«â¯ir;æ¥;æ­ar;æirc;ä¥ÆalrââârtsÄ;uââæ¥itÂ»âlip;æ¦con;æ¹r;ìð¥sÄewâ£â©arow;æ¤¥arow;æ¤¦Êamoprâºâ¾âââ£rr;æ¿tht;æ»kÄlrââeftarrow;æ©ightarrow;æªf;ìðbar;æÆcltâ¯â´â¸r;ìð½asÃ¨â´rok;ä§Äbpââull;æhenÂ»á±à«¡â£\0âª\0â¸ââ\0ââ³\0\0â¸â¢â§â¢â¿\0ââªâ´cuteè»Ã­ä­Æ;iyÝ±â°âµrcè»Ã®ä®;ä¸Äcxâ¼â¿y;äµclè»Â¡ä¡ÄfrÎâ;ìð¦raveè»Ã¬ä¬È;inoÜ¾ââ©â®Äinâ¢â¦nt;æ¨t;æ­fin;æ§ta;æ©lig;ä³Æaopâ¾ââÆcgtâââr;ä«ÆelpÜââinÃ¥ÞarÃ´Ü h;ä±f;æ·ed;äµÊ;cfotÓ´â¬â±â½âare;æinÄ;tâ¸â¹æie;æ§doÃ´âÊ;celpÝââââ¡al;æºÄgrââerÃ³á£Ã£âarhk;æ¨rod;æ¨¼Ècgptâ¯â²â¶â»y;äon;ä¯f;ìða;ä¹uestè»Â¿ä¿Äciââr;ìð¾nÊ;EdsvÓ´âââ¡Ó³;æ¹ot;æµÄ;vâ¦â§æ´;æ³Ä;iÝ·â®lde;ä©Ç«â¸\0â¼cy;älè»Ã¯ä¯Ìcfmosuââââ¡â§âµÄiyâârc;äµ;ä¹r;ìð§ath;ä·pf;ìðÇ£â¬\0â±r;ìð¿rcy;äkcy;äÐacfghjosâââ¢â§â­â±âµâ»ppaÄ;vââäº;ä°Äeyââ dil;ä·;äºr;ìð¨reen;ä¸cy;äcy;äpf;ìðcr;ìðà®ABEHabcdefghjlmnoprstuvâ°ââââââ½âââââ¥â¹â½ââ²âââ¨âââ â Æartâ·âºâ¼rÃ²à§Ã²Îail;æ¤arr;æ¤Ä;gà¦â;æªar;æ¥¢à¥£â¥\0âª\0â±\0\0\0\0\0âµâº\0âââ\0â¹ute;äºmptyv;æ¦´raÃ®à¡bda;ä»gÆ;dlà¢ââ;æ¦Ã¥à¢;æªuoè»Â«ä«rÐ;bfhlpstà¢ââ¦â©â«â®â±âµÄ;fà¢â£s;æ¤s;æ¤Ã«âp;æ«l;æ¤¹im;æ¥³l;æ¢Æ;aeâ¿ââæª«il;æ¤Ä;sââæª­;ìâª­ï¸Æabrââârr;æ¤rk;æ²Äakâ¢â¬cÄekâ¨âª;ä»;äÄesâ±â³;æ¦lÄduâ¹â»;æ¦;æ¦Èaeuyââââron;ä¾Ädiââil;ä¼Ã¬à¢°Ã¢â©;ä»Ècqrsâ£â¦â­â½a;æ¤¶uoÄ;rà¸áÄduâ²â·har;æ¥§shar;æ¥h;æ²Ê;fgqsââà¦â³â¿æ¤tÊahlrtââ¤â·ââ¨rrowÄ;tà¢â¡aÃ©â¶arpoonÄduâ¯â´ownÂ»ÑpÂ»à¥¦eftarrows;æightÆahsââârrowÄ;sà£´à¢§arpoonÃ³à¾quigarroÃ·â°hreetimes;æÆ;qsâà¦âºlanÃ´à¦¬Ê;cdgsà¦¬ââââ¨c;æª¨otÄ;oââæ©¿Ä;rââæª;æªÄ;eâ¢â¥ìâï¸s;æªÊadegsâ³â¹â½ââpproÃ¸âot;æqÄgqââÃ´à¦gtÃ²âÃ´à¦iÃ­à¦²Æilrâà£¡âsht;æ¥¼;ìð©Ä;Eà¦â£;æªÅ¡â©â¶rÄduâ²â®Ä;là¥¥â³;æ¥ªlk;æcy;äÊ;achtà©âââârÃ²âorneÃ²á´ard;æ¥«ri;æºÄioââ¤dot;äustÄ;aâ¬â­æ°cheÂ»â­ÈEaesâ»â½ââ;æ¨pÄ;pââæªroxÂ»âÄ;qââæªÄ;qââ»im;æ¦Ðabnoptwzâ©â´â·ââ¯âââÄnrâ®â±g;æ¬r;æ½rÃ«à£gÆlmrâ¿ââeftÄarà§¦âightÃ¡à§²apsto;æ¼ightÃ¡à§½parrowÄlrâ¥â©efÃ´â­ight;æ¬Æaflâ¶â¹â½r;æ¦;ìðus;æ¨­imes;æ¨´Å¡ââst;æÃ¡áÆ;efââá ængeÂ»âarÄ;lâ¤â¥ä¨t;æ¦Êachmtâ³â¶â¼âârÃ²à¢¨orneÃ²á¶arÄ;dà¾â;æ¥­;æri;æ¿Ìachiqtââà©â¢â®â»quo;æ¹r;ìðmÆ;egà¦²âªâ¬;æª;æªÄbuâªâ³oÄ;rà¸â¹;ærok;äè<;cdhilqrà «ââ¹ââ â¥âªâ°Äciââ;æª¦r;æ©¹reÃ¥â²mes;æarr;æ¥¶uest;æ©»ÄPiâµâ¹ar;æ¦Æ;efâ à¤­á ærÄduâ â shar;æ¥har;æ¥¦Äenâ â ¡rtneqq;ìâ¨ï¸Ãâ ÜDacdefhilnopsuâ¡â¡â¢â¢â¢â¢ â¢¥â¢¨â£â£¢â£¤àªâ£³â¤Dot;æºÈclprâ¡â¡â¡£â¡½rè»Â¯ä¯Äetâ¡â¡;æÄ;eâ¡â¡æ seÂ»â¡Ä;sá»â¡¨toÈ;dluá»â¡³â¡·â¡»owÃ®ÒefÃ´à¤Ã°áker;æ®Äoyâ¢â¢mma;æ¨©;ä¼ash;æasuredangleÂ»á¦r;ìðªo;æ§Æcdnâ¢¯â¢´â£roè»ÂµäµÈ;acdá¤â¢½â£â£sÃ´á§ir;æ«°otè»Â·ÆµusÆ;bdâ£á¤â£æÄ;uá´¼â£;æ¨ªÅ£â£â£¡p;æ«Ã²âÃ°àªÄdpâ£©â£®els;æ§f;ìðÄctâ£¸â£½r;ìðposÂ»áÆ;lmâ¤â¤â¤ä¼timap;æ¸à°GLRVabcdefghijlmoprstuvwâ¥â¥â¥¾â¦â¦â§â§©â¨â¨â©â©âªâªâª¤âª¨â¬â¬â­â­¿â®®â°´â±§â±¼â³©Ägtâ¥â¥;ìâÌ¸Ä;vâ¥à¯ìâ«âÆeltâ¥â¥²â¥¶ftÄarâ¥¡â¥§rrow;æightarrow;æ;ìâÌ¸Ä;vâ¥»à±ìâªâightarrow;æÄDdâ¦â¦ash;æ¯ash;æ®Êbcnptâ¦£â¦§â¦¬â¦±â§laÂ»Ëute;äg;ìâ âÊ;Eiopà¶â¦¼â§â§â§;ìâ©°Ì¸d;ìâÌ¸s;äroÃ¸à¶urÄ;aâ§â§æ®lÄ;sâ§à¬¸Ç³â§\0â§£pè»Â à¬·mpÄ;eà¯¹à°Êaeouyâ§´â§¾â¨â¨â¨Ç°â§¹\0â§»;æ©on;ädil;ängÄ;dàµ¾â¨ot;ìâ©­Ì¸p;æ©;ä½ash;æÎ;Aadqsxà®â¨©â¨­â¨»â©â©â©rr;ærÄhrâ¨³â¨¶k;æ¤¤Ä;oá²á°ot;ìâÌ¸uiÃ¶à­£Äeiâ©â©ar;æ¤¨Ã­à®istÄ;sà® à®r;ìð«ÈEestà¯â©¦â©¹â©¼Æ;qsà®¼â©­à¯¡Æ;qsà®¼à¯â©´lanÃ´à¯¢iÃ­à¯ªÄ;rà®¶âªÂ»à®·ÆAapâªâªâªrÃ²â¥±rr;æ®ar;æ«²Æ;svà¾âªà¾Ä;dâª¡âª¢æ¼;æºcy;äÎAEadestâª·âªºâª¾â«â«â«¶â«¹rÃ²â¥¦;ìâ¦Ì¸rr;ær;æ¥È;fqsà°»â«â«£â«¯tÄarâ«â«rroÃ·â«ightarroÃ·âªÆ;qsà°»âªºâ«ªlanÃ´à±Ä;sà±â«´Â»à°¶iÃ­à±Ä;rà°µâ«¾iÄ;eà°à°¥iÃ¤à¶Äptâ¬â¬f;ìðèÂ¬;inâ¬â¬â¬¶ä¬nÈ;Edvà®â¬¤â¬¨â¬®;ìâ¹Ì¸ot;ìâµÌ¸Ç¡à®â¬³â¬µ;æ·;æ¶iÄ;và²¸â¬¼Ç¡à²¸â­â­;æ¾;æ½Æaorâ­â­£â­©rÈ;astà­»â­â­â­lleÃ¬à­»l;ìâ«½â¥;ìâÌ¸lint;æ¨Æ;ceà²â­°â­³uÃ¥à²¥Ä;cà²â­¸Ä;eà²â­½Ã±à²ÈAaitâ®â®â®â®§rÃ²â¦rrÆ;cwâ®â®â®æ;ìâ¤³Ì¸;ìâÌ¸ghtarrowÂ»â®riÄ;eà³à³Îchimpquâ®½â¯â¯â¬à­¸â¯¤â¯¯È;cerà´²â¯à´·â¯uÃ¥àµ;ìðortÉ­â¬\0\0â¯arÃ¡â­mÄ;eàµ®â¯Ä;qàµ´àµ³suÄbpâ¯«â¯­Ã¥à³¸Ã¥à´Æbcpâ¯¶â°â°È;Eesâ¯¿â°à´¢â°æ;ìâ«Ì¸etÄ;eà´â°qÄ;qà´£â°cÄ;eà´²â°Ã±à´¸È;Eesâ°¢â°£àµâ°§æ;ìâ«Ì¸etÄ;eàµâ°®qÄ;qàµ â°£Ègilrâ°½â°¿â±â±Ã¬à¯ldeè»Ã±ä±Ã§à±iangleÄlrâ±â±eftÄ;eà°â±Ã±à°¦ightÄ;eà³â±¥Ã±à³Ä;mâ±¬â±­ä½Æ;esâ±´â±µâ±¹ä£ro;æp;æÒDHadgilrsâ²â²â²â²â²£â²°â²¶â³â³£ash;æ­arr;æ¤p;ìââash;æ¬Äetâ²¨â²¬;ìâ¥â;ì>ânfin;æ§ÆAetâ²½â³â³rr;æ¤;ìâ¤âÄ;râ³â³ì<âie;ìâ´âÄAtâ³â³rr;æ¤rie;ìâµâim;ìâ¼âÆAanâ³°â³´â´rr;ærÄhrâ³ºâ³½k;æ¤£Ä;oá§á¥ear;æ¤§ááª\0\0\0\0\0\0\0\0\0\0\0\0\0â´­\0â´¸âµâµ âµ¥âµ²â¶á¬\0\0â¶â¶«\0â·â·\0â·â¸â¸«â¸¾â¹Äcsâ´±áªuteè»Ã³ä³Äiyâ´¼âµrÄ;cáªâµè»Ã´ä´;ä¾Êabiosáª âµâµÇâµlac;äv;æ¨¸old;æ¦¼lig;äÄcrâµ©âµ­ir;æ¦¿;ìð¬Í¯âµ¹\0\0âµ¼\0â¶n;äaveè»Ã²ä²;æ§Äbmâ¶à·´ar;æ¦µÈacitâ¶â¶â¶¥â¶¨rÃ²áªÄirâ¶â¶ r;æ¦¾oss;æ¦»nÃ¥à¹;æ§Æaeiâ¶±â¶µâ¶¹cr;äga;äÆcdnâ·â·Çron;ä¿;æ¦¶pf;ìð Æaelâ·â·Çr;æ¦·rp;æ¦¹Î;adiosvâ·ªâ·«â·®â¸â¸â¸â¸æ¨rÃ²áªÈ;efmâ··â·¸â¸â¸æ©rÄ;oâ·¾â·¿æ´fÂ»â·¿è»Âªäªè»Âºäºgof;æ¶r;æ©lope;æ©;æ©Æcloâ¸â¸¡â¸§Ã²â¸ashè»Ã¸ä¸l;æiÅ¬â¸¯â¸´deè»ÃµäµesÄ;aÇâ¸ºs;æ¨¶mlè»Ã¶ä¶bar;æ½à«¡â¹\0â¹½\0âºâº\0âº¢âº¹\0\0â»àº\0â¼\0\0â¼«â¾¼\0â¿rÈ;astÐâ¹§â¹²àºèÂ¶;lâ¹­â¹®ä¶leÃ¬ÐÉ©â¹¸\0\0â¹»m;æ«³;æ«½y;ä¿rÊcimptâºâºâºá¡¥âºnt;ä¥od;ä®il;æ°enk;æ±r;ìð­Æimoâº¨âº°âº´Ä;vâº­âº®ä;ämaÃ´à©¶ne;æÆ;tvâº¿â»â»ächforkÂ»á¿½;äÄauâ»â»nÄckâ»â»kÄ;hâ´â»;æÃ¶â´sÒ;abcdemstâ»³â»´á¤â»¹â»½â¼â¼â¼â¼ä«cir;æ¨£ir;æ¨¢Äouáµâ¼;æ¨¥;æ©²nè»Â±àºim;æ¨¦wo;æ¨§Æipuâ¼â¼ â¼¥ntint;æ¨f;ìð¡ndè»Â£ä£Ô;Eaceinosuà»â¼¿â½â½â½â¾â¾â¾â½¾â¾¶;æª³p;æª·uÃ¥à»Ä;cà»â½Ì;acensà»â½â½â½¦â½¨â½¾pproÃ¸â½urlyeÃ±à»Ã±à»Æaesâ½¯â½¶â½ºpprox;æª¹qq;æªµim;æ¨iÃ­à»meÄ;sâ¾àº®æ²ÆEasâ½¸â¾â½ºÃ°â½µÆdfpà»¬â¾â¾¯Æalsâ¾ â¾¥â¾ªlar;æ®ine;æurf;æÄ;tà»»â¾´Ã¯à»»rel;æ°Äciâ¿â¿r;ìð;äncsp;æÌfiopsuâ¿â¢â¿â¿¥â¿«â¿±r;ìð®pf;ìð¢rime;æcr;ìðÆaeoâ¿¸ããtÄeiâ¿¾ãrnionÃ³Ú°nt;æ¨stÄ;eããä¿Ã±á¼Ã´à¼àªABHabcdefhilmnoprstuxããããã ãã«ãã¢ã²ãããã¤ã©ãã®ã²ãã°ã·ÆartãããrÃ²á³Ã²Ïail;æ¤arÃ²á±¥ar;æ¥¤Îcdenqrtã¨ãµã¸ã¿ãããÄeuã­ã±;ìâ½Ì±te;äiÃ£á®mptyv;æ¦³gÈ;delà¿ããã;æ¦;æ¦¥Ã¥à¿uoè»Â»ä»rÖ;abcfhlpstwà¿ã¬ã¯ã·ã¹ã¼ã¾ããããp;æ¥µÄ;fà¿ ã´s;æ¤ ;æ¤³s;æ¤Ã«âÃ°â®l;æ¥im;æ¥´l;æ£;æÄaiããil;æ¤oÄ;nããæ¶alÃ³à¼Æabrã§ãªã®rÃ²á¥rk;æ³Äakã³ã½cÄekã¹ã»;ä½;äÄesãã;æ¦lÄduãã;æ¦;æ¦Èaeuyããã§ã©ron;äÄdiã¡ã¥il;äÃ¬à¿²Ã¢ãº;äÈclqsã´ã·ã½ãa;æ¤·dhar;æ¥©uoÄ;rÈÈh;æ³Æacgããà½lÈ;ipsà½¸ããánÃ¥á»arÃ´à¾©t;æ­Æilrã©á£ã®sht;æ¥½;ìð¯Äaoã·ãrÄduã½ã¿Â»Ñ»Ä;láã;æ¥¬Ä;vããä;ä±Ægnsãã¹ã¼htÌahlrstã¤ã°ããã¤ã®rrowÄ;tà¿ã­aÃ©ãarpoonÄduã»ã¿owÃ®ã¾pÂ»áeftÄahããrrowÃ³à¿ªarpoonÃ³Õightarrows;æquigarroÃ·ãhreetimes;æg;äingdotseÃ±á¼²ÆahmãããrÃ²à¿ªaÃ²Õ;æoustÄ;aããæ±cheÂ»ãmid;æ«®Èabptã²ã½ããÄnrã·ãºg;æ­r;æ¾rÃ«áÆaflãããr;æ¦;ìð£us;æ¨®imes;æ¨µÄapãã§rÄ;gã£ã¤ä©t;æ¦olint;æ¨arÃ²ã£Èachqã»ãá¼ãquo;æºr;ìðÄbuã»ãoÄ;rÈÈÆhirããã reÃ¥ã¸mes;æiÈ;eflãªáá ¡ã«æ¹tri;æ§luhar;æ¥¨;æàµ¡ãããã¬ã¸ã±\0ãºã¤\0\0ã¬ã°\0ã¨ããã­ã±ãã±\0ã\0\0ã³cute;äquÃ¯âºÔ;Eaceinpsyá­ã³ãµã¿ããããã¦ã©;æª´Ç°ãº\0ã¼;æª¸on;ä¡uÃ¥á¾Ä;dá³ãil;ärc;äÆEasããã;æª¶p;æªºim;æ©olint;æ¨iÃ­á;äotÆ;beã´áµãµæ;æ©¦ÎAacmstxãããããã£ã­rr;ærÄhrããÃ«â¨Ä;oà¨¶à¨´tè»Â§ä§i;ä»war;æ¤©mÄinã©Ã°nuÃ³Ã±t;æ¶rÄ;oã¶âìð°Èacoyãããã rp;æ¯Ähyããcy;ä;ärtÉ­ã\0\0ãiÃ¤á¤araÃ¬â¹¯è»Â­ä­Ägmã¨ã´maÆ;fvã±ã²ã²ä;äÐ;deglnprá«ãããããã¡ã¦ot;æ©ªÄ;qá±á°Ä;Eããæª;æª Ä;Eããæª;æªe;ælus;æ¨¤arr;æ¥²arÃ²á½Èaeitã¸ãããÄlsã½ãlsetmÃ©ãªhp;æ¨³parsl;æ§¤Ädlá£ãe;æ£Ä;eããæªªÄ;sã¢ã£æª¬;ìâª¬ï¸Æflpã®ã³ãtcy;äÄ;bã¸ã¹ä¯Ä;aã¾ã¿æ§r;æ¿f;ìð¤aÄdrãÐesÄ;uããæ itÂ»ãÆcsuã ã¹ãÄauã¥ã¯pÄ;sáã«;ìâï¸pÄ;sá´ãµ;ìâï¸uÄbpã¿ãÆ;esááãetÄ;eáãÃ±áÆ;esá¨á­ãetÄ;eá¨ãÃ±á®Æ;afá»ã¦Ö°rÅ¥ã«Ö±Â»á¼arÃ²áÈcemtã¹ã¾ããr;ìðtmÃ®Ã±iÃ¬ãarÃ¦á¾ÄarããrÄ;fãá¿æÄanãã­ightÄepã£ãªpsiloÃ®á» hÃ©âº¯sÂ»â¡Êbcmnpã»ãáããÒ;Edemnprsãããããã£ã¬ã±ã¶æ;æ«ot;æª½Ä;dáãot;æ«ult;æ«ÄEeã¨ãª;æ«;ælus;æª¿arr;æ¥¹Æeiuã½ããtÆ;enãããqÄ;qáãeqÄ;qã«ã¨m;æ«Äbpãã;æ«;æ«cÌ;acensá­ã¬ã²ã¹ã»ã¦pproÃ¸ãºurlyeÃ±á¾Ã±á³ÆaesãããpproÃ¸ãqÃ±ãg;æªÚ123;Edehlmnpsã©ã¬ã¯áã²ã´ãããããã¨ã­è»Â¹ä¹è»Â²ä²è»Â³ä³;æ«Äosã¹ã¼t;æª¾ub;æ«Ä;dá¢ãot;æ«sÄouããl;æb;æ«arr;æ¥»ult;æ«ÄEeã¤ã¦;æ«;ælus;æ«Æeiuã´ããtÆ;enáã¼ãqÄ;qá¢ã²eqÄ;qã§ã¤m;æ«Äbpãã;æ«;æ«ÆAanãã ã­rr;ærÄhrã¦ã¨Ã«â®Ä;oà¨«à¨©war;æ¤ªligè»Ãäà¯¡ããã áã³ã¹\0ã¾ã\0\0\0\0\0ãã\0ãã¬\0\0\0ãÉ²ã\0\0ãget;æ;ärÃ«à¹Æaeyã¦ã«ã°ron;ä¥dil;ä£;älrec;ær;ìð±Èeikoãããµã¼Ç²ã\0ãeÄ4fááaÆ;svãããä¸ym;äÄcnã¢ã²kÄasã¨ã®pproÃ¸áimÂ»á¬sÃ°áÄasãºã®Ã°árnè»Ã¾ä¾Ç¬Ìãâ§esèÃ;bdãããäÄ;aá¤ãr;æ¨±;æ¨°Æepsã¡ã£ãÃ¡â©È;bcfÒã¬ã°ã´ot;æ¶ir;æ«±Ä;oã¹ã¼ìð¥rk;æ«Ã¡ã¢rime;æ´Æaipããã¤dÃ¥áÎadempstã¡ããããããngleÊ;dlqrã°ã±ã¶ããæµownÂ»á¶»eftÄ;eâ ã¾Ã±à¤®;æightÄ;eãªãÃ±áot;æ¬inus;æ¨ºlus;æ¨¹b;æ§ime;æ¨»ezium;æ¢Æchtã²ã½ãÄryã·ã»;ìð;äcy;ärok;ä§ÄioããxÃ´á·headÄlrãã eftarroÃ·à¡ightarrowÂ»à½à¤AHabcdfghlmoprstuwãããã¤ã°ã¼ã ã ã £ã ´ã¡ã¡ã¡«ã¢©ã£ã£ã£ªã£¶rÃ²Ï­ar;æ¥£Äcrãã¢uteè»ÃºäºÃ²árÇ£ãª\0ã­y;äve;ä­Äiyãµãºrcè»Ã»ä»;äÆabhã ã ã rÃ²á­lac;ä±aÃ²áÄirã ã sht;æ¥¾;ìð²raveè»Ã¹ä¹Å¡ã §ã ±rÄlrã ¬ã ®Â»à¥Â»álk;æÄctã ¹ã¡É¯ã ¿\0\0ã¡rnÄ;eã¡ã¡ærÂ»ã¡op;æri;æ¸Äalã¡ã¡cr;ä«è»Â¨ÍÄgpã¡¢ã¡¦on;ä³f;ìð¦Ìadhlsuáã¡¸ã¡½á²ã¢ã¢ ownÃ¡á³arpoonÄlrã¢ã¢efÃ´ã ­ighÃ´ã ¯iÆ;hlã¢ã¢ã¢äÂ»áºonÂ»ã¢parrows;æÆcitã¢°ã£ã£É¯ã¢¶\0\0ã£rnÄ;eã¢¼ã¢½ærÂ»ã¢½op;æng;ä¯ri;æ¹cr;ìðÆdirã£ã£ã£¢ot;æ°lde;ä©iÄ;fã°ã£¨Â»á Äamã£¯ã£²rÃ²ã¢¨lè»Ã¼ä¼angle;æ¦§ÞABDacdeflnoprszã¤ã¤ã¤©ã¤­ã¦µã¦¸ã¦½ã§ã§¤ã§¨ã§³ã§¹ã§½ã¨ã¨ rÃ²Ï·arÄ;vã¤¦ã¤§æ«¨;æ«©asÃ¨Ï¡Änrã¤²ã¤·grt;æ¦Îeknprstã£ã¥ã¥ã¥ã¥ã¥¤ã¦appÃ¡âothinÃ§áºÆhirã«â»ã¥opÃ´â¾µÄ;há·ã¥¢Ã¯ãÄiuã¥©ã¥­gmÃ¡ã³Äbpã¥²ã¦setneqÄ;qã¥½ã¦ìâï¸;ìâ«ï¸setneqÄ;qã¦ã¦ìâï¸;ìâ«ï¸Ährã¦ã¦etÃ¡ãiangleÄlrã¦ªã¦¯eftÂ»à¤¥ightÂ»áy;ä²ashÂ»á¶Æelrã§ã§ã§Æ;beâ·ªã§ã§ar;æ»q;ælip;æ®Äbtã§á¨aÃ²á©r;ìð³trÃ©ã¦®suÄbpã§¯ã§±Â»à´Â»àµpf;ìð§roÃ°à»»trÃ©ã¦´Äcuã¨ã¨r;ìðÄbpã¨ã¨nÄEeã¦ã¨Â»ã¥¾nÄEeã¦ã¨Â»ã¦igzag;æ¦Îcefoprsã¨¶ã¨»ã©ã©ã©ã©¡ã©ªirc;äµÄdiã©ã©Äbgã©ã©ar;æ©eÄ;qáºã©;æerp;ær;ìð´pf;ìð¨Ä;eá¹ã©¦atÃ¨á¹cr;ìðà«£áãª\0ãª\0ãªãª\0\0ãªãª¨ãª«ãª¯\0\0ã«ã«\0ã«áátrÃ©ár;ìðµÄAaãªãªrÃ²ÏrÃ²à§¶;ä¾ÄAaãª¡ãª¤rÃ²Î¸rÃ²à§«aÃ°âis;æ»Ædptá¤ãªµãª¾Äflãªºá©;ìð©imÃ¥á²ÄAaã«ã«rÃ²ÏrÃ²à¨Äcqã«á¸r;ìðÄptáã«rÃ©áÐacefiosuã«°ã«½ã¬ã¬ã¬ã¬ã¬ã¬¡cÄuyã«¶ã«»teè»Ã½ä½;äÄiyã¬ã¬rc;ä·;änè»Â¥ä¥r;ìð¶cy;äpf;ìðªcr;ìðÄcmã¬¦ã¬©y;älè»Ã¿ä¿Ôacdefhioswã­ã­ã­ã­ã­¤ã­©ã­­ã­´ã­ºã®cute;äºÄayã­ã­ron;ä¾;ä·ot;ä¼Äetã­ã­¡trÃ¦áa;ä¶r;ìð·cy;ä¶grarr;æpf;ìð«cr;ìðÄjnã®ã®;æj;æ'.split("").map(e=>e.charCodeAt(0))),j5=new Uint16Array("Èaglq	\x1BÉ­\0\0p;ä¦os;ä§t;ä¾t;ä¼uot;ä¢".split("").map(e=>e.charCodeAt(0)));var r0;const F5=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),MT=(r0=String.fromCodePoint)!==null&&r0!==void 0?r0:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function H5(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=F5.get(e))!==null&&t!==void 0?t:e}var In;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(In||(In={}));const U5=32;var Ds;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Ds||(Ds={}));function Gp(e){return e>=In.ZERO&&e<=In.NINE}function z5(e){return e>=In.UPPER_A&&e<=In.UPPER_F||e>=In.LOWER_A&&e<=In.LOWER_F}function q5(e){return e>=In.UPPER_A&&e<=In.UPPER_Z||e>=In.LOWER_A&&e<=In.LOWER_Z||Gp(e)}function G5(e){return e===In.EQUALS||q5(e)}var vn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(vn||(vn={}));var Vr;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Vr||(Vr={}));class BA{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=vn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Vr.Strict}startEntity(t){this.decodeMode=t,this.state=vn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case vn.EntityStart:return t.charCodeAt(n)===In.NUM?(this.state=vn.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=vn.NamedEntity,this.stateNamedEntity(t,n));case vn.NumericStart:return this.stateNumericStart(t,n);case vn.NumericDecimal:return this.stateNumericDecimal(t,n);case vn.NumericHex:return this.stateNumericHex(t,n);case vn.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|U5)===In.LOWER_X?(this.state=vn.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=vn.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+Number.parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Gp(i)||z5(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Gp(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===In.SEMI)this.consumed+=1;else if(this.decodeMode===Vr.Strict)return 0;return this.emitCodePoint(H5(this.result),this.consumed),this.errors&&(t!==In.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Ds.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const a=t.charCodeAt(n);if(this.treeIndex=V5(r,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===Vr.Attribute&&(s===0||G5(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Ds.VALUE_LENGTH)>>14,s!==0){if(a===In.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Vr.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Ds.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Ds.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case vn.NamedEntity:return this.result!==0&&(this.decodeMode!==Vr.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case vn.NumericDecimal:return this.emitNumericEntity(0,2);case vn.NumericHex:return this.emitNumericEntity(0,3);case vn.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case vn.EntityStart:return 0}}}function V5(e,t,n,r){const i=(t&Ds.BRANCH_LENGTH)>>7,s=t&Ds.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let a=n,o=a+i-1;for(;a<=o;){const u=a+o>>>1,c=e[u];if(c<r)a=u+1;else if(c>r)o=u-1;else return e[u+i]}return-1}var pe;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(pe||(pe={}));var Da;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Da||(Da={}));var Dr;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Dr||(Dr={}));var ne;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(ne||(ne={}));var v;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(v||(v={}));const $5=new Map([[ne.A,v.A],[ne.ADDRESS,v.ADDRESS],[ne.ANNOTATION_XML,v.ANNOTATION_XML],[ne.APPLET,v.APPLET],[ne.AREA,v.AREA],[ne.ARTICLE,v.ARTICLE],[ne.ASIDE,v.ASIDE],[ne.B,v.B],[ne.BASE,v.BASE],[ne.BASEFONT,v.BASEFONT],[ne.BGSOUND,v.BGSOUND],[ne.BIG,v.BIG],[ne.BLOCKQUOTE,v.BLOCKQUOTE],[ne.BODY,v.BODY],[ne.BR,v.BR],[ne.BUTTON,v.BUTTON],[ne.CAPTION,v.CAPTION],[ne.CENTER,v.CENTER],[ne.CODE,v.CODE],[ne.COL,v.COL],[ne.COLGROUP,v.COLGROUP],[ne.DD,v.DD],[ne.DESC,v.DESC],[ne.DETAILS,v.DETAILS],[ne.DIALOG,v.DIALOG],[ne.DIR,v.DIR],[ne.DIV,v.DIV],[ne.DL,v.DL],[ne.DT,v.DT],[ne.EM,v.EM],[ne.EMBED,v.EMBED],[ne.FIELDSET,v.FIELDSET],[ne.FIGCAPTION,v.FIGCAPTION],[ne.FIGURE,v.FIGURE],[ne.FONT,v.FONT],[ne.FOOTER,v.FOOTER],[ne.FOREIGN_OBJECT,v.FOREIGN_OBJECT],[ne.FORM,v.FORM],[ne.FRAME,v.FRAME],[ne.FRAMESET,v.FRAMESET],[ne.H1,v.H1],[ne.H2,v.H2],[ne.H3,v.H3],[ne.H4,v.H4],[ne.H5,v.H5],[ne.H6,v.H6],[ne.HEAD,v.HEAD],[ne.HEADER,v.HEADER],[ne.HGROUP,v.HGROUP],[ne.HR,v.HR],[ne.HTML,v.HTML],[ne.I,v.I],[ne.IMG,v.IMG],[ne.IMAGE,v.IMAGE],[ne.INPUT,v.INPUT],[ne.IFRAME,v.IFRAME],[ne.KEYGEN,v.KEYGEN],[ne.LABEL,v.LABEL],[ne.LI,v.LI],[ne.LINK,v.LINK],[ne.LISTING,v.LISTING],[ne.MAIN,v.MAIN],[ne.MALIGNMARK,v.MALIGNMARK],[ne.MARQUEE,v.MARQUEE],[ne.MATH,v.MATH],[ne.MENU,v.MENU],[ne.META,v.META],[ne.MGLYPH,v.MGLYPH],[ne.MI,v.MI],[ne.MO,v.MO],[ne.MN,v.MN],[ne.MS,v.MS],[ne.MTEXT,v.MTEXT],[ne.NAV,v.NAV],[ne.NOBR,v.NOBR],[ne.NOFRAMES,v.NOFRAMES],[ne.NOEMBED,v.NOEMBED],[ne.NOSCRIPT,v.NOSCRIPT],[ne.OBJECT,v.OBJECT],[ne.OL,v.OL],[ne.OPTGROUP,v.OPTGROUP],[ne.OPTION,v.OPTION],[ne.P,v.P],[ne.PARAM,v.PARAM],[ne.PLAINTEXT,v.PLAINTEXT],[ne.PRE,v.PRE],[ne.RB,v.RB],[ne.RP,v.RP],[ne.RT,v.RT],[ne.RTC,v.RTC],[ne.RUBY,v.RUBY],[ne.S,v.S],[ne.SCRIPT,v.SCRIPT],[ne.SEARCH,v.SEARCH],[ne.SECTION,v.SECTION],[ne.SELECT,v.SELECT],[ne.SOURCE,v.SOURCE],[ne.SMALL,v.SMALL],[ne.SPAN,v.SPAN],[ne.STRIKE,v.STRIKE],[ne.STRONG,v.STRONG],[ne.STYLE,v.STYLE],[ne.SUB,v.SUB],[ne.SUMMARY,v.SUMMARY],[ne.SUP,v.SUP],[ne.TABLE,v.TABLE],[ne.TBODY,v.TBODY],[ne.TEMPLATE,v.TEMPLATE],[ne.TEXTAREA,v.TEXTAREA],[ne.TFOOT,v.TFOOT],[ne.TD,v.TD],[ne.TH,v.TH],[ne.THEAD,v.THEAD],[ne.TITLE,v.TITLE],[ne.TR,v.TR],[ne.TRACK,v.TRACK],[ne.TT,v.TT],[ne.U,v.U],[ne.UL,v.UL],[ne.SVG,v.SVG],[ne.VAR,v.VAR],[ne.WBR,v.WBR],[ne.XMP,v.XMP]]);function eo(e){var t;return(t=$5.get(e))!==null&&t!==void 0?t:v.UNKNOWN}const ye=v,W5={[pe.HTML]:new Set([ye.ADDRESS,ye.APPLET,ye.AREA,ye.ARTICLE,ye.ASIDE,ye.BASE,ye.BASEFONT,ye.BGSOUND,ye.BLOCKQUOTE,ye.BODY,ye.BR,ye.BUTTON,ye.CAPTION,ye.CENTER,ye.COL,ye.COLGROUP,ye.DD,ye.DETAILS,ye.DIR,ye.DIV,ye.DL,ye.DT,ye.EMBED,ye.FIELDSET,ye.FIGCAPTION,ye.FIGURE,ye.FOOTER,ye.FORM,ye.FRAME,ye.FRAMESET,ye.H1,ye.H2,ye.H3,ye.H4,ye.H5,ye.H6,ye.HEAD,ye.HEADER,ye.HGROUP,ye.HR,ye.HTML,ye.IFRAME,ye.IMG,ye.INPUT,ye.LI,ye.LINK,ye.LISTING,ye.MAIN,ye.MARQUEE,ye.MENU,ye.META,ye.NAV,ye.NOEMBED,ye.NOFRAMES,ye.NOSCRIPT,ye.OBJECT,ye.OL,ye.P,ye.PARAM,ye.PLAINTEXT,ye.PRE,ye.SCRIPT,ye.SECTION,ye.SELECT,ye.SOURCE,ye.STYLE,ye.SUMMARY,ye.TABLE,ye.TBODY,ye.TD,ye.TEMPLATE,ye.TEXTAREA,ye.TFOOT,ye.TH,ye.THEAD,ye.TITLE,ye.TR,ye.TRACK,ye.UL,ye.WBR,ye.XMP]),[pe.MATHML]:new Set([ye.MI,ye.MO,ye.MN,ye.MS,ye.MTEXT,ye.ANNOTATION_XML]),[pe.SVG]:new Set([ye.TITLE,ye.FOREIGN_OBJECT,ye.DESC]),[pe.XLINK]:new Set,[pe.XML]:new Set,[pe.XMLNS]:new Set},Vp=new Set([ye.H1,ye.H2,ye.H3,ye.H4,ye.H5,ye.H6]),Y5=new Set([ne.STYLE,ne.SCRIPT,ne.XMP,ne.IFRAME,ne.NOEMBED,ne.NOFRAMES,ne.PLAINTEXT]);function K5(e,t){return Y5.has(e)||t&&e===ne.NOSCRIPT}var V;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(V||(V={}));const pn={DATA:V.DATA,RCDATA:V.RCDATA,RAWTEXT:V.RAWTEXT,SCRIPT_DATA:V.SCRIPT_DATA,PLAINTEXT:V.PLAINTEXT,CDATA_SECTION:V.CDATA_SECTION};function Q5(e){return e>=z.DIGIT_0&&e<=z.DIGIT_9}function Yo(e){return e>=z.LATIN_CAPITAL_A&&e<=z.LATIN_CAPITAL_Z}function X5(e){return e>=z.LATIN_SMALL_A&&e<=z.LATIN_SMALL_Z}function As(e){return X5(e)||Yo(e)}function BT(e){return As(e)||Q5(e)}function Nc(e){return e+32}function jA(e){return e===z.SPACE||e===z.LINE_FEED||e===z.TABULATION||e===z.FORM_FEED}function jT(e){return jA(e)||e===z.SOLIDUS||e===z.GREATER_THAN_SIGN}function J5(e){return e===z.NULL?ue.nullCharacterReference:e>1114111?ue.characterReferenceOutsideUnicodeRange:DA(e)?ue.surrogateCharacterReference:LA(e)?ue.noncharacterCharacterReference:RA(e)||e===z.CARRIAGE_RETURN?ue.controlCharacterReference:null}let Z5=class{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=V.DATA,this.returnState=V.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new B5(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new BA(MA,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ue.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(ue.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=J5(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:mt.START_TAG,tagName:"",tagID:v.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:mt.END_TAG,tagName:"",tagID:v.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:mt.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:mt.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(PA(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ue.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=eo(t.tagName),t.type===mt.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ue.endTagWithAttributes),t.selfClosing&&this._err(ue.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case mt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case mt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case mt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:mt.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=jA(t)?mt.WHITESPACE_CHARACTER:t===z.NULL?mt.NULL_CHARACTER:mt.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(mt.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=V.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Vr.Attribute:Vr.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===V.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===V.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===V.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case V.DATA:{this._stateData(t);break}case V.RCDATA:{this._stateRcdata(t);break}case V.RAWTEXT:{this._stateRawtext(t);break}case V.SCRIPT_DATA:{this._stateScriptData(t);break}case V.PLAINTEXT:{this._statePlaintext(t);break}case V.TAG_OPEN:{this._stateTagOpen(t);break}case V.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case V.TAG_NAME:{this._stateTagName(t);break}case V.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case V.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case V.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case V.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case V.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case V.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case V.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case V.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case V.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case V.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case V.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case V.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case V.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case V.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case V.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case V.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case V.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case V.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case V.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case V.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case V.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case V.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case V.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case V.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case V.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case V.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case V.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case V.BOGUS_COMMENT:{this._stateBogusComment(t);break}case V.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case V.COMMENT_START:{this._stateCommentStart(t);break}case V.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case V.COMMENT:{this._stateComment(t);break}case V.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case V.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case V.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case V.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case V.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case V.COMMENT_END:{this._stateCommentEnd(t);break}case V.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case V.DOCTYPE:{this._stateDoctype(t);break}case V.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case V.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case V.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case V.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case V.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case V.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case V.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case V.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case V.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case V.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case V.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case V.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case V.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case V.CDATA_SECTION:{this._stateCdataSection(t);break}case V.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case V.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case V.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case V.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case z.LESS_THAN_SIGN:{this.state=V.TAG_OPEN;break}case z.AMPERSAND:{this._startCharacterReference();break}case z.NULL:{this._err(ue.unexpectedNullCharacter),this._emitCodePoint(t);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case z.AMPERSAND:{this._startCharacterReference();break}case z.LESS_THAN_SIGN:{this.state=V.RCDATA_LESS_THAN_SIGN;break}case z.NULL:{this._err(ue.unexpectedNullCharacter),this._emitChars(sn);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case z.LESS_THAN_SIGN:{this.state=V.RAWTEXT_LESS_THAN_SIGN;break}case z.NULL:{this._err(ue.unexpectedNullCharacter),this._emitChars(sn);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case z.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_LESS_THAN_SIGN;break}case z.NULL:{this._err(ue.unexpectedNullCharacter),this._emitChars(sn);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case z.NULL:{this._err(ue.unexpectedNullCharacter),this._emitChars(sn);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(As(t))this._createStartTagToken(),this.state=V.TAG_NAME,this._stateTagName(t);else switch(t){case z.EXCLAMATION_MARK:{this.state=V.MARKUP_DECLARATION_OPEN;break}case z.SOLIDUS:{this.state=V.END_TAG_OPEN;break}case z.QUESTION_MARK:{this._err(ue.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=V.BOGUS_COMMENT,this._stateBogusComment(t);break}case z.EOF:{this._err(ue.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ue.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=V.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(As(t))this._createEndTagToken(),this.state=V.TAG_NAME,this._stateTagName(t);else switch(t){case z.GREATER_THAN_SIGN:{this._err(ue.missingEndTagName),this.state=V.DATA;break}case z.EOF:{this._err(ue.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ue.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=V.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=V.BEFORE_ATTRIBUTE_NAME;break}case z.SOLIDUS:{this.state=V.SELF_CLOSING_START_TAG;break}case z.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentTagToken();break}case z.NULL:{this._err(ue.unexpectedNullCharacter),n.tagName+=sn;break}case z.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Yo(t)?Nc(t):t)}}_stateRcdataLessThanSign(t){t===z.SOLIDUS?this.state=V.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=V.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){As(t)?(this.state=V.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=V.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=V.BEFORE_ATTRIBUTE_NAME,!1;case z.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=V.SELF_CLOSING_START_TAG,!1;case z.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=V.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=V.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===z.SOLIDUS?this.state=V.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=V.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){As(t)?(this.state=V.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=V.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=V.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case z.SOLIDUS:{this.state=V.SCRIPT_DATA_END_TAG_OPEN;break}case z.EXCLAMATION_MARK:{this.state=V.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=V.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){As(t)?(this.state=V.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=V.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=V.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===z.HYPHEN_MINUS?(this.state=V.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=V.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===z.HYPHEN_MINUS?(this.state=V.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=V.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case z.HYPHEN_MINUS:{this.state=V.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case z.NULL:{this._err(ue.unexpectedNullCharacter),this._emitChars(sn);break}case z.EOF:{this._err(ue.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case z.HYPHEN_MINUS:{this.state=V.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case z.NULL:{this._err(ue.unexpectedNullCharacter),this.state=V.SCRIPT_DATA_ESCAPED,this._emitChars(sn);break}case z.EOF:{this._err(ue.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=V.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case z.HYPHEN_MINUS:{this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case z.GREATER_THAN_SIGN:{this.state=V.SCRIPT_DATA,this._emitChars(">");break}case z.NULL:{this._err(ue.unexpectedNullCharacter),this.state=V.SCRIPT_DATA_ESCAPED,this._emitChars(sn);break}case z.EOF:{this._err(ue.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=V.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===z.SOLIDUS?this.state=V.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:As(t)?(this._emitChars("<"),this.state=V.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=V.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){As(t)?(this.state=V.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=V.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=V.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Tr.SCRIPT,!1)&&jT(this.preprocessor.peek(Tr.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Tr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=V.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case z.HYPHEN_MINUS:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case z.NULL:{this._err(ue.unexpectedNullCharacter),this._emitChars(sn);break}case z.EOF:{this._err(ue.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case z.HYPHEN_MINUS:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case z.NULL:{this._err(ue.unexpectedNullCharacter),this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(sn);break}case z.EOF:{this._err(ue.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case z.HYPHEN_MINUS:{this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case z.GREATER_THAN_SIGN:{this.state=V.SCRIPT_DATA,this._emitChars(">");break}case z.NULL:{this._err(ue.unexpectedNullCharacter),this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(sn);break}case z.EOF:{this._err(ue.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===z.SOLIDUS?(this.state=V.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Tr.SCRIPT,!1)&&jT(this.preprocessor.peek(Tr.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Tr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=V.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=V.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.SOLIDUS:case z.GREATER_THAN_SIGN:case z.EOF:{this.state=V.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case z.EQUALS_SIGN:{this._err(ue.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=V.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=V.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:case z.SOLIDUS:case z.GREATER_THAN_SIGN:case z.EOF:{this._leaveAttrName(),this.state=V.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case z.EQUALS_SIGN:{this._leaveAttrName(),this.state=V.BEFORE_ATTRIBUTE_VALUE;break}case z.QUOTATION_MARK:case z.APOSTROPHE:case z.LESS_THAN_SIGN:{this._err(ue.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case z.NULL:{this._err(ue.unexpectedNullCharacter),this.currentAttr.name+=sn;break}default:this.currentAttr.name+=String.fromCodePoint(Yo(t)?Nc(t):t)}}_stateAfterAttributeName(t){switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.SOLIDUS:{this.state=V.SELF_CLOSING_START_TAG;break}case z.EQUALS_SIGN:{this.state=V.BEFORE_ATTRIBUTE_VALUE;break}case z.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentTagToken();break}case z.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=V.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.QUOTATION_MARK:{this.state=V.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case z.APOSTROPHE:{this.state=V.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(ue.missingAttributeValue),this.state=V.DATA,this.emitCurrentTagToken();break}default:this.state=V.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case z.QUOTATION_MARK:{this.state=V.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case z.AMPERSAND:{this._startCharacterReference();break}case z.NULL:{this._err(ue.unexpectedNullCharacter),this.currentAttr.value+=sn;break}case z.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case z.APOSTROPHE:{this.state=V.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case z.AMPERSAND:{this._startCharacterReference();break}case z.NULL:{this._err(ue.unexpectedNullCharacter),this.currentAttr.value+=sn;break}case z.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this._leaveAttrValue(),this.state=V.BEFORE_ATTRIBUTE_NAME;break}case z.AMPERSAND:{this._startCharacterReference();break}case z.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=V.DATA,this.emitCurrentTagToken();break}case z.NULL:{this._err(ue.unexpectedNullCharacter),this.currentAttr.value+=sn;break}case z.QUOTATION_MARK:case z.APOSTROPHE:case z.LESS_THAN_SIGN:case z.EQUALS_SIGN:case z.GRAVE_ACCENT:{this._err(ue.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case z.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this._leaveAttrValue(),this.state=V.BEFORE_ATTRIBUTE_NAME;break}case z.SOLIDUS:{this._leaveAttrValue(),this.state=V.SELF_CLOSING_START_TAG;break}case z.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=V.DATA,this.emitCurrentTagToken();break}case z.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:this._err(ue.missingWhitespaceBetweenAttributes),this.state=V.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case z.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=V.DATA,this.emitCurrentTagToken();break}case z.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:this._err(ue.unexpectedSolidusInTag),this.state=V.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case z.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentComment(n);break}case z.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case z.NULL:{this._err(ue.unexpectedNullCharacter),n.data+=sn;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Tr.DASH_DASH,!0)?(this._createCommentToken(Tr.DASH_DASH.length+1),this.state=V.COMMENT_START):this._consumeSequenceIfMatch(Tr.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Tr.DOCTYPE.length+1),this.state=V.DOCTYPE):this._consumeSequenceIfMatch(Tr.CDATA_START,!0)?this.inForeignNode?this.state=V.CDATA_SECTION:(this._err(ue.cdataInHtmlContent),this._createCommentToken(Tr.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=V.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ue.incorrectlyOpenedComment),this._createCommentToken(2),this.state=V.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case z.HYPHEN_MINUS:{this.state=V.COMMENT_START_DASH;break}case z.GREATER_THAN_SIGN:{this._err(ue.abruptClosingOfEmptyComment),this.state=V.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=V.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case z.HYPHEN_MINUS:{this.state=V.COMMENT_END;break}case z.GREATER_THAN_SIGN:{this._err(ue.abruptClosingOfEmptyComment),this.state=V.DATA,this.emitCurrentComment(n);break}case z.EOF:{this._err(ue.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=V.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case z.HYPHEN_MINUS:{this.state=V.COMMENT_END_DASH;break}case z.LESS_THAN_SIGN:{n.data+="<",this.state=V.COMMENT_LESS_THAN_SIGN;break}case z.NULL:{this._err(ue.unexpectedNullCharacter),n.data+=sn;break}case z.EOF:{this._err(ue.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case z.EXCLAMATION_MARK:{n.data+="!",this.state=V.COMMENT_LESS_THAN_SIGN_BANG;break}case z.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=V.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===z.HYPHEN_MINUS?this.state=V.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=V.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===z.HYPHEN_MINUS?this.state=V.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=V.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==z.GREATER_THAN_SIGN&&t!==z.EOF&&this._err(ue.nestedComment),this.state=V.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case z.HYPHEN_MINUS:{this.state=V.COMMENT_END;break}case z.EOF:{this._err(ue.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=V.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case z.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentComment(n);break}case z.EXCLAMATION_MARK:{this.state=V.COMMENT_END_BANG;break}case z.HYPHEN_MINUS:{n.data+="-";break}case z.EOF:{this._err(ue.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=V.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case z.HYPHEN_MINUS:{n.data+="--!",this.state=V.COMMENT_END_DASH;break}case z.GREATER_THAN_SIGN:{this._err(ue.incorrectlyClosedComment),this.state=V.DATA,this.emitCurrentComment(n);break}case z.EOF:{this._err(ue.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=V.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=V.BEFORE_DOCTYPE_NAME;break}case z.GREATER_THAN_SIGN:{this.state=V.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case z.EOF:{this._err(ue.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ue.missingWhitespaceBeforeDoctypeName),this.state=V.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Yo(t))this._createDoctypeToken(String.fromCharCode(Nc(t))),this.state=V.DOCTYPE_NAME;else switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.NULL:{this._err(ue.unexpectedNullCharacter),this._createDoctypeToken(sn),this.state=V.DOCTYPE_NAME;break}case z.GREATER_THAN_SIGN:{this._err(ue.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case z.EOF:{this._err(ue.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=V.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=V.AFTER_DOCTYPE_NAME;break}case z.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentDoctype(n);break}case z.NULL:{this._err(ue.unexpectedNullCharacter),n.name+=sn;break}case z.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Yo(t)?Nc(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentDoctype(n);break}case z.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Tr.PUBLIC,!1)?this.state=V.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Tr.SYSTEM,!1)?this.state=V.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ue.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=V.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case z.QUOTATION_MARK:{this._err(ue.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=V.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{this._err(ue.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=V.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(ue.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=V.DATA,this.emitCurrentDoctype(n);break}case z.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ue.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.QUOTATION_MARK:{n.publicId="",this.state=V.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{n.publicId="",this.state=V.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(ue.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=V.DATA,this.emitCurrentDoctype(n);break}case z.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ue.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case z.QUOTATION_MARK:{this.state=V.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case z.NULL:{this._err(ue.unexpectedNullCharacter),n.publicId+=sn;break}case z.GREATER_THAN_SIGN:{this._err(ue.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case z.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case z.APOSTROPHE:{this.state=V.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case z.NULL:{this._err(ue.unexpectedNullCharacter),n.publicId+=sn;break}case z.GREATER_THAN_SIGN:{this._err(ue.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case z.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=V.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case z.GREATER_THAN_SIGN:{this.state=V.DATA,this.emitCurrentDoctype(n);break}case z.QUOTATION_MARK:{this._err(ue.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{this._err(ue.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case z.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ue.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=V.DATA;break}case z.QUOTATION_MARK:{n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case z.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ue.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=V.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case z.QUOTATION_MARK:{this._err(ue.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{this._err(ue.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(ue.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.DATA,this.emitCurrentDoctype(n);break}case z.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ue.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.QUOTATION_MARK:{n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{n.systemId="",this.state=V.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(ue.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.DATA,this.emitCurrentDoctype(n);break}case z.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ue.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case z.QUOTATION_MARK:{this.state=V.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case z.NULL:{this._err(ue.unexpectedNullCharacter),n.systemId+=sn;break}case z.GREATER_THAN_SIGN:{this._err(ue.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case z.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case z.APOSTROPHE:{this.state=V.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case z.NULL:{this._err(ue.unexpectedNullCharacter),n.systemId+=sn;break}case z.GREATER_THAN_SIGN:{this._err(ue.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=V.DATA;break}case z.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=V.DATA;break}case z.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ue.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=V.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case z.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=V.DATA;break}case z.NULL:{this._err(ue.unexpectedNullCharacter);break}case z.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case z.RIGHT_SQUARE_BRACKET:{this.state=V.CDATA_SECTION_BRACKET;break}case z.EOF:{this._err(ue.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===z.RIGHT_SQUARE_BRACKET?this.state=V.CDATA_SECTION_END:(this._emitChars("]"),this.state=V.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case z.GREATER_THAN_SIGN:{this.state=V.DATA;break}case z.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=V.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(z.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&BT(this.preprocessor.peek(1))?V.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){BT(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===z.SEMICOLON&&this._err(ue.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}};const FA=new Set([v.DD,v.DT,v.LI,v.OPTGROUP,v.OPTION,v.P,v.RB,v.RP,v.RT,v.RTC]),FT=new Set([...FA,v.CAPTION,v.COLGROUP,v.TBODY,v.TD,v.TFOOT,v.TH,v.THEAD,v.TR]),Od=new Set([v.APPLET,v.CAPTION,v.HTML,v.MARQUEE,v.OBJECT,v.TABLE,v.TD,v.TEMPLATE,v.TH]),eP=new Set([...Od,v.OL,v.UL]),tP=new Set([...Od,v.BUTTON]),HT=new Set([v.ANNOTATION_XML,v.MI,v.MN,v.MO,v.MS,v.MTEXT]),UT=new Set([v.DESC,v.FOREIGN_OBJECT,v.TITLE]),nP=new Set([v.TR,v.TEMPLATE,v.HTML]),rP=new Set([v.TBODY,v.TFOOT,v.THEAD,v.TEMPLATE,v.HTML]),iP=new Set([v.TABLE,v.TEMPLATE,v.HTML]),sP=new Set([v.TD,v.TH]);class aP{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=v.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===v.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===pe.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==pe.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Vp,pe.HTML)}popUntilTableCellPopped(){this.popUntilPopped(sP,pe.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(iP,pe.HTML)}clearBackToTableBodyContext(){this.clearBackTo(rP,pe.HTML)}clearBackToTableRowContext(){this.clearBackTo(nP,pe.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===v.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===v.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case pe.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case pe.SVG:{if(UT.has(i))return!1;break}case pe.MATHML:{if(HT.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Od)}hasInListItemScope(t){return this.hasInDynamicScope(t,eP)}hasInButtonScope(t){return this.hasInDynamicScope(t,tP)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case pe.HTML:{if(Vp.has(n))return!0;if(Od.has(n))return!1;break}case pe.SVG:{if(UT.has(n))return!1;break}case pe.MATHML:{if(HT.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===pe.HTML)switch(this.tagIDs[n]){case t:return!0;case v.TABLE:case v.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===pe.HTML)switch(this.tagIDs[t]){case v.TBODY:case v.THEAD:case v.TFOOT:return!0;case v.TABLE:case v.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===pe.HTML)switch(this.tagIDs[n]){case t:return!0;case v.OPTION:case v.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&FA.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&FT.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&FT.has(this.currentTagId);)this.pop()}}const i0=3;var Si;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Si||(Si={}));const zT={type:Si.Marker};class uP{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const u=this.entries[o];if(u.type===Si.Marker)break;const{element:c}=u;if(this.treeAdapter.getTagName(c)===s&&this.treeAdapter.getNamespaceURI(c)===a){const l=this.treeAdapter.getAttrList(c);l.length===i&&r.push({idx:o,attrs:l})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<i0)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<i0)return;const i=new Map(n.map(a=>[a.name,a.value]));let s=0;for(let a=0;a<r.length;a++){const o=r[a];o.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=i0&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(zT)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Si.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Si.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(zT);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Si.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Si.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Si.Element&&n.element===t)}}const ts={createDocument(){return{nodeName:"#document",mode:Dr.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};ts.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(ts.isTextNode(n)){n.value+=t;return}}ts.appendChild(e,ts.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&ts.isTextNode(r)?r.value+=t:ts.insertBefore(e,ts.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation=U(U({},e.sourceCodeLocation),t)}},HA="html",oP="about:legacy-compat",lP="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",UA=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],cP=[...UA,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],dP=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),zA=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],fP=[...zA,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function qT(e,t){return t.some(n=>e.startsWith(n))}function hP(e){return e.name===HA&&e.publicId===null&&(e.systemId===null||e.systemId===oP)}function pP(e){if(e.name!==HA)return Dr.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===lP)return Dr.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),dP.has(n))return Dr.QUIRKS;let r=t===null?cP:UA;if(qT(n,r))return Dr.QUIRKS;if(r=t===null?zA:fP,qT(n,r))return Dr.LIMITED_QUIRKS}return Dr.NO_QUIRKS}const GT={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},mP="definitionurl",gP="definitionURL",bP=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),TP=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:pe.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:pe.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:pe.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:pe.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:pe.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:pe.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:pe.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:pe.XML}],["xml:space",{prefix:"xml",name:"space",namespace:pe.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:pe.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:pe.XMLNS}]]),EP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),yP=new Set([v.B,v.BIG,v.BLOCKQUOTE,v.BODY,v.BR,v.CENTER,v.CODE,v.DD,v.DIV,v.DL,v.DT,v.EM,v.EMBED,v.H1,v.H2,v.H3,v.H4,v.H5,v.H6,v.HEAD,v.HR,v.I,v.IMG,v.LI,v.LISTING,v.MENU,v.META,v.NOBR,v.OL,v.P,v.PRE,v.RUBY,v.S,v.SMALL,v.SPAN,v.STRONG,v.STRIKE,v.SUB,v.SUP,v.TABLE,v.TT,v.U,v.UL,v.VAR]);function _P(e){const t=e.tagID;return t===v.FONT&&e.attrs.some(({name:r})=>r===Da.COLOR||r===Da.SIZE||r===Da.FACE)||yP.has(t)}function qA(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===mP){e.attrs[t].name=gP;break}}function GA(e){for(let t=0;t<e.attrs.length;t++){const n=bP.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function Cg(e){for(let t=0;t<e.attrs.length;t++){const n=TP.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function xP(e){const t=EP.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=eo(e.tagName))}function AP(e,t){return t===pe.MATHML&&(e===v.MI||e===v.MO||e===v.MN||e===v.MS||e===v.MTEXT)}function CP(e,t,n){if(t===pe.MATHML&&e===v.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Da.ENCODING){const i=n[r].value.toLowerCase();return i===GT.TEXT_HTML||i===GT.APPLICATION_XML}}return t===pe.SVG&&(e===v.FOREIGN_OBJECT||e===v.DESC||e===v.TITLE)}function SP(e,t,n,r){return(!r||r===pe.HTML)&&CP(e,t,n)||(!r||r===pe.MATHML)&&AP(e,t)}const NP="hidden",vP=8,wP=3;var Y;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Y||(Y={}));const IP={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},VA=new Set([v.TABLE,v.TBODY,v.TFOOT,v.THEAD,v.TR]),VT={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ts,onParseError:null};let Dd=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=Y.INITIAL,this.originalInsertionMode=Y.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=U(U({},VT),t),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n!=null?n:this.treeAdapter.createDocument(),this.tokenizer=new Z5(this.options,this),this.activeFormattingElements=new uP(this.treeAdapter),this.fragmentContextID=r?eo(this.treeAdapter.getTagName(r)):v.UNKNOWN,this._setContextModes(r!=null?r:this.document,this.fragmentContextID),this.openElements=new aP(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r=U(U({},VT),n);t!=null||(t=r.treeAdapter.createElement(ne.TEMPLATE,pe.HTML,[]));const i=r.treeAdapter.createElement("documentmock",pe.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===v.TEMPLATE&&s.tmplInsertionModeStack.unshift(Y.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:IP,a={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(a)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,a;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,this._setContextModes(s,a)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===pe.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,pe.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=Y.TEXT}switchToPlaintextParsing(){this.insertionMode=Y.TEXT,this.originalInsertionMode=Y.IN_BODY,this.tokenizer.state=pn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===ne.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==pe.HTML))switch(this.fragmentContextID){case v.TITLE:case v.TEXTAREA:{this.tokenizer.state=pn.RCDATA;break}case v.STYLE:case v.XMP:case v.IFRAME:case v.NOEMBED:case v.NOFRAMES:case v.NOSCRIPT:{this.tokenizer.state=pn.RAWTEXT;break}case v.SCRIPT:{this.tokenizer.state=pn.SCRIPT_DATA;break}case v.PLAINTEXT:{this.tokenizer.state=pn.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&oe(U({},n),{startTag:n});this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r!=null?r:this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,pe.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,pe.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(ne.HTML,pe.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,v.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,a=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:u,endCol:c,endOffset:l}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:u,endCol:c,endOffset:l})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===mt.END_TAG&&i===n.tagName?{endTag:U({},r),endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===v.SVG&&this.treeAdapter.getTagName(n)===ne.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===pe.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===v.MGLYPH||t.tagID===v.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,pe.HTML)}_processToken(t){switch(t.type){case mt.CHARACTER:{this.onCharacter(t);break}case mt.NULL_CHARACTER:{this.onNullCharacter(t);break}case mt.COMMENT:{this.onComment(t);break}case mt.DOCTYPE:{this.onDoctype(t);break}case mt.START_TAG:{this._processStartTag(t);break}case mt.END_TAG:{this.onEndTag(t);break}case mt.EOF:{this.onEof(t);break}case mt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return SP(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Si.Marker||this.openElements.contains(i.element)),r=n===-1?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Y.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(v.P),this.openElements.popUntilTagNamePopped(v.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case v.TR:{this.insertionMode=Y.IN_ROW;return}case v.TBODY:case v.THEAD:case v.TFOOT:{this.insertionMode=Y.IN_TABLE_BODY;return}case v.CAPTION:{this.insertionMode=Y.IN_CAPTION;return}case v.COLGROUP:{this.insertionMode=Y.IN_COLUMN_GROUP;return}case v.TABLE:{this.insertionMode=Y.IN_TABLE;return}case v.BODY:{this.insertionMode=Y.IN_BODY;return}case v.FRAMESET:{this.insertionMode=Y.IN_FRAMESET;return}case v.SELECT:{this._resetInsertionModeForSelect(t);return}case v.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case v.HTML:{this.insertionMode=this.headElement?Y.AFTER_HEAD:Y.BEFORE_HEAD;return}case v.TD:case v.TH:{if(t>0){this.insertionMode=Y.IN_CELL;return}break}case v.HEAD:{if(t>0){this.insertionMode=Y.IN_HEAD;return}break}}this.insertionMode=Y.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===v.TEMPLATE)break;if(r===v.TABLE){this.insertionMode=Y.IN_SELECT_IN_TABLE;return}}this.insertionMode=Y.IN_SELECT}_isElementCausesFosterParenting(t){return VA.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case v.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===pe.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case v.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return W5[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){s9(this,t);return}switch(this.insertionMode){case Y.INITIAL:{go(this,t);break}case Y.BEFORE_HTML:{rl(this,t);break}case Y.BEFORE_HEAD:{il(this,t);break}case Y.IN_HEAD:{sl(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{al(this,t);break}case Y.AFTER_HEAD:{ul(this,t);break}case Y.IN_BODY:case Y.IN_CAPTION:case Y.IN_CELL:case Y.IN_TEMPLATE:{WA(this,t);break}case Y.TEXT:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case Y.IN_TABLE:case Y.IN_TABLE_BODY:case Y.IN_ROW:{s0(this,t);break}case Y.IN_TABLE_TEXT:{ZA(this,t);break}case Y.IN_COLUMN_GROUP:{Rd(this,t);break}case Y.AFTER_BODY:{Ld(this,t);break}case Y.AFTER_AFTER_BODY:{ld(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){i9(this,t);return}switch(this.insertionMode){case Y.INITIAL:{go(this,t);break}case Y.BEFORE_HTML:{rl(this,t);break}case Y.BEFORE_HEAD:{il(this,t);break}case Y.IN_HEAD:{sl(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{al(this,t);break}case Y.AFTER_HEAD:{ul(this,t);break}case Y.TEXT:{this._insertCharacters(t);break}case Y.IN_TABLE:case Y.IN_TABLE_BODY:case Y.IN_ROW:{s0(this,t);break}case Y.IN_COLUMN_GROUP:{Rd(this,t);break}case Y.AFTER_BODY:{Ld(this,t);break}case Y.AFTER_AFTER_BODY:{ld(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){$p(this,t);return}switch(this.insertionMode){case Y.INITIAL:case Y.BEFORE_HTML:case Y.BEFORE_HEAD:case Y.IN_HEAD:case Y.IN_HEAD_NO_SCRIPT:case Y.AFTER_HEAD:case Y.IN_BODY:case Y.IN_TABLE:case Y.IN_CAPTION:case Y.IN_COLUMN_GROUP:case Y.IN_TABLE_BODY:case Y.IN_ROW:case Y.IN_CELL:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:case Y.IN_TEMPLATE:case Y.IN_FRAMESET:case Y.AFTER_FRAMESET:{$p(this,t);break}case Y.IN_TABLE_TEXT:{bo(this,t);break}case Y.AFTER_BODY:{MP(this,t);break}case Y.AFTER_AFTER_BODY:case Y.AFTER_AFTER_FRAMESET:{BP(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case Y.INITIAL:{jP(this,t);break}case Y.BEFORE_HEAD:case Y.IN_HEAD:case Y.IN_HEAD_NO_SCRIPT:case Y.AFTER_HEAD:{this._err(t,ue.misplacedDoctype);break}case Y.IN_TABLE_TEXT:{bo(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ue.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?a9(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case Y.INITIAL:{go(this,t);break}case Y.BEFORE_HTML:{FP(this,t);break}case Y.BEFORE_HEAD:{UP(this,t);break}case Y.IN_HEAD:{pi(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{GP(this,t);break}case Y.AFTER_HEAD:{$P(this,t);break}case Y.IN_BODY:{Xn(this,t);break}case Y.IN_TABLE:{Bu(this,t);break}case Y.IN_TABLE_TEXT:{bo(this,t);break}case Y.IN_CAPTION:{zM(this,t);break}case Y.IN_COLUMN_GROUP:{vg(this,t);break}case Y.IN_TABLE_BODY:{rh(this,t);break}case Y.IN_ROW:{ih(this,t);break}case Y.IN_CELL:{VM(this,t);break}case Y.IN_SELECT:{nC(this,t);break}case Y.IN_SELECT_IN_TABLE:{WM(this,t);break}case Y.IN_TEMPLATE:{KM(this,t);break}case Y.AFTER_BODY:{XM(this,t);break}case Y.IN_FRAMESET:{JM(this,t);break}case Y.AFTER_FRAMESET:{e9(this,t);break}case Y.AFTER_AFTER_BODY:{n9(this,t);break}case Y.AFTER_AFTER_FRAMESET:{r9(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?u9(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case Y.INITIAL:{go(this,t);break}case Y.BEFORE_HTML:{HP(this,t);break}case Y.BEFORE_HEAD:{zP(this,t);break}case Y.IN_HEAD:{qP(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{VP(this,t);break}case Y.AFTER_HEAD:{WP(this,t);break}case Y.IN_BODY:{nh(this,t);break}case Y.TEXT:{DM(this,t);break}case Y.IN_TABLE:{vl(this,t);break}case Y.IN_TABLE_TEXT:{bo(this,t);break}case Y.IN_CAPTION:{qM(this,t);break}case Y.IN_COLUMN_GROUP:{GM(this,t);break}case Y.IN_TABLE_BODY:{Wp(this,t);break}case Y.IN_ROW:{tC(this,t);break}case Y.IN_CELL:{$M(this,t);break}case Y.IN_SELECT:{rC(this,t);break}case Y.IN_SELECT_IN_TABLE:{YM(this,t);break}case Y.IN_TEMPLATE:{QM(this,t);break}case Y.AFTER_BODY:{sC(this,t);break}case Y.IN_FRAMESET:{ZM(this,t);break}case Y.AFTER_FRAMESET:{t9(this,t);break}case Y.AFTER_AFTER_BODY:{ld(this,t);break}}}onEof(t){switch(this.insertionMode){case Y.INITIAL:{go(this,t);break}case Y.BEFORE_HTML:{rl(this,t);break}case Y.BEFORE_HEAD:{il(this,t);break}case Y.IN_HEAD:{sl(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{al(this,t);break}case Y.AFTER_HEAD:{ul(this,t);break}case Y.IN_BODY:case Y.IN_TABLE:case Y.IN_CAPTION:case Y.IN_COLUMN_GROUP:case Y.IN_TABLE_BODY:case Y.IN_ROW:case Y.IN_CELL:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:{XA(this,t);break}case Y.TEXT:{RM(this,t);break}case Y.IN_TABLE_TEXT:{bo(this,t);break}case Y.IN_TEMPLATE:{iC(this,t);break}case Y.AFTER_BODY:case Y.IN_FRAMESET:case Y.AFTER_FRAMESET:case Y.AFTER_AFTER_BODY:case Y.AFTER_AFTER_FRAMESET:{Ng(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===z.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case Y.IN_HEAD:case Y.IN_HEAD_NO_SCRIPT:case Y.AFTER_HEAD:case Y.TEXT:case Y.IN_COLUMN_GROUP:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:case Y.IN_FRAMESET:case Y.AFTER_FRAMESET:{this._insertCharacters(t);break}case Y.IN_BODY:case Y.IN_CAPTION:case Y.IN_CELL:case Y.IN_TEMPLATE:case Y.AFTER_BODY:case Y.AFTER_AFTER_BODY:case Y.AFTER_AFTER_FRAMESET:{$A(this,t);break}case Y.IN_TABLE:case Y.IN_TABLE_BODY:case Y.IN_ROW:{s0(this,t);break}case Y.IN_TABLE_TEXT:{JA(this,t);break}}}};function kP(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):QA(e,t),n}function OP(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function DP(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,a=i;a!==n;s++,a=i){i=e.openElements.getCommonAncestor(a);const o=e.activeFormattingElements.getElementEntry(a),u=o&&s>=wP;!o||u?(u&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(a)):(a=RP(e,o),r===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function RP(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function LP(e,t,n){const r=e.treeAdapter.getTagName(t),i=eo(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===v.TEMPLATE&&s===pe.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function PP(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function Sg(e,t){for(let n=0;n<vP;n++){const r=kP(e,t);if(!r)break;const i=OP(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=DP(e,i,r.element),a=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),a&&LP(e,a,s),PP(e,i,r)}}function $p(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function MP(e,t){e._appendCommentNode(t,e.openElements.items[0])}function BP(e,t){e._appendCommentNode(t,e.document)}function Ng(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&e._setEndLocation(s,t)}}}}function jP(e,t){e._setDocumentType(t);const n=t.forceQuirks?Dr.QUIRKS:pP(t);hP(t)||e._err(t,ue.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=Y.BEFORE_HTML}function go(e,t){e._err(t,ue.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Dr.QUIRKS),e.insertionMode=Y.BEFORE_HTML,e._processToken(t)}function FP(e,t){t.tagID===v.HTML?(e._insertElement(t,pe.HTML),e.insertionMode=Y.BEFORE_HEAD):rl(e,t)}function HP(e,t){const n=t.tagID;(n===v.HTML||n===v.HEAD||n===v.BODY||n===v.BR)&&rl(e,t)}function rl(e,t){e._insertFakeRootElement(),e.insertionMode=Y.BEFORE_HEAD,e._processToken(t)}function UP(e,t){switch(t.tagID){case v.HTML:{Xn(e,t);break}case v.HEAD:{e._insertElement(t,pe.HTML),e.headElement=e.openElements.current,e.insertionMode=Y.IN_HEAD;break}default:il(e,t)}}function zP(e,t){const n=t.tagID;n===v.HEAD||n===v.BODY||n===v.HTML||n===v.BR?il(e,t):e._err(t,ue.endTagWithoutMatchingOpenElement)}function il(e,t){e._insertFakeElement(ne.HEAD,v.HEAD),e.headElement=e.openElements.current,e.insertionMode=Y.IN_HEAD,e._processToken(t)}function pi(e,t){switch(t.tagID){case v.HTML:{Xn(e,t);break}case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:{e._appendElement(t,pe.HTML),t.ackSelfClosing=!0;break}case v.TITLE:{e._switchToTextParsing(t,pn.RCDATA);break}case v.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,pn.RAWTEXT):(e._insertElement(t,pe.HTML),e.insertionMode=Y.IN_HEAD_NO_SCRIPT);break}case v.NOFRAMES:case v.STYLE:{e._switchToTextParsing(t,pn.RAWTEXT);break}case v.SCRIPT:{e._switchToTextParsing(t,pn.SCRIPT_DATA);break}case v.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=Y.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(Y.IN_TEMPLATE);break}case v.HEAD:{e._err(t,ue.misplacedStartTagForHeadElement);break}default:sl(e,t)}}function qP(e,t){switch(t.tagID){case v.HEAD:{e.openElements.pop(),e.insertionMode=Y.AFTER_HEAD;break}case v.BODY:case v.BR:case v.HTML:{sl(e,t);break}case v.TEMPLATE:{Xa(e,t);break}default:e._err(t,ue.endTagWithoutMatchingOpenElement)}}function Xa(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==v.TEMPLATE&&e._err(t,ue.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(v.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ue.endTagWithoutMatchingOpenElement)}function sl(e,t){e.openElements.pop(),e.insertionMode=Y.AFTER_HEAD,e._processToken(t)}function GP(e,t){switch(t.tagID){case v.HTML:{Xn(e,t);break}case v.BASEFONT:case v.BGSOUND:case v.HEAD:case v.LINK:case v.META:case v.NOFRAMES:case v.STYLE:{pi(e,t);break}case v.NOSCRIPT:{e._err(t,ue.nestedNoscriptInHead);break}default:al(e,t)}}function VP(e,t){switch(t.tagID){case v.NOSCRIPT:{e.openElements.pop(),e.insertionMode=Y.IN_HEAD;break}case v.BR:{al(e,t);break}default:e._err(t,ue.endTagWithoutMatchingOpenElement)}}function al(e,t){const n=t.type===mt.EOF?ue.openElementsLeftAfterEof:ue.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=Y.IN_HEAD,e._processToken(t)}function $P(e,t){switch(t.tagID){case v.HTML:{Xn(e,t);break}case v.BODY:{e._insertElement(t,pe.HTML),e.framesetOk=!1,e.insertionMode=Y.IN_BODY;break}case v.FRAMESET:{e._insertElement(t,pe.HTML),e.insertionMode=Y.IN_FRAMESET;break}case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:case v.NOFRAMES:case v.SCRIPT:case v.STYLE:case v.TEMPLATE:case v.TITLE:{e._err(t,ue.abandonedHeadElementChild),e.openElements.push(e.headElement,v.HEAD),pi(e,t),e.openElements.remove(e.headElement);break}case v.HEAD:{e._err(t,ue.misplacedStartTagForHeadElement);break}default:ul(e,t)}}function WP(e,t){switch(t.tagID){case v.BODY:case v.HTML:case v.BR:{ul(e,t);break}case v.TEMPLATE:{Xa(e,t);break}default:e._err(t,ue.endTagWithoutMatchingOpenElement)}}function ul(e,t){e._insertFakeElement(ne.BODY,v.BODY),e.insertionMode=Y.IN_BODY,th(e,t)}function th(e,t){switch(t.type){case mt.CHARACTER:{WA(e,t);break}case mt.WHITESPACE_CHARACTER:{$A(e,t);break}case mt.COMMENT:{$p(e,t);break}case mt.START_TAG:{Xn(e,t);break}case mt.END_TAG:{nh(e,t);break}case mt.EOF:{XA(e,t);break}}}function $A(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function WA(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function YP(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function KP(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function QP(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,pe.HTML),e.insertionMode=Y.IN_FRAMESET)}function XP(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,pe.HTML)}function JP(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&Vp.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,pe.HTML)}function ZP(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,pe.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function eM(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,pe.HTML),n||(e.formElement=e.openElements.current))}function tM(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===v.LI&&i===v.LI||(n===v.DD||n===v.DT)&&(i===v.DD||i===v.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==v.ADDRESS&&i!==v.DIV&&i!==v.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,pe.HTML)}function nM(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,pe.HTML),e.tokenizer.state=pn.PLAINTEXT}function rM(e,t){e.openElements.hasInScope(v.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,pe.HTML),e.framesetOk=!1}function iM(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(ne.A);n&&(Sg(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,pe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function sM(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function aM(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(v.NOBR)&&(Sg(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,pe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function uM(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pe.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function oM(e,t){e.treeAdapter.getDocumentMode(e.document)!==Dr.QUIRKS&&e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,pe.HTML),e.framesetOk=!1,e.insertionMode=Y.IN_TABLE}function YA(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,pe.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function KA(e){const t=PA(e,Da.TYPE);return t!=null&&t.toLowerCase()===NP}function lM(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,pe.HTML),KA(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function cM(e,t){e._appendElement(t,pe.HTML),t.ackSelfClosing=!0}function dM(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._appendElement(t,pe.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function fM(e,t){t.tagName=ne.IMG,t.tagID=v.IMG,YA(e,t)}function hM(e,t){e._insertElement(t,pe.HTML),e.skipNextNewLine=!0,e.tokenizer.state=pn.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=Y.TEXT}function pM(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,pn.RAWTEXT)}function mM(e,t){e.framesetOk=!1,e._switchToTextParsing(t,pn.RAWTEXT)}function $T(e,t){e._switchToTextParsing(t,pn.RAWTEXT)}function gM(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pe.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===Y.IN_TABLE||e.insertionMode===Y.IN_CAPTION||e.insertionMode===Y.IN_TABLE_BODY||e.insertionMode===Y.IN_ROW||e.insertionMode===Y.IN_CELL?Y.IN_SELECT_IN_TABLE:Y.IN_SELECT}function bM(e,t){e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,pe.HTML)}function TM(e,t){e.openElements.hasInScope(v.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,pe.HTML)}function EM(e,t){e.openElements.hasInScope(v.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(v.RTC),e._insertElement(t,pe.HTML)}function yM(e,t){e._reconstructActiveFormattingElements(),qA(t),Cg(t),t.selfClosing?e._appendElement(t,pe.MATHML):e._insertElement(t,pe.MATHML),t.ackSelfClosing=!0}function _M(e,t){e._reconstructActiveFormattingElements(),GA(t),Cg(t),t.selfClosing?e._appendElement(t,pe.SVG):e._insertElement(t,pe.SVG),t.ackSelfClosing=!0}function WT(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pe.HTML)}function Xn(e,t){switch(t.tagID){case v.I:case v.S:case v.B:case v.U:case v.EM:case v.TT:case v.BIG:case v.CODE:case v.FONT:case v.SMALL:case v.STRIKE:case v.STRONG:{sM(e,t);break}case v.A:{iM(e,t);break}case v.H1:case v.H2:case v.H3:case v.H4:case v.H5:case v.H6:{JP(e,t);break}case v.P:case v.DL:case v.OL:case v.UL:case v.DIV:case v.DIR:case v.NAV:case v.MAIN:case v.MENU:case v.ASIDE:case v.CENTER:case v.FIGURE:case v.FOOTER:case v.HEADER:case v.HGROUP:case v.DIALOG:case v.DETAILS:case v.ADDRESS:case v.ARTICLE:case v.SEARCH:case v.SECTION:case v.SUMMARY:case v.FIELDSET:case v.BLOCKQUOTE:case v.FIGCAPTION:{XP(e,t);break}case v.LI:case v.DD:case v.DT:{tM(e,t);break}case v.BR:case v.IMG:case v.WBR:case v.AREA:case v.EMBED:case v.KEYGEN:{YA(e,t);break}case v.HR:{dM(e,t);break}case v.RB:case v.RTC:{TM(e,t);break}case v.RT:case v.RP:{EM(e,t);break}case v.PRE:case v.LISTING:{ZP(e,t);break}case v.XMP:{pM(e,t);break}case v.SVG:{_M(e,t);break}case v.HTML:{YP(e,t);break}case v.BASE:case v.LINK:case v.META:case v.STYLE:case v.TITLE:case v.SCRIPT:case v.BGSOUND:case v.BASEFONT:case v.TEMPLATE:{pi(e,t);break}case v.BODY:{KP(e,t);break}case v.FORM:{eM(e,t);break}case v.NOBR:{aM(e,t);break}case v.MATH:{yM(e,t);break}case v.TABLE:{oM(e,t);break}case v.INPUT:{lM(e,t);break}case v.PARAM:case v.TRACK:case v.SOURCE:{cM(e,t);break}case v.IMAGE:{fM(e,t);break}case v.BUTTON:{rM(e,t);break}case v.APPLET:case v.OBJECT:case v.MARQUEE:{uM(e,t);break}case v.IFRAME:{mM(e,t);break}case v.SELECT:{gM(e,t);break}case v.OPTION:case v.OPTGROUP:{bM(e,t);break}case v.NOEMBED:case v.NOFRAMES:{$T(e,t);break}case v.FRAMESET:{QP(e,t);break}case v.TEXTAREA:{hM(e,t);break}case v.NOSCRIPT:{e.options.scriptingEnabled?$T(e,t):WT(e,t);break}case v.PLAINTEXT:{nM(e,t);break}case v.COL:case v.TH:case v.TD:case v.TR:case v.HEAD:case v.FRAME:case v.TBODY:case v.TFOOT:case v.THEAD:case v.CAPTION:case v.COLGROUP:break;default:WT(e,t)}}function xM(e,t){if(e.openElements.hasInScope(v.BODY)&&(e.insertionMode=Y.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function AM(e,t){e.openElements.hasInScope(v.BODY)&&(e.insertionMode=Y.AFTER_BODY,sC(e,t))}function CM(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function SM(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(v.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(v.FORM):n&&e.openElements.remove(n))}function NM(e){e.openElements.hasInButtonScope(v.P)||e._insertFakeElement(ne.P,v.P),e._closePElement()}function vM(e){e.openElements.hasInListItemScope(v.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(v.LI),e.openElements.popUntilTagNamePopped(v.LI))}function wM(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function IM(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function kM(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function OM(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(ne.BR,v.BR),e.openElements.pop(),e.framesetOk=!1}function QA(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],a=e.openElements.tagIDs[i];if(r===a&&(r!==v.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,a))break}}function nh(e,t){switch(t.tagID){case v.A:case v.B:case v.I:case v.S:case v.U:case v.EM:case v.TT:case v.BIG:case v.CODE:case v.FONT:case v.NOBR:case v.SMALL:case v.STRIKE:case v.STRONG:{Sg(e,t);break}case v.P:{NM(e);break}case v.DL:case v.UL:case v.OL:case v.DIR:case v.DIV:case v.NAV:case v.PRE:case v.MAIN:case v.MENU:case v.ASIDE:case v.BUTTON:case v.CENTER:case v.FIGURE:case v.FOOTER:case v.HEADER:case v.HGROUP:case v.DIALOG:case v.ADDRESS:case v.ARTICLE:case v.DETAILS:case v.SEARCH:case v.SECTION:case v.SUMMARY:case v.LISTING:case v.FIELDSET:case v.BLOCKQUOTE:case v.FIGCAPTION:{CM(e,t);break}case v.LI:{vM(e);break}case v.DD:case v.DT:{wM(e,t);break}case v.H1:case v.H2:case v.H3:case v.H4:case v.H5:case v.H6:{IM(e);break}case v.BR:{OM(e);break}case v.BODY:{xM(e,t);break}case v.HTML:{AM(e,t);break}case v.FORM:{SM(e);break}case v.APPLET:case v.OBJECT:case v.MARQUEE:{kM(e,t);break}case v.TEMPLATE:{Xa(e,t);break}default:QA(e,t)}}function XA(e,t){e.tmplInsertionModeStack.length>0?iC(e,t):Ng(e,t)}function DM(e,t){var n;t.tagID===v.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function RM(e,t){e._err(t,ue.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function s0(e,t){if(e.openElements.currentTagId!==void 0&&VA.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=Y.IN_TABLE_TEXT,t.type){case mt.CHARACTER:{ZA(e,t);break}case mt.WHITESPACE_CHARACTER:{JA(e,t);break}}else tc(e,t)}function LM(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,pe.HTML),e.insertionMode=Y.IN_CAPTION}function PM(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,pe.HTML),e.insertionMode=Y.IN_COLUMN_GROUP}function MM(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ne.COLGROUP,v.COLGROUP),e.insertionMode=Y.IN_COLUMN_GROUP,vg(e,t)}function BM(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,pe.HTML),e.insertionMode=Y.IN_TABLE_BODY}function jM(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ne.TBODY,v.TBODY),e.insertionMode=Y.IN_TABLE_BODY,rh(e,t)}function FM(e,t){e.openElements.hasInTableScope(v.TABLE)&&(e.openElements.popUntilTagNamePopped(v.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function HM(e,t){KA(t)?e._appendElement(t,pe.HTML):tc(e,t),t.ackSelfClosing=!0}function UM(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,pe.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Bu(e,t){switch(t.tagID){case v.TD:case v.TH:case v.TR:{jM(e,t);break}case v.STYLE:case v.SCRIPT:case v.TEMPLATE:{pi(e,t);break}case v.COL:{MM(e,t);break}case v.FORM:{UM(e,t);break}case v.TABLE:{FM(e,t);break}case v.TBODY:case v.TFOOT:case v.THEAD:{BM(e,t);break}case v.INPUT:{HM(e,t);break}case v.CAPTION:{LM(e,t);break}case v.COLGROUP:{PM(e,t);break}default:tc(e,t)}}function vl(e,t){switch(t.tagID){case v.TABLE:{e.openElements.hasInTableScope(v.TABLE)&&(e.openElements.popUntilTagNamePopped(v.TABLE),e._resetInsertionMode());break}case v.TEMPLATE:{Xa(e,t);break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TBODY:case v.TD:case v.TFOOT:case v.TH:case v.THEAD:case v.TR:break;default:tc(e,t)}}function tc(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,th(e,t),e.fosterParentingEnabled=n}function JA(e,t){e.pendingCharacterTokens.push(t)}function ZA(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function bo(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)tc(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const eC=new Set([v.CAPTION,v.COL,v.COLGROUP,v.TBODY,v.TD,v.TFOOT,v.TH,v.THEAD,v.TR]);function zM(e,t){const n=t.tagID;eC.has(n)?e.openElements.hasInTableScope(v.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Y.IN_TABLE,Bu(e,t)):Xn(e,t)}function qM(e,t){const n=t.tagID;switch(n){case v.CAPTION:case v.TABLE:{e.openElements.hasInTableScope(v.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Y.IN_TABLE,n===v.TABLE&&vl(e,t));break}case v.BODY:case v.COL:case v.COLGROUP:case v.HTML:case v.TBODY:case v.TD:case v.TFOOT:case v.TH:case v.THEAD:case v.TR:break;default:nh(e,t)}}function vg(e,t){switch(t.tagID){case v.HTML:{Xn(e,t);break}case v.COL:{e._appendElement(t,pe.HTML),t.ackSelfClosing=!0;break}case v.TEMPLATE:{pi(e,t);break}default:Rd(e,t)}}function GM(e,t){switch(t.tagID){case v.COLGROUP:{e.openElements.currentTagId===v.COLGROUP&&(e.openElements.pop(),e.insertionMode=Y.IN_TABLE);break}case v.TEMPLATE:{Xa(e,t);break}case v.COL:break;default:Rd(e,t)}}function Rd(e,t){e.openElements.currentTagId===v.COLGROUP&&(e.openElements.pop(),e.insertionMode=Y.IN_TABLE,e._processToken(t))}function rh(e,t){switch(t.tagID){case v.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,pe.HTML),e.insertionMode=Y.IN_ROW;break}case v.TH:case v.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(ne.TR,v.TR),e.insertionMode=Y.IN_ROW,ih(e,t);break}case v.CAPTION:case v.COL:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE,Bu(e,t));break}default:Bu(e,t)}}function Wp(e,t){const n=t.tagID;switch(t.tagID){case v.TBODY:case v.TFOOT:case v.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE);break}case v.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE,vl(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TD:case v.TH:case v.TR:break;default:vl(e,t)}}function ih(e,t){switch(t.tagID){case v.TH:case v.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,pe.HTML),e.insertionMode=Y.IN_CELL,e.activeFormattingElements.insertMarker();break}case v.CAPTION:case v.COL:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:case v.TR:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY,rh(e,t));break}default:Bu(e,t)}}function tC(e,t){switch(t.tagID){case v.TR:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY);break}case v.TABLE:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY,Wp(e,t));break}case v.TBODY:case v.TFOOT:case v.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(v.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY,Wp(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TD:case v.TH:break;default:vl(e,t)}}function VM(e,t){const n=t.tagID;eC.has(n)?(e.openElements.hasInTableScope(v.TD)||e.openElements.hasInTableScope(v.TH))&&(e._closeTableCell(),ih(e,t)):Xn(e,t)}function $M(e,t){const n=t.tagID;switch(n){case v.TD:case v.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Y.IN_ROW);break}case v.TABLE:case v.TBODY:case v.TFOOT:case v.THEAD:case v.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),tC(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:break;default:nh(e,t)}}function nC(e,t){switch(t.tagID){case v.HTML:{Xn(e,t);break}case v.OPTION:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e._insertElement(t,pe.HTML);break}case v.OPTGROUP:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop(),e._insertElement(t,pe.HTML);break}case v.HR:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop(),e._appendElement(t,pe.HTML),t.ackSelfClosing=!0;break}case v.INPUT:case v.KEYGEN:case v.TEXTAREA:case v.SELECT:{e.openElements.hasInSelectScope(v.SELECT)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),t.tagID!==v.SELECT&&e._processStartTag(t));break}case v.SCRIPT:case v.TEMPLATE:{pi(e,t);break}}}function rC(e,t){switch(t.tagID){case v.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===v.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===v.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop();break}case v.OPTION:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop();break}case v.SELECT:{e.openElements.hasInSelectScope(v.SELECT)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode());break}case v.TEMPLATE:{Xa(e,t);break}}}function WM(e,t){const n=t.tagID;n===v.CAPTION||n===v.TABLE||n===v.TBODY||n===v.TFOOT||n===v.THEAD||n===v.TR||n===v.TD||n===v.TH?(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),e._processStartTag(t)):nC(e,t)}function YM(e,t){const n=t.tagID;n===v.CAPTION||n===v.TABLE||n===v.TBODY||n===v.TFOOT||n===v.THEAD||n===v.TR||n===v.TD||n===v.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),e.onEndTag(t)):rC(e,t)}function KM(e,t){switch(t.tagID){case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:case v.NOFRAMES:case v.SCRIPT:case v.STYLE:case v.TEMPLATE:case v.TITLE:{pi(e,t);break}case v.CAPTION:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:{e.tmplInsertionModeStack[0]=Y.IN_TABLE,e.insertionMode=Y.IN_TABLE,Bu(e,t);break}case v.COL:{e.tmplInsertionModeStack[0]=Y.IN_COLUMN_GROUP,e.insertionMode=Y.IN_COLUMN_GROUP,vg(e,t);break}case v.TR:{e.tmplInsertionModeStack[0]=Y.IN_TABLE_BODY,e.insertionMode=Y.IN_TABLE_BODY,rh(e,t);break}case v.TD:case v.TH:{e.tmplInsertionModeStack[0]=Y.IN_ROW,e.insertionMode=Y.IN_ROW,ih(e,t);break}default:e.tmplInsertionModeStack[0]=Y.IN_BODY,e.insertionMode=Y.IN_BODY,Xn(e,t)}}function QM(e,t){t.tagID===v.TEMPLATE&&Xa(e,t)}function iC(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(v.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Ng(e,t)}function XM(e,t){t.tagID===v.HTML?Xn(e,t):Ld(e,t)}function sC(e,t){var n;if(t.tagID===v.HTML){if(e.fragmentContext||(e.insertionMode=Y.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===v.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Ld(e,t)}function Ld(e,t){e.insertionMode=Y.IN_BODY,th(e,t)}function JM(e,t){switch(t.tagID){case v.HTML:{Xn(e,t);break}case v.FRAMESET:{e._insertElement(t,pe.HTML);break}case v.FRAME:{e._appendElement(t,pe.HTML),t.ackSelfClosing=!0;break}case v.NOFRAMES:{pi(e,t);break}}}function ZM(e,t){t.tagID===v.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==v.FRAMESET&&(e.insertionMode=Y.AFTER_FRAMESET))}function e9(e,t){switch(t.tagID){case v.HTML:{Xn(e,t);break}case v.NOFRAMES:{pi(e,t);break}}}function t9(e,t){t.tagID===v.HTML&&(e.insertionMode=Y.AFTER_AFTER_FRAMESET)}function n9(e,t){t.tagID===v.HTML?Xn(e,t):ld(e,t)}function ld(e,t){e.insertionMode=Y.IN_BODY,th(e,t)}function r9(e,t){switch(t.tagID){case v.HTML:{Xn(e,t);break}case v.NOFRAMES:{pi(e,t);break}}}function i9(e,t){t.chars=sn,e._insertCharacters(t)}function s9(e,t){e._insertCharacters(t),e.framesetOk=!1}function aC(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==pe.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function a9(e,t){if(_P(t))aC(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===pe.MATHML?qA(t):r===pe.SVG&&(xP(t),GA(t)),Cg(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function u9(e,t){if(t.tagID===v.P||t.tagID===v.BR){aC(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===pe.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}function uC(e,t){return function(r){let i,s=0,a="";for(;i=e.exec(r);)s!==i.index&&(a+=r.substring(s,i.index)),a+=t.get(i[0].charCodeAt(0)),s=i.index+1;return a+r.substring(s)}}const o9=uC(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),l9=uC(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),c9=new Set([ne.AREA,ne.BASE,ne.BASEFONT,ne.BGSOUND,ne.BR,ne.COL,ne.EMBED,ne.FRAME,ne.HR,ne.IMG,ne.INPUT,ne.KEYGEN,ne.LINK,ne.META,ne.PARAM,ne.SOURCE,ne.TRACK,ne.WBR]);function d9(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===pe.HTML&&c9.has(t.treeAdapter.getTagName(e))}const f9={treeAdapter:ts,scriptingEnabled:!0};function h9(e,t){const n=U(U({},f9),t);return oC(e,n)}function p9(e,t){let n="";const r=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===ne.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===pe.HTML?t.treeAdapter.getTemplateContent(e):e,i=t.treeAdapter.getChildNodes(r);if(i)for(const s of i)n+=oC(s,t);return n}function oC(e,t){return t.treeAdapter.isElementNode(e)?m9(e,t):t.treeAdapter.isTextNode(e)?b9(e,t):t.treeAdapter.isCommentNode(e)?T9(e,t):t.treeAdapter.isDocumentTypeNode(e)?E9(e,t):""}function m9(e,t){const n=t.treeAdapter.getTagName(e);return`<${n}${g9(e,t)}>${d9(e,t)?"":`${p9(e,t)}</${n}>`}`}function g9(e,{treeAdapter:t}){let n="";for(const r of t.getAttrList(e)){if(n+=" ",r.namespace)switch(r.namespace){case pe.XML:{n+=`xml:${r.name}`;break}case pe.XMLNS:{r.name!=="xmlns"&&(n+="xmlns:"),n+=r.name;break}case pe.XLINK:{n+=`xlink:${r.name}`;break}default:n+=`${r.prefix}:${r.name}`}else n+=r.name;n+=`="${o9(r.value)}"`}return n}function b9(e,t){const{treeAdapter:n}=t,r=n.getTextNodeContent(e),i=n.getParentNode(e),s=i&&n.isElementNode(i)&&n.getTagName(i);return s&&n.getNamespaceURI(i)===pe.HTML&&K5(s,t.scriptingEnabled)?r:l9(r)}function T9(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`}function E9(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}function y9(e,t){return Dd.parse(e,t)}function _9(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const r=Dd.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}const x9=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,A9=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),YT={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function lC(e,t){const n=R9(e),r=oA("type",{handlers:{root:C9,element:S9,text:N9,comment:dC,doctype:v9,raw:I9},unknown:k9}),i={parser:n?new Dd(YT):Dd.getFragmentParser(void 0,YT),handle(o){r(o,i)},stitches:!1,options:t||{}};r(e,i),to(i,Fi());const s=n?i.parser.document:i.parser.getFragment(),a=E5(s,{file:i.options.file});return i.stitches&&eh(a,"comment",function(o,u,c){const l=o;if(l.value.stitch&&c&&u!==void 0){const d=c.children;return d[u]=l.value.stitch,u}}),a.type==="root"&&a.children.length===1&&a.children[0].type===e.type?a.children[0]:a}function cC(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function C9(e,t){cC(e.children,t)}function S9(e,t){O9(e,t),cC(e.children,t),D9(e,t)}function N9(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:mt.CHARACTER,chars:e.value,location:nc(e)};to(t,Fi(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function v9(e,t){const n={type:mt.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:nc(e)};to(t,Fi(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function w9(e,t){t.stitches=!0;const n=L9(e);if("children"in e&&"children"in n){const r=lC({type:"root",children:e.children},t.options);n.children=r.children}dC({type:"comment",value:{stitch:n}},t)}function dC(e,t){const n=e.value,r={type:mt.COMMENT,data:n,location:nc(e)};to(t,Fi(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function I9(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,fC(t,Fi(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(x9,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function k9(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))w9(n,t);else{let r="";throw A9.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function to(e,t){fC(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=pn.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function fC(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function O9(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===pn.PLAINTEXT)return;to(t,Fi(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:wa.html;i===wa.html&&n==="svg"&&(i=wa.svg);const s=C5(oe(U({},e),{children:[]}),{space:i===wa.svg?"svg":"html"}),a={type:mt.START_TAG,tagName:n,tagID:eo(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:nc(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function D9(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&D5.includes(n)||t.parser.tokenizer.state===pn.PLAINTEXT)return;to(t,Yf(e));const r={type:mt.END_TAG,tagName:n,tagID:eo(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:nc(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===pn.RCDATA||t.parser.tokenizer.state===pn.RAWTEXT||t.parser.tokenizer.state===pn.SCRIPT_DATA)&&(t.parser.tokenizer.state=pn.DATA)}function R9(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function nc(e){const t=Fi(e)||{line:void 0,column:void 0,offset:void 0},n=Yf(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function L9(e){return"children"in e?Mu(oe(U({},e),{children:[]})):Mu(e)}function P9(e){return function(t,n){return lC(t,oe(U({},e),{file:n}))}}var Dt;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(Dt||(Dt={}));function M9(e){return e.type===Dt.Tag||e.type===Dt.Script||e.type===Dt.Style}const wg=Dt.Root,hC=Dt.Text,B9=Dt.Directive,pC=Dt.Comment,j9=Dt.Script,F9=Dt.Style,Yp=Dt.Tag,H9=Dt.CDATA,U9=Dt.Doctype;let mC=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return Il(this,t)}};class Ig extends mC{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}}let wl=class extends Ig{constructor(){super(...arguments),this.type=Dt.Text}get nodeType(){return 3}};class kg extends Ig{constructor(){super(...arguments),this.type=Dt.Comment}get nodeType(){return 8}}class Og extends Ig{constructor(t,n){super(n),this.name=t,this.type=Dt.Directive}get nodeType(){return 1}}class Dg extends mC{constructor(t){super(),this.children=t}get firstChild(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}}class gC extends Dg{constructor(){super(...arguments),this.type=Dt.CDATA}get nodeType(){return 4}}let Ha=class extends Dg{constructor(){super(...arguments),this.type=Dt.Root}get nodeType(){return 9}},Rg=class extends Dg{constructor(t,n,r=[],i=t==="script"?Dt.Script:t==="style"?Dt.Style:Dt.Tag){super(r),this.name=t,this.attribs=n,this.type=i}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map(t=>{var n,r;return{name:t,value:this.attribs[t],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[t],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[t]}})}};function Xe(e){return M9(e)}function sh(e){return e.type===Dt.CDATA}function ki(e){return e.type===Dt.Text}function ah(e){return e.type===Dt.Comment}function Kp(e){return e.type===Dt.Directive}function Ks(e){return e.type===Dt.Root}function mn(e){return Object.prototype.hasOwnProperty.call(e,"children")}function Il(e,t=!1){let n;if(ki(e))n=new wl(e.data);else if(ah(e))n=new kg(e.data);else if(Xe(e)){const r=t?a0(e.children):[],i=new Rg(e.name,U({},e.attribs),r);r.forEach(s=>s.parent=i),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=U({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=U({},e["x-attribsPrefix"])),n=i}else if(sh(e)){const r=t?a0(e.children):[],i=new gC(r);r.forEach(s=>s.parent=i),n=i}else if(Ks(e)){const r=t?a0(e.children):[],i=new Ha(r);r.forEach(s=>s.parent=i),e["x-mode"]&&(i["x-mode"]=e["x-mode"]),n=i}else if(Kp(e)){const r=new Og(e.name,e.data);e["x-name"]!=null&&(r["x-name"]=e["x-name"],r["x-publicId"]=e["x-publicId"],r["x-systemId"]=e["x-systemId"]),n=r}else throw new Error(`Not implemented yet: ${e.type}`);return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function a0(e){const t=e.map(n=>Il(n,!0));for(let n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}const KT={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class z9{constructor(t,n,r){this.dom=[],this.root=new Ha(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(r=n,n=KT),typeof t=="object"&&(n=t,t=void 0),this.callback=t!=null?t:null,this.options=n!=null?n:KT,this.elementCB=r!=null?r:null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new Ha(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;const t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,n){const r=this.options.xmlMode?Dt.Tag:void 0,i=new Rg(t,n,void 0,r);this.addNode(i),this.tagStack.push(i)}ontext(t){const{lastNode:n}=this;if(n&&n.type===Dt.Text)n.data+=t,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const r=new wl(t);this.addNode(r),this.lastNode=r}}oncomment(t){if(this.lastNode&&this.lastNode.type===Dt.Comment){this.lastNode.data+=t;return}const n=new kg(t);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const t=new wl(""),n=new gC([t]);this.addNode(n),t.parent=n,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,n){const r=new Og(t,n);this.addNode(r)}handleCallback(t){if(typeof this.callback=="function")this.callback(t,this.dom);else if(t)throw t}addNode(t){const n=this.tagStack[this.tagStack.length-1],r=n.children[n.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),n.children.push(t),r&&(t.prev=r,r.next=t),t.parent=n,this.lastNode=null}}const QT=/["&'<>$\x80-\uFFFF]/g,q9=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),G9=String.prototype.codePointAt!=null?(e,t)=>e.codePointAt(t):(e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function bC(e){let t="",n=0,r;for(;(r=QT.exec(e))!==null;){const i=r.index,s=e.charCodeAt(i),a=q9.get(s);a!==void 0?(t+=e.substring(n,i)+a,n=i+1):(t+=`${e.substring(n,i)}&#x${G9(e,i).toString(16)};`,n=QT.lastIndex+=+((s&64512)===55296))}return t+e.substr(n)}function TC(e,t){return function(r){let i,s=0,a="";for(;i=e.exec(r);)s!==i.index&&(a+=r.substring(s,i.index)),a+=t.get(i[0].charCodeAt(0)),s=i.index+1;return a+r.substring(s)}}const V9=TC(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),$9=TC(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),W9=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Y9=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),K9=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function Q9(e){return e.replace(/"/g,"&quot;")}function X9(e,t){var n;if(!e)return;const r=((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)===!1?Q9:t.xmlMode||t.encodeEntities!=="utf8"?bC:V9;return Object.keys(e).map(i=>{var s,a;const o=(s=e[i])!==null&&s!==void 0?s:"";return t.xmlMode==="foreign"&&(i=(a=Y9.get(i))!==null&&a!==void 0?a:i),!t.emptyAttrs&&!t.xmlMode&&o===""?i:`${i}="${r(o)}"`}).join(" ")}const XT=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function uh(e,t={}){const n="length"in e?e:[e];let r="";for(let i=0;i<n.length;i++)r+=J9(n[i],t);return r}function J9(e,t){switch(e.type){case wg:return uh(e.children,t);case U9:case B9:return n7(e);case pC:return s7(e);case H9:return i7(e);case j9:case F9:case Yp:return t7(e,t);case hC:return r7(e,t)}}const Z9=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),e7=new Set(["svg","math"]);function t7(e,t){var n;t.xmlMode==="foreign"&&(e.name=(n=W9.get(e.name))!==null&&n!==void 0?n:e.name,e.parent&&Z9.has(e.parent.name)&&(t=oe(U({},t),{xmlMode:!1}))),!t.xmlMode&&e7.has(e.name)&&(t=oe(U({},t),{xmlMode:"foreign"}));let r=`<${e.name}`;const i=X9(e.attribs,t);return i&&(r+=` ${i}`),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&XT.has(e.name))?(t.xmlMode||(r+=" "),r+="/>"):(r+=">",e.children.length>0&&(r+=uh(e.children,t)),(t.xmlMode||!XT.has(e.name))&&(r+=`</${e.name}>`)),r}function n7(e){return`<${e.data}>`}function r7(e,t){var n;let r=e.data||"";return((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&K9.has(e.parent.name))&&(r=t.xmlMode||t.encodeEntities!=="utf8"?bC(r):$9(r)),r}function i7(e){return`<![CDATA[${e.children[0].data}]]>`}function s7(e){return`<!--${e.data}-->`}function EC(e,t){return uh(e,t)}function a7(e,t){return mn(e)?e.children.map(n=>EC(n,t)).join(""):""}function cd(e){return Array.isArray(e)?e.map(cd).join(""):Xe(e)?e.name==="br"?`
`:cd(e.children):sh(e)?cd(e.children):ki(e)?e.data:""}function ju(e){return Array.isArray(e)?e.map(ju).join(""):mn(e)&&!ah(e)?ju(e.children):ki(e)?e.data:""}function Pd(e){return Array.isArray(e)?e.map(Pd).join(""):mn(e)&&(e.type===Dt.Tag||sh(e))?Pd(e.children):ki(e)?e.data:""}function oh(e){return mn(e)?e.children:[]}function yC(e){return e.parent||null}function _C(e){const t=yC(e);if(t!=null)return oh(t);const n=[e];let{prev:r,next:i}=e;for(;r!=null;)n.unshift(r),{prev:r}=r;for(;i!=null;)n.push(i),{next:i}=i;return n}function u7(e,t){var n;return(n=e.attribs)===null||n===void 0?void 0:n[t]}function o7(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}function l7(e){return e.name}function Lg(e){let{next:t}=e;for(;t!==null&&!Xe(t);)({next:t}=t);return t}function Pg(e){let{prev:t}=e;for(;t!==null&&!Xe(t);)({prev:t}=t);return t}function Ja(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){const t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}function c7(e,t){const n=t.prev=e.prev;n&&(n.next=t);const r=t.next=e.next;r&&(r.prev=t);const i=t.parent=e.parent;if(i){const s=i.children;s[s.lastIndexOf(e)]=t,e.parent=null}}function d7(e,t){if(Ja(t),t.next=null,t.parent=e,e.children.push(t)>1){const n=e.children[e.children.length-2];n.next=t,t.prev=n}else t.prev=null}function f7(e,t){Ja(t);const{parent:n}=e,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){const i=n.children;i.splice(i.lastIndexOf(r),0,t)}}else n&&n.children.push(t)}function h7(e,t){if(Ja(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){const n=e.children[1];n.prev=t,t.next=n}else t.next=null}function p7(e,t){Ja(t);const{parent:n}=e;if(n){const r=n.children;r.splice(r.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}function rc(e,t,n=!0,r=1/0){return Mg(e,Array.isArray(t)?t:[t],n,r)}function Mg(e,t,n,r){const i=[],s=[Array.isArray(t)?t:[t]],a=[0];for(;;){if(a[0]>=s[0].length){if(a.length===1)return i;s.shift(),a.shift();continue}const o=s[0][a[0]++];if(e(o)&&(i.push(o),--r<=0))return i;n&&mn(o)&&o.children.length>0&&(a.unshift(0),s.unshift(o.children))}}function m7(e,t){return t.find(e)}function Bg(e,t,n=!0){const r=Array.isArray(t)?t:[t];for(let i=0;i<r.length;i++){const s=r[i];if(Xe(s)&&e(s))return s;if(n&&mn(s)&&s.children.length>0){const a=Bg(e,s.children,!0);if(a)return a}}return null}function xC(e,t){return(Array.isArray(t)?t:[t]).some(n=>Xe(n)&&e(n)||mn(n)&&xC(e,n.children))}function g7(e,t){const n=[],r=[Array.isArray(t)?t:[t]],i=[0];for(;;){if(i[0]>=r[0].length){if(r.length===1)return n;r.shift(),i.shift();continue}const s=r[0][i[0]++];Xe(s)&&e(s)&&n.push(s),mn(s)&&s.children.length>0&&(i.unshift(0),r.unshift(s.children))}}const Md={tag_name(e){return typeof e=="function"?t=>Xe(t)&&e(t.name):e==="*"?Xe:t=>Xe(t)&&t.name===e},tag_type(e){return typeof e=="function"?t=>e(t.type):t=>t.type===e},tag_contains(e){return typeof e=="function"?t=>ki(t)&&e(t.data):t=>ki(t)&&t.data===e}};function jg(e,t){return typeof t=="function"?n=>Xe(n)&&t(n.attribs[e]):n=>Xe(n)&&n.attribs[e]===t}function b7(e,t){return n=>e(n)||t(n)}function AC(e){const t=Object.keys(e).map(n=>{const r=e[n];return Object.prototype.hasOwnProperty.call(Md,n)?Md[n](r):jg(n,r)});return t.length===0?null:t.reduce(b7)}function T7(e,t){const n=AC(e);return n?n(t):!0}function E7(e,t,n,r=1/0){const i=AC(e);return i?rc(i,t,n,r):[]}function y7(e,t,n=!0){return Array.isArray(t)||(t=[t]),Bg(jg("id",e),t,n)}function no(e,t,n=!0,r=1/0){return rc(Md.tag_name(e),t,n,r)}function _7(e,t,n=!0,r=1/0){return rc(jg("class",e),t,n,r)}function x7(e,t,n=!0,r=1/0){return rc(Md.tag_type(e),t,n,r)}function A7(e){let t=e.length;for(;--t>=0;){const n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0){e.splice(t,1);continue}for(let r=n.parent;r;r=r.parent)if(e.includes(r)){e.splice(t,1);break}}return e}var zr;(function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"})(zr||(zr={}));function CC(e,t){const n=[],r=[];if(e===t)return 0;let i=mn(e)?e:e.parent;for(;i;)n.unshift(i),i=i.parent;for(i=mn(t)?t:t.parent;i;)r.unshift(i),i=i.parent;const s=Math.min(n.length,r.length);let a=0;for(;a<s&&n[a]===r[a];)a++;if(a===0)return zr.DISCONNECTED;const o=n[a-1],u=o.children,c=n[a],l=r[a];return u.indexOf(c)>u.indexOf(l)?o===t?zr.FOLLOWING|zr.CONTAINED_BY:zr.FOLLOWING:o===e?zr.PRECEDING|zr.CONTAINS:zr.PRECEDING}function ro(e){return e=e.filter((t,n,r)=>!r.includes(t,n+1)),e.sort((t,n)=>{const r=CC(t,n);return r&zr.PRECEDING?-1:r&zr.FOLLOWING?1:0}),e}function C7(e){const t=Bd(I7,e);return t?t.name==="feed"?S7(t):N7(t):null}function S7(e){var t;const n=e.children,r={type:"atom",items:no("entry",n).map(a=>{var o;const{children:u}=a,c={media:SC(u)};xr(c,"id","id",u),xr(c,"title","title",u);const l=(o=Bd("link",u))===null||o===void 0?void 0:o.attribs.href;l&&(c.link=l);const d=Rs("summary",u)||Rs("content",u);d&&(c.description=d);const h=Rs("updated",u);return h&&(c.pubDate=new Date(h)),c})};xr(r,"id","id",n),xr(r,"title","title",n);const i=(t=Bd("link",n))===null||t===void 0?void 0:t.attribs.href;i&&(r.link=i),xr(r,"description","subtitle",n);const s=Rs("updated",n);return s&&(r.updated=new Date(s)),xr(r,"author","email",n,!0),r}function N7(e){var t,n;const r=(n=(t=Bd("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&n!==void 0?n:[],i={type:e.name.substr(0,3),id:"",items:no("item",e.children).map(a=>{const{children:o}=a,u={media:SC(o)};xr(u,"id","guid",o),xr(u,"title","title",o),xr(u,"link","link",o),xr(u,"description","description",o);const c=Rs("pubDate",o)||Rs("dc:date",o);return c&&(u.pubDate=new Date(c)),u})};xr(i,"title","title",r),xr(i,"link","link",r),xr(i,"description","description",r);const s=Rs("lastBuildDate",r);return s&&(i.updated=new Date(s)),xr(i,"author","managingEditor",r,!0),i}const v7=["url","type","lang"],w7=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function SC(e){return no("media:content",e).map(t=>{const{attribs:n}=t,r={medium:n.medium,isDefault:!!n.isDefault};for(const i of v7)n[i]&&(r[i]=n[i]);for(const i of w7)n[i]&&(r[i]=parseInt(n[i],10));return n.expression&&(r.expression=n.expression),r})}function Bd(e,t){return no(e,t,!0,1)[0]}function Rs(e,t,n=!1){return ju(no(e,t,n,1)).trim()}function xr(e,t,n,r,i=!1){const s=Rs(n,r,i);s&&(e[t]=s)}function I7(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}const lh=Object.freeze(Object.defineProperty({__proto__:null,get DocumentPosition(){return zr},append:f7,appendChild:d7,compareDocumentPosition:CC,existsOne:xC,filter:rc,find:Mg,findAll:g7,findOne:Bg,findOneChild:m7,getAttributeValue:u7,getChildren:oh,getElementById:y7,getElements:E7,getElementsByClassName:_7,getElementsByTagName:no,getElementsByTagType:x7,getFeed:C7,getInnerHTML:a7,getName:l7,getOuterHTML:EC,getParent:yC,getSiblings:_C,getText:cd,hasAttrib:o7,hasChildren:mn,innerText:Pd,isCDATA:sh,isComment:ah,isDocument:Ks,isTag:Xe,isText:ki,nextElementSibling:Lg,prepend:p7,prependChild:h7,prevElementSibling:Pg,removeElement:Ja,removeSubsets:A7,replaceElement:c7,testElement:T7,textContent:ju,uniqueSort:ro},Symbol.toStringTag,{value:"Module"}));var u0,JT;function k7(){if(JT)return u0;JT=1;var e=function(T){return t(T)&&!n(T)};function t(b){return!!b&&typeof b=="object"}function n(b){var T=Object.prototype.toString.call(b);return T==="[object RegExp]"||T==="[object Date]"||s(b)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(b){return b.$$typeof===i}function a(b){return Array.isArray(b)?[]:{}}function o(b,T){return T.clone!==!1&&T.isMergeableObject(b)?x(a(b),b,T):b}function u(b,T,N){return b.concat(T).map(function(g){return o(g,N)})}function c(b,T){if(!T.customMerge)return x;var N=T.customMerge(b);return typeof N=="function"?N:x}function l(b){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(b).filter(function(T){return Object.propertyIsEnumerable.call(b,T)}):[]}function d(b){return Object.keys(b).concat(l(b))}function h(b,T){try{return T in b}catch(N){return!1}}function f(b,T){return h(b,T)&&!(Object.hasOwnProperty.call(b,T)&&Object.propertyIsEnumerable.call(b,T))}function p(b,T,N){var g={};return N.isMergeableObject(b)&&d(b).forEach(function(y){g[y]=o(b[y],N)}),d(T).forEach(function(y){f(b,y)||(h(b,y)&&N.isMergeableObject(T[y])?g[y]=c(y,N)(b[y],T[y],N):g[y]=o(T[y],N))}),g}function x(b,T,N){N=N||{},N.arrayMerge=N.arrayMerge||u,N.isMergeableObject=N.isMergeableObject||e,N.cloneUnlessOtherwiseSpecified=o;var g=Array.isArray(T),y=Array.isArray(b),E=g===y;return E?g?N.arrayMerge(b,T,N):p(b,T,N):o(T,N)}x.all=function(T,N){if(!Array.isArray(T))throw new Error("first argument should be an array");return T.reduce(function(g,y){return x(g,y,N)},{})};var _=x;return u0=_,u0}k7();const O7=({closeFnc:e,isOpen:t,handleSubmit:n,errors:r,setErrors:i,formData:s,setFormData:a})=>{var F,G,$,P;const o=oi(K6),[u,c]=q.useState(0),[l,d]=q.useState([]),[h,f]=q.useState(!1),[p,x]=q.useState([]),[_,b]=q.useState(!1),[T,N]=q.useState(!1),g=T?s.keywords:s.keywords.slice(0,18),y=Vf();q.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);const E=()=>{if(u===0&&!l){i(j=>oe(U({},j),{template:!0})),de.error("Please select a template before proceeding.");return}i(j=>oe(U({},j),{template:!1})),c(1)},I=()=>c(0),R=()=>e(),L=q.useCallback(j=>{d(j),a(W=>{var H;return oe(U({},W),{template:((H=j==null?void 0:j[0])==null?void 0:H.name)||""})}),i(W=>oe(U({},W),{template:!1}))},[]),S=(j,W)=>{a(H=>oe(U({},H),{[W]:j.target.value})),i(H=>oe(U({},H),{[W]:!1}))},A=j=>{a(W=>oe(U({},W),{tone:j})),i(W=>oe(U({},W),{tone:!1}))},w=(j,W)=>{const H=W==="keywords"?"keywordInput":"focusKeywordInput";a(Z=>oe(U({},Z),{[H]:j.target.value})),i(Z=>oe(U({},Z),{[W]:!1}))},O=j=>{const W=j==="keywords"?"keywordInput":"focusKeywordInput",H=s[W].trim();if(!H){i(ae=>oe(U({},ae),{[j]:!0})),de.error("Please enter a keyword.");return}const Z=new Set(s[j].map(ae=>ae.trim().toLowerCase())),ee=H.split(",").map(ae=>ae.trim()).filter(ae=>ae&&!Z.has(ae.toLowerCase()));if(ee.length===0){i(ae=>oe(U({},ae),{[j]:!0})),de.error("Please enter valid, non-duplicate keywords separated by commas.");return}if(j==="focusKeywords"&&s[j].length+ee.length>3){i(ae=>oe(U({},ae),{[j]:!0})),de.error("You can only add up to 3 focus keywords.");return}a(ae=>oe(U({},ae),{[j]:[...ae[j],...ee],[W]:""})),i(ae=>oe(U({},ae),{[j]:!1}))},D=(j,W)=>{const H=[...s[W]];H.splice(j,1),a(oe(U({},s),{[W]:H}))},B=(j,W)=>{j.key==="Enter"&&(j.preventDefault(),O(W))},M=()=>bt(null,null,function*(){if(!s.topic.trim()){i(j=>oe(U({},j),{topic:!0})),de.error("Please enter a topic before generating titles.");return}if(s.focusKeywords.length<1&&s.keywords.length<1){i(j=>oe(U({},j),{focusKeywords:!0,keywords:!0})),de.error("Please add at least one focus keyword or secondary keyword.");return}f(!0);try{const j=yield y(Q6(U({keywords:s.focusKeywords,focusKeywords:s.keywords,topic:s.topic,template:l},_&&{oldTitles:p}))).unwrap();x(j),b(!0),de.success("Titles generated successfully!")}catch(j){console.error("Failed to generate titles:",j),de.error((j==null?void 0:j.message)||"Failed to generate titles. Please try again.")}finally{f(!1)}});return q.useEffect(()=>{b(!1),x([])},[]),m.jsx(hn,{title:u===0?"Select Template":"Create Simple Blog",open:t,onCancel:R,footer:u===0?[m.jsx("button",{onClick:E,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90","aria-label":"Proceed to next step",children:"Next"},"next")]:[m.jsx("button",{onClick:I,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300","aria-label":"Go to previous step",children:"Previous"},"previous"),m.jsx("button",{onClick:n,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3","aria-label":"Submit blog",children:"Submit"},"submit")],width:800,centered:!0,children:m.jsxs("div",{className:"p-2",children:[u===0&&m.jsxs("div",{className:"p-3",children:[m.jsx(gI,{userSubscriptionPlan:((F=o==null?void 0:o.subscription)==null?void 0:F.plan)||"free",preSelectedIds:l==null?void 0:l.map(j=>(j==null?void 0:j.id)||""),onClick:L}),r.template&&m.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Please select a template."})]}),u===1&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Topic ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx(Ct,{value:s.topic,onChange:j=>S(j,"topic"),placeholder:"Enter blog topic...",className:`w-full px-3 py-2 border ${r.topic?"border-red-500":"border-gray-200"} rounded-md text-sm focus:ring-2 focus:ring-blue-600`,"aria-label":"Blog topic"}),r.topic&&m.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Topic cannot be empty."})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tone ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsxs(Ar,{value:s.tone,onChange:A,className:`w-full ${r.tone?"border-red-500":""}`,"aria-label":"Blog tone",children:[m.jsx(Ar.Option,{value:"Informative",children:"Informative"}),m.jsx(Ar.Option,{value:"Casual",children:"Casual"}),m.jsx(Ar.Option,{value:"Professional",children:"Professional"}),m.jsx(Ar.Option,{value:"Persuasive",children:"Persuasive"}),m.jsx(Ar.Option,{value:"Humorous",children:"Humorous"})]}),r.tone&&m.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Tone cannot be empty."})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Focus Keywords (max 3) ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Ct,{value:s.focusKeywordInput,onChange:j=>w(j,"focusKeywords"),onKeyDown:j=>B(j,"focusKeywords"),placeholder:"Enter focus keywords, separated by commas",className:`flex-1 px-3 py-2 border ${r.focusKeywords?"border-red-500":"border-gray-200"} rounded-md text-sm focus:ring-2 focus:ring-blue-600`,"aria-label":"Focus keywords"}),m.jsx("button",{onClick:()=>O("focusKeywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center","aria-label":"Add focus keyword",children:m.jsx(kn,{size:16})})]}),m.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.focusKeywords.map((j,W)=>m.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[j,m.jsx("button",{onClick:()=>D(W,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove focus keyword ${j}`,children:m.jsx(zs,{size:16})})]},W))})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Keywords ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Ct,{value:s.keywordInput,onChange:j=>w(j,"keywords"),onKeyDown:j=>B(j,"keywords"),placeholder:"Enter secondary keywords, separated by commas",className:`flex-1 px-3 py-2 border ${r.keywords?"border-red-500":"border-gray-200"} rounded-md text-sm focus:ring-2 focus:ring-blue-600`,"aria-label":"Secondary keywords"}),m.jsx("button",{onClick:()=>O("keywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center","aria-label":"Add keyword",children:m.jsx(kn,{size:16})})]}),m.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[g.map((j,W)=>m.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[j,m.jsx("button",{onClick:()=>D(W,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove keyword ${j}`,children:m.jsx(zs,{size:16})})]},`${j}-${W}`)),s.keywords.length>18&&m.jsx("span",{onClick:()=>N(j=>!j),className:"text-xs font-medium text-blue-600 self-center cursor-pointer flex items-center gap-1",children:T?m.jsx(m.Fragment,{children:"Show less"}):m.jsxs(m.Fragment,{children:["+",s.keywords.length-18," more"]})})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(Ct,{value:s.title,onChange:j=>S(j,"title"),placeholder:"Enter blog title...",className:`w-full px-3 flex-1 py-2 border ${r.title?"border-red-500":"border-gray-200"} rounded-md text-sm focus:ring-2 focus:ring-blue-600`,"aria-label":"Blog title"}),m.jsx("button",{onClick:M,disabled:h,className:`px-4 py-2 bg-gradient-to-r from-[#1B6FC9] to-[#4C9FE8] text-white rounded-lg flex items-center ${h?"opacity-50 cursor-not-allowed":"hover:from-[#1B6FC9]/90 hover:to-[#4C9FE8]/90"}`,children:h?m.jsx(ix,{size:"small text-white"}):_?m.jsxs(m.Fragment,{children:[m.jsx(bI,{size:16,className:"mr-2"}),"Generate More"]}):m.jsxs(m.Fragment,{children:[m.jsx(ls,{size:16,className:"mr-2"}),"Generate Titles"]})})]}),p.length>0&&m.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:p.map((j,W)=>{const H=j===s.title;return m.jsx("div",{className:"relative group",children:m.jsx("button",{type:"button",onClick:()=>{a(Z=>oe(U({},Z),{title:j})),i(Z=>oe(U({},Z),{title:!1}))},className:`px-3 py-1 rounded-full text-sm border transition truncate max-w-[200px] sm:max-w-[300px] ${H?"bg-[#1B6FC9] text-white border-[#1B6FC9]":"bg-gray-100 text-gray-700 border-gray-300 opacity-60 hover:opacity-100 hover:bg-gray-200"}`,"aria-label":`Select title: ${j}`,children:j})},W)})})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Choose length of Blog ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"range",min:"500",max:"5000",value:(G=s.userDefinedLength)!=null?G:1e3,onChange:j=>S(j,"userDefinedLength"),placeholder:"Enter desired word count...",className:"w-full h-1 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${((($=s==null?void 0:s.userDefinedLength)!=null?$:1e3)-500)/45}%, #e5e7eb 0%)`},"aria-label":"Desired word count"}),m.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[(P=s==null?void 0:s.userDefinedLength)!=null?P:1e3," words"]})]})]})]})})},D7=["Blogging","Technology","Lifestyle","Travel","Food & Drink","Health & Wellness","Fashion","Business","Education","Entertainment","Photography","Fitness","Marketing","Finance","DIY & Crafts"],R7=({isCategoryModalOpen:e,setIsCategoryModalOpen:t,onSubmit:n,initialIncludeTableOfContents:r=!1,integrations:i,blogData:s,posted:a})=>{var $;const[o,u]=q.useState(""),[c,l]=q.useState(""),[d,h]=q.useState(r),[f,p]=q.useState(!1),[x,_]=q.useState(!1),[b,T]=q.useState({category:"",platform:""}),{categories:N,error:g}=oi(P=>P.wordpress),[y,E]=q.useState(null),[I,R]=q.useState(!1),L=!!(($=a==null?void 0:a.SHOPIFY)!=null&&$.link),S=Vf();q.useEffect(()=>{y!=null&&y.platform&&S(X6(y.platform.toUpperCase())).unwrap()},[S,y==null?void 0:y.platform]);const A=(P,j)=>{E({platform:P.toLowerCase(),rawPlatform:P,url:j}),_(!1),T(W=>oe(U({},W),{platform:""})),R(P==="SHOPIFY"?!!L:!1)},w=q.useCallback(P=>{c||(l(P),p(!1),T(j=>oe(U({},j),{category:""})))},[c]),O=q.useCallback(()=>{l(""),p(!1),T(P=>oe(U({},P),{category:""}))},[]);q.useCallback(()=>{if(o.trim()){if(c===o.trim()){de.error("Category already selected.");return}l(o.trim()),u(""),p(!1)}},[o,c]);const D=q.useCallback(P=>{h(P.target.checked)},[]),B=q.useCallback(()=>{const P={category:"",platform:""};let j=!0;return i!=null&&i.integrations&&Object.keys(i.integrations).length>0&&(y?_(!1):(P.platform="Please select a publishing platform",_(!0),j=!1)),!c||c.trim()===""?(P.category="Please select or enter a category",p(!0),j=!1):c.length>50?(P.category="Category name must be less than 50 characters",p(!0),j=!1):c.length<2?(P.category="Category name must be at least 2 characters",p(!0),j=!1):p(!1),T(P),j},[c,y,i]),M=q.useCallback(()=>{if(!B()){b.platform?de.error(b.platform):b.category&&de.error(b.category);return}n({category:c.trim(),includeTableOfContents:d,type:{platform:y==null?void 0:y.rawPlatform,url:y==null?void 0:y.url}}),t(!1),l(""),h(!1),u(""),p(!1),_(!1),T({category:"",platform:""})},[B,b,c,d,y,n,t]),F=q.useCallback(()=>{t(!1),l(""),h(!1),u(""),p(!1),_(!1),T({category:"",platform:""})},[t]),G=q.useCallback(P=>{if(P.length>1){de.error("Only one category can be selected.");return}const j=P.length>0?P[0]:"";l(j),p(!1),T(W=>oe(U({},W),{category:""}))},[]);return q.useEffect(()=>{e||(l(""),E(null),h(r),u(""),p(!1),_(!1),T({category:"",platform:""}),R(!1),S(J6()))},[e,r,S]),q.useEffect(()=>{if(!e)return;const P=a==null?void 0:a.SHOPIFY;if(P!=null&&P.link){R(!0),l((s==null?void 0:s.category)||""),E({platform:"shopify",rawPlatform:"SHOPIFY",url:(P==null?void 0:P.url)||""});return}if(P&&!P.link){R(!1),l(""),E({platform:"shopify",rawPlatform:"SHOPIFY",url:(P==null?void 0:P.url)||""});return}const j=Object.entries(a||{}).find(([W,H])=>W!=="SHOPIFY"&&(H==null?void 0:H.link));if(j){const[W,H]=j;R(!1),l(""),E({platform:W.toLowerCase(),rawPlatform:W,url:(H==null?void 0:H.url)||""});return}R(!1),l(""),E(null)},[e,a,s]),m.jsx(hn,{title:"Select Category",open:e,onCancel:F,footer:m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx(He,{onClick:F,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-200 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-label":"Cancel category selection",children:"Cancel"}),m.jsx(He,{type:"primary",onClick:M,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-label":"Confirm category selection",children:"Confirm"})]}),centered:!0,width:600,children:m.jsxs("div",{className:"p-3 space-y-4",children:[(i==null?void 0:i.integrations)&&Object.keys(i.integrations).length>0&&m.jsxs("div",{children:[m.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Select Your Publishing Platform",m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Post your blog automatically to connected platforms only."})]}),m.jsx(Ar,{className:`w-full mt-2 ${x?"border-red-500":""}`,placeholder:"Select platform",value:(y==null?void 0:y.rawPlatform)||void 0,onChange:P=>{const j=i.integrations[P];A(P,j==null?void 0:j.url)},status:x?"error":"",children:Object.entries(i.integrations).map(([P,j])=>m.jsx(Option,{value:P,children:P},P))}),x&&b.platform&&m.jsx(jn.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-2 text-sm text-red-500",children:b.platform})]}),m.jsx(eg,{children:c&&m.jsxs(jn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-2 px-3 py-1.5 bg-blue-500 text-white rounded-full text-sm w-fit",children:[m.jsx("span",{className:"truncate max-w-[150px]",children:c}),!I&&m.jsx(jn.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:O,className:"text-white hover:text-gray-200","aria-label":`Remove category ${c}`,children:m.jsx(zs,{size:15})})]})}),!g&&(N==null?void 0:N.length)>0&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Auto-Generated Categories"}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 overflow-y-auto p-3 rounded-md border border-indigo-200 bg-indigo-50 max-h-96",children:N.map(P=>m.jsxs(jn.div,{onClick:()=>!I&&w(P),whileHover:{scale:1.02,backgroundColor:"#e0e7ff"},className:`flex items-center justify-between p-3 rounded-md bg-white border ${f&&!c?"border-red-500":"border-indigo-200"} text-sm font-medium cursor-pointer transition-all duration-200 ${c===P?"bg-indigo-100 border-indigo-400":c?"opacity-50 cursor-not-allowed":""}`,children:[m.jsx("span",{className:"truncate",children:P}),!c&&m.jsx(jn.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"text-indigo-600 hover:text-indigo-700","aria-label":`Add category ${P}`,children:m.jsx(kn,{size:16})})]},P))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Select or Add Category"}),m.jsx(Ar,{mode:"tags",placeholder:"Select or type a category",value:c?[c]:[],onChange:G,disabled:I,className:"w-full",allowClear:!0,showSearch:!0,status:f?"error":"",filterOption:(P,j)=>j.label.toLowerCase().includes(P.toLowerCase()),options:D7.map(P=>({value:P,label:P})),styles:{popup:{root:{borderRadius:"8px"}}},"aria-label":"Select or add a category"}),f&&b.category&&m.jsx(jn.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-2 text-sm text-red-500",children:b.category})]}),(y==null?void 0:y.platform)==="shopify"&&m.jsx("div",{className:`p-3 rounded-md text-sm ${I?"bg-red-100 text-red-700 border border-red-300":"bg-blue-100 text-blue-700 border border-blue-300"}`,children:I?"This blog was already published on Shopify. Category is locked and cannot be changed.":"Once you publish on Shopify, the category becomes permanent and cannot be changed later."}),m.jsxs("div",{className:"flex items-center justify-between py-2",children:[m.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Table of Contents",m.jsx("p",{className:"text-xs text-gray-500",children:"Generate a table of contents for each blog."})]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",name:"includeTableOfContents",checked:d,onChange:D,className:"sr-only peer","aria-label":"Toggle table of contents"}),m.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})})},ZT=({title:e,score:t,icon:n})=>{const r=i=>i>=80?"bg-green-100 text-green-700 border-green-200":i>=60?"bg-yellow-100 text-yellow-700 border-yellow-200":"bg-red-100 text-red-700 border-red-200";return m.jsxs("div",{className:`p-3 rounded-lg border ${r(t||0)}`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(n,{className:"w-4 h-4"}),m.jsx("span",{className:"text-sm font-medium",children:e})]}),t>0&&m.jsxs("span",{className:"text-lg font-bold",children:[Math.round(t),m.jsx("span",{className:"text-xs ml-1",children:"/100"})]})]}),(t||0)===0?m.jsx("p",{className:"text-xs text-gray-500 text-center p-2 bg-gray-50 rounded-lg",children:"Run Competitive Analysis to get score"}):m.jsx("div",{className:"w-full bg-white/50 rounded-full h-2",children:m.jsx("div",{style:{width:`${t}%`,transition:"width 0.5s ease"},className:`h-2 rounded-full ${t>=80?"bg-green-500":t>=60?"bg-yellow-500":"bg-red-500"}`})})]})},L7=({competitors:e})=>{const[t,n]=q.useState(!1),r=t?e:e==null?void 0:e.slice(0,5);return m.jsxs("div",{className:"space-y-2 relative",children:[(e==null?void 0:e.length)>5&&m.jsx("span",{className:"absolute top-0 right-0 text-[10px] bg-blue-100 text-blue-600 px-2 py-0.5 rounded-full",children:e.length}),r==null?void 0:r.map((i,s)=>m.jsxs(jn.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:s*.05},className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[m.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:m.jsx("span",{className:"text-xs font-medium text-blue-600",children:s+1})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-sm font-medium mb-1 text-gray-900 truncate",children:i.title}),m.jsxs("a",{href:i.link||i.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[i.score&&m.jsxs(_I,{color:"blue",children:[(i.score*100).toFixed(2),"%"]}),"Visit ",m.jsx(_l,{className:"w-3 h-3"})]})]})]},s)),(e==null?void 0:e.length)>5&&!t&&m.jsxs("button",{onClick:()=>n(!0),className:"text-xs text-blue-600 hover:text-blue-700 text-center w-full",children:["+",e.length-5," more competitors"]})]})},P7=Li.forwardRef(({suggestion:e,index:t,onApply:n,onReject:r},i)=>m.jsx("div",{ref:i,className:"border border-gray-200 rounded-lg p-3 bg-white hover:shadow-sm transition-shadow",children:m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(xI,{className:"w-4 h-4 text-orange-500"}),m.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Original"})]}),m.jsx("div",{className:"p-2 bg-red-50 border border-red-100 rounded text-xs text-gray-700 leading-relaxed",children:e.original})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(AI,{className:"w-4 h-4 text-green-500"}),m.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Suggested"})]}),m.jsx("div",{className:"p-2 bg-green-50 border border-green-100 rounded text-xs text-gray-700 leading-relaxed",children:e.change})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(He,{size:"small",type:"primary",onClick:()=>n(t,e),className:"flex-1 !bg-gradient-to-r !from-green-500 !to-emerald-600 !border-0",children:"Accept"}),m.jsx(He,{size:"small",onClick:()=>r(t),className:"flex-1",children:"Reject"})]})]})}));P7.displayName="ProofreadingSuggestion";const M7=[{id:"gemini",label:"Gemini",logo:"/Images/gemini.webp",restrictedPlans:[]},{id:"openai",label:"ChatGPT",logo:"/Images/chatgpt.webp",restrictedPlans:["free"]},{id:"claude",label:"Claude",logo:"/Images/claude.webp",restrictedPlans:["free","basic"]}],B7=({isOpen:e,onClose:t,onSubmit:n,isRegenerating:r,regenForm:i,updateRegenField:s,userPlan:a,integrations:o})=>{var g,y;const u=Ql(),[c,l]=q.useState(1),[d,h]=q.useState(""),[f,p]=q.useState(""),x=q.useCallback(()=>{const E=[];i.useBrandVoice&&E.push("brandVoice"),i.options.includeCompetitorResearch&&E.push("competitorResearch"),i.options.performKeywordResearch&&E.push("keywordResearch"),i.options.includeFaqs&&E.push("faqGeneration"),i.options.includeInterlinks&&E.push("internalLinking"),i.isCheckedQuick&&E.push("quickSummary"),i.wordpressPostStatus&&E.push("automaticPosting");let I=ax({wordCount:i.userDefinedLength||1e3,features:E,aiModel:i.aiModel||"gemini",includeImages:i.isCheckedGeneratedImages,imageSource:i.imageSource,numberOfImages:i.numberOfImages||3,isCheckedBrand:i.useBrandVoice});return i.costCutter&&(I=Math.round(I*.75)),I},[i]),_=E=>{const I=E==="focus"?f:d,R=E==="focus"?"focusKeywords":"keywords";if(!I.trim())return;const L=i[R].map(A=>A.toLowerCase()),S=I.split(",").map(A=>A.trim().toLowerCase()).filter(A=>A&&!L.includes(A));if(E==="focus"&&i.focusKeywords.length+S.length>3)return de.warning("Max 3 focus keywords");S.length>0&&s(R,[...i[R],...S]),E==="focus"?p(""):h("")},b=(E,I)=>{const R=E==="focus"?"focusKeywords":"keywords";s(R,i[R].filter((L,S)=>S!==I))},T=()=>{l(1),t()},N=()=>{n(),l(1)};return m.jsx(hn,{title:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(xl,{className:"w-5 h-5 text-blue-600"}),m.jsxs("span",{className:"text-sm font-semibold",children:["Regenerate Blog - Step ",c," of 2"]})]}),open:e,onCancel:T,footer:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("div",{className:"text-sm text-gray-500",children:m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(NI,{className:"w-4 h-4 text-amber-500"}),m.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Estimated Cost:"}),m.jsxs("span",{className:"font-bold text-blue-600 text-sm",children:[x()," credits"]})]})}),m.jsxs("div",{className:"flex gap-2",children:[c===2&&m.jsx(He,{size:"large",onClick:()=>l(1),children:"Back"}),c===1?m.jsx(He,{type:"primary",size:"large",onClick:()=>l(2),className:"bg-gradient-to-r from-blue-500 to-indigo-600 border-0",children:"Next: Enhancement Options"}):m.jsx(He,{type:"primary",size:"large",loading:r,onClick:N,icon:m.jsx(xl,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-blue-600 to-purple-600 border-0",children:"Regenerate Blog"})]})]}),centered:!0,width:650,children:m.jsx(ix,{spinning:r,tip:"Processing...",children:c===1?m.jsxs("div",{className:"space-y-5 max-h-[60vh] overflow-y-auto custom-scroll pr-2",children:[m.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Configure your blog regeneration settings. You can modify the topic, keywords, tone, and other options."}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Topic"}),m.jsx(Ct,{size:"large",value:i.topic,onChange:E=>s("topic",E.target.value),placeholder:"Blog topic..."})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Perform Keyword Research"}),m.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"AI will auto-generate title and keywords based on your topic"})]}),m.jsx(Ti,{checked:i.options.performKeywordResearch,onChange:E=>s("options.performKeywordResearch",E)})]}),!i.options.performKeywordResearch&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Title"}),m.jsx(Ct,{size:"large",value:i.title,onChange:E=>s("title",E.target.value),placeholder:"Blog title..."})]})]}),!i.options.performKeywordResearch&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Focus Keywords (max 3)"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Ct,{size:"large",value:f,onChange:E=>p(E.target.value),onKeyDown:E=>E.key==="Enter"&&(E.preventDefault(),_("focus")),placeholder:"Add keyword..."}),m.jsx(He,{type:"primary",size:"large",onClick:()=>_("focus"),icon:m.jsx(kn,{className:"w-4 h-4"})})]}),m.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.focusKeywords.map((E,I)=>m.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:[E,m.jsx("button",{onClick:()=>b("focus",I),children:m.jsx(zs,{className:"w-3.5 h-3.5"})})]},I))})]}),!i.options.performKeywordResearch&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Keywords"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Ct,{size:"large",value:d,onChange:E=>h(E.target.value),onKeyDown:E=>E.key==="Enter"&&(E.preventDefault(),_("secondary")),placeholder:"Add keywords..."}),m.jsx(He,{type:"primary",size:"large",onClick:()=>_("secondary"),icon:m.jsx(kn,{className:"w-4 h-4"})})]}),m.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.keywords.map((E,I)=>m.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-gray-100 text-gray-600 rounded-full text-sm font-medium",children:[E,m.jsx("button",{onClick:()=>b("secondary",I),children:m.jsx(zs,{className:"w-3.5 h-3.5"})})]},I))})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Tone"}),m.jsx(Ar,{size:"large",value:i.tone,onChange:E=>s("tone",E),options:TI.map(E=>({label:E,value:E})),className:"w-full"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Word Count"}),m.jsx(Ar,{size:"large",value:i.userDefinedLength,onChange:E=>s("userDefinedLength",E),options:[{label:"500 words",value:500},{label:"1,000 words",value:1e3},{label:"1,500 words",value:1500},{label:"2,000 words",value:2e3},{label:"2,500 words",value:2500},{label:"3,000 words",value:3e3},{label:"3,500 words",value:3500},{label:"4,000 words",value:4e3},{label:"4,500 words",value:4500},{label:"5,000 words",value:5e3}],className:"w-full"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"AI Model"}),m.jsx("div",{className:"grid grid-cols-3 gap-3",children:M7.map(E=>m.jsxs("button",{onClick:()=>{E.restrictedPlans.includes(a)?CI({featureName:E.label,navigate:u}):s("aiModel",E.id)},className:`p-3 rounded-lg border-2 text-center text-sm font-medium transition-all ${i.aiModel===E.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} ${E.restrictedPlans.includes(a)?"opacity-50":""}`,children:[m.jsx("img",{src:E.logo,alt:E.label,className:"w-6 h-6 mx-auto mb-1.5"}),E.label]},E.id))})]}),m.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[m.jsx("label",{className:"text-sm font-semibold text-gray-700 block",children:"Add Images"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white border-2 rounded-lg cursor-pointer hover:border-blue-300 transition-all",children:[m.jsx("input",{type:"radio",name:"imageSource",checked:!i.isCheckedGeneratedImages,onChange:()=>{s("isCheckedGeneratedImages",!1),s("imageSource",bu.NONE)},className:"w-4 h-4"}),m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"None"})]}),m.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white border-2 rounded-lg cursor-pointer hover:border-blue-300 transition-all",children:[m.jsx("input",{type:"radio",name:"imageSource",checked:i.isCheckedGeneratedImages&&i.imageSource===bu.STOCK,onChange:()=>{s("isCheckedGeneratedImages",!0),s("imageSource",bu.STOCK)},className:"w-4 h-4"}),m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Stock Images"})]}),m.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white border-2 rounded-lg cursor-pointer hover:border-blue-300 transition-all",children:[m.jsx("input",{type:"radio",name:"imageSource",checked:i.isCheckedGeneratedImages&&i.imageSource===bu.AI,onChange:()=>{s("isCheckedGeneratedImages",!0),s("imageSource",bu.AI)},className:"w-4 h-4"}),m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"AI Generated"})]})]}),i.isCheckedGeneratedImages&&m.jsxs("div",{className:"pt-2",children:[m.jsxs("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:["Number of Images: ",(g=i.numberOfImages)!=null?g:0]}),m.jsx(SI,{size:"large",min:0,max:20,value:(y=i.numberOfImages)!=null?y:0,onChange:E=>s("numberOfImages",E!=null?E:0),className:"w-full"})]})]})]}):m.jsxs("div",{className:"space-y-5 max-h-[60vh] overflow-y-auto custom-scroll pr-2 p-4",children:[m.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Content Enhancement Options"}),m.jsx("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-blue-50 rounded-lg border border-purple-200",children:m.jsx(yI,{label:"Write with Brand Voice",size:"default",labelClass:"text-sm font-semibold text-gray-700",value:{isCheckedBrand:i.useBrandVoice,brandId:i.brandId,addCTA:i.addCTA},onChange:E=>{s("useBrandVoice",E.isCheckedBrand),s("brandId",E.brandId),s("addCTA",E.addCTA)}})}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center gap-3 mt-3",children:m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add FAQs (Frequently Asked Questions)"})}),m.jsx(Ti,{checked:i.options.includeFaqs,onChange:E=>s("options.includeFaqs",E)})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center gap-3 mt-3",children:m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Include Interlinks"})}),m.jsx(Ti,{checked:i.options.includeInterlinks,onChange:E=>s("options.includeInterlinks",E)})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center gap-3 mt-3",children:m.jsx("div",{children:m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Perform Competitive Research"})})}),m.jsx(Ti,{checked:i.options.includeCompetitorResearch,onChange:E=>s("options.includeCompetitorResearch",E)})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center gap-3 mt-3",children:m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Outbound Links"})}),m.jsx(Ti,{checked:i.options.addOutBoundLinks,onChange:E=>s("options.addOutBoundLinks",E)})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center gap-3 mt-3",children:m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add a Quick Summary"})}),m.jsx(Ti,{checked:i.isCheckedQuick,onChange:E=>s("isCheckedQuick",E)})]}),m.jsxs("div",{className:"",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center gap-3 mt-3",children:m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Enable Automate Posting"})}),m.jsx(Ti,{checked:i.wordpressPostStatus,onChange:E=>s("wordpressPostStatus",E)})]}),i.wordpressPostStatus&&m.jsxs("div",{className:"mt-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Table of Content"}),m.jsx(Ti,{checked:i.includeTableOfContents,onChange:E=>s("includeTableOfContents",E)})]}),m.jsx("label",{className:"text-sm font-medium text-gray-600 block my-2 mt-6",children:"Choose Platform"}),m.jsx(Ar,{className:"w-full mb-3",placeholder:"Select Platform",value:i.postingType,onChange:E=>s("postingType",E),options:[{label:"WORDPRESS",value:"WORDPRESS"},{label:"SERVERENDPOINT",value:"SERVERENDPOINT"},{label:"SHOPIFY",value:"SHOPIFY"}]})]})]}),m.jsxs("div",{className:"flex items-center justify-between py-4 px-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg hover:from-green-100 hover:to-emerald-100 trans mt-3ition-colors border-2 border-green-200",children:[m.jsx("div",{className:"flex items-center gap-3",children:m.jsxs("div",{children:[m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Cost Cutter"}),m.jsx("span",{className:"ml-2 text-sm text-green-600 font-semibold",children:"Save 25%"}),m.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Reduce credits by 25% with optimized generation"})]})}),m.jsx(Ti,{checked:i.costCutter,onChange:E=>s("costCutter",E)})]})]})]})})})},j7={_useHtmlParser2:!1};function Qp(e,t){if(!e)return t!=null?t:j7;const n=U(U({_useHtmlParser2:!!e.xmlMode},t),e);return e.xml?(n._useHtmlParser2=!0,n.xmlMode=!0,e.xml!==!0&&Object.assign(n,e.xml)):e.xmlMode&&(n._useHtmlParser2=!0),n}function NC(e,t,n){return e?e(t!=null?t:e._root.children,null,void 0,n).toString():""}function F7(e,t){return typeof e=="object"&&e!=null&&!("length"in e)&&!("type"in e)}function H7(e,t){const n=F7(e)?(t=e,void 0):e,r=U(U({},this===null||this===void 0?void 0:this._options),Qp(t));return NC(this,n,r)}function U7(e){const t=oe(U({},this._options),{xmlMode:!0});return NC(this,e,t)}function kl(e){const t=e!=null?e:this?this.root():[];let n="";for(let r=0;r<t.length;r++)n+=ju(t[r]);return n}function z7(e,t,n=typeof t=="boolean"?t:!1){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t);const r=this.load(e,this._options,!1);return n||r("script").remove(),[...r.root()[0].children]}function q7(){return this(this._root)}function vC(e,t){if(t===e)return!1;let n=t;for(;n&&n!==n.parent;)if(n=n.parent,n===e)return!0;return!1}function G7(e){return this.root().extract(e)}function V7(e,t){if(!eE(e)||!eE(t))return;let n=e.length;const r=+t.length;for(let i=0;i<r;i++)e[n++]=t[i];return e.length=n,e}function eE(e){if(Array.isArray(e))return!0;if(typeof e!="object"||e===null||!("length"in e)||typeof e.length!="number"||e.length<0)return!1;for(let t=0;t<e.length;t++)if(!(t in e))return!1;return!0}const $7=Object.freeze(Object.defineProperty({__proto__:null,contains:vC,extract:G7,html:H7,merge:V7,parseHTML:z7,root:q7,text:kl,xml:U7},Symbol.toStringTag,{value:"Module"}));function cs(e){return e.cheerio!=null}function W7(e){return e.replace(/[._-](\w|$)/g,(t,n)=>n.toUpperCase())}function Y7(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()}function on(e,t){const n=e.length;for(let r=0;r<n;r++)t(e[r],r);return e}var Na;(function(e){e[e.LowerA=97]="LowerA",e[e.LowerZ=122]="LowerZ",e[e.UpperA=65]="UpperA",e[e.UpperZ=90]="UpperZ",e[e.Exclamation=33]="Exclamation"})(Na||(Na={}));function Xp(e){const t=e.indexOf("<");if(t===-1||t>e.length-3)return!1;const n=e.charCodeAt(t+1);return(n>=Na.LowerA&&n<=Na.LowerZ||n>=Na.UpperA&&n<=Na.UpperZ||n===Na.Exclamation)&&e.includes(">",t+2)}var Ye;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(Ye||(Ye={}));var Te;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(Te||(Te={}));function Ji(e){return e===Ye.Space||e===Ye.NewLine||e===Ye.Tab||e===Ye.FormFeed||e===Ye.CarriageReturn}function vc(e){return e===Ye.Slash||e===Ye.Gt||Ji(e)}function K7(e){return e>=Ye.LowerA&&e<=Ye.LowerZ||e>=Ye.UpperA&&e<=Ye.UpperZ}var vi;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(vi||(vi={}));const Tn={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};let Q7=class{constructor({xmlMode:t=!1,decodeEntities:n=!0},r){this.cbs=r,this.state=Te.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Te.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=t,this.decodeEntities=n,this.entityDecoder=new BA(t?j5:MA,(i,s)=>this.emitCodePoint(i,s))}reset(){this.state=Te.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Te.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(t){t===Ye.Lt||!this.decodeEntities&&this.fastForwardTo(Ye.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Te.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===Ye.Amp&&this.startEntity()}stateSpecialStartSequence(t){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?vc(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Te.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===Ye.Gt||Ji(t)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(t);return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Tn.TitleEnd?this.decodeEntities&&t===Ye.Amp&&this.startEntity():this.fastForwardTo(Ye.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===Ye.Lt)}stateCDATASequence(t){t===Tn.Cdata[this.sequenceIndex]?++this.sequenceIndex===Tn.Cdata.length&&(this.state=Te.InCommentLike,this.currentSequence=Tn.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Te.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Tn.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Te.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!vc(t):K7(t)}startSpecial(t,n){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=n,this.state=Te.SpecialStartSequence}stateBeforeTagName(t){if(t===Ye.ExclamationMark)this.state=Te.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===Ye.Questionmark)this.state=Te.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){const n=t|32;this.sectionStart=this.index,this.xmlMode?this.state=Te.InTagName:n===Tn.ScriptEnd[2]?this.state=Te.BeforeSpecialS:n===Tn.TitleEnd[2]||n===Tn.XmpEnd[2]?this.state=Te.BeforeSpecialT:this.state=Te.InTagName}else t===Ye.Slash?this.state=Te.BeforeClosingTagName:(this.state=Te.Text,this.stateText(t))}stateInTagName(t){vc(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Te.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){Ji(t)||(t===Ye.Gt?this.state=Te.Text:(this.state=this.isTagStartChar(t)?Te.InClosingTagName:Te.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===Ye.Gt||Ji(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Te.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===Ye.Gt||this.fastForwardTo(Ye.Gt))&&(this.state=Te.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===Ye.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Te.InSpecialTag,this.sequenceIndex=0):this.state=Te.Text,this.sectionStart=this.index+1):t===Ye.Slash?this.state=Te.InSelfClosingTag:Ji(t)||(this.state=Te.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===Ye.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Te.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Ji(t)||(this.state=Te.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===Ye.Eq||vc(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Te.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===Ye.Eq?this.state=Te.BeforeAttributeValue:t===Ye.Slash||t===Ye.Gt?(this.cbs.onattribend(vi.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Te.BeforeAttributeName,this.stateBeforeAttributeName(t)):Ji(t)||(this.cbs.onattribend(vi.NoValue,this.sectionStart),this.state=Te.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===Ye.DoubleQuote?(this.state=Te.InAttributeValueDq,this.sectionStart=this.index+1):t===Ye.SingleQuote?(this.state=Te.InAttributeValueSq,this.sectionStart=this.index+1):Ji(t)||(this.sectionStart=this.index,this.state=Te.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,n){t===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===Ye.DoubleQuote?vi.Double:vi.Single,this.index+1),this.state=Te.BeforeAttributeName):this.decodeEntities&&t===Ye.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,Ye.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,Ye.SingleQuote)}stateInAttributeValueNoQuotes(t){Ji(t)||t===Ye.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(vi.Unquoted,this.index),this.state=Te.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===Ye.Amp&&this.startEntity()}stateBeforeDeclaration(t){t===Ye.OpeningSquareBracket?(this.state=Te.CDATASequence,this.sequenceIndex=0):this.state=t===Ye.Dash?Te.BeforeComment:Te.InDeclaration}stateInDeclaration(t){(t===Ye.Gt||this.fastForwardTo(Ye.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Te.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===Ye.Gt||this.fastForwardTo(Ye.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Te.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===Ye.Dash?(this.state=Te.InCommentLike,this.currentSequence=Tn.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Te.InDeclaration}stateInSpecialComment(t){(t===Ye.Gt||this.fastForwardTo(Ye.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Te.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){const n=t|32;n===Tn.ScriptEnd[3]?this.startSpecial(Tn.ScriptEnd,4):n===Tn.StyleEnd[3]?this.startSpecial(Tn.StyleEnd,4):(this.state=Te.InTagName,this.stateInTagName(t))}stateBeforeSpecialT(t){switch(t|32){case Tn.TitleEnd[3]:{this.startSpecial(Tn.TitleEnd,4);break}case Tn.TextareaEnd[3]:{this.startSpecial(Tn.TextareaEnd,4);break}case Tn.XmpEnd[3]:{this.startSpecial(Tn.XmpEnd,4);break}default:this.state=Te.InTagName,this.stateInTagName(t)}}startEntity(){this.baseState=this.state,this.state=Te.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?Vr.Strict:this.baseState===Te.Text||this.baseState===Te.InSpecialTag?Vr.Legacy:Vr.Attribute)}stateInEntity(){const t=this.entityDecoder.write(this.buffer,this.index-this.offset);t>=0?(this.state=this.baseState,t===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Te.Text||this.state===Te.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Te.InAttributeValueDq||this.state===Te.InAttributeValueSq||this.state===Te.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Te.Text:{this.stateText(t);break}case Te.SpecialStartSequence:{this.stateSpecialStartSequence(t);break}case Te.InSpecialTag:{this.stateInSpecialTag(t);break}case Te.CDATASequence:{this.stateCDATASequence(t);break}case Te.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(t);break}case Te.InAttributeName:{this.stateInAttributeName(t);break}case Te.InCommentLike:{this.stateInCommentLike(t);break}case Te.InSpecialComment:{this.stateInSpecialComment(t);break}case Te.BeforeAttributeName:{this.stateBeforeAttributeName(t);break}case Te.InTagName:{this.stateInTagName(t);break}case Te.InClosingTagName:{this.stateInClosingTagName(t);break}case Te.BeforeTagName:{this.stateBeforeTagName(t);break}case Te.AfterAttributeName:{this.stateAfterAttributeName(t);break}case Te.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(t);break}case Te.BeforeAttributeValue:{this.stateBeforeAttributeValue(t);break}case Te.BeforeClosingTagName:{this.stateBeforeClosingTagName(t);break}case Te.AfterClosingTagName:{this.stateAfterClosingTagName(t);break}case Te.BeforeSpecialS:{this.stateBeforeSpecialS(t);break}case Te.BeforeSpecialT:{this.stateBeforeSpecialT(t);break}case Te.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(t);break}case Te.InSelfClosingTag:{this.stateInSelfClosingTag(t);break}case Te.InDeclaration:{this.stateInDeclaration(t);break}case Te.BeforeDeclaration:{this.stateBeforeDeclaration(t);break}case Te.BeforeComment:{this.stateBeforeComment(t);break}case Te.InProcessingInstruction:{this.stateInProcessingInstruction(t);break}case Te.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===Te.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length+this.offset;this.sectionStart>=t||(this.state===Te.InCommentLike?this.currentSequence===Tn.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===Te.InTagName||this.state===Te.BeforeAttributeName||this.state===Te.BeforeAttributeValue||this.state===Te.AfterAttributeName||this.state===Te.InAttributeName||this.state===Te.InAttributeValueSq||this.state===Te.InAttributeValueDq||this.state===Te.InAttributeValueNq||this.state===Te.InClosingTagName||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,n){this.baseState!==Te.Text&&this.baseState!==Te.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(t)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(t,this.sectionStart))}};const uu=new Set(["input","option","optgroup","select","button","datalist","textarea"]),qt=new Set(["p"]),tE=new Set(["thead","tbody"]),nE=new Set(["dd","dt"]),rE=new Set(["rt","rp"]),X7=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",qt],["h1",qt],["h2",qt],["h3",qt],["h4",qt],["h5",qt],["h6",qt],["select",uu],["input",uu],["output",uu],["button",uu],["datalist",uu],["textarea",uu],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",nE],["dt",nE],["address",qt],["article",qt],["aside",qt],["blockquote",qt],["details",qt],["div",qt],["dl",qt],["fieldset",qt],["figcaption",qt],["figure",qt],["footer",qt],["form",qt],["header",qt],["hr",qt],["main",qt],["nav",qt],["ol",qt],["pre",qt],["section",qt],["table",qt],["ul",qt],["rt",rE],["rp",rE],["tbody",tE],["tfoot",tE]]),J7=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),iE=new Set(["math","svg"]),sE=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),Z7=/\s|\//;let eB=class{constructor(t,n={}){var r,i,s,a,o,u;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t!=null?t:{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=n.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(i=n.lowerCaseAttributeNames)!==null&&i!==void 0?i:this.htmlMode,this.recognizeSelfClosing=(s=n.recognizeSelfClosing)!==null&&s!==void 0?s:!this.htmlMode,this.tokenizer=new((a=n.Tokenizer)!==null&&a!==void 0?a:Q7)(this.options,this),this.foreignContext=[!this.htmlMode],(u=(o=this.cbs).onparserinit)===null||u===void 0||u.call(o,this)}ontext(t,n){var r,i;const s=this.getSlice(t,n);this.endIndex=n-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,s),this.startIndex=n}ontextentity(t,n){var r,i;this.endIndex=n-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,MT(t)),this.startIndex=n}isVoidElement(t){return this.htmlMode&&J7.has(t)}onopentagname(t,n){this.endIndex=n;let r=this.getSlice(t,n);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(t){var n,r,i,s;this.openTagStart=this.startIndex,this.tagname=t;const a=this.htmlMode&&X7.get(t);if(a)for(;this.stack.length>0&&a.has(this.stack[0]);){const o=this.stack.shift();(r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,o,!0)}this.isVoidElement(t)||(this.stack.unshift(t),this.htmlMode&&(iE.has(t)?this.foreignContext.unshift(!0):sE.has(t)&&this.foreignContext.unshift(!1))),(s=(i=this.cbs).onopentagname)===null||s===void 0||s.call(i,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var n,r;this.startIndex=this.openTagStart,this.attribs&&((r=(n=this.cbs).onopentag)===null||r===void 0||r.call(n,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,n){var r,i,s,a,o,u,c,l;this.endIndex=n;let d=this.getSlice(t,n);if(this.lowerCaseTagNames&&(d=d.toLowerCase()),this.htmlMode&&(iE.has(d)||sE.has(d))&&this.foreignContext.shift(),this.isVoidElement(d))this.htmlMode&&d==="br"&&((a=(s=this.cbs).onopentagname)===null||a===void 0||a.call(s,"br"),(u=(o=this.cbs).onopentag)===null||u===void 0||u.call(o,"br",{},!0),(l=(c=this.cbs).onclosetag)===null||l===void 0||l.call(c,"br",!1));else{const h=this.stack.indexOf(d);if(h!==-1)for(let f=0;f<=h;f++){const p=this.stack.shift();(i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,p,f!==h)}else this.htmlMode&&d==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(t){this.endIndex=t,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var n,r;const i=this.tagname;this.endOpenTag(t),this.stack[0]===i&&((r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,i,!t),this.stack.shift())}onattribname(t,n){this.startIndex=t;const r=this.getSlice(t,n);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(t,n){this.attribvalue+=this.getSlice(t,n)}onattribentity(t){this.attribvalue+=MT(t)}onattribend(t,n){var r,i;this.endIndex=n,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,t===vi.Double?'"':t===vi.Single?"'":t===vi.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){const n=t.search(Z7);let r=n<0?t:t.substr(0,n);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${i}`,`!${r}`)}this.startIndex=n+1}onprocessinginstruction(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${i}`,`?${r}`)}this.startIndex=n+1}oncomment(t,n,r){var i,s,a,o;this.endIndex=n,(s=(i=this.cbs).oncomment)===null||s===void 0||s.call(i,this.getSlice(t,n-r)),(o=(a=this.cbs).oncommentend)===null||o===void 0||o.call(a),this.startIndex=n+1}oncdata(t,n,r){var i,s,a,o,u,c,l,d,h,f;this.endIndex=n;const p=this.getSlice(t,n-r);!this.htmlMode||this.options.recognizeCDATA?((s=(i=this.cbs).oncdatastart)===null||s===void 0||s.call(i),(o=(a=this.cbs).ontext)===null||o===void 0||o.call(a,p),(c=(u=this.cbs).oncdataend)===null||c===void 0||c.call(u)):((d=(l=this.cbs).oncomment)===null||d===void 0||d.call(l,`[CDATA[${p}]]`),(f=(h=this.cbs).oncommentend)===null||f===void 0||f.call(h)),this.startIndex=n+1}onend(){var t,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(n=(t=this.cbs).onend)===null||n===void 0||n.call(t)}reset(){var t,n,r,i;(n=(t=this.cbs).onreset)===null||n===void 0||n.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,n){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(t-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,n-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)}end(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}};function tB(e,t){const n=new z9(void 0,t);return new eB(n,t).end(e),n.root}var o0;const Ol=(o0=Object.hasOwn)!==null&&o0!==void 0?o0:((e,t)=>Object.prototype.hasOwnProperty.call(e,t)),Dl=/\s+/,Jp="data-",Fg=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,nB=/^{[^]*}$|^\[[^]*]$/;function jd(e,t,n){var r;if(!(!e||!Xe(e))){if((r=e.attribs)!==null&&r!==void 0||(e.attribs={}),!t)return e.attribs;if(Ol(e.attribs,t))return!n&&Fg.test(t)?t:e.attribs[t];if(e.name==="option"&&t==="value")return kl(e.children);if(e.name==="input"&&(e.attribs.type==="radio"||e.attribs.type==="checkbox")&&t==="value")return"on"}}function Iu(e,t,n){n===null?IC(e,t):e.attribs[t]=`${n}`}function rB(e,t){if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e!="string")throw new Error("Bad combination of arguments.");return on(this,(n,r)=>{Xe(n)&&Iu(n,e,t.call(n,r,n.attribs[e]))})}return on(this,n=>{if(Xe(n))if(typeof e=="object")for(const r of Object.keys(e)){const i=e[r];Iu(n,r,i)}else Iu(n,e,t)})}return arguments.length>1?this:jd(this[0],e,this.options.xmlMode)}function aE(e,t,n){return t in e?e[t]:!n&&Fg.test(t)?jd(e,t,!1)!==void 0:jd(e,t,n)}function l0(e,t,n,r){t in e?e[t]=n:Iu(e,t,!r&&Fg.test(t)?n?"":null:`${n}`)}function iB(e,t){var n;if(typeof e=="string"&&t===void 0){const r=this[0];if(!r)return;switch(e){case"style":{const i=this.css(),s=Object.keys(i);for(let a=0;a<s.length;a++)i[a]=s[a];return i.length=s.length,i}case"tagName":case"nodeName":return Xe(r)?r.name.toUpperCase():void 0;case"href":case"src":{if(!Xe(r))return;const i=(n=r.attribs)===null||n===void 0?void 0:n[e];return typeof URL!="undefined"&&(e==="href"&&(r.tagName==="a"||r.tagName==="link")||e==="src"&&(r.tagName==="img"||r.tagName==="iframe"||r.tagName==="audio"||r.tagName==="video"||r.tagName==="source"))&&i!==void 0&&this.options.baseURI?new URL(i,this.options.baseURI).href:i}case"innerText":return Pd(r);case"textContent":return ju(r);case"outerHTML":return r.type===wg?this.html():this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return Xe(r)?aE(r,e,this.options.xmlMode):void 0}}if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e=="object")throw new TypeError("Bad combination of arguments.");return on(this,(r,i)=>{Xe(r)&&l0(r,e,t.call(r,i,aE(r,e,this.options.xmlMode)),this.options.xmlMode)})}return on(this,r=>{if(Xe(r))if(typeof e=="object")for(const i of Object.keys(e)){const s=e[i];l0(r,i,s,this.options.xmlMode)}else l0(r,e,t,this.options.xmlMode)})}}function uE(e,t,n){var r;(r=e.data)!==null&&r!==void 0||(e.data={}),typeof t=="object"?Object.assign(e.data,t):typeof t=="string"&&n!==void 0&&(e.data[t]=n)}function sB(e){for(const t of Object.keys(e.attribs)){if(!t.startsWith(Jp))continue;const n=W7(t.slice(Jp.length));Ol(e.data,n)||(e.data[n]=wC(e.attribs[t]))}return e.data}function aB(e,t){const n=Jp+Y7(t),r=e.data;if(Ol(r,t))return r[t];if(Ol(e.attribs,n))return r[t]=wC(e.attribs[n])}function wC(e){if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;const t=Number(e);if(e===String(t))return t;if(nB.test(e))try{return JSON.parse(e)}catch(n){}return e}function uB(e,t){var n;const r=this[0];if(!r||!Xe(r))return;const i=r;return(n=i.data)!==null&&n!==void 0||(i.data={}),e==null?sB(i):typeof e=="object"||t!==void 0?(on(this,s=>{Xe(s)&&(typeof e=="object"?uE(s,e):uE(s,e,t))}),this):aB(i,e)}function oB(e){const t=arguments.length===0,n=this[0];if(!n||!Xe(n))return t?void 0:this;switch(n.name){case"textarea":return this.text(e);case"select":{const r=this.find("option:selected");if(!t){if(this.attr("multiple")==null&&typeof e=="object")return this;this.find("option").removeAttr("selected");const i=typeof e=="object"?e:[e];for(const s of i)this.find(`option[value="${s}"]`).attr("selected","");return this}return this.attr("multiple")?r.toArray().map(i=>kl(i.children)):r.attr("value")}case"input":case"option":return t?this.attr("value"):this.attr("value",e)}}function IC(e,t){!e.attribs||!Ol(e.attribs,t)||delete e.attribs[t]}function Fd(e){return e?e.trim().split(Dl):[]}function lB(e){const t=Fd(e);for(const n of t)on(this,r=>{Xe(r)&&IC(r,n)});return this}function cB(e){return this.toArray().some(t=>{const n=Xe(t)&&t.attribs.class;let r=-1;if(n&&e.length>0)for(;(r=n.indexOf(e,r+1))>-1;){const i=r+e.length;if((r===0||Dl.test(n[r-1]))&&(i===n.length||Dl.test(n[i])))return!0}return!1})}function kC(e){if(typeof e=="function")return on(this,(r,i)=>{if(Xe(r)){const s=r.attribs.class||"";kC.call([r],e.call(r,i,s))}});if(!e||typeof e!="string")return this;const t=e.split(Dl),n=this.length;for(let r=0;r<n;r++){const i=this[r];if(!Xe(i))continue;const s=jd(i,"class",!1);if(s){let a=` ${s} `;for(const o of t){const u=`${o} `;a.includes(` ${u}`)||(a+=u)}Iu(i,"class",a.trim())}else Iu(i,"class",t.join(" ").trim())}return this}function OC(e){if(typeof e=="function")return on(this,(i,s)=>{Xe(i)&&OC.call([i],e.call(i,s,i.attribs.class||""))});const t=Fd(e),n=t.length,r=arguments.length===0;return on(this,i=>{if(Xe(i))if(r)i.attribs.class="";else{const s=Fd(i.attribs.class);let a=!1;for(let o=0;o<n;o++){const u=s.indexOf(t[o]);u!==-1&&(s.splice(u,1),a=!0,o--)}a&&(i.attribs.class=s.join(" "))}})}function DC(e,t){if(typeof e=="function")return on(this,(a,o)=>{Xe(a)&&DC.call([a],e.call(a,o,a.attribs.class||"",t),t)});if(!e||typeof e!="string")return this;const n=e.split(Dl),r=n.length,i=typeof t=="boolean"?t?1:-1:0,s=this.length;for(let a=0;a<s;a++){const o=this[a];if(!Xe(o))continue;const u=Fd(o.attribs.class);for(let c=0;c<r;c++){const l=u.indexOf(n[c]);i>=0&&l===-1?u.push(n[c]):i<=0&&l!==-1&&u.splice(l,1)}o.attribs.class=u.join(" ")}return this}const dB=Object.freeze(Object.defineProperty({__proto__:null,addClass:kC,attr:rB,data:uB,hasClass:cB,prop:iB,removeAttr:lB,removeClass:OC,toggleClass:DC,val:oB},Symbol.toStringTag,{value:"Module"}));var Pe;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(Pe||(Pe={}));const fB={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var Ot;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(Ot||(Ot={}));const oE=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,hB=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,pB=new Map([[126,Ot.Element],[94,Ot.Start],[36,Ot.End],[42,Ot.Any],[33,Ot.Not],[124,Ot.Hyphen]]),mB=new Set(["has","not","matches","is","where","host","host-context"]);function ku(e){switch(e.type){case Pe.Adjacent:case Pe.Child:case Pe.Descendant:case Pe.Parent:case Pe.Sibling:case Pe.ColumnCombinator:return!0;default:return!1}}const gB=new Set(["contains","icontains"]);function bB(e,t,n){const r=parseInt(t,16)-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function To(e){return e.replace(hB,bB)}function c0(e){return e===39||e===34}function lE(e){return e===32||e===9||e===10||e===12||e===13}function ic(e){const t=[],n=RC(t,`${e}`,0);if(n<e.length)throw new Error(`Unmatched selector: ${e.slice(n)}`);return t}function RC(e,t,n){let r=[];function i(h){const f=t.slice(n+h).match(oE);if(!f)throw new Error(`Expected name, found ${t.slice(n)}`);const[p]=f;return n+=h+p.length,To(p)}function s(h){for(n+=h;n<t.length&&lE(t.charCodeAt(n));)n++}function a(){n+=1;const h=n;let f=1;for(;f>0&&n<t.length;n++)t.charCodeAt(n)===40&&!o(n)?f++:t.charCodeAt(n)===41&&!o(n)&&f--;if(f)throw new Error("Parenthesis not matched");return To(t.slice(h,n-1))}function o(h){let f=0;for(;t.charCodeAt(--h)===92;)f++;return(f&1)===1}function u(){if(r.length>0&&ku(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function c(h){if(r.length>0&&r[r.length-1].type===Pe.Descendant){r[r.length-1].type=h;return}u(),r.push({type:h})}function l(h,f){r.push({type:Pe.Attribute,name:h,action:f,value:i(1),namespace:null,ignoreCase:"quirks"})}function d(){if(r.length&&r[r.length-1].type===Pe.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");e.push(r)}if(s(0),t.length===n)return n;e:for(;n<t.length;){const h=t.charCodeAt(n);switch(h){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==Pe.Descendant)&&(u(),r.push({type:Pe.Descendant})),s(1);break}case 62:{c(Pe.Child),s(1);break}case 60:{c(Pe.Parent),s(1);break}case 126:{c(Pe.Sibling),s(1);break}case 43:{c(Pe.Adjacent),s(1);break}case 46:{l("class",Ot.Element);break}case 35:{l("id",Ot.Equals);break}case 91:{s(1);let f,p=null;t.charCodeAt(n)===124?f=i(1):t.startsWith("*|",n)?(p="*",f=i(2)):(f=i(0),t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==61&&(p=f,f=i(1))),s(0);let x=Ot.Exists;const _=pB.get(t.charCodeAt(n));if(_){if(x=_,t.charCodeAt(n+1)!==61)throw new Error("Expected `=`");s(2)}else t.charCodeAt(n)===61&&(x=Ot.Equals,s(1));let b="",T=null;if(x!=="exists"){if(c0(t.charCodeAt(n))){const y=t.charCodeAt(n);let E=n+1;for(;E<t.length&&(t.charCodeAt(E)!==y||o(E));)E+=1;if(t.charCodeAt(E)!==y)throw new Error("Attribute value didn't end");b=To(t.slice(n+1,E)),n=E+1}else{const y=n;for(;n<t.length&&(!lE(t.charCodeAt(n))&&t.charCodeAt(n)!==93||o(n));)n+=1;b=To(t.slice(y,n))}s(0);const g=t.charCodeAt(n)|32;g===115?(T=!1,s(1)):g===105&&(T=!0,s(1))}if(t.charCodeAt(n)!==93)throw new Error("Attribute selector didn't terminate");n+=1;const N={type:Pe.Attribute,name:f,action:x,value:b,namespace:p,ignoreCase:T};r.push(N);break}case 58:{if(t.charCodeAt(n+1)===58){r.push({type:Pe.PseudoElement,name:i(2).toLowerCase(),data:t.charCodeAt(n)===40?a():null});continue}const f=i(1).toLowerCase();let p=null;if(t.charCodeAt(n)===40)if(mB.has(f)){if(c0(t.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${f} cannot be quoted`);if(p=[],n=RC(p,t,n+1),t.charCodeAt(n)!==41)throw new Error(`Missing closing parenthesis in :${f} (${t})`);n+=1}else{if(p=a(),gB.has(f)){const x=p.charCodeAt(0);x===p.charCodeAt(p.length-1)&&c0(x)&&(p=p.slice(1,-1))}p=To(p)}r.push({type:Pe.Pseudo,name:f,data:p});break}case 44:{d(),r=[],s(1);break}default:{if(t.startsWith("/*",n)){const x=t.indexOf("*/",n+2);if(x<0)throw new Error("Comment was not terminated");n=x+2,r.length===0&&s(0);break}let f=null,p;if(h===42)n+=1,p="*";else if(h===124){if(p="",t.charCodeAt(n+1)===124){c(Pe.ColumnCombinator),s(2);break}}else if(oE.test(t.slice(n)))p=i(0);else break e;t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==124&&(f=p,t.charCodeAt(n+1)===42?(p="*",n+=2):p=i(1)),r.push(p==="*"?{type:Pe.Universal,namespace:f}:{type:Pe.Tag,name:p,namespace:f})}}}return d(),n}const LC=["\\",'"'],PC=[...LC,"(",")"],TB=new Set(LC.map(e=>e.charCodeAt(0))),cE=new Set(PC.map(e=>e.charCodeAt(0))),Nu=new Set([...PC,"~","^","$","*","+","!","|",":","[","]"," ","."].map(e=>e.charCodeAt(0)));function MC(e){return e.map(t=>t.map(EB).join("")).join(", ")}function EB(e,t,n){switch(e.type){case Pe.Child:return t===0?"> ":" > ";case Pe.Parent:return t===0?"< ":" < ";case Pe.Sibling:return t===0?"~ ":" ~ ";case Pe.Adjacent:return t===0?"+ ":" + ";case Pe.Descendant:return" ";case Pe.ColumnCombinator:return t===0?"|| ":" || ";case Pe.Universal:return e.namespace==="*"&&t+1<n.length&&"name"in n[t+1]?"":`${BC(e.namespace)}*`;case Pe.Tag:return dE(e);case Pe.PseudoElement:return`::${ns(e.name,Nu)}${e.data===null?"":`(${ns(e.data,cE)})`}`;case Pe.Pseudo:return`:${ns(e.name,Nu)}${e.data===null?"":`(${typeof e.data=="string"?ns(e.data,cE):MC(e.data)})`}`;case Pe.Attribute:{if(e.name==="id"&&e.action===Ot.Equals&&e.ignoreCase==="quirks"&&!e.namespace)return`#${ns(e.value,Nu)}`;if(e.name==="class"&&e.action===Ot.Element&&e.ignoreCase==="quirks"&&!e.namespace)return`.${ns(e.value,Nu)}`;const r=dE(e);return e.action===Ot.Exists?`[${r}]`:`[${r}${yB(e.action)}="${ns(e.value,TB)}"${e.ignoreCase===null?"":e.ignoreCase?" i":" s"}]`}}}function yB(e){switch(e){case Ot.Equals:return"";case Ot.Element:return"~";case Ot.Start:return"^";case Ot.End:return"$";case Ot.Any:return"*";case Ot.Not:return"!";case Ot.Hyphen:return"|";case Ot.Exists:throw new Error("Shouldn't be here")}}function dE(e){return`${BC(e.namespace)}${ns(e.name,Nu)}`}function BC(e){return e!==null?`${e==="*"?"*":ns(e,Nu)}|`:""}function ns(e,t){let n=0,r="";for(let i=0;i<e.length;i++)t.has(e.charCodeAt(i))&&(r+=`${e.slice(n,i)}\\${e.charAt(i)}`,n=i+1);return r.length>0?r+e.slice(n):e}const _B=Object.freeze(Object.defineProperty({__proto__:null,get AttributeAction(){return Ot},IgnoreCaseMode:fB,get SelectorType(){return Pe},isTraversal:ku,parse:ic,stringify:MC},Symbol.toStringTag,{value:"Module"}));var d0,fE;function Qs(){return fE||(fE=1,d0={trueFunc:function(){return!0},falseFunc:function(){return!1}}),d0}var Hd=Qs();const gt=Kl(Hd),jC=new Map([[Pe.Universal,50],[Pe.Tag,30],[Pe.Attribute,1],[Pe.Pseudo,0]]);function Hg(e){return!jC.has(e.type)}const xB=new Map([[Ot.Exists,10],[Ot.Equals,8],[Ot.Not,7],[Ot.Start,6],[Ot.End,6],[Ot.Any,5]]);function AB(e){const t=e.map(FC);for(let n=1;n<e.length;n++){const r=t[n];if(!(r<0))for(let i=n-1;i>=0&&r<t[i];i--){const s=e[i+1];e[i+1]=e[i],e[i]=s,t[i+1]=t[i],t[i]=r}}}function FC(e){var t,n;let r=(t=jC.get(e.type))!==null&&t!==void 0?t:-1;return e.type===Pe.Attribute?(r=(n=xB.get(e.action))!==null&&n!==void 0?n:4,e.action===Ot.Equals&&e.name==="id"&&(r=9),e.ignoreCase&&(r>>=1)):e.type===Pe.Pseudo&&(e.data?e.name==="has"||e.name==="contains"?r=0:Array.isArray(e.data)?(r=Math.min(...e.data.map(i=>Math.min(...i.map(FC)))),r<0&&(r=0)):r=2:r=3),r}const CB=/[-[\]{}()*+?.,\\^$|#\s]/g;function hE(e){return e.replace(CB,"\\$&")}const SB=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function aa(e,t){return typeof e.ignoreCase=="boolean"?e.ignoreCase:e.ignoreCase==="quirks"?!!t.quirksMode:!t.xmlMode&&SB.has(e.name)}const NB={equals(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;return aa(t,n)?(s=s.toLowerCase(),a=>{const o=r.getAttributeValue(a,i);return o!=null&&o.length===s.length&&o.toLowerCase()===s&&e(a)}):a=>r.getAttributeValue(a,i)===s&&e(a)},hyphen(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;const a=s.length;return aa(t,n)?(s=s.toLowerCase(),function(u){const c=r.getAttributeValue(u,i);return c!=null&&(c.length===a||c.charAt(a)==="-")&&c.substr(0,a).toLowerCase()===s&&e(u)}):function(u){const c=r.getAttributeValue(u,i);return c!=null&&(c.length===a||c.charAt(a)==="-")&&c.substr(0,a)===s&&e(u)}},element(e,t,n){const{adapter:r}=n,{name:i,value:s}=t;if(/\s/.test(s))return gt.falseFunc;const a=new RegExp(`(?:^|\\s)${hE(s)}(?:$|\\s)`,aa(t,n)?"i":"");return function(u){const c=r.getAttributeValue(u,i);return c!=null&&c.length>=s.length&&a.test(c)&&e(u)}},exists(e,{name:t},{adapter:n}){return r=>n.hasAttrib(r,t)&&e(r)},start(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;const a=s.length;return a===0?gt.falseFunc:aa(t,n)?(s=s.toLowerCase(),o=>{const u=r.getAttributeValue(o,i);return u!=null&&u.length>=a&&u.substr(0,a).toLowerCase()===s&&e(o)}):o=>{var u;return!!(!((u=r.getAttributeValue(o,i))===null||u===void 0)&&u.startsWith(s))&&e(o)}},end(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;const a=-s.length;return a===0?gt.falseFunc:aa(t,n)?(s=s.toLowerCase(),o=>{var u;return((u=r.getAttributeValue(o,i))===null||u===void 0?void 0:u.substr(a).toLowerCase())===s&&e(o)}):o=>{var u;return!!(!((u=r.getAttributeValue(o,i))===null||u===void 0)&&u.endsWith(s))&&e(o)}},any(e,t,n){const{adapter:r}=n,{name:i,value:s}=t;if(s==="")return gt.falseFunc;if(aa(t,n)){const a=new RegExp(hE(s),"i");return function(u){const c=r.getAttributeValue(u,i);return c!=null&&c.length>=s.length&&a.test(c)&&e(u)}}return a=>{var o;return!!(!((o=r.getAttributeValue(a,i))===null||o===void 0)&&o.includes(s))&&e(a)}},not(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;return s===""?a=>!!r.getAttributeValue(a,i)&&e(a):aa(t,n)?(s=s.toLowerCase(),a=>{const o=r.getAttributeValue(a,i);return(o==null||o.length!==s.length||o.toLowerCase()!==s)&&e(a)}):a=>r.getAttributeValue(a,i)!==s&&e(a)}},vB=new Set([9,10,12,13,32]),pE=48,wB=57;function IB(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];let t=0,n=0,r=s(),i=a();if(t<e.length&&e.charAt(t)==="n"&&(t++,n=r*(i!=null?i:1),o(),t<e.length?(r=s(),o(),i=a()):r=i=0),i===null||t<e.length)throw new Error(`n-th rule couldn't be parsed ('${e}')`);return[n,r*i];function s(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function a(){const u=t;let c=0;for(;t<e.length&&e.charCodeAt(t)>=pE&&e.charCodeAt(t)<=wB;)c=c*10+(e.charCodeAt(t)-pE),t++;return t===u?null:c}function o(){for(;t<e.length&&vB.has(e.charCodeAt(t));)t++}}function kB(e){const t=e[0],n=e[1]-1;if(n<0&&t<=0)return gt.falseFunc;if(t===-1)return s=>s<=n;if(t===0)return s=>s===n;if(t===1)return n<0?gt.trueFunc:s=>s>=n;const r=Math.abs(t),i=(n%r+r)%r;return t>1?s=>s>=n&&s%r===i:s=>s<=n&&s%r===i}function wc(e){return kB(IB(e))}function Ic(e,t){return n=>{const r=t.getParent(n);return r!=null&&t.isTag(r)&&e(n)}}const Zp={contains(e,t,{adapter:n}){return function(i){return e(i)&&n.getText(i).includes(t)}},icontains(e,t,{adapter:n}){const r=t.toLowerCase();return function(s){return e(s)&&n.getText(s).toLowerCase().includes(r)}},"nth-child"(e,t,{adapter:n,equals:r}){const i=wc(t);return i===gt.falseFunc?gt.falseFunc:i===gt.trueFunc?Ic(e,n):function(a){const o=n.getSiblings(a);let u=0;for(let c=0;c<o.length&&!r(a,o[c]);c++)n.isTag(o[c])&&u++;return i(u)&&e(a)}},"nth-last-child"(e,t,{adapter:n,equals:r}){const i=wc(t);return i===gt.falseFunc?gt.falseFunc:i===gt.trueFunc?Ic(e,n):function(a){const o=n.getSiblings(a);let u=0;for(let c=o.length-1;c>=0&&!r(a,o[c]);c--)n.isTag(o[c])&&u++;return i(u)&&e(a)}},"nth-of-type"(e,t,{adapter:n,equals:r}){const i=wc(t);return i===gt.falseFunc?gt.falseFunc:i===gt.trueFunc?Ic(e,n):function(a){const o=n.getSiblings(a);let u=0;for(let c=0;c<o.length;c++){const l=o[c];if(r(a,l))break;n.isTag(l)&&n.getName(l)===n.getName(a)&&u++}return i(u)&&e(a)}},"nth-last-of-type"(e,t,{adapter:n,equals:r}){const i=wc(t);return i===gt.falseFunc?gt.falseFunc:i===gt.trueFunc?Ic(e,n):function(a){const o=n.getSiblings(a);let u=0;for(let c=o.length-1;c>=0;c--){const l=o[c];if(r(a,l))break;n.isTag(l)&&n.getName(l)===n.getName(a)&&u++}return i(u)&&e(a)}},root(e,t,{adapter:n}){return r=>{const i=n.getParent(r);return(i==null||!n.isTag(i))&&e(r)}},scope(e,t,n,r){const{equals:i}=n;return!r||r.length===0?Zp.root(e,t,n):r.length===1?s=>i(r[0],s)&&e(s):s=>r.includes(s)&&e(s)},hover:f0("isHovered"),visited:f0("isVisited"),active:f0("isActive")};function f0(e){return function(n,r,{adapter:i}){const s=i[e];return typeof s!="function"?gt.falseFunc:function(o){return s(o)&&n(o)}}}const mE={empty(e,{adapter:t}){return!t.getChildren(e).some(n=>t.isTag(n)||t.getText(n)!=="")},"first-child"(e,{adapter:t,equals:n}){if(t.prevElementSibling)return t.prevElementSibling(e)==null;const r=t.getSiblings(e).find(i=>t.isTag(i));return r!=null&&n(e,r)},"last-child"(e,{adapter:t,equals:n}){const r=t.getSiblings(e);for(let i=r.length-1;i>=0;i--){if(n(e,r[i]))return!0;if(t.isTag(r[i]))break}return!1},"first-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),i=t.getName(e);for(let s=0;s<r.length;s++){const a=r[s];if(n(e,a))return!0;if(t.isTag(a)&&t.getName(a)===i)break}return!1},"last-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),i=t.getName(e);for(let s=r.length-1;s>=0;s--){const a=r[s];if(n(e,a))return!0;if(t.isTag(a)&&t.getName(a)===i)break}return!1},"only-of-type"(e,{adapter:t,equals:n}){const r=t.getName(e);return t.getSiblings(e).every(i=>n(e,i)||!t.isTag(i)||t.getName(i)!==r)},"only-child"(e,{adapter:t,equals:n}){return t.getSiblings(e).every(r=>n(e,r)||!t.isTag(r))}};function gE(e,t,n,r){if(n===null){if(e.length>r)throw new Error(`Pseudo-class :${t} requires an argument`)}else if(e.length===r)throw new Error(`Pseudo-class :${t} doesn't have any arguments`)}const OB={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},HC={};function DB(e,t){return e===gt.falseFunc?gt.falseFunc:n=>t.isTag(n)&&e(n)}function UC(e,t){const n=t.getSiblings(e);if(n.length<=1)return[];const r=n.indexOf(e);return r<0||r===n.length-1?[]:n.slice(r+1).filter(t.isTag)}function em(e){return{xmlMode:!!e.xmlMode,lowerCaseAttributeNames:!!e.lowerCaseAttributeNames,lowerCaseTags:!!e.lowerCaseTags,quirksMode:!!e.quirksMode,cacheResults:!!e.cacheResults,pseudos:e.pseudos,adapter:e.adapter,equals:e.equals}}const h0=(e,t,n,r,i)=>{const s=i(t,em(n),r);return s===gt.trueFunc?e:s===gt.falseFunc?gt.falseFunc:a=>s(a)&&e(a)},p0={is:h0,matches:h0,where:h0,not(e,t,n,r,i){const s=i(t,em(n),r);return s===gt.falseFunc?e:s===gt.trueFunc?gt.falseFunc:a=>!s(a)&&e(a)},has(e,t,n,r,i){const{adapter:s}=n,a=em(n);a.relativeSelector=!0;const o=t.some(l=>l.some(Hg))?[HC]:void 0,u=i(t,a,o);if(u===gt.falseFunc)return gt.falseFunc;const c=DB(u,s);if(o&&u!==gt.trueFunc){const{shouldTestNextSiblings:l=!1}=u;return d=>{if(!e(d))return!1;o[0]=d;const h=s.getChildren(d),f=l?[...h,...UC(d,s)]:h;return s.existsOne(c,f)}}return l=>e(l)&&s.existsOne(c,s.getChildren(l))}};function RB(e,t,n,r,i){var s;const{name:a,data:o}=t;if(Array.isArray(o)){if(!(a in p0))throw new Error(`Unknown pseudo-class :${a}(${o})`);return p0[a](e,o,n,r,i)}const u=(s=n.pseudos)===null||s===void 0?void 0:s[a],c=typeof u=="string"?u:OB[a];if(typeof c=="string"){if(o!=null)throw new Error(`Pseudo ${a} doesn't have any arguments`);const l=ic(c);return p0.is(e,l,n,r,i)}if(typeof u=="function")return gE(u,a,o,1),l=>u(l,o)&&e(l);if(a in Zp)return Zp[a](e,o,n,r);if(a in mE){const l=mE[a];return gE(l,a,o,2),d=>l(d,n,o)&&e(d)}throw new Error(`Unknown pseudo-class :${a}`)}function m0(e,t){const n=t.getParent(e);return n&&t.isTag(n)?n:null}function LB(e,t,n,r,i){const{adapter:s,equals:a}=n;switch(t.type){case Pe.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case Pe.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case Pe.Attribute:{if(t.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!n.xmlMode||n.lowerCaseAttributeNames)&&(t.name=t.name.toLowerCase()),NB[t.action](e,t,n)}case Pe.Pseudo:return RB(e,t,n,r,i);case Pe.Tag:{if(t.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:o}=t;return(!n.xmlMode||n.lowerCaseTags)&&(o=o.toLowerCase()),function(c){return s.getName(c)===o&&e(c)}}case Pe.Descendant:{if(n.cacheResults===!1||typeof WeakSet=="undefined")return function(c){let l=c;for(;l=m0(l,s);)if(e(l))return!0;return!1};const o=new WeakSet;return function(c){let l=c;for(;l=m0(l,s);)if(!o.has(l)){if(s.isTag(l)&&e(l))return!0;o.add(l)}return!1}}case"_flexibleDescendant":return function(u){let c=u;do if(e(c))return!0;while(c=m0(c,s));return!1};case Pe.Parent:return function(u){return s.getChildren(u).some(c=>s.isTag(c)&&e(c))};case Pe.Child:return function(u){const c=s.getParent(u);return c!=null&&s.isTag(c)&&e(c)};case Pe.Sibling:return function(u){const c=s.getSiblings(u);for(let l=0;l<c.length;l++){const d=c[l];if(a(u,d))break;if(s.isTag(d)&&e(d))return!0}return!1};case Pe.Adjacent:return s.prevElementSibling?function(u){const c=s.prevElementSibling(u);return c!=null&&e(c)}:function(u){const c=s.getSiblings(u);let l;for(let d=0;d<c.length;d++){const h=c[d];if(a(u,h))break;s.isTag(h)&&(l=h)}return!!l&&e(l)};case Pe.Universal:{if(t.namespace!=null&&t.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}}function zC(e){return e.type===Pe.Pseudo&&(e.name==="scope"||Array.isArray(e.data)&&e.data.some(t=>t.some(zC)))}const PB={type:Pe.Descendant},MB={type:"_flexibleDescendant"},BB={type:Pe.Pseudo,name:"scope",data:null};function jB(e,{adapter:t},n){const r=!!(n!=null&&n.every(i=>{const s=t.isTag(i)&&t.getParent(i);return i===HC||s&&t.isTag(s)}));for(const i of e){if(!(i.length>0&&Hg(i[0])&&i[0].type!==Pe.Descendant))if(r&&!i.some(zC))i.unshift(PB);else continue;i.unshift(BB)}}function qC(e,t,n){var r;e.forEach(AB),n=(r=t.context)!==null&&r!==void 0?r:n;const i=Array.isArray(n),s=n&&(Array.isArray(n)?n:[n]);if(t.relativeSelector!==!1)jB(e,t,s);else if(e.some(u=>u.length>0&&Hg(u[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let a=!1;const o=e.map(u=>{if(u.length>=2){const[c,l]=u;c.type!==Pe.Pseudo||c.name!=="scope"||(i&&l.type===Pe.Descendant?u[1]=MB:(l.type===Pe.Adjacent||l.type===Pe.Sibling)&&(a=!0))}return FB(u,t,s)}).reduce(HB,gt.falseFunc);return o.shouldTestNextSiblings=a,o}function FB(e,t,n){var r;return e.reduce((i,s)=>i===gt.falseFunc?gt.falseFunc:LB(i,s,t,n,qC),(r=t.rootFunc)!==null&&r!==void 0?r:gt.trueFunc)}function HB(e,t){return t===gt.falseFunc||e===gt.trueFunc?e:e===gt.falseFunc||t===gt.trueFunc?t:function(r){return e(r)||t(r)}}const GC=(e,t)=>e===t,UB={adapter:lh,equals:GC};function zB(e){var t,n,r,i;const s=e!=null?e:UB;return(t=s.adapter)!==null&&t!==void 0||(s.adapter=lh),(n=s.equals)!==null&&n!==void 0||(s.equals=(i=(r=s.adapter)===null||r===void 0?void 0:r.equals)!==null&&i!==void 0?i:GC),s}function qB(e){return function(n,r,i){const s=zB(r);return e(n,s,i)}}const Ug=qB(qC);function VC(e,t,n=!1){return n&&(e=GB(e,t)),Array.isArray(e)?t.removeSubsets(e):t.getChildren(e)}function GB(e,t){const n=Array.isArray(e)?e.slice(0):[e],r=n.length;for(let i=0;i<r;i++){const s=UC(n[i],t);n.push(...s)}return n}const VB=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function Ud(e){return e.type!=="pseudo"?!1:VB.has(e.name)?!0:e.name==="not"&&Array.isArray(e.data)?e.data.some(t=>t.some(Ud)):!1}function $B(e,t,n){const r=t!=null?parseInt(t,10):NaN;switch(e){case"first":return 1;case"nth":case"eq":return isFinite(r)?r>=0?r+1:1/0:0;case"lt":return isFinite(r)?r>=0?Math.min(r,n):1/0:0;case"gt":return isFinite(r)?1/0:0;case"odd":return 2*n;case"even":return 2*n-1;case"last":case"not":return 1/0}}function WB(e){for(;e.parent;)e=e.parent;return e}function zg(e){const t=[],n=[];for(const r of e)r.some(Ud)?t.push(r):n.push(r);return[n,t]}const YB={type:Pe.Universal,namespace:null},KB={type:Pe.Pseudo,name:"scope",data:null};function $C(e,t,n={}){return WC([e],t,n)}function WC(e,t,n={}){if(typeof t=="function")return e.some(t);const[r,i]=zg(ic(t));return r.length>0&&e.some(Ug(r,n))||i.some(s=>QC(s,e,n).length>0)}function QB(e,t,n,r){const i=typeof n=="string"?parseInt(n,10):NaN;switch(e){case"first":case"lt":return t;case"last":return t.length>0?[t[t.length-1]]:t;case"nth":case"eq":return isFinite(i)&&Math.abs(i)<t.length?[i<0?t[t.length+i]:t[i]]:[];case"gt":return isFinite(i)?t.slice(i+1):[];case"even":return t.filter((s,a)=>a%2===0);case"odd":return t.filter((s,a)=>a%2===1);case"not":{const s=new Set(KC(n,t,r));return t.filter(a=>!s.has(a))}}}function YC(e,t,n={}){return KC(ic(e),t,n)}function KC(e,t,n){if(t.length===0)return[];const[r,i]=zg(e);let s;if(r.length){const a=nm(t,r,n);if(i.length===0)return a;a.length&&(s=new Set(a))}for(let a=0;a<i.length&&(s==null?void 0:s.size)!==t.length;a++){const o=i[a];if((s?t.filter(l=>Xe(l)&&!s.has(l)):t).length===0)break;const c=QC(o,t,n);if(c.length)if(s)c.forEach(l=>s.add(l));else{if(a===i.length-1)return c;s=new Set(c)}}return typeof s!="undefined"?s.size===t.length?t:t.filter(a=>s.has(a)):[]}function QC(e,t,n){var r;if(e.some(ku)){const i=(r=n.root)!==null&&r!==void 0?r:WB(t[0]),s=oe(U({},n),{context:t,relativeSelector:!1});return e.push(KB),zd(i,e,s,!0,t.length)}return zd(t,e,n,!1,t.length)}function XB(e,t,n={},r=1/0){if(typeof e=="function")return XC(t,e);const[i,s]=zg(ic(e)),a=s.map(o=>zd(t,o,n,!0,r));return i.length&&a.push(tm(t,i,n,r)),a.length===0?[]:a.length===1?a[0]:ro(a.reduce((o,u)=>[...o,...u]))}function zd(e,t,n,r,i){const s=t.findIndex(Ud),a=t.slice(0,s),o=t[s],u=t.length-1===s?i:1/0,c=$B(o.name,o.data,u);if(c===0)return[];const d=(a.length===0&&!Array.isArray(e)?oh(e).filter(Xe):a.length===0?(Array.isArray(e)?e:[e]).filter(Xe):r||a.some(ku)?tm(e,[a],n,c):nm(e,[a],n)).slice(0,c);let h=QB(o.name,d,o.data,n);if(h.length===0||t.length===s+1)return h;const f=t.slice(s+1),p=f.some(ku);if(p){if(ku(f[0])){const{type:x}=f[0];(x===Pe.Sibling||x===Pe.Adjacent)&&(h=VC(h,lh,!0)),f.unshift(YB)}n=oe(U({},n),{relativeSelector:!1,rootFunc:x=>h.includes(x)})}else n.rootFunc&&n.rootFunc!==Hd.trueFunc&&(n=oe(U({},n),{rootFunc:Hd.trueFunc}));return f.some(Ud)?zd(h,f,n,!1,i):p?tm(h,[f],n,i):nm(h,[f],n)}function tm(e,t,n,r){const i=Ug(t,n,e);return XC(e,i,r)}function XC(e,t,n=1/0){const r=VC(e,lh,t.shouldTestNextSiblings);return Mg(i=>Xe(i)&&t(i),r,!0,n)}function nm(e,t,n){const r=(Array.isArray(e)?e:[e]).filter(Xe);if(r.length===0)return r;const i=Ug(t,n);return i===Hd.trueFunc?r:r.filter(i)}const JB=/^\s*[+~]/;function ZB(e){if(!e)return this._make([]);if(typeof e!="string"){const t=cs(e)?e.toArray():[e],n=this.toArray();return this._make(t.filter(r=>n.some(i=>vC(i,r))))}return this._findBySelector(e,Number.POSITIVE_INFINITY)}function ej(e,t){var n;const r=this.toArray(),i=JB.test(e)?r:this.children().toArray(),s={context:r,root:(n=this._root)===null||n===void 0?void 0:n[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(XB(e,i,s,t))}function qg(e){return function(t,...n){return function(r){var i;let s=e(t,this);return r&&(s=$g(s,r,this.options.xmlMode,(i=this._root)===null||i===void 0?void 0:i[0])),this._make(this.length>1&&s.length>1?n.reduce((a,o)=>o(a),s):s)}}}const sc=qg((e,t)=>{let n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);i.length>0&&(n=n.concat(i))}return n}),Gg=qg((e,t)=>{const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);i!==null&&n.push(i)}return n});function Vg(e,...t){let n=null;const r=qg((i,s)=>{const a=[];return on(s,o=>{for(let u;(u=i(o))&&!(n!=null&&n(u,a.length));o=u)a.push(u)}),a})(e,...t);return function(i,s){n=typeof i=="string"?o=>$C(o,i,this.options):i?ac(i):null;const a=r.call(this,s);return n=null,a}}function io(e){return e.length>1?Array.from(new Set(e)):e}const tj=Gg(({parent:e})=>e&&!Ks(e)?e:null,io),nj=sc(e=>{const t=[];for(;e.parent&&!Ks(e.parent);)t.push(e.parent),e=e.parent;return t},ro,e=>e.reverse()),rj=Vg(({parent:e})=>e&&!Ks(e)?e:null,ro,e=>e.reverse());function ij(e){var t;const n=[];if(!e)return this._make(n);const r={xmlMode:this.options.xmlMode,root:(t=this._root)===null||t===void 0?void 0:t[0]},i=typeof e=="string"?s=>$C(s,e,r):ac(e);return on(this,s=>{for(s&&!Ks(s)&&!Xe(s)&&(s=s.parent);s&&Xe(s);){if(i(s,0)){n.includes(s)||n.push(s);break}s=s.parent}}),this._make(n)}const sj=Gg(e=>Lg(e)),aj=sc(e=>{const t=[];for(;e.next;)e=e.next,Xe(e)&&t.push(e);return t},io),uj=Vg(e=>Lg(e),io),oj=Gg(e=>Pg(e)),lj=sc(e=>{const t=[];for(;e.prev;)e=e.prev,Xe(e)&&t.push(e);return t},io),cj=Vg(e=>Pg(e),io),dj=sc(e=>_C(e).filter(t=>Xe(t)&&t!==e),ro),fj=sc(e=>oh(e).filter(Xe),io);function hj(){const e=this.toArray().reduce((t,n)=>mn(n)?t.concat(n.children):t,[]);return this._make(e)}function pj(e){let t=0;const n=this.length;for(;t<n&&e.call(this[t],t,this[t])!==!1;)++t;return this}function mj(e){let t=[];for(let n=0;n<this.length;n++){const r=this[n],i=e.call(r,n,r);i!=null&&(t=t.concat(i))}return this._make(t)}function ac(e){return typeof e=="function"?(t,n)=>e.call(t,n,t):cs(e)?t=>Array.prototype.includes.call(e,t):function(t){return e===t}}function gj(e){var t;return this._make($g(this.toArray(),e,this.options.xmlMode,(t=this._root)===null||t===void 0?void 0:t[0]))}function $g(e,t,n,r){return typeof t=="string"?YC(t,e,{xmlMode:n,root:r}):e.filter(ac(t))}function bj(e){const t=this.toArray();return typeof e=="string"?WC(t.filter(Xe),e,this.options):e?t.some(ac(e)):!1}function Tj(e){let t=this.toArray();if(typeof e=="string"){const n=new Set(YC(e,t,this.options));t=t.filter(r=>!n.has(r))}else{const n=ac(e);t=t.filter((r,i)=>!n(r,i))}return this._make(t)}function Ej(e){return this.filter(typeof e=="string"?`:has(${e})`:(t,n)=>this._make(n).find(e).length>0)}function yj(){return this.length>1?this._make(this[0]):this}function _j(){return this.length>0?this._make(this[this.length-1]):this}function xj(e){var t;return e=+e,e===0&&this.length<=1?this:(e<0&&(e=this.length+e),this._make((t=this[e])!==null&&t!==void 0?t:[]))}function Aj(e){return e==null?this.toArray():this[e<0?this.length+e:e]}function Cj(){return Array.prototype.slice.call(this)}function Sj(e){let t,n;return e==null?(t=this.parent().children(),n=this[0]):typeof e=="string"?(t=this._make(e),n=this[0]):(t=this,n=cs(e)?e[0]:e),Array.prototype.indexOf.call(t,n)}function Nj(e,t){return this._make(Array.prototype.slice.call(this,e,t))}function vj(){var e;return(e=this.prevObject)!==null&&e!==void 0?e:this._make([])}function wj(e,t){const n=this._make(e,t),r=ro([...this.get(),...n.get()]);return this._make(r)}function Ij(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this}const kj=Object.freeze(Object.defineProperty({__proto__:null,_findBySelector:ej,add:wj,addBack:Ij,children:fj,closest:ij,contents:hj,each:pj,end:vj,eq:xj,filter:gj,filterArray:$g,find:ZB,first:yj,get:Aj,has:Ej,index:Sj,is:bj,last:_j,map:mj,next:sj,nextAll:aj,nextUntil:uj,not:Tj,parent:tj,parents:nj,parentsUntil:rj,prev:oj,prevAll:lj,prevUntil:cj,siblings:dj,slice:Nj,toArray:Cj},Symbol.toStringTag,{value:"Module"}));function Oj(e){return function(n,r,i,s){if(typeof Buffer!="undefined"&&Buffer.isBuffer(n)&&(n=n.toString()),typeof n=="string")return e(n,r,i,s);const a=n;if(!Array.isArray(a)&&Ks(a))return a;const o=new Ha([]);return Ua(a,o),o}}function Ua(e,t){const n=Array.isArray(e)?e:[e];t?t.children=n:t=null;for(let r=0;r<n.length;r++){const i=n[r];i.parent&&i.parent.children!==n&&Ja(i),t?(i.prev=n[r-1]||null,i.next=n[r+1]||null):i.prev=i.next=null,i.parent=t}return t}function Dj(e,t){if(e==null)return[];if(typeof e=="string")return this._parse(e,this.options,!1,null).children.slice(0);if("length"in e){if(e.length===1)return this._makeDomArray(e[0],t);const n=[];for(let r=0;r<e.length;r++){const i=e[r];if(typeof i=="object"){if(i==null)continue;if(!("length"in i)){n.push(t?Il(i,!0):i);continue}}n.push(...this._makeDomArray(i,t))}return n}return[t?Il(e,!0):e]}function JC(e){return function(...t){const n=this.length-1;return on(this,(r,i)=>{if(!mn(r))return;const s=typeof t[0]=="function"?t[0].call(r,i,this._render(r.children)):t,a=this._makeDomArray(s,i<n);e(a,r.children,r)})}}function Xs(e,t,n,r,i){var s,a;const o=[t,n,...r],u=t===0?null:e[t-1],c=t+n>=e.length?null:e[t+n];for(let l=0;l<r.length;++l){const d=r[l],h=d.parent;if(h){const p=h.children.indexOf(d);p!==-1&&(h.children.splice(p,1),i===h&&t>p&&o[0]--)}d.parent=i,d.prev&&(d.prev.next=(s=d.next)!==null&&s!==void 0?s:null),d.next&&(d.next.prev=(a=d.prev)!==null&&a!==void 0?a:null),d.prev=l===0?u:r[l-1],d.next=l===r.length-1?c:r[l+1]}return u&&(u.next=r[0]),c&&(c.prev=r[r.length-1]),e.splice(...o)}function Rj(e){return(cs(e)?e:this._make(e)).append(this),this}function Lj(e){return(cs(e)?e:this._make(e)).prepend(this),this}const Pj=JC((e,t,n)=>{Xs(t,t.length,0,e,n)}),Mj=JC((e,t,n)=>{Xs(t,0,0,e,n)});function ZC(e){return function(t){const n=this.length-1,r=this.parents().last();for(let i=0;i<this.length;i++){const s=this[i],a=typeof t=="function"?t.call(s,i,s):typeof t=="string"&&!Xp(t)?r.find(t).clone():t,[o]=this._makeDomArray(a,i<n);if(!o||!mn(o))continue;let u=o,c=0;for(;c<u.children.length;){const l=u.children[c];Xe(l)?(u=l,c=0):c++}e(s,u,[o])}return this}}const Bj=ZC((e,t,n)=>{const{parent:r}=e;if(!r)return;const i=r.children,s=i.indexOf(e);Ua([e],t),Xs(i,s,0,n,r)}),jj=ZC((e,t,n)=>{mn(e)&&(Ua(e.children,t),Ua(n,e))});function Fj(e){return this.parent(e).not("body").each((t,n)=>{this._make(n).replaceWith(n.children)}),this}function Hj(e){const t=this[0];if(t){const n=this._make(typeof e=="function"?e.call(t,0,t):e).insertBefore(t);let r;for(let s=0;s<n.length;s++)n[s].type===Yp&&(r=n[s]);let i=0;for(;r&&i<r.children.length;){const s=r.children[i];s.type===Yp?(r=s,i=0):i++}r&&this._make(r).append(this)}return this}function Uj(...e){const t=this.length-1;return on(this,(n,r)=>{if(!mn(n)||!n.parent)return;const i=n.parent.children,s=i.indexOf(n);if(s===-1)return;const a=typeof e[0]=="function"?e[0].call(n,r,this._render(n.children)):e,o=this._makeDomArray(a,r<t);Xs(i,s+1,0,o,n.parent)})}function zj(e){typeof e=="string"&&(e=this._make(e)),this.remove();const t=[];for(const n of this._makeDomArray(e)){const r=this.clone().toArray(),{parent:i}=n;if(!i)continue;const s=i.children,a=s.indexOf(n);a!==-1&&(Xs(s,a+1,0,r,i),t.push(...r))}return this._make(t)}function qj(...e){const t=this.length-1;return on(this,(n,r)=>{if(!mn(n)||!n.parent)return;const i=n.parent.children,s=i.indexOf(n);if(s===-1)return;const a=typeof e[0]=="function"?e[0].call(n,r,this._render(n.children)):e,o=this._makeDomArray(a,r<t);Xs(i,s,0,o,n.parent)})}function Gj(e){const t=this._make(e);this.remove();const n=[];return on(t,r=>{const i=this.clone().toArray(),{parent:s}=r;if(!s)return;const a=s.children,o=a.indexOf(r);o!==-1&&(Xs(a,o,0,i,s),n.push(...i))}),this._make(n)}function Vj(e){const t=e?this.filter(e):this;return on(t,n=>{Ja(n),n.prev=n.next=n.parent=null}),this}function $j(e){return on(this,(t,n)=>{const{parent:r}=t;if(!r)return;const i=r.children,s=typeof e=="function"?e.call(t,n,t):e,a=this._makeDomArray(s);Ua(a,null);const o=i.indexOf(t);Xs(i,o,1,a,r),a.includes(t)||(t.parent=t.prev=t.next=null)})}function Wj(){return on(this,e=>{if(mn(e)){for(const t of e.children)t.next=t.prev=t.parent=null;e.children.length=0}})}function Yj(e){if(e===void 0){const t=this[0];return!t||!mn(t)?null:this._render(t.children)}return on(this,t=>{if(!mn(t))return;for(const r of t.children)r.next=r.prev=r.parent=null;const n=cs(e)?e.toArray():this._parse(`${e}`,this.options,!1,t).children;Ua(n,t)})}function Kj(){return this._render(this)}function Qj(e){return e===void 0?kl(this):typeof e=="function"?on(this,(t,n)=>this._make(t).text(e.call(t,n,kl([t])))):on(this,t=>{if(!mn(t))return;for(const r of t.children)r.next=r.prev=r.parent=null;const n=new wl(`${e}`);Ua(n,t)})}function Xj(){const e=Array.prototype.map.call(this.get(),n=>Il(n,!0)),t=new Ha(e);for(const n of e)n.parent=t;return this._make(e)}const Jj=Object.freeze(Object.defineProperty({__proto__:null,_makeDomArray:Dj,after:Uj,append:Pj,appendTo:Rj,before:qj,clone:Xj,empty:Wj,html:Yj,insertAfter:zj,insertBefore:Gj,prepend:Mj,prependTo:Lj,remove:Vj,replaceWith:$j,text:Qj,toString:Kj,unwrap:Fj,wrap:Bj,wrapAll:Hj,wrapInner:jj},Symbol.toStringTag,{value:"Module"}));function Zj(e,t){if(e!=null&&t!=null||typeof e=="object"&&!Array.isArray(e))return on(this,(n,r)=>{Xe(n)&&eS(n,e,t,r)});if(this.length!==0)return tS(this[0],e)}function eS(e,t,n,r){if(typeof t=="string"){const i=tS(e),s=typeof n=="function"?n.call(e,r,i[t]):n;s===""?delete i[t]:s!=null&&(i[t]=s),e.attribs.style=eF(i)}else if(typeof t=="object"){const i=Object.keys(t);for(let s=0;s<i.length;s++){const a=i[s];eS(e,a,t[a],s)}}}function tS(e,t){if(!e||!Xe(e))return;const n=tF(e.attribs.style);if(typeof t=="string")return n[t];if(Array.isArray(t)){const r={};for(const i of t)n[i]!=null&&(r[i]=n[i]);return r}return n}function eF(e){return Object.keys(e).reduce((t,n)=>`${t}${t?" ":""}${n}: ${e[n]};`,"")}function tF(e){if(e=(e||"").trim(),!e)return{};const t={};let n;for(const r of e.split(";")){const i=r.indexOf(":");if(i<1||i===r.length-1){const s=r.trimEnd();s.length>0&&n!==void 0&&(t[n]+=`;${s}`)}else n=r.slice(0,i).trim(),t[n]=r.slice(i+1).trim()}return t}const nF=Object.freeze(Object.defineProperty({__proto__:null,css:Zj},Symbol.toStringTag,{value:"Module"})),bE="input,select,textarea,keygen",rF=/%20/g,TE=/\r?\n/g;function iF(){return this.serializeArray().map(n=>`${encodeURIComponent(n.name)}=${encodeURIComponent(n.value)}`).join("&").replace(rF,"+")}function sF(){return this.map((e,t)=>{const n=this._make(t);return Xe(t)&&t.name==="form"?n.find(bE).toArray():n.filter(bE).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((e,t)=>{var n;const r=this._make(t),i=r.attr("name"),s=(n=r.val())!==null&&n!==void 0?n:"";return Array.isArray(s)?s.map(a=>({name:i,value:a.replace(TE,`\r
`)})):{name:i,value:s.replace(TE,`\r
`)}}).toArray()}const aF=Object.freeze(Object.defineProperty({__proto__:null,serialize:iF,serializeArray:sF},Symbol.toStringTag,{value:"Module"}));function uF(e){var t;return typeof e=="string"?{selector:e,value:"textContent"}:{selector:e.selector,value:(t=e.value)!==null&&t!==void 0?t:"textContent"}}function oF(e){const t={};for(const n in e){const r=e[n],i=Array.isArray(r),{selector:s,value:a}=uF(i?r[0]:r),o=typeof a=="function"?a:typeof a=="string"?u=>this._make(u).prop(a):u=>this._make(u).extract(a);if(i)t[n]=this._findBySelector(s,Number.POSITIVE_INFINITY).map((u,c)=>o(c,n,t)).get();else{const u=this._findBySelector(s,1);t[n]=u.length>0?o(u[0],n,t):void 0}}return t}const lF=Object.freeze(Object.defineProperty({__proto__:null,extract:oF},Symbol.toStringTag,{value:"Module"}));class uc{constructor(t,n,r){if(this.length=0,this.options=r,this._root=n,t){for(let i=0;i<t.length;i++)this[i]=t[i];this.length=t.length}}}uc.prototype.cheerio="[cheerio object]";uc.prototype.splice=Array.prototype.splice;uc.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(uc.prototype,dB,kj,Jj,nF,aF,lF);function cF(e,t){return function n(r,i,s=!0){if(r==null)throw new Error("cheerio.load() expects a string");const a=Qp(i),o=e(r,a,s,null);class u extends uc{_make(d,h){const f=c(d,h);return f.prevObject=this,f}_parse(d,h,f,p){return e(d,h,f,p)}_render(d){return t(d,this.options)}}function c(l,d,h=o,f){if(l&&cs(l))return l;const p=Qp(f,a),x=typeof h=="string"?[e(h,p,!1,null)]:"length"in h?h:[h],_=cs(x)?x:new u(x,null,p);if(_._root=_,!l)return new u(void 0,_,p);const b=typeof l=="string"&&Xp(l)?e(l,p,!1,null).children:dF(l)?[l]:Array.isArray(l)?l:void 0,T=new u(b,_,p);if(b)return T;if(typeof l!="string")throw new TypeError("Unexpected type of selector");let N=l;const g=d?typeof d=="string"?Xp(d)?new u([e(d,p,!1,null)],_,p):(N=`${d} ${N}`,_):cs(d)?d:new u(Array.isArray(d)?d:[d],_,p):_;return g?g.find(N):T}return Object.assign(c,$7,{load:n,_root:o,_options:a,fn:u.prototype,prototype:u.prototype}),c}}function dF(e){return!!e.name||e.type===wg||e.type===hC||e.type===pC}function EE(e){const t=e.includes('"')?"'":'"';return t+e+t}function fF(e,t,n){let r="!DOCTYPE ";return e&&(r+=e),t?r+=` PUBLIC ${EE(t)}`:n&&(r+=" SYSTEM"),n&&(r+=` ${EE(n)}`),r}const Ss={isCommentNode:ah,isElementNode:Xe,isTextNode:ki,createDocument(){const e=new Ha([]);return e["x-mode"]=Dr.NO_QUIRKS,e},createDocumentFragment(){return new Ha([])},createElement(e,t,n){const r=Object.create(null),i=Object.create(null),s=Object.create(null);for(let o=0;o<n.length;o++){const u=n[o].name;r[u]=n[o].value,i[u]=n[o].namespace,s[u]=n[o].prefix}const a=new Rg(e,r,[]);return a.namespace=t,a["x-attribsNamespace"]=i,a["x-attribsPrefix"]=s,a},createCommentNode(e){return new kg(e)},createTextNode(e){return new wl(e)},appendChild(e,t){const n=e.children[e.children.length-1];n&&(n.next=t,t.prev=n),e.children.push(t),t.parent=e},insertBefore(e,t,n){const r=e.children.indexOf(n),{prev:i}=n;i&&(i.next=t,t.prev=i),n.prev=t,t.next=n,e.children.splice(r,0,t),t.parent=e},setTemplateContent(e,t){Ss.appendChild(e,t)},getTemplateContent(e){return e.children[0]},setDocumentType(e,t,n,r){const i=fF(t,n,r);let s=e.children.find(a=>Kp(a)&&a.name==="!doctype");s?s.data=i!=null?i:null:(s=new Og("!doctype",i),Ss.appendChild(e,s)),s["x-name"]=t,s["x-publicId"]=n,s["x-systemId"]=r},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode(e){return e["x-mode"]},detachNode(e){if(e.parent){const t=e.parent.children.indexOf(e),{prev:n,next:r}=e;e.prev=null,e.next=null,n&&(n.next=r),r&&(r.prev=n),e.parent.children.splice(t,1),e.parent=null}},insertText(e,t){const n=e.children[e.children.length-1];n&&ki(n)?n.data+=t:Ss.appendChild(e,Ss.createTextNode(t))},insertTextBefore(e,t,n){const r=e.children[e.children.indexOf(n)-1];r&&ki(r)?r.data+=t:Ss.insertBefore(e,Ss.createTextNode(t),n)},adoptAttributes(e,t){for(let n=0;n<t.length;n++){const r=t[n].name;e.attribs[r]===void 0&&(e.attribs[r]=t[n].value,e["x-attribsNamespace"][r]=t[n].namespace,e["x-attribsPrefix"][r]=t[n].prefix)}},getFirstChild(e){return e.children[0]},getChildNodes(e){return e.children},getParentNode(e){return e.parent},getAttrList(e){return e.attributes},getTagName(e){return e.name},getNamespaceURI(e){return e.namespace},getTextNodeContent(e){return e.data},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){var t;return(t=e["x-name"])!==null&&t!==void 0?t:""},getDocumentTypeNodePublicId(e){var t;return(t=e["x-publicId"])!==null&&t!==void 0?t:""},getDocumentTypeNodeSystemId(e){var t;return(t=e["x-systemId"])!==null&&t!==void 0?t:""},isDocumentTypeNode(e){return Kp(e)&&e.name==="!doctype"},setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){t.endOffset!=null&&(e.endIndex=t.endOffset),e.sourceCodeLocation=U(U({},e.sourceCodeLocation),t)}};function hF(e,t,n,r){var i;return(i=t.treeAdapter)!==null&&i!==void 0||(t.treeAdapter=Ss),t.scriptingEnabled!==!1&&(t.scriptingEnabled=!0),n?y9(e,t):_9(r,e,t)}const pF={treeAdapter:Ss};function mF(e){const t="length"in e?e:[e];for(let r=0;r<t.length;r+=1){const i=t[r];Ks(i)&&Array.prototype.splice.call(t,r,1,...i.children)}let n="";for(let r=0;r<t.length;r+=1){const i=t[r];n+=h9(i,pF)}return n}const gF=Oj((e,t,n,r)=>t._useHtmlParser2?tB(e,t):hF(e,t,n,r)),bF=cF(gF,(e,t)=>t._useHtmlParser2?uh(e,t):mF(e));function TF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}function rm(e,t){return Array(t+1).join(e)}function nS(e){return e.replace(/^\n*/,"")}function rS(e){for(var t=e.length;t>0&&e[t-1]===`
`;)t--;return e.substring(0,t)}function iS(e){return rS(nS(e))}var EF=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function Wg(e){return Yg(e,EF)}var sS=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function aS(e){return Yg(e,sS)}function yF(e){return oS(e,sS)}var uS=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function _F(e){return Yg(e,uS)}function xF(e){return oS(e,uS)}function Yg(e,t){return t.indexOf(e.nodeName)>=0}function oS(e,t){return e.getElementsByTagName&&t.some(function(n){return e.getElementsByTagName(n).length})}var Jn={};Jn.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}};Jn.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+`
`}};Jn.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var i=rm(r===1?"=":"-",e.length);return`

`+e+`
`+i+`

`}else return`

`+rm("#",r)+" "+e+`

`}};Jn.blockquote={filter:"blockquote",replacement:function(e){return e=iS(e).replace(/^/gm,"> "),`

`+e+`

`}};Jn.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return n.nodeName==="LI"&&n.lastElementChild===t?`
`+e:`

`+e+`

`}};Jn.listItem={filter:"li",replacement:function(e,t,n){var r=n.bulletListMarker+"   ",i=t.parentNode;if(i.nodeName==="OL"){var s=i.getAttribute("start"),a=Array.prototype.indexOf.call(i.children,t);r=(s?Number(s)+a:a+1)+".  "}var o=/\n$/.test(e);return e=iS(e)+(o?`
`:""),e=e.replace(/\n/gm,`
`+" ".repeat(r.length)),r+e+(t.nextSibling?`
`:"")}};Jn.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};Jn.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){for(var r=t.firstChild.getAttribute("class")||"",i=(r.match(/language-(\S+)/)||[null,""])[1],s=t.firstChild.textContent,a=n.fence.charAt(0),o=3,u=new RegExp("^"+a+"{3,}","gm"),c;c=u.exec(s);)c[0].length>=o&&(o=c[0].length+1);var l=rm(a,o);return`

`+l+i+`
`+s.replace(/\n$/,"")+`
`+l+`

`}};Jn.horizontalRule={filter:"hr",replacement:function(e,t,n){return`

`+n.hr+`

`}};Jn.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href");n&&(n=n.replace(/([()])/g,"\\$1"));var r=qd(t.getAttribute("title"));return r&&(r=' "'+r.replace(/"/g,'\\"')+'"'),"["+e+"]("+n+r+")"}};Jn.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,n){var r=t.getAttribute("href"),i=qd(t.getAttribute("title"));i&&(i=' "'+i+'"');var s,a;switch(n.linkReferenceStyle){case"collapsed":s="["+e+"][]",a="["+e+"]: "+r+i;break;case"shortcut":s="["+e+"]",a="["+e+"]: "+r+i;break;default:var o=this.references.length+1;s="["+e+"]["+o+"]",a="["+o+"]: "+r+i}return this.references.push(a),s},references:[],append:function(e){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};Jn.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}};Jn.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}};Jn.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+t+e+t+n}};Jn.image={filter:"img",replacement:function(e,t){var n=qd(t.getAttribute("alt")),r=t.getAttribute("src")||"",i=qd(t.getAttribute("title")),s=i?' "'+i+'"':"";return r?"!["+n+"]("+r+s+")":""}};function qd(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function lS(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}lS.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=g0(this.array,e,this.options))||(t=g0(this._keep,e,this.options))||(t=g0(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function g0(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(AF(i,t,n))return i}}function AF(e,t,n){var r=e.filter;if(typeof r=="string"){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(e,t,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function CF(e){var t=e.element,n=e.isBlock,r=e.isVoid,i=e.isPre||function(d){return d.nodeName==="PRE"};if(!(!t.firstChild||i(t))){for(var s=null,a=!1,o=null,u=yE(o,t,i);u!==t;){if(u.nodeType===3||u.nodeType===4){var c=u.data.replace(/[ \r\n\t]+/g," ");if((!s||/ $/.test(s.data))&&!a&&c[0]===" "&&(c=c.substr(1)),!c){u=b0(u);continue}u.data=c,s=u}else if(u.nodeType===1)n(u)||u.nodeName==="BR"?(s&&(s.data=s.data.replace(/ $/,"")),s=null,a=!1):r(u)||i(u)?(s=null,a=!0):s&&(a=!1);else{u=b0(u);continue}var l=yE(o,u,i);o=u,u=l}s&&(s.data=s.data.replace(/ $/,""),s.data||b0(s))}}function b0(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function yE(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var Kg=typeof window!="undefined"?window:{};function SF(){var e=Kg.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch(n){}return t}function NF(){var e=function(){};return vF()?e.prototype.parseFromString=function(t){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(t),n.close(),n}:e.prototype.parseFromString=function(t){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(t),n.close(),n},e}function vF(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){Kg.ActiveXObject&&(e=!0)}return e}var wF=SF()?Kg.DOMParser:NF();function IF(e,t){var n;if(typeof e=="string"){var r=kF().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=e.cloneNode(!0);return CF({element:n,isBlock:Wg,isVoid:aS,isPre:t.preformattedCode?OF:null}),n}var T0;function kF(){return T0=T0||new wF,T0}function OF(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function DF(e,t){return e.isBlock=Wg(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=RF(e),e.flankingWhitespace=LF(e,t),e}function RF(e){return!aS(e)&&!_F(e)&&/^\s*$/i.test(e.textContent)&&!yF(e)&&!xF(e)}function LF(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=PF(e.textContent);return n.leadingAscii&&_E("left",e,t)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&_E("right",e,t)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function PF(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function _E(e,t,n){var r,i,s;return e==="left"?(r=t.previousSibling,i=/ $/):(r=t.nextSibling,i=/^ /),r&&(r.nodeType===3?s=i.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?s=!1:r.nodeType===1&&!Wg(r)&&(s=i.test(r.textContent))),s}var MF=Array.prototype.reduce,BF=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function qs(e){if(!(this instanceof qs))return new qs(e);var t={rules:Jn,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=TF({},t,e),this.rules=new lS(this.options)}qs.prototype={turndown:function(e){if(!HF(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=cS.call(this,new IF(e,this.options));return jF.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return BF.reduce(function(t,n){return t.replace(n[0],n[1])},e)}};function cS(e){var t=this;return MF.call(e.childNodes,function(n,r){r=new DF(r,t.options);var i="";return r.nodeType===3?i=r.isCode?r.nodeValue:t.escape(r.nodeValue):r.nodeType===1&&(i=FF.call(t,r)),dS(n,i)},"")}function jF(e){var t=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(e=dS(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function FF(e){var t=this.rules.forNode(e),n=cS.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function dS(e,t){var n=rS(e),r=nS(t),i=Math.max(e.length-n.length,t.length-r.length),s=`

`.substring(0,i);return n+s+r}function HF(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}const{TextArea:UF}=Ct,{Panel:xee}=sx,xE=[{id:"overview",icon:px,label:"Overview"},{id:"seo",icon:Op,label:"SEO"},{id:"bloginfo",icon:Al,label:"Blog Info"},{id:"regenerate",icon:xl,label:"Regenerate"}],AE=({blog:e,keywords:t,setKeywords:n,onPost:r,handleReplace:i,setProofreadingResults:s,proofreadingResults:a,handleSave:o,posted:u,isPosting:c,formData:l,editorContent:d,handleSubmit:h,setIsHumanizing:f,isHumanizing:p,setHumanizedContent:x,setIsHumanizeModalOpen:_,setIsSidebarOpen:b,unsavedChanges:T})=>{var gn,bn,wr,Gn,gi;const[N,g]=q.useState("overview"),[y,E]=q.useState(!1),[I,R]=q.useState(!1),[L,S]=q.useState(!1),[A,w]=q.useState(""),[O,D]=q.useState(""),[B,M]=q.useState(!1),[F,G]=q.useState(!1),[$,P]=q.useState([]),[j,W]=q.useState(!1),{data:H}=oi(le=>le.wordpress),[Z,ee]=q.useState({title:((gn=e==null?void 0:e.seoMetadata)==null?void 0:gn.title)||"",description:((bn=e==null?void 0:e.seoMetadata)==null?void 0:bn.description)||""}),[ae,_e]=q.useState(!1),[ge,je]=q.useState(null),[Se,Ie]=q.useState(!1),[qe,te]=q.useState(!1),[$e,st]=q.useState({}),[Rt,yt]=q.useState(!1),[xt,zt]=q.useState(!1),[Re,Nt]=q.useState({topic:"",title:"",focusKeywords:[],keywords:[],tone:"Professional",userDefinedLength:1e3,aiModel:"gemini",isCheckedGeneratedImages:!1,imageSource:Db,numberOfImages:0,useBrandVoice:!1,brandId:"",addCTA:!1,costCutter:!1,options:{includeFaqs:!1,includeInterlinks:!1,includeCompetitorResearch:!1,addOutBoundLinks:!1,performKeywordResearch:!1},isCheckedQuick:!1,wordpressPostStatus:!1,postingType:null,includeTableOfContents:!1}),At=oi(le=>le.auth.user),nt=((Gn=(wr=At==null?void 0:At.subscription)==null?void 0:wr.plan)==null?void 0:Gn.toLowerCase())||"free",Et=Ql(),ht=Vf(),ie=Z6(),{handlePopup:ce}=tg(),{loading:X}=oi(le=>le.analysis),{analysisResult:me}=oi(le=>le.analysis),re=me==null?void 0:me[e==null?void 0:e._id],lt=(H==null?void 0:H.integrations)&&Object.keys(H.integrations).length>0,Ht=c||!lt,be=["free","basic"].includes(nt),Be={WORDPRESS:"WordPress",SHOPIFY:"Shopify",SERVERENDPOINT:"Server",WIX:"Wix"},Ke=H!=null&&H.integrations?Object.entries(H.integrations).filter(([le,ke])=>(ke==null?void 0:ke.url)||(ke==null?void 0:ke.frontend)).map(([le,ke])=>({platform:le,link:le==="SERVERENDPOINT"&&ke.frontend||ke.url,label:Be[le]||le})):[],at=$.length>0;q.useEffect(()=>{bt(null,null,function*(){if(e!=null&&e._id){W(!0);try{const ke=yield iI(e._id);P(ke)}catch(ke){console.error("Failed to fetch blog postings:",ke)}finally{W(!1)}}})},[e==null?void 0:e._id,u]),q.useEffect(()=>{var le,ke;ee({title:((le=e==null?void 0:e.seoMetadata)==null?void 0:le.title)||"",description:((ke=e==null?void 0:e.seoMetadata)==null?void 0:ke.description)||""})},[e==null?void 0:e._id]),q.useEffect(()=>{var le,ke,Ze,et,Ne,K,Ee,Le,vt;if(e){const Ut=e.imageSource||Db,Pt=Ut!==bu.NONE&&Ut!=="none";Nt({topic:e.topic||"",title:e.title||"",focusKeywords:e.focusKeywords||[],keywords:e.keywords||[],tone:e.tone||"Professional",userDefinedLength:e.userDefinedLength||1e3,aiModel:e.aiModel||"gemini",isCheckedGeneratedImages:Pt,imageSource:Ut,numberOfImages:e.numberOfImages,useBrandVoice:e.isCheckedBrand||!1,brandId:typeof e.brandId=="object"?((le=e.brandId)==null?void 0:le._id)||"":e.brandId||"",addCTA:((ke=e.options)==null?void 0:ke.addCTA)||!1,costCutter:e.costCutter||!1,options:{includeFaqs:((Ze=e.options)==null?void 0:Ze.includeFaqs)||!1,includeInterlinks:((et=e.options)==null?void 0:et.includeInterlinks)||!1,includeCompetitorResearch:((Ne=e.options)==null?void 0:Ne.includeCompetitorResearch)||!1,addOutBoundLinks:((K=e.options)==null?void 0:K.addOutBoundLinks)||!1,performKeywordResearch:((Ee=e.options)==null?void 0:Ee.performKeywordResearch)||!1},isCheckedQuick:e.isCheckedQuick||!1,wordpressPostStatus:((Le=e.options)==null?void 0:Le.automaticPosting)||!1,postingType:e.postingDefaultType||null,includeTableOfContents:((vt=e.options)==null?void 0:vt.includeTableOfContents)||!1})}},[e]),q.useEffect(()=>{ht(eI())},[ht]),q.useEffect(()=>{e!=null&&e.options&&(st(e.options),yt(!1))},[e==null?void 0:e.options]);const Zt=le=>{if(!le)return 0;if(!/<article/i.test(le))return le.trim().replace(/\s+/g," ").split(" ").filter(Boolean).length;const ke=bF(le);return ke("script, style, iframe, svg, video, audio, noscript, figure, img, table, ul, ol, li, figcaption, hr, br").remove(),(ke("article").length?ke("article"):ke.root()).text().trim().replace(/\s+/g," ").split(" ").filter(Boolean).length},Je=q.useCallback((le,ke)=>{Nt(Ze=>{if(le.includes(".")){const[et,Ne]=le.split(".");return oe(U({},Ze),{[et]:oe(U({},Ze[et]),{[Ne]:ke})})}return oe(U({},Ze),{[le]:ke})})},[]),er=q.useCallback(()=>{const le=[];return Re.useBrandVoice&&le.push("brandVoice"),Re.options.includeCompetitorResearch&&le.push("competitorResearch"),Re.options.includeFaqs&&le.push("faqGeneration"),Re.options.includeInterlinks&&le.push("internalLinking"),Re.isCheckedQuick&&le.push("quickSummary"),Re.wordpressPostStatus&&le.push("automaticPosting"),ax({wordCount:Re.userDefinedLength||1e3,features:le,aiModel:Re.aiModel||"gemini",includeImages:Re.isCheckedGeneratedImages,imageSource:Re.imageSource,numberOfImages:Re.numberOfImages||3,isCheckedBrand:Re.useBrandVoice})},[Re]),Un=()=>bt(null,null,function*(){var Ze,et;const le=er(),ke=(((Ze=At==null?void 0:At.credits)==null?void 0:Ze.base)||0)+(((et=At==null?void 0:At.credits)==null?void 0:et.extra)||0);if(ke<le)return G(!1),ce({title:"Insufficient Credits",description:`Need ${le} credits, have ${ke}.`,confirmText:"Buy Credits",onConfirm:()=>Et("/pricing")});M(!0);try{const Ne={createNew:!0,topic:Re.topic,tone:Re.tone,userDefinedLength:Re.userDefinedLength,aiModel:Re.aiModel,costCutter:Re.costCutter,options:{includeFaqs:Re.options.includeFaqs,includeInterlinks:Re.options.includeInterlinks,includeCompetitorResearch:Re.options.includeCompetitorResearch,addOutBoundLinks:Re.options.addOutBoundLinks,performKeywordResearch:Re.options.performKeywordResearch}};Re.options.performKeywordResearch||(Ne.title=Re.title,Ne.focusKeywords=Re.focusKeywords,Ne.keywords=Re.keywords),Re.isCheckedGeneratedImages?(Ne.imageSource=Re.imageSource,Ne.numberOfImages=Re.numberOfImages||0):Ne.imageSource="none",Ne.isCheckedBrand=Re.useBrandVoice,Re.useBrandVoice&&Re.brandId&&(Ne.brandId=Re.brandId,Re.addCTA&&(Ne.options.addCTA=!0)),Re.isCheckedQuick&&(Ne.isCheckedQuick=!0),Re.wordpressPostStatus&&Re.postingType&&(Ne.options.automaticPosting=!0,Ne.postingDefaultType=Re.postingType,Re.includeTableOfContents&&(Ne.options.includeTableOfContents=!0));const K=EI(Ne);yield sI(e._id,K),ie.invalidateQueries({queryKey:["blogs"]}),de.success("Blog regeneration started!"),G(!1),Et("/blogs")}catch(Ne){de.error(Ne.message||"Failed to regenerate")}finally{M(!1)}}),zn=q.useCallback(()=>{if(be)return Et("/pricing");ce({title:"SEO Analysis",description:m.jsxs(m.Fragment,{children:["Run competitive analysis? ",m.jsx("span",{className:"font-bold",children:"10 credits"})]}),confirmText:"Run",onConfirm:()=>bt(null,null,function*(){try{yield ht(tI({blogId:e._id,title:e.title,content:e.content,keywords:t||(e==null?void 0:e.focusKeywords)||[]})).unwrap(),g("seo")}catch(le){de.error("Analysis failed")}})})},[be,Et,ce,ht,e,t]),tr=q.useCallback(()=>{if(be)return Et("/pricing");ce({title:"Generate Metadata",description:m.jsxs(m.Fragment,{children:["Generate SEO metadata? ",m.jsx("span",{className:"font-bold",children:"2 credits"})]}),onConfirm:()=>bt(null,null,function*(){te(!0);try{const le=yield ht(nI({content:d,keywords:t||[],focusKeywords:(e==null?void 0:e.focusKeywords)||[]})).unwrap();je(le),_e(!0)}catch(le){de.error("Generation failed")}finally{te(!1)}})})},[be,Et,ce,ht,d,t,e]),Nn=q.useCallback(()=>bt(null,null,function*(){ge&&(ee({title:ge.title||ge.metaTitle||"",description:ge.description||ge.metaDescription||""}),_e(!1),je(null),de.success("Metadata applied! Click Save to keep changes."))}),[ge]),qn=q.useCallback(()=>{_e(!1),je(null),de.info("Metadata discarded")},[]);q.useCallback((le,ke)=>{st(Ze=>oe(U({},Ze),{[le]:ke})),yt(!0)},[]),q.useCallback(()=>bt(null,null,function*(){zt(!0);try{yield h({options:$e}),yt(!1),de.success("Enhancement settings saved!")}catch(le){de.error("Failed to save settings")}finally{zt(!1)}}),[$e,h]),q.useCallback(()=>bt(null,null,function*(){if(be)return Et("/pricing");if(!A.trim())return de.error("Enter a prompt");ce({title:"Apply Custom Prompt",description:m.jsxs(m.Fragment,{children:["Modify content? ",m.jsx("span",{className:"font-bold",children:"5 credits"})]}),onConfirm:()=>bt(null,null,function*(){f(!0);try{const le=yield ht(rI({id:e._id,prompt:A})).unwrap();x(le.data),_(!0),w(""),de.success("Prompt applied!")}catch(le){de.error("Failed")}finally{f(!1)}})})}),[be,Et,ce,ht,e,A,x,f,_]);const Fr=q.useCallback(()=>bt(null,null,function*(){if(!Z.title&&!Z.description)return de.error("Enter metadata");try{yield h({metadata:Z}),de.success("Saved!")}catch(le){de.error("Save failed")}}),[h,Z]),rt=q.useCallback(()=>bt(null,null,function*(){if(!(e!=null&&e._id))return de.error("Blog ID missing");if(!(d!=null&&d.trim()))return de.error("No content to export");try{de.loading({content:Se?"Preparing PDF with images...":"Generating PDF...",key:"pdf-export"});const{data:le,filename:ke}=yield jh(e._id,{type:"pdf",withImages:Se}),Ze=window.URL.createObjectURL(le),et=document.createElement("a");et.href=Ze;const Ne=Se?`${e.title||"blog"}.zip`:`${e.title||"blog"}.pdf`;et.download=Ne,document.body.appendChild(et),et.click(),window.URL.revokeObjectURL(Ze),document.body.removeChild(et);const K=Se?"PDF with images downloaded as ZIP!":"PDF downloaded successfully!";de.success({content:K,key:"pdf-export"})}catch(le){console.error("PDF Export Error:",le),de.error({content:le.message||"Failed to export PDF",key:"pdf-export"})}}),[e,d,Se]);q.useCallback(()=>{ce({title:"Rewrite Keywords",description:"Rewrite content with keywords? (3 times max)",onConfirm:o})},[ce,o]);const nr=q.useCallback(()=>{if(nt==="free")return ce({title:"Posting Unavailable",description:"Free users cannot publish blogs. Upgrade to unlock automated posting.",confirmText:"Upgrade Now",onConfirm:()=>Et("/pricing")});T?ce({title:"Unsaved Changes",description:"Save before posting?",confirmText:"Save & Post",cancelText:"Post Anyway",onConfirm:()=>bt(null,null,function*(){yield h({metadata:Z}),R(!0)}),onCancel:le=>(le==null?void 0:le.source)==="button"&&R(!0)}):R(!0)},[T,ce,h,Z,nt,Et]),zi=q.useCallback(({category:le,includeTableOfContents:ke,type:Ze})=>{r(oe(U({},l),{categories:le,includeTableOfContents:ke,type:Ze}))},[l,r]);q.useCallback(()=>{if(O.trim()){const le=O.split(",").map(ke=>ke.trim().toLowerCase()).filter(ke=>ke&&!t.map(Ze=>Ze.toLowerCase()).includes(ke));le.length>0&&n(ke=>[...ke,...le]),D("")}},[O,t,n]),q.useCallback(le=>{n(ke=>ke.filter(Ze=>Ze!==le))},[n]);const Ce=((gi=re==null?void 0:re.insights)==null?void 0:gi.blogScore)||(e==null?void 0:e.seoScore)||0,Me=(e==null?void 0:e.blogScore)||0,it=()=>m.jsxs("div",{className:"flex flex-col h-full",children:[m.jsx("div",{className:"p-4 border-b bg-white sticky top-0 z-10",children:m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2.5 bg-blue-600 rounded-xl shadow-lg shadow-blue-100",children:m.jsx(px,{className:"w-5 h-5 text-white"})}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h3",{className:"font-bold text-gray-900",children:"Analysis"}),be&&m.jsx("span",{className:"text-[10px] bg-amber-100 text-amber-700 px-2 py-0.5 rounded-lg font-bold",children:"PRO"})]}),m.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mt-0.5",children:"Real-time Statistics"})]})]}),b&&m.jsx("button",{onClick:()=>b(!1),className:"md:hidden p-2 hover:bg-gray-100 rounded-lg",children:m.jsx(zs,{className:"w-5 h-5 text-gray-400"})})]})}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 custom-scroll",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl border border-gray-100 flex flex-col items-center justify-center text-center group hover:bg-white hover:shadow-md transition-all",children:[m.jsx("div",{className:"text-2xl font-black text-gray-900 group-hover:text-blue-600 transition-colors",children:Zt(d)}),m.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Word Count"})]}),m.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl border border-gray-100 flex flex-col items-center justify-center text-center group hover:bg-white hover:shadow-md transition-all",children:[m.jsx("div",{className:"text-2xl font-black text-gray-900 group-hover:text-purple-600 transition-colors",children:(t==null?void 0:t.length)||0}),m.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Keywords"})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(ZT,{title:"Quality Score",score:Me,icon:Dp}),m.jsx(ZT,{title:"SEO Potential",score:Ce,icon:Op})]}),m.jsxs("div",{className:"p-4 bg-white border border-gray-100 rounded-2xl shadow-sm hover:shadow-md transition-all",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx(ls,{className:"w-5 h-5 text-indigo-500"}),m.jsx("h4",{className:"text-base font-bold text-gray-900",children:"Boost SEO Score"})]}),m.jsx("p",{className:"text-sm text-gray-500 mb-4 font-medium leading-relaxed",children:"Run our advanced competitive analysis to uncover keyword opportunities and improve rankings."}),m.jsx("button",{onClick:zn,disabled:X,className:`
              w-full py-3 px-4 rounded-xl text-xs font-bold transition-all shadow-sm
              ${X?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:shadow-lg active:scale-[0.98]"}
            `,children:X?"Analyzing Content...":"Run Analysis (10 Credits)"})]})]}),m.jsxs("div",{className:"p-4 bg-white border-t border-gray-50",children:[j?m.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-xl border border-gray-200",children:m.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[m.jsx(xl,{className:"w-4 h-4 animate-spin"}),m.jsx("span",{className:"text-xs",children:"Loading postings..."})]})}):at?m.jsxs("div",{className:"mb-4 p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Rb,{className:"w-4 h-4 text-green-600"}),m.jsx("span",{className:"text-xs font-bold text-green-900 uppercase tracking-wider",children:"Publishing History"})]}),m.jsx("span",{className:"text-xs font-semibold text-green-700 bg-green-100 px-2 py-0.5 rounded-full",children:$.length})]}),m.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto custom-scroll",children:$.map((le,ke)=>m.jsx("div",{className:"p-2.5 bg-white rounded-lg border border-green-100 hover:border-green-300 transition-all group",children:m.jsx("div",{className:"flex items-start justify-between gap-2",children:m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("span",{className:"text-sm font-semibold text-gray-800 capitalize",children:Be[le.platform]||le.platform}),le.status&&m.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded-full font-medium ${le.status==="published"?"bg-green-100 text-green-700":le.status==="failed"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:le.status})]}),le.link&&m.jsxs("a",{href:le.link,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 hover:underline flex items-center gap-1 truncate",children:[m.jsx("span",{className:"truncate",children:le.link}),m.jsx(_l,{className:"w-3 h-3 flex-shrink-0"})]}),le.publishedAt&&m.jsxs("div",{className:"flex items-center gap-1 mt-1 text-[10px] text-gray-500",children:[m.jsx(vI,{className:"w-3 h-3"}),m.jsx("span",{children:new Date(le.publishedAt).toLocaleString()})]})]})})},le._id||ke))})]}):null,m.jsx(He,{type:"primary",size:"large",block:!0,onClick:nr,loading:c,disabled:Ht||nt==="free",className:`h-14 font-semibold rounded-2xl border-none shadow transition-all active:scale-[0.98] ${nt==="free"?"!bg-gray-200 !text-gray-400":"bg-gradient-to-r from-emerald-500 to-green-600 text-white"}`,children:nt==="free"?m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx(Lb,{className:"w-4 h-4"})," ",m.jsx("span",{children:"Upgrade to Publish"})]}):c?"Publishing...":m.jsx("div",{className:"flex items-center justify-center gap-2",children:m.jsx("span",{children:$.length>0?"Re-Post Blog":"Post Blog"})})})]})]}),ct=()=>bt(null,null,function*(){if(nt==="free")return ce({title:"Export Unavailable",description:"Free users cannot export blogs. Upgrade to unlock this feature.",confirmText:"Upgrade Now",onConfirm:()=>Et("/pricing")});if(!(e!=null&&e._id))return de.error("Blog ID missing");if(!(d!=null&&d.trim()))return de.error("No content to export");try{de.loading({content:Se?"Preparing Markdown with images...":"Generating Markdown...",key:"md-export"});const{data:le,filename:ke}=yield jh(e._id,{type:"markdown",withImages:Se}),Ze=window.URL.createObjectURL(le),et=document.createElement("a");et.href=Ze;const Ne=Se?`${e.title||"blog"}.zip`:`${e.title||"blog"}.md`;et.download=Ne,document.body.appendChild(et),et.click(),window.URL.revokeObjectURL(Ze),document.body.removeChild(et);const K=Se?"Markdown with images downloaded as ZIP!":"Markdown downloaded successfully!";de.success({content:K,key:"md-export"})}catch(le){console.error("Markdown export error:",le),de.error({content:le.message||"Failed to export Markdown",key:"md-export"})}}),Lt=()=>bt(null,null,function*(){if(nt==="free")return ce({title:"Export Unavailable",description:"Free users cannot export blogs. Upgrade to unlock this feature.",confirmText:"Upgrade Now",onConfirm:()=>Et("/pricing")});if(!(e!=null&&e._id))return de.error("Blog ID missing");if(!(d!=null&&d.trim()))return de.error("No content to export");try{de.loading({content:Se?"Preparing HTML with images...":"Generating HTML...",key:"html-export"});const{data:le,filename:ke}=yield jh(e._id,{type:"html",withImages:Se}),Ze=window.URL.createObjectURL(le),et=document.createElement("a");et.href=Ze;const Ne=Se?`${e.title||"blog"}.zip`:`${e.title||"blog"}.html`;et.download=Ne,document.body.appendChild(et),et.click(),window.URL.revokeObjectURL(Ze),document.body.removeChild(et);const K=Se?"HTML with images downloaded as ZIP!":"HTML downloaded successfully!";de.success({content:K,key:"html-export"})}catch(le){console.error("HTML export error:",le),de.error({content:le.message||"Failed to export HTML",key:"html-export"})}}),rn=()=>{var le,ke;return m.jsxs("div",{className:"flex flex-col h-full",children:[m.jsx("div",{className:"p-3 border-b bg-gradient-to-r from-gray-50 to-blue-50",children:m.jsx("div",{className:"flex items-center justify-between mb-2",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg",children:m.jsx(Op,{className:"w-4 h-4 text-white"})}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h3",{className:"font-semibold text-gray-900",children:"SEO & Export"}),be&&m.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full font-medium",children:m.jsx(II,{className:"w-4 h-4"})})]}),m.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Metadata, analysis & export options"})]})]})})}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-4",children:[m.jsxs("div",{className:"space-y-3 p-3 bg-white border rounded-xl shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2",children:[m.jsx(ls,{className:"w-4 h-4 text-blue-600"}),"SEO Metadata"]}),m.jsxs("button",{onClick:tr,className:"text-xs font-medium text-blue-600 hover:text-blue-700 hover:underline flex items-center gap-1",children:[m.jsx(ls,{className:"w-3 h-3"})," Generate"]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(Ct,{value:Z.title,onChange:Ze=>ee(et=>oe(U({},et),{title:Ze.target.value})),placeholder:"Meta title...",size:"small"}),m.jsx(UF,{value:Z.description,onChange:Ze=>ee(et=>oe(U({},et),{description:Ze.target.value})),placeholder:"Meta description...",rows:4,className:"!resize-none"})]}),m.jsx("button",{onClick:Fr,className:"w-full py-2 text-sm font-semibold rounded-lg bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow hover:shadow-md",children:"Save Metadata"})]}),m.jsxs("div",{className:"space-y-3 p-3 bg-white border rounded-xl shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Pb,{className:"w-4 h-4 text-green-600"}),m.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Export Blog"}),nt==="free"&&m.jsxs("span",{className:"ml-auto text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full flex items-center gap-1",children:[m.jsx(Lb,{className:"w-3 h-3"})," Pro"]})]}),m.jsxs("div",{className:`flex items-center justify-between p-2.5 rounded-lg border transition-all ${Se?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ai,{className:`w-4 h-4 transition-colors ${Se?"text-blue-600":"text-gray-500"}`}),m.jsx("span",{className:`text-sm font-medium transition-colors ${Se?"text-blue-900":"text-gray-700"}`,children:"Include Images"})]}),m.jsx(Ti,{checked:Se,onChange:Ie,disabled:nt==="free",size:"small"})]}),Se&&nt!=="free"&&m.jsx("div",{className:"px-2 py-1.5 bg-blue-50 border border-blue-100 rounded-lg",children:m.jsxs("p",{className:"text-xs text-blue-700 flex items-center gap-1",children:[m.jsx(Al,{className:"w-3 h-3"}),"Downloads as ZIP with images included"]})}),m.jsxs("div",{className:`
    grid gap-3
    grid-cols-1
    sm:grid-cols-2
    lg:grid-cols-3
  `,children:[m.jsxs("button",{onClick:ct,disabled:nt==="free",className:`
      group flex flex-col items-center justify-center gap-2
      py-4 px-3
      rounded-xl text-sm font-semibold
      border-2 transition-all duration-300
      ${nt==="free"?"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed":`
            bg-gradient-to-br from-blue-50 to-indigo-50
            hover:from-blue-100 hover:to-indigo-100
            text-blue-700 border-blue-200
            hover:border-blue-300 hover:shadow-lg
            active:scale-[0.98] sm:hover:scale-105
          `}
    `,children:[m.jsx(Dp,{className:`
        w-6 h-6
        ${nt!=="free"&&"sm:group-hover:scale-110 transition-transform"}
      `}),m.jsx("span",{children:"Markdown"})]}),m.jsxs("button",{onClick:Lt,disabled:nt==="free",className:`
      group flex flex-col items-center justify-center gap-2
      py-4 px-3
      rounded-xl text-sm font-semibold
      border-2 transition-all duration-300
      ${nt==="free"?"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed":`
            bg-gradient-to-br from-purple-50 to-pink-50
            hover:from-purple-100 hover:to-pink-100
            text-purple-700 border-purple-200
            hover:border-purple-300 hover:shadow-lg
            active:scale-[0.98] sm:hover:scale-105
          `}
    `,children:[m.jsx(ck,{className:`
        w-6 h-6
        ${nt!=="free"&&"sm:group-hover:scale-110 transition-transform"}
      `}),m.jsx("span",{children:"HTML"})]}),m.jsxs("button",{onClick:rt,disabled:nt==="free",className:`
      group flex flex-col items-center justify-center gap-2
      py-4 px-3
      rounded-xl text-sm font-semibold
      border-2 transition-all duration-300
      ${nt==="free"?"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed":`
            bg-gradient-to-br from-green-50 to-emerald-50
            hover:from-green-100 hover:to-emerald-100
            text-green-700 border-green-200
            hover:border-green-300 hover:shadow-lg
            active:scale-[0.98] sm:hover:scale-105
          `}
    `,children:[m.jsx(Pb,{className:`
        w-6 h-6
        ${nt!=="free"&&"sm:group-hover:scale-110 transition-transform"}
      `}),m.jsx("span",{children:"PDF"})]})]}),nt==="free"&&m.jsx("div",{className:"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:m.jsx("p",{className:"text-xs text-amber-700 text-center font-medium",children:"ð Upgrade to export your blogs in multiple formats"})})]}),re&&m.jsxs("div",{className:"space-y-4",children:[((le=re.insights)==null?void 0:le.analysis)&&m.jsxs("div",{className:"space-y-3 p-3 bg-white border rounded-xl shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(ek,{className:"w-4 h-4 text-purple-600"}),m.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Detailed Analysis"})]}),m.jsx(sx,{ghost:!0,className:"bg-transparent",items:Object.entries(re.insights.analysis).map(([Ze,et])=>({key:Ze,label:m.jsxs("div",{className:"flex items-center justify-between w-full pr-2",children:[m.jsx("span",{className:"font-medium text-gray-800 text-sm",children:Ze.replace(/([A-Z])/g," $1").trim()}),m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("span",{className:"text-xs font-bold text-indigo-600",children:[et.score,"/",et.maxScore]})})]}),children:m.jsx("div",{className:"",children:m.jsx("p",{className:"text-xs text-gray-600 leading-relaxed bg-gray-50 p-3 rounded-lg border border-gray-100",children:et.feedback})})}))})]}),((ke=re.insights)==null?void 0:ke.suggestions)&&re.insights.suggestions.length>0&&m.jsxs("div",{className:"space-y-3 p-3 bg-white border rounded-xl shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(_k,{className:"w-4 h-4 text-amber-600"}),m.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Actionable Suggestions"}),m.jsx("span",{className:"ml-auto text-xs bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full font-medium",children:re.insights.suggestions.length})]}),m.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto custom-scroll",children:re.insights.suggestions.map((Ze,et)=>m.jsxs(jn.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:et*.05},className:"flex items-start gap-2 p-2.5 bg-amber-50 rounded-lg border border-amber-100",children:[m.jsx("div",{className:"w-5 h-5 bg-amber-200 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:m.jsx("span",{className:"text-xs font-bold text-amber-700",children:et+1})}),m.jsx("p",{className:"text-xs text-amber-900 leading-relaxed flex-1",children:Ze})]},et))})]}),re.competitors&&re.competitors.length>0&&m.jsxs("div",{className:"space-y-3 p-3 bg-white border rounded-xl shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(kI,{className:"w-4 h-4 text-blue-600"}),m.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Top Competitors"}),m.jsx("span",{className:"ml-auto text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full font-medium",children:re.competitors.length})]}),m.jsx(L7,{competitors:re.competitors})]})]})]})]})},an=()=>m.jsxs("div",{className:"flex flex-col h-full",children:[m.jsx("div",{className:"p-3 border-b bg-gradient-to-r from-gray-50 to-blue-50",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-lg",children:m.jsx(Al,{className:"w-4 h-4 text-white"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-900",children:"Blog Information"}),m.jsx("p",{className:"text-xs text-gray-500 font-medium mt-0.5",children:"Metadata and settings used for this blog"})]})]})}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-4 custom-scroll",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"p-3 bg-white border rounded-lg",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Template"}),m.jsx("div",{className:"font-semibold text-gray-900",children:(e==null?void 0:e.template)||"N/A"})]}),m.jsxs("div",{className:"p-3 bg-white border rounded-lg",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Category"}),m.jsx("div",{className:"font-semibold text-gray-900",children:(e==null?void 0:e.category)||"N/A"})]})]}),(e==null?void 0:e.tags)&&e.tags.length>0&&m.jsxs("div",{className:"p-3 bg-white border rounded-lg",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Tags"}),m.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.tags.map((le,ke)=>m.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-50 text-blue-700 rounded-full text-xs font-medium",children:[m.jsx(wI,{className:"w-3 h-3 mr-1"}),le]},ke))})]}),(e==null?void 0:e.keywords)&&e.keywords.length>0&&m.jsxs("div",{className:"p-3 bg-white border rounded-lg",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Keywords"}),m.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.keywords.map((le,ke)=>m.jsx("span",{className:"px-2 py-1 bg-purple-50 text-purple-700 rounded text-xs",children:le},ke))})]}),(e==null?void 0:e.focusKeywords)&&e.focusKeywords.length>0&&m.jsxs("div",{className:"p-3 bg-white border rounded-lg",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Focus Keywords"}),m.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.focusKeywords.map((le,ke)=>m.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 rounded text-xs font-medium",children:le},ke))})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"p-3 bg-white border rounded-lg",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Tone"}),m.jsx("div",{className:"font-semibold text-gray-900",children:(e==null?void 0:e.tone)||"N/A"})]}),m.jsxs("div",{className:"p-3 bg-white border rounded-lg",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Target Length"}),m.jsxs("div",{className:"font-semibold text-gray-900",children:[(e==null?void 0:e.userDefinedLength)||0," words"]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"p-3 bg-white border rounded-lg",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"AI Model"}),m.jsx("div",{className:"font-semibold text-gray-900 capitalize",children:(e==null?void 0:e.aiModel)||"N/A"})]}),m.jsxs("div",{className:"p-3 bg-white border rounded-lg",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Image Source"}),m.jsx("div",{className:"font-semibold text-gray-900 capitalize",children:(e==null?void 0:e.imageSource)||"none"})]})]}),(e==null?void 0:e.options)&&m.jsxs("div",{className:"p-3 bg-white border rounded-lg",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Features Enabled"}),m.jsx("div",{className:"space-y-1.5",children:Object.entries(e.options).map(([le,ke])=>ke&&m.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[m.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),m.jsx("span",{className:"text-gray-700 capitalize",children:le.replace(/([A-Z])/g," $1").trim()})]},le))})]})]})]}),Xr=()=>{switch(N){case"overview":return it();case"seo":return rn();case"bloginfo":return an();default:return it()}};return y?m.jsxs("div",{className:"w-16 bg-gradient-to-b from-slate-50 to-gray-100 border-l border-gray-200 flex flex-col items-center gap-2",children:[m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx(kt,{title:"Expand Sidebar",placement:"left",children:m.jsx("button",{onClick:()=>E(!1),className:"w-11 h-11 rounded-2xl flex items-center justify-center text-gray-400 hover:text-blue-600 hover:bg-white hover:shadow-md transition-all duration-200 group",children:m.jsx(nk,{className:"w-5 h-5 transition-transform group-hover:-translate-x-0.5"})})}),m.jsx("div",{className:"w-8 h-px bg-gray-300 my-2"})]}),xE.map(le=>{const ke=le.icon;return m.jsx(kt,{title:le.label,placement:"left",children:m.jsx("button",{onClick:()=>{le.id==="regenerate"?(G(!0),E(!1)):(g(le.id),E(!1))},className:"w-11 h-11 rounded-2xl flex items-center justify-center text-gray-400 hover:text-blue-600 hover:bg-white hover:shadow-md transition-all duration-200 relative group",children:m.jsx(ke,{className:"w-5 h-5 transition-transform group-hover:scale-110"})})},le.id)})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex h-full",children:[m.jsx("div",{className:"flex-1 w-80 bg-white border-l overflow-hidden flex flex-col",children:m.jsx(eg,{mode:"wait",children:m.jsx(jn.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15},className:"h-full flex flex-col",children:Xr()},N)})}),m.jsxs("div",{className:"w-16 border-l border-gray-200 flex flex-col items-center py-5 gap-2",children:[m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx("div",{className:"hidden md:block",children:m.jsx(kt,{title:"Collapse Sidebar",placement:"left",children:m.jsx("button",{onClick:()=>E(!0),className:"w-11 h-11 rounded-2xl items-center justify-center text-gray-400 hover:text-gray-600 hover:bg-white hover:shadow-md transition-all duration-200 group flex",children:m.jsx(ik,{className:"w-5 h-5 transition-transform group-hover:translate-x-0.5"})})})}),m.jsx("div",{className:"md:hidden",children:m.jsx("button",{onClick:()=>b(!1),className:"w-11 h-11 rounded-2xl flex items-center justify-center text-gray-400 hover:text-red-500 hover:bg-red-50 transition-all duration-200",children:m.jsx(zs,{className:"w-5 h-5"})})}),m.jsx("div",{className:"w-full h-px bg-gray-300 my-2"})]}),xE.map(le=>{const ke=le.icon,Ze=N===le.id;return m.jsx(kt,{title:le.label,placement:"left",children:m.jsx("button",{onClick:()=>{le.id==="regenerate"?G(!0):g(le.id)},className:`w-11 h-11 rounded-2xl flex items-center justify-center transition-all duration-200 relative group ${Ze?"bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-200":"text-gray-400 hover:text-blue-600 hover:bg-white hover:shadow-md"}`,children:m.jsx(ke,{className:`w-5 h-5 transition-transform ${Ze?"":"group-hover:scale-110"}`})})},le.id)})]})]}),m.jsx(R7,{isCategoryModalOpen:I,setIsCategoryModalOpen:R,onSubmit:zi,initialCategory:l.category,initialIncludeTableOfContents:l.includeTableOfContents,integrations:H,blogData:e,posted:u}),m.jsx(hn,{title:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Rb,{className:"w-5 h-5 text-blue-600"}),m.jsx("span",{children:"Published Platforms"})]}),open:L,onCancel:()=>S(!1),footer:null,centered:!0,width:320,children:m.jsx("div",{className:"space-y-2",children:Ke.map(({platform:le,link:ke,label:Ze})=>m.jsxs("button",{onClick:()=>window.open(ke,"_blank"),className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm",children:[Ze," ",m.jsx(_l,{className:"w-4 h-4"})]},le))})}),m.jsx(hn,{title:"Generated SEO Metadata",open:ae,onCancel:qn,footer:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx(He,{onClick:qn,children:"Reject"}),m.jsx(He,{type:"primary",onClick:Nn,className:"bg-gradient-to-r from-green-500 to-emerald-600 border-0",children:"Accept & Apply"})]}),centered:!0,width:500,children:m.jsxs("div",{className:"space-y-4",children:[m.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Review the AI-generated metadata below. Accept to apply these changes or reject to keep your current data."}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Generated Title"}),m.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:m.jsx("p",{className:"text-sm text-gray-800",children:(ge==null?void 0:ge.title)||(ge==null?void 0:ge.metaTitle)||"No title generated"})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Generated Description"}),m.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:m.jsx("p",{className:"text-sm text-gray-800",children:(ge==null?void 0:ge.description)||(ge==null?void 0:ge.metaDescription)||"No description generated"})})]}),m.jsxs("div",{className:"border-t pt-4 mt-4",children:[m.jsx("p",{className:"text-xs font-medium text-gray-400 mb-2",children:"Current Values (will be replaced if accepted):"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("p",{className:"text-xs text-gray-500",children:[m.jsx("span",{className:"font-medium",children:"Title:"})," ",Z.title||"Not set"]}),m.jsxs("p",{className:"text-xs text-gray-500",children:[m.jsx("span",{className:"font-medium",children:"Description:"})," ",Z.description||"Not set"]})]})]})]})}),m.jsx(B7,{isOpen:F,onClose:()=>G(!1),onSubmit:Un,isRegenerating:B,regenForm:Re,updateRegenField:Je,userPlan:nt,integrations:H})]})};var E0={exports:{}},y0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function zF(){if(CE)return y0;CE=1;var e=ng();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,a=e.useDebugValue;function o(d,h){var f=h(),p=r({inst:{value:f,getSnapshot:h}}),x=p[0].inst,_=p[1];return s(function(){x.value=f,x.getSnapshot=h,u(x)&&_({inst:x})},[d,f,h]),i(function(){return u(x)&&_({inst:x}),d(function(){u(x)&&_({inst:x})})},[d]),a(f),f}function u(d){var h=d.getSnapshot;d=d.value;try{var f=h();return!n(d,f)}catch(p){return!0}}function c(d,h){return h()}var l=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?c:o;return y0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:l,y0}var SE;function fS(){return SE||(SE=1,E0.exports=zF()),E0.exports}var hS=fS();function Mn(e){this.content=e}Mn.prototype={constructor:Mn,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),s=r.content.slice();return i==-1?s.push(n||e,t):(s[i+1]=t,n&&(s[i]=n)),new Mn(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Mn(n)},addToStart:function(e,t){return new Mn([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Mn(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),s=r.find(e);return i.splice(s==-1?i.length:s,0,t,n),new Mn(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Mn.from(e),e.size?new Mn(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Mn.from(e),e.size?new Mn(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Mn.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Mn.from=function(e){if(e instanceof Mn)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Mn(t)};function pS(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),s=t.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){let a=pS(i.content,s.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function mS(e,t,n,r){for(let i=e.childCount,s=t.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let a=e.child(--i),o=t.child(--s),u=a.nodeSize;if(a==o){n-=u,r-=u;continue}if(!a.sameMarkup(o))return{a:n,b:r};if(a.isText&&a.text!=o.text){let c=0,l=Math.min(a.text.length,o.text.length);for(;c<l&&a.text[a.text.length-c-1]==o.text[o.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(a.content.size||o.content.size){let c=mS(a.content,o.content,n-1,r-1);if(c)return c}n-=u,r-=u}}class he{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,s){for(let a=0,o=0;o<n;a++){let u=this.content[a],c=o+u.nodeSize;if(c>t&&r(u,i+o,s||null,a)!==!1&&u.content.size){let l=o+1;u.nodesBetween(Math.max(0,t-l),Math.min(u.content.size,n-l),r,i+l)}o=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let s="",a=!0;return this.nodesBetween(t,n,(o,u)=>{let c=o.isText?o.text.slice(Math.max(t,u)-u,n-u):o.isLeaf?i?typeof i=="function"?i(o):i:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&c||o.isTextblock)&&r&&(a?a=!1:s+=r),s+=c},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new he(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let s=0,a=0;a<n;s++){let o=this.content[s],u=a+o.nodeSize;u>t&&((a<t||u>n)&&(o.isText?o=o.cut(Math.max(0,t-a),Math.min(o.text.length,n-a)):o=o.cut(Math.max(0,t-a-1),Math.min(o.content.size,n-a-1))),r.push(o),i+=o.nodeSize),a=u}return new he(r,i)}cutByIndex(t,n){return t==n?he.empty:t==0&&n==this.content.length?this:new he(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new he(i,s)}addToStart(t){return new he([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new he(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return pS(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return mS(this,t,n,r)}findIndex(t){if(t==0)return kc(0,t);if(t==this.size)return kc(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=t)return s==t?kc(n+1,s):kc(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return he.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new he(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return he.empty;let n,r=0;for(let i=0;i<t.length;i++){let s=t[i];r+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(n||(n=t.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new he(n||t,r)}static from(t){if(!t)return he.empty;if(t instanceof he)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new he([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}he.empty=new he([],0);const _0={index:0,offset:0};function kc(e,t){return _0.index=e,_0.offset=t,_0}function Gd(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!Gd(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!Gd(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let Wt=class im{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let s=t[i];if(this.eq(s))return t;if(this.type.excludes(s.type))n||(n=t.slice(0,i));else{if(s.type.excludes(this.type))return t;!r&&s.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Gd(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return im.none;if(t instanceof im)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Wt.none=[];class Vd extends Error{}class we{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=bS(this.content,t+this.openStart,n);return r&&new we(r,this.openStart,this.openEnd)}removeBetween(t,n){return new we(gS(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return we.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new we(he.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let s=t.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new we(t,r,i)}}we.empty=new we(he.empty,0,0);function gS(e,t,n){let{index:r,offset:i}=e.findIndex(t),s=e.maybeChild(r),{index:a,offset:o}=e.findIndex(n);if(i==t||s.isText){if(o!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy(gS(s.content,t-i-1,n-i-1)))}function bS(e,t,n,r){let{index:i,offset:s}=e.findIndex(t),a=e.maybeChild(i);if(s==t||a.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let o=bS(a.content,t-s-1,n,a);return o&&e.replaceChild(i,a.copy(o))}function qF(e,t,n){if(n.openStart>e.depth)throw new Vd("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Vd("Inconsistent open depths");return TS(e,t,n,0)}function TS(e,t,n,r){let i=e.index(r),s=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let a=TS(e,t,n,r+1);return s.copy(s.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let a=e.parent,o=a.content;return La(a,o.cut(0,e.parentOffset).append(n.content).append(o.cut(t.parentOffset)))}else{let{start:a,end:o}=GF(n,e);return La(s,yS(e,a,o,t,r))}else return La(s,$d(e,t,r))}function ES(e,t){if(!t.type.compatibleContent(e.type))throw new Vd("Cannot join "+t.type.name+" onto "+e.type.name)}function sm(e,t,n){let r=e.node(n);return ES(r,t.node(n)),r}function Ra(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function ol(e,t,n,r){let i=(t||e).node(n),s=0,a=t?t.index(n):i.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(Ra(e.nodeAfter,r),s++));for(let o=s;o<a;o++)Ra(i.child(o),r);t&&t.depth==n&&t.textOffset&&Ra(t.nodeBefore,r)}function La(e,t){return e.type.checkContent(t),e.copy(t)}function yS(e,t,n,r,i){let s=e.depth>i&&sm(e,t,i+1),a=r.depth>i&&sm(n,r,i+1),o=[];return ol(null,e,i,o),s&&a&&t.index(i)==n.index(i)?(ES(s,a),Ra(La(s,yS(e,t,n,r,i+1)),o)):(s&&Ra(La(s,$d(e,t,i+1)),o),ol(t,n,i,o),a&&Ra(La(a,$d(n,r,i+1)),o)),ol(r,null,i,o),new he(o)}function $d(e,t,n){let r=[];if(ol(null,e,n,r),e.depth>n){let i=sm(e,t,n+1);Ra(La(i,$d(e,t,n+1)),r)}return ol(t,null,n,r),new he(r)}function GF(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let s=n-1;s>=0;s--)i=t.node(s).copy(he.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class Rl{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<t;s++)i+=r.child(s).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Wt.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let o=r;r=i,i=o}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new Wd(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let a=t;;){let{index:o,offset:u}=a.content.findIndex(s),c=s-u;if(r.push(a,o,i+u),!c||(a=a.child(o),a.isText))break;s=c-1,i+=u+1}return new Rl(n,r,s)}static resolveCached(t,n){let r=NE.get(t);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else NE.set(t,r=new VF);let i=r.elts[r.i]=Rl.resolve(t,n);return r.i=(r.i+1)%$F,i}}class VF{constructor(){this.elts=[],this.i=0}}const $F=12,NE=new WeakMap;class Wd{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const WF=Object.create(null);let js=class am{constructor(t,n,r,i=Wt.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||he.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Gd(this.attrs,n||t.defaultAttrs||WF)&&Wt.sameSet(this.marks,r||Wt.none)}copy(t=null){return t==this.content?this:new am(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new am(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return we.empty;let i=this.resolve(t),s=this.resolve(n),a=r?0:i.sharedDepth(n),o=i.start(a),c=i.node(a).content.cut(i.pos-o,s.pos-o);return new we(c,i.depth-a,s.depth-a)}replace(t,n,r){return qF(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return Rl.resolveCached(this,t)}resolveNoCache(t){return Rl.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),_S(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=he.empty,i=0,s=r.childCount){let a=this.contentMatchAt(t).matchFragment(r,i,s),o=a&&a.matchFragment(this.content,n);if(!o||!o.validEnd)return!1;for(let u=i;u<s;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(t).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Wt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Wt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=he.fromJSON(t,n.content),s=t.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};js.prototype.text=void 0;class Yd extends js{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):_S(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Yd(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Yd(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function _S(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class za{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new YF(t,n);if(r.next==null)return za.empty;let i=xS(r);r.next&&r.err("Unexpected trailing text");let s=tH(eH(i));return nH(s,r),s}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(t.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function s(a,o){let u=a.matchFragment(t,r);if(u&&(!n||u.validEnd))return he.from(o.map(c=>c.createAndFill()));for(let c=0;c<a.next.length;c++){let{type:l,next:d}=a.next[c];if(!(l.isText||l.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let h=s(d,o.concat(l));if(h)return h}}return null}return s(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(t)){let a=[];for(let o=i;o.type;o=o.via)a.push(o.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:o,next:u}=s.next[a];!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in n)&&(!i.type||u.validEnd)&&(r.push({match:o.contentMatch,type:o,via:i}),n[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+t.indexOf(r.next[a].next);return s}).join(`
`)}}za.empty=new za(!0);class YF{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function xS(e){let t=[];do t.push(KF(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function KF(e){let t=[];do t.push(QF(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function QF(e){let t=ZF(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=XF(e,t);else break;return t}function vE(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function XF(e,t){let n=vE(e),r=n;return e.eat(",")&&(e.next!="}"?r=vE(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function JF(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let s in n){let a=n[s];a.isInGroup(t)&&i.push(a)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function ZF(e){if(e.eat("(")){let t=xS(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=JF(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function eH(e){let t=[[]];return i(s(e,0),n()),t;function n(){return t.push([])-1}function r(a,o,u){let c={term:u,to:o};return t[a].push(c),c}function i(a,o){a.forEach(u=>u.to=o)}function s(a,o){if(a.type=="choice")return a.exprs.reduce((u,c)=>u.concat(s(c,o)),[]);if(a.type=="seq")for(let u=0;;u++){let c=s(a.exprs[u],o);if(u==a.exprs.length-1)return c;i(c,o=n())}else if(a.type=="star"){let u=n();return r(o,u),i(s(a.expr,u),u),[r(u)]}else if(a.type=="plus"){let u=n();return i(s(a.expr,o),u),i(s(a.expr,u),u),[r(u)]}else{if(a.type=="opt")return[r(o)].concat(s(a.expr,o));if(a.type=="range"){let u=o;for(let c=0;c<a.min;c++){let l=n();i(s(a.expr,u),l),u=l}if(a.max==-1)i(s(a.expr,u),u);else for(let c=a.min;c<a.max;c++){let l=n();r(u,l),i(s(a.expr,u),l),u=l}return[r(u)]}else{if(a.type=="name")return[r(o,void 0,a.value)];throw new Error("Unknown expr type")}}}}function AS(e,t){return t-e}function wE(e,t){let n=[];return r(t),n.sort(AS);function r(i){let s=e[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let a=0;a<s.length;a++){let{term:o,to:u}=s[a];!o&&n.indexOf(u)==-1&&r(u)}}}function tH(e){let t=Object.create(null);return n(wE(e,0));function n(r){let i=[];r.forEach(a=>{e[a].forEach(({term:o,to:u})=>{if(!o)return;let c;for(let l=0;l<i.length;l++)i[l][0]==o&&(c=i[l][1]);wE(e,u).forEach(l=>{c||i.push([o,c=[]]),c.indexOf(l)==-1&&c.push(l)})})});let s=t[r.join(",")]=new za(r.indexOf(e.length-1)>-1);for(let a=0;a<i.length;a++){let o=i[a][1].sort(AS);s.next.push({type:i[a][0],next:t[o.join(",")]||n(o)})}return s}}function nH(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],s=!i.validEnd,a=[];for(let o=0;o<i.next.length;o++){let{type:u,next:c}=i.next[o];a.push(u.name),s&&!(u.isText||u.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function CS(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function SS(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let s=e[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function NS(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let s=e[i];s.validate&&s.validate(t[i])}}function vS(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new iH(e,r,t[r]);return n}let IE=class wS{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=vS(t,r.attrs),this.defaultAttrs=CS(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==za.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:SS(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new js(this,this.computeAttrs(t),he.from(n),Wt.setFrom(r))}createChecked(t=null,n,r){return n=he.from(n),this.checkContent(n),new js(this,this.computeAttrs(t),n,Wt.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=he.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(he.empty,!0);return s?new js(this,t,n.append(s),Wt.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){NS(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Wt.none:t}static compile(t,n){let r=Object.create(null);t.forEach((s,a)=>r[s]=new wS(s,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function rH(e,t,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${s}`)}}class iH{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?rH(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class ch{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=vS(t,i.attrs),this.excluded=null;let s=CS(this.attrs);this.instance=s?new Wt(this,s):null}create(t=null){return!t&&this.instance?this.instance:new Wt(this,SS(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((s,a)=>r[s]=new ch(s,i++,n,a)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){NS(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class IS{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=Mn.from(t.nodes),n.marks=Mn.from(t.marks||{}),this.nodes=IE.compile(this.spec.nodes,this),this.marks=ch.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",o=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=za.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=o=="_"?null:o?kE(this,o.split(" ")):o==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:kE(this,a.split(" "))}this.nodeFromJSON=i=>js.fromJSON(this,i),this.markFromJSON=i=>Wt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof IE){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new Yd(r,r.defaultAttrs,t,Wt.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function kE(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],s=e.marks[i],a=s;if(s)n.push(s);else for(let o in e.marks){let u=e.marks[o];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=u)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function sH(e){return e.tag!=null}function aH(e){return e.style!=null}let ll=class um{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(sH(i))this.tags.push(i);else if(aH(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=t.nodes[i.node];return s.contentMatch.matchType(s)})}parse(t,n={}){let r=new DE(this,n,!1);return r.addAll(t,Wt.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new DE(this,n,!0);return r.addAll(t,Wt.none,n.from,n.to),we.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(lH(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(t);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(t,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],o=a.style;if(!(o.indexOf(t)!=0||a.context&&!r.matchesContext(a.context)||o.length>t.length&&(o.charCodeAt(t.length)!=61||o.slice(t.length+1)!=n))){if(a.getAttrs){let u=a.getAttrs(n);if(u===!1)continue;a.attrs=u||void 0}return a}}}static schemaRules(t){let n=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let o=n[a];if((o.priority==null?50:o.priority)<s)break}n.splice(a,0,i)}for(let i in t.marks){let s=t.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=RE(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in t.nodes){let s=t.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=RE(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new um(t,um.schemaRules(t)))}};const kS={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},uH={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},OS={ol:!0,ul:!0},Ll=1,om=2,cl=4;function OE(e,t,n){return t!=null?(t?Ll:0)|(t==="full"?om:0):e&&e.whitespace=="pre"?Ll|om:n&~cl}class Oc{constructor(t,n,r,i,s,a){this.type=t,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=Wt.none,this.match=s||(a&cl?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(he.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Ll)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=he.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(he.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!kS.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class DE{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,a=OE(null,n.preserveWhitespace,0)|(r?cl:0);i?s=new Oc(i.type,i.attrs,Wt.none,!0,n.topMatch||i.type.contentMatch,a):r?s=new Oc(null,null,Wt.none,!0,null,a):s=new Oc(t.schema.topNodeType,null,Wt.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,i=this.top,s=i.options&om?"full":this.localPreserveWS||(i.options&Ll)>0,{schema:a}=this.parser;if(s==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let o=r.split(/\r?\n|\r/);for(let u=0;u<o.length;u++)u&&this.insertNode(a.linebreakReplacement.create(),n,!0),o[u]&&this.insertNode(a.text(o[u]),n,!/\S/.test(o[u]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],u=t.previousSibling;(!o||u&&u.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let i=this.localPreserveWS,s=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let a=t.nodeName.toLowerCase(),o;OS.hasOwnProperty(a)&&this.parser.normalizeLists&&oH(t);let u=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(o=this.parser.matchTag(t,this,r));e:if(u?u.ignore:uH.hasOwnProperty(a))this.findInside(t),this.ignoreFallback(t,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(t=u.skip);let c,l=this.needsBlock;if(kS.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let d=u&&u.skip?n:this.readStyles(t,n);d&&this.addAll(t,d),c&&this.sync(s),this.needsBlock=l}else{let c=this.readStyles(t,n);c&&this.addElementByRule(t,u,c,u.consuming===!1?o:void 0)}this.localPreserveWS=i}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let o=void 0;;){let u=this.parser.matchStyle(s,a,this,o);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(c=>!u.clearMark(c)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)o=u;else break}}return n}addElementByRule(t,n,r,i){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let u=this.enter(a,n.attrs||null,r,n.preserveWhitespace);u&&(s=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let o=this.top;if(a&&a.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(u=>this.insertNode(u,r,!1));else{let u=t;typeof n.contentElement=="string"?u=t.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(t):n.contentElement&&(u=n.contentElement),this.findAround(t,u,!0),this.addAll(u,r),this.findAround(t,u,!1)}s&&this.sync(o)&&this.open--}addAll(t,n,r,i){let s=r||0;for(let a=r?t.childNodes[r]:t.firstChild,o=i==null?null:t.childNodes[i];a!=o;a=a.nextSibling,++s)this.findAtPoint(t,s),this.addDOM(a,n);this.findAtPoint(t,s)}findPlace(t,n,r){let i,s;for(let a=this.open,o=0;a>=0;a--){let u=this.nodes[a],c=u.findWrapping(t);if(c&&(!i||i.length>c.length+o)&&(i=c,s=u,!c.length))break;if(u.solid){if(r)break;o+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(t,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(t.type));let a=Wt.none;for(let o of i.concat(t.marks))(s.type?s.type.allowsMarkType(o.type):LE(o.type,t.type))&&(a=o.addToSet(a));return s.content.push(t.mark(a)),!0}return!1}enter(t,n,r,i){let s=this.findPlace(t.create(n),r,!1);return s&&(s=this.enterInner(t,n,r,!0,i)),s}enterInner(t,n,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let o=OE(t,s,a.options);a.options&cl&&a.content.length==0&&(o|=cl);let u=Wt.none;return r=r.filter(c=>(a.type?a.type.allowsMarkType(c.type):LE(c.type,t))?(u=c.addToSet(u),!1):!0),this.nodes.push(new Oc(t,n,u,i,null,o)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Ll)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(o,u)=>{for(;o>=0;o--){let c=n[o];if(c==""){if(o==n.length-1||o==0)continue;for(;u>=s;u--)if(a(o-1,u))return!0;return!1}else{let l=u>0||u==0&&i?this.nodes[u].type:r&&u>=s?r.node(u-s).type:null;if(!l||l.name!=c&&!l.isInGroup(c))return!1;u--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function oH(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&OS.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function lH(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function RE(e){let t={};for(let n in e)t[n]=e[n];return t}function LE(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let s=[],a=o=>{s.push(o);for(let u=0;u<o.edgeCount;u++){let{type:c,next:l}=o.edge(u);if(c==t||s.indexOf(l)<0&&a(l))return!0}};if(a(i.contentMatch))return!0}}class Js{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=x0(n).createDocumentFragment());let i=r,s=[];return t.forEach(a=>{if(s.length||a.marks.length){let o=0,u=0;for(;o<s.length&&u<a.marks.length;){let c=a.marks[u];if(!this.marks[c.type.name]){u++;continue}if(!c.eq(s[o][0])||c.type.spec.spanning===!1)break;o++,u++}for(;o<s.length;)i=s.pop()[1];for(;u<a.marks.length;){let c=a.marks[u++],l=this.serializeMark(c,a.isInline,n);l&&(s.push([c,i]),i.appendChild(l.dom),i=l.contentDOM||l.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=dd(x0(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let s=this.serializeMark(t.marks[i],t.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&dd(x0(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return dd(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Js(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=PE(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return PE(t.marks)}}function PE(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function x0(e){return e.document||window.document}const ME=new WeakMap;function cH(e){let t=ME.get(e);return t===void 0&&ME.set(e,t=dH(e)),t}function dH(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function dd(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=cH(r))&&s.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let o,u=n?e.createElementNS(n,i):e.createElement(i),c=t[1],l=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){l=2;for(let d in c)if(c[d]!=null){let h=d.indexOf(" ");h>0?u.setAttributeNS(d.slice(0,h),d.slice(h+1),c[d]):d=="style"&&u.style?u.style.cssText=c[d]:u.setAttribute(d,c[d])}}for(let d=l;d<t.length;d++){let h=t[d];if(h===0){if(d<t.length-1||d>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:f,contentDOM:p}=dd(e,h,n,r);if(u.appendChild(f),p){if(o)throw new RangeError("Multiple content holes");o=p}}}return{dom:u,contentDOM:o}}const DS=65535,RS=Math.pow(2,16);function fH(e,t){return e+t*RS}function BE(e){return e&DS}function hH(e){return(e-(e&DS))/RS}const LS=1,PS=2,fd=4,MS=8;class lm{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&MS)>0}get deletedBefore(){return(this.delInfo&(LS|fd))>0}get deletedAfter(){return(this.delInfo&(PS|fd))>0}get deletedAcross(){return(this.delInfo&fd)>0}}class Rr{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Rr.empty)return Rr.empty}recover(t){let n=0,r=BE(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+hH(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let u=this.ranges[o]-(this.inverted?i:0);if(u>t)break;let c=this.ranges[o+s],l=this.ranges[o+a],d=u+c;if(t<=d){let h=c?t==u?-1:t==d?1:n:n,f=u+i+(h<0?0:l);if(r)return f;let p=t==(n<0?u:d)?null:fH(o/3,t-u),x=t==u?PS:t==d?LS:fd;return(n<0?t!=u:t!=d)&&(x|=MS),new lm(f,x,p)}i+=l-c}return r?t+i:new lm(t+i,0,null)}touches(t,n){let r=0,i=BE(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let u=this.ranges[o]-(this.inverted?r:0);if(u>t)break;let c=this.ranges[o+s],l=u+c;if(t<=l&&o==i*3)return!0;r+=this.ranges[o+a]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],o=a-(this.inverted?s:0),u=a+(this.inverted?0:s),c=this.ranges[i+n],l=this.ranges[i+r];t(o,o+c,u,u+l),s+=l-c}}invert(){return new Rr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Rr.empty:new Rr(t<0?[0,-t,0]:[0,0,t])}}Rr.empty=new Rr([]);class Pl{constructor(t,n,r=0,i=t?t.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new Pl(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let i=t.getMirror(n);this.appendMap(t._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new Pl;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],o=a.mapResult(t,n);if(o.recover!=null){let u=this.getMirror(s);if(u!=null&&u>s&&u<this.to){s=u,t=this._maps[u].recover(o.recover);continue}}i|=o.delInfo,t=o.pos}return r?t:new lm(t,i,null)}}const A0=Object.create(null);class Zn{getMap(){return Rr.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=A0[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in A0)throw new RangeError("Duplicate use of step JSON ID "+t);return A0[t]=n,n.prototype.jsonID=t,n}}class _n{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new _n(t,null)}static fail(t){return new _n(null,t)}static fromReplace(t,n,r,i){try{return _n.ok(t.replace(n,r,i))}catch(s){if(s instanceof Vd)return _n.fail(s.message);throw s}}}function Qg(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let s=e.child(i);s.content.size&&(s=s.copy(Qg(s.content,t,s))),s.isInline&&(s=t(s,n,i)),r.push(s)}return he.fromArray(r)}class Ls extends Zn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new we(Qg(n.content,(a,o)=>!a.isAtom||!o.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return _n.fromReplace(t,this.from,this.to,s)}invert(){return new li(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ls(n.pos,r.pos,this.mark)}merge(t){return t instanceof Ls&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ls(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ls(n.from,n.to,t.markFromJSON(n.mark))}}Zn.jsonID("addMark",Ls);class li extends Zn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new we(Qg(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return _n.fromReplace(t,this.from,this.to,r)}invert(){return new Ls(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new li(n.pos,r.pos,this.mark)}merge(t){return t instanceof li&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new li(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new li(n.from,n.to,t.markFromJSON(n.mark))}}Zn.jsonID("removeMark",li);class Ps extends Zn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return _n.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return _n.fromReplace(t,this.pos,this.pos+1,new we(he.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Ps(this.pos,n.marks[i]);return new Ps(this.pos,this.mark)}}return new qa(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ps(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ps(n.pos,t.markFromJSON(n.mark))}}Zn.jsonID("addNodeMark",Ps);class qa extends Zn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return _n.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return _n.fromReplace(t,this.pos,this.pos+1,new we(he.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ps(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new qa(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new qa(n.pos,t.markFromJSON(n.mark))}}Zn.jsonID("removeNodeMark",qa);class wn extends Zn{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&cm(t,this.from,this.to)?_n.fail("Structure replace would overwrite content"):_n.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Rr([this.from,this.to-this.from,this.slice.size])}invert(t){return new wn(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new wn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof wn)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?we.empty:new we(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new wn(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?we.empty:new we(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new wn(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new wn(n.from,n.to,we.fromJSON(t,n.slice),!!n.structure)}}Zn.jsonID("replace",wn);class Dn extends Zn{constructor(t,n,r,i,s,a,o=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=o}apply(t){if(this.structure&&(cm(t,this.from,this.gapFrom)||cm(t,this.gapTo,this.to)))return _n.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return _n.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?_n.fromReplace(t,this.from,this.to,r):_n.fail("Content does not fit in gap")}getMap(){return new Rr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Dn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Dn(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Dn(n.from,n.to,n.gapFrom,n.gapTo,we.fromJSON(t,n.slice),n.insert,!!n.structure)}}Zn.jsonID("replaceAround",Dn);function cm(e,t,n){let r=e.resolve(t),i=n-t,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function pH(e,t,n,r){let i=[],s=[],a,o;e.doc.nodesBetween(t,n,(u,c,l)=>{if(!u.isInline)return;let d=u.marks;if(!r.isInSet(d)&&l.type.allowsMarkType(r.type)){let h=Math.max(c,t),f=Math.min(c+u.nodeSize,n),p=r.addToSet(d);for(let x=0;x<d.length;x++)d[x].isInSet(p)||(a&&a.to==h&&a.mark.eq(d[x])?a.to=f:i.push(a=new li(h,f,d[x])));o&&o.to==h?o.to=f:s.push(o=new Ls(h,f,r))}}),i.forEach(u=>e.step(u)),s.forEach(u=>e.step(u))}function mH(e,t,n,r){let i=[],s=0;e.doc.nodesBetween(t,n,(a,o)=>{if(!a.isInline)return;s++;let u=null;if(r instanceof ch){let c=a.marks,l;for(;l=r.isInSet(c);)(u||(u=[])).push(l),c=l.removeFromSet(c)}else r?r.isInSet(a.marks)&&(u=[r]):u=a.marks;if(u&&u.length){let c=Math.min(o+a.nodeSize,n);for(let l=0;l<u.length;l++){let d=u[l],h;for(let f=0;f<i.length;f++){let p=i[f];p.step==s-1&&d.eq(i[f].style)&&(h=p)}h?(h.to=c,h.step=s):i.push({style:d,from:Math.max(o,t),to:c,step:s})}}}),i.forEach(a=>e.step(new li(a.from,a.to,a.style)))}function Xg(e,t,n,r=n.contentMatch,i=!0){let s=e.doc.nodeAt(t),a=[],o=t+1;for(let u=0;u<s.childCount;u++){let c=s.child(u),l=o+c.nodeSize,d=r.matchType(c.type);if(!d)a.push(new wn(o,l,we.empty));else{r=d;for(let h=0;h<c.marks.length;h++)n.allowsMarkType(c.marks[h].type)||e.step(new li(o,l,c.marks[h]));if(i&&c.isText&&n.whitespace!="pre"){let h,f=/\r?\n|\r/g,p;for(;h=f.exec(c.text);)p||(p=new we(he.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),a.push(new wn(o+h.index,o+h.index+h[0].length,p))}}o=l}if(!r.validEnd){let u=r.fillBefore(he.empty,!0);e.replace(o,o,new we(u,0,0))}for(let u=a.length-1;u>=0;u--)e.step(a[u])}function gH(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function so(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth,i=0,s=0;;--r){let a=e.$from.node(r),o=e.$from.index(r)+i,u=e.$to.indexAfter(r)-s;if(r<e.depth&&a.canReplace(o,u,n))return r;if(r==0||a.type.spec.isolating||!gH(a,o,u))break;o&&(i=1),u<a.childCount&&(s=1)}return null}function bH(e,t,n){let{$from:r,$to:i,depth:s}=t,a=r.before(s+1),o=i.after(s+1),u=a,c=o,l=he.empty,d=0;for(let p=s,x=!1;p>n;p--)x||r.index(p)>0?(x=!0,l=he.from(r.node(p).copy(l)),d++):u--;let h=he.empty,f=0;for(let p=s,x=!1;p>n;p--)x||i.after(p+1)<i.end(p)?(x=!0,h=he.from(i.node(p).copy(h)),f++):c++;e.step(new Dn(u,c,a,o,new we(l.append(h),d,f),l.size-d,!0))}function Jg(e,t,n=null,r=e){let i=TH(e,t),s=i&&EH(r,t);return s?i.map(jE).concat({type:t,attrs:n}).concat(s.map(jE)):null}function jE(e){return{type:e,attrs:null}}function TH(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.contentMatchAt(r).findWrapping(t);if(!s)return null;let a=s.length?s[0]:t;return n.canReplaceWith(r,i,a)?s:null}function EH(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.child(r),a=t.contentMatch.findWrapping(s.type);if(!a)return null;let u=(a.length?a[a.length-1]:t).contentMatch;for(let c=r;u&&c<i;c++)u=u.matchType(n.child(c).type);return!u||!u.validEnd?null:a}function yH(e,t,n){let r=he.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let o=n[a].type.contentMatch.matchFragment(r);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=he.from(n[a].type.create(n[a].attrs,r))}let i=t.start,s=t.end;e.step(new Dn(i,s,i,s,new we(r,0,0),n.length,!0))}function _H(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(a,o)=>{let u=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,u)&&xH(e.doc,e.mapping.slice(s).map(o),r)){let c=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!p?c=!1:!f&&p&&(c=!0)}c===!1&&jS(e,a,o,s),Xg(e,e.mapping.slice(s).map(o,1),r,void 0,c===null);let l=e.mapping.slice(s),d=l.map(o,1),h=l.map(o+a.nodeSize,1);return e.step(new Dn(d,h,d+1,h-1,new we(he.from(r.create(u,null,a.marks)),0,0),1,!0)),c===!0&&BS(e,a,o,s),!1}})}function BS(e,t,n,r){t.forEach((i,s)=>{if(i.isText){let a,o=/\r?\n|\r/g;for(;a=o.exec(i.text);){let u=e.mapping.slice(r).map(n+1+s+a.index);e.replaceWith(u,u+1,t.type.schema.linebreakReplacement.create())}}})}function jS(e,t,n,r){t.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=e.mapping.slice(r).map(n+1+s);e.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function xH(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function AH(e,t,n,r,i){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,i||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Dn(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new we(he.from(a),0,0),1,!0))}function ds(e,t,n=1,r){let i=e.resolve(t),s=i.depth-n,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,l=n-2;c>s;c--,l--){let d=i.node(c),h=i.index(c);if(d.type.spec.isolating)return!1;let f=d.content.cutByIndex(h,d.childCount),p=r&&r[l+1];p&&(f=f.replaceChild(0,p.type.create(p.attrs)));let x=r&&r[l]||d;if(!d.canReplace(h+1,d.childCount)||!x.type.validContent(f))return!1}let o=i.indexAfter(s),u=r&&r[0];return i.node(s).canReplaceWith(o,o,u?u.type:i.node(s+1).type)}function CH(e,t,n=1,r){let i=e.doc.resolve(t),s=he.empty,a=he.empty;for(let o=i.depth,u=i.depth-n,c=n-1;o>u;o--,c--){s=he.from(i.node(o).copy(s));let l=r&&r[c];a=he.from(l?l.type.create(l.attrs,a):i.node(o).copy(a))}e.step(new wn(t,t,new we(s.append(a),n,n),!0))}function Zs(e,t){let n=e.resolve(t),r=n.index();return FS(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function SH(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let s=t.child(i),a=s.type==r?e.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!e.type.allowsMarks(s.marks))return!1}return n.validEnd}function FS(e,t){return!!(e&&t&&!e.isLeaf&&SH(e,t))}function dh(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let s,a,o=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(i+1),o++,a=r.node(i).maybeChild(o)):(s=r.node(i).maybeChild(o-1),a=r.node(i+1)),s&&!s.isTextblock&&FS(s,a)&&r.node(i).canReplace(o,o+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function NH(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,s=e.doc.resolve(t-n),a=s.node().type;if(i&&a.inlineContent){let l=a.whitespace=="pre",d=!!a.contentMatch.matchType(i);l&&!d?r=!1:!l&&d&&(r=!0)}let o=e.steps.length;if(r===!1){let l=e.doc.resolve(t+n);jS(e,l.node(),l.before(),o)}a.inlineContent&&Xg(e,t+n-1,a,s.node().contentMatchAt(s.index()),r==null);let u=e.mapping.slice(o),c=u.map(t-n);if(e.step(new wn(c,u.map(t+n,-1),we.empty,!0)),r===!0){let l=e.doc.resolve(c);BS(e,l.node(),l.before(),e.steps.length)}return e}function vH(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function HS(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let o=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,u=r.index(a)+(o>0?1:0),c=r.node(a),l=!1;if(s==1)l=c.canReplace(u,u,i);else{let d=c.contentMatchAt(u).findWrapping(i.firstChild.type);l=d&&c.canReplaceWith(u,u,d[0])}if(l)return o==0?r.pos:o<0?r.before(a+1):r.after(a+1)}return null}function fh(e,t,n=t,r=we.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),s=e.resolve(n);return US(i,s,r)?new wn(t,n,r):new wH(i,s,r).fit()}function US(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class wH{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=he.empty;for(let i=0;i<=t.depth;i++){let s=t.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=he.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let s=this.placed,a=r.depth,o=i.depth;for(;a&&o&&s.childCount==1;)s=s.firstChild.content,a--,o--;let u=new we(s,a,o);return t>-1?new Dn(r.pos,t,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new wn(r.pos,i.pos,u):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){t=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=C0(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let o=this.depth;o>=0;o--){let{type:u,match:c}=this.frontier[o],l,d=null;if(n==1&&(a?c.matchType(a.type)||(d=c.fillBefore(he.from(a),!1)):s&&u.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:o,parent:s,inject:d};if(n==2&&a&&(l=c.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:o,parent:s,wrap:l};if(s&&c.matchType(s.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=C0(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new we(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=C0(t,n);if(i.childCount<=1&&n>0){let s=t.size-n<=n+i.size;this.unplaced=new we(Ko(t,n-1,1),n-1,s?n-1:r)}else this.unplaced=new we(Ko(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let x=0;x<s.length;x++)this.openFrontierNode(s[x]);let a=this.unplaced,o=r?r.content:a.content,u=a.openStart-t,c=0,l=[],{match:d,type:h}=this.frontier[n];if(i){for(let x=0;x<i.childCount;x++)l.push(i.child(x));d=d.matchFragment(i)}let f=o.size+t-(a.content.size-a.openEnd);for(;c<o.childCount;){let x=o.child(c),_=d.matchType(x.type);if(!_)break;c++,(c>1||u==0||x.content.size)&&(d=_,l.push(zS(x.mark(h.allowedMarks(x.marks)),c==1?u:0,c==o.childCount?f:-1)))}let p=c==o.childCount;p||(f=-1),this.placed=Qo(this.placed,n,he.from(l)),this.frontier[n].match=d,p&&f<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,_=o;x<f;x++){let b=_.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),_=b.content}this.unplaced=p?t==0?we.empty:new we(Ko(a.content,t-1,1),t-1,f<0?a.openEnd:t-1):new we(Ko(a.content,t,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!S0(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),a=S0(t,n,i,r,s);if(a){for(let o=n-1;o>=0;o--){let{match:u,type:c}=this.frontier[o],l=S0(t,o,c,u,!0);if(!l||l.childCount)continue e}return{depth:n,fit:a,move:s?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Qo(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,s)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=Qo(this.placed,this.depth,he.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(he.empty,!0);n.childCount&&(this.placed=Qo(this.placed,this.frontier.length,n))}}function Ko(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Ko(e.firstChild.content,t-1,n)))}function Qo(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Qo(e.lastChild.content,t-1,n)))}function C0(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function zS(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,zS(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(he.empty,!0)))),e.copy(r)}function S0(e,t,n,r,i){let s=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let o=r.fillBefore(s.content,!0,a);return o&&!IH(n,s.content,a)?o:null}function IH(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function kH(e){return e.spec.defining||e.spec.definingForContent}function OH(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),s=e.doc.resolve(n);if(US(i,s,r))return e.step(new wn(t,n,r));let a=GS(i,s);a[a.length-1]==0&&a.pop();let o=-(i.depth+1);a.unshift(o);for(let h=i.depth,f=i.pos-1;h>0;h--,f--){let p=i.node(h).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;a.indexOf(h)>-1?o=h:i.before(h)==f&&a.splice(1,0,-h)}let u=a.indexOf(o),c=[],l=r.openStart;for(let h=r.content,f=0;;f++){let p=h.firstChild;if(c.push(p),f==r.openStart)break;h=p.content}for(let h=l-1;h>=0;h--){let f=c[h],p=kH(f.type);if(p&&!f.sameMarkup(i.node(Math.abs(o)-1)))l=h;else if(p||!f.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let f=(h+l+1)%(r.openStart+1),p=c[f];if(p)for(let x=0;x<a.length;x++){let _=a[(x+u)%a.length],b=!0;_<0&&(b=!1,_=-_);let T=i.node(_-1),N=i.index(_-1);if(T.canReplaceWith(N,N,p.type,p.marks))return e.replace(i.before(_),b?s.after(_):n,new we(qS(r.content,0,r.openStart,f),f,r.openEnd))}}let d=e.steps.length;for(let h=a.length-1;h>=0&&(e.replace(t,n,r),!(e.steps.length>d));h--){let f=a[h];f<0||(t=i.before(f),n=s.after(f))}}function qS(e,t,n,r,i){if(t<n){let s=e.firstChild;e=e.replaceChild(0,s.copy(qS(s.content,t+1,n,r,s)))}if(t>r){let s=i.contentMatchAt(0),a=s.fillBefore(e).append(e);e=a.append(s.matchFragment(a).fillBefore(he.empty,!0))}return e}function DH(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=vH(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new we(he.from(r),0,0))}function RH(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),s=GS(r,i);for(let a=0;a<s.length;a++){let o=s[a],u=a==s.length-1;if(u&&o==0||r.node(o).type.contentMatch.validEnd)return e.delete(r.start(o),i.end(o));if(o>0&&(u||r.node(o-1).canReplace(r.index(o-1),i.indexAfter(o-1))))return e.delete(r.before(o),i.after(o))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(t-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return e.delete(r.before(a),n);e.delete(t,n)}function GS(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let s=e.start(i);if(s<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(s==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==s-1)&&n.push(i)}return n}class Ou extends Zn{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return _n.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return _n.fromReplace(t,this.pos,this.pos+1,new we(he.from(i),0,n.isLeaf?0:1))}getMap(){return Rr.empty}invert(t){return new Ou(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ou(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ou(n.pos,n.attr,n.value)}}Zn.jsonID("attr",Ou);class Ml extends Zn{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return _n.ok(r)}getMap(){return Rr.empty}invert(t){return new Ml(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ml(n.attr,n.value)}}Zn.jsonID("docAttr",Ml);let Fu=class extends Error{};Fu=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Fu.prototype=Object.create(Error.prototype);Fu.prototype.constructor=Fu;Fu.prototype.name="TransformError";class Zg{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Pl}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Fu(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=we.empty){let i=fh(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new we(he.from(r),0,0))}delete(t,n){return this.replace(t,n,we.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return OH(this,t,n,r),this}replaceRangeWith(t,n,r){return DH(this,t,n,r),this}deleteRange(t,n){return RH(this,t,n),this}lift(t,n){return bH(this,t,n),this}join(t,n=1){return NH(this,t,n),this}wrap(t,n){return yH(this,t,n),this}setBlockType(t,n=t,r,i=null){return _H(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return AH(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new Ou(t,n,r)),this}setDocAttribute(t,n){return this.step(new Ml(t,n)),this}addNodeMark(t,n){return this.step(new Ps(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof Wt)n.isInSet(r.marks)&&this.step(new qa(t,n));else{let i=r.marks,s,a=[];for(;s=n.isInSet(i);)a.push(new qa(t,s)),i=s.removeFromSet(i);for(let o=a.length-1;o>=0;o--)this.step(a[o])}return this}split(t,n=1,r){return CH(this,t,n,r),this}addMark(t,n,r){return pH(this,t,n,r),this}removeMark(t,n,r){return mH(this,t,n,r),this}clearIncompatible(t,n,r){return Xg(this,t,n,r),this}}const N0=Object.create(null);class Qe{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new VS(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=we.empty){let r=n.content.lastChild,i=null;for(let o=0;o<n.openEnd;o++)i=r,r=r.lastChild;let s=t.steps.length,a=this.ranges;for(let o=0;o<a.length;o++){let{$from:u,$to:c}=a[o],l=t.mapping.slice(s);t.replaceRange(l.map(u.pos),l.map(c.pos),o?we.empty:n),o==0&&UE(t,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:o}=i[s],u=t.mapping.slice(r),c=u.map(a.pos),l=u.map(o.pos);s?t.deleteRange(c,l):(t.replaceRangeWith(c,l,n),UE(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new Ve(t):Eu(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let s=t.depth-1;s>=0;s--){let a=n<0?Eu(t.node(0),t.node(s),t.before(s+1),t.index(s),n,r):Eu(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,n,r);if(a)return a}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Mr(t.node(0))}static atStart(t){return Eu(t,t,0,0,1)||new Mr(t)}static atEnd(t){return Eu(t,t,t.content.size,t.childCount,-1)||new Mr(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=N0[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in N0)throw new RangeError("Duplicate use of selection JSON ID "+t);return N0[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Ve.between(this.$anchor,this.$head).getBookmark()}}Qe.prototype.visible=!0;class VS{constructor(t,n){this.$from=t,this.$to=n}}let FE=!1;function HE(e){!FE&&!e.parent.inlineContent&&(FE=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Ve extends Qe{constructor(t,n=t){HE(t),HE(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Qe.near(r);let i=t.resolve(n.map(this.anchor));return new Ve(i.parent.inlineContent?i:r,r)}replace(t,n=we.empty){if(super.replace(t,n),n==we.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Ve&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new hh(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ve(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Qe.findFrom(n,r,!0)||Qe.findFrom(n,-r,!0);if(s)n=s.$head;else return Qe.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(Qe.findFrom(t,-r,!0)||Qe.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new Ve(t,n)}}Qe.jsonID("text",Ve);class hh{constructor(t,n){this.anchor=t,this.head=n}map(t){return new hh(t.map(this.anchor),t.map(this.head))}resolve(t){return Ve.between(t.resolve(this.anchor),t.resolve(this.head))}}class ze extends Qe{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=t.resolve(i);return r?Qe.near(s):new ze(s)}content(){return new we(he.from(this.node),0,0)}eq(t){return t instanceof ze&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new e1(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ze(t.resolve(n.anchor))}static create(t,n){return new ze(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}ze.prototype.visible=!1;Qe.jsonID("node",ze);class e1{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new hh(r,r):new e1(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&ze.isSelectable(r)?new ze(n):Qe.near(n)}}class Mr extends Qe{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=we.empty){if(n==we.empty){t.delete(0,t.doc.content.size);let r=Qe.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Mr(t)}map(t){return new Mr(t)}eq(t){return t instanceof Mr}getBookmark(){return LH}}Qe.jsonID("all",Mr);const LH={map(){return this},resolve(e){return new Mr(e)}};function Eu(e,t,n,r,i,s=!1){if(t.inlineContent)return Ve.create(e,n);for(let a=r-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){let o=t.child(a);if(o.isAtom){if(!s&&ze.isSelectable(o))return ze.create(e,n-(i<0?o.nodeSize:0))}else{let u=Eu(e,o,n+i,i<0?o.childCount:0,i,s);if(u)return u}n+=o.nodeSize*i}return null}function UE(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof wn||i instanceof Dn))return;let s=e.mapping.maps[r],a;s.forEach((o,u,c,l)=>{a==null&&(a=l)}),e.setSelection(Qe.near(e.doc.resolve(a),n))}const zE=1,Dc=2,qE=4;class PH extends Zg{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|zE)&~Dc,this.storedMarks=null,this}get selectionSet(){return(this.updated&zE)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Dc,this}ensureMarks(t){return Wt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Dc)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~Dc,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Wt.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),!t)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,s)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection(Qe.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=qE,this}get scrolledIntoView(){return(this.updated&qE)>0}}function GE(e,t){return!t||!e?e:e.bind(t)}class Xo{constructor(t,n,r){this.name=t,this.init=GE(n.init,r),this.apply=GE(n.apply,r)}}const MH=[new Xo("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Xo("selection",{init(e,t){return e.selection||Qe.atStart(t.doc)},apply(e){return e.selection}}),new Xo("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Xo("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class v0{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=MH.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Xo(r.key,r.spec.state,r))})}}class vu{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let o=this.config.plugins[a];if(o.spec.appendTransaction){let u=i?i[a].n:0,c=i?i[a].state:this,l=u<n.length&&o.spec.appendTransaction.call(o,u?n.slice(u):n,c,r);if(l&&r.filterTransaction(l,a)){if(l.setMeta("appendedTransaction",t),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<a?{state:r,n:n.length}:{state:this,n:0})}n.push(l),r=r.applyInner(l),s=!0}i&&(i[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new vu(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(t,this[s.name],this,n)}return n}get tr(){return new PH(this)}static create(t){let n=new v0(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new vu(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new v0(this.schema,t.plugins),r=n.fields,i=new vu(n);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new v0(t.schema,t.plugins),s=new vu(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=js.fromJSON(t.schema,n.doc);else if(a.name=="selection")s.selection=Qe.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let o in r){let u=r[o],c=u.spec.state;if(u.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,o)){s[a.name]=c.fromJSON.call(u,t,n[o],s);return}}s[a.name]=a.init(t,s)}}),s}}function $S(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=$S(i,t,{})),n[r]=i}return n}class Gt{constructor(t){this.spec=t,this.props={},t.props&&$S(t.props,this,this.props),this.key=t.key?t.key.key:WS("plugin")}getState(t){return t[this.key]}}const w0=Object.create(null);function WS(e){return e in w0?e+"$"+ ++w0[e]:(w0[e]=0,e+"$")}class nn{constructor(t="key"){this.key=WS(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const t1=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function YS(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const KS=(e,t,n)=>{let r=YS(e,n);if(!r)return!1;let i=n1(r);if(!i){let a=r.blockRange(),o=a&&so(a);return o==null?!1:(t&&t(e.tr.lift(a,o).scrollIntoView()),!0)}let s=i.nodeBefore;if(iN(e,i,t,-1))return!0;if(r.parent.content.size==0&&(Hu(s,"end")||ze.isSelectable(s)))for(let a=r.depth;;a--){let o=fh(e.doc,r.before(a),r.after(a),we.empty);if(o&&o.slice.size<o.to-o.from){if(t){let u=e.tr.step(o);u.setSelection(Hu(s,"end")?Qe.findFrom(u.doc.resolve(u.mapping.map(i.pos,-1)),-1):ze.create(u.doc,i.pos-s.nodeSize)),t(u.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},BH=(e,t,n)=>{let r=YS(e,n);if(!r)return!1;let i=n1(r);return i?QS(e,i,t):!1},jH=(e,t,n)=>{let r=JS(e,n);if(!r)return!1;let i=r1(r);return i?QS(e,i,t):!1};function QS(e,t,n){let r=t.nodeBefore,i=r,s=t.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let l=i.lastChild;if(!l)return!1;i=l}let a=t.nodeAfter,o=a,u=t.pos+1;for(;!o.isTextblock;u++){if(o.type.spec.isolating)return!1;let l=o.firstChild;if(!l)return!1;o=l}let c=fh(e.doc,s,u,we.empty);if(!c||c.from!=s||c instanceof wn&&c.slice.size>=u-s)return!1;if(n){let l=e.tr.step(c);l.setSelection(Ve.create(l.doc,s)),n(l.scrollIntoView())}return!0}function Hu(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const XS=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=n1(r)}let a=s&&s.nodeBefore;return!a||!ze.isSelectable(a)?!1:(t&&t(e.tr.setSelection(ze.create(e.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function n1(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function JS(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const ZS=(e,t,n)=>{let r=JS(e,n);if(!r)return!1;let i=r1(r);if(!i)return!1;let s=i.nodeAfter;if(iN(e,i,t,1))return!0;if(r.parent.content.size==0&&(Hu(s,"start")||ze.isSelectable(s))){let a=fh(e.doc,r.before(),r.after(),we.empty);if(a&&a.slice.size<a.to-a.from){if(t){let o=e.tr.step(a);o.setSelection(Hu(s,"start")?Qe.findFrom(o.doc.resolve(o.mapping.map(i.pos)),1):ze.create(o.doc,o.mapping.map(i.pos))),t(o.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},eN=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=r1(r)}let a=s&&s.nodeAfter;return!a||!ze.isSelectable(a)?!1:(t&&t(e.tr.setSelection(ze.create(e.doc,s.pos)).scrollIntoView()),!0)};function r1(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const FH=(e,t)=>{let n=e.selection,r=n instanceof ze,i;if(r){if(n.node.isTextblock||!Zs(e.doc,n.from))return!1;i=n.from}else if(i=dh(e.doc,n.from,-1),i==null)return!1;if(t){let s=e.tr.join(i);r&&s.setSelection(ze.create(s.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0},HH=(e,t)=>{let n=e.selection,r;if(n instanceof ze){if(n.node.isTextblock||!Zs(e.doc,n.to))return!1;r=n.to}else if(r=dh(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},UH=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),s=i&&so(i);return s==null?!1:(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)},tN=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function i1(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const zH=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=i1(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(t){let o=n.after(),u=e.tr.replaceWith(o,o,a.createAndFill());u.setSelection(Qe.near(u.doc.resolve(o),1)),t(u.scrollIntoView())}return!0},nN=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Mr||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=i1(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,o=e.tr.insert(a,s.createAndFill());o.setSelection(Ve.create(o.doc,a+1)),t(o.scrollIntoView())}return!0},rN=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(ds(e.doc,s))return t&&t(e.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&so(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function qH(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof ze&&t.selection.node.isBlock)return!r.parentOffset||!ds(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,o,u=!1,c=!1;for(let f=r.depth;;f--)if(r.node(f).isBlock){u=r.end(f)==r.pos+(r.depth-f),c=r.start(f)==r.pos-(r.depth-f),o=i1(r.node(f-1).contentMatchAt(r.indexAfter(f-1))),s.unshift(u&&o?{type:o}:null),a=f;break}else{if(f==1)return!1;s.unshift(null)}let l=t.tr;(t.selection instanceof Ve||t.selection instanceof Mr)&&l.deleteSelection();let d=l.mapping.map(r.pos),h=ds(l.doc,d,s.length,s);if(h||(s[0]=o?{type:o}:null,h=ds(l.doc,d,s.length,s)),!h)return!1;if(l.split(d,s.length,s),!u&&c&&r.node(a).type!=o){let f=l.mapping.map(r.before(a)),p=l.doc.resolve(f);o&&r.node(a-1).canReplaceWith(p.index(),p.index()+1,o)&&l.setNodeMarkup(l.mapping.map(r.before(a)),o)}return n&&n(l.scrollIntoView()),!0}}const GH=qH(),VH=(e,t)=>{let{$from:n,to:r}=e.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),t&&t(e.tr.setSelection(ze.create(e.doc,i))),!0)};function $H(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(i.isTextblock||Zs(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function iN(e,t,n,r){let i=t.nodeBefore,s=t.nodeAfter,a,o,u=i.type.spec.isolating||s.type.spec.isolating;if(!u&&$H(e,t,n))return!0;let c=!u&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(a=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(a[0]||s.type).validEnd){if(n){let f=t.pos+s.nodeSize,p=he.empty;for(let b=a.length-1;b>=0;b--)p=he.from(a[b].create(null,p));p=he.from(i.copy(p));let x=e.tr.step(new Dn(t.pos-1,f,t.pos,f,new we(p,1,0),a.length,!0)),_=x.doc.resolve(f+2*a.length);_.nodeAfter&&_.nodeAfter.type==i.type&&Zs(x.doc,_.pos)&&x.join(_.pos),n(x.scrollIntoView())}return!0}let l=s.type.spec.isolating||r>0&&u?null:Qe.findFrom(t,1),d=l&&l.$from.blockRange(l.$to),h=d&&so(d);if(h!=null&&h>=t.depth)return n&&n(e.tr.lift(d,h).scrollIntoView()),!0;if(c&&Hu(s,"start",!0)&&Hu(i,"end")){let f=i,p=[];for(;p.push(f),!f.isTextblock;)f=f.lastChild;let x=s,_=1;for(;!x.isTextblock;x=x.firstChild)_++;if(f.canReplace(f.childCount,f.childCount,x.content)){if(n){let b=he.empty;for(let N=p.length-1;N>=0;N--)b=he.from(p[N].copy(b));let T=e.tr.step(new Dn(t.pos-p.length,t.pos+s.nodeSize,t.pos+_,t.pos+s.nodeSize-_,new we(b,p.length,0),0,!0));n(T.scrollIntoView())}return!0}}return!1}function sN(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(t.tr.setSelection(Ve.create(t.doc,e<0?i.start(s):i.end(s)))),!0):!1}}const WH=sN(-1),YH=sN(1);function KH(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),o=a&&Jg(a,e,t);return o?(r&&r(n.tr.wrap(a,o).scrollIntoView()),!0):!1}}function VE(e,t=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:o}}=n.selection.ranges[s];n.doc.nodesBetween(a,o,(u,c)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(e,t)))if(u.type==e)i=!0;else{let l=n.doc.resolve(c),d=l.index();i=l.parent.canReplaceWith(d,d+1,e)}})}if(!i)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:o},$to:{pos:u}}=n.selection.ranges[a];s.setBlockType(o,u,e,t)}r(s.scrollIntoView())}return!0}}function s1(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}s1(t1,KS,XS);s1(t1,ZS,eN);s1(tN,nN,rN,GH);typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform&&os.platform()=="darwin";function QH(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s);if(!a)return!1;let o=r?n.tr:null;return XH(o,a,e,t)?(r&&r(o.scrollIntoView()),!0):!1}}function XH(e,t,n,r=null){let i=!1,s=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let u=a.resolve(t.start-2);s=new Wd(u,u,t.depth),t.endIndex<t.parent.childCount&&(t=new Wd(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let o=Jg(s,n,r,t);return o?(e&&JH(e,t,o,i,n),!0):!1}function JH(e,t,n,r,i){let s=he.empty;for(let l=n.length-1;l>=0;l--)s=he.from(n[l].type.create(n[l].attrs,s));e.step(new Dn(t.start-(r?2:0),t.end,t.start,t.end,new we(s,0,0),n.length,!0));let a=0;for(let l=0;l<n.length;l++)n[l].type==i&&(a=l+1);let o=n.length-a,u=t.start+n.length-(r?2:0),c=t.parent;for(let l=t.startIndex,d=t.endIndex,h=!0;l<d;l++,h=!1)!h&&ds(e.doc,u,o)&&(e.split(u,o),u+=2*o),u+=c.child(l).nodeSize;return e}function ZH(e){return function(t,n){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==e);return s?n?r.node(s.depth-1).type==e?eU(t,n,e,s):tU(t,n,s):!0:!1}}function eU(e,t,n,r){let i=e.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new Dn(s-1,a,s,a,new we(he.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Wd(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const o=so(r);if(o==null)return!1;i.lift(r,o);let u=i.doc.resolve(i.mapping.map(s,-1)-1);return Zs(i.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&i.join(u.pos),t(i.scrollIntoView()),!0}function tU(e,t,n){let r=e.tr,i=n.parent;for(let f=n.end,p=n.endIndex-1,x=n.startIndex;p>x;p--)f-=i.child(p).nodeSize,r.delete(f-1,f+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let o=n.startIndex==0,u=n.endIndex==i.childCount,c=s.node(-1),l=s.index(-1);if(!c.canReplace(l+(o?0:1),l+1,a.content.append(u?he.empty:he.from(i))))return!1;let d=s.pos,h=d+a.nodeSize;return r.step(new Dn(d-(o?1:0),h+(u?1:0),d+1,h-1,new we((o?he.empty:he.from(i.copy(he.empty))).append(u?he.empty:he.from(i.copy(he.empty))),o?0:1,u?0:1),o?0:1)),t(r.scrollIntoView()),!0}function nU(e){return function(t,n){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==e);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let o=s.parent,u=o.child(a-1);if(u.type!=e)return!1;if(n){let c=u.lastChild&&u.lastChild.type==o.type,l=he.from(c?e.create():null),d=new we(he.from(e.create(null,he.from(o.type.create(null,l)))),c?3:1,0),h=s.start,f=s.end;n(t.tr.step(new Dn(h-(c?3:1),f,h,f,d,1,!0)).scrollIntoView())}return!0}}const Fn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Uu=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let dm=null;const rs=function(e,t,n){let r=dm||(dm=document.createRange());return r.setEnd(e,n==null?e.nodeValue.length:n),r.setStart(e,t||0),r},rU=function(){dm=null},Ga=function(e,t,n,r){return n&&($E(e,t,n,r,-1)||$E(e,t,n,r,1))},iU=/^(img|br|input|textarea|hr)$/i;function $E(e,t,n,r,i){for(var s;;){if(e==n&&t==r)return!0;if(t==(i<0?0:$r(e))){let a=e.parentNode;if(!a||a.nodeType!=1||oc(e)||iU.test(e.nodeName)||e.contentEditable=="false")return!1;t=Fn(e)+(i<0?0:1),e=a}else if(e.nodeType==1){let a=e.childNodes[t+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)t+=i;else return!1;else e=a,t=i<0?$r(e):0}else return!1}}function $r(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function sU(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=$r(e)}else if(e.parentNode&&!oc(e))t=Fn(e),e=e.parentNode;else return null}}function aU(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!oc(e))t=Fn(e)+1,e=e.parentNode;else return null}}function uU(e,t,n){for(let r=t==0,i=t==$r(e);r||i;){if(e==n)return!0;let s=Fn(e);if(e=e.parentNode,!e)return!1;r=r&&s==0,i=i&&s==$r(e)}}function oc(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const ph=function(e){return e.focusNode&&Ga(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function va(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function oU(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function lU(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min($r(r.offsetNode),r.offset)}}catch(r){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min($r(r.startContainer),r.startOffset)}}}const Pi=typeof navigator!="undefined"?navigator:null,WE=typeof document!="undefined"?document:null,ea=Pi&&Pi.userAgent||"",fm=/Edge\/(\d+)/.exec(ea),aN=/MSIE \d/.exec(ea),hm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ea),Sr=!!(aN||hm||fm),Fs=aN?document.documentMode:hm?+hm[1]:fm?+fm[1]:0,Wr=!Sr&&/gecko\/(\d+)/i.test(ea);Wr&&+(/Firefox\/(\d+)/.exec(ea)||[0,0])[1];const pm=!Sr&&/Chrome\/(\d+)/.exec(ea),On=!!pm,uN=pm?+pm[1]:0,Yn=!Sr&&!!Pi&&/Apple Computer/.test(Pi.vendor),zu=Yn&&(/Mobile\/\w+/.test(ea)||!!Pi&&Pi.maxTouchPoints>2),qr=zu||(Pi?/Mac/.test(Pi.platform):!1),oN=Pi?/Win/.test(Pi.platform):!1,is=/Android \d/.test(ea),lc=!!WE&&"webkitFontSmoothing"in WE.documentElement.style,cU=lc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function dU(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function qi(e,t){return typeof e=="number"?e:e[t]}function fU(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function YE(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let a=n||e.dom;a;){if(a.nodeType!=1){a=Uu(a);continue}let o=a,u=o==s.body,c=u?dU(s):fU(o),l=0,d=0;if(t.top<c.top+qi(r,"top")?d=-(c.top-t.top+qi(i,"top")):t.bottom>c.bottom-qi(r,"bottom")&&(d=t.bottom-t.top>c.bottom-c.top?t.top+qi(i,"top")-c.top:t.bottom-c.bottom+qi(i,"bottom")),t.left<c.left+qi(r,"left")?l=-(c.left-t.left+qi(i,"left")):t.right>c.right-qi(r,"right")&&(l=t.right-c.right+qi(i,"right")),l||d)if(u)s.defaultView.scrollBy(l,d);else{let f=o.scrollLeft,p=o.scrollTop;d&&(o.scrollTop+=d),l&&(o.scrollLeft+=l);let x=o.scrollLeft-f,_=o.scrollTop-p;t={left:t.left-x,top:t.top-_,right:t.right-x,bottom:t.bottom-_}}let h=u?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(h))break;a=h=="absolute"?a.offsetParent:Uu(a)}}function hU(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let s=(t.left+t.right)/2,a=n+1;a<Math.min(innerHeight,t.bottom);a+=5){let o=e.root.elementFromPoint(s,a);if(!o||o==e.dom||!e.dom.contains(o))continue;let u=o.getBoundingClientRect();if(u.top>=n-20){r=o,i=u.top;break}}return{refDOM:r,refTop:i,stack:lN(e.dom)}}function lN(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Uu(r));return t}function pU({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;cN(n,r==0?0:r-t)}function cN(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:s}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}let ou=null;function mU(e){if(e.setActive)return e.setActive();if(ou)return e.focus(ou);let t=lN(e);e.focus(ou==null?{get preventScroll(){return ou={preventScroll:!0},!0}}:void 0),ou||(ou=!1,cN(t,0))}function dN(e,t){let n,r=2e8,i,s=0,a=t.top,o=t.top,u,c;for(let l=e.firstChild,d=0;l;l=l.nextSibling,d++){let h;if(l.nodeType==1)h=l.getClientRects();else if(l.nodeType==3)h=rs(l).getClientRects();else continue;for(let f=0;f<h.length;f++){let p=h[f];if(p.top<=a&&p.bottom>=o){a=Math.max(p.bottom,a),o=Math.min(p.top,o);let x=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(x<r){n=l,r=x,i=x&&n.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,l.nodeType==1&&x&&(s=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!u&&p.left<=t.left&&p.right>=t.left&&(u=l,c={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(s=d+1)}}return!n&&u&&(n=u,i=c,r=0),n&&n.nodeType==3?gU(n,i):!n||r&&n.nodeType==1?{node:e,offset:s}:dN(n,i)}function gU(e,t){let n=e.nodeValue.length,r=document.createRange(),i;for(let s=0;s<n;s++){r.setEnd(e,s+1),r.setStart(e,s);let a=Cs(r,1);if(a.top!=a.bottom&&a1(t,a)){i={node:e,offset:s+(t.left>=(a.left+a.right)/2?1:0)};break}}return r.detach(),i||{node:e,offset:0}}function a1(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function bU(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function TU(e,t,n){let{node:r,offset:i}=dN(t,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(r,i,s)}function EU(e,t,n,r){let i=-1;for(let s=t,a=!1;s!=e.dom;){let o=e.docView.nearestDesc(s,!0),u;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((u=o.dom.getBoundingClientRect()).width||u.height)&&(o.node.isBlock&&o.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(o.dom.nodeName)&&(!a&&u.left>r.left||u.top>r.top?i=o.posBefore:(!a&&u.right<r.left||u.bottom<r.top)&&(i=o.posAfter),a=!0),!o.contentDOM&&i<0&&!o.node.isText))return(o.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?o.posBefore:o.posAfter;s=o.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function fN(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let a=e.childNodes[s];if(a.nodeType==1){let o=a.getClientRects();for(let u=0;u<o.length;u++){let c=o[u];if(a1(t,c))return fN(a,t,c)}}if((s=(s+1)%r)==i)break}return e}function yU(e,t){let n=e.dom.ownerDocument,r,i=0,s=lU(n,t.left,t.top);s&&({node:r,offset:i}=s);let a=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),o;if(!a||!e.dom.contains(a.nodeType!=1?a.parentNode:a)){let c=e.dom.getBoundingClientRect();if(!a1(t,c)||(a=fN(e.dom,t,c),!a))return null}if(Yn)for(let c=a;r&&c;c=Uu(c))c.draggable&&(r=void 0);if(a=bU(a,t),r){if(Wr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let l=r.childNodes[i],d;l.nodeName=="IMG"&&(d=l.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}let c;lc&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?o=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(o=EU(e,r,i,t))}o==null&&(o=TU(e,a,t));let u=e.docView.nearestDesc(a,!0);return{pos:o,inside:u?u.posAtStart-u.border:-1}}function KE(e){return e.top<e.bottom||e.left<e.right}function Cs(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(KE(r))return r}return Array.prototype.find.call(n,KE)||e.getBoundingClientRect()}const _U=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function hN(e,t,n){let{node:r,offset:i,atom:s}=e.docView.domFromPos(t,n<0?-1:1),a=lc||Wr;if(r.nodeType==3)if(a&&(_U.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=Cs(rs(r,i,i),n);if(Wr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Cs(rs(r,i-1,i-1),-1);if(c.top==u.top){let l=Cs(rs(r,i,i+1),-1);if(l.top!=u.top)return Eo(l,l.left<c.left)}}return u}else{let u=i,c=i,l=n<0?1:-1;return n<0&&!i?(c++,l=-1):n>=0&&i==r.nodeValue.length?(u--,l=1):n<0?u--:c++,Eo(Cs(rs(r,u,c),l),l<0)}if(!e.state.doc.resolve(t-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==$r(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return I0(u.getBoundingClientRect(),!1)}if(s==null&&i<$r(r)){let u=r.childNodes[i];if(u.nodeType==1)return I0(u.getBoundingClientRect(),!0)}return I0(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==$r(r))){let u=r.childNodes[i-1],c=u.nodeType==3?rs(u,$r(u)-(a?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(c)return Eo(Cs(c,1),!1)}if(s==null&&i<$r(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let c=u?u.nodeType==3?rs(u,0,a?0:1):u.nodeType==1?u:null:null;if(c)return Eo(Cs(c,-1),!0)}return Eo(Cs(r.nodeType==3?rs(r):r,-n),n>=0)}function Eo(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function I0(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function pN(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function xU(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return pN(e,t,()=>{let{node:s}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let o=e.docView.nearestDesc(s,!0);if(!o)break;if(o.node.isBlock){s=o.contentDOM||o.dom;break}s=o.dom.parentNode}let a=hN(e,i.pos,1);for(let o=s.firstChild;o;o=o.nextSibling){let u;if(o.nodeType==1)u=o.getClientRects();else if(o.nodeType==3)u=rs(o,0,o.nodeValue.length).getClientRects();else continue;for(let c=0;c<u.length;c++){let l=u[c];if(l.bottom>l.top+1&&(n=="up"?a.top-l.top>(l.bottom-a.top)*2:l.bottom-a.bottom>(a.bottom-l.top)*2))return!1}}return!0})}const AU=/[\u0590-\u08ac]/;function CU(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,o=e.domSelection();return o?!AU.test(r.parent.textContent)||!o.modify?n=="left"||n=="backward"?s:a:pN(e,t,()=>{let{focusNode:u,focusOffset:c,anchorNode:l,anchorOffset:d}=e.domSelectionRange(),h=o.caretBidiLevel;o.modify("move",n,"character");let f=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:p,focusOffset:x}=e.domSelectionRange(),_=p&&!f.contains(p.nodeType==1?p:p.parentNode)||u==p&&c==x;try{o.collapse(l,d),u&&(u!=l||c!=d)&&o.extend&&o.extend(u,c)}catch(b){}return h!=null&&(o.caretBidiLevel=h),_}):r.pos==r.start()||r.pos==r.end()}let QE=null,XE=null,JE=!1;function SU(e,t,n){return QE==t&&XE==n?JE:(QE=t,XE=n,JE=n=="up"||n=="down"?xU(e,t,n):CU(e,t,n))}const Yr=0,ZE=1,Ia=2,Mi=3;class cc{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Yr,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let s,a;if(t==this.contentDOM)s=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(t==this.contentDOM)s=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>Fn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return(i==null?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))r=!1;else return s}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==t&&s!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let o=i.children[a];if(o.size){i=o;break}}return i}if(t<s)return i.descAt(t-r-i.border);r=s}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],o=s+a.size;if(o>t||a instanceof gN){i=t-s;break}s=o}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof mN&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Fn(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Fn(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,o=0;;o++){let u=this.children[o],c=a+u.size;if(i==-1&&t<=c){let l=a+u.border;if(t>=l&&n<=c-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(t,n,l);t=a;for(let d=o;d>0;d--){let h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=Fn(h.dom)+1;break}t-=h.size}i==-1&&(i=0)}if(i>-1&&(c>n||o==this.children.length-1)){n=c;for(let l=o+1;l<this.children.length;l++){let d=this.children[l];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=Fn(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let s=Math.min(t,n),a=Math.max(t,n);for(let f=0,p=0;f<this.children.length;f++){let x=this.children[f],_=p+x.size;if(s>p&&a<_)return x.setSelection(t-p-x.border,n-p-x.border,r,i);p=_}let o=this.domFromPos(t,t?-1:1),u=n==t?o:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),l=r.domSelectionRange(),d=!1;if((Wr||Yn)&&t==n){let{node:f,offset:p}=o;if(f.nodeType==3){if(d=!!(p&&f.nodeValue[p-1]==`
`),d&&p==f.nodeValue.length)for(let x=f,_;x;x=x.parentNode){if(_=x.nextSibling){_.nodeName=="BR"&&(o=u={node:_.parentNode,offset:Fn(_)+1});break}let b=x.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let x=f.childNodes[p-1];d=x&&(x.nodeName=="BR"||x.contentEditable=="false")}}if(Wr&&l.focusNode&&l.focusNode!=u.node&&l.focusNode.nodeType==1){let f=l.focusNode.childNodes[l.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||d&&Yn)&&Ga(o.node,o.offset,l.anchorNode,l.anchorOffset)&&Ga(u.node,u.offset,l.focusNode,l.focusOffset))return;let h=!1;if((c.extend||t==n)&&!(d&&Wr)){c.collapse(o.node,o.offset);try{t!=n&&c.extend(u.node,u.offset),h=!0}catch(f){}}if(!h){if(t>n){let p=o;o=u,u=p}let f=document.createRange();f.setEnd(u.node,u.offset),f.setStart(o.node,o.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?t<=a&&n>=r:t<a&&n>r){let o=r+s.border,u=a-s.border;if(t>=o&&n<=u){this.dirty=t==r||n==a?Ia:ZE,t==o&&n==u&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Mi:s.markDirty(t-o,n-o);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ia:Mi}r=a}this.dirty=Ia}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Ia:ZE;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class mN extends cc{constructor(t,n,r,i){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let o=document.createElement("span");o.appendChild(a),a=o}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(t){return this.dirty==Yr&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class NU extends cc{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Va extends cc{constructor(t,n,r,i,s){super(t,[],r,i),this.mark=n,this.spec=s}static create(t,n,r,i){let s=i.nodeViews[n.type.name],a=s&&s(n,i,r);return(!a||!a.dom)&&(a=Js.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Va(t,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Mi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Mi&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Yr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Yr}}slice(t,n,r){let i=Va.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=gm(s,n,a,r)),t>0&&(s=gm(s,0,t,r));for(let o=0;o<s.length;o++)s[o].parent=i;return i.children=s,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Hs extends cc{constructor(t,n,r,i,s,a,o,u,c){super(t,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=o}static create(t,n,r,i,s,a){let o=s.nodeViews[n.type.name],u,c=o&&o(n,s,()=>{if(!u)return a;if(u.parent)return u.parent.posBeforeChild(u)},r,i),l=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!l)l=document.createTextNode(n.text);else if(l.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else l||({dom:l,contentDOM:d}=Js.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&l.nodeName!="BR"&&(l.hasAttribute("contenteditable")||(l.contentEditable="false"),n.type.spec.draggable&&(l.draggable=!0));let h=l;return l=EN(l,r,n),c?u=new vU(t,n,r,i,l,d||null,h,c,s,a+1):n.isText?new mh(t,n,r,i,l,h,s):new Hs(t,n,r,i,l,d||null,h,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>he.empty)}return t}matchesNode(t,n,r){return this.dirty==Yr&&t.eq(this.node)&&Kd(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,s=t.composing?this.localCompositionInfo(t,n):null,a=s&&s.pos>-1?s:null,o=s&&s.pos<0,u=new IU(this,a&&a.node,t);DU(this.node,this.innerDeco,(c,l,d)=>{c.spec.marks?u.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!d&&u.syncToMarks(l==this.node.childCount?Wt.none:this.node.child(l).marks,r,t),u.placeWidget(c,t,i)},(c,l,d,h)=>{u.syncToMarks(c.marks,r,t);let f;u.findNodeMatch(c,l,d,h)||o&&t.state.selection.from>i&&t.state.selection.to<i+c.nodeSize&&(f=u.findIndexWithChild(s.node))>-1&&u.updateNodeAt(c,l,d,f,t)||u.updateNextNode(c,l,d,t,h,i)||u.addNode(c,l,d,t,i),i+=c.nodeSize}),u.syncToMarks([],r,t),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Ia)&&(a&&this.protectLocalComposition(t,a),bN(this.contentDOM,this.children,t),zu&&RU(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Ve)||r<n||i>n+this.node.content.size)return null;let s=t.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,o=LU(this.node.content,a,r-n,i-n);return o<0?null:{node:s,pos:o,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new NU(this,s,n,i);t.input.compositionNodes.push(a),this.children=gm(this.children,r,r+i.length,t,a)}update(t,n,r,i){return this.dirty==Mi||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Yr}updateOuterDeco(t){if(Kd(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=TN(this.dom,this.nodeDOM,mm(this.outerDeco,this.node,n),mm(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function e2(e,t,n,r,i){EN(r,t,e);let s=new Hs(void 0,e,t,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class mh extends Hs{constructor(t,n,r,i,s,a,o){super(t,n,r,i,s,null,a,o,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==Mi||this.dirty!=Yr&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Yr||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=Yr,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),s=document.createTextNode(i.text);return new mh(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Mi)}get domAtom(){return!1}isText(t){return this.node.text==t}}class gN extends cc{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Yr&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class vU extends Hs{constructor(t,n,r,i,s,a,o,u,c,l){super(t,n,r,i,s,a,o,c,l),this.spec=u}update(t,n,r,i){if(this.dirty==Mi)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let s=this.spec.update(t,n,r);return s&&this.updateInner(t,n,r,i),s}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function bN(e,t,n){let r=e.firstChild,i=!1;for(let s=0;s<t.length;s++){let a=t[s],o=a.dom;if(o.parentNode==e){for(;o!=r;)r=t2(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(o,r);if(a instanceof Va){let u=r?r.previousSibling:e.lastChild;bN(a.contentDOM,a.children,n),r=u?u.nextSibling:e.firstChild}}for(;r;)r=t2(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const dl=function(e){e&&(this.nodeName=e)};dl.prototype=Object.create(null);const ka=[new dl];function mm(e,t,n){if(e.length==0)return ka;let r=n?ka[0]:new dl,i=[r];for(let s=0;s<e.length;s++){let a=e[s].type.attrs;if(a){a.nodeName&&i.push(r=new dl(a.nodeName));for(let o in a){let u=a[o];u!=null&&(n&&i.length==1&&i.push(r=new dl(t.isInline?"span":"div")),o=="class"?r.class=(r.class?r.class+" ":"")+u:o=="style"?r.style=(r.style?r.style+";":"")+u:o!="nodeName"&&(r[o]=u))}}}return i}function TN(e,t,n,r){if(n==ka&&r==ka)return t;let i=t;for(let s=0;s<r.length;s++){let a=r[s],o=n[s];if(s){let u;o&&o.nodeName==a.nodeName&&i!=e&&(u=i.parentNode)&&u.nodeName.toLowerCase()==a.nodeName||(u=document.createElement(a.nodeName),u.pmIsDeco=!0,u.appendChild(i),o=ka[0]),i=u}wU(i,o||ka[0],a)}return i}function wU(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&e.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&e.classList.add(i[s]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function EN(e,t,n){return TN(e,e,ka,mm(t,n,e.nodeType!=1))}function Kd(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function t2(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class IU{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=kU(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,s=this.stack.length>>1,a=Math.min(s,t.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Yr,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let o=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let c=this.top.children[u];if(c.matchesMark(t[s])&&!this.isLocked(c.dom)){o=u;break}}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let u=Va.create(this.top,t[s],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,s++}}findNodeMatch(t,n,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(t,n,r))s=this.top.children.indexOf(a,this.index);else for(let o=this.index,u=Math.min(this.top.children.length,o+5);o<u;o++){let c=this.top.children[o];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){s=o;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(t,n,r,i,s){let a=this.top.children[i];return a.dirty==Mi&&a.dom==a.contentDOM&&(a.dirty=Ia),a.update(t,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,s,a){for(let o=this.index;o<this.top.children.length;o++){let u=this.top.children[o];if(u instanceof Hs){let c=this.preMatch.matched.get(u);if(c!=null&&c!=s)return!1;let l=u.dom,d,h=this.isLocked(l)&&!(t.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==t.text&&u.dirty!=Mi&&Kd(n,u.outerDeco));if(!h&&u.update(t,n,r,i))return this.destroyBetween(this.index,o),u.dom!=l&&(this.changed=!0),this.index++,!0;if(!h&&(d=this.recreateWrapper(u,t,n,r,i,a)))return this.destroyBetween(this.index,o),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Ia,d.updateChildren(i,a+1),d.dirty=Yr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,s,a){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!Kd(r,t.outerDeco)||!i.eq(t.innerDeco))return null;let o=Hs.create(this.top,n,r,i,s,a);if(o.contentDOM){o.children=t.children,t.children=[];for(let u of o.children)u.parent=o}return t.destroy(),o}addNode(t,n,r,i,s){let a=Hs.create(this.top,t,n,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new mN(this.top,t,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof Va;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof mh)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Yn||On)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new gN(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function kU(e,t){let n=t,r=n.children.length,i=e.childCount,s=new Map,a=[];e:for(;i>0;){let o;for(;;)if(r){let c=n.children[r-1];if(c instanceof Va)n=c,r=c.children.length;else{o=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=o.node;if(u){if(u!=e.child(i-1))break;--i,s.set(o,i),a.push(o)}}return{index:i,matched:s,matches:a.reverse()}}function OU(e,t){return e.type.side-t.type.side}function DU(e,t,n,r){let i=t.locals(e),s=0;if(i.length==0){for(let c=0;c<e.childCount;c++){let l=e.child(c);r(l,i,t.forChild(s,l),c),s+=l.nodeSize}return}let a=0,o=[],u=null;for(let c=0;;){let l,d;for(;a<i.length&&i[a].to==s;){let _=i[a++];_.widget&&(l?(d||(d=[l])).push(_):l=_)}if(l)if(d){d.sort(OU);for(let _=0;_<d.length;_++)n(d[_],c,!!u)}else n(l,c,!!u);let h,f;if(u)f=-1,h=u,u=null;else if(c<e.childCount)f=c,h=e.child(c++);else break;for(let _=0;_<o.length;_++)o[_].to<=s&&o.splice(_--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)o.push(i[a++]);let p=s+h.nodeSize;if(h.isText){let _=p;a<i.length&&i[a].from<_&&(_=i[a].from);for(let b=0;b<o.length;b++)o[b].to<_&&(_=o[b].to);_<p&&(u=h.cut(_-s),h=h.cut(0,_-s),p=_,f=-1)}else for(;a<i.length&&i[a].to<p;)a++;let x=h.isInline&&!h.isLeaf?o.filter(_=>!_.inline):o.slice();r(h,x,t.forChild(s,h),f),s=p}}function RU(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function LU(e,t,n,r){for(let i=0,s=0;i<e.childCount&&s<=r;){let a=e.child(i++),o=s;if(s+=a.nodeSize,!a.isText)continue;let u=a.text;for(;i<e.childCount;){let c=e.child(i++);if(s+=c.nodeSize,!c.isText)break;u+=c.text}if(s>=n){if(s>=r&&u.slice(r-t.length-o,r-o)==t)return r-t.length;let c=o<r?u.lastIndexOf(t,r-o-1):-1;if(c>=0&&c+t.length+o>=n)return o+c;if(n==r&&u.length>=r+t.length-o&&u.slice(r-o,r-o+t.length)==t)return r}}return-1}function gm(e,t,n,r,i){let s=[];for(let a=0,o=0;a<e.length;a++){let u=e[a],c=o,l=o+=u.size;c>=n||l<=t?s.push(u):(c<t&&s.push(u.slice(0,t-c,r)),i&&(s.push(i),i=void 0),l>n&&s.push(u.slice(n-c,u.size,r)))}return s}function u1(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),s=i&&i.size==0,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let o=r.resolve(a),u,c;if(ph(n)){for(u=a;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&ze.isSelectable(d)&&i.parent&&!(d.isInline&&uU(n.focusNode,n.focusOffset,i.dom))){let h=i.posBefore;c=new ze(a==h?o:r.resolve(h))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=a,h=a;for(let f=0;f<n.rangeCount;f++){let p=n.getRangeAt(f);d=Math.min(d,e.docView.posFromDOM(p.startContainer,p.startOffset,1)),h=Math.max(h,e.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[u,a]=h==e.state.selection.anchor?[h,d]:[d,h],o=r.resolve(a)}else u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let l=r.resolve(u);if(!c){let d=t=="pointer"||e.state.selection.head<o.pos&&!s?1:-1;c=o1(e,l,o,d)}return c}function yN(e){return e.editable?e.hasFocus():xN(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function fs(e,t=!1){let n=e.state.selection;if(_N(e,n),!!yN(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&On){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Ga(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)MU(e);else{let{anchor:r,head:i}=n,s,a;n2&&!(n instanceof Ve)&&(n.$from.parent.inlineContent||(s=r2(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=r2(e,n.to))),e.docView.setSelection(r,i,e,t),n2&&(s&&i2(s),a&&i2(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&PU(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const n2=Yn||On&&uN<63;function r2(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Yn&&i&&i.contentEditable=="false")return k0(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return k0(i);if(s)return k0(s)}}function k0(e){return e.contentEditable="true",Yn&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function i2(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function PU(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!yN(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function MU(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,Fn(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&Sr&&Fs<=11&&(n.disabled=!0,n.disabled=!1)}function _N(e,t){if(t instanceof ze){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(s2(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else s2(e)}function s2(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function o1(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||Ve.between(t,n,r)}function a2(e){return e.editable&&!e.hasFocus()?!1:xN(e)}function xN(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function BU(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Ga(t.node,t.offset,n.anchorNode,n.anchorOffset)}function bm(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return s&&Qe.findFrom(s,t)}function Ns(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function u2(e,t,n){let r=e.state.selection;if(r instanceof Ve)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=e.state.doc.resolve(i.pos+s.nodeSize*(t<0?-1:1));return Ns(e,new Ve(r.$anchor,a))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=bm(e.state,t);return i&&i instanceof ze?Ns(e,i):!1}else if(!(qr&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let o=t<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=e.docView.descAt(o))&&!a.contentDOM?ze.isSelectable(s)?Ns(e,new ze(t<0?e.state.doc.resolve(i.pos-s.nodeSize):i)):lc?Ns(e,new Ve(e.state.doc.resolve(t<0?o:o+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ze&&r.node.isInline)return Ns(e,new Ve(t>0?r.$to:r.$from));{let i=bm(e.state,t);return i?Ns(e,i):!1}}}function Qd(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function fl(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function lu(e,t){return t<0?jU(e):FU(e)}function jU(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,s,a=!1;for(Wr&&n.nodeType==1&&r<Qd(n)&&fl(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let o=n.childNodes[r-1];if(fl(o,-1))i=n,s=--r;else if(o.nodeType==3)n=o,r=n.nodeValue.length;else break}}else{if(AN(n))break;{let o=n.previousSibling;for(;o&&fl(o,-1);)i=n.parentNode,s=Fn(o),o=o.previousSibling;if(o)n=o,r=Qd(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?Tm(e,n,r):i&&Tm(e,i,s)}function FU(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=Qd(n),s,a;for(;;)if(r<i){if(n.nodeType!=1)break;let o=n.childNodes[r];if(fl(o,1))s=n,a=++r;else break}else{if(AN(n))break;{let o=n.nextSibling;for(;o&&fl(o,1);)s=o.parentNode,a=Fn(o)+1,o=o.nextSibling;if(o)n=o,r=0,i=Qd(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}s&&Tm(e,s,a)}function AN(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function HU(e,t){for(;e&&t==e.childNodes.length&&!oc(e);)t=Fn(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function UU(e,t){for(;e&&!t&&!oc(e);)t=Fn(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function Tm(e,t,n){if(t.nodeType!=3){let s,a;(a=HU(t,n))?(t=a,n=0):(s=UU(t,n))&&(t=s,n=s.nodeValue.length)}let r=e.domSelection();if(!r)return;if(ph(r)){let s=document.createRange();s.setEnd(t,n),s.setStart(t,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&fs(e)},50)}function o2(e,t){let n=e.state.doc.resolve(t);if(!(On||oN)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let s=e.coordsAtPos(t-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(t<n.end()){let s=e.coordsAtPos(t+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function l2(e,t,n){let r=e.state.selection;if(r instanceof Ve&&!r.empty||n.indexOf("s")>-1||qr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let a=bm(e.state,t);if(a&&a instanceof ze)return Ns(e,a)}if(!i.parent.inlineContent){let a=t<0?i:s,o=r instanceof Mr?Qe.near(a,t):Qe.findFrom(a,t);return o?Ns(e,o):!1}return!1}function c2(e,t){if(!(e.state.selection instanceof Ve))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=e.state.tr;return t<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),e.dispatch(a),!0}return!1}function d2(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function zU(e){if(!Yn||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;d2(e,r,"true"),setTimeout(()=>d2(e,r,"false"),20)}return!1}function qU(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function GU(e,t){let n=t.keyCode,r=qU(t);if(n==8||qr&&n==72&&r=="c")return c2(e,-1)||lu(e,-1);if(n==46&&!t.shiftKey||qr&&n==68&&r=="c")return c2(e,1)||lu(e,1);if(n==13||n==27)return!0;if(n==37||qr&&n==66&&r=="c"){let i=n==37?o2(e,e.state.selection.from)=="ltr"?-1:1:-1;return u2(e,i,r)||lu(e,i)}else if(n==39||qr&&n==70&&r=="c"){let i=n==39?o2(e,e.state.selection.from)=="ltr"?1:-1:1;return u2(e,i,r)||lu(e,i)}else{if(n==38||qr&&n==80&&r=="c")return l2(e,-1,r)||lu(e,-1);if(n==40||qr&&n==78&&r=="c")return zU(e)||l2(e,1,r)||lu(e,1);if(r==(qr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function l1(e,t){e.someProp("transformCopied",f=>{t=f(t,e)});let n=[],{content:r,openStart:i,openEnd:s}=t;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let f=r.firstChild;n.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),r=f.content}let a=e.someProp("clipboardSerializer")||Js.fromSchema(e.state.schema),o=IN(),u=o.createElement("div");u.appendChild(a.serializeFragment(r,{document:o}));let c=u.firstChild,l,d=0;for(;c&&c.nodeType==1&&(l=wN[c.nodeName.toLowerCase()]);){for(let f=l.length-1;f>=0;f--){let p=o.createElement(l[f]);for(;u.firstChild;)p.appendChild(u.firstChild);u.appendChild(p),d++}c=u.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let h=e.someProp("clipboardTextSerializer",f=>f(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:u,text:h,slice:t}}function CN(e,t,n,r,i){let s=i.parent.type.spec.code,a,o;if(!n&&!t)return null;let u=!!t&&(r||s||!n);if(u){if(e.someProp("transformPastedText",h=>{t=h(t,s||r,e)}),s)return o=new we(he.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",h=>{o=h(o,e,!0)}),o;let d=e.someProp("clipboardTextParser",h=>h(t,i,r,e));if(d)o=d;else{let h=i.marks(),{schema:f}=e.state,p=Js.fromSchema(f);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(x=>{let _=a.appendChild(document.createElement("p"));x&&_.appendChild(p.serializeNode(f.text(x,h)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),a=YU(n),lc&&KU(a);let c=a&&a.querySelector("[data-pm-slice]"),l=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(l&&l[3])for(let d=+l[3];d>0;d--){let h=a.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;a=h}if(o||(o=(e.someProp("clipboardParser")||e.someProp("domParser")||ll.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(u||l),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!VU.test(h.parentNode.nodeName)?{ignore:!0}:null}})),l)o=QU(f2(o,+l[1],+l[2]),l[4]);else if(o=we.maxOpen($U(o.content,i),!0),o.openStart||o.openEnd){let d=0,h=0;for(let f=o.content.firstChild;d<o.openStart&&!f.type.spec.isolating;d++,f=f.firstChild);for(let f=o.content.lastChild;h<o.openEnd&&!f.type.spec.isolating;h++,f=f.lastChild);o=f2(o,d,h)}return e.someProp("transformPasted",d=>{o=d(o,e,u)}),o}const VU=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function $U(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),s,a=[];if(e.forEach(o=>{if(!a)return;let u=i.findWrapping(o.type),c;if(!u)return a=null;if(c=a.length&&s.length&&NN(u,s,o,a[a.length-1],0))a[a.length-1]=c;else{a.length&&(a[a.length-1]=vN(a[a.length-1],s.length));let l=SN(o,u);a.push(l),i=i.matchType(l.type),s=u}}),a)return he.from(a)}return e}function SN(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,he.from(e));return e}function NN(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let s=NN(e,t,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(he.from(SN(n,e,i+1))))}}function vN(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,vN(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(he.empty,!0);return e.copy(n.append(r))}function Em(e,t,n,r,i,s){let a=t<0?e.firstChild:e.lastChild,o=a.content;return e.childCount>1&&(s=0),i<r-1&&(o=Em(o,t,n,r,i+1,s)),i>=n&&(o=t<0?a.contentMatchAt(0).fillBefore(o,s<=i).append(o):o.append(a.contentMatchAt(a.childCount).fillBefore(he.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(o))}function f2(e,t,n){return t<e.openStart&&(e=new we(Em(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new we(Em(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const wN={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let h2=null;function IN(){return h2||(h2=document.implementation.createHTMLDocument("title"))}let O0=null;function WU(e){let t=window.trustedTypes;return t?(O0||(O0=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),O0.createHTML(e)):e}function YU(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=IN().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&wN[r[1].toLowerCase()])&&(e=i.map(s=>"<"+s+">").join("")+e+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=WU(e),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function KU(e){let t=e.querySelectorAll(On?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent=="Â "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function QU(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch(o){return e}let{content:i,openStart:s,openEnd:a}=e;for(let o=r.length-2;o>=0;o-=2){let u=n.nodes[r[o]];if(!u||u.hasRequiredAttrs())break;i=he.from(u.create(r[o+1],i)),s++,a++}return new we(i,s,a)}const fr={},hr={},XU={touchstart:!0,touchmove:!0};class JU{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function ZU(e){for(let t in fr){let n=fr[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{tz(e,r)&&!c1(e,r)&&(e.editable||!(r.type in hr))&&n(e,r)},XU[t]?{passive:!0}:void 0)}Yn&&e.dom.addEventListener("input",()=>null),ym(e)}function Ms(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function ez(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function ym(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>c1(e,r))})}function c1(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function tz(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function nz(e,t){!c1(e,t)&&fr[t.type]&&(e.editable||!(t.type in hr))&&fr[t.type](e,t)}hr.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!ON(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(is&&On&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),zu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,va(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||GU(e,n)?n.preventDefault():Ms(e,"key")};hr.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};hr.keypress=(e,t)=>{let n=t;if(ON(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||qr&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Ve)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>e.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",a=>a(e,r.$from.pos,r.$to.pos,i,s))&&e.dispatch(s()),n.preventDefault()}};function gh(e){return{left:e.clientX,top:e.clientY}}function rz(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function d1(e,t,n,r,i){if(r==-1)return!1;let s=e.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(e.someProp(t,o=>a>s.depth?o(e,n,s.nodeAfter,s.before(a),i,!0):o(e,n,s.node(a),s.before(a),i,!1)))return!0;return!1}function Du(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function iz(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&ze.isSelectable(r)?(Du(e,new ze(n)),!0):!1}function sz(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof ze&&(r=n.node);let s=e.state.doc.resolve(t);for(let a=s.depth+1;a>0;a--){let o=a>s.depth?s.nodeAfter:s.node(a);if(ze.isSelectable(o)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(a);break}}return i!=null?(Du(e,ze.create(e.state.doc,i)),!0):!1}function az(e,t,n,r,i){return d1(e,"handleClickOn",t,n,r)||e.someProp("handleClick",s=>s(e,t,r))||(i?sz(e,n):iz(e,n))}function uz(e,t,n,r){return d1(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function oz(e,t,n,r){return d1(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||lz(e,n,r)}function lz(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Du(e,Ve.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),o=i.before(s);if(a.inlineContent)Du(e,Ve.create(r,o+1,o+1+a.content.size));else if(ze.isSelectable(a))Du(e,ze.create(r,o));else continue;return!0}}function f1(e){return Xd(e)}const kN=qr?"metaKey":"ctrlKey";fr.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=f1(e),i=Date.now(),s="singleClick";i-e.input.lastClick.time<500&&rz(n,e.input.lastClick)&&!n[kN]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?s="doubleClick":e.input.lastClick.type=="doubleClick"&&(s="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let a=e.posAtCoords(gh(n));a&&(s=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new cz(e,a,n,!!r)):(s=="doubleClick"?uz:oz)(e,a.pos,a.inside,n)?n.preventDefault():Ms(e,"pointer"))};class cz{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[kN],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=t.state.doc.nodeAt(n.inside),a=n.inside;else{let l=t.state.doc.resolve(n.pos);s=l.parent,a=l.depth?l.before():0}const o=i?null:r.target,u=o?t.docView.nearestDesc(o,!0):null;this.target=u&&u.nodeDOM.nodeType==1?u.nodeDOM:null;let{selection:c}=t.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof ze&&c.from<=a&&c.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Wr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ms(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>fs(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(gh(t))),this.updateAllowDefault(t),this.allowDefault||!n?Ms(this.view,"pointer"):az(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Yn&&this.mightDrag&&!this.mightDrag.node.isAtom||On&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Du(this.view,Qe.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Ms(this.view,"pointer")}move(t){this.updateAllowDefault(t),Ms(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}fr.touchstart=e=>{e.input.lastTouch=Date.now(),f1(e),Ms(e,"pointer")};fr.touchmove=e=>{e.input.lastTouch=Date.now(),Ms(e,"pointer")};fr.contextmenu=e=>f1(e);function ON(e,t){return e.composing?!0:Yn&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const dz=is?5e3:-1;hr.compositionstart=hr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Ve&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||On&&oN&&fz(e)))e.markCursor=e.state.storedMarks||n.marks(),Xd(e,!0),e.markCursor=null;else if(Xd(e,!t.selection.empty),Wr&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let o=e.domSelection();o&&o.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}e.input.composing=!0}DN(e,dz)};function fz(e){let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(!t||t.nodeType!=1||n>=t.childNodes.length)return!1;let r=t.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}hr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,DN(e,20))};function DN(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Xd(e),t))}function RN(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=pz());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function hz(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=sU(t.focusNode,t.focusOffset),r=aU(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=e.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function pz(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Xd(e,t=!1){if(!(is&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),RN(e),t||e.docView&&e.docView.dirty){let n=u1(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function mz(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Bl=Sr&&Fs<15||zu&&cU<604;fr.copy=hr.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let s=Bl?null:n.clipboardData,a=r.content(),{dom:o,text:u}=l1(e,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",o.innerHTML),s.setData("text/plain",u)):mz(e,o),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function gz(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function bz(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?jl(e,r.value,null,i,t):jl(e,r.textContent,r.innerHTML,i,t)},50)}function jl(e,t,n,r,i){let s=CN(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",u=>u(e,i,s||we.empty)))return!0;if(!s)return!1;let a=gz(s),o=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(s);return e.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function LN(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}hr.paste=(e,t)=>{let n=t;if(e.composing&&!is)return;let r=Bl?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&jl(e,LN(r),r.getData("text/html"),i,n)?n.preventDefault():bz(e,n)};class PN{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const Tz=qr?"altKey":"ctrlKey";function MN(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n!=null?n:!t[Tz]}fr.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,s=i.empty?null:e.posAtCoords(gh(n)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof ze?i.to-1:i.to))){if(r&&r.mightDrag)a=ze.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(a=ze.create(e.state.doc,d.posBefore))}}let o=(a||e.state.selection).content(),{dom:u,text:c,slice:l}=l1(e,o);(!n.dataTransfer.files.length||!On||uN>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Bl?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",Bl||n.dataTransfer.setData("text/plain",c),e.dragging=new PN(l,MN(e,n),a)};fr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};hr.dragover=hr.dragenter=(e,t)=>t.preventDefault();hr.drop=(e,t)=>{try{Ez(e,t,e.dragging)}finally{e.dragging=null}};function Ez(e,t,n){if(!t.dataTransfer)return;let r=e.posAtCoords(gh(t));if(!r)return;let i=e.state.doc.resolve(r.pos),s=n&&n.slice;s?e.someProp("transformPasted",f=>{s=f(s,e,!1)}):s=CN(e,LN(t.dataTransfer),Bl?null:t.dataTransfer.getData("text/html"),!1,i);let a=!!(n&&MN(e,t));if(e.someProp("handleDrop",f=>f(e,t,s||we.empty,a))){t.preventDefault();return}if(!s)return;t.preventDefault();let o=s?HS(e.state.doc,i.pos,s):i.pos;o==null&&(o=i.pos);let u=e.state.tr;if(a){let{node:f}=n;f?f.replace(u):u.deleteSelection()}let c=u.mapping.map(o),l=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=u.doc;if(l?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(d))return;let h=u.doc.resolve(c);if(l&&ze.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new ze(h));else{let f=u.mapping.map(o);u.mapping.maps[u.mapping.maps.length-1].forEach((p,x,_,b)=>f=b),u.setSelection(o1(e,h,u.doc.resolve(f)))}e.focus(),e.dispatch(u.setMeta("uiEvent","drop"))}fr.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&fs(e)},20))};fr.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};fr.beforeinput=(e,t)=>{if(On&&is&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",s=>s(e,va(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in hr)fr[e]=hr[e];function Fl(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Jd{constructor(t,n){this.toDOM=t,this.spec=n||Pa,this.side=this.spec.side||0}map(t,n,r,i){let{pos:s,deleted:a}=t.mapResult(n.from+i,this.side<0?-1:1);return a?null:new Sn(s-r,s-r,this)}valid(){return!0}eq(t){return this==t||t instanceof Jd&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Fl(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Us{constructor(t,n){this.attrs=t,this.spec=n||Pa}map(t,n,r,i){let s=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new Sn(s,a,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Us&&Fl(this.attrs,t.attrs)&&Fl(this.spec,t.spec)}static is(t){return t.type instanceof Us}destroy(){}}class h1{constructor(t,n){this.attrs=t,this.spec=n||Pa}map(t,n,r,i){let s=t.mapResult(n.from+i,1);if(s.deleted)return null;let a=t.mapResult(n.to+i,-1);return a.deleted||a.pos<=s.pos?null:new Sn(s.pos-r,a.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),s;return i==n.from&&!(s=t.child(r)).isText&&i+s.nodeSize==n.to}eq(t){return this==t||t instanceof h1&&Fl(this.attrs,t.attrs)&&Fl(this.spec,t.spec)}destroy(){}}class Sn{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Sn(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Sn(t,t,new Jd(n,r))}static inline(t,n,r,i){return new Sn(t,n,new Us(r,i))}static node(t,n,r,i){return new Sn(t,n,new h1(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Us}get widget(){return this.type instanceof Jd}}const yu=[],Pa={};class $t{constructor(t,n){this.local=t.length?t:yu,this.children=n.length?n:yu}static create(t,n){return n.length?Zd(n,t,0,Pa):$n}find(t,n,r){let i=[];return this.findInner(t==null?0:t,n==null?1e9:n,i,0,r),i}findInner(t,n,r,i,s){for(let a=0;a<this.local.length;a++){let o=this.local[a];o.from<=n&&o.to>=t&&(!s||s(o.spec))&&r.push(o.copy(o.from+i,o.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>t){let o=this.children[a]+1;this.children[a+2].findInner(t-o,n-o,r,i+o,s)}}map(t,n,r){return this==$n||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Pa)}mapInner(t,n,r,i,s){let a;for(let o=0;o<this.local.length;o++){let u=this.local[o].map(t,r,i);u&&u.type.valid(n,u)?(a||(a=[])).push(u):s.onRemove&&s.onRemove(this.local[o].spec)}return this.children.length?yz(this.children,a||[],t,n,r,i,s):a?new $t(a.sort(Ma),yu):$n}add(t,n){return n.length?this==$n?$t.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,s=0;t.forEach((o,u)=>{let c=u+r,l;if(l=jN(n,o,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<u;)s+=3;i[s]==u?i[s+2]=i[s+2].addInner(o,l,c+1):i.splice(s,0,u,u+o.nodeSize,Zd(l,o,c+1,Pa)),s+=3}});let a=BN(s?FN(n):n,-r);for(let o=0;o<a.length;o++)a[o].type.valid(t,a[o])||a.splice(o--,1);return new $t(a.length?this.local.concat(a).sort(Ma):this.local,i||this.children)}remove(t){return t.length==0||this==$n?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,o=r[s]+n,u=r[s+1]+n;for(let l=0,d;l<t.length;l++)(d=t[l])&&d.from>o&&d.to<u&&(t[l]=null,(a||(a=[])).push(d));if(!a)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(a,o+1);c!=$n?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<t.length;s++)if(a=t[s])for(let o=0;o<i.length;o++)i[o].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(o--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new $t(i,r):$n}forChild(t,n){if(this==$n)return this;if(n.isLeaf)return $t.empty;let r,i;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(r=this.children[o+2]);break}let s=t+1,a=s+n.content.size;for(let o=0;o<this.local.length;o++){let u=this.local[o];if(u.from<a&&u.to>s&&u.type instanceof Us){let c=Math.max(s,u.from)-s,l=Math.min(a,u.to)-s;c<l&&(i||(i=[])).push(u.copy(c,l))}}if(i){let o=new $t(i.sort(Ma),yu);return r?new Is([o,r]):o}return r||$n}eq(t){if(this==t)return!0;if(!(t instanceof $t)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return p1(this.localsInner(t))}localsInner(t){if(this==$n)return yu;if(t.inlineContent||!this.local.some(Us.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Us||n.push(this.local[r]);return n}forEachSet(t){t(this)}}$t.empty=new $t([],[]);$t.removeOverlap=p1;const $n=$t.empty;class Is{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,Pa));return Is.from(r)}forChild(t,n){if(n.isLeaf)return $t.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(t,n);s!=$n&&(s instanceof Is?r=r.concat(s.members):r.push(s))}return Is.from(r)}eq(t){if(!(t instanceof Is)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(t);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?p1(r?n:n.sort(Ma)):yu}static from(t){switch(t.length){case 0:return $n;case 1:return t[0];default:return new Is(t.every(n=>n instanceof $t)?t:t.reduce((n,r)=>n.concat(r instanceof $t?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function yz(e,t,n,r,i,s,a){let o=e.slice();for(let c=0,l=s;c<n.maps.length;c++){let d=0;n.maps[c].forEach((h,f,p,x)=>{let _=x-p-(f-h);for(let b=0;b<o.length;b+=3){let T=o[b+1];if(T<0||h>T+l-d)continue;let N=o[b]+l-d;f>=N?o[b+1]=h<=N?-2:-1:h>=l&&_&&(o[b]+=_,o[b+1]+=_)}d+=_}),l=n.maps[c].map(l,-1)}let u=!1;for(let c=0;c<o.length;c+=3)if(o[c+1]<0){if(o[c+1]==-2){u=!0,o[c+1]=-1;continue}let l=n.map(e[c]+s),d=l-i;if(d<0||d>=r.content.size){u=!0;continue}let h=n.map(e[c+1]+s,-1),f=h-i,{index:p,offset:x}=r.content.findIndex(d),_=r.maybeChild(p);if(_&&x==d&&x+_.nodeSize==f){let b=o[c+2].mapInner(n,_,l+1,e[c]+s+1,a);b!=$n?(o[c]=d,o[c+1]=f,o[c+2]=b):(o[c+1]=-2,u=!0)}else u=!0}if(u){let c=_z(o,e,t,n,i,s,a),l=Zd(c,r,0,a);t=l.local;for(let d=0;d<o.length;d+=3)o[d+1]<0&&(o.splice(d,3),d-=3);for(let d=0,h=0;d<l.children.length;d+=3){let f=l.children[d];for(;h<o.length&&o[h]<f;)h+=3;o.splice(h,0,l.children[d],l.children[d+1],l.children[d+2])}}return new $t(t.sort(Ma),o)}function BN(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Sn(i.from+t,i.to+t,i.type))}return n}function _z(e,t,n,r,i,s,a){function o(u,c){for(let l=0;l<u.local.length;l++){let d=u.local[l].map(r,i,c);d?n.push(d):a.onRemove&&a.onRemove(u.local[l].spec)}for(let l=0;l<u.children.length;l+=3)o(u.children[l+2],u.children[l]+c+1)}for(let u=0;u<e.length;u+=3)e[u+1]==-1&&o(e[u+2],t[u]+s+1);return n}function jN(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let s=0,a;s<e.length;s++)(a=e[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),e[s]=null);return i}function FN(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Zd(e,t,n,r){let i=[],s=!1;t.forEach((o,u)=>{let c=jN(e,o,u+n);if(c){s=!0;let l=Zd(c,o,n+u+1,r);l!=$n&&i.push(u,u+o.nodeSize,l)}});let a=BN(s?FN(e):e,-n).sort(Ma);for(let o=0;o<a.length;o++)a[o].type.valid(t,a[o])||(r.onRemove&&r.onRemove(a[o].spec),a.splice(o--,1));return a.length||i.length?new $t(a,i):$n}function Ma(e,t){return e.from-t.from||e.to-t.to}function p1(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let s=t[i];if(s.from==r.from){s.to!=r.to&&(t==e&&(t=e.slice()),t[i]=s.copy(s.from,r.to),p2(t,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,s.from),p2(t,i,r.copy(s.from,r.to)));break}}}return t}function p2(e,t,n){for(;t<e.length&&Ma(n,e[t])>0;)t++;e.splice(t,0,n)}function D0(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=$n&&t.push(r)}),e.cursorWrapper&&t.push($t.create(e.state.doc,[e.cursorWrapper.deco])),Is.from(t)}const xz={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Az=Sr&&Fs<=11;class Cz{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class Sz{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Cz,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Sr&&Fs<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Az&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,xz)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(a2(this.view)){if(this.suppressingSelectionUpdates)return fs(this.view);if(Sr&&Fs<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Ga(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let s=t.focusNode;s;s=Uu(s))n.add(s);for(let s=t.anchorNode;s;s=Uu(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&a2(t)&&!this.ignoreSelectionChange(r),s=-1,a=-1,o=!1,u=[];if(t.editable)for(let l=0;l<n.length;l++){let d=this.registerMutation(n[l],u);d&&(s=s<0?d.from:Math.min(d.from,s),a=a<0?d.to:Math.max(d.to,a),d.typeOver&&(o=!0))}if(Wr&&u.length){let l=u.filter(d=>d.nodeName=="BR");if(l.length==2){let[d,h]=l;d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let h of l){let f=h.parentNode;f&&f.nodeName=="LI"&&(!d||wz(t,d)!=f)&&h.remove()}}}else if((On||Yn)&&u.some(l=>l.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let l of u)if(l.nodeName=="BR"&&l.parentNode){let d=l.nextSibling;d&&d.nodeType==1&&d.contentEditable=="false"&&l.parentNode.removeChild(l)}}let c=null;s<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&ph(r)&&(c=u1(t))&&c.eq(Qe.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,fs(t),this.currentSelection.set(r),t.scrollToSelection()):(s>-1||i)&&(s>-1&&(t.docView.markDirty(s,a),Nz(t)),this.handleDOMChange(s,a,o,u),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||fs(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let l=0;l<t.addedNodes.length;l++){let d=t.addedNodes[l];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,s=t.nextSibling;if(Sr&&Fs<=11&&t.addedNodes.length)for(let l=0;l<t.addedNodes.length;l++){let{previousSibling:d,nextSibling:h}=t.addedNodes[l];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(i=d),(!h||Array.prototype.indexOf.call(t.addedNodes,h)<0)&&(s=h)}let a=i&&i.parentNode==t.target?Fn(i)+1:0,o=r.localPosFromDOM(t.target,a,-1),u=s&&s.parentNode==t.target?Fn(s):t.target.childNodes.length,c=r.localPosFromDOM(t.target,u,1);return{from:o,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let m2=new WeakMap,g2=!1;function Nz(e){if(!m2.has(e)&&(m2.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Wr,g2)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),g2=!0}}function b2(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,s=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return Ga(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function vz(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return b2(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?b2(e,n):null}function wz(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Iz(e,t,n){let{node:r,fromOffset:i,toOffset:s,from:a,to:o}=e.docView.parseRange(t,n),u=e.domSelectionRange(),c,l=u.anchorNode;if(l&&e.dom.contains(l.nodeType==1?l:l.parentNode)&&(c=[{node:l,offset:u.anchorOffset}],ph(u)||c.push({node:u.focusNode,offset:u.focusOffset})),On&&e.input.lastKeyCode===8)for(let _=s;_>i;_--){let b=r.childNodes[_-1],T=b.pmViewDesc;if(b.nodeName=="BR"&&!T){s=_;break}if(!T||T.size)break}let d=e.state.doc,h=e.someProp("domParser")||ll.fromSchema(e.state.schema),f=d.resolve(a),p=null,x=h.parse(r,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:i,to:s,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:kz,context:f});if(c&&c[0].pos!=null){let _=c[0].pos,b=c[1]&&c[1].pos;b==null&&(b=_),p={anchor:_+a,head:b+a}}return{doc:x,sel:p,from:a,to:o}}function kz(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Yn&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Yn&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Oz=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Dz(e,t,n,r,i){let s=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let I=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,R=u1(e,I);if(R&&!e.state.selection.eq(R)){if(On&&is&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",S=>S(e,va(13,"Enter"))))return;let L=e.state.tr.setSelection(R);I=="pointer"?L.setMeta("pointer",!0):I=="key"&&L.scrollIntoView(),s&&L.setMeta("composition",s),e.dispatch(L)}return}let a=e.state.doc.resolve(t),o=a.sharedDepth(n);t=a.before(o+1),n=e.state.doc.resolve(n).after(o+1);let u=e.state.selection,c=Iz(e,t,n),l=e.state.doc,d=l.slice(c.from,c.to),h,f;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(h=e.state.selection.to,f="end"):(h=e.state.selection.from,f="start"),e.input.lastKeyCode=null;let p=Pz(d.content,c.doc.content,c.from,h,f);if(p&&e.input.domChangeCount++,(zu&&e.input.lastIOSEnter>Date.now()-225||is)&&i.some(I=>I.nodeType==1&&!Oz.test(I.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",I=>I(e,va(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!p)if(r&&u instanceof Ve&&!u.empty&&u.$head.sameParent(u.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:u.from,endA:u.to,endB:u.to};else{if(c.sel){let I=T2(e,e.state.doc,c.sel);if(I&&!I.eq(e.state.selection)){let R=e.state.tr.setSelection(I);s&&R.setMeta("composition",s),e.dispatch(R)}}return}e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof Ve&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),Sr&&Fs<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)==" Â "&&(p.start--,p.endA--,p.endB--);let x=c.doc.resolveNoCache(p.start-c.from),_=c.doc.resolveNoCache(p.endB-c.from),b=l.resolve(p.start),T=x.sameParent(_)&&x.parent.inlineContent&&b.end()>=p.endA;if((zu&&e.input.lastIOSEnter>Date.now()-225&&(!T||i.some(I=>I.nodeName=="DIV"||I.nodeName=="P"))||!T&&x.pos<c.doc.content.size&&(!x.sameParent(_)||!x.parent.inlineContent)&&x.pos<_.pos&&!/\S/.test(c.doc.textBetween(x.pos,_.pos,"","")))&&e.someProp("handleKeyDown",I=>I(e,va(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>p.start&&Lz(l,p.start,p.endA,x,_)&&e.someProp("handleKeyDown",I=>I(e,va(8,"Backspace")))){is&&On&&e.domObserver.suppressSelectionUpdates();return}On&&p.endB==p.start&&(e.input.lastChromeDelete=Date.now()),is&&!T&&x.start()!=_.start()&&_.parentOffset==0&&x.depth==_.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,_=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(I){return I(e,va(13,"Enter"))})},20));let N=p.start,g=p.endA,y=I=>{let R=I||e.state.tr.replace(N,g,c.doc.slice(p.start-c.from,p.endB-c.from));if(c.sel){let L=T2(e,R.doc,c.sel);L&&!(On&&e.composing&&L.empty&&(p.start!=p.endB||e.input.lastChromeDelete<Date.now()-100)&&(L.head==N||L.head==R.mapping.map(g)-1)||Sr&&L.empty&&L.head==N)&&R.setSelection(L)}return s&&R.setMeta("composition",s),R.scrollIntoView()},E;if(T)if(x.pos==_.pos){Sr&&Fs<=11&&x.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>fs(e),20));let I=y(e.state.tr.delete(N,g)),R=l.resolve(p.start).marksAcross(l.resolve(p.endA));R&&I.ensureMarks(R),e.dispatch(I)}else if(p.endA==p.endB&&(E=Rz(x.parent.content.cut(x.parentOffset,_.parentOffset),b.parent.content.cut(b.parentOffset,p.endA-b.start())))){let I=y(e.state.tr);E.type=="add"?I.addMark(N,g,E.mark):I.removeMark(N,g,E.mark),e.dispatch(I)}else if(x.parent.child(x.index()).isText&&x.index()==_.index()-(_.textOffset?0:1)){let I=x.parent.textBetween(x.parentOffset,_.parentOffset),R=()=>y(e.state.tr.insertText(I,N,g));e.someProp("handleTextInput",L=>L(e,N,g,I,R))||e.dispatch(R())}else e.dispatch(y());else e.dispatch(y())}function T2(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:o1(e,t.resolve(n.anchor),t.resolve(n.head))}function Rz(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,s=r,a,o,u;for(let l=0;l<r.length;l++)i=r[l].removeFromSet(i);for(let l=0;l<n.length;l++)s=n[l].removeFromSet(s);if(i.length==1&&s.length==0)o=i[0],a="add",u=l=>l.mark(o.addToSet(l.marks));else if(i.length==0&&s.length==1)o=s[0],a="remove",u=l=>l.mark(o.removeFromSet(l.marks));else return null;let c=[];for(let l=0;l<t.childCount;l++)c.push(u(t.child(l)));if(he.from(c).eq(e))return{mark:o,type:a}}function Lz(e,t,n,r,i){if(n-t<=i.pos-r.pos||R0(r,!0,!1)<i.pos)return!1;let s=e.resolve(t);if(!r.parent.isTextblock){let o=s.nodeAfter;return o!=null&&n==t+o.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=e.resolve(R0(s,!0,!0));return!a.parent.isTextblock||a.pos>n||R0(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function R0(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let s=e.node(r).maybeChild(e.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Pz(e,t,n,r,i){let s=e.findDiffStart(t,n);if(s==null)return null;let{a,b:o}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let u=Math.max(0,s-Math.min(a,o));r-=a+u-s}if(a<s&&e.size<t.size){let u=r<=s&&r>=a?s-r:0;s-=u,s&&s<t.size&&E2(t.textBetween(s-1,s+1))&&(s+=u?1:-1),o=s+(o-a),a=s}else if(o<s){let u=r<=s&&r>=o?s-r:0;s-=u,s&&s<e.size&&E2(e.textBetween(s-1,s+1))&&(s+=u?1:-1),a=s+(a-o),o=s}return{start:s,endA:a,endB:o}}function E2(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class HN{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new JU,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(C2),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=x2(this),_2(this),this.nodeViews=A2(this),this.docView=e2(this.state.doc,y2(this),D0(this),this.dom,this),this.domObserver=new Sz(this,(r,i,s,a)=>Dz(this,r,i,s,a)),this.domObserver.start(),ZU(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&ym(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(C2),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,s=!1,a=!1;t.storedMarks&&this.composing&&(RN(this),a=!0),this.state=t;let o=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(o||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=A2(this);Bz(f,this.nodeViews)&&(this.nodeViews=f,s=!0)}(o||n.handleDOMEvents!=this._props.handleDOMEvents)&&ym(this),this.editable=x2(this),_2(this);let u=D0(this),c=y2(this),l=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(t.doc,c,u);(d||!t.selection.eq(i.selection))&&(a=!0);let h=l=="preserve"&&a&&this.dom.style.overflowAnchor==null&&hU(this);if(a){this.domObserver.stop();let f=d&&(Sr||On)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&Mz(i.selection,t.selection);if(d){let p=On?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=hz(this)),(s||!this.docView.update(t.doc,c,u,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=e2(t.doc,c,u,this.dom,this)),p&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&BU(this))?fs(this,f):(_N(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),l=="reset"?this.dom.scrollTop=0:l=="to selection"?this.scrollToSelection():h&&pU(h)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ze){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&YE(this,n.getBoundingClientRect(),t)}else YE(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new PN(t.slice,t.move,i<0?void 0:ze.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let o=this.directPlugins[a].props[t];if(o!=null&&(i=n?n(o):o))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let o=s[a].props[t];if(o!=null&&(i=n?n(o):o))return i}}hasFocus(){if(Sr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&mU(this.dom),fs(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return yU(this,t)}coordsAtPos(t,n=1){return hN(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return SU(this,n||this.state,t)}pasteHTML(t,n){return jl(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return jl(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return l1(this,t)}destroy(){this.docView&&(ez(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],D0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,rU())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return nz(this,t)}domSelectionRange(){let t=this.domSelection();return t?Yn&&this.root.nodeType===11&&oU(this.dom.ownerDocument)==this.dom&&vz(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}HN.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function y2(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Sn.node(0,e.state.doc.content.size,t)]}function _2(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Sn.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function x2(e){return!e.someProp("editable",t=>t(e.state)===!1)}function Mz(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function A2(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function Bz(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function C2(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Gs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ef={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},jz=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),Fz=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Hn=0;Hn<10;Hn++)Gs[48+Hn]=Gs[96+Hn]=String(Hn);for(var Hn=1;Hn<=24;Hn++)Gs[Hn+111]="F"+Hn;for(var Hn=65;Hn<=90;Hn++)Gs[Hn]=String.fromCharCode(Hn+32),ef[Hn]=String.fromCharCode(Hn);for(var L0 in Gs)ef.hasOwnProperty(L0)||(ef[L0]=Gs[L0]);function Hz(e){var t=jz&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Fz&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?ef:Gs)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Uz=typeof navigator!="undefined"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),zz=typeof navigator!="undefined"&&/Win/.test(navigator.platform);function qz(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,s,a;for(let o=0;o<t.length-1;o++){let u=t[o];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))Uz?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function Gz(e){let t=Object.create(null);for(let n in e)t[qz(n)]=e[n];return t}function P0(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function Vz(e){return new Gt({props:{handleKeyDown:m1(e)}})}function m1(e){let t=Gz(e);return function(n,r){let i=Hz(r),s,a=t[P0(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let o=t[P0(i,r,!1)];if(o&&o(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(zz&&r.ctrlKey&&r.altKey)&&(s=Gs[r.keyCode])&&s!=i){let o=t[P0(s,r)];if(o&&o(n.state,n.dispatch,n))return!0}}return!1}}var $z=Object.defineProperty,g1=(e,t)=>{for(var n in t)$z(e,n,{get:t[n],enumerable:!0})};function bh(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return oe(U({},t),{apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}})}var Th=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,o])=>[a,(...c)=>{const l=o(...c)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),l}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a=[],o=!!e,u=e||i.tr,c=()=>(!o&&t&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),a.every(d=>d===!0)),l=oe(U({},Object.fromEntries(Object.entries(n).map(([d,h])=>[d,(...p)=>{const x=this.buildProps(u,t),_=h(...p)(x);return a.push(_),l}]))),{run:c});return l}createCan(e){const{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,s=this.buildProps(i,r),a=Object.fromEntries(Object.entries(t).map(([o,u])=>[o,(...c)=>u(...c)(oe(U({},s),{dispatch:void 0}))]));return oe(U({},a),{chain:()=>this.createChain(i,r)})}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a={tr:e,editor:r,view:s,state:bh({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([o,u])=>[o,(...c)=>u(...c)(a)]))}};return a}},UN={};g1(UN,{blur:()=>Wz,clearContent:()=>Yz,clearNodes:()=>Kz,command:()=>Qz,createParagraphNear:()=>Xz,cut:()=>Jz,deleteCurrentNode:()=>Zz,deleteNode:()=>eq,deleteRange:()=>tq,deleteSelection:()=>nq,enter:()=>rq,exitCode:()=>iq,extendMarkRange:()=>sq,first:()=>aq,focus:()=>oq,forEach:()=>lq,insertContent:()=>cq,insertContentAt:()=>hq,joinBackward:()=>gq,joinDown:()=>mq,joinForward:()=>bq,joinItemBackward:()=>Tq,joinItemForward:()=>Eq,joinTextblockBackward:()=>yq,joinTextblockForward:()=>_q,joinUp:()=>pq,keyboardShortcut:()=>Aq,lift:()=>Cq,liftEmptyBlock:()=>Sq,liftListItem:()=>Nq,newlineInCode:()=>vq,resetAttributes:()=>wq,scrollIntoView:()=>Iq,selectAll:()=>kq,selectNodeBackward:()=>Oq,selectNodeForward:()=>Dq,selectParentNode:()=>Rq,selectTextblockEnd:()=>Lq,selectTextblockStart:()=>Pq,setContent:()=>Mq,setMark:()=>eG,setMeta:()=>tG,setNode:()=>nG,setNodeSelection:()=>rG,setTextDirection:()=>iG,setTextSelection:()=>sG,sinkListItem:()=>aG,splitBlock:()=>uG,splitListItem:()=>oG,toggleList:()=>lG,toggleMark:()=>cG,toggleNode:()=>dG,toggleWrap:()=>fG,undoInputRule:()=>hG,unsetAllMarks:()=>pG,unsetMark:()=>mG,unsetTextDirection:()=>gG,updateAttributes:()=>bG,wrapIn:()=>TG,wrapInList:()=>EG});var Wz=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),Yz=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),Kz=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(o,u)=>{if(o.type.isText)return;const{doc:c,mapping:l}=t,d=c.resolve(l.map(u)),h=c.resolve(l.map(u+o.nodeSize)),f=d.blockRange(h);if(!f)return;const p=so(f);if(o.type.isTextblock){const{defaultType:x}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(f.start,x)}(p||p===0)&&t.lift(f,p)})}),!0},Qz=e=>t=>e(t),Xz=()=>({state:e,dispatch:t})=>nN(e,t),Jz=(e,t)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new Ve(r.doc.resolve(Math.max(a-1,0)))),!0},Zz=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(t){const o=i.before(s),u=i.after(s);e.delete(o,u).scrollIntoView()}return!0}return!1};function xn(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var eq=e=>({tr:t,state:n,dispatch:r})=>{const i=xn(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){const u=s.before(a),c=s.after(a);t.delete(u,c).scrollIntoView()}return!0}return!1},tq=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},nq=()=>({state:e,dispatch:t})=>t1(e,t),rq=()=>({commands:e})=>e.keyboardShortcut("Enter"),iq=()=>({state:e,dispatch:t})=>zH(e,t);function b1(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function tf(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:b1(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function zN(e,t,n={}){return e.find(r=>r.type===t&&tf(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function S2(e,t,n={}){return!!zN(e,t,n)}function T1(e,t,n){var r;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(l=>l.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(l=>l.type===t)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!zN([...i.node.marks],t,n)))return;let a=i.index,o=e.start()+i.offset,u=a+1,c=o+i.node.nodeSize;for(;a>0&&S2([...e.parent.child(a-1).marks],t,n);)a-=1,o-=e.parent.child(a).nodeSize;for(;u<e.parent.childCount&&S2([...e.parent.child(u).marks],t,n);)c+=e.parent.child(u).nodeSize,u+=1;return{from:o,to:c}}function ps(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var sq=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const s=ps(e,r.schema),{doc:a,selection:o}=n,{$from:u,from:c,to:l}=o;if(i){const d=T1(u,s,t);if(d&&d.from<=c&&d.to>=l){const h=Ve.create(a,d.from,d.to);n.setSelection(h)}}return!0},aq=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function E1(e){return e instanceof Ve}function ss(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function qN(e,t=null){if(!t)return null;const n=Qe.atStart(e),r=Qe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,s=r.to;return t==="all"?Ve.create(e,ss(0,i,s),ss(e.content.size,i,s)):Ve.create(e,ss(t,i,s),ss(t,i,s))}function N2(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function nf(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function uq(){return typeof navigator!="undefined"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var oq=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:s})=>{t=U({scrollIntoView:!0},t);const a=()=>{(nf()||N2())&&r.dom.focus(),uq()&&!nf()&&!N2()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!E1(n.state.selection))return a(),!0;const o=qN(i.doc,e)||n.state.selection,u=n.state.selection.eq(o);return s&&(u||i.setSelection(o),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},lq=(e,t)=>n=>e.every((r,i)=>t(r,oe(U({},n),{index:i}))),cq=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),GN=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&GN(r)}return e};function Rc(e){if(typeof window=="undefined")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return GN(n)}function Hl(e,t,n){if(e instanceof js||e instanceof he)return e;n=U({slice:!0,parseOptions:{}},n);const r=typeof e=="object"&&e!==null,i=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return he.fromArray(e.map(o=>t.nodeFromJSON(o)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),Hl("",t,n)}if(i){if(n.errorOnInvalidContent){let a=!1,o="";const u=new IS({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,o=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?ll.fromSchema(u).parseSlice(Rc(e),n.parseOptions):ll.fromSchema(u).parse(Rc(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const s=ll.fromSchema(t);return n.slice?s.parseSlice(Rc(e),n.parseOptions).content:s.parse(Rc(e),n.parseOptions)}return Hl("",t,n)}function dq(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof wn||i instanceof Dn))return;const s=e.mapping.maps[r];let a=0;s.forEach((o,u,c,l)=>{a===0&&(a=l)}),e.setSelection(Qe.near(e.doc.resolve(a),n))}var fq=e=>!("type"in e),hq=(e,t,n)=>({tr:r,dispatch:i,editor:s})=>{var a;if(i){n=U({parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1},n);let o;const u=_=>{s.emit("contentError",{editor:s,error:_,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c=U({preserveWhitespace:"full"},n.parseOptions);if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Hl(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(_){u(_)}try{o=Hl(t,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(_){return u(_),!1}let{from:l,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},h=!0,f=!0;if((fq(o)?o:[o]).forEach(_=>{_.check(),h=h?_.isText&&_.marks.length===0:!1,f=f?_.isBlock:!1}),l===d&&f){const{parent:_}=r.doc.resolve(l);_.isTextblock&&!_.type.spec.code&&!_.childCount&&(l-=1,d+=1)}let x;if(h){if(Array.isArray(t))x=t.map(_=>_.text||"").join("");else if(t instanceof he){let _="";t.forEach(b=>{b.text&&(_+=b.text)}),x=_}else typeof t=="object"&&t&&t.text?x=t.text:x=t;r.insertText(x,l,d)}else{x=o;const _=r.doc.resolve(l),b=_.node(),T=_.parentOffset===0,N=b.isText||b.isTextblock,g=b.content.size>0;T&&N&&g&&(l=Math.max(0,l-1)),r.replaceWith(l,d,x)}n.updateSelection&&dq(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:x}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:x})}return!0},pq=()=>({state:e,dispatch:t})=>FH(e,t),mq=()=>({state:e,dispatch:t})=>HH(e,t),gq=()=>({state:e,dispatch:t})=>KS(e,t),bq=()=>({state:e,dispatch:t})=>ZS(e,t),Tq=()=>({state:e,dispatch:t,tr:n})=>{try{const r=dh(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch(r){return!1}},Eq=()=>({state:e,dispatch:t,tr:n})=>{try{const r=dh(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch(r){return!1}},yq=()=>({state:e,dispatch:t})=>BH(e,t),_q=()=>({state:e,dispatch:t})=>jH(e,t);function VN(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function xq(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,s,a;for(let o=0;o<t.length-1;o+=1){const u=t[o];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))nf()||VN()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var Aq=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const s=xq(e).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),o=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),u=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,o))});return u==null||u.steps.forEach(c=>{const l=c.map(r.mapping);l&&i&&r.maybeStep(l)}),!0};function Vs(e,t,n={}){const{from:r,to:i,empty:s}=e.selection,a=t?xn(t,e.schema):null,o=[];e.doc.nodesBetween(r,i,(d,h)=>{if(d.isText)return;const f=Math.max(r,h),p=Math.min(i,h+d.nodeSize);o.push({node:d,from:f,to:p})});const u=i-r,c=o.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>tf(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,h)=>d+h.to-h.from,0)>=u}var Cq=(e,t={})=>({state:n,dispatch:r})=>{const i=xn(e,n.schema);return Vs(n,i,t)?UH(n,r):!1},Sq=()=>({state:e,dispatch:t})=>rN(e,t),Nq=e=>({state:t,dispatch:n})=>{const r=xn(e,t.schema);return ZH(r)(t,n)},vq=()=>({state:e,dispatch:t})=>tN(e,t);function Eh(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function v2(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}var wq=(e,t)=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const o=Eh(typeof e=="string"?e:e.name,r.schema);if(!o)return!1;o==="node"&&(s=xn(e,r.schema)),o==="mark"&&(a=ps(e,r.schema));let u=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(l,d)=>{s&&s===l.type&&(u=!0,i&&n.setNodeMarkup(d,void 0,v2(l.attrs,t))),a&&l.marks.length&&l.marks.forEach(h=>{a===h.type&&(u=!0,i&&n.addMark(d,d+l.nodeSize,a.create(v2(h.attrs,t))))})})}),u},Iq=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),kq=()=>({tr:e,dispatch:t})=>{if(t){const n=new Mr(e.doc);e.setSelection(n)}return!0},Oq=()=>({state:e,dispatch:t})=>XS(e,t),Dq=()=>({state:e,dispatch:t})=>eN(e,t),Rq=()=>({state:e,dispatch:t})=>VH(e,t),Lq=()=>({state:e,dispatch:t})=>YH(e,t),Pq=()=>({state:e,dispatch:t})=>WH(e,t);function _m(e,t,n={},r={}){return Hl(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var Mq=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:a,commands:o})=>{const{doc:u}=s;if(r.preserveWhitespace!=="full"){const c=_m(e,i.schema,r,{errorOnInvalidContent:t!=null?t:i.options.enableContentCheck});return a&&s.replaceWith(0,u.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),o.insertContentAt({from:0,to:u.content.size},e,{parseOptions:r,errorOnInvalidContent:t!=null?t:i.options.enableContentCheck})};function $N(e,t){const n=ps(t,e.schema),{from:r,to:i,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,u=>{a.push(...u.marks)});const o=a.find(u=>u.type.name===n.name);return o?U({},o.attrs):{}}function WN(e,t){const n=new Zg(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function Bq(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function jq(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function YN(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function yh(e){return t=>YN(t.$from,e)}function Fe(e,t,n){return e.config[t]===void 0&&e.parent?Fe(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind(oe(U({},n),{parent:e.parent?Fe(e.parent,t,n):null})):e.config[t]}function y1(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=Fe(t,"addExtensions",n);return r?[t,...y1(r())]:t}).flat(10)}function _1(e,t){const n=Js.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function KN(e){return typeof e=="function"}function Bt(e,t=void 0,...n){return KN(e)?t?e.bind(t)(...n):e(...n):e}function Fq(e={}){return Object.keys(e).length===0&&e.constructor===Object}function qu(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function QN(e){const t=[],{nodeExtensions:n,markExtensions:r}=qu(e),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(a=>{const o={name:a.name,options:a.options,storage:a.storage,extensions:i},u=Fe(a,"addGlobalAttributes",o);if(!u)return;u().forEach(l=>{l.types.forEach(d=>{Object.entries(l.attributes).forEach(([h,f])=>{t.push({type:d,name:h,attribute:U(U({},s),f)})})})})}),i.forEach(a=>{const o={name:a.name,options:a.options,storage:a.storage},u=Fe(a,"addAttributes",o);if(!u)return;const c=u();Object.entries(c).forEach(([l,d])=>{const h=U(U({},s),d);typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,t.push({type:a.name,name:l,attribute:h})})}),t}function Qt(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r=U({},t);return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const o=s?String(s).split(" "):[],u=r[i]?r[i].split(" "):[],c=o.filter(l=>!u.includes(l));r[i]=[...u,...c].join(" ")}else if(i==="style"){const o=s?s.split(";").map(l=>l.trim()).filter(Boolean):[],u=r[i]?r[i].split(";").map(l=>l.trim()).filter(Boolean):[],c=new Map;u.forEach(l=>{const[d,h]=l.split(":").map(f=>f.trim());c.set(d,h)}),o.forEach(l=>{const[d,h]=l.split(":").map(f=>f.trim());c.set(d,h)}),r[i]=Array.from(c.entries()).map(([l,d])=>`${l}: ${d}`).join("; ")}else r[i]=s}),r},{})}function Ul(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>Qt(n,r),{})}function Hq(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function w2(e,t){return"style"in e?e:oe(U({},e),{getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((s,a)=>{const o=a.attribute.parseHTML?a.attribute.parseHTML(n):Hq(n.getAttribute(a.name));return o==null?s:oe(U({},s),{[a.name]:o})},{});return U(U({},r),i)}})}function I2(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&Fq(n)?!1:n!=null))}function k2(e){var t,n;const r={};return!((t=e==null?void 0:e.attribute)!=null&&t.isRequired)&&"default"in((e==null?void 0:e.attribute)||{})&&(r.default=e.attribute.default),((n=e==null?void 0:e.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=e.attribute.validate),[e.name,r]}function Uq(e,t){var n;const r=QN(e),{nodeExtensions:i,markExtensions:s}=qu(e),a=(n=i.find(c=>Fe(c,"topNode")))==null?void 0:n.name,o=Object.fromEntries(i.map(c=>{const l=r.filter(b=>b.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},h=e.reduce((b,T)=>{const N=Fe(T,"extendNodeSchema",d);return U(U({},b),N?N(c):{})},{}),f=I2(oe(U({},h),{content:Bt(Fe(c,"content",d)),marks:Bt(Fe(c,"marks",d)),group:Bt(Fe(c,"group",d)),inline:Bt(Fe(c,"inline",d)),atom:Bt(Fe(c,"atom",d)),selectable:Bt(Fe(c,"selectable",d)),draggable:Bt(Fe(c,"draggable",d)),code:Bt(Fe(c,"code",d)),whitespace:Bt(Fe(c,"whitespace",d)),linebreakReplacement:Bt(Fe(c,"linebreakReplacement",d)),defining:Bt(Fe(c,"defining",d)),isolating:Bt(Fe(c,"isolating",d)),attrs:Object.fromEntries(l.map(k2))})),p=Bt(Fe(c,"parseHTML",d));p&&(f.parseDOM=p.map(b=>w2(b,l)));const x=Fe(c,"renderHTML",d);x&&(f.toDOM=b=>x({node:b,HTMLAttributes:Ul(b,l)}));const _=Fe(c,"renderText",d);return _&&(f.toText=_),[c.name,f]})),u=Object.fromEntries(s.map(c=>{const l=r.filter(_=>_.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},h=e.reduce((_,b)=>{const T=Fe(b,"extendMarkSchema",d);return U(U({},_),T?T(c):{})},{}),f=I2(oe(U({},h),{inclusive:Bt(Fe(c,"inclusive",d)),excludes:Bt(Fe(c,"excludes",d)),group:Bt(Fe(c,"group",d)),spanning:Bt(Fe(c,"spanning",d)),code:Bt(Fe(c,"code",d)),attrs:Object.fromEntries(l.map(k2))})),p=Bt(Fe(c,"parseHTML",d));p&&(f.parseDOM=p.map(_=>w2(_,l)));const x=Fe(c,"renderHTML",d);return x&&(f.toDOM=_=>x({mark:_,HTMLAttributes:Ul(_,l)})),[c.name,f]}));return new IS({topNode:a,nodes:o,marks:u})}function zq(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function rf(e){return e.sort((n,r)=>{const i=Fe(n,"priority")||100,s=Fe(r,"priority")||100;return i>s?-1:i<s?1:0})}function XN(e){const t=rf(y1(e)),n=zq(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function JN(e,t,n){const{from:r,to:i}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let o="";return e.nodesBetween(r,i,(u,c,l,d)=>{var h;u.isBlock&&c>r&&(o+=s);const f=a==null?void 0:a[u.type.name];if(f)return l&&(o+=f({node:u,pos:c,parent:l,index:d,range:t})),!1;u.isText&&(o+=(h=u==null?void 0:u.text)==null?void 0:h.slice(Math.max(r,c)-c,i-c))}),o}function ZN(e,t){const n={from:0,to:e.content.size};return JN(e,n,t)}function x1(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function qq(e,t){const n=xn(t,e.schema),{from:r,to:i}=e.selection,s=[];e.doc.nodesBetween(r,i,o=>{s.push(o)});const a=s.reverse().find(o=>o.type.name===n.name);return a?U({},a.attrs):{}}function ev(e,t){const n=Eh(typeof t=="string"?t:t.name,e.schema);return n==="node"?qq(e,t):n==="mark"?$N(e,t):{}}function Gq(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function Vq(e){const t=Gq(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function tv(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,s)=>{const a=[];if(i.ranges.length)i.forEach((o,u)=>{a.push({from:o,to:u})});else{const{from:o,to:u}=n[s];if(o===void 0||u===void 0)return;a.push({from:o,to:u})}a.forEach(({from:o,to:u})=>{const c=t.slice(s).map(o,-1),l=t.slice(s).map(u),d=t.invert().map(c,-1),h=t.invert().map(l);r.push({oldRange:{from:d,to:h},newRange:{from:c,to:l}})})}),Vq(r)}function A1(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const s=n.resolve(e),a=T1(s,i.type);a&&r.push(U({mark:i},a))}):n.nodesBetween(e,t,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}var $q=(e,t,n,r=20)=>{const i=e.doc.resolve(n);let s=r,a=null;for(;s>0&&a===null;){const o=i.node(s);(o==null?void 0:o.type.name)===t?a=o:s-=1}return[a,s]};function Lc(e,t){return t.nodes[e]||t.marks[e]||null}function hd(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(s=>s.type===t&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var Wq=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(i,s,a,o)=>{var u,c;const l=((c=(u=i.type.spec).toText)==null?void 0:c.call(u,{node:i,pos:s,parent:a,index:o}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?l:l.slice(0,Math.max(0,r-s))}),n};function xm(e,t,n={}){const{empty:r,ranges:i}=e.selection,s=t?ps(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>tf(d.attrs,n,{strict:!1}));let a=0;const o=[];if(i.forEach(({$from:d,$to:h})=>{const f=d.pos,p=h.pos;e.doc.nodesBetween(f,p,(x,_)=>{if(!x.isText&&!x.marks.length)return;const b=Math.max(f,_),T=Math.min(p,_+x.nodeSize),N=T-b;a+=N,o.push(...x.marks.map(g=>({mark:g,from:b,to:T})))})}),a===0)return!1;const u=o.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>tf(d.mark.attrs,n,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),c=o.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,h)=>d+h.to-h.from,0);return(u>0?u+c:u)>=a}function Yq(e,t,n={}){if(!t)return Vs(e,null,n)||xm(e,null,n);const r=Eh(t,e.schema);return r==="node"?Vs(e,t,n):r==="mark"?xm(e,t,n):!1}var Kq=(e,t)=>{const{$from:n,$to:r,$anchor:i}=e.selection;if(t){const s=yh(o=>o.type.name===t)(e.selection);if(!s)return!1;const a=e.doc.resolve(s.pos+1);return i.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},Qq=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function O2(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function D2(e,t){const{nodeExtensions:n}=qu(t),r=n.find(a=>a.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Bt(Fe(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function _h(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(s=>{i!==!1&&(_h(s,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function nv(e){return e instanceof ze}var rv=class iv{constructor(t){this.position=t}static fromJSON(t){return new iv(t.position)}toJSON(){return{position:this.position}}};function Xq(e,t){const n=t.mapping.mapResult(e.position);return{position:new rv(n.pos),mapResult:n}}function Jq(e){return new rv(e)}function sv(e,t,n){const i=e.state.doc.content.size,s=ss(t,0,i),a=ss(n,0,i),o=e.coordsAtPos(s),u=e.coordsAtPos(a,-1),c=Math.min(o.top,u.top),l=Math.max(o.bottom,u.bottom),d=Math.min(o.left,u.left),h=Math.max(o.right,u.right),f=h-d,p=l-c,b={top:c,bottom:l,left:d,right:h,width:f,height:p,x:d,y:c};return oe(U({},b),{toJSON:()=>b})}function Zq(e,t,n){var r;const{selection:i}=t;let s=null;if(E1(i)&&(s=i.$cursor),s){const o=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(o)||!o.some(c=>c.type.excludes(n)))}const{ranges:a}=i;return a.some(({$from:o,$to:u})=>{let c=o.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(o.pos,u.pos,(l,d,h)=>{if(c)return!1;if(l.isInline){const f=!h||h.type.allowsMarkType(n),p=!!n.isInSet(l.marks)||!l.marks.some(x=>x.type.excludes(n));c=f&&p}return!c}),c})}var eG=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:a,ranges:o}=s,u=ps(e,r.schema);if(i)if(a){const c=$N(r,u);n.addStoredMark(u.create(U(U({},c),t)))}else o.forEach(c=>{const l=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(l,d,(h,f)=>{const p=Math.max(f,l),x=Math.min(f+h.nodeSize,d);h.marks.find(b=>b.type===u)?h.marks.forEach(b=>{u===b.type&&n.addMark(p,x,u.create(U(U({},b.attrs),t)))}):n.addMark(p,x,u.create(t))})});return Zq(r,n,u)},tG=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),nG=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const s=xn(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:o})=>VE(s,U(U({},a),t))(n)?!0:o.clearNodes()).command(({state:o})=>VE(s,U(U({},a),t))(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},rG=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=ss(e,0,r.content.size),s=ze.create(r,i);t.setSelection(s)}return!0},iG=(e,t)=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=r;let a,o;return typeof t=="number"?(a=t,o=t):t&&"from"in t&&"to"in t?(a=t.from,o=t.to):(a=s.from,o=s.to),i&&n.doc.nodesBetween(a,o,(u,c)=>{u.isText||n.setNodeMarkup(c,void 0,oe(U({},u.attrs),{dir:e}))}),!0},sG=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:s}=typeof e=="number"?{from:e,to:e}:e,a=Ve.atStart(r).from,o=Ve.atEnd(r).to,u=ss(i,a,o),c=ss(s,a,o),l=Ve.create(r,u,c);t.setSelection(l)}return!0},aG=e=>({state:t,dispatch:n})=>{const r=xn(e,t.schema);return nU(r)(t,n)};function R2(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t==null?void 0:t.includes(i.type.name));e.tr.ensureMarks(r)}}var uG=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:a}=t,{$from:o,$to:u}=s,c=i.extensionManager.attributes,l=hd(c,o.node().type.name,o.node().attrs);if(s instanceof ze&&s.node.isBlock)return!o.parentOffset||!ds(a,o.pos)?!1:(r&&(e&&R2(n,i.extensionManager.splittableMarks),t.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;const d=u.parentOffset===u.parent.content.size,h=o.depth===0?void 0:Bq(o.node(-1).contentMatchAt(o.indexAfter(-1)));let f=d&&h?[{type:h,attrs:l}]:void 0,p=ds(t.doc,t.mapping.map(o.pos),1,f);if(!f&&!p&&ds(t.doc,t.mapping.map(o.pos),1,h?[{type:h}]:void 0)&&(p=!0,f=h?[{type:h,attrs:l}]:void 0),r){if(p&&(s instanceof Ve&&t.deleteSelection(),t.split(t.mapping.map(o.pos),1,f),h&&!d&&!o.parentOffset&&o.parent.type!==h)){const x=t.mapping.map(o.before()),_=t.doc.resolve(x);o.node(-1).canReplaceWith(_.index(),_.index()+1,h)&&t.setNodeMarkup(t.mapping.map(o.before()),h)}e&&R2(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return p},oG=(e,t={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var a;const o=xn(e,r.schema),{$from:u,$to:c}=r.selection,l=r.selection.node;if(l&&l.isBlock||u.depth<2||!u.sameParent(c))return!1;const d=u.node(-1);if(d.type!==o)return!1;const h=s.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==o||u.index(-2)!==u.node(-2).childCount-1)return!1;if(i){let b=he.empty;const T=u.index(-1)?1:u.index(-2)?2:3;for(let R=u.depth-T;R>=u.depth-3;R-=1)b=he.from(u.node(R).copy(b));const N=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,g=U(U({},hd(h,u.node().type.name,u.node().attrs)),t),y=((a=o.contentMatch.defaultType)==null?void 0:a.createAndFill(g))||void 0;b=b.append(he.from(o.createAndFill(null,y)||void 0));const E=u.before(u.depth-(T-1));n.replace(E,u.after(-N),new we(b,4-T,0));let I=-1;n.doc.nodesBetween(E,n.doc.content.size,(R,L)=>{if(I>-1)return!1;R.isTextblock&&R.content.size===0&&(I=L+1)}),I>-1&&n.setSelection(Ve.near(n.doc.resolve(I))),n.scrollIntoView()}return!0}const f=c.pos===u.end()?d.contentMatchAt(0).defaultType:null,p=U(U({},hd(h,d.type.name,d.attrs)),t),x=U(U({},hd(h,u.node().type.name,u.node().attrs)),t);n.delete(u.pos,c.pos);const _=f?[{type:o,attrs:p},{type:f,attrs:x}]:[{type:o,attrs:p}];if(!ds(n.doc,u.pos,2))return!1;if(i){const{selection:b,storedMarks:T}=r,{splittableMarks:N}=s.extensionManager,g=T||b.$to.parentOffset&&b.$from.marks();if(n.split(u.pos,2,_).scrollIntoView(),!g||!i)return!0;const y=g.filter(E=>N.includes(E.type.name));n.ensureMarks(y)}return!0},M0=(e,t)=>{const n=yh(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Zs(e.doc,n.pos)&&e.join(n.pos),!0},B0=(e,t)=>{const n=yh(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Zs(e.doc,r)&&e.join(r),!0},lG=(e,t,n,r={})=>({editor:i,tr:s,state:a,dispatch:o,chain:u,commands:c,can:l})=>{const{extensions:d,splittableMarks:h}=i.extensionManager,f=xn(e,a.schema),p=xn(t,a.schema),{selection:x,storedMarks:_}=a,{$from:b,$to:T}=x,N=b.blockRange(T),g=_||x.$to.parentOffset&&x.$from.marks();if(!N)return!1;const y=yh(E=>D2(E.type.name,d))(x);if(N.depth>=1&&y&&N.depth-y.depth<=1){if(y.node.type===f)return c.liftListItem(p);if(D2(y.node.type.name,d)&&f.validContent(y.node.content)&&o)return u().command(()=>(s.setNodeMarkup(y.pos,f),!0)).command(()=>M0(s,f)).command(()=>B0(s,f)).run()}return!n||!g||!o?u().command(()=>l().wrapInList(f,r)?!0:c.clearNodes()).wrapInList(f,r).command(()=>M0(s,f)).command(()=>B0(s,f)).run():u().command(()=>{const E=l().wrapInList(f,r),I=g.filter(R=>h.includes(R.type.name));return s.ensureMarks(I),E?!0:c.clearNodes()}).wrapInList(f,r).command(()=>M0(s,f)).command(()=>B0(s,f)).run()},cG=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,a=ps(e,r.schema);return xm(r,a,t)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,t)},dG=(e,t,n={})=>({state:r,commands:i})=>{const s=xn(e,r.schema),a=xn(t,r.schema),o=Vs(r,s,n);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),o?i.setNode(a,u):i.setNode(s,U(U({},u),n))},fG=(e,t={})=>({state:n,commands:r})=>{const i=xn(e,n.schema);return Vs(n,i,t)?r.lift(i):r.wrapIn(i,t)},hG=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(e))){if(t){const a=e.tr,o=s.transform;for(let u=o.steps.length-1;u>=0;u-=1)a.step(o.steps[u].invert(o.docs[u]));if(s.text){const u=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,u))}else a.delete(s.from,s.to)}return!0}}return!1},pG=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},mG=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:o}=n,u=ps(e,r.schema),{$from:c,empty:l,ranges:d}=o;if(!i)return!0;if(l&&a){let{from:h,to:f}=o;const p=(s=c.marks().find(_=>_.type===u))==null?void 0:s.attrs,x=T1(c,u,p);x&&(h=x.from,f=x.to),n.removeMark(h,f,u)}else d.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,u)});return n.removeStoredMark(u),!0},gG=e=>({tr:t,state:n,dispatch:r})=>{const{selection:i}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=i.from,a=i.to),r&&t.doc.nodesBetween(s,a,(o,u)=>{if(o.isText)return;const c=U({},o.attrs);delete c.dir,t.setNodeMarkup(u,void 0,c)}),!0},bG=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const o=Eh(typeof e=="string"?e:e.name,r.schema);if(!o)return!1;o==="node"&&(s=xn(e,r.schema)),o==="mark"&&(a=ps(e,r.schema));let u=!1;return n.selection.ranges.forEach(c=>{const l=c.$from.pos,d=c.$to.pos;let h,f,p,x;n.selection.empty?r.doc.nodesBetween(l,d,(_,b)=>{s&&s===_.type&&(u=!0,p=Math.max(b,l),x=Math.min(b+_.nodeSize,d),h=b,f=_)}):r.doc.nodesBetween(l,d,(_,b)=>{b<l&&s&&s===_.type&&(u=!0,p=Math.max(b,l),x=Math.min(b+_.nodeSize,d),h=b,f=_),b>=l&&b<=d&&(s&&s===_.type&&(u=!0,i&&n.setNodeMarkup(b,void 0,U(U({},_.attrs),t))),a&&_.marks.length&&_.marks.forEach(T=>{if(a===T.type&&(u=!0,i)){const N=Math.max(b,l),g=Math.min(b+_.nodeSize,d);n.addMark(N,g,a.create(U(U({},T.attrs),t)))}}))}),f&&(h!==void 0&&i&&n.setNodeMarkup(h,void 0,U(U({},f.attrs),t)),a&&f.marks.length&&f.marks.forEach(_=>{a===_.type&&i&&n.addMark(p,x,a.create(U(U({},_.attrs),t)))}))}),u},TG=(e,t={})=>({state:n,dispatch:r})=>{const i=xn(e,n.schema);return KH(i,t)(n,r)},EG=(e,t={})=>({state:n,dispatch:r})=>{const i=xn(e,n.schema);return QH(i,t)(n,r)},yG=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(r=>r.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(r=>r!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}},xh=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},_G=(e,t)=>{if(b1(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Pc(e){var t;const{editor:n,from:r,to:i,text:s,rules:a,plugin:o}=e,{view:u}=n;if(u.composing)return!1;const c=u.state.doc.resolve(r);if(c.parent.type.spec.code||(t=c.nodeBefore||c.nodeAfter)!=null&&t.marks.find(h=>h.type.spec.code))return!1;let l=!1;const d=Wq(c)+s;return a.forEach(h=>{if(l)return;const f=_G(d,h.find);if(!f)return;const p=u.state.tr,x=bh({state:u.state,transaction:p}),_={from:r-(f[0].length-s.length),to:i},{commands:b,chain:T,can:N}=new Th({editor:n,state:x});h.handler({state:x,range:_,match:f,commands:b,chain:T,can:N})===null||!p.steps.length||(h.undoable&&p.setMeta(o,{transform:p,from:r,to:i,text:s}),u.dispatch(p),l=!0)}),l}function xG(e){const{editor:t,rules:n}=e,r=new Gt({state:{init(){return null},apply(i,s,a){const o=i.getMeta(r);if(o)return o;const u=i.getMeta("applyInputRules");return!!u&&setTimeout(()=>{let{text:l}=u;typeof l=="string"?l=l:l=_1(he.from(l),a.schema);const{from:d}=u,h=d+l.length;Pc({editor:t,from:d,to:h,text:l,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,o){return Pc({editor:t,from:s,to:a,text:o,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Pc({editor:t,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?Pc({editor:t,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function AG(e){return Object.prototype.toString.call(e).slice(8,-1)}function Mc(e){return AG(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function av(e,t){const n=U({},e);return Mc(e)&&Mc(t)&&Object.keys(t).forEach(r=>{Mc(t[r])&&Mc(e[r])?n[r]=av(e[r],t[r]):n[r]=t[r]}),n}var C1=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config=U(U({},this.config),e),this.name=this.config.name}get options(){return U({},Bt(Fe(this,"addOptions",{name:this.name}))||{})}get storage(){return U({},Bt(Fe(this,"addStorage",{name:this.name,options:this.options}))||{})}configure(e={}){const t=this.extend(oe(U({},this.config),{addOptions:()=>av(this.options,e)}));return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor(U(U({},this.config),e));return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},Za=class uv extends C1{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new uv(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const u=a.find(c=>(c==null?void 0:c.type.name)===n.name);return u&&r.removeStoredMark(u),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function CG(e){return typeof e=="number"}var SG=class{constructor(e){this.find=e.find,this.handler=e.handler}},NG=(e,t,n)=>{if(b1(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=e,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function vG(e){const{editor:t,state:n,from:r,to:i,rule:s,pasteEvent:a,dropEvent:o}=e,{commands:u,chain:c,can:l}=new Th({editor:t,state:n}),d=[];return n.doc.nodesBetween(r,i,(f,p)=>{var x,_,b,T,N;if((_=(x=f.type)==null?void 0:x.spec)!=null&&_.code||!(f.isText||f.isTextblock||f.isInline))return;const g=(N=(T=(b=f.content)==null?void 0:b.size)!=null?T:f.nodeSize)!=null?N:0,y=Math.max(r,p),E=Math.min(i,p+g);if(y>=E)return;const I=f.isText?f.text||"":f.textBetween(y-p,E-p,void 0,"ï¿¼");NG(I,s.find,a).forEach(L=>{if(L.index===void 0)return;const S=y+L.index+1,A=S+L[0].length,w={from:n.tr.mapping.map(S),to:n.tr.mapping.map(A)},O=s.handler({state:n,range:w,match:L,commands:u,chain:c,can:l,pasteEvent:a,dropEvent:o});d.push(O)})}),d.every(f=>f!==null)}var Bc=null,wG=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function IG(e){const{editor:t,rules:n}=e;let r=null,i=!1,s=!1,a=typeof ClipboardEvent!="undefined"?new ClipboardEvent("paste"):null,o;try{o=typeof DragEvent!="undefined"?new DragEvent("drop"):null}catch(l){o=null}const u=({state:l,from:d,to:h,rule:f,pasteEvt:p})=>{const x=l.tr,_=bh({state:l,transaction:x});if(!(!vG({editor:t,state:_,from:Math.max(d-1,0),to:h.b-1,rule:f,pasteEvent:p,dropEvent:o})||!x.steps.length)){try{o=typeof DragEvent!="undefined"?new DragEvent("drop"):null}catch(T){o=null}return a=typeof ClipboardEvent!="undefined"?new ClipboardEvent("paste"):null,x}};return n.map(l=>new Gt({view(d){const h=p=>{var x;r=(x=d.dom.parentElement)!=null&&x.contains(p.target)?d.dom.parentElement:null,r&&(Bc=t)},f=()=>{Bc&&(Bc=null)};return window.addEventListener("dragstart",h),window.addEventListener("dragend",f),{destroy(){window.removeEventListener("dragstart",h),window.removeEventListener("dragend",f)}}},props:{handleDOMEvents:{drop:(d,h)=>{if(s=r===d.dom.parentElement,o=h,!s){const f=Bc;f!=null&&f.isEditable&&setTimeout(()=>{const p=f.state.selection;p&&f.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(d,h)=>{var f;const p=(f=h.clipboardData)==null?void 0:f.getData("text/html");return a=h,i=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,h,f)=>{const p=d[0],x=p.getMeta("uiEvent")==="paste"&&!i,_=p.getMeta("uiEvent")==="drop"&&!s,b=p.getMeta("applyPasteRules"),T=!!b;if(!x&&!_&&!T)return;if(T){let{text:y}=b;typeof y=="string"?y=y:y=_1(he.from(y),f.schema);const{from:E}=b,I=E+y.length,R=wG(y);return u({rule:l,state:f,from:E,to:{b:I},pasteEvt:R})}const N=h.doc.content.findDiffStart(f.doc.content),g=h.doc.content.findDiffEnd(f.doc.content);if(!(!CG(N)||!g||N===g.b))return u({rule:l,state:f,from:N,to:g,pasteEvt:a})}}))}var Ah=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=XN(e),this.schema=Uq(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Lc(t.name,this.schema)},r=Fe(t,"addCommands",n);return r?U(U({},e),r()):e},{})}get plugins(){const{editor:e}=this;return rf([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:Lc(r.name,this.schema)},s=[],a=Fe(r,"addKeyboardShortcuts",i);let o={};if(r.type==="mark"&&Fe(r,"exitable",i)&&(o.ArrowRight=()=>Za.handleExit({editor:e,mark:r})),a){const h=Object.fromEntries(Object.entries(a()).map(([f,p])=>[f,()=>p({editor:e})]));o=U(U({},o),h)}const u=Vz(o);s.push(u);const c=Fe(r,"addInputRules",i);if(O2(r,e.options.enableInputRules)&&c){const h=c();if(h&&h.length){const f=xG({editor:e,rules:h}),p=Array.isArray(f)?f:[f];s.push(...p)}}const l=Fe(r,"addPasteRules",i);if(O2(r,e.options.enablePasteRules)&&l){const h=l();if(h&&h.length){const f=IG({editor:e,rules:h});s.push(...f)}}const d=Fe(r,"addProseMirrorPlugins",i);if(d){const h=d();s.push(...h)}return s})}get attributes(){return QN(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=qu(this.extensions);return Object.fromEntries(t.filter(n=>!!Fe(n,"addNodeView")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:xn(n.name,this.schema)},s=Fe(n,"addNodeView",i);if(!s)return[];const a=s();if(!a)return[];const o=(u,c,l,d,h)=>{const f=Ul(u,r);return a({node:u,view:c,getPos:l,decorations:d,innerDecorations:h,editor:e,extension:n,HTMLAttributes:f})};return[n.name,o]}))}dispatchTransaction(e){const{editor:t}=this;return rf([...this.extensions].reverse()).reduceRight((r,i)=>{const s={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:t,type:Lc(i.name,this.schema)},a=Fe(i,"dispatchTransaction",s);return a?o=>{a.call(s,{transaction:o,next:r})}:r},e)}get markViews(){const{editor:e}=this,{markExtensions:t}=qu(this.extensions);return Object.fromEntries(t.filter(n=>!!Fe(n,"addMarkView")).map(n=>{const r=this.attributes.filter(o=>o.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:ps(n.name,this.schema)},s=Fe(n,"addMarkView",i);if(!s)return[];const a=(o,u,c)=>{const l=Ul(o,r);return s()({mark:o,view:u,inline:c,editor:e,extension:n,HTMLAttributes:l,updateAttributes:d=>{GG(o,e,d)}})};return[n.name,a]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Lc(t.name,this.schema)};t.type==="mark"&&((n=Bt(Fe(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const i=Fe(t,"onBeforeCreate",r),s=Fe(t,"onCreate",r),a=Fe(t,"onUpdate",r),o=Fe(t,"onSelectionUpdate",r),u=Fe(t,"onTransaction",r),c=Fe(t,"onFocus",r),l=Fe(t,"onBlur",r),d=Fe(t,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),o&&this.editor.on("selectionUpdate",o),u&&this.editor.on("transaction",u),c&&this.editor.on("focus",c),l&&this.editor.on("blur",l),d&&this.editor.on("destroy",d)})}};Ah.resolve=XN;Ah.sort=rf;Ah.flatten=y1;var kG={};g1(kG,{ClipboardTextSerializer:()=>lv,Commands:()=>cv,Delete:()=>dv,Drop:()=>fv,Editable:()=>hv,FocusEvents:()=>mv,Keymap:()=>gv,Paste:()=>bv,Tabindex:()=>Tv,TextDirection:()=>Ev,focusEventsPluginKey:()=>pv});var Jt=class ov extends C1{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new ov(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},lv=Jt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Gt({key:new nn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:s}=i,a=Math.min(...s.map(l=>l.$from.pos)),o=Math.max(...s.map(l=>l.$to.pos)),u=x1(n);return JN(r,{from:a,to:o},oe(U({},this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{}),{textSerializers:u}))}}})]}}),cv=Jt.create({name:"commands",addCommands(){return U({},UN)}}),dv=Jt.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,i;const s=()=>{var a,o,u,c;if((c=(u=(o=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:o.filterTransaction)==null?void 0:u.call(o,e))!=null?c:e.getMeta("y-sync$"))return;const l=WN(e.before,[e,...t]);tv(l).forEach(f=>{l.mapping.mapResult(f.oldRange.from).deletedAfter&&l.mapping.mapResult(f.oldRange.to).deletedBefore&&l.before.nodesBetween(f.oldRange.from,f.oldRange.to,(p,x)=>{const _=x+p.nodeSize-2,b=f.oldRange.from<=x&&_<=f.oldRange.to;this.editor.emit("delete",{type:"node",node:p,from:x,to:_,newFrom:l.mapping.map(x),newTo:l.mapping.map(_),deletedRange:f.oldRange,newRange:f.newRange,partial:!b,editor:this.editor,transaction:e,combinedTransform:l})})});const h=l.mapping;l.steps.forEach((f,p)=>{var x,_;if(f instanceof li){const b=h.slice(p).map(f.from,-1),T=h.slice(p).map(f.to),N=h.invert().map(b,-1),g=h.invert().map(T),y=(x=l.doc.nodeAt(b-1))==null?void 0:x.marks.some(I=>I.eq(f.mark)),E=(_=l.doc.nodeAt(T))==null?void 0:_.marks.some(I=>I.eq(f.mark));this.editor.emit("delete",{type:"mark",mark:f.mark,from:f.from,to:f.to,deletedRange:{from:N,to:g},newRange:{from:b,to:T},partial:!!(E||y),editor:this.editor,transaction:e,combinedTransform:l})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),fv=Jt.create({name:"drop",addProseMirrorPlugins(){return[new Gt({key:new nn("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),hv=Jt.create({name:"editable",addProseMirrorPlugins(){return[new Gt({key:new nn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),pv=new nn("focusEvents"),mv=Jt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Gt({key:pv,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),gv=Jt.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:o})=>{const{selection:u,doc:c}=o,{empty:l,$anchor:d}=u,{pos:h,parent:f}=d,p=d.parent.isTextblock&&h>0?o.doc.resolve(h-1):d,x=p.parent.type.spec.isolating,_=d.pos-d.parentOffset,b=x&&p.parent.childCount===1?_===d.pos:Qe.atStart(c).from===h;return!l||!f.type.isTextblock||f.textContent.length||!b||b&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i=U({},r),s=oe(U({},r),{"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return nf()||VN()?s:i},addProseMirrorPlugins(){return[new Gt({key:new nn("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(x=>x.getMeta("composition")))return;const r=e.some(x=>x.docChanged)&&!t.doc.eq(n.doc),i=e.some(x=>x.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:a,to:o}=t.selection,u=Qe.atStart(t.doc).from,c=Qe.atEnd(t.doc).to;if(s||!(a===u&&o===c)||!_h(n.doc))return;const h=n.tr,f=bh({state:n,transaction:h}),{commands:p}=new Th({editor:this.editor,state:f});if(p.clearNodes(),!!h.steps.length)return h}})]}}),bv=Jt.create({name:"paste",addProseMirrorPlugins(){return[new Gt({key:new nn("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),Tv=Jt.create({name:"tabindex",addProseMirrorPlugins(){return[new Gt({key:new nn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Ev=Jt.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=qu(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Gt({key:new nn("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),OG=class _u{constructor(t,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You canât set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new _u(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new _u(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new _u(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+r+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const o=this.resolvedPos.doc.resolve(a);if(!i&&o.depth<=this.depth)return;const u=new _u(o,this.editor,i,i?n:null);i&&(u.actualDepth=this.depth+1),t.push(new _u(o,this.editor,i,i?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===t)if(Object.keys(n).length>0){const s=i.node.attrs,a=Object.keys(n);for(let o=0;o<a.length;o+=1){const u=a[o];if(s[u]!==n[u])break}}else r=i;i=i.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===t&&s.every(u=>n[u]===a.node.attrs[u])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(t,n,r))))}),i}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,U(U({},this.node.attrs),t)),this.editor.view.dispatch(n)}},DG=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function RG(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style",""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}var LG=class extends yG{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document!="undefined"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:Xq,createMappablePosition:Jq},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=qN(t,this.options.autofocus);this.editorState=vu.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document=="undefined")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e!=null&&e.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document!="undefined"&&(this.css=RG(DG,this.options.injectNonce))}setOptions(e={}){this.options=U(U({},this.options),e),!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=KN(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(a=>!a.key.startsWith(s))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[hv,lv.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),cv,mv,gv,Tv,fv,bv,dv,Ev.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Ah(r,this)}createCommandManager(){this.commandManager=new Th({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=_m(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=_m(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){const{editorProps:t,enableExtensionDispatchTransaction:n}=this.options,r=t.dispatchTransaction||this.dispatchTransaction.bind(this),i=n?this.extensionManager.dispatchTransaction(r):r;this.editorView=new HN(e,oe(U({},t),{attributes:U({role:"textbox"},t==null?void 0:t.attributes),dispatchTransaction:i,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews}));const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.prependClass(),this.injectCSS();const a=this.view.dom;a.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(c=>{var l;return(l=this.capturedTransaction)==null?void 0:l.step(c)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),i=n.includes(e),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!i)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const a=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),o=a==null?void 0:a.getMeta("focus"),u=a==null?void 0:a.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:a}),u&&this.emit("blur",{editor:this,event:u.event,transaction:a}),!(e.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||s.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return ev(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return Yq(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return _1(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return ZN(this.state.doc,{blockSeparator:t,textSerializers:U(U({},x1(this.schema)),n)})}get isEmpty(){return _h(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new OG(t,this)}get $doc(){return this.$pos(0)}};function Gu(e){return new xh({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Bt(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=t,a=r[r.length-1],o=r[0];if(a){const u=o.search(/\S/),c=n.from+o.indexOf(a),l=c+a.length;if(A1(n.from,n.to,t.doc).filter(f=>f.mark.type.excluded.find(x=>x===e.type&&x!==f.mark.type)).filter(f=>f.to>c).length)return null;l<n.to&&s.delete(l,n.to),c>n.from&&s.delete(n.from+u,c);const h=n.from+u+a.length;s.addMark(n.from+u,h,e.type.create(i||{})),s.removeStoredMark(e.type)}},undoable:e.undoable})}function yv(e){return new xh({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Bt(e.getAttributes,void 0,r)||{},{tr:s}=t,a=n.from;let o=n.to;const u=e.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let l=a+c;l>o?l=o:o=l+r[1].length;const d=r[0][r[0].length-1];s.insertText(d,a+r[0].length-1),s.replaceWith(l,o,u)}else if(r[0]){const c=e.type.isInline?a:a-1;s.insert(c,e.type.create(i)).delete(s.mapping.map(a),s.mapping.map(o))}s.scrollIntoView()},undoable:e.undoable})}function Am(e){return new xh({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),s=Bt(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,s)},undoable:e.undoable})}function Vu(e){return new xh({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{const s=Bt(e.getAttributes,void 0,r)||{},a=t.tr.delete(n.from,n.to),u=a.doc.resolve(n.from).blockRange(),c=u&&Jg(u,e.type,s);if(!c)return null;if(a.wrap(u,c),e.keepMarks&&e.editor){const{selection:d,storedMarks:h}=t,{splittableMarks:f}=e.editor.extensionManager,p=h||d.$to.parentOffset&&d.$from.marks();if(p){const x=p.filter(_=>f.includes(_.type.name));a.ensureMarks(x)}}if(e.keepAttributes){const d=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,s).run()}const l=a.doc.resolve(n.from-1).nodeBefore;l&&l.type===e.type&&Zs(a.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,l))&&a.join(n.from-1)},undoable:e.undoable})}var PG=e=>"touches"in e,MG=class{constructor(e){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=o=>{if(!this.isResizing||!this.activeHandle)return;const u=o.clientX-this.startX,c=o.clientY-this.startY;this.handleResize(u,c)},this.handleTouchMove=o=>{if(!this.isResizing||!this.activeHandle)return;const u=o.touches[0];if(!u)return;const c=u.clientX-this.startX,l=u.clientY-this.startY;this.handleResize(c,l)},this.handleMouseUp=()=>{if(!this.isResizing)return;const o=this.element.offsetWidth,u=this.element.offsetHeight;this.onCommit(o,u),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=o=>{o.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=o=>{o.key==="Shift"&&(this.isShiftKeyPressed=!1)};var t,n,r,i,s,a;this.node=e.node,this.editor=e.editor,this.element=e.element,this.contentElement=e.contentElement,this.getPos=e.getPos,this.onResize=e.onResize,this.onCommit=e.onCommit,this.onUpdate=e.onUpdate,(t=e.options)!=null&&t.min&&(this.minSize=U(U({},this.minSize),e.options.min)),(n=e.options)!=null&&n.max&&(this.maxSize=e.options.max),(r=e==null?void 0:e.options)!=null&&r.directions&&(this.directions=e.options.directions),(i=e.options)!=null&&i.preserveAspectRatio&&(this.preserveAspectRatio=e.options.preserveAspectRatio),(s=e.options)!=null&&s.className&&(this.classNames={container:e.options.className.container||"",wrapper:e.options.className.wrapper||"",handle:e.options.className.handle||"",resizing:e.options.className.resizing||""}),(a=e.options)!=null&&a.createCustomHandle&&(this.createCustomHandle=e.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const e=this.editor.isEditable;e!==this.lastEditableState&&(this.lastEditableState=e,e?e&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(e,t,n){return e.type!==this.node.type?!1:(this.node=e,this.onUpdate?this.onUpdate(e,t,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const e=document.createElement("div");return e.dataset.resizeContainer="",e.dataset.node=this.node.type.name,e.style.display="flex",this.classNames.container&&(e.className=this.classNames.container),e.appendChild(this.wrapper),e}createWrapper(){const e=document.createElement("div");return e.style.position="relative",e.style.display="block",e.dataset.resizeWrapper="",this.classNames.wrapper&&(e.className=this.classNames.wrapper),e.appendChild(this.element),e}createHandle(e){const t=document.createElement("div");return t.dataset.resizeHandle=e,t.style.position="absolute",this.classNames.handle&&(t.className=this.classNames.handle),t}positionHandle(e,t){const n=t.includes("top"),r=t.includes("bottom"),i=t.includes("left"),s=t.includes("right");n&&(e.style.top="0"),r&&(e.style.bottom="0"),i&&(e.style.left="0"),s&&(e.style.right="0"),(t==="top"||t==="bottom")&&(e.style.left="0",e.style.right="0"),(t==="left"||t==="right")&&(e.style.top="0",e.style.bottom="0")}attachHandles(){this.directions.forEach(e=>{let t;this.createCustomHandle?t=this.createCustomHandle(e):t=this.createHandle(e),t instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${e}") did not return an HTMLElement. Falling back to default handle.`),t=this.createHandle(e)),this.createCustomHandle||this.positionHandle(t,e),t.addEventListener("mousedown",n=>this.handleResizeStart(n,e)),t.addEventListener("touchstart",n=>this.handleResizeStart(n,e)),this.handleMap.set(e,t),this.wrapper.appendChild(t)})}removeHandles(){this.handleMap.forEach(e=>e.remove()),this.handleMap.clear()}applyInitialSize(){const e=this.node.attrs.width,t=this.node.attrs.height;e?(this.element.style.width=`${e}px`,this.initialWidth=e):this.initialWidth=this.element.offsetWidth,t?(this.element.style.height=`${t}px`,this.initialHeight=t):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(e,t){e.preventDefault(),e.stopPropagation(),this.isResizing=!0,this.activeHandle=t,PG(e)?(this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY):(this.startX=e.clientX,this.startY=e.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(e,t){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:i}=this.calculateNewDimensions(this.activeHandle,e,t),s=this.applyConstraints(r,i,n);this.element.style.width=`${s.width}px`,this.element.style.height=`${s.height}px`,this.onResize&&this.onResize(s.width,s.height)}calculateNewDimensions(e,t,n){let r=this.startWidth,i=this.startHeight;const s=e.includes("right"),a=e.includes("left"),o=e.includes("bottom"),u=e.includes("top");return s?r=this.startWidth+t:a&&(r=this.startWidth-t),o?i=this.startHeight+n:u&&(i=this.startHeight-n),(e==="right"||e==="left")&&(r=this.startWidth+(s?t:-t)),(e==="top"||e==="bottom")&&(i=this.startHeight+(o?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,i,e):{width:r,height:i}}applyConstraints(e,t,n){var r,i,s,a;if(!n){let c=Math.max(this.minSize.width,e),l=Math.max(this.minSize.height,t);return(r=this.maxSize)!=null&&r.width&&(c=Math.min(this.maxSize.width,c)),(i=this.maxSize)!=null&&i.height&&(l=Math.min(this.maxSize.height,l)),{width:c,height:l}}let o=e,u=t;return o<this.minSize.width&&(o=this.minSize.width,u=o/this.aspectRatio),u<this.minSize.height&&(u=this.minSize.height,o=u*this.aspectRatio),(s=this.maxSize)!=null&&s.width&&o>this.maxSize.width&&(o=this.maxSize.width,u=o/this.aspectRatio),(a=this.maxSize)!=null&&a.height&&u>this.maxSize.height&&(u=this.maxSize.height,o=u*this.aspectRatio),{width:o,height:u}}applyAspectRatio(e,t,n){const r=n==="left"||n==="right",i=n==="top"||n==="bottom";return r?{width:e,height:e/this.aspectRatio}:i?{width:t*this.aspectRatio,height:t}:{width:e,height:e/this.aspectRatio}}};function BG(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof ze){const s=r.index();return r.parent.canReplaceWith(s,s+1,t)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(t))return!0;i-=1}return!1}var jG={};g1(jG,{createAtomBlockMarkdownSpec:()=>FG,createBlockMarkdownSpec:()=>HG,createInlineMarkdownSpec:()=>qG,parseAttributes:()=>S1,parseIndentedBlocks:()=>Cm,renderNestedMarkdownContent:()=>v1,serializeAttributes:()=>N1});function S1(e){if(!(e!=null&&e.trim()))return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(l=>l.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,l])=>{var d;const h=parseInt(((d=l.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),f=n[h];f&&(t[c]=f.slice(1,-1))});const u=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return u&&u.split(/\s+/).filter(Boolean).forEach(l=>{l.match(/^[a-zA-Z][\w-]*$/)&&(t[l]=!0)}),t}function N1(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function FG(e){const{nodeName:t,name:n,parseAttributes:r=S1,serializeAttributes:i=N1,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:o}=e,u=n||t,c=l=>{if(!o)return l;const d={};return o.forEach(h=>{h in l&&(d[h]=l[h])}),d};return{parseMarkdown:(l,d)=>{const h=U(U({},s),l.attributes);return d.createNode(t,h,[])},markdownTokenizer:{name:t,level:"block",start(l){var d;const h=new RegExp(`^:::${u}(?:\\s|$)`,"m"),f=(d=l.match(h))==null?void 0:d.index;return f!==void 0?f:-1},tokenize(l,d,h){const f=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),p=l.match(f);if(!p)return;const x=p[1]||"",_=r(x);if(!a.find(T=>!(T in _)))return{type:t,raw:p[0],attributes:_}}},renderMarkdown:l=>{const d=c(l.attrs||{}),h=i(d),f=h?` {${h}}`:"";return`:::${u}${f} :::`}}}function HG(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=S1,serializeAttributes:s=N1,defaultAttributes:a={},content:o="block",allowedAttributes:u}=e,c=n||t,l=d=>{if(!u)return d;const h={};return u.forEach(f=>{f in d&&(h[f]=d[f])}),h};return{parseMarkdown:(d,h)=>{let f;if(r){const x=r(d);f=typeof x=="string"?[{type:"text",text:x}]:x}else o==="block"?f=h.parseChildren(d.tokens||[]):f=h.parseInline(d.tokens||[]);const p=U(U({},a),d.attributes);return h.createNode(t,p,f)},markdownTokenizer:{name:t,level:"block",start(d){var h;const f=new RegExp(`^:::${c}`,"m"),p=(h=d.match(f))==null?void 0:h.index;return p!==void 0?p:-1},tokenize(d,h,f){var p;const x=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),_=d.match(x);if(!_)return;const[b,T=""]=_,N=i(T);let g=1;const y=b.length;let E="";const I=/^:::([\w-]*)(\s.*)?/gm,R=d.slice(y);for(I.lastIndex=0;;){const L=I.exec(R);if(L===null)break;const S=L.index,A=L[1];if(!((p=L[2])!=null&&p.endsWith(":::"))){if(A)g+=1;else if(g-=1,g===0){const w=R.slice(0,S);E=w.trim();const O=d.slice(0,y+S+L[0].length);let D=[];if(E)if(o==="block")for(D=f.blockTokens(w),D.forEach(B=>{B.text&&(!B.tokens||B.tokens.length===0)&&(B.tokens=f.inlineTokens(B.text))});D.length>0;){const B=D[D.length-1];if(B.type==="paragraph"&&(!B.text||B.text.trim()===""))D.pop();else break}else D=f.inlineTokens(E);return{type:t,raw:O,attributes:N,content:E,tokens:D}}}}}},renderMarkdown:(d,h)=>{const f=l(d.attrs||{}),p=s(f),x=p?` {${p}}`:"",_=h.renderChildren(d.content||[],`

`);return`:::${c}${x}

${_}

:::`}}}function UG(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,i,s,a]=r;t[i]=s||a,r=n.exec(e)}return t}function zG(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function qG(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=UG,serializeAttributes:s=zG,defaultAttributes:a={},selfClosing:o=!1,allowedAttributes:u}=e,c=n||t,l=h=>{if(!u)return h;const f={};return u.forEach(p=>{const x=typeof p=="string"?p:p.name,_=typeof p=="string"?void 0:p.skipIfDefault;if(x in h){const b=h[x];if(_!==void 0&&b===_)return;f[x]=b}}),f},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(h,f)=>{const p=U(U({},a),h.attributes);if(o)return f.createNode(t,p);const x=r?r(h):h.content||"";return x?f.createNode(t,p,[f.createTextNode(x)]):f.createNode(t,p,[])},markdownTokenizer:{name:t,level:"inline",start(h){const f=o?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),p=h.match(f),x=p==null?void 0:p.index;return x!==void 0?x:-1},tokenize(h,f,p){const x=o?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),_=h.match(x);if(!_)return;let b="",T="";if(o){const[,g]=_;T=g}else{const[,g,y]=_;T=g,b=y||""}const N=i(T.trim());return{type:t,raw:_[0],content:b.trim(),attributes:N}}},renderMarkdown:h=>{let f="";r?f=r(h):h.content&&h.content.length>0&&(f=h.content.filter(b=>b.type==="text").map(b=>b.text).join(""));const p=l(h.attrs||{}),x=s(p),_=x?` ${x}`:"";return o?`[${c}${_}]`:`[${c}${_}]${f}[/${c}]`}}}function Cm(e,t,n){var r,i,s,a;const o=e.split(`
`),u=[];let c="",l=0;const d=t.baseIndentSize||2;for(;l<o.length;){const h=o[l],f=h.match(t.itemPattern);if(!f){if(u.length>0)break;if(h.trim()===""){l+=1,c=`${c}${h}
`;continue}else return}const p=t.extractItemData(f),{indentLevel:x,mainContent:_}=p;c=`${c}${h}
`;const b=[_];for(l+=1;l<o.length;){const y=o[l];if(y.trim()===""){const I=o.slice(l+1).findIndex(S=>S.trim()!=="");if(I===-1)break;if((((i=(r=o[l+1+I].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>x){b.push(y),c=`${c}${y}
`,l+=1;continue}else break}if((((a=(s=y.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>x)b.push(y),c=`${c}${y}
`,l+=1;else break}let T;const N=b.slice(1);if(N.length>0){const y=N.map(E=>E.slice(x+d)).join(`
`);y.trim()&&(t.customNestedParser?T=t.customNestedParser(y):T=n.blockTokens(y))}const g=t.createToken(p,T);u.push(g)}if(u.length!==0)return{items:u,raw:c}}function v1(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const i=typeof n=="function"?n(r):n,[s,...a]=e.content,o=t.renderChildren([s]),u=[`${i}${o}`];return a&&a.length>0&&a.forEach(c=>{const l=t.renderChildren([c]);if(l){const d=l.split(`
`).map(h=>h?t.indent(h):"").join(`
`);u.push(d)}}),u.join(`
`)}function GG(e,t,n={}){const{state:r}=t,{doc:i,tr:s}=r,a=e;i.descendants((o,u)=>{const c=s.mapping.map(u),l=s.mapping.map(u)+o.nodeSize;let d=null;if(o.marks.forEach(f=>{if(f!==a)return!1;d=f}),!d)return;let h=!1;if(Object.keys(n).forEach(f=>{n[f]!==d.attrs[f]&&(h=!0)}),h){const f=e.type.create(U(U({},e.attrs),n));s.removeMark(c,l,e.type),s.addMark(c,l,f)}}),s.docChanged&&t.view.dispatch(s)}var An=class _v extends C1{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new _v(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function $a(e){return new SG({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const s=Bt(e.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:a}=t,o=r[r.length-1],u=r[0];let c=n.to;if(o){const l=u.search(/\S/),d=n.from+u.indexOf(o),h=d+o.length;if(A1(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(_=>_===e.type&&_!==p.mark.type)).filter(p=>p.to>d).length)return null;h<n.to&&a.delete(h,n.to),d>n.from&&a.delete(n.from+l,d),c=n.from+l+o.length,a.addMark(n.from+l,c,e.type.create(s||{})),a.removeStoredMark(e.type)}}})}const{getOwnPropertyNames:VG,getOwnPropertySymbols:$G}=Object,{hasOwnProperty:WG}=Object.prototype;function j0(e,t){return function(r,i,s){return e(r,i,s)&&t(r,i,s)}}function jc(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);const{cache:s}=i,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);const u=e(n,r,i);return s.delete(n),s.delete(r),u}}function YG(e){return e!=null?e[Symbol.toStringTag]:void 0}function L2(e){return VG(e).concat($G(e))}const KG=Object.hasOwn||((e,t)=>WG.call(e,t));function eu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const QG="__v",XG="__o",JG="_owner",{getOwnPropertyDescriptor:P2,keys:M2}=Object;function ZG(e,t){return e.byteLength===t.byteLength&&sf(new Uint8Array(e),new Uint8Array(t))}function eV(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function tV(e,t){return e.byteLength===t.byteLength&&sf(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function nV(e,t){return eu(e.getTime(),t.getTime())}function rV(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function iV(e,t){return e===t}function B2(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),s=e.entries();let a,o,u=0;for(;(a=s.next())&&!a.done;){const c=t.entries();let l=!1,d=0;for(;(o=c.next())&&!o.done;){if(i[d]){d++;continue}const h=a.value,f=o.value;if(n.equals(h[0],f[0],u,d,e,t,n)&&n.equals(h[1],f[1],h[0],f[0],e,t,n)){l=i[d]=!0;break}d++}if(!l)return!1;u++}return!0}const sV=eu;function aV(e,t,n){const r=M2(e);let i=r.length;if(M2(t).length!==i)return!1;for(;i-- >0;)if(!xv(e,t,n,r[i]))return!1;return!0}function yo(e,t,n){const r=L2(e);let i=r.length;if(L2(t).length!==i)return!1;let s,a,o;for(;i-- >0;)if(s=r[i],!xv(e,t,n,s)||(a=P2(e,s),o=P2(t,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function uV(e,t){return eu(e.valueOf(),t.valueOf())}function oV(e,t){return e.source===t.source&&e.flags===t.flags}function j2(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),s=e.values();let a,o;for(;(a=s.next())&&!a.done;){const u=t.values();let c=!1,l=0;for(;(o=u.next())&&!o.done;){if(!i[l]&&n.equals(a.value,o.value,a.value,o.value,e,t,n)){c=i[l]=!0;break}l++}if(!c)return!1}return!0}function sf(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function lV(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function xv(e,t,n,r){return(r===JG||r===XG||r===QG)&&(e.$$typeof||t.$$typeof)?!0:KG(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const cV="[object ArrayBuffer]",dV="[object Arguments]",fV="[object Boolean]",hV="[object DataView]",pV="[object Date]",mV="[object Error]",gV="[object Map]",bV="[object Number]",TV="[object Object]",EV="[object RegExp]",yV="[object Set]",_V="[object String]",xV={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},AV="[object URL]",CV=Object.prototype.toString;function SV({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:a,areNumbersEqual:o,areObjectsEqual:u,arePrimitiveWrappersEqual:c,areRegExpsEqual:l,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:f,unknownTagComparators:p}){return function(_,b,T){if(_===b)return!0;if(_==null||b==null)return!1;const N=typeof _;if(N!==typeof b)return!1;if(N!=="object")return N==="number"?o(_,b,T):N==="function"?s(_,b,T):!1;const g=_.constructor;if(g!==b.constructor)return!1;if(g===Object)return u(_,b,T);if(Array.isArray(_))return t(_,b,T);if(g===Date)return r(_,b,T);if(g===RegExp)return l(_,b,T);if(g===Map)return a(_,b,T);if(g===Set)return d(_,b,T);const y=CV.call(_);if(y===pV)return r(_,b,T);if(y===EV)return l(_,b,T);if(y===gV)return a(_,b,T);if(y===yV)return d(_,b,T);if(y===TV)return typeof _.then!="function"&&typeof b.then!="function"&&u(_,b,T);if(y===AV)return f(_,b,T);if(y===mV)return i(_,b,T);if(y===dV)return u(_,b,T);if(xV[y])return h(_,b,T);if(y===cV)return e(_,b,T);if(y===hV)return n(_,b,T);if(y===fV||y===bV||y===_V)return c(_,b,T);if(p){let E=p[y];if(!E){const I=YG(_);I&&(E=p[I])}if(E)return E(_,b,T)}return!1}}function NV({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:ZG,areArraysEqual:n?yo:eV,areDataViewsEqual:tV,areDatesEqual:nV,areErrorsEqual:rV,areFunctionsEqual:iV,areMapsEqual:n?j0(B2,yo):B2,areNumbersEqual:sV,areObjectsEqual:n?yo:aV,arePrimitiveWrappersEqual:uV,areRegExpsEqual:oV,areSetsEqual:n?j0(j2,yo):j2,areTypedArraysEqual:n?j0(sf,yo):sf,areUrlsEqual:lV,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const i=jc(r.areArraysEqual),s=jc(r.areMapsEqual),a=jc(r.areObjectsEqual),o=jc(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:o})}return r}function vV(e){return function(t,n,r,i,s,a,o){return e(t,n,o)}}function wV({circular:e,comparator:t,createState:n,equals:r,strict:i}){if(n)return function(o,u){const{cache:c=e?new WeakMap:void 0,meta:l}=n();return t(o,u,{cache:c,equals:r,meta:l,strict:i})};if(e)return function(o,u){return t(o,u,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const s={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,u){return t(o,u,s)}}const IV=ta();ta({strict:!0});ta({circular:!0});ta({circular:!0,strict:!0});ta({createInternalComparator:()=>eu});ta({strict:!0,createInternalComparator:()=>eu});ta({circular:!0,createInternalComparator:()=>eu});ta({circular:!0,createInternalComparator:()=>eu,strict:!0});function ta(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:i=!1}=e,s=NV(e),a=SV(s),o=n?n(a):vV(a);return wV({circular:t,comparator:a,createState:r,equals:o,strict:i})}var F0={exports:{}},H0={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F2;function kV(){if(F2)return H0;F2=1;var e=ng(),t=fS();function n(c,l){return c===l&&(c!==0||1/c===1/l)||c!==c&&l!==l}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,a=e.useEffect,o=e.useMemo,u=e.useDebugValue;return H0.useSyncExternalStoreWithSelector=function(c,l,d,h,f){var p=s(null);if(p.current===null){var x={hasValue:!1,value:null};p.current=x}else x=p.current;p=o(function(){function b(E){if(!T){if(T=!0,N=E,E=h(E),f!==void 0&&x.hasValue){var I=x.value;if(f(I,E))return g=I}return g=E}if(I=g,r(N,E))return I;var R=h(E);return f!==void 0&&f(I,R)?(N=E,I):(N=E,g=R)}var T=!1,N,g,y=d===void 0?null:d;return[function(){return b(l())},y===null?void 0:function(){return b(y())}]},[l,d,h,f]);var _=i(c,p[0],p[1]);return a(function(){x.hasValue=!0,x.value=_},[_]),u(_),_},H0}var H2;function OV(){return H2||(H2=1,F0.exports=kV()),F0.exports}var DV=OV(),RV=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},LV=({contentComponent:e})=>{const t=hS.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return m.jsx(m.Fragment,{children:Object.values(t)})};function PV(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t=oe(U({},t),{[n]:aI.createPortal(r.reactElement,r.element,n)}),e.forEach(i=>i())},removeRenderer(n){const r=U({},t);delete r[n],t=r,e.forEach(i=>i())}}}var MV=class extends Li.Component{constructor(e){var t;super(e),this.editorContentRef=Li.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var e;const t=this.props.editor;if(t&&!t.isDestroyed&&((e=t.view.dom)!=null&&e.parentNode)){if(t.contentComponent)return;const n=this.editorContentRef.current;n.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:n}),t.contentComponent=PV(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.parentNode))return;const n=document.createElement("div");n.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:n})}catch(n){}}}render(){const r=this.props,{editor:e,innerRef:t}=r,n=ir(r,["editor","innerRef"]);return m.jsxs(m.Fragment,{children:[m.jsx("div",U({ref:RV(t,this.editorContentRef)},n)),(e==null?void 0:e.contentComponent)&&m.jsx(LV,{contentComponent:e.contentComponent})]})}},BV=q.forwardRef((e,t)=>{const n=Li.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return Li.createElement(MV,U({key:n,innerRef:t},e))}),w1=Li.memo(BV),jV=typeof window!="undefined"?q.useLayoutEffect:q.useEffect,FV=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}};function HV(e){var t;const[n]=q.useState(()=>new FV(e.editor)),r=DV.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:IV);return jV(()=>n.watch(e.editor),[e.editor,n]),q.useDebugValue(r),r}var UV=!1,Sm=typeof window=="undefined",zV=Sm||!!(typeof window!="undefined"&&window.next),qV=class Av{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Sm||zV?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t=oe(U({},this.options.current),{onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}});return new LG(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((i,s)=>{var a;return i===((a=n.extensions)==null?void 0:a[s])}):t[r]===n[r])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?Av.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions(oe(U({},this.options.current),{editable:this.editor.isEditable})):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((r,i)=>r===t[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function I1(e={},t=[]){const n=q.useRef(e);n.current=e;const[r]=q.useState(()=>new qV(n)),i=hS.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return q.useDebugValue(i),q.useEffect(r.onRender(t)),HV({editor:i,selector:({transactionNumber:s})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&s===0?0:s+1}),i}var Cv=q.createContext({editor:null});Cv.Consumer;var Sv=()=>q.useContext(Cv),GV=q.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),VV=()=>q.useContext(GV);Li.forwardRef((e,t)=>{const{onDragStart:n}=VV(),r=e.as||"div";return m.jsx(r,oe(U({},e),{ref:t,"data-node-view-wrapper":"",onDragStart:n,style:U({whiteSpace:"normal"},e.style)}))});Li.createContext({markViewContentRef:()=>{}});const Nv=["top","right","bottom","left"],U2=["start","end"],z2=Nv.reduce((e,t)=>e.concat(t,t+"-"+U2[0],t+"-"+U2[1]),[]),Bi=Math.min,lr=Math.max,af=Math.round,Oi=e=>({x:e,y:e}),$V={left:"right",right:"left",bottom:"top",top:"bottom"},WV={start:"end",end:"start"};function Nm(e,t,n){return lr(e,Bi(t,n))}function ms(e,t){return typeof e=="function"?e(t):e}function Kr(e){return e.split("-")[0]}function di(e){return e.split("-")[1]}function vv(e){return e==="x"?"y":"x"}function k1(e){return e==="y"?"height":"width"}const YV=new Set(["top","bottom"]);function Ii(e){return YV.has(Kr(e))?"y":"x"}function O1(e){return vv(Ii(e))}function wv(e,t,n){n===void 0&&(n=!1);const r=di(e),i=O1(e),s=k1(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=of(a)),[a,of(a)]}function KV(e){const t=of(e);return[uf(e),t,uf(t)]}function uf(e){return e.replace(/start|end/g,t=>WV[t])}const q2=["left","right"],G2=["right","left"],QV=["top","bottom"],XV=["bottom","top"];function JV(e,t,n){switch(e){case"top":case"bottom":return n?t?G2:q2:t?q2:G2;case"left":case"right":return t?QV:XV;default:return[]}}function ZV(e,t,n,r){const i=di(e);let s=JV(Kr(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(uf)))),s}function of(e){return e.replace(/left|right|bottom|top/g,t=>$V[t])}function e$(e){return U({top:0,right:0,bottom:0,left:0},e)}function D1(e){return typeof e!="number"?e$(e):{top:e,right:e,bottom:e,left:e}}function $u(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function V2(e,t,n){let{reference:r,floating:i}=e;const s=Ii(t),a=O1(t),o=k1(a),u=Kr(t),c=s==="y",l=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let f;switch(u){case"top":f={x:l,y:r.y-i.height};break;case"bottom":f={x:l,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(di(t)){case"start":f[a]-=h*(n&&c?-1:1);break;case"end":f[a]+=h*(n&&c?-1:1);break}return f}const t$=(e,t,n)=>bt(null,null,function*(){const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),u=yield a.isRTL==null?void 0:a.isRTL(t);let c=yield a.getElementRects({reference:e,floating:t,strategy:i}),{x:l,y:d}=V2(c,r,u),h=r,f={},p=0;for(let x=0;x<o.length;x++){const{name:_,fn:b}=o[x],{x:T,y:N,data:g,reset:y}=yield b({x:l,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:a,elements:{reference:e,floating:t}});l=T!=null?T:l,d=N!=null?N:d,f=oe(U({},f),{[_]:U(U({},f[_]),g)}),y&&p<=50&&(p++,typeof y=="object"&&(y.placement&&(h=y.placement),y.rects&&(c=y.rects===!0?yield a.getElementRects({reference:e,floating:t,strategy:i}):y.rects),{x:l,y:d}=V2(c,h,u)),x=-1)}return{x:l,y:d,placement:h,strategy:i,middlewareData:f}});function Wu(e,t){return bt(this,null,function*(){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:l="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=ms(t,e),p=D1(f),_=o[h?d==="floating"?"reference":"floating":d],b=$u(yield s.getClippingRect({element:(n=yield s.isElement==null?void 0:s.isElement(_))==null||n?_:_.contextElement||(yield s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:l,strategy:u})),T=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,N=yield s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating),g=(yield s.isElement==null?void 0:s.isElement(N))?(yield s.getScale==null?void 0:s.getScale(N))||{x:1,y:1}:{x:1,y:1},y=$u(s.convertOffsetParentRelativeRectToViewportRelativeRect?yield s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:T,offsetParent:N,strategy:u}):T);return{top:(b.top-y.top+p.top)/g.y,bottom:(y.bottom-b.bottom+p.bottom)/g.y,left:(b.left-y.left+p.left)/g.x,right:(y.right-b.right+p.right)/g.x}})}const n$=e=>({name:"arrow",options:e,fn(n){return bt(this,null,function*(){const{x:r,y:i,placement:s,rects:a,platform:o,elements:u,middlewareData:c}=n,{element:l,padding:d=0}=ms(e,n)||{};if(l==null)return{};const h=D1(d),f={x:r,y:i},p=O1(s),x=k1(p),_=yield o.getDimensions(l),b=p==="y",T=b?"top":"left",N=b?"bottom":"right",g=b?"clientHeight":"clientWidth",y=a.reference[x]+a.reference[p]-f[p]-a.floating[x],E=f[p]-a.reference[p],I=yield o.getOffsetParent==null?void 0:o.getOffsetParent(l);let R=I?I[g]:0;(!R||!(yield o.isElement==null?void 0:o.isElement(I)))&&(R=u.floating[g]||a.floating[x]);const L=y/2-E/2,S=R/2-_[x]/2-1,A=Bi(h[T],S),w=Bi(h[N],S),O=A,D=R-_[x]-w,B=R/2-_[x]/2+L,M=Nm(O,B,D),F=!c.arrow&&di(s)!=null&&B!==M&&a.reference[x]/2-(B<O?A:w)-_[x]/2<0,G=F?B<O?B-O:B-D:0;return{[p]:f[p]+G,data:U({[p]:M,centerOffset:B-M-G},F&&{alignmentOffset:G}),reset:F}})}});function r$(e,t,n){return(e?[...n.filter(i=>di(i)===e),...n.filter(i=>di(i)!==e)]:n.filter(i=>Kr(i)===i)).filter(i=>e?di(i)===e||(t?uf(i)!==i:!1):!0)}const i$=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,fn(n){return bt(this,null,function*(){var r,i,s;const{rects:a,middlewareData:o,placement:u,platform:c,elements:l}=n,A=ms(e,n),{crossAxis:d=!1,alignment:h,allowedPlacements:f=z2,autoAlignment:p=!0}=A,x=ir(A,["crossAxis","alignment","allowedPlacements","autoAlignment"]),_=h!==void 0||f===z2?r$(h||null,p,f):f,b=yield Wu(n,x),T=((r=o.autoPlacement)==null?void 0:r.index)||0,N=_[T];if(N==null)return{};const g=wv(N,a,yield c.isRTL==null?void 0:c.isRTL(l.floating));if(u!==N)return{reset:{placement:_[0]}};const y=[b[Kr(N)],b[g[0]],b[g[1]]],E=[...((i=o.autoPlacement)==null?void 0:i.overflows)||[],{placement:N,overflows:y}],I=_[T+1];if(I)return{data:{index:T+1,overflows:E},reset:{placement:I}};const R=E.map(w=>{const O=di(w.placement);return[w.placement,O&&d?w.overflows.slice(0,2).reduce((D,B)=>D+B,0):w.overflows[0],w.overflows]}).sort((w,O)=>w[1]-O[1]),S=((s=R.filter(w=>w[2].slice(0,di(w[0])?2:3).every(O=>O<=0))[0])==null?void 0:s[0])||R[0][0];return S!==u?{data:{index:T+1,overflows:E},reset:{placement:S}}:{}})}}},s$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(n){return bt(this,null,function*(){var r,i;const{placement:s,middlewareData:a,rects:o,initialPlacement:u,platform:c,elements:l}=n,B=ms(e,n),{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:_=!0}=B,b=ir(B,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const T=Kr(s),N=Ii(u),g=Kr(u)===u,y=yield c.isRTL==null?void 0:c.isRTL(l.floating),E=f||(g||!_?[of(u)]:KV(u)),I=x!=="none";!f&&I&&E.push(...ZV(u,_,x,y));const R=[u,...E],L=yield Wu(n,b),S=[];let A=((i=a.flip)==null?void 0:i.overflows)||[];if(d&&S.push(L[T]),h){const M=wv(s,o,y);S.push(L[M[0]],L[M[1]])}if(A=[...A,{placement:s,overflows:S}],!S.every(M=>M<=0)){var w,O;const M=(((w=a.flip)==null?void 0:w.index)||0)+1,F=R[M];if(F&&(!(h==="alignment"?N!==Ii(F):!1)||A.every(P=>Ii(P.placement)===N?P.overflows[0]>0:!0)))return{data:{index:M,overflows:A},reset:{placement:F}};let G=(O=A.filter($=>$.overflows[0]<=0).sort(($,P)=>$.overflows[1]-P.overflows[1])[0])==null?void 0:O.placement;if(!G)switch(p){case"bestFit":{var D;const $=(D=A.filter(P=>{if(I){const j=Ii(P.placement);return j===N||j==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(j=>j>0).reduce((j,W)=>j+W,0)]).sort((P,j)=>P[1]-j[1])[0])==null?void 0:D[0];$&&(G=$);break}case"initialPlacement":G=u;break}if(s!==G)return{reset:{placement:G}}}return{}})}}};function $2(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function W2(e){return Nv.some(t=>e[t]>=0)}const a$=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(n){return bt(this,null,function*(){const{rects:r}=n,a=ms(e,n),{strategy:i="referenceHidden"}=a,s=ir(a,["strategy"]);switch(i){case"referenceHidden":{const o=yield Wu(n,oe(U({},s),{elementContext:"reference"})),u=$2(o,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:W2(u)}}}case"escaped":{const o=yield Wu(n,oe(U({},s),{altBoundary:!0})),u=$2(o,r.floating);return{data:{escapedOffsets:u,escaped:W2(u)}}}default:return{}}})}}};function Iv(e){const t=Bi(...e.map(s=>s.left)),n=Bi(...e.map(s=>s.top)),r=lr(...e.map(s=>s.right)),i=lr(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:i-n}}function u$(e){const t=e.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>$u(Iv(i)))}const o$=function(e){return e===void 0&&(e={}),{name:"inline",options:e,fn(n){return bt(this,null,function*(){const{placement:r,elements:i,rects:s,platform:a,strategy:o}=n,{padding:u=2,x:c,y:l}=ms(e,n),d=Array.from((yield a.getClientRects==null?void 0:a.getClientRects(i.reference))||[]),h=u$(d),f=$u(Iv(d)),p=D1(u);function x(){if(h.length===2&&h[0].left>h[1].right&&c!=null&&l!=null)return h.find(b=>c>b.left-p.left&&c<b.right+p.right&&l>b.top-p.top&&l<b.bottom+p.bottom)||f;if(h.length>=2){if(Ii(r)==="y"){const A=h[0],w=h[h.length-1],O=Kr(r)==="top",D=A.top,B=w.bottom,M=O?A.left:w.left,F=O?A.right:w.right,G=F-M,$=B-D;return{top:D,bottom:B,left:M,right:F,width:G,height:$,x:M,y:D}}const b=Kr(r)==="left",T=lr(...h.map(A=>A.right)),N=Bi(...h.map(A=>A.left)),g=h.filter(A=>b?A.left===N:A.right===T),y=g[0].top,E=g[g.length-1].bottom,I=N,R=T,L=R-I,S=E-y;return{top:y,bottom:E,left:I,right:R,width:L,height:S,x:I,y}}return f}const _=yield a.getElementRects({reference:{getBoundingClientRect:x},floating:i.floating,strategy:o});return s.reference.x!==_.reference.x||s.reference.y!==_.reference.y||s.reference.width!==_.reference.width||s.reference.height!==_.reference.height?{reset:{rects:_}}:{}})}}},l$=new Set(["left","top"]);function c$(e,t){return bt(this,null,function*(){const{placement:n,platform:r,elements:i}=e,s=yield r.isRTL==null?void 0:r.isRTL(i.floating),a=Kr(n),o=di(n),u=Ii(n)==="y",c=l$.has(a)?-1:1,l=s&&u?-1:1,d=ms(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof p=="number"&&(f=o==="end"?p*-1:p),u?{x:f*l,y:h*c}:{x:h*c,y:f*l}})}const d$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(n){return bt(this,null,function*(){var r,i;const{x:s,y:a,placement:o,middlewareData:u}=n,c=yield c$(n,e);return o===((r=u.offset)==null?void 0:r.placement)&&(i=u.arrow)!=null&&i.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:oe(U({},c),{placement:o})}})}}},f$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(n){return bt(this,null,function*(){const{x:r,y:i,placement:s}=n,b=ms(e,n),{mainAxis:a=!0,crossAxis:o=!1,limiter:u={fn:T=>{let{x:N,y:g}=T;return{x:N,y:g}}}}=b,c=ir(b,["mainAxis","crossAxis","limiter"]),l={x:r,y:i},d=yield Wu(n,c),h=Ii(Kr(s)),f=vv(h);let p=l[f],x=l[h];if(a){const T=f==="y"?"top":"left",N=f==="y"?"bottom":"right",g=p+d[T],y=p-d[N];p=Nm(g,p,y)}if(o){const T=h==="y"?"top":"left",N=h==="y"?"bottom":"right",g=x+d[T],y=x-d[N];x=Nm(g,x,y)}const _=u.fn(oe(U({},n),{[f]:p,[h]:x}));return oe(U({},_),{data:{x:_.x-r,y:_.y-i,enabled:{[f]:a,[h]:o}}})})}}},h$=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(n){return bt(this,null,function*(){var r,i;const{placement:s,rects:a,platform:o,elements:u}=n,A=ms(e,n),{apply:c=()=>{}}=A,l=ir(A,["apply"]),d=yield Wu(n,l),h=Kr(s),f=di(s),p=Ii(s)==="y",{width:x,height:_}=a.floating;let b,T;h==="top"||h==="bottom"?(b=h,T=f===((yield o.isRTL==null?void 0:o.isRTL(u.floating))?"start":"end")?"left":"right"):(T=h,b=f==="end"?"top":"bottom");const N=_-d.top-d.bottom,g=x-d.left-d.right,y=Bi(_-d[b],N),E=Bi(x-d[T],g),I=!n.middlewareData.shift;let R=y,L=E;if((r=n.middlewareData.shift)!=null&&r.enabled.x&&(L=g),(i=n.middlewareData.shift)!=null&&i.enabled.y&&(R=N),I&&!f){const w=lr(d.left,0),O=lr(d.right,0),D=lr(d.top,0),B=lr(d.bottom,0);p?L=x-2*(w!==0||O!==0?w+O:lr(d.left,d.right)):R=_-2*(D!==0||B!==0?D+B:lr(d.top,d.bottom))}yield c(oe(U({},n),{availableWidth:L,availableHeight:R}));const S=yield o.getDimensions(u.floating);return x!==S.width||_!==S.height?{reset:{rects:!0}}:{}})}}};function Ch(){return typeof window!="undefined"}function ao(e){return kv(e)?(e.nodeName||"").toLowerCase():"#document"}function Br(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gs(e){var t;return(t=(kv(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function kv(e){return Ch()?e instanceof Node||e instanceof Br(e).Node:!1}function fi(e){return Ch()?e instanceof Element||e instanceof Br(e).Element:!1}function ji(e){return Ch()?e instanceof HTMLElement||e instanceof Br(e).HTMLElement:!1}function Y2(e){return!Ch()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof Br(e).ShadowRoot}const p$=new Set(["inline","contents"]);function dc(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=hi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!p$.has(i)}const m$=new Set(["table","td","th"]);function g$(e){return m$.has(ao(e))}const b$=[":popover-open",":modal"];function Sh(e){return b$.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const T$=["transform","translate","scale","rotate","perspective"],E$=["transform","translate","scale","rotate","perspective","filter"],y$=["paint","layout","strict","content"];function R1(e){const t=L1(),n=fi(e)?hi(e):e;return T$.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||E$.some(r=>(n.willChange||"").includes(r))||y$.some(r=>(n.contain||"").includes(r))}function _$(e){let t=$s(e);for(;ji(t)&&!Yu(t);){if(R1(t))return t;if(Sh(t))return null;t=$s(t)}return null}function L1(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const x$=new Set(["html","body","#document"]);function Yu(e){return x$.has(ao(e))}function hi(e){return Br(e).getComputedStyle(e)}function Nh(e){return fi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $s(e){if(ao(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Y2(e)&&e.host||gs(e);return Y2(t)?t.host:t}function Ov(e){const t=$s(e);return Yu(t)?e.ownerDocument?e.ownerDocument.body:e.body:ji(t)&&dc(t)?t:Ov(t)}function Dv(e,t,n){var r;t===void 0&&(t=[]);const i=Ov(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=Br(i);return s?(vm(a),t.concat(a,a.visualViewport||[],dc(i)?i:[],[])):t.concat(i,Dv(i,[]))}function vm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Rv(e){const t=hi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ji(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=af(n)!==s||af(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function Lv(e){return fi(e)?e:e.contextElement}function Ru(e){const t=Lv(e);if(!ji(t))return Oi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=Rv(t);let a=(s?af(n.width):n.width)/r,o=(s?af(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const A$=Oi(0);function Pv(e){const t=Br(e);return!L1()||!t.visualViewport?A$:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function C$(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Br(e)?!1:t}function zl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=Lv(e);let a=Oi(1);t&&(r?fi(r)&&(a=Ru(r)):a=Ru(e));const o=C$(s,n,r)?Pv(s):Oi(0);let u=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,l=i.width/a.x,d=i.height/a.y;if(s){const h=Br(s),f=r&&fi(r)?Br(r):r;let p=h,x=vm(p);for(;x&&r&&f!==p;){const _=Ru(x),b=x.getBoundingClientRect(),T=hi(x),N=b.left+(x.clientLeft+parseFloat(T.paddingLeft))*_.x,g=b.top+(x.clientTop+parseFloat(T.paddingTop))*_.y;u*=_.x,c*=_.y,l*=_.x,d*=_.y,u+=N,c+=g,p=Br(x),x=vm(p)}}return $u({width:l,height:d,x:u,y:c})}function vh(e,t){const n=Nh(e).scrollLeft;return t?t.left+n:zl(gs(e)).left+n}function Mv(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-vh(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function S$(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=gs(r),o=t?Sh(t.floating):!1;if(r===a||o&&s)return n;let u={scrollLeft:0,scrollTop:0},c=Oi(1);const l=Oi(0),d=ji(r);if((d||!d&&!s)&&((ao(r)!=="body"||dc(a))&&(u=Nh(r)),ji(r))){const f=zl(r);c=Ru(r),l.x=f.x+r.clientLeft,l.y=f.y+r.clientTop}const h=a&&!d&&!s?Mv(a,u):Oi(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+l.x+h.x,y:n.y*c.y-u.scrollTop*c.y+l.y+h.y}}function N$(e){return Array.from(e.getClientRects())}function v$(e){const t=gs(e),n=Nh(e),r=e.ownerDocument.body,i=lr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=lr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+vh(e);const o=-n.scrollTop;return hi(r).direction==="rtl"&&(a+=lr(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}const K2=25;function w$(e,t){const n=Br(e),r=gs(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,u=0;if(i){s=i.width,a=i.height;const l=L1();(!l||l&&t==="fixed")&&(o=i.offsetLeft,u=i.offsetTop)}const c=vh(r);if(c<=0){const l=r.ownerDocument,d=l.body,h=getComputedStyle(d),f=l.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,p=Math.abs(r.clientWidth-d.clientWidth-f);p<=K2&&(s-=p)}else c<=K2&&(s+=c);return{width:s,height:a,x:o,y:u}}const I$=new Set(["absolute","fixed"]);function k$(e,t){const n=zl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=ji(e)?Ru(e):Oi(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,u=i*s.x,c=r*s.y;return{width:a,height:o,x:u,y:c}}function Q2(e,t,n){let r;if(t==="viewport")r=w$(e,n);else if(t==="document")r=v$(gs(e));else if(fi(t))r=k$(t,n);else{const i=Pv(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return $u(r)}function Bv(e,t){const n=$s(e);return n===t||!fi(n)||Yu(n)?!1:hi(n).position==="fixed"||Bv(n,t)}function O$(e,t){const n=t.get(e);if(n)return n;let r=Dv(e,[]).filter(o=>fi(o)&&ao(o)!=="body"),i=null;const s=hi(e).position==="fixed";let a=s?$s(e):e;for(;fi(a)&&!Yu(a);){const o=hi(a),u=R1(a);!u&&o.position==="fixed"&&(i=null),(s?!u&&!i:!u&&o.position==="static"&&!!i&&I$.has(i.position)||dc(a)&&!u&&Bv(e,a))?r=r.filter(l=>l!==a):i=o,a=$s(a)}return t.set(e,r),r}function D$(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?Sh(t)?[]:O$(t,this._c):[].concat(n),r],o=a[0],u=a.reduce((c,l)=>{const d=Q2(t,l,i);return c.top=lr(d.top,c.top),c.right=Bi(d.right,c.right),c.bottom=Bi(d.bottom,c.bottom),c.left=lr(d.left,c.left),c},Q2(t,o,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function R$(e){const{width:t,height:n}=Rv(e);return{width:t,height:n}}function L$(e,t,n){const r=ji(t),i=gs(t),s=n==="fixed",a=zl(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const u=Oi(0);function c(){u.x=vh(i)}if(r||!r&&!s)if((ao(t)!=="body"||dc(i))&&(o=Nh(t)),r){const f=zl(t,!0,s,t);u.x=f.x+t.clientLeft,u.y=f.y+t.clientTop}else i&&c();s&&!r&&i&&c();const l=i&&!r&&!s?Mv(i,o):Oi(0),d=a.left+o.scrollLeft-u.x-l.x,h=a.top+o.scrollTop-u.y-l.y;return{x:d,y:h,width:a.width,height:a.height}}function U0(e){return hi(e).position==="static"}function X2(e,t){if(!ji(e)||hi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return gs(e)===n&&(n=n.ownerDocument.body),n}function jv(e,t){const n=Br(e);if(Sh(e))return n;if(!ji(e)){let i=$s(e);for(;i&&!Yu(i);){if(fi(i)&&!U0(i))return i;i=$s(i)}return n}let r=X2(e,t);for(;r&&g$(r)&&U0(r);)r=X2(r,t);return r&&Yu(r)&&U0(r)&&!R1(r)?n:r||_$(e)||n}const P$=function(e){return bt(this,null,function*(){const t=this.getOffsetParent||jv,n=this.getDimensions,r=yield n(e.floating);return{reference:L$(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}})};function M$(e){return hi(e).direction==="rtl"}const B$={convertOffsetParentRelativeRectToViewportRelativeRect:S$,getDocumentElement:gs,getClippingRect:D$,getOffsetParent:jv,getElementRects:P$,getClientRects:N$,getDimensions:R$,getScale:Ru,isElement:fi,isRTL:M$},Fv=d$,Hv=i$,Uv=f$,zv=s$,qv=h$,Gv=a$,Vv=n$,$v=o$,Wv=(e,t,n)=>{const r=new Map,i=U({platform:B$},n),s=oe(U({},i.platform),{_c:r});return t$(e,t,oe(U({},i),{platform:s}))};let wm,Im;if(typeof WeakMap!="undefined"){let e=new WeakMap;wm=t=>e.get(t),Im=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;wm=r=>{for(let i=0;i<e.length;i+=2)if(e[i]==r)return e[i+1]},Im=(r,i)=>(n==10&&(n=0),e[n++]=r,e[n++]=i)}var dn=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,i=t/this.width|0;let s=r+1,a=i+1;for(let o=1;s<this.width&&this.map[t+o]==n;o++)s++;for(let o=1;a<this.height&&this.map[t+this.width*o]==n;o++)a++;return{left:r,top:i,right:s,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:i,top:s,bottom:a}=this.findCell(e);return t=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:a==this.height)?null:this.map[r+this.width*(n<0?s-1:a)]}rectBetween(e,t){const{left:n,right:r,top:i,bottom:s}=this.findCell(e),{left:a,right:o,top:u,bottom:c}=this.findCell(t);return{left:Math.min(n,a),top:Math.min(i,u),right:Math.max(r,o),bottom:Math.max(s,c)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let i=e.left;i<e.right;i++){const s=r*this.width+i,a=this.map[s];n[a]||(n[a]=!0,!(i==e.left&&i&&this.map[s-1]==a||r==e.top&&r&&this.map[s-this.width]==a)&&t.push(a))}return t}positionAt(e,t,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==e){let a=t+e*this.width;const o=(e+1)*this.width;for(;a<o&&this.map[a]<i;)a++;return a==o?s-1:this.map[a]}i=s}}static get(e){return wm(e)||Im(e,j$(e))}};function j$(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=F$(e),n=e.childCount,r=[];let i=0,s=null;const a=[];for(let c=0,l=t*n;c<l;c++)r[c]=0;for(let c=0,l=0;c<n;c++){const d=e.child(c);l++;for(let p=0;;p++){for(;i<r.length&&r[i]!=0;)i++;if(p==d.childCount)break;const x=d.child(p),{colspan:_,rowspan:b,colwidth:T}=x.attrs;for(let N=0;N<b;N++){if(N+c>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:l,n:b-N});break}const g=i+N*t;for(let y=0;y<_;y++){r[g+y]==0?r[g+y]=l:(s||(s=[])).push({type:"collision",row:c,pos:l,n:_-y});const E=T&&T[y];if(E){const I=(g+y)%t*2,R=a[I];R==null||R!=E&&a[I+1]==1?(a[I]=E,a[I+1]=1):R==E&&a[I+1]++}}}i+=_,l+=x.nodeSize}const h=(c+1)*t;let f=0;for(;i<h;)r[i++]==0&&f++;f&&(s||(s=[])).push({type:"missing",row:c,n:f}),l++}(t===0||n===0)&&(s||(s=[])).push({type:"zero_sized"});const o=new dn(t,n,r,s);let u=!1;for(let c=0;!u&&c<a.length;c+=2)a[c]!=null&&a[c+1]<n&&(u=!0);return u&&H$(o,a,e),o}function F$(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const i=e.child(r);let s=0;if(n)for(let a=0;a<r;a++){const o=e.child(a);for(let u=0;u<o.childCount;u++){const c=o.child(u);a+c.attrs.rowspan>r&&(s+=c.attrs.colspan)}}for(let a=0;a<i.childCount;a++){const o=i.child(a);s+=o.attrs.colspan,o.attrs.rowspan>1&&(n=!0)}t==-1?t=s:t!=s&&(t=Math.max(t,s))}return t}function H$(e,t,n){e.problems||(e.problems=[]);const r={};for(let i=0;i<e.map.length;i++){const s=e.map[i];if(r[s])continue;r[s]=!0;const a=n.nodeAt(s);if(!a)throw new RangeError(`No cell with offset ${s} found`);let o=null;const u=a.attrs;for(let c=0;c<u.colspan;c++){const l=t[(i+c)%e.width*2];l!=null&&(!u.colwidth||u.colwidth[c]!=l)&&((o||(o=U$(u)))[c]=l)}o&&e.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:o})}}function U$(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function Kn(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}}return t}const ks=new nn("selectingCells");function Wa(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function z$(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function mi(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function wh(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=Wa(t.$head)||q$(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function q$(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function km(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function G$(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function P1(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function Yv(e,t,n){const r=e.node(-1),i=dn.get(r),s=e.start(-1),a=i.nextCell(e.pos-s,t,n);return a==null?null:e.node(0).resolve(s+a)}function Ya(e,t,n=1){const r=oe(U({},e),{colspan:e.colspan-n});return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function Kv(e,t,n=1){const r=oe(U({},e),{colspan:e.colspan+n});if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(t,0,0)}return r}function V$(e,t,n){const r=Kn(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0}var Kt=class Zi extends Qe{constructor(t,n=t){const r=t.node(-1),i=dn.get(r),s=t.start(-1),a=i.rectBetween(t.pos-s,n.pos-s),o=t.node(0),u=i.cellsInRect(a).filter(l=>l!=n.pos-s);u.unshift(n.pos-s);const c=u.map(l=>{const d=r.nodeAt(l);if(!d)throw new RangeError(`No cell with offset ${l} found`);const h=s+l+1;return new VS(o.resolve(h),o.resolve(h+d.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(km(r)&&km(i)&&P1(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?Zi.rowSelection(r,i):s&&this.isColSelection()?Zi.colSelection(r,i):new Zi(r,i)}return Ve.between(r,i)}content(){const t=this.$anchorCell.node(-1),n=dn.get(t),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},a=[];for(let u=i.top;u<i.bottom;u++){const c=[];for(let l=u*n.width+i.left,d=i.left;d<i.right;d++,l++){const h=n.map[l];if(s[h])continue;s[h]=!0;const f=n.findCell(h);let p=t.nodeAt(h);if(!p)throw new RangeError(`No cell with offset ${h} found`);const x=i.left-f.left,_=f.right-i.right;if(x>0||_>0){let b=p.attrs;if(x>0&&(b=Ya(b,0,x)),_>0&&(b=Ya(b,b.colspan-_,_)),f.left<i.left){if(p=p.type.createAndFill(b),!p)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(b)}`)}else p=p.type.create(b,p.content)}if(f.top<i.top||f.bottom>i.bottom){const b=oe(U({},p.attrs),{rowspan:Math.min(f.bottom,i.bottom)-Math.max(f.top,i.top)});f.top<i.top?p=p.type.createAndFill(b):p=p.type.create(b,p.content)}c.push(p)}a.push(t.child(u).copy(he.from(c)))}const o=this.isColSelection()&&this.isRowSelection()?t:a;return new we(he.from(o),1,1)}replace(t,n=we.empty){const r=t.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){const{$from:o,$to:u}=i[a],c=t.mapping.slice(r);t.replace(c.map(o.pos),c.map(u.pos),a?we.empty:n)}const s=Qe.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);s&&t.setSelection(s)}replaceWith(t,n){this.replace(t,new we(he.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=dn.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<s.length;a++)t(n.nodeAt(s[a]),i+s[a])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),i=dn.get(r),s=t.start(-1),a=i.findCell(t.pos-s),o=i.findCell(n.pos-s),u=t.node(0);return a.top<=o.top?(a.top>0&&(t=u.resolve(s+i.map[a.left])),o.bottom<i.height&&(n=u.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))):(o.top>0&&(n=u.resolve(s+i.map[o.left])),a.bottom<i.height&&(t=u.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))),new Zi(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=dn.get(t),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const a=i+this.$anchorCell.nodeAfter.attrs.colspan,o=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,o)==n.width}eq(t){return t instanceof Zi&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),i=dn.get(r),s=t.start(-1),a=i.findCell(t.pos-s),o=i.findCell(n.pos-s),u=t.node(0);return a.left<=o.left?(a.left>0&&(t=u.resolve(s+i.map[a.top*i.width])),o.right<i.width&&(n=u.resolve(s+i.map[i.width*(o.top+1)-1]))):(o.left>0&&(n=u.resolve(s+i.map[o.top*i.width])),a.right<i.width&&(t=u.resolve(s+i.map[i.width*(a.top+1)-1]))),new Zi(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new Zi(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new Zi(t.resolve(n),t.resolve(r))}getBookmark(){return new $$(this.$anchorCell.pos,this.$headCell.pos)}};Kt.prototype.visible=!1;Qe.jsonID("cell",Kt);var $$=class Qv{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Qv(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&P1(n,r)?new Kt(n,r):Qe.near(r,1)}};function W$(e){if(!(e.selection instanceof Kt))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(Sn.node(r,r+n.nodeSize,{class:"selectedCell"}))}),$t.create(e.doc,t)}function Y$({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,r=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let s=t.depth;s>=0&&!(t.before(s+1)>t.start(s));s--,r--);return n==r&&/row|table/.test(e.node(i).type.spec.tableRole)}function K$({$from:e,$to:t}){let n,r;for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&t.parentOffset===0}function Q$(e,t,n){const r=(t||e).selection,i=(t||e).doc;let s,a;if(r instanceof ze&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")s=Kt.create(i,r.from);else if(a=="row"){const o=i.resolve(r.from+1);s=Kt.rowSelection(o,o)}else if(!n){const o=dn.get(r.node),u=r.from+1,c=u+o.map[o.width*o.height-1];s=Kt.create(i,u+1,c)}}else r instanceof Ve&&Y$(r)?s=Ve.create(i,r.from):r instanceof Ve&&K$(r)&&(s=Ve.create(i,r.$from.start(),r.$from.end()));return s&&(t||(t=e.tr)).setSelection(s),t}const X$=new nn("fix-tables");function Xv(e,t,n,r){const i=e.childCount,s=t.childCount;e:for(let a=0,o=0;a<s;a++){const u=t.child(a);for(let c=o,l=Math.min(i,a+3);c<l;c++)if(e.child(c)==u){o=c+1,n+=u.nodeSize;continue e}r(u,n),o<i&&e.child(o).sameMarkup(u)?Xv(e.child(o),u,n+1,r):u.nodesBetween(0,u.content.size,r,n+1),n+=u.nodeSize}}function Jv(e,t){let n;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(n=J$(e,i,s,n))};return t?t.doc!=e.doc&&Xv(t.doc,e.doc,0,r):e.doc.descendants(r),n}function J$(e,t,n,r){const i=dn.get(t);if(!i.problems)return r;r||(r=e.tr);const s=[];for(let u=0;u<i.height;u++)s.push(0);for(let u=0;u<i.problems.length;u++){const c=i.problems[u];if(c.type=="collision"){const l=t.nodeAt(c.pos);if(!l)continue;const d=l.attrs;for(let h=0;h<d.rowspan;h++)s[c.row+h]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,Ya(d,d.colspan-c.n,c.n))}else if(c.type=="missing")s[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const l=t.nodeAt(c.pos);if(!l)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,oe(U({},l.attrs),{rowspan:l.attrs.rowspan-c.n}))}else if(c.type=="colwidth mismatch"){const l=t.nodeAt(c.pos);if(!l)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,oe(U({},l.attrs),{colwidth:c.colwidth}))}else if(c.type=="zero_sized"){const l=r.mapping.map(n);r.delete(l,l+t.nodeSize)}}let a,o;for(let u=0;u<s.length;u++)s[u]&&(a==null&&(a=u),o=u);for(let u=0,c=n+1;u<i.height;u++){const l=t.child(u),d=c+l.nodeSize,h=s[u];if(h>0){let f="cell";l.firstChild&&(f=l.firstChild.type.spec.tableRole);const p=[];for(let _=0;_<h;_++){const b=Kn(e.schema)[f].createAndFill();b&&p.push(b)}const x=(u==0||a==u-1)&&o==u?c+1:d-1;r.insert(r.mapping.map(x),p)}c=d}return r.setMeta(X$,{fixTables:!0})}function Ui(e){const t=e.selection,n=wh(e),r=n.node(-1),i=n.start(-1),s=dn.get(r);return oe(U({},t instanceof Kt?s.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):s.findCell(n.pos-i)),{tableStart:i,map:s,table:r})}function Zv(e,{map:t,tableStart:n,table:r},i){let s=i>0?-1:0;V$(t,r,i+s)&&(s=i==0||i==t.width?null:0);for(let a=0;a<t.height;a++){const o=a*t.width+i;if(i>0&&i<t.width&&t.map[o-1]==t.map[o]){const u=t.map[o],c=r.nodeAt(u);e.setNodeMarkup(e.mapping.map(n+u),null,Kv(c.attrs,i-t.colCount(u))),a+=c.attrs.rowspan-1}else{const u=s==null?Kn(r.type.schema).cell:r.nodeAt(t.map[o+s]).type,c=t.positionAt(a,i,r);e.insert(e.mapping.map(n+c),u.createAndFill())}}return e}function Z$(e,t){if(!mi(e))return!1;if(t){const n=Ui(e);t(Zv(e.tr,n,n.left))}return!0}function eW(e,t){if(!mi(e))return!1;if(t){const n=Ui(e);t(Zv(e.tr,n,n.right))}return!0}function tW(e,{map:t,table:n,tableStart:r},i){const s=e.mapping.maps.length;for(let a=0;a<t.height;){const o=a*t.width+i,u=t.map[o],c=n.nodeAt(u),l=c.attrs;if(i>0&&t.map[o-1]==u||i<t.width-1&&t.map[o+1]==u)e.setNodeMarkup(e.mapping.slice(s).map(r+u),null,Ya(l,i-t.colCount(u)));else{const d=e.mapping.slice(s).map(r+u);e.delete(d,d+c.nodeSize)}a+=l.rowspan}}function nW(e,t){if(!mi(e))return!1;if(t){const n=Ui(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;tW(r,n,i),i!=n.left;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw new RangeError("No table found");n.table=s,n.map=dn.get(s)}t(r)}return!0}function rW(e,t,n){var r;const i=Kn(t.type.schema).header_cell;for(let s=0;s<e.width;s++)if(((r=t.nodeAt(e.map[s+n*e.width]))===null||r===void 0?void 0:r.type)!=i)return!1;return!0}function ew(e,{map:t,tableStart:n,table:r},i){let s=n;for(let c=0;c<i;c++)s+=r.child(c).nodeSize;const a=[];let o=i>0?-1:0;rW(t,r,i+o)&&(o=i==0||i==t.height?null:0);for(let c=0,l=t.width*i;c<t.width;c++,l++)if(i>0&&i<t.height&&t.map[l]==t.map[l-t.width]){const d=t.map[l],h=r.nodeAt(d).attrs;e.setNodeMarkup(n+d,null,oe(U({},h),{rowspan:h.rowspan+1})),c+=h.colspan-1}else{var u;const d=o==null?Kn(r.type.schema).cell:(u=r.nodeAt(t.map[l+o*t.width]))===null||u===void 0?void 0:u.type,h=d==null?void 0:d.createAndFill();h&&a.push(h)}return e.insert(s,Kn(r.type.schema).row.create(null,a)),e}function iW(e,t){if(!mi(e))return!1;if(t){const n=Ui(e);t(ew(e.tr,n,n.top))}return!0}function sW(e,t){if(!mi(e))return!1;if(t){const n=Ui(e);t(ew(e.tr,n,n.bottom))}return!0}function aW(e,{map:t,table:n,tableStart:r},i){let s=0;for(let c=0;c<i;c++)s+=n.child(c).nodeSize;const a=s+n.child(i).nodeSize,o=e.mapping.maps.length;e.delete(s+r,a+r);const u=new Set;for(let c=0,l=i*t.width;c<t.width;c++,l++){const d=t.map[l];if(!u.has(d)){if(u.add(d),i>0&&d==t.map[l-t.width]){const h=n.nodeAt(d).attrs;e.setNodeMarkup(e.mapping.slice(o).map(d+r),null,oe(U({},h),{rowspan:h.rowspan-1})),c+=h.colspan-1}else if(i<t.height&&d==t.map[l+t.width]){const h=n.nodeAt(d),f=h.attrs,p=h.type.create(oe(U({},f),{rowspan:h.attrs.rowspan-1}),h.content),x=t.positionAt(i+1,c,n);e.insert(e.mapping.slice(o).map(r+x),p),c+=f.colspan-1}}}}function uW(e,t){if(!mi(e))return!1;if(t){const n=Ui(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;aW(r,n,i),i!=n.top;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw new RangeError("No table found");n.table=s,n.map=dn.get(n.table)}t(r)}return!0}function J2(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function oW({width:e,height:t,map:n},r){let i=r.top*e+r.left,s=i,a=(r.bottom-1)*e+r.left,o=i+(r.right-r.left-1);for(let u=r.top;u<r.bottom;u++){if(r.left>0&&n[s]==n[s-1]||r.right<e&&n[o]==n[o+1])return!0;s+=e,o+=e}for(let u=r.left;u<r.right;u++){if(r.top>0&&n[i]==n[i-e]||r.bottom<t&&n[a]==n[a+e])return!0;i++,a++}return!1}function Z2(e,t){const n=e.selection;if(!(n instanceof Kt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Ui(e),{map:i}=r;if(oW(i,r))return!1;if(t){const s=e.tr,a={};let o=he.empty,u,c;for(let l=r.top;l<r.bottom;l++)for(let d=r.left;d<r.right;d++){const h=i.map[l*i.width+d],f=r.table.nodeAt(h);if(!(a[h]||!f))if(a[h]=!0,u==null)u=h,c=f;else{J2(f)||(o=o.append(f.content));const p=s.mapping.map(h+r.tableStart);s.delete(p,p+f.nodeSize)}}if(u==null||c==null)return!0;if(s.setNodeMarkup(u+r.tableStart,null,oe(U({},Kv(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan)),{rowspan:r.bottom-r.top})),o.size>0){const l=u+1+c.content.size,d=J2(c)?u+1:l;s.replaceWith(d+r.tableStart,l+r.tableStart,o)}s.setSelection(new Kt(s.doc.resolve(u+r.tableStart))),t(s)}return!0}function ey(e,t){const n=Kn(e.schema);return lW(({node:r})=>n[r.type.spec.tableRole])(e,t)}function lW(e){return(t,n)=>{const r=t.selection;let i,s;if(r instanceof Kt){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;i=r.$anchorCell.nodeAfter,s=r.$anchorCell.pos}else{var a;if(i=z$(r.$from),!i)return!1;s=(a=Wa(r.$from))===null||a===void 0?void 0:a.pos}if(i==null||s==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(n){let o=i.attrs;const u=[],c=o.colwidth;o.rowspan>1&&(o=oe(U({},o),{rowspan:1})),o.colspan>1&&(o=oe(U({},o),{colspan:1}));const l=Ui(t),d=t.tr;for(let f=0;f<l.right-l.left;f++)u.push(c?oe(U({},o),{colwidth:c&&c[f]?[c[f]]:null}):o);let h;for(let f=l.top;f<l.bottom;f++){let p=l.map.positionAt(f,l.left,l.table);f==l.top&&(p+=i.nodeSize);for(let x=l.left,_=0;x<l.right;x++,_++)x==l.left&&f==l.top||d.insert(h=d.mapping.map(p+l.tableStart,1),e({node:i,row:f,col:x}).createAndFill(u[_]))}d.setNodeMarkup(s,e({node:i,row:l.top,col:l.left}),u[0]),r instanceof Kt&&d.setSelection(new Kt(d.doc.resolve(r.$anchorCell.pos),h?d.doc.resolve(h):void 0)),n(d)}return!0}}function cW(e,t){return function(n,r){if(!mi(n))return!1;const i=wh(n);if(i.nodeAfter.attrs[e]===t)return!1;if(r){const s=n.tr;n.selection instanceof Kt?n.selection.forEachCell((a,o)=>{a.attrs[e]!==t&&s.setNodeMarkup(o,null,oe(U({},a.attrs),{[e]:t}))}):s.setNodeMarkup(i.pos,null,oe(U({},i.nodeAfter.attrs),{[e]:t})),r(s)}return!0}}function dW(e){return function(t,n){if(!mi(t))return!1;if(n){const r=Kn(t.schema),i=Ui(t),s=t.tr,a=i.map.cellsInRect(e=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:e=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),o=a.map(u=>i.table.nodeAt(u));for(let u=0;u<a.length;u++)o[u].type==r.header_cell&&s.setNodeMarkup(i.tableStart+a[u],r.cell,o[u].attrs);if(s.steps.length===0)for(let u=0;u<a.length;u++)s.setNodeMarkup(i.tableStart+a[u],r.header_cell,o[u].attrs);n(s)}return!0}}function ty(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let i=0;i<r.length;i++){const s=t.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}function ql(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?dW(e):function(n,r){if(!mi(n))return!1;if(r){const i=Kn(n.schema),s=Ui(n),a=n.tr,o=ty("row",s,i),u=ty("column",s,i),c=(e==="column"?o:e==="row"&&u)?1:0,l=e=="column"?{left:0,top:c,right:1,bottom:s.map.height}:e=="row"?{left:c,top:0,right:s.map.width,bottom:1}:s,d=e=="column"?u?i.cell:i.header_cell:e=="row"?o?i.cell:i.header_cell:i.cell;s.map.cellsInRect(l).forEach(h=>{const f=h+s.tableStart,p=a.doc.nodeAt(f);p&&a.setNodeMarkup(f,d,p.attrs)}),r(a)}return!0}}ql("row",{useDeprecatedLogic:!0});ql("column",{useDeprecatedLogic:!0});const fW=ql("cell",{useDeprecatedLogic:!0});function hW(e,t){if(t<0){const n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let r=e.index(-1)-1,i=e.before();r>=0;r--){const s=e.node(-1).child(r),a=s.lastChild;if(a)return i-1-a.nodeSize;i-=s.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const n=e.node(-1);for(let r=e.indexAfter(-1),i=e.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}function ny(e){return function(t,n){if(!mi(t))return!1;const r=hW(wh(t),e);if(r==null)return!1;if(n){const i=t.doc.resolve(r);n(t.tr.setSelection(Ve.between(i,G$(i))).scrollIntoView())}return!0}}function pW(e,t){const n=e.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function Fc(e,t){const n=e.selection;if(!(n instanceof Kt))return!1;if(t){const r=e.tr,i=Kn(e.schema).cell.createAndFill().content;n.forEachCell((s,a)=>{s.content.eq(i)||r.replace(r.mapping.map(a+1),r.mapping.map(a+s.nodeSize-1),new we(i,0,0))}),r.docChanged&&t(r)}return!0}function mW(e){if(e.size===0)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const i=t.child(0),s=i.type.spec.tableRole,a=i.type.schema,o=[];if(s=="row")for(let u=0;u<t.childCount;u++){let c=t.child(u).content;const l=u?0:Math.max(0,n-1),d=u<t.childCount-1?0:Math.max(0,r-1);(l||d)&&(c=Om(Kn(a).row,new we(c,l,d)).content),o.push(c)}else if(s=="cell"||s=="header_cell")o.push(n||r?Om(Kn(a).row,new we(t,n,r)).content:t);else return null;return gW(a,o)}function gW(e,t){const n=[];for(let i=0;i<t.length;i++){const s=t[i];for(let a=s.childCount-1;a>=0;a--){const{rowspan:o,colspan:u}=s.child(a).attrs;for(let c=i;c<i+o;c++)n[c]=(n[c]||0)+u}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(he.empty),n[i]<r){const s=Kn(e).cell.createAndFill(),a=[];for(let o=n[i];o<r;o++)a.push(s);t[i]=t[i].append(he.from(a))}return{height:t.length,width:r,rows:t}}function Om(e,t){const n=e.createAndFill();return new Zg(n).replace(0,n.content.size,t).doc}function bW({width:e,height:t,rows:n},r,i){if(e!=r){const s=[],a=[];for(let o=0;o<n.length;o++){const u=n[o],c=[];for(let l=s[o]||0,d=0;l<r;d++){let h=u.child(d%u.childCount);l+h.attrs.colspan>r&&(h=h.type.createChecked(Ya(h.attrs,h.attrs.colspan,l+h.attrs.colspan-r),h.content)),c.push(h),l+=h.attrs.colspan;for(let f=1;f<h.attrs.rowspan;f++)s[o+f]=(s[o+f]||0)+h.attrs.colspan}a.push(he.from(c))}n=a,e=r}if(t!=i){const s=[];for(let a=0,o=0;a<i;a++,o++){const u=[],c=n[o%t];for(let l=0;l<c.childCount;l++){let d=c.child(l);a+d.attrs.rowspan>i&&(d=d.type.create(oe(U({},d.attrs),{rowspan:Math.max(1,i-d.attrs.rowspan)}),d.content)),u.push(d)}s.push(he.from(u))}n=s,t=i}return{width:e,height:t,rows:n}}function TW(e,t,n,r,i,s,a){const o=e.doc.type.schema,u=Kn(o);let c,l;if(i>t.width)for(let d=0,h=0;d<t.height;d++){const f=n.child(d);h+=f.nodeSize;const p=[];let x;f.lastChild==null||f.lastChild.type==u.cell?x=c||(c=u.cell.createAndFill()):x=l||(l=u.header_cell.createAndFill());for(let _=t.width;_<i;_++)p.push(x);e.insert(e.mapping.slice(a).map(h-1+r),p)}if(s>t.height){const d=[];for(let p=0,x=(t.height-1)*t.width;p<Math.max(t.width,i);p++){const _=p>=t.width?!1:n.nodeAt(t.map[x+p]).type==u.header_cell;d.push(_?l||(l=u.header_cell.createAndFill()):c||(c=u.cell.createAndFill()))}const h=u.row.create(null,he.from(d)),f=[];for(let p=t.height;p<s;p++)f.push(h);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),f)}return!!(c||l)}function ry(e,t,n,r,i,s,a,o){if(a==0||a==t.height)return!1;let u=!1;for(let c=i;c<s;c++){const l=a*t.width+c,d=t.map[l];if(t.map[l-t.width]==d){u=!0;const h=n.nodeAt(d),{top:f,left:p}=t.findCell(d);e.setNodeMarkup(e.mapping.slice(o).map(d+r),null,oe(U({},h.attrs),{rowspan:a-f})),e.insert(e.mapping.slice(o).map(t.positionAt(a,p,n)),h.type.createAndFill(oe(U({},h.attrs),{rowspan:f+h.attrs.rowspan-a}))),c+=h.attrs.colspan-1}}return u}function iy(e,t,n,r,i,s,a,o){if(a==0||a==t.width)return!1;let u=!1;for(let c=i;c<s;c++){const l=c*t.width+a,d=t.map[l];if(t.map[l-1]==d){u=!0;const h=n.nodeAt(d),f=t.colCount(d),p=e.mapping.slice(o).map(d+r);e.setNodeMarkup(p,null,Ya(h.attrs,a-f,h.attrs.colspan-(a-f))),e.insert(p+h.nodeSize,h.type.createAndFill(Ya(h.attrs,0,a-f))),c+=h.attrs.rowspan-1}}return u}function sy(e,t,n,r,i){let s=n?e.doc.nodeAt(n-1):e.doc;if(!s)throw new Error("No table found");let a=dn.get(s);const{top:o,left:u}=r,c=u+i.width,l=o+i.height,d=e.tr;let h=0;function f(){if(s=n?d.doc.nodeAt(n-1):d.doc,!s)throw new Error("No table found");a=dn.get(s),h=d.mapping.maps.length}TW(d,a,s,n,c,l,h)&&f(),ry(d,a,s,n,u,c,o,h)&&f(),ry(d,a,s,n,u,c,l,h)&&f(),iy(d,a,s,n,o,l,u,h)&&f(),iy(d,a,s,n,o,l,c,h)&&f();for(let p=o;p<l;p++){const x=a.positionAt(p,u,s),_=a.positionAt(p,c,s);d.replace(d.mapping.slice(h).map(x+n),d.mapping.slice(h).map(_+n),new we(i.rows[p-o],0,0))}f(),d.setSelection(new Kt(d.doc.resolve(n+a.positionAt(o,u,s)),d.doc.resolve(n+a.positionAt(l-1,c-1,s)))),t(d)}const EW=m1({ArrowLeft:Hc("horiz",-1),ArrowRight:Hc("horiz",1),ArrowUp:Hc("vert",-1),ArrowDown:Hc("vert",1),"Shift-ArrowLeft":Uc("horiz",-1),"Shift-ArrowRight":Uc("horiz",1),"Shift-ArrowUp":Uc("vert",-1),"Shift-ArrowDown":Uc("vert",1),Backspace:Fc,"Mod-Backspace":Fc,Delete:Fc,"Mod-Delete":Fc});function pd(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function Hc(e,t){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof Kt)return pd(n,r,Qe.near(s.$headCell,t));if(e!="horiz"&&!s.empty)return!1;const a=tw(i,e,t);if(a==null)return!1;if(e=="horiz")return pd(n,r,Qe.near(n.doc.resolve(s.head+t),t));{const o=n.doc.resolve(a),u=Yv(o,e,t);let c;return u?c=Qe.near(u,1):t<0?c=Qe.near(n.doc.resolve(o.before(-1)),-1):c=Qe.near(n.doc.resolve(o.after(-1)),1),pd(n,r,c)}}}function Uc(e,t){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let a;if(s instanceof Kt)a=s;else{const u=tw(i,e,t);if(u==null)return!1;a=new Kt(n.doc.resolve(u))}const o=Yv(a.$headCell,e,t);return o?pd(n,r,new Kt(a.$anchorCell,o)):!1}}function yW(e,t){const n=e.state.doc,r=Wa(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new Kt(r))),!0):!1}function _W(e,t,n){if(!mi(e.state))return!1;let r=mW(n);const i=e.state.selection;if(i instanceof Kt){r||(r={width:1,height:1,rows:[he.from(Om(Kn(e.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),o=dn.get(s).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=bW(r,o.right-o.left,o.bottom-o.top),sy(e.state,e.dispatch,a,o,r),!0}else if(r){const s=wh(e.state),a=s.start(-1);return sy(e.state,e.dispatch,a,dn.get(s.node(-1)).findCell(s.pos-a),r),!0}else return!1}function xW(e,t){var n;if(t.button!=0||t.ctrlKey||t.metaKey)return;const r=ay(e,t.target);let i;if(t.shiftKey&&e.state.selection instanceof Kt)s(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(i=Wa(e.state.selection.$anchor))!=null&&((n=z0(e,t))===null||n===void 0?void 0:n.pos)!=i.pos)s(i,t),t.preventDefault();else if(!r)return;function s(u,c){let l=z0(e,c);const d=ks.getState(e.state)==null;if(!l||!P1(u,l))if(d)l=u;else return;const h=new Kt(u,l);if(d||!e.state.selection.eq(h)){const f=e.state.tr.setSelection(h);d&&f.setMeta(ks,u.pos),e.dispatch(f)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",o),ks.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(ks,-1))}function o(u){const c=u,l=ks.getState(e.state);let d;if(l!=null)d=e.state.doc.resolve(l);else if(ay(e,c.target)!=r&&(d=z0(e,t),!d))return a();d&&s(d,c)}e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",o)}function tw(e,t,n){if(!(e.state.selection instanceof Ve))return null;const{$head:r}=e.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const a=r.before(i),o=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(o)?a:null}}return null}function ay(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function z0(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});if(!n)return null;let{inside:r,pos:i}=n;return r>=0&&Wa(e.state.doc.resolve(r))||Wa(e.state.doc.resolve(i))}var AW=class{constructor(t,n){this.node=t,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Dm(t,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,Dm(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function Dm(e,t,n,r,i,s){let a=0,o=!0,u=t.firstChild;const c=e.firstChild;if(c){for(let d=0,h=0;d<c.childCount;d++){const{colspan:f,colwidth:p}=c.child(d).attrs;for(let x=0;x<f;x++,h++){const _=i==h?s:p&&p[x],b=_?_+"px":"";if(a+=_||r,_||(o=!1),u)u.style.width!=b&&(u.style.width=b),u=u.nextSibling;else{const T=document.createElement("col");T.style.width=b,t.appendChild(T)}}}for(;u;){var l;const d=u.nextSibling;(l=u.parentNode)===null||l===void 0||l.removeChild(u),u=d}o?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}const Lr=new nn("tableColumnResizing");function CW({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:r=AW,lastColumnResizable:i=!0}={}){const s=new Gt({key:Lr,state:{init(a,o){var u;const c=(u=s.spec)===null||u===void 0||(u=u.props)===null||u===void 0?void 0:u.nodeViews,l=Kn(o.schema).table.name;return r&&c&&(c[l]=(d,h)=>new r(d,n,h)),new SW(-1,!1)},apply(a,o){return o.apply(a)}},props:{attributes:a=>{const o=Lr.getState(a);return o&&o.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,o)=>{NW(a,o,e,i)},mouseleave:a=>{vW(a)},mousedown:(a,o)=>{wW(a,o,t,n)}},decorations:a=>{const o=Lr.getState(a);if(o&&o.activeHandle>-1)return RW(a,o.activeHandle)},nodeViews:{}}});return s}var SW=class md{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,r=t.getMeta(Lr);if(r&&r.setHandle!=null)return new md(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new md(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let i=t.mapping.map(n.activeHandle,-1);return km(t.doc.resolve(i))||(i=-1),new md(i,n.dragging)}return n}};function NW(e,t,n,r){if(!e.editable)return;const i=Lr.getState(e.state);if(i&&!i.dragging){const s=kW(t.target);let a=-1;if(s){const{left:o,right:u}=s.getBoundingClientRect();t.clientX-o<=n?a=uy(e,t,"left",n):u-t.clientX<=n&&(a=uy(e,t,"right",n))}if(a!=i.activeHandle){if(!r&&a!==-1){const o=e.state.doc.resolve(a),u=o.node(-1),c=dn.get(u),l=o.start(-1);if(c.colCount(o.pos-l)+o.nodeAfter.attrs.colspan-1==c.width-1)return}nw(e,a)}}}function vW(e){if(!e.editable)return;const t=Lr.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&nw(e,-1)}function wW(e,t,n,r){var i;if(!e.editable)return!1;const s=(i=e.dom.ownerDocument.defaultView)!==null&&i!==void 0?i:window,a=Lr.getState(e.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const o=e.state.doc.nodeAt(a.activeHandle),u=IW(e,a.activeHandle,o.attrs);e.dispatch(e.state.tr.setMeta(Lr,{setDragging:{startX:t.clientX,startWidth:u}}));function c(d){s.removeEventListener("mouseup",c),s.removeEventListener("mousemove",l);const h=Lr.getState(e.state);h!=null&&h.dragging&&(OW(e,h.activeHandle,oy(h.dragging,d,n)),e.dispatch(e.state.tr.setMeta(Lr,{setDragging:null})))}function l(d){if(!d.which)return c(d);const h=Lr.getState(e.state);if(h&&h.dragging){const f=oy(h.dragging,d,n);ly(e,h.activeHandle,f,r)}}return ly(e,a.activeHandle,u,r),s.addEventListener("mouseup",c),s.addEventListener("mousemove",l),t.preventDefault(),!0}function IW(e,t,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=e.domAtPos(t);let a=s.node.childNodes[s.offset].offsetWidth,o=n;if(r)for(let u=0;u<n;u++)r[u]&&(a-=r[u],o--);return a/o}function kW(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function uy(e,t,n,r){const i=n=="right"?-r:r,s=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!s)return-1;const{pos:a}=s,o=Wa(e.state.doc.resolve(a));if(!o)return-1;if(n=="right")return o.pos;const u=dn.get(o.node(-1)),c=o.start(-1),l=u.map.indexOf(o.pos-c);return l%u.width==0?-1:c+u.map[l-1]}function oy(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function nw(e,t){e.dispatch(e.state.tr.setMeta(Lr,{setHandle:t}))}function OW(e,t,n){const r=e.state.doc.resolve(t),i=r.node(-1),s=dn.get(i),a=r.start(-1),o=s.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,u=e.state.tr;for(let c=0;c<s.height;c++){const l=c*s.width+o;if(c&&s.map[l]==s.map[l-s.width])continue;const d=s.map[l],h=i.nodeAt(d).attrs,f=h.colspan==1?0:o-s.colCount(d);if(h.colwidth&&h.colwidth[f]==n)continue;const p=h.colwidth?h.colwidth.slice():DW(h.colspan);p[f]=n,u.setNodeMarkup(a+d,null,oe(U({},h),{colwidth:p}))}u.docChanged&&e.dispatch(u)}function ly(e,t,n,r){const i=e.state.doc.resolve(t),s=i.node(-1),a=i.start(-1),o=dn.get(s).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;let u=e.domAtPos(i.start(-1)).node;for(;u&&u.nodeName!="TABLE";)u=u.parentNode;u&&Dm(s,u.firstChild,u,r,o,n)}function DW(e){return Array(e).fill(0)}function RW(e,t){const n=[],r=e.doc.resolve(t),i=r.node(-1);if(!i)return $t.empty;const s=dn.get(i),a=r.start(-1),o=s.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1;for(let c=0;c<s.height;c++){const l=o+c*s.width;if((o==s.width-1||s.map[l]!=s.map[l+1])&&(c==0||s.map[l]!=s.map[l-s.width])){var u;const d=s.map[l],h=a+d+i.nodeAt(d).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",!((u=Lr.getState(e))===null||u===void 0)&&u.dragging&&n.push(Sn.node(a+d,a+d+i.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),n.push(Sn.widget(h,f))}}return $t.create(e.doc,n)}function LW({allowTableNodeSelection:e=!1}={}){return new Gt({key:ks,state:{init(){return null},apply(t,n){const r=t.getMeta(ks);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:i,pos:s}=t.mapping.mapResult(n);return i?null:s}},props:{decorations:W$,handleDOMEvents:{mousedown:xW},createSelectionBetween(t){return ks.getState(t.state)!=null?t.state.selection:null},handleTripleClick:yW,handleKeyDown:EW,handlePaste:_W},appendTransaction(t,n,r){return Q$(r,Jv(r,n),e)}})}function PW(e,t){const n=Math.min(e.top,t.top),r=Math.max(e.bottom,t.bottom),i=Math.min(e.left,t.left),a=Math.max(e.right,t.right)-i,o=r-n,u=i,c=n;return new DOMRect(u,c,a,o)}var MW=class{constructor({editor:e,element:t,view:n,updateDelay:r=250,resizeDelay:i=60,shouldShow:s,appendTo:a,getReferencedVirtualElement:o,options:u}){this.preventHide=!1,this.isVisible=!1,this.scrollTarget=window,this.floatingUIOptions={strategy:"absolute",placement:"top",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1,onShow:void 0,onHide:void 0,onUpdate:void 0,onDestroy:void 0},this.shouldShow=({view:l,state:d,from:h,to:f})=>{const{doc:p,selection:x}=d,{empty:_}=x,b=!p.textBetween(h,f).length&&E1(d.selection),T=this.element.contains(document.activeElement);return!(!(l.hasFocus()||T)||_||b||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:l})=>{var d;if(this.editor.isDestroyed){this.destroy();return}if(this.preventHide){this.preventHide=!1;return}l!=null&&l.relatedTarget&&((d=this.element.parentNode)!=null&&d.contains(l.relatedTarget))||(l==null?void 0:l.relatedTarget)!==this.editor.view.dom&&this.hide()},this.handleDebouncedUpdate=(l,d)=>{const h=!(d!=null&&d.selection.eq(l.state.selection)),f=!(d!=null&&d.doc.eq(l.state.doc));!h&&!f||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(l,h,f,d)},this.updateDelay))},this.updateHandler=(l,d,h,f)=>{const{composing:p}=l;if(p||!d&&!h)return;if(!this.getShouldShow(f)){this.hide();return}this.updatePosition(),this.show()},this.transactionHandler=({transaction:l})=>{l.getMeta("bubbleMenu")==="updatePosition"&&this.updatePosition()};var c;this.editor=e,this.element=t,this.view=n,this.updateDelay=r,this.resizeDelay=i,this.appendTo=a,this.scrollTarget=(c=u==null?void 0:u.scrollTarget)!=null?c:window,this.getReferencedVirtualElement=o,this.floatingUIOptions=U(U({},this.floatingUIOptions),u),this.element.tabIndex=0,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.editor.on("transaction",this.transactionHandler),window.addEventListener("resize",this.resizeHandler),this.scrollTarget.addEventListener("scroll",this.resizeHandler),this.update(n,n.state),this.getShouldShow()&&(this.show(),this.updatePosition())}get middlewares(){const e=[];return this.floatingUIOptions.flip&&e.push(zv(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&e.push(Uv(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&e.push(Fv(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&e.push(Vv(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&e.push(qv(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&e.push(Hv(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&e.push(Gv(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&e.push($v(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),e}get virtualElement(){var e;const{selection:t}=this.editor.state,n=(e=this.getReferencedVirtualElement)==null?void 0:e.call(this);if(n)return n;const r=sv(this.view,t.from,t.to);let i={getBoundingClientRect:()=>r,getClientRects:()=>[r]};if(t instanceof ze){let s=this.view.nodeDOM(t.from);const a=s.dataset.nodeViewWrapper?s:s.querySelector("[data-node-view-wrapper]");a&&(s=a),s&&(i={getBoundingClientRect:()=>s.getBoundingClientRect(),getClientRects:()=>[s.getBoundingClientRect()]})}if(t instanceof Kt){const{$anchorCell:s,$headCell:a}=t,o=s?s.pos:a.pos,u=a?a.pos:s.pos,c=this.view.nodeDOM(o),l=this.view.nodeDOM(u);if(!c||!l)return;const d=c===l?c.getBoundingClientRect():PW(c.getBoundingClientRect(),l.getBoundingClientRect());i={getBoundingClientRect:()=>d,getClientRects:()=>[d]}}return i}updatePosition(){const e=this.virtualElement;e&&Wv(e,this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:t,y:n,strategy:r})=>{this.element.style.width="max-content",this.element.style.position=r,this.element.style.left=`${t}px`,this.element.style.top=`${n}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(e,t){const{state:n}=e,r=n.selection.from!==n.selection.to;if(this.updateDelay>0&&r){this.handleDebouncedUpdate(e,t);return}const i=!(t!=null&&t.selection.eq(e.state.selection)),s=!(t!=null&&t.doc.eq(e.state.doc));this.updateHandler(e,i,s,t)}getShouldShow(e){var t;const{state:n}=this.view,{selection:r}=n,{ranges:i}=r,s=Math.min(...i.map(u=>u.$from.pos)),a=Math.max(...i.map(u=>u.$to.pos));return((t=this.shouldShow)==null?void 0:t.call(this,{editor:this.editor,element:this.element,view:this.view,state:n,oldState:e,from:s,to:a}))||!1}show(){var e;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const t=typeof this.appendTo=="function"?this.appendTo():this.appendTo;(e=t!=null?t:this.view.dom.parentElement)==null||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),window.removeEventListener("resize",this.resizeHandler),this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.editor.off("transaction",this.transactionHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},rw=e=>new Gt({key:typeof e.pluginKey=="string"?new nn(e.pluginKey):e.pluginKey,view:t=>new MW(U({view:t},e))});Jt.create({name:"bubbleMenu",addOptions(){return{element:null,pluginKey:"bubbleMenu",updateDelay:void 0,appendTo:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[rw({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,options:this.options.options,appendTo:this.options.appendTo,getReferencedVirtualElement:this.options.getReferencedVirtualElement,shouldShow:this.options.shouldShow})]:[]}});var BW=class{constructor({editor:e,element:t,view:n,options:r,appendTo:i,shouldShow:s}){this.preventHide=!1,this.isVisible=!1,this.shouldShow=({view:a,state:o})=>{const{selection:u}=o,{$anchor:c,empty:l}=u,d=c.depth===1,h=c.parent.isTextblock&&!c.parent.type.spec.code&&!c.parent.textContent&&c.parent.childCount===0&&!this.getTextContent(c.parent);return!(!a.hasFocus()||!l||!d||!h||!this.editor.isEditable)},this.floatingUIOptions={strategy:"absolute",placement:"right",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1},this.updateHandler=(a,o,u,c)=>{const{composing:l}=a;if(l||!o&&!u)return;if(!this.getShouldShow(c)){this.hide();return}this.updatePosition(),this.show()},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var o;if(this.preventHide){this.preventHide=!1;return}a!=null&&a.relatedTarget&&((o=this.element.parentNode)!=null&&o.contains(a.relatedTarget))||(a==null?void 0:a.relatedTarget)!==this.editor.view.dom&&this.hide()},this.editor=e,this.element=t,this.view=n,this.appendTo=i,this.floatingUIOptions=U(U({},this.floatingUIOptions),r),this.element.tabIndex=0,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.update(n,n.state),this.getShouldShow()&&(this.show(),this.updatePosition())}getTextContent(e){return ZN(e,{textSerializers:x1(this.editor.schema)})}get middlewares(){const e=[];return this.floatingUIOptions.flip&&e.push(zv(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&e.push(Uv(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&e.push(Fv(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&e.push(Vv(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&e.push(qv(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&e.push(Hv(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&e.push(Gv(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&e.push($v(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),e}getShouldShow(e){var t;const{state:n}=this.view,{selection:r}=n,{ranges:i}=r,s=Math.min(...i.map(u=>u.$from.pos)),a=Math.max(...i.map(u=>u.$to.pos));return(t=this.shouldShow)==null?void 0:t.call(this,{editor:this.editor,view:this.view,state:n,oldState:e,from:s,to:a})}updatePosition(){const{selection:e}=this.editor.state,t=sv(this.view,e.from,e.to);Wv({getBoundingClientRect:()=>t,getClientRects:()=>[t]},this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:r,y:i,strategy:s})=>{this.element.style.width="max-content",this.element.style.position=s,this.element.style.left=`${r}px`,this.element.style.top=`${i}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(e,t){const n=!(t!=null&&t.selection.eq(e.state.selection)),r=!(t!=null&&t.doc.eq(e.state.doc));this.updateHandler(e,n,r,t)}show(){var e;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const t=typeof this.appendTo=="function"?this.appendTo():this.appendTo;(e=t!=null?t:this.view.dom.parentElement)==null||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},iw=e=>new Gt({key:typeof e.pluginKey=="string"?new nn(e.pluginKey):e.pluginKey,view:t=>new BW(U({view:t},e))});Jt.create({name:"floatingMenu",addOptions(){return{element:null,options:{},pluginKey:"floatingMenu",appendTo:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[iw({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,options:this.options.options,appendTo:this.options.appendTo,shouldShow:this.options.shouldShow})]:[]}});var jW=Li.forwardRef((d,l)=>{var h=d,{pluginKey:e="bubbleMenu",editor:t,updateDelay:n,resizeDelay:r,appendTo:i,shouldShow:s=null,getReferencedVirtualElement:a,options:o,children:u}=h,c=ir(h,["pluginKey","editor","updateDelay","resizeDelay","appendTo","shouldShow","getReferencedVirtualElement","options","children"]);const f=q.useRef(document.createElement("div"));typeof l=="function"?l(f.current):l&&(l.current=f.current);const{editor:p}=Sv(),x=t||p,_={updateDelay:n,resizeDelay:r,appendTo:i,pluginKey:e,shouldShow:s,getReferencedVirtualElement:a,options:o},b=q.useRef(_);return b.current=_,q.useEffect(()=>{if(x!=null&&x.isDestroyed)return;if(!x){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const T=f.current;T.style.visibility="hidden",T.style.position="absolute";const N=rw(oe(U({},b.current),{editor:x,element:T}));x.registerPlugin(N);const g=b.current.pluginKey;return()=>{x.unregisterPlugin(g),window.requestAnimationFrame(()=>{T.parentNode&&T.parentNode.removeChild(T)})}},[x]),$f.createPortal(m.jsx("div",oe(U({},c),{children:u})),f.current)});Li.forwardRef((u,o)=>{var c=u,{pluginKey:e="floatingMenu",editor:t,appendTo:n,shouldShow:r=null,options:i,children:s}=c,a=ir(c,["pluginKey","editor","appendTo","shouldShow","options","children"]);const l=q.useRef(document.createElement("div"));typeof o=="function"?o(l.current):o&&(o.current=l.current);const{editor:d}=Sv();return q.useEffect(()=>{const h=l.current;if(h.style.visibility="hidden",h.style.position="absolute",t!=null&&t.isDestroyed||d!=null&&d.isDestroyed)return;const f=t||d;if(!f){console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");return}const p=iw({editor:f,element:h,pluginKey:e,appendTo:n,shouldShow:r,options:i});return f.registerPlugin(p),()=>{f.unregisterPlugin(e),window.requestAnimationFrame(()=>{h.parentNode&&h.parentNode.removeChild(h)})}},[t,d,n,e,r,i]),$f.createPortal(m.jsx("div",oe(U({},a),{children:s})),l.current)});var lf=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const i=t!=null?t:{},{children:n}=i,r=ir(i,["children"]);if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},FW=/^\s*>\s$/,HW=An.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return lf("blockquote",oe(U({},Qt(this.options.HTMLAttributes,e)),{children:lf("slot",{})}))},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=">",r=[];return e.content.forEach(i=>{const o=t.renderChildren([i]).split(`
`).map(u=>u.trim()===""?n:`${n} ${u}`);r.push(o.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Vu({find:FW,type:this.type})]}}),UW=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,zW=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,qW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,GW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,VW=Za.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return lf("strong",oe(U({},Qt(this.options.HTMLAttributes,e)),{children:lf("slot",{})}))},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Gu({find:UW,type:this.type}),Gu({find:qW,type:this.type})]},addPasteRules(){return[$a({find:zW,type:this.type}),$a({find:GW,type:this.type})]}}),$W=/(^|[^`])`([^`]+)`(?!`)$/,WW=/(^|[^`])`([^`]+)`(?!`)/g,YW=Za.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",Qt(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Gu({find:$W,type:this.type})]},addPasteRules(){return[$a({find:WW,type:this.type})]}}),q0=4,KW=/^```([a-z]+)?[\s\n]$/,QW=/^~~~([a-z]+)?[\s\n]$/,XW=An.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:q0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",Qt(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return((n=e.raw)==null?void 0:n.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let r="";const i=((n=e.attrs)==null?void 0:n.language)||"";return e.content?r=[`\`\`\`${i}`,t.renderChildren(e.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:q0,{state:r}=e,{selection:i}=r,{$from:s,empty:a}=i;if(s.parent.type!==this.type)return!1;const o=" ".repeat(n);return a?e.commands.insertContent(o):e.commands.command(({tr:u})=>{const{from:c,to:l}=i,f=r.doc.textBetween(c,l,`
`,`
`).split(`
`).map(p=>o+p).join(`
`);return u.replaceWith(c,l,r.schema.text(f)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:q0,{state:r}=e,{selection:i}=r,{$from:s,empty:a}=i;return s.parent.type!==this.type?!1:a?e.commands.command(({tr:o})=>{var u;const{pos:c}=s,l=s.start(),d=s.end(),f=r.doc.textBetween(l,d,`
`,`
`).split(`
`);let p=0,x=0;const _=c-l;for(let E=0;E<f.length;E+=1){if(x+f[E].length>=_){p=E;break}x+=f[E].length+1}const T=((u=f[p].match(/^ */))==null?void 0:u[0])||"",N=Math.min(T.length,n);if(N===0)return!0;let g=l;for(let E=0;E<p;E+=1)g+=f[E].length+1;return o.delete(g,g+N),c-g<=N&&o.setSelection(Ve.create(o.doc,g)),!0}):e.commands.command(({tr:o})=>{const{from:u,to:c}=i,h=r.doc.textBetween(u,c,`
`,`
`).split(`
`).map(f=>{var p;const x=((p=f.match(/^ */))==null?void 0:p[0])||"",_=Math.min(x.length,n);return f.slice(_)}).join(`
`);return o.replaceWith(u,c,r.schema.text(h)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:e.chain().command(({tr:o})=>(o.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const o=i.after();return o===void 0?!1:r.nodeAt(o)?e.commands.command(({tr:c})=>(c.setSelection(Qe.near(r.resolve(o))),!0)):e.commands.exitCode()}}},addInputRules(){return[Am({find:KW,type:this.type,getAttributes:e=>({language:e[1]})}),Am({find:QW,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Gt({key:new nn("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:a,schema:o}=e.state,u=o.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},u)),a.selection.$from.parent.type!==this.type&&a.setSelection(Ve.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),e.dispatch(a),!0}}})]}}),JW=An.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),ZW=An.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",Qt(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:o}=r.extensionManager,u=s||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:c,dispatch:l})=>{if(l&&u&&a){const d=u.filter(h=>o.includes(h.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),sw=An.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,Qt(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const r=(n=e.attrs)!=null&&n.level?parseInt(e.attrs.level,10):1,i="#".repeat(r);return e.content?`${i} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>oe(U({},e),{[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>Am({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),M1=sw,eY=An.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",Qt(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!BG(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,i=e();return nv(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:a,dispatch:o})=>{if(o){const{$to:u}=a.selection,c=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?a.setSelection(Ve.create(a.doc,u.pos+1)):u.nodeAfter.isBlock?a.setSelection(ze.create(a.doc,u.pos)):a.setSelection(Ve.create(a.doc,u.pos));else{const l=s.schema.nodes[this.options.nextNodeType]||u.parent.type.contentMatch.defaultType,d=l==null?void 0:l.create();d&&(a.insert(c,d),a.setSelection(Ve.create(a.doc,c+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[yv({find:/^(?:---|â-|___\s|\*\*\*\s)$/,type:this.type})]}}),tY=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,nY=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,rY=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,iY=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,sY=Za.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",Qt(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Gu({find:tY,type:this.type}),Gu({find:rY,type:this.type})]},addPasteRules(){return[$a({find:nY,type:this.type}),$a({find:iY,type:this.type})]}});const aY="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mÃ¶gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",uY="ÎµÎ»1Ï2Ð±Ð³1ÐµÐ»3Ð´ÐµÑÐ¸4ÐµÑ2ÐºÐ°ÑÐ¾Ð»Ð¸Ðº6Ð¾Ð¼3Ð¼ÐºÐ´2Ð¾Ð½1ÑÐºÐ²Ð°6Ð¾Ð½Ð»Ð°Ð¹Ð½5ÑÐ³3ÑÑÑ2Ñ2ÑÐ°Ð¹Ñ3ÑÐ±3ÑÐºÑ3ÒÐ°Ð·3Õ°Õ¡Õµ3××©×¨××5×§××3Ø§Ø¨ÙØ¸Ø¨Ù5Ø±Ø§ÙÙÙ5ÙØ§Ø±Ø¯Ù4Ø¨Ø­Ø±ÙÙ5Ø¬Ø²Ø§Ø¦Ø±5Ø³Ø¹ÙØ¯ÙØ©6Ø¹ÙÙØ§Ù5ÙØºØ±Ø¨5ÙØ§Ø±Ø§Øª5ÛØ±Ø§Ù5Ø¨Ø§Ø±Øª2Ø²Ø§Ø±4ÙØªÙ3Ú¾Ø§Ø±Øª5ØªÙÙØ³4Ø³ÙØ¯Ø§Ù3Ø±ÙØ©5Ø´Ø¨ÙØ©4Ø¹Ø±Ø§Ù2Ø¨2ÙØ§Ù4ÙÙØ³Ø·ÙÙ6ÙØ·Ø±3ÙØ§Ø«ÙÙÙÙ6ÙÙ3ÙØµØ±2ÙÙØ³ÙØ§5ÙØ±ÙØªØ§ÙÙØ§7ÙØ¹4ÙÙØ±Ø§Ù5Ù¾Ø§Ú©Ø³ØªØ§Ù7ÚØ§Ø±Øª4à¤à¥à¤®3à¤¨à¥à¤3à¤­à¤¾à¤°à¤¤0à¤®à¥3à¥à¤¤5à¤¸à¤à¤à¤ à¤¨5à¦¬à¦¾à¦à¦²à¦¾5à¦­à¦¾à¦°à¦¤2à§°à¦¤4à¨­à¨¾à¨°à¨¤4àª­àª¾àª°àª¤4à¬­à¬¾à¬°à¬¤4à®à®¨à¯à®¤à®¿à®¯à®¾6à®²à®à¯à®à¯6à®à®¿à®à¯à®à®ªà¯à®ªà¯à®°à¯11à°­à°¾à°°à°¤à±5à²­à²¾à²°à²¤4à´­à´¾à´°à´¤à´5à¶½à¶à¶à·4à¸à¸­à¸¡3à¹à¸à¸¢3àº¥àº²àº§3áá2ã¿ããª3ã¢ãã¾ã³4ã¯ã©ã¦ã4ã°ã¼ã°ã«4ã³ã 2ã¹ãã¢3ã»ã¼ã«3ãã¡ãã·ã§ã³6ãã¤ã³ã4ä¸ç2ä¸­ä¿¡1å½1å1æç½3äºé©¬é3ä¼ä¸2ä½å±±2ä¿¡æ¯2å¥åº·2å«å¦2å¬å¸1ç2å°æ¹¾1ç£2åå1åº1æ 2åé0å¤§éåº5å¨çº¿2å¤§æ¿2å¤©ä¸»æ3å¨±ä¹2å®¶é»2å¹¿ä¸2å¾®å2æå2æç±ä½ 3ææº2æè2æ¿å¡1åº2æ°å å¡2é»2æ¶å°2æ¸ç±2æºæ2æ·¡é©¬é¡3æ¸¸æ2æ¾³é2ç¹ç2ç§»å¨2ç»ç»æºæ4ç½å1åº1ç«1ç»2èé2è°·æ­2è´­ç©2éè²©2éå¢2é»è¨çç§4é£å©æµ¦3é£å2é¤å2é¦æ ¼éæ3æ¸¯2ë·ë·1ì»´2ì¼ì±2íêµ­2",Rm="numeric",Lm="ascii",Pm="alpha",hl="asciinumeric",Jo="alphanumeric",Mm="domain",aw="emoji",oY="scheme",lY="slashscheme",G0="whitespace";function cY(e,t){return e in t||(t[e]=[]),t[e]}function Oa(e,t,n){t[Rm]&&(t[hl]=!0,t[Jo]=!0),t[Lm]&&(t[hl]=!0,t[Pm]=!0),t[hl]&&(t[Jo]=!0),t[Pm]&&(t[Jo]=!0),t[Jo]&&(t[Mm]=!0),t[aw]&&(t[Mm]=!0);for(const r in t){const i=cY(r,n);i.indexOf(e)<0&&i.push(e)}}function dY(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function Cr(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Cr.groups={};Cr.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const i=t.jr[r][0],s=t.jr[r][1];if(s&&i.test(e))return s}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){r=r||Cr.groups;let i;return t&&t.j?i=t:(i=new Cr(t),n&&r&&Oa(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const s=e.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(e[a]);return i.tt(e[s-1],t,n,r)},tt(e,t,n,r){r=r||Cr.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const s=t;let a,o=i.go(e);if(o?(a=new Cr,Object.assign(a.j,o.j),a.jr.push.apply(a.jr,o.jr),a.jd=o.jd,a.t=o.t):a=new Cr,s){if(r)if(a.t&&typeof a.t=="string"){const u=Object.assign(dY(a.t,r),n);Oa(s,u,r)}else n&&Oa(s,n,r);a.t=s}return i.j[e]=a,a}};const ft=(e,t,n,r,i)=>e.ta(t,n,r,i),ln=(e,t,n,r,i)=>e.tr(t,n,r,i),cy=(e,t,n,r,i)=>e.ts(t,n,r,i),xe=(e,t,n,r,i)=>e.tt(t,n,r,i),es="WORD",Bm="UWORD",uw="ASCIINUMERICAL",ow="ALPHANUMERICAL",Gl="LOCALHOST",jm="TLD",Fm="UTLD",gd="SCHEME",xu="SLASH_SCHEME",B1="NUM",Hm="WS",j1="NL",pl="OPENBRACE",ml="CLOSEBRACE",cf="OPENBRACKET",df="CLOSEBRACKET",ff="OPENPAREN",hf="CLOSEPAREN",pf="OPENANGLEBRACKET",mf="CLOSEANGLEBRACKET",gf="FULLWIDTHLEFTPAREN",bf="FULLWIDTHRIGHTPAREN",Tf="LEFTCORNERBRACKET",Ef="RIGHTCORNERBRACKET",yf="LEFTWHITECORNERBRACKET",_f="RIGHTWHITECORNERBRACKET",xf="FULLWIDTHLESSTHAN",Af="FULLWIDTHGREATERTHAN",Cf="AMPERSAND",Sf="APOSTROPHE",Nf="ASTERISK",vs="AT",vf="BACKSLASH",wf="BACKTICK",If="CARET",Os="COLON",F1="COMMA",kf="DOLLAR",xi="DOT",Of="EQUALS",H1="EXCLAMATION",Ur="HYPHEN",gl="PERCENT",Df="PIPE",Rf="PLUS",Lf="POUND",bl="QUERY",U1="QUOTE",lw="FULLWIDTHMIDDLEDOT",z1="SEMI",Ai="SLASH",Tl="TILDE",Pf="UNDERSCORE",cw="EMOJI",Mf="SYM";var dw=Object.freeze({__proto__:null,ALPHANUMERICAL:ow,AMPERSAND:Cf,APOSTROPHE:Sf,ASCIINUMERICAL:uw,ASTERISK:Nf,AT:vs,BACKSLASH:vf,BACKTICK:wf,CARET:If,CLOSEANGLEBRACKET:mf,CLOSEBRACE:ml,CLOSEBRACKET:df,CLOSEPAREN:hf,COLON:Os,COMMA:F1,DOLLAR:kf,DOT:xi,EMOJI:cw,EQUALS:Of,EXCLAMATION:H1,FULLWIDTHGREATERTHAN:Af,FULLWIDTHLEFTPAREN:gf,FULLWIDTHLESSTHAN:xf,FULLWIDTHMIDDLEDOT:lw,FULLWIDTHRIGHTPAREN:bf,HYPHEN:Ur,LEFTCORNERBRACKET:Tf,LEFTWHITECORNERBRACKET:yf,LOCALHOST:Gl,NL:j1,NUM:B1,OPENANGLEBRACKET:pf,OPENBRACE:pl,OPENBRACKET:cf,OPENPAREN:ff,PERCENT:gl,PIPE:Df,PLUS:Rf,POUND:Lf,QUERY:bl,QUOTE:U1,RIGHTCORNERBRACKET:Ef,RIGHTWHITECORNERBRACKET:_f,SCHEME:gd,SEMI:z1,SLASH:Ai,SLASH_SCHEME:xu,SYM:Mf,TILDE:Tl,TLD:jm,UNDERSCORE:Pf,UTLD:Fm,UWORD:Bm,WORD:es,WS:Hm});const Gi=/[a-z]/,_o=new RegExp("\\p{L}","u"),V0=new RegExp("\\p{Emoji}","u"),Vi=/\d/,$0=/\s/,dy="\r",W0=`
`,fY="ï¸",hY="â",Y0="ï¿¼";let zc=null,qc=null;function pY(e=[]){const t={};Cr.groups=t;const n=new Cr;zc==null&&(zc=fy(aY)),qc==null&&(qc=fy(uY)),xe(n,"'",Sf),xe(n,"{",pl),xe(n,"}",ml),xe(n,"[",cf),xe(n,"]",df),xe(n,"(",ff),xe(n,")",hf),xe(n,"<",pf),xe(n,">",mf),xe(n,"ï¼",gf),xe(n,"ï¼",bf),xe(n,"ã",Tf),xe(n,"ã",Ef),xe(n,"ã",yf),xe(n,"ã",_f),xe(n,"ï¼",xf),xe(n,"ï¼",Af),xe(n,"&",Cf),xe(n,"*",Nf),xe(n,"@",vs),xe(n,"`",wf),xe(n,"^",If),xe(n,":",Os),xe(n,",",F1),xe(n,"$",kf),xe(n,".",xi),xe(n,"=",Of),xe(n,"!",H1),xe(n,"-",Ur),xe(n,"%",gl),xe(n,"|",Df),xe(n,"+",Rf),xe(n,"#",Lf),xe(n,"?",bl),xe(n,'"',U1),xe(n,"/",Ai),xe(n,";",z1),xe(n,"~",Tl),xe(n,"_",Pf),xe(n,"\\",vf),xe(n,"ã»",lw);const r=ln(n,Vi,B1,{[Rm]:!0});ln(r,Vi,r);const i=ln(r,Gi,uw,{[hl]:!0}),s=ln(r,_o,ow,{[Jo]:!0}),a=ln(n,Gi,es,{[Lm]:!0});ln(a,Vi,i),ln(a,Gi,a),ln(i,Vi,i),ln(i,Gi,i);const o=ln(n,_o,Bm,{[Pm]:!0});ln(o,Gi),ln(o,Vi,s),ln(o,_o,o),ln(s,Vi,s),ln(s,Gi),ln(s,_o,s);const u=xe(n,W0,j1,{[G0]:!0}),c=xe(n,dy,Hm,{[G0]:!0}),l=ln(n,$0,Hm,{[G0]:!0});xe(n,Y0,l),xe(c,W0,u),xe(c,Y0,l),ln(c,$0,l),xe(l,dy),xe(l,W0),ln(l,$0,l),xe(l,Y0,l);const d=ln(n,V0,cw,{[aw]:!0});xe(d,"#"),ln(d,V0,d),xe(d,fY,d);const h=xe(d,hY);xe(h,"#"),ln(h,V0,d);const f=[[Gi,a],[Vi,i]],p=[[Gi,null],[_o,o],[Vi,s]];for(let x=0;x<zc.length;x++)Es(n,zc[x],jm,es,f);for(let x=0;x<qc.length;x++)Es(n,qc[x],Fm,Bm,p);Oa(jm,{tld:!0,ascii:!0},t),Oa(Fm,{utld:!0,alpha:!0},t),Es(n,"file",gd,es,f),Es(n,"mailto",gd,es,f),Es(n,"http",xu,es,f),Es(n,"https",xu,es,f),Es(n,"ftp",xu,es,f),Es(n,"ftps",xu,es,f),Oa(gd,{scheme:!0,ascii:!0},t),Oa(xu,{slashscheme:!0,ascii:!0},t),e=e.sort((x,_)=>x[0]>_[0]?1:-1);for(let x=0;x<e.length;x++){const _=e[x][0],T=e[x][1]?{[oY]:!0}:{[lY]:!0};_.indexOf("-")>=0?T[Mm]=!0:Gi.test(_)?Vi.test(_)?T[hl]=!0:T[Lm]=!0:T[Rm]=!0,cy(n,_,_,T)}return cy(n,"localhost",Gl,{ascii:!0}),n.jd=new Cr(Mf),{start:n,tokens:Object.assign({groups:t},dw)}}function fw(e,t){const n=mY(t.replace(/[A-Z]/g,o=>o.toLowerCase())),r=n.length,i=[];let s=0,a=0;for(;a<r;){let o=e,u=null,c=0,l=null,d=-1,h=-1;for(;a<r&&(u=o.go(n[a]));)o=u,o.accepts()?(d=0,h=0,l=o):d>=0&&(d+=n[a].length,h++),c+=n[a].length,s+=n[a].length,a++;s-=d,a-=h,c-=d,i.push({t:l.t,v:t.slice(s-c,s),s:s-c,e:s})}return i}function mY(e){const t=[],n=e.length;let r=0;for(;r<n;){let i=e.charCodeAt(r),s,a=i<55296||i>56319||r+1===n||(s=e.charCodeAt(r+1))<56320||s>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}function Es(e,t,n,r,i){let s;const a=t.length;for(let o=0;o<a-1;o++){const u=t[o];e.j[u]?s=e.j[u]:(s=new Cr(r),s.jr=i.slice(),e.j[u]=s),e=s}return s=new Cr(n),s.jr=i.slice(),e.j[t[a-1]]=s,s}function fy(e){const t=[],n=[];let r=0,i="0123456789";for(;r<e.length;){let s=0;for(;i.indexOf(e[r+s])>=0;)s++;if(s>0){t.push(n.join(""));for(let a=parseInt(e.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(e[r]),r++}return t}const Vl={defaultProtocol:"http",events:null,format:hy,formatHref:hy,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function q1(e,t=null){let n=Object.assign({},Vl);e&&(n=Object.assign(n,e instanceof q1?e.o:e));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}q1.prototype={o:Vl,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Vl[e],typeof i=="function"&&r&&(i=i(t,n))):typeof i=="function"&&r&&(i=i(t,n.t,n)),i)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function hy(e){return e}function hw(e,t){this.t="token",this.v=e,this.tk=t}hw.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"â¦":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=Vl.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),s=this.toFormattedString(e),a={},o=e.get("className",n,t),u=e.get("target",n,t),c=e.get("rel",n,t),l=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return a.href=r,o&&(a.class=o),u&&(a.target=u),c&&(a.rel=c),l&&Object.assign(a,l),{tagName:i,attributes:a,content:s,eventListeners:d}}};function Ih(e,t){class n extends hw{constructor(i,s){super(i,s),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const py=Ih("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),my=Ih("text"),gY=Ih("nl"),Gc=Ih("url",{isLink:!0,toHref(e=Vl.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Gl&&e[1].t===Os}}),Hr=e=>new Cr(e);function bY({groups:e}){const t=e.domain.concat([Cf,Nf,vs,vf,wf,If,kf,Of,Ur,B1,gl,Df,Rf,Lf,Ai,Mf,Tl,Pf]),n=[Sf,Os,F1,xi,H1,gl,bl,U1,z1,pf,mf,pl,ml,df,cf,ff,hf,gf,bf,Tf,Ef,yf,_f,xf,Af],r=[Cf,Sf,Nf,vf,wf,If,kf,Of,Ur,pl,ml,gl,Df,Rf,Lf,bl,Ai,Mf,Tl,Pf],i=Hr(),s=xe(i,Tl);ft(s,r,s),ft(s,e.domain,s);const a=Hr(),o=Hr(),u=Hr();ft(i,e.domain,a),ft(i,e.scheme,o),ft(i,e.slashscheme,u),ft(a,r,s),ft(a,e.domain,a);const c=xe(a,vs);xe(s,vs,c),xe(o,vs,c),xe(u,vs,c);const l=xe(s,xi);ft(l,r,s),ft(l,e.domain,s);const d=Hr();ft(c,e.domain,d),ft(d,e.domain,d);const h=xe(d,xi);ft(h,e.domain,d);const f=Hr(py);ft(h,e.tld,f),ft(h,e.utld,f),xe(c,Gl,f);const p=xe(d,Ur);xe(p,Ur,p),ft(p,e.domain,d),ft(f,e.domain,d),xe(f,xi,h),xe(f,Ur,p);const x=xe(f,Os);ft(x,e.numeric,py);const _=xe(a,Ur),b=xe(a,xi);xe(_,Ur,_),ft(_,e.domain,a),ft(b,r,s),ft(b,e.domain,a);const T=Hr(Gc);ft(b,e.tld,T),ft(b,e.utld,T),ft(T,e.domain,a),ft(T,r,s),xe(T,xi,b),xe(T,Ur,_),xe(T,vs,c);const N=xe(T,Os),g=Hr(Gc);ft(N,e.numeric,g);const y=Hr(Gc),E=Hr();ft(y,t,y),ft(y,n,E),ft(E,t,y),ft(E,n,E),xe(T,Ai,y),xe(g,Ai,y);const I=xe(o,Os),R=xe(u,Os),L=xe(R,Ai),S=xe(L,Ai);ft(o,e.domain,a),xe(o,xi,b),xe(o,Ur,_),ft(u,e.domain,a),xe(u,xi,b),xe(u,Ur,_),ft(I,e.domain,y),xe(I,Ai,y),xe(I,bl,y),ft(S,e.domain,y),ft(S,t,y),xe(S,Ai,y);const A=[[pl,ml],[cf,df],[ff,hf],[pf,mf],[gf,bf],[Tf,Ef],[yf,_f],[xf,Af]];for(let w=0;w<A.length;w++){const[O,D]=A[w],B=xe(y,O);xe(E,O,B),xe(B,D,y);const M=Hr(Gc);ft(B,t,M);const F=Hr();ft(B,n),ft(M,t,M),ft(M,n,F),ft(F,t,M),ft(F,n,F),xe(M,D,y),xe(F,D,y)}return xe(i,Gl,T),xe(i,j1,gY),{start:i,tokens:dw}}function TY(e,t,n){let r=n.length,i=0,s=[],a=[];for(;i<r;){let o=e,u=null,c=null,l=0,d=null,h=-1;for(;i<r&&!(u=o.go(n[i].t));)a.push(n[i++]);for(;i<r&&(c=u||o.go(n[i].t));)u=null,o=c,o.accepts()?(h=0,d=o):h>=0&&h++,i++,l++;if(h<0)i-=l,i<r&&(a.push(n[i]),i++);else{a.length>0&&(s.push(K0(my,t,a)),a=[]),i-=h,l-=h;const f=d.t,p=n.slice(i-l,i);s.push(K0(f,t,p))}}return a.length>0&&s.push(K0(my,t,a)),s}function K0(e,t,n){const r=n[0].s,i=n[n.length-1].e,s=t.slice(r,i);return new e(s,n)}const EY=typeof console!="undefined"&&console&&console.warn||(()=>{}),yY="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",tn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function _Y(){return Cr.groups={},tn.scanner=null,tn.parser=null,tn.tokenQueue=[],tn.pluginQueue=[],tn.customSchemes=[],tn.initialized=!1,tn}function gy(e,t=!1){if(tn.initialized&&EY(`linkifyjs: already initialized - will not register custom scheme "${e}" ${yY}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);tn.customSchemes.push([e,t])}function xY(){tn.scanner=pY(tn.customSchemes);for(let e=0;e<tn.tokenQueue.length;e++)tn.tokenQueue[e][1]({scanner:tn.scanner});tn.parser=bY(tn.scanner.tokens);for(let e=0;e<tn.pluginQueue.length;e++)tn.pluginQueue[e][1]({scanner:tn.scanner,parser:tn.parser});return tn.initialized=!0,tn}function G1(e){return tn.initialized||xY(),TY(tn.parser.start,e,fw(tn.scanner.start,e))}G1.scan=fw;function pw(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new q1(n),i=G1(e),s=[];for(let a=0;a<i.length;a++){const o=i[a];o.isLink&&(!t||o.t===t)&&r.check(o)&&s.push(o.toFormattedObject(r))}return s}var V1="[\0- Â áá â-\u2029âã]",AY=new RegExp(V1),CY=new RegExp(`${V1}$`),SY=new RegExp(V1,"g");function NY(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function vY(e){return new Gt({key:new nn("autolink"),appendTransaction:(t,n,r)=>{const i=t.some(c=>c.docChanged)&&!n.doc.eq(r.doc),s=t.some(c=>c.getMeta("preventAutolink"));if(!i||s)return;const{tr:a}=r,o=WN(n.doc,[...t]);if(tv(o).forEach(({newRange:c})=>{const l=jq(r.doc,c,f=>f.isTextblock);let d,h;if(l.length>1)d=l[0],h=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(l.length){const f=r.doc.textBetween(c.from,c.to," "," ");if(!CY.test(f))return;d=l[0],h=r.doc.textBetween(d.pos,c.to,void 0," ")}if(d&&h){const f=h.split(AY).filter(Boolean);if(f.length<=0)return!1;const p=f[f.length-1],x=d.pos+h.lastIndexOf(p);if(!p)return!1;const _=G1(p).map(b=>b.toObject(e.defaultProtocol));if(!NY(_))return!1;_.filter(b=>b.isLink).map(b=>oe(U({},b),{from:x+b.start+1,to:x+b.end+1})).filter(b=>r.schema.marks.code?!r.doc.rangeHasMark(b.from,b.to,r.schema.marks.code):!0).filter(b=>e.validate(b.value)).filter(b=>e.shouldAutoLink(b.value)).forEach(b=>{A1(b.from,b.to,r.doc).some(T=>T.mark.type===e.type)||a.addMark(b.from,b.to,e.type.create({href:b.href}))})}}),!!a.steps.length)return a}})}function wY(e){return new Gt({key:new nn("handleClickLink"),props:{handleClick:(t,n,r)=>{var i,s;if(r.button!==0||!t.editable)return!1;let a=!1;if(e.enableClickSelection&&(a=e.editor.commands.extendMarkRange(e.type.name)),e.openOnClick){let o=null;if(r.target instanceof HTMLAnchorElement)o=r.target;else{let d=r.target;const h=[];for(;d.nodeName!=="DIV";)h.push(d),d=d.parentNode;o=h.find(f=>f.nodeName==="A")}if(!o)return a;const u=ev(t.state,e.type.name),c=(i=o==null?void 0:o.href)!=null?i:u.href,l=(s=o==null?void 0:o.target)!=null?s:u.target;o&&c&&(window.open(c,l),a=!0)}return a}}})}function IY(e){return new Gt({key:new nn("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:i}=e,{state:s}=t,{selection:a}=s,{empty:o}=a;if(o)return!1;let u="";r.content.forEach(l=>{u+=l.textContent});const c=pw(u,{defaultProtocol:e.defaultProtocol}).find(l=>l.isLink&&l.value===u);return!u||!c||i!==void 0&&!i(c.value)?!1:e.editor.commands.setMark(e.type,{href:c.href})}}})}function ua(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!e||e.replace(SY,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var mw=Za.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){gy(e);return}gy(e.scheme,e.optionalSlashes)})},onDestroy(){_Y()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!ua(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>{const t=/^[a-z][a-z0-9+.-]*:\/\//i.test(e),n=/^[a-z][a-z0-9+.-]*:/i.test(e);if(t||n&&!e.includes("@"))return!0;const i=(e.includes("@")?e.split("@").pop():e).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(i)||!/\./.test(i))}}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!ua(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!ua(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Qt(this.options.HTMLAttributes,e),0]:["a",Qt(this.options.HTMLAttributes,oe(U({},e),{href:""})),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=((n=e.attrs)==null?void 0:n.href)||"";return`[${t.renderChildren(e)}](${r})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!ua(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!ua(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[$a({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,i=pw(e).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!ua(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&t.push({text:s.value,data:{href:s.href},index:s.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(vY({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!ua(i,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),e.push(wY({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(IY({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),kY=mw,OY=Object.defineProperty,DY=(e,t)=>{for(var n in t)OY(e,n,{get:t[n],enumerable:!0})},RY="listItem",by="textStyle",Ty=/^\s*([-+*])\s$/,$1=An.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",Qt(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(RY,this.editor.getAttributes(by)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Vu({find:Ty,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Vu({find:Ty,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(by),editor:this.editor})),[e]}}),W1=An.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",Qt(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let n=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(i=>i.type==="paragraph"))n=t.parseChildren(e.tokens);else{const i=e.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(i.tokens)}],e.tokens.length>1){const a=e.tokens.slice(1),o=t.parseChildren(a);n.push(...o)}}else n=t.parseChildren(e.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>v1(e,t,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),LY={};DY(LY,{findListItemPos:()=>fc,getNextListDepth:()=>Y1,handleBackspace:()=>Um,handleDelete:()=>zm,hasListBefore:()=>gw,hasListItemAfter:()=>PY,hasListItemBefore:()=>bw,listItemHasSubList:()=>Tw,nextListIsDeeper:()=>Ew,nextListIsHigher:()=>yw});var fc=(e,t)=>{const{$from:n}=t.selection,r=xn(e,t.schema);let i=null,s=n.depth,a=n.pos,o=null;for(;s>0&&o===null;)i=n.node(s),i.type===r?o=s:(s-=1,a-=1);return o===null?null:{$pos:t.doc.resolve(a),depth:o}},Y1=(e,t)=>{const n=fc(e,t);if(!n)return!1;const[,r]=$q(t,e,n.$pos.pos+4);return r},gw=(e,t,n)=>{const{$anchor:r}=e.selection,i=Math.max(0,r.pos-2),s=e.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},bw=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==e)},Tw=(e,t,n)=>{if(!n)return!1;const r=xn(e,t.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},Um=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!Vs(e.state,t)&&gw(e.state,t,n)){const{$anchor:o}=e.state.selection,u=e.state.doc.resolve(o.before()-1),c=[];u.node().descendants((h,f)=>{h.type.name===t&&c.push({node:h,pos:f})});const l=c.at(-1);if(!l)return!1;const d=e.state.doc.resolve(u.start()+l.pos+1);return e.chain().cut({from:o.start()-1,to:o.end()+1},d.end()).joinForward().run()}if(!Vs(e.state,t)||!Qq(e.state))return!1;const r=fc(t,e.state);if(!r)return!1;const s=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=Tw(t,e.state,s);return bw(t,e.state)&&!a?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},Ew=(e,t)=>{const n=Y1(e,t),r=fc(e,t);return!r||!n?!1:n>r.depth},yw=(e,t)=>{const n=Y1(e,t),r=fc(e,t);return!r||!n?!1:n<r.depth},zm=(e,t)=>{if(!Vs(e.state,t)||!Kq(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:Ew(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():yw(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},PY=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==e)},_w=Jt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&zm(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&zm(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&Um(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&Um(e,n,r)&&(t=!0)}),t}}}}),Ey=/^(\s*)(\d+)\.\s+(.*)$/,MY=/^\s/;function BY(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n],s=i.match(Ey);if(!s)break;const[,a,o,u]=s,c=a.length;let l=u,d=n+1;const h=[i];for(;d<e.length;){const f=e[d];if(f.match(Ey))break;if(f.trim()==="")h.push(f),l+=`
`,d+=1;else if(f.match(MY))h.push(f),l+=`
${f.slice(c+2)}`,d+=1;else break}t.push({indent:c,number:parseInt(o,10),content:l.trim(),raw:h.join(`
`)}),r=d,n=d}return[t,r]}function xw(e,t,n){var r;const i=[];let s=0;for(;s<e.length;){const a=e[s];if(a.indent===t){const o=a.content.split(`
`),u=((r=o[0])==null?void 0:r.trim())||"",c=[];u&&c.push({type:"paragraph",raw:u,tokens:n.inlineTokens(u)});const l=o.slice(1).join(`
`).trim();if(l){const f=n.blockTokens(l);c.push(...f)}let d=s+1;const h=[];for(;d<e.length&&e[d].indent>t;)h.push(e[d]),d+=1;if(h.length>0){const f=Math.min(...h.map(x=>x.indent)),p=xw(h,f,n);c.push({type:"list",ordered:!0,start:h[0].number,items:p,raw:h.map(x=>x.raw).join(`
`)})}i.push({type:"list_item",raw:a.raw,tokens:c}),s=d}else s+=1}return i}function jY(e,t){return e.map(n=>{if(n.type!=="list_item")return t.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...t.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=t.parseChildren([i]);r.push({type:"paragraph",content:s})}else{const s=t.parseChildren([i]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var FY="listItem",yy="textStyle",_y=/^(\d+)\.\s$/,K1=An.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const r=e,{start:t}=r,n=ir(r,["start"]);return t===1?["ol",Qt(this.options.HTMLAttributes,n),0]:["ol",Qt(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const n=e.start||1,r=e.items?jY(e.items,t):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=t==null?void 0:t.index;return n!==void 0?n:-1},tokenize:(e,t,n)=>{var r;const i=e.split(`
`),[s,a]=BY(i);if(s.length===0)return;const o=xw(s,0,n);return o.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:o,raw:i.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(FY,this.editor.getAttributes(yy)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Vu({find:_y,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Vu({find:_y,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>U({start:+t[1]},this.editor.getAttributes(yy)),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),HY=/^\s*(\[([( |x])?\])\s$/,UY=An.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",Qt(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const r=t.parseChildren(e.nestedTokens);n.push(...r)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;const i=`- [${(n=e.attrs)!=null&&n.checked?"x":" "}] `;return v1(e,t,i)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?oe(U({},e),{Tab:()=>this.editor.commands.sinkListItem(this.name)}):e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),o=document.createElement("input"),u=document.createElement("div"),c=d=>{var h,f;o.ariaLabel=((f=(h=this.options.a11y)==null?void 0:h.checkboxLabel)==null?void 0:f.call(h,d,o.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};c(e),s.contentEditable="false",o.type="checkbox",o.addEventListener("mousedown",d=>d.preventDefault()),o.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){o.checked=!o.checked;return}const{checked:h}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const p=n();if(typeof p!="number")return!1;const x=f.doc.nodeAt(p);return f.setNodeMarkup(p,void 0,oe(U({},x==null?void 0:x.attrs),{checked:h})),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,h)||(o.checked=!o.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,h])=>{i.setAttribute(d,h)}),i.dataset.checked=e.attrs.checked,o.checked=e.attrs.checked,s.append(o,a),i.append(s,u),Object.entries(t).forEach(([d,h])=>{i.setAttribute(d,h)});let l=new Set(Object.keys(t));return{dom:i,contentDOM:u,update:d=>{if(d.type!==this.type)return!1;i.dataset.checked=d.attrs.checked,o.checked=d.attrs.checked,c(d);const h=r.extensionManager.attributes,f=Ul(d,h),p=new Set(Object.keys(f)),x=this.options.HTMLAttributes;return l.forEach(_=>{p.has(_)||(_ in x?i.setAttribute(_,x[_]):i.removeAttribute(_))}),Object.entries(f).forEach(([_,b])=>{b==null?_ in x?i.setAttribute(_,x[_]):i.removeAttribute(_):i.setAttribute(_,b)}),l=p,!0}}}},addInputRules(){return[Vu({find:HY,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),zY=An.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",Qt(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return n!==void 0?n:-1},tokenize(e,t,n){const r=s=>{const a=Cm(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,u)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:u}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(s)},i=Cm(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,a)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:a}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Jt.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push($1.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(W1.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(_w.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(K1.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(UY.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(zY.configure(this.options.taskList)),e}});var qY=An.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",Qt(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];return n.length===1&&n[0].type==="image"?t.parseChildren([n[0]]):t.createNode("paragraph",void 0,t.parseInline(n))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),GY=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,VY=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,$Y=Za.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",Qt(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Gu({find:GY,type:this.type})]},addPasteRules(){return[$a({find:VY,type:this.type})]}}),WY=An.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),Aw=Za.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",Qt(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Cw=Aw;function YY(e={}){return new Gt({view(t){return new KY(t,e)}})}class KY{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return t.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,o=s.height/i.offsetHeight;if(n){let d=t.nodeBefore,h=t.nodeAfter;if(d||h){let f=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(f){let p=f.getBoundingClientRect(),x=d?p.bottom:p.top;d&&h&&(x=(x+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let _=this.width/2*o;r={left:p.left,right:p.right,top:x-_,bottom:x+_}}}}if(!r){let d=this.editorView.coordsAtPos(this.cursorPos),h=this.width/2*a;r={left:d.left-h,right:d.left+h,top:d.top,bottom:d.bottom}}let u=this.editorView.dom.offsetParent;this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,l;if(!u||u==document.body&&getComputedStyle(u).position=="static")c=-pageXOffset,l=-pageYOffset;else{let d=u.getBoundingClientRect(),h=d.width/u.offsetWidth,f=d.height/u.offsetHeight;c=d.left-u.scrollLeft*h,l=d.top-u.scrollTop*f}this.element.style.left=(r.left-c)/a+"px",this.element.style.top=(r.top-l)/o+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/o+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let o=HS(this.editorView.state.doc,a,this.editorView.dragging.slice);o!=null&&(a=o)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class cn extends Qe{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return cn.valid(r)?new cn(r):Qe.near(r)}content(){return we.empty}eq(t){return t instanceof cn&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new cn(t.resolve(n.pos))}getBookmark(){return new Q1(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!QY(t)||!XY(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&cn.valid(t))return t;let i=t.pos,s=null;for(let a=t.depth;;a--){let o=t.node(a);if(n>0?t.indexAfter(a)<o.childCount:t.index(a)>0){s=o.child(n>0?t.indexAfter(a):t.index(a)-1);break}else if(a==0)return null;i+=n;let u=t.doc.resolve(i);if(cn.valid(u))return u}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!ze.isSelectable(s)){t=t.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=a,i+=n;let o=t.doc.resolve(i);if(cn.valid(o))return o}return null}}}cn.prototype.visible=!1;cn.findFrom=cn.findGapCursorFrom;Qe.jsonID("gapcursor",cn);class Q1{constructor(t){this.pos=t}map(t){return new Q1(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return cn.valid(n)?new cn(n):Qe.near(n)}}function Sw(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function QY(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||Sw(i.type))return!0;if(i.inlineContent)return!1}}return!0}function XY(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||Sw(i.type))return!0;if(i.inlineContent)return!1}}return!0}function JY(){return new Gt({props:{decorations:nK,createSelectionBetween(e,t,n){return t.pos==n.pos&&cn.valid(n)?new cn(n):null},handleClick:eK,handleKeyDown:ZY,handleDOMEvents:{beforeinput:tK}}})}const ZY=m1({ArrowLeft:Vc("horiz",-1),ArrowRight:Vc("horiz",1),ArrowUp:Vc("vert",-1),ArrowDown:Vc("vert",1)});function Vc(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,s){let a=r.selection,o=t>0?a.$to:a.$from,u=a.empty;if(a instanceof Ve){if(!s.endOfTextblock(n)||o.depth==0)return!1;u=!1,o=r.doc.resolve(t>0?o.after():o.before())}let c=cn.findGapCursorFrom(o,t,u);return c?(i&&i(r.tr.setSelection(new cn(c))),!0):!1}}function eK(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!cn.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&ze.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new cn(r))),!0)}function tK(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof cn))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=he.empty;for(let a=r.length-1;a>=0;a--)i=he.from(r[a].createAndFill(null,i));let s=e.state.tr.replace(n.pos,n.pos,new we(i,0,0));return s.setSelection(Ve.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function nK(e){if(!(e.selection instanceof cn))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",$t.create(e.doc,[Sn.widget(e.selection.head,t,{key:"gapcursor"})])}var Bf=200,Rn=function(){};Rn.prototype.append=function(t){return t.length?(t=Rn.from(t),!this.length&&t||t.length<Bf&&this.leafAppend(t)||this.length<Bf&&t.leafPrepend(this)||this.appendInner(t)):this};Rn.prototype.prepend=function(t){return t.length?Rn.from(t).append(this):this};Rn.prototype.appendInner=function(t){return new rK(this,t)};Rn.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Rn.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Rn.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Rn.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};Rn.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(t(s,a))},n,r),i};Rn.from=function(t){return t instanceof Rn?t:t&&t.length?new Nw(t):Rn.empty};var Nw=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new t(this.values.slice(i,s))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,s,a,o){for(var u=s;u<a;u++)if(i(this.values[u],o+u)===!1)return!1},t.prototype.forEachInvertedInner=function(i,s,a,o){for(var u=s-1;u>=a;u--)if(i(this.values[u],o+u)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=Bf)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=Bf)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(Rn);Rn.empty=new Nw([]);var rK=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,s,a){var o=this.left.length;if(i<o&&this.left.forEachInner(r,i,Math.min(s,o),a)===!1||s>o&&this.right.forEachInner(r,Math.max(i-o,0),Math.min(this.length,s)-o,a+o)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,s,a){var o=this.left.length;if(i>o&&this.right.forEachInvertedInner(r,i-o,Math.max(s,o)-o,a+o)===!1||s<o&&this.left.forEachInvertedInner(r,Math.min(i,o),s,a)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})(Rn);const iK=500;class ui{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=t.tr,o,u,c=[],l=[];return this.items.forEach((d,h)=>{if(!d.step){i||(i=this.remapping(r,h+1),s=i.maps.length),s--,l.push(d);return}if(i){l.push(new Ci(d.map));let f=d.step.map(i.slice(s)),p;f&&a.maybeStep(f).doc&&(p=a.mapping.maps[a.mapping.maps.length-1],c.push(new Ci(p,void 0,void 0,c.length+l.length))),s--,p&&i.appendMap(p,s)}else a.maybeStep(d.step);if(d.selection)return o=i?d.selection.map(i.slice(s)):d.selection,u=new ui(this.items.slice(0,r).append(l.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:a,selection:o}}addTransform(t,n,r,i){let s=[],a=this.eventCount,o=this.items,u=!i&&o.length?o.get(o.length-1):null;for(let l=0;l<t.steps.length;l++){let d=t.steps[l].invert(t.docs[l]),h=new Ci(t.mapping.maps[l],d,n),f;(f=u&&u.merge(h))&&(h=f,l?s.pop():o=o.slice(0,o.length-1)),s.push(h),n&&(a++,n=void 0),i||(u=h)}let c=a-r.depth;return c>aK&&(o=sK(o,c),a-=c),new ui(o.append(s),a)}remapping(t,n){let r=new Pl;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},t,n),r}addMaps(t){return this.eventCount==0?this:new ui(this.items.append(t.map(n=>new Ci(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=t.mapping,a=t.steps.length,o=this.eventCount;this.items.forEach(h=>{h.selection&&o--},i);let u=n;this.items.forEach(h=>{let f=s.getMirror(--u);if(f==null)return;a=Math.min(a,f);let p=s.maps[f];if(h.step){let x=t.steps[f].invert(t.docs[f]),_=h.selection&&h.selection.map(s.slice(u+1,f));_&&o++,r.push(new Ci(p,x,_))}else r.push(new Ci(p))},i);let c=[];for(let h=n;h<a;h++)c.push(new Ci(s.maps[h]));let l=this.items.slice(0,i).append(c).append(r),d=new ui(l,o);return d.emptyItemCount()>iK&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],s=0;return this.items.forEach((a,o)=>{if(o>=t)i.push(a),a.selection&&s++;else if(a.step){let u=a.step.map(n.slice(r)),c=u&&u.getMap();if(r--,c&&n.appendMap(c,r),u){let l=a.selection&&a.selection.map(n.slice(r));l&&s++;let d=new Ci(c.invert(),u,l),h,f=i.length-1;(h=i.length&&i[f].merge(d))?i[f]=h:i.push(d)}}else a.map&&r--},this.items.length,0),new ui(Rn.from(i.reverse()),s)}}ui.empty=new ui(Rn.empty,0);function sK(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class Ci{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new Ci(n.getMap().invert(),n,this.selection)}}}class ws{constructor(t,n,r,i,s){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const aK=20;function uK(e,t,n,r){let i=n.getMeta(Ba),s;if(i)return i.historyState;n.getMeta(cK)&&(e=new ws(e.done,e.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(a&&a.getMeta(Ba))return a.getMeta(Ba).redo?new ws(e.done.addTransform(n,void 0,r,bd(t)),e.undone,xy(n.mapping.maps),e.prevTime,e.prevComposition):new ws(e.done,e.undone.addTransform(n,void 0,r,bd(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let o=n.getMeta("composition"),u=e.prevTime==0||!a&&e.prevComposition!=o&&(e.prevTime<(n.time||0)-r.newGroupDelay||!oK(n,e.prevRanges)),c=a?Q0(e.prevRanges,n.mapping):xy(n.mapping.maps);return new ws(e.done.addTransform(n,u?t.selection.getBookmark():void 0,r,bd(t)),ui.empty,c,n.time,o==null?e.prevComposition:o)}else return(s=n.getMeta("rebased"))?new ws(e.done.rebased(n,s),e.undone.rebased(n,s),Q0(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new ws(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Q0(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function oK(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<t.length;s+=2)r<=t[s+1]&&i>=t[s]&&(n=!0)}),n}function xy(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,s,a)=>t.push(s,a));return t}function Q0(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),s=t.map(e[r+1],-1);i<=s&&n.push(i,s)}return n}function lK(e,t,n){let r=bd(t),i=Ba.get(t).spec.config,s=(n?e.undone:e.done).popEvent(t,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),o=(n?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,r),u=new ws(n?o:s.remaining,n?s.remaining:o,null,0,-1);return s.transform.setSelection(a).setMeta(Ba,{redo:n,historyState:u})}let X0=!1,Ay=null;function bd(e){let t=e.plugins;if(Ay!=t){X0=!1,Ay=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){X0=!0;break}}return X0}const Ba=new nn("history"),cK=new nn("closeHistory");function dK(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Gt({key:Ba,state:{init(){return new ws(ui.empty,ui.empty,null,0,-1)},apply(t,n,r){return uK(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?ww:r=="historyRedo"?Iw:null;return!i||!t.editable?!1:(n.preventDefault(),i(t.state,t.dispatch))}}}})}function vw(e,t){return(n,r)=>{let i=Ba.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let s=lK(i,n,e);s&&r(t?s.scrollIntoView():s)}return!0}}const ww=vw(!1,!0),Iw=vw(!0,!0);Jt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc;if(((e==null?void 0:e.mode)||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new Gt({key:new nn("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const i=this.options.limit;if(i==null||i===0){e=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const a=s-i,o=0,u=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(o,u);return e=!0,c}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:t.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!t.getMeta("paste"))return!1;const o=t.selection.$head.pos,u=s-r,c=o-u,l=o;return t.deleteRange(c,l),!(this.storage.characters({node:t.doc})>r)}})]}});var fK=Jt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[YY(this.options)]}});Jt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Gt({key:new nn("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=t,s=[];if(!n||!r)return $t.create(e,[]);let a=0;this.options.mode==="deepest"&&e.descendants((u,c)=>{if(u.isText)return;if(!(i>=c&&i<=c+u.nodeSize-1))return!1;a+=1});let o=0;return e.descendants((u,c)=>{if(u.isText||!(i>=c&&i<=c+u.nodeSize-1))return!1;if(o+=1,this.options.mode==="deepest"&&a-o>0||this.options.mode==="shallowest"&&o>1)return this.options.mode==="deepest";s.push(Sn.node(c,c+u.nodeSize,{class:this.options.className}))}),$t.create(e,s)}}})]}});var hK=Jt.create({name:"gapCursor",addProseMirrorPlugins(){return[JY()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Bt(Fe(e,"allowGapCursor",n)))!=null?t:null}}});Jt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something â¦",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Gt({key:new nn("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;const s=this.editor.isEmpty;return e.descendants((a,o)=>{const u=r>=o&&r<=o+a.nodeSize,c=!a.isLeaf&&_h(a);if((u||!this.options.showOnlyCurrent)&&c){const l=[this.options.emptyNodeClass];s&&l.push(this.options.emptyEditorClass);const d=Sn.node(o,o+a.nodeSize,{class:l.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:o,hasAnchor:u}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),$t.create(e,i)}}})]}});Jt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new Gt({key:new nn("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||nv(n.selection)||e.view.dragging?null:$t.create(n.doc,[Sn.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function Cy({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(t==null?void 0:t.type)===e}var pK=Jt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new nn(this.name),n=this.options.node||((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new Gt({key:t,appendTransaction:(i,s,a)=>{const{doc:o,tr:u,schema:c}=a,l=t.getState(a),d=o.content.size,h=c.nodes[n];if(l)return u.insert(d,h.create())},state:{init:(i,s)=>{const a=s.tr.doc.lastChild;return!Cy({node:a,types:r})},apply:(i,s)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return s;const a=i.doc.lastChild;return!Cy({node:a,types:r})}}})]}}),mK=Jt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>ww(e,t),redo:()=>({state:e,dispatch:t})=>Iw(e,t)}},addProseMirrorPlugins(){return[dK(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Ñ":()=>this.editor.commands.undo(),"Shift-Mod-Ñ":()=>this.editor.commands.redo()}}}),gK=Jt.create({name:"starterKit",addExtensions(){var e,t,n,r;const i=[];return this.options.bold!==!1&&i.push(VW.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(HW.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push($1.configure(this.options.bulletList)),this.options.code!==!1&&i.push(YW.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(XW.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(JW.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(fK.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(hK.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(ZW.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(sw.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(mK.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(eY.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(sY.configure(this.options.italic)),this.options.listItem!==!1&&i.push(W1.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(_w.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&i.push(mw.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&i.push(K1.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(qY.configure(this.options.paragraph)),this.options.strike!==!1&&i.push($Y.configure(this.options.strike)),this.options.text!==!1&&i.push(WY.configure(this.options.text)),this.options.underline!==!1&&i.push(Aw.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(pK.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),X1=gK,bK=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,TK=An.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",Qt(this.options.HTMLAttributes,e)]},parseMarkdown:(e,t)=>t.createNode("image",{src:e.href,title:e.title,alt:e.text}),renderMarkdown:e=>{var t,n,r,i,s,a;const o=(n=(t=e.attrs)==null?void 0:t.src)!=null?n:"",u=(i=(r=e.attrs)==null?void 0:r.alt)!=null?i:"",c=(a=(s=e.attrs)==null?void 0:s.title)!=null?a:"";return c?`![${u}](${o} "${c}")`:`![${u}](${o})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document=="undefined")return null;const{directions:e,minWidth:t,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:i,getPos:s,HTMLAttributes:a,editor:o})=>{const u=document.createElement("img");Object.entries(a).forEach(([d,h])=>{if(h!=null)switch(d){case"width":case"height":break;default:u.setAttribute(d,h);break}}),u.src=a.src;const c=new MG({element:u,editor:o,node:i,getPos:s,onResize:(d,h)=>{u.style.width=`${d}px`,u.style.height=`${h}px`},onCommit:(d,h)=>{const f=s();f!==void 0&&this.editor.chain().setNodeSelection(f).updateAttributes(this.name,{width:d,height:h}).run()},onUpdate:(d,h,f)=>d.type===i.type,options:{directions:e,min:{width:t,height:n},preserveAspectRatio:r===!0}}),l=c.dom;return l.style.visibility="hidden",l.style.pointerEvents="none",u.onload=()=>{l.style.visibility="",l.style.pointerEvents=""},c}},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[yv({find:bK,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),kw=TK,EK=Jt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).some(n=>n):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).some(t=>t),toggleTextAlign:e=>({editor:t,commands:n})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Ow=EK;/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:Dw,setPrototypeOf:Sy,isFrozen:yK,getPrototypeOf:_K,getOwnPropertyDescriptor:xK}=Object;let{freeze:pr,seal:Qr,create:qm}=Object,{apply:Gm,construct:Vm}=typeof Reflect!="undefined"&&Reflect;pr||(pr=function(t){return t});Qr||(Qr=function(t){return t});Gm||(Gm=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return t.apply(n,i)});Vm||(Vm=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new t(...r)});const $c=mr(Array.prototype.forEach),AK=mr(Array.prototype.lastIndexOf),Ny=mr(Array.prototype.pop),xo=mr(Array.prototype.push),CK=mr(Array.prototype.splice),Td=mr(String.prototype.toLowerCase),J0=mr(String.prototype.toString),Z0=mr(String.prototype.match),Ao=mr(String.prototype.replace),SK=mr(String.prototype.indexOf),NK=mr(String.prototype.trim),si=mr(Object.prototype.hasOwnProperty),sr=mr(RegExp.prototype.test),Co=vK(TypeError);function mr(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Gm(e,t,r)}}function vK(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vm(e,n)}}function pt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Td;Sy&&Sy(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const s=n(i);s!==i&&(yK(t)||(t[r]=s),i=s)}e[i]=!0}return e}function wK(e){for(let t=0;t<e.length;t++)si(e,t)||(e[t]=null);return e}function Ei(e){const t=qm(null);for(const[n,r]of Dw(e))si(e,n)&&(Array.isArray(r)?t[n]=wK(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=Ei(r):t[n]=r);return t}function So(e,t){for(;e!==null;){const r=xK(e,t);if(r){if(r.get)return mr(r.get);if(typeof r.value=="function")return mr(r.value)}e=_K(e)}function n(){return null}return n}const vy=pr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ep=pr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),tp=pr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),IK=pr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),np=pr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),kK=pr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wy=pr(["#text"]),Iy=pr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),rp=pr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ky=pr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Wc=pr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),OK=Qr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),DK=Qr(/<%[\w\W]*|[\w\W]*%>/gm),RK=Qr(/\$\{[\w\W]*/gm),LK=Qr(/^data-[\-\w.\u00B7-\uFFFF]+$/),PK=Qr(/^aria-[\-\w]+$/),Rw=Qr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),MK=Qr(/^(?:\w+script|data):/i),BK=Qr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Lw=Qr(/^html$/i),jK=Qr(/^[a-z][.\w]*(-[.\w]+)+$/i);var Oy=Object.freeze({__proto__:null,ARIA_ATTR:PK,ATTR_WHITESPACE:BK,CUSTOM_ELEMENT:jK,DATA_ATTR:LK,DOCTYPE_NAME:Lw,ERB_EXPR:DK,IS_ALLOWED_URI:Rw,IS_SCRIPT_OR_DATA:MK,MUSTACHE_EXPR:OK,TMPLIT_EXPR:RK});const No={element:1,text:3,progressingInstruction:7,comment:8,document:9},FK=function(){return typeof window=="undefined"?null:window},HK=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return t.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch(a){return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Dy=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Pw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:FK();const t=Ne=>Pw(Ne);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==No.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:u,NodeFilter:c,NamedNodeMap:l=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:h,trustedTypes:f}=e,p=u.prototype,x=So(p,"cloneNode"),_=So(p,"remove"),b=So(p,"nextSibling"),T=So(p,"childNodes"),N=So(p,"parentNode");if(typeof a=="function"){const Ne=n.createElement("template");Ne.content&&Ne.content.ownerDocument&&(n=Ne.content.ownerDocument)}let g,y="";const{implementation:E,createNodeIterator:I,createDocumentFragment:R,getElementsByTagName:L}=n,{importNode:S}=r;let A=Dy();t.isSupported=typeof Dw=="function"&&typeof N=="function"&&E&&E.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:w,ERB_EXPR:O,TMPLIT_EXPR:D,DATA_ATTR:B,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:F,ATTR_WHITESPACE:G,CUSTOM_ELEMENT:$}=Oy;let{IS_ALLOWED_URI:P}=Oy,j=null;const W=pt({},[...vy,...ep,...tp,...np,...wy]);let H=null;const Z=pt({},[...Iy,...rp,...ky,...Wc]);let ee=Object.seal(qm(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ae=null,_e=null;const ge=Object.seal(qm(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let je=!0,Se=!0,Ie=!1,qe=!0,te=!1,$e=!0,st=!1,Rt=!1,yt=!1,xt=!1,zt=!1,Re=!1,Nt=!0,At=!1;const nt="user-content-";let Et=!0,ht=!1,ie={},ce=null;const X=pt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let me=null;const re=pt({},["audio","video","img","source","image","track"]);let lt=null;const Ht=pt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),be="http://www.w3.org/1998/Math/MathML",Be="http://www.w3.org/2000/svg",Ke="http://www.w3.org/1999/xhtml";let at=Ke,Zt=!1,Je=null;const er=pt({},[be,Be,Ke],J0);let Un=pt({},["mi","mo","mn","ms","mtext"]),zn=pt({},["annotation-xml"]);const tr=pt({},["title","style","font","a","script"]);let Nn=null;const qn=["application/xhtml+xml","text/html"],Fr="text/html";let rt=null,nr=null;const zi=n.createElement("form"),Ce=function(K){return K instanceof RegExp||K instanceof Function},Me=function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(nr&&nr===K)){if((!K||typeof K!="object")&&(K={}),K=Ei(K),Nn=qn.indexOf(K.PARSER_MEDIA_TYPE)===-1?Fr:K.PARSER_MEDIA_TYPE,rt=Nn==="application/xhtml+xml"?J0:Td,j=si(K,"ALLOWED_TAGS")?pt({},K.ALLOWED_TAGS,rt):W,H=si(K,"ALLOWED_ATTR")?pt({},K.ALLOWED_ATTR,rt):Z,Je=si(K,"ALLOWED_NAMESPACES")?pt({},K.ALLOWED_NAMESPACES,J0):er,lt=si(K,"ADD_URI_SAFE_ATTR")?pt(Ei(Ht),K.ADD_URI_SAFE_ATTR,rt):Ht,me=si(K,"ADD_DATA_URI_TAGS")?pt(Ei(re),K.ADD_DATA_URI_TAGS,rt):re,ce=si(K,"FORBID_CONTENTS")?pt({},K.FORBID_CONTENTS,rt):X,ae=si(K,"FORBID_TAGS")?pt({},K.FORBID_TAGS,rt):Ei({}),_e=si(K,"FORBID_ATTR")?pt({},K.FORBID_ATTR,rt):Ei({}),ie=si(K,"USE_PROFILES")?K.USE_PROFILES:!1,je=K.ALLOW_ARIA_ATTR!==!1,Se=K.ALLOW_DATA_ATTR!==!1,Ie=K.ALLOW_UNKNOWN_PROTOCOLS||!1,qe=K.ALLOW_SELF_CLOSE_IN_ATTR!==!1,te=K.SAFE_FOR_TEMPLATES||!1,$e=K.SAFE_FOR_XML!==!1,st=K.WHOLE_DOCUMENT||!1,xt=K.RETURN_DOM||!1,zt=K.RETURN_DOM_FRAGMENT||!1,Re=K.RETURN_TRUSTED_TYPE||!1,yt=K.FORCE_BODY||!1,Nt=K.SANITIZE_DOM!==!1,At=K.SANITIZE_NAMED_PROPS||!1,Et=K.KEEP_CONTENT!==!1,ht=K.IN_PLACE||!1,P=K.ALLOWED_URI_REGEXP||Rw,at=K.NAMESPACE||Ke,Un=K.MATHML_TEXT_INTEGRATION_POINTS||Un,zn=K.HTML_INTEGRATION_POINTS||zn,ee=K.CUSTOM_ELEMENT_HANDLING||{},K.CUSTOM_ELEMENT_HANDLING&&Ce(K.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ee.tagNameCheck=K.CUSTOM_ELEMENT_HANDLING.tagNameCheck),K.CUSTOM_ELEMENT_HANDLING&&Ce(K.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ee.attributeNameCheck=K.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),K.CUSTOM_ELEMENT_HANDLING&&typeof K.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ee.allowCustomizedBuiltInElements=K.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),te&&(Se=!1),zt&&(xt=!0),ie&&(j=pt({},wy),H=[],ie.html===!0&&(pt(j,vy),pt(H,Iy)),ie.svg===!0&&(pt(j,ep),pt(H,rp),pt(H,Wc)),ie.svgFilters===!0&&(pt(j,tp),pt(H,rp),pt(H,Wc)),ie.mathMl===!0&&(pt(j,np),pt(H,ky),pt(H,Wc))),K.ADD_TAGS&&(typeof K.ADD_TAGS=="function"?ge.tagCheck=K.ADD_TAGS:(j===W&&(j=Ei(j)),pt(j,K.ADD_TAGS,rt))),K.ADD_ATTR&&(typeof K.ADD_ATTR=="function"?ge.attributeCheck=K.ADD_ATTR:(H===Z&&(H=Ei(H)),pt(H,K.ADD_ATTR,rt))),K.ADD_URI_SAFE_ATTR&&pt(lt,K.ADD_URI_SAFE_ATTR,rt),K.FORBID_CONTENTS&&(ce===X&&(ce=Ei(ce)),pt(ce,K.FORBID_CONTENTS,rt)),K.ADD_FORBID_CONTENTS&&(ce===X&&(ce=Ei(ce)),pt(ce,K.ADD_FORBID_CONTENTS,rt)),Et&&(j["#text"]=!0),st&&pt(j,["html","head","body"]),j.table&&(pt(j,["tbody"]),delete ae.tbody),K.TRUSTED_TYPES_POLICY){if(typeof K.TRUSTED_TYPES_POLICY.createHTML!="function")throw Co('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof K.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Co('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');g=K.TRUSTED_TYPES_POLICY,y=g.createHTML("")}else g===void 0&&(g=HK(f,i)),g!==null&&typeof y=="string"&&(y=g.createHTML(""));pr&&pr(K),nr=K}},it=pt({},[...ep,...tp,...IK]),ct=pt({},[...np,...kK]),Lt=function(K){let Ee=N(K);(!Ee||!Ee.tagName)&&(Ee={namespaceURI:at,tagName:"template"});const Le=Td(K.tagName),vt=Td(Ee.tagName);return Je[K.namespaceURI]?K.namespaceURI===Be?Ee.namespaceURI===Ke?Le==="svg":Ee.namespaceURI===be?Le==="svg"&&(vt==="annotation-xml"||Un[vt]):!!it[Le]:K.namespaceURI===be?Ee.namespaceURI===Ke?Le==="math":Ee.namespaceURI===Be?Le==="math"&&zn[vt]:!!ct[Le]:K.namespaceURI===Ke?Ee.namespaceURI===Be&&!zn[vt]||Ee.namespaceURI===be&&!Un[vt]?!1:!ct[Le]&&(tr[Le]||!it[Le]):!!(Nn==="application/xhtml+xml"&&Je[K.namespaceURI]):!1},rn=function(K){xo(t.removed,{element:K});try{N(K).removeChild(K)}catch(Ee){_(K)}},an=function(K,Ee){try{xo(t.removed,{attribute:Ee.getAttributeNode(K),from:Ee})}catch(Le){xo(t.removed,{attribute:null,from:Ee})}if(Ee.removeAttribute(K),K==="is")if(xt||zt)try{rn(Ee)}catch(Le){}else try{Ee.setAttribute(K,"")}catch(Le){}},Xr=function(K){let Ee=null,Le=null;if(yt)K="<remove></remove>"+K;else{const Pt=Z0(K,/^[\r\n\t ]+/);Le=Pt&&Pt[0]}Nn==="application/xhtml+xml"&&at===Ke&&(K='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+K+"</body></html>");const vt=g?g.createHTML(K):K;if(at===Ke)try{Ee=new h().parseFromString(vt,Nn)}catch(Pt){}if(!Ee||!Ee.documentElement){Ee=E.createDocument(at,"template",null);try{Ee.documentElement.innerHTML=Zt?y:vt}catch(Pt){}}const Ut=Ee.body||Ee.documentElement;return K&&Le&&Ut.insertBefore(n.createTextNode(Le),Ut.childNodes[0]||null),at===Ke?L.call(Ee,st?"html":"body")[0]:st?Ee.documentElement:Ut},gn=function(K){return I.call(K.ownerDocument||K,K,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},bn=function(K){return K instanceof d&&(typeof K.nodeName!="string"||typeof K.textContent!="string"||typeof K.removeChild!="function"||!(K.attributes instanceof l)||typeof K.removeAttribute!="function"||typeof K.setAttribute!="function"||typeof K.namespaceURI!="string"||typeof K.insertBefore!="function"||typeof K.hasChildNodes!="function")},wr=function(K){return typeof o=="function"&&K instanceof o};function Gn(Ne,K,Ee){$c(Ne,Le=>{Le.call(t,K,Ee,nr)})}const gi=function(K){let Ee=null;if(Gn(A.beforeSanitizeElements,K,null),bn(K))return rn(K),!0;const Le=rt(K.nodeName);if(Gn(A.uponSanitizeElement,K,{tagName:Le,allowedTags:j}),$e&&K.hasChildNodes()&&!wr(K.firstElementChild)&&sr(/<[/\w!]/g,K.innerHTML)&&sr(/<[/\w!]/g,K.textContent)||K.nodeType===No.progressingInstruction||$e&&K.nodeType===No.comment&&sr(/<[/\w]/g,K.data))return rn(K),!0;if(!(ge.tagCheck instanceof Function&&ge.tagCheck(Le))&&(!j[Le]||ae[Le])){if(!ae[Le]&&ke(Le)&&(ee.tagNameCheck instanceof RegExp&&sr(ee.tagNameCheck,Le)||ee.tagNameCheck instanceof Function&&ee.tagNameCheck(Le)))return!1;if(Et&&!ce[Le]){const vt=N(K)||K.parentNode,Ut=T(K)||K.childNodes;if(Ut&&vt){const Pt=Ut.length;for(let un=Pt-1;un>=0;--un){const rr=x(Ut[un],!0);rr.__removalCount=(K.__removalCount||0)+1,vt.insertBefore(rr,b(K))}}}return rn(K),!0}return K instanceof u&&!Lt(K)||(Le==="noscript"||Le==="noembed"||Le==="noframes")&&sr(/<\/no(script|embed|frames)/i,K.innerHTML)?(rn(K),!0):(te&&K.nodeType===No.text&&(Ee=K.textContent,$c([w,O,D],vt=>{Ee=Ao(Ee,vt," ")}),K.textContent!==Ee&&(xo(t.removed,{element:K.cloneNode()}),K.textContent=Ee)),Gn(A.afterSanitizeElements,K,null),!1)},le=function(K,Ee,Le){if(Nt&&(Ee==="id"||Ee==="name")&&(Le in n||Le in zi))return!1;if(!(Se&&!_e[Ee]&&sr(B,Ee))){if(!(je&&sr(M,Ee))){if(!(ge.attributeCheck instanceof Function&&ge.attributeCheck(Ee,K))){if(!H[Ee]||_e[Ee]){if(!(ke(K)&&(ee.tagNameCheck instanceof RegExp&&sr(ee.tagNameCheck,K)||ee.tagNameCheck instanceof Function&&ee.tagNameCheck(K))&&(ee.attributeNameCheck instanceof RegExp&&sr(ee.attributeNameCheck,Ee)||ee.attributeNameCheck instanceof Function&&ee.attributeNameCheck(Ee,K))||Ee==="is"&&ee.allowCustomizedBuiltInElements&&(ee.tagNameCheck instanceof RegExp&&sr(ee.tagNameCheck,Le)||ee.tagNameCheck instanceof Function&&ee.tagNameCheck(Le))))return!1}else if(!lt[Ee]){if(!sr(P,Ao(Le,G,""))){if(!((Ee==="src"||Ee==="xlink:href"||Ee==="href")&&K!=="script"&&SK(Le,"data:")===0&&me[K])){if(!(Ie&&!sr(F,Ao(Le,G,"")))){if(Le)return!1}}}}}}}return!0},ke=function(K){return K!=="annotation-xml"&&Z0(K,$)},Ze=function(K){Gn(A.beforeSanitizeAttributes,K,null);const{attributes:Ee}=K;if(!Ee||bn(K))return;const Le={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H,forceKeepAttr:void 0};let vt=Ee.length;for(;vt--;){const Ut=Ee[vt],{name:Pt,namespaceURI:un,value:rr}=Ut,J=rt(Pt),fe=rr;let ve=Pt==="value"?fe:NK(fe);if(Le.attrName=J,Le.attrValue=ve,Le.keepAttr=!0,Le.forceKeepAttr=void 0,Gn(A.uponSanitizeAttribute,K,Le),ve=Le.attrValue,At&&(J==="id"||J==="name")&&(an(Pt,K),ve=nt+ve),$e&&sr(/((--!?|])>)|<\/(style|title|textarea)/i,ve)){an(Pt,K);continue}if(J==="attributename"&&Z0(ve,"href")){an(Pt,K);continue}if(Le.forceKeepAttr)continue;if(!Le.keepAttr){an(Pt,K);continue}if(!qe&&sr(/\/>/i,ve)){an(Pt,K);continue}te&&$c([w,O,D],dt=>{ve=Ao(ve,dt," ")});const Ue=rt(K.nodeName);if(!le(Ue,J,ve)){an(Pt,K);continue}if(g&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!un)switch(f.getAttributeType(Ue,J)){case"TrustedHTML":{ve=g.createHTML(ve);break}case"TrustedScriptURL":{ve=g.createScriptURL(ve);break}}if(ve!==fe)try{un?K.setAttributeNS(un,Pt,ve):K.setAttribute(Pt,ve),bn(K)?rn(K):Ny(t.removed)}catch(dt){an(Pt,K)}}Gn(A.afterSanitizeAttributes,K,null)},et=function Ne(K){let Ee=null;const Le=gn(K);for(Gn(A.beforeSanitizeShadowDOM,K,null);Ee=Le.nextNode();)Gn(A.uponSanitizeShadowNode,Ee,null),gi(Ee),Ze(Ee),Ee.content instanceof s&&Ne(Ee.content);Gn(A.afterSanitizeShadowDOM,K,null)};return t.sanitize=function(Ne){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ee=null,Le=null,vt=null,Ut=null;if(Zt=!Ne,Zt&&(Ne="<!-->"),typeof Ne!="string"&&!wr(Ne))if(typeof Ne.toString=="function"){if(Ne=Ne.toString(),typeof Ne!="string")throw Co("dirty is not a string, aborting")}else throw Co("toString is not a function");if(!t.isSupported)return Ne;if(Rt||Me(K),t.removed=[],typeof Ne=="string"&&(ht=!1),ht){if(Ne.nodeName){const rr=rt(Ne.nodeName);if(!j[rr]||ae[rr])throw Co("root node is forbidden and cannot be sanitized in-place")}}else if(Ne instanceof o)Ee=Xr("<!---->"),Le=Ee.ownerDocument.importNode(Ne,!0),Le.nodeType===No.element&&Le.nodeName==="BODY"||Le.nodeName==="HTML"?Ee=Le:Ee.appendChild(Le);else{if(!xt&&!te&&!st&&Ne.indexOf("<")===-1)return g&&Re?g.createHTML(Ne):Ne;if(Ee=Xr(Ne),!Ee)return xt?null:Re?y:""}Ee&&yt&&rn(Ee.firstChild);const Pt=gn(ht?Ne:Ee);for(;vt=Pt.nextNode();)gi(vt),Ze(vt),vt.content instanceof s&&et(vt.content);if(ht)return Ne;if(xt){if(zt)for(Ut=R.call(Ee.ownerDocument);Ee.firstChild;)Ut.appendChild(Ee.firstChild);else Ut=Ee;return(H.shadowroot||H.shadowrootmode)&&(Ut=S.call(r,Ut,!0)),Ut}let un=st?Ee.outerHTML:Ee.innerHTML;return st&&j["!doctype"]&&Ee.ownerDocument&&Ee.ownerDocument.doctype&&Ee.ownerDocument.doctype.name&&sr(Lw,Ee.ownerDocument.doctype.name)&&(un="<!DOCTYPE "+Ee.ownerDocument.doctype.name+`>
`+un),te&&$c([w,O,D],rr=>{un=Ao(un,rr," ")}),g&&Re?g.createHTML(un):un},t.setConfig=function(){let Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Me(Ne),Rt=!0},t.clearConfig=function(){nr=null,Rt=!1},t.isValidAttribute=function(Ne,K,Ee){nr||Me({});const Le=rt(Ne),vt=rt(K);return le(Le,vt,Ee)},t.addHook=function(Ne,K){typeof K=="function"&&xo(A[Ne],K)},t.removeHook=function(Ne,K){if(K!==void 0){const Ee=AK(A[Ne],K);return Ee===-1?void 0:CK(A[Ne],Ee,1)[0]}return Ny(A[Ne])},t.removeHooks=function(Ne){A[Ne]=[]},t.removeAllHooks=function(){A=Dy()},t}var UK=Pw();function J1(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var tu=J1();function Mw(e){tu=e}var El={exec:()=>null};function Ft(e,t=""){let n=typeof e=="string"?e:e.source;const r={replace:(i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(dr.caret,"$1"),n=n.replace(i,a),r},getRegex:()=>new RegExp(n,t)};return r}var dr={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},zK=/^(?:[ \t]*(?:\n|$))+/,qK=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,GK=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hc=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,VK=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Z1=/(?:[*+-]|\d{1,9}[.)])/,Bw=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,jw=Ft(Bw).replace(/bull/g,Z1).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),$K=Ft(Bw).replace(/bull/g,Z1).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),eb=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,WK=/^[^\n]+/,tb=/(?!\s*\])(?:\\.|[^\[\]\\])+/,YK=Ft(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",tb).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),KK=Ft(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Z1).getRegex(),kh="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",nb=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,QK=Ft("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",nb).replace("tag",kh).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Fw=Ft(eb).replace("hr",hc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",kh).getRegex(),XK=Ft(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Fw).getRegex(),rb={blockquote:XK,code:qK,def:YK,fences:GK,heading:VK,hr:hc,html:QK,lheading:jw,list:KK,newline:zK,paragraph:Fw,table:El,text:WK},Ry=Ft("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",hc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",kh).getRegex(),JK=oe(U({},rb),{lheading:$K,table:Ry,paragraph:Ft(eb).replace("hr",hc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ry).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",kh).getRegex()}),ZK=oe(U({},rb),{html:Ft(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",nb).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:El,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ft(eb).replace("hr",hc).replace("heading",` *#{1,6} *[^
]`).replace("lheading",jw).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),eQ=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,tQ=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Hw=/^( {2,}|\\)\n(?!\s*$)/,nQ=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Oh=/[\p{P}\p{S}]/u,ib=/[\s\p{P}\p{S}]/u,Uw=/[^\s\p{P}\p{S}]/u,rQ=Ft(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,ib).getRegex(),zw=/(?!~)[\p{P}\p{S}]/u,iQ=/(?!~)[\s\p{P}\p{S}]/u,sQ=/(?:[^\s\p{P}\p{S}]|~)/u,aQ=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,qw=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,uQ=Ft(qw,"u").replace(/punct/g,Oh).getRegex(),oQ=Ft(qw,"u").replace(/punct/g,zw).getRegex(),Gw="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",lQ=Ft(Gw,"gu").replace(/notPunctSpace/g,Uw).replace(/punctSpace/g,ib).replace(/punct/g,Oh).getRegex(),cQ=Ft(Gw,"gu").replace(/notPunctSpace/g,sQ).replace(/punctSpace/g,iQ).replace(/punct/g,zw).getRegex(),dQ=Ft("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Uw).replace(/punctSpace/g,ib).replace(/punct/g,Oh).getRegex(),fQ=Ft(/\\(punct)/,"gu").replace(/punct/g,Oh).getRegex(),hQ=Ft(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),pQ=Ft(nb).replace("(?:-->|$)","-->").getRegex(),mQ=Ft("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",pQ).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),jf=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,gQ=Ft(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",jf).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Vw=Ft(/^!?\[(label)\]\[(ref)\]/).replace("label",jf).replace("ref",tb).getRegex(),$w=Ft(/^!?\[(ref)\](?:\[\])?/).replace("ref",tb).getRegex(),bQ=Ft("reflink|nolink(?!\\()","g").replace("reflink",Vw).replace("nolink",$w).getRegex(),sb={_backpedal:El,anyPunctuation:fQ,autolink:hQ,blockSkip:aQ,br:Hw,code:tQ,del:El,emStrongLDelim:uQ,emStrongRDelimAst:lQ,emStrongRDelimUnd:dQ,escape:eQ,link:gQ,nolink:$w,punctuation:rQ,reflink:Vw,reflinkSearch:bQ,tag:mQ,text:nQ,url:El},TQ=oe(U({},sb),{link:Ft(/^!?\[(label)\]\((.*?)\)/).replace("label",jf).getRegex(),reflink:Ft(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",jf).getRegex()}),$m=oe(U({},sb),{emStrongRDelimAst:cQ,emStrongLDelim:oQ,url:Ft(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),EQ=oe(U({},$m),{br:Ft(Hw).replace("{2,}","*").getRegex(),text:Ft($m.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),Yc={normal:rb,gfm:JK,pedantic:ZK},vo={normal:sb,gfm:$m,breaks:EQ,pedantic:TQ},yQ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ly=e=>yQ[e];function yi(e,t){if(t){if(dr.escapeTest.test(e))return e.replace(dr.escapeReplace,Ly)}else if(dr.escapeTestNoEncode.test(e))return e.replace(dr.escapeReplaceNoEncode,Ly);return e}function Py(e){try{e=encodeURI(e).replace(dr.percentDecode,"%")}catch(t){return null}return e}function My(e,t){var s;const n=e.replace(dr.findPipe,(a,o,u)=>{let c=!1,l=o;for(;--l>=0&&u[l]==="\\";)c=!c;return c?"|":" |"}),r=n.split(dr.splitPipe);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!((s=r.at(-1))!=null&&s.trim())&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(dr.slashPipe,"|");return r}function wo(e,t,n){const r=e.length;if(r===0)return"";let i=0;for(;i<r&&e.charAt(r-i-1)===t;)i++;return e.slice(0,r-i)}function _Q(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}function By(e,t,n,r,i){const s=t.href,a=t.title||null,o=e[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;const u={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:a,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,u}function xQ(e,t,n){const r=e.match(n.other.indentCodeCompensation);if(r===null)return t;const i=r[1];return t.split(`
`).map(s=>{const a=s.match(n.other.beginningSpace);if(a===null)return s;const[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}var Ff=class{constructor(e){Vt(this,"options");Vt(this,"rules");Vt(this,"lexer");this.options=e||tu}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:wo(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],r=xQ(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const r=wo(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:wo(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=wo(t[0],`
`).split(`
`),r="",i="";const s=[];for(;n.length>0;){let a=!1;const o=[];let u;for(u=0;u<n.length;u++)if(this.rules.other.blockquoteStart.test(n[u]))o.push(n[u]),a=!0;else if(!a)o.push(n[u]);else break;n=n.slice(u);const c=o.join(`
`),l=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,i=i?`${i}
${l}`:l;const d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,s,!0),this.lexer.state.top=d,n.length===0)break;const h=s.at(-1);if((h==null?void 0:h.type)==="code")break;if((h==null?void 0:h.type)==="blockquote"){const f=h,p=f.raw+`
`+n.join(`
`),x=this.blockquote(p);s[s.length-1]=x,r=r.substring(0,r.length-f.raw.length)+x.raw,i=i.substring(0,i.length-f.text.length)+x.text;break}else if((h==null?void 0:h.type)==="list"){const f=h,p=f.raw+`
`+n.join(`
`),x=this.list(p);s[s.length-1]=x,r=r.substring(0,r.length-h.raw.length)+x.raw,i=i.substring(0,i.length-f.raw.length)+x.raw,n=p.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:s,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const s=this.rules.other.listItemRegex(n);let a=!1;for(;e;){let u=!1,c="",l="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let d=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,b=>" ".repeat(3*b.length)),h=e.split(`
`,1)[0],f=!d.trim(),p=0;if(this.options.pedantic?(p=2,l=d.trimStart()):f?p=t[1].length+1:(p=t[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,l=d.slice(p),p+=t[1].length),f&&this.rules.other.blankLine.test(h)&&(c+=h+`
`,e=e.substring(h.length+1),u=!0),!u){const b=this.rules.other.nextBulletRegex(p),T=this.rules.other.hrRegex(p),N=this.rules.other.fencesBeginRegex(p),g=this.rules.other.headingBeginRegex(p),y=this.rules.other.htmlBeginRegex(p);for(;e;){const E=e.split(`
`,1)[0];let I;if(h=E,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,"  "),I=h):I=h.replace(this.rules.other.tabCharGlobal,"    "),N.test(h)||g.test(h)||y.test(h)||b.test(h)||T.test(h))break;if(I.search(this.rules.other.nonSpaceChar)>=p||!h.trim())l+=`
`+I.slice(p);else{if(f||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||N.test(d)||g.test(d)||T.test(d))break;l+=`
`+h}!f&&!h.trim()&&(f=!0),c+=E+`
`,e=e.substring(E.length+1),d=I.slice(p)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(a=!0));let x=null,_;this.options.gfm&&(x=this.rules.other.listIsTask.exec(l),x&&(_=x[0]!=="[ ] ",l=l.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:c,task:!!x,checked:_,loose:!1,text:l,tokens:[]}),i.raw+=c}const o=i.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let u=0;u<i.items.length;u++)if(this.lexer.state.top=!1,i.items[u].tokens=this.lexer.blockTokens(i.items[u].text,[]),!i.loose){const c=i.items[u].tokens.filter(d=>d.type==="space"),l=c.length>0&&c.some(d=>this.rules.other.anyLine.test(d.raw));i.loose=l}if(i.loose)for(let u=0;u<i.items.length;u++)i.items[u].loose=!0;return i}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:i}}}table(e){var a;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const n=My(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(a=t[3])!=null&&a.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const o of r)this.rules.other.tableAlignRight.test(o)?s.align.push("right"):this.rules.other.tableAlignCenter.test(o)?s.align.push("center"):this.rules.other.tableAlignLeft.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<n.length;o++)s.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:s.align[o]});for(const o of i)s.rows.push(My(o,s.header.length).map((u,c)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:s.align[c]})));return s}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const s=wo(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{const s=_Q(t[2],"()");if(s===-2)return;if(s>-1){const o=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,o).trim(),t[3]=""}}let r=t[2],i="";if(this.options.pedantic){const s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),By(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=t[r.toLowerCase()];if(!i){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return By(n,i,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const s=[...r[0]].length-1;let a,o,u=s,c=0;const l=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+s);(r=l.exec(t))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(o=[...a].length,r[3]||r[4]){u+=o;continue}else if((r[5]||r[6])&&s%3&&!((s+o)%3)){c+=o;continue}if(u-=o,u>0)continue;o=Math.min(o,o+u+c);const d=[...r[0]][0].length,h=e.slice(0,s+r.index+d+o);if(Math.min(s,o)%2){const p=h.slice(1,-1);return{type:"em",raw:h,text:p,tokens:this.lexer.inlineTokens(p)}}const f=h.slice(2,-2);return{type:"strong",raw:h,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n,r;let t;if(t=this.rules.inline.url.exec(e)){let i,s;if(t[2]==="@")i=t[0],s="mailto:"+i;else{let a;do a=t[0],t[0]=(r=(n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])!=null?r:"";while(a!==t[0]);i=t[0],t[1]==="www."?s="http://"+t[0]:s=t[0]}return{type:"link",raw:t[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},as=class Wm{constructor(t){Vt(this,"tokens");Vt(this,"options");Vt(this,"state");Vt(this,"tokenizer");Vt(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||tu,this.options.tokenizer=this.options.tokenizer||new Ff,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:dr,block:Yc.normal,inline:vo.normal};this.options.pedantic?(n.block=Yc.pedantic,n.inline=vo.pedantic):this.options.gfm&&(n.block=Yc.gfm,this.options.breaks?n.inline=vo.breaks:n.inline=vo.gfm),this.tokenizer.rules=n}static get rules(){return{block:Yc,inline:vo}}static lex(t,n){return new Wm(n).lex(t)}static lexInline(t,n){return new Wm(n).inlineTokens(t)}lex(t){t=t.replace(dr.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){var i,s,a;for(this.options.pedantic&&(t=t.replace(dr.tabCharGlobal,"    ").replace(dr.spaceLine,""));t;){let o;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(c=>(o=c.call({lexer:this},t,n))?(t=t.substring(o.raw.length),n.push(o),!0):!1))continue;if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length);const c=n.at(-1);o.raw.length===1&&c!==void 0?c.raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length);const c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.at(-1).src=c.text):n.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length);const c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),n.push(o);continue}let u=t;if((a=this.options.extensions)!=null&&a.startBlock){let c=1/0;const l=t.slice(1);let d;this.options.extensions.startBlock.forEach(h=>{d=h.call({lexer:this},l),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(u=t.substring(0,c+1))}if(this.state.top&&(o=this.tokenizer.paragraph(u))){const c=n.at(-1);r&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(o),r=u.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length);const c=n.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(o);continue}if(t){const c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){var o,u,c;let r=t,i=null;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)l.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,a="";for(;t;){s||(a=""),s=!1;let l;if((u=(o=this.options.extensions)==null?void 0:o.inline)!=null&&u.some(h=>(l=h.call({lexer:this},t,n))?(t=t.substring(l.raw.length),n.push(l),!0):!1))continue;if(l=this.tokenizer.escape(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.tag(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.link(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(l.raw.length);const h=n.at(-1);l.type==="text"&&(h==null?void 0:h.type)==="text"?(h.raw+=l.raw,h.text+=l.text):n.push(l);continue}if(l=this.tokenizer.emStrong(t,r,a)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.codespan(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.br(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.del(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.autolink(t)){t=t.substring(l.raw.length),n.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(t))){t=t.substring(l.raw.length),n.push(l);continue}let d=t;if((c=this.options.extensions)!=null&&c.startInline){let h=1/0;const f=t.slice(1);let p;this.options.extensions.startInline.forEach(x=>{p=x.call({lexer:this},f),typeof p=="number"&&p>=0&&(h=Math.min(h,p))}),h<1/0&&h>=0&&(d=t.substring(0,h+1))}if(l=this.tokenizer.inlineText(d)){t=t.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(a=l.raw.slice(-1)),s=!0;const h=n.at(-1);(h==null?void 0:h.type)==="text"?(h.raw+=l.raw,h.text+=l.text):n.push(l);continue}if(t){const h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return n}},Hf=class{constructor(e){Vt(this,"options");Vt(this,"parser");this.options=e||tu}space(e){return""}code({text:e,lang:t,escaped:n}){var s;const r=(s=(t||"").match(dr.notSpaceStart))==null?void 0:s[0],i=e.replace(dr.endingNewline,"")+`
`;return r?'<pre><code class="language-'+yi(r)+'">'+(n?i:yi(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:yi(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let r="";for(let a=0;a<e.items.length;a++){const o=e.items[a];r+=this.listitem(o)}const i=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+r+"</"+i+`>
`}listitem(e){var n;let t="";if(e.task){const r=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+yi(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r="";for(let i=0;i<e.rows.length;i++){const s=e.rows[i];n="";for(let a=0;a<s.length;a++)n+=this.tablecell(s[a]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${yi(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const r=this.parser.parseInline(n),i=Py(e);if(i===null)return r;e=i;let s='<a href="'+e+'"';return t&&(s+=' title="'+yi(t)+'"'),s+=">"+r+"</a>",s}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));const i=Py(e);if(i===null)return yi(n);e=i;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${yi(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:yi(e.text)}},ab=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},us=class Ym{constructor(t){Vt(this,"options");Vt(this,"renderer");Vt(this,"textRenderer");this.options=t||tu,this.options.renderer=this.options.renderer||new Hf,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ab}static parse(t,n){return new Ym(n).parse(t)}static parseInline(t,n){return new Ym(n).parseInline(t)}parse(t,n=!0){var i,s;let r="";for(let a=0;a<t.length;a++){const o=t[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){const c=o,l=this.options.extensions.renderers[c.type].call({parser:this},c);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){r+=l||"";continue}}const u=o;switch(u.type){case"space":{r+=this.renderer.space(u);continue}case"hr":{r+=this.renderer.hr(u);continue}case"heading":{r+=this.renderer.heading(u);continue}case"code":{r+=this.renderer.code(u);continue}case"table":{r+=this.renderer.table(u);continue}case"blockquote":{r+=this.renderer.blockquote(u);continue}case"list":{r+=this.renderer.list(u);continue}case"html":{r+=this.renderer.html(u);continue}case"paragraph":{r+=this.renderer.paragraph(u);continue}case"text":{let c=u,l=this.renderer.text(c);for(;a+1<t.length&&t[a+1].type==="text";)c=t[++a],l+=`
`+this.renderer.text(c);n?r+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):r+=l;continue}default:{const c='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(t,n=this.renderer){var i,s;let r="";for(let a=0;a<t.length;a++){const o=t[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){const c=this.options.extensions.renderers[o.type].call({parser:this},o);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=c||"";continue}}const u=o;switch(u.type){case"escape":{r+=n.text(u);break}case"html":{r+=n.html(u);break}case"link":{r+=n.link(u);break}case"image":{r+=n.image(u);break}case"strong":{r+=n.strong(u);break}case"em":{r+=n.em(u);break}case"codespan":{r+=n.codespan(u);break}case"br":{r+=n.br(u);break}case"del":{r+=n.del(u);break}case"text":{r+=n.text(u);break}default:{const c='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},kp,Ed=(kp=class{constructor(e){Vt(this,"options");Vt(this,"block");this.options=e||tu}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?as.lex:as.lexInline}provideParser(){return this.block?us.parse:us.parseInline}},Vt(kp,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),kp),AQ=class{constructor(...e){Vt(this,"defaults",J1());Vt(this,"options",this.setOptions);Vt(this,"parse",this.parseMarkdown(!0));Vt(this,"parseInline",this.parseMarkdown(!1));Vt(this,"Parser",us);Vt(this,"Renderer",Hf);Vt(this,"TextRenderer",ab);Vt(this,"Lexer",as);Vt(this,"Tokenizer",Ff);Vt(this,"Hooks",Ed);this.use(...e)}walkTokens(e,t){var r,i;let n=[];for(const s of e)switch(n=n.concat(t.call(this,s)),s.type){case"table":{const a=s;for(const o of a.header)n=n.concat(this.walkTokens(o.tokens,t));for(const o of a.rows)for(const u of o)n=n.concat(this.walkTokens(u.tokens,t));break}case"list":{const a=s;n=n.concat(this.walkTokens(a.items,t));break}default:{const a=s;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[a.type]?this.defaults.extensions.childTokens[a.type].forEach(o=>{const u=a[o].flat(1/0);n=n.concat(this.walkTokens(u,t))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const r=U({},n);if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=t.renderers[i.name];s?t.renderers[i.name]=function(...a){let o=i.renderer.apply(this,a);return o===!1&&(o=s.apply(this,a)),o}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=t[i.level];s?s.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){const i=this.defaults.renderer||new Hf(this.defaults);for(const s in n.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const a=s,o=n.renderer[a],u=i[a];i[a]=(...c)=>{let l=o.apply(i,c);return l===!1&&(l=u.apply(i,c)),l||""}}r.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new Ff(this.defaults);for(const s in n.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const a=s,o=n.tokenizer[a],u=i[a];i[a]=(...c)=>{let l=o.apply(i,c);return l===!1&&(l=u.apply(i,c)),l}}r.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new Ed;for(const s in n.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;const a=s,o=n.hooks[a],u=i[a];Ed.passThroughHooks.has(s)?i[a]=c=>{if(this.defaults.async)return Promise.resolve(o.call(i,c)).then(d=>u.call(i,d));const l=o.call(i,c);return u.call(i,l)}:i[a]=(...c)=>{let l=o.apply(i,c);return l===!1&&(l=u.apply(i,c)),l}}r.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(a){let o=[];return o.push(s.call(this,a)),i&&(o=o.concat(i.call(this,a))),o}}this.defaults=U(U({},this.defaults),r)}),this}setOptions(e){return this.defaults=U(U({},this.defaults),e),this}lexer(e,t){return as.lex(e,t!=null?t:this.defaults)}parser(e,t){return us.parse(e,t!=null?t:this.defaults)}parseMarkdown(e){return(n,r)=>{const i=U({},r),s=U(U({},this.defaults),i),a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n=="undefined"||n===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=e);const o=s.hooks?s.hooks.provideLexer():e?as.lex:as.lexInline,u=s.hooks?s.hooks.provideParser():e?us.parse:us.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then(c=>o(c,s)).then(c=>s.hooks?s.hooks.processAllTokens(c):c).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>u(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(a);try{s.hooks&&(n=s.hooks.preprocess(n));let c=o(n,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let l=u(c,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(c){return a(c)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+yi(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}},Ka=new AQ;function jt(e,t){return Ka.parse(e,t)}jt.options=jt.setOptions=function(e){return Ka.setOptions(e),jt.defaults=Ka.defaults,Mw(jt.defaults),jt};jt.getDefaults=J1;jt.defaults=tu;jt.use=function(...e){return Ka.use(...e),jt.defaults=Ka.defaults,Mw(jt.defaults),jt};jt.walkTokens=function(e,t){return Ka.walkTokens(e,t)};jt.parseInline=Ka.parseInline;jt.Parser=us;jt.parser=us.parse;jt.Renderer=Hf;jt.TextRenderer=ab;jt.Lexer=as;jt.lexer=as.lex;jt.Tokenizer=Ff;jt.Hooks=Ed;jt.parse=jt;jt.options;jt.setOptions;jt.use;jt.walkTokens;jt.parseInline;us.parse;as.lex;const CQ=new nn("proofreading"),SQ=Jt.create({name:"proofreadingDecoration",addOptions(){return{suggestions:[]}},addProseMirrorPlugins(){return[new Gt({key:CQ,props:{decorations:e=>{const t=[],{doc:n}=e,r=this.options.suggestions;return n.descendants((i,s)=>{if(!i.isText)return;const a=i.text||"";r.forEach(({original:o,change:u})=>{let c=0;for(;c<a.length;){const l=a.indexOf(o,c);if(l===-1)break;const d=s+l,h=d+o.length;t.push(Sn.inline(d,h,{class:"proofreading-mark",nodeName:"span","data-original":o,"data-suggestion":u,"data-from":d,"data-to":h})),c=l+o.length}})}),$t.create(n,t)}}})]}});var ar={},Ir={},ip={},jy;function NQ(){return jy||(jy=1,Object.defineProperty(ip,"__esModule",{value:!0})),ip}var ur={},ys={},Fy;function Ww(){if(Fy)return ys;Fy=1;var e=ys&&ys.__assign||function(){return e=Object.assign||function(i){for(var s,a=1,o=arguments.length;a<o;a++){s=arguments[a];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(i[u]=s[u])}return i},e.apply(this,arguments)};Object.defineProperty(ys,"__esModule",{value:!0}),ys.flatten=void 0;var t={xml:!1,decodeEntities:!0};ys.default=t;var n={_useHtmlParser2:!0,xmlMode:!0};function r(i){return i!=null&&i.xml?typeof i.xml=="boolean"?n:e(e({},n),i.xml):i!=null?i:void 0}return ys.flatten=r,ys}var en={},oa={},bi={},la={},sp={},Hy;function pc(){return Hy||(Hy=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function n(r){return r.type===t.Tag||r.type===t.Script||r.type===t.Style}e.isTag=n,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(sp)),sp}var ut={},Uy;function zy(){if(Uy)return ut;Uy=1;var e=ut&&ut.__extends||(function(){var y=function(E,I){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,L){R.__proto__=L}||function(R,L){for(var S in L)Object.prototype.hasOwnProperty.call(L,S)&&(R[S]=L[S])},y(E,I)};return function(E,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");y(E,I);function R(){this.constructor=E}E.prototype=I===null?Object.create(I):(R.prototype=I.prototype,new R)}})(),t=ut&&ut.__assign||function(){return t=Object.assign||function(y){for(var E,I=1,R=arguments.length;I<R;I++){E=arguments[I];for(var L in E)Object.prototype.hasOwnProperty.call(E,L)&&(y[L]=E[L])}return y},t.apply(this,arguments)};Object.defineProperty(ut,"__esModule",{value:!0}),ut.cloneNode=ut.hasChildren=ut.isDocument=ut.isDirective=ut.isComment=ut.isText=ut.isCDATA=ut.isTag=ut.Element=ut.Document=ut.CDATA=ut.NodeWithChildren=ut.ProcessingInstruction=ut.Comment=ut.Text=ut.DataNode=ut.Node=void 0;var n=pc(),r=(function(){function y(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(y.prototype,"parentNode",{get:function(){return this.parent},set:function(E){this.parent=E},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"previousSibling",{get:function(){return this.prev},set:function(E){this.prev=E},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"nextSibling",{get:function(){return this.next},set:function(E){this.next=E},enumerable:!1,configurable:!0}),y.prototype.cloneNode=function(E){return E===void 0&&(E=!1),N(this,E)},y})();ut.Node=r;var i=(function(y){e(E,y);function E(I){var R=y.call(this)||this;return R.data=I,R}return Object.defineProperty(E.prototype,"nodeValue",{get:function(){return this.data},set:function(I){this.data=I},enumerable:!1,configurable:!0}),E})(r);ut.DataNode=i;var s=(function(y){e(E,y);function E(){var I=y!==null&&y.apply(this,arguments)||this;return I.type=n.ElementType.Text,I}return Object.defineProperty(E.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),E})(i);ut.Text=s;var a=(function(y){e(E,y);function E(){var I=y!==null&&y.apply(this,arguments)||this;return I.type=n.ElementType.Comment,I}return Object.defineProperty(E.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),E})(i);ut.Comment=a;var o=(function(y){e(E,y);function E(I,R){var L=y.call(this,R)||this;return L.name=I,L.type=n.ElementType.Directive,L}return Object.defineProperty(E.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),E})(i);ut.ProcessingInstruction=o;var u=(function(y){e(E,y);function E(I){var R=y.call(this)||this;return R.children=I,R}return Object.defineProperty(E.prototype,"firstChild",{get:function(){var I;return(I=this.children[0])!==null&&I!==void 0?I:null},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"childNodes",{get:function(){return this.children},set:function(I){this.children=I},enumerable:!1,configurable:!0}),E})(r);ut.NodeWithChildren=u;var c=(function(y){e(E,y);function E(){var I=y!==null&&y.apply(this,arguments)||this;return I.type=n.ElementType.CDATA,I}return Object.defineProperty(E.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),E})(u);ut.CDATA=c;var l=(function(y){e(E,y);function E(){var I=y!==null&&y.apply(this,arguments)||this;return I.type=n.ElementType.Root,I}return Object.defineProperty(E.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),E})(u);ut.Document=l;var d=(function(y){e(E,y);function E(I,R,L,S){L===void 0&&(L=[]),S===void 0&&(S=I==="script"?n.ElementType.Script:I==="style"?n.ElementType.Style:n.ElementType.Tag);var A=y.call(this,L)||this;return A.name=I,A.attribs=R,A.type=S,A}return Object.defineProperty(E.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"tagName",{get:function(){return this.name},set:function(I){this.name=I},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"attributes",{get:function(){var I=this;return Object.keys(this.attribs).map(function(R){var L,S;return{name:R,value:I.attribs[R],namespace:(L=I["x-attribsNamespace"])===null||L===void 0?void 0:L[R],prefix:(S=I["x-attribsPrefix"])===null||S===void 0?void 0:S[R]}})},enumerable:!1,configurable:!0}),E})(u);ut.Element=d;function h(y){return(0,n.isTag)(y)}ut.isTag=h;function f(y){return y.type===n.ElementType.CDATA}ut.isCDATA=f;function p(y){return y.type===n.ElementType.Text}ut.isText=p;function x(y){return y.type===n.ElementType.Comment}ut.isComment=x;function _(y){return y.type===n.ElementType.Directive}ut.isDirective=_;function b(y){return y.type===n.ElementType.Root}ut.isDocument=b;function T(y){return Object.prototype.hasOwnProperty.call(y,"children")}ut.hasChildren=T;function N(y,E){E===void 0&&(E=!1);var I;if(p(y))I=new s(y.data);else if(x(y))I=new a(y.data);else if(h(y)){var R=E?g(y.children):[],L=new d(y.name,t({},y.attribs),R);R.forEach(function(O){return O.parent=L}),y.namespace!=null&&(L.namespace=y.namespace),y["x-attribsNamespace"]&&(L["x-attribsNamespace"]=t({},y["x-attribsNamespace"])),y["x-attribsPrefix"]&&(L["x-attribsPrefix"]=t({},y["x-attribsPrefix"])),I=L}else if(f(y)){var R=E?g(y.children):[],S=new c(R);R.forEach(function(D){return D.parent=S}),I=S}else if(b(y)){var R=E?g(y.children):[],A=new l(R);R.forEach(function(D){return D.parent=A}),y["x-mode"]&&(A["x-mode"]=y["x-mode"]),I=A}else if(_(y)){var w=new o(y.name,y.data);y["x-name"]!=null&&(w["x-name"]=y["x-name"],w["x-publicId"]=y["x-publicId"],w["x-systemId"]=y["x-systemId"]),I=w}else throw new Error("Not implemented yet: ".concat(y.type));return I.startIndex=y.startIndex,I.endIndex=y.endIndex,y.sourceCodeLocation!=null&&(I.sourceCodeLocation=y.sourceCodeLocation),I}ut.cloneNode=N;function g(y){for(var E=y.map(function(R){return N(R,!0)}),I=1;I<E.length;I++)E[I].prev=E[I-1],E[I-1].next=E[I];return E}return ut}var qy;function gr(){return qy||(qy=1,(function(e){var t=la&&la.__createBinding||(Object.create?(function(o,u,c,l){l===void 0&&(l=c);var d=Object.getOwnPropertyDescriptor(u,c);(!d||("get"in d?!u.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return u[c]}}),Object.defineProperty(o,l,d)}):(function(o,u,c,l){l===void 0&&(l=c),o[l]=u[c]})),n=la&&la.__exportStar||function(o,u){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(u,c)&&t(u,o,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=pc(),i=zy();n(zy(),e);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},a=(function(){function o(u,c,l){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(l=c,c=s),typeof u=="object"&&(c=u,u=void 0),this.callback=u!=null?u:null,this.options=c!=null?c:s,this.elementCB=l!=null?l:null}return o.prototype.onparserinit=function(u){this.parser=u},o.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},o.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},o.prototype.onerror=function(u){this.handleCallback(u)},o.prototype.onclosetag=function(){this.lastNode=null;var u=this.tagStack.pop();this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(u)},o.prototype.onopentag=function(u,c){var l=this.options.xmlMode?r.ElementType.Tag:void 0,d=new i.Element(u,c,void 0,l);this.addNode(d),this.tagStack.push(d)},o.prototype.ontext=function(u){var c=this.lastNode;if(c&&c.type===r.ElementType.Text)c.data+=u,this.options.withEndIndices&&(c.endIndex=this.parser.endIndex);else{var l=new i.Text(u);this.addNode(l),this.lastNode=l}},o.prototype.oncomment=function(u){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=u;return}var c=new i.Comment(u);this.addNode(c),this.lastNode=c},o.prototype.oncommentend=function(){this.lastNode=null},o.prototype.oncdatastart=function(){var u=new i.Text(""),c=new i.CDATA([u]);this.addNode(c),u.parent=c,this.lastNode=u},o.prototype.oncdataend=function(){this.lastNode=null},o.prototype.onprocessinginstruction=function(u,c){var l=new i.ProcessingInstruction(u,c);this.addNode(l)},o.prototype.handleCallback=function(u){if(typeof this.callback=="function")this.callback(u,this.dom);else if(u)throw u},o.prototype.addNode=function(u){var c=this.tagStack[this.tagStack.length-1],l=c.children[c.children.length-1];this.options.withStartIndices&&(u.startIndex=this.parser.startIndex),this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),c.children.push(u),l&&(u.prev=l,l.next=u),u.parent=c,this.lastNode=null},o})();e.DomHandler=a,e.default=a})(la)),la}var Er={},ap={},Jr={},Kc={},Gy;function vQ(){return Gy||(Gy=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.default=new Uint16Array('áµ<ÃÄ±ÊÒÕ»×ÙµÛÞ¢ßà à©àªà¶¡à¹­à¼à¼¦áá¨á¡ááááá¥\0\0\0\0\0\0á«áá¦á°á·á½¾â â°âââ»ââ ¤â¤â´â¹â¿ããºã¹ã¬ã£¾ã¨¨ã©±ã« ã¬®à EMabcfglmnoprstu\\bfmsÂÂÂÂÂÂ¦Â³Â¹ÃÃligè»ÃäPè»&ä¦cuteè»Ãäreve;äÄiyx}rcè»Ãä;är;ìðraveè»Ãäpha;äacr;äd;æ©ÄgpÂÂ¡on;äf;ìð¸plyFunction;æ¡ingè»ÃäÄcsÂ¾Ãr;ìðign;æildeè»Ãämlè»ÃäÐaceforsuÃ¥Ã»Ã¾ÄÄÄ¢Ä§ÄªÄcrÃªÃ²kslash;æÅ¶Ã¶Ã¸;æ«§ed;æy;äÆcrtÄÄÄause;æµnoullis;æ¬a;är;ìðpf;ìð¹eve;äcÃ²Ämpeq;æÜHOacdefhilorsuÅÅÅÆÆÆ¢ÆµÆ·ÆºÇÈÉ³É¸É¾cy;ä§PYè»Â©ä©ÆcpyÅÅ¢Åºute;äÄ;iÅ§Å¨ætalDifferentialD;æleys;æ­ÈaeioÆÆÆÆron;ädilè»Ãärc;änint;æ°ot;äÄdnÆ§Æ­illa;ä¸terDot;ä·Ã²Å¿i;ä§rcleÈDMPTÇÇÇÇot;æinus;ælus;æimes;æoÄcsÇ¢Ç¸kwiseContourIntegral;æ²eCurlyÄDQÈÈoubleQuote;æuote;æÈlnpuÈÈ¨ÉÉonÄ;eÈ¥È¦æ·;æ©´ÆgitÈ¯È¶Èºruent;æ¡nt;æ¯ourIntegral;æ®ÄfrÉÉ;æoduct;ænterClockwiseContourIntegral;æ³oss;æ¨¯cr;ìðpÄ;CÊÊæap;æÖDJSZacefiosÊ Ê¬Ê°Ê´Ê¸ËËË¡Ë¦Ì³ÒÄ;oÅ¹Ê¥trahd;æ¤cy;äcy;äcy;äÆgrsÊ¿ËËger;æ¡r;æ¡hv;æ«¤ÄayËËron;ä;älÄ;tËËæa;är;ìðÄafË«Ì§ÄcmË°Ì¢riticalÈADGTÌÌÌÌcute;ä´oÅ´ÌÌ;äbleAcute;ärave;ä ilde;äond;æferentialD;æÑ°Ì½\0\0\0ÍÍ\0Ðf;ìð»Æ;DEÍÍÍä¨ot;æqual;æbleÌCDLRUVÍ£Í²ÎÏÏ¢Ï¸ontourIntegraÃ¬È¹oÉ´Í¹\0\0Í»Â»ÍnArrow;æÄeoÎÎ¤ftÆARTÎÎÎ¡rrow;æightArrow;æeÃ¥ËngÄLRÎ«ÏeftÄARÎ³Î¹rrow;æ¸ightArrow;æºightArrow;æ¹ightÄATÏÏrrow;æee;æ¨pÉÏ©\0\0Ï¯rrow;æownArrow;æerticalBar;æ¥nÌABLRTaÐÐªÐ°ÑÑ¿Í¼rrowÆ;BUÐÐÐ¢æar;æ¤pArrow;æµreve;äeftËÐº\0Ñ\0ÑightVector;æ¥eeVector;æ¥ectorÄ;BÑÑæ½ar;æ¥ightÇÑ§\0Ñ±eeVector;æ¥ectorÄ;BÑºÑ»æar;æ¥eeÄ;AÒÒæ¤rrow;æ§ÄctÒÒr;ìðrok;äà NTacdfglmopqstuxÒ½ÓÓÓÓÓ¢Ó§Ó®ÓµÔ¡Ô¯Ô¶ÕÕÕ Õ¥G;äHè»Ãäcuteè»ÃäÆaiyÓÓÓron;ärcè»Ãä;ä­ot;är;ìðraveè»Ãäement;æÄapÓºÓ¾cr;ätyÉÔ\0\0ÔmallSquare;æ»erySmallSquare;æ«ÄgpÔ¦Ôªon;äf;ìð¼silon;äuÄaiÔ¼ÕlÄ;TÕÕæ©µilde;ælibrium;æÄciÕÕr;æ°m;æ©³a;ämlè»ÃäÄipÕªÕ¯sts;æonentialE;æÊcfiosÖÖÖÖ²×y;ä¤r;ìðlledÉÖ\0\0Ö£mallSquare;æ¼erySmallSquare;æªÍ°Öº\0Ö¿\0\0×f;ìð½All;æriertrf;æ±cÃ²×ØJTabcdfgorst×¨×¬×¯×ºØØØØØØ£Ù¬Ù²cy;äè»>ä¾mmaÄ;d×·×¸ä;äreve;äÆeiyØØØdil;ä¢rc;ä;äot;ä r;ìð;æpf;ìð¾eaterÌEFGLSTØµÙÙÙÙÙ¦qualÄ;LØ¾Ø¿æ¥ess;æullEqual;æ§reater;æª¢ess;æ·lantEqual;æ©¾ilde;æ³cr;ìð¢;æ«ÐAacfiosuÚÚÚÚÚÚªÚ¾ÛRDcy;äªÄctÚÚek;ä;äirc;ä¤r;ælbertSpace;æÇ°Ú¯\0Ú²f;æizontalLine;æÄctÛÛÃ²Ú©rok;ä¦mpÅÛÛownHumÃ°Ä¯qual;æÜEJOacdfgmnostuÛºÛ¾ÜÜÜÜÜÜ¡Ü¨ÝÝ¸ÞÞÞcy;älig;ä²cy;äcuteè»ÃäÄiyÜÜrcè»Ãä;äot;ä°r;æraveè»ÃäÆ;apÜ Ü¯Ü¿ÄcgÜ´Ü·r;äªinaryI;ælieÃ³ÏÇ´Ý\0Ý¢Ä;eÝÝæ¬ÄgrÝÝral;æ«section;æisibleÄCTÝ¬Ý²omma;æ£imes;æ¢ÆgptÝ¿ÞÞon;ä®f;ìða;äcr;æilde;ä¨Ç«Þ\0Þcy;älè»ÃäÊcfosuÞ¬Þ·Þ¼ßßÄiyÞ±Þµrc;ä´;är;ìðpf;ìðÇ£ß\0ßr;ìð¥rcy;äkcy;äÎHJacfosß¤ß¨ß¬ß±ß½à à cy;ä¥cy;äppa;äÄeyß¶ß»dil;ä¶;är;ìðpf;ìðcr;ìð¦ÖJTaceflmostà ¥à ©à ¬à¡à¡£à¦³à¦¸à§à§à¨·à©cy;äè»<ä¼Êcmnprà ·à ¼à¡à¡à¡ute;ä¹bda;äg;æªlacetrf;ær;æÆaeyà¡à¡à¡¡ron;ä½dil;ä»;äÄfsà¡¨à¥°tÔACDFRTUVarà¡¾à¢©à¢±à£ à£¦à£¼à¤¯à¥Îà¥ªÄnrà¢à¢gleBracket;æ¨rowÆ;BRà¢à¢à¢æar;æ¤ightArrow;æeiling;æoÇµà¢·\0à£bleBracket;æ¦nÇà£\0à£eeVector;æ¥¡ectorÄ;Bà£à£æar;æ¥loor;æightÄAVà£¯à£µrrow;æector;æ¥Äerà¤à¤eÆ;AVà¤à¤à¤æ£rrow;æ¤ector;æ¥iangleÆ;BEà¤¤à¤¥à¤©æ²ar;æ§qual;æ´pÆDTVà¤·à¥à¥ownVector;æ¥eeVector;æ¥ ectorÄ;Bà¥à¥æ¿ar;æ¥ectorÄ;Bà¥¥à¥¦æ¼ar;æ¥ightÃ¡ÎsÌEFGLSTà¥¾à¦à¦à¦à¦¢à¦­qualGreater;æullEqual;æ¦reater;æ¶ess;æª¡lantEqual;æ©½ilde;æ²r;ìðÄ;eà¦½à¦¾æftarrow;æidot;ä¿Ænpwà§à¨à¨gÈLRlrà§à§·à¨à¨eftÄARà§¦à§¬rrow;æµightArrow;æ·ightArrow;æ¶eftÄarÎ³à¨ightÃ¡Î¿ightÃ¡Ïf;ìðerÄLRà¨¢à¨¬eftArrow;æightArrow;æÆchtà¨¾à©à©Ã²à¡;æ°rok;ä;æªÐacefiosuà©à©à© à©·à©¼àªàªàªp;æ¤y;äÄdlà©¥à©¯iumSpace;ælintrf;æ³r;ìðnusPlus;æpf;ìðcÃ²à©¶;äÒJacefostuàª£àª§àª­à«à¬à¬à¶à¶à¶cy;äcute;äÆaeyàª´àª¹àª¾ron;ädil;ä;äÆgswà«à«°à¬ativeÆMTVà«à«à«¨ediumSpace;æhiÄcnà«¦à«Ã«à«eryThiÃ®à«tedÄGLà«¸à¬reaterGreateÃ²Ù³essLesÃ³à©Line;är;ìðÈBnptà¬¢à¬¨à¬·à¬ºreak;æ BreakingSpace;ä f;æÚ;CDEGHLNPRSTVà­à­à­ªà­¼à®¡à¯«à°à±à²à²¦à³àµ¡à¶æ«¬Äouà­à­¤ngruent;æ¢pCap;æ­oubleVerticalBar;æ¦Ælqxà®à®à®ement;æualÄ;Tà®à®æ ilde;ìâÌ¸ists;æreaterÎ;EFGLSTà®¶à®·à®½à¯à¯à¯à¯¥æ¯qual;æ±ullEqual;ìâ§Ì¸reater;ìâ«Ì¸ess;æ¹lantEqual;ìâ©¾Ì¸ilde;æµumpÅà¯²à¯½ownHump;ìâÌ¸qual;ìâÌ¸eÄfsà°à°§tTriangleÆ;BEà°à°à°¡æªar;ìâ§Ì¸qual;æ¬sÌ;EGLSTà°µà°¶à°¼à±à±à±æ®qual;æ°reater;æ¸ess;ìâªÌ¸lantEqual;ìâ©½Ì¸ilde;æ´estedÄGLà±¨à±¹reaterGreater;ìâª¢Ì¸essLess;ìâª¡Ì¸recedesÆ;ESà²à²à²æqual;ìâª¯Ì¸lantEqual;æ Äeià²«à²¹verseElement;æghtTriangleÆ;BEà³à³à³æ«ar;ìâ§Ì¸qual;æ­Äquà³à´uareSuÄbpà³¨à³¹setÄ;Eà³°à³³ìâÌ¸qual;æ¢ersetÄ;Eà´à´ìâÌ¸qual;æ£Æbcpà´à´¤àµsetÄ;Eà´à´ìââqual;æceedsÈ;ESTà´²à´³à´»àµæqual;ìâª°Ì¸lantEqual;æ¡ilde;ìâ¿Ì¸ersetÄ;Eàµàµìââqual;æildeÈ;EFTàµ®àµ¯àµµàµ¿æqual;æullEqual;æilde;æerticalBar;æ¤cr;ìð©ildeè»Ãä;äÜEacdfgmoprstuvà¶½à·à·à·à·à· à·§à·¼à¸à¸ à¸¢à¸²à¸¿à¹lig;äcuteè»ÃäÄiyà·à·rcè»Ãä;äblac;är;ìðraveè»ÃäÆaeià·®à·²à·¶cr;äga;ä©cron;äpf;ìðenCurlyÄDQà¸à¸oubleQuote;æuote;æ;æ©Äclà¸§à¸¬r;ìðªashè»ÃäiÅ¬à¸·à¸¼deè»Ãäes;æ¨·mlè»ÃäerÄBPà¹à¹ Äarà¹à¹r;æ¾acÄekà¹à¹;æet;æ´arenthesis;æÒacfhilorsà¹¿àºàºàºàºàºàºàº°à»¼rtialD;æy;är;ìði;ä¦;ä usMinus;ä±Äipàº¢àº­ncareplanÃ¥Úf;æÈ;eioàº¹àººà» à»¤æª»cedesÈ;ESTà»à»à»à»æºqual;æª¯lantEqual;æ¼ilde;æ¾me;æ³Ädpà»©à»®uct;æortionÄ;aÈ¥à»¹l;æÄcià¼à¼r;ìð«;ä¨ÈUfosà¼à¼à¼à¼OTè»"ä¢r;ìðpf;æcr;ìð¬ØBEacefhiorsuà¼¾à½à½à½ à½³à¾§à¾ªà¾­áá©á´á¾arr;æ¤Gè»Â®ä®Æcnrà½à½à½ute;äg;æ«rÄ;tà½à½æ l;æ¤Æaeyà½§à½¬à½±ron;ädil;ä;ä Ä;và½¸à½¹æerseÄEUà¾à¾Älqà¾à¾ement;æuilibrium;æpEquilibrium;æ¥¯rÂ»à½¹o;ä¡ghtÐACDFTUVaà¿à¿«à¿³á¢á¨ááÏÄnrà¿à¿gleBracket;æ©rowÆ;BLà¿à¿à¿¡æar;æ¥eftArrow;æeiling;æoÇµà¿¹\0ábleBracket;æ§nÇá\0áeeVector;æ¥ectorÄ;Bááæar;æ¥loor;æÄerá­áeÆ;AVáµá¶á¼æ¢rrow;æ¦ector;æ¥iangleÆ;BEáááæ³ar;æ§qual;æµpÆDTVá£á®á¸ownVector;æ¥eeVector;æ¥ectorÄ;Bááæ¾ar;æ¥ectorÄ;Bááæar;æ¥Äpuááf;ændImplies;æ¥°ightarrow;æÄchá¹á¼r;æ;æ±leDelayed;æ§´ÚHOacfhimoqstuá¤á±á·á½ááááá¡á§áµá»á¿ÄCcá©á®Hcy;ä©y;ä¨FTcy;ä¬cute;äÊ;aeiyáááááæª¼ron;ä dil;ärc;ä;ä¡r;ìðortÈDLRUáªá´á¾áownArrowÂ»ÐeftArrowÂ»à¢ightArrowÂ»à¿pArrow;ægma;ä£allCircle;æpf;ìðÉ²á­\0\0á°t;æareÈ;ISUá»á¼áá¯æ¡ntersection;æuÄbpáásetÄ;Eááæqual;æersetÄ;Eá¨á©æqual;ænion;æcr;ìð®ar;æÈbcmpááááÄ;sááæetÄ;Eááqual;æÄchá áeedsÈ;ESTá­á®á´á¿æ»qual;æª°lantEqual;æ½ilde;æ¿ThÃ¡à¾;æÆ;esááá£ærsetÄ;Eááæqual;æetÂ»áÖHRSacfhiorsá¾ááááá±á¶ááááORNè»ÃäADE;æ¢ÄHcáácy;äy;ä¦Äbuáá;ä;ä¤Æaeyá¥áªá¯ron;ä¤dil;ä¢;ä¢r;ìðÄeiá»áÇ²á\0áefore;æ´a;äÄcnáákSpace;ìââSpace;ældeÈ;EFTá«á¬á²á¼æ¼qual;æullEqual;æilde;æpf;ìðipleDot;æÄctáár;ìð¯rok;ä¦à«¡á·ááá¦\0á¬á±\0\0\0\0\0á¸á½á·á\0á¿áááÄcrá»áuteè»ÃärÄ;oááæcir;æ¥rÇ£á\0áy;äve;ä¬Äiyáá£rcè»Ãä;ä£blac;ä°r;ìðraveè»Ãäacr;äªÄdiáá©erÄBPááÄaráár;äacÄekáá;æet;æµarenthesis;æonÄ;Pá°á±ælus;æÄgpá»á¿on;ä²f;ìðÐADETadpsáá®á¸áÏ¨ááá³rrowÆ;BDáá á¤ar;æ¤ownArrow;æownArrow;æquilibrium;æ¥®eeÄ;Aááæ¥rrow;æ¥ownÃ¡Ï³erÄLRáá¨eftArrow;æightArrow;æiÄ;lá¹áºäon;ä¥ing;ä®cr;ìð°ilde;ä¨mlè»ÃäÒDbcdefosvá§á¬á°á³á¾ááááash;æ«ar;æ««y;äashÄ;lá»á¼æ©;æ«¦Äeráá;æÆbtyáááºar;æÄ;iáácalÈBLSTá¡á¥áªá´ar;æ£ine;ä¼eparator;æilde;æThinSpace;ær;ìðpf;ìðcr;ìð±dash;æªÊcefosá§á¬á±á¶á¼irc;ä´dge;ær;ìðpf;ìðcr;ìð²Èfiosáááár;ìð;äpf;ìðcr;ìð³ÒAIUacfosuá±áµá¹á½ááááá cy;ä¯cy;äcy;ä®cuteè»ÃäÄiyáárc;ä¶;ä«r;ìðpf;ìðcr;ìð´ml;ä¸ÐHacdefosáµá¹á¿áááá á¤cy;äcute;ä¹Äayááron;ä½;äot;ä»Ç²á\0áoWidtÃ¨à«a;är;æ¨pf;æ¤cr;ìðµà¯¡ááá\0á°á¶á¿\0\0\0\0ááá«áá­\0ááá²á¹\0á¾cuteè»Ã¡ä¡reve;äÌ;Ediuyááá¡á£á¨á­æ¾;ìâ¾Ì³;æ¿rcè»Ã¢ä¢teè»Â´Ì;ä°ligè»Ã¦ä¦Ä;rÂ²áº;ìðraveè»Ã ä ÄepááÄfpáásym;æµÃ¨áha;ä±ÄapácÄclá¤á§r;äg;æ¨¿É¤á°\0\0áÊ;adsváºá»á¿ááæ§nd;æ©;æ©lope;æ©;æ©Î;elmrszááááá¿ááæ ;æ¦¤eÂ»ásdÄ;aá¥á¦æ¡Ñ¡á°á²á´á¶á¸áºá¼á¾;æ¦¨;æ¦©;æ¦ª;æ¦«;æ¦¬;æ¦­;æ¦®;æ¦¯tÄ;vááæbÄ;dááæ¾;æ¦Äptááh;æ¢Â»Â¹arr;æ¼Ägpá£á§on;äf;ìðÎ;Eaeiopáá»á½áááá;æ©°cir;æ©¯;æd;æs;ä§roxÄ;eááÃ±áingè»Ã¥ä¥Æctyá¡á¦á¨r;ìð¶;äªmpÄ;eáá¯Ã±Êildeè»Ã£ä£mlè»Ã¤ä¤ÄciááoninÃ´É²nt;æ¨à Nabcdefiklnoprsuá­á±á°á¼ááá¸á½á á¦á ¹á¡áá¤½á¥á¥°ot;æ«­Äcrá¶ákÈcepsááááong;æpsilon;ä¶rime;æµimÄ;eááæ½q;æÅ¶á¢á¦ee;æ½edÄ;gá¬á­æeÂ»á­rkÄ;táá·brk;æ¶Äoyáá;ä±quo;æÊcmprtááá¡á¤á¨ausÄ;eÄÄptyv;æ¦°sÃ©ánoÃµÄÆahwá¯á±á³;ä²;æ¶een;æ¬r;ìðgÎcostuvwááá³ááááÆaiuáááÃ°Ý rc;æ¯pÂ»á±Ædptá¤á¨á­ot;æ¨lus;æ¨imes;æ¨É±á¹\0\0á¾cup;æ¨ar;æriangleÄduááown;æ½p;æ³plus;æ¨eÃ¥áÃ¥á­arow;æ¤Æakoá­á ¦á µÄcná²á £kÆlstáºÖ«á ozenge;æ§«riangleÈ;dlrá á á á æ´own;æ¾eft;æight;æ¸k;æ£Æ±á «\0á ³Æ²á ¯\0á ±;æ;æ4;æck;æÄeoá ¾á¡Ä;qá¡á¡ì=â¥uiv;ìâ¡â¥t;æÈptwxá¡á¡á¡§á¡¬f;ìðÄ;táá¡£omÂ»átie;æØDHUVbdhmptuvá¢á¢á¢ªá¢»á£á£á£¬á£¿á¤á¤á¤á¤¡ÈLRlrá¢á¢á¢á¢;æ;æ;æ;æÊ;DUduá¢¡á¢¢á¢¤á¢¦á¢¨æ;æ¦;æ©;æ¤;æ§ÈLRlrá¢³á¢µá¢·á¢¹;æ;æ;æ;æÎ;HLRhlrá£á£á£á£á£á£á£æ;æ¬;æ£;æ ;æ«;æ¢;æox;æ§ÈLRlrá£¤á£¦á£¨á£ª;æ;æ;æ;æÊ;DUduÚ½á£·á£¹á£»á£½;æ¥;æ¨;æ¬;æ´inus;ælus;æimes;æ ÈLRlrá¤á¤á¤á¤;æ;æ;æ;æÎ;HLRhlrá¤°á¤±á¤³á¤µá¤·á¤¹á¤»æ;æª;æ¡;æ;æ¼;æ¤;æÄevÄ£á¥barè»Â¦ä¦Èceioá¥á¥á¥á¥ r;ìð·mi;æmÄ;eáálÆ;bhá¥¨á¥©á¥«ä;æ§sub;æÅ¬á¥´á¥¾lÄ;eá¥¹á¥ºæ¢tÂ»á¥ºpÆ;EeÄ¯á¦á¦;æª®Ä;qÛÛà³¡á¦§\0á§¨á¨á¨á¨²\0á¨·á©\0\0áª´\0\0á«\0\0á¬¡á¬®á­á­\0á¯½\0á°Æcprá¦­á¦²á§ute;äÌ;abcdsá¦¿á§á§á§á§á§æ©nd;æ©rcup;æ©Äauá§á§p;æ©p;æ©ot;æ©;ìâ©ï¸Äeoá§¢á§¥t;æÃ®ÚÈaeiuá§°á§»á¨á¨Ç°á§µ\0á§¸s;æ©on;ädilè»Ã§ä§rc;äpsÄ;sá¨á¨æ©m;æ©ot;äÆdmná¨á¨ á¨¦ilè»Â¸Æ­ptyv;æ¦²tèÂ¢;eá¨­á¨®ä¢rÃ¤Æ²r;ìð Æceiá¨½á©á©y;äckÄ;má©á©æarkÂ»á©;ärÎ;Ecefmsá©á© á©¢á©«áª¤áªªáª®æ;æ§Æ;elá©©á©ªá©­äq;æeÉ¡á©´\0\0áªrrowÄlrá©¼áªeft;æºight;æ»ÊRSacdáªáªáªáªáªÂ»à½;æst;æirc;æash;ænint;æ¨id;æ«¯cir;æ§ubsÄ;uáª»áª¼æ£itÂ»áª¼Ë¬á«á«á«º\0á¬onÄ;eá«á«äºÄ;qÃÃÉ­á«\0\0á«¢aÄ;tá«á«ä¬;äÆ;flá«¨á«©á««æÃ®á eÄmxá«±á«¶entÂ»á«©eÃ³ÉÇ§á«¾\0á¬Ä;dá»á¬ot;æ©­nÃ´ÉÆfryá¬á¬á¬;ìðoÃ¤ÉèÂ©;sÅá¬r;æÄaoá¬¥á¬©rr;æµss;æÄcuá¬²á¬·r;ìð¸Äbpá¬¼á­Ä;eá­á­æ«;æ«Ä;eá­á­æ«;æ«dot;æ¯Îdelprvwá­ á­¬á­·á®á®¬á¯á¯¹arrÄlrá­¨á­ª;æ¤¸;æ¤µÉ°á­²\0\0á­µr;æc;æarrÄ;pá­¿á®æ¶;æ¤½Ì;bcdosá®á®á®á®¡á®¥á®¨æªrcap;æ©Äauá®á®p;æ©p;æ©ot;ær;æ©;ìâªï¸Èalrvá®µá®¿á¯á¯£rrÄ;má®¼á®½æ·;æ¤¼yÆevwá¯á¯á¯qÉ°á¯\0\0á¯reÃ£á­³uÃ£á­µee;æedge;æenè»Â¤ä¤earrowÄlrá¯®á¯³eftÂ»á®ightÂ»á®½eÃ¤á¯Äciá°á°oninÃ´Ç·nt;æ±lcty;æ­à¦AHabcdefhijlorstuwzá°¸á°»á°¿á±á±©á±µá²á²á²¬á²·á³»á³¿á´áµ»á¶á¶«á¶»á·á·rÃ²Îar;æ¥¥Èglrsá±á±á±á±ger;æ eth;æ¸Ã²á³hÄ;vá±á±æÂ»à¤Å«á±¡á±§arow;æ¤aÃ£ÌÄayá±®á±³ron;ä;ä´Æ;aoÌ²á±¼á²ÄgrÊ¿á²r;ætseq;æ©·Æglmá²á²á²è»Â°ä°ta;ä´ptyv;æ¦±Äirá²£á²¨sht;æ¥¿;ìð¡arÄlrá²³á²µÂ»à£Â»áÊaegsvá³Í¸á³á³á³ mÆ;osÌ¦á³á³ndÄ;sÌ¦á³uit;æ¦amma;äin;æ²Æ;ioá³§á³¨á³¸ä·deèÃ·;oá³§á³°ntimes;ænÃ¸á³·cy;äcÉ¯á´\0\0á´rn;æop;æÊlptuwá´á´á´¢áµáµlar;ä¤f;ìðÊ;empsÌá´­á´·á´½áµqÄ;dÍá´³ot;æinus;æ¸lus;æquare;æ¡blebarwedgÃ¥ÃºnÆadhá®áµáµ§ownarrowÃ³á²arpoonÄlráµ²áµ¶efÃ´á²´ighÃ´á²¶Å¢áµ¿á¶karoÃ·à½É¯á¶\0\0á¶rn;æop;æÆcotá¶á¶£á¶¦Äryá¶á¶¡;ìð¹;äl;æ§¶rok;äÄdrá¶°á¶´ot;æ±iÄ;fá¶ºá æ¿Äahá·á·rÃ²Ð©aÃ²à¾¦angle;æ¦¦Äciá·á·y;ägrarr;æ¿à¤Dacdefglmnopqrstuxá¸á¸á¸á¸¸Õ¸á¸¼á¹á¹¡á¹¾áº¥áº¯áº½á»¡á¼ªá¼·á½á½á½ÄDoá¸á´´oÃ´á²Äcsá¸á¸uteè»Ã©ä©ter;æ©®Èaioyá¸¢á¸§á¸±á¸¶ron;ärÄ;cá¸­á¸®æè»Ãªäªlon;æ;äot;äÄDrá¹á¹ot;æ;ìð¢Æ;rsá¹á¹á¹æªaveè»Ã¨ä¨Ä;dá¹á¹æªot;æªÈ;ilsá¹ªá¹«á¹²á¹´æªnters;æ§;æÄ;dá¹¹á¹ºæªot;æªÆapsáºáºáºcr;ätyÆ;sváºáºáºæetÂ»áºpÄ1;áºáº¤Ä³áº¡áº£;æ;ææÄgsáºªáº¬;äp;æÄgpáº´áº¸on;äf;ìðÆalsá»á»á»rÄ;sá»á»æl;æ§£us;æ©±iÆ;lvá»á»á»äµonÂ»á»;äµÈcsuvá»ªá»³á¼á¼£Äioá»¯á¸±rcÂ»á¸®É©á»¹\0\0á»»Ã­ÕantÄglá¼á¼trÂ»á¹essÂ»á¹ºÆaeiá¼á¼á¼ls;ä½st;ævÄ;DÈµá¼ D;æ©¸parsl;æ§¥ÄDaá¼¯á¼³ot;ærr;æ¥±Æcdiá¼¾á½á»¸r;æ¯oÃ´ÍÄahá½á½;ä·è»Ã°ä°Ämrá½á½lè»Ã«ä«o;æ¬Æcipá½¡á½¤á½§l;ä¡sÃ´Õ®Äeoá½¬á½´ctatioÃ®ÕnentialÃ¥Õ¹à§¡á¾\0á¾\0á¾¡á¾§\0\0á¿á¿\0á¿\0á¿¦á¿ªâ\0ââllingdotseÃ±á¹y;ämale;æÆilrá¾­á¾³á¿lig;èï¬É©á¾¹\0\0á¾½g;èï¬ig;èï¬;ìð£lig;èï¬lig;ìfjÆaltá¿á¿á¿¡t;æ­ig;èï¬ns;æ±of;äÇ°á¿®\0á¿³f;ìðÄakÖ¿á¿·Ä;vá¿¼á¿½æ;æ«artint;æ¨ÄaoââÄcsââÎ±ââ°â¸ââ\0âÎ²â¢â¥â§âªâ¬\0â®è»Â½ä½;æè»Â¼ä¼;æ;æ;æÆ³â´\0â¶;æ;æÊ´â¾â\0\0âè»Â¾ä¾;æ;æ5;æÆ¶â\0â;æ;æ8;æl;æwn;æ¢cr;ìð»à¢Eabcdefgijlnorstvââââ¥â°â´â°âµâºâ¿âââ¸Ìâ¾ââÄ;lÙâ;æªÆcmpâââute;äµmaÄ;dâá³ä³;æªreve;äÄiyâªâ®rc;ä;ä³ot;ä¡È;lqsØ¾Ùâ½âÆ;qsØ¾ÙâlanÃ´Ù¥È;cdlÙ¥âââ¥c;æª©otÄ;oââæªÄ;lâ¢â£æª;æªÄ;eâªâ­ìâï¸s;æªr;ìð¤Ä;gÙ³Ømel;æ·cy;äÈ;EajÙâââ;æª;æª¥;æª¤ÈEaesâââ©â´;æ©pÄ;pâ£â¤æªroxÂ»â¤Ä;qâ®â¯æªÄ;qâ®âim;æ§pf;ìðÄciââr;æmÆ;elÙ«ââ;æª;æªè>;cdlqr×®â âªâ®â³â¹Äciâ¥â§;æª§r;æ©ºot;æPar;æ¦uest;æ©¼ÊadelsââªâÙâÇ°â\0âproÃ¸âr;æ¥¸qÄlqØ¿âlesÃ³âiÃ­Ù«Äenâ£â­rtneqq;ìâ©ï¸ÃâªÔAabcefkosyâââ±âµâºâââ¯â¨â½rÃ²Î ÈilmrâââârsÃ°áfÂ»â¤ilÃ´Ú©Ädrâ â¤cy;äÆ;cwà£´â«â¯ir;æ¥;æ­ar;æirc;ä¥ÆalrââârtsÄ;uââæ¥itÂ»âlip;æ¦con;æ¹r;ìð¥sÄewâ£â©arow;æ¤¥arow;æ¤¦Êamoprâºâ¾âââ£rr;æ¿tht;æ»kÄlrââeftarrow;æ©ightarrow;æªf;ìðbar;æÆcltâ¯â´â¸r;ìð½asÃ¨â´rok;ä§Äbpââull;æhenÂ»á±à«¡â£\0âª\0â¸ââ\0ââ³\0\0â¸â¢â§â¢â¿\0ââªâ´cuteè»Ã­ä­Æ;iyÝ±â°âµrcè»Ã®ä®;ä¸Äcxâ¼â¿y;äµclè»Â¡ä¡ÄfrÎâ;ìð¦raveè»Ã¬ä¬È;inoÜ¾ââ©â®Äinâ¢â¦nt;æ¨t;æ­fin;æ§ta;æ©lig;ä³Æaopâ¾ââÆcgtâââr;ä«ÆelpÜââinÃ¥ÞarÃ´Ü h;ä±f;æ·ed;äµÊ;cfotÓ´â¬â±â½âare;æinÄ;tâ¸â¹æie;æ§doÃ´âÊ;celpÝââââ¡al;æºÄgrââerÃ³á£Ã£âarhk;æ¨rod;æ¨¼Ècgptâ¯â²â¶â»y;äon;ä¯f;ìða;ä¹uestè»Â¿ä¿Äciââr;ìð¾nÊ;EdsvÓ´âââ¡Ó³;æ¹ot;æµÄ;vâ¦â§æ´;æ³Ä;iÝ·â®lde;ä©Ç«â¸\0â¼cy;älè»Ã¯ä¯Ìcfmosuââââ¡â§âµÄiyâârc;äµ;ä¹r;ìð§ath;ä·pf;ìðÇ£â¬\0â±r;ìð¿rcy;äkcy;äÐacfghjosâââ¢â§â­â±âµâ»ppaÄ;vââäº;ä°Äeyââ dil;ä·;äºr;ìð¨reen;ä¸cy;äcy;äpf;ìðcr;ìðà®ABEHabcdefghjlmnoprstuvâ°ââââââ½âââââ¥â¹â½ââ²âââ¨âââ â Æartâ·âºâ¼rÃ²à§Ã²Îail;æ¤arr;æ¤Ä;gà¦â;æªar;æ¥¢à¥£â¥\0âª\0â±\0\0\0\0\0âµâº\0âââ\0â¹ute;äºmptyv;æ¦´raÃ®à¡bda;ä»gÆ;dlà¢ââ;æ¦Ã¥à¢;æªuoè»Â«ä«rÐ;bfhlpstà¢ââ¦â©â«â®â±âµÄ;fà¢â£s;æ¤s;æ¤Ã«âp;æ«l;æ¤¹im;æ¥³l;æ¢Æ;aeâ¿ââæª«il;æ¤Ä;sââæª­;ìâª­ï¸Æabrââârr;æ¤rk;æ²Äakâ¢â¬cÄekâ¨âª;ä»;äÄesâ±â³;æ¦lÄduâ¹â»;æ¦;æ¦Èaeuyââââron;ä¾Ädiââil;ä¼Ã¬à¢°Ã¢â©;ä»Ècqrsâ£â¦â­â½a;æ¤¶uoÄ;rà¸áÄduâ²â·har;æ¥§shar;æ¥h;æ²Ê;fgqsââà¦â³â¿æ¤tÊahlrtââ¤â·ââ¨rrowÄ;tà¢â¡aÃ©â¶arpoonÄduâ¯â´ownÂ»ÑpÂ»à¥¦eftarrows;æightÆahsââârrowÄ;sà£´à¢§arpoonÃ³à¾quigarroÃ·â°hreetimes;æÆ;qsâà¦âºlanÃ´à¦¬Ê;cdgsà¦¬ââââ¨c;æª¨otÄ;oââæ©¿Ä;rââæª;æªÄ;eâ¢â¥ìâï¸s;æªÊadegsâ³â¹â½ââpproÃ¸âot;æqÄgqââÃ´à¦gtÃ²âÃ´à¦iÃ­à¦²Æilrâà£¡âsht;æ¥¼;ìð©Ä;Eà¦â£;æªÅ¡â©â¶rÄduâ²â®Ä;là¥¥â³;æ¥ªlk;æcy;äÊ;achtà©âââârÃ²âorneÃ²á´ard;æ¥«ri;æºÄioââ¤dot;äustÄ;aâ¬â­æ°cheÂ»â­ÈEaesâ»â½ââ;æ¨pÄ;pââæªroxÂ»âÄ;qââæªÄ;qââ»im;æ¦Ðabnoptwzâ©â´â·ââ¯âââÄnrâ®â±g;æ¬r;æ½rÃ«à£gÆlmrâ¿ââeftÄarà§¦âightÃ¡à§²apsto;æ¼ightÃ¡à§½parrowÄlrâ¥â©efÃ´â­ight;æ¬Æaflâ¶â¹â½r;æ¦;ìðus;æ¨­imes;æ¨´Å¡ââst;æÃ¡áÆ;efââá ængeÂ»âarÄ;lâ¤â¥ä¨t;æ¦Êachmtâ³â¶â¼âârÃ²à¢¨orneÃ²á¶arÄ;dà¾â;æ¥­;æri;æ¿Ìachiqtââà©â¢â®â»quo;æ¹r;ìðmÆ;egà¦²âªâ¬;æª;æªÄbuâªâ³oÄ;rà¸â¹;ærok;äè<;cdhilqrà «ââ¹ââ â¥âªâ°Äciââ;æª¦r;æ©¹reÃ¥â²mes;æarr;æ¥¶uest;æ©»ÄPiâµâ¹ar;æ¦Æ;efâ à¤­á ærÄduâ â shar;æ¥har;æ¥¦Äenâ â ¡rtneqq;ìâ¨ï¸Ãâ ÜDacdefhilnopsuâ¡â¡â¢â¢â¢â¢ â¢¥â¢¨â£â£¢â£¤àªâ£³â¤Dot;æºÈclprâ¡â¡â¡£â¡½rè»Â¯ä¯Äetâ¡â¡;æÄ;eâ¡â¡æ seÂ»â¡Ä;sá»â¡¨toÈ;dluá»â¡³â¡·â¡»owÃ®ÒefÃ´à¤Ã°áker;æ®Äoyâ¢â¢mma;æ¨©;ä¼ash;æasuredangleÂ»á¦r;ìðªo;æ§Æcdnâ¢¯â¢´â£roè»ÂµäµÈ;acdá¤â¢½â£â£sÃ´á§ir;æ«°otè»Â·ÆµusÆ;bdâ£á¤â£æÄ;uá´¼â£;æ¨ªÅ£â£â£¡p;æ«Ã²âÃ°àªÄdpâ£©â£®els;æ§f;ìðÄctâ£¸â£½r;ìðposÂ»áÆ;lmâ¤â¤â¤ä¼timap;æ¸à°GLRVabcdefghijlmoprstuvwâ¥â¥â¥¾â¦â¦â§â§©â¨â¨â©â©âªâªâª¤âª¨â¬â¬â­â­¿â®®â°´â±§â±¼â³©Ägtâ¥â¥;ìâÌ¸Ä;vâ¥à¯ìâ«âÆeltâ¥â¥²â¥¶ftÄarâ¥¡â¥§rrow;æightarrow;æ;ìâÌ¸Ä;vâ¥»à±ìâªâightarrow;æÄDdâ¦â¦ash;æ¯ash;æ®Êbcnptâ¦£â¦§â¦¬â¦±â§laÂ»Ëute;äg;ìâ âÊ;Eiopà¶â¦¼â§â§â§;ìâ©°Ì¸d;ìâÌ¸s;äroÃ¸à¶urÄ;aâ§â§æ®lÄ;sâ§à¬¸Ç³â§\0â§£pè»Â à¬·mpÄ;eà¯¹à°Êaeouyâ§´â§¾â¨â¨â¨Ç°â§¹\0â§»;æ©on;ädil;ängÄ;dàµ¾â¨ot;ìâ©­Ì¸p;æ©;ä½ash;æÎ;Aadqsxà®â¨©â¨­â¨»â©â©â©rr;ærÄhrâ¨³â¨¶k;æ¤¤Ä;oá²á°ot;ìâÌ¸uiÃ¶à­£Äeiâ©â©ar;æ¤¨Ã­à®istÄ;sà® à®r;ìð«ÈEestà¯â©¦â©¹â©¼Æ;qsà®¼â©­à¯¡Æ;qsà®¼à¯â©´lanÃ´à¯¢iÃ­à¯ªÄ;rà®¶âªÂ»à®·ÆAapâªâªâªrÃ²â¥±rr;æ®ar;æ«²Æ;svà¾âªà¾Ä;dâª¡âª¢æ¼;æºcy;äÎAEadestâª·âªºâª¾â«â«â«¶â«¹rÃ²â¥¦;ìâ¦Ì¸rr;ær;æ¥È;fqsà°»â«â«£â«¯tÄarâ«â«rroÃ·â«ightarroÃ·âªÆ;qsà°»âªºâ«ªlanÃ´à±Ä;sà±â«´Â»à°¶iÃ­à±Ä;rà°µâ«¾iÄ;eà°à°¥iÃ¤à¶Äptâ¬â¬f;ìðèÂ¬;inâ¬â¬â¬¶ä¬nÈ;Edvà®â¬¤â¬¨â¬®;ìâ¹Ì¸ot;ìâµÌ¸Ç¡à®â¬³â¬µ;æ·;æ¶iÄ;và²¸â¬¼Ç¡à²¸â­â­;æ¾;æ½Æaorâ­â­£â­©rÈ;astà­»â­â­â­lleÃ¬à­»l;ìâ«½â¥;ìâÌ¸lint;æ¨Æ;ceà²â­°â­³uÃ¥à²¥Ä;cà²â­¸Ä;eà²â­½Ã±à²ÈAaitâ®â®â®â®§rÃ²â¦rrÆ;cwâ®â®â®æ;ìâ¤³Ì¸;ìâÌ¸ghtarrowÂ»â®riÄ;eà³à³Îchimpquâ®½â¯â¯â¬à­¸â¯¤â¯¯È;cerà´²â¯à´·â¯uÃ¥àµ;ìðortÉ­â¬\0\0â¯arÃ¡â­mÄ;eàµ®â¯Ä;qàµ´àµ³suÄbpâ¯«â¯­Ã¥à³¸Ã¥à´Æbcpâ¯¶â°â°È;Eesâ¯¿â°à´¢â°æ;ìâ«Ì¸etÄ;eà´â°qÄ;qà´£â°cÄ;eà´²â°Ã±à´¸È;Eesâ°¢â°£àµâ°§æ;ìâ«Ì¸etÄ;eàµâ°®qÄ;qàµ â°£Ègilrâ°½â°¿â±â±Ã¬à¯ldeè»Ã±ä±Ã§à±iangleÄlrâ±â±eftÄ;eà°â±Ã±à°¦ightÄ;eà³â±¥Ã±à³Ä;mâ±¬â±­ä½Æ;esâ±´â±µâ±¹ä£ro;æp;æÒDHadgilrsâ²â²â²â²â²£â²°â²¶â³â³£ash;æ­arr;æ¤p;ìââash;æ¬Äetâ²¨â²¬;ìâ¥â;ì>ânfin;æ§ÆAetâ²½â³â³rr;æ¤;ìâ¤âÄ;râ³â³ì<âie;ìâ´âÄAtâ³â³rr;æ¤rie;ìâµâim;ìâ¼âÆAanâ³°â³´â´rr;ærÄhrâ³ºâ³½k;æ¤£Ä;oá§á¥ear;æ¤§ááª\0\0\0\0\0\0\0\0\0\0\0\0\0â´­\0â´¸âµâµ âµ¥âµ²â¶á¬\0\0â¶â¶«\0â·â·\0â·â¸â¸«â¸¾â¹Äcsâ´±áªuteè»Ã³ä³Äiyâ´¼âµrÄ;cáªâµè»Ã´ä´;ä¾Êabiosáª âµâµÇâµlac;äv;æ¨¸old;æ¦¼lig;äÄcrâµ©âµ­ir;æ¦¿;ìð¬Í¯âµ¹\0\0âµ¼\0â¶n;äaveè»Ã²ä²;æ§Äbmâ¶à·´ar;æ¦µÈacitâ¶â¶â¶¥â¶¨rÃ²áªÄirâ¶â¶ r;æ¦¾oss;æ¦»nÃ¥à¹;æ§Æaeiâ¶±â¶µâ¶¹cr;äga;äÆcdnâ·â·Çron;ä¿;æ¦¶pf;ìð Æaelâ·â·Çr;æ¦·rp;æ¦¹Î;adiosvâ·ªâ·«â·®â¸â¸â¸â¸æ¨rÃ²áªÈ;efmâ··â·¸â¸â¸æ©rÄ;oâ·¾â·¿æ´fÂ»â·¿è»Âªäªè»Âºäºgof;æ¶r;æ©lope;æ©;æ©Æcloâ¸â¸¡â¸§Ã²â¸ashè»Ã¸ä¸l;æiÅ¬â¸¯â¸´deè»ÃµäµesÄ;aÇâ¸ºs;æ¨¶mlè»Ã¶ä¶bar;æ½à«¡â¹\0â¹½\0âºâº\0âº¢âº¹\0\0â»àº\0â¼\0\0â¼«â¾¼\0â¿rÈ;astÐâ¹§â¹²àºèÂ¶;lâ¹­â¹®ä¶leÃ¬ÐÉ©â¹¸\0\0â¹»m;æ«³;æ«½y;ä¿rÊcimptâºâºâºá¡¥âºnt;ä¥od;ä®il;æ°enk;æ±r;ìð­Æimoâº¨âº°âº´Ä;vâº­âº®ä;ämaÃ´à©¶ne;æÆ;tvâº¿â»â»ächforkÂ»á¿½;äÄauâ»â»nÄckâ»â»kÄ;hâ´â»;æÃ¶â´sÒ;abcdemstâ»³â»´á¤â»¹â»½â¼â¼â¼â¼ä«cir;æ¨£ir;æ¨¢Äouáµâ¼;æ¨¥;æ©²nè»Â±àºim;æ¨¦wo;æ¨§Æipuâ¼â¼ â¼¥ntint;æ¨f;ìð¡ndè»Â£ä£Ô;Eaceinosuà»â¼¿â½â½â½â¾â¾â¾â½¾â¾¶;æª³p;æª·uÃ¥à»Ä;cà»â½Ì;acensà»â½â½â½¦â½¨â½¾pproÃ¸â½urlyeÃ±à»Ã±à»Æaesâ½¯â½¶â½ºpprox;æª¹qq;æªµim;æ¨iÃ­à»meÄ;sâ¾àº®æ²ÆEasâ½¸â¾â½ºÃ°â½µÆdfpà»¬â¾â¾¯Æalsâ¾ â¾¥â¾ªlar;æ®ine;æurf;æÄ;tà»»â¾´Ã¯à»»rel;æ°Äciâ¿â¿r;ìð;äncsp;æÌfiopsuâ¿â¢â¿â¿¥â¿«â¿±r;ìð®pf;ìð¢rime;æcr;ìðÆaeoâ¿¸ããtÄeiâ¿¾ãrnionÃ³Ú°nt;æ¨stÄ;eããä¿Ã±á¼Ã´à¼àªABHabcdefhilmnoprstuxããããã ãã«ãã¢ã²ãããã¤ã©ãã®ã²ãã°ã·ÆartãããrÃ²á³Ã²Ïail;æ¤arÃ²á±¥ar;æ¥¤Îcdenqrtã¨ãµã¸ã¿ãããÄeuã­ã±;ìâ½Ì±te;äiÃ£á®mptyv;æ¦³gÈ;delà¿ããã;æ¦;æ¦¥Ã¥à¿uoè»Â»ä»rÖ;abcfhlpstwà¿ã¬ã¯ã·ã¹ã¼ã¾ããããp;æ¥µÄ;fà¿ ã´s;æ¤ ;æ¤³s;æ¤Ã«âÃ°â®l;æ¥im;æ¥´l;æ£;æÄaiããil;æ¤oÄ;nããæ¶alÃ³à¼Æabrã§ãªã®rÃ²á¥rk;æ³Äakã³ã½cÄekã¹ã»;ä½;äÄesãã;æ¦lÄduãã;æ¦;æ¦Èaeuyããã§ã©ron;äÄdiã¡ã¥il;äÃ¬à¿²Ã¢ãº;äÈclqsã´ã·ã½ãa;æ¤·dhar;æ¥©uoÄ;rÈÈh;æ³Æacgããà½lÈ;ipsà½¸ããánÃ¥á»arÃ´à¾©t;æ­Æilrã©á£ã®sht;æ¥½;ìð¯Äaoã·ãrÄduã½ã¿Â»Ñ»Ä;láã;æ¥¬Ä;vããä;ä±Ægnsãã¹ã¼htÌahlrstã¤ã°ããã¤ã®rrowÄ;tà¿ã­aÃ©ãarpoonÄduã»ã¿owÃ®ã¾pÂ»áeftÄahããrrowÃ³à¿ªarpoonÃ³Õightarrows;æquigarroÃ·ãhreetimes;æg;äingdotseÃ±á¼²ÆahmãããrÃ²à¿ªaÃ²Õ;æoustÄ;aããæ±cheÂ»ãmid;æ«®Èabptã²ã½ããÄnrã·ãºg;æ­r;æ¾rÃ«áÆaflãããr;æ¦;ìð£us;æ¨®imes;æ¨µÄapãã§rÄ;gã£ã¤ä©t;æ¦olint;æ¨arÃ²ã£Èachqã»ãá¼ãquo;æºr;ìðÄbuã»ãoÄ;rÈÈÆhirããã reÃ¥ã¸mes;æiÈ;eflãªáá ¡ã«æ¹tri;æ§luhar;æ¥¨;æàµ¡ãããã¬ã¸ã±\0ãºã¤\0\0ã¬ã°\0ã¨ããã­ã±ãã±\0ã\0\0ã³cute;äquÃ¯âºÔ;Eaceinpsyá­ã³ãµã¿ããããã¦ã©;æª´Ç°ãº\0ã¼;æª¸on;ä¡uÃ¥á¾Ä;dá³ãil;ärc;äÆEasããã;æª¶p;æªºim;æ©olint;æ¨iÃ­á;äotÆ;beã´áµãµæ;æ©¦ÎAacmstxãããããã£ã­rr;ærÄhrããÃ«â¨Ä;oà¨¶à¨´tè»Â§ä§i;ä»war;æ¤©mÄinã©Ã°nuÃ³Ã±t;æ¶rÄ;oã¶âìð°Èacoyãããã rp;æ¯Ähyããcy;ä;ärtÉ­ã\0\0ãiÃ¤á¤araÃ¬â¹¯è»Â­ä­Ägmã¨ã´maÆ;fvã±ã²ã²ä;äÐ;deglnprá«ãããããã¡ã¦ot;æ©ªÄ;qá±á°Ä;Eããæª;æª Ä;Eããæª;æªe;ælus;æ¨¤arr;æ¥²arÃ²á½Èaeitã¸ãããÄlsã½ãlsetmÃ©ãªhp;æ¨³parsl;æ§¤Ädlá£ãe;æ£Ä;eããæªªÄ;sã¢ã£æª¬;ìâª¬ï¸Æflpã®ã³ãtcy;äÄ;bã¸ã¹ä¯Ä;aã¾ã¿æ§r;æ¿f;ìð¤aÄdrãÐesÄ;uããæ itÂ»ãÆcsuã ã¹ãÄauã¥ã¯pÄ;sáã«;ìâï¸pÄ;sá´ãµ;ìâï¸uÄbpã¿ãÆ;esááãetÄ;eáãÃ±áÆ;esá¨á­ãetÄ;eá¨ãÃ±á®Æ;afá»ã¦Ö°rÅ¥ã«Ö±Â»á¼arÃ²áÈcemtã¹ã¾ããr;ìðtmÃ®Ã±iÃ¬ãarÃ¦á¾ÄarããrÄ;fãá¿æÄanãã­ightÄepã£ãªpsiloÃ®á» hÃ©âº¯sÂ»â¡Êbcmnpã»ãáããÒ;Edemnprsãããããã£ã¬ã±ã¶æ;æ«ot;æª½Ä;dáãot;æ«ult;æ«ÄEeã¨ãª;æ«;ælus;æª¿arr;æ¥¹Æeiuã½ããtÆ;enãããqÄ;qáãeqÄ;qã«ã¨m;æ«Äbpãã;æ«;æ«cÌ;acensá­ã¬ã²ã¹ã»ã¦pproÃ¸ãºurlyeÃ±á¾Ã±á³ÆaesãããpproÃ¸ãqÃ±ãg;æªÚ123;Edehlmnpsã©ã¬ã¯áã²ã´ãããããã¨ã­è»Â¹ä¹è»Â²ä²è»Â³ä³;æ«Äosã¹ã¼t;æª¾ub;æ«Ä;dá¢ãot;æ«sÄouããl;æb;æ«arr;æ¥»ult;æ«ÄEeã¤ã¦;æ«;ælus;æ«Æeiuã´ããtÆ;enáã¼ãqÄ;qá¢ã²eqÄ;qã§ã¤m;æ«Äbpãã;æ«;æ«ÆAanãã ã­rr;ærÄhrã¦ã¨Ã«â®Ä;oà¨«à¨©war;æ¤ªligè»Ãäà¯¡ããã áã³ã¹\0ã¾ã\0\0\0\0\0ãã\0ãã¬\0\0\0ãÉ²ã\0\0ãget;æ;ärÃ«à¹Æaeyã¦ã«ã°ron;ä¥dil;ä£;älrec;ær;ìð±Èeikoãããµã¼Ç²ã\0ãeÄ4fááaÆ;svãããä¸ym;äÄcnã¢ã²kÄasã¨ã®pproÃ¸áimÂ»á¬sÃ°áÄasãºã®Ã°árnè»Ã¾ä¾Ç¬Ìãâ§esèÃ;bdãããäÄ;aá¤ãr;æ¨±;æ¨°Æepsã¡ã£ãÃ¡â©È;bcfÒã¬ã°ã´ot;æ¶ir;æ«±Ä;oã¹ã¼ìð¥rk;æ«Ã¡ã¢rime;æ´Æaipããã¤dÃ¥áÎadempstã¡ããããããngleÊ;dlqrã°ã±ã¶ããæµownÂ»á¶»eftÄ;eâ ã¾Ã±à¤®;æightÄ;eãªãÃ±áot;æ¬inus;æ¨ºlus;æ¨¹b;æ§ime;æ¨»ezium;æ¢Æchtã²ã½ãÄryã·ã»;ìð;äcy;ärok;ä§ÄioããxÃ´á·headÄlrãã eftarroÃ·à¡ightarrowÂ»à½à¤AHabcdfghlmoprstuwãããã¤ã°ã¼ã ã ã £ã ´ã¡ã¡ã¡«ã¢©ã£ã£ã£ªã£¶rÃ²Ï­ar;æ¥£Äcrãã¢uteè»ÃºäºÃ²árÇ£ãª\0ã­y;äve;ä­Äiyãµãºrcè»Ã»ä»;äÆabhã ã ã rÃ²á­lac;ä±aÃ²áÄirã ã sht;æ¥¾;ìð²raveè»Ã¹ä¹Å¡ã §ã ±rÄlrã ¬ã ®Â»à¥Â»álk;æÄctã ¹ã¡É¯ã ¿\0\0ã¡rnÄ;eã¡ã¡ærÂ»ã¡op;æri;æ¸Äalã¡ã¡cr;ä«è»Â¨ÍÄgpã¡¢ã¡¦on;ä³f;ìð¦Ìadhlsuáã¡¸ã¡½á²ã¢ã¢ ownÃ¡á³arpoonÄlrã¢ã¢efÃ´ã ­ighÃ´ã ¯iÆ;hlã¢ã¢ã¢äÂ»áºonÂ»ã¢parrows;æÆcitã¢°ã£ã£É¯ã¢¶\0\0ã£rnÄ;eã¢¼ã¢½ærÂ»ã¢½op;æng;ä¯ri;æ¹cr;ìðÆdirã£ã£ã£¢ot;æ°lde;ä©iÄ;fã°ã£¨Â»á Äamã£¯ã£²rÃ²ã¢¨lè»Ã¼ä¼angle;æ¦§ÞABDacdeflnoprszã¤ã¤ã¤©ã¤­ã¦µã¦¸ã¦½ã§ã§¤ã§¨ã§³ã§¹ã§½ã¨ã¨ rÃ²Ï·arÄ;vã¤¦ã¤§æ«¨;æ«©asÃ¨Ï¡Änrã¤²ã¤·grt;æ¦Îeknprstã£ã¥ã¥ã¥ã¥ã¥¤ã¦appÃ¡âothinÃ§áºÆhirã«â»ã¥opÃ´â¾µÄ;há·ã¥¢Ã¯ãÄiuã¥©ã¥­gmÃ¡ã³Äbpã¥²ã¦setneqÄ;qã¥½ã¦ìâï¸;ìâ«ï¸setneqÄ;qã¦ã¦ìâï¸;ìâ«ï¸Ährã¦ã¦etÃ¡ãiangleÄlrã¦ªã¦¯eftÂ»à¤¥ightÂ»áy;ä²ashÂ»á¶Æelrã§ã§ã§Æ;beâ·ªã§ã§ar;æ»q;ælip;æ®Äbtã§á¨aÃ²á©r;ìð³trÃ©ã¦®suÄbpã§¯ã§±Â»à´Â»àµpf;ìð§roÃ°à»»trÃ©ã¦´Äcuã¨ã¨r;ìðÄbpã¨ã¨nÄEeã¦ã¨Â»ã¥¾nÄEeã¦ã¨Â»ã¦igzag;æ¦Îcefoprsã¨¶ã¨»ã©ã©ã©ã©¡ã©ªirc;äµÄdiã©ã©Äbgã©ã©ar;æ©eÄ;qáºã©;æerp;ær;ìð´pf;ìð¨Ä;eá¹ã©¦atÃ¨á¹cr;ìðà«£áãª\0ãª\0ãªãª\0\0ãªãª¨ãª«ãª¯\0\0ã«ã«\0ã«áátrÃ©ár;ìðµÄAaãªãªrÃ²ÏrÃ²à§¶;ä¾ÄAaãª¡ãª¤rÃ²Î¸rÃ²à§«aÃ°âis;æ»Ædptá¤ãªµãª¾Äflãªºá©;ìð©imÃ¥á²ÄAaã«ã«rÃ²ÏrÃ²à¨Äcqã«á¸r;ìðÄptáã«rÃ©áÐacefiosuã«°ã«½ã¬ã¬ã¬ã¬ã¬ã¬¡cÄuyã«¶ã«»teè»Ã½ä½;äÄiyã¬ã¬rc;ä·;änè»Â¥ä¥r;ìð¶cy;äpf;ìðªcr;ìðÄcmã¬¦ã¬©y;älè»Ã¿ä¿Ôacdefhioswã­ã­ã­ã­ã­¤ã­©ã­­ã­´ã­ºã®cute;äºÄayã­ã­ron;ä¾;ä·ot;ä¼Äetã­ã­¡trÃ¦áa;ä¶r;ìð·cy;ä¶grarr;æpf;ìð«cr;ìðÄjnã®ã®;æj;æ'.split("").map(function(e){return e.charCodeAt(0)}))),Kc}var Qc={},Vy;function wQ(){return Vy||(Vy=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.default=new Uint16Array("Èaglq	\x1BÉ­\0\0p;ä¦os;ä§t;ä¾t;ä¼uot;ä¢".split("").map(function(e){return e.charCodeAt(0)}))),Qc}var up={},$y;function Wy(){return $y||($y=1,(function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.replaceCodePoint=e.fromCodePoint=void 0;var n=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);e.fromCodePoint=(t=String.fromCodePoint)!==null&&t!==void 0?t:function(s){var a="";return s>65535&&(s-=65536,a+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),a+=String.fromCharCode(s),a};function r(s){var a;return s>=55296&&s<=57343||s>1114111?65533:(a=n.get(s))!==null&&a!==void 0?a:s}e.replaceCodePoint=r;function i(s){return(0,e.fromCodePoint)(r(s))}e.default=i})(up)),up}var Yy;function Uf(){return Yy||(Yy=1,(function(e){var t=Jr&&Jr.__createBinding||(Object.create?(function(A,w,O,D){D===void 0&&(D=O);var B=Object.getOwnPropertyDescriptor(w,O);(!B||("get"in B?!w.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return w[O]}}),Object.defineProperty(A,D,B)}):(function(A,w,O,D){D===void 0&&(D=O),A[D]=w[O]})),n=Jr&&Jr.__setModuleDefault||(Object.create?(function(A,w){Object.defineProperty(A,"default",{enumerable:!0,value:w})}):function(A,w){A.default=w}),r=Jr&&Jr.__importStar||function(A){if(A&&A.__esModule)return A;var w={};if(A!=null)for(var O in A)O!=="default"&&Object.prototype.hasOwnProperty.call(A,O)&&t(w,A,O);return n(w,A),w},i=Jr&&Jr.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXML=e.decodeHTMLStrict=e.decodeHTMLAttribute=e.decodeHTML=e.determineBranch=e.EntityDecoder=e.DecodingMode=e.BinTrieFlags=e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=void 0;var s=i(vQ());e.htmlDecodeTree=s.default;var a=i(wQ());e.xmlDecodeTree=a.default;var o=r(Wy());e.decodeCodePoint=o.default;var u=Wy();Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return u.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return u.fromCodePoint}});var c;(function(A){A[A.NUM=35]="NUM",A[A.SEMI=59]="SEMI",A[A.EQUALS=61]="EQUALS",A[A.ZERO=48]="ZERO",A[A.NINE=57]="NINE",A[A.LOWER_A=97]="LOWER_A",A[A.LOWER_F=102]="LOWER_F",A[A.LOWER_X=120]="LOWER_X",A[A.LOWER_Z=122]="LOWER_Z",A[A.UPPER_A=65]="UPPER_A",A[A.UPPER_F=70]="UPPER_F",A[A.UPPER_Z=90]="UPPER_Z"})(c||(c={}));var l=32,d;(function(A){A[A.VALUE_LENGTH=49152]="VALUE_LENGTH",A[A.BRANCH_LENGTH=16256]="BRANCH_LENGTH",A[A.JUMP_TABLE=127]="JUMP_TABLE"})(d=e.BinTrieFlags||(e.BinTrieFlags={}));function h(A){return A>=c.ZERO&&A<=c.NINE}function f(A){return A>=c.UPPER_A&&A<=c.UPPER_F||A>=c.LOWER_A&&A<=c.LOWER_F}function p(A){return A>=c.UPPER_A&&A<=c.UPPER_Z||A>=c.LOWER_A&&A<=c.LOWER_Z||h(A)}function x(A){return A===c.EQUALS||p(A)}var _;(function(A){A[A.EntityStart=0]="EntityStart",A[A.NumericStart=1]="NumericStart",A[A.NumericDecimal=2]="NumericDecimal",A[A.NumericHex=3]="NumericHex",A[A.NamedEntity=4]="NamedEntity"})(_||(_={}));var b;(function(A){A[A.Legacy=0]="Legacy",A[A.Strict=1]="Strict",A[A.Attribute=2]="Attribute"})(b=e.DecodingMode||(e.DecodingMode={}));var T=(function(){function A(w,O,D){this.decodeTree=w,this.emitCodePoint=O,this.errors=D,this.state=_.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=b.Strict}return A.prototype.startEntity=function(w){this.decodeMode=w,this.state=_.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},A.prototype.write=function(w,O){switch(this.state){case _.EntityStart:return w.charCodeAt(O)===c.NUM?(this.state=_.NumericStart,this.consumed+=1,this.stateNumericStart(w,O+1)):(this.state=_.NamedEntity,this.stateNamedEntity(w,O));case _.NumericStart:return this.stateNumericStart(w,O);case _.NumericDecimal:return this.stateNumericDecimal(w,O);case _.NumericHex:return this.stateNumericHex(w,O);case _.NamedEntity:return this.stateNamedEntity(w,O)}},A.prototype.stateNumericStart=function(w,O){return O>=w.length?-1:(w.charCodeAt(O)|l)===c.LOWER_X?(this.state=_.NumericHex,this.consumed+=1,this.stateNumericHex(w,O+1)):(this.state=_.NumericDecimal,this.stateNumericDecimal(w,O))},A.prototype.addToNumericResult=function(w,O,D,B){if(O!==D){var M=D-O;this.result=this.result*Math.pow(B,M)+parseInt(w.substr(O,M),B),this.consumed+=M}},A.prototype.stateNumericHex=function(w,O){for(var D=O;O<w.length;){var B=w.charCodeAt(O);if(h(B)||f(B))O+=1;else return this.addToNumericResult(w,D,O,16),this.emitNumericEntity(B,3)}return this.addToNumericResult(w,D,O,16),-1},A.prototype.stateNumericDecimal=function(w,O){for(var D=O;O<w.length;){var B=w.charCodeAt(O);if(h(B))O+=1;else return this.addToNumericResult(w,D,O,10),this.emitNumericEntity(B,2)}return this.addToNumericResult(w,D,O,10),-1},A.prototype.emitNumericEntity=function(w,O){var D;if(this.consumed<=O)return(D=this.errors)===null||D===void 0||D.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(w===c.SEMI)this.consumed+=1;else if(this.decodeMode===b.Strict)return 0;return this.emitCodePoint((0,o.replaceCodePoint)(this.result),this.consumed),this.errors&&(w!==c.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},A.prototype.stateNamedEntity=function(w,O){for(var D=this.decodeTree,B=D[this.treeIndex],M=(B&d.VALUE_LENGTH)>>14;O<w.length;O++,this.excess++){var F=w.charCodeAt(O);if(this.treeIndex=g(D,B,this.treeIndex+Math.max(1,M),F),this.treeIndex<0)return this.result===0||this.decodeMode===b.Attribute&&(M===0||x(F))?0:this.emitNotTerminatedNamedEntity();if(B=D[this.treeIndex],M=(B&d.VALUE_LENGTH)>>14,M!==0){if(F===c.SEMI)return this.emitNamedEntityData(this.treeIndex,M,this.consumed+this.excess);this.decodeMode!==b.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},A.prototype.emitNotTerminatedNamedEntity=function(){var w,O=this,D=O.result,B=O.decodeTree,M=(B[D]&d.VALUE_LENGTH)>>14;return this.emitNamedEntityData(D,M,this.consumed),(w=this.errors)===null||w===void 0||w.missingSemicolonAfterCharacterReference(),this.consumed},A.prototype.emitNamedEntityData=function(w,O,D){var B=this.decodeTree;return this.emitCodePoint(O===1?B[w]&~d.VALUE_LENGTH:B[w+1],D),O===3&&this.emitCodePoint(B[w+2],D),D},A.prototype.end=function(){var w;switch(this.state){case _.NamedEntity:return this.result!==0&&(this.decodeMode!==b.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case _.NumericDecimal:return this.emitNumericEntity(0,2);case _.NumericHex:return this.emitNumericEntity(0,3);case _.NumericStart:return(w=this.errors)===null||w===void 0||w.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case _.EntityStart:return 0}},A})();e.EntityDecoder=T;function N(A){var w="",O=new T(A,function(D){return w+=(0,o.fromCodePoint)(D)});return function(B,M){for(var F=0,G=0;(G=B.indexOf("&",G))>=0;){w+=B.slice(F,G),O.startEntity(M);var $=O.write(B,G+1);if($<0){F=G+O.end();break}F=G+$,G=$===0?F+1:F}var P=w+B.slice(F);return w="",P}}function g(A,w,O,D){var B=(w&d.BRANCH_LENGTH)>>7,M=w&d.JUMP_TABLE;if(B===0)return M!==0&&D===M?O:-1;if(M){var F=D-M;return F<0||F>=B?-1:A[O+F]-1}for(var G=O,$=G+B-1;G<=$;){var P=G+$>>>1,j=A[P];if(j<D)G=P+1;else if(j>D)$=P-1;else return A[P+B]}return-1}e.determineBranch=g;var y=N(s.default),E=N(a.default);function I(A,w){return w===void 0&&(w=b.Legacy),y(A,w)}e.decodeHTML=I;function R(A){return y(A,b.Attribute)}e.decodeHTMLAttribute=R;function L(A){return y(A,b.Strict)}e.decodeHTMLStrict=L;function S(A){return E(A,b.Strict)}e.decodeXML=S})(Jr)),Jr}var $i={},Xc={},Ky;function IQ(){if(Ky)return Xc;Ky=1,Object.defineProperty(Xc,"__esModule",{value:!0});function e(t){for(var n=1;n<t.length;n++)t[n][0]+=t[n-1][0]+1;return t}return Xc.default=new Map(e([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(e([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(e([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(e([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),Xc}var op={},Qy;function Km(){return Qy||(Qy=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.getCodePoint=e.xmlReplacer=void 0,e.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var t=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);e.getCodePoint=String.prototype.codePointAt!=null?function(i,s){return i.codePointAt(s)}:function(i,s){return(i.charCodeAt(s)&64512)===55296?(i.charCodeAt(s)-55296)*1024+i.charCodeAt(s+1)-56320+65536:i.charCodeAt(s)};function n(i){for(var s="",a=0,o;(o=e.xmlReplacer.exec(i))!==null;){var u=o.index,c=i.charCodeAt(u),l=t.get(c);l!==void 0?(s+=i.substring(a,u)+l,a=u+1):(s+="".concat(i.substring(a,u),"&#x").concat((0,e.getCodePoint)(i,u).toString(16),";"),a=e.xmlReplacer.lastIndex+=+((c&64512)===55296))}return s+i.substr(a)}e.encodeXML=n,e.escape=n;function r(i,s){return function(o){for(var u,c=0,l="";u=i.exec(o);)c!==u.index&&(l+=o.substring(c,u.index)),l+=s.get(u[0].charCodeAt(0)),c=u.index+1;return l+o.substring(c)}}e.escapeUTF8=r(/[&<>'"]/g,t),e.escapeAttribute=r(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),e.escapeText=r(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(op)),op}var Xy;function Jy(){if(Xy)return $i;Xy=1;var e=$i&&$i.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty($i,"__esModule",{value:!0}),$i.encodeNonAsciiHTML=$i.encodeHTML=void 0;var t=e(IQ()),n=Km(),r=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function i(o){return a(r,o)}$i.encodeHTML=i;function s(o){return a(n.xmlReplacer,o)}$i.encodeNonAsciiHTML=s;function a(o,u){for(var c="",l=0,d;(d=o.exec(u))!==null;){var h=d.index;c+=u.substring(l,h);var f=u.charCodeAt(h),p=t.default.get(f);if(typeof p=="object"){if(h+1<u.length){var x=u.charCodeAt(h+1),_=typeof p.n=="number"?p.n===x?p.o:void 0:p.n.get(x);if(_!==void 0){c+=_,l=o.lastIndex+=1;continue}}p=p.v}if(p!==void 0)c+=p,l=h+1;else{var b=(0,n.getCodePoint)(u,h);c+="&#x".concat(b.toString(16),";"),l=o.lastIndex+=+(b!==f)}}return c+u.substr(l)}return $i}var Zy;function kQ(){return Zy||(Zy=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLAttribute=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.DecodingMode=e.EntityDecoder=e.encodeHTML5=e.encodeHTML4=e.encodeNonAsciiHTML=e.encodeHTML=e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.encode=e.decodeStrict=e.decode=e.EncodingMode=e.EntityLevel=void 0;var t=Uf(),n=Jy(),r=Km(),i;(function(h){h[h.XML=0]="XML",h[h.HTML=1]="HTML"})(i=e.EntityLevel||(e.EntityLevel={}));var s;(function(h){h[h.UTF8=0]="UTF8",h[h.ASCII=1]="ASCII",h[h.Extensive=2]="Extensive",h[h.Attribute=3]="Attribute",h[h.Text=4]="Text"})(s=e.EncodingMode||(e.EncodingMode={}));function a(h,f){f===void 0&&(f=i.XML);var p=typeof f=="number"?f:f.level;if(p===i.HTML){var x=typeof f=="object"?f.mode:void 0;return(0,t.decodeHTML)(h,x)}return(0,t.decodeXML)(h)}e.decode=a;function o(h,f){var p;f===void 0&&(f=i.XML);var x=typeof f=="number"?{level:f}:f;return(p=x.mode)!==null&&p!==void 0||(x.mode=t.DecodingMode.Strict),a(h,x)}e.decodeStrict=o;function u(h,f){f===void 0&&(f=i.XML);var p=typeof f=="number"?{level:f}:f;return p.mode===s.UTF8?(0,r.escapeUTF8)(h):p.mode===s.Attribute?(0,r.escapeAttribute)(h):p.mode===s.Text?(0,r.escapeText)(h):p.level===i.HTML?p.mode===s.ASCII?(0,n.encodeNonAsciiHTML)(h):(0,n.encodeHTML)(h):(0,r.encodeXML)(h)}e.encode=u;var c=Km();Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return c.encodeXML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return c.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return c.escapeUTF8}}),Object.defineProperty(e,"escapeAttribute",{enumerable:!0,get:function(){return c.escapeAttribute}}),Object.defineProperty(e,"escapeText",{enumerable:!0,get:function(){return c.escapeText}});var l=Jy();Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return l.encodeNonAsciiHTML}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return l.encodeHTML}});var d=Uf();Object.defineProperty(e,"EntityDecoder",{enumerable:!0,get:function(){return d.EntityDecoder}}),Object.defineProperty(e,"DecodingMode",{enumerable:!0,get:function(){return d.DecodingMode}}),Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return d.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTMLAttribute",{enumerable:!0,get:function(){return d.decodeHTMLAttribute}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return d.decodeXML}})})(ap)),ap}var ca={},e3;function OQ(){return e3||(e3=1,Object.defineProperty(ca,"__esModule",{value:!0}),ca.attributeNames=ca.elementNames=void 0,ca.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(e){return[e.toLowerCase(),e]})),ca.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(e){return[e.toLowerCase(),e]}))),ca}var t3;function Yw(){if(t3)return Er;t3=1;var e=Er&&Er.__assign||function(){return e=Object.assign||function(g){for(var y,E=1,I=arguments.length;E<I;E++){y=arguments[E];for(var R in y)Object.prototype.hasOwnProperty.call(y,R)&&(g[R]=y[R])}return g},e.apply(this,arguments)},t=Er&&Er.__createBinding||(Object.create?(function(g,y,E,I){I===void 0&&(I=E);var R=Object.getOwnPropertyDescriptor(y,E);(!R||("get"in R?!y.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return y[E]}}),Object.defineProperty(g,I,R)}):(function(g,y,E,I){I===void 0&&(I=E),g[I]=y[E]})),n=Er&&Er.__setModuleDefault||(Object.create?(function(g,y){Object.defineProperty(g,"default",{enumerable:!0,value:y})}):function(g,y){g.default=y}),r=Er&&Er.__importStar||function(g){if(g&&g.__esModule)return g;var y={};if(g!=null)for(var E in g)E!=="default"&&Object.prototype.hasOwnProperty.call(g,E)&&t(y,g,E);return n(y,g),y};Object.defineProperty(Er,"__esModule",{value:!0}),Er.render=void 0;var i=r(pc()),s=kQ(),a=OQ(),o=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function u(g){return g.replace(/"/g,"&quot;")}function c(g,y){var E;if(g){var I=((E=y.encodeEntities)!==null&&E!==void 0?E:y.decodeEntities)===!1?u:y.xmlMode||y.encodeEntities!=="utf8"?s.encodeXML:s.escapeAttribute;return Object.keys(g).map(function(R){var L,S,A=(L=g[R])!==null&&L!==void 0?L:"";return y.xmlMode==="foreign"&&(R=(S=a.attributeNames.get(R))!==null&&S!==void 0?S:R),!y.emptyAttrs&&!y.xmlMode&&A===""?R:"".concat(R,'="').concat(I(A),'"')}).join(" ")}}var l=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function d(g,y){y===void 0&&(y={});for(var E=("length"in g)?g:[g],I="",R=0;R<E.length;R++)I+=h(E[R],y);return I}Er.render=d,Er.default=d;function h(g,y){switch(g.type){case i.Root:return d(g.children,y);case i.Doctype:case i.Directive:return _(g);case i.Comment:return N(g);case i.CDATA:return T(g);case i.Script:case i.Style:case i.Tag:return x(g,y);case i.Text:return b(g,y)}}var f=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),p=new Set(["svg","math"]);function x(g,y){var E;y.xmlMode==="foreign"&&(g.name=(E=a.elementNames.get(g.name))!==null&&E!==void 0?E:g.name,g.parent&&f.has(g.parent.name)&&(y=e(e({},y),{xmlMode:!1}))),!y.xmlMode&&p.has(g.name)&&(y=e(e({},y),{xmlMode:"foreign"}));var I="<".concat(g.name),R=c(g.attribs,y);return R&&(I+=" ".concat(R)),g.children.length===0&&(y.xmlMode?y.selfClosingTags!==!1:y.selfClosingTags&&l.has(g.name))?(y.xmlMode||(I+=" "),I+="/>"):(I+=">",g.children.length>0&&(I+=d(g.children,y)),(y.xmlMode||!l.has(g.name))&&(I+="</".concat(g.name,">"))),I}function _(g){return"<".concat(g.data,">")}function b(g,y){var E,I=g.data||"";return((E=y.encodeEntities)!==null&&E!==void 0?E:y.decodeEntities)!==!1&&!(!y.xmlMode&&g.parent&&o.has(g.parent.name))&&(I=y.xmlMode||y.encodeEntities!=="utf8"?(0,s.encodeXML)(I):(0,s.escapeText)(I)),I}function T(g){return"<![CDATA[".concat(g.children[0].data,"]]>")}function N(g){return"<!--".concat(g.data,"-->")}return Er}var n3;function Kw(){if(n3)return bi;n3=1;var e=bi&&bi.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(bi,"__esModule",{value:!0}),bi.getOuterHTML=i,bi.getInnerHTML=s,bi.getText=a,bi.textContent=o,bi.innerText=u;var t=gr(),n=e(Yw()),r=pc();function i(c,l){return(0,n.default)(c,l)}function s(c,l){return(0,t.hasChildren)(c)?c.children.map(function(d){return i(d,l)}).join(""):""}function a(c){return Array.isArray(c)?c.map(a).join(""):(0,t.isTag)(c)?c.name==="br"?`
`:a(c.children):(0,t.isCDATA)(c)?a(c.children):(0,t.isText)(c)?c.data:""}function o(c){return Array.isArray(c)?c.map(o).join(""):(0,t.hasChildren)(c)&&!(0,t.isComment)(c)?o(c.children):(0,t.isText)(c)?c.data:""}function u(c){return Array.isArray(c)?c.map(u).join(""):(0,t.hasChildren)(c)&&(c.type===r.ElementType.Tag||(0,t.isCDATA)(c))?u(c.children):(0,t.isText)(c)?c.data:""}return bi}var Zr={},r3;function DQ(){if(r3)return Zr;r3=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.getChildren=t,Zr.getParent=n,Zr.getSiblings=r,Zr.getAttributeValue=i,Zr.hasAttrib=s,Zr.getName=a,Zr.nextElementSibling=o,Zr.prevElementSibling=u;var e=gr();function t(c){return(0,e.hasChildren)(c)?c.children:[]}function n(c){return c.parent||null}function r(c){var l,d,h=n(c);if(h!=null)return t(h);for(var f=[c],p=c.prev,x=c.next;p!=null;)f.unshift(p),l=p,p=l.prev;for(;x!=null;)f.push(x),d=x,x=d.next;return f}function i(c,l){var d;return(d=c.attribs)===null||d===void 0?void 0:d[l]}function s(c,l){return c.attribs!=null&&Object.prototype.hasOwnProperty.call(c.attribs,l)&&c.attribs[l]!=null}function a(c){return c.name}function o(c){for(var l,d=c.next;d!==null&&!(0,e.isTag)(d);)l=d,d=l.next;return d}function u(c){for(var l,d=c.prev;d!==null&&!(0,e.isTag)(d);)l=d,d=l.prev;return d}return Zr}var Wi={},i3;function RQ(){if(i3)return Wi;i3=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.removeElement=e,Wi.replaceElement=t,Wi.appendChild=n,Wi.append=r,Wi.prependChild=i,Wi.prepend=s;function e(a){if(a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),a.parent){var o=a.parent.children,u=o.lastIndexOf(a);u>=0&&o.splice(u,1)}a.next=null,a.prev=null,a.parent=null}function t(a,o){var u=o.prev=a.prev;u&&(u.next=o);var c=o.next=a.next;c&&(c.prev=o);var l=o.parent=a.parent;if(l){var d=l.children;d[d.lastIndexOf(a)]=o,a.parent=null}}function n(a,o){if(e(o),o.next=null,o.parent=a,a.children.push(o)>1){var u=a.children[a.children.length-2];u.next=o,o.prev=u}else o.prev=null}function r(a,o){e(o);var u=a.parent,c=a.next;if(o.next=c,o.prev=a,a.next=o,o.parent=u,c){if(c.prev=o,u){var l=u.children;l.splice(l.lastIndexOf(c),0,o)}}else u&&u.children.push(o)}function i(a,o){if(e(o),o.parent=a,o.prev=null,a.children.unshift(o)!==1){var u=a.children[1];u.prev=o,o.next=u}else o.next=null}function s(a,o){e(o);var u=a.parent;if(u){var c=u.children;c.splice(c.indexOf(a),0,o)}a.prev&&(a.prev.next=o),o.parent=u,o.prev=a.prev,o.next=a,a.prev=o}return Wi}var Yi={},s3;function Qw(){if(s3)return Yi;s3=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.filter=t,Yi.find=n,Yi.findOneChild=r,Yi.findOne=i,Yi.existsOne=s,Yi.findAll=a;var e=gr();function t(o,u,c,l){return c===void 0&&(c=!0),l===void 0&&(l=1/0),n(o,Array.isArray(u)?u:[u],c,l)}function n(o,u,c,l){for(var d=[],h=[Array.isArray(u)?u:[u]],f=[0];;){if(f[0]>=h[0].length){if(f.length===1)return d;h.shift(),f.shift();continue}var p=h[0][f[0]++];if(o(p)&&(d.push(p),--l<=0))return d;c&&(0,e.hasChildren)(p)&&p.children.length>0&&(f.unshift(0),h.unshift(p.children))}}function r(o,u){return u.find(o)}function i(o,u,c){c===void 0&&(c=!0);for(var l=Array.isArray(u)?u:[u],d=0;d<l.length;d++){var h=l[d];if((0,e.isTag)(h)&&o(h))return h;if(c&&(0,e.hasChildren)(h)&&h.children.length>0){var f=i(o,h.children,!0);if(f)return f}}return null}function s(o,u){return(Array.isArray(u)?u:[u]).some(function(c){return(0,e.isTag)(c)&&o(c)||(0,e.hasChildren)(c)&&s(o,c.children)})}function a(o,u){for(var c=[],l=[Array.isArray(u)?u:[u]],d=[0];;){if(d[0]>=l[0].length){if(l.length===1)return c;l.shift(),d.shift();continue}var h=l[0][d[0]++];(0,e.isTag)(h)&&o(h)&&c.push(h),(0,e.hasChildren)(h)&&h.children.length>0&&(d.unshift(0),l.unshift(h.children))}}return Yi}var Ki={},a3;function Xw(){if(a3)return Ki;a3=1,Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.testElement=a,Ki.getElements=o,Ki.getElementById=u,Ki.getElementsByTagName=c,Ki.getElementsByClassName=l,Ki.getElementsByTagType=d;var e=gr(),t=Qw(),n={tag_name:function(h){return typeof h=="function"?function(f){return(0,e.isTag)(f)&&h(f.name)}:h==="*"?e.isTag:function(f){return(0,e.isTag)(f)&&f.name===h}},tag_type:function(h){return typeof h=="function"?function(f){return h(f.type)}:function(f){return f.type===h}},tag_contains:function(h){return typeof h=="function"?function(f){return(0,e.isText)(f)&&h(f.data)}:function(f){return(0,e.isText)(f)&&f.data===h}}};function r(h,f){return typeof f=="function"?function(p){return(0,e.isTag)(p)&&f(p.attribs[h])}:function(p){return(0,e.isTag)(p)&&p.attribs[h]===f}}function i(h,f){return function(p){return h(p)||f(p)}}function s(h){var f=Object.keys(h).map(function(p){var x=h[p];return Object.prototype.hasOwnProperty.call(n,p)?n[p](x):r(p,x)});return f.length===0?null:f.reduce(i)}function a(h,f){var p=s(h);return p?p(f):!0}function o(h,f,p,x){x===void 0&&(x=1/0);var _=s(h);return _?(0,t.filter)(_,f,p,x):[]}function u(h,f,p){return p===void 0&&(p=!0),Array.isArray(f)||(f=[f]),(0,t.findOne)(r("id",h),f,p)}function c(h,f,p,x){return p===void 0&&(p=!0),x===void 0&&(x=1/0),(0,t.filter)(n.tag_name(h),f,p,x)}function l(h,f,p,x){return p===void 0&&(p=!0),x===void 0&&(x=1/0),(0,t.filter)(r("class",h),f,p,x)}function d(h,f,p,x){return p===void 0&&(p=!0),x===void 0&&(x=1/0),(0,t.filter)(n.tag_type(h),f,p,x)}return Ki}var _s={},u3;function LQ(){if(u3)return _s;u3=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.DocumentPosition=void 0,_s.removeSubsets=t,_s.compareDocumentPosition=r,_s.uniqueSort=i;var e=gr();function t(s){for(var a=s.length;--a>=0;){var o=s[a];if(a>0&&s.lastIndexOf(o,a-1)>=0){s.splice(a,1);continue}for(var u=o.parent;u;u=u.parent)if(s.includes(u)){s.splice(a,1);break}}return s}var n;(function(s){s[s.DISCONNECTED=1]="DISCONNECTED",s[s.PRECEDING=2]="PRECEDING",s[s.FOLLOWING=4]="FOLLOWING",s[s.CONTAINS=8]="CONTAINS",s[s.CONTAINED_BY=16]="CONTAINED_BY"})(n||(_s.DocumentPosition=n={}));function r(s,a){var o=[],u=[];if(s===a)return 0;for(var c=(0,e.hasChildren)(s)?s:s.parent;c;)o.unshift(c),c=c.parent;for(c=(0,e.hasChildren)(a)?a:a.parent;c;)u.unshift(c),c=c.parent;for(var l=Math.min(o.length,u.length),d=0;d<l&&o[d]===u[d];)d++;if(d===0)return n.DISCONNECTED;var h=o[d-1],f=h.children,p=o[d],x=u[d];return f.indexOf(p)>f.indexOf(x)?h===a?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:h===s?n.PRECEDING|n.CONTAINS:n.PRECEDING}function i(s){return s=s.filter(function(a,o,u){return!u.includes(a,o+1)}),s.sort(function(a,o){var u=r(a,o);return u&n.PRECEDING?-1:u&n.FOLLOWING?1:0}),s}return _s}var Jc={},o3;function PQ(){if(o3)return Jc;o3=1,Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.getFeed=n;var e=Kw(),t=Xw();function n(h){var f=u(d,h);return f?f.name==="feed"?r(f):i(f):null}function r(h){var f,p=h.children,x={type:"atom",items:(0,t.getElementsByTagName)("entry",p).map(function(T){var N,g=T.children,y={media:o(g)};l(y,"id","id",g),l(y,"title","title",g);var E=(N=u("link",g))===null||N===void 0?void 0:N.attribs.href;E&&(y.link=E);var I=c("summary",g)||c("content",g);I&&(y.description=I);var R=c("updated",g);return R&&(y.pubDate=new Date(R)),y})};l(x,"id","id",p),l(x,"title","title",p);var _=(f=u("link",p))===null||f===void 0?void 0:f.attribs.href;_&&(x.link=_),l(x,"description","subtitle",p);var b=c("updated",p);return b&&(x.updated=new Date(b)),l(x,"author","email",p,!0),x}function i(h){var f,p,x=(p=(f=u("channel",h.children))===null||f===void 0?void 0:f.children)!==null&&p!==void 0?p:[],_={type:h.name.substr(0,3),id:"",items:(0,t.getElementsByTagName)("item",h.children).map(function(T){var N=T.children,g={media:o(N)};l(g,"id","guid",N),l(g,"title","title",N),l(g,"link","link",N),l(g,"description","description",N);var y=c("pubDate",N)||c("dc:date",N);return y&&(g.pubDate=new Date(y)),g})};l(_,"title","title",x),l(_,"link","link",x),l(_,"description","description",x);var b=c("lastBuildDate",x);return b&&(_.updated=new Date(b)),l(_,"author","managingEditor",x,!0),_}var s=["url","type","lang"],a=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function o(h){return(0,t.getElementsByTagName)("media:content",h).map(function(f){for(var p=f.attribs,x={medium:p.medium,isDefault:!!p.isDefault},_=0,b=s;_<b.length;_++){var T=b[_];p[T]&&(x[T]=p[T])}for(var N=0,g=a;N<g.length;N++){var T=g[N];p[T]&&(x[T]=parseInt(p[T],10))}return p.expression&&(x.expression=p.expression),x})}function u(h,f){return(0,t.getElementsByTagName)(h,f,!0,1)[0]}function c(h,f,p){return p===void 0&&(p=!1),(0,e.textContent)((0,t.getElementsByTagName)(h,f,p,1)).trim()}function l(h,f,p,x,_){_===void 0&&(_=!1);var b=c(p,x,_);b&&(h[f]=b)}function d(h){return h==="rss"||h==="feed"||h==="rdf:RDF"}return Jc}var l3;function Di(){return l3||(l3=1,(function(e){var t=oa&&oa.__createBinding||(Object.create?(function(i,s,a,o){o===void 0&&(o=a);var u=Object.getOwnPropertyDescriptor(s,a);(!u||("get"in u?!s.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(i,o,u)}):(function(i,s,a,o){o===void 0&&(o=a),i[o]=s[a]})),n=oa&&oa.__exportStar||function(i,s){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&t(s,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,n(Kw(),e),n(DQ(),e),n(RQ(),e),n(Qw(),e),n(Xw(),e),n(LQ(),e),n(PQ(),e);var r=gr();Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return r.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return r.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return r.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return r.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return r.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return r.hasChildren}})})(oa)),oa}var c3;function Ku(){if(c3)return en;c3=1;var e=en&&en.__assign||function(){return e=Object.assign||function(_){for(var b,T=1,N=arguments.length;T<N;T++){b=arguments[T];for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(_[g]=b[g])}return _},e.apply(this,arguments)},t=en&&en.__createBinding||(Object.create?(function(_,b,T,N){N===void 0&&(N=T);var g=Object.getOwnPropertyDescriptor(b,T);(!g||("get"in g?!b.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return b[T]}}),Object.defineProperty(_,N,g)}):(function(_,b,T,N){N===void 0&&(N=T),_[N]=b[T]})),n=en&&en.__setModuleDefault||(Object.create?(function(_,b){Object.defineProperty(_,"default",{enumerable:!0,value:b})}):function(_,b){_.default=b}),r=en&&en.__importStar||function(_){if(_&&_.__esModule)return _;var b={};if(_!=null)for(var T in _)T!=="default"&&Object.prototype.hasOwnProperty.call(_,T)&&t(b,_,T);return n(b,_),b};Object.defineProperty(en,"__esModule",{value:!0}),en.merge=en.contains=en.root=en.parseHTML=en.text=en.xml=en.html=void 0;var i=Di(),s=r(Ww());function a(_,b,T){return _?_(b!=null?b:_._root.children,null,void 0,T).toString():""}function o(_,b){return typeof _=="object"&&_!=null&&!("length"in _)&&!("type"in _)}function u(_,b){var T=o(_)?(b=_,void 0):_,N=e(e(e({},s.default),this===null||this===void 0?void 0:this._options),(0,s.flatten)(b!=null?b:{}));return a(this,T,N)}en.html=u;function c(_){var b=e(e({},this._options),{xmlMode:!0});return a(this,_,b)}en.xml=c;function l(_){for(var b=_||(this?this.root():[]),T="",N=0;N<b.length;N++)T+=(0,i.textContent)(b[N]);return T}en.text=l;function d(_,b,T){if(T===void 0&&(T=typeof b=="boolean"?b:!1),!_||typeof _!="string")return null;typeof b=="boolean"&&(T=b);var N=this.load(_,s.default,!1);return T||N("script").remove(),N.root()[0].children.slice()}en.parseHTML=d;function h(){return this(this._root)}en.root=h;function f(_,b){if(b===_)return!1;for(var T=b;T&&T!==T.parent;)if(T=T.parent,T===_)return!0;return!1}en.contains=f;function p(_,b){if(!(!x(_)||!x(b))){for(var T=_.length,N=+b.length,g=0;g<N;g++)_[T++]=b[g];return _.length=T,_}}en.merge=p;function x(_){if(Array.isArray(_))return!0;if(typeof _!="object"||!Object.prototype.hasOwnProperty.call(_,"length")||typeof _.length!="number"||_.length<0)return!1;for(var b=0;b<_.length;b++)if(!(b in _))return!1;return!0}return en}var ei={},fn={},lp={},d3;function uo(){return d3||(d3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isHtml=e.cloneDom=e.domEach=e.cssCase=e.camelCase=e.isCheerio=e.isTag=void 0;var t=gr(),n=gr();Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return n.isTag}});function r(l){return l.cheerio!=null}e.isCheerio=r;function i(l){return l.replace(/[_.-](\w|$)/g,function(d,h){return h.toUpperCase()})}e.camelCase=i;function s(l){return l.replace(/[A-Z]/g,"-$&").toLowerCase()}e.cssCase=s;function a(l,d){for(var h=l.length,f=0;f<h;f++)d(l[f],f);return l}e.domEach=a;function o(l){var d="length"in l?Array.prototype.map.call(l,function(f){return(0,t.cloneNode)(f,!0)}):[(0,t.cloneNode)(l,!0)],h=new t.Document(d);return d.forEach(function(f){f.parent=h}),d}e.cloneDom=o;var u;(function(l){l[l.LowerA=97]="LowerA",l[l.LowerZ=122]="LowerZ",l[l.UpperA=65]="UpperA",l[l.UpperZ=90]="UpperZ",l[l.Exclamation=33]="Exclamation"})(u||(u={}));function c(l){var d=l.indexOf("<");if(d<0||d>l.length-3)return!1;var h=l.charCodeAt(d+1);return(h>=u.LowerA&&h<=u.LowerZ||h>=u.UpperA&&h<=u.UpperZ||h===u.Exclamation)&&l.includes(">",d+2)}e.isHtml=c})(lp)),lp}var f3;function MQ(){if(f3)return fn;f3=1,Object.defineProperty(fn,"__esModule",{value:!0}),fn.toggleClass=fn.removeClass=fn.addClass=fn.hasClass=fn.removeAttr=fn.val=fn.data=fn.prop=fn.attr=void 0;var e=Ku(),t=uo(),n=Di(),r=Object.prototype.hasOwnProperty,i=/\s+/,s="data-",a={null:null,true:!0,false:!1},o=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,u=/^{[^]*}$|^\[[^]*]$/;function c(S,A,w){var O;if(!(!S||!(0,t.isTag)(S))){if((O=S.attribs)!==null&&O!==void 0||(S.attribs={}),!A)return S.attribs;if(r.call(S.attribs,A))return!w&&o.test(A)?A:S.attribs[A];if(S.name==="option"&&A==="value")return(0,e.text)(S.children);if(S.name==="input"&&(S.attribs.type==="radio"||S.attribs.type==="checkbox")&&A==="value")return"on"}}function l(S,A,w){w===null?N(S,A):S.attribs[A]="".concat(w)}function d(S,A){if(typeof S=="object"||A!==void 0){if(typeof A=="function"){if(typeof S!="string")throw new Error("Bad combination of arguments.");return(0,t.domEach)(this,function(w,O){(0,t.isTag)(w)&&l(w,S,A.call(w,O,w.attribs[S]))})}return(0,t.domEach)(this,function(w){(0,t.isTag)(w)&&(typeof S=="object"?Object.keys(S).forEach(function(O){var D=S[O];l(w,O,D)}):l(w,S,A))})}return arguments.length>1?this:c(this[0],S,this.options.xmlMode)}fn.attr=d;function h(S,A,w){if(!(!S||!(0,t.isTag)(S)))return A in S?S[A]:!w&&o.test(A)?c(S,A,!1)!==void 0:c(S,A,w)}function f(S,A,w,O){A in S?S[A]=w:l(S,A,!O&&o.test(A)?w?"":null:"".concat(w))}function p(S,A){var w=this,O;if(typeof S=="string"&&A===void 0)switch(S){case"style":{var D=this.css(),B=Object.keys(D);return B.forEach(function(G,$){D[$]=G}),D.length=B.length,D}case"tagName":case"nodeName":{var M=this[0];return(0,t.isTag)(M)?M.name.toUpperCase():void 0}case"href":case"src":{var M=this[0];if(!(0,t.isTag)(M))return;var F=(O=M.attribs)===null||O===void 0?void 0:O[S];return typeof URL!="undefined"&&(S==="href"&&(M.tagName==="a"||M.name==="link")||S==="src"&&(M.tagName==="img"||M.tagName==="iframe"||M.tagName==="audio"||M.tagName==="video"||M.tagName==="source"))&&F!==void 0&&this.options.baseURI?new URL(F,this.options.baseURI).href:F}case"innerText":return(0,n.innerText)(this[0]);case"textContent":return(0,n.textContent)(this[0]);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return h(this[0],S,this.options.xmlMode)}if(typeof S=="object"||A!==void 0){if(typeof A=="function"){if(typeof S=="object")throw new Error("Bad combination of arguments.");return(0,t.domEach)(this,function(G,$){(0,t.isTag)(G)&&f(G,S,A.call(G,$,h(G,S,w.options.xmlMode)),w.options.xmlMode)})}return(0,t.domEach)(this,function(G){(0,t.isTag)(G)&&(typeof S=="object"?Object.keys(S).forEach(function($){var P=S[$];f(G,$,P,w.options.xmlMode)}):f(G,S,A,w.options.xmlMode))})}}fn.prop=p;function x(S,A,w){var O,D=S;(O=D.data)!==null&&O!==void 0||(D.data={}),typeof A=="object"?Object.assign(D.data,A):typeof A=="string"&&w!==void 0&&(D.data[A]=w)}function _(S,A){var w,O,D;A==null?(w=Object.keys(S.attribs).filter(function(G){return G.startsWith(s)}),O=w.map(function(G){return(0,t.camelCase)(G.slice(s.length))})):(w=[s+(0,t.cssCase)(A)],O=[A]);for(var B=0;B<w.length;++B){var M=w[B],F=O[B];if(r.call(S.attribs,M)&&!r.call(S.data,F)){if(D=S.attribs[M],r.call(a,D))D=a[D];else if(D===String(Number(D)))D=Number(D);else if(u.test(D))try{D=JSON.parse(D)}catch(G){}S.data[F]=D}}return A==null?S.data:D}function b(S,A){var w,O=this[0];if(!(!O||!(0,t.isTag)(O))){var D=O;return(w=D.data)!==null&&w!==void 0||(D.data={}),S?typeof S=="object"||A!==void 0?((0,t.domEach)(this,function(B){(0,t.isTag)(B)&&(typeof S=="object"?x(B,S):x(B,S,A))}),this):r.call(D.data,S)?D.data[S]:_(D,S):_(D)}}fn.data=b;function T(S){var A=arguments.length===0,w=this[0];if(!w||!(0,t.isTag)(w))return A?void 0:this;switch(w.name){case"textarea":return this.text(S);case"select":{var O=this.find("option:selected");if(!A){if(this.attr("multiple")==null&&typeof S=="object")return this;this.find("option").removeAttr("selected");for(var D=typeof S!="object"?[S]:S,B=0;B<D.length;B++)this.find('option[value="'.concat(D[B],'"]')).attr("selected","");return this}return this.attr("multiple")?O.toArray().map(function(M){return(0,e.text)(M.children)}):O.attr("value")}case"input":case"option":return A?this.attr("value"):this.attr("value",S)}}fn.val=T;function N(S,A){!S.attribs||!r.call(S.attribs,A)||delete S.attribs[A]}function g(S){return S?S.trim().split(i):[]}function y(S){for(var A=g(S),w=function(B){(0,t.domEach)(O,function(M){(0,t.isTag)(M)&&N(M,A[B])})},O=this,D=0;D<A.length;D++)w(D);return this}fn.removeAttr=y;function E(S){return this.toArray().some(function(A){var w=(0,t.isTag)(A)&&A.attribs.class,O=-1;if(w&&S.length)for(;(O=w.indexOf(S,O+1))>-1;){var D=O+S.length;if((O===0||i.test(w[O-1]))&&(D===w.length||i.test(w[D])))return!0}return!1})}fn.hasClass=E;function I(S){if(typeof S=="function")return(0,t.domEach)(this,function($,P){if((0,t.isTag)($)){var j=$.attribs.class||"";I.call([$],S.call($,P,j))}});if(!S||typeof S!="string")return this;for(var A=S.split(i),w=this.length,O=0;O<w;O++){var D=this[O];if((0,t.isTag)(D)){var B=c(D,"class",!1);if(!B)l(D,"class",A.join(" ").trim());else{for(var M=" ".concat(B," "),F=0;F<A.length;F++){var G="".concat(A[F]," ");M.includes(" ".concat(G))||(M+=G)}l(D,"class",M.trim())}}}return this}fn.addClass=I;function R(S){if(typeof S=="function")return(0,t.domEach)(this,function(D,B){(0,t.isTag)(D)&&R.call([D],S.call(D,B,D.attribs.class||""))});var A=g(S),w=A.length,O=arguments.length===0;return(0,t.domEach)(this,function(D){if((0,t.isTag)(D))if(O)D.attribs.class="";else{for(var B=g(D.attribs.class),M=!1,F=0;F<w;F++){var G=B.indexOf(A[F]);G>=0&&(B.splice(G,1),M=!0,F--)}M&&(D.attribs.class=B.join(" "))}})}fn.removeClass=R;function L(S,A){if(typeof S=="function")return(0,t.domEach)(this,function(j,W){(0,t.isTag)(j)&&L.call([j],S.call(j,W,j.attribs.class||"",A),A)});if(!S||typeof S!="string")return this;for(var w=S.split(i),O=w.length,D=typeof A=="boolean"?A?1:-1:0,B=this.length,M=0;M<B;M++){var F=this[M];if((0,t.isTag)(F)){for(var G=g(F.attribs.class),$=0;$<O;$++){var P=G.indexOf(w[$]);D>=0&&P<0?G.push(w[$]):D<=0&&P>=0&&G.splice(P,1)}F.attribs.class=G.join(" ")}}return this}return fn.toggleClass=L,fn}var De={},kr={};const mc=rg(_B);var ti={},Ln={},cu={},h3;function Jw(){if(h3)return cu;h3=1,Object.defineProperty(cu,"__esModule",{value:!0}),cu.isTraversal=void 0;var e=mc,t=new Map([[e.SelectorType.Universal,50],[e.SelectorType.Tag,30],[e.SelectorType.Attribute,1],[e.SelectorType.Pseudo,0]]);function n(a){return!t.has(a.type)}cu.isTraversal=n;var r=new Map([[e.AttributeAction.Exists,10],[e.AttributeAction.Equals,8],[e.AttributeAction.Not,7],[e.AttributeAction.Start,6],[e.AttributeAction.End,6],[e.AttributeAction.Any,5]]);function i(a){for(var o=a.map(s),u=1;u<a.length;u++){var c=o[u];if(!(c<0))for(var l=u-1;l>=0&&c<o[l];l--){var d=a[l+1];a[l+1]=a[l],a[l]=d,o[l+1]=o[l],o[l]=c}}}cu.default=i;function s(a){var o,u,c=(o=t.get(a.type))!==null&&o!==void 0?o:-1;return a.type===e.SelectorType.Attribute?(c=(u=r.get(a.action))!==null&&u!==void 0?u:4,a.action===e.AttributeAction.Equals&&a.name==="id"&&(c=9),a.ignoreCase&&(c>>=1)):a.type===e.SelectorType.Pseudo&&(a.data?a.name==="has"||a.name==="contains"?c=0:Array.isArray(a.data)?(c=Math.min.apply(Math,a.data.map(function(l){return Math.min.apply(Math,l.map(s))})),c<0&&(c=0)):c=2:c=3),c}return cu}var Io={},da={},p3;function BQ(){if(p3)return da;p3=1;var e=da&&da.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(da,"__esModule",{value:!0}),da.attributeRules=void 0;var t=e(Qs()),n=/[-[\]{}()*+?.,\\^$|#\s]/g;function r(a){return a.replace(n,"\\$&")}var i=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function s(a,o){return typeof a.ignoreCase=="boolean"?a.ignoreCase:a.ignoreCase==="quirks"?!!o.quirksMode:!o.xmlMode&&i.has(a.name)}return da.attributeRules={equals:function(a,o,u){var c=u.adapter,l=o.name,d=o.value;return s(o,u)?(d=d.toLowerCase(),function(h){var f=c.getAttributeValue(h,l);return f!=null&&f.length===d.length&&f.toLowerCase()===d&&a(h)}):function(h){return c.getAttributeValue(h,l)===d&&a(h)}},hyphen:function(a,o,u){var c=u.adapter,l=o.name,d=o.value,h=d.length;return s(o,u)?(d=d.toLowerCase(),function(p){var x=c.getAttributeValue(p,l);return x!=null&&(x.length===h||x.charAt(h)==="-")&&x.substr(0,h).toLowerCase()===d&&a(p)}):function(p){var x=c.getAttributeValue(p,l);return x!=null&&(x.length===h||x.charAt(h)==="-")&&x.substr(0,h)===d&&a(p)}},element:function(a,o,u){var c=u.adapter,l=o.name,d=o.value;if(/\s/.test(d))return t.default.falseFunc;var h=new RegExp("(?:^|\\s)".concat(r(d),"(?:$|\\s)"),s(o,u)?"i":"");return function(p){var x=c.getAttributeValue(p,l);return x!=null&&x.length>=d.length&&h.test(x)&&a(p)}},exists:function(a,o,u){var c=o.name,l=u.adapter;return function(d){return l.hasAttrib(d,c)&&a(d)}},start:function(a,o,u){var c=u.adapter,l=o.name,d=o.value,h=d.length;return h===0?t.default.falseFunc:s(o,u)?(d=d.toLowerCase(),function(f){var p=c.getAttributeValue(f,l);return p!=null&&p.length>=h&&p.substr(0,h).toLowerCase()===d&&a(f)}):function(f){var p;return!!(!((p=c.getAttributeValue(f,l))===null||p===void 0)&&p.startsWith(d))&&a(f)}},end:function(a,o,u){var c=u.adapter,l=o.name,d=o.value,h=-d.length;return h===0?t.default.falseFunc:s(o,u)?(d=d.toLowerCase(),function(f){var p;return((p=c.getAttributeValue(f,l))===null||p===void 0?void 0:p.substr(h).toLowerCase())===d&&a(f)}):function(f){var p;return!!(!((p=c.getAttributeValue(f,l))===null||p===void 0)&&p.endsWith(d))&&a(f)}},any:function(a,o,u){var c=u.adapter,l=o.name,d=o.value;if(d==="")return t.default.falseFunc;if(s(o,u)){var h=new RegExp(r(d),"i");return function(p){var x=c.getAttributeValue(p,l);return x!=null&&x.length>=d.length&&h.test(x)&&a(p)}}return function(f){var p;return!!(!((p=c.getAttributeValue(f,l))===null||p===void 0)&&p.includes(d))&&a(f)}},not:function(a,o,u){var c=u.adapter,l=o.name,d=o.value;return d===""?function(h){return!!c.getAttributeValue(h,l)&&a(h)}:s(o,u)?(d=d.toLowerCase(),function(h){var f=c.getAttributeValue(h,l);return(f==null||f.length!==d.length||f.toLowerCase()!==d)&&a(h)}):function(h){return c.getAttributeValue(h,l)!==d&&a(h)}}},da}var cp={},ko={},dp={},Oo={},m3;function jQ(){if(m3)return Oo;m3=1,Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.parse=void 0;var e=new Set([9,10,12,13,32]),t=48,n=57;function r(i){if(i=i.trim().toLowerCase(),i==="even")return[2,0];if(i==="odd")return[2,1];var s=0,a=0,o=c(),u=l();if(s<i.length&&i.charAt(s)==="n"&&(s++,a=o*(u!=null?u:1),d(),s<i.length?(o=c(),d(),u=l()):o=u=0),u===null||s<i.length)throw new Error("n-th rule couldn't be parsed ('".concat(i,"')"));return[a,o*u];function c(){return i.charAt(s)==="-"?(s++,-1):(i.charAt(s)==="+"&&s++,1)}function l(){for(var h=s,f=0;s<i.length&&i.charCodeAt(s)>=t&&i.charCodeAt(s)<=n;)f=f*10+(i.charCodeAt(s)-t),s++;return s===h?null:f}function d(){for(;s<i.length&&e.has(i.charCodeAt(s));)s++}}return Oo.parse=r,Oo}var Qi={},g3;function FQ(){if(g3)return Qi;g3=1;var e=Qi&&Qi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.generate=Qi.compile=void 0;var t=e(Qs());function n(i){var s=i[0],a=i[1]-1;if(a<0&&s<=0)return t.default.falseFunc;if(s===-1)return function(c){return c<=a};if(s===0)return function(c){return c===a};if(s===1)return a<0?t.default.trueFunc:function(c){return c>=a};var o=Math.abs(s),u=(a%o+o)%o;return s>1?function(c){return c>=a&&c%o===u}:function(c){return c<=a&&c%o===u}}Qi.compile=n;function r(i){var s=i[0],a=i[1]-1,o=0;if(s<0){var u=-s,c=(a%u+u)%u;return function(){var l=c+u*o++;return l>a?null:l}}return s===0?a<0?function(){return null}:function(){return o++===0?a:null}:(a<0&&(a+=s*Math.ceil(-a/s)),function(){return s*o+++a})}return Qi.generate=r,Qi}var b3;function HQ(){return b3||(b3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sequence=e.generate=e.compile=e.parse=void 0;var t=jQ();Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}});var n=FQ();Object.defineProperty(e,"compile",{enumerable:!0,get:function(){return n.compile}}),Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return n.generate}});function r(s){return(0,n.compile)((0,t.parse)(s))}e.default=r;function i(s){return(0,n.generate)((0,t.parse)(s))}e.sequence=i})(dp)),dp}var T3;function UQ(){return T3||(T3=1,(function(e){var t=ko&&ko.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.filters=void 0;var n=t(HQ()),r=t(Qs());function i(a,o){return function(u){var c=o.getParent(u);return c!=null&&o.isTag(c)&&a(u)}}e.filters={contains:function(a,o,u){var c=u.adapter;return function(d){return a(d)&&c.getText(d).includes(o)}},icontains:function(a,o,u){var c=u.adapter,l=o.toLowerCase();return function(h){return a(h)&&c.getText(h).toLowerCase().includes(l)}},"nth-child":function(a,o,u){var c=u.adapter,l=u.equals,d=(0,n.default)(o);return d===r.default.falseFunc?r.default.falseFunc:d===r.default.trueFunc?i(a,c):function(f){for(var p=c.getSiblings(f),x=0,_=0;_<p.length&&!l(f,p[_]);_++)c.isTag(p[_])&&x++;return d(x)&&a(f)}},"nth-last-child":function(a,o,u){var c=u.adapter,l=u.equals,d=(0,n.default)(o);return d===r.default.falseFunc?r.default.falseFunc:d===r.default.trueFunc?i(a,c):function(f){for(var p=c.getSiblings(f),x=0,_=p.length-1;_>=0&&!l(f,p[_]);_--)c.isTag(p[_])&&x++;return d(x)&&a(f)}},"nth-of-type":function(a,o,u){var c=u.adapter,l=u.equals,d=(0,n.default)(o);return d===r.default.falseFunc?r.default.falseFunc:d===r.default.trueFunc?i(a,c):function(f){for(var p=c.getSiblings(f),x=0,_=0;_<p.length;_++){var b=p[_];if(l(f,b))break;c.isTag(b)&&c.getName(b)===c.getName(f)&&x++}return d(x)&&a(f)}},"nth-last-of-type":function(a,o,u){var c=u.adapter,l=u.equals,d=(0,n.default)(o);return d===r.default.falseFunc?r.default.falseFunc:d===r.default.trueFunc?i(a,c):function(f){for(var p=c.getSiblings(f),x=0,_=p.length-1;_>=0;_--){var b=p[_];if(l(f,b))break;c.isTag(b)&&c.getName(b)===c.getName(f)&&x++}return d(x)&&a(f)}},root:function(a,o,u){var c=u.adapter;return function(l){var d=c.getParent(l);return(d==null||!c.isTag(d))&&a(l)}},scope:function(a,o,u,c){var l=u.equals;return!c||c.length===0?e.filters.root(a,o,u):c.length===1?function(d){return l(c[0],d)&&a(d)}:function(d){return c.includes(d)&&a(d)}},hover:s("isHovered"),visited:s("isVisited"),active:s("isActive")};function s(a){return function(u,c,l){var d=l.adapter,h=d[a];return typeof h!="function"?r.default.falseFunc:function(p){return h(p)&&u(p)}}}})(ko)),ko}var fa={},E3;function zQ(){if(E3)return fa;E3=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.verifyPseudoArgs=fa.pseudos=void 0,fa.pseudos={empty:function(t,n){var r=n.adapter;return!r.getChildren(t).some(function(i){return r.isTag(i)||r.getText(i)!==""})},"first-child":function(t,n){var r=n.adapter,i=n.equals;if(r.prevElementSibling)return r.prevElementSibling(t)==null;var s=r.getSiblings(t).find(function(a){return r.isTag(a)});return s!=null&&i(t,s)},"last-child":function(t,n){for(var r=n.adapter,i=n.equals,s=r.getSiblings(t),a=s.length-1;a>=0;a--){if(i(t,s[a]))return!0;if(r.isTag(s[a]))break}return!1},"first-of-type":function(t,n){for(var r=n.adapter,i=n.equals,s=r.getSiblings(t),a=r.getName(t),o=0;o<s.length;o++){var u=s[o];if(i(t,u))return!0;if(r.isTag(u)&&r.getName(u)===a)break}return!1},"last-of-type":function(t,n){for(var r=n.adapter,i=n.equals,s=r.getSiblings(t),a=r.getName(t),o=s.length-1;o>=0;o--){var u=s[o];if(i(t,u))return!0;if(r.isTag(u)&&r.getName(u)===a)break}return!1},"only-of-type":function(t,n){var r=n.adapter,i=n.equals,s=r.getName(t);return r.getSiblings(t).every(function(a){return i(t,a)||!r.isTag(a)||r.getName(a)!==s})},"only-child":function(t,n){var r=n.adapter,i=n.equals;return r.getSiblings(t).every(function(s){return i(t,s)||!r.isTag(s)})}};function e(t,n,r,i){if(r===null){if(t.length>i)throw new Error("Pseudo-class :".concat(n," requires an argument"))}else if(t.length===i)throw new Error("Pseudo-class :".concat(n," doesn't have any arguments"))}return fa.verifyPseudoArgs=e,fa}var Do={},y3;function qQ(){return y3||(y3=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.aliases=void 0,Do.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"}),Do}var ha={},_3;function ub(){return _3||(_3=1,(function(e){var t=ha&&ha.__spreadArray||function(c,l,d){if(d||arguments.length===2)for(var h=0,f=l.length,p;h<f;h++)(p||!(h in l))&&(p||(p=Array.prototype.slice.call(l,0,h)),p[h]=l[h]);return c.concat(p||Array.prototype.slice.call(l))},n=ha&&ha.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.subselects=e.getNextSiblings=e.ensureIsTag=e.PLACEHOLDER_ELEMENT=void 0;var r=n(Qs()),i=Jw();e.PLACEHOLDER_ELEMENT={};function s(c,l){return c===r.default.falseFunc?r.default.falseFunc:function(d){return l.isTag(d)&&c(d)}}e.ensureIsTag=s;function a(c,l){var d=l.getSiblings(c);if(d.length<=1)return[];var h=d.indexOf(c);return h<0||h===d.length-1?[]:d.slice(h+1).filter(l.isTag)}e.getNextSiblings=a;function o(c){return{xmlMode:!!c.xmlMode,lowerCaseAttributeNames:!!c.lowerCaseAttributeNames,lowerCaseTags:!!c.lowerCaseTags,quirksMode:!!c.quirksMode,cacheResults:!!c.cacheResults,pseudos:c.pseudos,adapter:c.adapter,equals:c.equals}}var u=function(c,l,d,h,f){var p=f(l,o(d),h);return p===r.default.trueFunc?c:p===r.default.falseFunc?r.default.falseFunc:function(x){return p(x)&&c(x)}};e.subselects={is:u,matches:u,where:u,not:function(c,l,d,h,f){var p=f(l,o(d),h);return p===r.default.falseFunc?c:p===r.default.trueFunc?r.default.falseFunc:function(x){return!p(x)&&c(x)}},has:function(c,l,d,h,f){var p=d.adapter,x=o(d);x.relativeSelector=!0;var _=l.some(function(y){return y.some(i.isTraversal)})?[e.PLACEHOLDER_ELEMENT]:void 0,b=f(l,x,_);if(b===r.default.falseFunc)return r.default.falseFunc;var T=s(b,p);if(_&&b!==r.default.trueFunc){var N=b.shouldTestNextSiblings,g=N===void 0?!1:N;return function(y){if(!c(y))return!1;_[0]=y;var E=p.getChildren(y),I=g?t(t([],E,!0),a(y,p),!0):E;return p.existsOne(T,I)}}return function(y){return c(y)&&p.existsOne(T,p.getChildren(y))}}}})(ha)),ha}var x3;function Zw(){return x3||(x3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compilePseudoSelector=e.aliases=e.pseudos=e.filters=void 0;var t=mc,n=UQ();Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return n.filters}});var r=zQ();Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return r.pseudos}});var i=qQ();Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return i.aliases}});var s=ub();function a(o,u,c,l,d){var h,f=u.name,p=u.data;if(Array.isArray(p)){if(!(f in s.subselects))throw new Error("Unknown pseudo-class :".concat(f,"(").concat(p,")"));return s.subselects[f](o,p,c,l,d)}var x=(h=c.pseudos)===null||h===void 0?void 0:h[f],_=typeof x=="string"?x:i.aliases[f];if(typeof _=="string"){if(p!=null)throw new Error("Pseudo ".concat(f," doesn't have any arguments"));var b=(0,t.parse)(_);return s.subselects.is(o,b,c,l,d)}if(typeof x=="function")return(0,r.verifyPseudoArgs)(x,f,p,1),function(N){return x(N,p)&&o(N)};if(f in n.filters)return n.filters[f](o,p,c,l);if(f in r.pseudos){var T=r.pseudos[f];return(0,r.verifyPseudoArgs)(T,f,p,2),function(N){return T(N,c,p)&&o(N)}}throw new Error("Unknown pseudo-class :".concat(f))}e.compilePseudoSelector=a})(cp)),cp}var A3;function GQ(){if(A3)return Io;A3=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.compileGeneralSelector=void 0;var e=BQ(),t=Zw(),n=mc;function r(s,a){var o=a.getParent(s);return o&&a.isTag(o)?o:null}function i(s,a,o,u,c){var l=o.adapter,d=o.equals;switch(a.type){case n.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case n.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case n.SelectorType.Attribute:{if(a.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!o.xmlMode||o.lowerCaseAttributeNames)&&(a.name=a.name.toLowerCase()),e.attributeRules[a.action](s,a,o)}case n.SelectorType.Pseudo:return(0,t.compilePseudoSelector)(s,a,o,u,c);case n.SelectorType.Tag:{if(a.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");var h=a.name;return(!o.xmlMode||o.lowerCaseTags)&&(h=h.toLowerCase()),function(x){return l.getName(x)===h&&s(x)}}case n.SelectorType.Descendant:{if(o.cacheResults===!1||typeof WeakSet=="undefined")return function(x){for(var _=x;_=r(_,l);)if(s(_))return!0;return!1};var f=new WeakSet;return function(x){for(var _=x;_=r(_,l);)if(!f.has(_)){if(l.isTag(_)&&s(_))return!0;f.add(_)}return!1}}case"_flexibleDescendant":return function(x){var _=x;do if(s(_))return!0;while(_=r(_,l));return!1};case n.SelectorType.Parent:return function(x){return l.getChildren(x).some(function(_){return l.isTag(_)&&s(_)})};case n.SelectorType.Child:return function(x){var _=l.getParent(x);return _!=null&&l.isTag(_)&&s(_)};case n.SelectorType.Sibling:return function(x){for(var _=l.getSiblings(x),b=0;b<_.length;b++){var T=_[b];if(d(x,T))break;if(l.isTag(T)&&s(T))return!0}return!1};case n.SelectorType.Adjacent:return l.prevElementSibling?function(x){var _=l.prevElementSibling(x);return _!=null&&s(_)}:function(x){for(var _=l.getSiblings(x),b,T=0;T<_.length;T++){var N=_[T];if(d(x,N))break;l.isTag(N)&&(b=N)}return!!b&&s(b)};case n.SelectorType.Universal:{if(a.namespace!=null&&a.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return s}}}return Io.compileGeneralSelector=i,Io}var C3;function VQ(){if(C3)return Ln;C3=1;var e=Ln&&Ln.__createBinding||(Object.create?(function(N,g,y,E){E===void 0&&(E=y);var I=Object.getOwnPropertyDescriptor(g,y);(!I||("get"in I?!g.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return g[y]}}),Object.defineProperty(N,E,I)}):(function(N,g,y,E){E===void 0&&(E=y),N[E]=g[y]})),t=Ln&&Ln.__setModuleDefault||(Object.create?(function(N,g){Object.defineProperty(N,"default",{enumerable:!0,value:g})}):function(N,g){N.default=g}),n=Ln&&Ln.__importStar||function(N){if(N&&N.__esModule)return N;var g={};if(N!=null)for(var y in N)y!=="default"&&Object.prototype.hasOwnProperty.call(N,y)&&e(g,N,y);return t(g,N),g},r=Ln&&Ln.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.compileToken=Ln.compileUnsafe=Ln.compile=void 0;var i=mc,s=r(Qs()),a=n(Jw()),o=GQ(),u=ub();function c(N,g,y){var E=l(N,g,y);return(0,u.ensureIsTag)(E,g.adapter)}Ln.compile=c;function l(N,g,y){var E=typeof N=="string"?(0,i.parse)(N):N;return _(E,g,y)}Ln.compileUnsafe=l;function d(N){return N.type===i.SelectorType.Pseudo&&(N.name==="scope"||Array.isArray(N.data)&&N.data.some(function(g){return g.some(d)}))}var h={type:i.SelectorType.Descendant},f={type:"_flexibleDescendant"},p={type:i.SelectorType.Pseudo,name:"scope",data:null};function x(N,g,y){for(var E=g.adapter,I=!!(y!=null&&y.every(function(A){var w=E.isTag(A)&&E.getParent(A);return A===u.PLACEHOLDER_ELEMENT||w&&E.isTag(w)})),R=0,L=N;R<L.length;R++){var S=L[R];if(!(S.length>0&&(0,a.isTraversal)(S[0])&&S[0].type!==i.SelectorType.Descendant))if(I&&!S.some(d))S.unshift(h);else continue;S.unshift(p)}}function _(N,g,y){var E;N.forEach(a.default),y=(E=g.context)!==null&&E!==void 0?E:y;var I=Array.isArray(y),R=y&&(Array.isArray(y)?y:[y]);if(g.relativeSelector!==!1)x(N,g,R);else if(N.some(function(A){return A.length>0&&(0,a.isTraversal)(A[0])}))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");var L=!1,S=N.map(function(A){if(A.length>=2){var w=A[0],O=A[1];w.type!==i.SelectorType.Pseudo||w.name!=="scope"||(I&&O.type===i.SelectorType.Descendant?A[1]=f:(O.type===i.SelectorType.Adjacent||O.type===i.SelectorType.Sibling)&&(L=!0))}return b(A,g,R)}).reduce(T,s.default.falseFunc);return S.shouldTestNextSiblings=L,S}Ln.compileToken=_;function b(N,g,y){var E;return N.reduce(function(I,R){return I===s.default.falseFunc?s.default.falseFunc:(0,o.compileGeneralSelector)(I,R,g,y,_)},(E=g.rootFunc)!==null&&E!==void 0?E:s.default.trueFunc)}function T(N,g){return g===s.default.falseFunc||N===s.default.trueFunc?N:N===s.default.falseFunc||g===s.default.trueFunc?g:function(E){return N(E)||g(E)}}return Ln}var S3;function N3(){return S3||(S3=1,(function(e){var t=ti&&ti.__createBinding||(Object.create?(function(T,N,g,y){y===void 0&&(y=g);var E=Object.getOwnPropertyDescriptor(N,g);(!E||("get"in E?!N.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return N[g]}}),Object.defineProperty(T,y,E)}):(function(T,N,g,y){y===void 0&&(y=g),T[y]=N[g]})),n=ti&&ti.__setModuleDefault||(Object.create?(function(T,N){Object.defineProperty(T,"default",{enumerable:!0,value:N})}):function(T,N){T.default=N}),r=ti&&ti.__importStar||function(T){if(T&&T.__esModule)return T;var N={};if(T!=null)for(var g in T)g!=="default"&&Object.prototype.hasOwnProperty.call(T,g)&&t(N,T,g);return n(N,T),N},i=ti&&ti.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(e,"__esModule",{value:!0}),e.aliases=e.pseudos=e.filters=e.is=e.selectOne=e.selectAll=e.prepareContext=e._compileToken=e._compileUnsafe=e.compile=void 0;var s=r(Di()),a=i(Qs()),o=VQ(),u=ub(),c=function(T,N){return T===N},l={adapter:s,equals:c};function d(T){var N,g,y,E,I=T!=null?T:l;return(N=I.adapter)!==null&&N!==void 0||(I.adapter=s),(g=I.equals)!==null&&g!==void 0||(I.equals=(E=(y=I.adapter)===null||y===void 0?void 0:y.equals)!==null&&E!==void 0?E:c),I}function h(T){return function(g,y,E){var I=d(y);return T(g,I,E)}}e.compile=h(o.compile),e._compileUnsafe=h(o.compileUnsafe),e._compileToken=h(o.compileToken);function f(T){return function(g,y,E){var I=d(E);typeof g!="function"&&(g=(0,o.compileUnsafe)(g,I,y));var R=p(y,I.adapter,g.shouldTestNextSiblings);return T(g,R,I)}}function p(T,N,g){return g===void 0&&(g=!1),g&&(T=x(T,N)),Array.isArray(T)?N.removeSubsets(T):N.getChildren(T)}e.prepareContext=p;function x(T,N){for(var g=Array.isArray(T)?T.slice(0):[T],y=g.length,E=0;E<y;E++){var I=(0,u.getNextSiblings)(g[E],N);g.push.apply(g,I)}return g}e.selectAll=f(function(T,N,g){return T===a.default.falseFunc||!N||N.length===0?[]:g.adapter.findAll(T,N)}),e.selectOne=f(function(T,N,g){return T===a.default.falseFunc||!N||N.length===0?null:g.adapter.findOne(T,N)});function _(T,N,g){var y=d(g);return(typeof N=="function"?N:(0,o.compile)(N,y))(T)}e.is=_,e.default=e.selectAll;var b=Zw();Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return b.filters}}),Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return b.pseudos}}),Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return b.aliases}})})(ti)),ti}var pa={},fp={},v3;function e6(){return v3||(v3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getLimit=e.isFilter=e.filterNames=void 0,e.filterNames=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function t(r){return r.type!=="pseudo"?!1:e.filterNames.has(r.name)?!0:r.name==="not"&&Array.isArray(r.data)?r.data.some(function(i){return i.some(t)}):!1}e.isFilter=t;function n(r,i,s){var a=i!=null?parseInt(i,10):NaN;switch(r){case"first":return 1;case"nth":case"eq":return isFinite(a)?a>=0?a+1:1/0:0;case"lt":return isFinite(a)?a>=0?Math.min(a,s):1/0:0;case"gt":return isFinite(a)?1/0:0;case"odd":return 2*s;case"even":return 2*s-1;case"last":case"not":return 1/0}}e.getLimit=n})(fp)),fp}var w3;function $Q(){if(w3)return pa;w3=1,Object.defineProperty(pa,"__esModule",{value:!0}),pa.groupSelectors=pa.getDocumentRoot=void 0;var e=e6();function t(r){for(;r.parent;)r=r.parent;return r}pa.getDocumentRoot=t;function n(r){for(var i=[],s=[],a=0,o=r;a<o.length;a++){var u=o[a];u.some(e.isFilter)?i.push(u):s.push(u)}return[s,i]}return pa.groupSelectors=n,pa}var I3;function WQ(){return I3||(I3=1,(function(e){var t=kr&&kr.__assign||function(){return t=Object.assign||function(S){for(var A,w=1,O=arguments.length;w<O;w++){A=arguments[w];for(var D in A)Object.prototype.hasOwnProperty.call(A,D)&&(S[D]=A[D])}return S},t.apply(this,arguments)},n=kr&&kr.__createBinding||(Object.create?(function(S,A,w,O){O===void 0&&(O=w);var D=Object.getOwnPropertyDescriptor(A,w);(!D||("get"in D?!A.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return A[w]}}),Object.defineProperty(S,O,D)}):(function(S,A,w,O){O===void 0&&(O=w),S[O]=A[w]})),r=kr&&kr.__setModuleDefault||(Object.create?(function(S,A){Object.defineProperty(S,"default",{enumerable:!0,value:A})}):function(S,A){S.default=A}),i=kr&&kr.__importStar||function(S){if(S&&S.__esModule)return S;var A={};if(S!=null)for(var w in S)w!=="default"&&Object.prototype.hasOwnProperty.call(S,w)&&n(A,S,w);return r(A,S),A},s=kr&&kr.__spreadArray||function(S,A,w){if(w||arguments.length===2)for(var O=0,D=A.length,B;O<D;O++)(B||!(O in A))&&(B||(B=Array.prototype.slice.call(A,0,O)),B[O]=A[O]);return S.concat(B||Array.prototype.slice.call(A))};Object.defineProperty(e,"__esModule",{value:!0}),e.select=e.filter=e.some=e.is=e.aliases=e.pseudos=e.filters=void 0;var a=mc,o=N3(),u=i(Di()),c=i(Qs()),l=$Q(),d=e6(),h=N3();Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return h.filters}}),Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return h.pseudos}}),Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return h.aliases}});var f={type:a.SelectorType.Universal,namespace:null},p={type:a.SelectorType.Pseudo,name:"scope",data:null};function x(S,A,w){return w===void 0&&(w={}),_([S],A,w)}e.is=x;function _(S,A,w){if(w===void 0&&(w={}),typeof A=="function")return S.some(A);var O=(0,l.groupSelectors)((0,a.parse)(A)),D=O[0],B=O[1];return D.length>0&&S.some((0,o._compileToken)(D,w))||B.some(function(M){return g(M,S,w).length>0})}e.some=_;function b(S,A,w,O){var D=typeof w=="string"?parseInt(w,10):NaN;switch(S){case"first":case"lt":return A;case"last":return A.length>0?[A[A.length-1]]:A;case"nth":case"eq":return isFinite(D)&&Math.abs(D)<A.length?[D<0?A[A.length+D]:A[D]]:[];case"gt":return isFinite(D)?A.slice(D+1):[];case"even":return A.filter(function(M,F){return F%2===0});case"odd":return A.filter(function(M,F){return F%2===1});case"not":{var B=new Set(N(w,A,O));return A.filter(function(M){return!B.has(M)})}}}function T(S,A,w){return w===void 0&&(w={}),N((0,a.parse)(S),A,w)}e.filter=T;function N(S,A,w){if(A.length===0)return[];var O=(0,l.groupSelectors)(S),D=O[0],B=O[1],M;if(D.length){var F=L(A,D,w);if(B.length===0)return F;F.length&&(M=new Set(F))}for(var G=0;G<B.length&&(M==null?void 0:M.size)!==A.length;G++){var $=B[G],P=M?A.filter(function(W){return u.isTag(W)&&!M.has(W)}):A;if(P.length===0)break;var F=g($,A,w);if(F.length)if(M)F.forEach(function(W){return M.add(W)});else{if(G===B.length-1)return F;M=new Set(F)}}return typeof M!="undefined"?M.size===A.length?A:A.filter(function(j){return M.has(j)}):[]}function g(S,A,w){var O;if(S.some(a.isTraversal)){var D=(O=w.root)!==null&&O!==void 0?O:(0,l.getDocumentRoot)(A[0]),B=t(t({},w),{context:A,relativeSelector:!1});return S.push(p),E(D,S,B,!0,A.length)}return E(A,S,w,!1,A.length)}function y(S,A,w,O){if(w===void 0&&(w={}),O===void 0&&(O=1/0),typeof S=="function")return R(A,S);var D=(0,l.groupSelectors)((0,a.parse)(S)),B=D[0],M=D[1],F=M.map(function(G){return E(A,G,w,!0,O)});return B.length&&F.push(I(A,B,w,O)),F.length===0?[]:F.length===1?F[0]:u.uniqueSort(F.reduce(function(G,$){return s(s([],G,!0),$,!0)}))}e.select=y;function E(S,A,w,O,D){var B=A.findIndex(d.isFilter),M=A.slice(0,B),F=A[B],G=A.length-1===B?D:1/0,$=(0,d.getLimit)(F.name,F.data,G);if($===0)return[];var P=M.length===0&&!Array.isArray(S)?u.getChildren(S).filter(u.isTag):M.length===0?(Array.isArray(S)?S:[S]).filter(u.isTag):O||M.some(a.isTraversal)?I(S,[M],w,$):L(S,[M],w),j=P.slice(0,$),W=b(F.name,j,F.data,w);if(W.length===0||A.length===B+1)return W;var H=A.slice(B+1),Z=H.some(a.isTraversal);if(Z){if((0,a.isTraversal)(H[0])){var ee=H[0].type;(ee===a.SelectorType.Sibling||ee===a.SelectorType.Adjacent)&&(W=(0,o.prepareContext)(W,u,!0)),H.unshift(f)}w=t(t({},w),{relativeSelector:!1,rootFunc:function(ae){return W.includes(ae)}})}else w.rootFunc&&w.rootFunc!==c.trueFunc&&(w=t(t({},w),{rootFunc:c.trueFunc}));return H.some(d.isFilter)?E(W,H,w,!1,D):Z?I(W,[H],w,D):L(W,[H],w)}function I(S,A,w,O){var D=(0,o._compileToken)(A,w,S);return R(S,D,O)}function R(S,A,w){w===void 0&&(w=1/0);var O=(0,o.prepareContext)(S,u,A.shouldTestNextSiblings);return u.find(function(D){return u.isTag(D)&&A(D)},O,!0,w)}function L(S,A,w){var O=(Array.isArray(S)?S:[S]).filter(u.isTag);if(O.length===0)return O;var D=(0,o._compileToken)(A,w);return D===c.trueFunc?O:O.filter(D)}})(kr)),kr}var k3;function YQ(){if(k3)return De;k3=1;var e=De&&De.__createBinding||(Object.create?(function(P,j,W,H){H===void 0&&(H=W);var Z=Object.getOwnPropertyDescriptor(j,W);(!Z||("get"in Z?!j.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return j[W]}}),Object.defineProperty(P,H,Z)}):(function(P,j,W,H){H===void 0&&(H=W),P[H]=j[W]})),t=De&&De.__setModuleDefault||(Object.create?(function(P,j){Object.defineProperty(P,"default",{enumerable:!0,value:j})}):function(P,j){P.default=j}),n=De&&De.__importStar||function(P){if(P&&P.__esModule)return P;var j={};if(P!=null)for(var W in P)W!=="default"&&Object.prototype.hasOwnProperty.call(P,W)&&e(j,P,W);return t(j,P),j},r=De&&De.__spreadArray||function(P,j,W){if(W||arguments.length===2)for(var H=0,Z=j.length,ee;H<Z;H++)(ee||!(H in j))&&(ee||(ee=Array.prototype.slice.call(j,0,H)),ee[H]=j[H]);return P.concat(ee||Array.prototype.slice.call(j))};Object.defineProperty(De,"__esModule",{value:!0}),De.addBack=De.add=De.end=De.slice=De.index=De.toArray=De.get=De.eq=De.last=De.first=De.has=De.not=De.is=De.filterArray=De.filter=De.map=De.each=De.contents=De.children=De.siblings=De.prevUntil=De.prevAll=De.prev=De.nextUntil=De.nextAll=De.next=De.closest=De.parentsUntil=De.parents=De.parent=De.find=void 0;var i=gr(),s=n(WQ()),a=uo(),o=Ku(),u=Di(),c=/^\s*[~+]/;function l(P){var j;if(!P)return this._make([]);var W=this.toArray();if(typeof P!="string"){var H=(0,a.isCheerio)(P)?P.toArray():[P];return this._make(H.filter(function(ae){return W.some(function(_e){return(0,o.contains)(_e,ae)})}))}var Z=c.test(P)?W:this.children().toArray(),ee={context:W,root:(j=this._root)===null||j===void 0?void 0:j[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(s.select(P,Z,ee))}De.find=l;function d(P){return function(j){for(var W=[],H=1;H<arguments.length;H++)W[H-1]=arguments[H];return function(Z){var ee,ae=P(j,this);return Z&&(ae=E(ae,Z,this.options.xmlMode,(ee=this._root)===null||ee===void 0?void 0:ee[0])),this._make(this.length>1&&ae.length>1?W.reduce(function(_e,ge){return ge(_e)},ae):ae)}}}var h=d(function(P,j){for(var W,H=[],Z=0;Z<j.length;Z++){var ee=P(j[Z]);H.push(ee)}return(W=new Array).concat.apply(W,H)}),f=d(function(P,j){for(var W=[],H=0;H<j.length;H++){var Z=P(j[H]);Z!==null&&W.push(Z)}return W});function p(P){for(var j=[],W=1;W<arguments.length;W++)j[W-1]=arguments[W];var H=null,Z=d(function(ee,ae){var _e=[];return(0,a.domEach)(ae,function(ge){for(var je;(je=ee(ge))&&!(H!=null&&H(je,_e.length));ge=je)_e.push(je)}),_e}).apply(void 0,r([P],j,!1));return function(ee,ae){var _e=this;H=typeof ee=="string"?function(je){return s.is(je,ee,_e.options)}:ee?g(ee):null;var ge=Z.call(this,ae);return H=null,ge}}function x(P){return Array.from(new Set(P))}De.parent=f(function(P){var j=P.parent;return j&&!(0,i.isDocument)(j)?j:null},x),De.parents=h(function(P){for(var j=[];P.parent&&!(0,i.isDocument)(P.parent);)j.push(P.parent),P=P.parent;return j},u.uniqueSort,function(P){return P.reverse()}),De.parentsUntil=p(function(P){var j=P.parent;return j&&!(0,i.isDocument)(j)?j:null},u.uniqueSort,function(P){return P.reverse()});function _(P){var j,W=[];if(!P)return this._make(W);var H={xmlMode:this.options.xmlMode,root:(j=this._root)===null||j===void 0?void 0:j[0]},Z=typeof P=="string"?function(ee){return s.is(ee,P,H)}:g(P);return(0,a.domEach)(this,function(ee){for(;ee&&(0,a.isTag)(ee);){if(Z(ee,0)){W.includes(ee)||W.push(ee);break}ee=ee.parent}}),this._make(W)}De.closest=_,De.next=f(function(P){return(0,u.nextElementSibling)(P)}),De.nextAll=h(function(P){for(var j=[];P.next;)P=P.next,(0,a.isTag)(P)&&j.push(P);return j},x),De.nextUntil=p(function(P){return(0,u.nextElementSibling)(P)},x),De.prev=f(function(P){return(0,u.prevElementSibling)(P)}),De.prevAll=h(function(P){for(var j=[];P.prev;)P=P.prev,(0,a.isTag)(P)&&j.push(P);return j},x),De.prevUntil=p(function(P){return(0,u.prevElementSibling)(P)},x),De.siblings=h(function(P){return(0,u.getSiblings)(P).filter(function(j){return(0,a.isTag)(j)&&j!==P})},u.uniqueSort),De.children=h(function(P){return(0,u.getChildren)(P).filter(a.isTag)},x);function b(){var P=this.toArray().reduce(function(j,W){return(0,i.hasChildren)(W)?j.concat(W.children):j},[]);return this._make(P)}De.contents=b;function T(P){for(var j=0,W=this.length;j<W&&P.call(this[j],j,this[j])!==!1;)++j;return this}De.each=T;function N(P){for(var j=[],W=0;W<this.length;W++){var H=this[W],Z=P.call(H,W,H);Z!=null&&(j=j.concat(Z))}return this._make(j)}De.map=N;function g(P){return typeof P=="function"?function(j,W){return P.call(j,W,j)}:(0,a.isCheerio)(P)?function(j){return Array.prototype.includes.call(P,j)}:function(j){return P===j}}function y(P){var j;return this._make(E(this.toArray(),P,this.options.xmlMode,(j=this._root)===null||j===void 0?void 0:j[0]))}De.filter=y;function E(P,j,W,H){return typeof j=="string"?s.filter(j,P,{xmlMode:W,root:H}):P.filter(g(j))}De.filterArray=E;function I(P){var j=this.toArray();return typeof P=="string"?s.some(j.filter(a.isTag),P,this.options):P?j.some(g(P)):!1}De.is=I;function R(P){var j=this.toArray();if(typeof P=="string"){var W=new Set(s.filter(P,j,this.options));j=j.filter(function(Z){return!W.has(Z)})}else{var H=g(P);j=j.filter(function(Z,ee){return!H(Z,ee)})}return this._make(j)}De.not=R;function L(P){var j=this;return this.filter(typeof P=="string"?":has(".concat(P,")"):function(W,H){return j._make(H).find(P).length>0})}De.has=L;function S(){return this.length>1?this._make(this[0]):this}De.first=S;function A(){return this.length>0?this._make(this[this.length-1]):this}De.last=A;function w(P){var j;return P=+P,P===0&&this.length<=1?this:(P<0&&(P=this.length+P),this._make((j=this[P])!==null&&j!==void 0?j:[]))}De.eq=w;function O(P){return P==null?this.toArray():this[P<0?this.length+P:P]}De.get=O;function D(){return Array.prototype.slice.call(this)}De.toArray=D;function B(P){var j,W;return P==null?(j=this.parent().children(),W=this[0]):typeof P=="string"?(j=this._make(P),W=this[0]):(j=this,W=(0,a.isCheerio)(P)?P[0]:P),Array.prototype.indexOf.call(j,W)}De.index=B;function M(P,j){return this._make(Array.prototype.slice.call(this,P,j))}De.slice=M;function F(){var P;return(P=this.prevObject)!==null&&P!==void 0?P:this._make([])}De.end=F;function G(P,j){var W=this._make(P,j),H=(0,u.uniqueSort)(r(r([],this.get(),!0),W.get(),!0));return this._make(H)}De.add=G;function $(P){return this.prevObject?this.add(P?this.prevObject.filter(P):this.prevObject):this}return De.addBack=$,De}var tt={},ma={},O3;function t6(){if(O3)return ma;O3=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.update=ma.getParse=void 0;var e=Di(),t=gr();function n(i){return function(a,o,u,c){if(typeof Buffer!="undefined"&&Buffer.isBuffer(a)&&(a=a.toString()),typeof a=="string")return i(a,o,u,c);var l=a;if(!Array.isArray(l)&&(0,t.isDocument)(l))return l;var d=new t.Document([]);return r(l,d),d}}ma.getParse=n;function r(i,s){var a=Array.isArray(i)?i:[i];s?s.children=a:s=null;for(var o=0;o<a.length;o++){var u=a[o];u.parent&&u.parent.children!==a&&(0,e.removeElement)(u),s?(u.prev=a[o-1]||null,u.next=a[o+1]||null):u.prev=u.next=null,u.parent=s}return s}return ma.update=r,ma}var D3;function KQ(){if(D3)return tt;D3=1;var e=tt&&tt.__spreadArray||function(L,S,A){if(A||arguments.length===2)for(var w=0,O=S.length,D;w<O;w++)(D||!(w in S))&&(D||(D=Array.prototype.slice.call(S,0,w)),D[w]=S[w]);return L.concat(D||Array.prototype.slice.call(S))};Object.defineProperty(tt,"__esModule",{value:!0}),tt.clone=tt.text=tt.toString=tt.html=tt.empty=tt.replaceWith=tt.remove=tt.insertBefore=tt.before=tt.insertAfter=tt.after=tt.wrapAll=tt.unwrap=tt.wrapInner=tt.wrap=tt.prepend=tt.append=tt.prependTo=tt.appendTo=tt._makeDomArray=void 0;var t=gr(),n=t6(),r=Ku(),i=uo(),s=Di();function a(L,S){var A=this;return L==null?[]:(0,i.isCheerio)(L)?S?(0,i.cloneDom)(L.get()):L.get():Array.isArray(L)?L.reduce(function(w,O){return w.concat(A._makeDomArray(O,S))},[]):typeof L=="string"?this._parse(L,this.options,!1,null).children:S?(0,i.cloneDom)([L]):[L]}tt._makeDomArray=a;function o(L){return function(){for(var S=this,A=[],w=0;w<arguments.length;w++)A[w]=arguments[w];var O=this.length-1;return(0,i.domEach)(this,function(D,B){if((0,t.hasChildren)(D)){var M=typeof A[0]=="function"?A[0].call(D,B,S._render(D.children)):A,F=S._makeDomArray(M,B<O);L(F,D.children,D)}})}}function u(L,S,A,w,O){for(var D,B,M=e([S,A],w,!0),F=S===0?null:L[S-1],G=S+A>=L.length?null:L[S+A],$=0;$<w.length;++$){var P=w[$],j=P.parent;if(j){var W=j.children,H=W.indexOf(P);H>-1&&(j.children.splice(H,1),O===j&&S>H&&M[0]--)}P.parent=O,P.prev&&(P.prev.next=(D=P.next)!==null&&D!==void 0?D:null),P.next&&(P.next.prev=(B=P.prev)!==null&&B!==void 0?B:null),P.prev=$===0?F:w[$-1],P.next=$===w.length-1?G:w[$+1]}return F&&(F.next=w[0]),G&&(G.prev=w[w.length-1]),L.splice.apply(L,M)}function c(L){var S=(0,i.isCheerio)(L)?L:this._make(L);return S.append(this),this}tt.appendTo=c;function l(L){var S=(0,i.isCheerio)(L)?L:this._make(L);return S.prepend(this),this}tt.prependTo=l,tt.append=o(function(L,S,A){u(S,S.length,0,L,A)}),tt.prepend=o(function(L,S,A){u(S,0,0,L,A)});function d(L){return function(S){for(var A=this.length-1,w=this.parents().last(),O=0;O<this.length;O++){var D=this[O],B=typeof S=="function"?S.call(D,O,D):typeof S=="string"&&!(0,i.isHtml)(S)?w.find(S).clone():S,M=this._makeDomArray(B,O<A)[0];if(!(!M||!(0,t.hasChildren)(M))){for(var F=M,G=0;G<F.children.length;){var $=F.children[G];(0,i.isTag)($)?(F=$,G=0):G++}L(D,F,[M])}}return this}}tt.wrap=d(function(L,S,A){var w=L.parent;if(w){var O=w.children,D=O.indexOf(L);(0,n.update)([L],S),u(O,D,0,A,w)}}),tt.wrapInner=d(function(L,S,A){(0,t.hasChildren)(L)&&((0,n.update)(L.children,S),(0,n.update)(A,L))});function h(L){var S=this;return this.parent(L).not("body").each(function(A,w){S._make(w).replaceWith(w.children)}),this}tt.unwrap=h;function f(L){var S=this[0];if(S){for(var A=this._make(typeof L=="function"?L.call(S,0,S):L).insertBefore(S),w=void 0,O=0;O<A.length;O++)A[O].type==="tag"&&(w=A[O]);for(var D=0;w&&D<w.children.length;){var B=w.children[D];B.type==="tag"?(w=B,D=0):D++}w&&this._make(w).append(this)}return this}tt.wrapAll=f;function p(){for(var L=this,S=[],A=0;A<arguments.length;A++)S[A]=arguments[A];var w=this.length-1;return(0,i.domEach)(this,function(O,D){var B=O.parent;if(!(!(0,t.hasChildren)(O)||!B)){var M=B.children,F=M.indexOf(O);if(!(F<0)){var G=typeof S[0]=="function"?S[0].call(O,D,L._render(O.children)):S,$=L._makeDomArray(G,D<w);u(M,F+1,0,$,B)}}})}tt.after=p;function x(L){var S=this;typeof L=="string"&&(L=this._make(L)),this.remove();var A=[];return this._makeDomArray(L).forEach(function(w){var O=S.clone().toArray(),D=w.parent;if(D){var B=D.children,M=B.indexOf(w);M<0||(u(B,M+1,0,O,D),A.push.apply(A,O))}}),this._make(A)}tt.insertAfter=x;function _(){for(var L=this,S=[],A=0;A<arguments.length;A++)S[A]=arguments[A];var w=this.length-1;return(0,i.domEach)(this,function(O,D){var B=O.parent;if(!(!(0,t.hasChildren)(O)||!B)){var M=B.children,F=M.indexOf(O);if(!(F<0)){var G=typeof S[0]=="function"?S[0].call(O,D,L._render(O.children)):S,$=L._makeDomArray(G,D<w);u(M,F,0,$,B)}}})}tt.before=_;function b(L){var S=this,A=this._make(L);this.remove();var w=[];return(0,i.domEach)(A,function(O){var D=S.clone().toArray(),B=O.parent;if(B){var M=B.children,F=M.indexOf(O);F<0||(u(M,F,0,D,B),w.push.apply(w,D))}}),this._make(w)}tt.insertBefore=b;function T(L){var S=L?this.filter(L):this;return(0,i.domEach)(S,function(A){(0,s.removeElement)(A),A.prev=A.next=A.parent=null}),this}tt.remove=T;function N(L){var S=this;return(0,i.domEach)(this,function(A,w){var O=A.parent;if(O){var D=O.children,B=typeof L=="function"?L.call(A,w,A):L,M=S._makeDomArray(B);(0,n.update)(M,null);var F=D.indexOf(A);u(D,F,1,M,O),M.includes(A)||(A.parent=A.prev=A.next=null)}})}tt.replaceWith=N;function g(){return(0,i.domEach)(this,function(L){(0,t.hasChildren)(L)&&(L.children.forEach(function(S){S.next=S.prev=S.parent=null}),L.children.length=0)})}tt.empty=g;function y(L){var S=this;if(L===void 0){var A=this[0];return!A||!(0,t.hasChildren)(A)?null:this._render(A.children)}return(0,i.domEach)(this,function(w){if((0,t.hasChildren)(w)){w.children.forEach(function(D){D.next=D.prev=D.parent=null});var O=(0,i.isCheerio)(L)?L.toArray():S._parse("".concat(L),S.options,!1,w).children;(0,n.update)(O,w)}})}tt.html=y;function E(){return this._render(this)}tt.toString=E;function I(L){var S=this;return L===void 0?(0,r.text)(this):typeof L=="function"?(0,i.domEach)(this,function(A,w){return S._make(A).text(L.call(A,w,(0,r.text)([A])))}):(0,i.domEach)(this,function(A){if((0,t.hasChildren)(A)){A.children.forEach(function(O){O.next=O.prev=O.parent=null});var w=new t.Text("".concat(L));(0,n.update)(w,A)}})}tt.text=I;function R(){return this._make((0,i.cloneDom)(this.get()))}return tt.clone=R,tt}var Ro={},R3;function QQ(){if(R3)return Ro;R3=1,Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.css=void 0;var e=uo();function t(a,o){if(a!=null&&o!=null||typeof a=="object"&&!Array.isArray(a))return(0,e.domEach)(this,function(u,c){(0,e.isTag)(u)&&n(u,a,o,c)});if(this.length!==0)return r(this[0],a)}Ro.css=t;function n(a,o,u,c){if(typeof o=="string"){var l=r(a),d=typeof u=="function"?u.call(a,c,l[o]):u;d===""?delete l[o]:d!=null&&(l[o]=d),a.attribs.style=i(l)}else typeof o=="object"&&Object.keys(o).forEach(function(h,f){n(a,h,o[h],f)})}function r(a,o){if(!(!a||!(0,e.isTag)(a))){var u=s(a.attribs.style);if(typeof o=="string")return u[o];if(Array.isArray(o)){var c={};return o.forEach(function(l){u[l]!=null&&(c[l]=u[l])}),c}return u}}function i(a){return Object.keys(a).reduce(function(o,u){return"".concat(o).concat(o?" ":"").concat(u,": ").concat(a[u],";")},"")}function s(a){if(a=(a||"").trim(),!a)return{};for(var o={},u,c=0,l=a.split(";");c<l.length;c++){var d=l[c],h=d.indexOf(":");if(h<1||h===d.length-1){var f=d.trimEnd();f.length>0&&u!==void 0&&(o[u]+=";".concat(f))}else u=d.slice(0,h).trim(),o[u]=d.slice(h+1).trim()}return o}return Ro}var ga={},L3;function XQ(){if(L3)return ga;L3=1,Object.defineProperty(ga,"__esModule",{value:!0}),ga.serializeArray=ga.serialize=void 0;var e=uo(),t="input,select,textarea,keygen",n=/%20/g,r=/\r?\n/g;function i(){var a=this.serializeArray(),o=a.map(function(u){return"".concat(encodeURIComponent(u.name),"=").concat(encodeURIComponent(u.value))});return o.join("&").replace(n,"+")}ga.serialize=i;function s(){var a=this;return this.map(function(o,u){var c=a._make(u);return(0,e.isTag)(u)&&u.name==="form"?c.find(t).toArray():c.filter(t).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(o,u){var c,l=a._make(u),d=l.attr("name"),h=(c=l.val())!==null&&c!==void 0?c:"";return Array.isArray(h)?h.map(function(f){return{name:d,value:f.replace(r,`\r
`)}}):{name:d,value:h.replace(r,`\r
`)}}).toArray()}return ga.serializeArray=s,ga}var P3;function JQ(){if(P3)return ei;P3=1;var e=ei&&ei.__createBinding||(Object.create?(function(c,l,d,h){h===void 0&&(h=d);var f=Object.getOwnPropertyDescriptor(l,d);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(c,h,f)}):(function(c,l,d,h){h===void 0&&(h=d),c[h]=l[d]})),t=ei&&ei.__setModuleDefault||(Object.create?(function(c,l){Object.defineProperty(c,"default",{enumerable:!0,value:l})}):function(c,l){c.default=l}),n=ei&&ei.__importStar||function(c){if(c&&c.__esModule)return c;var l={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&e(l,c,d);return t(l,c),l};Object.defineProperty(ei,"__esModule",{value:!0}),ei.Cheerio=void 0;var r=n(MQ()),i=n(YQ()),s=n(KQ()),a=n(QQ()),o=n(XQ()),u=(function(){function c(l,d,h){if(this.length=0,this.options=h,this._root=d,l){for(var f=0;f<l.length;f++)this[f]=l[f];this.length=l.length}}return c})();return ei.Cheerio=u,u.prototype.cheerio="[cheerio object]",u.prototype.splice=Array.prototype.splice,u.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(u.prototype,r,i,s,a,o),ei}var M3;function ZQ(){if(M3)return ur;M3=1;var e=ur&&ur.__extends||(function(){var d=function(h,f){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,x){p.__proto__=x}||function(p,x){for(var _ in x)Object.prototype.hasOwnProperty.call(x,_)&&(p[_]=x[_])},d(h,f)};return function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");d(h,f);function p(){this.constructor=h}h.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}})(),t=ur&&ur.__assign||function(){return t=Object.assign||function(d){for(var h,f=1,p=arguments.length;f<p;f++){h=arguments[f];for(var x in h)Object.prototype.hasOwnProperty.call(h,x)&&(d[x]=h[x])}return d},t.apply(this,arguments)},n=ur&&ur.__createBinding||(Object.create?(function(d,h,f,p){p===void 0&&(p=f);var x=Object.getOwnPropertyDescriptor(h,f);(!x||("get"in x?!h.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(d,p,x)}):(function(d,h,f,p){p===void 0&&(p=f),d[p]=h[f]})),r=ur&&ur.__setModuleDefault||(Object.create?(function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}):function(d,h){d.default=h}),i=ur&&ur.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var f in d)f!=="default"&&Object.prototype.hasOwnProperty.call(d,f)&&n(h,d,f);return r(h,d),h};Object.defineProperty(ur,"__esModule",{value:!0}),ur.getLoad=void 0;var s=i(Ww()),a=i(Ku()),o=JQ(),u=uo();function c(d,h){return function f(p,x,_){if(_===void 0&&(_=!0),p==null)throw new Error("cheerio.load() expects a string");var b=t(t({},s.default),(0,s.flatten)(x)),T=d(p,b,_,null),N=(function(y){e(E,y);function E(){return y!==null&&y.apply(this,arguments)||this}return E.prototype._make=function(I,R){var L=g(I,R);return L.prevObject=this,L},E.prototype._parse=function(I,R,L,S){return d(I,R,L,S)},E.prototype._render=function(I){return h(I,this.options)},E})(o.Cheerio);function g(y,E,I,R){if(I===void 0&&(I=T),y&&(0,u.isCheerio)(y))return y;var L=t(t({},b),(0,s.flatten)(R)),S=typeof I=="string"?[d(I,L,!1,null)]:"length"in I?I:[I],A=(0,u.isCheerio)(S)?S:new N(S,null,L);if(A._root=A,!y)return new N(void 0,A,L);var w=typeof y=="string"&&(0,u.isHtml)(y)?d(y,L,!1,null).children:l(y)?[y]:Array.isArray(y)?y:void 0,O=new N(w,A,L);if(w)return O;if(typeof y!="string")throw new Error("Unexpected type of selector");var D=y,B=E?typeof E=="string"?(0,u.isHtml)(E)?new N([d(E,L,!1,null)],A,L):(D="".concat(E," ").concat(D),A):(0,u.isCheerio)(E)?E:new N(Array.isArray(E)?E:[E],A,L):A;return B?B.find(D):O}return Object.assign(g,a,{load:f,_root:T,_options:b,fn:N.prototype,prototype:N.prototype}),g}}ur.getLoad=c;function l(d){return!!d.name||d.type==="root"||d.type==="text"||d.type==="comment"}return ur}var Xi={},hp={},Lo={},ba={},Po={},yr={},B3;function ob(){if(B3)return yr;B3=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.SEQUENCES=yr.CODE_POINTS=yr.REPLACEMENT_CHARACTER=void 0,yr.isSurrogate=n,yr.isSurrogatePair=r,yr.getSurrogatePairCodePoint=i,yr.isControlCodePoint=s,yr.isUndefinedCodePoint=a;const e=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);yr.REPLACEMENT_CHARACTER="ï¿½";var t;(function(o){o[o.EOF=-1]="EOF",o[o.NULL=0]="NULL",o[o.TABULATION=9]="TABULATION",o[o.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",o[o.LINE_FEED=10]="LINE_FEED",o[o.FORM_FEED=12]="FORM_FEED",o[o.SPACE=32]="SPACE",o[o.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",o[o.QUOTATION_MARK=34]="QUOTATION_MARK",o[o.AMPERSAND=38]="AMPERSAND",o[o.APOSTROPHE=39]="APOSTROPHE",o[o.HYPHEN_MINUS=45]="HYPHEN_MINUS",o[o.SOLIDUS=47]="SOLIDUS",o[o.DIGIT_0=48]="DIGIT_0",o[o.DIGIT_9=57]="DIGIT_9",o[o.SEMICOLON=59]="SEMICOLON",o[o.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",o[o.EQUALS_SIGN=61]="EQUALS_SIGN",o[o.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",o[o.QUESTION_MARK=63]="QUESTION_MARK",o[o.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",o[o.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",o[o.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",o[o.GRAVE_ACCENT=96]="GRAVE_ACCENT",o[o.LATIN_SMALL_A=97]="LATIN_SMALL_A",o[o.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(t||(yr.CODE_POINTS=t={})),yr.SEQUENCES={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function n(o){return o>=55296&&o<=57343}function r(o){return o>=56320&&o<=57343}function i(o,u){return(o-55296)*1024+9216+u}function s(o){return o!==32&&o!==10&&o!==13&&o!==9&&o!==12&&o>=1&&o<=31||o>=127&&o<=159}function a(o){return o>=64976&&o<=65007||e.has(o)}return yr}var Mo={},j3;function Dh(){if(j3)return Mo;j3=1,Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.ERR=void 0;var e;return(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(e||(Mo.ERR=e={})),Mo}var F3;function eX(){if(F3)return Po;F3=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.Preprocessor=void 0;const e=ob(),t=Dh(),n=65536;class r{constructor(s){this.handler=s,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=n,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(s,a){const{line:o,col:u,offset:c}=this,l=u+a,d=c+a;return{code:s,startLine:o,endLine:o,startCol:l,endCol:l,startOffset:d,endOffset:d}}_err(s){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(s,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(s){if(this.pos!==this.html.length-1){const a=this.html.charCodeAt(this.pos+1);if((0,e.isSurrogatePair)(a))return this.pos++,this._addGap(),(0,e.getSurrogatePairCodePoint)(s,a)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,e.CODE_POINTS.EOF;return this._err(t.ERR.surrogateInInputStream),s}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(s,a){this.html.length>0?this.html+=s:this.html=s,this.endOfChunkHit=!1,this.lastChunkWritten=a}insertHtmlAtCurrentPos(s){this.html=this.html.substring(0,this.pos+1)+s+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(s,a){if(this.pos+s.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(a)return this.html.startsWith(s,this.pos);for(let o=0;o<s.length;o++)if((this.html.charCodeAt(this.pos+o)|32)!==s.charCodeAt(o))return!1;return!0}peek(s){const a=this.pos+s;if(a>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,e.CODE_POINTS.EOF;const o=this.html.charCodeAt(a);return o===e.CODE_POINTS.CARRIAGE_RETURN?e.CODE_POINTS.LINE_FEED:o}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,e.CODE_POINTS.EOF;let s=this.html.charCodeAt(this.pos);return s===e.CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,e.CODE_POINTS.LINE_FEED):s===e.CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,(0,e.isSurrogate)(s)&&(s=this._processSurrogate(s)),this.handler.onParseError===null||s>31&&s<127||s===e.CODE_POINTS.LINE_FEED||s===e.CODE_POINTS.CARRIAGE_RETURN||s>159&&s<64976||this._checkForProblematicCharacters(s),s)}_checkForProblematicCharacters(s){(0,e.isControlCodePoint)(s)?this._err(t.ERR.controlCharacterInInputStream):(0,e.isUndefinedCodePoint)(s)&&this._err(t.ERR.noncharacterInInputStream)}retreat(s){for(this.pos-=s;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}return Po.Preprocessor=r,Po}var du={},H3;function lb(){if(H3)return du;H3=1,Object.defineProperty(du,"__esModule",{value:!0}),du.TokenType=void 0,du.getTokenAttr=t;var e;(function(n){n[n.CHARACTER=0]="CHARACTER",n[n.NULL_CHARACTER=1]="NULL_CHARACTER",n[n.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",n[n.START_TAG=3]="START_TAG",n[n.END_TAG=4]="END_TAG",n[n.COMMENT=5]="COMMENT",n[n.DOCTYPE=6]="DOCTYPE",n[n.EOF=7]="EOF",n[n.HIBERNATION=8]="HIBERNATION"})(e||(du.TokenType=e={}));function t(n,r){for(let i=n.attrs.length-1;i>=0;i--)if(n.attrs[i].name===r)return n.attrs[i].value;return null}return du}var pp={},Bo={},U3;function z3(){return U3||(U3=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.htmlDecodeTree=void 0,Bo.htmlDecodeTree=new Uint16Array('áµ<ÃÄ±ÊÒÕ»×ÙµÛÞ¢ßà à©àªà¶¡à¹­à¼à¼¦áá¨á¡ááááá¥\0\0\0\0\0\0á«áá¦á°á·á½¾â â°âââ»ââ ¤â¤â´â¹â¿ããºã¹ã¬ã£¾ã¨¨ã©±ã« ã¬®à EMabcfglmnoprstu\\bfmsÂÂÂÂÂÂ¦Â³Â¹ÃÃligè»ÃäPè»&ä¦cuteè»Ãäreve;äÄiyx}rcè»Ãä;är;ìðraveè»Ãäpha;äacr;äd;æ©ÄgpÂÂ¡on;äf;ìð¸plyFunction;æ¡ingè»ÃäÄcsÂ¾Ãr;ìðign;æildeè»Ãämlè»ÃäÐaceforsuÃ¥Ã»Ã¾ÄÄÄ¢Ä§ÄªÄcrÃªÃ²kslash;æÅ¶Ã¶Ã¸;æ«§ed;æy;äÆcrtÄÄÄause;æµnoullis;æ¬a;är;ìðpf;ìð¹eve;äcÃ²Ämpeq;æÜHOacdefhilorsuÅÅÅÆÆÆ¢ÆµÆ·ÆºÇÈÉ³É¸É¾cy;ä§PYè»Â©ä©ÆcpyÅÅ¢Åºute;äÄ;iÅ§Å¨ætalDifferentialD;æleys;æ­ÈaeioÆÆÆÆron;ädilè»Ãärc;änint;æ°ot;äÄdnÆ§Æ­illa;ä¸terDot;ä·Ã²Å¿i;ä§rcleÈDMPTÇÇÇÇot;æinus;ælus;æimes;æoÄcsÇ¢Ç¸kwiseContourIntegral;æ²eCurlyÄDQÈÈoubleQuote;æuote;æÈlnpuÈÈ¨ÉÉonÄ;eÈ¥È¦æ·;æ©´ÆgitÈ¯È¶Èºruent;æ¡nt;æ¯ourIntegral;æ®ÄfrÉÉ;æoduct;ænterClockwiseContourIntegral;æ³oss;æ¨¯cr;ìðpÄ;CÊÊæap;æÖDJSZacefiosÊ Ê¬Ê°Ê´Ê¸ËËË¡Ë¦Ì³ÒÄ;oÅ¹Ê¥trahd;æ¤cy;äcy;äcy;äÆgrsÊ¿ËËger;æ¡r;æ¡hv;æ«¤ÄayËËron;ä;älÄ;tËËæa;är;ìðÄafË«Ì§ÄcmË°Ì¢riticalÈADGTÌÌÌÌcute;ä´oÅ´ÌÌ;äbleAcute;ärave;ä ilde;äond;æferentialD;æÑ°Ì½\0\0\0ÍÍ\0Ðf;ìð»Æ;DEÍÍÍä¨ot;æqual;æbleÌCDLRUVÍ£Í²ÎÏÏ¢Ï¸ontourIntegraÃ¬È¹oÉ´Í¹\0\0Í»Â»ÍnArrow;æÄeoÎÎ¤ftÆARTÎÎÎ¡rrow;æightArrow;æeÃ¥ËngÄLRÎ«ÏeftÄARÎ³Î¹rrow;æ¸ightArrow;æºightArrow;æ¹ightÄATÏÏrrow;æee;æ¨pÉÏ©\0\0Ï¯rrow;æownArrow;æerticalBar;æ¥nÌABLRTaÐÐªÐ°ÑÑ¿Í¼rrowÆ;BUÐÐÐ¢æar;æ¤pArrow;æµreve;äeftËÐº\0Ñ\0ÑightVector;æ¥eeVector;æ¥ectorÄ;BÑÑæ½ar;æ¥ightÇÑ§\0Ñ±eeVector;æ¥ectorÄ;BÑºÑ»æar;æ¥eeÄ;AÒÒæ¤rrow;æ§ÄctÒÒr;ìðrok;äà NTacdfglmopqstuxÒ½ÓÓÓÓÓ¢Ó§Ó®ÓµÔ¡Ô¯Ô¶ÕÕÕ Õ¥G;äHè»Ãäcuteè»ÃäÆaiyÓÓÓron;ärcè»Ãä;ä­ot;är;ìðraveè»Ãäement;æÄapÓºÓ¾cr;ätyÉÔ\0\0ÔmallSquare;æ»erySmallSquare;æ«ÄgpÔ¦Ôªon;äf;ìð¼silon;äuÄaiÔ¼ÕlÄ;TÕÕæ©µilde;ælibrium;æÄciÕÕr;æ°m;æ©³a;ämlè»ÃäÄipÕªÕ¯sts;æonentialE;æÊcfiosÖÖÖÖ²×y;ä¤r;ìðlledÉÖ\0\0Ö£mallSquare;æ¼erySmallSquare;æªÍ°Öº\0Ö¿\0\0×f;ìð½All;æriertrf;æ±cÃ²×ØJTabcdfgorst×¨×¬×¯×ºØØØØØØ£Ù¬Ù²cy;äè»>ä¾mmaÄ;d×·×¸ä;äreve;äÆeiyØØØdil;ä¢rc;ä;äot;ä r;ìð;æpf;ìð¾eaterÌEFGLSTØµÙÙÙÙÙ¦qualÄ;LØ¾Ø¿æ¥ess;æullEqual;æ§reater;æª¢ess;æ·lantEqual;æ©¾ilde;æ³cr;ìð¢;æ«ÐAacfiosuÚÚÚÚÚÚªÚ¾ÛRDcy;äªÄctÚÚek;ä;äirc;ä¤r;ælbertSpace;æÇ°Ú¯\0Ú²f;æizontalLine;æÄctÛÛÃ²Ú©rok;ä¦mpÅÛÛownHumÃ°Ä¯qual;æÜEJOacdfgmnostuÛºÛ¾ÜÜÜÜÜÜ¡Ü¨ÝÝ¸ÞÞÞcy;älig;ä²cy;äcuteè»ÃäÄiyÜÜrcè»Ãä;äot;ä°r;æraveè»ÃäÆ;apÜ Ü¯Ü¿ÄcgÜ´Ü·r;äªinaryI;ælieÃ³ÏÇ´Ý\0Ý¢Ä;eÝÝæ¬ÄgrÝÝral;æ«section;æisibleÄCTÝ¬Ý²omma;æ£imes;æ¢ÆgptÝ¿ÞÞon;ä®f;ìða;äcr;æilde;ä¨Ç«Þ\0Þcy;älè»ÃäÊcfosuÞ¬Þ·Þ¼ßßÄiyÞ±Þµrc;ä´;är;ìðpf;ìðÇ£ß\0ßr;ìð¥rcy;äkcy;äÎHJacfosß¤ß¨ß¬ß±ß½à à cy;ä¥cy;äppa;äÄeyß¶ß»dil;ä¶;är;ìðpf;ìðcr;ìð¦ÖJTaceflmostà ¥à ©à ¬à¡à¡£à¦³à¦¸à§à§à¨·à©cy;äè»<ä¼Êcmnprà ·à ¼à¡à¡à¡ute;ä¹bda;äg;æªlacetrf;ær;æÆaeyà¡à¡à¡¡ron;ä½dil;ä»;äÄfsà¡¨à¥°tÔACDFRTUVarà¡¾à¢©à¢±à£ à£¦à£¼à¤¯à¥Îà¥ªÄnrà¢à¢gleBracket;æ¨rowÆ;BRà¢à¢à¢æar;æ¤ightArrow;æeiling;æoÇµà¢·\0à£bleBracket;æ¦nÇà£\0à£eeVector;æ¥¡ectorÄ;Bà£à£æar;æ¥loor;æightÄAVà£¯à£µrrow;æector;æ¥Äerà¤à¤eÆ;AVà¤à¤à¤æ£rrow;æ¤ector;æ¥iangleÆ;BEà¤¤à¤¥à¤©æ²ar;æ§qual;æ´pÆDTVà¤·à¥à¥ownVector;æ¥eeVector;æ¥ ectorÄ;Bà¥à¥æ¿ar;æ¥ectorÄ;Bà¥¥à¥¦æ¼ar;æ¥ightÃ¡ÎsÌEFGLSTà¥¾à¦à¦à¦à¦¢à¦­qualGreater;æullEqual;æ¦reater;æ¶ess;æª¡lantEqual;æ©½ilde;æ²r;ìðÄ;eà¦½à¦¾æftarrow;æidot;ä¿Ænpwà§à¨à¨gÈLRlrà§à§·à¨à¨eftÄARà§¦à§¬rrow;æµightArrow;æ·ightArrow;æ¶eftÄarÎ³à¨ightÃ¡Î¿ightÃ¡Ïf;ìðerÄLRà¨¢à¨¬eftArrow;æightArrow;æÆchtà¨¾à©à©Ã²à¡;æ°rok;ä;æªÐacefiosuà©à©à© à©·à©¼àªàªàªp;æ¤y;äÄdlà©¥à©¯iumSpace;ælintrf;æ³r;ìðnusPlus;æpf;ìðcÃ²à©¶;äÒJacefostuàª£àª§àª­à«à¬à¬à¶à¶à¶cy;äcute;äÆaeyàª´àª¹àª¾ron;ädil;ä;äÆgswà«à«°à¬ativeÆMTVà«à«à«¨ediumSpace;æhiÄcnà«¦à«Ã«à«eryThiÃ®à«tedÄGLà«¸à¬reaterGreateÃ²Ù³essLesÃ³à©Line;är;ìðÈBnptà¬¢à¬¨à¬·à¬ºreak;æ BreakingSpace;ä f;æÚ;CDEGHLNPRSTVà­à­à­ªà­¼à®¡à¯«à°à±à²à²¦à³àµ¡à¶æ«¬Äouà­à­¤ngruent;æ¢pCap;æ­oubleVerticalBar;æ¦Ælqxà®à®à®ement;æualÄ;Tà®à®æ ilde;ìâÌ¸ists;æreaterÎ;EFGLSTà®¶à®·à®½à¯à¯à¯à¯¥æ¯qual;æ±ullEqual;ìâ§Ì¸reater;ìâ«Ì¸ess;æ¹lantEqual;ìâ©¾Ì¸ilde;æµumpÅà¯²à¯½ownHump;ìâÌ¸qual;ìâÌ¸eÄfsà°à°§tTriangleÆ;BEà°à°à°¡æªar;ìâ§Ì¸qual;æ¬sÌ;EGLSTà°µà°¶à°¼à±à±à±æ®qual;æ°reater;æ¸ess;ìâªÌ¸lantEqual;ìâ©½Ì¸ilde;æ´estedÄGLà±¨à±¹reaterGreater;ìâª¢Ì¸essLess;ìâª¡Ì¸recedesÆ;ESà²à²à²æqual;ìâª¯Ì¸lantEqual;æ Äeià²«à²¹verseElement;æghtTriangleÆ;BEà³à³à³æ«ar;ìâ§Ì¸qual;æ­Äquà³à´uareSuÄbpà³¨à³¹setÄ;Eà³°à³³ìâÌ¸qual;æ¢ersetÄ;Eà´à´ìâÌ¸qual;æ£Æbcpà´à´¤àµsetÄ;Eà´à´ìââqual;æceedsÈ;ESTà´²à´³à´»àµæqual;ìâª°Ì¸lantEqual;æ¡ilde;ìâ¿Ì¸ersetÄ;Eàµàµìââqual;æildeÈ;EFTàµ®àµ¯àµµàµ¿æqual;æullEqual;æilde;æerticalBar;æ¤cr;ìð©ildeè»Ãä;äÜEacdfgmoprstuvà¶½à·à·à·à·à· à·§à·¼à¸à¸ à¸¢à¸²à¸¿à¹lig;äcuteè»ÃäÄiyà·à·rcè»Ãä;äblac;är;ìðraveè»ÃäÆaeià·®à·²à·¶cr;äga;ä©cron;äpf;ìðenCurlyÄDQà¸à¸oubleQuote;æuote;æ;æ©Äclà¸§à¸¬r;ìðªashè»ÃäiÅ¬à¸·à¸¼deè»Ãäes;æ¨·mlè»ÃäerÄBPà¹à¹ Äarà¹à¹r;æ¾acÄekà¹à¹;æet;æ´arenthesis;æÒacfhilorsà¹¿àºàºàºàºàºàºàº°à»¼rtialD;æy;är;ìði;ä¦;ä usMinus;ä±Äipàº¢àº­ncareplanÃ¥Úf;æÈ;eioàº¹àººà» à»¤æª»cedesÈ;ESTà»à»à»à»æºqual;æª¯lantEqual;æ¼ilde;æ¾me;æ³Ädpà»©à»®uct;æortionÄ;aÈ¥à»¹l;æÄcià¼à¼r;ìð«;ä¨ÈUfosà¼à¼à¼à¼OTè»"ä¢r;ìðpf;æcr;ìð¬ØBEacefhiorsuà¼¾à½à½à½ à½³à¾§à¾ªà¾­áá©á´á¾arr;æ¤Gè»Â®ä®Æcnrà½à½à½ute;äg;æ«rÄ;tà½à½æ l;æ¤Æaeyà½§à½¬à½±ron;ädil;ä;ä Ä;và½¸à½¹æerseÄEUà¾à¾Älqà¾à¾ement;æuilibrium;æpEquilibrium;æ¥¯rÂ»à½¹o;ä¡ghtÐACDFTUVaà¿à¿«à¿³á¢á¨ááÏÄnrà¿à¿gleBracket;æ©rowÆ;BLà¿à¿à¿¡æar;æ¥eftArrow;æeiling;æoÇµà¿¹\0ábleBracket;æ§nÇá\0áeeVector;æ¥ectorÄ;Bááæar;æ¥loor;æÄerá­áeÆ;AVáµá¶á¼æ¢rrow;æ¦ector;æ¥iangleÆ;BEáááæ³ar;æ§qual;æµpÆDTVá£á®á¸ownVector;æ¥eeVector;æ¥ectorÄ;Bááæ¾ar;æ¥ectorÄ;Bááæar;æ¥Äpuááf;ændImplies;æ¥°ightarrow;æÄchá¹á¼r;æ;æ±leDelayed;æ§´ÚHOacfhimoqstuá¤á±á·á½ááááá¡á§áµá»á¿ÄCcá©á®Hcy;ä©y;ä¨FTcy;ä¬cute;äÊ;aeiyáááááæª¼ron;ä dil;ärc;ä;ä¡r;ìðortÈDLRUáªá´á¾áownArrowÂ»ÐeftArrowÂ»à¢ightArrowÂ»à¿pArrow;ægma;ä£allCircle;æpf;ìðÉ²á­\0\0á°t;æareÈ;ISUá»á¼áá¯æ¡ntersection;æuÄbpáásetÄ;Eááæqual;æersetÄ;Eá¨á©æqual;ænion;æcr;ìð®ar;æÈbcmpááááÄ;sááæetÄ;Eááqual;æÄchá áeedsÈ;ESTá­á®á´á¿æ»qual;æª°lantEqual;æ½ilde;æ¿ThÃ¡à¾;æÆ;esááá£ærsetÄ;Eááæqual;æetÂ»áÖHRSacfhiorsá¾ááááá±á¶ááááORNè»ÃäADE;æ¢ÄHcáácy;äy;ä¦Äbuáá;ä;ä¤Æaeyá¥áªá¯ron;ä¤dil;ä¢;ä¢r;ìðÄeiá»áÇ²á\0áefore;æ´a;äÄcnáákSpace;ìââSpace;ældeÈ;EFTá«á¬á²á¼æ¼qual;æullEqual;æilde;æpf;ìðipleDot;æÄctáár;ìð¯rok;ä¦à«¡á·ááá¦\0á¬á±\0\0\0\0\0á¸á½á·á\0á¿áááÄcrá»áuteè»ÃärÄ;oááæcir;æ¥rÇ£á\0áy;äve;ä¬Äiyáá£rcè»Ãä;ä£blac;ä°r;ìðraveè»Ãäacr;äªÄdiáá©erÄBPááÄaráár;äacÄekáá;æet;æµarenthesis;æonÄ;Pá°á±ælus;æÄgpá»á¿on;ä²f;ìðÐADETadpsáá®á¸áÏ¨ááá³rrowÆ;BDáá á¤ar;æ¤ownArrow;æownArrow;æquilibrium;æ¥®eeÄ;Aááæ¥rrow;æ¥ownÃ¡Ï³erÄLRáá¨eftArrow;æightArrow;æiÄ;lá¹áºäon;ä¥ing;ä®cr;ìð°ilde;ä¨mlè»ÃäÒDbcdefosvá§á¬á°á³á¾ááááash;æ«ar;æ««y;äashÄ;lá»á¼æ©;æ«¦Äeráá;æÆbtyáááºar;æÄ;iáácalÈBLSTá¡á¥áªá´ar;æ£ine;ä¼eparator;æilde;æThinSpace;ær;ìðpf;ìðcr;ìð±dash;æªÊcefosá§á¬á±á¶á¼irc;ä´dge;ær;ìðpf;ìðcr;ìð²Èfiosáááár;ìð;äpf;ìðcr;ìð³ÒAIUacfosuá±áµá¹á½ááááá cy;ä¯cy;äcy;ä®cuteè»ÃäÄiyáárc;ä¶;ä«r;ìðpf;ìðcr;ìð´ml;ä¸ÐHacdefosáµá¹á¿áááá á¤cy;äcute;ä¹Äayááron;ä½;äot;ä»Ç²á\0áoWidtÃ¨à«a;är;æ¨pf;æ¤cr;ìðµà¯¡ááá\0á°á¶á¿\0\0\0\0ááá«áá­\0ááá²á¹\0á¾cuteè»Ã¡ä¡reve;äÌ;Ediuyááá¡á£á¨á­æ¾;ìâ¾Ì³;æ¿rcè»Ã¢ä¢teè»Â´Ì;ä°ligè»Ã¦ä¦Ä;rÂ²áº;ìðraveè»Ã ä ÄepááÄfpáásym;æµÃ¨áha;ä±ÄapácÄclá¤á§r;äg;æ¨¿É¤á°\0\0áÊ;adsváºá»á¿ááæ§nd;æ©;æ©lope;æ©;æ©Î;elmrszááááá¿ááæ ;æ¦¤eÂ»ásdÄ;aá¥á¦æ¡Ñ¡á°á²á´á¶á¸áºá¼á¾;æ¦¨;æ¦©;æ¦ª;æ¦«;æ¦¬;æ¦­;æ¦®;æ¦¯tÄ;vááæbÄ;dááæ¾;æ¦Äptááh;æ¢Â»Â¹arr;æ¼Ägpá£á§on;äf;ìðÎ;Eaeiopáá»á½áááá;æ©°cir;æ©¯;æd;æs;ä§roxÄ;eááÃ±áingè»Ã¥ä¥Æctyá¡á¦á¨r;ìð¶;äªmpÄ;eáá¯Ã±Êildeè»Ã£ä£mlè»Ã¤ä¤ÄciááoninÃ´É²nt;æ¨à Nabcdefiklnoprsuá­á±á°á¼ááá¸á½á á¦á ¹á¡áá¤½á¥á¥°ot;æ«­Äcrá¶ákÈcepsááááong;æpsilon;ä¶rime;æµimÄ;eááæ½q;æÅ¶á¢á¦ee;æ½edÄ;gá¬á­æeÂ»á­rkÄ;táá·brk;æ¶Äoyáá;ä±quo;æÊcmprtááá¡á¤á¨ausÄ;eÄÄptyv;æ¦°sÃ©ánoÃµÄÆahwá¯á±á³;ä²;æ¶een;æ¬r;ìðgÎcostuvwááá³ááááÆaiuáááÃ°Ý rc;æ¯pÂ»á±Ædptá¤á¨á­ot;æ¨lus;æ¨imes;æ¨É±á¹\0\0á¾cup;æ¨ar;æriangleÄduááown;æ½p;æ³plus;æ¨eÃ¥áÃ¥á­arow;æ¤Æakoá­á ¦á µÄcná²á £kÆlstáºÖ«á ozenge;æ§«riangleÈ;dlrá á á á æ´own;æ¾eft;æight;æ¸k;æ£Æ±á «\0á ³Æ²á ¯\0á ±;æ;æ4;æck;æÄeoá ¾á¡Ä;qá¡á¡ì=â¥uiv;ìâ¡â¥t;æÈptwxá¡á¡á¡§á¡¬f;ìðÄ;táá¡£omÂ»átie;æØDHUVbdhmptuvá¢á¢á¢ªá¢»á£á£á£¬á£¿á¤á¤á¤á¤¡ÈLRlrá¢á¢á¢á¢;æ;æ;æ;æÊ;DUduá¢¡á¢¢á¢¤á¢¦á¢¨æ;æ¦;æ©;æ¤;æ§ÈLRlrá¢³á¢µá¢·á¢¹;æ;æ;æ;æÎ;HLRhlrá£á£á£á£á£á£á£æ;æ¬;æ£;æ ;æ«;æ¢;æox;æ§ÈLRlrá£¤á£¦á£¨á£ª;æ;æ;æ;æÊ;DUduÚ½á£·á£¹á£»á£½;æ¥;æ¨;æ¬;æ´inus;ælus;æimes;æ ÈLRlrá¤á¤á¤á¤;æ;æ;æ;æÎ;HLRhlrá¤°á¤±á¤³á¤µá¤·á¤¹á¤»æ;æª;æ¡;æ;æ¼;æ¤;æÄevÄ£á¥barè»Â¦ä¦Èceioá¥á¥á¥á¥ r;ìð·mi;æmÄ;eáálÆ;bhá¥¨á¥©á¥«ä;æ§sub;æÅ¬á¥´á¥¾lÄ;eá¥¹á¥ºæ¢tÂ»á¥ºpÆ;EeÄ¯á¦á¦;æª®Ä;qÛÛà³¡á¦§\0á§¨á¨á¨á¨²\0á¨·á©\0\0áª´\0\0á«\0\0á¬¡á¬®á­á­\0á¯½\0á°Æcprá¦­á¦²á§ute;äÌ;abcdsá¦¿á§á§á§á§á§æ©nd;æ©rcup;æ©Äauá§á§p;æ©p;æ©ot;æ©;ìâ©ï¸Äeoá§¢á§¥t;æÃ®ÚÈaeiuá§°á§»á¨á¨Ç°á§µ\0á§¸s;æ©on;ädilè»Ã§ä§rc;äpsÄ;sá¨á¨æ©m;æ©ot;äÆdmná¨á¨ á¨¦ilè»Â¸Æ­ptyv;æ¦²tèÂ¢;eá¨­á¨®ä¢rÃ¤Æ²r;ìð Æceiá¨½á©á©y;äckÄ;má©á©æarkÂ»á©;ärÎ;Ecefmsá©á© á©¢á©«áª¤áªªáª®æ;æ§Æ;elá©©á©ªá©­äq;æeÉ¡á©´\0\0áªrrowÄlrá©¼áªeft;æºight;æ»ÊRSacdáªáªáªáªáªÂ»à½;æst;æirc;æash;ænint;æ¨id;æ«¯cir;æ§ubsÄ;uáª»áª¼æ£itÂ»áª¼Ë¬á«á«á«º\0á¬onÄ;eá«á«äºÄ;qÃÃÉ­á«\0\0á«¢aÄ;tá«á«ä¬;äÆ;flá«¨á«©á««æÃ®á eÄmxá«±á«¶entÂ»á«©eÃ³ÉÇ§á«¾\0á¬Ä;dá»á¬ot;æ©­nÃ´ÉÆfryá¬á¬á¬;ìðoÃ¤ÉèÂ©;sÅá¬r;æÄaoá¬¥á¬©rr;æµss;æÄcuá¬²á¬·r;ìð¸Äbpá¬¼á­Ä;eá­á­æ«;æ«Ä;eá­á­æ«;æ«dot;æ¯Îdelprvwá­ á­¬á­·á®á®¬á¯á¯¹arrÄlrá­¨á­ª;æ¤¸;æ¤µÉ°á­²\0\0á­µr;æc;æarrÄ;pá­¿á®æ¶;æ¤½Ì;bcdosá®á®á®á®¡á®¥á®¨æªrcap;æ©Äauá®á®p;æ©p;æ©ot;ær;æ©;ìâªï¸Èalrvá®µá®¿á¯á¯£rrÄ;má®¼á®½æ·;æ¤¼yÆevwá¯á¯á¯qÉ°á¯\0\0á¯reÃ£á­³uÃ£á­µee;æedge;æenè»Â¤ä¤earrowÄlrá¯®á¯³eftÂ»á®ightÂ»á®½eÃ¤á¯Äciá°á°oninÃ´Ç·nt;æ±lcty;æ­à¦AHabcdefhijlorstuwzá°¸á°»á°¿á±á±©á±µá²á²á²¬á²·á³»á³¿á´áµ»á¶á¶«á¶»á·á·rÃ²Îar;æ¥¥Èglrsá±á±á±á±ger;æ eth;æ¸Ã²á³hÄ;vá±á±æÂ»à¤Å«á±¡á±§arow;æ¤aÃ£ÌÄayá±®á±³ron;ä;ä´Æ;aoÌ²á±¼á²ÄgrÊ¿á²r;ætseq;æ©·Æglmá²á²á²è»Â°ä°ta;ä´ptyv;æ¦±Äirá²£á²¨sht;æ¥¿;ìð¡arÄlrá²³á²µÂ»à£Â»áÊaegsvá³Í¸á³á³á³ mÆ;osÌ¦á³á³ndÄ;sÌ¦á³uit;æ¦amma;äin;æ²Æ;ioá³§á³¨á³¸ä·deèÃ·;oá³§á³°ntimes;ænÃ¸á³·cy;äcÉ¯á´\0\0á´rn;æop;æÊlptuwá´á´á´¢áµáµlar;ä¤f;ìðÊ;empsÌá´­á´·á´½áµqÄ;dÍá´³ot;æinus;æ¸lus;æquare;æ¡blebarwedgÃ¥ÃºnÆadhá®áµáµ§ownarrowÃ³á²arpoonÄlráµ²áµ¶efÃ´á²´ighÃ´á²¶Å¢áµ¿á¶karoÃ·à½É¯á¶\0\0á¶rn;æop;æÆcotá¶á¶£á¶¦Äryá¶á¶¡;ìð¹;äl;æ§¶rok;äÄdrá¶°á¶´ot;æ±iÄ;fá¶ºá æ¿Äahá·á·rÃ²Ð©aÃ²à¾¦angle;æ¦¦Äciá·á·y;ägrarr;æ¿à¤Dacdefglmnopqrstuxá¸á¸á¸á¸¸Õ¸á¸¼á¹á¹¡á¹¾áº¥áº¯áº½á»¡á¼ªá¼·á½á½á½ÄDoá¸á´´oÃ´á²Äcsá¸á¸uteè»Ã©ä©ter;æ©®Èaioyá¸¢á¸§á¸±á¸¶ron;ärÄ;cá¸­á¸®æè»Ãªäªlon;æ;äot;äÄDrá¹á¹ot;æ;ìð¢Æ;rsá¹á¹á¹æªaveè»Ã¨ä¨Ä;dá¹á¹æªot;æªÈ;ilsá¹ªá¹«á¹²á¹´æªnters;æ§;æÄ;dá¹¹á¹ºæªot;æªÆapsáºáºáºcr;ätyÆ;sváºáºáºæetÂ»áºpÄ1;áºáº¤Ä³áº¡áº£;æ;ææÄgsáºªáº¬;äp;æÄgpáº´áº¸on;äf;ìðÆalsá»á»á»rÄ;sá»á»æl;æ§£us;æ©±iÆ;lvá»á»á»äµonÂ»á»;äµÈcsuvá»ªá»³á¼á¼£Äioá»¯á¸±rcÂ»á¸®É©á»¹\0\0á»»Ã­ÕantÄglá¼á¼trÂ»á¹essÂ»á¹ºÆaeiá¼á¼á¼ls;ä½st;ævÄ;DÈµá¼ D;æ©¸parsl;æ§¥ÄDaá¼¯á¼³ot;ærr;æ¥±Æcdiá¼¾á½á»¸r;æ¯oÃ´ÍÄahá½á½;ä·è»Ã°ä°Ämrá½á½lè»Ã«ä«o;æ¬Æcipá½¡á½¤á½§l;ä¡sÃ´Õ®Äeoá½¬á½´ctatioÃ®ÕnentialÃ¥Õ¹à§¡á¾\0á¾\0á¾¡á¾§\0\0á¿á¿\0á¿\0á¿¦á¿ªâ\0ââllingdotseÃ±á¹y;ämale;æÆilrá¾­á¾³á¿lig;èï¬É©á¾¹\0\0á¾½g;èï¬ig;èï¬;ìð£lig;èï¬lig;ìfjÆaltá¿á¿á¿¡t;æ­ig;èï¬ns;æ±of;äÇ°á¿®\0á¿³f;ìðÄakÖ¿á¿·Ä;vá¿¼á¿½æ;æ«artint;æ¨ÄaoââÄcsââÎ±ââ°â¸ââ\0âÎ²â¢â¥â§âªâ¬\0â®è»Â½ä½;æè»Â¼ä¼;æ;æ;æÆ³â´\0â¶;æ;æÊ´â¾â\0\0âè»Â¾ä¾;æ;æ5;æÆ¶â\0â;æ;æ8;æl;æwn;æ¢cr;ìð»à¢Eabcdefgijlnorstvââââ¥â°â´â°âµâºâ¿âââ¸Ìâ¾ââÄ;lÙâ;æªÆcmpâââute;äµmaÄ;dâá³ä³;æªreve;äÄiyâªâ®rc;ä;ä³ot;ä¡È;lqsØ¾Ùâ½âÆ;qsØ¾ÙâlanÃ´Ù¥È;cdlÙ¥âââ¥c;æª©otÄ;oââæªÄ;lâ¢â£æª;æªÄ;eâªâ­ìâï¸s;æªr;ìð¤Ä;gÙ³Ømel;æ·cy;äÈ;EajÙâââ;æª;æª¥;æª¤ÈEaesâââ©â´;æ©pÄ;pâ£â¤æªroxÂ»â¤Ä;qâ®â¯æªÄ;qâ®âim;æ§pf;ìðÄciââr;æmÆ;elÙ«ââ;æª;æªè>;cdlqr×®â âªâ®â³â¹Äciâ¥â§;æª§r;æ©ºot;æPar;æ¦uest;æ©¼ÊadelsââªâÙâÇ°â\0âproÃ¸âr;æ¥¸qÄlqØ¿âlesÃ³âiÃ­Ù«Äenâ£â­rtneqq;ìâ©ï¸ÃâªÔAabcefkosyâââ±âµâºâââ¯â¨â½rÃ²Î ÈilmrâââârsÃ°áfÂ»â¤ilÃ´Ú©Ädrâ â¤cy;äÆ;cwà£´â«â¯ir;æ¥;æ­ar;æirc;ä¥ÆalrââârtsÄ;uââæ¥itÂ»âlip;æ¦con;æ¹r;ìð¥sÄewâ£â©arow;æ¤¥arow;æ¤¦Êamoprâºâ¾âââ£rr;æ¿tht;æ»kÄlrââeftarrow;æ©ightarrow;æªf;ìðbar;æÆcltâ¯â´â¸r;ìð½asÃ¨â´rok;ä§Äbpââull;æhenÂ»á±à«¡â£\0âª\0â¸ââ\0ââ³\0\0â¸â¢â§â¢â¿\0ââªâ´cuteè»Ã­ä­Æ;iyÝ±â°âµrcè»Ã®ä®;ä¸Äcxâ¼â¿y;äµclè»Â¡ä¡ÄfrÎâ;ìð¦raveè»Ã¬ä¬È;inoÜ¾ââ©â®Äinâ¢â¦nt;æ¨t;æ­fin;æ§ta;æ©lig;ä³Æaopâ¾ââÆcgtâââr;ä«ÆelpÜââinÃ¥ÞarÃ´Ü h;ä±f;æ·ed;äµÊ;cfotÓ´â¬â±â½âare;æinÄ;tâ¸â¹æie;æ§doÃ´âÊ;celpÝââââ¡al;æºÄgrââerÃ³á£Ã£âarhk;æ¨rod;æ¨¼Ècgptâ¯â²â¶â»y;äon;ä¯f;ìða;ä¹uestè»Â¿ä¿Äciââr;ìð¾nÊ;EdsvÓ´âââ¡Ó³;æ¹ot;æµÄ;vâ¦â§æ´;æ³Ä;iÝ·â®lde;ä©Ç«â¸\0â¼cy;älè»Ã¯ä¯Ìcfmosuââââ¡â§âµÄiyâârc;äµ;ä¹r;ìð§ath;ä·pf;ìðÇ£â¬\0â±r;ìð¿rcy;äkcy;äÐacfghjosâââ¢â§â­â±âµâ»ppaÄ;vââäº;ä°Äeyââ dil;ä·;äºr;ìð¨reen;ä¸cy;äcy;äpf;ìðcr;ìðà®ABEHabcdefghjlmnoprstuvâ°ââââââ½âââââ¥â¹â½ââ²âââ¨âââ â Æartâ·âºâ¼rÃ²à§Ã²Îail;æ¤arr;æ¤Ä;gà¦â;æªar;æ¥¢à¥£â¥\0âª\0â±\0\0\0\0\0âµâº\0âââ\0â¹ute;äºmptyv;æ¦´raÃ®à¡bda;ä»gÆ;dlà¢ââ;æ¦Ã¥à¢;æªuoè»Â«ä«rÐ;bfhlpstà¢ââ¦â©â«â®â±âµÄ;fà¢â£s;æ¤s;æ¤Ã«âp;æ«l;æ¤¹im;æ¥³l;æ¢Æ;aeâ¿ââæª«il;æ¤Ä;sââæª­;ìâª­ï¸Æabrââârr;æ¤rk;æ²Äakâ¢â¬cÄekâ¨âª;ä»;äÄesâ±â³;æ¦lÄduâ¹â»;æ¦;æ¦Èaeuyââââron;ä¾Ädiââil;ä¼Ã¬à¢°Ã¢â©;ä»Ècqrsâ£â¦â­â½a;æ¤¶uoÄ;rà¸áÄduâ²â·har;æ¥§shar;æ¥h;æ²Ê;fgqsââà¦â³â¿æ¤tÊahlrtââ¤â·ââ¨rrowÄ;tà¢â¡aÃ©â¶arpoonÄduâ¯â´ownÂ»ÑpÂ»à¥¦eftarrows;æightÆahsââârrowÄ;sà£´à¢§arpoonÃ³à¾quigarroÃ·â°hreetimes;æÆ;qsâà¦âºlanÃ´à¦¬Ê;cdgsà¦¬ââââ¨c;æª¨otÄ;oââæ©¿Ä;rââæª;æªÄ;eâ¢â¥ìâï¸s;æªÊadegsâ³â¹â½ââpproÃ¸âot;æqÄgqââÃ´à¦gtÃ²âÃ´à¦iÃ­à¦²Æilrâà£¡âsht;æ¥¼;ìð©Ä;Eà¦â£;æªÅ¡â©â¶rÄduâ²â®Ä;là¥¥â³;æ¥ªlk;æcy;äÊ;achtà©âââârÃ²âorneÃ²á´ard;æ¥«ri;æºÄioââ¤dot;äustÄ;aâ¬â­æ°cheÂ»â­ÈEaesâ»â½ââ;æ¨pÄ;pââæªroxÂ»âÄ;qââæªÄ;qââ»im;æ¦Ðabnoptwzâ©â´â·ââ¯âââÄnrâ®â±g;æ¬r;æ½rÃ«à£gÆlmrâ¿ââeftÄarà§¦âightÃ¡à§²apsto;æ¼ightÃ¡à§½parrowÄlrâ¥â©efÃ´â­ight;æ¬Æaflâ¶â¹â½r;æ¦;ìðus;æ¨­imes;æ¨´Å¡ââst;æÃ¡áÆ;efââá ængeÂ»âarÄ;lâ¤â¥ä¨t;æ¦Êachmtâ³â¶â¼âârÃ²à¢¨orneÃ²á¶arÄ;dà¾â;æ¥­;æri;æ¿Ìachiqtââà©â¢â®â»quo;æ¹r;ìðmÆ;egà¦²âªâ¬;æª;æªÄbuâªâ³oÄ;rà¸â¹;ærok;äè<;cdhilqrà «ââ¹ââ â¥âªâ°Äciââ;æª¦r;æ©¹reÃ¥â²mes;æarr;æ¥¶uest;æ©»ÄPiâµâ¹ar;æ¦Æ;efâ à¤­á ærÄduâ â shar;æ¥har;æ¥¦Äenâ â ¡rtneqq;ìâ¨ï¸Ãâ ÜDacdefhilnopsuâ¡â¡â¢â¢â¢â¢ â¢¥â¢¨â£â£¢â£¤àªâ£³â¤Dot;æºÈclprâ¡â¡â¡£â¡½rè»Â¯ä¯Äetâ¡â¡;æÄ;eâ¡â¡æ seÂ»â¡Ä;sá»â¡¨toÈ;dluá»â¡³â¡·â¡»owÃ®ÒefÃ´à¤Ã°áker;æ®Äoyâ¢â¢mma;æ¨©;ä¼ash;æasuredangleÂ»á¦r;ìðªo;æ§Æcdnâ¢¯â¢´â£roè»ÂµäµÈ;acdá¤â¢½â£â£sÃ´á§ir;æ«°otè»Â·ÆµusÆ;bdâ£á¤â£æÄ;uá´¼â£;æ¨ªÅ£â£â£¡p;æ«Ã²âÃ°àªÄdpâ£©â£®els;æ§f;ìðÄctâ£¸â£½r;ìðposÂ»áÆ;lmâ¤â¤â¤ä¼timap;æ¸à°GLRVabcdefghijlmoprstuvwâ¥â¥â¥¾â¦â¦â§â§©â¨â¨â©â©âªâªâª¤âª¨â¬â¬â­â­¿â®®â°´â±§â±¼â³©Ägtâ¥â¥;ìâÌ¸Ä;vâ¥à¯ìâ«âÆeltâ¥â¥²â¥¶ftÄarâ¥¡â¥§rrow;æightarrow;æ;ìâÌ¸Ä;vâ¥»à±ìâªâightarrow;æÄDdâ¦â¦ash;æ¯ash;æ®Êbcnptâ¦£â¦§â¦¬â¦±â§laÂ»Ëute;äg;ìâ âÊ;Eiopà¶â¦¼â§â§â§;ìâ©°Ì¸d;ìâÌ¸s;äroÃ¸à¶urÄ;aâ§â§æ®lÄ;sâ§à¬¸Ç³â§\0â§£pè»Â à¬·mpÄ;eà¯¹à°Êaeouyâ§´â§¾â¨â¨â¨Ç°â§¹\0â§»;æ©on;ädil;ängÄ;dàµ¾â¨ot;ìâ©­Ì¸p;æ©;ä½ash;æÎ;Aadqsxà®â¨©â¨­â¨»â©â©â©rr;ærÄhrâ¨³â¨¶k;æ¤¤Ä;oá²á°ot;ìâÌ¸uiÃ¶à­£Äeiâ©â©ar;æ¤¨Ã­à®istÄ;sà® à®r;ìð«ÈEestà¯â©¦â©¹â©¼Æ;qsà®¼â©­à¯¡Æ;qsà®¼à¯â©´lanÃ´à¯¢iÃ­à¯ªÄ;rà®¶âªÂ»à®·ÆAapâªâªâªrÃ²â¥±rr;æ®ar;æ«²Æ;svà¾âªà¾Ä;dâª¡âª¢æ¼;æºcy;äÎAEadestâª·âªºâª¾â«â«â«¶â«¹rÃ²â¥¦;ìâ¦Ì¸rr;ær;æ¥È;fqsà°»â«â«£â«¯tÄarâ«â«rroÃ·â«ightarroÃ·âªÆ;qsà°»âªºâ«ªlanÃ´à±Ä;sà±â«´Â»à°¶iÃ­à±Ä;rà°µâ«¾iÄ;eà°à°¥iÃ¤à¶Äptâ¬â¬f;ìðèÂ¬;inâ¬â¬â¬¶ä¬nÈ;Edvà®â¬¤â¬¨â¬®;ìâ¹Ì¸ot;ìâµÌ¸Ç¡à®â¬³â¬µ;æ·;æ¶iÄ;và²¸â¬¼Ç¡à²¸â­â­;æ¾;æ½Æaorâ­â­£â­©rÈ;astà­»â­â­â­lleÃ¬à­»l;ìâ«½â¥;ìâÌ¸lint;æ¨Æ;ceà²â­°â­³uÃ¥à²¥Ä;cà²â­¸Ä;eà²â­½Ã±à²ÈAaitâ®â®â®â®§rÃ²â¦rrÆ;cwâ®â®â®æ;ìâ¤³Ì¸;ìâÌ¸ghtarrowÂ»â®riÄ;eà³à³Îchimpquâ®½â¯â¯â¬à­¸â¯¤â¯¯È;cerà´²â¯à´·â¯uÃ¥àµ;ìðortÉ­â¬\0\0â¯arÃ¡â­mÄ;eàµ®â¯Ä;qàµ´àµ³suÄbpâ¯«â¯­Ã¥à³¸Ã¥à´Æbcpâ¯¶â°â°È;Eesâ¯¿â°à´¢â°æ;ìâ«Ì¸etÄ;eà´â°qÄ;qà´£â°cÄ;eà´²â°Ã±à´¸È;Eesâ°¢â°£àµâ°§æ;ìâ«Ì¸etÄ;eàµâ°®qÄ;qàµ â°£Ègilrâ°½â°¿â±â±Ã¬à¯ldeè»Ã±ä±Ã§à±iangleÄlrâ±â±eftÄ;eà°â±Ã±à°¦ightÄ;eà³â±¥Ã±à³Ä;mâ±¬â±­ä½Æ;esâ±´â±µâ±¹ä£ro;æp;æÒDHadgilrsâ²â²â²â²â²£â²°â²¶â³â³£ash;æ­arr;æ¤p;ìââash;æ¬Äetâ²¨â²¬;ìâ¥â;ì>ânfin;æ§ÆAetâ²½â³â³rr;æ¤;ìâ¤âÄ;râ³â³ì<âie;ìâ´âÄAtâ³â³rr;æ¤rie;ìâµâim;ìâ¼âÆAanâ³°â³´â´rr;ærÄhrâ³ºâ³½k;æ¤£Ä;oá§á¥ear;æ¤§ááª\0\0\0\0\0\0\0\0\0\0\0\0\0â´­\0â´¸âµâµ âµ¥âµ²â¶á¬\0\0â¶â¶«\0â·â·\0â·â¸â¸«â¸¾â¹Äcsâ´±áªuteè»Ã³ä³Äiyâ´¼âµrÄ;cáªâµè»Ã´ä´;ä¾Êabiosáª âµâµÇâµlac;äv;æ¨¸old;æ¦¼lig;äÄcrâµ©âµ­ir;æ¦¿;ìð¬Í¯âµ¹\0\0âµ¼\0â¶n;äaveè»Ã²ä²;æ§Äbmâ¶à·´ar;æ¦µÈacitâ¶â¶â¶¥â¶¨rÃ²áªÄirâ¶â¶ r;æ¦¾oss;æ¦»nÃ¥à¹;æ§Æaeiâ¶±â¶µâ¶¹cr;äga;äÆcdnâ·â·Çron;ä¿;æ¦¶pf;ìð Æaelâ·â·Çr;æ¦·rp;æ¦¹Î;adiosvâ·ªâ·«â·®â¸â¸â¸â¸æ¨rÃ²áªÈ;efmâ··â·¸â¸â¸æ©rÄ;oâ·¾â·¿æ´fÂ»â·¿è»Âªäªè»Âºäºgof;æ¶r;æ©lope;æ©;æ©Æcloâ¸â¸¡â¸§Ã²â¸ashè»Ã¸ä¸l;æiÅ¬â¸¯â¸´deè»ÃµäµesÄ;aÇâ¸ºs;æ¨¶mlè»Ã¶ä¶bar;æ½à«¡â¹\0â¹½\0âºâº\0âº¢âº¹\0\0â»àº\0â¼\0\0â¼«â¾¼\0â¿rÈ;astÐâ¹§â¹²àºèÂ¶;lâ¹­â¹®ä¶leÃ¬ÐÉ©â¹¸\0\0â¹»m;æ«³;æ«½y;ä¿rÊcimptâºâºâºá¡¥âºnt;ä¥od;ä®il;æ°enk;æ±r;ìð­Æimoâº¨âº°âº´Ä;vâº­âº®ä;ämaÃ´à©¶ne;æÆ;tvâº¿â»â»ächforkÂ»á¿½;äÄauâ»â»nÄckâ»â»kÄ;hâ´â»;æÃ¶â´sÒ;abcdemstâ»³â»´á¤â»¹â»½â¼â¼â¼â¼ä«cir;æ¨£ir;æ¨¢Äouáµâ¼;æ¨¥;æ©²nè»Â±àºim;æ¨¦wo;æ¨§Æipuâ¼â¼ â¼¥ntint;æ¨f;ìð¡ndè»Â£ä£Ô;Eaceinosuà»â¼¿â½â½â½â¾â¾â¾â½¾â¾¶;æª³p;æª·uÃ¥à»Ä;cà»â½Ì;acensà»â½â½â½¦â½¨â½¾pproÃ¸â½urlyeÃ±à»Ã±à»Æaesâ½¯â½¶â½ºpprox;æª¹qq;æªµim;æ¨iÃ­à»meÄ;sâ¾àº®æ²ÆEasâ½¸â¾â½ºÃ°â½µÆdfpà»¬â¾â¾¯Æalsâ¾ â¾¥â¾ªlar;æ®ine;æurf;æÄ;tà»»â¾´Ã¯à»»rel;æ°Äciâ¿â¿r;ìð;äncsp;æÌfiopsuâ¿â¢â¿â¿¥â¿«â¿±r;ìð®pf;ìð¢rime;æcr;ìðÆaeoâ¿¸ããtÄeiâ¿¾ãrnionÃ³Ú°nt;æ¨stÄ;eããä¿Ã±á¼Ã´à¼àªABHabcdefhilmnoprstuxããããã ãã«ãã¢ã²ãããã¤ã©ãã®ã²ãã°ã·ÆartãããrÃ²á³Ã²Ïail;æ¤arÃ²á±¥ar;æ¥¤Îcdenqrtã¨ãµã¸ã¿ãããÄeuã­ã±;ìâ½Ì±te;äiÃ£á®mptyv;æ¦³gÈ;delà¿ããã;æ¦;æ¦¥Ã¥à¿uoè»Â»ä»rÖ;abcfhlpstwà¿ã¬ã¯ã·ã¹ã¼ã¾ããããp;æ¥µÄ;fà¿ ã´s;æ¤ ;æ¤³s;æ¤Ã«âÃ°â®l;æ¥im;æ¥´l;æ£;æÄaiããil;æ¤oÄ;nããæ¶alÃ³à¼Æabrã§ãªã®rÃ²á¥rk;æ³Äakã³ã½cÄekã¹ã»;ä½;äÄesãã;æ¦lÄduãã;æ¦;æ¦Èaeuyããã§ã©ron;äÄdiã¡ã¥il;äÃ¬à¿²Ã¢ãº;äÈclqsã´ã·ã½ãa;æ¤·dhar;æ¥©uoÄ;rÈÈh;æ³Æacgããà½lÈ;ipsà½¸ããánÃ¥á»arÃ´à¾©t;æ­Æilrã©á£ã®sht;æ¥½;ìð¯Äaoã·ãrÄduã½ã¿Â»Ñ»Ä;láã;æ¥¬Ä;vããä;ä±Ægnsãã¹ã¼htÌahlrstã¤ã°ããã¤ã®rrowÄ;tà¿ã­aÃ©ãarpoonÄduã»ã¿owÃ®ã¾pÂ»áeftÄahããrrowÃ³à¿ªarpoonÃ³Õightarrows;æquigarroÃ·ãhreetimes;æg;äingdotseÃ±á¼²ÆahmãããrÃ²à¿ªaÃ²Õ;æoustÄ;aããæ±cheÂ»ãmid;æ«®Èabptã²ã½ããÄnrã·ãºg;æ­r;æ¾rÃ«áÆaflãããr;æ¦;ìð£us;æ¨®imes;æ¨µÄapãã§rÄ;gã£ã¤ä©t;æ¦olint;æ¨arÃ²ã£Èachqã»ãá¼ãquo;æºr;ìðÄbuã»ãoÄ;rÈÈÆhirããã reÃ¥ã¸mes;æiÈ;eflãªáá ¡ã«æ¹tri;æ§luhar;æ¥¨;æàµ¡ãããã¬ã¸ã±\0ãºã¤\0\0ã¬ã°\0ã¨ããã­ã±ãã±\0ã\0\0ã³cute;äquÃ¯âºÔ;Eaceinpsyá­ã³ãµã¿ããããã¦ã©;æª´Ç°ãº\0ã¼;æª¸on;ä¡uÃ¥á¾Ä;dá³ãil;ärc;äÆEasããã;æª¶p;æªºim;æ©olint;æ¨iÃ­á;äotÆ;beã´áµãµæ;æ©¦ÎAacmstxãããããã£ã­rr;ærÄhrããÃ«â¨Ä;oà¨¶à¨´tè»Â§ä§i;ä»war;æ¤©mÄinã©Ã°nuÃ³Ã±t;æ¶rÄ;oã¶âìð°Èacoyãããã rp;æ¯Ähyããcy;ä;ärtÉ­ã\0\0ãiÃ¤á¤araÃ¬â¹¯è»Â­ä­Ägmã¨ã´maÆ;fvã±ã²ã²ä;äÐ;deglnprá«ãããããã¡ã¦ot;æ©ªÄ;qá±á°Ä;Eããæª;æª Ä;Eããæª;æªe;ælus;æ¨¤arr;æ¥²arÃ²á½Èaeitã¸ãããÄlsã½ãlsetmÃ©ãªhp;æ¨³parsl;æ§¤Ädlá£ãe;æ£Ä;eããæªªÄ;sã¢ã£æª¬;ìâª¬ï¸Æflpã®ã³ãtcy;äÄ;bã¸ã¹ä¯Ä;aã¾ã¿æ§r;æ¿f;ìð¤aÄdrãÐesÄ;uããæ itÂ»ãÆcsuã ã¹ãÄauã¥ã¯pÄ;sáã«;ìâï¸pÄ;sá´ãµ;ìâï¸uÄbpã¿ãÆ;esááãetÄ;eáãÃ±áÆ;esá¨á­ãetÄ;eá¨ãÃ±á®Æ;afá»ã¦Ö°rÅ¥ã«Ö±Â»á¼arÃ²áÈcemtã¹ã¾ããr;ìðtmÃ®Ã±iÃ¬ãarÃ¦á¾ÄarããrÄ;fãá¿æÄanãã­ightÄepã£ãªpsiloÃ®á» hÃ©âº¯sÂ»â¡Êbcmnpã»ãáããÒ;Edemnprsãããããã£ã¬ã±ã¶æ;æ«ot;æª½Ä;dáãot;æ«ult;æ«ÄEeã¨ãª;æ«;ælus;æª¿arr;æ¥¹Æeiuã½ããtÆ;enãããqÄ;qáãeqÄ;qã«ã¨m;æ«Äbpãã;æ«;æ«cÌ;acensá­ã¬ã²ã¹ã»ã¦pproÃ¸ãºurlyeÃ±á¾Ã±á³ÆaesãããpproÃ¸ãqÃ±ãg;æªÚ123;Edehlmnpsã©ã¬ã¯áã²ã´ãããããã¨ã­è»Â¹ä¹è»Â²ä²è»Â³ä³;æ«Äosã¹ã¼t;æª¾ub;æ«Ä;dá¢ãot;æ«sÄouããl;æb;æ«arr;æ¥»ult;æ«ÄEeã¤ã¦;æ«;ælus;æ«Æeiuã´ããtÆ;enáã¼ãqÄ;qá¢ã²eqÄ;qã§ã¤m;æ«Äbpãã;æ«;æ«ÆAanãã ã­rr;ærÄhrã¦ã¨Ã«â®Ä;oà¨«à¨©war;æ¤ªligè»Ãäà¯¡ããã áã³ã¹\0ã¾ã\0\0\0\0\0ãã\0ãã¬\0\0\0ãÉ²ã\0\0ãget;æ;ärÃ«à¹Æaeyã¦ã«ã°ron;ä¥dil;ä£;älrec;ær;ìð±Èeikoãããµã¼Ç²ã\0ãeÄ4fááaÆ;svãããä¸ym;äÄcnã¢ã²kÄasã¨ã®pproÃ¸áimÂ»á¬sÃ°áÄasãºã®Ã°árnè»Ã¾ä¾Ç¬Ìãâ§esèÃ;bdãããäÄ;aá¤ãr;æ¨±;æ¨°Æepsã¡ã£ãÃ¡â©È;bcfÒã¬ã°ã´ot;æ¶ir;æ«±Ä;oã¹ã¼ìð¥rk;æ«Ã¡ã¢rime;æ´Æaipããã¤dÃ¥áÎadempstã¡ããããããngleÊ;dlqrã°ã±ã¶ããæµownÂ»á¶»eftÄ;eâ ã¾Ã±à¤®;æightÄ;eãªãÃ±áot;æ¬inus;æ¨ºlus;æ¨¹b;æ§ime;æ¨»ezium;æ¢Æchtã²ã½ãÄryã·ã»;ìð;äcy;ärok;ä§ÄioããxÃ´á·headÄlrãã eftarroÃ·à¡ightarrowÂ»à½à¤AHabcdfghlmoprstuwãããã¤ã°ã¼ã ã ã £ã ´ã¡ã¡ã¡«ã¢©ã£ã£ã£ªã£¶rÃ²Ï­ar;æ¥£Äcrãã¢uteè»ÃºäºÃ²árÇ£ãª\0ã­y;äve;ä­Äiyãµãºrcè»Ã»ä»;äÆabhã ã ã rÃ²á­lac;ä±aÃ²áÄirã ã sht;æ¥¾;ìð²raveè»Ã¹ä¹Å¡ã §ã ±rÄlrã ¬ã ®Â»à¥Â»álk;æÄctã ¹ã¡É¯ã ¿\0\0ã¡rnÄ;eã¡ã¡ærÂ»ã¡op;æri;æ¸Äalã¡ã¡cr;ä«è»Â¨ÍÄgpã¡¢ã¡¦on;ä³f;ìð¦Ìadhlsuáã¡¸ã¡½á²ã¢ã¢ ownÃ¡á³arpoonÄlrã¢ã¢efÃ´ã ­ighÃ´ã ¯iÆ;hlã¢ã¢ã¢äÂ»áºonÂ»ã¢parrows;æÆcitã¢°ã£ã£É¯ã¢¶\0\0ã£rnÄ;eã¢¼ã¢½ærÂ»ã¢½op;æng;ä¯ri;æ¹cr;ìðÆdirã£ã£ã£¢ot;æ°lde;ä©iÄ;fã°ã£¨Â»á Äamã£¯ã£²rÃ²ã¢¨lè»Ã¼ä¼angle;æ¦§ÞABDacdeflnoprszã¤ã¤ã¤©ã¤­ã¦µã¦¸ã¦½ã§ã§¤ã§¨ã§³ã§¹ã§½ã¨ã¨ rÃ²Ï·arÄ;vã¤¦ã¤§æ«¨;æ«©asÃ¨Ï¡Änrã¤²ã¤·grt;æ¦Îeknprstã£ã¥ã¥ã¥ã¥ã¥¤ã¦appÃ¡âothinÃ§áºÆhirã«â»ã¥opÃ´â¾µÄ;há·ã¥¢Ã¯ãÄiuã¥©ã¥­gmÃ¡ã³Äbpã¥²ã¦setneqÄ;qã¥½ã¦ìâï¸;ìâ«ï¸setneqÄ;qã¦ã¦ìâï¸;ìâ«ï¸Ährã¦ã¦etÃ¡ãiangleÄlrã¦ªã¦¯eftÂ»à¤¥ightÂ»áy;ä²ashÂ»á¶Æelrã§ã§ã§Æ;beâ·ªã§ã§ar;æ»q;ælip;æ®Äbtã§á¨aÃ²á©r;ìð³trÃ©ã¦®suÄbpã§¯ã§±Â»à´Â»àµpf;ìð§roÃ°à»»trÃ©ã¦´Äcuã¨ã¨r;ìðÄbpã¨ã¨nÄEeã¦ã¨Â»ã¥¾nÄEeã¦ã¨Â»ã¦igzag;æ¦Îcefoprsã¨¶ã¨»ã©ã©ã©ã©¡ã©ªirc;äµÄdiã©ã©Äbgã©ã©ar;æ©eÄ;qáºã©;æerp;ær;ìð´pf;ìð¨Ä;eá¹ã©¦atÃ¨á¹cr;ìðà«£áãª\0ãª\0ãªãª\0\0ãªãª¨ãª«ãª¯\0\0ã«ã«\0ã«áátrÃ©ár;ìðµÄAaãªãªrÃ²ÏrÃ²à§¶;ä¾ÄAaãª¡ãª¤rÃ²Î¸rÃ²à§«aÃ°âis;æ»Ædptá¤ãªµãª¾Äflãªºá©;ìð©imÃ¥á²ÄAaã«ã«rÃ²ÏrÃ²à¨Äcqã«á¸r;ìðÄptáã«rÃ©áÐacefiosuã«°ã«½ã¬ã¬ã¬ã¬ã¬ã¬¡cÄuyã«¶ã«»teè»Ã½ä½;äÄiyã¬ã¬rc;ä·;änè»Â¥ä¥r;ìð¶cy;äpf;ìðªcr;ìðÄcmã¬¦ã¬©y;älè»Ã¿ä¿Ôacdefhioswã­ã­ã­ã­ã­¤ã­©ã­­ã­´ã­ºã®cute;äºÄayã­ã­ron;ä¾;ä·ot;ä¼Äetã­ã­¡trÃ¦áa;ä¶r;ìð·cy;ä¶grarr;æpf;ìð«cr;ìðÄjnã®ã®;æj;æ'.split("").map(e=>e.charCodeAt(0)))),Bo}var jo={},q3;function G3(){return q3||(q3=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.xmlDecodeTree=void 0,jo.xmlDecodeTree=new Uint16Array("Èaglq	\x1BÉ­\0\0p;ä¦os;ä§t;ä¾t;ä¼uot;ä¢".split("").map(e=>e.charCodeAt(0)))),jo}var mp={},V3;function $3(){return V3||(V3=1,(function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.fromCodePoint=void 0,e.replaceCodePoint=r,e.decodeCodePoint=i;const n=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);e.fromCodePoint=(t=String.fromCodePoint)!==null&&t!==void 0?t:function(s){let a="";return s>65535&&(s-=65536,a+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),a+=String.fromCharCode(s),a};function r(s){var a;return s>=55296&&s<=57343||s>1114111?65533:(a=n.get(s))!==null&&a!==void 0?a:s}function i(s){return(0,e.fromCodePoint)(r(s))}})(mp)),mp}var W3;function tX(){return W3||(W3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=e.EntityDecoder=e.DecodingMode=e.BinTrieFlags=void 0,e.determineBranch=x,e.decodeHTML=T,e.decodeHTMLAttribute=N,e.decodeHTMLStrict=g,e.decodeXML=y;const t=z3(),n=G3(),r=$3();var i;(function(L){L[L.NUM=35]="NUM",L[L.SEMI=59]="SEMI",L[L.EQUALS=61]="EQUALS",L[L.ZERO=48]="ZERO",L[L.NINE=57]="NINE",L[L.LOWER_A=97]="LOWER_A",L[L.LOWER_F=102]="LOWER_F",L[L.LOWER_X=120]="LOWER_X",L[L.LOWER_Z=122]="LOWER_Z",L[L.UPPER_A=65]="UPPER_A",L[L.UPPER_F=70]="UPPER_F",L[L.UPPER_Z=90]="UPPER_Z"})(i||(i={}));const s=32;var a;(function(L){L[L.VALUE_LENGTH=49152]="VALUE_LENGTH",L[L.BRANCH_LENGTH=16256]="BRANCH_LENGTH",L[L.JUMP_TABLE=127]="JUMP_TABLE"})(a||(e.BinTrieFlags=a={}));function o(L){return L>=i.ZERO&&L<=i.NINE}function u(L){return L>=i.UPPER_A&&L<=i.UPPER_F||L>=i.LOWER_A&&L<=i.LOWER_F}function c(L){return L>=i.UPPER_A&&L<=i.UPPER_Z||L>=i.LOWER_A&&L<=i.LOWER_Z||o(L)}function l(L){return L===i.EQUALS||c(L)}var d;(function(L){L[L.EntityStart=0]="EntityStart",L[L.NumericStart=1]="NumericStart",L[L.NumericDecimal=2]="NumericDecimal",L[L.NumericHex=3]="NumericHex",L[L.NamedEntity=4]="NamedEntity"})(d||(d={}));var h;(function(L){L[L.Legacy=0]="Legacy",L[L.Strict=1]="Strict",L[L.Attribute=2]="Attribute"})(h||(e.DecodingMode=h={}));class f{constructor(S,A,w){this.decodeTree=S,this.emitCodePoint=A,this.errors=w,this.state=d.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=h.Strict}startEntity(S){this.decodeMode=S,this.state=d.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(S,A){switch(this.state){case d.EntityStart:return S.charCodeAt(A)===i.NUM?(this.state=d.NumericStart,this.consumed+=1,this.stateNumericStart(S,A+1)):(this.state=d.NamedEntity,this.stateNamedEntity(S,A));case d.NumericStart:return this.stateNumericStart(S,A);case d.NumericDecimal:return this.stateNumericDecimal(S,A);case d.NumericHex:return this.stateNumericHex(S,A);case d.NamedEntity:return this.stateNamedEntity(S,A)}}stateNumericStart(S,A){return A>=S.length?-1:(S.charCodeAt(A)|s)===i.LOWER_X?(this.state=d.NumericHex,this.consumed+=1,this.stateNumericHex(S,A+1)):(this.state=d.NumericDecimal,this.stateNumericDecimal(S,A))}addToNumericResult(S,A,w,O){if(A!==w){const D=w-A;this.result=this.result*Math.pow(O,D)+Number.parseInt(S.substr(A,D),O),this.consumed+=D}}stateNumericHex(S,A){const w=A;for(;A<S.length;){const O=S.charCodeAt(A);if(o(O)||u(O))A+=1;else return this.addToNumericResult(S,w,A,16),this.emitNumericEntity(O,3)}return this.addToNumericResult(S,w,A,16),-1}stateNumericDecimal(S,A){const w=A;for(;A<S.length;){const O=S.charCodeAt(A);if(o(O))A+=1;else return this.addToNumericResult(S,w,A,10),this.emitNumericEntity(O,2)}return this.addToNumericResult(S,w,A,10),-1}emitNumericEntity(S,A){var w;if(this.consumed<=A)return(w=this.errors)===null||w===void 0||w.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(S===i.SEMI)this.consumed+=1;else if(this.decodeMode===h.Strict)return 0;return this.emitCodePoint((0,r.replaceCodePoint)(this.result),this.consumed),this.errors&&(S!==i.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(S,A){const{decodeTree:w}=this;let O=w[this.treeIndex],D=(O&a.VALUE_LENGTH)>>14;for(;A<S.length;A++,this.excess++){const B=S.charCodeAt(A);if(this.treeIndex=x(w,O,this.treeIndex+Math.max(1,D),B),this.treeIndex<0)return this.result===0||this.decodeMode===h.Attribute&&(D===0||l(B))?0:this.emitNotTerminatedNamedEntity();if(O=w[this.treeIndex],D=(O&a.VALUE_LENGTH)>>14,D!==0){if(B===i.SEMI)return this.emitNamedEntityData(this.treeIndex,D,this.consumed+this.excess);this.decodeMode!==h.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var S;const{result:A,decodeTree:w}=this,O=(w[A]&a.VALUE_LENGTH)>>14;return this.emitNamedEntityData(A,O,this.consumed),(S=this.errors)===null||S===void 0||S.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(S,A,w){const{decodeTree:O}=this;return this.emitCodePoint(A===1?O[S]&~a.VALUE_LENGTH:O[S+1],w),A===3&&this.emitCodePoint(O[S+2],w),w}end(){var S;switch(this.state){case d.NamedEntity:return this.result!==0&&(this.decodeMode!==h.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case d.NumericDecimal:return this.emitNumericEntity(0,2);case d.NumericHex:return this.emitNumericEntity(0,3);case d.NumericStart:return(S=this.errors)===null||S===void 0||S.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case d.EntityStart:return 0}}}e.EntityDecoder=f;function p(L){let S="";const A=new f(L,w=>S+=(0,r.fromCodePoint)(w));return function(O,D){let B=0,M=0;for(;(M=O.indexOf("&",M))>=0;){S+=O.slice(B,M),A.startEntity(D);const G=A.write(O,M+1);if(G<0){B=M+A.end();break}B=M+G,M=G===0?B+1:B}const F=S+O.slice(B);return S="",F}}function x(L,S,A,w){const O=(S&a.BRANCH_LENGTH)>>7,D=S&a.JUMP_TABLE;if(O===0)return D!==0&&w===D?A:-1;if(D){const F=w-D;return F<0||F>=O?-1:L[A+F]-1}let B=A,M=B+O-1;for(;B<=M;){const F=B+M>>>1,G=L[F];if(G<w)B=F+1;else if(G>w)M=F-1;else return L[F+O]}return-1}const _=p(t.htmlDecodeTree),b=p(n.xmlDecodeTree);function T(L,S=h.Legacy){return _(L,S)}function N(L){return _(L,h.Attribute)}function g(L){return _(L,h.Strict)}function y(L){return b(L,h.Strict)}var E=z3();Object.defineProperty(e,"htmlDecodeTree",{enumerable:!0,get:function(){return E.htmlDecodeTree}});var I=G3();Object.defineProperty(e,"xmlDecodeTree",{enumerable:!0,get:function(){return I.xmlDecodeTree}});var R=$3();Object.defineProperty(e,"decodeCodePoint",{enumerable:!0,get:function(){return R.decodeCodePoint}}),Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return R.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return R.fromCodePoint}})})(pp)),pp}var Cn={},Y3;function na(){if(Y3)return Cn;Y3=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.NUMBERED_HEADERS=Cn.SPECIAL_ELEMENTS=Cn.TAG_ID=Cn.TAG_NAMES=Cn.DOCUMENT_MODE=Cn.ATTRS=Cn.NS=void 0,Cn.getTagID=a,Cn.hasUnescapedText=c;var e;(function(l){l.HTML="http://www.w3.org/1999/xhtml",l.MATHML="http://www.w3.org/1998/Math/MathML",l.SVG="http://www.w3.org/2000/svg",l.XLINK="http://www.w3.org/1999/xlink",l.XML="http://www.w3.org/XML/1998/namespace",l.XMLNS="http://www.w3.org/2000/xmlns/"})(e||(Cn.NS=e={}));var t;(function(l){l.TYPE="type",l.ACTION="action",l.ENCODING="encoding",l.PROMPT="prompt",l.NAME="name",l.COLOR="color",l.FACE="face",l.SIZE="size"})(t||(Cn.ATTRS=t={}));var n;(function(l){l.NO_QUIRKS="no-quirks",l.QUIRKS="quirks",l.LIMITED_QUIRKS="limited-quirks"})(n||(Cn.DOCUMENT_MODE=n={}));var r;(function(l){l.A="a",l.ADDRESS="address",l.ANNOTATION_XML="annotation-xml",l.APPLET="applet",l.AREA="area",l.ARTICLE="article",l.ASIDE="aside",l.B="b",l.BASE="base",l.BASEFONT="basefont",l.BGSOUND="bgsound",l.BIG="big",l.BLOCKQUOTE="blockquote",l.BODY="body",l.BR="br",l.BUTTON="button",l.CAPTION="caption",l.CENTER="center",l.CODE="code",l.COL="col",l.COLGROUP="colgroup",l.DD="dd",l.DESC="desc",l.DETAILS="details",l.DIALOG="dialog",l.DIR="dir",l.DIV="div",l.DL="dl",l.DT="dt",l.EM="em",l.EMBED="embed",l.FIELDSET="fieldset",l.FIGCAPTION="figcaption",l.FIGURE="figure",l.FONT="font",l.FOOTER="footer",l.FOREIGN_OBJECT="foreignObject",l.FORM="form",l.FRAME="frame",l.FRAMESET="frameset",l.H1="h1",l.H2="h2",l.H3="h3",l.H4="h4",l.H5="h5",l.H6="h6",l.HEAD="head",l.HEADER="header",l.HGROUP="hgroup",l.HR="hr",l.HTML="html",l.I="i",l.IMG="img",l.IMAGE="image",l.INPUT="input",l.IFRAME="iframe",l.KEYGEN="keygen",l.LABEL="label",l.LI="li",l.LINK="link",l.LISTING="listing",l.MAIN="main",l.MALIGNMARK="malignmark",l.MARQUEE="marquee",l.MATH="math",l.MENU="menu",l.META="meta",l.MGLYPH="mglyph",l.MI="mi",l.MO="mo",l.MN="mn",l.MS="ms",l.MTEXT="mtext",l.NAV="nav",l.NOBR="nobr",l.NOFRAMES="noframes",l.NOEMBED="noembed",l.NOSCRIPT="noscript",l.OBJECT="object",l.OL="ol",l.OPTGROUP="optgroup",l.OPTION="option",l.P="p",l.PARAM="param",l.PLAINTEXT="plaintext",l.PRE="pre",l.RB="rb",l.RP="rp",l.RT="rt",l.RTC="rtc",l.RUBY="ruby",l.S="s",l.SCRIPT="script",l.SEARCH="search",l.SECTION="section",l.SELECT="select",l.SOURCE="source",l.SMALL="small",l.SPAN="span",l.STRIKE="strike",l.STRONG="strong",l.STYLE="style",l.SUB="sub",l.SUMMARY="summary",l.SUP="sup",l.TABLE="table",l.TBODY="tbody",l.TEMPLATE="template",l.TEXTAREA="textarea",l.TFOOT="tfoot",l.TD="td",l.TH="th",l.THEAD="thead",l.TITLE="title",l.TR="tr",l.TRACK="track",l.TT="tt",l.U="u",l.UL="ul",l.SVG="svg",l.VAR="var",l.WBR="wbr",l.XMP="xmp"})(r||(Cn.TAG_NAMES=r={}));var i;(function(l){l[l.UNKNOWN=0]="UNKNOWN",l[l.A=1]="A",l[l.ADDRESS=2]="ADDRESS",l[l.ANNOTATION_XML=3]="ANNOTATION_XML",l[l.APPLET=4]="APPLET",l[l.AREA=5]="AREA",l[l.ARTICLE=6]="ARTICLE",l[l.ASIDE=7]="ASIDE",l[l.B=8]="B",l[l.BASE=9]="BASE",l[l.BASEFONT=10]="BASEFONT",l[l.BGSOUND=11]="BGSOUND",l[l.BIG=12]="BIG",l[l.BLOCKQUOTE=13]="BLOCKQUOTE",l[l.BODY=14]="BODY",l[l.BR=15]="BR",l[l.BUTTON=16]="BUTTON",l[l.CAPTION=17]="CAPTION",l[l.CENTER=18]="CENTER",l[l.CODE=19]="CODE",l[l.COL=20]="COL",l[l.COLGROUP=21]="COLGROUP",l[l.DD=22]="DD",l[l.DESC=23]="DESC",l[l.DETAILS=24]="DETAILS",l[l.DIALOG=25]="DIALOG",l[l.DIR=26]="DIR",l[l.DIV=27]="DIV",l[l.DL=28]="DL",l[l.DT=29]="DT",l[l.EM=30]="EM",l[l.EMBED=31]="EMBED",l[l.FIELDSET=32]="FIELDSET",l[l.FIGCAPTION=33]="FIGCAPTION",l[l.FIGURE=34]="FIGURE",l[l.FONT=35]="FONT",l[l.FOOTER=36]="FOOTER",l[l.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",l[l.FORM=38]="FORM",l[l.FRAME=39]="FRAME",l[l.FRAMESET=40]="FRAMESET",l[l.H1=41]="H1",l[l.H2=42]="H2",l[l.H3=43]="H3",l[l.H4=44]="H4",l[l.H5=45]="H5",l[l.H6=46]="H6",l[l.HEAD=47]="HEAD",l[l.HEADER=48]="HEADER",l[l.HGROUP=49]="HGROUP",l[l.HR=50]="HR",l[l.HTML=51]="HTML",l[l.I=52]="I",l[l.IMG=53]="IMG",l[l.IMAGE=54]="IMAGE",l[l.INPUT=55]="INPUT",l[l.IFRAME=56]="IFRAME",l[l.KEYGEN=57]="KEYGEN",l[l.LABEL=58]="LABEL",l[l.LI=59]="LI",l[l.LINK=60]="LINK",l[l.LISTING=61]="LISTING",l[l.MAIN=62]="MAIN",l[l.MALIGNMARK=63]="MALIGNMARK",l[l.MARQUEE=64]="MARQUEE",l[l.MATH=65]="MATH",l[l.MENU=66]="MENU",l[l.META=67]="META",l[l.MGLYPH=68]="MGLYPH",l[l.MI=69]="MI",l[l.MO=70]="MO",l[l.MN=71]="MN",l[l.MS=72]="MS",l[l.MTEXT=73]="MTEXT",l[l.NAV=74]="NAV",l[l.NOBR=75]="NOBR",l[l.NOFRAMES=76]="NOFRAMES",l[l.NOEMBED=77]="NOEMBED",l[l.NOSCRIPT=78]="NOSCRIPT",l[l.OBJECT=79]="OBJECT",l[l.OL=80]="OL",l[l.OPTGROUP=81]="OPTGROUP",l[l.OPTION=82]="OPTION",l[l.P=83]="P",l[l.PARAM=84]="PARAM",l[l.PLAINTEXT=85]="PLAINTEXT",l[l.PRE=86]="PRE",l[l.RB=87]="RB",l[l.RP=88]="RP",l[l.RT=89]="RT",l[l.RTC=90]="RTC",l[l.RUBY=91]="RUBY",l[l.S=92]="S",l[l.SCRIPT=93]="SCRIPT",l[l.SEARCH=94]="SEARCH",l[l.SECTION=95]="SECTION",l[l.SELECT=96]="SELECT",l[l.SOURCE=97]="SOURCE",l[l.SMALL=98]="SMALL",l[l.SPAN=99]="SPAN",l[l.STRIKE=100]="STRIKE",l[l.STRONG=101]="STRONG",l[l.STYLE=102]="STYLE",l[l.SUB=103]="SUB",l[l.SUMMARY=104]="SUMMARY",l[l.SUP=105]="SUP",l[l.TABLE=106]="TABLE",l[l.TBODY=107]="TBODY",l[l.TEMPLATE=108]="TEMPLATE",l[l.TEXTAREA=109]="TEXTAREA",l[l.TFOOT=110]="TFOOT",l[l.TD=111]="TD",l[l.TH=112]="TH",l[l.THEAD=113]="THEAD",l[l.TITLE=114]="TITLE",l[l.TR=115]="TR",l[l.TRACK=116]="TRACK",l[l.TT=117]="TT",l[l.U=118]="U",l[l.UL=119]="UL",l[l.SVG=120]="SVG",l[l.VAR=121]="VAR",l[l.WBR=122]="WBR",l[l.XMP=123]="XMP"})(i||(Cn.TAG_ID=i={}));const s=new Map([[r.A,i.A],[r.ADDRESS,i.ADDRESS],[r.ANNOTATION_XML,i.ANNOTATION_XML],[r.APPLET,i.APPLET],[r.AREA,i.AREA],[r.ARTICLE,i.ARTICLE],[r.ASIDE,i.ASIDE],[r.B,i.B],[r.BASE,i.BASE],[r.BASEFONT,i.BASEFONT],[r.BGSOUND,i.BGSOUND],[r.BIG,i.BIG],[r.BLOCKQUOTE,i.BLOCKQUOTE],[r.BODY,i.BODY],[r.BR,i.BR],[r.BUTTON,i.BUTTON],[r.CAPTION,i.CAPTION],[r.CENTER,i.CENTER],[r.CODE,i.CODE],[r.COL,i.COL],[r.COLGROUP,i.COLGROUP],[r.DD,i.DD],[r.DESC,i.DESC],[r.DETAILS,i.DETAILS],[r.DIALOG,i.DIALOG],[r.DIR,i.DIR],[r.DIV,i.DIV],[r.DL,i.DL],[r.DT,i.DT],[r.EM,i.EM],[r.EMBED,i.EMBED],[r.FIELDSET,i.FIELDSET],[r.FIGCAPTION,i.FIGCAPTION],[r.FIGURE,i.FIGURE],[r.FONT,i.FONT],[r.FOOTER,i.FOOTER],[r.FOREIGN_OBJECT,i.FOREIGN_OBJECT],[r.FORM,i.FORM],[r.FRAME,i.FRAME],[r.FRAMESET,i.FRAMESET],[r.H1,i.H1],[r.H2,i.H2],[r.H3,i.H3],[r.H4,i.H4],[r.H5,i.H5],[r.H6,i.H6],[r.HEAD,i.HEAD],[r.HEADER,i.HEADER],[r.HGROUP,i.HGROUP],[r.HR,i.HR],[r.HTML,i.HTML],[r.I,i.I],[r.IMG,i.IMG],[r.IMAGE,i.IMAGE],[r.INPUT,i.INPUT],[r.IFRAME,i.IFRAME],[r.KEYGEN,i.KEYGEN],[r.LABEL,i.LABEL],[r.LI,i.LI],[r.LINK,i.LINK],[r.LISTING,i.LISTING],[r.MAIN,i.MAIN],[r.MALIGNMARK,i.MALIGNMARK],[r.MARQUEE,i.MARQUEE],[r.MATH,i.MATH],[r.MENU,i.MENU],[r.META,i.META],[r.MGLYPH,i.MGLYPH],[r.MI,i.MI],[r.MO,i.MO],[r.MN,i.MN],[r.MS,i.MS],[r.MTEXT,i.MTEXT],[r.NAV,i.NAV],[r.NOBR,i.NOBR],[r.NOFRAMES,i.NOFRAMES],[r.NOEMBED,i.NOEMBED],[r.NOSCRIPT,i.NOSCRIPT],[r.OBJECT,i.OBJECT],[r.OL,i.OL],[r.OPTGROUP,i.OPTGROUP],[r.OPTION,i.OPTION],[r.P,i.P],[r.PARAM,i.PARAM],[r.PLAINTEXT,i.PLAINTEXT],[r.PRE,i.PRE],[r.RB,i.RB],[r.RP,i.RP],[r.RT,i.RT],[r.RTC,i.RTC],[r.RUBY,i.RUBY],[r.S,i.S],[r.SCRIPT,i.SCRIPT],[r.SEARCH,i.SEARCH],[r.SECTION,i.SECTION],[r.SELECT,i.SELECT],[r.SOURCE,i.SOURCE],[r.SMALL,i.SMALL],[r.SPAN,i.SPAN],[r.STRIKE,i.STRIKE],[r.STRONG,i.STRONG],[r.STYLE,i.STYLE],[r.SUB,i.SUB],[r.SUMMARY,i.SUMMARY],[r.SUP,i.SUP],[r.TABLE,i.TABLE],[r.TBODY,i.TBODY],[r.TEMPLATE,i.TEMPLATE],[r.TEXTAREA,i.TEXTAREA],[r.TFOOT,i.TFOOT],[r.TD,i.TD],[r.TH,i.TH],[r.THEAD,i.THEAD],[r.TITLE,i.TITLE],[r.TR,i.TR],[r.TRACK,i.TRACK],[r.TT,i.TT],[r.U,i.U],[r.UL,i.UL],[r.SVG,i.SVG],[r.VAR,i.VAR],[r.WBR,i.WBR],[r.XMP,i.XMP]]);function a(l){var d;return(d=s.get(l))!==null&&d!==void 0?d:i.UNKNOWN}const o=i;Cn.SPECIAL_ELEMENTS={[e.HTML]:new Set([o.ADDRESS,o.APPLET,o.AREA,o.ARTICLE,o.ASIDE,o.BASE,o.BASEFONT,o.BGSOUND,o.BLOCKQUOTE,o.BODY,o.BR,o.BUTTON,o.CAPTION,o.CENTER,o.COL,o.COLGROUP,o.DD,o.DETAILS,o.DIR,o.DIV,o.DL,o.DT,o.EMBED,o.FIELDSET,o.FIGCAPTION,o.FIGURE,o.FOOTER,o.FORM,o.FRAME,o.FRAMESET,o.H1,o.H2,o.H3,o.H4,o.H5,o.H6,o.HEAD,o.HEADER,o.HGROUP,o.HR,o.HTML,o.IFRAME,o.IMG,o.INPUT,o.LI,o.LINK,o.LISTING,o.MAIN,o.MARQUEE,o.MENU,o.META,o.NAV,o.NOEMBED,o.NOFRAMES,o.NOSCRIPT,o.OBJECT,o.OL,o.P,o.PARAM,o.PLAINTEXT,o.PRE,o.SCRIPT,o.SECTION,o.SELECT,o.SOURCE,o.STYLE,o.SUMMARY,o.TABLE,o.TBODY,o.TD,o.TEMPLATE,o.TEXTAREA,o.TFOOT,o.TH,o.THEAD,o.TITLE,o.TR,o.TRACK,o.UL,o.WBR,o.XMP]),[e.MATHML]:new Set([o.MI,o.MO,o.MN,o.MS,o.MTEXT,o.ANNOTATION_XML]),[e.SVG]:new Set([o.TITLE,o.FOREIGN_OBJECT,o.DESC]),[e.XLINK]:new Set,[e.XML]:new Set,[e.XMLNS]:new Set},Cn.NUMBERED_HEADERS=new Set([o.H1,o.H2,o.H3,o.H4,o.H5,o.H6]);const u=new Set([r.STYLE,r.SCRIPT,r.XMP,r.IFRAME,r.NOEMBED,r.NOFRAMES,r.PLAINTEXT]);function c(l,d){return u.has(l)||d&&l===r.NOSCRIPT}return Cn}var K3;function n6(){if(K3)return ba;K3=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.Tokenizer=ba.TokenizerMode=void 0;const e=eX(),t=ob(),n=lb(),r=tX(),i=Dh(),s=na();var a;(function(b){b[b.DATA=0]="DATA",b[b.RCDATA=1]="RCDATA",b[b.RAWTEXT=2]="RAWTEXT",b[b.SCRIPT_DATA=3]="SCRIPT_DATA",b[b.PLAINTEXT=4]="PLAINTEXT",b[b.TAG_OPEN=5]="TAG_OPEN",b[b.END_TAG_OPEN=6]="END_TAG_OPEN",b[b.TAG_NAME=7]="TAG_NAME",b[b.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",b[b.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",b[b.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",b[b.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",b[b.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",b[b.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",b[b.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",b[b.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",b[b.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",b[b.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",b[b.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",b[b.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",b[b.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",b[b.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",b[b.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",b[b.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",b[b.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",b[b.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",b[b.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",b[b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",b[b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",b[b.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",b[b.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",b[b.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",b[b.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",b[b.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",b[b.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",b[b.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",b[b.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",b[b.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",b[b.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",b[b.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",b[b.BOGUS_COMMENT=40]="BOGUS_COMMENT",b[b.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",b[b.COMMENT_START=42]="COMMENT_START",b[b.COMMENT_START_DASH=43]="COMMENT_START_DASH",b[b.COMMENT=44]="COMMENT",b[b.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",b[b.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",b[b.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",b[b.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",b[b.COMMENT_END_DASH=49]="COMMENT_END_DASH",b[b.COMMENT_END=50]="COMMENT_END",b[b.COMMENT_END_BANG=51]="COMMENT_END_BANG",b[b.DOCTYPE=52]="DOCTYPE",b[b.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",b[b.DOCTYPE_NAME=54]="DOCTYPE_NAME",b[b.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",b[b.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",b[b.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",b[b.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",b[b.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",b[b.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",b[b.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",b[b.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",b[b.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",b[b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",b[b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",b[b.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",b[b.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",b[b.CDATA_SECTION=68]="CDATA_SECTION",b[b.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",b[b.CDATA_SECTION_END=70]="CDATA_SECTION_END",b[b.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",b[b.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(a||(a={})),ba.TokenizerMode={DATA:a.DATA,RCDATA:a.RCDATA,RAWTEXT:a.RAWTEXT,SCRIPT_DATA:a.SCRIPT_DATA,PLAINTEXT:a.PLAINTEXT,CDATA_SECTION:a.CDATA_SECTION};function o(b){return b>=t.CODE_POINTS.DIGIT_0&&b<=t.CODE_POINTS.DIGIT_9}function u(b){return b>=t.CODE_POINTS.LATIN_CAPITAL_A&&b<=t.CODE_POINTS.LATIN_CAPITAL_Z}function c(b){return b>=t.CODE_POINTS.LATIN_SMALL_A&&b<=t.CODE_POINTS.LATIN_SMALL_Z}function l(b){return c(b)||u(b)}function d(b){return l(b)||o(b)}function h(b){return b+32}function f(b){return b===t.CODE_POINTS.SPACE||b===t.CODE_POINTS.LINE_FEED||b===t.CODE_POINTS.TABULATION||b===t.CODE_POINTS.FORM_FEED}function p(b){return f(b)||b===t.CODE_POINTS.SOLIDUS||b===t.CODE_POINTS.GREATER_THAN_SIGN}function x(b){return b===t.CODE_POINTS.NULL?i.ERR.nullCharacterReference:b>1114111?i.ERR.characterReferenceOutsideUnicodeRange:(0,t.isSurrogate)(b)?i.ERR.surrogateCharacterReference:(0,t.isUndefinedCodePoint)(b)?i.ERR.noncharacterCharacterReference:(0,t.isControlCodePoint)(b)||b===t.CODE_POINTS.CARRIAGE_RETURN?i.ERR.controlCharacterReference:null}class _{constructor(T,N){this.options=T,this.handler=N,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=a.DATA,this.returnState=a.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new e.Preprocessor(N),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new r.EntityDecoder(r.htmlDecodeTree,(g,y)=>{this.preprocessor.pos=this.entityStartPos+y-1,this._flushCodePointConsumedAsCharacterReference(g)},N.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(i.ERR.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:g=>{this._err(i.ERR.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+g)},validateNumericCharacterReference:g=>{const y=x(g);y&&this._err(y,1)}}:void 0)}_err(T,N=0){var g,y;(y=(g=this.handler).onParseError)===null||y===void 0||y.call(g,this.preprocessor.getError(T,N))}getCurrentLocation(T){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-T,startOffset:this.preprocessor.offset-T,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const T=this._consume();this._ensureHibernation()||this._callState(T)}this.inLoop=!1}}pause(){this.paused=!0}resume(T){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||T==null||T())}write(T,N,g){this.active=!0,this.preprocessor.write(T,N),this._runParsingLoop(),this.paused||g==null||g()}insertHtmlAtCurrentPos(T){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(T),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(T){this.consumedAfterSnapshot+=T;for(let N=0;N<T;N++)this.preprocessor.advance()}_consumeSequenceIfMatch(T,N){return this.preprocessor.startsWith(T,N)?(this._advanceBy(T.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:n.TokenType.START_TAG,tagName:"",tagID:s.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:n.TokenType.END_TAG,tagName:"",tagID:s.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(T){this.currentToken={type:n.TokenType.COMMENT,data:"",location:this.getCurrentLocation(T)}}_createDoctypeToken(T){this.currentToken={type:n.TokenType.DOCTYPE,name:T,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(T,N){this.currentCharacterToken={type:T,chars:N,location:this.currentLocation}}_createAttr(T){this.currentAttr={name:T,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var T,N;const g=this.currentToken;if((0,n.getTokenAttr)(g,this.currentAttr.name)===null){if(g.attrs.push(this.currentAttr),g.location&&this.currentLocation){const y=(T=(N=g.location).attrs)!==null&&T!==void 0?T:N.attrs=Object.create(null);y[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(i.ERR.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(T){this._emitCurrentCharacterToken(T.location),this.currentToken=null,T.location&&(T.location.endLine=this.preprocessor.line,T.location.endCol=this.preprocessor.col+1,T.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const T=this.currentToken;this.prepareToken(T),T.tagID=(0,s.getTagID)(T.tagName),T.type===n.TokenType.START_TAG?(this.lastStartTagName=T.tagName,this.handler.onStartTag(T)):(T.attrs.length>0&&this._err(i.ERR.endTagWithAttributes),T.selfClosing&&this._err(i.ERR.endTagWithTrailingSolidus),this.handler.onEndTag(T)),this.preprocessor.dropParsedChunk()}emitCurrentComment(T){this.prepareToken(T),this.handler.onComment(T),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(T){this.prepareToken(T),this.handler.onDoctype(T),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(T){if(this.currentCharacterToken){switch(T&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=T.startLine,this.currentCharacterToken.location.endCol=T.startCol,this.currentCharacterToken.location.endOffset=T.startOffset),this.currentCharacterToken.type){case n.TokenType.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case n.TokenType.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case n.TokenType.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const T=this.getCurrentLocation(0);T&&(T.endLine=T.startLine,T.endCol=T.startCol,T.endOffset=T.startOffset),this._emitCurrentCharacterToken(T),this.handler.onEof({type:n.TokenType.EOF,location:T}),this.active=!1}_appendCharToCurrentCharacterToken(T,N){if(this.currentCharacterToken)if(this.currentCharacterToken.type===T){this.currentCharacterToken.chars+=N;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(T,N)}_emitCodePoint(T){const N=f(T)?n.TokenType.WHITESPACE_CHARACTER:T===t.CODE_POINTS.NULL?n.TokenType.NULL_CHARACTER:n.TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(N,String.fromCodePoint(T))}_emitChars(T){this._appendCharToCurrentCharacterToken(n.TokenType.CHARACTER,T)}_startCharacterReference(){this.returnState=this.state,this.state=a.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?r.DecodingMode.Attribute:r.DecodingMode.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===a.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===a.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===a.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(T){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(T):this._emitCodePoint(T)}_callState(T){switch(this.state){case a.DATA:{this._stateData(T);break}case a.RCDATA:{this._stateRcdata(T);break}case a.RAWTEXT:{this._stateRawtext(T);break}case a.SCRIPT_DATA:{this._stateScriptData(T);break}case a.PLAINTEXT:{this._statePlaintext(T);break}case a.TAG_OPEN:{this._stateTagOpen(T);break}case a.END_TAG_OPEN:{this._stateEndTagOpen(T);break}case a.TAG_NAME:{this._stateTagName(T);break}case a.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(T);break}case a.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(T);break}case a.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(T);break}case a.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(T);break}case a.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(T);break}case a.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(T);break}case a.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(T);break}case a.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(T);break}case a.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(T);break}case a.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(T);break}case a.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(T);break}case a.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(T);break}case a.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(T);break}case a.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(T);break}case a.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(T);break}case a.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(T);break}case a.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(T);break}case a.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(T);break}case a.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(T);break}case a.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(T);break}case a.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(T);break}case a.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(T);break}case a.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(T);break}case a.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(T);break}case a.ATTRIBUTE_NAME:{this._stateAttributeName(T);break}case a.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(T);break}case a.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(T);break}case a.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(T);break}case a.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(T);break}case a.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(T);break}case a.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(T);break}case a.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(T);break}case a.BOGUS_COMMENT:{this._stateBogusComment(T);break}case a.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(T);break}case a.COMMENT_START:{this._stateCommentStart(T);break}case a.COMMENT_START_DASH:{this._stateCommentStartDash(T);break}case a.COMMENT:{this._stateComment(T);break}case a.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(T);break}case a.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(T);break}case a.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(T);break}case a.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(T);break}case a.COMMENT_END_DASH:{this._stateCommentEndDash(T);break}case a.COMMENT_END:{this._stateCommentEnd(T);break}case a.COMMENT_END_BANG:{this._stateCommentEndBang(T);break}case a.DOCTYPE:{this._stateDoctype(T);break}case a.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(T);break}case a.DOCTYPE_NAME:{this._stateDoctypeName(T);break}case a.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(T);break}case a.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(T);break}case a.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(T);break}case a.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(T);break}case a.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(T);break}case a.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(T);break}case a.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(T);break}case a.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(T);break}case a.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(T);break}case a.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(T);break}case a.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(T);break}case a.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(T);break}case a.BOGUS_DOCTYPE:{this._stateBogusDoctype(T);break}case a.CDATA_SECTION:{this._stateCdataSection(T);break}case a.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(T);break}case a.CDATA_SECTION_END:{this._stateCdataSectionEnd(T);break}case a.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case a.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(T);break}default:throw new Error("Unknown state")}}_stateData(T){switch(T){case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=a.TAG_OPEN;break}case t.CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this._emitCodePoint(T);break}case t.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(T)}}_stateRcdata(T){switch(T){case t.CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=a.RCDATA_LESS_THAN_SIGN;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(T)}}_stateRawtext(T){switch(T){case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=a.RAWTEXT_LESS_THAN_SIGN;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(T)}}_stateScriptData(T){switch(T){case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=a.SCRIPT_DATA_LESS_THAN_SIGN;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(T)}}_statePlaintext(T){switch(T){case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(T)}}_stateTagOpen(T){if(l(T))this._createStartTagToken(),this.state=a.TAG_NAME,this._stateTagName(T);else switch(T){case t.CODE_POINTS.EXCLAMATION_MARK:{this.state=a.MARKUP_DECLARATION_OPEN;break}case t.CODE_POINTS.SOLIDUS:{this.state=a.END_TAG_OPEN;break}case t.CODE_POINTS.QUESTION_MARK:{this._err(i.ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=a.BOGUS_COMMENT,this._stateBogusComment(T);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(i.ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=a.DATA,this._stateData(T)}}_stateEndTagOpen(T){if(l(T))this._createEndTagToken(),this.state=a.TAG_NAME,this._stateTagName(T);else switch(T){case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.missingEndTagName),this.state=a.DATA;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(i.ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=a.BOGUS_COMMENT,this._stateBogusComment(T)}}_stateTagName(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:{this.state=a.BEFORE_ATTRIBUTE_NAME;break}case t.CODE_POINTS.SOLIDUS:{this.state=a.SELF_CLOSING_START_TAG;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=a.DATA,this.emitCurrentTagToken();break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),N.tagName+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInTag),this._emitEOFToken();break}default:N.tagName+=String.fromCodePoint(u(T)?h(T):T)}}_stateRcdataLessThanSign(T){T===t.CODE_POINTS.SOLIDUS?this.state=a.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=a.RCDATA,this._stateRcdata(T))}_stateRcdataEndTagOpen(T){l(T)?(this.state=a.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(T)):(this._emitChars("</"),this.state=a.RCDATA,this._stateRcdata(T))}handleSpecialEndTag(T){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const N=this.currentToken;switch(N.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=a.BEFORE_ATTRIBUTE_NAME,!1;case t.CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=a.SELF_CLOSING_START_TAG,!1;case t.CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=a.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(T){this.handleSpecialEndTag(T)&&(this._emitChars("</"),this.state=a.RCDATA,this._stateRcdata(T))}_stateRawtextLessThanSign(T){T===t.CODE_POINTS.SOLIDUS?this.state=a.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=a.RAWTEXT,this._stateRawtext(T))}_stateRawtextEndTagOpen(T){l(T)?(this.state=a.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(T)):(this._emitChars("</"),this.state=a.RAWTEXT,this._stateRawtext(T))}_stateRawtextEndTagName(T){this.handleSpecialEndTag(T)&&(this._emitChars("</"),this.state=a.RAWTEXT,this._stateRawtext(T))}_stateScriptDataLessThanSign(T){switch(T){case t.CODE_POINTS.SOLIDUS:{this.state=a.SCRIPT_DATA_END_TAG_OPEN;break}case t.CODE_POINTS.EXCLAMATION_MARK:{this.state=a.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=a.SCRIPT_DATA,this._stateScriptData(T)}}_stateScriptDataEndTagOpen(T){l(T)?(this.state=a.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(T)):(this._emitChars("</"),this.state=a.SCRIPT_DATA,this._stateScriptData(T))}_stateScriptDataEndTagName(T){this.handleSpecialEndTag(T)&&(this._emitChars("</"),this.state=a.SCRIPT_DATA,this._stateScriptData(T))}_stateScriptDataEscapeStart(T){T===t.CODE_POINTS.HYPHEN_MINUS?(this.state=a.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=a.SCRIPT_DATA,this._stateScriptData(T))}_stateScriptDataEscapeStartDash(T){T===t.CODE_POINTS.HYPHEN_MINUS?(this.state=a.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=a.SCRIPT_DATA,this._stateScriptData(T))}_stateScriptDataEscaped(T){switch(T){case t.CODE_POINTS.HYPHEN_MINUS:{this.state=a.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=a.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(T)}}_stateScriptDataEscapedDash(T){switch(T){case t.CODE_POINTS.HYPHEN_MINUS:{this.state=a.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=a.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this.state=a.SCRIPT_DATA_ESCAPED,this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=a.SCRIPT_DATA_ESCAPED,this._emitCodePoint(T)}}_stateScriptDataEscapedDashDash(T){switch(T){case t.CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=a.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=a.SCRIPT_DATA,this._emitChars(">");break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this.state=a.SCRIPT_DATA_ESCAPED,this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=a.SCRIPT_DATA_ESCAPED,this._emitCodePoint(T)}}_stateScriptDataEscapedLessThanSign(T){T===t.CODE_POINTS.SOLIDUS?this.state=a.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:l(T)?(this._emitChars("<"),this.state=a.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(T)):(this._emitChars("<"),this.state=a.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(T))}_stateScriptDataEscapedEndTagOpen(T){l(T)?(this.state=a.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(T)):(this._emitChars("</"),this.state=a.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(T))}_stateScriptDataEscapedEndTagName(T){this.handleSpecialEndTag(T)&&(this._emitChars("</"),this.state=a.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(T))}_stateScriptDataDoubleEscapeStart(T){if(this.preprocessor.startsWith(t.SEQUENCES.SCRIPT,!1)&&p(this.preprocessor.peek(t.SEQUENCES.SCRIPT.length))){this._emitCodePoint(T);for(let N=0;N<t.SEQUENCES.SCRIPT.length;N++)this._emitCodePoint(this._consume());this.state=a.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=a.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(T))}_stateScriptDataDoubleEscaped(T){switch(T){case t.CODE_POINTS.HYPHEN_MINUS:{this.state=a.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=a.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(T)}}_stateScriptDataDoubleEscapedDash(T){switch(T){case t.CODE_POINTS.HYPHEN_MINUS:{this.state=a.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=a.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this.state=a.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=a.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(T)}}_stateScriptDataDoubleEscapedDashDash(T){switch(T){case t.CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=a.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=a.SCRIPT_DATA,this._emitChars(">");break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this.state=a.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=a.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(T)}}_stateScriptDataDoubleEscapedLessThanSign(T){T===t.CODE_POINTS.SOLIDUS?(this.state=a.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=a.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(T))}_stateScriptDataDoubleEscapeEnd(T){if(this.preprocessor.startsWith(t.SEQUENCES.SCRIPT,!1)&&p(this.preprocessor.peek(t.SEQUENCES.SCRIPT.length))){this._emitCodePoint(T);for(let N=0;N<t.SEQUENCES.SCRIPT.length;N++)this._emitCodePoint(this._consume());this.state=a.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=a.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(T))}_stateBeforeAttributeName(T){switch(T){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:break;case t.CODE_POINTS.SOLIDUS:case t.CODE_POINTS.GREATER_THAN_SIGN:case t.CODE_POINTS.EOF:{this.state=a.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(T);break}case t.CODE_POINTS.EQUALS_SIGN:{this._err(i.ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=a.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=a.ATTRIBUTE_NAME,this._stateAttributeName(T)}}_stateAttributeName(T){switch(T){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:case t.CODE_POINTS.SOLIDUS:case t.CODE_POINTS.GREATER_THAN_SIGN:case t.CODE_POINTS.EOF:{this._leaveAttrName(),this.state=a.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(T);break}case t.CODE_POINTS.EQUALS_SIGN:{this._leaveAttrName(),this.state=a.BEFORE_ATTRIBUTE_VALUE;break}case t.CODE_POINTS.QUOTATION_MARK:case t.CODE_POINTS.APOSTROPHE:case t.CODE_POINTS.LESS_THAN_SIGN:{this._err(i.ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(T);break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this.currentAttr.name+=t.REPLACEMENT_CHARACTER;break}default:this.currentAttr.name+=String.fromCodePoint(u(T)?h(T):T)}}_stateAfterAttributeName(T){switch(T){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:break;case t.CODE_POINTS.SOLIDUS:{this.state=a.SELF_CLOSING_START_TAG;break}case t.CODE_POINTS.EQUALS_SIGN:{this.state=a.BEFORE_ATTRIBUTE_VALUE;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=a.DATA,this.emitCurrentTagToken();break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=a.ATTRIBUTE_NAME,this._stateAttributeName(T)}}_stateBeforeAttributeValue(T){switch(T){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:break;case t.CODE_POINTS.QUOTATION_MARK:{this.state=a.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case t.CODE_POINTS.APOSTROPHE:{this.state=a.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.missingAttributeValue),this.state=a.DATA,this.emitCurrentTagToken();break}default:this.state=a.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(T)}}_stateAttributeValueDoubleQuoted(T){switch(T){case t.CODE_POINTS.QUOTATION_MARK:{this.state=a.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case t.CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this.currentAttr.value+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(T)}}_stateAttributeValueSingleQuoted(T){switch(T){case t.CODE_POINTS.APOSTROPHE:{this.state=a.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case t.CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this.currentAttr.value+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(T)}}_stateAttributeValueUnquoted(T){switch(T){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=a.BEFORE_ATTRIBUTE_NAME;break}case t.CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=a.DATA,this.emitCurrentTagToken();break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this.currentAttr.value+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.QUOTATION_MARK:case t.CODE_POINTS.APOSTROPHE:case t.CODE_POINTS.LESS_THAN_SIGN:case t.CODE_POINTS.EQUALS_SIGN:case t.CODE_POINTS.GRAVE_ACCENT:{this._err(i.ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(T);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(T)}}_stateAfterAttributeValueQuoted(T){switch(T){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=a.BEFORE_ATTRIBUTE_NAME;break}case t.CODE_POINTS.SOLIDUS:{this._leaveAttrValue(),this.state=a.SELF_CLOSING_START_TAG;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=a.DATA,this.emitCurrentTagToken();break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInTag),this._emitEOFToken();break}default:this._err(i.ERR.missingWhitespaceBetweenAttributes),this.state=a.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(T)}}_stateSelfClosingStartTag(T){switch(T){case t.CODE_POINTS.GREATER_THAN_SIGN:{const N=this.currentToken;N.selfClosing=!0,this.state=a.DATA,this.emitCurrentTagToken();break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInTag),this._emitEOFToken();break}default:this._err(i.ERR.unexpectedSolidusInTag),this.state=a.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(T)}}_stateBogusComment(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=a.DATA,this.emitCurrentComment(N);break}case t.CODE_POINTS.EOF:{this.emitCurrentComment(N),this._emitEOFToken();break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),N.data+=t.REPLACEMENT_CHARACTER;break}default:N.data+=String.fromCodePoint(T)}}_stateMarkupDeclarationOpen(T){this._consumeSequenceIfMatch(t.SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(t.SEQUENCES.DASH_DASH.length+1),this.state=a.COMMENT_START):this._consumeSequenceIfMatch(t.SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(t.SEQUENCES.DOCTYPE.length+1),this.state=a.DOCTYPE):this._consumeSequenceIfMatch(t.SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=a.CDATA_SECTION:(this._err(i.ERR.cdataInHtmlContent),this._createCommentToken(t.SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=a.BOGUS_COMMENT):this._ensureHibernation()||(this._err(i.ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=a.BOGUS_COMMENT,this._stateBogusComment(T))}_stateCommentStart(T){switch(T){case t.CODE_POINTS.HYPHEN_MINUS:{this.state=a.COMMENT_START_DASH;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.abruptClosingOfEmptyComment),this.state=a.DATA;const N=this.currentToken;this.emitCurrentComment(N);break}default:this.state=a.COMMENT,this._stateComment(T)}}_stateCommentStartDash(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.HYPHEN_MINUS:{this.state=a.COMMENT_END;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.abruptClosingOfEmptyComment),this.state=a.DATA,this.emitCurrentComment(N);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInComment),this.emitCurrentComment(N),this._emitEOFToken();break}default:N.data+="-",this.state=a.COMMENT,this._stateComment(T)}}_stateComment(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.HYPHEN_MINUS:{this.state=a.COMMENT_END_DASH;break}case t.CODE_POINTS.LESS_THAN_SIGN:{N.data+="<",this.state=a.COMMENT_LESS_THAN_SIGN;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),N.data+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInComment),this.emitCurrentComment(N),this._emitEOFToken();break}default:N.data+=String.fromCodePoint(T)}}_stateCommentLessThanSign(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.EXCLAMATION_MARK:{N.data+="!",this.state=a.COMMENT_LESS_THAN_SIGN_BANG;break}case t.CODE_POINTS.LESS_THAN_SIGN:{N.data+="<";break}default:this.state=a.COMMENT,this._stateComment(T)}}_stateCommentLessThanSignBang(T){T===t.CODE_POINTS.HYPHEN_MINUS?this.state=a.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=a.COMMENT,this._stateComment(T))}_stateCommentLessThanSignBangDash(T){T===t.CODE_POINTS.HYPHEN_MINUS?this.state=a.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=a.COMMENT_END_DASH,this._stateCommentEndDash(T))}_stateCommentLessThanSignBangDashDash(T){T!==t.CODE_POINTS.GREATER_THAN_SIGN&&T!==t.CODE_POINTS.EOF&&this._err(i.ERR.nestedComment),this.state=a.COMMENT_END,this._stateCommentEnd(T)}_stateCommentEndDash(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.HYPHEN_MINUS:{this.state=a.COMMENT_END;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInComment),this.emitCurrentComment(N),this._emitEOFToken();break}default:N.data+="-",this.state=a.COMMENT,this._stateComment(T)}}_stateCommentEnd(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=a.DATA,this.emitCurrentComment(N);break}case t.CODE_POINTS.EXCLAMATION_MARK:{this.state=a.COMMENT_END_BANG;break}case t.CODE_POINTS.HYPHEN_MINUS:{N.data+="-";break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInComment),this.emitCurrentComment(N),this._emitEOFToken();break}default:N.data+="--",this.state=a.COMMENT,this._stateComment(T)}}_stateCommentEndBang(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.HYPHEN_MINUS:{N.data+="--!",this.state=a.COMMENT_END_DASH;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.incorrectlyClosedComment),this.state=a.DATA,this.emitCurrentComment(N);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInComment),this.emitCurrentComment(N),this._emitEOFToken();break}default:N.data+="--!",this.state=a.COMMENT,this._stateComment(T)}}_stateDoctype(T){switch(T){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:{this.state=a.BEFORE_DOCTYPE_NAME;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=a.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(T);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),this._createDoctypeToken(null);const N=this.currentToken;N.forceQuirks=!0,this.emitCurrentDoctype(N),this._emitEOFToken();break}default:this._err(i.ERR.missingWhitespaceBeforeDoctypeName),this.state=a.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(T)}}_stateBeforeDoctypeName(T){if(u(T))this._createDoctypeToken(String.fromCharCode(h(T))),this.state=a.DOCTYPE_NAME;else switch(T){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:break;case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this._createDoctypeToken(t.REPLACEMENT_CHARACTER),this.state=a.DOCTYPE_NAME;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.missingDoctypeName),this._createDoctypeToken(null);const N=this.currentToken;N.forceQuirks=!0,this.emitCurrentDoctype(N),this.state=a.DATA;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),this._createDoctypeToken(null);const N=this.currentToken;N.forceQuirks=!0,this.emitCurrentDoctype(N),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(T)),this.state=a.DOCTYPE_NAME}}_stateDoctypeName(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:{this.state=a.AFTER_DOCTYPE_NAME;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=a.DATA,this.emitCurrentDoctype(N);break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),N.name+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),N.forceQuirks=!0,this.emitCurrentDoctype(N),this._emitEOFToken();break}default:N.name+=String.fromCodePoint(u(T)?h(T):T)}}_stateAfterDoctypeName(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:break;case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=a.DATA,this.emitCurrentDoctype(N);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),N.forceQuirks=!0,this.emitCurrentDoctype(N),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(t.SEQUENCES.PUBLIC,!1)?this.state=a.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(t.SEQUENCES.SYSTEM,!1)?this.state=a.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(i.ERR.invalidCharacterSequenceAfterDoctypeName),N.forceQuirks=!0,this.state=a.BOGUS_DOCTYPE,this._stateBogusDoctype(T))}}_stateAfterDoctypePublicKeyword(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:{this.state=a.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case t.CODE_POINTS.QUOTATION_MARK:{this._err(i.ERR.missingWhitespaceAfterDoctypePublicKeyword),N.publicId="",this.state=a.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case t.CODE_POINTS.APOSTROPHE:{this._err(i.ERR.missingWhitespaceAfterDoctypePublicKeyword),N.publicId="",this.state=a.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.missingDoctypePublicIdentifier),N.forceQuirks=!0,this.state=a.DATA,this.emitCurrentDoctype(N);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),N.forceQuirks=!0,this.emitCurrentDoctype(N),this._emitEOFToken();break}default:this._err(i.ERR.missingQuoteBeforeDoctypePublicIdentifier),N.forceQuirks=!0,this.state=a.BOGUS_DOCTYPE,this._stateBogusDoctype(T)}}_stateBeforeDoctypePublicIdentifier(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:break;case t.CODE_POINTS.QUOTATION_MARK:{N.publicId="",this.state=a.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case t.CODE_POINTS.APOSTROPHE:{N.publicId="",this.state=a.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.missingDoctypePublicIdentifier),N.forceQuirks=!0,this.state=a.DATA,this.emitCurrentDoctype(N);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),N.forceQuirks=!0,this.emitCurrentDoctype(N),this._emitEOFToken();break}default:this._err(i.ERR.missingQuoteBeforeDoctypePublicIdentifier),N.forceQuirks=!0,this.state=a.BOGUS_DOCTYPE,this._stateBogusDoctype(T)}}_stateDoctypePublicIdentifierDoubleQuoted(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.QUOTATION_MARK:{this.state=a.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),N.publicId+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.abruptDoctypePublicIdentifier),N.forceQuirks=!0,this.emitCurrentDoctype(N),this.state=a.DATA;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),N.forceQuirks=!0,this.emitCurrentDoctype(N),this._emitEOFToken();break}default:N.publicId+=String.fromCodePoint(T)}}_stateDoctypePublicIdentifierSingleQuoted(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.APOSTROPHE:{this.state=a.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),N.publicId+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.abruptDoctypePublicIdentifier),N.forceQuirks=!0,this.emitCurrentDoctype(N),this.state=a.DATA;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),N.forceQuirks=!0,this.emitCurrentDoctype(N),this._emitEOFToken();break}default:N.publicId+=String.fromCodePoint(T)}}_stateAfterDoctypePublicIdentifier(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:{this.state=a.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=a.DATA,this.emitCurrentDoctype(N);break}case t.CODE_POINTS.QUOTATION_MARK:{this._err(i.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),N.systemId="",this.state=a.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case t.CODE_POINTS.APOSTROPHE:{this._err(i.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),N.systemId="",this.state=a.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),N.forceQuirks=!0,this.emitCurrentDoctype(N),this._emitEOFToken();break}default:this._err(i.ERR.missingQuoteBeforeDoctypeSystemIdentifier),N.forceQuirks=!0,this.state=a.BOGUS_DOCTYPE,this._stateBogusDoctype(T)}}_stateBetweenDoctypePublicAndSystemIdentifiers(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:break;case t.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(N),this.state=a.DATA;break}case t.CODE_POINTS.QUOTATION_MARK:{N.systemId="",this.state=a.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case t.CODE_POINTS.APOSTROPHE:{N.systemId="",this.state=a.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),N.forceQuirks=!0,this.emitCurrentDoctype(N),this._emitEOFToken();break}default:this._err(i.ERR.missingQuoteBeforeDoctypeSystemIdentifier),N.forceQuirks=!0,this.state=a.BOGUS_DOCTYPE,this._stateBogusDoctype(T)}}_stateAfterDoctypeSystemKeyword(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:{this.state=a.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case t.CODE_POINTS.QUOTATION_MARK:{this._err(i.ERR.missingWhitespaceAfterDoctypeSystemKeyword),N.systemId="",this.state=a.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case t.CODE_POINTS.APOSTROPHE:{this._err(i.ERR.missingWhitespaceAfterDoctypeSystemKeyword),N.systemId="",this.state=a.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.missingDoctypeSystemIdentifier),N.forceQuirks=!0,this.state=a.DATA,this.emitCurrentDoctype(N);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),N.forceQuirks=!0,this.emitCurrentDoctype(N),this._emitEOFToken();break}default:this._err(i.ERR.missingQuoteBeforeDoctypeSystemIdentifier),N.forceQuirks=!0,this.state=a.BOGUS_DOCTYPE,this._stateBogusDoctype(T)}}_stateBeforeDoctypeSystemIdentifier(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:break;case t.CODE_POINTS.QUOTATION_MARK:{N.systemId="",this.state=a.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case t.CODE_POINTS.APOSTROPHE:{N.systemId="",this.state=a.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.missingDoctypeSystemIdentifier),N.forceQuirks=!0,this.state=a.DATA,this.emitCurrentDoctype(N);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),N.forceQuirks=!0,this.emitCurrentDoctype(N),this._emitEOFToken();break}default:this._err(i.ERR.missingQuoteBeforeDoctypeSystemIdentifier),N.forceQuirks=!0,this.state=a.BOGUS_DOCTYPE,this._stateBogusDoctype(T)}}_stateDoctypeSystemIdentifierDoubleQuoted(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.QUOTATION_MARK:{this.state=a.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),N.systemId+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.abruptDoctypeSystemIdentifier),N.forceQuirks=!0,this.emitCurrentDoctype(N),this.state=a.DATA;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),N.forceQuirks=!0,this.emitCurrentDoctype(N),this._emitEOFToken();break}default:N.systemId+=String.fromCodePoint(T)}}_stateDoctypeSystemIdentifierSingleQuoted(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.APOSTROPHE:{this.state=a.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),N.systemId+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.abruptDoctypeSystemIdentifier),N.forceQuirks=!0,this.emitCurrentDoctype(N),this.state=a.DATA;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),N.forceQuirks=!0,this.emitCurrentDoctype(N),this._emitEOFToken();break}default:N.systemId+=String.fromCodePoint(T)}}_stateAfterDoctypeSystemIdentifier(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:break;case t.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(N),this.state=a.DATA;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),N.forceQuirks=!0,this.emitCurrentDoctype(N),this._emitEOFToken();break}default:this._err(i.ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=a.BOGUS_DOCTYPE,this._stateBogusDoctype(T)}}_stateBogusDoctype(T){const N=this.currentToken;switch(T){case t.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(N),this.state=a.DATA;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter);break}case t.CODE_POINTS.EOF:{this.emitCurrentDoctype(N),this._emitEOFToken();break}}}_stateCdataSection(T){switch(T){case t.CODE_POINTS.RIGHT_SQUARE_BRACKET:{this.state=a.CDATA_SECTION_BRACKET;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(T)}}_stateCdataSectionBracket(T){T===t.CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=a.CDATA_SECTION_END:(this._emitChars("]"),this.state=a.CDATA_SECTION,this._stateCdataSection(T))}_stateCdataSectionEnd(T){switch(T){case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=a.DATA;break}case t.CODE_POINTS.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=a.CDATA_SECTION,this._stateCdataSection(T)}}_stateCharacterReference(){let T=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(T<0)if(this.preprocessor.lastChunkWritten)T=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}T===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(t.CODE_POINTS.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&d(this.preprocessor.peek(1))?a.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(T){d(T)?this._flushCodePointConsumedAsCharacterReference(T):(T===t.CODE_POINTS.SEMICOLON&&this._err(i.ERR.unknownNamedCharacterReference),this.state=this.returnState,this._callState(T))}}return ba.Tokenizer=_,ba}var Fo={},Q3;function nX(){if(Q3)return Fo;Q3=1,Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.OpenElementStack=void 0;const e=na(),t=new Set([e.TAG_ID.DD,e.TAG_ID.DT,e.TAG_ID.LI,e.TAG_ID.OPTGROUP,e.TAG_ID.OPTION,e.TAG_ID.P,e.TAG_ID.RB,e.TAG_ID.RP,e.TAG_ID.RT,e.TAG_ID.RTC]),n=new Set([...t,e.TAG_ID.CAPTION,e.TAG_ID.COLGROUP,e.TAG_ID.TBODY,e.TAG_ID.TD,e.TAG_ID.TFOOT,e.TAG_ID.TH,e.TAG_ID.THEAD,e.TAG_ID.TR]),r=new Set([e.TAG_ID.APPLET,e.TAG_ID.CAPTION,e.TAG_ID.HTML,e.TAG_ID.MARQUEE,e.TAG_ID.OBJECT,e.TAG_ID.TABLE,e.TAG_ID.TD,e.TAG_ID.TEMPLATE,e.TAG_ID.TH]),i=new Set([...r,e.TAG_ID.OL,e.TAG_ID.UL]),s=new Set([...r,e.TAG_ID.BUTTON]),a=new Set([e.TAG_ID.ANNOTATION_XML,e.TAG_ID.MI,e.TAG_ID.MN,e.TAG_ID.MO,e.TAG_ID.MS,e.TAG_ID.MTEXT]),o=new Set([e.TAG_ID.DESC,e.TAG_ID.FOREIGN_OBJECT,e.TAG_ID.TITLE]),u=new Set([e.TAG_ID.TR,e.TAG_ID.TEMPLATE,e.TAG_ID.HTML]),c=new Set([e.TAG_ID.TBODY,e.TAG_ID.TFOOT,e.TAG_ID.THEAD,e.TAG_ID.TEMPLATE,e.TAG_ID.HTML]),l=new Set([e.TAG_ID.TABLE,e.TAG_ID.TEMPLATE,e.TAG_ID.HTML]),d=new Set([e.TAG_ID.TD,e.TAG_ID.TH]);class h{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(p,x,_){this.treeAdapter=x,this.handler=_,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=e.TAG_ID.UNKNOWN,this.current=p}_indexOf(p){return this.items.lastIndexOf(p,this.stackTop)}_isInTemplate(){return this.currentTagId===e.TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===e.NS.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(p,x){this.stackTop++,this.items[this.stackTop]=p,this.current=p,this.tagIDs[this.stackTop]=x,this.currentTagId=x,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(p,x,!0)}pop(){const p=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(p,!0)}replace(p,x){const _=this._indexOf(p);this.items[_]=x,_===this.stackTop&&(this.current=x)}insertAfter(p,x,_){const b=this._indexOf(p)+1;this.items.splice(b,0,x),this.tagIDs.splice(b,0,_),this.stackTop++,b===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,b===this.stackTop)}popUntilTagNamePopped(p){let x=this.stackTop+1;do x=this.tagIDs.lastIndexOf(p,x-1);while(x>0&&this.treeAdapter.getNamespaceURI(this.items[x])!==e.NS.HTML);this.shortenToLength(Math.max(x,0))}shortenToLength(p){for(;this.stackTop>=p;){const x=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(x,this.stackTop<p)}}popUntilElementPopped(p){const x=this._indexOf(p);this.shortenToLength(Math.max(x,0))}popUntilPopped(p,x){const _=this._indexOfTagNames(p,x);this.shortenToLength(Math.max(_,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(e.NUMBERED_HEADERS,e.NS.HTML)}popUntilTableCellPopped(){this.popUntilPopped(d,e.NS.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(p,x){for(let _=this.stackTop;_>=0;_--)if(p.has(this.tagIDs[_])&&this.treeAdapter.getNamespaceURI(this.items[_])===x)return _;return-1}clearBackTo(p,x){const _=this._indexOfTagNames(p,x);this.shortenToLength(_+1)}clearBackToTableContext(){this.clearBackTo(l,e.NS.HTML)}clearBackToTableBodyContext(){this.clearBackTo(c,e.NS.HTML)}clearBackToTableRowContext(){this.clearBackTo(u,e.NS.HTML)}remove(p){const x=this._indexOf(p);x>=0&&(x===this.stackTop?this.pop():(this.items.splice(x,1),this.tagIDs.splice(x,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(p,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===e.TAG_ID.BODY?this.items[1]:null}contains(p){return this._indexOf(p)>-1}getCommonAncestor(p){const x=this._indexOf(p)-1;return x>=0?this.items[x]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===e.TAG_ID.HTML}hasInDynamicScope(p,x){for(let _=this.stackTop;_>=0;_--){const b=this.tagIDs[_];switch(this.treeAdapter.getNamespaceURI(this.items[_])){case e.NS.HTML:{if(b===p)return!0;if(x.has(b))return!1;break}case e.NS.SVG:{if(o.has(b))return!1;break}case e.NS.MATHML:{if(a.has(b))return!1;break}}}return!0}hasInScope(p){return this.hasInDynamicScope(p,r)}hasInListItemScope(p){return this.hasInDynamicScope(p,i)}hasInButtonScope(p){return this.hasInDynamicScope(p,s)}hasNumberedHeaderInScope(){for(let p=this.stackTop;p>=0;p--){const x=this.tagIDs[p];switch(this.treeAdapter.getNamespaceURI(this.items[p])){case e.NS.HTML:{if(e.NUMBERED_HEADERS.has(x))return!0;if(r.has(x))return!1;break}case e.NS.SVG:{if(o.has(x))return!1;break}case e.NS.MATHML:{if(a.has(x))return!1;break}}}return!0}hasInTableScope(p){for(let x=this.stackTop;x>=0;x--)if(this.treeAdapter.getNamespaceURI(this.items[x])===e.NS.HTML)switch(this.tagIDs[x]){case p:return!0;case e.TAG_ID.TABLE:case e.TAG_ID.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let p=this.stackTop;p>=0;p--)if(this.treeAdapter.getNamespaceURI(this.items[p])===e.NS.HTML)switch(this.tagIDs[p]){case e.TAG_ID.TBODY:case e.TAG_ID.THEAD:case e.TAG_ID.TFOOT:return!0;case e.TAG_ID.TABLE:case e.TAG_ID.HTML:return!1}return!0}hasInSelectScope(p){for(let x=this.stackTop;x>=0;x--)if(this.treeAdapter.getNamespaceURI(this.items[x])===e.NS.HTML)switch(this.tagIDs[x]){case p:return!0;case e.TAG_ID.OPTION:case e.TAG_ID.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&t.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&n.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(p){for(;this.currentTagId!==void 0&&this.currentTagId!==p&&n.has(this.currentTagId);)this.pop()}}return Fo.OpenElementStack=h,Fo}var Ta={},X3;function rX(){if(X3)return Ta;X3=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.FormattingElementList=Ta.EntryType=void 0;const e=3;var t;(function(i){i[i.Marker=0]="Marker",i[i.Element=1]="Element"})(t||(Ta.EntryType=t={}));const n={type:t.Marker};class r{constructor(s){this.treeAdapter=s,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(s,a){const o=[],u=a.length,c=this.treeAdapter.getTagName(s),l=this.treeAdapter.getNamespaceURI(s);for(let d=0;d<this.entries.length;d++){const h=this.entries[d];if(h.type===t.Marker)break;const{element:f}=h;if(this.treeAdapter.getTagName(f)===c&&this.treeAdapter.getNamespaceURI(f)===l){const p=this.treeAdapter.getAttrList(f);p.length===u&&o.push({idx:d,attrs:p})}}return o}_ensureNoahArkCondition(s){if(this.entries.length<e)return;const a=this.treeAdapter.getAttrList(s),o=this._getNoahArkConditionCandidates(s,a);if(o.length<e)return;const u=new Map(a.map(l=>[l.name,l.value]));let c=0;for(let l=0;l<o.length;l++){const d=o[l];d.attrs.every(h=>u.get(h.name)===h.value)&&(c+=1,c>=e&&this.entries.splice(d.idx,1))}}insertMarker(){this.entries.unshift(n)}pushElement(s,a){this._ensureNoahArkCondition(s),this.entries.unshift({type:t.Element,element:s,token:a})}insertElementAfterBookmark(s,a){const o=this.entries.indexOf(this.bookmark);this.entries.splice(o,0,{type:t.Element,element:s,token:a})}removeEntry(s){const a=this.entries.indexOf(s);a!==-1&&this.entries.splice(a,1)}clearToLastMarker(){const s=this.entries.indexOf(n);s===-1?this.entries.length=0:this.entries.splice(0,s+1)}getElementEntryInScopeWithTagName(s){const a=this.entries.find(o=>o.type===t.Marker||this.treeAdapter.getTagName(o.element)===s);return a&&a.type===t.Element?a:null}getElementEntry(s){return this.entries.find(a=>a.type===t.Element&&a.element===s)}}return Ta.FormattingElementList=r,Ta}var gp={},J3;function cb(){return J3||(J3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTreeAdapter=void 0;const t=na();e.defaultTreeAdapter={createDocument(){return{nodeName:"#document",mode:t.DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(n,r,i){return{nodeName:n,tagName:n,attrs:i,namespaceURI:r,childNodes:[],parentNode:null}},createCommentNode(n){return{nodeName:"#comment",data:n,parentNode:null}},createTextNode(n){return{nodeName:"#text",value:n,parentNode:null}},appendChild(n,r){n.childNodes.push(r),r.parentNode=n},insertBefore(n,r,i){const s=n.childNodes.indexOf(i);n.childNodes.splice(s,0,r),r.parentNode=n},setTemplateContent(n,r){n.content=r},getTemplateContent(n){return n.content},setDocumentType(n,r,i,s){const a=n.childNodes.find(o=>o.nodeName==="#documentType");if(a)a.name=r,a.publicId=i,a.systemId=s;else{const o={nodeName:"#documentType",name:r,publicId:i,systemId:s,parentNode:null};e.defaultTreeAdapter.appendChild(n,o)}},setDocumentMode(n,r){n.mode=r},getDocumentMode(n){return n.mode},detachNode(n){if(n.parentNode){const r=n.parentNode.childNodes.indexOf(n);n.parentNode.childNodes.splice(r,1),n.parentNode=null}},insertText(n,r){if(n.childNodes.length>0){const i=n.childNodes[n.childNodes.length-1];if(e.defaultTreeAdapter.isTextNode(i)){i.value+=r;return}}e.defaultTreeAdapter.appendChild(n,e.defaultTreeAdapter.createTextNode(r))},insertTextBefore(n,r,i){const s=n.childNodes[n.childNodes.indexOf(i)-1];s&&e.defaultTreeAdapter.isTextNode(s)?s.value+=r:e.defaultTreeAdapter.insertBefore(n,e.defaultTreeAdapter.createTextNode(r),i)},adoptAttributes(n,r){const i=new Set(n.attrs.map(s=>s.name));for(let s=0;s<r.length;s++)i.has(r[s].name)||n.attrs.push(r[s])},getFirstChild(n){return n.childNodes[0]},getChildNodes(n){return n.childNodes},getParentNode(n){return n.parentNode},getAttrList(n){return n.attrs},getTagName(n){return n.tagName},getNamespaceURI(n){return n.namespaceURI},getTextNodeContent(n){return n.value},getCommentNodeContent(n){return n.data},getDocumentTypeNodeName(n){return n.name},getDocumentTypeNodePublicId(n){return n.publicId},getDocumentTypeNodeSystemId(n){return n.systemId},isTextNode(n){return n.nodeName==="#text"},isCommentNode(n){return n.nodeName==="#comment"},isDocumentTypeNode(n){return n.nodeName==="#documentType"},isElementNode(n){return Object.prototype.hasOwnProperty.call(n,"tagName")},setNodeSourceCodeLocation(n,r){n.sourceCodeLocation=r},getNodeSourceCodeLocation(n){return n.sourceCodeLocation},updateNodeSourceCodeLocation(n,r){n.sourceCodeLocation=Object.assign(Object.assign({},n.sourceCodeLocation),r)}}})(gp)),gp}var Ho={},Z3;function iX(){if(Z3)return Ho;Z3=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.isConforming=l,Ho.getDocumentMode=d;const e=na(),t="html",n="about:legacy-compat",r="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",i=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],s=[...i,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],a=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),o=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],u=[...o,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function c(h,f){return f.some(p=>h.startsWith(p))}function l(h){return h.name===t&&h.publicId===null&&(h.systemId===null||h.systemId===n)}function d(h){if(h.name!==t)return e.DOCUMENT_MODE.QUIRKS;const{systemId:f}=h;if(f&&f.toLowerCase()===r)return e.DOCUMENT_MODE.QUIRKS;let{publicId:p}=h;if(p!==null){if(p=p.toLowerCase(),a.has(p))return e.DOCUMENT_MODE.QUIRKS;let x=f===null?s:i;if(c(p,x))return e.DOCUMENT_MODE.QUIRKS;if(x=f===null?o:u,c(p,x))return e.DOCUMENT_MODE.LIMITED_QUIRKS}return e.DOCUMENT_MODE.NO_QUIRKS}return Ho}var bp={},e_;function r6(){return e_||(e_=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SVG_TAG_NAMES_ADJUSTMENT_MAP=void 0,e.causesExit=u,e.adjustTokenMathMLAttrs=c,e.adjustTokenSVGAttrs=l,e.adjustTokenXMLAttrs=d,e.adjustTokenSVGTagName=h,e.isIntegrationPoint=x;const t=na(),n={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},r="definitionurl",i="definitionURL",s=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(_=>[_.toLowerCase(),_])),a=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:t.NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:t.NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:t.NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:t.NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:t.NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:t.NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:t.NS.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:t.NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:t.NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:t.NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:t.NS.XMLNS}]]);e.SVG_TAG_NAMES_ADJUSTMENT_MAP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(_=>[_.toLowerCase(),_]));const o=new Set([t.TAG_ID.B,t.TAG_ID.BIG,t.TAG_ID.BLOCKQUOTE,t.TAG_ID.BODY,t.TAG_ID.BR,t.TAG_ID.CENTER,t.TAG_ID.CODE,t.TAG_ID.DD,t.TAG_ID.DIV,t.TAG_ID.DL,t.TAG_ID.DT,t.TAG_ID.EM,t.TAG_ID.EMBED,t.TAG_ID.H1,t.TAG_ID.H2,t.TAG_ID.H3,t.TAG_ID.H4,t.TAG_ID.H5,t.TAG_ID.H6,t.TAG_ID.HEAD,t.TAG_ID.HR,t.TAG_ID.I,t.TAG_ID.IMG,t.TAG_ID.LI,t.TAG_ID.LISTING,t.TAG_ID.MENU,t.TAG_ID.META,t.TAG_ID.NOBR,t.TAG_ID.OL,t.TAG_ID.P,t.TAG_ID.PRE,t.TAG_ID.RUBY,t.TAG_ID.S,t.TAG_ID.SMALL,t.TAG_ID.SPAN,t.TAG_ID.STRONG,t.TAG_ID.STRIKE,t.TAG_ID.SUB,t.TAG_ID.SUP,t.TAG_ID.TABLE,t.TAG_ID.TT,t.TAG_ID.U,t.TAG_ID.UL,t.TAG_ID.VAR]);function u(_){const b=_.tagID;return b===t.TAG_ID.FONT&&_.attrs.some(({name:N})=>N===t.ATTRS.COLOR||N===t.ATTRS.SIZE||N===t.ATTRS.FACE)||o.has(b)}function c(_){for(let b=0;b<_.attrs.length;b++)if(_.attrs[b].name===r){_.attrs[b].name=i;break}}function l(_){for(let b=0;b<_.attrs.length;b++){const T=s.get(_.attrs[b].name);T!=null&&(_.attrs[b].name=T)}}function d(_){for(let b=0;b<_.attrs.length;b++){const T=a.get(_.attrs[b].name);T&&(_.attrs[b].prefix=T.prefix,_.attrs[b].name=T.name,_.attrs[b].namespace=T.namespace)}}function h(_){const b=e.SVG_TAG_NAMES_ADJUSTMENT_MAP.get(_.tagName);b!=null&&(_.tagName=b,_.tagID=(0,t.getTagID)(_.tagName))}function f(_,b){return b===t.NS.MATHML&&(_===t.TAG_ID.MI||_===t.TAG_ID.MO||_===t.TAG_ID.MN||_===t.TAG_ID.MS||_===t.TAG_ID.MTEXT)}function p(_,b,T){if(b===t.NS.MATHML&&_===t.TAG_ID.ANNOTATION_XML){for(let N=0;N<T.length;N++)if(T[N].name===t.ATTRS.ENCODING){const g=T[N].value.toLowerCase();return g===n.TEXT_HTML||g===n.APPLICATION_XML}}return b===t.NS.SVG&&(_===t.TAG_ID.FOREIGN_OBJECT||_===t.TAG_ID.DESC||_===t.TAG_ID.TITLE)}function x(_,b,T,N){return(!N||N===t.NS.HTML)&&p(_,b,T)||(!N||N===t.NS.MATHML)&&f(_,b)}})(bp)),bp}var t_;function n_(){if(t_)return Lo;t_=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.Parser=void 0;const e=n6(),t=nX(),n=rX(),r=cb(),i=iX(),s=r6(),a=Dh(),o=ob(),u=na(),c=lb(),l="hidden",d=8,h=3;var f;(function(C){C[C.INITIAL=0]="INITIAL",C[C.BEFORE_HTML=1]="BEFORE_HTML",C[C.BEFORE_HEAD=2]="BEFORE_HEAD",C[C.IN_HEAD=3]="IN_HEAD",C[C.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",C[C.AFTER_HEAD=5]="AFTER_HEAD",C[C.IN_BODY=6]="IN_BODY",C[C.TEXT=7]="TEXT",C[C.IN_TABLE=8]="IN_TABLE",C[C.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",C[C.IN_CAPTION=10]="IN_CAPTION",C[C.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",C[C.IN_TABLE_BODY=12]="IN_TABLE_BODY",C[C.IN_ROW=13]="IN_ROW",C[C.IN_CELL=14]="IN_CELL",C[C.IN_SELECT=15]="IN_SELECT",C[C.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",C[C.IN_TEMPLATE=17]="IN_TEMPLATE",C[C.AFTER_BODY=18]="AFTER_BODY",C[C.IN_FRAMESET=19]="IN_FRAMESET",C[C.AFTER_FRAMESET=20]="AFTER_FRAMESET",C[C.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",C[C.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(f||(f={}));const p={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},x=new Set([u.TAG_ID.TABLE,u.TAG_ID.TBODY,u.TAG_ID.TFOOT,u.TAG_ID.THEAD,u.TAG_ID.TR]),_={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:r.defaultTreeAdapter,onParseError:null};class b{constructor(k,Q,se=null,Oe=null){this.fragmentContext=se,this.scriptHandler=Oe,this.currentToken=null,this.stopped=!1,this.insertionMode=f.INITIAL,this.originalInsertionMode=f.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=Object.assign(Object.assign({},_),k),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=Q!=null?Q:this.treeAdapter.createDocument(),this.tokenizer=new e.Tokenizer(this.options,this),this.activeFormattingElements=new n.FormattingElementList(this.treeAdapter),this.fragmentContextID=se?(0,u.getTagID)(this.treeAdapter.getTagName(se)):u.TAG_ID.UNKNOWN,this._setContextModes(se!=null?se:this.document,this.fragmentContextID),this.openElements=new t.OpenElementStack(this.document,this.treeAdapter,this)}static parse(k,Q){const se=new this(Q);return se.tokenizer.write(k,!0),se.document}static getFragmentParser(k,Q){const se=Object.assign(Object.assign({},_),Q);k!=null||(k=se.treeAdapter.createElement(u.TAG_NAMES.TEMPLATE,u.NS.HTML,[]));const Oe=se.treeAdapter.createElement("documentmock",u.NS.HTML,[]),Ge=new this(se,Oe,k);return Ge.fragmentContextID===u.TAG_ID.TEMPLATE&&Ge.tmplInsertionModeStack.unshift(f.IN_TEMPLATE),Ge._initTokenizerForFragmentParsing(),Ge._insertFakeRootElement(),Ge._resetInsertionMode(),Ge._findFormInFragmentContext(),Ge}getFragment(){const k=this.treeAdapter.getFirstChild(this.document),Q=this.treeAdapter.createDocumentFragment();return this._adoptNodes(k,Q),Q}_err(k,Q,se){var Oe;if(!this.onParseError)return;const Ge=(Oe=k.location)!==null&&Oe!==void 0?Oe:p,Mt={code:Q,startLine:Ge.startLine,startCol:Ge.startCol,startOffset:Ge.startOffset,endLine:se?Ge.startLine:Ge.endLine,endCol:se?Ge.startCol:Ge.endCol,endOffset:se?Ge.startOffset:Ge.endOffset};this.onParseError(Mt)}onItemPush(k,Q,se){var Oe,Ge;(Ge=(Oe=this.treeAdapter).onItemPush)===null||Ge===void 0||Ge.call(Oe,k),se&&this.openElements.stackTop>0&&this._setContextModes(k,Q)}onItemPop(k,Q){var se,Oe;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(k,this.currentToken),(Oe=(se=this.treeAdapter).onItemPop)===null||Oe===void 0||Oe.call(se,k,this.openElements.current),Q){let Ge,Mt;this.openElements.stackTop===0&&this.fragmentContext?(Ge=this.fragmentContext,Mt=this.fragmentContextID):{current:Ge,currentTagId:Mt}=this.openElements,this._setContextModes(Ge,Mt)}}_setContextModes(k,Q){const se=k===this.document||k&&this.treeAdapter.getNamespaceURI(k)===u.NS.HTML;this.currentNotInHTML=!se,this.tokenizer.inForeignNode=!se&&k!==void 0&&Q!==void 0&&!this._isIntegrationPoint(Q,k)}_switchToTextParsing(k,Q){this._insertElement(k,u.NS.HTML),this.tokenizer.state=Q,this.originalInsertionMode=this.insertionMode,this.insertionMode=f.TEXT}switchToPlaintextParsing(){this.insertionMode=f.TEXT,this.originalInsertionMode=f.IN_BODY,this.tokenizer.state=e.TokenizerMode.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let k=this.fragmentContext;for(;k;){if(this.treeAdapter.getTagName(k)===u.TAG_NAMES.FORM){this.formElement=k;break}k=this.treeAdapter.getParentNode(k)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==u.NS.HTML))switch(this.fragmentContextID){case u.TAG_ID.TITLE:case u.TAG_ID.TEXTAREA:{this.tokenizer.state=e.TokenizerMode.RCDATA;break}case u.TAG_ID.STYLE:case u.TAG_ID.XMP:case u.TAG_ID.IFRAME:case u.TAG_ID.NOEMBED:case u.TAG_ID.NOFRAMES:case u.TAG_ID.NOSCRIPT:{this.tokenizer.state=e.TokenizerMode.RAWTEXT;break}case u.TAG_ID.SCRIPT:{this.tokenizer.state=e.TokenizerMode.SCRIPT_DATA;break}case u.TAG_ID.PLAINTEXT:{this.tokenizer.state=e.TokenizerMode.PLAINTEXT;break}}}_setDocumentType(k){const Q=k.name||"",se=k.publicId||"",Oe=k.systemId||"";if(this.treeAdapter.setDocumentType(this.document,Q,se,Oe),k.location){const Mt=this.treeAdapter.getChildNodes(this.document).find(bs=>this.treeAdapter.isDocumentTypeNode(bs));Mt&&this.treeAdapter.setNodeSourceCodeLocation(Mt,k.location)}}_attachElementToTree(k,Q){if(this.options.sourceCodeLocationInfo){const se=Q&&Object.assign(Object.assign({},Q),{startTag:Q});this.treeAdapter.setNodeSourceCodeLocation(k,se)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(k);else{const se=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(se!=null?se:this.document,k)}}_appendElement(k,Q){const se=this.treeAdapter.createElement(k.tagName,Q,k.attrs);this._attachElementToTree(se,k.location)}_insertElement(k,Q){const se=this.treeAdapter.createElement(k.tagName,Q,k.attrs);this._attachElementToTree(se,k.location),this.openElements.push(se,k.tagID)}_insertFakeElement(k,Q){const se=this.treeAdapter.createElement(k,u.NS.HTML,[]);this._attachElementToTree(se,null),this.openElements.push(se,Q)}_insertTemplate(k){const Q=this.treeAdapter.createElement(k.tagName,u.NS.HTML,k.attrs),se=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(Q,se),this._attachElementToTree(Q,k.location),this.openElements.push(Q,k.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(se,null)}_insertFakeRootElement(){const k=this.treeAdapter.createElement(u.TAG_NAMES.HTML,u.NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(k,null),this.treeAdapter.appendChild(this.openElements.current,k),this.openElements.push(k,u.TAG_ID.HTML)}_appendCommentNode(k,Q){const se=this.treeAdapter.createCommentNode(k.data);this.treeAdapter.appendChild(Q,se),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(se,k.location)}_insertCharacters(k){let Q,se;if(this._shouldFosterParentOnInsertion()?({parent:Q,beforeElement:se}=this._findFosterParentingLocation(),se?this.treeAdapter.insertTextBefore(Q,k.chars,se):this.treeAdapter.insertText(Q,k.chars)):(Q=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(Q,k.chars)),!k.location)return;const Oe=this.treeAdapter.getChildNodes(Q),Ge=se?Oe.lastIndexOf(se):Oe.length,Mt=Oe[Ge-1];if(this.treeAdapter.getNodeSourceCodeLocation(Mt)){const{endLine:yc,endCol:Sb,endOffset:M6}=k.location;this.treeAdapter.updateNodeSourceCodeLocation(Mt,{endLine:yc,endCol:Sb,endOffset:M6})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(Mt,k.location)}_adoptNodes(k,Q){for(let se=this.treeAdapter.getFirstChild(k);se;se=this.treeAdapter.getFirstChild(k))this.treeAdapter.detachNode(se),this.treeAdapter.appendChild(Q,se)}_setEndLocation(k,Q){if(this.treeAdapter.getNodeSourceCodeLocation(k)&&Q.location){const se=Q.location,Oe=this.treeAdapter.getTagName(k),Ge=Q.type===c.TokenType.END_TAG&&Oe===Q.tagName?{endTag:Object.assign({},se),endLine:se.endLine,endCol:se.endCol,endOffset:se.endOffset}:{endLine:se.startLine,endCol:se.startCol,endOffset:se.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(k,Ge)}}shouldProcessStartTagTokenInForeignContent(k){if(!this.currentNotInHTML)return!1;let Q,se;return this.openElements.stackTop===0&&this.fragmentContext?(Q=this.fragmentContext,se=this.fragmentContextID):{current:Q,currentTagId:se}=this.openElements,k.tagID===u.TAG_ID.SVG&&this.treeAdapter.getTagName(Q)===u.TAG_NAMES.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(Q)===u.NS.MATHML?!1:this.tokenizer.inForeignNode||(k.tagID===u.TAG_ID.MGLYPH||k.tagID===u.TAG_ID.MALIGNMARK)&&se!==void 0&&!this._isIntegrationPoint(se,Q,u.NS.HTML)}_processToken(k){switch(k.type){case c.TokenType.CHARACTER:{this.onCharacter(k);break}case c.TokenType.NULL_CHARACTER:{this.onNullCharacter(k);break}case c.TokenType.COMMENT:{this.onComment(k);break}case c.TokenType.DOCTYPE:{this.onDoctype(k);break}case c.TokenType.START_TAG:{this._processStartTag(k);break}case c.TokenType.END_TAG:{this.onEndTag(k);break}case c.TokenType.EOF:{this.onEof(k);break}case c.TokenType.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(k);break}}}_isIntegrationPoint(k,Q,se){const Oe=this.treeAdapter.getNamespaceURI(Q),Ge=this.treeAdapter.getAttrList(Q);return s.isIntegrationPoint(k,Oe,Ge,se)}_reconstructActiveFormattingElements(){const k=this.activeFormattingElements.entries.length;if(k){const Q=this.activeFormattingElements.entries.findIndex(Oe=>Oe.type===n.EntryType.Marker||this.openElements.contains(Oe.element)),se=Q===-1?k-1:Q-1;for(let Oe=se;Oe>=0;Oe--){const Ge=this.activeFormattingElements.entries[Oe];this._insertElement(Ge.token,this.treeAdapter.getNamespaceURI(Ge.element)),Ge.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=f.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(u.TAG_ID.P),this.openElements.popUntilTagNamePopped(u.TAG_ID.P)}_resetInsertionMode(){for(let k=this.openElements.stackTop;k>=0;k--)switch(k===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[k]){case u.TAG_ID.TR:{this.insertionMode=f.IN_ROW;return}case u.TAG_ID.TBODY:case u.TAG_ID.THEAD:case u.TAG_ID.TFOOT:{this.insertionMode=f.IN_TABLE_BODY;return}case u.TAG_ID.CAPTION:{this.insertionMode=f.IN_CAPTION;return}case u.TAG_ID.COLGROUP:{this.insertionMode=f.IN_COLUMN_GROUP;return}case u.TAG_ID.TABLE:{this.insertionMode=f.IN_TABLE;return}case u.TAG_ID.BODY:{this.insertionMode=f.IN_BODY;return}case u.TAG_ID.FRAMESET:{this.insertionMode=f.IN_FRAMESET;return}case u.TAG_ID.SELECT:{this._resetInsertionModeForSelect(k);return}case u.TAG_ID.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case u.TAG_ID.HTML:{this.insertionMode=this.headElement?f.AFTER_HEAD:f.BEFORE_HEAD;return}case u.TAG_ID.TD:case u.TAG_ID.TH:{if(k>0){this.insertionMode=f.IN_CELL;return}break}case u.TAG_ID.HEAD:{if(k>0){this.insertionMode=f.IN_HEAD;return}break}}this.insertionMode=f.IN_BODY}_resetInsertionModeForSelect(k){if(k>0)for(let Q=k-1;Q>0;Q--){const se=this.openElements.tagIDs[Q];if(se===u.TAG_ID.TEMPLATE)break;if(se===u.TAG_ID.TABLE){this.insertionMode=f.IN_SELECT_IN_TABLE;return}}this.insertionMode=f.IN_SELECT}_isElementCausesFosterParenting(k){return x.has(k)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let k=this.openElements.stackTop;k>=0;k--){const Q=this.openElements.items[k];switch(this.openElements.tagIDs[k]){case u.TAG_ID.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(Q)===u.NS.HTML)return{parent:this.treeAdapter.getTemplateContent(Q),beforeElement:null};break}case u.TAG_ID.TABLE:{const se=this.treeAdapter.getParentNode(Q);return se?{parent:se,beforeElement:Q}:{parent:this.openElements.items[k-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(k){const Q=this._findFosterParentingLocation();Q.beforeElement?this.treeAdapter.insertBefore(Q.parent,k,Q.beforeElement):this.treeAdapter.appendChild(Q.parent,k)}_isSpecialElement(k,Q){const se=this.treeAdapter.getNamespaceURI(k);return u.SPECIAL_ELEMENTS[se].has(Q)}onCharacter(k){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){R6(this,k);return}switch(this.insertionMode){case f.INITIAL:{D(this,k);break}case f.BEFORE_HTML:{F(this,k);break}case f.BEFORE_HEAD:{P(this,k);break}case f.IN_HEAD:{Z(this,k);break}case f.IN_HEAD_NO_SCRIPT:{_e(this,k);break}case f.AFTER_HEAD:{Se(this,k);break}case f.IN_BODY:case f.IN_CAPTION:case f.IN_CELL:case f.IN_TEMPLATE:{te(this,k);break}case f.TEXT:case f.IN_SELECT:case f.IN_SELECT_IN_TABLE:{this._insertCharacters(k);break}case f.IN_TABLE:case f.IN_TABLE_BODY:case f.IN_ROW:{le(this,k);break}case f.IN_TABLE_TEXT:{J(this,k);break}case f.IN_COLUMN_GROUP:{nu(this,k);break}case f.AFTER_BODY:{Tc(this,k);break}case f.AFTER_AFTER_BODY:{Ec(this,k);break}}}onNullCharacter(k){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){D6(this,k);return}switch(this.insertionMode){case f.INITIAL:{D(this,k);break}case f.BEFORE_HTML:{F(this,k);break}case f.BEFORE_HEAD:{P(this,k);break}case f.IN_HEAD:{Z(this,k);break}case f.IN_HEAD_NO_SCRIPT:{_e(this,k);break}case f.AFTER_HEAD:{Se(this,k);break}case f.TEXT:{this._insertCharacters(k);break}case f.IN_TABLE:case f.IN_TABLE_BODY:case f.IN_ROW:{le(this,k);break}case f.IN_COLUMN_GROUP:{nu(this,k);break}case f.AFTER_BODY:{Tc(this,k);break}case f.AFTER_AFTER_BODY:{Ec(this,k);break}}}onComment(k){if(this.skipNextNewLine=!1,this.currentNotInHTML){L(this,k);return}switch(this.insertionMode){case f.INITIAL:case f.BEFORE_HTML:case f.BEFORE_HEAD:case f.IN_HEAD:case f.IN_HEAD_NO_SCRIPT:case f.AFTER_HEAD:case f.IN_BODY:case f.IN_TABLE:case f.IN_CAPTION:case f.IN_COLUMN_GROUP:case f.IN_TABLE_BODY:case f.IN_ROW:case f.IN_CELL:case f.IN_SELECT:case f.IN_SELECT_IN_TABLE:case f.IN_TEMPLATE:case f.IN_FRAMESET:case f.AFTER_FRAMESET:{L(this,k);break}case f.IN_TABLE_TEXT:{fe(this,k);break}case f.AFTER_BODY:{S(this,k);break}case f.AFTER_AFTER_BODY:case f.AFTER_AFTER_FRAMESET:{A(this,k);break}}}onDoctype(k){switch(this.skipNextNewLine=!1,this.insertionMode){case f.INITIAL:{O(this,k);break}case f.BEFORE_HEAD:case f.IN_HEAD:case f.IN_HEAD_NO_SCRIPT:case f.AFTER_HEAD:{this._err(k,a.ERR.misplacedDoctype);break}case f.IN_TABLE_TEXT:{fe(this,k);break}}}onStartTag(k){this.skipNextNewLine=!1,this.currentToken=k,this._processStartTag(k),k.selfClosing&&!k.ackSelfClosing&&this._err(k,a.ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(k){this.shouldProcessStartTagTokenInForeignContent(k)?L6(this,k):this._startTagOutsideForeignContent(k)}_startTagOutsideForeignContent(k){switch(this.insertionMode){case f.INITIAL:{D(this,k);break}case f.BEFORE_HTML:{B(this,k);break}case f.BEFORE_HEAD:{G(this,k);break}case f.IN_HEAD:{j(this,k);break}case f.IN_HEAD_NO_SCRIPT:{ee(this,k);break}case f.AFTER_HEAD:{ge(this,k);break}case f.IN_BODY:{rt(this,k);break}case f.IN_TABLE:{Ut(this,k);break}case f.IN_TABLE_TEXT:{fe(this,k);break}case f.IN_CAPTION:{Ue(this,k);break}case f.IN_COLUMN_GROUP:{br(this,k);break}case f.IN_TABLE_BODY:{ru(this,k);break}case f.IN_ROW:{iu(this,k);break}case f.IN_CELL:{E6(this,k);break}case f.IN_SELECT:{yb(this,k);break}case f.IN_SELECT_IN_TABLE:{_6(this,k);break}case f.IN_TEMPLATE:{A6(this,k);break}case f.AFTER_BODY:{S6(this,k);break}case f.IN_FRAMESET:{N6(this,k);break}case f.AFTER_FRAMESET:{w6(this,k);break}case f.AFTER_AFTER_BODY:{k6(this,k);break}case f.AFTER_AFTER_FRAMESET:{O6(this,k);break}}}onEndTag(k){this.skipNextNewLine=!1,this.currentToken=k,this.currentNotInHTML?P6(this,k):this._endTagOutsideForeignContent(k)}_endTagOutsideForeignContent(k){switch(this.insertionMode){case f.INITIAL:{D(this,k);break}case f.BEFORE_HTML:{M(this,k);break}case f.BEFORE_HEAD:{$(this,k);break}case f.IN_HEAD:{W(this,k);break}case f.IN_HEAD_NO_SCRIPT:{ae(this,k);break}case f.AFTER_HEAD:{je(this,k);break}case f.IN_BODY:{bn(this,k);break}case f.TEXT:{Gn(this,k);break}case f.IN_TABLE:{Pt(this,k);break}case f.IN_TABLE_TEXT:{fe(this,k);break}case f.IN_CAPTION:{dt(this,k);break}case f.IN_COLUMN_GROUP:{lo(this,k);break}case f.IN_TABLE_BODY:{co(this,k);break}case f.IN_ROW:{bc(this,k);break}case f.IN_CELL:{y6(this,k);break}case f.IN_SELECT:{_b(this,k);break}case f.IN_SELECT_IN_TABLE:{x6(this,k);break}case f.IN_TEMPLATE:{C6(this,k);break}case f.AFTER_BODY:{Ab(this,k);break}case f.IN_FRAMESET:{v6(this,k);break}case f.AFTER_FRAMESET:{I6(this,k);break}case f.AFTER_AFTER_BODY:{Ec(this,k);break}}}onEof(k){switch(this.insertionMode){case f.INITIAL:{D(this,k);break}case f.BEFORE_HTML:{F(this,k);break}case f.BEFORE_HEAD:{P(this,k);break}case f.IN_HEAD:{Z(this,k);break}case f.IN_HEAD_NO_SCRIPT:{_e(this,k);break}case f.AFTER_HEAD:{Se(this,k);break}case f.IN_BODY:case f.IN_TABLE:case f.IN_CAPTION:case f.IN_COLUMN_GROUP:case f.IN_TABLE_BODY:case f.IN_ROW:case f.IN_CELL:case f.IN_SELECT:case f.IN_SELECT_IN_TABLE:{wr(this,k);break}case f.TEXT:{gi(this,k);break}case f.IN_TABLE_TEXT:{fe(this,k);break}case f.IN_TEMPLATE:{xb(this,k);break}case f.AFTER_BODY:case f.IN_FRAMESET:case f.AFTER_FRAMESET:case f.AFTER_AFTER_BODY:case f.AFTER_AFTER_FRAMESET:{w(this,k);break}}}onWhitespaceCharacter(k){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,k.chars.charCodeAt(0)===o.CODE_POINTS.LINE_FEED)){if(k.chars.length===1)return;k.chars=k.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(k);return}switch(this.insertionMode){case f.IN_HEAD:case f.IN_HEAD_NO_SCRIPT:case f.AFTER_HEAD:case f.TEXT:case f.IN_COLUMN_GROUP:case f.IN_SELECT:case f.IN_SELECT_IN_TABLE:case f.IN_FRAMESET:case f.AFTER_FRAMESET:{this._insertCharacters(k);break}case f.IN_BODY:case f.IN_CAPTION:case f.IN_CELL:case f.IN_TEMPLATE:case f.AFTER_BODY:case f.AFTER_AFTER_BODY:case f.AFTER_AFTER_FRAMESET:{qe(this,k);break}case f.IN_TABLE:case f.IN_TABLE_BODY:case f.IN_ROW:{le(this,k);break}case f.IN_TABLE_TEXT:{rr(this,k);break}}}}Lo.Parser=b;function T(C,k){let Q=C.activeFormattingElements.getElementEntryInScopeWithTagName(k.tagName);return Q?C.openElements.contains(Q.element)?C.openElements.hasInScope(k.tagID)||(Q=null):(C.activeFormattingElements.removeEntry(Q),Q=null):gn(C,k),Q}function N(C,k){let Q=null,se=C.openElements.stackTop;for(;se>=0;se--){const Oe=C.openElements.items[se];if(Oe===k.element)break;C._isSpecialElement(Oe,C.openElements.tagIDs[se])&&(Q=Oe)}return Q||(C.openElements.shortenToLength(Math.max(se,0)),C.activeFormattingElements.removeEntry(k)),Q}function g(C,k,Q){let se=k,Oe=C.openElements.getCommonAncestor(k);for(let Ge=0,Mt=Oe;Mt!==Q;Ge++,Mt=Oe){Oe=C.openElements.getCommonAncestor(Mt);const bs=C.activeFormattingElements.getElementEntry(Mt),yc=bs&&Ge>=h;!bs||yc?(yc&&C.activeFormattingElements.removeEntry(bs),C.openElements.remove(Mt)):(Mt=y(C,bs),se===k&&(C.activeFormattingElements.bookmark=bs),C.treeAdapter.detachNode(se),C.treeAdapter.appendChild(Mt,se),se=Mt)}return se}function y(C,k){const Q=C.treeAdapter.getNamespaceURI(k.element),se=C.treeAdapter.createElement(k.token.tagName,Q,k.token.attrs);return C.openElements.replace(k.element,se),k.element=se,se}function E(C,k,Q){const se=C.treeAdapter.getTagName(k),Oe=(0,u.getTagID)(se);if(C._isElementCausesFosterParenting(Oe))C._fosterParentElement(Q);else{const Ge=C.treeAdapter.getNamespaceURI(k);Oe===u.TAG_ID.TEMPLATE&&Ge===u.NS.HTML&&(k=C.treeAdapter.getTemplateContent(k)),C.treeAdapter.appendChild(k,Q)}}function I(C,k,Q){const se=C.treeAdapter.getNamespaceURI(Q.element),{token:Oe}=Q,Ge=C.treeAdapter.createElement(Oe.tagName,se,Oe.attrs);C._adoptNodes(k,Ge),C.treeAdapter.appendChild(k,Ge),C.activeFormattingElements.insertElementAfterBookmark(Ge,Oe),C.activeFormattingElements.removeEntry(Q),C.openElements.remove(Q.element),C.openElements.insertAfter(k,Ge,Oe.tagID)}function R(C,k){for(let Q=0;Q<d;Q++){const se=T(C,k);if(!se)break;const Oe=N(C,se);if(!Oe)break;C.activeFormattingElements.bookmark=se;const Ge=g(C,Oe,se.element),Mt=C.openElements.getCommonAncestor(se.element);C.treeAdapter.detachNode(Ge),Mt&&E(C,Mt,Ge),I(C,Oe,se)}}function L(C,k){C._appendCommentNode(k,C.openElements.currentTmplContentOrNode)}function S(C,k){C._appendCommentNode(k,C.openElements.items[0])}function A(C,k){C._appendCommentNode(k,C.document)}function w(C,k){if(C.stopped=!0,k.location){const Q=C.fragmentContext?0:2;for(let se=C.openElements.stackTop;se>=Q;se--)C._setEndLocation(C.openElements.items[se],k);if(!C.fragmentContext&&C.openElements.stackTop>=0){const se=C.openElements.items[0],Oe=C.treeAdapter.getNodeSourceCodeLocation(se);if(Oe&&!Oe.endTag&&(C._setEndLocation(se,k),C.openElements.stackTop>=1)){const Ge=C.openElements.items[1],Mt=C.treeAdapter.getNodeSourceCodeLocation(Ge);Mt&&!Mt.endTag&&C._setEndLocation(Ge,k)}}}}function O(C,k){C._setDocumentType(k);const Q=k.forceQuirks?u.DOCUMENT_MODE.QUIRKS:i.getDocumentMode(k);i.isConforming(k)||C._err(k,a.ERR.nonConformingDoctype),C.treeAdapter.setDocumentMode(C.document,Q),C.insertionMode=f.BEFORE_HTML}function D(C,k){C._err(k,a.ERR.missingDoctype,!0),C.treeAdapter.setDocumentMode(C.document,u.DOCUMENT_MODE.QUIRKS),C.insertionMode=f.BEFORE_HTML,C._processToken(k)}function B(C,k){k.tagID===u.TAG_ID.HTML?(C._insertElement(k,u.NS.HTML),C.insertionMode=f.BEFORE_HEAD):F(C,k)}function M(C,k){const Q=k.tagID;(Q===u.TAG_ID.HTML||Q===u.TAG_ID.HEAD||Q===u.TAG_ID.BODY||Q===u.TAG_ID.BR)&&F(C,k)}function F(C,k){C._insertFakeRootElement(),C.insertionMode=f.BEFORE_HEAD,C._processToken(k)}function G(C,k){switch(k.tagID){case u.TAG_ID.HTML:{rt(C,k);break}case u.TAG_ID.HEAD:{C._insertElement(k,u.NS.HTML),C.headElement=C.openElements.current,C.insertionMode=f.IN_HEAD;break}default:P(C,k)}}function $(C,k){const Q=k.tagID;Q===u.TAG_ID.HEAD||Q===u.TAG_ID.BODY||Q===u.TAG_ID.HTML||Q===u.TAG_ID.BR?P(C,k):C._err(k,a.ERR.endTagWithoutMatchingOpenElement)}function P(C,k){C._insertFakeElement(u.TAG_NAMES.HEAD,u.TAG_ID.HEAD),C.headElement=C.openElements.current,C.insertionMode=f.IN_HEAD,C._processToken(k)}function j(C,k){switch(k.tagID){case u.TAG_ID.HTML:{rt(C,k);break}case u.TAG_ID.BASE:case u.TAG_ID.BASEFONT:case u.TAG_ID.BGSOUND:case u.TAG_ID.LINK:case u.TAG_ID.META:{C._appendElement(k,u.NS.HTML),k.ackSelfClosing=!0;break}case u.TAG_ID.TITLE:{C._switchToTextParsing(k,e.TokenizerMode.RCDATA);break}case u.TAG_ID.NOSCRIPT:{C.options.scriptingEnabled?C._switchToTextParsing(k,e.TokenizerMode.RAWTEXT):(C._insertElement(k,u.NS.HTML),C.insertionMode=f.IN_HEAD_NO_SCRIPT);break}case u.TAG_ID.NOFRAMES:case u.TAG_ID.STYLE:{C._switchToTextParsing(k,e.TokenizerMode.RAWTEXT);break}case u.TAG_ID.SCRIPT:{C._switchToTextParsing(k,e.TokenizerMode.SCRIPT_DATA);break}case u.TAG_ID.TEMPLATE:{C._insertTemplate(k),C.activeFormattingElements.insertMarker(),C.framesetOk=!1,C.insertionMode=f.IN_TEMPLATE,C.tmplInsertionModeStack.unshift(f.IN_TEMPLATE);break}case u.TAG_ID.HEAD:{C._err(k,a.ERR.misplacedStartTagForHeadElement);break}default:Z(C,k)}}function W(C,k){switch(k.tagID){case u.TAG_ID.HEAD:{C.openElements.pop(),C.insertionMode=f.AFTER_HEAD;break}case u.TAG_ID.BODY:case u.TAG_ID.BR:case u.TAG_ID.HTML:{Z(C,k);break}case u.TAG_ID.TEMPLATE:{H(C,k);break}default:C._err(k,a.ERR.endTagWithoutMatchingOpenElement)}}function H(C,k){C.openElements.tmplCount>0?(C.openElements.generateImpliedEndTagsThoroughly(),C.openElements.currentTagId!==u.TAG_ID.TEMPLATE&&C._err(k,a.ERR.closingOfElementWithOpenChildElements),C.openElements.popUntilTagNamePopped(u.TAG_ID.TEMPLATE),C.activeFormattingElements.clearToLastMarker(),C.tmplInsertionModeStack.shift(),C._resetInsertionMode()):C._err(k,a.ERR.endTagWithoutMatchingOpenElement)}function Z(C,k){C.openElements.pop(),C.insertionMode=f.AFTER_HEAD,C._processToken(k)}function ee(C,k){switch(k.tagID){case u.TAG_ID.HTML:{rt(C,k);break}case u.TAG_ID.BASEFONT:case u.TAG_ID.BGSOUND:case u.TAG_ID.HEAD:case u.TAG_ID.LINK:case u.TAG_ID.META:case u.TAG_ID.NOFRAMES:case u.TAG_ID.STYLE:{j(C,k);break}case u.TAG_ID.NOSCRIPT:{C._err(k,a.ERR.nestedNoscriptInHead);break}default:_e(C,k)}}function ae(C,k){switch(k.tagID){case u.TAG_ID.NOSCRIPT:{C.openElements.pop(),C.insertionMode=f.IN_HEAD;break}case u.TAG_ID.BR:{_e(C,k);break}default:C._err(k,a.ERR.endTagWithoutMatchingOpenElement)}}function _e(C,k){const Q=k.type===c.TokenType.EOF?a.ERR.openElementsLeftAfterEof:a.ERR.disallowedContentInNoscriptInHead;C._err(k,Q),C.openElements.pop(),C.insertionMode=f.IN_HEAD,C._processToken(k)}function ge(C,k){switch(k.tagID){case u.TAG_ID.HTML:{rt(C,k);break}case u.TAG_ID.BODY:{C._insertElement(k,u.NS.HTML),C.framesetOk=!1,C.insertionMode=f.IN_BODY;break}case u.TAG_ID.FRAMESET:{C._insertElement(k,u.NS.HTML),C.insertionMode=f.IN_FRAMESET;break}case u.TAG_ID.BASE:case u.TAG_ID.BASEFONT:case u.TAG_ID.BGSOUND:case u.TAG_ID.LINK:case u.TAG_ID.META:case u.TAG_ID.NOFRAMES:case u.TAG_ID.SCRIPT:case u.TAG_ID.STYLE:case u.TAG_ID.TEMPLATE:case u.TAG_ID.TITLE:{C._err(k,a.ERR.abandonedHeadElementChild),C.openElements.push(C.headElement,u.TAG_ID.HEAD),j(C,k),C.openElements.remove(C.headElement);break}case u.TAG_ID.HEAD:{C._err(k,a.ERR.misplacedStartTagForHeadElement);break}default:Se(C,k)}}function je(C,k){switch(k.tagID){case u.TAG_ID.BODY:case u.TAG_ID.HTML:case u.TAG_ID.BR:{Se(C,k);break}case u.TAG_ID.TEMPLATE:{H(C,k);break}default:C._err(k,a.ERR.endTagWithoutMatchingOpenElement)}}function Se(C,k){C._insertFakeElement(u.TAG_NAMES.BODY,u.TAG_ID.BODY),C.insertionMode=f.IN_BODY,Ie(C,k)}function Ie(C,k){switch(k.type){case c.TokenType.CHARACTER:{te(C,k);break}case c.TokenType.WHITESPACE_CHARACTER:{qe(C,k);break}case c.TokenType.COMMENT:{L(C,k);break}case c.TokenType.START_TAG:{rt(C,k);break}case c.TokenType.END_TAG:{bn(C,k);break}case c.TokenType.EOF:{wr(C,k);break}}}function qe(C,k){C._reconstructActiveFormattingElements(),C._insertCharacters(k)}function te(C,k){C._reconstructActiveFormattingElements(),C._insertCharacters(k),C.framesetOk=!1}function $e(C,k){C.openElements.tmplCount===0&&C.treeAdapter.adoptAttributes(C.openElements.items[0],k.attrs)}function st(C,k){const Q=C.openElements.tryPeekProperlyNestedBodyElement();Q&&C.openElements.tmplCount===0&&(C.framesetOk=!1,C.treeAdapter.adoptAttributes(Q,k.attrs))}function Rt(C,k){const Q=C.openElements.tryPeekProperlyNestedBodyElement();C.framesetOk&&Q&&(C.treeAdapter.detachNode(Q),C.openElements.popAllUpToHtmlElement(),C._insertElement(k,u.NS.HTML),C.insertionMode=f.IN_FRAMESET)}function yt(C,k){C.openElements.hasInButtonScope(u.TAG_ID.P)&&C._closePElement(),C._insertElement(k,u.NS.HTML)}function xt(C,k){C.openElements.hasInButtonScope(u.TAG_ID.P)&&C._closePElement(),C.openElements.currentTagId!==void 0&&u.NUMBERED_HEADERS.has(C.openElements.currentTagId)&&C.openElements.pop(),C._insertElement(k,u.NS.HTML)}function zt(C,k){C.openElements.hasInButtonScope(u.TAG_ID.P)&&C._closePElement(),C._insertElement(k,u.NS.HTML),C.skipNextNewLine=!0,C.framesetOk=!1}function Re(C,k){const Q=C.openElements.tmplCount>0;(!C.formElement||Q)&&(C.openElements.hasInButtonScope(u.TAG_ID.P)&&C._closePElement(),C._insertElement(k,u.NS.HTML),Q||(C.formElement=C.openElements.current))}function Nt(C,k){C.framesetOk=!1;const Q=k.tagID;for(let se=C.openElements.stackTop;se>=0;se--){const Oe=C.openElements.tagIDs[se];if(Q===u.TAG_ID.LI&&Oe===u.TAG_ID.LI||(Q===u.TAG_ID.DD||Q===u.TAG_ID.DT)&&(Oe===u.TAG_ID.DD||Oe===u.TAG_ID.DT)){C.openElements.generateImpliedEndTagsWithExclusion(Oe),C.openElements.popUntilTagNamePopped(Oe);break}if(Oe!==u.TAG_ID.ADDRESS&&Oe!==u.TAG_ID.DIV&&Oe!==u.TAG_ID.P&&C._isSpecialElement(C.openElements.items[se],Oe))break}C.openElements.hasInButtonScope(u.TAG_ID.P)&&C._closePElement(),C._insertElement(k,u.NS.HTML)}function At(C,k){C.openElements.hasInButtonScope(u.TAG_ID.P)&&C._closePElement(),C._insertElement(k,u.NS.HTML),C.tokenizer.state=e.TokenizerMode.PLAINTEXT}function nt(C,k){C.openElements.hasInScope(u.TAG_ID.BUTTON)&&(C.openElements.generateImpliedEndTags(),C.openElements.popUntilTagNamePopped(u.TAG_ID.BUTTON)),C._reconstructActiveFormattingElements(),C._insertElement(k,u.NS.HTML),C.framesetOk=!1}function Et(C,k){const Q=C.activeFormattingElements.getElementEntryInScopeWithTagName(u.TAG_NAMES.A);Q&&(R(C,k),C.openElements.remove(Q.element),C.activeFormattingElements.removeEntry(Q)),C._reconstructActiveFormattingElements(),C._insertElement(k,u.NS.HTML),C.activeFormattingElements.pushElement(C.openElements.current,k)}function ht(C,k){C._reconstructActiveFormattingElements(),C._insertElement(k,u.NS.HTML),C.activeFormattingElements.pushElement(C.openElements.current,k)}function ie(C,k){C._reconstructActiveFormattingElements(),C.openElements.hasInScope(u.TAG_ID.NOBR)&&(R(C,k),C._reconstructActiveFormattingElements()),C._insertElement(k,u.NS.HTML),C.activeFormattingElements.pushElement(C.openElements.current,k)}function ce(C,k){C._reconstructActiveFormattingElements(),C._insertElement(k,u.NS.HTML),C.activeFormattingElements.insertMarker(),C.framesetOk=!1}function X(C,k){C.treeAdapter.getDocumentMode(C.document)!==u.DOCUMENT_MODE.QUIRKS&&C.openElements.hasInButtonScope(u.TAG_ID.P)&&C._closePElement(),C._insertElement(k,u.NS.HTML),C.framesetOk=!1,C.insertionMode=f.IN_TABLE}function me(C,k){C._reconstructActiveFormattingElements(),C._appendElement(k,u.NS.HTML),C.framesetOk=!1,k.ackSelfClosing=!0}function re(C){const k=(0,c.getTokenAttr)(C,u.ATTRS.TYPE);return k!=null&&k.toLowerCase()===l}function lt(C,k){C._reconstructActiveFormattingElements(),C._appendElement(k,u.NS.HTML),re(k)||(C.framesetOk=!1),k.ackSelfClosing=!0}function Ht(C,k){C._appendElement(k,u.NS.HTML),k.ackSelfClosing=!0}function be(C,k){C.openElements.hasInButtonScope(u.TAG_ID.P)&&C._closePElement(),C._appendElement(k,u.NS.HTML),C.framesetOk=!1,k.ackSelfClosing=!0}function Be(C,k){k.tagName=u.TAG_NAMES.IMG,k.tagID=u.TAG_ID.IMG,me(C,k)}function Ke(C,k){C._insertElement(k,u.NS.HTML),C.skipNextNewLine=!0,C.tokenizer.state=e.TokenizerMode.RCDATA,C.originalInsertionMode=C.insertionMode,C.framesetOk=!1,C.insertionMode=f.TEXT}function at(C,k){C.openElements.hasInButtonScope(u.TAG_ID.P)&&C._closePElement(),C._reconstructActiveFormattingElements(),C.framesetOk=!1,C._switchToTextParsing(k,e.TokenizerMode.RAWTEXT)}function Zt(C,k){C.framesetOk=!1,C._switchToTextParsing(k,e.TokenizerMode.RAWTEXT)}function Je(C,k){C._switchToTextParsing(k,e.TokenizerMode.RAWTEXT)}function er(C,k){C._reconstructActiveFormattingElements(),C._insertElement(k,u.NS.HTML),C.framesetOk=!1,C.insertionMode=C.insertionMode===f.IN_TABLE||C.insertionMode===f.IN_CAPTION||C.insertionMode===f.IN_TABLE_BODY||C.insertionMode===f.IN_ROW||C.insertionMode===f.IN_CELL?f.IN_SELECT_IN_TABLE:f.IN_SELECT}function Un(C,k){C.openElements.currentTagId===u.TAG_ID.OPTION&&C.openElements.pop(),C._reconstructActiveFormattingElements(),C._insertElement(k,u.NS.HTML)}function zn(C,k){C.openElements.hasInScope(u.TAG_ID.RUBY)&&C.openElements.generateImpliedEndTags(),C._insertElement(k,u.NS.HTML)}function tr(C,k){C.openElements.hasInScope(u.TAG_ID.RUBY)&&C.openElements.generateImpliedEndTagsWithExclusion(u.TAG_ID.RTC),C._insertElement(k,u.NS.HTML)}function Nn(C,k){C._reconstructActiveFormattingElements(),s.adjustTokenMathMLAttrs(k),s.adjustTokenXMLAttrs(k),k.selfClosing?C._appendElement(k,u.NS.MATHML):C._insertElement(k,u.NS.MATHML),k.ackSelfClosing=!0}function qn(C,k){C._reconstructActiveFormattingElements(),s.adjustTokenSVGAttrs(k),s.adjustTokenXMLAttrs(k),k.selfClosing?C._appendElement(k,u.NS.SVG):C._insertElement(k,u.NS.SVG),k.ackSelfClosing=!0}function Fr(C,k){C._reconstructActiveFormattingElements(),C._insertElement(k,u.NS.HTML)}function rt(C,k){switch(k.tagID){case u.TAG_ID.I:case u.TAG_ID.S:case u.TAG_ID.B:case u.TAG_ID.U:case u.TAG_ID.EM:case u.TAG_ID.TT:case u.TAG_ID.BIG:case u.TAG_ID.CODE:case u.TAG_ID.FONT:case u.TAG_ID.SMALL:case u.TAG_ID.STRIKE:case u.TAG_ID.STRONG:{ht(C,k);break}case u.TAG_ID.A:{Et(C,k);break}case u.TAG_ID.H1:case u.TAG_ID.H2:case u.TAG_ID.H3:case u.TAG_ID.H4:case u.TAG_ID.H5:case u.TAG_ID.H6:{xt(C,k);break}case u.TAG_ID.P:case u.TAG_ID.DL:case u.TAG_ID.OL:case u.TAG_ID.UL:case u.TAG_ID.DIV:case u.TAG_ID.DIR:case u.TAG_ID.NAV:case u.TAG_ID.MAIN:case u.TAG_ID.MENU:case u.TAG_ID.ASIDE:case u.TAG_ID.CENTER:case u.TAG_ID.FIGURE:case u.TAG_ID.FOOTER:case u.TAG_ID.HEADER:case u.TAG_ID.HGROUP:case u.TAG_ID.DIALOG:case u.TAG_ID.DETAILS:case u.TAG_ID.ADDRESS:case u.TAG_ID.ARTICLE:case u.TAG_ID.SEARCH:case u.TAG_ID.SECTION:case u.TAG_ID.SUMMARY:case u.TAG_ID.FIELDSET:case u.TAG_ID.BLOCKQUOTE:case u.TAG_ID.FIGCAPTION:{yt(C,k);break}case u.TAG_ID.LI:case u.TAG_ID.DD:case u.TAG_ID.DT:{Nt(C,k);break}case u.TAG_ID.BR:case u.TAG_ID.IMG:case u.TAG_ID.WBR:case u.TAG_ID.AREA:case u.TAG_ID.EMBED:case u.TAG_ID.KEYGEN:{me(C,k);break}case u.TAG_ID.HR:{be(C,k);break}case u.TAG_ID.RB:case u.TAG_ID.RTC:{zn(C,k);break}case u.TAG_ID.RT:case u.TAG_ID.RP:{tr(C,k);break}case u.TAG_ID.PRE:case u.TAG_ID.LISTING:{zt(C,k);break}case u.TAG_ID.XMP:{at(C,k);break}case u.TAG_ID.SVG:{qn(C,k);break}case u.TAG_ID.HTML:{$e(C,k);break}case u.TAG_ID.BASE:case u.TAG_ID.LINK:case u.TAG_ID.META:case u.TAG_ID.STYLE:case u.TAG_ID.TITLE:case u.TAG_ID.SCRIPT:case u.TAG_ID.BGSOUND:case u.TAG_ID.BASEFONT:case u.TAG_ID.TEMPLATE:{j(C,k);break}case u.TAG_ID.BODY:{st(C,k);break}case u.TAG_ID.FORM:{Re(C,k);break}case u.TAG_ID.NOBR:{ie(C,k);break}case u.TAG_ID.MATH:{Nn(C,k);break}case u.TAG_ID.TABLE:{X(C,k);break}case u.TAG_ID.INPUT:{lt(C,k);break}case u.TAG_ID.PARAM:case u.TAG_ID.TRACK:case u.TAG_ID.SOURCE:{Ht(C,k);break}case u.TAG_ID.IMAGE:{Be(C,k);break}case u.TAG_ID.BUTTON:{nt(C,k);break}case u.TAG_ID.APPLET:case u.TAG_ID.OBJECT:case u.TAG_ID.MARQUEE:{ce(C,k);break}case u.TAG_ID.IFRAME:{Zt(C,k);break}case u.TAG_ID.SELECT:{er(C,k);break}case u.TAG_ID.OPTION:case u.TAG_ID.OPTGROUP:{Un(C,k);break}case u.TAG_ID.NOEMBED:case u.TAG_ID.NOFRAMES:{Je(C,k);break}case u.TAG_ID.FRAMESET:{Rt(C,k);break}case u.TAG_ID.TEXTAREA:{Ke(C,k);break}case u.TAG_ID.NOSCRIPT:{C.options.scriptingEnabled?Je(C,k):Fr(C,k);break}case u.TAG_ID.PLAINTEXT:{At(C,k);break}case u.TAG_ID.COL:case u.TAG_ID.TH:case u.TAG_ID.TD:case u.TAG_ID.TR:case u.TAG_ID.HEAD:case u.TAG_ID.FRAME:case u.TAG_ID.TBODY:case u.TAG_ID.TFOOT:case u.TAG_ID.THEAD:case u.TAG_ID.CAPTION:case u.TAG_ID.COLGROUP:break;default:Fr(C,k)}}function nr(C,k){if(C.openElements.hasInScope(u.TAG_ID.BODY)&&(C.insertionMode=f.AFTER_BODY,C.options.sourceCodeLocationInfo)){const Q=C.openElements.tryPeekProperlyNestedBodyElement();Q&&C._setEndLocation(Q,k)}}function zi(C,k){C.openElements.hasInScope(u.TAG_ID.BODY)&&(C.insertionMode=f.AFTER_BODY,Ab(C,k))}function Ce(C,k){const Q=k.tagID;C.openElements.hasInScope(Q)&&(C.openElements.generateImpliedEndTags(),C.openElements.popUntilTagNamePopped(Q))}function Me(C){const k=C.openElements.tmplCount>0,{formElement:Q}=C;k||(C.formElement=null),(Q||k)&&C.openElements.hasInScope(u.TAG_ID.FORM)&&(C.openElements.generateImpliedEndTags(),k?C.openElements.popUntilTagNamePopped(u.TAG_ID.FORM):Q&&C.openElements.remove(Q))}function it(C){C.openElements.hasInButtonScope(u.TAG_ID.P)||C._insertFakeElement(u.TAG_NAMES.P,u.TAG_ID.P),C._closePElement()}function ct(C){C.openElements.hasInListItemScope(u.TAG_ID.LI)&&(C.openElements.generateImpliedEndTagsWithExclusion(u.TAG_ID.LI),C.openElements.popUntilTagNamePopped(u.TAG_ID.LI))}function Lt(C,k){const Q=k.tagID;C.openElements.hasInScope(Q)&&(C.openElements.generateImpliedEndTagsWithExclusion(Q),C.openElements.popUntilTagNamePopped(Q))}function rn(C){C.openElements.hasNumberedHeaderInScope()&&(C.openElements.generateImpliedEndTags(),C.openElements.popUntilNumberedHeaderPopped())}function an(C,k){const Q=k.tagID;C.openElements.hasInScope(Q)&&(C.openElements.generateImpliedEndTags(),C.openElements.popUntilTagNamePopped(Q),C.activeFormattingElements.clearToLastMarker())}function Xr(C){C._reconstructActiveFormattingElements(),C._insertFakeElement(u.TAG_NAMES.BR,u.TAG_ID.BR),C.openElements.pop(),C.framesetOk=!1}function gn(C,k){const Q=k.tagName,se=k.tagID;for(let Oe=C.openElements.stackTop;Oe>0;Oe--){const Ge=C.openElements.items[Oe],Mt=C.openElements.tagIDs[Oe];if(se===Mt&&(se!==u.TAG_ID.UNKNOWN||C.treeAdapter.getTagName(Ge)===Q)){C.openElements.generateImpliedEndTagsWithExclusion(se),C.openElements.stackTop>=Oe&&C.openElements.shortenToLength(Oe);break}if(C._isSpecialElement(Ge,Mt))break}}function bn(C,k){switch(k.tagID){case u.TAG_ID.A:case u.TAG_ID.B:case u.TAG_ID.I:case u.TAG_ID.S:case u.TAG_ID.U:case u.TAG_ID.EM:case u.TAG_ID.TT:case u.TAG_ID.BIG:case u.TAG_ID.CODE:case u.TAG_ID.FONT:case u.TAG_ID.NOBR:case u.TAG_ID.SMALL:case u.TAG_ID.STRIKE:case u.TAG_ID.STRONG:{R(C,k);break}case u.TAG_ID.P:{it(C);break}case u.TAG_ID.DL:case u.TAG_ID.UL:case u.TAG_ID.OL:case u.TAG_ID.DIR:case u.TAG_ID.DIV:case u.TAG_ID.NAV:case u.TAG_ID.PRE:case u.TAG_ID.MAIN:case u.TAG_ID.MENU:case u.TAG_ID.ASIDE:case u.TAG_ID.BUTTON:case u.TAG_ID.CENTER:case u.TAG_ID.FIGURE:case u.TAG_ID.FOOTER:case u.TAG_ID.HEADER:case u.TAG_ID.HGROUP:case u.TAG_ID.DIALOG:case u.TAG_ID.ADDRESS:case u.TAG_ID.ARTICLE:case u.TAG_ID.DETAILS:case u.TAG_ID.SEARCH:case u.TAG_ID.SECTION:case u.TAG_ID.SUMMARY:case u.TAG_ID.LISTING:case u.TAG_ID.FIELDSET:case u.TAG_ID.BLOCKQUOTE:case u.TAG_ID.FIGCAPTION:{Ce(C,k);break}case u.TAG_ID.LI:{ct(C);break}case u.TAG_ID.DD:case u.TAG_ID.DT:{Lt(C,k);break}case u.TAG_ID.H1:case u.TAG_ID.H2:case u.TAG_ID.H3:case u.TAG_ID.H4:case u.TAG_ID.H5:case u.TAG_ID.H6:{rn(C);break}case u.TAG_ID.BR:{Xr(C);break}case u.TAG_ID.BODY:{nr(C,k);break}case u.TAG_ID.HTML:{zi(C,k);break}case u.TAG_ID.FORM:{Me(C);break}case u.TAG_ID.APPLET:case u.TAG_ID.OBJECT:case u.TAG_ID.MARQUEE:{an(C,k);break}case u.TAG_ID.TEMPLATE:{H(C,k);break}default:gn(C,k)}}function wr(C,k){C.tmplInsertionModeStack.length>0?xb(C,k):w(C,k)}function Gn(C,k){var Q;k.tagID===u.TAG_ID.SCRIPT&&((Q=C.scriptHandler)===null||Q===void 0||Q.call(C,C.openElements.current)),C.openElements.pop(),C.insertionMode=C.originalInsertionMode}function gi(C,k){C._err(k,a.ERR.eofInElementThatCanContainOnlyText),C.openElements.pop(),C.insertionMode=C.originalInsertionMode,C.onEof(k)}function le(C,k){if(C.openElements.currentTagId!==void 0&&x.has(C.openElements.currentTagId))switch(C.pendingCharacterTokens.length=0,C.hasNonWhitespacePendingCharacterToken=!1,C.originalInsertionMode=C.insertionMode,C.insertionMode=f.IN_TABLE_TEXT,k.type){case c.TokenType.CHARACTER:{J(C,k);break}case c.TokenType.WHITESPACE_CHARACTER:{rr(C,k);break}}else un(C,k)}function ke(C,k){C.openElements.clearBackToTableContext(),C.activeFormattingElements.insertMarker(),C._insertElement(k,u.NS.HTML),C.insertionMode=f.IN_CAPTION}function Ze(C,k){C.openElements.clearBackToTableContext(),C._insertElement(k,u.NS.HTML),C.insertionMode=f.IN_COLUMN_GROUP}function et(C,k){C.openElements.clearBackToTableContext(),C._insertFakeElement(u.TAG_NAMES.COLGROUP,u.TAG_ID.COLGROUP),C.insertionMode=f.IN_COLUMN_GROUP,br(C,k)}function Ne(C,k){C.openElements.clearBackToTableContext(),C._insertElement(k,u.NS.HTML),C.insertionMode=f.IN_TABLE_BODY}function K(C,k){C.openElements.clearBackToTableContext(),C._insertFakeElement(u.TAG_NAMES.TBODY,u.TAG_ID.TBODY),C.insertionMode=f.IN_TABLE_BODY,ru(C,k)}function Ee(C,k){C.openElements.hasInTableScope(u.TAG_ID.TABLE)&&(C.openElements.popUntilTagNamePopped(u.TAG_ID.TABLE),C._resetInsertionMode(),C._processStartTag(k))}function Le(C,k){re(k)?C._appendElement(k,u.NS.HTML):un(C,k),k.ackSelfClosing=!0}function vt(C,k){!C.formElement&&C.openElements.tmplCount===0&&(C._insertElement(k,u.NS.HTML),C.formElement=C.openElements.current,C.openElements.pop())}function Ut(C,k){switch(k.tagID){case u.TAG_ID.TD:case u.TAG_ID.TH:case u.TAG_ID.TR:{K(C,k);break}case u.TAG_ID.STYLE:case u.TAG_ID.SCRIPT:case u.TAG_ID.TEMPLATE:{j(C,k);break}case u.TAG_ID.COL:{et(C,k);break}case u.TAG_ID.FORM:{vt(C,k);break}case u.TAG_ID.TABLE:{Ee(C,k);break}case u.TAG_ID.TBODY:case u.TAG_ID.TFOOT:case u.TAG_ID.THEAD:{Ne(C,k);break}case u.TAG_ID.INPUT:{Le(C,k);break}case u.TAG_ID.CAPTION:{ke(C,k);break}case u.TAG_ID.COLGROUP:{Ze(C,k);break}default:un(C,k)}}function Pt(C,k){switch(k.tagID){case u.TAG_ID.TABLE:{C.openElements.hasInTableScope(u.TAG_ID.TABLE)&&(C.openElements.popUntilTagNamePopped(u.TAG_ID.TABLE),C._resetInsertionMode());break}case u.TAG_ID.TEMPLATE:{H(C,k);break}case u.TAG_ID.BODY:case u.TAG_ID.CAPTION:case u.TAG_ID.COL:case u.TAG_ID.COLGROUP:case u.TAG_ID.HTML:case u.TAG_ID.TBODY:case u.TAG_ID.TD:case u.TAG_ID.TFOOT:case u.TAG_ID.TH:case u.TAG_ID.THEAD:case u.TAG_ID.TR:break;default:un(C,k)}}function un(C,k){const Q=C.fosterParentingEnabled;C.fosterParentingEnabled=!0,Ie(C,k),C.fosterParentingEnabled=Q}function rr(C,k){C.pendingCharacterTokens.push(k)}function J(C,k){C.pendingCharacterTokens.push(k),C.hasNonWhitespacePendingCharacterToken=!0}function fe(C,k){let Q=0;if(C.hasNonWhitespacePendingCharacterToken)for(;Q<C.pendingCharacterTokens.length;Q++)un(C,C.pendingCharacterTokens[Q]);else for(;Q<C.pendingCharacterTokens.length;Q++)C._insertCharacters(C.pendingCharacterTokens[Q]);C.insertionMode=C.originalInsertionMode,C._processToken(k)}const ve=new Set([u.TAG_ID.CAPTION,u.TAG_ID.COL,u.TAG_ID.COLGROUP,u.TAG_ID.TBODY,u.TAG_ID.TD,u.TAG_ID.TFOOT,u.TAG_ID.TH,u.TAG_ID.THEAD,u.TAG_ID.TR]);function Ue(C,k){const Q=k.tagID;ve.has(Q)?C.openElements.hasInTableScope(u.TAG_ID.CAPTION)&&(C.openElements.generateImpliedEndTags(),C.openElements.popUntilTagNamePopped(u.TAG_ID.CAPTION),C.activeFormattingElements.clearToLastMarker(),C.insertionMode=f.IN_TABLE,Ut(C,k)):rt(C,k)}function dt(C,k){const Q=k.tagID;switch(Q){case u.TAG_ID.CAPTION:case u.TAG_ID.TABLE:{C.openElements.hasInTableScope(u.TAG_ID.CAPTION)&&(C.openElements.generateImpliedEndTags(),C.openElements.popUntilTagNamePopped(u.TAG_ID.CAPTION),C.activeFormattingElements.clearToLastMarker(),C.insertionMode=f.IN_TABLE,Q===u.TAG_ID.TABLE&&Pt(C,k));break}case u.TAG_ID.BODY:case u.TAG_ID.COL:case u.TAG_ID.COLGROUP:case u.TAG_ID.HTML:case u.TAG_ID.TBODY:case u.TAG_ID.TD:case u.TAG_ID.TFOOT:case u.TAG_ID.TH:case u.TAG_ID.THEAD:case u.TAG_ID.TR:break;default:bn(C,k)}}function br(C,k){switch(k.tagID){case u.TAG_ID.HTML:{rt(C,k);break}case u.TAG_ID.COL:{C._appendElement(k,u.NS.HTML),k.ackSelfClosing=!0;break}case u.TAG_ID.TEMPLATE:{j(C,k);break}default:nu(C,k)}}function lo(C,k){switch(k.tagID){case u.TAG_ID.COLGROUP:{C.openElements.currentTagId===u.TAG_ID.COLGROUP&&(C.openElements.pop(),C.insertionMode=f.IN_TABLE);break}case u.TAG_ID.TEMPLATE:{H(C,k);break}case u.TAG_ID.COL:break;default:nu(C,k)}}function nu(C,k){C.openElements.currentTagId===u.TAG_ID.COLGROUP&&(C.openElements.pop(),C.insertionMode=f.IN_TABLE,C._processToken(k))}function ru(C,k){switch(k.tagID){case u.TAG_ID.TR:{C.openElements.clearBackToTableBodyContext(),C._insertElement(k,u.NS.HTML),C.insertionMode=f.IN_ROW;break}case u.TAG_ID.TH:case u.TAG_ID.TD:{C.openElements.clearBackToTableBodyContext(),C._insertFakeElement(u.TAG_NAMES.TR,u.TAG_ID.TR),C.insertionMode=f.IN_ROW,iu(C,k);break}case u.TAG_ID.CAPTION:case u.TAG_ID.COL:case u.TAG_ID.COLGROUP:case u.TAG_ID.TBODY:case u.TAG_ID.TFOOT:case u.TAG_ID.THEAD:{C.openElements.hasTableBodyContextInTableScope()&&(C.openElements.clearBackToTableBodyContext(),C.openElements.pop(),C.insertionMode=f.IN_TABLE,Ut(C,k));break}default:Ut(C,k)}}function co(C,k){const Q=k.tagID;switch(k.tagID){case u.TAG_ID.TBODY:case u.TAG_ID.TFOOT:case u.TAG_ID.THEAD:{C.openElements.hasInTableScope(Q)&&(C.openElements.clearBackToTableBodyContext(),C.openElements.pop(),C.insertionMode=f.IN_TABLE);break}case u.TAG_ID.TABLE:{C.openElements.hasTableBodyContextInTableScope()&&(C.openElements.clearBackToTableBodyContext(),C.openElements.pop(),C.insertionMode=f.IN_TABLE,Pt(C,k));break}case u.TAG_ID.BODY:case u.TAG_ID.CAPTION:case u.TAG_ID.COL:case u.TAG_ID.COLGROUP:case u.TAG_ID.HTML:case u.TAG_ID.TD:case u.TAG_ID.TH:case u.TAG_ID.TR:break;default:Pt(C,k)}}function iu(C,k){switch(k.tagID){case u.TAG_ID.TH:case u.TAG_ID.TD:{C.openElements.clearBackToTableRowContext(),C._insertElement(k,u.NS.HTML),C.insertionMode=f.IN_CELL,C.activeFormattingElements.insertMarker();break}case u.TAG_ID.CAPTION:case u.TAG_ID.COL:case u.TAG_ID.COLGROUP:case u.TAG_ID.TBODY:case u.TAG_ID.TFOOT:case u.TAG_ID.THEAD:case u.TAG_ID.TR:{C.openElements.hasInTableScope(u.TAG_ID.TR)&&(C.openElements.clearBackToTableRowContext(),C.openElements.pop(),C.insertionMode=f.IN_TABLE_BODY,ru(C,k));break}default:Ut(C,k)}}function bc(C,k){switch(k.tagID){case u.TAG_ID.TR:{C.openElements.hasInTableScope(u.TAG_ID.TR)&&(C.openElements.clearBackToTableRowContext(),C.openElements.pop(),C.insertionMode=f.IN_TABLE_BODY);break}case u.TAG_ID.TABLE:{C.openElements.hasInTableScope(u.TAG_ID.TR)&&(C.openElements.clearBackToTableRowContext(),C.openElements.pop(),C.insertionMode=f.IN_TABLE_BODY,co(C,k));break}case u.TAG_ID.TBODY:case u.TAG_ID.TFOOT:case u.TAG_ID.THEAD:{(C.openElements.hasInTableScope(k.tagID)||C.openElements.hasInTableScope(u.TAG_ID.TR))&&(C.openElements.clearBackToTableRowContext(),C.openElements.pop(),C.insertionMode=f.IN_TABLE_BODY,co(C,k));break}case u.TAG_ID.BODY:case u.TAG_ID.CAPTION:case u.TAG_ID.COL:case u.TAG_ID.COLGROUP:case u.TAG_ID.HTML:case u.TAG_ID.TD:case u.TAG_ID.TH:break;default:Pt(C,k)}}function E6(C,k){const Q=k.tagID;ve.has(Q)?(C.openElements.hasInTableScope(u.TAG_ID.TD)||C.openElements.hasInTableScope(u.TAG_ID.TH))&&(C._closeTableCell(),iu(C,k)):rt(C,k)}function y6(C,k){const Q=k.tagID;switch(Q){case u.TAG_ID.TD:case u.TAG_ID.TH:{C.openElements.hasInTableScope(Q)&&(C.openElements.generateImpliedEndTags(),C.openElements.popUntilTagNamePopped(Q),C.activeFormattingElements.clearToLastMarker(),C.insertionMode=f.IN_ROW);break}case u.TAG_ID.TABLE:case u.TAG_ID.TBODY:case u.TAG_ID.TFOOT:case u.TAG_ID.THEAD:case u.TAG_ID.TR:{C.openElements.hasInTableScope(Q)&&(C._closeTableCell(),bc(C,k));break}case u.TAG_ID.BODY:case u.TAG_ID.CAPTION:case u.TAG_ID.COL:case u.TAG_ID.COLGROUP:case u.TAG_ID.HTML:break;default:bn(C,k)}}function yb(C,k){switch(k.tagID){case u.TAG_ID.HTML:{rt(C,k);break}case u.TAG_ID.OPTION:{C.openElements.currentTagId===u.TAG_ID.OPTION&&C.openElements.pop(),C._insertElement(k,u.NS.HTML);break}case u.TAG_ID.OPTGROUP:{C.openElements.currentTagId===u.TAG_ID.OPTION&&C.openElements.pop(),C.openElements.currentTagId===u.TAG_ID.OPTGROUP&&C.openElements.pop(),C._insertElement(k,u.NS.HTML);break}case u.TAG_ID.HR:{C.openElements.currentTagId===u.TAG_ID.OPTION&&C.openElements.pop(),C.openElements.currentTagId===u.TAG_ID.OPTGROUP&&C.openElements.pop(),C._appendElement(k,u.NS.HTML),k.ackSelfClosing=!0;break}case u.TAG_ID.INPUT:case u.TAG_ID.KEYGEN:case u.TAG_ID.TEXTAREA:case u.TAG_ID.SELECT:{C.openElements.hasInSelectScope(u.TAG_ID.SELECT)&&(C.openElements.popUntilTagNamePopped(u.TAG_ID.SELECT),C._resetInsertionMode(),k.tagID!==u.TAG_ID.SELECT&&C._processStartTag(k));break}case u.TAG_ID.SCRIPT:case u.TAG_ID.TEMPLATE:{j(C,k);break}}}function _b(C,k){switch(k.tagID){case u.TAG_ID.OPTGROUP:{C.openElements.stackTop>0&&C.openElements.currentTagId===u.TAG_ID.OPTION&&C.openElements.tagIDs[C.openElements.stackTop-1]===u.TAG_ID.OPTGROUP&&C.openElements.pop(),C.openElements.currentTagId===u.TAG_ID.OPTGROUP&&C.openElements.pop();break}case u.TAG_ID.OPTION:{C.openElements.currentTagId===u.TAG_ID.OPTION&&C.openElements.pop();break}case u.TAG_ID.SELECT:{C.openElements.hasInSelectScope(u.TAG_ID.SELECT)&&(C.openElements.popUntilTagNamePopped(u.TAG_ID.SELECT),C._resetInsertionMode());break}case u.TAG_ID.TEMPLATE:{H(C,k);break}}}function _6(C,k){const Q=k.tagID;Q===u.TAG_ID.CAPTION||Q===u.TAG_ID.TABLE||Q===u.TAG_ID.TBODY||Q===u.TAG_ID.TFOOT||Q===u.TAG_ID.THEAD||Q===u.TAG_ID.TR||Q===u.TAG_ID.TD||Q===u.TAG_ID.TH?(C.openElements.popUntilTagNamePopped(u.TAG_ID.SELECT),C._resetInsertionMode(),C._processStartTag(k)):yb(C,k)}function x6(C,k){const Q=k.tagID;Q===u.TAG_ID.CAPTION||Q===u.TAG_ID.TABLE||Q===u.TAG_ID.TBODY||Q===u.TAG_ID.TFOOT||Q===u.TAG_ID.THEAD||Q===u.TAG_ID.TR||Q===u.TAG_ID.TD||Q===u.TAG_ID.TH?C.openElements.hasInTableScope(Q)&&(C.openElements.popUntilTagNamePopped(u.TAG_ID.SELECT),C._resetInsertionMode(),C.onEndTag(k)):_b(C,k)}function A6(C,k){switch(k.tagID){case u.TAG_ID.BASE:case u.TAG_ID.BASEFONT:case u.TAG_ID.BGSOUND:case u.TAG_ID.LINK:case u.TAG_ID.META:case u.TAG_ID.NOFRAMES:case u.TAG_ID.SCRIPT:case u.TAG_ID.STYLE:case u.TAG_ID.TEMPLATE:case u.TAG_ID.TITLE:{j(C,k);break}case u.TAG_ID.CAPTION:case u.TAG_ID.COLGROUP:case u.TAG_ID.TBODY:case u.TAG_ID.TFOOT:case u.TAG_ID.THEAD:{C.tmplInsertionModeStack[0]=f.IN_TABLE,C.insertionMode=f.IN_TABLE,Ut(C,k);break}case u.TAG_ID.COL:{C.tmplInsertionModeStack[0]=f.IN_COLUMN_GROUP,C.insertionMode=f.IN_COLUMN_GROUP,br(C,k);break}case u.TAG_ID.TR:{C.tmplInsertionModeStack[0]=f.IN_TABLE_BODY,C.insertionMode=f.IN_TABLE_BODY,ru(C,k);break}case u.TAG_ID.TD:case u.TAG_ID.TH:{C.tmplInsertionModeStack[0]=f.IN_ROW,C.insertionMode=f.IN_ROW,iu(C,k);break}default:C.tmplInsertionModeStack[0]=f.IN_BODY,C.insertionMode=f.IN_BODY,rt(C,k)}}function C6(C,k){k.tagID===u.TAG_ID.TEMPLATE&&H(C,k)}function xb(C,k){C.openElements.tmplCount>0?(C.openElements.popUntilTagNamePopped(u.TAG_ID.TEMPLATE),C.activeFormattingElements.clearToLastMarker(),C.tmplInsertionModeStack.shift(),C._resetInsertionMode(),C.onEof(k)):w(C,k)}function S6(C,k){k.tagID===u.TAG_ID.HTML?rt(C,k):Tc(C,k)}function Ab(C,k){var Q;if(k.tagID===u.TAG_ID.HTML){if(C.fragmentContext||(C.insertionMode=f.AFTER_AFTER_BODY),C.options.sourceCodeLocationInfo&&C.openElements.tagIDs[0]===u.TAG_ID.HTML){C._setEndLocation(C.openElements.items[0],k);const se=C.openElements.items[1];se&&!(!((Q=C.treeAdapter.getNodeSourceCodeLocation(se))===null||Q===void 0)&&Q.endTag)&&C._setEndLocation(se,k)}}else Tc(C,k)}function Tc(C,k){C.insertionMode=f.IN_BODY,Ie(C,k)}function N6(C,k){switch(k.tagID){case u.TAG_ID.HTML:{rt(C,k);break}case u.TAG_ID.FRAMESET:{C._insertElement(k,u.NS.HTML);break}case u.TAG_ID.FRAME:{C._appendElement(k,u.NS.HTML),k.ackSelfClosing=!0;break}case u.TAG_ID.NOFRAMES:{j(C,k);break}}}function v6(C,k){k.tagID===u.TAG_ID.FRAMESET&&!C.openElements.isRootHtmlElementCurrent()&&(C.openElements.pop(),!C.fragmentContext&&C.openElements.currentTagId!==u.TAG_ID.FRAMESET&&(C.insertionMode=f.AFTER_FRAMESET))}function w6(C,k){switch(k.tagID){case u.TAG_ID.HTML:{rt(C,k);break}case u.TAG_ID.NOFRAMES:{j(C,k);break}}}function I6(C,k){k.tagID===u.TAG_ID.HTML&&(C.insertionMode=f.AFTER_AFTER_FRAMESET)}function k6(C,k){k.tagID===u.TAG_ID.HTML?rt(C,k):Ec(C,k)}function Ec(C,k){C.insertionMode=f.IN_BODY,Ie(C,k)}function O6(C,k){switch(k.tagID){case u.TAG_ID.HTML:{rt(C,k);break}case u.TAG_ID.NOFRAMES:{j(C,k);break}}}function D6(C,k){k.chars=o.REPLACEMENT_CHARACTER,C._insertCharacters(k)}function R6(C,k){C._insertCharacters(k),C.framesetOk=!1}function Cb(C){for(;C.treeAdapter.getNamespaceURI(C.openElements.current)!==u.NS.HTML&&C.openElements.currentTagId!==void 0&&!C._isIntegrationPoint(C.openElements.currentTagId,C.openElements.current);)C.openElements.pop()}function L6(C,k){if(s.causesExit(k))Cb(C),C._startTagOutsideForeignContent(k);else{const Q=C._getAdjustedCurrentElement(),se=C.treeAdapter.getNamespaceURI(Q);se===u.NS.MATHML?s.adjustTokenMathMLAttrs(k):se===u.NS.SVG&&(s.adjustTokenSVGTagName(k),s.adjustTokenSVGAttrs(k)),s.adjustTokenXMLAttrs(k),k.selfClosing?C._appendElement(k,se):C._insertElement(k,se),k.ackSelfClosing=!0}}function P6(C,k){if(k.tagID===u.TAG_ID.P||k.tagID===u.TAG_ID.BR){Cb(C),C._endTagOutsideForeignContent(k);return}for(let Q=C.openElements.stackTop;Q>0;Q--){const se=C.openElements.items[Q];if(C.treeAdapter.getNamespaceURI(se)===u.NS.HTML){C._endTagOutsideForeignContent(k);break}const Oe=C.treeAdapter.getTagName(se);if(Oe.toLowerCase()===k.tagName){k.tagName=Oe,C.openElements.shortenToLength(Q);break}}}return Lo}var Uo={},Tp={},r_;function sX(){return r_||(r_=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.getCodePoint=e.xmlReplacer=void 0,e.encodeXML=n,e.xmlReplacer=/["$&'<>\u0080-\uFFFF]/g;const t=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);e.getCodePoint=String.prototype.codePointAt==null?(i,s)=>(i.charCodeAt(s)&64512)===55296?(i.charCodeAt(s)-55296)*1024+i.charCodeAt(s+1)-56320+65536:i.charCodeAt(s):(i,s)=>i.codePointAt(s);function n(i){let s="",a=0,o;for(;(o=e.xmlReplacer.exec(i))!==null;){const{index:u}=o,c=i.charCodeAt(u),l=t.get(c);l===void 0?(s+=`${i.substring(a,u)}&#x${(0,e.getCodePoint)(i,u).toString(16)};`,a=e.xmlReplacer.lastIndex+=+((c&64512)===55296)):(s+=i.substring(a,u)+l,a=u+1)}return s+i.substr(a)}e.escape=n;function r(i,s){return function(o){let u,c=0,l="";for(;u=i.exec(o);)c!==u.index&&(l+=o.substring(c,u.index)),l+=s.get(u[0].charCodeAt(0)),c=u.index+1;return l+o.substring(c)}}e.escapeUTF8=r(/["&'<>]/g,t),e.escapeAttribute=r(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),e.escapeText=r(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(Tp)),Tp}var i_;function aX(){if(i_)return Uo;i_=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.serialize=a,Uo.serializeOuter=o;const e=na(),t=sX(),n=cb(),r=new Set([e.TAG_NAMES.AREA,e.TAG_NAMES.BASE,e.TAG_NAMES.BASEFONT,e.TAG_NAMES.BGSOUND,e.TAG_NAMES.BR,e.TAG_NAMES.COL,e.TAG_NAMES.EMBED,e.TAG_NAMES.FRAME,e.TAG_NAMES.HR,e.TAG_NAMES.IMG,e.TAG_NAMES.INPUT,e.TAG_NAMES.KEYGEN,e.TAG_NAMES.LINK,e.TAG_NAMES.META,e.TAG_NAMES.PARAM,e.TAG_NAMES.SOURCE,e.TAG_NAMES.TRACK,e.TAG_NAMES.WBR]);function i(x,_){return _.treeAdapter.isElementNode(x)&&_.treeAdapter.getNamespaceURI(x)===e.NS.HTML&&r.has(_.treeAdapter.getTagName(x))}const s={treeAdapter:n.defaultTreeAdapter,scriptingEnabled:!0};function a(x,_){const b=Object.assign(Object.assign({},s),_);return i(x,b)?"":u(x,b)}function o(x,_){const b=Object.assign(Object.assign({},s),_);return c(x,b)}function u(x,_){let b="";const T=_.treeAdapter.isElementNode(x)&&_.treeAdapter.getTagName(x)===e.TAG_NAMES.TEMPLATE&&_.treeAdapter.getNamespaceURI(x)===e.NS.HTML?_.treeAdapter.getTemplateContent(x):x,N=_.treeAdapter.getChildNodes(T);if(N)for(const g of N)b+=c(g,_);return b}function c(x,_){return _.treeAdapter.isElementNode(x)?l(x,_):_.treeAdapter.isTextNode(x)?h(x,_):_.treeAdapter.isCommentNode(x)?f(x,_):_.treeAdapter.isDocumentTypeNode(x)?p(x,_):""}function l(x,_){const b=_.treeAdapter.getTagName(x);return`<${b}${d(x,_)}>${i(x,_)?"":`${u(x,_)}</${b}>`}`}function d(x,{treeAdapter:_}){let b="";for(const T of _.getAttrList(x)){if(b+=" ",T.namespace)switch(T.namespace){case e.NS.XML:{b+=`xml:${T.name}`;break}case e.NS.XMLNS:{T.name!=="xmlns"&&(b+="xmlns:"),b+=T.name;break}case e.NS.XLINK:{b+=`xlink:${T.name}`;break}default:b+=`${T.prefix}:${T.name}`}else b+=T.name;b+=`="${(0,t.escapeAttribute)(T.value)}"`}return b}function h(x,_){const{treeAdapter:b}=_,T=b.getTextNodeContent(x),N=b.getParentNode(x),g=N&&b.isElementNode(N)&&b.getTagName(N);return g&&b.getNamespaceURI(N)===e.NS.HTML&&(0,e.hasUnescapedText)(g,_.scriptingEnabled)?T:(0,t.escapeText)(T)}function f(x,{treeAdapter:_}){return`<!--${_.getCommentNodeContent(x)}-->`}function p(x,{treeAdapter:_}){return`<!DOCTYPE ${_.getDocumentTypeNodeName(x)}>`}return Uo}var s_;function i6(){return s_||(s_=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizerMode=e.Tokenizer=e.Token=e.html=e.foreignContent=e.ErrorCodes=e.serializeOuter=e.serialize=e.Parser=e.defaultTreeAdapter=void 0,e.parse=o,e.parseFragment=u;const t=n_();var n=cb();Object.defineProperty(e,"defaultTreeAdapter",{enumerable:!0,get:function(){return n.defaultTreeAdapter}});var r=n_();Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return r.Parser}});var i=aX();Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return i.serialize}}),Object.defineProperty(e,"serializeOuter",{enumerable:!0,get:function(){return i.serializeOuter}});var s=Dh();Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return s.ERR}}),e.foreignContent=r6(),e.html=na(),e.Token=lb();var a=n6();Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return a.Tokenizer}}),Object.defineProperty(e,"TokenizerMode",{enumerable:!0,get:function(){return a.TokenizerMode}});function o(c,l){return t.Parser.parse(c,l)}function u(c,l,d){typeof c=="string"&&(d=l,l=c,c=null);const h=t.Parser.getFragmentParser(c,d);return h.tokenizer.write(l,!0),h.getFragment()}})(hp)),hp}var Ep={},a_;function uX(){return a_||(a_=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.adapter=void 0,e.serializeDoctypeContent=i;const t=i6(),n=gr();function r(s){const a=s.includes('"')?"'":'"';return a+s+a}function i(s,a,o){let u="!DOCTYPE ";return s&&(u+=s),a?u+=` PUBLIC ${r(a)}`:o&&(u+=" SYSTEM"),o&&(u+=` ${r(o)}`),u}e.adapter={isCommentNode:n.isComment,isElementNode:n.isTag,isTextNode:n.isText,createDocument(){const s=new n.Document([]);return s["x-mode"]=t.html.DOCUMENT_MODE.NO_QUIRKS,s},createDocumentFragment(){return new n.Document([])},createElement(s,a,o){const u=Object.create(null),c=Object.create(null),l=Object.create(null);for(let h=0;h<o.length;h++){const f=o[h].name;u[f]=o[h].value,c[f]=o[h].namespace,l[f]=o[h].prefix}const d=new n.Element(s,u,[]);return d.namespace=a,d["x-attribsNamespace"]=c,d["x-attribsPrefix"]=l,d},createCommentNode(s){return new n.Comment(s)},createTextNode(s){return new n.Text(s)},appendChild(s,a){const o=s.children[s.children.length-1];o&&(o.next=a,a.prev=o),s.children.push(a),a.parent=s},insertBefore(s,a,o){const u=s.children.indexOf(o),{prev:c}=o;c&&(c.next=a,a.prev=c),o.prev=a,a.next=o,s.children.splice(u,0,a),a.parent=s},setTemplateContent(s,a){e.adapter.appendChild(s,a)},getTemplateContent(s){return s.children[0]},setDocumentType(s,a,o,u){const c=i(a,o,u);let l=s.children.find(d=>(0,n.isDirective)(d)&&d.name==="!doctype");l?l.data=c!=null?c:null:(l=new n.ProcessingInstruction("!doctype",c),e.adapter.appendChild(s,l)),l["x-name"]=a,l["x-publicId"]=o,l["x-systemId"]=u},setDocumentMode(s,a){s["x-mode"]=a},getDocumentMode(s){return s["x-mode"]},detachNode(s){if(s.parent){const a=s.parent.children.indexOf(s),{prev:o,next:u}=s;s.prev=null,s.next=null,o&&(o.next=u),u&&(u.prev=o),s.parent.children.splice(a,1),s.parent=null}},insertText(s,a){const o=s.children[s.children.length-1];o&&(0,n.isText)(o)?o.data+=a:e.adapter.appendChild(s,e.adapter.createTextNode(a))},insertTextBefore(s,a,o){const u=s.children[s.children.indexOf(o)-1];u&&(0,n.isText)(u)?u.data+=a:e.adapter.insertBefore(s,e.adapter.createTextNode(a),o)},adoptAttributes(s,a){for(let o=0;o<a.length;o++){const u=a[o].name;s.attribs[u]===void 0&&(s.attribs[u]=a[o].value,s["x-attribsNamespace"][u]=a[o].namespace,s["x-attribsPrefix"][u]=a[o].prefix)}},getFirstChild(s){return s.children[0]},getChildNodes(s){return s.children},getParentNode(s){return s.parent},getAttrList(s){return s.attributes},getTagName(s){return s.name},getNamespaceURI(s){return s.namespace},getTextNodeContent(s){return s.data},getCommentNodeContent(s){return s.data},getDocumentTypeNodeName(s){var a;return(a=s["x-name"])!==null&&a!==void 0?a:""},getDocumentTypeNodePublicId(s){var a;return(a=s["x-publicId"])!==null&&a!==void 0?a:""},getDocumentTypeNodeSystemId(s){var a;return(a=s["x-systemId"])!==null&&a!==void 0?a:""},isDocumentTypeNode(s){return(0,n.isDirective)(s)&&s.name==="!doctype"},setNodeSourceCodeLocation(s,a){a&&(s.startIndex=a.startOffset,s.endIndex=a.endOffset),s.sourceCodeLocation=a},getNodeSourceCodeLocation(s){return s.sourceCodeLocation},updateNodeSourceCodeLocation(s,a){a.endOffset!=null&&(s.endIndex=a.endOffset),s.sourceCodeLocation=Object.assign(Object.assign({},s.sourceCodeLocation),a)}}})(Ep)),Ep}var u_;function oX(){if(u_)return Xi;u_=1;var e=Xi&&Xi.__spreadArray||function(o,u,c){if(c||arguments.length===2)for(var l=0,d=u.length,h;l<d;l++)(h||!(l in u))&&(h||(h=Array.prototype.slice.call(u,0,l)),h[l]=u[l]);return o.concat(h||Array.prototype.slice.call(u))};Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.renderWithParse5=Xi.parseWithParse5=void 0;var t=gr(),n=i6(),r=uX();function i(o,u,c,l){var d={scriptingEnabled:typeof u.scriptingEnabled=="boolean"?u.scriptingEnabled:!0,treeAdapter:r.adapter,sourceCodeLocationInfo:u.sourceCodeLocationInfo};return c?(0,n.parse)(o,d):(0,n.parseFragment)(l,o,d)}Xi.parseWithParse5=i;var s={treeAdapter:r.adapter};function a(o){for(var u,c=("length"in o)?o:[o],l=0;l<c.length;l+=1){var d=c[l];(0,t.isDocument)(d)&&(u=Array.prototype.splice).call.apply(u,e([c,l,1],d.children,!1))}for(var h="",l=0;l<c.length;l+=1){var d=c[l];h+=(0,n.serializeOuter)(d,s)}return h}return Xi.renderWithParse5=a,Xi}var ni={},ri={},yp={},o_;function s6(){return o_||(o_=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var t=Uf(),n;(function(h){h[h.Tab=9]="Tab",h[h.NewLine=10]="NewLine",h[h.FormFeed=12]="FormFeed",h[h.CarriageReturn=13]="CarriageReturn",h[h.Space=32]="Space",h[h.ExclamationMark=33]="ExclamationMark",h[h.Number=35]="Number",h[h.Amp=38]="Amp",h[h.SingleQuote=39]="SingleQuote",h[h.DoubleQuote=34]="DoubleQuote",h[h.Dash=45]="Dash",h[h.Slash=47]="Slash",h[h.Zero=48]="Zero",h[h.Nine=57]="Nine",h[h.Semi=59]="Semi",h[h.Lt=60]="Lt",h[h.Eq=61]="Eq",h[h.Gt=62]="Gt",h[h.Questionmark=63]="Questionmark",h[h.UpperA=65]="UpperA",h[h.LowerA=97]="LowerA",h[h.UpperF=70]="UpperF",h[h.LowerF=102]="LowerF",h[h.UpperZ=90]="UpperZ",h[h.LowerZ=122]="LowerZ",h[h.LowerX=120]="LowerX",h[h.OpeningSquareBracket=91]="OpeningSquareBracket"})(n||(n={}));var r;(function(h){h[h.Text=1]="Text",h[h.BeforeTagName=2]="BeforeTagName",h[h.InTagName=3]="InTagName",h[h.InSelfClosingTag=4]="InSelfClosingTag",h[h.BeforeClosingTagName=5]="BeforeClosingTagName",h[h.InClosingTagName=6]="InClosingTagName",h[h.AfterClosingTagName=7]="AfterClosingTagName",h[h.BeforeAttributeName=8]="BeforeAttributeName",h[h.InAttributeName=9]="InAttributeName",h[h.AfterAttributeName=10]="AfterAttributeName",h[h.BeforeAttributeValue=11]="BeforeAttributeValue",h[h.InAttributeValueDq=12]="InAttributeValueDq",h[h.InAttributeValueSq=13]="InAttributeValueSq",h[h.InAttributeValueNq=14]="InAttributeValueNq",h[h.BeforeDeclaration=15]="BeforeDeclaration",h[h.InDeclaration=16]="InDeclaration",h[h.InProcessingInstruction=17]="InProcessingInstruction",h[h.BeforeComment=18]="BeforeComment",h[h.CDATASequence=19]="CDATASequence",h[h.InSpecialComment=20]="InSpecialComment",h[h.InCommentLike=21]="InCommentLike",h[h.BeforeSpecialS=22]="BeforeSpecialS",h[h.SpecialStartSequence=23]="SpecialStartSequence",h[h.InSpecialTag=24]="InSpecialTag",h[h.BeforeEntity=25]="BeforeEntity",h[h.BeforeNumericEntity=26]="BeforeNumericEntity",h[h.InNamedEntity=27]="InNamedEntity",h[h.InNumericEntity=28]="InNumericEntity",h[h.InHexEntity=29]="InHexEntity"})(r||(r={}));function i(h){return h===n.Space||h===n.NewLine||h===n.Tab||h===n.FormFeed||h===n.CarriageReturn}function s(h){return h===n.Slash||h===n.Gt||i(h)}function a(h){return h>=n.Zero&&h<=n.Nine}function o(h){return h>=n.LowerA&&h<=n.LowerZ||h>=n.UpperA&&h<=n.UpperZ}function u(h){return h>=n.UpperA&&h<=n.UpperF||h>=n.LowerA&&h<=n.LowerF}var c;(function(h){h[h.NoValue=0]="NoValue",h[h.Unquoted=1]="Unquoted",h[h.Single=2]="Single",h[h.Double=3]="Double"})(c=e.QuoteType||(e.QuoteType={}));var l={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},d=(function(){function h(f,p){var x=f.xmlMode,_=x===void 0?!1:x,b=f.decodeEntities,T=b===void 0?!0:b;this.cbs=p,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=_,this.decodeEntities=T,this.entityTrie=_?t.xmlDecodeTree:t.htmlDecodeTree}return h.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},h.prototype.write=function(f){this.offset+=this.buffer.length,this.buffer=f,this.parse()},h.prototype.end=function(){this.running&&this.finish()},h.prototype.pause=function(){this.running=!1},h.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},h.prototype.getIndex=function(){return this.index},h.prototype.getSectionStart=function(){return this.sectionStart},h.prototype.stateText=function(f){f===n.Lt||!this.decodeEntities&&this.fastForwardTo(n.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&f===n.Amp&&(this.state=r.BeforeEntity)},h.prototype.stateSpecialStartSequence=function(f){var p=this.sequenceIndex===this.currentSequence.length,x=p?s(f):(f|32)===this.currentSequence[this.sequenceIndex];if(!x)this.isSpecial=!1;else if(!p){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(f)},h.prototype.stateInSpecialTag=function(f){if(this.sequenceIndex===this.currentSequence.length){if(f===n.Gt||i(f)){var p=this.index-this.currentSequence.length;if(this.sectionStart<p){var x=this.index;this.index=p,this.cbs.ontext(this.sectionStart,p),this.index=x}this.isSpecial=!1,this.sectionStart=p+2,this.stateInClosingTagName(f);return}this.sequenceIndex=0}(f|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===l.TitleEnd?this.decodeEntities&&f===n.Amp&&(this.state=r.BeforeEntity):this.fastForwardTo(n.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(f===n.Lt)},h.prototype.stateCDATASequence=function(f){f===l.Cdata[this.sequenceIndex]?++this.sequenceIndex===l.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=l.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(f))},h.prototype.fastForwardTo=function(f){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===f)return!0;return this.index=this.buffer.length+this.offset-1,!1},h.prototype.stateInCommentLike=function(f){f===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):f!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},h.prototype.isTagStartChar=function(f){return this.xmlMode?!s(f):o(f)},h.prototype.startSpecial=function(f,p){this.isSpecial=!0,this.currentSequence=f,this.sequenceIndex=p,this.state=r.SpecialStartSequence},h.prototype.stateBeforeTagName=function(f){if(f===n.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(f===n.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(f)){var p=f|32;this.sectionStart=this.index,!this.xmlMode&&p===l.TitleEnd[2]?this.startSpecial(l.TitleEnd,3):this.state=!this.xmlMode&&p===l.ScriptEnd[2]?r.BeforeSpecialS:r.InTagName}else f===n.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(f))},h.prototype.stateInTagName=function(f){s(f)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(f))},h.prototype.stateBeforeClosingTagName=function(f){i(f)||(f===n.Gt?this.state=r.Text:(this.state=this.isTagStartChar(f)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},h.prototype.stateInClosingTagName=function(f){(f===n.Gt||i(f))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(f))},h.prototype.stateAfterClosingTagName=function(f){(f===n.Gt||this.fastForwardTo(n.Gt))&&(this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeAttributeName=function(f){f===n.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.baseState=this.state,this.sectionStart=this.index+1):f===n.Slash?this.state=r.InSelfClosingTag:i(f)||(this.state=r.InAttributeName,this.sectionStart=this.index)},h.prototype.stateInSelfClosingTag=function(f){f===n.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):i(f)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(f))},h.prototype.stateInAttributeName=function(f){(f===n.Eq||s(f))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterAttributeName,this.stateAfterAttributeName(f))},h.prototype.stateAfterAttributeName=function(f){f===n.Eq?this.state=r.BeforeAttributeValue:f===n.Slash||f===n.Gt?(this.cbs.onattribend(c.NoValue,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(f)):i(f)||(this.cbs.onattribend(c.NoValue,this.index),this.state=r.InAttributeName,this.sectionStart=this.index)},h.prototype.stateBeforeAttributeValue=function(f){f===n.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):f===n.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):i(f)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(f))},h.prototype.handleInAttributeValue=function(f,p){f===p||!this.decodeEntities&&this.fastForwardTo(p)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(p===n.DoubleQuote?c.Double:c.Single,this.index),this.state=r.BeforeAttributeName):this.decodeEntities&&f===n.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},h.prototype.stateInAttributeValueDoubleQuotes=function(f){this.handleInAttributeValue(f,n.DoubleQuote)},h.prototype.stateInAttributeValueSingleQuotes=function(f){this.handleInAttributeValue(f,n.SingleQuote)},h.prototype.stateInAttributeValueNoQuotes=function(f){i(f)||f===n.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(c.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(f)):this.decodeEntities&&f===n.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},h.prototype.stateBeforeDeclaration=function(f){f===n.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=f===n.Dash?r.BeforeComment:r.InDeclaration},h.prototype.stateInDeclaration=function(f){(f===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},h.prototype.stateInProcessingInstruction=function(f){(f===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeComment=function(f){f===n.Dash?(this.state=r.InCommentLike,this.currentSequence=l.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},h.prototype.stateInSpecialComment=function(f){(f===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeSpecialS=function(f){var p=f|32;p===l.ScriptEnd[3]?this.startSpecial(l.ScriptEnd,4):p===l.StyleEnd[3]?this.startSpecial(l.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(f))},h.prototype.stateBeforeEntity=function(f){this.entityExcess=1,this.entityResult=0,f===n.Number?this.state=r.BeforeNumericEntity:f===n.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=r.InNamedEntity,this.stateInNamedEntity(f))},h.prototype.stateInNamedEntity=function(f){if(this.entityExcess+=1,this.trieIndex=(0,t.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,f),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var p=this.trieCurrent&t.BinTrieFlags.VALUE_LENGTH;if(p){var x=(p>>14)-1;if(!this.allowLegacyEntity()&&f!==n.Semi)this.trieIndex+=x;else{var _=this.index-this.entityExcess+1;_>this.sectionStart&&this.emitPartial(this.sectionStart,_),this.entityResult=this.trieIndex,this.trieIndex+=x,this.entityExcess=0,this.sectionStart=this.index+1,x===0&&this.emitNamedEntity()}}},h.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var f=(this.entityTrie[this.entityResult]&t.BinTrieFlags.VALUE_LENGTH)>>14;switch(f){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~t.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},h.prototype.stateBeforeNumericEntity=function(f){(f|32)===n.LowerX?(this.entityExcess++,this.state=r.InHexEntity):(this.state=r.InNumericEntity,this.stateInNumericEntity(f))},h.prototype.emitNumericEntity=function(f){var p=this.index-this.entityExcess-1,x=p+2+ +(this.state===r.InHexEntity);x!==this.index&&(p>this.sectionStart&&this.emitPartial(this.sectionStart,p),this.sectionStart=this.index+Number(f),this.emitCodePoint((0,t.replaceCodePoint)(this.entityResult))),this.state=this.baseState},h.prototype.stateInNumericEntity=function(f){f===n.Semi?this.emitNumericEntity(!0):a(f)?(this.entityResult=this.entityResult*10+(f-n.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.stateInHexEntity=function(f){f===n.Semi?this.emitNumericEntity(!0):a(f)?(this.entityResult=this.entityResult*16+(f-n.Zero),this.entityExcess++):u(f)?(this.entityResult=this.entityResult*16+((f|32)-n.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===r.Text||this.baseState===r.InSpecialTag)},h.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===r.InAttributeValueDq||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},h.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},h.prototype.parse=function(){for(;this.shouldContinue();){var f=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case r.Text:{this.stateText(f);break}case r.SpecialStartSequence:{this.stateSpecialStartSequence(f);break}case r.InSpecialTag:{this.stateInSpecialTag(f);break}case r.CDATASequence:{this.stateCDATASequence(f);break}case r.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(f);break}case r.InAttributeName:{this.stateInAttributeName(f);break}case r.InCommentLike:{this.stateInCommentLike(f);break}case r.InSpecialComment:{this.stateInSpecialComment(f);break}case r.BeforeAttributeName:{this.stateBeforeAttributeName(f);break}case r.InTagName:{this.stateInTagName(f);break}case r.InClosingTagName:{this.stateInClosingTagName(f);break}case r.BeforeTagName:{this.stateBeforeTagName(f);break}case r.AfterAttributeName:{this.stateAfterAttributeName(f);break}case r.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(f);break}case r.BeforeAttributeValue:{this.stateBeforeAttributeValue(f);break}case r.BeforeClosingTagName:{this.stateBeforeClosingTagName(f);break}case r.AfterClosingTagName:{this.stateAfterClosingTagName(f);break}case r.BeforeSpecialS:{this.stateBeforeSpecialS(f);break}case r.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(f);break}case r.InSelfClosingTag:{this.stateInSelfClosingTag(f);break}case r.InDeclaration:{this.stateInDeclaration(f);break}case r.BeforeDeclaration:{this.stateBeforeDeclaration(f);break}case r.BeforeComment:{this.stateBeforeComment(f);break}case r.InProcessingInstruction:{this.stateInProcessingInstruction(f);break}case r.InNamedEntity:{this.stateInNamedEntity(f);break}case r.BeforeEntity:{this.stateBeforeEntity(f);break}case r.InHexEntity:{this.stateInHexEntity(f);break}case r.InNumericEntity:{this.stateInNumericEntity(f);break}default:this.stateBeforeNumericEntity(f)}this.index++}this.cleanup()},h.prototype.finish=function(){this.state===r.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},h.prototype.handleTrailingData=function(){var f=this.buffer.length+this.offset;this.state===r.InCommentLike?this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,f,0):this.cbs.oncomment(this.sectionStart,f,0):this.state===r.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,f)},h.prototype.emitPartial=function(f,p){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribdata(f,p):this.cbs.ontext(f,p)},h.prototype.emitCodePoint=function(f){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribentity(f):this.cbs.ontextentity(f)},h})();e.default=d})(yp)),yp}var l_;function c_(){if(l_)return ri;l_=1;var e=ri&&ri.__createBinding||(Object.create?(function(_,b,T,N){N===void 0&&(N=T);var g=Object.getOwnPropertyDescriptor(b,T);(!g||("get"in g?!b.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return b[T]}}),Object.defineProperty(_,N,g)}):(function(_,b,T,N){N===void 0&&(N=T),_[N]=b[T]})),t=ri&&ri.__setModuleDefault||(Object.create?(function(_,b){Object.defineProperty(_,"default",{enumerable:!0,value:b})}):function(_,b){_.default=b}),n=ri&&ri.__importStar||function(_){if(_&&_.__esModule)return _;var b={};if(_!=null)for(var T in _)T!=="default"&&Object.prototype.hasOwnProperty.call(_,T)&&e(b,_,T);return t(b,_),b};Object.defineProperty(ri,"__esModule",{value:!0}),ri.Parser=void 0;var r=n(s6()),i=Uf(),s=new Set(["input","option","optgroup","select","button","datalist","textarea"]),a=new Set(["p"]),o=new Set(["thead","tbody"]),u=new Set(["dd","dt"]),c=new Set(["rt","rp"]),l=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",a],["h1",a],["h2",a],["h3",a],["h4",a],["h5",a],["h6",a],["select",s],["input",s],["output",s],["button",s],["datalist",s],["textarea",s],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",u],["dt",u],["address",a],["article",a],["aside",a],["blockquote",a],["details",a],["div",a],["dl",a],["fieldset",a],["figcaption",a],["figure",a],["footer",a],["form",a],["header",a],["hr",a],["main",a],["nav",a],["ol",a],["pre",a],["section",a],["table",a],["ul",a],["rt",c],["rp",c],["tbody",o],["tfoot",o]]),d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),h=new Set(["math","svg"]),f=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),p=/\s|\//,x=(function(){function _(b,T){T===void 0&&(T={});var N,g,y,E,I;this.options=T,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=b!=null?b:{},this.lowerCaseTagNames=(N=T.lowerCaseTags)!==null&&N!==void 0?N:!T.xmlMode,this.lowerCaseAttributeNames=(g=T.lowerCaseAttributeNames)!==null&&g!==void 0?g:!T.xmlMode,this.tokenizer=new((y=T.Tokenizer)!==null&&y!==void 0?y:r.default)(this.options,this),(I=(E=this.cbs).onparserinit)===null||I===void 0||I.call(E,this)}return _.prototype.ontext=function(b,T){var N,g,y=this.getSlice(b,T);this.endIndex=T-1,(g=(N=this.cbs).ontext)===null||g===void 0||g.call(N,y),this.startIndex=T},_.prototype.ontextentity=function(b){var T,N,g=this.tokenizer.getSectionStart();this.endIndex=g-1,(N=(T=this.cbs).ontext)===null||N===void 0||N.call(T,(0,i.fromCodePoint)(b)),this.startIndex=g},_.prototype.isVoidElement=function(b){return!this.options.xmlMode&&d.has(b)},_.prototype.onopentagname=function(b,T){this.endIndex=T;var N=this.getSlice(b,T);this.lowerCaseTagNames&&(N=N.toLowerCase()),this.emitOpenTag(N)},_.prototype.emitOpenTag=function(b){var T,N,g,y;this.openTagStart=this.startIndex,this.tagname=b;var E=!this.options.xmlMode&&l.get(b);if(E)for(;this.stack.length>0&&E.has(this.stack[this.stack.length-1]);){var I=this.stack.pop();(N=(T=this.cbs).onclosetag)===null||N===void 0||N.call(T,I,!0)}this.isVoidElement(b)||(this.stack.push(b),h.has(b)?this.foreignContext.push(!0):f.has(b)&&this.foreignContext.push(!1)),(y=(g=this.cbs).onopentagname)===null||y===void 0||y.call(g,b),this.cbs.onopentag&&(this.attribs={})},_.prototype.endOpenTag=function(b){var T,N;this.startIndex=this.openTagStart,this.attribs&&((N=(T=this.cbs).onopentag)===null||N===void 0||N.call(T,this.tagname,this.attribs,b),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},_.prototype.onopentagend=function(b){this.endIndex=b,this.endOpenTag(!1),this.startIndex=b+1},_.prototype.onclosetag=function(b,T){var N,g,y,E,I,R;this.endIndex=T;var L=this.getSlice(b,T);if(this.lowerCaseTagNames&&(L=L.toLowerCase()),(h.has(L)||f.has(L))&&this.foreignContext.pop(),this.isVoidElement(L))!this.options.xmlMode&&L==="br"&&((g=(N=this.cbs).onopentagname)===null||g===void 0||g.call(N,"br"),(E=(y=this.cbs).onopentag)===null||E===void 0||E.call(y,"br",{},!0),(R=(I=this.cbs).onclosetag)===null||R===void 0||R.call(I,"br",!1));else{var S=this.stack.lastIndexOf(L);if(S!==-1)if(this.cbs.onclosetag)for(var A=this.stack.length-S;A--;)this.cbs.onclosetag(this.stack.pop(),A!==0);else this.stack.length=S;else!this.options.xmlMode&&L==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=T+1},_.prototype.onselfclosingtag=function(b){this.endIndex=b,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=b+1):this.onopentagend(b)},_.prototype.closeCurrentTag=function(b){var T,N,g=this.tagname;this.endOpenTag(b),this.stack[this.stack.length-1]===g&&((N=(T=this.cbs).onclosetag)===null||N===void 0||N.call(T,g,!b),this.stack.pop())},_.prototype.onattribname=function(b,T){this.startIndex=b;var N=this.getSlice(b,T);this.attribname=this.lowerCaseAttributeNames?N.toLowerCase():N},_.prototype.onattribdata=function(b,T){this.attribvalue+=this.getSlice(b,T)},_.prototype.onattribentity=function(b){this.attribvalue+=(0,i.fromCodePoint)(b)},_.prototype.onattribend=function(b,T){var N,g;this.endIndex=T,(g=(N=this.cbs).onattribute)===null||g===void 0||g.call(N,this.attribname,this.attribvalue,b===r.QuoteType.Double?'"':b===r.QuoteType.Single?"'":b===r.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},_.prototype.getInstructionName=function(b){var T=b.search(p),N=T<0?b:b.substr(0,T);return this.lowerCaseTagNames&&(N=N.toLowerCase()),N},_.prototype.ondeclaration=function(b,T){this.endIndex=T;var N=this.getSlice(b,T);if(this.cbs.onprocessinginstruction){var g=this.getInstructionName(N);this.cbs.onprocessinginstruction("!".concat(g),"!".concat(N))}this.startIndex=T+1},_.prototype.onprocessinginstruction=function(b,T){this.endIndex=T;var N=this.getSlice(b,T);if(this.cbs.onprocessinginstruction){var g=this.getInstructionName(N);this.cbs.onprocessinginstruction("?".concat(g),"?".concat(N))}this.startIndex=T+1},_.prototype.oncomment=function(b,T,N){var g,y,E,I;this.endIndex=T,(y=(g=this.cbs).oncomment)===null||y===void 0||y.call(g,this.getSlice(b,T-N)),(I=(E=this.cbs).oncommentend)===null||I===void 0||I.call(E),this.startIndex=T+1},_.prototype.oncdata=function(b,T,N){var g,y,E,I,R,L,S,A,w,O;this.endIndex=T;var D=this.getSlice(b,T-N);this.options.xmlMode||this.options.recognizeCDATA?((y=(g=this.cbs).oncdatastart)===null||y===void 0||y.call(g),(I=(E=this.cbs).ontext)===null||I===void 0||I.call(E,D),(L=(R=this.cbs).oncdataend)===null||L===void 0||L.call(R)):((A=(S=this.cbs).oncomment)===null||A===void 0||A.call(S,"[CDATA[".concat(D,"]]")),(O=(w=this.cbs).oncommentend)===null||O===void 0||O.call(w)),this.startIndex=T+1},_.prototype.onend=function(){var b,T;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var N=this.stack.length;N>0;this.cbs.onclosetag(this.stack[--N],!0));}(T=(b=this.cbs).onend)===null||T===void 0||T.call(b)},_.prototype.reset=function(){var b,T,N,g;(T=(b=this.cbs).onreset)===null||T===void 0||T.call(b),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(g=(N=this.cbs).onparserinit)===null||g===void 0||g.call(N,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},_.prototype.parseComplete=function(b){this.reset(),this.end(b)},_.prototype.getSlice=function(b,T){for(;b-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var N=this.buffers[0].slice(b-this.bufferOffset,T-this.bufferOffset);T-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),N+=this.buffers[0].slice(0,T-this.bufferOffset);return N},_.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},_.prototype.write=function(b){var T,N;if(this.ended){(N=(T=this.cbs).onerror)===null||N===void 0||N.call(T,new Error(".write() after done!"));return}this.buffers.push(b),this.tokenizer.running&&(this.tokenizer.write(b),this.writeIndex++)},_.prototype.end=function(b){var T,N;if(this.ended){(N=(T=this.cbs).onerror)===null||N===void 0||N.call(T,new Error(".end() after done!"));return}b&&this.write(b),this.ended=!0,this.tokenizer.end()},_.prototype.pause=function(){this.tokenizer.pause()},_.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},_.prototype.parseChunk=function(b){this.write(b)},_.prototype.done=function(b){this.end(b)},_})();return ri.Parser=x,ri}var d_;function lX(){return d_||(d_=1,(function(e){var t=ni&&ni.__createBinding||(Object.create?(function(b,T,N,g){g===void 0&&(g=N);var y=Object.getOwnPropertyDescriptor(T,N);(!y||("get"in y?!T.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return T[N]}}),Object.defineProperty(b,g,y)}):(function(b,T,N,g){g===void 0&&(g=N),b[g]=T[N]})),n=ni&&ni.__setModuleDefault||(Object.create?(function(b,T){Object.defineProperty(b,"default",{enumerable:!0,value:T})}):function(b,T){b.default=T}),r=ni&&ni.__importStar||function(b){if(b&&b.__esModule)return b;var T={};if(b!=null)for(var N in b)N!=="default"&&Object.prototype.hasOwnProperty.call(b,N)&&t(T,b,N);return n(T,b),T},i=ni&&ni.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var s=c_(),a=c_();Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return a.Parser}});var o=gr(),u=gr();Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return u.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return u.DomHandler}});function c(b,T){var N=new o.DomHandler(void 0,T);return new s.Parser(N,T).end(b),N.root}e.parseDocument=c;function l(b,T){return c(b,T).children}e.parseDOM=l;function d(b,T,N){var g=new o.DomHandler(b,T,N);return new s.Parser(g,T)}e.createDomStream=d;var h=s6();Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return i(h).default}}),e.ElementType=r(pc());var f=Di(),p=Di();Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return p.getFeed}});var x={xmlMode:!0};function _(b,T){return T===void 0&&(T=x),(0,f.getFeed)(l(b,T))}e.parseFeed=_,e.DomUtils=r(Di())})(ni)),ni}var f_;function cX(){return f_||(f_=1,(function(e){var t=Ir&&Ir.__createBinding||(Object.create?(function(p,x,_,b){b===void 0&&(b=_);var T=Object.getOwnPropertyDescriptor(x,_);(!T||("get"in T?!x.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return x[_]}}),Object.defineProperty(p,b,T)}):(function(p,x,_,b){b===void 0&&(b=_),p[b]=x[_]})),n=Ir&&Ir.__setModuleDefault||(Object.create?(function(p,x){Object.defineProperty(p,"default",{enumerable:!0,value:x})}):function(p,x){p.default=x}),r=Ir&&Ir.__exportStar||function(p,x){for(var _ in p)_!=="default"&&!Object.prototype.hasOwnProperty.call(x,_)&&t(x,p,_)},i=Ir&&Ir.__importStar||function(p){if(p&&p.__esModule)return p;var x={};if(p!=null)for(var _ in p)_!=="default"&&Object.prototype.hasOwnProperty.call(p,_)&&t(x,p,_);return n(x,p),x},s=Ir&&Ir.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.root=e.parseHTML=e.merge=e.contains=e.text=e.xml=e.html=e.load=void 0,r(NQ(),e);var a=ZQ(),o=t6(),u=oX(),c=s(Yw()),l=lX(),d=(0,o.getParse)(function(p,x,_,b){return x.xmlMode||x._useHtmlParser2?(0,l.parseDocument)(p,x):(0,u.parseWithParse5)(p,x,_,b)});e.load=(0,a.getLoad)(d,function(p,x){return x.xmlMode||x._useHtmlParser2?(0,c.default)(p,x):(0,u.renderWithParse5)(p)}),e.default=(0,e.load)([]);var h=Ku();Object.defineProperty(e,"html",{enumerable:!0,get:function(){return h.html}}),Object.defineProperty(e,"xml",{enumerable:!0,get:function(){return h.xml}}),Object.defineProperty(e,"text",{enumerable:!0,get:function(){return h.text}});var f=i(Ku());e.contains=f.contains,e.merge=f.merge,e.parseHTML=f.parseHTML,e.root=f.root})(Ir)),Ir}var Ea={},Zo={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */var dX=Zo.exports,h_;function fX(){return h_||(h_=1,(function(e,t){(function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,s=typeof Ib=="object"&&Ib;(s.global===s||s.window===s||s.self===s)&&(n=s);var a,o=2147483647,u=36,c=1,l=26,d=38,h=700,f=72,p=128,x="-",_=/^xn--/,b=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=u-c,y=Math.floor,E=String.fromCharCode,I;function R(P){throw RangeError(N[P])}function L(P,j){for(var W=P.length,H=[];W--;)H[W]=j(P[W]);return H}function S(P,j){var W=P.split("@"),H="";W.length>1&&(H=W[0]+"@",P=W[1]),P=P.replace(T,".");var Z=P.split("."),ee=L(Z,j).join(".");return H+ee}function A(P){for(var j=[],W=0,H=P.length,Z,ee;W<H;)Z=P.charCodeAt(W++),Z>=55296&&Z<=56319&&W<H?(ee=P.charCodeAt(W++),(ee&64512)==56320?j.push(((Z&1023)<<10)+(ee&1023)+65536):(j.push(Z),W--)):j.push(Z);return j}function w(P){return L(P,function(j){var W="";return j>65535&&(j-=65536,W+=E(j>>>10&1023|55296),j=56320|j&1023),W+=E(j),W}).join("")}function O(P){return P-48<10?P-22:P-65<26?P-65:P-97<26?P-97:u}function D(P,j){return P+22+75*(P<26)-((j!=0)<<5)}function B(P,j,W){var H=0;for(P=W?y(P/h):P>>1,P+=y(P/j);P>g*l>>1;H+=u)P=y(P/g);return y(H+(g+1)*P/(P+d))}function M(P){var j=[],W=P.length,H,Z=0,ee=p,ae=f,_e,ge,je,Se,Ie,qe,te,$e,st;for(_e=P.lastIndexOf(x),_e<0&&(_e=0),ge=0;ge<_e;++ge)P.charCodeAt(ge)>=128&&R("not-basic"),j.push(P.charCodeAt(ge));for(je=_e>0?_e+1:0;je<W;){for(Se=Z,Ie=1,qe=u;je>=W&&R("invalid-input"),te=O(P.charCodeAt(je++)),(te>=u||te>y((o-Z)/Ie))&&R("overflow"),Z+=te*Ie,$e=qe<=ae?c:qe>=ae+l?l:qe-ae,!(te<$e);qe+=u)st=u-$e,Ie>y(o/st)&&R("overflow"),Ie*=st;H=j.length+1,ae=B(Z-Se,H,Se==0),y(Z/H)>o-ee&&R("overflow"),ee+=y(Z/H),Z%=H,j.splice(Z++,0,ee)}return w(j)}function F(P){var j,W,H,Z,ee,ae,_e,ge,je,Se,Ie,qe=[],te,$e,st,Rt;for(P=A(P),te=P.length,j=p,W=0,ee=f,ae=0;ae<te;++ae)Ie=P[ae],Ie<128&&qe.push(E(Ie));for(H=Z=qe.length,Z&&qe.push(x);H<te;){for(_e=o,ae=0;ae<te;++ae)Ie=P[ae],Ie>=j&&Ie<_e&&(_e=Ie);for($e=H+1,_e-j>y((o-W)/$e)&&R("overflow"),W+=(_e-j)*$e,j=_e,ae=0;ae<te;++ae)if(Ie=P[ae],Ie<j&&++W>o&&R("overflow"),Ie==j){for(ge=W,je=u;Se=je<=ee?c:je>=ee+l?l:je-ee,!(ge<Se);je+=u)Rt=ge-Se,st=u-Se,qe.push(E(D(Se+Rt%st,0))),ge=y(Rt/st);qe.push(E(D(ge,0))),ee=B(W,$e,H==Z),W=0,++H}++W,++j}return qe.join("")}function G(P){return S(P,function(j){return _.test(j)?M(j.slice(4).toLowerCase()):j})}function $(P){return S(P,function(j){return b.test(j)?"xn--"+F(j):j})}if(a={version:"1.3.2",ucs2:{decode:A,encode:w},decode:M,encode:F,toASCII:$,toUnicode:G},r&&i)if(e.exports==r)i.exports=a;else for(I in a)a.hasOwnProperty(I)&&(r[I]=a[I]);else n.punycode=a})(dX)})(Zo,Zo.exports)),Zo.exports}var _p,p_;function hX(){return p_||(p_=1,_p={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}}),_p}var fu={},xp,m_;function pX(){if(m_)return xp;m_=1;function e(t,n){return Object.prototype.hasOwnProperty.call(t,n)}return xp=function(t,n,r,i){n=n||"&",r=r||"=";var s={};if(typeof t!="string"||t.length===0)return s;var a=/\+/g;t=t.split(n);var o=1e3;i&&typeof i.maxKeys=="number"&&(o=i.maxKeys);var u=t.length;o>0&&u>o&&(u=o);for(var c=0;c<u;++c){var l=t[c].replace(a,"%20"),d=l.indexOf(r),h,f,p,x;d>=0?(h=l.substr(0,d),f=l.substr(d+1)):(h=l,f=""),p=decodeURIComponent(h),x=decodeURIComponent(f),e(s,p)?Array.isArray(s[p])?s[p].push(x):s[p]=[s[p],x]:s[p]=x}return s},xp}var Ap,g_;function mX(){if(g_)return Ap;g_=1;var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};return Ap=function(t,n,r,i){return n=n||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(s){var a=encodeURIComponent(e(s))+r;return Array.isArray(t[s])?t[s].map(function(o){return a+encodeURIComponent(e(o))}).join(n):a+encodeURIComponent(e(t[s]))}).join(n):i?encodeURIComponent(e(i))+r+encodeURIComponent(e(t)):""},Ap}var b_;function gX(){return b_||(b_=1,fu.decode=fu.parse=pX(),fu.encode=fu.stringify=mX()),fu}var T_;function bX(){if(T_)return Ea;T_=1;var e=fX(),t=hX();Ea.parse=T,Ea.resolve=g,Ea.resolveObject=y,Ea.format=N,Ea.Url=n;function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var r=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],o=["{","}","|","\\","^","`"].concat(a),u=["'"].concat(o),c=["%","/","?",";","#"].concat(u),l=["/","?","#"],d=255,h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=gX();function T(E,I,R){if(E&&t.isObject(E)&&E instanceof n)return E;var L=new n;return L.parse(E,I,R),L}n.prototype.parse=function(E,I,R){if(!t.isString(E))throw new TypeError("Parameter 'url' must be a string, not "+typeof E);var L=E.indexOf("?"),S=L!==-1&&L<E.indexOf("#")?"?":"#",A=E.split(S),w=/\\/g;A[0]=A[0].replace(w,"/"),E=A.join(S);var O=E;if(O=O.trim(),!R&&E.split("#").length===1){var D=s.exec(O);if(D)return this.path=O,this.href=O,this.pathname=D[1],D[2]?(this.search=D[2],I?this.query=b.parse(this.search.substr(1)):this.query=this.search.substr(1)):I&&(this.search="",this.query={}),this}var B=r.exec(O);if(B){B=B[0];var M=B.toLowerCase();this.protocol=M,O=O.substr(B.length)}if(R||B||O.match(/^\/\/[^@\/]+@[^@\/]+/)){var F=O.substr(0,2)==="//";F&&!(B&&x[B])&&(O=O.substr(2),this.slashes=!0)}if(!x[B]&&(F||B&&!_[B])){for(var G=-1,$=0;$<l.length;$++){var P=O.indexOf(l[$]);P!==-1&&(G===-1||P<G)&&(G=P)}var j,W;G===-1?W=O.lastIndexOf("@"):W=O.lastIndexOf("@",G),W!==-1&&(j=O.slice(0,W),O=O.slice(W+1),this.auth=decodeURIComponent(j)),G=-1;for(var $=0;$<c.length;$++){var P=O.indexOf(c[$]);P!==-1&&(G===-1||P<G)&&(G=P)}G===-1&&(G=O.length),this.host=O.slice(0,G),O=O.slice(G),this.parseHost(),this.hostname=this.hostname||"";var H=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!H)for(var Z=this.hostname.split(/\./),$=0,ee=Z.length;$<ee;$++){var ae=Z[$];if(ae&&!ae.match(h)){for(var _e="",ge=0,je=ae.length;ge<je;ge++)ae.charCodeAt(ge)>127?_e+="x":_e+=ae[ge];if(!_e.match(h)){var Se=Z.slice(0,$),Ie=Z.slice($+1),qe=ae.match(f);qe&&(Se.push(qe[1]),Ie.unshift(qe[2])),Ie.length&&(O="/"+Ie.join(".")+O),this.hostname=Se.join(".");break}}}this.hostname.length>d?this.hostname="":this.hostname=this.hostname.toLowerCase(),H||(this.hostname=e.toASCII(this.hostname));var te=this.port?":"+this.port:"",$e=this.hostname||"";this.host=$e+te,this.href+=this.host,H&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),O[0]!=="/"&&(O="/"+O))}if(!p[M])for(var $=0,ee=u.length;$<ee;$++){var st=u[$];if(O.indexOf(st)!==-1){var Rt=encodeURIComponent(st);Rt===st&&(Rt=escape(st)),O=O.split(st).join(Rt)}}var yt=O.indexOf("#");yt!==-1&&(this.hash=O.substr(yt),O=O.slice(0,yt));var xt=O.indexOf("?");if(xt!==-1?(this.search=O.substr(xt),this.query=O.substr(xt+1),I&&(this.query=b.parse(this.query)),O=O.slice(0,xt)):I&&(this.search="",this.query={}),O&&(this.pathname=O),_[M]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var te=this.pathname||"",zt=this.search||"";this.path=te+zt}return this.href=this.format(),this};function N(E){return t.isString(E)&&(E=T(E)),E instanceof n?E.format():n.prototype.format.call(E)}n.prototype.format=function(){var E=this.auth||"";E&&(E=encodeURIComponent(E),E=E.replace(/%3A/i,":"),E+="@");var I=this.protocol||"",R=this.pathname||"",L=this.hash||"",S=!1,A="";this.host?S=E+this.host:this.hostname&&(S=E+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(S+=":"+this.port)),this.query&&t.isObject(this.query)&&Object.keys(this.query).length&&(A=b.stringify(this.query));var w=this.search||A&&"?"+A||"";return I&&I.substr(-1)!==":"&&(I+=":"),this.slashes||(!I||_[I])&&S!==!1?(S="//"+(S||""),R&&R.charAt(0)!=="/"&&(R="/"+R)):S||(S=""),L&&L.charAt(0)!=="#"&&(L="#"+L),w&&w.charAt(0)!=="?"&&(w="?"+w),R=R.replace(/[?#]/g,function(O){return encodeURIComponent(O)}),w=w.replace("#","%23"),I+S+R+w+L};function g(E,I){return T(E,!1,!0).resolve(I)}n.prototype.resolve=function(E){return this.resolveObject(T(E,!1,!0)).format()};function y(E,I){return E?T(E,!1,!0).resolveObject(I):I}return n.prototype.resolveObject=function(E){if(t.isString(E)){var I=new n;I.parse(E,!1,!0),E=I}for(var R=new n,L=Object.keys(this),S=0;S<L.length;S++){var A=L[S];R[A]=this[A]}if(R.hash=E.hash,E.href==="")return R.href=R.format(),R;if(E.slashes&&!E.protocol){for(var w=Object.keys(E),O=0;O<w.length;O++){var D=w[O];D!=="protocol"&&(R[D]=E[D])}return _[R.protocol]&&R.hostname&&!R.pathname&&(R.path=R.pathname="/"),R.href=R.format(),R}if(E.protocol&&E.protocol!==R.protocol){if(!_[E.protocol]){for(var B=Object.keys(E),M=0;M<B.length;M++){var F=B[M];R[F]=E[F]}return R.href=R.format(),R}if(R.protocol=E.protocol,!E.host&&!x[E.protocol]){for(var ee=(E.pathname||"").split("/");ee.length&&!(E.host=ee.shift()););E.host||(E.host=""),E.hostname||(E.hostname=""),ee[0]!==""&&ee.unshift(""),ee.length<2&&ee.unshift(""),R.pathname=ee.join("/")}else R.pathname=E.pathname;if(R.search=E.search,R.query=E.query,R.host=E.host||"",R.auth=E.auth,R.hostname=E.hostname||E.host,R.port=E.port,R.pathname||R.search){var G=R.pathname||"",$=R.search||"";R.path=G+$}return R.slashes=R.slashes||E.slashes,R.href=R.format(),R}var P=R.pathname&&R.pathname.charAt(0)==="/",j=E.host||E.pathname&&E.pathname.charAt(0)==="/",W=j||P||R.host&&E.pathname,H=W,Z=R.pathname&&R.pathname.split("/")||[],ee=E.pathname&&E.pathname.split("/")||[],ae=R.protocol&&!_[R.protocol];if(ae&&(R.hostname="",R.port=null,R.host&&(Z[0]===""?Z[0]=R.host:Z.unshift(R.host)),R.host="",E.protocol&&(E.hostname=null,E.port=null,E.host&&(ee[0]===""?ee[0]=E.host:ee.unshift(E.host)),E.host=null),W=W&&(ee[0]===""||Z[0]==="")),j)R.host=E.host||E.host===""?E.host:R.host,R.hostname=E.hostname||E.hostname===""?E.hostname:R.hostname,R.search=E.search,R.query=E.query,Z=ee;else if(ee.length)Z||(Z=[]),Z.pop(),Z=Z.concat(ee),R.search=E.search,R.query=E.query;else if(!t.isNullOrUndefined(E.search)){if(ae){R.hostname=R.host=Z.shift();var _e=R.host&&R.host.indexOf("@")>0?R.host.split("@"):!1;_e&&(R.auth=_e.shift(),R.host=R.hostname=_e.shift())}return R.search=E.search,R.query=E.query,(!t.isNull(R.pathname)||!t.isNull(R.search))&&(R.path=(R.pathname?R.pathname:"")+(R.search?R.search:"")),R.href=R.format(),R}if(!Z.length)return R.pathname=null,R.search?R.path="/"+R.search:R.path=null,R.href=R.format(),R;for(var ge=Z.slice(-1)[0],je=(R.host||E.host||Z.length>1)&&(ge==="."||ge==="..")||ge==="",Se=0,Ie=Z.length;Ie>=0;Ie--)ge=Z[Ie],ge==="."?Z.splice(Ie,1):ge===".."?(Z.splice(Ie,1),Se++):Se&&(Z.splice(Ie,1),Se--);if(!W&&!H)for(;Se--;Se)Z.unshift("..");W&&Z[0]!==""&&(!Z[0]||Z[0].charAt(0)!=="/")&&Z.unshift(""),je&&Z.join("/").substr(-1)!=="/"&&Z.push("");var qe=Z[0]===""||Z[0]&&Z[0].charAt(0)==="/";if(ae){R.hostname=R.host=qe?"":Z.length?Z.shift():"";var _e=R.host&&R.host.indexOf("@")>0?R.host.split("@"):!1;_e&&(R.auth=_e.shift(),R.host=R.hostname=_e.shift())}return W=W||R.host&&Z.length,W&&!qe&&Z.unshift(""),Z.length?R.pathname=Z.join("/"):(R.pathname=null,R.path=null),(!t.isNull(R.pathname)||!t.isNull(R.search))&&(R.path=(R.pathname?R.pathname:"")+(R.search?R.search:"")),R.auth=E.auth||R.auth,R.slashes=R.slashes||E.slashes,R.href=R.format(),R},n.prototype.parseHost=function(){var E=this.host,I=i.exec(E);I&&(I=I[0],I!==":"&&(this.port=I.substr(1)),E=E.substr(0,E.length-I.length)),E&&(this.hostname=E)},Ea}var zo={},E_;function TX(){return E_||(E_=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.CONSTANTS=void 0,zo.CONSTANTS={REGEX_VALID_URL:new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i"),REGEX_LOOPBACK:new RegExp("^(?:127(?:\\.\\d{1,3}){3})|(?:10(?:\\.\\d{1,3}){3})|(?:172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})|(?:192\\.168(?:\\.\\d{1,3}){2})|(?:169\\.254(?:\\.\\d{1,3}){2})|(?:192\\.0\\.2(?:\\.\\d{1,3}){1})|(?:198\\.51\\.100(?:\\.\\d{1,3}){1})|(?:203\\.0\\.113(?:\\.\\d{1,3}){1})|(?:100\\.(?:6[4-9]|[7-9]\\d|1[0-1]\\d)(?:\\.\\d{1,3}){2})$","i"),REGEX_CONTENT_TYPE_IMAGE:new RegExp("image/.*","i"),REGEX_CONTENT_TYPE_AUDIO:new RegExp("audio/.*","i"),REGEX_CONTENT_TYPE_VIDEO:new RegExp("video/.*","i"),REGEX_CONTENT_TYPE_TEXT:new RegExp("text/.*","i"),REGEX_CONTENT_TYPE_APPLICATION:new RegExp("application/.*","i")}),zo}var y_;function EX(){if(y_)return ar;y_=1;var e=ar&&ar.__assign||function(){return e=Object.assign||function(w){for(var O,D=1,B=arguments.length;D<B;D++){O=arguments[D];for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&(w[M]=O[M])}return w},e.apply(this,arguments)},t=ar&&ar.__awaiter||function(w,O,D,B){function M(F){return F instanceof D?F:new D(function(G){G(F)})}return new(D||(D=Promise))(function(F,G){function $(W){try{j(B.next(W))}catch(H){G(H)}}function P(W){try{j(B.throw(W))}catch(H){G(H)}}function j(W){W.done?F(W.value):M(W.value).then($,P)}j((B=B.apply(w,O||[])).next())})},n=ar&&ar.__generator||function(w,O){var D={label:0,sent:function(){if(F[0]&1)throw F[1];return F[1]},trys:[],ops:[]},B,M,F,G;return G={next:$(0),throw:$(1),return:$(2)},typeof Symbol=="function"&&(G[Symbol.iterator]=function(){return this}),G;function $(j){return function(W){return P([j,W])}}function P(j){if(B)throw new TypeError("Generator is already executing.");for(;D;)try{if(B=1,M&&(F=j[0]&2?M.return:j[0]?M.throw||((F=M.return)&&F.call(M),0):M.next)&&!(F=F.call(M,j[1])).done)return F;switch(M=0,F&&(j=[j[0]&2,F.value]),j[0]){case 0:case 1:F=j;break;case 4:return D.label++,{value:j[1],done:!1};case 5:D.label++,M=j[1],j=[0];continue;case 7:j=D.ops.pop(),D.trys.pop();continue;default:if(F=D.trys,!(F=F.length>0&&F[F.length-1])&&(j[0]===6||j[0]===2)){D=0;continue}if(j[0]===3&&(!F||j[1]>F[0]&&j[1]<F[3])){D.label=j[1];break}if(j[0]===6&&D.label<F[1]){D.label=F[1],F=j;break}if(F&&D.label<F[2]){D.label=F[2],D.ops.push(j);break}F[2]&&D.ops.pop(),D.trys.pop();continue}j=O.call(w,D)}catch(W){j=[6,W],M=0}finally{B=F=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},r=ar&&ar.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(ar,"__esModule",{value:!0}),ar.getPreviewFromContent=ar.getLinkPreview=void 0;var i=r(cX()),s=r(bX()),a=TX();function o(w){if(a.CONSTANTS.REGEX_LOOPBACK.test(w))throw new Error("SSRF request detected, trying to query host")}function u(w,O,D){var B=w("meta[".concat(D,"='").concat(O,"']"));return B.length?B:null}function c(w,O,D){return w("meta[".concat(D,"='").concat(O,"']")).attr("content")}function l(w){var O=c(w,"og:title","property")||c(w,"og:title","name");return O||(O=w("head > title").text()),O}function d(w){var O=c(w,"og:site_name","property")||c(w,"og:site_name","name");return O}function h(w){var O=c(w,"author","name")||c(w,"article:author","property");return O}function f(w){var O=c(w,"description","name")||c(w,"Description","name")||c(w,"og:description","property");return O}function p(w){var O=u(w,"medium","name");if(O){var D=O.attr("content");return D==="image"?"photo":D}return c(w,"og:type","property")||c(w,"og:type","name")}function x(w,O,D){var B=[],M,F,G={},$=D!=null?D:"og";return M=u(w,"".concat($,":image"),"property")||u(w,"".concat($,":image"),"name"),M&&M.each(function(P,j){j.type==="tag"&&(F=j.attribs.content,F&&(F=s.default.resolve(O,F),B.push(F)))}),B.length<=0&&!D&&(F=w("link[rel=image_src]").attr("href"),F?(F=s.default.resolve(O,F),B=[F]):(M=w("img"),M!=null&&M.length&&(G={},B=[],M.each(function(P,j){j.type==="tag"&&(F=j.attribs.src),F&&!G[F]&&(G[F]=!0,B.push(s.default.resolve(O,F)))})))),B}function _(w){var O=[],D,B,M,F,G,$,P,j,W,H,Z,ee=u(w,"og:video","property")||u(w,"og:video","name");if(ee!=null&&ee.length)for(D=u(w,"og:video:type","property")||u(w,"og:video:type","name"),B=u(w,"og:video:secure_url","property")||u(w,"og:video:secure_url","name"),j=c(w,"og:video:width","property")||c(w,"og:video:width","name"),W=c(w,"og:video:height","property")||c(w,"og:video:height","name"),Z=0;Z<ee.length;Z+=1){var ae=ee[Z];ae.type==="tag"&&(G=ae.attribs.content),M=D==null?void 0:D[Z],(M==null?void 0:M.type)==="tag"&&($=M?M.attribs.content:null),F=B==null?void 0:B[Z],(F==null?void 0:F.type)==="tag"&&(P=F?F.attribs.content:null),H={url:G,secureUrl:P,type:$,width:j,height:W},$&&$.indexOf("video/")===0?O.splice(0,0,H):O.push(H)}return O}function b(w){return s.default.resolve(w,"/favicon.ico")}function T(w,O){var D=[],B=[],M,F=["rel=icon",'rel="shortcut icon"',"rel=apple-touch-icon"];return F.forEach(function(G){B=w("link[".concat(G,"]")),B.length&&B.each(function($,P){P.type==="tag"&&(M=P.attribs.href),M&&(M=s.default.resolve(O,M),D.push(M))})}),D.length<=0&&D.push(b(O)),D}function N(w,O){return{url:w,mediaType:"image",contentType:O,favicons:[b(w)]}}function g(w,O){return{url:w,mediaType:"audio",contentType:O,favicons:[b(w)]}}function y(w,O){return{url:w,mediaType:"video",contentType:O,favicons:[b(w)]}}function E(w,O){return{url:w,mediaType:"application",contentType:O,favicons:[b(w)]}}function I(w,O,D,B){D===void 0&&(D={});var M=i.default.load(w),F={url:O,title:l(M),siteName:d(M),description:f(M),author:h(M),mediaType:p(M)||"website",contentType:B,images:x(M,O,D.imagesPropertyType),videos:_(M),favicons:T(M,O)};if(D!=null&&D.onResponse&&typeof D.onResponse!="function")throw new Error("link-preview-js onResponse option must be a function");if(D!=null&&D.onResponse){var G=structuredClone(F),$=new URL(O);F=D.onResponse(G,M,$)}return F}function R(w,O,D,B){return D===void 0&&(D={}),I(w,O,D,B)}function L(w,O){try{var D=w.headers["content-type"],B=[],M=null;if(!D)return R(w.data,w.url,O);if(D.includes(";")){B=D.split(";"),D=B[0];for(var F=0,G=B;F<G.length;F++){var $=G[F];$.indexOf("charset=")!==-1&&(M=$.split("=")[1])}}if(a.CONSTANTS.REGEX_CONTENT_TYPE_IMAGE.test(D))return e(e({},N(w.url,D)),{charset:M});if(a.CONSTANTS.REGEX_CONTENT_TYPE_AUDIO.test(D))return e(e({},g(w.url,D)),{charset:M});if(a.CONSTANTS.REGEX_CONTENT_TYPE_VIDEO.test(D))return e(e({},y(w.url,D)),{charset:M});if(a.CONSTANTS.REGEX_CONTENT_TYPE_TEXT.test(D)){var P=w.data;return e(e({},I(P,w.url,O,D)),{charset:M})}if(a.CONSTANTS.REGEX_CONTENT_TYPE_APPLICATION.test(D))return e(e({},E(w.url,D)),{charset:M});var j=w.data;return e(e({},R(j,w.url,O)),{charset:M})}catch(W){throw new Error("link-preview-js could not fetch link information ".concat(W.toString()))}}function S(w,O){var D,B,M;return t(this,void 0,void 0,function(){var F,_e,G,$,P,j,W,H,Z,ee,ae,_e,ge,je,Se;return n(this,function(Ie){switch(Ie.label){case 0:if(!w||typeof w!="string")throw new Error("link-preview-js did not receive a valid url or text");if(F=w.replace(/\n/g," ").split(" ").find(function(qe){return a.CONSTANTS.REGEX_VALID_URL.test(qe)}),!F)throw new Error("link-preview-js did not receive a valid a url or text");if((O==null?void 0:O.followRedirects)==="manual"&&!(O!=null&&O.handleRedirects))throw new Error("link-preview-js followRedirects is set to manual, but no handleRedirects function was provided");return O!=null&&O.resolveDNSHost?[4,O.resolveDNSHost(F)]:[3,2];case 1:_e=Ie.sent(),o(_e),Ie.label=2;case 2:return G=(D=O==null?void 0:O.timeout)!==null&&D!==void 0?D:3e3,$=new AbortController,P=setTimeout(function(){return $.abort()},G),j={headers:(B=O==null?void 0:O.headers)!==null&&B!==void 0?B:{},redirect:(M=O==null?void 0:O.followRedirects)!==null&&M!==void 0?M:"error",signal:$.signal},W=O!=null&&O.proxyUrl?O.proxyUrl.concat(F):F,[4,fetch(W,j).catch(function(qe){throw qe.name==="AbortError"?new Error("Request timeout"):(clearTimeout(P),qe)})];case 3:if(H=Ie.sent(),!(H.status>300&&H.status<309&&j.redirect==="manual"&&(O!=null&&O.handleRedirects)))return[3,7];if(Z=H.headers.get("location")||"",ee=Z.startsWith("http://")||Z.startsWith("https://"),ae=ee?Z:s.default.resolve(W,Z),!O.handleRedirects(W,ae))throw new Error("link-preview-js could not handle redirect");return O!=null&&O.resolveDNSHost?[4,O.resolveDNSHost(ae)]:[3,5];case 4:_e=Ie.sent(),o(_e),Ie.label=5;case 5:return[4,fetch(ae,j)];case 6:H=Ie.sent(),Ie.label=7;case 7:return clearTimeout(P),ge={},H.headers.forEach(function(qe,te){ge[te]=qe}),Se={url:O!=null&&O.proxyUrl?H.url.replace(O.proxyUrl,""):H.url,headers:ge},[4,H.text()];case 8:return je=(Se.data=Ie.sent(),Se),[2,L(je,O)]}})})}ar.getLinkPreview=S;function A(w,O){return t(this,void 0,void 0,function(){return n(this,function(D){if(!w||typeof w!="object")throw new Error("link-preview-js did not receive a valid response object");if(!w.url)throw new Error("link-preview-js did not receive a valid response object");return[2,L(w,O)]})})}return ar.getPreviewFromContent=A,ar}var yX=EX(),ii={},or={},Cp={},Sp={},__;function ra(){return __||(__=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(){}t.prototype={diff:function(i,s){var a,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=o.callback;typeof o=="function"&&(u=o,o={}),this.options=o;var c=this;function l(I){return u?(setTimeout(function(){u(void 0,I)},0),!0):I}i=this.castInput(i),s=this.castInput(s),i=this.removeEmpty(this.tokenize(i)),s=this.removeEmpty(this.tokenize(s));var d=s.length,h=i.length,f=1,p=d+h;o.maxEditLength&&(p=Math.min(p,o.maxEditLength));var x=(a=o.timeout)!==null&&a!==void 0?a:1/0,_=Date.now()+x,b=[{oldPos:-1,lastComponent:void 0}],T=this.extractCommon(b[0],s,i,0);if(b[0].oldPos+1>=h&&T+1>=d)return l([{value:this.join(s),count:s.length}]);var N=-1/0,g=1/0;function y(){for(var I=Math.max(N,-f);I<=Math.min(g,f);I+=2){var R=void 0,L=b[I-1],S=b[I+1];L&&(b[I-1]=void 0);var A=!1;if(S){var w=S.oldPos-I;A=S&&0<=w&&w<d}var O=L&&L.oldPos+1<h;if(!A&&!O){b[I]=void 0;continue}if(!O||A&&L.oldPos+1<S.oldPos?R=c.addToPath(S,!0,void 0,0):R=c.addToPath(L,void 0,!0,1),T=c.extractCommon(R,s,i,I),R.oldPos+1>=h&&T+1>=d)return l(n(c,R.lastComponent,s,i,c.useLongestToken));b[I]=R,R.oldPos+1>=h&&(g=Math.min(g,I-1)),T+1>=d&&(N=Math.max(N,I+1))}f++}if(u)(function I(){setTimeout(function(){if(f>p||Date.now()>_)return u();y()||I()},0)})();else for(;f<=p&&Date.now()<=_;){var E=y();if(E)return E}},addToPath:function(i,s,a,o){var u=i.lastComponent;return u&&u.added===s&&u.removed===a?{oldPos:i.oldPos+o,lastComponent:{count:u.count+1,added:s,removed:a,previousComponent:u.previousComponent}}:{oldPos:i.oldPos+o,lastComponent:{count:1,added:s,removed:a,previousComponent:u}}},extractCommon:function(i,s,a,o){for(var u=s.length,c=a.length,l=i.oldPos,d=l-o,h=0;d+1<u&&l+1<c&&this.equals(s[d+1],a[l+1]);)d++,l++,h++;return h&&(i.lastComponent={count:h,previousComponent:i.lastComponent}),i.oldPos=l,d},equals:function(i,s){return this.options.comparator?this.options.comparator(i,s):i===s||this.options.ignoreCase&&i.toLowerCase()===s.toLowerCase()},removeEmpty:function(i){for(var s=[],a=0;a<i.length;a++)i[a]&&s.push(i[a]);return s},castInput:function(i){return i},tokenize:function(i){return i.split("")},join:function(i){return i.join("")}};function n(r,i,s,a,o){for(var u=[],c;i;)u.push(i),c=i.previousComponent,delete i.previousComponent,i=c;u.reverse();for(var l=0,d=u.length,h=0,f=0;l<d;l++){var p=u[l];if(p.removed){if(p.value=r.join(a.slice(f,f+p.count)),f+=p.count,l&&u[l-1].added){var _=u[l-1];u[l-1]=u[l],u[l]=_}}else{if(!p.added&&o){var x=s.slice(h,h+p.count);x=x.map(function(T,N){var g=a[f+N];return g.length>T.length?g:T}),p.value=r.join(x)}else p.value=r.join(s.slice(h,h+p.count));h+=p.count,p.added||(f+=p.count)}}var b=u[d-1];return d>1&&typeof b.value=="string"&&(b.added||b.removed)&&r.equals("",b.value)&&(u[d-2].value+=b.value,u.pop()),u}})(Sp)),Sp}var hu={},x_;function _X(){if(x_)return hu;x_=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.diffChars=r,hu.characterDiff=void 0;var e=t(ra());function t(i){return i&&i.__esModule?i:{default:i}}var n=new e.default;hu.characterDiff=n;function r(i,s,a){return n.diff(i,s,a)}return hu}var ya={},Zc={},A_;function a6(){if(A_)return Zc;A_=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.generateOptions=e;function e(t,n){if(typeof t=="function")n.callback=t;else if(t)for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}return Zc}var C_;function xX(){if(C_)return ya;C_=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.diffWords=a,ya.diffWordsWithSpace=o,ya.wordDiff=void 0;var e=n(ra()),t=a6();function n(u){return u&&u.__esModule?u:{default:u}}var r=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,i=/\S/,s=new e.default;ya.wordDiff=s,s.equals=function(u,c){return this.options.ignoreCase&&(u=u.toLowerCase(),c=c.toLowerCase()),u===c||this.options.ignoreWhitespace&&!i.test(u)&&!i.test(c)},s.tokenize=function(u){for(var c=u.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),l=0;l<c.length-1;l++)!c[l+1]&&c[l+2]&&r.test(c[l])&&r.test(c[l+2])&&(c[l]+=c[l+2],c.splice(l+1,2),l--);return c};function a(u,c,l){return l=(0,t.generateOptions)(l,{ignoreWhitespace:!0}),s.diff(u,c,l)}function o(u,c,l){return s.diff(u,c,l)}return ya}var _a={},S_;function db(){if(S_)return _a;S_=1,Object.defineProperty(_a,"__esModule",{value:!0}),_a.diffLines=i,_a.diffTrimmedLines=s,_a.lineDiff=void 0;var e=n(ra()),t=a6();function n(a){return a&&a.__esModule?a:{default:a}}var r=new e.default;_a.lineDiff=r,r.tokenize=function(a){this.options.stripTrailingCr&&(a=a.replace(/\r\n/g,`
`));var o=[],u=a.split(/(\n|\r\n)/);u[u.length-1]||u.pop();for(var c=0;c<u.length;c++){var l=u[c];c%2&&!this.options.newlineIsToken?o[o.length-1]+=l:(this.options.ignoreWhitespace&&(l=l.trim()),o.push(l))}return o};function i(a,o,u){return r.diff(a,o,u)}function s(a,o,u){var c=(0,t.generateOptions)(u,{ignoreWhitespace:!0});return r.diff(a,o,c)}return _a}var pu={},N_;function AX(){if(N_)return pu;N_=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.diffSentences=r,pu.sentenceDiff=void 0;var e=t(ra());function t(i){return i&&i.__esModule?i:{default:i}}var n=new e.default;pu.sentenceDiff=n,n.tokenize=function(i){return i.split(/(\S.+?[.!?])(?=\s+|$)/)};function r(i,s,a){return n.diff(i,s,a)}return pu}var mu={},v_;function CX(){if(v_)return mu;v_=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.diffCss=r,mu.cssDiff=void 0;var e=t(ra());function t(i){return i&&i.__esModule?i:{default:i}}var n=new e.default;mu.cssDiff=n,n.tokenize=function(i){return i.split(/([{}:;,]|\s+)/)};function r(i,s,a){return n.diff(i,s,a)}return mu}var xa={},w_;function SX(){if(w_)return xa;w_=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.diffJson=a,xa.canonicalize=o,xa.jsonDiff=void 0;var e=n(ra()),t=db();function n(u){return u&&u.__esModule?u:{default:u}}function r(u){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(l){return typeof l}:r=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},r(u)}var i=Object.prototype.toString,s=new e.default;xa.jsonDiff=s,s.useLongestToken=!0,s.tokenize=t.lineDiff.tokenize,s.castInput=function(u){var c=this.options,l=c.undefinedReplacement,d=c.stringifyReplacer,h=d===void 0?function(f,p){return typeof p=="undefined"?l:p}:d;return typeof u=="string"?u:JSON.stringify(o(u,null,null,h),h,"  ")},s.equals=function(u,c){return e.default.prototype.equals.call(s,u.replace(/,([\r\n])/g,"$1"),c.replace(/,([\r\n])/g,"$1"))};function a(u,c,l){return s.diff(u,c,l)}function o(u,c,l,d,h){c=c||[],l=l||[],d&&(u=d(h,u));var f;for(f=0;f<c.length;f+=1)if(c[f]===u)return l[f];var p;if(i.call(u)==="[object Array]"){for(c.push(u),p=new Array(u.length),l.push(p),f=0;f<u.length;f+=1)p[f]=o(u[f],c,l,d,h);return c.pop(),l.pop(),p}if(u&&u.toJSON&&(u=u.toJSON()),r(u)==="object"&&u!==null){c.push(u),p={},l.push(p);var x=[],_;for(_ in u)u.hasOwnProperty(_)&&x.push(_);for(x.sort(),f=0;f<x.length;f+=1)_=x[f],p[_]=o(u[_],c,l,d,_);c.pop(),l.pop()}else p=u;return p}return xa}var gu={},I_;function NX(){if(I_)return gu;I_=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.diffArrays=r,gu.arrayDiff=void 0;var e=t(ra());function t(i){return i&&i.__esModule?i:{default:i}}var n=new e.default;gu.arrayDiff=n,n.tokenize=function(i){return i.slice()},n.join=n.removeEmpty=function(i){return i};function r(i,s,a){return n.diff(i,s,a)}return gu}var qo={},ed={},k_;function fb(){if(k_)return ed;k_=1,Object.defineProperty(ed,"__esModule",{value:!0}),ed.parsePatch=e;function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.split(/\r\n|[\n\v\f\r\x85]/),i=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],s=[],a=0;function o(){var l={};for(s.push(l);a<r.length;){var d=r[a];if(/^(\-\-\-|\+\+\+|@@)\s/.test(d))break;var h=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(d);h&&(l.index=h[1]),a++}for(u(l),u(l),l.hunks=[];a<r.length;){var f=r[a];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(f))break;if(/^@@/.test(f))l.hunks.push(c());else{if(f&&n.strict)throw new Error("Unknown line "+(a+1)+" "+JSON.stringify(f));a++}}}function u(l){var d=/^(---|\+\+\+)\s+(.*)$/.exec(r[a]);if(d){var h=d[1]==="---"?"old":"new",f=d[2].split("	",2),p=f[0].replace(/\\\\/g,"\\");/^".*"$/.test(p)&&(p=p.substr(1,p.length-2)),l[h+"FileName"]=p,l[h+"Header"]=(f[1]||"").trim(),a++}}function c(){var l=a,d=r[a++],h=d.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),f={oldStart:+h[1],oldLines:typeof h[2]=="undefined"?1:+h[2],newStart:+h[3],newLines:typeof h[4]=="undefined"?1:+h[4],lines:[],linedelimiters:[]};f.oldLines===0&&(f.oldStart+=1),f.newLines===0&&(f.newStart+=1);for(var p=0,x=0;a<r.length&&!(r[a].indexOf("--- ")===0&&a+2<r.length&&r[a+1].indexOf("+++ ")===0&&r[a+2].indexOf("@@")===0);a++){var _=r[a].length==0&&a!=r.length-1?" ":r[a][0];if(_==="+"||_==="-"||_===" "||_==="\\")f.lines.push(r[a]),f.linedelimiters.push(i[a]||`
`),_==="+"?p++:_==="-"?x++:_===" "&&(p++,x++);else break}if(!p&&f.newLines===1&&(f.newLines=0),!x&&f.oldLines===1&&(f.oldLines=0),n.strict){if(p!==f.newLines)throw new Error("Added line count did not match for hunk at line "+(l+1));if(x!==f.oldLines)throw new Error("Removed line count did not match for hunk at line "+(l+1))}return f}for(;a<r.length;)o();return s}return ed}var Np={},O_;function vX(){return O_||(O_=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n,r,i){var s=!0,a=!1,o=!1,u=1;return function c(){if(s&&!o){if(a?u++:s=!1,n+u<=i)return u;o=!0}if(!a)return o||(s=!0),r<=n-u?-u++:(a=!0,c())}}})(Np)),Np}var D_;function wX(){if(D_)return qo;D_=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.applyPatch=r,qo.applyPatches=i;var e=fb(),t=n(vX());function n(s){return s&&s.__esModule?s:{default:s}}function r(s,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof a=="string"&&(a=(0,e.parsePatch)(a)),Array.isArray(a)){if(a.length>1)throw new Error("applyPatch only works with a single input.");a=a[0]}var u=s.split(/\r\n|[\n\v\f\r\x85]/),c=s.match(/\r\n|[\n\v\f\r\x85]/g)||[],l=a.hunks,d=o.compareLine||function(P,j,W,H){return j===H},h=0,f=o.fuzzFactor||0,p=0,x=0,_,b;function T(P,j){for(var W=0;W<P.lines.length;W++){var H=P.lines[W],Z=H.length>0?H[0]:" ",ee=H.length>0?H.substr(1):H;if(Z===" "||Z==="-"){if(!d(j+1,u[j],Z,ee)&&(h++,h>f))return!1;j++}}return!0}for(var N=0;N<l.length;N++){for(var g=l[N],y=u.length-g.oldLines,E=0,I=x+g.oldStart-1,R=(0,t.default)(I,p,y);E!==void 0;E=R())if(T(g,I+E)){g.offset=x+=E;break}if(E===void 0)return!1;p=g.offset+g.oldStart+g.oldLines}for(var L=0,S=0;S<l.length;S++){var A=l[S],w=A.oldStart+A.offset+L-1;L+=A.newLines-A.oldLines;for(var O=0;O<A.lines.length;O++){var D=A.lines[O],B=D.length>0?D[0]:" ",M=D.length>0?D.substr(1):D,F=A.linedelimiters&&A.linedelimiters[O]||`
`;if(B===" ")w++;else if(B==="-")u.splice(w,1),c.splice(w,1);else if(B==="+")u.splice(w,0,M),c.splice(w,0,F),w++;else if(B==="\\"){var G=A.lines[O-1]?A.lines[O-1][0]:null;G==="+"?_=!0:G==="-"&&(b=!0)}}}if(_)for(;!u[u.length-1];)u.pop(),c.pop();else b&&(u.push(""),c.push(`
`));for(var $=0;$<u.length-1;$++)u[$]=u[$]+c[$];return u.join("")}function i(s,a){typeof s=="string"&&(s=(0,e.parsePatch)(s));var o=0;function u(){var c=s[o++];if(!c)return a.complete();a.loadFile(c,function(l,d){if(l)return a.complete(l);var h=r(d,c,a);a.patched(c,h,function(f){if(f)return a.complete(f);u()})})}u()}return qo}var Go={},Aa={},R_;function u6(){if(R_)return Aa;R_=1,Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.structuredPatch=o,Aa.formatPatch=u,Aa.createTwoFilesPatch=c,Aa.createPatch=l;var e=db();function t(d){return s(d)||i(d)||r(d)||n()}function n(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(d,h){if(d){if(typeof d=="string")return a(d,h);var f=Object.prototype.toString.call(d).slice(8,-1);if(f==="Object"&&d.constructor&&(f=d.constructor.name),f==="Map"||f==="Set")return Array.from(d);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return a(d,h)}}function i(d){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(d))return Array.from(d)}function s(d){if(Array.isArray(d))return a(d)}function a(d,h){(h==null||h>d.length)&&(h=d.length);for(var f=0,p=new Array(h);f<h;f++)p[f]=d[f];return p}function o(d,h,f,p,x,_,b){b||(b={}),typeof b.context=="undefined"&&(b.context=4);var T=(0,e.diffLines)(f,p,b);if(!T)return;T.push({value:"",lines:[]});function N(w){return w.map(function(O){return" "+O})}for(var g=[],y=0,E=0,I=[],R=1,L=1,S=function(O){var D=T[O],B=D.lines||D.value.replace(/\n$/,"").split(`
`);if(D.lines=B,D.added||D.removed){var M;if(!y){var F=T[O-1];y=R,E=L,F&&(I=b.context>0?N(F.lines.slice(-b.context)):[],y-=I.length,E-=I.length)}(M=I).push.apply(M,t(B.map(function(ee){return(D.added?"+":"-")+ee}))),D.added?L+=B.length:R+=B.length}else{if(y)if(B.length<=b.context*2&&O<T.length-2){var G;(G=I).push.apply(G,t(N(B)))}else{var $,P=Math.min(B.length,b.context);($=I).push.apply($,t(N(B.slice(0,P))));var j={oldStart:y,oldLines:R-y+P,newStart:E,newLines:L-E+P,lines:I};if(O>=T.length-2&&B.length<=b.context){var W=/\n$/.test(f),H=/\n$/.test(p),Z=B.length==0&&I.length>j.oldLines;!W&&Z&&f.length>0&&I.splice(j.oldLines,0,"\\ No newline at end of file"),(!W&&!Z||!H)&&I.push("\\ No newline at end of file")}g.push(j),y=0,E=0,I=[]}R+=B.length,L+=B.length}},A=0;A<T.length;A++)S(A);return{oldFileName:d,newFileName:h,oldHeader:x,newHeader:_,hunks:g}}function u(d){if(Array.isArray(d))return d.map(u).join(`
`);var h=[];d.oldFileName==d.newFileName&&h.push("Index: "+d.oldFileName),h.push("==================================================================="),h.push("--- "+d.oldFileName+(typeof d.oldHeader=="undefined"?"":"	"+d.oldHeader)),h.push("+++ "+d.newFileName+(typeof d.newHeader=="undefined"?"":"	"+d.newHeader));for(var f=0;f<d.hunks.length;f++){var p=d.hunks[f];p.oldLines===0&&(p.oldStart-=1),p.newLines===0&&(p.newStart-=1),h.push("@@ -"+p.oldStart+","+p.oldLines+" +"+p.newStart+","+p.newLines+" @@"),h.push.apply(h,p.lines)}return h.join(`
`)+`
`}function c(d,h,f,p,x,_,b){return u(o(d,h,f,p,x,_,b))}function l(d,h,f,p,x,_){return c(d,d,h,f,p,x,_)}return Aa}var Vo={},L_;function IX(){if(L_)return Vo;L_=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.arrayEqual=e,Vo.arrayStartsWith=t;function e(n,r){return n.length!==r.length?!1:t(n,r)}function t(n,r){if(r.length>n.length)return!1;for(var i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}return Vo}var P_;function kX(){if(P_)return Go;P_=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.calcLineCount=c,Go.merge=l;var e=u6(),t=fb(),n=IX();function r(A){return o(A)||a(A)||s(A)||i()}function i(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(A,w){if(A){if(typeof A=="string")return u(A,w);var O=Object.prototype.toString.call(A).slice(8,-1);if(O==="Object"&&A.constructor&&(O=A.constructor.name),O==="Map"||O==="Set")return Array.from(A);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return u(A,w)}}function a(A){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(A))return Array.from(A)}function o(A){if(Array.isArray(A))return u(A)}function u(A,w){(w==null||w>A.length)&&(w=A.length);for(var O=0,D=new Array(w);O<w;O++)D[O]=A[O];return D}function c(A){var w=S(A.lines),O=w.oldLines,D=w.newLines;O!==void 0?A.oldLines=O:delete A.oldLines,D!==void 0?A.newLines=D:delete A.newLines}function l(A,w,O){A=d(A,O),w=d(w,O);var D={};(A.index||w.index)&&(D.index=A.index||w.index),(A.newFileName||w.newFileName)&&(h(A)?h(w)?(D.oldFileName=f(D,A.oldFileName,w.oldFileName),D.newFileName=f(D,A.newFileName,w.newFileName),D.oldHeader=f(D,A.oldHeader,w.oldHeader),D.newHeader=f(D,A.newHeader,w.newHeader)):(D.oldFileName=A.oldFileName,D.newFileName=A.newFileName,D.oldHeader=A.oldHeader,D.newHeader=A.newHeader):(D.oldFileName=w.oldFileName||A.oldFileName,D.newFileName=w.newFileName||A.newFileName,D.oldHeader=w.oldHeader||A.oldHeader,D.newHeader=w.newHeader||A.newHeader)),D.hunks=[];for(var B=0,M=0,F=0,G=0;B<A.hunks.length||M<w.hunks.length;){var $=A.hunks[B]||{oldStart:1/0},P=w.hunks[M]||{oldStart:1/0};if(p($,P))D.hunks.push(x($,F)),B++,G+=$.newLines-$.oldLines;else if(p(P,$))D.hunks.push(x(P,G)),M++,F+=P.newLines-P.oldLines;else{var j={oldStart:Math.min($.oldStart,P.oldStart),oldLines:0,newStart:Math.min($.newStart+F,P.oldStart+G),newLines:0,lines:[]};_(j,$.oldStart,$.lines,P.oldStart,P.lines),M++,B++,D.hunks.push(j)}}return D}function d(A,w){if(typeof A=="string"){if(/^@@/m.test(A)||/^Index:/m.test(A))return(0,t.parsePatch)(A)[0];if(!w)throw new Error("Must provide a base reference or pass in a patch");return(0,e.structuredPatch)(void 0,void 0,w,A)}return A}function h(A){return A.newFileName&&A.newFileName!==A.oldFileName}function f(A,w,O){return w===O?w:(A.conflict=!0,{mine:w,theirs:O})}function p(A,w){return A.oldStart<w.oldStart&&A.oldStart+A.oldLines<w.oldStart}function x(A,w){return{oldStart:A.oldStart,oldLines:A.oldLines,newStart:A.newStart+w,newLines:A.newLines,lines:A.lines}}function _(A,w,O,D,B){var M={offset:w,lines:O,index:0},F={offset:D,lines:B,index:0};for(g(A,M,F),g(A,F,M);M.index<M.lines.length&&F.index<F.lines.length;){var G=M.lines[M.index],$=F.lines[F.index];if((G[0]==="-"||G[0]==="+")&&($[0]==="-"||$[0]==="+"))b(A,M,F);else if(G[0]==="+"&&$[0]===" "){var P;(P=A.lines).push.apply(P,r(E(M)))}else if($[0]==="+"&&G[0]===" "){var j;(j=A.lines).push.apply(j,r(E(F)))}else G[0]==="-"&&$[0]===" "?T(A,M,F):$[0]==="-"&&G[0]===" "?T(A,F,M,!0):G===$?(A.lines.push(G),M.index++,F.index++):N(A,E(M),E(F))}y(A,M),y(A,F),c(A)}function b(A,w,O){var D=E(w),B=E(O);if(R(D)&&R(B)){if((0,n.arrayStartsWith)(D,B)&&L(O,D,D.length-B.length)){var M;(M=A.lines).push.apply(M,r(D));return}else if((0,n.arrayStartsWith)(B,D)&&L(w,B,B.length-D.length)){var F;(F=A.lines).push.apply(F,r(B));return}}else if((0,n.arrayEqual)(D,B)){var G;(G=A.lines).push.apply(G,r(D));return}N(A,D,B)}function T(A,w,O,D){var B=E(w),M=I(O,B);if(M.merged){var F;(F=A.lines).push.apply(F,r(M.merged))}else N(A,D?M:B,D?B:M)}function N(A,w,O){A.conflict=!0,A.lines.push({conflict:!0,mine:w,theirs:O})}function g(A,w,O){for(;w.offset<O.offset&&w.index<w.lines.length;){var D=w.lines[w.index++];A.lines.push(D),w.offset++}}function y(A,w){for(;w.index<w.lines.length;){var O=w.lines[w.index++];A.lines.push(O)}}function E(A){for(var w=[],O=A.lines[A.index][0];A.index<A.lines.length;){var D=A.lines[A.index];if(O==="-"&&D[0]==="+"&&(O="+"),O===D[0])w.push(D),A.index++;else break}return w}function I(A,w){for(var O=[],D=[],B=0,M=!1,F=!1;B<w.length&&A.index<A.lines.length;){var G=A.lines[A.index],$=w[B];if($[0]==="+")break;if(M=M||G[0]!==" ",D.push($),B++,G[0]==="+")for(F=!0;G[0]==="+";)O.push(G),G=A.lines[++A.index];$.substr(1)===G.substr(1)?(O.push(G),A.index++):F=!0}if((w[B]||"")[0]==="+"&&M&&(F=!0),F)return O;for(;B<w.length;)D.push(w[B++]);return{merged:D,changes:O}}function R(A){return A.reduce(function(w,O){return w&&O[0]==="-"},!0)}function L(A,w,O){for(var D=0;D<O;D++){var B=w[w.length-O+D].substr(1);if(A.lines[A.index+D]!==" "+B)return!1}return A.index+=O,!0}function S(A){var w=0,O=0;return A.forEach(function(D){if(typeof D!="string"){var B=S(D.mine),M=S(D.theirs);w!==void 0&&(B.oldLines===M.oldLines?w+=B.oldLines:w=void 0),O!==void 0&&(B.newLines===M.newLines?O+=B.newLines:O=void 0)}else O!==void 0&&(D[0]==="+"||D[0]===" ")&&O++,w!==void 0&&(D[0]==="-"||D[0]===" ")&&w++}),{oldLines:w,newLines:O}}return Go}var td={},M_;function OX(){if(M_)return td;M_=1,Object.defineProperty(td,"__esModule",{value:!0}),td.reversePatch=r;function e(i,s){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);s&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),a.push.apply(a,o)}return a}function t(i){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?e(Object(a),!0).forEach(function(o){n(i,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(a,o))})}return i}function n(i,s,a){return s in i?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,i}function r(i){return Array.isArray(i)?i.map(r).reverse():t(t({},i),{},{oldFileName:i.newFileName,oldHeader:i.newHeader,newFileName:i.oldFileName,newHeader:i.oldHeader,hunks:i.hunks.map(function(s){return{oldLines:s.newLines,oldStart:s.newStart,newLines:s.oldLines,newStart:s.oldStart,linedelimiters:s.linedelimiters,lines:s.lines.map(function(a){return a.startsWith("-")?"+".concat(a.slice(1)):a.startsWith("+")?"-".concat(a.slice(1)):a})}})})}return td}var nd={},B_;function DX(){if(B_)return nd;B_=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.convertChangesToDMP=e;function e(t){for(var n=[],r,i,s=0;s<t.length;s++)r=t[s],r.added?i=1:r.removed?i=-1:i=0,n.push([i,r.value]);return n}return nd}var rd={},j_;function RX(){if(j_)return rd;j_=1,Object.defineProperty(rd,"__esModule",{value:!0}),rd.convertChangesToXML=e;function e(n){for(var r=[],i=0;i<n.length;i++){var s=n[i];s.added?r.push("<ins>"):s.removed&&r.push("<del>"),r.push(t(s.value)),s.added?r.push("</ins>"):s.removed&&r.push("</del>")}return r.join("")}function t(n){var r=n;return r=r.replace(/&/g,"&amp;"),r=r.replace(/</g,"&lt;"),r=r.replace(/>/g,"&gt;"),r=r.replace(/"/g,"&quot;"),r}return rd}var F_;function LX(){return F_||(F_=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Diff",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"diffChars",{enumerable:!0,get:function(){return n.diffChars}}),Object.defineProperty(e,"diffWords",{enumerable:!0,get:function(){return r.diffWords}}),Object.defineProperty(e,"diffWordsWithSpace",{enumerable:!0,get:function(){return r.diffWordsWithSpace}}),Object.defineProperty(e,"diffLines",{enumerable:!0,get:function(){return i.diffLines}}),Object.defineProperty(e,"diffTrimmedLines",{enumerable:!0,get:function(){return i.diffTrimmedLines}}),Object.defineProperty(e,"diffSentences",{enumerable:!0,get:function(){return s.diffSentences}}),Object.defineProperty(e,"diffCss",{enumerable:!0,get:function(){return a.diffCss}}),Object.defineProperty(e,"diffJson",{enumerable:!0,get:function(){return o.diffJson}}),Object.defineProperty(e,"canonicalize",{enumerable:!0,get:function(){return o.canonicalize}}),Object.defineProperty(e,"diffArrays",{enumerable:!0,get:function(){return u.diffArrays}}),Object.defineProperty(e,"applyPatch",{enumerable:!0,get:function(){return c.applyPatch}}),Object.defineProperty(e,"applyPatches",{enumerable:!0,get:function(){return c.applyPatches}}),Object.defineProperty(e,"parsePatch",{enumerable:!0,get:function(){return l.parsePatch}}),Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return d.merge}}),Object.defineProperty(e,"reversePatch",{enumerable:!0,get:function(){return h.reversePatch}}),Object.defineProperty(e,"structuredPatch",{enumerable:!0,get:function(){return f.structuredPatch}}),Object.defineProperty(e,"createTwoFilesPatch",{enumerable:!0,get:function(){return f.createTwoFilesPatch}}),Object.defineProperty(e,"createPatch",{enumerable:!0,get:function(){return f.createPatch}}),Object.defineProperty(e,"formatPatch",{enumerable:!0,get:function(){return f.formatPatch}}),Object.defineProperty(e,"convertChangesToDMP",{enumerable:!0,get:function(){return p.convertChangesToDMP}}),Object.defineProperty(e,"convertChangesToXML",{enumerable:!0,get:function(){return x.convertChangesToXML}});var t=_(ra()),n=_X(),r=xX(),i=db(),s=AX(),a=CX(),o=SX(),u=NX(),c=wX(),l=fb(),d=kX(),h=OX(),f=u6(),p=DX(),x=RX();function _(b){return b&&b.__esModule?b:{default:b}}})(Cp)),Cp}var H_;function PX(){if(H_)return or;H_=1;var e=or&&or.__createBinding||(Object.create?(function(l,d,h,f){f===void 0&&(f=h);var p=Object.getOwnPropertyDescriptor(d,h);(!p||("get"in p?!d.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return d[h]}}),Object.defineProperty(l,f,p)}):(function(l,d,h,f){f===void 0&&(f=h),l[f]=d[h]})),t=or&&or.__setModuleDefault||(Object.create?(function(l,d){Object.defineProperty(l,"default",{enumerable:!0,value:d})}):function(l,d){l.default=d}),n=or&&or.__importStar||function(l){if(l&&l.__esModule)return l;var d={};if(l!=null)for(var h in l)h!=="default"&&Object.prototype.hasOwnProperty.call(l,h)&&e(d,l,h);return t(d,l),d};Object.defineProperty(or,"__esModule",{value:!0}),or.computeLineInformation=or.DiffMethod=or.DiffType=void 0;const r=n(LX()),i=r;var s;(function(l){l[l.DEFAULT=0]="DEFAULT",l[l.ADDED=1]="ADDED",l[l.REMOVED=2]="REMOVED",l[l.CHANGED=3]="CHANGED"})(s||(or.DiffType=s={}));var a;(function(l){l.CHARS="diffChars",l.WORDS="diffWords",l.WORDS_WITH_SPACE="diffWordsWithSpace",l.LINES="diffLines",l.TRIMMED_LINES="diffTrimmedLines",l.SENTENCES="diffSentences",l.CSS="diffCss",l.JSON="diffJson"})(a||(or.DiffMethod=a={}));const o=l=>l===""?[]:l.replace(/\n$/,"").split(`
`),u=(l,d,h=a.CHARS)=>{const f=i[h](l,d),p={left:[],right:[]};return f.forEach(({added:x,removed:_,value:b})=>{const T={};return x&&(T.type=s.ADDED,T.value=b,p.right.push(T)),_&&(T.type=s.REMOVED,T.value=b,p.left.push(T)),!_&&!x&&(T.type=s.DEFAULT,T.value=b,p.right.push(T),p.left.push(T)),T}),p},c=(l,d,h=!1,f=a.CHARS,p=0,x=[])=>{let _=[];typeof l=="string"&&typeof d=="string"?_=r.diffLines(l.trimRight(),d.trimRight(),{newlineIsToken:!1,ignoreWhitespace:!1,ignoreCase:!1}):_=r.diffJson(l,d);let b=p,T=p,N=[],g=0;const y=[],E=[],I=(R,L,S,A,w)=>o(R).map((D,B)=>{const M={},F={};if(!(E.includes(`${L}-${B}`)||w&&B!==0)){if(S||A){let G=!0;if(A){T+=1,M.lineNumber=T,M.type=s.REMOVED,M.value=D||" ";const $=_[L+1];if($&&$.added){const P=o($.value)[B];if(P){const j=I(P,L,!0,!1,!0),{value:W,lineNumber:H,type:Z}=j[0].right;if(E.push(`${L+1}-${B}`),F.lineNumber=H,M.value===W)G=!1,F.type=0,M.type=0,F.value=W;else if(F.type=Z,h)F.value=W;else{const ee=u(D,W,f);F.value=ee.right,M.value=ee.left}}}}else b+=1,F.lineNumber=b,F.type=s.ADDED,F.value=D;G&&!w&&(y.includes(g)||y.push(g))}else T+=1,b+=1,M.lineNumber=T,M.type=s.DEFAULT,M.value=D,F.lineNumber=b,F.type=s.DEFAULT,F.value=D;return(x!=null&&x.includes(`L-${M.lineNumber}`)||x!=null&&x.includes(`R-${F.lineNumber}`)&&!y.includes(g))&&y.push(g),w||(g+=1),{right:F,left:M}}}).filter(Boolean);return _.forEach(({added:R,removed:L,value:S},A)=>{N=[...N,...I(S,A,R,L)]}),{lineInformation:N,diffLines:y}};return or.computeLineInformation=c,or}var xs={};function MX(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function BX(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var jX=(function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(BX(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=MX(i);try{s.insertRule(r,s.cssRules.length)}catch(a){}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e})(),Vn="-ms-",zf="-moz-",wt="-webkit-",o6="comm",hb="rule",pb="decl",FX="@import",l6="@keyframes",HX="@layer",UX=Math.abs,Rh=String.fromCharCode,zX=Object.assign;function qX(e,t){return Bn(e,0)^45?(((t<<2^Bn(e,0))<<2^Bn(e,1))<<2^Bn(e,2))<<2^Bn(e,3):0}function c6(e){return e.trim()}function GX(e,t){return(e=t.exec(e))?e[0]:e}function It(e,t,n){return e.replace(t,n)}function Qm(e,t){return e.indexOf(t)}function Bn(e,t){return e.charCodeAt(t)|0}function $l(e,t,n){return e.slice(t,n)}function Ni(e){return e.length}function mb(e){return e.length}function id(e,t){return t.push(e),e}function VX(e,t){return e.map(t).join("")}var Lh=1,Qu=1,d6=0,Nr=0,yn=0,oo="";function Ph(e,t,n,r,i,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Lh,column:Qu,length:a,return:""}}function $o(e,t){return zX(Ph("",null,null,"",null,null,0),e,{length:-e.length},t)}function $X(){return yn}function WX(){return yn=Nr>0?Bn(oo,--Nr):0,Qu--,yn===10&&(Qu=1,Lh--),yn}function jr(){return yn=Nr<d6?Bn(oo,Nr++):0,Qu++,yn===10&&(Qu=1,Lh++),yn}function Ri(){return Bn(oo,Nr)}function yd(){return Nr}function gc(e,t){return $l(oo,e,t)}function Wl(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function f6(e){return Lh=Qu=1,d6=Ni(oo=e),Nr=0,[]}function h6(e){return oo="",e}function _d(e){return c6(gc(Nr-1,Xm(e===91?e+2:e===40?e+1:e)))}function YX(e){for(;(yn=Ri())&&yn<33;)jr();return Wl(e)>2||Wl(yn)>3?"":" "}function KX(e,t){for(;--t&&jr()&&!(yn<48||yn>102||yn>57&&yn<65||yn>70&&yn<97););return gc(e,yd()+(t<6&&Ri()==32&&jr()==32))}function Xm(e){for(;jr();)switch(yn){case e:return Nr;case 34:case 39:e!==34&&e!==39&&Xm(yn);break;case 40:e===41&&Xm(e);break;case 92:jr();break}return Nr}function QX(e,t){for(;jr()&&e+yn!==57;)if(e+yn===84&&Ri()===47)break;return"/*"+gc(t,Nr-1)+"*"+Rh(e===47?e:jr())}function XX(e){for(;!Wl(Ri());)jr();return gc(e,Nr)}function JX(e){return h6(xd("",null,null,null,[""],e=f6(e),0,[0],e))}function xd(e,t,n,r,i,s,a,o,u){for(var c=0,l=0,d=a,h=0,f=0,p=0,x=1,_=1,b=1,T=0,N="",g=i,y=s,E=r,I=N;_;)switch(p=T,T=jr()){case 40:if(p!=108&&Bn(I,d-1)==58){Qm(I+=It(_d(T),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:I+=_d(T);break;case 9:case 10:case 13:case 32:I+=YX(p);break;case 92:I+=KX(yd()-1,7);continue;case 47:switch(Ri()){case 42:case 47:id(ZX(QX(jr(),yd()),t,n),u);break;default:I+="/"}break;case 123*x:o[c++]=Ni(I)*b;case 125*x:case 59:case 0:switch(T){case 0:case 125:_=0;case 59+l:b==-1&&(I=It(I,/\f/g,"")),f>0&&Ni(I)-d&&id(f>32?z_(I+";",r,n,d-1):z_(It(I," ","")+";",r,n,d-2),u);break;case 59:I+=";";default:if(id(E=U_(I,t,n,c,l,i,o,N,g=[],y=[],d),s),T===123)if(l===0)xd(I,t,E,E,g,s,d,o,y);else switch(h===99&&Bn(I,3)===110?100:h){case 100:case 108:case 109:case 115:xd(e,E,E,r&&id(U_(e,E,E,0,0,i,o,N,i,g=[],d),y),i,y,d,o,r?g:y);break;default:xd(I,E,E,E,[""],y,0,o,y)}}c=l=f=0,x=b=1,N=I="",d=a;break;case 58:d=1+Ni(I),f=p;default:if(x<1){if(T==123)--x;else if(T==125&&x++==0&&WX()==125)continue}switch(I+=Rh(T),T*x){case 38:b=l>0?1:(I+="\f",-1);break;case 44:o[c++]=(Ni(I)-1)*b,b=1;break;case 64:Ri()===45&&(I+=_d(jr())),h=Ri(),l=d=Ni(N=I+=XX(yd())),T++;break;case 45:p===45&&Ni(I)==2&&(x=0)}}return s}function U_(e,t,n,r,i,s,a,o,u,c,l){for(var d=i-1,h=i===0?s:[""],f=mb(h),p=0,x=0,_=0;p<r;++p)for(var b=0,T=$l(e,d+1,d=UX(x=a[p])),N=e;b<f;++b)(N=c6(x>0?h[b]+" "+T:It(T,/&\f/g,h[b])))&&(u[_++]=N);return Ph(e,t,n,i===0?hb:o,u,c,l)}function ZX(e,t,n){return Ph(e,t,n,o6,Rh($X()),$l(e,2,-2),0)}function z_(e,t,n,r){return Ph(e,t,n,pb,$l(e,0,r),$l(e,r+1,-1),r)}function Lu(e,t){for(var n="",r=mb(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function eJ(e,t,n,r){switch(e.type){case HX:if(e.children.length)break;case FX:case pb:return e.return=e.return||e.value;case o6:return"";case l6:return e.return=e.value+"{"+Lu(e.children,r)+"}";case hb:e.value=e.props.join(",")}return Ni(n=Lu(e.children,r))?e.return=e.value+"{"+n+"}":""}function tJ(e){var t=mb(e);return function(n,r,i,s){for(var a="",o=0;o<t;o++)a+=e[o](n,r,i,s)||"";return a}}function nJ(e){return function(t){t.root||(t=t.return)&&e(t)}}function rJ(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var iJ=function(t,n,r){for(var i=0,s=0;i=s,s=Ri(),i===38&&s===12&&(n[r]=1),!Wl(s);)jr();return gc(t,Nr)},sJ=function(t,n){var r=-1,i=44;do switch(Wl(i)){case 0:i===38&&Ri()===12&&(n[r]=1),t[r]+=iJ(Nr-1,n,r);break;case 2:t[r]+=_d(i);break;case 4:if(i===44){t[++r]=Ri()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Rh(i)}while(i=jr());return t},aJ=function(t,n){return h6(sJ(f6(t),n))},q_=new WeakMap,uJ=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!q_.get(r))&&!i){q_.set(t,!0);for(var s=[],a=aJ(n,s),o=r.props,u=0,c=0;u<a.length;u++)for(var l=0;l<o.length;l++,c++)t.props[c]=s[u]?a[u].replace(/&\f/g,o[l]):o[l]+" "+a[u]}}},oJ=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function p6(e,t){switch(qX(e,t)){case 5103:return wt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return wt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return wt+e+zf+e+Vn+e+e;case 6828:case 4268:return wt+e+Vn+e+e;case 6165:return wt+e+Vn+"flex-"+e+e;case 5187:return wt+e+It(e,/(\w+).+(:[^]+)/,wt+"box-$1$2"+Vn+"flex-$1$2")+e;case 5443:return wt+e+Vn+"flex-item-"+It(e,/flex-|-self/,"")+e;case 4675:return wt+e+Vn+"flex-line-pack"+It(e,/align-content|flex-|-self/,"")+e;case 5548:return wt+e+Vn+It(e,"shrink","negative")+e;case 5292:return wt+e+Vn+It(e,"basis","preferred-size")+e;case 6060:return wt+"box-"+It(e,"-grow","")+wt+e+Vn+It(e,"grow","positive")+e;case 4554:return wt+It(e,/([^-])(transform)/g,"$1"+wt+"$2")+e;case 6187:return It(It(It(e,/(zoom-|grab)/,wt+"$1"),/(image-set)/,wt+"$1"),e,"")+e;case 5495:case 3959:return It(e,/(image-set\([^]*)/,wt+"$1$`$1");case 4968:return It(It(e,/(.+:)(flex-)?(.*)/,wt+"box-pack:$3"+Vn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+wt+e+e;case 4095:case 3583:case 4068:case 2532:return It(e,/(.+)-inline(.+)/,wt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ni(e)-1-t>6)switch(Bn(e,t+1)){case 109:if(Bn(e,t+4)!==45)break;case 102:return It(e,/(.+:)(.+)-([^]+)/,"$1"+wt+"$2-$3$1"+zf+(Bn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Qm(e,"stretch")?p6(It(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Bn(e,t+1)!==115)break;case 6444:switch(Bn(e,Ni(e)-3-(~Qm(e,"!important")&&10))){case 107:return It(e,":",":"+wt)+e;case 101:return It(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+wt+(Bn(e,14)===45?"inline-":"")+"box$3$1"+wt+"$2$3$1"+Vn+"$2box$3")+e}break;case 5936:switch(Bn(e,t+11)){case 114:return wt+e+Vn+It(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return wt+e+Vn+It(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return wt+e+Vn+It(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return wt+e+Vn+e+e}return e}var lJ=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case pb:t.return=p6(t.value,t.length);break;case l6:return Lu([$o(t,{value:It(t.value,"@","@"+wt)})],i);case hb:if(t.length)return VX(t.props,function(s){switch(GX(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Lu([$o(t,{props:[It(s,/:(read-\w+)/,":"+zf+"$1")]})],i);case"::placeholder":return Lu([$o(t,{props:[It(s,/:(plac\w+)/,":"+wt+"input-$1")]}),$o(t,{props:[It(s,/:(plac\w+)/,":"+zf+"$1")]}),$o(t,{props:[It(s,/:(plac\w+)/,Vn+"input-$1")]})],i)}return""})}},cJ=[lJ],dJ=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var _=x.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=t.stylisPlugins||cJ,s={},a,o=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var _=x.getAttribute("data-emotion").split(" "),b=1;b<_.length;b++)s[_[b]]=!0;o.push(x)});var u,c=[uJ,oJ];{var l,d=[eJ,nJ(function(x){l.insert(x)})],h=tJ(c.concat(i,d)),f=function(_){return Lu(JX(_),h)};u=function(_,b,T,N){l=T,f(_?_+"{"+b.styles+"}":b.styles),N&&(p.inserted[b.name]=!0)}}var p={key:n,sheet:new jX({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return p.sheet.hydrate(o),p};function fJ(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var hJ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pJ=/[A-Z]|^ms/g,mJ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,m6=function(t){return t.charCodeAt(1)===45},G_=function(t){return t!=null&&typeof t!="boolean"},vp=rJ(function(e){return m6(e)?e:e.replace(pJ,"-$&").toLowerCase()}),V_=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(mJ,function(r,i,s){return Bs={name:i,styles:s,next:Bs},i})}return hJ[t]!==1&&!m6(t)&&typeof n=="number"&&n!==0?n+"px":n};function qf(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Bs={name:i.name,styles:i.styles,next:Bs},i.name;var s=n;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)Bs={name:a.name,styles:a.styles,next:Bs},a=a.next;var o=s.styles+";";return o}return gJ(e,t,n)}}var u=n;if(t==null)return u;var c=t[u];return c!==void 0?c:u}function gJ(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=qf(e,t,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object"){var o=a;t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":G_(o)&&(r+=vp(s)+":"+V_(s,o)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var u=0;u<a.length;u++)G_(a[u])&&(r+=vp(s)+":"+V_(s,a[u])+";");else{var c=qf(e,t,a);switch(s){case"animation":case"animationName":{r+=vp(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}return r}var $_=/label:\s*([^\s;{]+)\s*(;|$)/g,Bs;function wp(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Bs=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,i+=qf(n,t,s);else{var a=s;i+=a[0]}for(var o=1;o<e.length;o++)if(i+=qf(n,t,e[o]),r){var u=s;i+=u[o]}$_.lastIndex=0;for(var c="",l;(l=$_.exec(i))!==null;)c+="-"+l[1];var d=fJ(i)+c;return{name:d,styles:i,next:Bs}}function g6(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var bJ=function(t,n,r){var i=t.key+"-"+n.name;t.registered[i]===void 0&&(t.registered[i]=n.styles)},TJ=function(t,n,r){bJ(t,n);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function W_(e,t){if(e.inserted[t.name]===void 0)return e.insert("",t,e.sheet,!0)}function Y_(e,t,n){var r=[],i=g6(e,r,n);return r.length<2?n:i+t(r)}var EJ=function(t){var n=dJ(t);n.sheet.speedy=function(o){this.isSpeedy=o},n.compat=!0;var r=function(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];var d=wp(c,n.registered,void 0);return TJ(n,d),n.key+"-"+d.name},i=function(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];var d=wp(c,n.registered),h="animation-"+d.name;return W_(n,{name:d.name,styles:"@keyframes "+h+"{"+d.styles+"}"}),h},s=function(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];var d=wp(c,n.registered);W_(n,d)},a=function(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];return Y_(n.registered,r,yJ(c))};return{css:r,cx:a,injectGlobal:s,keyframes:i,hydrate:function(u){u.forEach(function(c){n.inserted[c]=!0})},flush:function(){n.registered={},n.inserted={},n.sheet.flush()},sheet:n.sheet,cache:n,getRegisteredStyles:g6.bind(null,n.registered),merge:Y_.bind(null,n.registered,r)}},yJ=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r];if(i!=null){var s=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))s=e(i);else{s="";for(var a in i)i[a]&&a&&(s&&(s+=" "),s+=a)}break}default:s=i}s&&(n&&(n+=" "),n+=s)}}return n};const _J=Object.freeze(Object.defineProperty({__proto__:null,default:EJ},Symbol.toStringTag,{value:"Module"})),xJ=rg(_J);var K_;function AJ(){if(K_)return xs;K_=1;var e=xs&&xs.__rest||function(r,i){var s={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&i.indexOf(a)<0&&(s[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)i.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(s[a[o]]=r[a[o]]);return s},t=xs&&xs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xs,"__esModule",{value:!0});const n=t(xJ);return xs.default=(r,i=!1,s="")=>{const{variables:a={}}=r,o=e(r,["variables"]),u={light:Object.assign({diffViewerBackground:"#fff",diffViewerColor:"#212529",addedBackground:"#e6ffed",addedColor:"#24292e",removedBackground:"#ffeef0",removedColor:"#24292e",changedBackground:"#fffbdd",wordAddedBackground:"#acf2bd",wordRemovedBackground:"#fdb8c0",addedGutterBackground:"#cdffd8",removedGutterBackground:"#ffdce0",gutterBackground:"#f7f7f7",gutterBackgroundDark:"#f3f1f1",highlightBackground:"#fffbdd",highlightGutterBackground:"#fff5b1",codeFoldGutterBackground:"#dbedff",codeFoldBackground:"#f1f8ff",emptyLineBackground:"#fafbfc",gutterColor:"#212529",addedGutterColor:"#212529",removedGutterColor:"#212529",codeFoldContentColor:"#212529",diffViewerTitleBackground:"#fafbfc",diffViewerTitleColor:"#212529",diffViewerTitleBorderColor:"#eee"},a.light||{}),dark:Object.assign({diffViewerBackground:"#2e303c",diffViewerColor:"#FFF",addedBackground:"#044B53",addedColor:"white",removedBackground:"#632F34",removedColor:"white",changedBackground:"#3e302c",wordAddedBackground:"#055d67",wordRemovedBackground:"#7d383f",addedGutterBackground:"#034148",removedGutterBackground:"#632b30",gutterBackground:"#2c2f3a",gutterBackgroundDark:"#262933",highlightBackground:"#2a3967",highlightGutterBackground:"#2d4077",codeFoldGutterBackground:"#21232b",codeFoldBackground:"#262831",emptyLineBackground:"#363946",gutterColor:"#666c87",addedGutterColor:"#8c8c8c",removedGutterColor:"#8c8c8c",codeFoldContentColor:"#656a8b",diffViewerTitleBackground:"#2f323e",diffViewerTitleColor:"#555a7b",diffViewerTitleBorderColor:"#353846"},a.dark||{})},c=i?u.dark:u.light,{css:l,cx:d}=(0,n.default)({key:"react-diff",nonce:s}),h=l({width:"100%",label:"content"}),f=l({[`.${h}`]:{width:"50%"},label:"split-view"}),p=l({width:"100%",background:c.diffViewerBackground,pre:{margin:0,whiteSpace:"pre-wrap",lineHeight:"25px"},label:"diff-container",borderCollapse:"collapse"}),x=l({color:c.codeFoldContentColor,label:"code-fold-content"}),_=l({color:c.diffViewerColor,label:"content-text"}),b=l({background:c.diffViewerTitleBackground,padding:10,borderBottom:`1px solid ${c.diffViewerTitleBorderColor}`,label:"title-block",":last-child":{borderLeft:`1px solid ${c.diffViewerTitleBorderColor}`},[`.${_}`]:{color:c.diffViewerTitleColor}}),T=l({color:c.gutterColor,label:"line-number"}),N=l({background:c.removedBackground,color:c.removedColor,pre:{color:c.removedColor},[`.${T}`]:{color:c.removedGutterColor},label:"diff-removed"}),g=l({background:c.addedBackground,color:c.addedColor,pre:{color:c.addedColor},[`.${T}`]:{color:c.addedGutterColor},label:"diff-added"}),y=l({background:c.changedBackground,[`.${T}`]:{color:c.gutterColor},label:"diff-changed"}),E=l({padding:2,display:"inline-flex",borderRadius:4,wordBreak:"break-all",label:"word-diff"}),I=l({background:c.wordAddedBackground,label:"word-added"}),R=l({background:c.wordRemovedBackground,label:"word-removed"}),L=l({backgroundColor:c.codeFoldGutterBackground,label:"code-fold-gutter"}),S=l({backgroundColor:c.codeFoldBackground,height:40,fontSize:14,fontWeight:700,label:"code-fold",a:{textDecoration:"underline !important",cursor:"pointer",pre:{display:"inline"}}}),A=l({backgroundColor:c.emptyLineBackground,label:"empty-line"}),w=l({width:25,paddingLeft:10,paddingRight:10,userSelect:"none",label:"marker",[`&.${g}`]:{pre:{color:c.addedColor}},[`&.${N}`]:{pre:{color:c.removedColor}}}),O=l({background:c.highlightBackground,label:"highlighted-line",[`.${I}, .${R}`]:{backgroundColor:"initial"}}),D=l({label:"highlighted-gutter"}),B=l({userSelect:"none",minWidth:50,padding:"0 10px",whiteSpace:"nowrap",label:"gutter",textAlign:"right",background:c.gutterBackground,"&:hover":{cursor:"pointer",background:c.gutterBackgroundDark,pre:{opacity:1}},pre:{opacity:.5},[`&.${g}`]:{background:c.addedGutterBackground},[`&.${N}`]:{background:c.removedGutterBackground},[`&.${D}`]:{background:c.highlightGutterBackground,"&:hover":{background:c.highlightGutterBackground}}}),M=l({"&:hover":{background:c.gutterBackground,cursor:"initial"},label:"empty-gutter"}),F=l({verticalAlign:"baseline",label:"line"}),G={diffContainer:p,diffRemoved:N,diffAdded:g,diffChanged:y,splitView:f,marker:w,highlightedGutter:D,highlightedLine:O,gutter:B,line:F,wordDiff:E,wordAdded:I,wordRemoved:R,codeFoldGutter:L,codeFold:S,emptyGutter:M,emptyLine:A,lineNumber:T,contentText:_,content:h,codeFoldContent:x,titleBlock:b},$=Object.keys(o).reduce((P,j)=>Object.assign(Object.assign({},P),{[j]:l(o[j])}),{});return Object.keys(G).reduce((P,j)=>Object.assign(Object.assign({},P),{[j]:$[j]?d(G[j],$[j]):G[j]}),{})},xs}var Wo={},Q_;function CJ(){if(Q_)return Wo;Q_=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.computeHiddenBlocks=void 0;function e(t,n,r){let i=0,s,a={},o=[];return t.forEach((u,c)=>{const l=n.some(d=>d>=c-r&&d<=c+r);!l&&s==null?(s={index:i,startLine:c,endLine:c,lines:1},o.push(s),a[c]=s.index,i++):l?s=void 0:(s.endLine=c,s.lines++,a[c]=s.index)}),{lineBlocks:a,blocks:o}}return Wo.computeHiddenBlocks=e,Wo}var X_=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function SJ(e,t){return!!(e===t||X_(e)&&X_(t))}function NJ(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!SJ(e[n],t[n]))return!1;return!0}function vJ(e,t){t===void 0&&(t=NJ);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const wJ=Object.freeze(Object.defineProperty({__proto__:null,default:vJ},Symbol.toStringTag,{value:"Module"})),IJ=rg(wJ);var J_;function kJ(){return J_||(J_=1,(function(e){var t=ii&&ii.__createBinding||(Object.create?(function(x,_,b,T){T===void 0&&(T=b);var N=Object.getOwnPropertyDescriptor(_,b);(!N||("get"in N?!_.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return _[b]}}),Object.defineProperty(x,T,N)}):(function(x,_,b,T){T===void 0&&(T=b),x[T]=_[b]})),n=ii&&ii.__setModuleDefault||(Object.create?(function(x,_){Object.defineProperty(x,"default",{enumerable:!0,value:_})}):function(x,_){x.default=_}),r=ii&&ii.__importStar||function(x){if(x&&x.__esModule)return x;var _={};if(x!=null)for(var b in x)b!=="default"&&Object.prototype.hasOwnProperty.call(x,b)&&t(_,x,b);return n(_,x),_},i=ii&&ii.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(e,"__esModule",{value:!0}),e.DiffMethod=e.LineNumberPrefix=void 0;const s=uI(),a=r(ng()),o=i(oI()),u=PX();Object.defineProperty(e,"DiffMethod",{enumerable:!0,get:function(){return u.DiffMethod}});const c=i(AJ()),l=CJ(),d=IJ,h=d.default||d;var f;(function(x){x.LEFT="L",x.RIGHT="R"})(f||(e.LineNumberPrefix=f={}));class p extends a.Component{constructor(_){super(_),this.resetCodeBlocks=()=>this.state.expandedBlocks.length>0?(this.setState({expandedBlocks:[]}),!0):!1,this.onBlockExpand=b=>{const T=this.state.expandedBlocks.slice();T.push(b),this.setState({expandedBlocks:T})},this.computeStyles=h(c.default),this.onLineNumberClickProxy=b=>this.props.onLineNumberClick?T=>this.props.onLineNumberClick(b,T):()=>{},this.renderWordDiff=(b,T)=>b.map((N,g)=>(0,s.jsx)("span",{className:(0,o.default)(this.styles.wordDiff,{[this.styles.wordAdded]:N.type===u.DiffType.ADDED,[this.styles.wordRemoved]:N.type===u.DiffType.REMOVED}),children:T?T(N.value):N.value},g)),this.renderLine=(b,T,N,g,y,E)=>{const I=`${N}-${b}`,R=`${E}-${y}`,L=this.props.highlightLines.includes(I)||this.props.highlightLines.includes(R),S=T===u.DiffType.ADDED,A=T===u.DiffType.REMOVED,w=T===u.DiffType.CHANGED;let O;return Array.isArray(g)?O=this.renderWordDiff(g,this.props.renderContent):this.props.renderContent?O=this.props.renderContent(g):O=g,(0,s.jsxs)(a.Fragment,{children:[!this.props.hideLineNumbers&&(0,s.jsx)("td",{onClick:b&&this.onLineNumberClickProxy(I),className:(0,o.default)(this.styles.gutter,{[this.styles.emptyGutter]:!b,[this.styles.diffAdded]:S,[this.styles.diffRemoved]:A,[this.styles.diffChanged]:w,[this.styles.highlightedGutter]:L}),children:(0,s.jsx)("pre",{className:this.styles.lineNumber,children:b})}),!this.props.splitView&&!this.props.hideLineNumbers&&(0,s.jsx)("td",{onClick:y&&this.onLineNumberClickProxy(R),className:(0,o.default)(this.styles.gutter,{[this.styles.emptyGutter]:!y,[this.styles.diffAdded]:S,[this.styles.diffRemoved]:A,[this.styles.diffChanged]:w,[this.styles.highlightedGutter]:L}),children:(0,s.jsx)("pre",{className:this.styles.lineNumber,children:y})}),this.props.renderGutter?this.props.renderGutter({lineNumber:b,type:T,prefix:N,value:g,additionalLineNumber:y,additionalPrefix:E,styles:this.styles}):null,!this.props.hideMarkers&&(0,s.jsx)("td",{className:(0,o.default)(this.styles.marker,{[this.styles.emptyLine]:!O,[this.styles.diffAdded]:S,[this.styles.diffRemoved]:A,[this.styles.diffChanged]:w,[this.styles.highlightedLine]:L}),children:(0,s.jsxs)("pre",{children:[S&&"+",A&&"-"]})}),(0,s.jsx)("td",{className:(0,o.default)(this.styles.content,{[this.styles.emptyLine]:!O,[this.styles.diffAdded]:S,[this.styles.diffRemoved]:A,[this.styles.diffChanged]:w,[this.styles.highlightedLine]:L}),children:(0,s.jsx)("pre",{className:this.styles.contentText,children:O})})]})},this.renderSplitView=({left:b,right:T},N)=>(0,s.jsxs)("tr",{className:this.styles.line,children:[this.renderLine(b.lineNumber,b.type,f.LEFT,b.value),this.renderLine(T.lineNumber,T.type,f.RIGHT,T.value)]},N),this.renderInlineView=({left:b,right:T},N)=>{let g;return b.type===u.DiffType.REMOVED&&T.type===u.DiffType.ADDED?(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)("tr",{className:this.styles.line,children:this.renderLine(b.lineNumber,b.type,f.LEFT,b.value,null)}),(0,s.jsx)("tr",{className:this.styles.line,children:this.renderLine(null,T.type,f.RIGHT,T.value,T.lineNumber)})]},N):(b.type===u.DiffType.REMOVED&&(g=this.renderLine(b.lineNumber,b.type,f.LEFT,b.value,null)),b.type===u.DiffType.DEFAULT&&(g=this.renderLine(b.lineNumber,b.type,f.LEFT,b.value,T.lineNumber,f.RIGHT)),T.type===u.DiffType.ADDED&&(g=this.renderLine(null,T.type,f.RIGHT,T.value,T.lineNumber)),(0,s.jsx)("tr",{className:this.styles.line,children:g},N))},this.onBlockClickProxy=b=>()=>this.onBlockExpand(b),this.renderSkippedLineIndicator=(b,T,N,g)=>{const{hideLineNumbers:y,splitView:E}=this.props,I=this.props.codeFoldMessageRenderer?this.props.codeFoldMessageRenderer(b,N,g):(0,s.jsxs)("pre",{className:this.styles.codeFoldContent,children:["Expand ",b," lines ..."]}),R=(0,s.jsx)("td",{children:(0,s.jsx)("a",{onClick:this.onBlockClickProxy(T),tabIndex:0,children:I})}),L=!E&&!y;return(0,s.jsxs)("tr",{className:this.styles.codeFold,children:[!y&&(0,s.jsx)("td",{className:this.styles.codeFoldGutter}),this.props.renderGutter?(0,s.jsx)("td",{className:this.styles.codeFoldGutter}):null,(0,s.jsx)("td",{className:(0,o.default)({[this.styles.codeFoldGutter]:L})}),L?(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)("td",{}),R]}):(0,s.jsxs)(a.Fragment,{children:[R,this.props.renderGutter?(0,s.jsx)("td",{}):null,(0,s.jsx)("td",{})]}),(0,s.jsx)("td",{}),(0,s.jsx)("td",{})]},`${N}-${g}`)},this.renderDiff=()=>{const{oldValue:b,newValue:T,splitView:N,disableWordDiff:g,compareMethod:y,linesOffset:E}=this.props,{lineInformation:I,diffLines:R}=(0,u.computeLineInformation)(b,T,g,y,E,this.props.alwaysShowLines),L=this.props.extraLinesSurroundingDiff<0?0:Math.round(this.props.extraLinesSurroundingDiff),{lineBlocks:S,blocks:A}=(0,l.computeHiddenBlocks)(I,R,L);return I.map((w,O)=>{if(this.props.showDiffOnly){const B=S[O];if(B!==void 0){const M=A[B].endLine===O;if(!this.state.expandedBlocks.includes(B)&&M)return(0,s.jsx)(a.Fragment,{children:this.renderSkippedLineIndicator(A[B].lines,B,w.left.lineNumber,w.right.lineNumber)},O);if(!this.state.expandedBlocks.includes(B))return null}}return N?this.renderSplitView(w,O):this.renderInlineView(w,O)})},this.render=()=>{const{oldValue:b,newValue:T,useDarkTheme:N,leftTitle:g,rightTitle:y,splitView:E,hideLineNumbers:I,hideMarkers:R,nonce:L}=this.props;if(this.props.compareMethod!==u.DiffMethod.JSON&&(typeof b!="string"||typeof T!="string"))throw Error('"oldValue" and "newValue" should be strings');this.styles=this.computeStyles(this.props.styles,N,L);const S=this.renderDiff();let A=I?2:3,w=I?2:4;R&&(A-=1,w-=1);const O=this.props.renderGutter?1:0,D=(g||y)&&(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{colSpan:(E?A:w)+O,className:this.styles.titleBlock,children:(0,s.jsx)("pre",{className:this.styles.contentText,children:g})}),E&&(0,s.jsx)("td",{colSpan:A+O,className:this.styles.titleBlock,children:(0,s.jsx)("pre",{className:this.styles.contentText,children:y})})]});return(0,s.jsx)("table",{className:(0,o.default)(this.styles.diffContainer,{[this.styles.splitView]:E}),children:(0,s.jsxs)("tbody",{children:[D,S]})})},this.state={expandedBlocks:[]}}}p.defaultProps={oldValue:"",newValue:"",splitView:!0,highlightLines:[],disableWordDiff:!1,compareMethod:u.DiffMethod.CHARS,styles:{},hideLineNumbers:!1,hideMarkers:!1,extraLinesSurroundingDiff:3,showDiffOnly:!0,useDarkTheme:!1,linesOffset:0,nonce:""},e.default=p})(ii)),ii}var Gf=kJ();const Jm=Kl(Gf),OJ=An.create({name:"videoEmbed",group:"block",atom:!0,selectable:!0,draggable:!0,addAttributes(){return{src:{default:null},title:{default:null}}},parseHTML(){return[{tag:"div.section-iframe-wrapper",getAttrs:e=>{if(typeof e=="string")return!1;const t=e.querySelector("iframe");return{src:t==null?void 0:t.getAttribute("src"),title:t==null?void 0:t.getAttribute("title")}}}]},renderHTML({HTMLAttributes:e}){return["div",{class:"section-iframe-wrapper",style:"padding:8px; margin:8px; display:flex; align-items:center; justify-content:center; aspectRatio:video !important"},["div",{style:"position:relative; width:100%; aspect-ratio:16/9; padding:8px;"},["iframe",Qt(e,{frameborder:"0",allowfullscreen:"true",style:"width:100%; height:100%;"})]]]}}),DJ=An.create({name:"iframe",group:"block",atom:!0,addAttributes(){return{src:{default:null},title:{default:null},frameborder:{default:"0"},allow:{default:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"},allowfullscreen:{default:!0},class:{default:"youtube-embed w-full aspect-video rounded-lg my-4"},"data-embed-type":{default:"youtube"}}},parseHTML(){return[{tag:"iframe"}]},renderHTML({HTMLAttributes:e}){return["iframe",Qt(this.options.HTMLAttributes,e)]},addNodeView(){return({node:e,getPos:t,editor:n})=>{const r=document.createElement("div");r.className="embed-wrapper relative group my-4";const i=document.createElement("iframe");i.src=e.attrs.src,i.title=e.attrs.title||"Embedded video",i.frameBorder="0",i.allow=e.attrs.allow,i.allowFullscreen=!0,i.className="youtube-embed w-full aspect-video rounded-lg";const s=document.createElement("div");s.className="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100",s.contentEditable="false";const a=document.createElement("div");a.className="flex gap-2";const o=document.createElement("button");if(o.className="px-3 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 flex items-center gap-1 shadow-lg",o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg> Remove',o.onclick=u=>{u.preventDefault(),u.stopPropagation(),typeof t=="function"&&n.chain().focus().deleteRange({from:t(),to:t()+e.nodeSize}).run()},a.appendChild(o),s.appendChild(a),r.appendChild(i),r.appendChild(s),e.attrs.title){const u=document.createElement("p");u.className="text-sm text-gray-600 mt-2 font-medium",u.textContent=e.attrs.title,r.appendChild(u)}return{dom:r,contentDOM:null,update:u=>u.type.name!=="iframe"?!1:(i.src=u.attrs.src,i.title=u.attrs.title||"Embedded video",!0)}}},addCommands(){return{setIframe:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}}});var gb=An.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{var t,n;const r=e.getAttribute("colwidth"),i=r?r.split(",").map(s=>parseInt(s,10)):null;if(!i){const s=(t=e.closest("table"))==null?void 0:t.querySelectorAll("colgroup > col"),a=Array.from(((n=e.parentElement)==null?void 0:n.children)||[]).indexOf(e);if(a&&a>-1&&s&&s[a]){const o=s[a].getAttribute("width");return o?[parseInt(o,10)]:null}}return i}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:e}){return["td",Qt(this.options.HTMLAttributes,e),0]}}),bb=An.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:e}){return["th",Qt(this.options.HTMLAttributes,e),0]}}),Tb=An.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",Qt(this.options.HTMLAttributes,e),0]}});function Zm(e,t){return t?["width",`${Math.max(t,e)}px`]:["min-width",`${e}px`]}function Z_(e,t,n,r,i,s){var a;let o=0,u=!0,c=t.firstChild;const l=e.firstChild;if(l!==null)for(let h=0,f=0;h<l.childCount;h+=1){const{colspan:p,colwidth:x}=l.child(h).attrs;for(let _=0;_<p;_+=1,f+=1){const b=i===f?s:x&&x[_],T=b?`${b}px`:"";if(o+=b||r,b||(u=!1),c){if(c.style.width!==T){const[N,g]=Zm(r,b);c.style.setProperty(N,g)}c=c.nextSibling}else{const N=document.createElement("col"),[g,y]=Zm(r,b);N.style.setProperty(g,y),t.appendChild(N)}}}for(;c;){const h=c.nextSibling;(a=c.parentNode)==null||a.removeChild(c),c=h}const d=e.attrs.style&&typeof e.attrs.style=="string"&&/\bwidth\s*:/i.test(e.attrs.style);u&&!d?(n.style.width=`${o}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${o}px`)}var RJ=class{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),e.attrs.style&&(this.table.style.cssText=e.attrs.style),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Z_(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,Z_(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){const t=e.target,n=this.dom.contains(t),r=this.contentDOM.contains(t);return!!(n&&!r&&(e.type==="attributes"||e.type==="childList"||e.type==="characterData"))}};function LJ(e,t,n,r){let i=0,s=!0;const a=[],o=e.firstChild;if(!o)return{};for(let d=0,h=0;d<o.childCount;d+=1){const{colspan:f,colwidth:p}=o.child(d).attrs;for(let x=0;x<f;x+=1,h+=1){const _=n===h?r:p&&p[x];i+=_||t,_||(s=!1);const[b,T]=Zm(t,_);a.push(["col",{style:`${b}: ${T}`}])}}const u=s?`${i}px`:"",c=s?"":`${i}px`;return{colgroup:["colgroup",{},...a],tableWidth:u,tableMinWidth:c}}function ex(e,t){return e.createAndFill()}function PJ(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach(n=>{const r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)}),e.cached.tableNodeTypes=t,t}function MJ(e,t,n,r,i){const s=PJ(e),a=[],o=[];for(let c=0;c<n;c+=1){const l=ex(s.cell);if(l&&o.push(l),r){const d=ex(s.header_cell);d&&a.push(d)}}const u=[];for(let c=0;c<t;c+=1)u.push(s.row.createChecked(null,r&&c===0?a:o));return s.table.createChecked(null,u)}function BJ(e){return e instanceof Kt}var sd=({editor:e})=>{const{selection:t}=e.state;if(!BJ(t))return!1;let n=0;const r=YN(t.ranges[0].$from,s=>s.type.name==="table");return r==null||r.node.descendants(s=>{if(s.type.name==="table")return!1;["tableCell","tableHeader"].includes(s.type.name)&&(n+=1)}),n===t.ranges.length?(e.commands.deleteTable(),!0):!1},jJ="";function FJ(e){return(e||"").replace(/\s+/g," ").trim()}function HJ(e,t,n={}){var r;const i=(r=n.cellLineSeparator)!=null?r:jJ;if(!e||!e.content||e.content.length===0)return"";const s=[];e.content.forEach(p=>{const x=[];p.content&&p.content.forEach(_=>{let b="";_.content&&Array.isArray(_.content)&&_.content.length>1?b=_.content.map(y=>t.renderChildren(y)).join(i):b=_.content?t.renderChildren(_.content):"";const T=FJ(b),N=_.type==="tableHeader";x.push({text:T,isHeader:N})}),s.push(x)});const a=s.reduce((p,x)=>Math.max(p,x.length),0);if(a===0)return"";const o=new Array(a).fill(0);s.forEach(p=>{var x;for(let _=0;_<a;_+=1){const T=(((x=p[_])==null?void 0:x.text)||"").length;T>o[_]&&(o[_]=T),o[_]<3&&(o[_]=3)}});const u=(p,x)=>p+" ".repeat(Math.max(0,x-p.length)),c=s[0],l=c.some(p=>p.isHeader);let d=`
`;const h=new Array(a).fill(0).map((p,x)=>l&&c[x]&&c[x].text||"");return d+=`| ${h.map((p,x)=>u(p,o[x])).join(" | ")} |
`,d+=`| ${o.map(p=>"-".repeat(Math.max(3,p))).join(" | ")} |
`,(l?s.slice(1):s).forEach(p=>{d+=`| ${new Array(a).fill(0).map((x,_)=>u(p[_]&&p[_].text||"",o[_])).join(" | ")} |
`}),d}var UJ=HJ,Eb=An.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:RJ,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:e,HTMLAttributes:t}){const{colgroup:n,tableWidth:r,tableMinWidth:i}=LJ(e,this.options.cellMinWidth),s=t.style;function a(){return s||(r?`width: ${r}`:`min-width: ${i}`)}const o=["table",Qt(this.options.HTMLAttributes,t,{style:a()}),n,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},o]:o},parseMarkdown:(e,t)=>{const n=[];if(e.header){const r=[];e.header.forEach(i=>{r.push(t.createNode("tableHeader",{},[{type:"paragraph",content:t.parseInline(i.tokens)}]))}),n.push(t.createNode("tableRow",{},r))}return e.rows&&e.rows.forEach(r=>{const i=[];r.forEach(s=>{i.push(t.createNode("tableCell",{},[{type:"paragraph",content:t.parseInline(s.tokens)}]))}),n.push(t.createNode("tableRow",{},i))}),t.createNode("table",void 0,n)},renderMarkdown:(e,t)=>UJ(e,t),addCommands(){return{insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:s})=>{const a=MJ(s.schema,e,t,n);if(i){const o=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(Ve.near(r.doc.resolve(o)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>Z$(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>eW(e,t),deleteColumn:()=>({state:e,dispatch:t})=>nW(e,t),addRowBefore:()=>({state:e,dispatch:t})=>iW(e,t),addRowAfter:()=>({state:e,dispatch:t})=>sW(e,t),deleteRow:()=>({state:e,dispatch:t})=>uW(e,t),deleteTable:()=>({state:e,dispatch:t})=>pW(e,t),mergeCells:()=>({state:e,dispatch:t})=>Z2(e,t),splitCell:()=>({state:e,dispatch:t})=>ey(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>ql("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>ql("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>fW(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>Z2(e,t)?!0:ey(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:r})=>cW(e,t)(n,r),goToNextCell:()=>({state:e,dispatch:t})=>ny(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>ny(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&Jv(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){const r=Kt.create(t.doc,e.anchorCell,e.headCell);t.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:sd,"Mod-Backspace":sd,Delete:sd,"Mod-Delete":sd}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[CW({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],LW({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:Bt(Fe(e,"tableRole",t))}}});Jt.create({name:"tableKit",addExtensions(){const e=[];return this.options.table!==!1&&e.push(Eb.configure(this.options.table)),this.options.tableCell!==!1&&e.push(gb.configure(this.options.tableCell)),this.options.tableHeader!==!1&&e.push(bb.configure(this.options.tableHeader)),this.options.tableRow!==!1&&e.push(Tb.configure(this.options.tableRow)),e}});var zJ=Tb,qJ=gb,GJ=bb;const tx=[{label:"Arial",value:"font-arial"},{label:"Georgia",value:"font-georgia"},{label:"Mono",value:"font-mono"},{label:"Comic Sans",value:"font-comic"}],VJ=({blog:e,content:t,setContent:n,unsavedChanges:r,setUnsavedChanges:i})=>{var ie,ce;const[s,a]=q.useState(!0),[o,u]=q.useState(tx[0].value),[c,l]=q.useState(!1),[d,h]=q.useState(!1),[f,p]=q.useState(!1),[x,_]=q.useState(!1),[b,T]=q.useState({row:0,col:0}),N=q.useRef(null),[g,y]=q.useState(""),[E,I]=q.useState(""),[R,L]=q.useState(""),[S,A]=q.useState(!1),[w,O]=q.useState(!1),[D,B]=q.useState(null),[M,F]=q.useState(null),[G,$]=q.useState(null),[P,j]=q.useState(null),[W,H]=q.useState(null);q.useRef(null);const[Z,ee]=q.useState(""),ae=Ql(),{handlePopup:_e}=tg(),ge=oi(X=>X.auth.user),je=(ie=ge==null?void 0:ge.subscription)==null?void 0:ie.plan;ig();const Se=q.useCallback(X=>X.replace(/\s+/g," ").trim(),[]);(ce=t!=null?t:e==null?void 0:e.content)!=null;const Ie=q.useCallback(X=>{if(!X)return"<p></p>";const me=jt.parse(X.replace(/!\[\s*["']?(.*?)["']?\s*\]\((.*?)\)/g,(re,lt,Ht)=>`![${lt}](${Ht})`).replace(/'/g,"'"),{gfm:!0,breaks:!0});return UK.sanitize(me,{ADD_TAGS:["iframe","div","table","th","td","tr"],ADD_ATTR:["allow","allowfullscreen","frameborder","scrolling","src","style","title","class"]})},[]),qe=q.useCallback(X=>{if(!X)return"";const me=new qs({headingStyle:"atx",bulletListMarker:"-"});return me.keep(["p","div","iframe","table","tr","th","td"]),me.turndown(X)},[]),te=I1({extensions:[X1.configure({heading:!1}),M1.configure({levels:[1,2,3,4]}),kw.configure({HTMLAttributes:{class:"rounded-lg mx-auto w-3/4 h-auto object-contain"}}),Ow.configure({types:["heading","paragraph"]}),Eb.configure({resizable:!1,allowTableNodeSelection:!0,HTMLAttributes:{class:"border-2 w-full border-collapse p-2"}}),GJ.configure({HTMLAttributes:{class:"text-center font-bold border align-middle border-gray-400"}}),zJ.configure({HTMLAttributes:{class:"text-center font-medium border align-middle border-gray-400"}}),qJ.configure({HTMLAttributes:{class:"text-center font-medium border align-middle border-gray-400"}}),OJ],content:"<p></p>",editorProps:{attributes:{class:`prose max-w-none focus:outline-none p-4 min-h-[400px] ${o} blog-content editor-container`}},onUpdate:({editor:X})=>{const me=X.getHTML(),re=qe(me);n(re);const lt=Se(re),Ht=Se(Z!=null?Z:"");i(lt!==Ht)}},[o,qe,n,i,Z,Se]),$e=q.useCallback(X=>{if(je==="free"||je==="basic"){ae("/pricing");return}X()},[je,ae]),st=q.useCallback(()=>{if(!te||te.state.selection.empty){de.error("Select text to link.");return}$e(()=>{y(""),l(!0)})},[te,$e]),Rt=q.useCallback(()=>{$e(()=>{I(""),L(""),h(!0)})},[$e]),yt=q.useCallback((X,me)=>{I(X),L(me),p(!1)},[]),xt=q.useCallback(()=>{if(!g||!/https?:\/\//i.test(g)){de.error("Enter a valid URL.");return}if(te){const{from:X,to:me}=te.state.selection;te.chain().focus().setLink({href:g,target:"_blank",rel:"noopener noreferrer"}).setTextSelection({from:X,to:me}).run(),l(!1),de.success("Link added.")}},[g,te]),zt=q.useCallback(()=>{if(!E||!/https?:\/\//i.test(E)){de.error("Enter a valid image URL.");return}te&&(te.chain().focus().setImage({src:E,alt:R}).run(),h(!1),de.success("Image added."))},[E,R,te]),Re=q.useCallback(X=>{if(X.target.tagName==="IMG"){const{src:me,alt:re}=X.target;B({src:me,alt:re||""}),L(re||""),O(!0)}},[]),Nt=q.useCallback(()=>{if(!D||!R){de.error("Alt text is required.");return}if(te){let X=!1;te.state.doc.descendants((me,re)=>{me.type.name==="image"&&me.attrs.src===D.src&&(te.chain().focus().setNodeSelection(re).setImage({src:D.src,alt:R}).run(),X=!0)}),X&&(de.success("Image alt text updated."),O(!1),B(null),L(""))}},[D,R,te]),At=q.useCallback(()=>{if(!D||!te)return;let X=!1;te.state.doc.descendants((me,re)=>{me.type.name==="image"&&me.attrs.src===D.src&&(te.chain().focus().deleteRange({from:re,to:re+1}).run(),X=!0)}),X&&(O(!1),B(null),L(""),de.success("Image deleted."))},[D,te]),nt=q.useCallback(()=>{$e(()=>{_(X=>!X)})},[$e]),Et=q.useCallback((X,me)=>{te&&(_(!1),T({row:0,col:0}),setTimeout(()=>{te.chain().focus().insertTable({rows:X,cols:me,withHeaderRow:!0}).run(),de.success(`Table ${X}x${me} added.`)},100))},[te]);q.useEffect(()=>{const X=me=>{x&&N.current&&!N.current.contains(me.target)&&!me.target.closest(".fixed.bg-white")&&(_(!1),T({row:0,col:0}))};return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[x]),q.useEffect(()=>{if(te&&(e!=null&&e.content)){const X=Ie(e.content);te.commands.setContent(X,!1),n(e.content),ee(e.content),setTimeout(()=>{const me=document.querySelector(".flex-1.overflow-auto.custom-scroll");me&&(me.scrollTop=0)},100)}},[te,e,Ie]),q.useEffect(()=>{a(!0);const X=setTimeout(()=>{a(!1)},300);return()=>clearTimeout(X)},[te]),q.useEffect(()=>{if(te)return A(!0),()=>{te.isDestroyed||te.destroy()}},[te]),q.useEffect(()=>{var X;if((X=te==null?void 0:te.view)!=null&&X.dom){const me=te.view.dom;return me.addEventListener("click",Re),()=>me==null?void 0:me.removeEventListener("click",Re)}},[te,Re]);const ht=()=>m.jsxs("div",{className:"bg-white border-x border-gray-200 shadow-sm px-2 sm:px-4 py-2 flex flex-wrap items-center justify-start gap-y-2 overflow-x-auto",children:[m.jsx("div",{className:"flex gap-1 flex-shrink-0",children:[1,2,3,4].map(X=>m.jsx(kt,{title:`Heading ${X}`,children:m.jsxs("button",{onClick:()=>$e(()=>te.chain().focus().toggleHeading({level:X}).run()),className:`p-2 rounded-md transition-colors ${te!=null&&te.isActive("heading",{level:X})?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,type:"button",children:[X===1&&m.jsx(pk,{className:"w-4 h-4"}),X===2&&m.jsx(gk,{className:"w-4 h-4"}),X===3&&m.jsx(mx,{className:"w-4 h-4"}),X===4&&m.jsx(gx,{className:"w-4 h-4"})]})},X))}),m.jsx("div",{className:"w-px h-6 bg-gray-200 mx-2 flex-shrink-0"}),m.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[m.jsx(kt,{title:"Bold",children:m.jsx("button",{onClick:()=>$e(()=>te.chain().focus().toggleBold().run()),className:`p-2 rounded-md transition-colors ${te!=null&&te.isActive("bold")?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,type:"button",children:m.jsx(Sd,{className:"w-4 h-4"})})}),m.jsx(kt,{title:"Italic",children:m.jsx("button",{onClick:()=>$e(()=>te.chain().focus().toggleItalic().run()),className:`p-2 rounded-md transition-colors ${te!=null&&te.isActive("italic")?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,type:"button",children:m.jsx(Nd,{className:"w-4 h-4"})})})]}),m.jsx("div",{className:"w-px h-6 bg-gray-200 mx-2 flex-shrink-0"}),m.jsx("div",{className:"flex gap-1 flex-shrink-0",children:["left","center","right"].map(X=>m.jsx(kt,{title:`Align ${X}`,children:m.jsxs("button",{onClick:()=>$e(()=>te.chain().focus().setTextAlign(X).run()),className:`p-2 rounded-md transition-colors ${te!=null&&te.isActive({textAlign:X})?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,type:"button",children:[X==="left"&&m.jsx(fx,{className:"w-4 h-4"}),X==="center"&&m.jsx(dx,{className:"w-4 h-4"}),X==="right"&&m.jsx(hx,{className:"w-4 h-4"})]})},X))}),m.jsx("div",{className:"w-px h-6 bg-gray-200 mx-2 flex-shrink-0"}),m.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[m.jsx(kt,{title:"Bullet List",children:m.jsx("button",{onClick:()=>$e(()=>te.chain().focus().toggleBulletList().run()),className:`p-2 rounded-md transition-colors ${te!=null&&te.isActive("bulletList")?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,type:"button",children:m.jsx(Tx,{className:"w-4 h-4"})})}),m.jsx(kt,{title:"Ordered List",children:m.jsx("button",{onClick:()=>$e(()=>te.chain().focus().toggleOrderedList().run()),className:`p-2 rounded-md transition-colors ${te!=null&&te.isActive("orderedList")?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,type:"button",children:m.jsx(bx,{className:"w-4 h-4"})})})]}),m.jsx("div",{className:"w-px h-6 bg-gray-200 mx-2 flex-shrink-0"}),m.jsxs("div",{className:"flex gap-1 flex-nowrap",children:[m.jsx(kt,{title:"Link",children:m.jsx("button",{onClick:st,className:"p-2 rounded-md hover:bg-gray-100 flex-shrink-0",type:"button",children:m.jsx(Au,{className:"w-4 h-4"})})}),m.jsx(kt,{title:"Image",children:m.jsx("button",{onClick:Rt,className:"p-2 rounded-md hover:bg-gray-100 flex-shrink-0",type:"button",children:m.jsx(ai,{className:"w-4 h-4"})})}),m.jsx("div",{className:"relative",ref:N,children:m.jsx(kt,{title:"Table",children:m.jsx("button",{onClick:nt,className:`p-2 rounded-md hover:bg-gray-100 flex-shrink-0 ${x?"bg-blue-100 text-blue-600":""}`,type:"button",children:m.jsx(yx,{className:"w-4 h-4"})})})}),x&&N.current&&$f.createPortal(m.jsxs("div",{className:"fixed bg-white border border-gray-300 rounded-lg shadow-lg p-3 z-[9999]",style:{top:`${N.current.getBoundingClientRect().bottom+8}px`,left:`${N.current.getBoundingClientRect().left}px`},children:[m.jsx("div",{className:"mb-2 text-xs text-gray-600 text-center",children:b.row>0&&b.col>0?`${b.row} x ${b.col}`:"Select table size"}),m.jsx("div",{className:"grid gap-1",style:{gridTemplateColumns:"repeat(10, 1fr)"},children:Array.from({length:10},(X,me)=>Array.from({length:10},(re,lt)=>m.jsx("div",{className:`w-5 h-5 border border-gray-300 cursor-pointer transition-colors ${me<b.row&&lt<b.col?"bg-blue-500 border-blue-600":"bg-white hover:bg-blue-100"}`,onMouseEnter:()=>T({row:me+1,col:lt+1}),onClick:()=>Et(me+1,lt+1)},`${me}-${lt}`)))})]}),document.body),(te==null?void 0:te.isActive("table"))&&m.jsx(sg,{content:m.jsxs("div",{className:"flex flex-col gap-1 min-w-[180px]",children:[m.jsx(He,{size:"small",icon:m.jsx(kn,{className:"w-3 h-3"}),onClick:()=>{te.chain().focus().addRowBefore().run(),de.success("Row added")},disabled:!te.can().addRowBefore(),className:"justify-start",children:"Add Row Before"}),m.jsx(He,{size:"small",icon:m.jsx(kn,{className:"w-3 h-3"}),onClick:()=>{te.chain().focus().addRowAfter().run(),de.success("Row added")},disabled:!te.can().addRowAfter(),className:"justify-start",children:"Add Row After"}),m.jsx(He,{size:"small",icon:m.jsx(vd,{className:"w-3 h-3"}),onClick:()=>{te.chain().focus().deleteRow().run(),de.success("Row deleted")},disabled:!te.can().deleteRow(),danger:!0,className:"justify-start",children:"Delete Row"}),m.jsx("div",{className:"border-t my-1"}),m.jsx(He,{size:"small",icon:m.jsx(kn,{className:"w-3 h-3"}),onClick:()=>{te.chain().focus().addColumnBefore().run(),de.success("Column added")},disabled:!te.can().addColumnBefore(),className:"justify-start",children:"Add Column Before"}),m.jsx(He,{size:"small",icon:m.jsx(kn,{className:"w-3 h-3"}),onClick:()=>{te.chain().focus().addColumnAfter().run()},disabled:!te.can().addColumnAfter(),className:"justify-start",children:"Add Column After"}),m.jsx(He,{size:"small",icon:m.jsx(vd,{className:"w-3 h-3"}),onClick:()=>{te.chain().focus().deleteColumn().run()},disabled:!te.can().deleteColumn(),danger:!0,className:"justify-start",children:"Delete Column"}),m.jsx("div",{className:"border-t my-1"}),m.jsx(He,{size:"small",icon:m.jsx(wi,{className:"w-3 h-3"}),onClick:()=>{te.chain().focus().deleteTable().run()},disabled:!te.can().deleteTable(),danger:!0,className:"justify-start",children:"Delete Table"})]}),trigger:"click",placement:"bottomLeft",children:m.jsx(kt,{title:"Table Options",children:m.jsx("button",{className:`p-2 rounded-md transition-colors flex-shrink-0 ${te.isActive("table")?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,type:"button",children:m.jsx(Ex,{className:"w-4 h-4"})})})}),m.jsx(kt,{title:"Undo",children:m.jsx("button",{onClick:()=>$e(()=>te==null?void 0:te.chain().focus().undo().run()),className:"p-2 rounded-md hover:bg-gray-100 flex-shrink-0",type:"button",children:m.jsx(Hk,{className:"w-4 h-4"})})}),m.jsx(kt,{title:"Redo",children:m.jsx("button",{onClick:()=>$e(()=>te==null?void 0:te.chain().focus().redo().run()),className:"p-2 rounded-md hover:bg-gray-100 flex-shrink-0",type:"button",children:m.jsx(Ik,{className:"w-4 h-4"})})})]}),m.jsx("div",{className:"w-px h-6 bg-gray-200 mx-2 flex-shrink-0"}),m.jsx(Ar,{value:o,onChange:X=>$e(()=>u(X)),className:"w-32 flex-shrink-0",children:tx.map(X=>m.jsx(Ar.Option,{value:X.value,children:X.label},X.value))})]});return s||!S?m.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-300px)] bg-white border rounded-lg",children:m.jsx(Cd,{})}):m.jsxs(jn.div,{className:"flex-1 bg-gray-50 h-full flex flex-col",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[m.jsx("div",{className:"sticky top-0 z-50 bg-white shadow-sm flex-shrink-0",children:ht()}),m.jsxs("div",{className:"flex-1 overflow-auto custom-scroll bg-white p-4",children:[te&&m.jsxs(jW,{editor:te,className:"flex gap-2 bg-white shadow-lg p-2 rounded-lg border",children:[m.jsx(kt,{title:"Bold",children:m.jsx("button",{className:"p-2 rounded hover:bg-gray-200",onClick:()=>$e(()=>te.chain().focus().toggleBold().run()),children:m.jsx(Sd,{className:"w-5 h-5"})})}),m.jsx(kt,{title:"Italic",children:m.jsx("button",{className:"p-2 rounded hover:bg-gray-200",onClick:()=>$e(()=>te.chain().focus().toggleItalic().run()),children:m.jsx(Nd,{className:"w-5 h-5"})})}),m.jsx(kt,{title:"Link",children:m.jsx("button",{className:"p-2 rounded hover:bg-gray-200",onClick:st,children:m.jsx(Au,{className:"w-5 h-5"})})})]}),m.jsx(w1,{editor:te})]}),m.jsx(hn,{title:"Insert Link",open:c,onOk:xt,onCancel:()=>l(!1),footer:m.jsxs(Mb,{justify:"end",gap:16,children:[m.jsx(He,{onClick:()=>l(!1),children:"Cancel"},"cancel"),m.jsx(He,{type:"primary",onClick:xt,children:"Ok"},"ok")]}),centered:!0,children:m.jsx(Ct,{value:g,onChange:X=>y(X.target.value),placeholder:"https://example.com",className:"mt-4"})}),m.jsx(hn,{title:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 pr-6 sm:pr-10",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ai,{className:"w-5 h-5 text-purple-600"}),m.jsx("span",{children:"Add Image"})]}),m.jsx(He,{size:"small",type:f?"primary":"default",onClick:()=>p(X=>!X),className:"text-xs w-full sm:w-auto",icon:m.jsx(ai,{className:"w-3 h-3"}),children:f?"Manual Entry":"Browse Gallery"})]}),open:d,onCancel:()=>{h(!1),p(!1)},footer:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx(He,{onClick:()=>{h(!1),p(!1)},children:"Cancel"}),m.jsx(He,{type:"primary",onClick:zt,children:"Add Image"})]}),width:"100%",style:{maxWidth:f?"1200px":"600px",top:20,paddingBottom:0},centered:!0,bodyStyle:{padding:0,maxHeight:"85vh",overflow:"hidden"},className:"responsive-image-modal",children:m.jsxs("div",{className:`flex flex-col ${f?"md:flex-row h-[85vh] md:h-[80vh]":""}`,children:[m.jsxs("div",{className:`${f?"w-full md:w-[400px] border-b md:border-b-0 md:border-r":"w-full"} p-4 sm:p-6 space-y-4 flex-shrink-0 ${f?"overflow-y-auto":""}`,children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),m.jsx(Ct,{value:E,onChange:X=>I(X.target.value),placeholder:"https://example.com/image.jpg",size:"large"}),E&&m.jsx("div",{className:"mt-3 border rounded-lg overflow-hidden bg-gray-50 p-2",children:m.jsx("img",{src:E,alt:"Preview",className:"w-full h-auto max-h-48 object-contain rounded",onError:X=>X.target.style.display="none"})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alt Text (optional)"}),m.jsx(Ct,{value:R,onChange:X=>L(X.target.value),placeholder:"Description of the image",size:"large"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Helps with SEO and accessibility"})]})]}),f&&m.jsx("div",{className:"flex-1 p-4 sm:p-6 bg-gray-50 overflow-hidden min-h-[400px] md:min-h-0",children:m.jsx(ux,{onSelect:yt,selectedImageUrl:E})})]})}),m.jsxs(hn,{title:"Edit Image",open:w,onOk:Nt,onCancel:()=>{O(!1),B(null)},footer:m.jsxs(Mb,{justify:"end",gap:16,children:[m.jsx(He,{danger:!0,icon:m.jsx(wi,{className:"w-4 h-4"}),onClick:At,children:"Delete"},"delete"),m.jsx(He,{onClick:()=>O(!1),children:"Cancel"},"cancel"),m.jsx(He,{type:"primary",onClick:Nt,children:"Update"},"ok")]}),centered:!0,children:[m.jsx(Ct,{value:R,onChange:X=>L(X.target.value),placeholder:"Alt text",className:"mt-4"}),D&&m.jsx("img",{src:D.src,alt:R,className:"mt-4 rounded-lg max-w-full"})]})]})};var Ad={exports:{}},$J=Ad.exports,nx;function WJ(){return nx||(nx=1,(function(e){(function(){function t(g){var y={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `Â«Â«Â«` and `Â»Â»Â»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(g===!1)return JSON.parse(JSON.stringify(y));var E={};for(var I in y)y.hasOwnProperty(I)&&(E[I]=y[I].defaultValue);return E}function n(){var g=t(!0),y={};for(var E in g)g.hasOwnProperty(E)&&(y[E]=!0);return y}var r={},i={},s={},a=t(!0),o="vanilla",u={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:t(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(g,y){return a[g]=y,this},r.getOption=function(g){return a[g]},r.getOptions=function(){return a},r.resetOptions=function(){a=t(!0)},r.setFlavor=function(g){if(!u.hasOwnProperty(g))throw Error(g+" flavor was not found");r.resetOptions();var y=u[g];o=g;for(var E in y)y.hasOwnProperty(E)&&(a[E]=y[E])},r.getFlavor=function(){return o},r.getFlavorOptions=function(g){if(u.hasOwnProperty(g))return u[g]},r.getDefaultOptions=function(g){return t(g)},r.subParser=function(g,y){if(r.helper.isString(g))if(typeof y!="undefined")i[g]=y;else{if(i.hasOwnProperty(g))return i[g];throw Error("SubParser named "+g+" not registered!")}},r.extension=function(g,y){if(!r.helper.isString(g))throw Error("Extension 'name' must be a string");if(g=r.helper.stdExtName(g),r.helper.isUndefined(y)){if(!s.hasOwnProperty(g))throw Error("Extension named "+g+" is not registered!");return s[g]}else{typeof y=="function"&&(y=y()),r.helper.isArray(y)||(y=[y]);var E=c(y,g);if(E.valid)s[g]=y;else throw Error(E.error)}},r.getAllExtensions=function(){return s},r.removeExtension=function(g){delete s[g]},r.resetExtensions=function(){s={}};function c(g,y){var E=y?"Error in "+y+" extension->":"Error in unnamed extension",I={valid:!0,error:""};r.helper.isArray(g)||(g=[g]);for(var R=0;R<g.length;++R){var L=E+" sub-extension "+R+": ",S=g[R];if(typeof S!="object")return I.valid=!1,I.error=L+"must be an object, but "+typeof S+" given",I;if(!r.helper.isString(S.type))return I.valid=!1,I.error=L+'property "type" must be a string, but '+typeof S.type+" given",I;var A=S.type=S.type.toLowerCase();if(A==="language"&&(A=S.type="lang"),A==="html"&&(A=S.type="output"),A!=="lang"&&A!=="output"&&A!=="listener")return I.valid=!1,I.error=L+"type "+A+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',I;if(A==="listener"){if(r.helper.isUndefined(S.listeners))return I.valid=!1,I.error=L+'. Extensions of type "listener" must have a property called "listeners"',I}else if(r.helper.isUndefined(S.filter)&&r.helper.isUndefined(S.regex))return I.valid=!1,I.error=L+A+' extensions must define either a "regex" property or a "filter" method',I;if(S.listeners){if(typeof S.listeners!="object")return I.valid=!1,I.error=L+'"listeners" property must be an object but '+typeof S.listeners+" given",I;for(var w in S.listeners)if(S.listeners.hasOwnProperty(w)&&typeof S.listeners[w]!="function")return I.valid=!1,I.error=L+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+w+" must be a function but "+typeof S.listeners[w]+" given",I}if(S.filter){if(typeof S.filter!="function")return I.valid=!1,I.error=L+'"filter" must be a function, but '+typeof S.filter+" given",I}else if(S.regex){if(r.helper.isString(S.regex)&&(S.regex=new RegExp(S.regex,"g")),!(S.regex instanceof RegExp))return I.valid=!1,I.error=L+'"regex" property must either be a string or a RegExp object, but '+typeof S.regex+" given",I;if(r.helper.isUndefined(S.replace))return I.valid=!1,I.error=L+'"regex" extensions must implement a replace string or function',I}}return I}r.validateExtension=function(g){var y=c(g,null);return y.valid?!0:(console.warn(y.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(g){return typeof g=="string"||g instanceof String},r.helper.isFunction=function(g){var y={};return g&&y.toString.call(g)==="[object Function]"},r.helper.isArray=function(g){return Array.isArray(g)},r.helper.isUndefined=function(g){return typeof g=="undefined"},r.helper.forEach=function(g,y){if(r.helper.isUndefined(g))throw new Error("obj param is required");if(r.helper.isUndefined(y))throw new Error("callback param is required");if(!r.helper.isFunction(y))throw new Error("callback param must be a function/closure");if(typeof g.forEach=="function")g.forEach(y);else if(r.helper.isArray(g))for(var E=0;E<g.length;E++)y(g[E],E,g);else if(typeof g=="object")for(var I in g)g.hasOwnProperty(I)&&y(g[I],I,g);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(g){return g.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function l(g,y){var E=y.charCodeAt(0);return"Â¨E"+E+"E"}r.helper.escapeCharactersCallback=l,r.helper.escapeCharacters=function(g,y,E){var I="(["+y.replace(/([\[\]\\])/g,"\\$1")+"])";E&&(I="\\\\"+I);var R=new RegExp(I,"g");return g=g.replace(R,l),g},r.helper.unescapeHTMLEntities=function(g){return g.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var d=function(g,y,E,I){var R=I||"",L=R.indexOf("g")>-1,S=new RegExp(y+"|"+E,"g"+R.replace(/g/g,"")),A=new RegExp(y,R.replace(/g/g,"")),w=[],O,D,B,M,F;do for(O=0;B=S.exec(g);)if(A.test(B[0]))O++||(D=S.lastIndex,M=D-B[0].length);else if(O&&!--O){F=B.index+B[0].length;var G={left:{start:M,end:D},match:{start:D,end:B.index},right:{start:B.index,end:F},wholeMatch:{start:M,end:F}};if(w.push(G),!L)return w}while(O&&(S.lastIndex=D));return w};r.helper.matchRecursiveRegExp=function(g,y,E,I){for(var R=d(g,y,E,I),L=[],S=0;S<R.length;++S)L.push([g.slice(R[S].wholeMatch.start,R[S].wholeMatch.end),g.slice(R[S].match.start,R[S].match.end),g.slice(R[S].left.start,R[S].left.end),g.slice(R[S].right.start,R[S].right.end)]);return L},r.helper.replaceRecursiveRegExp=function(g,y,E,I,R){if(!r.helper.isFunction(y)){var L=y;y=function(){return L}}var S=d(g,E,I,R),A=g,w=S.length;if(w>0){var O=[];S[0].wholeMatch.start!==0&&O.push(g.slice(0,S[0].wholeMatch.start));for(var D=0;D<w;++D)O.push(y(g.slice(S[D].wholeMatch.start,S[D].wholeMatch.end),g.slice(S[D].match.start,S[D].match.end),g.slice(S[D].left.start,S[D].left.end),g.slice(S[D].right.start,S[D].right.end))),D<w-1&&O.push(g.slice(S[D].wholeMatch.end,S[D+1].wholeMatch.start));S[w-1].wholeMatch.end<g.length&&O.push(g.slice(S[w-1].wholeMatch.end)),A=O.join("")}return A},r.helper.regexIndexOf=function(g,y,E){if(!r.helper.isString(g))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(y instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var I=g.substring(E||0).search(y);return I>=0?I+(E||0):I},r.helper.splitAtIndex=function(g,y){if(!r.helper.isString(g))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[g.substring(0,y),g.substring(y)]},r.helper.encodeEmailAddress=function(g){var y=[function(E){return"&#"+E.charCodeAt(0)+";"},function(E){return"&#x"+E.charCodeAt(0).toString(16)+";"},function(E){return E}];return g=g.replace(/./g,function(E){if(E==="@")E=y[Math.floor(Math.random()*2)](E);else{var I=Math.random();E=I>.9?y[2](E):I>.45?y[1](E):y[0](E)}return E}),g},r.helper.padEnd=function(y,E,I){return E=E>>0,I=String(I||" "),y.length>E?String(y):(E=E-y.length,E>I.length&&(I+=I.repeat(E/I.length)),String(y)+I.slice(0,E))},typeof console=="undefined"&&(console={warn:function(g){alert(g)},log:function(g){alert(g)},error:function(g){throw g}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"ð","-1":"ð",100:"ð¯",1234:"ð¢","1st_place_medal":"ð¥","2nd_place_medal":"ð¥","3rd_place_medal":"ð¥","8ball":"ð±",a:"ð°ï¸",ab:"ð",abc:"ð¤",abcd:"ð¡",accept:"ð",aerial_tramway:"ð¡",airplane:"âï¸",alarm_clock:"â°",alembic:"âï¸",alien:"ð½",ambulance:"ð",amphora:"ðº",anchor:"âï¸",angel:"ð¼",anger:"ð¢",angry:"ð ",anguished:"ð§",ant:"ð",apple:"ð",aquarius:"âï¸",aries:"âï¸",arrow_backward:"âï¸",arrow_double_down:"â¬",arrow_double_up:"â«",arrow_down:"â¬ï¸",arrow_down_small:"ð½",arrow_forward:"â¶ï¸",arrow_heading_down:"â¤µï¸",arrow_heading_up:"â¤´ï¸",arrow_left:"â¬ï¸",arrow_lower_left:"âï¸",arrow_lower_right:"âï¸",arrow_right:"â¡ï¸",arrow_right_hook:"âªï¸",arrow_up:"â¬ï¸",arrow_up_down:"âï¸",arrow_up_small:"ð¼",arrow_upper_left:"âï¸",arrow_upper_right:"âï¸",arrows_clockwise:"ð",arrows_counterclockwise:"ð",art:"ð¨",articulated_lorry:"ð",artificial_satellite:"ð°",astonished:"ð²",athletic_shoe:"ð",atm:"ð§",atom_symbol:"âï¸",avocado:"ð¥",b:"ð±ï¸",baby:"ð¶",baby_bottle:"ð¼",baby_chick:"ð¤",baby_symbol:"ð¼",back:"ð",bacon:"ð¥",badminton:"ð¸",baggage_claim:"ð",baguette_bread:"ð¥",balance_scale:"âï¸",balloon:"ð",ballot_box:"ð³",ballot_box_with_check:"âï¸",bamboo:"ð",banana:"ð",bangbang:"â¼ï¸",bank:"ð¦",bar_chart:"ð",barber:"ð",baseball:"â¾ï¸",basketball:"ð",basketball_man:"â¹ï¸",basketball_woman:"â¹ï¸&zwj;âï¸",bat:"ð¦",bath:"ð",bathtub:"ð",battery:"ð",beach_umbrella:"ð",bear:"ð»",bed:"ð",bee:"ð",beer:"ðº",beers:"ð»",beetle:"ð",beginner:"ð°",bell:"ð",bellhop_bell:"ð",bento:"ð±",biking_man:"ð´",bike:"ð²",biking_woman:"ð´&zwj;âï¸",bikini:"ð",biohazard:"â£ï¸",bird:"ð¦",birthday:"ð",black_circle:"â«ï¸",black_flag:"ð´",black_heart:"ð¤",black_joker:"ð",black_large_square:"â¬ï¸",black_medium_small_square:"â¾ï¸",black_medium_square:"â¼ï¸",black_nib:"âï¸",black_small_square:"âªï¸",black_square_button:"ð²",blonde_man:"ð±",blonde_woman:"ð±&zwj;âï¸",blossom:"ð¼",blowfish:"ð¡",blue_book:"ð",blue_car:"ð",blue_heart:"ð",blush:"ð",boar:"ð",boat:"âµï¸",bomb:"ð£",book:"ð",bookmark:"ð",bookmark_tabs:"ð",books:"ð",boom:"ð¥",boot:"ð¢",bouquet:"ð",bowing_man:"ð",bow_and_arrow:"ð¹",bowing_woman:"ð&zwj;âï¸",bowling:"ð³",boxing_glove:"ð¥",boy:"ð¦",bread:"ð",bride_with_veil:"ð°",bridge_at_night:"ð",briefcase:"ð¼",broken_heart:"ð",bug:"ð",building_construction:"ð",bulb:"ð¡",bullettrain_front:"ð",bullettrain_side:"ð",burrito:"ð¯",bus:"ð",business_suit_levitating:"ð´",busstop:"ð",bust_in_silhouette:"ð¤",busts_in_silhouette:"ð¥",butterfly:"ð¦",cactus:"ðµ",cake:"ð°",calendar:"ð",call_me_hand:"ð¤",calling:"ð²",camel:"ð«",camera:"ð·",camera_flash:"ð¸",camping:"ð",cancer:"âï¸",candle:"ð¯",candy:"ð¬",canoe:"ð¶",capital_abcd:"ð ",capricorn:"âï¸",car:"ð",card_file_box:"ð",card_index:"ð",card_index_dividers:"ð",carousel_horse:"ð ",carrot:"ð¥",cat:"ð±",cat2:"ð",cd:"ð¿",chains:"â",champagne:"ð¾",chart:"ð¹",chart_with_downwards_trend:"ð",chart_with_upwards_trend:"ð",checkered_flag:"ð",cheese:"ð§",cherries:"ð",cherry_blossom:"ð¸",chestnut:"ð°",chicken:"ð",children_crossing:"ð¸",chipmunk:"ð¿",chocolate_bar:"ð«",christmas_tree:"ð",church:"âªï¸",cinema:"ð¦",circus_tent:"ðª",city_sunrise:"ð",city_sunset:"ð",cityscape:"ð",cl:"ð",clamp:"ð",clap:"ð",clapper:"ð¬",classical_building:"ð",clinking_glasses:"ð¥",clipboard:"ð",clock1:"ð",clock10:"ð",clock1030:"ð¥",clock11:"ð",clock1130:"ð¦",clock12:"ð",clock1230:"ð§",clock130:"ð",clock2:"ð",clock230:"ð",clock3:"ð",clock330:"ð",clock4:"ð",clock430:"ð",clock5:"ð",clock530:"ð ",clock6:"ð",clock630:"ð¡",clock7:"ð",clock730:"ð¢",clock8:"ð",clock830:"ð£",clock9:"ð",clock930:"ð¤",closed_book:"ð",closed_lock_with_key:"ð",closed_umbrella:"ð",cloud:"âï¸",cloud_with_lightning:"ð©",cloud_with_lightning_and_rain:"â",cloud_with_rain:"ð§",cloud_with_snow:"ð¨",clown_face:"ð¤¡",clubs:"â£ï¸",cocktail:"ð¸",coffee:"âï¸",coffin:"â°ï¸",cold_sweat:"ð°",comet:"âï¸",computer:"ð»",computer_mouse:"ð±",confetti_ball:"ð",confounded:"ð",confused:"ð",congratulations:"ãï¸",construction:"ð§",construction_worker_man:"ð·",construction_worker_woman:"ð·&zwj;âï¸",control_knobs:"ð",convenience_store:"ðª",cookie:"ðª",cool:"ð",policeman:"ð®",copyright:"Â©ï¸",corn:"ð½",couch_and_lamp:"ð",couple:"ð«",couple_with_heart_woman_man:"ð",couple_with_heart_man_man:"ð¨&zwj;â¤ï¸&zwj;ð¨",couple_with_heart_woman_woman:"ð©&zwj;â¤ï¸&zwj;ð©",couplekiss_man_man:"ð¨&zwj;â¤ï¸&zwj;ð&zwj;ð¨",couplekiss_man_woman:"ð",couplekiss_woman_woman:"ð©&zwj;â¤ï¸&zwj;ð&zwj;ð©",cow:"ð®",cow2:"ð",cowboy_hat_face:"ð¤ ",crab:"ð¦",crayon:"ð",credit_card:"ð³",crescent_moon:"ð",cricket:"ð",crocodile:"ð",croissant:"ð¥",crossed_fingers:"ð¤",crossed_flags:"ð",crossed_swords:"âï¸",crown:"ð",cry:"ð¢",crying_cat_face:"ð¿",crystal_ball:"ð®",cucumber:"ð¥",cupid:"ð",curly_loop:"â°",currency_exchange:"ð±",curry:"ð",custard:"ð®",customs:"ð",cyclone:"ð",dagger:"ð¡",dancer:"ð",dancing_women:"ð¯",dancing_men:"ð¯&zwj;âï¸",dango:"ð¡",dark_sunglasses:"ð¶",dart:"ð¯",dash:"ð¨",date:"ð",deciduous_tree:"ð³",deer:"ð¦",department_store:"ð¬",derelict_house:"ð",desert:"ð",desert_island:"ð",desktop_computer:"ð¥",male_detective:"ðµï¸",diamond_shape_with_a_dot_inside:"ð ",diamonds:"â¦ï¸",disappointed:"ð",disappointed_relieved:"ð¥",dizzy:"ð«",dizzy_face:"ðµ",do_not_litter:"ð¯",dog:"ð¶",dog2:"ð",dollar:"ðµ",dolls:"ð",dolphin:"ð¬",door:"ðª",doughnut:"ð©",dove:"ð",dragon:"ð",dragon_face:"ð²",dress:"ð",dromedary_camel:"ðª",drooling_face:"ð¤¤",droplet:"ð§",drum:"ð¥",duck:"ð¦",dvd:"ð","e-mail":"ð§",eagle:"ð¦",ear:"ð",ear_of_rice:"ð¾",earth_africa:"ð",earth_americas:"ð",earth_asia:"ð",egg:"ð¥",eggplant:"ð",eight_pointed_black_star:"â´ï¸",eight_spoked_asterisk:"â³ï¸",electric_plug:"ð",elephant:"ð",email:"âï¸",end:"ð",envelope_with_arrow:"ð©",euro:"ð¶",european_castle:"ð°",european_post_office:"ð¤",evergreen_tree:"ð²",exclamation:"âï¸",expressionless:"ð",eye:"ð",eye_speech_bubble:"ð&zwj;ð¨",eyeglasses:"ð",eyes:"ð",face_with_head_bandage:"ð¤",face_with_thermometer:"ð¤",fist_oncoming:"ð",factory:"ð­",fallen_leaf:"ð",family_man_woman_boy:"ðª",family_man_boy:"ð¨&zwj;ð¦",family_man_boy_boy:"ð¨&zwj;ð¦&zwj;ð¦",family_man_girl:"ð¨&zwj;ð§",family_man_girl_boy:"ð¨&zwj;ð§&zwj;ð¦",family_man_girl_girl:"ð¨&zwj;ð§&zwj;ð§",family_man_man_boy:"ð¨&zwj;ð¨&zwj;ð¦",family_man_man_boy_boy:"ð¨&zwj;ð¨&zwj;ð¦&zwj;ð¦",family_man_man_girl:"ð¨&zwj;ð¨&zwj;ð§",family_man_man_girl_boy:"ð¨&zwj;ð¨&zwj;ð§&zwj;ð¦",family_man_man_girl_girl:"ð¨&zwj;ð¨&zwj;ð§&zwj;ð§",family_man_woman_boy_boy:"ð¨&zwj;ð©&zwj;ð¦&zwj;ð¦",family_man_woman_girl:"ð¨&zwj;ð©&zwj;ð§",family_man_woman_girl_boy:"ð¨&zwj;ð©&zwj;ð§&zwj;ð¦",family_man_woman_girl_girl:"ð¨&zwj;ð©&zwj;ð§&zwj;ð§",family_woman_boy:"ð©&zwj;ð¦",family_woman_boy_boy:"ð©&zwj;ð¦&zwj;ð¦",family_woman_girl:"ð©&zwj;ð§",family_woman_girl_boy:"ð©&zwj;ð§&zwj;ð¦",family_woman_girl_girl:"ð©&zwj;ð§&zwj;ð§",family_woman_woman_boy:"ð©&zwj;ð©&zwj;ð¦",family_woman_woman_boy_boy:"ð©&zwj;ð©&zwj;ð¦&zwj;ð¦",family_woman_woman_girl:"ð©&zwj;ð©&zwj;ð§",family_woman_woman_girl_boy:"ð©&zwj;ð©&zwj;ð§&zwj;ð¦",family_woman_woman_girl_girl:"ð©&zwj;ð©&zwj;ð§&zwj;ð§",fast_forward:"â©",fax:"ð ",fearful:"ð¨",feet:"ð¾",female_detective:"ðµï¸&zwj;âï¸",ferris_wheel:"ð¡",ferry:"â´",field_hockey:"ð",file_cabinet:"ð",file_folder:"ð",film_projector:"ð½",film_strip:"ð",fire:"ð¥",fire_engine:"ð",fireworks:"ð",first_quarter_moon:"ð",first_quarter_moon_with_face:"ð",fish:"ð",fish_cake:"ð¥",fishing_pole_and_fish:"ð£",fist_raised:"â",fist_left:"ð¤",fist_right:"ð¤",flags:"ð",flashlight:"ð¦",fleur_de_lis:"âï¸",flight_arrival:"ð¬",flight_departure:"ð«",floppy_disk:"ð¾",flower_playing_cards:"ð´",flushed:"ð³",fog:"ð«",foggy:"ð",football:"ð",footprints:"ð£",fork_and_knife:"ð´",fountain:"â²ï¸",fountain_pen:"ð",four_leaf_clover:"ð",fox_face:"ð¦",framed_picture:"ð¼",free:"ð",fried_egg:"ð³",fried_shrimp:"ð¤",fries:"ð",frog:"ð¸",frowning:"ð¦",frowning_face:"â¹ï¸",frowning_man:"ð&zwj;âï¸",frowning_woman:"ð",middle_finger:"ð",fuelpump:"â½ï¸",full_moon:"ð",full_moon_with_face:"ð",funeral_urn:"â±ï¸",game_die:"ð²",gear:"âï¸",gem:"ð",gemini:"âï¸",ghost:"ð»",gift:"ð",gift_heart:"ð",girl:"ð§",globe_with_meridians:"ð",goal_net:"ð¥",goat:"ð",golf:"â³ï¸",golfing_man:"ðï¸",golfing_woman:"ðï¸&zwj;âï¸",gorilla:"ð¦",grapes:"ð",green_apple:"ð",green_book:"ð",green_heart:"ð",green_salad:"ð¥",grey_exclamation:"â",grey_question:"â",grimacing:"ð¬",grin:"ð",grinning:"ð",guardsman:"ð",guardswoman:"ð&zwj;âï¸",guitar:"ð¸",gun:"ð«",haircut_woman:"ð",haircut_man:"ð&zwj;âï¸",hamburger:"ð",hammer:"ð¨",hammer_and_pick:"â",hammer_and_wrench:"ð ",hamster:"ð¹",hand:"â",handbag:"ð",handshake:"ð¤",hankey:"ð©",hatched_chick:"ð¥",hatching_chick:"ð£",headphones:"ð§",hear_no_evil:"ð",heart:"â¤ï¸",heart_decoration:"ð",heart_eyes:"ð",heart_eyes_cat:"ð»",heartbeat:"ð",heartpulse:"ð",hearts:"â¥ï¸",heavy_check_mark:"âï¸",heavy_division_sign:"â",heavy_dollar_sign:"ð²",heavy_heart_exclamation:"â£ï¸",heavy_minus_sign:"â",heavy_multiplication_x:"âï¸",heavy_plus_sign:"â",helicopter:"ð",herb:"ð¿",hibiscus:"ðº",high_brightness:"ð",high_heel:"ð ",hocho:"ðª",hole:"ð³",honey_pot:"ð¯",horse:"ð´",horse_racing:"ð",hospital:"ð¥",hot_pepper:"ð¶",hotdog:"ð­",hotel:"ð¨",hotsprings:"â¨ï¸",hourglass:"âï¸",hourglass_flowing_sand:"â³",house:"ð ",house_with_garden:"ð¡",houses:"ð",hugs:"ð¤",hushed:"ð¯",ice_cream:"ð¨",ice_hockey:"ð",ice_skate:"â¸",icecream:"ð¦",id:"ð",ideograph_advantage:"ð",imp:"ð¿",inbox_tray:"ð¥",incoming_envelope:"ð¨",tipping_hand_woman:"ð",information_source:"â¹ï¸",innocent:"ð",interrobang:"âï¸",iphone:"ð±",izakaya_lantern:"ð®",jack_o_lantern:"ð",japan:"ð¾",japanese_castle:"ð¯",japanese_goblin:"ðº",japanese_ogre:"ð¹",jeans:"ð",joy:"ð",joy_cat:"ð¹",joystick:"ð¹",kaaba:"ð",key:"ð",keyboard:"â¨ï¸",keycap_ten:"ð",kick_scooter:"ð´",kimono:"ð",kiss:"ð",kissing:"ð",kissing_cat:"ð½",kissing_closed_eyes:"ð",kissing_heart:"ð",kissing_smiling_eyes:"ð",kiwi_fruit:"ð¥",koala:"ð¨",koko:"ð",label:"ð·",large_blue_circle:"ðµ",large_blue_diamond:"ð·",large_orange_diamond:"ð¶",last_quarter_moon:"ð",last_quarter_moon_with_face:"ð",latin_cross:"âï¸",laughing:"ð",leaves:"ð",ledger:"ð",left_luggage:"ð",left_right_arrow:"âï¸",leftwards_arrow_with_hook:"â©ï¸",lemon:"ð",leo:"âï¸",leopard:"ð",level_slider:"ð",libra:"âï¸",light_rail:"ð",link:"ð",lion:"ð¦",lips:"ð",lipstick:"ð",lizard:"ð¦",lock:"ð",lock_with_ink_pen:"ð",lollipop:"ð­",loop:"â¿",loud_sound:"ð",loudspeaker:"ð¢",love_hotel:"ð©",love_letter:"ð",low_brightness:"ð",lying_face:"ð¤¥",m:"âï¸",mag:"ð",mag_right:"ð",mahjong:"ðï¸",mailbox:"ð«",mailbox_closed:"ðª",mailbox_with_mail:"ð¬",mailbox_with_no_mail:"ð­",man:"ð¨",man_artist:"ð¨&zwj;ð¨",man_astronaut:"ð¨&zwj;ð",man_cartwheeling:"ð¤¸&zwj;âï¸",man_cook:"ð¨&zwj;ð³",man_dancing:"ðº",man_facepalming:"ð¤¦&zwj;âï¸",man_factory_worker:"ð¨&zwj;ð­",man_farmer:"ð¨&zwj;ð¾",man_firefighter:"ð¨&zwj;ð",man_health_worker:"ð¨&zwj;âï¸",man_in_tuxedo:"ð¤µ",man_judge:"ð¨&zwj;âï¸",man_juggling:"ð¤¹&zwj;âï¸",man_mechanic:"ð¨&zwj;ð§",man_office_worker:"ð¨&zwj;ð¼",man_pilot:"ð¨&zwj;âï¸",man_playing_handball:"ð¤¾&zwj;âï¸",man_playing_water_polo:"ð¤½&zwj;âï¸",man_scientist:"ð¨&zwj;ð¬",man_shrugging:"ð¤·&zwj;âï¸",man_singer:"ð¨&zwj;ð¤",man_student:"ð¨&zwj;ð",man_teacher:"ð¨&zwj;ð«",man_technologist:"ð¨&zwj;ð»",man_with_gua_pi_mao:"ð²",man_with_turban:"ð³",tangerine:"ð",mans_shoe:"ð",mantelpiece_clock:"ð°",maple_leaf:"ð",martial_arts_uniform:"ð¥",mask:"ð·",massage_woman:"ð",massage_man:"ð&zwj;âï¸",meat_on_bone:"ð",medal_military:"ð",medal_sports:"ð",mega:"ð£",melon:"ð",memo:"ð",men_wrestling:"ð¤¼&zwj;âï¸",menorah:"ð",mens:"ð¹",metal:"ð¤",metro:"ð",microphone:"ð¤",microscope:"ð¬",milk_glass:"ð¥",milky_way:"ð",minibus:"ð",minidisc:"ð½",mobile_phone_off:"ð´",money_mouth_face:"ð¤",money_with_wings:"ð¸",moneybag:"ð°",monkey:"ð",monkey_face:"ðµ",monorail:"ð",moon:"ð",mortar_board:"ð",mosque:"ð",motor_boat:"ð¥",motor_scooter:"ðµ",motorcycle:"ð",motorway:"ð£",mount_fuji:"ð»",mountain:"â°",mountain_biking_man:"ðµ",mountain_biking_woman:"ðµ&zwj;âï¸",mountain_cableway:"ð ",mountain_railway:"ð",mountain_snow:"ð",mouse:"ð­",mouse2:"ð",movie_camera:"ð¥",moyai:"ð¿",mrs_claus:"ð¤¶",muscle:"ðª",mushroom:"ð",musical_keyboard:"ð¹",musical_note:"ðµ",musical_score:"ð¼",mute:"ð",nail_care:"ð",name_badge:"ð",national_park:"ð",nauseated_face:"ð¤¢",necktie:"ð",negative_squared_cross_mark:"â",nerd_face:"ð¤",neutral_face:"ð",new:"ð",new_moon:"ð",new_moon_with_face:"ð",newspaper:"ð°",newspaper_roll:"ð",next_track_button:"â­",ng:"ð",no_good_man:"ð&zwj;âï¸",no_good_woman:"ð",night_with_stars:"ð",no_bell:"ð",no_bicycles:"ð³",no_entry:"âï¸",no_entry_sign:"ð«",no_mobile_phones:"ðµ",no_mouth:"ð¶",no_pedestrians:"ð·",no_smoking:"ð­","non-potable_water":"ð±",nose:"ð",notebook:"ð",notebook_with_decorative_cover:"ð",notes:"ð¶",nut_and_bolt:"ð©",o:"â­ï¸",o2:"ð¾ï¸",ocean:"ð",octopus:"ð",oden:"ð¢",office:"ð¢",oil_drum:"ð¢",ok:"ð",ok_hand:"ð",ok_man:"ð&zwj;âï¸",ok_woman:"ð",old_key:"ð",older_man:"ð´",older_woman:"ðµ",om:"ð",on:"ð",oncoming_automobile:"ð",oncoming_bus:"ð",oncoming_police_car:"ð",oncoming_taxi:"ð",open_file_folder:"ð",open_hands:"ð",open_mouth:"ð®",open_umbrella:"âï¸",ophiuchus:"â",orange_book:"ð",orthodox_cross:"â¦ï¸",outbox_tray:"ð¤",owl:"ð¦",ox:"ð",package:"ð¦",page_facing_up:"ð",page_with_curl:"ð",pager:"ð",paintbrush:"ð",palm_tree:"ð´",pancakes:"ð¥",panda_face:"ð¼",paperclip:"ð",paperclips:"ð",parasol_on_ground:"â±",parking:"ð¿ï¸",part_alternation_mark:"ã½ï¸",partly_sunny:"âï¸",passenger_ship:"ð³",passport_control:"ð",pause_button:"â¸",peace_symbol:"â®ï¸",peach:"ð",peanuts:"ð¥",pear:"ð",pen:"ð",pencil2:"âï¸",penguin:"ð§",pensive:"ð",performing_arts:"ð­",persevere:"ð£",person_fencing:"ð¤º",pouting_woman:"ð",phone:"âï¸",pick:"â",pig:"ð·",pig2:"ð",pig_nose:"ð½",pill:"ð",pineapple:"ð",ping_pong:"ð",pisces:"âï¸",pizza:"ð",place_of_worship:"ð",plate_with_cutlery:"ð½",play_or_pause_button:"â¯",point_down:"ð",point_left:"ð",point_right:"ð",point_up:"âï¸",point_up_2:"ð",police_car:"ð",policewoman:"ð®&zwj;âï¸",poodle:"ð©",popcorn:"ð¿",post_office:"ð£",postal_horn:"ð¯",postbox:"ð®",potable_water:"ð°",potato:"ð¥",pouch:"ð",poultry_leg:"ð",pound:"ð·",rage:"ð¡",pouting_cat:"ð¾",pouting_man:"ð&zwj;âï¸",pray:"ð",prayer_beads:"ð¿",pregnant_woman:"ð¤°",previous_track_button:"â®",prince:"ð¤´",princess:"ð¸",printer:"ð¨",purple_heart:"ð",purse:"ð",pushpin:"ð",put_litter_in_its_place:"ð®",question:"â",rabbit:"ð°",rabbit2:"ð",racehorse:"ð",racing_car:"ð",radio:"ð»",radio_button:"ð",radioactive:"â¢ï¸",railway_car:"ð",railway_track:"ð¤",rainbow:"ð",rainbow_flag:"ð³ï¸&zwj;ð",raised_back_of_hand:"ð¤",raised_hand_with_fingers_splayed:"ð",raised_hands:"ð",raising_hand_woman:"ð",raising_hand_man:"ð&zwj;âï¸",ram:"ð",ramen:"ð",rat:"ð",record_button:"âº",recycle:"â»ï¸",red_circle:"ð´",registered:"Â®ï¸",relaxed:"âºï¸",relieved:"ð",reminder_ribbon:"ð",repeat:"ð",repeat_one:"ð",rescue_worker_helmet:"â",restroom:"ð»",revolving_hearts:"ð",rewind:"âª",rhinoceros:"ð¦",ribbon:"ð",rice:"ð",rice_ball:"ð",rice_cracker:"ð",rice_scene:"ð",right_anger_bubble:"ð¯",ring:"ð",robot:"ð¤",rocket:"ð",rofl:"ð¤£",roll_eyes:"ð",roller_coaster:"ð¢",rooster:"ð",rose:"ð¹",rosette:"ðµ",rotating_light:"ð¨",round_pushpin:"ð",rowing_man:"ð£",rowing_woman:"ð£&zwj;âï¸",rugby_football:"ð",running_man:"ð",running_shirt_with_sash:"ð½",running_woman:"ð&zwj;âï¸",sa:"ðï¸",sagittarius:"âï¸",sake:"ð¶",sandal:"ð¡",santa:"ð",satellite:"ð¡",saxophone:"ð·",school:"ð«",school_satchel:"ð",scissors:"âï¸",scorpion:"ð¦",scorpius:"âï¸",scream:"ð±",scream_cat:"ð",scroll:"ð",seat:"ðº",secret:"ãï¸",see_no_evil:"ð",seedling:"ð±",selfie:"ð¤³",shallow_pan_of_food:"ð¥",shamrock:"âï¸",shark:"ð¦",shaved_ice:"ð§",sheep:"ð",shell:"ð",shield:"ð¡",shinto_shrine:"â©",ship:"ð¢",shirt:"ð",shopping:"ð",shopping_cart:"ð",shower:"ð¿",shrimp:"ð¦",signal_strength:"ð¶",six_pointed_star:"ð¯",ski:"ð¿",skier:"â·",skull:"ð",skull_and_crossbones:"â ï¸",sleeping:"ð´",sleeping_bed:"ð",sleepy:"ðª",slightly_frowning_face:"ð",slightly_smiling_face:"ð",slot_machine:"ð°",small_airplane:"ð©",small_blue_diamond:"ð¹",small_orange_diamond:"ð¸",small_red_triangle:"ðº",small_red_triangle_down:"ð»",smile:"ð",smile_cat:"ð¸",smiley:"ð",smiley_cat:"ðº",smiling_imp:"ð",smirk:"ð",smirk_cat:"ð¼",smoking:"ð¬",snail:"ð",snake:"ð",sneezing_face:"ð¤§",snowboarder:"ð",snowflake:"âï¸",snowman:"âï¸",snowman_with_snow:"âï¸",sob:"ð­",soccer:"â½ï¸",soon:"ð",sos:"ð",sound:"ð",space_invader:"ð¾",spades:"â ï¸",spaghetti:"ð",sparkle:"âï¸",sparkler:"ð",sparkles:"â¨",sparkling_heart:"ð",speak_no_evil:"ð",speaker:"ð",speaking_head:"ð£",speech_balloon:"ð¬",speedboat:"ð¤",spider:"ð·",spider_web:"ð¸",spiral_calendar:"ð",spiral_notepad:"ð",spoon:"ð¥",squid:"ð¦",stadium:"ð",star:"â­ï¸",star2:"ð",star_and_crescent:"âªï¸",star_of_david:"â¡ï¸",stars:"ð ",station:"ð",statue_of_liberty:"ð½",steam_locomotive:"ð",stew:"ð²",stop_button:"â¹",stop_sign:"ð",stopwatch:"â±",straight_ruler:"ð",strawberry:"ð",stuck_out_tongue:"ð",stuck_out_tongue_closed_eyes:"ð",stuck_out_tongue_winking_eye:"ð",studio_microphone:"ð",stuffed_flatbread:"ð¥",sun_behind_large_cloud:"ð¥",sun_behind_rain_cloud:"ð¦",sun_behind_small_cloud:"ð¤",sun_with_face:"ð",sunflower:"ð»",sunglasses:"ð",sunny:"âï¸",sunrise:"ð",sunrise_over_mountains:"ð",surfing_man:"ð",surfing_woman:"ð&zwj;âï¸",sushi:"ð£",suspension_railway:"ð",sweat:"ð",sweat_drops:"ð¦",sweat_smile:"ð",sweet_potato:"ð ",swimming_man:"ð",swimming_woman:"ð&zwj;âï¸",symbols:"ð£",synagogue:"ð",syringe:"ð",taco:"ð®",tada:"ð",tanabata_tree:"ð",taurus:"âï¸",taxi:"ð",tea:"ðµ",telephone_receiver:"ð",telescope:"ð­",tennis:"ð¾",tent:"âºï¸",thermometer:"ð¡",thinking:"ð¤",thought_balloon:"ð­",ticket:"ð«",tickets:"ð",tiger:"ð¯",tiger2:"ð",timer_clock:"â²",tipping_hand_man:"ð&zwj;âï¸",tired_face:"ð«",tm:"â¢ï¸",toilet:"ð½",tokyo_tower:"ð¼",tomato:"ð",tongue:"ð",top:"ð",tophat:"ð©",tornado:"ðª",trackball:"ð²",tractor:"ð",traffic_light:"ð¥",train:"ð",train2:"ð",tram:"ð",triangular_flag_on_post:"ð©",triangular_ruler:"ð",trident:"ð±",triumph:"ð¤",trolleybus:"ð",trophy:"ð",tropical_drink:"ð¹",tropical_fish:"ð ",truck:"ð",trumpet:"ðº",tulip:"ð·",tumbler_glass:"ð¥",turkey:"ð¦",turtle:"ð¢",tv:"ðº",twisted_rightwards_arrows:"ð",two_hearts:"ð",two_men_holding_hands:"ð¬",two_women_holding_hands:"ð­",u5272:"ð¹",u5408:"ð´",u55b6:"ðº",u6307:"ð¯ï¸",u6708:"ð·ï¸",u6709:"ð¶",u6e80:"ðµ",u7121:"ðï¸",u7533:"ð¸",u7981:"ð²",u7a7a:"ð³",umbrella:"âï¸",unamused:"ð",underage:"ð",unicorn:"ð¦",unlock:"ð",up:"ð",upside_down_face:"ð",v:"âï¸",vertical_traffic_light:"ð¦",vhs:"ð¼",vibration_mode:"ð³",video_camera:"ð¹",video_game:"ð®",violin:"ð»",virgo:"âï¸",volcano:"ð",volleyball:"ð",vs:"ð",vulcan_salute:"ð",walking_man:"ð¶",walking_woman:"ð¶&zwj;âï¸",waning_crescent_moon:"ð",waning_gibbous_moon:"ð",warning:"â ï¸",wastebasket:"ð",watch:"âï¸",water_buffalo:"ð",watermelon:"ð",wave:"ð",wavy_dash:"ã°ï¸",waxing_crescent_moon:"ð",wc:"ð¾",weary:"ð©",wedding:"ð",weight_lifting_man:"ðï¸",weight_lifting_woman:"ðï¸&zwj;âï¸",whale:"ð³",whale2:"ð",wheel_of_dharma:"â¸ï¸",wheelchair:"â¿ï¸",white_check_mark:"â",white_circle:"âªï¸",white_flag:"ð³ï¸",white_flower:"ð®",white_large_square:"â¬ï¸",white_medium_small_square:"â½ï¸",white_medium_square:"â»ï¸",white_small_square:"â«ï¸",white_square_button:"ð³",wilted_flower:"ð¥",wind_chime:"ð",wind_face:"ð¬",wine_glass:"ð·",wink:"ð",wolf:"ðº",woman:"ð©",woman_artist:"ð©&zwj;ð¨",woman_astronaut:"ð©&zwj;ð",woman_cartwheeling:"ð¤¸&zwj;âï¸",woman_cook:"ð©&zwj;ð³",woman_facepalming:"ð¤¦&zwj;âï¸",woman_factory_worker:"ð©&zwj;ð­",woman_farmer:"ð©&zwj;ð¾",woman_firefighter:"ð©&zwj;ð",woman_health_worker:"ð©&zwj;âï¸",woman_judge:"ð©&zwj;âï¸",woman_juggling:"ð¤¹&zwj;âï¸",woman_mechanic:"ð©&zwj;ð§",woman_office_worker:"ð©&zwj;ð¼",woman_pilot:"ð©&zwj;âï¸",woman_playing_handball:"ð¤¾&zwj;âï¸",woman_playing_water_polo:"ð¤½&zwj;âï¸",woman_scientist:"ð©&zwj;ð¬",woman_shrugging:"ð¤·&zwj;âï¸",woman_singer:"ð©&zwj;ð¤",woman_student:"ð©&zwj;ð",woman_teacher:"ð©&zwj;ð«",woman_technologist:"ð©&zwj;ð»",woman_with_turban:"ð³&zwj;âï¸",womans_clothes:"ð",womans_hat:"ð",women_wrestling:"ð¤¼&zwj;âï¸",womens:"ðº",world_map:"ðº",worried:"ð",wrench:"ð§",writing_hand:"âï¸",x:"â",yellow_heart:"ð",yen:"ð´",yin_yang:"â¯ï¸",yum:"ð",zap:"â¡ï¸",zipper_mouth_face:"ð¤",zzz:"ð¤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(g){var y={},E=[],I=[],R={},L=o,S={parsed:{},raw:"",format:""};A();function A(){g=g||{};for(var M in a)a.hasOwnProperty(M)&&(y[M]=a[M]);if(typeof g=="object")for(var F in g)g.hasOwnProperty(F)&&(y[F]=g[F]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof g+" was passed instead.");y.extensions&&r.helper.forEach(y.extensions,w)}function w(M,F){if(F=F||null,r.helper.isString(M))if(M=r.helper.stdExtName(M),F=M,r.extensions[M]){console.warn("DEPRECATION WARNING: "+M+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),O(r.extensions[M],M);return}else if(!r.helper.isUndefined(s[M]))M=s[M];else throw Error('Extension "'+M+'" could not be loaded. It was either not found or is not a valid extension.');typeof M=="function"&&(M=M()),r.helper.isArray(M)||(M=[M]);var G=c(M,F);if(!G.valid)throw Error(G.error);for(var $=0;$<M.length;++$){switch(M[$].type){case"lang":E.push(M[$]);break;case"output":I.push(M[$]);break}if(M[$].hasOwnProperty("listeners"))for(var P in M[$].listeners)M[$].listeners.hasOwnProperty(P)&&D(P,M[$].listeners[P])}}function O(M,F){typeof M=="function"&&(M=M(new r.Converter)),r.helper.isArray(M)||(M=[M]);var G=c(M,F);if(!G.valid)throw Error(G.error);for(var $=0;$<M.length;++$)switch(M[$].type){case"lang":E.push(M[$]);break;case"output":I.push(M[$]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function D(M,F){if(!r.helper.isString(M))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof M+" given");if(typeof F!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof F+" given");R.hasOwnProperty(M)||(R[M]=[]),R[M].push(F)}function B(M){var F=M.match(/^\s*/)[0].length,G=new RegExp("^\\s{0,"+F+"}","gm");return M.replace(G,"")}this._dispatch=function(F,G,$,P){if(R.hasOwnProperty(F))for(var j=0;j<R[F].length;++j){var W=R[F][j](F,G,this,$,P);W&&typeof W!="undefined"&&(G=W)}return G},this.listen=function(M,F){return D(M,F),this},this.makeHtml=function(M){if(!M)return M;var F={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:E,outputModifiers:I,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return M=M.replace(/Â¨/g,"Â¨T"),M=M.replace(/\$/g,"Â¨D"),M=M.replace(/\r\n/g,`
`),M=M.replace(/\r/g,`
`),M=M.replace(/\u00A0/g,"&nbsp;"),y.smartIndentationFix&&(M=B(M)),M=`

`+M+`

`,M=r.subParser("detab")(M,y,F),M=M.replace(/^[ \t]+$/mg,""),r.helper.forEach(E,function(G){M=r.subParser("runExtension")(G,M,y,F)}),M=r.subParser("metadata")(M,y,F),M=r.subParser("hashPreCodeTags")(M,y,F),M=r.subParser("githubCodeBlocks")(M,y,F),M=r.subParser("hashHTMLBlocks")(M,y,F),M=r.subParser("hashCodeTags")(M,y,F),M=r.subParser("stripLinkDefinitions")(M,y,F),M=r.subParser("blockGamut")(M,y,F),M=r.subParser("unhashHTMLSpans")(M,y,F),M=r.subParser("unescapeSpecialChars")(M,y,F),M=M.replace(/Â¨D/g,"$$"),M=M.replace(/Â¨T/g,"Â¨"),M=r.subParser("completeHTMLDocument")(M,y,F),r.helper.forEach(I,function(G){M=r.subParser("runExtension")(G,M,y,F)}),S=F.metadata,M},this.makeMarkdown=this.makeMd=function(M,F){if(M=M.replace(/\r\n/g,`
`),M=M.replace(/\r/g,`
`),M=M.replace(/>[ \t]+</,">Â¨NBSP;<"),!F)if(window&&window.document)F=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var G=F.createElement("div");G.innerHTML=M;var $={preList:Z(G)};H(G);for(var P=G.childNodes,j="",W=0;W<P.length;W++)j+=r.subParser("makeMarkdown.node")(P[W],$);function H(ee){for(var ae=0;ae<ee.childNodes.length;++ae){var _e=ee.childNodes[ae];_e.nodeType===3?!/\S/.test(_e.nodeValue)&&!/^[ ]+$/.test(_e.nodeValue)?(ee.removeChild(_e),--ae):(_e.nodeValue=_e.nodeValue.split(`
`).join(" "),_e.nodeValue=_e.nodeValue.replace(/(\s)+/g,"$1")):_e.nodeType===1&&H(_e)}}function Z(ee){for(var ae=ee.querySelectorAll("pre"),_e=[],ge=0;ge<ae.length;++ge)if(ae[ge].childElementCount===1&&ae[ge].firstChild.tagName.toLowerCase()==="code"){var je=ae[ge].firstChild.innerHTML.trim(),Se=ae[ge].firstChild.getAttribute("data-language")||"";if(Se==="")for(var Ie=ae[ge].firstChild.className.split(" "),qe=0;qe<Ie.length;++qe){var te=Ie[qe].match(/^language-(.+)$/);if(te!==null){Se=te[1];break}}je=r.helper.unescapeHTMLEntities(je),_e.push(je),ae[ge].outerHTML='<precode language="'+Se+'" precodenum="'+ge.toString()+'"></precode>'}else _e.push(ae[ge].innerHTML),ae[ge].innerHTML="",ae[ge].setAttribute("prenum",ge.toString());return _e}return j},this.setOption=function(M,F){y[M]=F},this.getOption=function(M){return y[M]},this.getOptions=function(){return y},this.addExtension=function(M,F){F=F||null,w(M,F)},this.useExtension=function(M){w(M)},this.setFlavor=function(M){if(!u.hasOwnProperty(M))throw Error(M+" flavor was not found");var F=u[M];L=M;for(var G in F)F.hasOwnProperty(G)&&(y[G]=F[G])},this.getFlavor=function(){return L},this.removeExtension=function(M){r.helper.isArray(M)||(M=[M]);for(var F=0;F<M.length;++F){for(var G=M[F],$=0;$<E.length;++$)E[$]===G&&E.splice($,1);for(var P=0;P<I.length;++P)I[P]===G&&I.splice(P,1)}},this.getAllExtensions=function(){return{language:E,output:I}},this.getMetadata=function(M){return M?S.raw:S.parsed},this.getMetadataFormat=function(){return S.format},this._setMetadataPair=function(M,F){S.parsed[M]=F},this._setMetadataFormat=function(M){S.format=M},this._setMetadataRaw=function(M){S.raw=M}},r.subParser("anchors",function(g,y,E){g=E.converter._dispatch("anchors.before",g,y,E);var I=function(R,L,S,A,w,O,D){if(r.helper.isUndefined(D)&&(D=""),S=S.toLowerCase(),R.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)A="";else if(!A)if(S||(S=L.toLowerCase().replace(/ ?\n/g," ")),A="#"+S,!r.helper.isUndefined(E.gUrls[S]))A=E.gUrls[S],r.helper.isUndefined(E.gTitles[S])||(D=E.gTitles[S]);else return R;A=A.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var B='<a href="'+A+'"';return D!==""&&D!==null&&(D=D.replace(/"/g,"&quot;"),D=D.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),B+=' title="'+D+'"'),y.openLinksInNewWindow&&!/^#/.test(A)&&(B+=' rel="noopener noreferrer" target="Â¨E95Eblank"'),B+=">"+L+"</a>",B};return g=g.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,I),g=g.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,I),g=g.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,I),g=g.replace(/\[([^\[\]]+)]()()()()()/g,I),y.ghMentions&&(g=g.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(R,L,S,A,w){if(S==="\\")return L+A;if(!r.helper.isString(y.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var O=y.ghMentionsLink.replace(/\{u}/g,w),D="";return y.openLinksInNewWindow&&(D=' rel="noopener noreferrer" target="Â¨E95Eblank"'),L+'<a href="'+O+'"'+D+">"+A+"</a>"})),g=E.converter._dispatch("anchors.after",g,y,E),g});var h=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,f=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,p=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,x=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,_=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,b=function(g){return function(y,E,I,R,L,S,A){I=I.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var w=I,O="",D="",B=E||"",M=A||"";return/^www\./i.test(I)&&(I=I.replace(/^www\./i,"http://www.")),g.excludeTrailingPunctuationFromURLs&&S&&(O=S),g.openLinksInNewWindow&&(D=' rel="noopener noreferrer" target="Â¨E95Eblank"'),B+'<a href="'+I+'"'+D+">"+w+"</a>"+O+M}},T=function(g,y){return function(E,I,R){var L="mailto:";return I=I||"",R=r.subParser("unescapeSpecialChars")(R,g,y),g.encodeEmails?(L=r.helper.encodeEmailAddress(L+R),R=r.helper.encodeEmailAddress(R)):L=L+R,I+'<a href="'+L+'">'+R+"</a>"}};r.subParser("autoLinks",function(g,y,E){return g=E.converter._dispatch("autoLinks.before",g,y,E),g=g.replace(p,b(y)),g=g.replace(_,T(y,E)),g=E.converter._dispatch("autoLinks.after",g,y,E),g}),r.subParser("simplifiedAutoLinks",function(g,y,E){return y.simplifiedAutoLink&&(g=E.converter._dispatch("simplifiedAutoLinks.before",g,y,E),y.excludeTrailingPunctuationFromURLs?g=g.replace(f,b(y)):g=g.replace(h,b(y)),g=g.replace(x,T(y,E)),g=E.converter._dispatch("simplifiedAutoLinks.after",g,y,E)),g}),r.subParser("blockGamut",function(g,y,E){return g=E.converter._dispatch("blockGamut.before",g,y,E),g=r.subParser("blockQuotes")(g,y,E),g=r.subParser("headers")(g,y,E),g=r.subParser("horizontalRule")(g,y,E),g=r.subParser("lists")(g,y,E),g=r.subParser("codeBlocks")(g,y,E),g=r.subParser("tables")(g,y,E),g=r.subParser("hashHTMLBlocks")(g,y,E),g=r.subParser("paragraphs")(g,y,E),g=E.converter._dispatch("blockGamut.after",g,y,E),g}),r.subParser("blockQuotes",function(g,y,E){g=E.converter._dispatch("blockQuotes.before",g,y,E),g=g+`

`;var I=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return y.splitAdjacentBlockquotes&&(I=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),g=g.replace(I,function(R){return R=R.replace(/^[ \t]*>[ \t]?/gm,""),R=R.replace(/Â¨0/g,""),R=R.replace(/^[ \t]+$/gm,""),R=r.subParser("githubCodeBlocks")(R,y,E),R=r.subParser("blockGamut")(R,y,E),R=R.replace(/(^|\n)/g,"$1  "),R=R.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(L,S){var A=S;return A=A.replace(/^  /mg,"Â¨0"),A=A.replace(/Â¨0/g,""),A}),r.subParser("hashBlock")(`<blockquote>
`+R+`
</blockquote>`,y,E)}),g=E.converter._dispatch("blockQuotes.after",g,y,E),g}),r.subParser("codeBlocks",function(g,y,E){g=E.converter._dispatch("codeBlocks.before",g,y,E),g+="Â¨0";var I=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=Â¨0))/g;return g=g.replace(I,function(R,L,S){var A=L,w=S,O=`
`;return A=r.subParser("outdent")(A,y,E),A=r.subParser("encodeCode")(A,y,E),A=r.subParser("detab")(A,y,E),A=A.replace(/^\n+/g,""),A=A.replace(/\n+$/g,""),y.omitExtraWLInCodeBlocks&&(O=""),A="<pre><code>"+A+O+"</code></pre>",r.subParser("hashBlock")(A,y,E)+w}),g=g.replace(/Â¨0/,""),g=E.converter._dispatch("codeBlocks.after",g,y,E),g}),r.subParser("codeSpans",function(g,y,E){return g=E.converter._dispatch("codeSpans.before",g,y,E),typeof g=="undefined"&&(g=""),g=g.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(I,R,L,S){var A=S;return A=A.replace(/^([ \t]*)/g,""),A=A.replace(/[ \t]*$/g,""),A=r.subParser("encodeCode")(A,y,E),A=R+"<code>"+A+"</code>",A=r.subParser("hashHTMLSpans")(A,y,E),A}),g=E.converter._dispatch("codeSpans.after",g,y,E),g}),r.subParser("completeHTMLDocument",function(g,y,E){if(!y.completeHTMLDocument)return g;g=E.converter._dispatch("completeHTMLDocument.before",g,y,E);var I="html",R=`<!DOCTYPE HTML>
`,L="",S=`<meta charset="utf-8">
`,A="",w="";typeof E.metadata.parsed.doctype!="undefined"&&(R="<!DOCTYPE "+E.metadata.parsed.doctype+`>
`,I=E.metadata.parsed.doctype.toString().toLowerCase(),(I==="html"||I==="html5")&&(S='<meta charset="utf-8">'));for(var O in E.metadata.parsed)if(E.metadata.parsed.hasOwnProperty(O))switch(O.toLowerCase()){case"doctype":break;case"title":L="<title>"+E.metadata.parsed.title+`</title>
`;break;case"charset":I==="html"||I==="html5"?S='<meta charset="'+E.metadata.parsed.charset+`">
`:S='<meta name="charset" content="'+E.metadata.parsed.charset+`">
`;break;case"language":case"lang":A=' lang="'+E.metadata.parsed[O]+'"',w+='<meta name="'+O+'" content="'+E.metadata.parsed[O]+`">
`;break;default:w+='<meta name="'+O+'" content="'+E.metadata.parsed[O]+`">
`}return g=R+"<html"+A+`>
<head>
`+L+S+w+`</head>
<body>
`+g.trim()+`
</body>
</html>`,g=E.converter._dispatch("completeHTMLDocument.after",g,y,E),g}),r.subParser("detab",function(g,y,E){return g=E.converter._dispatch("detab.before",g,y,E),g=g.replace(/\t(?=\t)/g,"    "),g=g.replace(/\t/g,"Â¨AÂ¨B"),g=g.replace(/Â¨B(.+?)Â¨A/g,function(I,R){for(var L=R,S=4-L.length%4,A=0;A<S;A++)L+=" ";return L}),g=g.replace(/Â¨A/g,"    "),g=g.replace(/Â¨B/g,""),g=E.converter._dispatch("detab.after",g,y,E),g}),r.subParser("ellipsis",function(g,y,E){return y.ellipsis&&(g=E.converter._dispatch("ellipsis.before",g,y,E),g=g.replace(/\.\.\./g,"â¦"),g=E.converter._dispatch("ellipsis.after",g,y,E)),g}),r.subParser("emoji",function(g,y,E){if(!y.emoji)return g;g=E.converter._dispatch("emoji.before",g,y,E);var I=/:([\S]+?):/g;return g=g.replace(I,function(R,L){return r.helper.emojis.hasOwnProperty(L)?r.helper.emojis[L]:R}),g=E.converter._dispatch("emoji.after",g,y,E),g}),r.subParser("encodeAmpsAndAngles",function(g,y,E){return g=E.converter._dispatch("encodeAmpsAndAngles.before",g,y,E),g=g.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),g=g.replace(/<(?![a-z\/?$!])/gi,"&lt;"),g=g.replace(/</g,"&lt;"),g=g.replace(/>/g,"&gt;"),g=E.converter._dispatch("encodeAmpsAndAngles.after",g,y,E),g}),r.subParser("encodeBackslashEscapes",function(g,y,E){return g=E.converter._dispatch("encodeBackslashEscapes.before",g,y,E),g=g.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),g=g.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,r.helper.escapeCharactersCallback),g=E.converter._dispatch("encodeBackslashEscapes.after",g,y,E),g}),r.subParser("encodeCode",function(g,y,E){return g=E.converter._dispatch("encodeCode.before",g,y,E),g=g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),g=E.converter._dispatch("encodeCode.after",g,y,E),g}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(g,y,E){g=E.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",g,y,E);var I=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,R=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return g=g.replace(I,function(L){return L.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),g=g.replace(R,function(L){return L.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),g=E.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",g,y,E),g}),r.subParser("githubCodeBlocks",function(g,y,E){return y.ghCodeBlocks?(g=E.converter._dispatch("githubCodeBlocks.before",g,y,E),g+="Â¨0",g=g.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(I,R,L,S){var A=y.omitExtraWLInCodeBlocks?"":`
`;return S=r.subParser("encodeCode")(S,y,E),S=r.subParser("detab")(S,y,E),S=S.replace(/^\n+/g,""),S=S.replace(/\n+$/g,""),S="<pre><code"+(L?' class="'+L+" language-"+L+'"':"")+">"+S+A+"</code></pre>",S=r.subParser("hashBlock")(S,y,E),`

Â¨G`+(E.ghCodeBlocks.push({text:I,codeblock:S})-1)+`G

`}),g=g.replace(/Â¨0/,""),E.converter._dispatch("githubCodeBlocks.after",g,y,E)):g}),r.subParser("hashBlock",function(g,y,E){return g=E.converter._dispatch("hashBlock.before",g,y,E),g=g.replace(/(^\n+|\n+$)/g,""),g=`

Â¨K`+(E.gHtmlBlocks.push(g)-1)+`K

`,g=E.converter._dispatch("hashBlock.after",g,y,E),g}),r.subParser("hashCodeTags",function(g,y,E){g=E.converter._dispatch("hashCodeTags.before",g,y,E);var I=function(R,L,S,A){var w=S+r.subParser("encodeCode")(L,y,E)+A;return"Â¨C"+(E.gHtmlSpans.push(w)-1)+"C"};return g=r.helper.replaceRecursiveRegExp(g,I,"<code\\b[^>]*>","</code>","gim"),g=E.converter._dispatch("hashCodeTags.after",g,y,E),g}),r.subParser("hashElement",function(g,y,E){return function(I,R){var L=R;return L=L.replace(/\n\n/g,`
`),L=L.replace(/^\n/,""),L=L.replace(/\n+$/g,""),L=`

Â¨K`+(E.gHtmlBlocks.push(L)-1)+`K

`,L}}),r.subParser("hashHTMLBlocks",function(g,y,E){g=E.converter._dispatch("hashHTMLBlocks.before",g,y,E);var I=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],R=function(M,F,G,$){var P=M;return G.search(/\bmarkdown\b/)!==-1&&(P=G+E.converter.makeHtml(F)+$),`

Â¨K`+(E.gHtmlBlocks.push(P)-1)+`K

`};y.backslashEscapesHTMLTags&&(g=g.replace(/\\<(\/?[^>]+?)>/g,function(M,F){return"&lt;"+F+"&gt;"}));for(var L=0;L<I.length;++L)for(var S,A=new RegExp("^ {0,3}(<"+I[L]+"\\b[^>]*>)","im"),w="<"+I[L]+"\\b[^>]*>",O="</"+I[L]+">";(S=r.helper.regexIndexOf(g,A))!==-1;){var D=r.helper.splitAtIndex(g,S),B=r.helper.replaceRecursiveRegExp(D[1],R,w,O,"im");if(B===D[1])break;g=D[0].concat(B)}return g=g.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(g,y,E)),g=r.helper.replaceRecursiveRegExp(g,function(M){return`

Â¨K`+(E.gHtmlBlocks.push(M)-1)+`K

`},"^ {0,3}<!--","-->","gm"),g=g.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(g,y,E)),g=E.converter._dispatch("hashHTMLBlocks.after",g,y,E),g}),r.subParser("hashHTMLSpans",function(g,y,E){g=E.converter._dispatch("hashHTMLSpans.before",g,y,E);function I(R){return"Â¨C"+(E.gHtmlSpans.push(R)-1)+"C"}return g=g.replace(/<[^>]+?\/>/gi,function(R){return I(R)}),g=g.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(R){return I(R)}),g=g.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(R){return I(R)}),g=g.replace(/<[^>]+?>/gi,function(R){return I(R)}),g=E.converter._dispatch("hashHTMLSpans.after",g,y,E),g}),r.subParser("unhashHTMLSpans",function(g,y,E){g=E.converter._dispatch("unhashHTMLSpans.before",g,y,E);for(var I=0;I<E.gHtmlSpans.length;++I){for(var R=E.gHtmlSpans[I],L=0;/Â¨C(\d+)C/.test(R);){var S=RegExp.$1;if(R=R.replace("Â¨C"+S+"C",E.gHtmlSpans[S]),L===10){console.error("maximum nesting of 10 spans reached!!!");break}++L}g=g.replace("Â¨C"+I+"C",R)}return g=E.converter._dispatch("unhashHTMLSpans.after",g,y,E),g}),r.subParser("hashPreCodeTags",function(g,y,E){g=E.converter._dispatch("hashPreCodeTags.before",g,y,E);var I=function(R,L,S,A){var w=S+r.subParser("encodeCode")(L,y,E)+A;return`

Â¨G`+(E.ghCodeBlocks.push({text:R,codeblock:w})-1)+`G

`};return g=r.helper.replaceRecursiveRegExp(g,I,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),g=E.converter._dispatch("hashPreCodeTags.after",g,y,E),g}),r.subParser("headers",function(g,y,E){g=E.converter._dispatch("headers.before",g,y,E);var I=isNaN(parseInt(y.headerLevelStart))?1:parseInt(y.headerLevelStart),R=y.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,L=y.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;g=g.replace(R,function(w,O){var D=r.subParser("spanGamut")(O,y,E),B=y.noHeaderId?"":' id="'+A(O)+'"',M=I,F="<h"+M+B+">"+D+"</h"+M+">";return r.subParser("hashBlock")(F,y,E)}),g=g.replace(L,function(w,O){var D=r.subParser("spanGamut")(O,y,E),B=y.noHeaderId?"":' id="'+A(O)+'"',M=I+1,F="<h"+M+B+">"+D+"</h"+M+">";return r.subParser("hashBlock")(F,y,E)});var S=y.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;g=g.replace(S,function(w,O,D){var B=D;y.customizedHeaderId&&(B=D.replace(/\s?\{([^{]+?)}\s*$/,""));var M=r.subParser("spanGamut")(B,y,E),F=y.noHeaderId?"":' id="'+A(D)+'"',G=I-1+O.length,$="<h"+G+F+">"+M+"</h"+G+">";return r.subParser("hashBlock")($,y,E)});function A(w){var O,D;if(y.customizedHeaderId){var B=w.match(/\{([^{]+?)}\s*$/);B&&B[1]&&(w=B[1])}return O=w,r.helper.isString(y.prefixHeaderId)?D=y.prefixHeaderId:y.prefixHeaderId===!0?D="section-":D="",y.rawPrefixHeaderId||(O=D+O),y.ghCompatibleHeaderId?O=O.replace(/ /g,"-").replace(/&amp;/g,"").replace(/Â¨T/g,"").replace(/Â¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^Â¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():y.rawHeaderId?O=O.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/Â¨T/g,"Â¨").replace(/Â¨D/g,"$").replace(/["']/g,"-").toLowerCase():O=O.replace(/[^\w]/g,"").toLowerCase(),y.rawPrefixHeaderId&&(O=D+O),E.hashLinkCounts[O]?O=O+"-"+E.hashLinkCounts[O]++:E.hashLinkCounts[O]=1,O}return g=E.converter._dispatch("headers.after",g,y,E),g}),r.subParser("horizontalRule",function(g,y,E){g=E.converter._dispatch("horizontalRule.before",g,y,E);var I=r.subParser("hashBlock")("<hr />",y,E);return g=g.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,I),g=g.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,I),g=g.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,I),g=E.converter._dispatch("horizontalRule.after",g,y,E),g}),r.subParser("images",function(g,y,E){g=E.converter._dispatch("images.before",g,y,E);var I=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,R=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,L=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,S=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,A=/!\[([^\[\]]+)]()()()()()/g;function w(D,B,M,F,G,$,P,j){return F=F.replace(/\s/g,""),O(D,B,M,F,G,$,P,j)}function O(D,B,M,F,G,$,P,j){var W=E.gUrls,H=E.gTitles,Z=E.gDimensions;if(M=M.toLowerCase(),j||(j=""),D.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)F="";else if(F===""||F===null)if((M===""||M===null)&&(M=B.toLowerCase().replace(/ ?\n/g," ")),F="#"+M,!r.helper.isUndefined(W[M]))F=W[M],r.helper.isUndefined(H[M])||(j=H[M]),r.helper.isUndefined(Z[M])||(G=Z[M].width,$=Z[M].height);else return D;B=B.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),F=F.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var ee='<img src="'+F+'" alt="'+B+'"';return j&&r.helper.isString(j)&&(j=j.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),ee+=' title="'+j+'"'),G&&$&&(G=G==="*"?"auto":G,$=$==="*"?"auto":$,ee+=' width="'+G+'"',ee+=' height="'+$+'"'),ee+=" />",ee}return g=g.replace(S,O),g=g.replace(L,w),g=g.replace(R,O),g=g.replace(I,O),g=g.replace(A,O),g=E.converter._dispatch("images.after",g,y,E),g}),r.subParser("italicsAndBold",function(g,y,E){g=E.converter._dispatch("italicsAndBold.before",g,y,E);function I(R,L,S){return L+R+S}return y.literalMidWordUnderscores?(g=g.replace(/\b___(\S[\s\S]*?)___\b/g,function(R,L){return I(L,"<strong><em>","</em></strong>")}),g=g.replace(/\b__(\S[\s\S]*?)__\b/g,function(R,L){return I(L,"<strong>","</strong>")}),g=g.replace(/\b_(\S[\s\S]*?)_\b/g,function(R,L){return I(L,"<em>","</em>")})):(g=g.replace(/___(\S[\s\S]*?)___/g,function(R,L){return/\S$/.test(L)?I(L,"<strong><em>","</em></strong>"):R}),g=g.replace(/__(\S[\s\S]*?)__/g,function(R,L){return/\S$/.test(L)?I(L,"<strong>","</strong>"):R}),g=g.replace(/_([^\s_][\s\S]*?)_/g,function(R,L){return/\S$/.test(L)?I(L,"<em>","</em>"):R})),y.literalMidWordAsterisks?(g=g.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(R,L,S){return I(S,L+"<strong><em>","</em></strong>")}),g=g.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(R,L,S){return I(S,L+"<strong>","</strong>")}),g=g.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(R,L,S){return I(S,L+"<em>","</em>")})):(g=g.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(R,L){return/\S$/.test(L)?I(L,"<strong><em>","</em></strong>"):R}),g=g.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(R,L){return/\S$/.test(L)?I(L,"<strong>","</strong>"):R}),g=g.replace(/\*([^\s*][\s\S]*?)\*/g,function(R,L){return/\S$/.test(L)?I(L,"<em>","</em>"):R})),g=E.converter._dispatch("italicsAndBold.after",g,y,E),g}),r.subParser("lists",function(g,y,E){function I(S,A){E.gListLevel++,S=S.replace(/\n{2,}$/,`
`),S+="Â¨0";var w=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(Â¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,O=/\n[ \t]*\n(?!Â¨0)/.test(S);return y.disableForced4SpacesIndentedSublists&&(w=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(Â¨0|\2([*+-]|\d+[.])[ \t]+))/gm),S=S.replace(w,function(D,B,M,F,G,$,P){P=P&&P.trim()!=="";var j=r.subParser("outdent")(G,y,E),W="";return $&&y.tasklists&&(W=' class="task-list-item" style="list-style-type: none;"',j=j.replace(/^[ \t]*\[(x|X| )?]/m,function(){var H='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return P&&(H+=" checked"),H+=">",H})),j=j.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(H){return"Â¨A"+H}),B||j.search(/\n{2,}/)>-1?(j=r.subParser("githubCodeBlocks")(j,y,E),j=r.subParser("blockGamut")(j,y,E)):(j=r.subParser("lists")(j,y,E),j=j.replace(/\n$/,""),j=r.subParser("hashHTMLBlocks")(j,y,E),j=j.replace(/\n\n+/g,`

`),O?j=r.subParser("paragraphs")(j,y,E):j=r.subParser("spanGamut")(j,y,E)),j=j.replace("Â¨A",""),j="<li"+W+">"+j+`</li>
`,j}),S=S.replace(/Â¨0/g,""),E.gListLevel--,A&&(S=S.replace(/\s+$/,"")),S}function R(S,A){if(A==="ol"){var w=S.match(/^ *(\d+)\./);if(w&&w[1]!=="1")return' start="'+w[1]+'"'}return""}function L(S,A,w){var O=y.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,D=y.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,B=A==="ul"?O:D,M="";if(S.search(B)!==-1)(function G($){var P=$.search(B),j=R(S,A);P!==-1?(M+=`

<`+A+j+`>
`+I($.slice(0,P),!!w)+"</"+A+`>
`,A=A==="ul"?"ol":"ul",B=A==="ul"?O:D,G($.slice(P))):M+=`

<`+A+j+`>
`+I($,!!w)+"</"+A+`>
`})(S);else{var F=R(S,A);M=`

<`+A+F+`>
`+I(S,!!w)+"</"+A+`>
`}return M}return g=E.converter._dispatch("lists.before",g,y,E),g+="Â¨0",E.gListLevel?g=g.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(Â¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(S,A,w){var O=w.search(/[*+-]/g)>-1?"ul":"ol";return L(A,O,!0)}):g=g.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(Â¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(S,A,w,O){var D=O.search(/[*+-]/g)>-1?"ul":"ol";return L(w,D,!1)}),g=g.replace(/Â¨0/,""),g=E.converter._dispatch("lists.after",g,y,E),g}),r.subParser("metadata",function(g,y,E){if(!y.metadata)return g;g=E.converter._dispatch("metadata.before",g,y,E);function I(R){E.metadata.raw=R,R=R.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),R=R.replace(/\n {4}/g," "),R.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(L,S,A){return E.metadata.parsed[S]=A,""})}return g=g.replace(/^\s*Â«Â«Â«+(\S*?)\n([\s\S]+?)\nÂ»Â»Â»+\n/,function(R,L,S){return I(S),"Â¨M"}),g=g.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(R,L,S){return L&&(E.metadata.format=L),I(S),"Â¨M"}),g=g.replace(/Â¨M/g,""),g=E.converter._dispatch("metadata.after",g,y,E),g}),r.subParser("outdent",function(g,y,E){return g=E.converter._dispatch("outdent.before",g,y,E),g=g.replace(/^(\t|[ ]{1,4})/gm,"Â¨0"),g=g.replace(/Â¨0/g,""),g=E.converter._dispatch("outdent.after",g,y,E),g}),r.subParser("paragraphs",function(g,y,E){g=E.converter._dispatch("paragraphs.before",g,y,E),g=g.replace(/^\n+/g,""),g=g.replace(/\n+$/g,"");for(var I=g.split(/\n{2,}/g),R=[],L=I.length,S=0;S<L;S++){var A=I[S];A.search(/Â¨(K|G)(\d+)\1/g)>=0?R.push(A):A.search(/\S/)>=0&&(A=r.subParser("spanGamut")(A,y,E),A=A.replace(/^([ \t]*)/g,"<p>"),A+="</p>",R.push(A))}for(L=R.length,S=0;S<L;S++){for(var w="",O=R[S],D=!1;/Â¨(K|G)(\d+)\1/.test(O);){var B=RegExp.$1,M=RegExp.$2;B==="K"?w=E.gHtmlBlocks[M]:D?w=r.subParser("encodeCode")(E.ghCodeBlocks[M].text,y,E):w=E.ghCodeBlocks[M].codeblock,w=w.replace(/\$/g,"$$$$"),O=O.replace(/(\n\n)?Â¨(K|G)\d+\2(\n\n)?/,w),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(O)&&(D=!0)}R[S]=O}return g=R.join(`
`),g=g.replace(/^\n+/g,""),g=g.replace(/\n+$/g,""),E.converter._dispatch("paragraphs.after",g,y,E)}),r.subParser("runExtension",function(g,y,E,I){if(g.filter)y=g.filter(y,I.converter,E);else if(g.regex){var R=g.regex;R instanceof RegExp||(R=new RegExp(R,"g")),y=y.replace(R,g.replace)}return y}),r.subParser("spanGamut",function(g,y,E){return g=E.converter._dispatch("spanGamut.before",g,y,E),g=r.subParser("codeSpans")(g,y,E),g=r.subParser("escapeSpecialCharsWithinTagAttributes")(g,y,E),g=r.subParser("encodeBackslashEscapes")(g,y,E),g=r.subParser("images")(g,y,E),g=r.subParser("anchors")(g,y,E),g=r.subParser("autoLinks")(g,y,E),g=r.subParser("simplifiedAutoLinks")(g,y,E),g=r.subParser("emoji")(g,y,E),g=r.subParser("underline")(g,y,E),g=r.subParser("italicsAndBold")(g,y,E),g=r.subParser("strikethrough")(g,y,E),g=r.subParser("ellipsis")(g,y,E),g=r.subParser("hashHTMLSpans")(g,y,E),g=r.subParser("encodeAmpsAndAngles")(g,y,E),y.simpleLineBreaks?/\n\nÂ¨K/.test(g)||(g=g.replace(/\n+/g,`<br />
`)):g=g.replace(/  +\n/g,`<br />
`),g=E.converter._dispatch("spanGamut.after",g,y,E),g}),r.subParser("strikethrough",function(g,y,E){function I(R){return y.simplifiedAutoLink&&(R=r.subParser("simplifiedAutoLinks")(R,y,E)),"<del>"+R+"</del>"}return y.strikethrough&&(g=E.converter._dispatch("strikethrough.before",g,y,E),g=g.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(R,L){return I(L)}),g=E.converter._dispatch("strikethrough.after",g,y,E)),g}),r.subParser("stripLinkDefinitions",function(g,y,E){var I=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=Â¨0))/gm,R=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=Â¨0)|(?=\n\[))/gm;g+="Â¨0";var L=function(S,A,w,O,D,B,M){return A=A.toLowerCase(),g.toLowerCase().split(A).length-1<2?S:(w.match(/^data:.+?\/.+?;base64,/)?E.gUrls[A]=w.replace(/\s/g,""):E.gUrls[A]=r.subParser("encodeAmpsAndAngles")(w,y,E),B?B+M:(M&&(E.gTitles[A]=M.replace(/"|'/g,"&quot;")),y.parseImgDimensions&&O&&D&&(E.gDimensions[A]={width:O,height:D}),""))};return g=g.replace(R,L),g=g.replace(I,L),g=g.replace(/Â¨0/,""),g}),r.subParser("tables",function(g,y,E){if(!y.tables)return g;var I=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|Â¨0)/gm,R=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|Â¨0)/gm;function L(D){return/^:[ \t]*--*$/.test(D)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(D)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(D)?' style="text-align:center;"':""}function S(D,B){var M="";return D=D.trim(),(y.tablesHeaderId||y.tableHeaderId)&&(M=' id="'+D.replace(/ /g,"_").toLowerCase()+'"'),D=r.subParser("spanGamut")(D,y,E),"<th"+M+B+">"+D+`</th>
`}function A(D,B){var M=r.subParser("spanGamut")(D,y,E);return"<td"+B+">"+M+`</td>
`}function w(D,B){for(var M=`<table>
<thead>
<tr>
`,F=D.length,G=0;G<F;++G)M+=D[G];for(M+=`</tr>
</thead>
<tbody>
`,G=0;G<B.length;++G){M+=`<tr>
`;for(var $=0;$<F;++$)M+=B[G][$];M+=`</tr>
`}return M+=`</tbody>
</table>
`,M}function O(D){var B,M=D.split(`
`);for(B=0;B<M.length;++B)/^ {0,3}\|/.test(M[B])&&(M[B]=M[B].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(M[B])&&(M[B]=M[B].replace(/\|[ \t]*$/,"")),M[B]=r.subParser("codeSpans")(M[B],y,E);var F=M[0].split("|").map(function(ee){return ee.trim()}),G=M[1].split("|").map(function(ee){return ee.trim()}),$=[],P=[],j=[],W=[];for(M.shift(),M.shift(),B=0;B<M.length;++B)M[B].trim()!==""&&$.push(M[B].split("|").map(function(ee){return ee.trim()}));if(F.length<G.length)return D;for(B=0;B<G.length;++B)j.push(L(G[B]));for(B=0;B<F.length;++B)r.helper.isUndefined(j[B])&&(j[B]=""),P.push(S(F[B],j[B]));for(B=0;B<$.length;++B){for(var H=[],Z=0;Z<P.length;++Z)r.helper.isUndefined($[B][Z]),H.push(A($[B][Z],j[Z]));W.push(H)}return w(P,W)}return g=E.converter._dispatch("tables.before",g,y,E),g=g.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),g=g.replace(I,O),g=g.replace(R,O),g=E.converter._dispatch("tables.after",g,y,E),g}),r.subParser("underline",function(g,y,E){return y.underline&&(g=E.converter._dispatch("underline.before",g,y,E),y.literalMidWordUnderscores?(g=g.replace(/\b___(\S[\s\S]*?)___\b/g,function(I,R){return"<u>"+R+"</u>"}),g=g.replace(/\b__(\S[\s\S]*?)__\b/g,function(I,R){return"<u>"+R+"</u>"})):(g=g.replace(/___(\S[\s\S]*?)___/g,function(I,R){return/\S$/.test(R)?"<u>"+R+"</u>":I}),g=g.replace(/__(\S[\s\S]*?)__/g,function(I,R){return/\S$/.test(R)?"<u>"+R+"</u>":I})),g=g.replace(/(_)/g,r.helper.escapeCharactersCallback),g=E.converter._dispatch("underline.after",g,y,E)),g}),r.subParser("unescapeSpecialChars",function(g,y,E){return g=E.converter._dispatch("unescapeSpecialChars.before",g,y,E),g=g.replace(/Â¨E(\d+)E/g,function(I,R){var L=parseInt(R);return String.fromCharCode(L)}),g=E.converter._dispatch("unescapeSpecialChars.after",g,y,E),g}),r.subParser("makeMarkdown.blockquote",function(g,y){var E="";if(g.hasChildNodes())for(var I=g.childNodes,R=I.length,L=0;L<R;++L){var S=r.subParser("makeMarkdown.node")(I[L],y);S!==""&&(E+=S)}return E=E.trim(),E="> "+E.split(`
`).join(`
> `),E}),r.subParser("makeMarkdown.codeBlock",function(g,y){var E=g.getAttribute("language"),I=g.getAttribute("precodenum");return"```"+E+`
`+y.preList[I]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(g){return"`"+g.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(g,y){var E="";if(g.hasChildNodes()){E+="*";for(var I=g.childNodes,R=I.length,L=0;L<R;++L)E+=r.subParser("makeMarkdown.node")(I[L],y);E+="*"}return E}),r.subParser("makeMarkdown.header",function(g,y,E){var I=new Array(E+1).join("#"),R="";if(g.hasChildNodes()){R=I+" ";for(var L=g.childNodes,S=L.length,A=0;A<S;++A)R+=r.subParser("makeMarkdown.node")(L[A],y)}return R}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(g){var y="";return g.hasAttribute("src")&&(y+="!["+g.getAttribute("alt")+"](",y+="<"+g.getAttribute("src")+">",g.hasAttribute("width")&&g.hasAttribute("height")&&(y+=" ="+g.getAttribute("width")+"x"+g.getAttribute("height")),g.hasAttribute("title")&&(y+=' "'+g.getAttribute("title")+'"'),y+=")"),y}),r.subParser("makeMarkdown.links",function(g,y){var E="";if(g.hasChildNodes()&&g.hasAttribute("href")){var I=g.childNodes,R=I.length;E="[";for(var L=0;L<R;++L)E+=r.subParser("makeMarkdown.node")(I[L],y);E+="](",E+="<"+g.getAttribute("href")+">",g.hasAttribute("title")&&(E+=' "'+g.getAttribute("title")+'"'),E+=")"}return E}),r.subParser("makeMarkdown.list",function(g,y,E){var I="";if(!g.hasChildNodes())return"";for(var R=g.childNodes,L=R.length,S=g.getAttribute("start")||1,A=0;A<L;++A)if(!(typeof R[A].tagName=="undefined"||R[A].tagName.toLowerCase()!=="li")){var w="";E==="ol"?w=S.toString()+". ":w="- ",I+=w+r.subParser("makeMarkdown.listItem")(R[A],y),++S}return I+=`
<!-- -->
`,I.trim()}),r.subParser("makeMarkdown.listItem",function(g,y){for(var E="",I=g.childNodes,R=I.length,L=0;L<R;++L)E+=r.subParser("makeMarkdown.node")(I[L],y);return/\n$/.test(E)?E=E.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):E+=`
`,E}),r.subParser("makeMarkdown.node",function(g,y,E){E=E||!1;var I="";if(g.nodeType===3)return r.subParser("makeMarkdown.txt")(g,y);if(g.nodeType===8)return"<!--"+g.data+`-->

`;if(g.nodeType!==1)return"";var R=g.tagName.toLowerCase();switch(R){case"h1":E||(I=r.subParser("makeMarkdown.header")(g,y,1)+`

`);break;case"h2":E||(I=r.subParser("makeMarkdown.header")(g,y,2)+`

`);break;case"h3":E||(I=r.subParser("makeMarkdown.header")(g,y,3)+`

`);break;case"h4":E||(I=r.subParser("makeMarkdown.header")(g,y,4)+`

`);break;case"h5":E||(I=r.subParser("makeMarkdown.header")(g,y,5)+`

`);break;case"h6":E||(I=r.subParser("makeMarkdown.header")(g,y,6)+`

`);break;case"p":E||(I=r.subParser("makeMarkdown.paragraph")(g,y)+`

`);break;case"blockquote":E||(I=r.subParser("makeMarkdown.blockquote")(g,y)+`

`);break;case"hr":E||(I=r.subParser("makeMarkdown.hr")(g,y)+`

`);break;case"ol":E||(I=r.subParser("makeMarkdown.list")(g,y,"ol")+`

`);break;case"ul":E||(I=r.subParser("makeMarkdown.list")(g,y,"ul")+`

`);break;case"precode":E||(I=r.subParser("makeMarkdown.codeBlock")(g,y)+`

`);break;case"pre":E||(I=r.subParser("makeMarkdown.pre")(g,y)+`

`);break;case"table":E||(I=r.subParser("makeMarkdown.table")(g,y)+`

`);break;case"code":I=r.subParser("makeMarkdown.codeSpan")(g,y);break;case"em":case"i":I=r.subParser("makeMarkdown.emphasis")(g,y);break;case"strong":case"b":I=r.subParser("makeMarkdown.strong")(g,y);break;case"del":I=r.subParser("makeMarkdown.strikethrough")(g,y);break;case"a":I=r.subParser("makeMarkdown.links")(g,y);break;case"img":I=r.subParser("makeMarkdown.image")(g,y);break;default:I=g.outerHTML+`

`}return I}),r.subParser("makeMarkdown.paragraph",function(g,y){var E="";if(g.hasChildNodes())for(var I=g.childNodes,R=I.length,L=0;L<R;++L)E+=r.subParser("makeMarkdown.node")(I[L],y);return E=E.trim(),E}),r.subParser("makeMarkdown.pre",function(g,y){var E=g.getAttribute("prenum");return"<pre>"+y.preList[E]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(g,y){var E="";if(g.hasChildNodes()){E+="~~";for(var I=g.childNodes,R=I.length,L=0;L<R;++L)E+=r.subParser("makeMarkdown.node")(I[L],y);E+="~~"}return E}),r.subParser("makeMarkdown.strong",function(g,y){var E="";if(g.hasChildNodes()){E+="**";for(var I=g.childNodes,R=I.length,L=0;L<R;++L)E+=r.subParser("makeMarkdown.node")(I[L],y);E+="**"}return E}),r.subParser("makeMarkdown.table",function(g,y){var E="",I=[[],[]],R=g.querySelectorAll("thead>tr>th"),L=g.querySelectorAll("tbody>tr"),S,A;for(S=0;S<R.length;++S){var w=r.subParser("makeMarkdown.tableCell")(R[S],y),O="---";if(R[S].hasAttribute("style")){var D=R[S].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(D){case"text-align:left;":O=":---";break;case"text-align:right;":O="---:";break;case"text-align:center;":O=":---:";break}}I[0][S]=w.trim(),I[1][S]=O}for(S=0;S<L.length;++S){var B=I.push([])-1,M=L[S].getElementsByTagName("td");for(A=0;A<R.length;++A){var F=" ";typeof M[A]!="undefined"&&(F=r.subParser("makeMarkdown.tableCell")(M[A],y)),I[B].push(F)}}var G=3;for(S=0;S<I.length;++S)for(A=0;A<I[S].length;++A){var $=I[S][A].length;$>G&&(G=$)}for(S=0;S<I.length;++S){for(A=0;A<I[S].length;++A)S===1?I[S][A].slice(-1)===":"?I[S][A]=r.helper.padEnd(I[S][A].slice(-1),G-1,"-")+":":I[S][A]=r.helper.padEnd(I[S][A],G,"-"):I[S][A]=r.helper.padEnd(I[S][A],G);E+="| "+I[S].join(" | ")+` |
`}return E.trim()}),r.subParser("makeMarkdown.tableCell",function(g,y){var E="";if(!g.hasChildNodes())return"";for(var I=g.childNodes,R=I.length,L=0;L<R;++L)E+=r.subParser("makeMarkdown.node")(I[L],y,!0);return E.trim()}),r.subParser("makeMarkdown.txt",function(g){var y=g.nodeValue;return y=y.replace(/ +/g," "),y=y.replace(/Â¨NBSP;/g," "),y=r.helper.unescapeHTMLEntities(y),y=y.replace(/([*_~|`])/g,"\\$1"),y=y.replace(/^(\s*)>/g,"\\$1>"),y=y.replace(/^#/gm,"\\#"),y=y.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),y=y.replace(/^( {0,3}\d+)\./gm,"$1\\."),y=y.replace(/^( {0,3})([+-])/gm,"$1\\$2"),y=y.replace(/]([\s]*)\(/g,"\\]$1\\("),y=y.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),y});var N=this;e.exports?e.exports=r:N.showdown=r}).call($J)})(Ad)),Ad.exports}var YJ=WJ();const ia=Kl(YJ);var KJ=$1,QJ=K1,XJ=W1;const JJ=({editor:e,blogId:t,sectionId:n,onContentUpdate:r})=>{const[i,s]=q.useState(!1),[a,o]=q.useState(!1),[u,c]=q.useState({top:0,left:0}),l=q.useRef(null),[d,h]=q.useState(!1),[f,p]=q.useState(""),[x,_]=q.useState(""),[b,T]=q.useState(""),[N,g]=q.useState({from:0,to:0}),y=A=>{if(!A)return"";const w=new qs({headingStyle:"atx",bulletListMarker:"-",codeBlockStyle:"fenced"});return w.keep(["table","tr","td","th"]),w.turndown(A)},E=q.useMemo(()=>y(f),[f]),I=q.useMemo(()=>y(x),[x]);q.useEffect(()=>{if(!e)return;const A=()=>{const{from:w,to:O}=e.state.selection;if(e.state.doc.textBetween(w,O," ").trim().length>0){g({from:w,to:O});const B=window.getSelection();if(B&&B.rangeCount>0){const F=B.getRangeAt(0).getBoundingClientRect();c({top:F.top-60,left:F.left+F.width/2-150}),o(!0)}}else o(!1)};return e.on("selectionUpdate",A),e.on("update",A),()=>{e.off("selectionUpdate",A),e.off("update",A)}},[e]);const R=A=>bt(null,null,function*(){var P,j,W,H,Z;if(!t){de.error("Blog ID not found");return}const{from:w,to:O}=e.state.selection,D=e.state.doc.slice(w,O),B=document.createElement("div"),M=Js.fromSchema(e.schema);D.content.forEach(ee=>{B.appendChild(M.serializeNode(ee))});const F=B.innerHTML;if(!F.trim()){de.warning("Please select some text first");return}const G=new qs({headingStyle:"atx",bulletListMarker:"-",codeBlockStyle:"fenced"});G.keep(["table","tr","td","th"]);const $=G.turndown(F);s(!0);try{const ee=yield yl.post(`/blogs/${t}/rewrite`,{contentPart:$});if(ee.data){const ae=typeof ee.data=="string"?ee.data:ee.data.content||ee.data.message||"",_e=yield jt.parse(ae);p(F),_(_e),T(A),h(!0),o(!1),de.success(`${A} completed! Review the changes.`)}}catch(ee){if(console.error("AI Operation Error:",ee),((P=ee.response)==null?void 0:P.status)===402){const ae=(W=(j=ee.response)==null?void 0:j.data)==null?void 0:W.neededCredits,_e=ae?`Insufficient credits. You need ${ae} credits to perform this operation.`:"Insufficient credits to perform this operation. Please add more credits.";de.error({content:_e,duration:5})}else{const ae=((Z=(H=ee.response)==null?void 0:H.data)==null?void 0:Z.message)||ee.message||`Failed to ${A}. Please try again.`;de.error(ae)}}finally{s(!1)}}),L=()=>{const{from:A,to:w}=N;e.chain().focus().deleteRange({from:A,to:w}).insertContent(x).run(),r&&r(e.getHTML()),h(!1),de.success("Changes applied successfully!"),p(""),_(""),T("")},S=()=>{h(!1),de.info("Changes discarded"),p(""),_(""),T("")};return!e||!a?m.jsx(m.Fragment,{children:d&&m.jsx(hn,{title:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ls,{className:"w-5 h-5 text-purple-600"}),m.jsxs("span",{children:["Review AI Changes - ",b]})]}),open:d,onCancel:S,footer:[m.jsx("button",{onClick:S,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Decline"},"decline"),m.jsx("button",{onClick:L,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors ml-2",children:"Accept Changes"},"accept")],width:1e3,centered:!0,className:"section-ai-diff-modal",children:m.jsx("div",{className:"space-y-4",children:m.jsx("div",{className:"border rounded-lg overflow-y-auto max-h-[70vh]",children:m.jsx(Jm,{oldValue:E,newValue:I,splitView:!0,compareMethod:Gf.DiffMethod.WORDS,leftTitle:"Original Content",rightTitle:"AI Generated Content",useDarkTheme:!1,styles:{variables:{light:{diffViewerBackground:"#ffffff",addedBackground:"#e6ffec",addedColor:"#1a7f37",removedBackground:"#ffebe9",removedColor:"#cf222e",wordAddedBackground:"#abf2bc",wordRemovedBackground:"#ffc1c0"}},line:{fontSize:"14px",lineHeight:"1.6"}}})})})})}):m.jsxs(m.Fragment,{children:[m.jsx("div",{ref:l,className:"fixed z-[9999] flex items-center gap-1 bg-white border border-gray-200 rounded-lg shadow-lg p-1",style:{top:`${u.top}px`,left:`${u.left}px`},onMouseDown:A=>A.preventDefault(),children:i?m.jsxs("div",{className:"flex items-center gap-2 px-3 py-2",children:[m.jsx(ag,{className:"w-4 h-4 animate-spin text-blue-600"}),m.jsx("span",{className:"text-sm text-gray-600",children:"Processing..."})]}):m.jsx(kt,{title:"Rewrite selected text with AI",children:m.jsxs("button",{onClick:()=>R("rewrite"),className:"flex items-center gap-1.5 px-3 py-2 text-sm bg-purple-50 text-purple-700 rounded-md hover:bg-purple-100 transition-colors",children:[m.jsx(ls,{className:"w-4 h-4"}),m.jsx("span",{className:"font-medium",children:"Rewrite"})]})})}),m.jsx(hn,{title:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ls,{className:"w-5 h-5 text-purple-600"}),m.jsxs("span",{children:["Review AI Changes - ",b]})]}),open:d,onCancel:S,footer:[m.jsx("button",{onClick:S,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Decline"},"decline"),m.jsx("button",{onClick:L,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors ml-2",children:"Accept Changes"},"accept")],width:1e3,centered:!0,className:"section-ai-diff-modal",children:m.jsx("div",{className:"space-y-4",children:m.jsx("div",{className:"border rounded-lg overflow-y-auto max-h-[70vh]",children:m.jsx(Jm,{oldValue:E,newValue:I,splitView:!0,compareMethod:Gf.DiffMethod.WORDS,leftTitle:"Original Content",rightTitle:"AI Generated Content",useDarkTheme:!1,styles:{variables:{light:{diffViewerBackground:"#ffffff",addedBackground:"#e6ffec",addedColor:"#1a7f37",removedBackground:"#ffebe9",removedColor:"#cf222e",wordAddedBackground:"#abf2bc",wordRemovedBackground:"#ffc1c0"}},line:{fontSize:"14px",lineHeight:"1.6"}}})})})})]})},b6=q.createContext(null),ZJ=({children:e,value:t})=>m.jsx(b6.Provider,{value:t,children:e}),T6=()=>{const e=q.useContext(b6);if(!e)throw new Error("useEditorContext must be used within an EditorProvider");return e},Pn=({active:e,onClick:t,disabled:n,children:r,title:i})=>m.jsx(kt,{title:i,children:m.jsx("button",{onClick:t,disabled:n,type:"button",className:`p-2 rounded-md transition-colors duration-150 ${n?"opacity-50 cursor-not-allowed":e?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,children:r})}),eZ=({initialContent:e,onChange:t,onBlur:n,proofreadingResults:r=[],onAcceptSuggestion:i,sectionId:s})=>{const[a,o]=q.useState(!1),[u,c]=q.useState(""),[l,d]=q.useState(""),[h,f]=q.useState(!1),[p,x]=q.useState(""),[_,b]=q.useState(""),[T,N]=q.useState(!1),[g,y]=q.useState(null),[E,I]=q.useState(!1),[R,L]=q.useState(""),[S,A]=q.useState(null),[w,O]=q.useState(!1),[D,B]=q.useState(!1),[M,F]=q.useState(""),[G,$]=q.useState(""),[P,j]=q.useState(!1),[W,H]=q.useState(null),[Z,ee]=q.useState(null),[ae,_e]=q.useState(!1),[ge,je]=q.useState({x:0,y:0}),Se=q.useRef(null),Ie=q.useRef(null),qe=q.useRef({}),[te,$e]=q.useState(null),st=q.useRef(null),[Rt,yt]=q.useState(!1),[xt,zt]=q.useState(""),[Re,Nt]=q.useState(""),[At,nt]=q.useState(""),[Et,ht]=q.useState(!1),[ie,ce]=q.useState({row:0,col:0}),X=q.useRef(null),{blogId:me}=T6(),re=I1({extensions:[X1.configure({heading:!1,bulletList:!1,orderedList:!1,listItem:!1}),M1.configure({levels:[3,4]}),KJ,QJ,XJ,Cw,Eb.configure({resizable:!0,allowTableNodeSelection:!0,HTMLAttributes:{class:"border-collapse border border-gray-300 w-full my-4"}}),Tb.configure({HTMLAttributes:{class:"border border-gray-300"}}),bb.configure({HTMLAttributes:{class:"border border-gray-300 bg-gray-100 p-2 font-semibold text-left"}}),gb.configure({HTMLAttributes:{class:"border border-gray-300 p-2"}}),kw.configure({HTMLAttributes:{class:"rounded-lg max-w-full h-auto object-contain my-4 cursor-pointer"}}),Ow.configure({types:["heading","paragraph"]}),kY.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-600 underline cursor-pointer hover:text-blue-800",rel:"noopener noreferrer",target:"_blank"}}),DJ,SQ.configure({suggestions:r})],content:e,onUpdate:({editor:Ce})=>{t(Ce.getHTML())},editorProps:{attributes:{class:"prose max-w-none focus:outline-none min-h-[200px] [&>h3]:text-lg [&>h3]:font-semibold [&>h3]:mb-2 [&>h3]:mt-4 [&>h4]:text-base [&>h4]:font-medium [&>h4]:mb-2 [&>h4]:mt-3 [&>p]:mb-4 [&>p]:leading-relaxed [&>ul]:list-disc [&>ul]:pl-6 [&>ul>li]:mb-2 [&>ol]:list-decimal [&>ol]:pl-6 [&>ol>li]:mb-2 [&_img]:max-w-full [&_img]:h-auto [&_img]:rounded-lg"},handleClick:(Ce,Me,it)=>{const ct=it.target.closest("a");if(ct){it.preventDefault();const an={href:ct.href,text:ct.textContent,element:ct};return y(an),A(null),L(an.href),j(!0),!0}const Lt=it.target.closest("img");if(Lt){it.preventDefault();const an={src:Lt.src,alt:Lt.alt||"",element:Lt};return A(an),y(null),O(!1),F(an.alt),$(an.src),B(!0),!0}const rn=it.target.closest(".proofreading-original, .proofreading-suggestion, .proofreading-mark");return rn&&(rn.dataset.suggestion||rn.dataset.original)?(it.preventDefault(),$e(rn),!0):(y(null),A(null),$e(null),!1)}}});if(q.useEffect(()=>{if(re){const Ce=re.extensionManager.extensions.find(Me=>Me.name==="proofreadingDecoration");Ce&&(Ce.options.suggestions=r||[],re.view.dispatch(re.state.tr))}},[r,re]),q.useEffect(()=>{re&&e!==re.getHTML()&&re.commands.setContent(e,!1)},[e,re]),!re)return null;const lt=()=>{if(!te||!re)return;const Ce=te.dataset.original,Me=te.dataset.suggestion;if(!(!Ce||!Me)){if(i)i({original:Ce,change:Me});else{const it=Number(te.dataset.from),ct=Number(te.dataset.to);if(!isNaN(it)&&!isNaN(ct))try{re.chain().focus().deleteRange({from:it,to:ct}).insertContent(Me).run(),de.success("Change applied")}catch(Lt){console.error("Error applying change:",Lt)}}$e(null)}},Ht=()=>{$e(null)},be=()=>{const{from:Ce,to:Me}=re.state.selection,it=re.state.doc.textBetween(Ce,Me," ");d(it),c(""),o(!0)},Be=()=>{if(!u){de.error("Please enter a URL");return}let Ce=u;/^https?:\/\//i.test(Ce)||(Ce="https://"+Ce),l&&re.state.selection.empty?re.chain().focus().insertContent(`<a href="${Ce}">${l}</a>`).run():re.chain().focus().setLink({href:Ce}).run(),o(!1),c(""),d(""),de.success("Link added")},Ke=()=>{re.chain().focus().unsetLink().run(),y(null),j(!1),de.success("Link removed")},at=()=>{if(!R){de.error("Please enter a URL");return}let Ce=R;if(/^https?:\/\//i.test(Ce)||(Ce="https://"+Ce),re&&g){const{state:Me}=re,{from:it,to:ct}=Me.selection;re.chain().focus().extendMarkRange("link").setLink({href:Ce}).run(),I(!1),L(""),y(oe(U({},g),{href:Ce})),de.success("Link updated")}},Zt=()=>{x(""),b(""),N(!1),f(!0)},Je=(Ce,Me)=>{x(Ce),b(Me),N(!1)},er=()=>{if(!p){de.error("Please enter an image URL");return}let Ce=p;/^https?:\/\//i.test(Ce)||(Ce="https://"+Ce),re.chain().focus().setImage({src:Ce,alt:_}).run(),f(!1),x(""),b(""),de.success("Image added")},Un=()=>{if(!S||!re)return;const{state:Ce}=re;let Me=null,it=null;Ce.doc.descendants((ct,Lt)=>{if(ct.type.name==="image"&&ct.attrs.src===S.src)return Me=Lt,it=ct,!1}),Me!==null&&it&&(re.chain().focus().deleteRange({from:Me,to:Me+1}).setImage({src:G,alt:M}).run(),t(re.getHTML()),B(!1),A(null),de.success("Image updated successfully"))},zn=()=>{tr(),B(!1)},tr=()=>{if(S&&re){const{state:Ce}=re;let Me=null;Ce.doc.descendants((it,ct)=>{if(it.type.name==="image"&&it.attrs.src===S.src)return Me=ct,!1}),Me!==null&&(re.chain().focus().deleteRange({from:Me,to:Me+1}).run(),A(null),de.success("Image deleted"))}},Nn=()=>{if(B(!1),x((S==null?void 0:S.src)||""),b((S==null?void 0:S.alt)||""),f(!0),S&&re){const{state:Ce}=re;let Me=null;Ce.doc.descendants((it,ct)=>{if(it.type.name==="image"&&it.attrs.src===S.src)return Me=ct,!1}),Me!==null&&re.chain().focus().deleteRange({from:Me,to:Me+1}).run()}A(null)},qn=Ce=>{if(!Ce)return{valid:!1,embedUrl:null,videoId:null};const Me=Ce.match(/youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/);if(Me)return{valid:!0,embedUrl:Ce,videoId:Me[1]};const it=[/(?:youtube\.com\/watch\?v=)([a-zA-Z0-9_-]{11})/,/(?:youtu\.be\/)([a-zA-Z0-9_-]{11})/,/(?:youtube\.com\/v\/)([a-zA-Z0-9_-]{11})/,/(?:youtube\.com\/shorts\/)([a-zA-Z0-9_-]{11})/];for(const ct of it){const Lt=Ce.match(ct);if(Lt)return{valid:!0,embedUrl:`https://www.youtube.com/embed/${Lt[1]}`,videoId:Lt[1]}}return{valid:!1,embedUrl:null,videoId:null}},Fr=()=>{const Ce=qn(xt);if(!Ce.valid){nt("Please enter a valid YouTube URL");return}if(!Re.trim()){de.warning("Please add a title for SEO");return}re.chain().focus().setIframe({src:Ce.embedUrl,title:Re.trim()}).run(),zt(""),Nt(""),nt(""),yt(!1),de.success("YouTube video added")},rt=()=>{zt(""),Nt(""),nt(""),yt(!1)},nr=()=>{ht(Ce=>!Ce)},zi=(Ce,Me)=>{re&&(ht(!1),ce({row:0,col:0}),setTimeout(()=>{re.chain().focus().insertTable({rows:Ce,cols:Me,withHeaderRow:!0}).run(),de.success(`Table ${Ce}x${Me} added.`)},100))};return q.useEffect(()=>{const Ce=Me=>{Et&&X.current&&!X.current.contains(Me.target)&&!Me.target.closest(".fixed.bg-white")&&(ht(!1),ce({row:0,col:0}))};return document.addEventListener("mousedown",Ce),()=>document.removeEventListener("mousedown",Ce)},[Et]),m.jsxs("div",{className:"border rounded-lg bg-white shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-1 p-2 border-b bg-gray-50 rounded-t-lg flex-wrap",children:[m.jsx(Pn,{title:"Heading 3",active:re.isActive("heading",{level:3}),onClick:()=>re.chain().focus().toggleHeading({level:3}).run(),children:m.jsx(mx,{className:"w-4 h-4"})}),m.jsx(Pn,{title:"Heading 4",active:re.isActive("heading",{level:4}),onClick:()=>re.chain().focus().toggleHeading({level:4}).run(),children:m.jsx(gx,{className:"w-4 h-4"})}),m.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),m.jsx(Pn,{title:"Bold (Ctrl+B)",active:re.isActive("bold"),onClick:()=>re.chain().focus().toggleBold().run(),children:m.jsx(Sd,{className:"w-4 h-4"})}),m.jsx(Pn,{title:"Italic (Ctrl+I)",active:re.isActive("italic"),onClick:()=>re.chain().focus().toggleItalic().run(),children:m.jsx(Nd,{className:"w-4 h-4"})}),m.jsx(Pn,{title:"Underline (Ctrl+U)",active:re.isActive("underline"),onClick:()=>re.chain().focus().toggleUnderline().run(),children:m.jsx(_x,{className:"w-4 h-4"})}),m.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),m.jsx(Pn,{title:"Bullet List",active:re.isActive("bulletList"),onClick:()=>re.chain().focus().toggleBulletList().run(),children:m.jsx(Tx,{className:"w-4 h-4"})}),m.jsx(Pn,{title:"Numbered List",active:re.isActive("orderedList"),onClick:()=>re.chain().focus().toggleOrderedList().run(),children:m.jsx(bx,{className:"w-4 h-4"})}),m.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),m.jsx(Pn,{title:"Align Left",active:re.isActive({textAlign:"left"}),onClick:()=>re.chain().focus().setTextAlign("left").run(),children:m.jsx(fx,{className:"w-4 h-4"})}),m.jsx(Pn,{title:"Align Center",active:re.isActive({textAlign:"center"}),onClick:()=>re.chain().focus().setTextAlign("center").run(),children:m.jsx(dx,{className:"w-4 h-4"})}),m.jsx(Pn,{title:"Align Right",active:re.isActive({textAlign:"right"}),onClick:()=>re.chain().focus().setTextAlign("right").run(),children:m.jsx(hx,{className:"w-4 h-4"})}),m.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),m.jsx(Pn,{title:"Add Link",active:re.isActive("link"),onClick:be,children:m.jsx(Au,{className:"w-4 h-4"})}),m.jsx(Pn,{title:"Add Image",onClick:Zt,children:m.jsx(ai,{className:"w-4 h-4"})}),m.jsx(Pn,{title:"Add YouTube Video",onClick:()=>yt(!0),children:m.jsx(Fh,{className:"w-4 h-4"})}),m.jsx("div",{className:"relative inline-block",ref:X,children:m.jsx(Pn,{title:"Table",active:re.isActive("table")||Et,onClick:nr,children:m.jsx(yx,{className:"w-4 h-4"})})}),Et&&X.current&&$f.createPortal(m.jsxs("div",{className:"fixed bg-white border border-gray-300 rounded-lg shadow-lg p-3 z-[9999]",style:{top:`${X.current.getBoundingClientRect().bottom+8}px`,left:`${X.current.getBoundingClientRect().left}px`},children:[m.jsx("div",{className:"mb-2 text-xs text-gray-600 text-center",children:ie.row>0&&ie.col>0?`${ie.row} x ${ie.col}`:"Select table size"}),m.jsx("div",{className:"grid gap-1",style:{gridTemplateColumns:"repeat(10, 1fr)"},children:Array.from({length:10},(Ce,Me)=>Array.from({length:10},(it,ct)=>m.jsx("div",{className:`w-5 h-5 border border-gray-300 cursor-pointer transition-colors ${Me<ie.row&&ct<ie.col?"bg-blue-500 border-blue-600":"bg-white hover:bg-blue-100"}`,onMouseEnter:()=>ce({row:Me+1,col:ct+1}),onClick:()=>zi(Me+1,ct+1)},`${Me}-${ct}`)))})]}),document.body),(re==null?void 0:re.isActive("table"))&&m.jsx(sg,{content:m.jsxs("div",{className:"flex flex-col gap-1 min-w-[180px]",children:[m.jsx(He,{size:"small",icon:m.jsx(kn,{className:"w-3 h-3"}),onClick:()=>{re.chain().focus().addRowBefore().run(),de.success("Row added")},disabled:!re.can().addRowBefore(),className:"justify-start",children:"Add Row Before"}),m.jsx(He,{size:"small",icon:m.jsx(kn,{className:"w-3 h-3"}),onClick:()=>{re.chain().focus().addRowAfter().run(),de.success("Row added")},disabled:!re.can().addRowAfter(),className:"justify-start",children:"Add Row After"}),m.jsx(He,{size:"small",icon:m.jsx(vd,{className:"w-3 h-3"}),onClick:()=>{re.chain().focus().deleteRow().run(),de.success("Row deleted")},disabled:!re.can().deleteRow(),danger:!0,className:"justify-start",children:"Delete Row"}),m.jsx("div",{className:"border-t my-1"}),m.jsx(He,{size:"small",icon:m.jsx(kn,{className:"w-3 h-3"}),onClick:()=>{re.chain().focus().addColumnBefore().run(),de.success("Column added")},disabled:!re.can().addColumnBefore(),className:"justify-start",children:"Add Column Before"}),m.jsx(He,{size:"small",icon:m.jsx(kn,{className:"w-3 h-3"}),onClick:()=>{re.chain().focus().addColumnAfter().run()},disabled:!re.can().addColumnAfter(),className:"justify-start",children:"Add Column After"}),m.jsx(He,{size:"small",icon:m.jsx(vd,{className:"w-3 h-3"}),onClick:()=>{re.chain().focus().deleteColumn().run()},disabled:!re.can().deleteColumn(),danger:!0,className:"justify-start",children:"Delete Column"}),m.jsx("div",{className:"border-t my-1"}),m.jsx(He,{size:"small",icon:m.jsx(wi,{className:"w-3 h-3"}),onClick:()=>{re.chain().focus().deleteTable().run()},disabled:!re.can().deleteTable(),danger:!0,className:"justify-start",children:"Delete Table"})]}),trigger:"click",placement:"bottomLeft",children:m.jsx("div",{children:m.jsx(Pn,{title:"Table Options",active:re.isActive("table"),children:m.jsx(Ex,{className:"w-4 h-4"})})})}),m.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),m.jsx(Pn,{title:"Undo (Ctrl+Z)",disabled:!re.can().undo(),onClick:()=>re.chain().focus().undo().run(),children:m.jsx(zk,{className:"w-4 h-4"})}),m.jsx(Pn,{title:"Redo (Ctrl+Y)",disabled:!re.can().redo(),onClick:()=>re.chain().focus().redo().run(),children:m.jsx(Ok,{className:"w-4 h-4"})})]}),te&&m.jsxs("div",{ref:st,className:"bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-amber-300 rounded-xl  mx-4 mb-4 overflow-hidden mt-5",children:[m.jsxs("div",{className:"px-4 py-2 bg-gradient-to-r from-amber-100 to-orange-100 border-b border-amber-200 flex items-center gap-2",children:[m.jsx("div",{className:"w-6 h-6 bg-amber-500 rounded-full flex items-center justify-center",children:m.jsx("span",{className:"text-white text-xs font-bold",children:"!"})}),m.jsx("span",{className:"text-sm font-semibold text-amber-800",children:"AI Suggestion"})]}),m.jsxs("div",{className:"p-4 space-y-3",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("div",{className:"w-4 h-4 bg-green-100 rounded flex items-center justify-center",children:m.jsx(Cu,{className:"w-2.5 h-2.5 text-green-500"})}),m.jsx("span",{className:"text-xs font-semibold text-green-600 uppercase",children:"Suggested"})]}),m.jsx("div",{className:"p-2 bg-green-50 border border-green-200 rounded-lg text-sm text-gray-700",children:te.dataset.suggestion})]}),m.jsxs("div",{className:"flex gap-2 pt-2",children:[m.jsxs("button",{onClick:lt,className:"flex-1 flex items-center justify-center gap-1.5 px-4 py-2.5 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg text-sm font-semibold hover:shadow-md hover:scale-[1.02] transition-all",children:[m.jsx(Cu,{className:"w-4 h-4"}),"Accept Change"]}),m.jsxs("button",{onClick:Ht,className:"px-4 py-2.5 bg-gray-100 text-gray-600 rounded-lg text-sm font-medium hover:bg-gray-200 transition-all flex items-center gap-1.5",children:[m.jsx(zs,{className:"w-4 h-4"}),"Dismiss"]})]})]})]}),m.jsxs("div",{ref:Ie,className:"p-4 relative",onClick:()=>re.chain().focus().run(),onMouseOver:Ce=>{const Me=Ce.target.closest("a");Me&&(Se.current&&clearTimeout(Se.current),Se.current=setTimeout(()=>bt(null,null,function*(){var rn,an,Xr;const it=Me.getBoundingClientRect(),ct=(rn=Ie.current)==null?void 0:rn.getBoundingClientRect();ct&&je({x:Math.min(it.left-ct.left,ct.width-280),y:it.bottom-ct.top+5});const Lt=Me.href;if(H({href:Lt,text:Me.textContent}),qe.current[Lt])ee(qe.current[Lt]);else{_e(!0),ee(null);try{const gn=yield yX.getLinkPreview(Lt,{proxyUrl:"https://api.allorigins.win/raw?url=",timeout:5e3,followRedirects:"follow",headers:{"user-agent":"googlebot"}}),bn={title:gn.title||"",description:gn.description||"",image:((an=gn.images)==null?void 0:an[0])||((Xr=gn.favicons)==null?void 0:Xr[0])||"",siteName:gn.siteName||new URL(Lt).hostname};qe.current[Lt]=bn,ee(bn)}catch(gn){const bn={title:"",description:"",image:"",siteName:new URL(Lt).hostname};qe.current[Lt]=bn,ee(bn)}finally{_e(!1)}}}),300))},onMouseOut:Ce=>{var ct;const Me=Ce.target.closest("a"),it=Ce.relatedTarget;Me&&(!it||!((ct=it.closest)!=null&&ct.call(it,".link-hover-preview")))&&(Se.current&&clearTimeout(Se.current),Se.current=setTimeout(()=>{H(null),ee(null)},200))},children:[m.jsx(w1,{editor:re}),re&&me&&s&&m.jsx(JJ,{editor:re,blogId:me,sectionId:s,onContentUpdate:t}),W&&!g&&m.jsxs("div",{className:"link-hover-preview absolute z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-3 w-72",style:{left:ge.x,top:ge.y},onMouseEnter:()=>{Se.current&&clearTimeout(Se.current)},onMouseLeave:()=>{H(null),ee(null)},children:[ae?m.jsxs("div",{className:"flex items-center gap-2 py-2",children:[m.jsx(ag,{className:"w-4 h-4 text-blue-600 animate-spin"}),m.jsx("span",{className:"text-sm text-gray-500",children:"Loading preview..."})]}):Z?m.jsxs("div",{children:[Z.image&&m.jsx("div",{className:"mb-2 -mx-3 -mt-3",children:m.jsx("img",{src:Z.image,alt:"",className:"w-full h-32 object-cover rounded-t-lg",onError:Ce=>Ce.target.style.display="none"})}),Z.title&&m.jsx("h4",{className:"font-semibold text-sm text-gray-900 line-clamp-2 mb-1",children:Z.title}),Z.description&&m.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 mb-2",children:Z.description}),m.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400 mb-2",children:[m.jsx(Au,{className:"w-3 h-3"}),m.jsx("span",{className:"truncate",children:Z.siteName})]})]}):m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(Au,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),m.jsx("a",{href:W.href,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm truncate",children:W.href})]}),m.jsxs("div",{className:"flex gap-1 pt-2 border-t border-gray-100",children:[m.jsxs("a",{href:W.href,target:"_blank",rel:"noopener noreferrer",className:"flex-1 px-2 py-1.5 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center justify-center gap-1",children:[m.jsx(_l,{className:"w-3 h-3"})," Open"]}),m.jsxs("button",{onClick:()=>{re&&re.chain().focus().unsetLink().run(),H(null),de.success("Link removed!")},className:"flex-1 px-2 py-1.5 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 flex items-center justify-center gap-1",children:[m.jsx(wi,{className:"w-3 h-3"})," Delete"]})]})]})]}),m.jsx(hn,{title:"Add Link",open:a,onCancel:()=>o(!1),footer:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx(He,{onClick:()=>o(!1),children:"Cancel"}),m.jsx(He,{type:"primary",onClick:Be,children:"Add Link"})]}),children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link Text (optional)"}),m.jsx(Ct,{value:l,onChange:Ce=>d(Ce.target.value),placeholder:"Display text for the link"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),m.jsx(Ct,{value:u,onChange:Ce=>c(Ce.target.value),placeholder:"https://example.com"})]})]})}),m.jsx(hn,{title:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 pr-6 sm:pr-10",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ai,{className:"w-5 h-5 text-purple-600"}),m.jsx("span",{children:"Add Image"})]}),m.jsx(He,{size:"small",type:T?"primary":"default",onClick:()=>N(Ce=>!Ce),className:"text-xs w-full sm:w-auto",icon:m.jsx(ai,{className:"w-3 h-3"}),children:T?"Manual Entry":"Browse Gallery"})]}),open:h,onCancel:()=>{f(!1),N(!1)},footer:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx(He,{onClick:()=>{f(!1),N(!1)},children:"Cancel"}),m.jsx(He,{type:"primary",onClick:er,children:"Add Image"})]}),width:"100%",style:{maxWidth:T?"1200px":"600px",top:20,paddingBottom:0},centered:!0,bodyStyle:{padding:0,maxHeight:"85vh",overflow:"hidden"},className:"responsive-image-modal",children:m.jsxs("div",{className:`flex flex-col ${T?"md:flex-row h-[85vh] md:h-[80vh]":""}`,children:[m.jsxs("div",{className:`${T?"w-full md:w-[400px] border-b md:border-b-0 md:border-r":"w-full"} p-4 sm:p-6 space-y-4 flex-shrink-0 ${T?"overflow-y-auto":""}`,children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),m.jsx(Ct,{value:p,onChange:Ce=>x(Ce.target.value),placeholder:"https://example.com/image.jpg",size:"large"}),p&&m.jsx("div",{className:"mt-3 border rounded-lg overflow-hidden bg-gray-50 p-2",children:m.jsx("img",{src:p,alt:"Preview",className:"w-full h-auto max-h-48 object-contain rounded",onError:Ce=>Ce.target.style.display="none"})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alt Text (optional)"}),m.jsx(Ct,{value:_,onChange:Ce=>b(Ce.target.value),placeholder:"Description of the image",size:"large"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Helps with SEO and accessibility"})]})]}),T&&m.jsx("div",{className:"flex-1 p-4 sm:p-6 bg-gray-50 overflow-hidden min-h-[400px] md:min-h-0",children:m.jsx(ux,{onSelect:Je,selectedImageUrl:p})})]})}),m.jsx(hn,{title:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Au,{className:"w-5 h-5 text-blue-600"}),m.jsx("span",{children:"Edit Link"})]}),open:P,onCancel:()=>{j(!1),y(null)},footer:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(He,{danger:!0,icon:m.jsx(wi,{className:"w-4 h-4"}),onClick:Ke,children:"Delete Link"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(He,{icon:m.jsx(_l,{className:"w-4 h-4"}),onClick:()=>window.open(R,"_blank"),children:"Open Link"}),m.jsx(He,{onClick:()=>j(!1),children:"Cancel"}),m.jsx(He,{type:"primary",icon:m.jsx(Cu,{className:"w-4 h-4"}),onClick:()=>{at(),j(!1)},children:"Save"})]})]}),width:600,centered:!0,children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[m.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Current Link"}),m.jsx("p",{className:"text-sm text-blue-700 font-medium truncate",children:g==null?void 0:g.href})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Link URL ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx(Ct,{value:R,onChange:Ce=>L(Ce.target.value),placeholder:"https://example.com"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The URL this link should point to. Must start with http:// or https://"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link Text"}),m.jsx(Ct,{value:(g==null?void 0:g.text)||"",disabled:!0}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The visible text of the link (cannot be changed here)"})]})]})}),m.jsx(hn,{title:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Fh,{className:"w-5 h-5 text-red-600"}),m.jsx("span",{children:"Add YouTube Video"})]}),open:Rt,onCancel:rt,footer:null,width:520,centered:!0,children:Rt&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["YouTube URL ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx(Ct,{value:xt,onChange:Ce=>{zt(Ce.target.value),nt("")},placeholder:"https://www.youtube.com/watch?v=... or embed URL",status:At?"error":""}),At&&m.jsx("p",{className:"text-xs text-red-500 mt-1",children:At}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supports: youtube.com/watch, youtu.be, youtube.com/embed"})]}),xt&&qn(xt).valid&&m.jsx("div",{className:"border rounded-lg overflow-hidden",children:m.jsx("div",{className:"aspect-video bg-gray-900",children:m.jsx("iframe",{src:qn(xt).embedUrl,title:"Preview",frameBorder:"0",className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})})}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx(Ct,{value:Re,onChange:Ce=>Nt(Ce.target.value),placeholder:"Video title for SEO and accessibility"})]}),m.jsx(He,{type:"primary",onClick:Fr,disabled:!xt||!Re.trim(),block:!0,className:"!bg-red-600 !hover:bg-red-700 !border-red-600",icon:m.jsx(Fh,{className:"w-4 h-4"}),children:"Add YouTube Video"})]})}),m.jsx(hn,{title:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ai,{className:"w-5 h-5 text-purple-600"}),m.jsx("span",{children:"Edit Image"})]}),open:D,onCancel:()=>{B(!1),A(null)},footer:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(He,{danger:!0,icon:m.jsx(wi,{className:"w-4 h-4"}),onClick:zn,children:"Delete Image"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(He,{icon:m.jsx(ai,{className:"w-4 h-4"}),onClick:Nn,children:"Replace"}),m.jsx(He,{onClick:()=>B(!1),children:"Cancel"}),m.jsx(He,{type:"primary",icon:m.jsx(Cu,{className:"w-4 h-4"}),onClick:Un,children:"Save"})]})]}),width:800,centered:!0,bodyStyle:{maxHeight:"calc(100vh - 250px)",overflowY:"auto"},children:m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:"w-[400px] flex-shrink-0 border rounded-lg overflow-hidden bg-gray-50 p-3 flex items-center justify-center",children:m.jsx("img",{src:G,alt:M||"Preview",className:"max-w-full h-auto rounded-lg object-contain"})}),m.jsxs("div",{className:"flex-1 space-y-3",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Image URL ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx(Ct,{value:G,onChange:Ce=>$(Ce.target.value),placeholder:"https://example.com/image.jpg"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Alt Text ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx(Ct.TextArea,{value:M,onChange:Ce=>F(Ce.target.value),placeholder:"Describe the image for accessibility and SEO",rows:2}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Describe what's in the image. This helps with SEO and accessibility."})]})]})]})})]})},{TextArea:Cee}=Ct,{Option:See}=Ar,tZ=e=>{if(!e)return{valid:!1,embedUrl:null,videoId:null};const t=e.match(/youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/);if(t)return{valid:!0,embedUrl:e,videoId:t[1],type:"embed"};const n=[/(?:youtube\.com\/watch\?v=)([a-zA-Z0-9_-]{11})/,/(?:youtu\.be\/)([a-zA-Z0-9_-]{11})/,/(?:youtube\.com\/v\/)([a-zA-Z0-9_-]{11})/,/(?:youtube\.com\/shorts\/)([a-zA-Z0-9_-]{11})/];for(const r of n){const i=e.match(r);if(i)return{valid:!0,embedUrl:`https://www.youtube.com/embed/${i[1]}`,videoId:i[1],type:"video"}}return{valid:!1,embedUrl:null,videoId:null}},nZ=e=>{if(!e)return[];const t=[];return new DOMParser().parseFromString(e,"text/html").querySelectorAll("iframe").forEach((s,a)=>{const o=s.getAttribute("src")||"",u=s.getAttribute("title")||"",c=tZ(o);c.valid&&t.push({id:`embed-yt-${a}-${Date.now()}`,type:"youtube",embedUrl:c.embedUrl,originalUrl:o,videoId:c.videoId,title:u||"YouTube Video",element:s.outerHTML})}),t};function rZ(e=""){return e.replace(/!\[[^\]]*\]\([^)]+\)/g,"").replace(/<[^>]*>/g," ").replace(/\[([^\]]+)\]\((.*?)\)/g,"$1").replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/__(.*?)__/g,"$1").replace(/_(.*?)_/g,"$1").replace(/\s+/g," ").trim()}const iZ=({section:e,index:t})=>{var ce;const[n,r]=q.useState(!1),[i,s]=q.useState(!1),[a,o]=q.useState(""),[u,c]=q.useState(""),[l,d]=q.useState([]),[h,f]=q.useState(!1),[p,x]=q.useState(null),[_,b]=q.useState(""),[T,N]=q.useState(!1),[g,y]=q.useState(!1),[E,I]=q.useState(""),[R,L]=q.useState(""),[S,A]=q.useState(""),w=X=>{if(!X)return"";const me=new qs({headingStyle:"atx",bulletListMarker:"-",codeBlockStyle:"fenced"});return me.keep(["table","tr","td","th"]),me.turndown(X)},O=q.useMemo(()=>w(E),[E]),D=q.useMemo(()=>w(R),[R]),{blogId:B,userPlan:M,editingIndex:F,setEditingIndex:G,handleDelete:$,handleSectionChange:P,handleSectionTitleChange:j,handleAddSection:W,handleMoveSection:H,sectionsCount:Z,navigateToPricing:ee,getSectionImage:ae,proofreadingResults:_e,handleReplace:ge,onUpdateSectionImage:je,onDeleteSectionImage:Se}=T6(),Ie=!1,qe=F===t,te=ae==null?void 0:ae(e.id),$e=t===0,st=t===Z-1;q.useEffect(()=>{if(e.content){const X=nZ(e.content);d(X)}},[e.content]);const Rt=X=>X?X.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").trim():"",yt=(_e||[]).filter(X=>{if(!e.content||!X.original)return!1;const me=Rt(e.content);return e.content.includes(X.original)||me.includes(X.original)}),xt=X=>{!(X!=null&&X.original)||!(X!=null&&X.change)||ge&&(ge(X.original,X.change),de.success("Change applied!"))},zt=()=>bt(null,null,function*(){if(je&&te){const X={};if(a!==te.altText&&(X.altText=a),u!==te.url&&(X.url=u),Object.keys(X).length>0)if(je(e.id,U(U({},te),X)),B)try{yield yl.put(`/blogs/${B}`,{images:!0}),de.success("Image updated and saved successfully")}catch(me){console.error("Error saving image changes:",me),de.error("Image updated but failed to save to database")}else de.success("Image updated successfully")}s(!1)}),Re=()=>{Se&&(Se(e.id),de.success("Image removed")),s(!1)},Nt=X=>{x(X),X==="promptChanges"?f(!0):At(X,"")},At=(X,me="")=>bt(null,null,function*(){var re,lt,Ht,be;if(!B){de.error("Blog ID not found. Please save the blog first.");return}console.log("ð Starting AI Operation:",X),console.log("ð Section ID:",e.id),N(!0);try{const Be=yield yl.post(`/blogs/${B}/sectionTask`,{sectionId:e.id,task:X,userInstructions:me});console.log("â Response received:",Be.data),(re=Be.data)!=null&&re.content?(console.log("ð Setting modal content..."),I(e.content),L(Be.data.content),A(X),y(!0),de.success(`${X} completed! Review the changes.`)):(console.error("â No content in response"),de.error("No content received from AI"))}catch(Be){console.error("â AI Operation Error:",Be),console.error("Error details:",(lt=Be.response)==null?void 0:lt.data);const Ke=((be=(Ht=Be.response)==null?void 0:Ht.data)==null?void 0:be.message)||Be.message||`Failed to ${X} section. Please try again.`;de.error(Ke)}finally{N(!1),f(!1),b("")}}),nt=()=>{P(t,{content:R}),y(!1),de.success("Changes applied successfully!"),I(""),L(""),A("")},Et=()=>{y(!1),de.info("Changes discarded"),I(""),L(""),A("")},ht=()=>{if(!_.trim()){de.warning("Please enter a prompt");return}At("promptChanges",_)},ie=HI();return m.jsxs(WI,{value:e,id:e.id||`section-${t}`,dragListener:!1,dragControls:ie,className:"relative border rounded-xl p-5 shadow-sm bg-white mb-6 hover:shadow-md transition-shadow group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.3,delay:t*.05},whileDrag:{scale:1.02,boxShadow:"0 10px 40px rgba(0,0,0,0.15)",zIndex:50,cursor:"grabbing"},children:[Ie,m.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx(kt,{title:"Move Up",children:m.jsx("button",{onClick:X=>{X.stopPropagation(),H(t,"up")},disabled:$e,className:`p-1.5 rounded-lg transition-colors ${$e?"opacity-30 cursor-not-allowed":"hover:bg-gray-100"}`,children:m.jsx(ak,{className:"w-4 h-4 text-gray-500"})})}),m.jsx(kt,{title:"Move Down",children:m.jsx("button",{onClick:X=>{X.stopPropagation(),H(t,"down")},disabled:st,className:`p-1.5 rounded-lg transition-colors ${st?"opacity-30 cursor-not-allowed":"hover:bg-gray-100"}`,children:m.jsx(OI,{className:"w-4 h-4 text-gray-500"})})}),m.jsx(kt,{title:"Delete Section",children:m.jsx("button",{onClick:X=>{X.stopPropagation(),$(t)},className:"p-1.5 rounded-lg hover:bg-red-50 transition-colors",children:m.jsx(wi,{className:"w-4 h-4 text-red-500"})})})]}),m.jsx(kt,{title:"Drag to reorder",children:m.jsx("div",{className:"absolute top-1/2 -left-3 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing p-2 hover:bg-gray-100 rounded-lg z-30",onPointerDown:X=>{X.preventDefault(),ie.start(X)},children:m.jsx(fk,{className:"w-5 h-5 text-gray-400"})})}),m.jsx("div",{className:"mb-3 pr-12",children:n?m.jsx(Ct,{value:e.title,onChange:X=>j(t,X.target.value),onBlur:()=>r(!1),onPressEnter:()=>r(!1),autoFocus:!0,className:"text-xl font-bold"}):m.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:X=>{X.stopPropagation(),r(!0)},children:[m.jsx("h2",{className:"text-xl font-bold",children:rZ(e.title)}),m.jsx(Sa,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),!qe&&m.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"AI Actions:"}),m.jsx(kt,{title:"Rewrite this section with AI",children:m.jsxs("button",{onClick:()=>Nt("rewrite"),disabled:T,className:"flex items-center gap-1 px-2 py-1 text-xs bg-purple-50 text-purple-700 rounded-md hover:bg-purple-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx(ls,{className:"w-3 h-3"}),"Rewrite"]})}),m.jsx(kt,{title:"Proofread and fix errors",children:m.jsxs("button",{onClick:()=>Nt("proofread"),disabled:T,className:"flex items-center gap-1 px-2 py-1 text-xs bg-green-50 text-green-700 rounded-md hover:bg-green-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx(ok,{className:"w-3 h-3"}),"Proofread"]})}),m.jsx(kt,{title:"Custom AI prompt",children:m.jsxs("button",{onClick:()=>Nt("promptChanges"),disabled:T,className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-50 text-blue-700 rounded-md hover:bg-blue-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx(Bb,{className:"w-3 h-3"}),"Custom Prompt"]})}),T&&m.jsx("span",{className:"text-xs text-gray-500 animate-pulse",children:"Processing..."})]}),te&&m.jsxs("div",{className:"my-4 relative group",children:[m.jsxs("div",{className:"cursor-pointer relative",onClick:()=>{o((te==null?void 0:te.altText)||""),c((te==null?void 0:te.url)||""),s(!0)},children:[m.jsx("img",{src:te.url,alt:te.altText||e.title,className:"w-full h-full object-cover rounded-lg shadow-sm transition-all group-hover:brightness-95"}),m.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all rounded-lg flex items-center justify-center",children:m.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-white/90 px-3 py-1.5 rounded-lg text-sm font-medium text-gray-700 shadow",children:"Click to edit image"})})]}),((ce=te.attribution)==null?void 0:ce.name)&&m.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-center",children:["Photo by"," ",m.jsx("a",{href:te.attribution.profile,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:te.attribution.name})]})]}),m.jsx(hn,{title:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ai,{className:"w-5 h-5 text-purple-600"}),m.jsx("span",{children:"Edit Section Image"})]}),open:i,onCancel:()=>s(!1),footer:m.jsxs("div",{className:"flex items-center justify-between w-full",children:[m.jsx(He,{danger:!0,icon:m.jsx(wi,{className:"w-4 h-4"}),onClick:Re,children:"Delete Image"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(He,{onClick:()=>s(!1),children:"Cancel"}),m.jsx(He,{type:"primary",icon:m.jsx(Cu,{className:"w-4 h-4"}),onClick:zt,children:"Save Changes"})]})]}),width:700,centered:!0,bodyStyle:{maxHeight:"calc(100vh - 250px)",overflowY:"auto"},children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsx("div",{className:"border rounded-lg bg-gray-50 p-2 flex items-center justify-center",children:m.jsx("img",{src:u,alt:a||"Preview",className:"max-w-full rounded-lg object-contain",style:{maxHeight:"300px"},onError:X=>{X.currentTarget.src=te==null?void 0:te.url}})}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Image URL ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx(Ct,{value:u,onChange:X=>c(X.target.value),placeholder:"https://example.com/image.jpg"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a URL to replace the image"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Alt Text ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx(Ct.TextArea,{value:a,onChange:X=>o(X.target.value),placeholder:"Describe the image for accessibility and SEO",rows:3}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Helps with SEO and screen readers. Be descriptive and specific."})]})]})]})}),qe?m.jsx("div",{className:"mt-3",onClick:X=>X.stopPropagation(),children:m.jsx(eZ,{initialContent:e.content,onChange:X=>P(t,{content:X}),onBlur:()=>G(null),proofreadingResults:yt,onAcceptSuggestion:xt,sectionId:e.id})}):m.jsxs("div",{className:"cursor-pointer group",onClick:()=>G(t),children:[yt.length>0&&m.jsxs("div",{className:"mb-2 inline-flex items-center gap-1.5 px-2 py-1 bg-amber-50 border border-amber-200 rounded text-xs",children:[m.jsx("span",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse"}),m.jsxs("span",{className:"font-medium text-amber-700",children:[yt.length," suggestion",yt.length>1?"s":""]}),m.jsx("span",{className:"text-amber-600",children:"â¢ Click to review"})]}),m.jsx("div",{className:"prose max-w-none blog-content",dangerouslySetInnerHTML:{__html:e.content}}),!yt.length&&m.jsx("div",{className:"mt-2 text-center opacity-0 group-hover:opacity-100 transition-opacity",children:m.jsx("span",{className:"text-sm text-gray-500",children:"Click to edit"})})]}),!st&&m.jsx("div",{className:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 opacity-0 hover:opacity-100 group-hover:opacity-100 transition-opacity",children:m.jsx(kt,{title:"Add section below",children:m.jsxs("button",{onClick:X=>{X.stopPropagation(),W(t)},className:"flex items-center gap-1 px-3 py-1.5 bg-blue-600 text-white text-xs rounded-full shadow-lg hover:bg-blue-700 transition-colors",children:[m.jsx(kn,{className:"w-3 h-3"}),"Add Section"]})})}),m.jsx(hn,{title:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Bb,{className:"w-5 h-5 text-blue-600"}),m.jsx("span",{children:"Custom AI Prompt"})]}),open:h,onCancel:()=>{f(!1),b("")},footer:[m.jsx("button",{onClick:()=>{f(!1),b("")},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"},"cancel"),m.jsx("button",{onClick:ht,disabled:!_.trim()||T,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ml-2",children:T?"Processing...":"Apply Changes"},"submit")],width:520,children:m.jsxs("div",{className:"space-y-3",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Enter your custom instructions for how you want to modify this section:"}),m.jsx(Ct.TextArea,{value:_,onChange:X=>b(X.target.value),placeholder:"E.g., Make it more professional, add statistics, simplify the language...",rows:4,maxLength:2e3,showCount:!0,autoFocus:!0}),m.jsx("p",{className:"text-xs text-gray-500",children:"ð¡ Tip: Be specific about what changes you want to see in this section."})]})}),m.jsx(hn,{title:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ls,{className:"w-5 h-5 text-purple-600"}),m.jsxs("span",{children:["Review AI Changes - ",S]})]}),open:g,onCancel:Et,footer:[m.jsx("button",{onClick:Et,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Decline"},"decline"),m.jsx("button",{onClick:nt,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors ml-2",children:"Accept Changes"},"accept")],width:1e3,centered:!0,className:"section-ai-diff-modal",children:m.jsx("div",{className:"space-y-4",children:m.jsx("div",{className:"border rounded-lg overflow-y-auto max-h-[70vh]",children:m.jsx(Jm,{oldValue:O,newValue:D,splitView:!0,compareMethod:Gf.DiffMethod.WORDS,leftTitle:"Original Content",rightTitle:"AI Generated Content",useDarkTheme:!1,styles:{variables:{light:{diffViewerBackground:"#ffffff",addedBackground:"#e6ffec",addedColor:"#1a7f37",removedBackground:"#ffebe9",removedColor:"#cf222e",wordAddedBackground:"#abf2bc",wordRemovedBackground:"#ffc1c0"}},line:{fontSize:"14px",lineHeight:"1.6"}}})})})})]})},ad=({active:e,onClick:t,children:n,title:r})=>m.jsx(kt,{title:r,children:m.jsx("button",{onClick:t,type:"button",className:`p-1.5 rounded transition-colors ${e?"bg-blue-100 text-blue-600":"hover:bg-gray-100 text-gray-700"}`,children:n})}),Ca=({value:e,onChange:t,placeholder:n,className:r="",editorClassName:i="",onBlur:s,autoFocus:a=!1,singleLine:o=!1})=>{const[u,c]=q.useState(!1),[l,d]=q.useState({top:0,left:0}),h=q.useRef(null),f=I1({extensions:[X1.configure({heading:!1,paragraph:{HTMLAttributes:{class:o?"inline":""}}}),M1.configure({levels:[1,2,3]}),Cw],content:e||"",onUpdate:({editor:x})=>{t(x.getHTML())},onBlur:()=>{setTimeout(()=>{c(!1),s&&s()},200)},onSelectionUpdate:({editor:x})=>{const{from:_,to:b}=x.state.selection;if(_!==b&&h.current){const N=window.getSelection();if(N&&N.rangeCount>0){const y=N.getRangeAt(0).getBoundingClientRect(),E=h.current.getBoundingClientRect();d({top:y.top-E.top-45,left:Math.max(0,y.left-E.left+y.width/2-120)}),c(!0)}}else c(!1)},editorProps:{attributes:{class:`focus:outline-none ${i}`},handleKeyDown:(x,_)=>o&&_.key==="Enter"?(_.preventDefault(),!0):!1},autofocus:a});if(q.useEffect(()=>{f&&e!==f.getHTML()&&f.commands.setContent(e||"",!1)},[e,f]),!f)return null;const p=()=>{f.chain().focus().clearNodes().unsetAllMarks().run()};return m.jsxs("div",{ref:h,className:`inline-editor-wrapper relative ${r}`,children:[u&&m.jsxs("div",{className:"absolute z-50 bg-white border border-gray-200 rounded-lg shadow-lg px-1 py-1 flex items-center gap-0.5",style:{top:l.top,left:l.left},onMouseDown:x=>x.preventDefault(),children:[m.jsx(ad,{title:"Bold",active:f.isActive("bold"),onClick:()=>f.chain().focus().toggleBold().run(),children:m.jsx(Sd,{className:"w-4 h-4"})}),m.jsx(ad,{title:"Italic",active:f.isActive("italic"),onClick:()=>f.chain().focus().toggleItalic().run(),children:m.jsx(Nd,{className:"w-4 h-4"})}),m.jsx(ad,{title:"Underline",active:f.isActive("underline"),onClick:()=>f.chain().focus().toggleUnderline().run(),children:m.jsx(_x,{className:"w-4 h-4"})}),m.jsx("div",{className:"w-px h-5 bg-gray-300 mx-1"}),m.jsx(ad,{title:"Clear Formatting",onClick:p,children:m.jsx(Rk,{className:"w-4 h-4"})})]}),m.jsx("div",{className:`border rounded-lg px-3 py-2 focus-within:border-blue-500 focus-within:ring-2 focus-within:ring-blue-100 transition-all ${!e||e==="<p></p>"?"text-gray-400":""}`,"data-placeholder":n,children:m.jsx(w1,{editor:f})})]})},{TextArea:Nee}=Ct;ia.setOption("tables",!0);ia.setOption("tasklists",!0);ia.setOption("simpleLineBreaks",!0);ia.setOption("openLinksInNewWindow",!0);ia.setOption("emoji",!0);function ja(){const e=Date.now().toString(36),t=Math.random().toString(36).substring(2,8);return`sec-${e}-${t}`}function Ip(e){if(!e)return"";const t=new qs({headingStyle:"atx",bulletListMarker:"-"});return t.keep(["p","div","iframe","table","tr","th","td","img"]),t.turndown(e)}function sZ(e){return e&&new ia.Converter({tables:!0,tasklists:!0,simpleLineBreaks:!0,openLinksInNewWindow:!0,emoji:!0}).makeHtml(e)}function rx(e){return e&&(/\*\*|__|\!\[|\]\(|^\s*#{1,6}\s/m.test(e)?sZ(e):e)}function aZ(e){var T,N,g;if(!e)return{title:"",description:"",thumbnail:null,sections:[],sectionImages:[],faq:null,cta:null,quickSummary:null};const n=new DOMParser().parseFromString(e,"text/html");let r="",i="",s=null;const a=[],o=[];let u=null,c=null,l=null;const d=n.querySelector(".blog-title, h1.heading-1");d&&(r=((T=d.textContent)==null?void 0:T.trim())||"");const h=n.querySelector(".blog-description, .meta-description");h&&(i=rx(h.innerHTML||""));const f=n.querySelector("figure.section-thumbnail, figure.thumbnail-main");if(f){const y=f.querySelector("img");y&&(s={url:y.getAttribute("src")||"",alt:y.getAttribute("alt")||"",html:f.outerHTML}),f.remove()}n.querySelectorAll(".blog-section:not(.faq-section)").forEach((y,E)=>{var O,D,B;const I=((D=(O=y.querySelector(".section-title"))==null?void 0:O.textContent)==null?void 0:D.trim())||`Section ${E+1}`,R=((B=y.querySelector(".section-content"))==null?void 0:B.innerHTML)||"",L=rx(R),A=y.getAttribute("id")||ja(),w=y.querySelector(".section-images-wrapper");w&&w.querySelectorAll(".section-image img").forEach(F=>{var P,j;const G=(P=F.closest("figure"))==null?void 0:P.querySelector("figcaption"),$=G==null?void 0:G.querySelector("a");o.push({sectionId:A,role:"section",url:F.getAttribute("src")||"",altText:F.getAttribute("alt")||"",attribution:$?{name:((j=$.textContent)==null?void 0:j.trim())||"",profile:$.getAttribute("href")||""}:null})}),a.push({id:A,title:I,content:L,originalContent:L})});const x=n.querySelector(".faq-section");if(x){const y=((g=(N=x.querySelector(".faq-heading"))==null?void 0:N.textContent)==null?void 0:g.trim())||"FAQ",E=x.querySelectorAll(".faq-qa-pair"),I=[];E.forEach(R=>{var w,O,D;const L=((O=(w=R.querySelector(".faq-question"))==null?void 0:w.textContent)==null?void 0:O.trim())||"",S=R.querySelector(".faq-answer"),A=((D=S==null?void 0:S.textContent)==null?void 0:D.trim())||"";L&&I.push({question:L,answer:A})}),I.length>0&&(u={heading:y,qa:I})}if(!u&&a.length>0){const y=a[a.length-1],E=y.content.match(/(<h[2-4][^>]*>\s*(?:FAQ|Frequently Asked Questions)\s*<\/h[2-4]>)/i);if(E){const I=E.index,R=y.content.substring(0,I),L=y.content.substring(I);y.content=R,y.originalContent=R,a.push({id:ja(),title:"FAQ",content:L,originalContent:L})}}const _=n.querySelector(".blog-brand-cta, .cta-wrapper");if(_){const y=_.querySelector(".cta-content");c=y?y.innerHTML:_.innerHTML}const b=n.querySelector(".blog-quick-summary, .summary-wrapper");if(b){const y=b.querySelector(".quick-summary-heading"),E=b.querySelector(".summary-content");l={heading:(y==null?void 0:y.innerHTML)||"Quick Summary",content:(E==null?void 0:E.innerHTML)||b.innerHTML}}return{title:r,description:i,thumbnail:s,sections:a,sectionImages:o,faq:u,cta:c,quickSummary:l}}function uZ(e){if(!e)return[];const t=new ia.Converter({tables:!0,tasklists:!0,simpleLineBreaks:!0,openLinksInNewWindow:!0}),n=/^##\s+(.+)$/gm;let r,i="";const s=[];for(;(r=n.exec(e))!==null;)s.push({title:r[1].trim(),index:r.index,fullMatch:r[0]});if(s.length===0){const o=t.makeHtml(e);return[{id:ja(),title:"Content",content:o,originalContent:o}]}return s[0].index>0&&(i=e.substring(0,s[0].index).trim()),s.map((o,u)=>{const c=o.index+o.fullMatch.length,l=u<s.length-1?s[u+1].index:e.length,d=e.substring(c,l).trim(),h=u===0&&i?i+`

`+d:d,f=t.makeHtml(h);return{id:ja(),title:o.title,content:f,originalContent:f}})}const oZ=({blog:e,activeTab:t,setActiveTab:n,content:r,setContent:i,title:s,proofreadingResults:a,handleReplace:o,isSavingKeyword:u,humanizedContent:c,showDiff:l,handleAcceptHumanizedContent:d,handleAcceptOriginalContent:h,editorContent:f,unsavedChanges:p,setUnsavedChanges:x,wordpressMetadata:_,handleSubmit:b,onReplaceReady:T})=>{var un,rr;const[N,g]=q.useState(!0),[y,E]=q.useState(!1),[I,R]=q.useState(null),[L,S]=q.useState([]),[A,w]=q.useState(null),[O,D]=q.useState(""),[B,M]=q.useState(""),[F,G]=q.useState(null),[$,P]=q.useState(null),[j,W]=q.useState(null),[H,Z]=q.useState(""),[ee,ae]=q.useState(""),[_e,ge]=q.useState([]),[je,Se]=q.useState(null),[Ie,qe]=q.useState(null),te=q.useRef(!1),$e=q.useRef(null),[st,Rt]=q.useState(!1),[yt,xt]=q.useState(!1),[zt,Re]=q.useState(!1),[Nt,At]=q.useState(""),[nt,Et]=q.useState(""),[ht,ie]=q.useState([]),[ce,X]=q.useState(!1),me=Ql(),{handlePopup:re}=tg(),lt=oi(J=>J.auth.user),Ht=(un=lt==null?void 0:lt.subscription)==null?void 0:un.plan,be=q.useRef(!1);ig().pathname,`${e==null?void 0:e._id}`,q.useEffect(()=>{e!=null&&e.images&&Array.isArray(e.images)&&ie(e.images)},[e==null?void 0:e.images]),q.useEffect(()=>{var J;((J=e==null?void 0:e.options)==null?void 0:J.includeTableOfContents)!==void 0&&X(e.options.includeTableOfContents)},[(rr=e==null?void 0:e.options)==null?void 0:rr.includeTableOfContents]);const Ke=q.useCallback(J=>!ht||!Array.isArray(ht)?null:ht.find(fe=>fe.sectionId===J&&fe.role==="section"),[ht]),at=q.useCallback((J,fe)=>{ie(ve=>ve.map(Ue=>Ue.sectionId===J&&Ue.role==="section"?U(U({},Ue),fe):Ue))},[]),Zt=q.useCallback(J=>{ie(fe=>fe.filter(ve=>!(ve.sectionId===J&&ve.role==="section")))},[]),Je=q.useCallback(J=>J?J.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim().toLowerCase():"",[]),er=q.useMemo(()=>{if(!te.current)return!1;const J=Je(O),fe=Je(H);if(J!==fe)return!0;const ve=Je(B),Ue=Je(ee);if(ve!==Ue||L.length!==_e.length)return!0;for(let dt=0;dt<L.length;dt++){const br=L[dt],lo=_e.find(bc=>bc.id===br.id);if(!lo)return!0;const nu=Je(br.title),ru=Je(lo.title);if(nu!==ru)return!0;const co=Je(br.content),iu=Je(lo.originalContent);if(co!==iu)return!0}return Je($)!==Je(je)||Je(j==null?void 0:j.heading)!==Je(Ie==null?void 0:Ie.heading)||Je(j==null?void 0:j.content)!==Je(Ie==null?void 0:Ie.content)},[O,B,L,H,ee,_e,Je]);q.useEffect(()=>{x(er)},[er,x]),q.useEffect(()=>{if(e){$e.current!==e._id&&(te.current=!1,$e.current=e._id);let J={title:"",description:"",sections:[],faq:null,cta:null,quickSummary:null};if(e.content&&(e.content.includes("<article")||e.content.includes("<section")||e.content.includes("blog-section")||e.content.includes("section-content")))J=aZ(e.content),!J.title&&e.title&&(J.title=e.title);else if(e.content&&(e.content.includes("## ")||e.content.includes("**")))J.title=e.title||"",J.sections=uZ(e.content);else if(e.content){const fe=new ia.Converter({tables:!0,tasklists:!0,simpleLineBreaks:!0}),ve=e.content.includes("<")?e.content:fe.makeHtml(e.content);J.title=e.title||"",J.sections=[{id:ja(),title:"Content",content:ve,originalContent:ve}]}else J.title=e.title||"Untitled Blog",J.sections=[];D(J.title),M(J.description),G(J.thumbnail),S(J.sections),w(J.faq),P(J.cta),W(J.quickSummary),J.sectionImages&&J.sectionImages.length>0&&ie(fe=>[...fe.filter(Ue=>Ue.role!=="section"),...J.sectionImages]),te.current||setTimeout(()=>{Z(J.title),ae(J.description),ge(J.sections.map(fe=>({id:fe.id,title:fe.title,content:fe.content,originalContent:fe.originalContent||fe.content}))),Se(J.cta),qe(J.quickSummary),te.current=!0},150)}},[e]),q.useEffect(()=>{e!=null&&e.updatedAt&&te.current&&(Z(O),ae(B),ge(L.map(J=>({id:J.id,title:J.title,content:J.content,originalContent:J.content}))),Se($),qe(j))},[e==null?void 0:e.updatedAt]);const Un=q.useCallback(()=>{let J=`<article class="blog-article" id="blog-article">
`;return J+=`  <section class="blog-base-meta blog-section-0" id="blog-meta">
`,J+=`    <div class="meta-wrapper">
`,O&&(J+=`      <h1 class="blog-title heading heading-1">${O}</h1>
`),F&&(J+=`      <figure class="section-thumbnail thumbnail-main">
`,J+=`        <img src="${F.url}" alt="${F.alt||O}" class="thumbnail-image" />
`,F.attribution&&(J+=`        <figcaption class="thumbnail-attribution">
`,J+=`          <p style="font-size: 12px; text-align: right;">Photo by <a href="${F.attribution.profile}">${F.attribution.name}</a> on <a href="https://www.pexels.com/">Pexels</a></p>
`,J+=`        </figcaption>
`),J+=`      </figure>
`),B&&(J+=`      <p class="blog-description meta-description">${B}</p>
`),J+=`    </div>
`,J+=`  </section>

`,J+=`  <div class="blog-sections-wrapper" id="sections-wrapper">
`,L.forEach((fe,ve)=>{J+=`    <section class="blog-section blog-section-${ve+1}" id="${fe.id}" data-section-index="${ve}">
`,J+=`      <div class="section-wrapper">
`,J+=`        <h2 class="section-title heading heading-2 section-title-${ve}">${fe.title}</h2>
`;const Ue=ht.filter(dt=>dt.sectionId===fe.id&&dt.role==="section");Ue.length>0&&(J+=`        <div class="section-images-wrapper">
`,Ue.forEach((dt,br)=>{J+=`          <figure class="section-image image-${br}">
`,J+=`            <img src="${dt.url}" alt="${dt.altText||""}" class="content-image" loading="lazy" />
`,dt.attribution&&dt.attribution.name&&(J+=`            <figcaption class="image-attribution">
`,J+=`              <p>Photo by <a href="${dt.attribution.profile}">${dt.attribution.name}</a> on <a href="https://www.pexels.com/">Pexels</a></p>
`,J+=`            </figcaption>
`),J+=`          </figure>
`}),J+=`        </div>
`),J+=`        <div class="section-content section-content-${ve}">${fe.content}</div>
`,J+=`      </div>
`,J+=`    </section>

`}),J+=`  </div>

`,$&&(J+=`  <div class="blog-brand-cta cta-wrapper" id="blog-cta">
`,J+=`    <div class="cta-content">
`,J+=`      ${$}
`,J+=`    </div>
`,J+=`  </div>

`),j&&(J+=`  <div id="quick-summary-section" class="blog-quick-summary summary-wrapper">
`,J+=`    <h2 class="quick-summary-heading heading heading-2">${j.heading}</h2>
`,J+=`    <div class="summary-content">
`,J+=`      ${j.content}
`,J+=`    </div>
`,J+=`  </div>

`),A&&A.qa&&A.qa.length>0&&(J+=`  <section class="blog-section faq-section" id="faq-section">
`,J+=`    <div id="faq-section" class="faq-wrapper">
`,J+=`      <h2 class="faq-heading heading heading-2">${A.heading}</h2>
`,J+=`      <div class="faq-qa-pairs-wrapper">
`,A.qa.forEach((fe,ve)=>{J+=`        <div class="faq-qa-pair faq-pair-${ve}" id="faq-${ve}" data-faq-index="${ve}">
`,J+=`          <h3 id="faq-question-${ve}" class="faq-question question question-${ve} heading heading-3">${fe.question}</h3>
`,J+=`          <div id="faq-answer-${ve}" class="faq-answer answer answer-${ve}">
`,J+=`            <p>${fe.answer}</p>
`,J+=`          </div>
`,J+=`        </div>

`}),J+=`      </div>
`,J+=`    </div>
`,J+=`  </section>

`),J+="</article>",J},[L,A,O,B,ht,F,$,j]);q.useEffect(()=>{const J=Un();i&&i(J)},[L,Un,i,$,j]);const zn=J=>{re({title:"Delete Section",description:"Are you sure you want to delete this section? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:()=>{S(fe=>fe.filter((ve,Ue)=>Ue!==J)),de.success("Section deleted")}})},tr=(J,fe)=>{S(ve=>ve.map((Ue,dt)=>dt===J?oe(U(U({},Ue),fe),{originalContent:Ue.originalContent}):Ue))},Nn=(J,fe)=>{S(ve=>ve.map((Ue,dt)=>dt===J?oe(U({},Ue),{title:fe,originalContent:Ue.originalContent}):Ue))},qn=J=>{const fe={id:ja(),title:"New Section",content:"<p>Start writing here...</p>",originalContent:""};S(ve=>{const Ue=[...ve];return Ue.splice(J+1,0,fe),Ue}),de.success("New section added")},Fr=()=>{const J={id:ja(),title:"New Section",content:"<p>Start writing here...</p>",originalContent:""};S([J]),de.success("Section added")},rt=(J,fe)=>{S(ve=>{const Ue=[...ve],dt=fe==="up"?J-1:J+1;if(dt<0||dt>=Ue.length)return ve;const br=Ue[J];return Ue[J]=Ue[dt],Ue[dt]=br,Ue})},nr=q.useCallback((J,fe)=>{if(!J||!fe)return;const ve=new RegExp(J.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");S(Ue=>Ue.map(dt=>dt.content&&dt.content.includes(J)?oe(U({},dt),{content:dt.content.replace(ve,fe)}):dt))},[]),zi=q.useCallback(()=>{let J="";return L.forEach(fe=>{J+=`## ${fe.title}

`,J+=Ip(fe.content)+`

`}),$&&(J+=`## Brand CTA

${Ip($)}

`),j&&(J+=`## ${j.heading}

${Ip(j.content)}

`),A&&(J+=`## ${A.heading}

`,A.qa.forEach(fe=>{J+=`### ${fe.question}

${fe.answer}

`})),J.trim()},[L,A]),Ce=()=>bt(null,null,function*(){try{const J=zi();yield navigator.clipboard.writeText(J),de.success("Content copied to clipboard!")}catch(J){de.error("Failed to copy content.")}}),Me=lI(({currentLocation:J,nextLocation:fe})=>er&&J.pathname!==fe.pathname);q.useEffect(()=>{Me.state==="blocked"&&(window.confirm("You have unsaved changes, are you sure you want to leave?")?Me.proceed():Me.reset())},[Me]),q.useEffect(()=>{g(!0);const J=setTimeout(()=>g(!1),300);return()=>clearTimeout(J)},[]),q.useEffect(()=>{(e==null?void 0:e.status)==="failed"&&!be.current&&(de.error("Your blog generation failed. You can write blog manually."),be.current=!0)},[e==null?void 0:e.status]);const it=q.useCallback((J,fe)=>{if(!J||!fe)return;const ve=new RegExp(J.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");nr(J,fe),i&&i(Ue=>Ue.replace(ve,fe))},[nr,i]),ct=q.useMemo(()=>({blogId:e==null?void 0:e._id,userPlan:Ht,editingIndex:I,setEditingIndex:R,handleDelete:zn,handleSectionChange:tr,handleSectionTitleChange:Nn,handleAddSection:qn,handleMoveSection:rt,sectionsCount:L.length,navigateToPricing:()=>me("/pricing"),getSectionImage:Ke,proofreadingResults:a||[],handleReplace:it,onUpdateSectionImage:at,onDeleteSectionImage:Zt}),[e==null?void 0:e._id,Ht,I,zn,tr,Nn,qn,rt,L.length,me,Ke,a,it,at,Zt]),Lt=(J,fe,ve)=>{w(Ue=>{if(!Ue)return Ue;const dt=[...Ue.qa];return dt[J]=oe(U({},dt[J]),{[fe]:ve}),oe(U({},Ue),{qa:dt})})},rn=J=>{w(fe=>fe&&oe(U({},fe),{heading:J}))},an=()=>{w(J=>J&&oe(U({},J),{qa:[...J.qa,{question:"New Question",answer:"New Answer"}]}))},Xr=J=>{w(fe=>fe&&oe(U({},fe),{qa:fe.qa.filter((ve,Ue)=>Ue!==J)}))};function gn(J=""){return J.replace(/!\[[^\]]*\]\([^)]+\)/g,"").replace(/<[^>]*>/g," ").replace(/\[([^\]]+)\]\((.*?)\)/g,"$1").replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/__(.*?)__/g,"$1").replace(/_(.*?)_/g,"$1").replace(/\s+/g," ").trim()}const[bn,wr]=q.useState(null),[Gn,gi]=q.useState(!1),[le,ke]=q.useState(!1),[Ze,et]=q.useState(!1),[Ne,K]=q.useState(!1),Ee=()=>$?m.jsxs(jn.div,{className:"border rounded-xl p-5 mt-5 hover:shadow-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[m.jsx("div",{className:"flex items-center gap-2 mb-3",children:m.jsx("h3",{className:"font-bold text-xl",children:"Brand CTA Section"})}),le?m.jsx(Ca,{value:$,onChange:P,placeholder:"Enter CTA content...",onBlur:()=>ke(!1),autoFocus:!0,editorClassName:"text-indigo-800"}):m.jsxs("div",{className:"cursor-pointer group relative",onClick:()=>ke(!0),children:[m.jsx("div",{dangerouslySetInnerHTML:{__html:$}}),m.jsx("div",{className:"mt-2 text-center opacity-0 group-hover:opacity-100 transition-opacity",children:m.jsx("span",{className:"text-sm text-gray-500",children:"Click to edit"})})]})]}):null,Le=()=>j?m.jsxs(jn.div,{className:"border rounded-xl p-5 shadow-sm bg-white my-6 border-blue-100",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[m.jsx("div",{className:"flex items-center gap-2 mb-4",children:Ze?m.jsx(Ca,{value:j.heading,onChange:J=>W(fe=>oe(U({},fe),{heading:J})),placeholder:"Summary Heading...",onBlur:()=>et(!1),autoFocus:!0,singleLine:!0,editorClassName:"text-xl font-bold text-blue-900"}):m.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>et(!0),children:[m.jsx("h3",{className:"text-xl font-bold",children:j.heading}),m.jsx(Sa,{className:"w-4 h-4 text-blue-300 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),Ne?m.jsx(SectionEditor,{initialContent:j.content,onChange:J=>W(fe=>oe(U({},fe),{content:J})),onBlur:()=>K(!1)}):m.jsxs("div",{className:"cursor-pointer group relative",onClick:()=>K(!0),children:[m.jsx("div",{className:"text-gray-700 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:j.content}}),m.jsx("div",{className:"mt-2 text-center opacity-0 group-hover:opacity-100 transition-opacity",children:m.jsx("span",{className:"text-sm text-gray-500",children:"Click to edit"})}),m.jsx(Sa,{className:"absolute top-2 right-2 w-4 h-4 text-blue-200 opacity-0 group-hover:opacity-100 transition-opacity"})]})]}):null,vt=()=>A?m.jsxs(jn.div,{className:"border rounded-xl p-5 shadow-sm bg-white my-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Gn?m.jsx(Ca,{value:A.heading,onChange:rn,placeholder:"FAQ Heading...",onBlur:()=>gi(!1),autoFocus:!0,singleLine:!0,editorClassName:"text-2xl font-bold"}):m.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>gi(!0),children:[m.jsx("h2",{className:"text-2xl font-bold",children:A.heading}),m.jsx(Sa,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]}),m.jsxs("button",{onClick:an,className:"flex items-center gap-1 px-3 py-1.5 text-sm text-blue-600 hover:bg-blue-50 rounded-lg",children:[m.jsx(kn,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:"Add FAQ"})]})]}),m.jsx("div",{className:"space-y-4",children:A.qa.map((J,fe)=>m.jsxs("div",{className:"relative group p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[m.jsx("button",{onClick:()=>Xr(fe),className:"absolute top-2 right-2 p-1.5 text-red-500 hover:bg-red-50 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:m.jsx(wi,{className:"w-4 h-4"})}),bn===`q-${fe}`?m.jsx("div",{className:"mb-2",children:m.jsx(Ca,{value:J.question,onChange:ve=>Lt(fe,"question",ve),placeholder:"Enter question...",onBlur:()=>wr(null),autoFocus:!0,singleLine:!0,editorClassName:"font-semibold text-lg"})}):m.jsxs("div",{className:"flex items-center gap-2 cursor-pointer mb-2",onClick:()=>wr(`q-${fe}`),children:[m.jsx("h3",{className:"font-semibold text-lg",children:J.question}),m.jsx(Sa,{className:"w-3 h-3 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]}),bn===`a-${fe}`?m.jsx(Ca,{value:J.answer,onChange:ve=>Lt(fe,"answer",ve),placeholder:"Enter answer...",onBlur:()=>wr(null),autoFocus:!0,editorClassName:"text-gray-600"}):m.jsx("div",{className:"cursor-pointer",onClick:()=>wr(`a-${fe}`),children:m.jsx("p",{className:"text-gray-600",children:J.answer})})]},fe))})]}):null,Ut=()=>m.jsxs("div",{className:"bg-white border-b border-gray-200 shadow-sm px-4 py-3 flex flex-wrap items-center justify-between gap-2",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"text-gray-600 text-sm",children:[m.jsx("span",{className:"font-semibold",children:L.length})," sections"]}),er&&m.jsxs("span",{className:"text-orange-600 text-sm font-medium flex items-center gap-1",children:[m.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),"Unsaved changes"]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(sg,{content:m.jsxs("div",{className:"max-w-md",children:[m.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[m.jsx(Al,{className:"w-5 h-5 text-blue-600"}),"Editor Guidelines"]}),m.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900 mb-1",children:"ð Heading Structure:"}),m.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[m.jsxs("li",{children:[m.jsx("strong",{children:"H1:"})," Blog title only (automatically set)"]}),m.jsxs("li",{children:[m.jsx("strong",{children:"H2:"})," Section titles (automatically set)"]}),m.jsxs("li",{children:[m.jsx("strong",{children:"H3:"})," Use for major subsections within content"]}),m.jsxs("li",{children:[m.jsx("strong",{children:"H4:"})," Use for minor subsections and details"]})]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900 mb-1",children:"â¨ Content Tips:"}),m.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[m.jsxs("li",{children:["Use ",m.jsx("strong",{children:"H3"})," for main points in your section"]}),m.jsxs("li",{children:["Use ",m.jsx("strong",{children:"H4"})," for supporting details"]}),m.jsx("li",{children:"Add lists for better readability"}),m.jsx("li",{children:"Insert tables for structured data"}),m.jsx("li",{children:"Embed YouTube videos for rich content"})]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900 mb-1",children:"ð¯ Best Practices:"}),m.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[m.jsx("li",{children:"Keep heading hierarchy logical (H3 â H4)"}),m.jsx("li",{children:"Don't skip heading levels"}),m.jsx("li",{children:"Use formatting (bold, italic) for emphasis"}),m.jsx("li",{children:"Add alt text to images for SEO"})]})]})]})]}),title:null,trigger:"click",placement:"bottomRight",children:m.jsx("button",{className:"px-3 sm:px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center text-xs sm:text-sm","aria-label":"Editor Guidelines",children:m.jsx(Al,{className:"w-4 sm:w-5 h-4 sm:h-5"})})}),m.jsx(kt,{title:"Preview",children:m.jsxs("button",{onClick:()=>E(!0),className:"px-3 py-1.5 rounded-lg border border-gray-200 hover:bg-gray-50 flex items-center gap-2 text-sm",children:[m.jsx(DI,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden sm:inline",children:"Preview"})]})})]})]}),Pt=()=>N||(e==null?void 0:e.status)==="pending"?m.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-300px)] bg-white",children:m.jsx(Cd,{message:"Loading editor..."})}):m.jsxs("div",{className:"p-4 sm:p-6 bg-white min-h-screen",children:[m.jsx("div",{className:"mb-4",children:st?m.jsx(Ca,{value:O,onChange:D,placeholder:"Enter blog title...",onBlur:()=>Rt(!1),autoFocus:!0,singleLine:!0,editorClassName:"text-3xl font-bold text-gray-900"}):m.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>Rt(!0),children:[m.jsx("div",{className:"text-3xl font-bold text-gray-900",dangerouslySetInnerHTML:{__html:O||"Untitled Blog"}}),m.jsx(Sa,{className:"w-5 h-5 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),F&&m.jsx("div",{className:"mb-8 relative group",children:m.jsxs("div",{className:"cursor-pointer relative",onClick:()=>{At(F.url),Et(F.alt||""),Re(!0)},children:[m.jsx("img",{src:F.url,alt:F.alt||O,className:"w-full max-h-[500px] object-cover rounded-lg shadow-md transition-all group-hover:brightness-95"}),m.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all rounded-lg flex items-center justify-center",children:m.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-white/90 px-4 py-2 rounded-lg text-sm font-medium text-gray-700 shadow-lg",children:"Click to edit thumbnail"})})]})}),m.jsx("div",{className:"mb-8",children:yt?m.jsx(Ca,{value:B,onChange:M,placeholder:"Enter blog description...",onBlur:()=>xt(!1),autoFocus:!0,editorClassName:"text-gray-600"}):m.jsxs("div",{className:"flex items-start gap-2 group cursor-pointer",onClick:()=>xt(!0),children:[m.jsx("div",{className:"text-gray-600 flex-1",children:gn(B||"Click to add description...")}),m.jsx(Sa,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity mt-1"})]})}),L.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center mb-4",children:m.jsx(kn,{className:"w-8 h-8 text-blue-600"})}),m.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Start Building Your Blog"}),m.jsx("p",{className:"text-gray-500 text-center mb-6 max-w-md",children:"Add your first section to begin writing. Each section can have its own title and content."}),m.jsxs("button",{onClick:Fr,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition-all duration-300",children:[m.jsx(kn,{className:"w-5 h-5"}),"Add Section"]})]}):m.jsxs(m.Fragment,{children:[m.jsx(ZJ,{value:ct,children:m.jsx(qI,{axis:"y",values:L,onReorder:S,className:"space-y-6",children:L.map((J,fe)=>m.jsx(iZ,{section:J,index:fe},J.id||fe))})}),m.jsx("div",{className:"flex justify-center mt-6",children:m.jsxs("button",{onClick:()=>qn(L.length-1),className:"flex items-center gap-2 px-5 py-2.5 bg-white border-2 border-dashed border-gray-300 text-gray-600 rounded-xl hover:border-blue-400 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200",children:[m.jsx(kn,{className:"w-5 h-5"}),"Add Section"]})})]}),Ee(),Le(),vt(),m.jsx(hn,{title:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ai,{className:"w-5 h-5 text-purple-600"}),m.jsx("span",{children:"Edit Thumbnail Image"})]}),open:zt,onCancel:()=>Re(!1),footer:m.jsxs("div",{className:"flex items-center justify-between w-full",children:[m.jsx(He,{danger:!0,icon:m.jsx(wi,{className:"w-4 h-4"}),onClick:()=>{G(null),Re(!1),de.success("Thumbnail removed")},children:"Delete Thumbnail"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(He,{onClick:()=>Re(!1),children:"Cancel"}),m.jsx(He,{type:"primary",icon:m.jsx(Cu,{className:"w-4 h-4"}),onClick:()=>{F&&(G(oe(U({},F),{url:Nt,alt:nt})),de.success("Thumbnail updated")),Re(!1)},children:"Save Changes"})]})]}),width:700,centered:!0,children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsx("div",{className:"border rounded-lg bg-gray-50 p-2 flex items-center justify-center",children:m.jsx("img",{src:Nt,alt:nt||"Thumbnail preview",className:"max-w-full rounded-lg object-contain",style:{maxHeight:"300px"},onError:J=>{J.currentTarget.src=F==null?void 0:F.url}})}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Image URL ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx(Ct,{value:Nt,onChange:J=>At(J.target.value),placeholder:"https://example.com/image.jpg"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a URL to replace the thumbnail"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Alt Text ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx(Ct.TextArea,{value:nt,onChange:J=>Et(J.target.value),placeholder:"Describe the image for accessibility and SEO",rows:3}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Helps with SEO and screen readers. Be descriptive and specific."})]})]})]})})]});return m.jsxs(jn.div,{className:"flex-1 bg-gray-50",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[u&&m.jsx("div",{className:"fixed inset-0 bg-white/80 flex items-center justify-center z-50",children:m.jsx(Cd,{message:"Saving keywords..."})}),m.jsx(hn,{open:y,onCancel:()=>E(!1),footer:null,width:950,centered:!0,title:m.jsxs("div",{className:"flex justify-between items-center w-full pr-4",children:[m.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Blog Preview"}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:ce,onChange:J=>X(J.target.checked),className:"w-4 h-4 rounded border-gray-300"}),m.jsx("span",{className:"text-sm text-gray-600",children:"Table of Contents"})]}),m.jsx(He,{type:"primary",onClick:Ce,className:"!bg-gradient-to-r !from-indigo-500 !to-purple-600 !shadow-sm hover:!shadow-md mr-5",children:"Copy All"})]})]}),children:m.jsxs("div",{className:"max-h-[70vh] overflow-y-auto px-4 pb-6 custom-scroll",children:[m.jsx("h1",{className:"text-2xl font-semibold mb-4 text-gray-900",children:gn(O)}),(()=>{var Ue,dt;const J=ht==null?void 0:ht.find(br=>br.role==="thumbnail"||br.role==="main"),fe=L.length>0?Ke((Ue=L[0])==null?void 0:Ue.id):null,ve=J||fe;return ve?m.jsxs("div",{className:"mb-6",children:[m.jsx("img",{src:ve.url,alt:ve.altText||O,className:"w-full max-h-[400px] object-cover"}),((dt=ve.attribution)==null?void 0:dt.name)&&m.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Photo by"," ",m.jsx("a",{href:ve.attribution.profile,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:ve.attribution.name})]})]}):null})(),B&&m.jsx("div",{className:"text-gray-600 mb-6 leading-relaxed",dangerouslySetInnerHTML:{__html:B}}),ce&&L.length>0&&m.jsxs("nav",{className:"mb-8 p-4 bg-gray-50 border border-gray-200",children:[m.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-800",children:"Table of Contents"}),m.jsxs("ul",{className:"space-y-2",children:[L.map((J,fe)=>m.jsx("li",{children:m.jsx("a",{href:`#preview-section-${fe}`,className:"text-blue-600 hover:underline",onClick:ve=>{var Ue;ve.preventDefault(),(Ue=document.getElementById(`preview-section-${fe}`))==null||Ue.scrollIntoView({behavior:"smooth"})},children:gn(J.title)})},fe)),A&&m.jsx("li",{children:m.jsx("a",{href:"#preview-cta",className:"text-blue-600 hover:underline",onClick:J=>{var fe;J.preventDefault(),(fe=document.getElementById("preview-cta"))==null||fe.scrollIntoView({behavior:"smooth"})},children:"Brand CTA"})}),j&&m.jsx("li",{children:m.jsx("a",{href:"#preview-summary",className:"text-blue-600 hover:underline",onClick:J=>{var fe;J.preventDefault(),(fe=document.getElementById("preview-summary"))==null||fe.scrollIntoView({behavior:"smooth"})},children:j.heading})}),A&&m.jsx("li",{children:m.jsx("a",{href:"#preview-faq",className:"text-blue-600 hover:underline",onClick:J=>{var fe;J.preventDefault(),(fe=document.getElementById("preview-faq"))==null||fe.scrollIntoView({behavior:"smooth"})},children:A.heading})})]})]}),L.map((J,fe)=>{var Ue;const ve=Ke(J.id);return m.jsxs("div",{id:`preview-section-${fe}`,className:"mb-8",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:gn(J.title)}),ve&&fe>0&&m.jsxs("div",{className:"mb-4",children:[m.jsx("img",{src:ve.url,alt:ve.altText||J.title,className:"w-full max-h-[350px] object-cover"}),((Ue=ve.attribution)==null?void 0:Ue.name)&&m.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Photo by"," ",m.jsx("a",{href:ve.attribution.profile,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:ve.attribution.name})]})]}),m.jsx("div",{className:"blog-content",dangerouslySetInnerHTML:{__html:J.content}})]},fe)}),$&&m.jsx("div",{id:"preview-cta",className:"mt-8 pt-6 border-t bg-indigo-50/30 p-4 rounded-lg",children:m.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:$}})}),j&&m.jsxs("div",{id:"preview-summary",className:"mt-8 pt-6 border-t",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-900",children:j.heading}),m.jsx("div",{className:"prose max-w-none text-gray-700",dangerouslySetInnerHTML:{__html:j.content}})]}),A&&m.jsxs("div",{id:"preview-faq",className:"mt-8 pt-6 border-t",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:A.heading}),m.jsx("div",{className:"space-y-4",children:A.qa.map((J,fe)=>m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-gray-900",children:J.question}),m.jsx("p",{className:"text-gray-600 mt-1",children:J.answer})]},fe))})]}),!L.length&&m.jsx("div",{className:"text-center py-12 text-gray-500",children:"No sections available."})]})}),m.jsxs("div",{className:"flex flex-col h-full",children:[m.jsx("div",{className:"sticky top-0 bg-white shadow-sm z-10",children:Ut()}),m.jsx("div",{className:"flex-1 overflow-auto",children:Pt()})]})]})},lZ=o=>{var u=o,{blog:e,textVersion:t=2,content:n,setContent:r,unsavedChanges:i,setUnsavedChanges:s}=u,a=ir(u,["blog","textVersion","content","setContent","unsavedChanges","setUnsavedChanges"]);const[c,l]=q.useState(t),d=c;return m.jsxs("div",{className:"flex flex-col h-full",children:[!1,m.jsx("div",{className:"flex-1",children:d===1?m.jsx(VJ,U({blog:e,content:n,setContent:r,unsavedChanges:i,setUnsavedChanges:s},a)):m.jsx(oZ,U({blog:e,content:n,setContent:r,unsavedChanges:i,setUnsavedChanges:s},a))})]})},vee=()=>{var lt,Ht;const{id:e}=cI(),t=Vf(),n=oi(be=>be.blog.selectedBlog),{metadata:r}=oi(be=>be.wordpress),[i,s]=q.useState("Normal"),[a,o]=q.useState(!!e),[u,c]=q.useState([]),[l,d]=q.useState(""),[h,f]=q.useState(""),[p,x]=q.useState([]),[_,b]=q.useState(!1),[T,N]=q.useState(null),[g,y]=q.useState(!1),[E,I]=q.useState(null),[R,L]=q.useState(!1),[S,A]=q.useState({category:"",includeTableOfContents:!1}),[w,O]=q.useState(!e),[D,B]=q.useState(!1),[M,F]=q.useState(""),[G,$]=q.useState(!1),[P,j]=q.useState(""),[W,H]=q.useState(!1),Z=()=>H(be=>!be),ee=oi(be=>be.auth.user),ae=(Ht=ee==null?void 0:ee.plan)!=null?Ht:(lt=ee==null?void 0:ee.subscription)==null?void 0:lt.plan,_e=Ql(),je=ig().pathname===`/blog-editor/${n==null?void 0:n._id}`,[Se,Ie]=q.useState(!1),{Title:qe}=dI,[te,$e]=q.useState({title:"",topic:"",tone:"Informative",focusKeywords:[],keywords:[],userDefinedLength:1200,focusKeywordInput:"",keywordInput:"",template:""}),[st,Rt]=q.useState({title:!1,topic:!1,tone:!1,focusKeywords:!1,keywords:!1,userDefinedLength:!1,template:!1});q.useEffect(()=>{const be=Be=>{Se&&(Be.preventDefault(),Be.returnValue="You have unsaved changes. Are you sure you want to leave?")};return window.addEventListener("beforeunload",be),()=>window.removeEventListener("beforeunload",be)},[Se]),q.useEffect(()=>{e?(o(!0),t(kb(e)).unwrap().catch(()=>de.error("Failed to load blog.")).finally(()=>o(!1))):(t(fI()),d(""),f(""),c([]),I(null),A({category:"",includeTableOfContents:!1}))},[e,t]),q.useEffect(()=>{var be,Be;n&&e&&(c(n.keywords||[]),f(n.title||""),d((be=n.content)!=null?be:""),I(((Be=n.posting)==null?void 0:Be.items)||{}),A({category:n.category||"",includeTableOfContents:n.includeTableOfContents||!1,title:n.title||""}),Ie(!1))},[n,e]),q.useEffect(()=>{window.scrollTo(0,0)},[]);const yt=q.useRef(null),xt=q.useCallback(be=>{yt.current=be},[]),zt=q.useCallback((be,Be)=>{if(typeof be!="string"||typeof Be!="string"){de.error("Invalid suggestion format.");return}if(yt.current)yt.current(be,Be);else{const Ke=new RegExp(be.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");d(at=>at.replace(Ke,Be))}x(Ke=>Ke.filter(at=>at.original!==be))},[]),Re=be=>bt(null,null,function*(){var Ke,at,Zt,Je,er,Un,zn;if(L(!0),!h){de.error("Blog title is missing."),L(!1);return}if(!l.trim()){de.error("Blog content is empty."),L(!1);return}if(!be.categories){de.error("Please select a category."),L(!1);return}const Be=be.categories||S.categories;if(!Be){de.error("Please select a category."),L(!1);return}try{const tr={type:be.type.platform,blogId:n._id,includeTableOfContents:(Ke=be.includeTableOfContents)!=null?Ke:!1,category:Be,removeWaterMark:(at=be.removeWaterMark)!=null?at:!0},Nn=E?yield yl.put("/integrations/post",tr):yield yl.post("/integrations/post",tr),qn=((er=(Je=(Zt=Nn==null?void 0:Nn.data)==null?void 0:Zt.posting)==null?void 0:Je.items)==null?void 0:er[be.type.platform])||null;I(Fr=>oe(U({},Fr||{}),{[be.type.platform]:qn})),de.success(`Blog ${E!=null&&E[be.type.platform]?"updated":"posted"} successfully!`)}catch(tr){de.error(((zn=(Un=tr.response)==null?void 0:Un.data)==null?void 0:zn.message)||`Failed to ${E?"update":"post to"} WordPress.`)}finally{L(!1)}}),Nt=be=>be?be.replace(/<[^>]*>/g," ").trim().split(/\s+/).filter(Ke=>Ke.length>0).length:0,At=Be=>bt(null,[Be],function*({metadata:be}){if(ae==="free"||ae==="basic"){_e("/pricing");return}if(!h.trim()){de.error("Blog title is required.");return}y(!0);try{const Ke=yield t(Ob({id:n._id,title:h,content:l,published:n==null?void 0:n.published,focusKeywords:n==null?void 0:n.focusKeywords,keywords:u,seoMetadata:be?{title:be.title,description:be.description}:(n==null?void 0:n.seoMetadata)||{title:"",description:""}})).unwrap();return de.success("Blog updated successfully"),Ie(!1),o(!0),setTimeout(()=>{t(kb(e)).unwrap().finally(()=>o(!1))},2e3),Ke}catch(Ke){console.error("Error updating the blog:",Ke),de.error("Failed to save blog.")}finally{y(!1)}}),nt=()=>bt(null,null,function*(){y(!0);try{yield t(Ob({id:n._id,title:h,content:l,published:n==null?void 0:n.published,focusKeywords:n==null?void 0:n.focusKeywords,keywords:u,seoMetadata:r?{title:r.title,description:r.description}:(n==null?void 0:n.seoMetadata)||{title:"",description:""}})).unwrap();const be=yield pI(n._id);be.data?(N(be.data),b(!0),de.success("Review the suggested content.")):de.error("No content received from retry."),Ie(!1)}catch(be){console.error("Error updating the blog:",be),de.error("Failed to save blog.")}finally{y(!1)}}),Et=()=>{T&&(d(T),de.success("Content updated successfully!")),b(!1),N(null)},ht=()=>{b(!1),N(null),de.info("Changes discarded.")},ie=()=>{var Be,Ke,at;(!((Be=te.title)!=null&&Be.trim())||!((Ke=te.topic)!=null&&Ke.trim())||!((at=te.tone)!=null&&at.trim())||!te.template||!te.userDefinedLength||te.userDefinedLength<=0||!te.focusKeywords||te.focusKeywords.length===0||!te.keywords||te.keywords.length===0)&&!e&&_e("/toolbox"),O(!1)},ce=()=>bt(null,null,function*(){var Ke,at,Zt;const be={title:(Ke=te.title)==null?void 0:Ke.trim(),topic:(at=te.topic)==null?void 0:at.trim(),tone:(Zt=te.tone)==null?void 0:Zt.trim(),focusKeywords:te.focusKeywords,keywords:te.keywords,userDefinedLength:Number(te.userDefinedLength),template:te.template,aiModel:"gemini",isCheckedGeneratedImages:!1,isUnsplashActive:!1},Be={};if(be.title||(Be.title=!0),be.topic||(Be.topic=!0),be.tone||(Be.tone=!0),be.template||(Be.template=!0),(!be.userDefinedLength||be.userDefinedLength<=0)&&(Be.userDefinedLength=!0),(!be.focusKeywords||be.focusKeywords.length===0)&&(Be.focusKeywords=!0),(!be.keywords||be.keywords.length===0)&&(Be.keywords=!0),Object.keys(Be).length>0){Rt(Je=>U(U({},Je),Be)),de.error("Please fill all required fields correctly.");return}try{const Je=yield t(mI({blogData:be,user:ee})).unwrap();O(!1),_e(`/blog-editor/${Je._id}`)}catch(Je){console.error("Failed to create blog:",Je),de.error((Je==null?void 0:Je.message)||"Failed to create blog")}}),X=be=>{const Be=be.target.value;Nt(Be)<=60?(f(Be),A(Ke=>oe(U({},Ke),{title:Be}))):de.error("Title exceeds 60 words.")},me=q.useCallback(()=>{d(M),B(!1),de.success("Humanized content applied successfully!")},[M,d,B]),re=q.useCallback(()=>{B(!1),de.info("Retained original content.")},[B]);return a||R||(n==null?void 0:n.status)==="pending"?m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-white/90 backdrop-blur-sm",children:m.jsx(Cd,{})}):m.jsxs(m.Fragment,{children:[m.jsx(hI,{children:m.jsx("title",{children:"Blog Editor | GenWrite"})}),m.jsxs("div",{className:`flex flex-col max-h-screen overflow-y-hidden ${w?"blur-sm":""}`,children:[m.jsx(hn,{open:_,centered:!0,footer:[m.jsxs("div",{className:"flex justify-end gap-3 w-full",children:[m.jsx(He,{onClick:ht,className:"px-3 sm:px-4 py-2 bg-gray-100 text-gray-600 hover:bg-gray-200 rounded-md",children:"Reject"},"reject"),m.jsx(He,{type:"primary",onClick:Et,className:"px-3 sm:px-4 py-2 rounded-md",children:"Accept"},"accept")]},"footer")],onCancel:ht,width:"100%",className:"rounded-lg max-w-[600px] sm:max-w-[700px] md:max-w-[800px]",children:m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsx(qe,{level:3,className:"text-lg ml-5 sm:text-xl !mb-0 text-gray-800",children:"Suggested Content"}),m.jsx("div",{className:"p-5 custom-scroll border border-gray-200 rounded-lg shadow-inner max-h-[70vh] overflow-y-auto prose prose-sm sm:prose-base leading-relaxed text-gray-700",children:m.jsx(K4,{remarkPlugins:[o5],rehypePlugins:[P9],components:{a:({href:be,children:Be})=>m.jsx("a",{href:be,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 font-medium hover:underline",children:Be}),strong:({children:be})=>m.jsx("strong",{className:"font-semibold text-gray-900",children:be}),p:({children:be})=>m.jsx("p",{className:"mb-3 last:mb-0",children:be}),li:({children:be})=>m.jsx("li",{className:"mb-1",children:be})},children:T})})]})}),m.jsxs("div",{className:"flex flex-col md:flex-row flex-grow overflow-hidden",children:[m.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[m.jsxs("header",{className:"bg-white shadow-lg border rounded-tl-lg border-gray-200 p-4 sm:p-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4 mt-5 lg:mt-0 w-full",children:[m.jsx("div",{className:"w-8 sm:w-10 h-8 sm:h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:m.jsx(Dp,{className:"w-4 sm:w-5 h-4 sm:h-5 text-white"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:e?"Edit Blog":"Create New Blog"}),m.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Write and optimize your content"})]}),m.jsx("button",{onClick:Z,className:"md:hidden ml-auto",children:!W&&m.jsx(Nk,{})})]}),m.jsx("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto",children:m.jsx("button",{onClick:()=>At({metadata:r}),className:`px-3 sm:px-4 py-2 min-w-[130px] rounded-lg font-semibold flex items-center gap-2 justify-center transition-all duration-300 ${g||!h.trim()||!l.trim()||Nt(h)>60?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:shadow-lg hover:scale-105"}`,disabled:g||!h.trim()||!l.trim()||Nt(h)>60,children:g?m.jsxs(m.Fragment,{children:[m.jsx(xl,{className:"w-4 sm:w-5 h-4 sm:h-5 animate-spin"}),"Saving..."]}):m.jsxs(m.Fragment,{children:[m.jsx(Pk,{className:"w-4 sm:w-5 h-4 sm:h-5"}),"Save Blog"]})})})]}),je&&m.jsxs("div",{className:"mt-4",children:[m.jsx("div",{className:"flex gap-2 flex-col sm:flex-row",children:m.jsx("input",{type:"text",value:h,onChange:X,placeholder:"Enter your blog title...",className:`flex-1 text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 placeholder-gray-400 border-none outline-none resize-none w-full ${Nt(h)>60?"text-red-600":""}`,"aria-label":"Blog title"})}),m.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-500",children:[Nt(h),"/60 words (optimal for SEO)",Nt(h)>60&&m.jsx("span",{className:"text-red-600 ml-2",children:"Title exceeds 60 words"})]})]})]}),m.jsx("div",{className:"flex-grow overflow-auto max-h-[800px] custom-scroll",children:a?m.jsx("div",{className:"flex justify-center items-center h-[calc(100vh-120px)]",children:m.jsx(ag,{className:"animate-spin h-8 w-8 text-blue-600"})}):m.jsx(lZ,{textVersion:(n==null?void 0:n.textVersion)||2,keywords:u,setKeywords:c,blog:n,proofreadingResults:p,handleReplace:zt,content:l,setContent:d,title:h,setTitle:f,isSavingKeyword:g,handleSubmit:At,className:"w-full",humanizedContent:M,showDiff:D,handleAcceptHumanizedContent:me,handleAcceptOriginalContent:re,editorContent:l,unsavedChanges:Se,setUnsavedChanges:Ie,wordpressMetadata:r,onReplaceReady:xt})},i)]}),m.jsx("div",{className:"hidden md:block border-l border-gray-200 overflow-y-auto custom-scroll max-h-[900px]",children:m.jsx(AE,{blog:n,keywords:u,setKeywords:c,onPost:Re,handleReplace:zt,proofreadingResults:p,setProofreadingResults:x,handleSave:nt,handleSubmit:At,posted:E,isPosting:R,formData:S,title:h,setEditorContent:d,editorContent:l,humanizePrompt:P,setHumanizePrompt:j,setIsHumanizing:$,isHumanizing:G,setHumanizedContent:F,setIsHumanizeModalOpen:B,unsavedChanges:Se,wordpressMetadata:r})}),m.jsx(eg,{children:W&&m.jsx(jn.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{duration:.3},className:"fixed inset-y-0 right-0 w-4/5 max-w-xs bg-white shadow-lg z-50 overflow-y-auto md:hidden",children:m.jsx(AE,{blog:n,keywords:u,setKeywords:c,onPost:Re,handleReplace:zt,proofreadingResults:p,setProofreadingResults:x,handleSave:nt,handleSubmit:At,posted:E,isPosting:R,formData:S,title:h,setEditorContent:d,editorContent:l,humanizePrompt:P,setHumanizePrompt:j,setIsHumanizing:$,isHumanizing:G,setHumanizedContent:F,setIsHumanizeModalOpen:B,setIsSidebarOpen:H,unsavedChanges:Se,wordpressMetadata:r})})})]}),m.jsx(O7,{closeFnc:ie,isOpen:w,handleSubmit:ce,errors:st,setErrors:Rt,formData:te,setFormData:$e,className:"w-full max-w-lg"})]})]})};export{vee as default};
