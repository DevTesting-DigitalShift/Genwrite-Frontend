import{R as O,b as c}from"./chunk-tiptap-Diw-eXXG.js";import{ac as ue,n as B,ad as z,ae as me,af as pe,ag as H,ah as ie,ai as Oe,t as $e,aj as _e,ak as Re,al as Me,am as U,_ as Be,C as Se,c as we,d as Ie,e as T,r as ke,an as De,ao as Te,s as Le,k as We,o as ye,ap as Ke,aq as le,ar as Fe,as as ce,T as ze,at as Xe,au as Ge,av as He,aw as Ve,ax as qe,ay as Ue,I as Ye,az as Qe,F as Ze,u as Je,a as et,W as tt,P as J,j as m,M as nt,m as ee,a7 as rt}from"./index-KPP6Codd.js";import{g as ot}from"./getEstimatedCost-C7zpUDMg.js";import{c as at}from"./createLucideIcon-C5jW9RxN.js";import{S as st}from"./Pagination-CjE1cCS3.js";import{X as it}from"./x-CRSOVgfR.js";import{C as lt}from"./index-C1eegi6T.js";import{R as ct}from"./LeftOutlined-Blg3rtIY.js";import{g as dt}from"./index-DJF1CZg_.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],mt=at("loader",ut);var je=O.forwardRef(function(e,t){var n=e.prefixCls,r=e.forceRender,o=e.className,i=e.style,a=e.children,s=e.isActive,d=e.role,v=e.classNames,f=e.styles,y=O.useState(s||r),x=ue(y,2),g=x[0],C=x[1];return O.useEffect(function(){(r||s)&&C(!0)},[r,s]),g?O.createElement("div",{ref:t,className:B("".concat(n,"-content"),z(z({},"".concat(n,"-content-active"),s),"".concat(n,"-content-inactive"),!s),o),style:i,role:d},O.createElement("div",{className:B("".concat(n,"-content-box"),v==null?void 0:v.body),style:f==null?void 0:f.body},a)):null});je.displayName="PanelContent";var gt=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],Pe=O.forwardRef(function(e,t){var n=e.showArrow,r=n===void 0?!0:n,o=e.headerClass,i=e.isActive,a=e.onItemClick,s=e.forceRender,d=e.className,v=e.classNames,f=v===void 0?{}:v,y=e.styles,x=y===void 0?{}:y,g=e.prefixCls,C=e.collapsible,w=e.accordion,k=e.panelKey,h=e.extra,S=e.header,P=e.expandIcon,$=e.openMotion,j=e.destroyInactivePanel,I=e.children,l=me(e,gt),u=C==="disabled",b=h!=null&&typeof h!="boolean",p=z(z(z({onClick:function(){a==null||a(k)},onKeyDown:function(A){(A.key==="Enter"||A.keyCode===pe.ENTER||A.which===pe.ENTER)&&(a==null||a(k))},role:w?"tab":"button"},"aria-expanded",i),"aria-disabled",u),"tabIndex",u?-1:0),_=typeof P=="function"?P(e):O.createElement("i",{className:"arrow"}),K=_&&O.createElement("div",H({className:"".concat(g,"-expand-icon")},["header","icon"].includes(C)?p:{}),_),L=B("".concat(g,"-item"),z(z({},"".concat(g,"-item-active"),i),"".concat(g,"-item-disabled"),u),d),W=B(o,"".concat(g,"-header"),z({},"".concat(g,"-collapsible-").concat(C),!!C),f.header),E=ie({className:W,style:x.header},["header","icon"].includes(C)?{}:p);return O.createElement("div",H({},l,{ref:t,className:L}),O.createElement("div",E,r&&K,O.createElement("span",H({className:"".concat(g,"-header-text")},C==="header"?p:{}),S),b&&O.createElement("div",{className:"".concat(g,"-extra")},h)),O.createElement(Oe,H({visible:i,leavedClassName:"".concat(g,"-content-hidden")},$,{forceRender:s,removeOnLeave:j}),function(N,A){var F=N.className,R=N.style;return O.createElement(je,{ref:A,prefixCls:g,className:F,classNames:f,style:R,styles:x,isActive:i,forceRender:s,role:w?"tabpanel":void 0},I)}))}),ft=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],pt=function(t,n){var r=n.prefixCls,o=n.accordion,i=n.collapsible,a=n.destroyInactivePanel,s=n.onItemClick,d=n.activeKey,v=n.openMotion,f=n.expandIcon;return t.map(function(y,x){var g=y.children,C=y.label,w=y.key,k=y.collapsible,h=y.onItemClick,S=y.destroyInactivePanel,P=me(y,ft),$=String(w??x),j=k??i,I=S??a,l=function(p){j!=="disabled"&&(s(p),h==null||h(p))},u=!1;return o?u=d[0]===$:u=d.indexOf($)>-1,O.createElement(Pe,H({},P,{prefixCls:r,key:$,panelKey:$,isActive:u,accordion:o,openMotion:v,expandIcon:f,header:C,collapsible:j,onItemClick:l,destroyInactivePanel:I}),g)})},yt=function(t,n,r){if(!t)return null;var o=r.prefixCls,i=r.accordion,a=r.collapsible,s=r.destroyInactivePanel,d=r.onItemClick,v=r.activeKey,f=r.openMotion,y=r.expandIcon,x=t.key||String(n),g=t.props,C=g.header,w=g.headerClass,k=g.destroyInactivePanel,h=g.collapsible,S=g.onItemClick,P=!1;i?P=v[0]===x:P=v.indexOf(x)>-1;var $=h??a,j=function(u){$!=="disabled"&&(d(u),S==null||S(u))},I={key:x,panelKey:x,header:C,headerClass:w,isActive:P,prefixCls:o,destroyInactivePanel:k??s,openMotion:f,accordion:i,children:t.props.children,onItemClick:j,expandIcon:y,collapsible:$};return typeof t.type=="string"?t:(Object.keys(I).forEach(function(l){typeof I[l]>"u"&&delete I[l]}),O.cloneElement(t,I))};function ht(e,t,n){return Array.isArray(e)?pt(e,n):$e(t).map(function(r,o){return yt(r,o,n)})}function vt(e){var t=e;if(!Array.isArray(t)){var n=U(t);t=n==="number"||n==="string"?[t]:[]}return t.map(function(r){return String(r)})}var bt=O.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-collapse":n,o=e.destroyInactivePanel,i=o===void 0?!1:o,a=e.style,s=e.accordion,d=e.className,v=e.children,f=e.collapsible,y=e.openMotion,x=e.expandIcon,g=e.activeKey,C=e.defaultActiveKey,w=e.onChange,k=e.items,h=B(r,d),S=_e([],{value:g,onChange:function(b){return w==null?void 0:w(b)},defaultValue:C,postState:vt}),P=ue(S,2),$=P[0],j=P[1],I=function(b){return j(function(){if(s)return $[0]===b?[]:[b];var p=$.indexOf(b),_=p>-1;return _?$.filter(function(K){return K!==b}):[].concat(Be($),[b])})};Re(!v,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var l=ht(k,v,{prefixCls:r,accordion:s,openMotion:y,expandIcon:x,collapsible:f,destroyInactivePanel:i,onItemClick:I,activeKey:$});return O.createElement("div",H({ref:t,className:h,style:a,role:s?"tablist":void 0},Me(e,{aria:!0,data:!0})),l)});const ge=Object.assign(bt,{Panel:Pe});ge.Panel;const xt=c.forwardRef((e,t)=>{const{getPrefixCls:n}=c.useContext(Se),{prefixCls:r,className:o,showArrow:i=!0}=e,a=n("collapse",r),s=B({[`${a}-no-arrow`]:!i},o);return c.createElement(ge.Panel,Object.assign({ref:t},e,{prefixCls:a,className:s}))}),Ct=e=>{const{componentCls:t,contentBg:n,padding:r,headerBg:o,headerPadding:i,collapseHeaderPaddingSM:a,collapseHeaderPaddingLG:s,collapsePanelBorderRadius:d,lineWidth:v,lineType:f,colorBorder:y,colorText:x,colorTextHeading:g,colorTextDisabled:C,fontSizeLG:w,lineHeight:k,lineHeightLG:h,marginSM:S,paddingSM:P,paddingLG:$,paddingXS:j,motionDurationSlow:I,fontSizeIcon:l,contentPadding:u,fontHeight:b,fontHeightLG:p}=e,_=`${T(v)} ${f} ${y}`;return{[t]:Object.assign(Object.assign({},ke(e)),{backgroundColor:o,border:_,borderRadius:d,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:_,"&:first-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`${T(d)} ${T(d)} 0 0`}},"&:last-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`0 0 ${T(d)} ${T(d)}`}},[`> ${t}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:i,color:g,lineHeight:k,cursor:"pointer",transition:`all ${I}, visibility 0s`},De(e)),{[`> ${t}-header-text`]:{flex:"auto"},[`${t}-expand-icon`]:{height:b,display:"flex",alignItems:"center",paddingInlineEnd:S},[`${t}-arrow`]:Object.assign(Object.assign({},Te()),{fontSize:l,transition:`transform ${I}`,svg:{transition:`transform ${I}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}}),[`${t}-collapsible-header`]:{cursor:"default",[`${t}-header-text`]:{flex:"none",cursor:"pointer"}},[`${t}-collapsible-icon`]:{cursor:"unset",[`${t}-expand-icon`]:{cursor:"pointer"}}},[`${t}-content`]:{color:x,backgroundColor:n,borderTop:_,[`& > ${t}-content-box`]:{padding:u},"&-hidden":{display:"none"}},"&-small":{[`> ${t}-item`]:{[`> ${t}-header`]:{padding:a,paddingInlineStart:j,[`> ${t}-expand-icon`]:{marginInlineStart:e.calc(P).sub(j).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:P}}},"&-large":{[`> ${t}-item`]:{fontSize:w,lineHeight:h,[`> ${t}-header`]:{padding:s,paddingInlineStart:r,[`> ${t}-expand-icon`]:{height:p,marginInlineStart:e.calc($).sub(r).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:$}}},[`${t}-item:last-child`]:{borderBottom:0,[`> ${t}-content`]:{borderRadius:`0 0 ${T(d)} ${T(d)}`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:C,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:S}}}}})}},$t=e=>{const{componentCls:t}=e,n=`> ${t}-item > ${t}-header ${t}-arrow`;return{[`${t}-rtl`]:{[n]:{transform:"rotate(180deg)"}}}},St=e=>{const{componentCls:t,headerBg:n,borderlessContentPadding:r,borderlessContentBg:o,colorBorder:i}=e;return{[`${t}-borderless`]:{backgroundColor:n,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${i}`},[`
        > ${t}-item:last-child,
        > ${t}-item:last-child ${t}-header
      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:o,borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{padding:r}}}},wt=e=>{const{componentCls:t,paddingSM:n}=e;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:n}}}}}},It=e=>({headerPadding:`${e.paddingSM}px ${e.padding}px`,headerBg:e.colorFillAlter,contentPadding:`${e.padding}px 16px`,contentBg:e.colorBgContainer,borderlessContentPadding:`${e.paddingXXS}px 16px ${e.padding}px`,borderlessContentBg:"transparent"}),kt=we("Collapse",e=>{const t=Ie(e,{collapseHeaderPaddingSM:`${T(e.paddingXS)} ${T(e.paddingSM)}`,collapseHeaderPaddingLG:`${T(e.padding)} ${T(e.paddingLG)}`,collapsePanelBorderRadius:e.borderRadiusLG});return[Ct(t),St(t),wt(t),$t(t),dt(t)]},It),jt=c.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r,expandIcon:o,className:i,style:a}=Le("collapse"),{prefixCls:s,className:d,rootClassName:v,style:f,bordered:y=!0,ghost:x,size:g,expandIconPosition:C="start",children:w,destroyInactivePanel:k,destroyOnHidden:h,expandIcon:S}=e,P=We(E=>{var N;return(N=g??E)!==null&&N!==void 0?N:"middle"}),$=n("collapse",s),j=n(),[I,l,u]=kt($),b=c.useMemo(()=>C==="left"?"start":C==="right"?"end":C,[C]),p=S??o,_=c.useCallback((E={})=>{const N=typeof p=="function"?p(E):c.createElement(ct,{rotate:E.isActive?r==="rtl"?-90:90:void 0,"aria-label":E.isActive?"expanded":"collapsed"});return ye(N,()=>{var A;return{className:B((A=N==null?void 0:N.props)===null||A===void 0?void 0:A.className,`${$}-arrow`)}})},[p,$]),K=B(`${$}-icon-position-${b}`,{[`${$}-borderless`]:!y,[`${$}-rtl`]:r==="rtl",[`${$}-ghost`]:!!x,[`${$}-${P}`]:P!=="middle"},i,d,v,l,u),L=Object.assign(Object.assign({},Ke(j)),{motionAppear:!1,leavedClassName:`${$}-content-hidden`}),W=c.useMemo(()=>w?$e(w).map((E,N)=>{var A,F;const R=E.props;if(R!=null&&R.disabled){const M=(A=E.key)!==null&&A!==void 0?A:String(N),D=Object.assign(Object.assign({},le(E.props,["disabled"])),{key:M,collapsible:(F=R.collapsible)!==null&&F!==void 0?F:"disabled"});return ye(E,D)}return E}):null,[w]);return I(c.createElement(ge,Object.assign({ref:t,openMotion:L},le(e,["rootClassName"]),{expandIcon:_,prefixCls:$,className:K,style:Object.assign(Object.assign({},a),f),destroyInactivePanel:h??k}),W))}),Ne=Object.assign(jt,{Panel:xt});var Pt={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},Nt=function(){var t=c.useRef([]),n=c.useRef(null);return c.useEffect(function(){var r=Date.now(),o=!1;t.current.forEach(function(i){if(i){o=!0;var a=i.style;a.transitionDuration=".3s, .3s, .3s, .06s",n.current&&r-n.current<100&&(a.transitionDuration="0s, 0s")}}),o&&(n.current=Date.now())}),t.current},he=0,Et=Fe();function At(){var e;return Et?(e=he,he+=1):e="TEST_OR_SSR",e}const Ot=function(e){var t=c.useState(),n=ue(t,2),r=n[0],o=n[1];return c.useEffect(function(){o("rc_progress_".concat(At()))},[]),e||r};var ve=function(t){var n=t.bg,r=t.children;return c.createElement("div",{style:{width:"100%",height:"100%",background:n}},r)};function be(e,t){return Object.keys(e).map(function(n){var r=parseFloat(n),o="".concat(Math.floor(r*t),"%");return"".concat(e[n]," ").concat(o)})}var _t=c.forwardRef(function(e,t){var n=e.prefixCls,r=e.color,o=e.gradientId,i=e.radius,a=e.style,s=e.ptg,d=e.strokeLinecap,v=e.strokeWidth,f=e.size,y=e.gapDegree,x=r&&U(r)==="object",g=x?"#FFF":void 0,C=f/2,w=c.createElement("circle",{className:"".concat(n,"-circle-path"),r:i,cx:C,cy:C,stroke:g,strokeLinecap:d,strokeWidth:v,opacity:s===0?0:1,style:a,ref:t});if(!x)return w;var k="".concat(o,"-conic"),h=y?"".concat(180+y/2,"deg"):"0deg",S=be(r,(360-y)/360),P=be(r,1),$="conic-gradient(from ".concat(h,", ").concat(S.join(", "),")"),j="linear-gradient(to ".concat(y?"bottom":"top",", ").concat(P.join(", "),")");return c.createElement(c.Fragment,null,c.createElement("mask",{id:k},w),c.createElement("foreignObject",{x:0,y:0,width:f,height:f,mask:"url(#".concat(k,")")},c.createElement(ve,{bg:j},c.createElement(ve,{bg:$}))))}),Q=100,se=function(t,n,r,o,i,a,s,d,v,f){var y=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,x=r/100*360*((360-a)/360),g=a===0?0:{bottom:0,top:180,left:90,right:-90}[s],C=(100-o)/100*n;v==="round"&&o!==100&&(C+=f/2,C>=n&&(C=n-.01));var w=Q/2;return{stroke:typeof d=="string"?d:void 0,strokeDasharray:"".concat(n,"px ").concat(t),strokeDashoffset:C+y,transform:"rotate(".concat(i+x+g,"deg)"),transformOrigin:"".concat(w,"px ").concat(w,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Rt=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function xe(e){var t=e??[];return Array.isArray(t)?t:[t]}var Mt=function(t){var n=ie(ie({},Pt),t),r=n.id,o=n.prefixCls,i=n.steps,a=n.strokeWidth,s=n.trailWidth,d=n.gapDegree,v=d===void 0?0:d,f=n.gapPosition,y=n.trailColor,x=n.strokeLinecap,g=n.style,C=n.className,w=n.strokeColor,k=n.percent,h=me(n,Rt),S=Q/2,P=Ot(r),$="".concat(P,"-gradient"),j=S-a/2,I=Math.PI*2*j,l=v>0?90+v/2:-90,u=I*((360-v)/360),b=U(i)==="object"?i:{count:i,gap:2},p=b.count,_=b.gap,K=xe(k),L=xe(w),W=L.find(function(D){return D&&U(D)==="object"}),E=W&&U(W)==="object",N=E?"butt":x,A=se(I,u,0,100,l,v,f,y,N,a),F=Nt(),R=function(){var V=0;return K.map(function(G,q){var oe=L[q]||L[L.length-1],Y=se(I,u,V,G,l,v,f,oe,N,a);return V+=G,c.createElement(_t,{key:q,color:oe,ptg:G,radius:j,prefixCls:o,gradientId:$,style:Y,strokeLinecap:N,strokeWidth:a,gapDegree:v,ref:function(ae){F[q]=ae},size:Q})}).reverse()},M=function(){var V=Math.round(p*(K[0]/100)),G=100/p,q=0;return new Array(p).fill(null).map(function(oe,Y){var Z=Y<=V-1?L[0]:y,ae=Z&&U(Z)==="object"?"url(#".concat($,")"):void 0,fe=se(I,u,q,G,l,v,f,Z,"butt",a,_);return q+=(u-fe.strokeDashoffset+_)*100/u,c.createElement("circle",{key:Y,className:"".concat(o,"-circle-path"),r:j,cx:S,cy:S,stroke:ae,strokeWidth:a,opacity:1,style:fe,ref:function(Ae){F[Y]=Ae}})})};return c.createElement("svg",H({className:B("".concat(o,"-circle"),C),viewBox:"0 0 ".concat(Q," ").concat(Q),style:g,id:r,role:"presentation"},h),!p&&c.createElement("circle",{className:"".concat(o,"-circle-trail"),r:j,cx:S,cy:S,stroke:y,strokeLinecap:N,strokeWidth:s||a,style:A}),p?M():R())};function X(e){return!e||e<0?0:e>100?100:e}function te({success:e,successPercent:t}){let n=t;return e&&"progress"in e&&(n=e.progress),e&&"percent"in e&&(n=e.percent),n}const Bt=({percent:e,success:t,successPercent:n})=>{const r=X(te({success:t,successPercent:n}));return[r,X(X(e)-r)]},Dt=({success:e={},strokeColor:t})=>{const{strokeColor:n}=e;return[n||ce.green,t||null]},re=(e,t,n)=>{var r,o,i,a;let s=-1,d=-1;if(t==="step"){const v=n.steps,f=n.strokeWidth;typeof e=="string"||typeof e>"u"?(s=e==="small"?2:14,d=f??8):typeof e=="number"?[s,d]=[e,e]:[s=14,d=8]=Array.isArray(e)?e:[e.width,e.height],s*=v}else if(t==="line"){const v=n==null?void 0:n.strokeWidth;typeof e=="string"||typeof e>"u"?d=v||(e==="small"?6:8):typeof e=="number"?[s,d]=[e,e]:[s=-1,d=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[s,d]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[s,d]=[e,e]:Array.isArray(e)&&(s=(o=(r=e[0])!==null&&r!==void 0?r:e[1])!==null&&o!==void 0?o:120,d=(a=(i=e[0])!==null&&i!==void 0?i:e[1])!==null&&a!==void 0?a:120));return[s,d]},Tt=3,Lt=e=>Tt/e*100,Wt=e=>{const{prefixCls:t,trailColor:n=null,strokeLinecap:r="round",gapPosition:o,gapDegree:i,width:a=120,type:s,children:d,success:v,size:f=a,steps:y}=e,[x,g]=re(f,"circle");let{strokeWidth:C}=e;C===void 0&&(C=Math.max(Lt(x),6));const w={width:x,height:g,fontSize:x*.15+6},k=c.useMemo(()=>{if(i||i===0)return i;if(s==="dashboard")return 75},[i,s]),h=Bt(e),S=o||s==="dashboard"&&"bottom"||void 0,P=Object.prototype.toString.call(e.strokeColor)==="[object Object]",$=Dt({success:v,strokeColor:e.strokeColor}),j=B(`${t}-inner`,{[`${t}-circle-gradient`]:P}),I=c.createElement(Mt,{steps:y,percent:y?h[1]:h,strokeWidth:C,trailWidth:C,strokeColor:y?$[1]:$,strokeLinecap:r,trailColor:n,prefixCls:t,gapDegree:k,gapPosition:S}),l=x<=20,u=c.createElement("div",{className:j,style:w},I,!l&&d);return l?c.createElement(ze,{title:d},u):u},ne="--progress-line-stroke-color",Ee="--progress-percent",Ce=e=>{const t=e?"100%":"-100%";return new Xe(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},Kt=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:Object.assign(Object.assign({},ke(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${ne})`]},height:"100%",width:`calc(1 / var(${Ee}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${T(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:Ce(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:Ce(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},Ft=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},zt=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Xt=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${n}`]:{fontSize:e.fontSizeSM}}}},Gt=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),Ht=we("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),n=Ie(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[Kt(n),Ft(n),zt(n),Xt(n)]},Gt);var Vt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const qt=e=>{let t=[];return Object.keys(e).forEach(n=>{const r=parseFloat(n.replace(/%/g,""));Number.isNaN(r)||t.push({key:r,value:e[n]})}),t=t.sort((n,r)=>n.key-r.key),t.map(({key:n,value:r})=>`${r} ${n}%`).join(", ")},Ut=(e,t)=>{const{from:n=ce.blue,to:r=ce.blue,direction:o=t==="rtl"?"to left":"to right"}=e,i=Vt(e,["from","to","direction"]);if(Object.keys(i).length!==0){const s=qt(i),d=`linear-gradient(${o}, ${s})`;return{background:d,[ne]:d}}const a=`linear-gradient(${o}, ${n}, ${r})`;return{background:a,[ne]:a}},Yt=e=>{const{prefixCls:t,direction:n,percent:r,size:o,strokeWidth:i,strokeColor:a,strokeLinecap:s="round",children:d,trailColor:v=null,percentPosition:f,success:y}=e,{align:x,type:g}=f,C=a&&typeof a!="string"?Ut(a,n):{[ne]:a,background:a},w=s==="square"||s==="butt"?0:void 0,k=o??[-1,i||(o==="small"?6:8)],[h,S]=re(k,"line",{strokeWidth:i}),P={backgroundColor:v||void 0,borderRadius:w},$=Object.assign(Object.assign({width:`${X(r)}%`,height:S,borderRadius:w},C),{[Ee]:X(r)/100}),j=te(e),I={width:`${X(j)}%`,height:S,borderRadius:w,backgroundColor:y==null?void 0:y.strokeColor},l={width:h<0?"100%":h},u=c.createElement("div",{className:`${t}-inner`,style:P},c.createElement("div",{className:B(`${t}-bg`,`${t}-bg-${g}`),style:$},g==="inner"&&d),j!==void 0&&c.createElement("div",{className:`${t}-success-bg`,style:I})),b=g==="outer"&&x==="start",p=g==="outer"&&x==="end";return g==="outer"&&x==="center"?c.createElement("div",{className:`${t}-layout-bottom`},u,d):c.createElement("div",{className:`${t}-outer`,style:l},b&&d,u,p&&d)},Qt=e=>{const{size:t,steps:n,rounding:r=Math.round,percent:o=0,strokeWidth:i=8,strokeColor:a,trailColor:s=null,prefixCls:d,children:v}=e,f=r(n*(o/100)),x=t??[t==="small"?2:14,i],[g,C]=re(x,"step",{steps:n,strokeWidth:i}),w=g/n,k=Array.from({length:n});for(let h=0;h<n;h++){const S=Array.isArray(a)?a[h]:a;k[h]=c.createElement("div",{key:h,className:B(`${d}-steps-item`,{[`${d}-steps-item-active`]:h<=f-1}),style:{backgroundColor:h<=f-1?S:s,width:w,height:C}})}return c.createElement("div",{className:`${d}-steps-outer`},k,v)};var Zt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Jt=["normal","exception","active","success"],en=c.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:o,steps:i,strokeColor:a,percent:s=0,size:d="default",showInfo:v=!0,type:f="line",status:y,format:x,style:g,percentPosition:C={}}=e,w=Zt(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:k="end",type:h="outer"}=C,S=Array.isArray(a)?a[0]:a,P=typeof a=="string"||Array.isArray(a)?a:void 0,$=c.useMemo(()=>{if(S){const R=typeof S=="string"?S:Object.values(S)[0];return new Ge(R).isLight()}return!1},[a]),j=c.useMemo(()=>{var R,M;const D=te(e);return parseInt(D!==void 0?(R=D??0)===null||R===void 0?void 0:R.toString():(M=s??0)===null||M===void 0?void 0:M.toString(),10)},[s,e.success,e.successPercent]),I=c.useMemo(()=>!Jt.includes(y)&&j>=100?"success":y||"normal",[y,j]),{getPrefixCls:l,direction:u,progress:b}=c.useContext(Se),p=l("progress",n),[_,K,L]=Ht(p),W=f==="line",E=W&&!i,N=c.useMemo(()=>{if(!v)return null;const R=te(e);let M;const D=x||(G=>`${G}%`),V=W&&$&&h==="inner";return h==="inner"||x||I!=="exception"&&I!=="success"?M=D(X(s),X(R)):I==="exception"?M=W?c.createElement(He,null):c.createElement(Ve,null):I==="success"&&(M=W?c.createElement(qe,null):c.createElement(Ue,null)),c.createElement("span",{className:B(`${p}-text`,{[`${p}-text-bright`]:V,[`${p}-text-${k}`]:E,[`${p}-text-${h}`]:E}),title:typeof M=="string"?M:void 0},M)},[v,s,j,I,f,p,x]);let A;f==="line"?A=i?c.createElement(Qt,Object.assign({},e,{strokeColor:P,prefixCls:p,steps:typeof i=="object"?i.count:i}),N):c.createElement(Yt,Object.assign({},e,{strokeColor:S,prefixCls:p,direction:u,percentPosition:{align:k,type:h}}),N):(f==="circle"||f==="dashboard")&&(A=c.createElement(Wt,Object.assign({},e,{strokeColor:S,prefixCls:p,progressStatus:I}),N));const F=B(p,`${p}-status-${I}`,{[`${p}-${f==="dashboard"&&"circle"||f}`]:f!=="line",[`${p}-inline-circle`]:f==="circle"&&re(d,"circle")[0]<=20,[`${p}-line`]:E,[`${p}-line-align-${k}`]:E,[`${p}-line-position-${h}`]:E,[`${p}-steps`]:i,[`${p}-show-info`]:v,[`${p}-${d}`]:typeof d=="string",[`${p}-rtl`]:u==="rtl"},b==null?void 0:b.className,r,o,K,L);return _(c.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},b==null?void 0:b.style),g),className:F,role:"progressbar","aria-valuenow":j,"aria-valuemin":0,"aria-valuemax":100},le(w,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),A))});function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}const tn=(e,t)=>c.createElement(Ye,de({},e,{ref:t,icon:Qe})),fn=c.forwardRef(tn),{Panel:nn}=Ne,pn=({closeFnc:e,open:t,blogs:n})=>{var j,I;const[r,o]=c.useState({title:"",content:"",keywords:[],keywordInput:"",contentType:"text",selectedProject:null}),[i,a]=c.useState(!1),[s,d]=c.useState(null),{handlePopup:v}=Ze(),f=Je(),{analysis:y,error:x,loading:g}=et(l=>l.analysis);c.useEffect(()=>{f(tt())},[f]),c.useEffect(()=>{i&&!g&&(y?a(!1):x?(console.error("Analysis error:",x),J.error(x||"Failed to perform competitive analysis. Please try again."),a(!1)):(console.warn("Unexpected state: analysis and analysisError are both null"),a(!1)))},[y,x,g,i]);const C=l=>{const{name:u,value:b}=l.target;o(p=>({...p,[u]:b}))},w=l=>{o(u=>({...u,title:l.title,content:l.content,keywords:l.focusKeywords||[],selectedProject:l,contentType:"markdown"}))},k=l=>{o(u=>({...u,keywordInput:l.target.value}))},h=()=>{const l=r.keywordInput;if(l.trim()!==""){const u=l.split(",").map(b=>b.trim()).filter(b=>b!==""&&!r.keywords.includes(b));u.length>0&&o(b=>({...b,keywords:[...b.keywords,...u],keywordInput:""}))}},S=l=>{o(u=>({...u,keywords:u.keywords.filter((b,p)=>p!==l)}))},P=l=>{(l.key==="Enter"||l.key===",")&&(l.preventDefault(),h())},$=()=>{if(!r.title.trim())return J.error("Please enter a blog title");if(!r.content.trim())return J.error("Please enter blog content");if(r.keywords.length===0)return J.error("Please add at least one keyword");v({title:"Analysis the competitors",description:m.jsxs("p",{children:["Competitors Analysis cost: ",m.jsxs("b",{children:[ot("analysis.competitors")," credits"]}),m.jsx("br",{}),"Do you wish to proceed?"]}),onConfirm:async()=>{var l;a(!0);try{const b=await f(rt({title:r.title,content:r.content,keywords:r.keywords,contentType:r.contentType,blogId:(l=r==null?void 0:r.selectedProject)==null?void 0:l._id})).unwrap();d(b)}catch(u){console.error("Error fetching analysis:",u)}finally{a(!1)}}})};return c.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),m.jsx(nt,{open:t,title:"Competitive Analysis",onCancel:e,footer:[m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Close"}),!s&&m.jsx("button",{onClick:$,className:`px-4 py-2 text-sm font-medium text-white bg-[#1B6FC9] rounded-md hover:bg-[#1B6FC9]/90 transition 
      ${i||g?"opacity-50 cursor-not-allowed":""}`,disabled:i||g,children:i||g?"Analyzing...":"Analyze"})]})],width:800,bodyStyle:{maxHeight:"80vh",overflowY:"auto",padding:0},centered:!0,closable:!0,transitionName:"",maskTransitionName:"",children:m.jsx("div",{className:"mt-3 p-4",children:i||g?m.jsx("div",{className:"flex flex-col justify-center items-center min-h-[70vh] bg-white",children:m.jsxs("div",{className:"relative flex flex-col items-center",children:[m.jsxs("div",{className:"relative w-16 h-16",children:[m.jsx(mt,{className:"w-16 h-16 text-transparent animate-spin",style:{stroke:"url(#spinnerGradient)"}}),m.jsx("svg",{className:"absolute inset-0 w-0 h-0",children:m.jsx("defs",{children:m.jsxs("linearGradient",{id:"spinnerGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[m.jsx("stop",{offset:"0%",stopColor:"#1B6FC9",stopOpacity:"1"}),m.jsx("stop",{offset:"100%",stopColor:"#4C9FE8",stopOpacity:"1"})]})})})]}),m.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Analyzing your content..."})]})}):m.jsx("div",{className:"space-y-6",children:s?m.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"space-y-4",children:[m.jsxs(ee.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},className:"flex flex-col items-center",children:[m.jsx(en,{type:"dashboard",percent:parseInt(s.insights.blogScore||0),format:l=>`${l} / 100`,strokeColor:{"0%":"#108ee9","100%":"#87d068"},trailColor:"#d1d5db"}),m.jsx("div",{className:"text-gray-700 text-base font-semibold mb-2",children:"Blog SEO Score"})]}),m.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.4},children:m.jsx(lt,{title:"Suggestions to Beat Competitors",className:"bg-gray-50 border border-gray-200 rounded-lg",headStyle:{background:"#f9fafb",fontWeight:600},children:m.jsx("ul",{className:"list-decimal pl-6 space-y-2 text-sm text-gray-700",children:(I=s==null?void 0:s.insights.suggestions)==null?void 0:I.split(/(?:\d+\.\s)/).filter(Boolean).map((l,u)=>m.jsx("li",{children:m.jsx("span",{dangerouslySetInnerHTML:{__html:l.trim().replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")}})},u))})})}),m.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.4},children:m.jsx(Ne,{accordion:!0,className:"bg-white border border-gray-200 rounded-lg",expandIconPosition:"right",children:Object.entries(s.insights.analysis).map(([l,u])=>{const b=u.match(/^(\d+\/\d+)\s+—\s+(.*)$/),p=b?b[1]:null,_=b?b[2]:u;return m.jsx(nn,{header:m.jsxs("div",{className:"flex justify-between items-center w-full pr-2",children:[m.jsx("span",{className:"font-medium text-gray-800",children:l}),p&&m.jsx("span",{className:"text-sm text-center w-[10ch] font-semibold text-blue-700 bg-gray-100 tracking-wide px-2 py-0.5 rounded-md",children:p.replace("/"," / ")})]}),className:"text-sm text-gray-700 leading-relaxed",children:m.jsx("p",{children:_})},l)})})})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Recent Project"}),m.jsxs(st,{className:"w-full rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 max-h-[200px] overflow-y-auto",onChange:l=>{const u=n.find(b=>b._id===l);u&&w(u)},value:((j=r.selectedProject)==null?void 0:j._id)||"",children:[m.jsx(Option,{value:"",children:"Select a project"}),n.map(l=>m.jsx(Option,{value:l._id,children:l.title},l._id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blog Title"}),m.jsx("input",{type:"text",name:"title",value:r.title,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your blog title"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blog Content"}),m.jsx("textarea",{name:"content",value:r.content,onChange:C,className:"w-full h-40 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:`Enter your blog content in ${r.contentType} format`})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Keywords"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:r.keywordInput,onChange:k,onKeyDown:P,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Add keywords (comma-separated)"}),m.jsx("button",{onClick:h,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"})]}),m.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.keywords.map((l,u)=>m.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-600",children:[l,m.jsx("button",{type:"button",onClick:()=>S(u),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600",children:m.jsx(it,{className:"w-3 h-3"})})]},u))})]})]})})})})};export{pn as C,fn as R};
