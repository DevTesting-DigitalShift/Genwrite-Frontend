var br=Object.defineProperty,wr=Object.defineProperties;var yr=Object.getOwnPropertyDescriptors;var kt=Object.getOwnPropertySymbols;var Cr=Object.prototype.hasOwnProperty,xr=Object.prototype.propertyIsEnumerable;var Tt=(e,t,r)=>t in e?br(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,je=(e,t)=>{for(var r in t||(t={}))Cr.call(t,r)&&Tt(e,r,t[r]);if(kt)for(var r of kt(t))xr.call(t,r)&&Tt(e,r,t[r]);return e},rt=(e,t)=>wr(e,yr(t));var Lt=(e,t,r)=>new Promise((a,o)=>{var n=u=>{try{l(r.next(u))}catch(s){o(s)}},c=u=>{try{l(r.throw(u))}catch(s){o(s)}},l=u=>u.done?a(u.value):Promise.resolve(u.value).then(n,c);l((r=r.apply(e,t)).next())});import{r as i,s as ee,a_ as Y,cu as Rt,dW as Sr,a$ as te,av as yt,b0 as pe,cl as Ir,b3 as $r,ba as _e,Z as Ee,b7 as ce,dX as Nr,aY as Se,b1 as Ot,at as ct,bv as Re,d as qt,e as Ct,bf as ze,dY as jr,dZ as Zt,am as Er,bs as Pt,k as we,cI as Rr,o as mt,q as Qt,bC as Jt,au as dt,as as er,bA as tr,b4 as Or,d_ as De,d$ as he,cv as rr,cw as nr,bc as ar,cx as ve,bb as or,b9 as Pr,cD as ir,cy as Dt,e0 as Ft,h as Mr,T as sr,bd as kr,cA as Tr,dy as Lr,v as At,B as Ye,cz as zt,by as Dr,cE as Fr,ce as _t,I as Ar,j as f,C as zr,Q as Ze,u as _r,a as Bt,z as Br,e1 as Ur,M as Xr,ak as ke,x as Hr,X as Yr}from"./index-OAyIAbyC.js";import{T as Gr}from"./TemplateSelection-BAAFy3dk.js";import{I as nt,A as pt,T as Vr,S as Wr}from"./blogData-ChM9Fn-7.js";import{F as be}from"./index-DV3fy8oQ.js";import{g as Kr}from"./collapse-BbEVqHco.js";import{D as qr}from"./DownloadOutlined-DTidZHln.js";import{R as lr,I as ft}from"./index-BI2T-6xf.js";import{P as Zr}from"./progress-CmN9aLOZ.js";import{u as Qr}from"./useForceUpdate-EX0uea4D.js";import{R as Jr,T as en}from"./UploadOutlined-HDA2CxDz.js";import{a as Xe}from"./addEventListener-h1OWFw9x.js";import{R as xt}from"./LeftOutlined-BNrMuic7.js";import{R as St}from"./RightOutlined-B2NJ_j3J.js";import{B as tn}from"./BrandVoiceSelector-LgBg0UyM.js";import{E as rn}from"./index-CjFvbASl.js";import{S as gt}from"./index-ASDjRKdO.js";import{S as Ce}from"./index-DNHgYwiZ.js";import{R as at}from"./index-Cm3VBOrL.js";import{B as nn}from"./index-B6GPbC63.js";import{C as an}from"./crown-BdjDKnM1.js";import{T as on}from"./triangle-alert-BsaHwsR-.js";import{S as ot}from"./index-BT22kxM0.js";import{S as sn}from"./sparkles-DJTp0MAV.js";import{T as ln}from"./index-DsXWvv-T.js";import"./search-FTrYbEy6.js";import"./createLucideIcon-92gSr42f.js";import"./gapSize-U1swVQyS.js";import"./Input-ClKIy5iD.js";import"./SearchOutlined-BOrKUqXv.js";import"./DownOutlined-DjtrtNXg.js";import"./Brand.query-rUKEiDM0.js";import"./useQuery-3R-bdUby.js";import"./useBaseQuery-sVQBrIjS.js";import"./useMutation-Bj1lvRQU.js";import"./useInfiniteQuery-D9EtHXLO.js";import"./useForm-B34Y-4ck.js";import"./move-CSaw_zvU.js";import"./useIcons-CjHiLreA.js";function cr(){var e=document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:t}}function cn(e){var t=e.getBoundingClientRect(),r=document.documentElement;return{left:t.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||r.scrollTop)-(r.clientTop||document.body.clientTop||0)}}var Je=i.createContext(null),dn=function(t){var r=t.visible,a=t.maskTransitionName,o=t.getContainer,n=t.prefixCls,c=t.rootClassName,l=t.icons,u=t.countRender,s=t.showSwitch,m=t.showProgress,d=t.current,v=t.transform,g=t.count,b=t.scale,$=t.minScale,y=t.maxScale,w=t.closeIcon,E=t.onActive,S=t.onClose,I=t.onZoomIn,p=t.onZoomOut,P=t.onRotateRight,C=t.onRotateLeft,N=t.onFlipX,D=t.onFlipY,L=t.onReset,x=t.toolbarRender,B=t.zIndex,h=t.image,M=i.useContext(Je),z=l.rotateLeft,G=l.rotateRight,j=l.zoomIn,O=l.zoomOut,k=l.close,V=l.left,W=l.right,re=l.flipX,R=l.flipY,U="".concat(n,"-operations-operation");i.useEffect(function(){var A=function(ne){ne.keyCode===yt.ESC&&S()};return r&&window.addEventListener("keydown",A),function(){window.removeEventListener("keydown",A)}},[r]);var K=function(Q,ne){Q.preventDefault(),Q.stopPropagation(),E(ne)},q=i.useCallback(function(A){var Q=A.type,ne=A.disabled,ue=A.onClick,se=A.icon;return i.createElement("div",{key:Q,className:ee(U,"".concat(n,"-operations-operation-").concat(Q),Y({},"".concat(n,"-operations-operation-disabled"),!!ne)),onClick:ue},se)},[U,n]),me=s?q({icon:V,onClick:function(Q){return K(Q,-1)},type:"prev",disabled:d===0}):void 0,oe=s?q({icon:W,onClick:function(Q){return K(Q,1)},type:"next",disabled:d===g-1}):void 0,ae=q({icon:R,onClick:D,type:"flipY"}),Z=q({icon:re,onClick:N,type:"flipX"}),ie=q({icon:z,onClick:C,type:"rotateLeft"}),_=q({icon:G,onClick:P,type:"rotateRight"}),de=q({icon:O,onClick:p,type:"zoomOut",disabled:b<=$}),fe=q({icon:j,onClick:I,type:"zoomIn",disabled:b===y}),ge=i.createElement("div",{className:"".concat(n,"-operations")},ae,Z,ie,_,de,fe);return i.createElement(Rt,{visible:r,motionName:a},function(A){var Q=A.className,ne=A.style;return i.createElement(Sr,{open:!0,getContainer:o!=null?o:document.body},i.createElement("div",{className:ee("".concat(n,"-operations-wrapper"),Q,c),style:te(te({},ne),{},{zIndex:B})},w===null?null:i.createElement("button",{className:"".concat(n,"-close"),onClick:S},w||k),s&&i.createElement(i.Fragment,null,i.createElement("div",{className:ee("".concat(n,"-switch-left"),Y({},"".concat(n,"-switch-left-disabled"),d===0)),onClick:function(se){return K(se,-1)}},V),i.createElement("div",{className:ee("".concat(n,"-switch-right"),Y({},"".concat(n,"-switch-right-disabled"),d===g-1)),onClick:function(se){return K(se,1)}},W)),i.createElement("div",{className:"".concat(n,"-footer")},m&&i.createElement("div",{className:"".concat(n,"-progress")},u?u(d+1,g):i.createElement("bdi",null,"".concat(d+1," / ").concat(g))),x?x(ge,te(te({icons:{prevIcon:me,nextIcon:oe,flipYIcon:ae,flipXIcon:Z,rotateLeftIcon:ie,rotateRightIcon:_,zoomOutIcon:de,zoomInIcon:fe},actions:{onActive:E,onFlipY:D,onFlipX:N,onRotateLeft:C,onRotateRight:P,onZoomOut:p,onZoomIn:I,onReset:L,onClose:S},transform:v},M?{current:d,total:g}:{}),{},{image:h})):ge)))})},it={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function un(e,t,r,a){var o=i.useRef(null),n=i.useRef([]),c=i.useState(it),l=pe(c,2),u=l[0],s=l[1],m=function(b){s(it),Ir(it,u)||a==null||a({transform:it,action:b})},d=function(b,$){o.current===null&&(n.current=[],o.current=$r(function(){s(function(y){var w=y;return n.current.forEach(function(E){w=te(te({},w),E)}),o.current=null,a==null||a({transform:w,action:$}),w})})),n.current.push(te(te({},u),b))},v=function(b,$,y,w,E){var S=e.current,I=S.width,p=S.height,P=S.offsetWidth,C=S.offsetHeight,N=S.offsetLeft,D=S.offsetTop,L=b,x=u.scale*b;x>r?(x=r,L=r/u.scale):x<t&&(x=E?x:t,L=x/u.scale);var B=y!=null?y:innerWidth/2,h=w!=null?w:innerHeight/2,M=L-1,z=M*I*.5,G=M*p*.5,j=M*(B-u.x-N),O=M*(h-u.y-D),k=u.x-(j-z),V=u.y-(O-G);if(b<1&&x===1){var W=P*x,re=C*x,R=cr(),U=R.width,K=R.height;W<=U&&re<=K&&(k=0,V=0)}d({x:k,y:V,scale:x},$)};return{transform:u,resetTransform:m,updateTransform:d,dispatchZoomChange:v}}function Ut(e,t,r,a){var o=t+r,n=(r-a)/2;if(r>a){if(t>0)return Y({},e,n);if(t<0&&o<a)return Y({},e,-n)}else if(t<0||o>a)return Y({},e,t<0?n:-n);return{}}function dr(e,t,r,a){var o=cr(),n=o.width,c=o.height,l=null;return e<=n&&t<=c?l={x:0,y:0}:(e>n||t>c)&&(l=te(te({},Ut("x",r,e,n)),Ut("y",a,t,c))),l}var He=1,mn=1;function pn(e,t,r,a,o,n,c){var l=o.rotate,u=o.scale,s=o.x,m=o.y,d=i.useState(!1),v=pe(d,2),g=v[0],b=v[1],$=i.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),y=function(p){!t||p.button!==0||(p.preventDefault(),p.stopPropagation(),$.current={diffX:p.pageX-s,diffY:p.pageY-m,transformX:s,transformY:m},b(!0))},w=function(p){r&&g&&n({x:p.pageX-$.current.diffX,y:p.pageY-$.current.diffY},"move")},E=function(){if(r&&g){b(!1);var p=$.current,P=p.transformX,C=p.transformY,N=s!==P&&m!==C;if(!N)return;var D=e.current.offsetWidth*u,L=e.current.offsetHeight*u,x=e.current.getBoundingClientRect(),B=x.left,h=x.top,M=l%180!==0,z=dr(M?L:D,M?D:L,B,h);z&&n(te({},z),"dragRebound")}},S=function(p){if(!(!r||p.deltaY==0)){var P=Math.abs(p.deltaY/100),C=Math.min(P,mn),N=He+C*a;p.deltaY>0&&(N=He/N),c(N,"wheel",p.clientX,p.clientY)}};return i.useEffect(function(){var I,p,P,C;if(t){P=Xe(window,"mouseup",E,!1),C=Xe(window,"mousemove",w,!1);try{window.top!==window.self&&(I=Xe(window.top,"mouseup",E,!1),p=Xe(window.top,"mousemove",w,!1))}catch(N){}}return function(){var N,D,L,x;(N=P)===null||N===void 0||N.remove(),(D=C)===null||D===void 0||D.remove(),(L=I)===null||L===void 0||L.remove(),(x=p)===null||x===void 0||x.remove()}},[r,g,s,m,l,t]),{isMoving:g,onMouseDown:y,onMouseMove:w,onMouseUp:E,onWheel:S}}function fn(e){return new Promise(function(t){if(!e){t(!1);return}var r=document.createElement("img");r.onerror=function(){return t(!1)},r.onload=function(){return t(!0)},r.src=e})}function ur(e){var t=e.src,r=e.isCustomPlaceholder,a=e.fallback,o=i.useState(r?"loading":"normal"),n=pe(o,2),c=n[0],l=n[1],u=i.useRef(!1),s=c==="error";i.useEffect(function(){var g=!0;return fn(t).then(function(b){!b&&g&&l("error")}),function(){g=!1}},[t]),i.useEffect(function(){r&&!u.current?l("loading"):s&&l("normal")},[t]);var m=function(){l("normal")},d=function(b){u.current=!1,c==="loading"&&b!==null&&b!==void 0&&b.complete&&(b.naturalWidth||b.naturalHeight)&&(u.current=!0,m())},v=s&&a?{src:a}:{onLoad:m,src:t};return[d,v,c]}function ut(e,t){var r=e.x-t.x,a=e.y-t.y;return Math.hypot(r,a)}function gn(e,t,r,a){var o=ut(e,r),n=ut(t,a);if(o===0&&n===0)return[e.x,e.y];var c=o/(o+n),l=e.x+c*(t.x-e.x),u=e.y+c*(t.y-e.y);return[l,u]}function vn(e,t,r,a,o,n,c){var l=o.rotate,u=o.scale,s=o.x,m=o.y,d=i.useState(!1),v=pe(d,2),g=v[0],b=v[1],$=i.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),y=function(p){$.current=te(te({},$.current),p)},w=function(p){if(t){p.stopPropagation(),b(!0);var P=p.touches,C=P===void 0?[]:P;C.length>1?y({point1:{x:C[0].clientX,y:C[0].clientY},point2:{x:C[1].clientX,y:C[1].clientY},eventType:"touchZoom"}):y({point1:{x:C[0].clientX-s,y:C[0].clientY-m},eventType:"move"})}},E=function(p){var P=p.touches,C=P===void 0?[]:P,N=$.current,D=N.point1,L=N.point2,x=N.eventType;if(C.length>1&&x==="touchZoom"){var B={x:C[0].clientX,y:C[0].clientY},h={x:C[1].clientX,y:C[1].clientY},M=gn(D,L,B,h),z=pe(M,2),G=z[0],j=z[1],O=ut(B,h)/ut(D,L);c(O,"touchZoom",G,j,!0),y({point1:B,point2:h,eventType:"touchZoom"})}else x==="move"&&(n({x:C[0].clientX-D.x,y:C[0].clientY-D.y},"move"),y({eventType:"move"}))},S=function(){if(r){if(g&&b(!1),y({eventType:"none"}),a>u)return n({x:0,y:0,scale:a},"touchZoom");var p=e.current.offsetWidth*u,P=e.current.offsetHeight*u,C=e.current.getBoundingClientRect(),N=C.left,D=C.top,L=l%180!==0,x=dr(L?P:p,L?p:P,N,D);x&&n(te({},x),"dragRebound")}};return i.useEffect(function(){var I;return r&&t&&(I=Xe(window,"touchmove",function(p){return p.preventDefault()},{passive:!1})),function(){var p;(p=I)===null||p===void 0||p.remove()}},[r,t]),{isTouching:g,onTouchStart:w,onTouchMove:E,onTouchEnd:S}}var hn=["fallback","src","imgRef"],bn=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],wn=function(t){var r=t.fallback,a=t.src,o=t.imgRef,n=_e(t,hn),c=ur({src:a,fallback:r}),l=pe(c,2),u=l[0],s=l[1];return Ee.createElement("img",ce({ref:function(d){o.current=d,u(d)}},n,s))},mr=function(t){var r=t.prefixCls,a=t.src,o=t.alt,n=t.imageInfo,c=t.fallback,l=t.movable,u=l===void 0?!0:l,s=t.onClose,m=t.visible,d=t.icons,v=d===void 0?{}:d,g=t.rootClassName,b=t.closeIcon,$=t.getContainer,y=t.current,w=y===void 0?0:y,E=t.count,S=E===void 0?1:E,I=t.countRender,p=t.scaleStep,P=p===void 0?.5:p,C=t.minScale,N=C===void 0?1:C,D=t.maxScale,L=D===void 0?50:D,x=t.transitionName,B=x===void 0?"zoom":x,h=t.maskTransitionName,M=h===void 0?"fade":h,z=t.imageRender,G=t.imgCommonProps,j=t.toolbarRender,O=t.onTransform,k=t.onChange,V=_e(t,bn),W=i.useRef(),re=i.useContext(Je),R=re&&S>1,U=re&&S>=1,K=i.useState(!0),q=pe(K,2),me=q[0],oe=q[1],ae=un(W,N,L,O),Z=ae.transform,ie=ae.resetTransform,_=ae.updateTransform,de=ae.dispatchZoomChange,fe=pn(W,u,m,P,Z,_,de),ge=fe.isMoving,A=fe.onMouseDown,Q=fe.onWheel,ne=vn(W,u,m,N,Z,_,de),ue=ne.isTouching,se=ne.onTouchStart,Ie=ne.onTouchMove,Oe=ne.onTouchEnd,ye=Z.rotate,xe=Z.scale,Ge=ee(Y({},"".concat(r,"-moving"),ge));i.useEffect(function(){me||oe(!0)},[me]);var Ve=function(){ie("close")},We=function(){de(He+P,"zoomIn")},$e=function(){de(He/(He+P),"zoomOut")},Ne=function(){_({rotate:ye+90},"rotateRight")},Be=function(){_({rotate:ye-90},"rotateLeft")},Pe=function(){_({flipX:!Z.flipX},"flipX")},Me=function(){_({flipY:!Z.flipY},"flipY")},et=function(){ie("reset")},Ke=function(X){var le=w+X;!Number.isInteger(le)||le<0||le>S-1||(oe(!1),ie(X<0?"prev":"next"),k==null||k(le,w))},tt=function(X){!m||!R||(X.keyCode===yt.LEFT?Ke(-1):X.keyCode===yt.RIGHT&&Ke(1))},F=function(X){m&&(xe!==1?_({x:0,y:0,scale:1},"doubleClick"):de(He+P,"doubleClick",X.clientX,X.clientY))};i.useEffect(function(){var T=Xe(window,"keydown",tt,!1);return function(){T.remove()}},[m,R,w]);var H=Ee.createElement(wn,ce({},G,{width:t.width,height:t.height,imgRef:W,className:"".concat(r,"-img"),alt:o,style:{transform:"translate3d(".concat(Z.x,"px, ").concat(Z.y,"px, 0) scale3d(").concat(Z.flipX?"-":"").concat(xe,", ").concat(Z.flipY?"-":"").concat(xe,", 1) rotate(").concat(ye,"deg)"),transitionDuration:(!me||ue)&&"0s"},fallback:c,src:a,onWheel:Q,onMouseDown:A,onDoubleClick:F,onTouchStart:se,onTouchMove:Ie,onTouchEnd:Oe,onTouchCancel:Oe})),J=te({url:a,alt:o},n);return Ee.createElement(Ee.Fragment,null,Ee.createElement(Nr,ce({transitionName:B,maskTransitionName:M,closable:!1,keyboard:!0,prefixCls:r,onClose:s,visible:m,classNames:{wrapper:Ge},rootClassName:g,getContainer:$},V,{afterClose:Ve}),Ee.createElement("div",{className:"".concat(r,"-img-wrapper")},z?z(H,te({transform:Z,image:J},re?{current:w}:{})):H)),Ee.createElement(dn,{visible:m,transform:Z,maskTransitionName:M,closeIcon:b,getContainer:$,prefixCls:r,rootClassName:g,icons:v,countRender:I,showSwitch:R,showProgress:U,current:w,count:S,scale:xe,minScale:N,maxScale:L,toolbarRender:j,onActive:Ke,onZoomIn:We,onZoomOut:$e,onRotateRight:Ne,onRotateLeft:Be,onFlipX:Pe,onFlipY:Me,onClose:s,onReset:et,zIndex:V.zIndex!==void 0?V.zIndex+1:void 0,image:J}))},It=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function yn(e){var t=i.useState({}),r=pe(t,2),a=r[0],o=r[1],n=i.useCallback(function(l,u){return o(function(s){return te(te({},s),{},Y({},l,u))}),function(){o(function(s){var m=te({},s);return delete m[l],m})}},[]),c=i.useMemo(function(){return e?e.map(function(l){if(typeof l=="string")return{data:{src:l}};var u={};return Object.keys(l).forEach(function(s){["src"].concat(Se(It)).includes(s)&&(u[s]=l[s])}),{data:u}}):Object.keys(a).reduce(function(l,u){var s=a[u],m=s.canPreview,d=s.data;return m&&l.push({data:d,id:u}),l},[])},[e,a]);return[c,n,!!e]}var Cn=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],xn=["src"],Sn=function(t){var r,a=t.previewPrefixCls,o=a===void 0?"rc-image-preview":a,n=t.children,c=t.icons,l=c===void 0?{}:c,u=t.items,s=t.preview,m=t.fallback,d=Ot(s)==="object"?s:{},v=d.visible,g=d.onVisibleChange,b=d.getContainer,$=d.current,y=d.movable,w=d.minScale,E=d.maxScale,S=d.countRender,I=d.closeIcon,p=d.onChange,P=d.onTransform,C=d.toolbarRender,N=d.imageRender,D=_e(d,Cn),L=yn(u),x=pe(L,3),B=x[0],h=x[1],M=x[2],z=ct(0,{value:$}),G=pe(z,2),j=G[0],O=G[1],k=i.useState(!1),V=pe(k,2),W=V[0],re=V[1],R=((r=B[j])===null||r===void 0?void 0:r.data)||{},U=R.src,K=_e(R,xn),q=ct(!!v,{value:v,onChange:function(ue,se){g==null||g(ue,se,j)}}),me=pe(q,2),oe=me[0],ae=me[1],Z=i.useState(null),ie=pe(Z,2),_=ie[0],de=ie[1],fe=i.useCallback(function(ne,ue,se,Ie){var Oe=M?B.findIndex(function(ye){return ye.data.src===ue}):B.findIndex(function(ye){return ye.id===ne});O(Oe<0?0:Oe),ae(!0),de({x:se,y:Ie}),re(!0)},[B,M]);i.useEffect(function(){oe?W||O(0):re(!1)},[oe]);var ge=function(ue,se){O(ue),p==null||p(ue,se)},A=function(){ae(!1),de(null)},Q=i.useMemo(function(){return{register:h,onPreview:fe}},[h,fe]);return i.createElement(Je.Provider,{value:Q},n,i.createElement(mr,ce({"aria-hidden":!oe,movable:y,visible:oe,prefixCls:o,closeIcon:I,onClose:A,mousePosition:_,imgCommonProps:K,src:U,fallback:m,icons:l,minScale:w,maxScale:E,getContainer:b,current:j,count:B.length,countRender:S,onTransform:P,toolbarRender:C,imageRender:N,onChange:ge},D)))},Xt=0;function In(e,t){var r=i.useState(function(){return Xt+=1,String(Xt)}),a=pe(r,1),o=a[0],n=i.useContext(Je),c={data:t,canPreview:e};return i.useEffect(function(){if(n)return n.register(o,c)},[]),i.useEffect(function(){n&&n.register(o,c)},[e,t]),o}var $n=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],Nn=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],Mt=function(t){var r=t.src,a=t.alt,o=t.onPreviewClose,n=t.prefixCls,c=n===void 0?"rc-image":n,l=t.previewPrefixCls,u=l===void 0?"".concat(c,"-preview"):l,s=t.placeholder,m=t.fallback,d=t.width,v=t.height,g=t.style,b=t.preview,$=b===void 0?!0:b,y=t.className,w=t.onClick,E=t.onError,S=t.wrapperClassName,I=t.wrapperStyle,p=t.rootClassName,P=_e(t,$n),C=s&&s!==!0,N=Ot($)==="object"?$:{},D=N.src,L=N.visible,x=L===void 0?void 0:L,B=N.onVisibleChange,h=B===void 0?o:B,M=N.getContainer,z=M===void 0?void 0:M,G=N.mask,j=N.maskClassName,O=N.movable,k=N.icons,V=N.scaleStep,W=N.minScale,re=N.maxScale,R=N.imageRender,U=N.toolbarRender,K=_e(N,Nn),q=D!=null?D:r,me=ct(!!x,{value:x,onChange:h}),oe=pe(me,2),ae=oe[0],Z=oe[1],ie=ur({src:r,isCustomPlaceholder:C,fallback:m}),_=pe(ie,3),de=_[0],fe=_[1],ge=_[2],A=i.useState(null),Q=pe(A,2),ne=Q[0],ue=Q[1],se=i.useContext(Je),Ie=!!$,Oe=function(){Z(!1),ue(null)},ye=ee(c,S,p,Y({},"".concat(c,"-error"),ge==="error")),xe=i.useMemo(function(){var $e={};return It.forEach(function(Ne){t[Ne]!==void 0&&($e[Ne]=t[Ne])}),$e},It.map(function($e){return t[$e]})),Ge=i.useMemo(function(){return te(te({},xe),{},{src:q})},[q,xe]),Ve=In(Ie,Ge),We=function(Ne){var Be=cn(Ne.target),Pe=Be.left,Me=Be.top;se?se.onPreview(Ve,q,Pe,Me):(ue({x:Pe,y:Me}),Z(!0)),w==null||w(Ne)};return i.createElement(i.Fragment,null,i.createElement("div",ce({},P,{className:ye,onClick:Ie?We:w,style:te({width:d,height:v},I)}),i.createElement("img",ce({},xe,{className:ee("".concat(c,"-img"),Y({},"".concat(c,"-img-placeholder"),s===!0),y),style:te({height:v},g),ref:de},fe,{width:d,height:v,onError:E})),ge==="loading"&&i.createElement("div",{"aria-hidden":"true",className:"".concat(c,"-placeholder")},s),G&&Ie&&i.createElement("div",{className:ee("".concat(c,"-mask"),j),style:{display:(g==null?void 0:g.display)==="none"?"none":void 0}},G)),!se&&Ie&&i.createElement(mr,ce({"aria-hidden":!ae,visible:ae,prefixCls:u,onClose:Oe,mousePosition:ne,src:q,alt:a,imageInfo:{width:d,height:v},fallback:m,getContainer:z,icons:k,movable:O,scaleStep:V,minScale:W,maxScale:re,rootClassName:p,imageRender:R,imgCommonProps:xe,toolbarRender:U},K)))};Mt.PreviewGroup=Sn;var jn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},En=function(t,r){return i.createElement(Re,ce({},t,{ref:r,icon:jn}))},Rn=i.forwardRef(En),On={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},Pn=function(t,r){return i.createElement(Re,ce({},t,{ref:r,icon:On}))},Mn=i.forwardRef(Pn),kn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},Tn=function(t,r){return i.createElement(Re,ce({},t,{ref:r,icon:kn}))},Ht=i.forwardRef(Tn),Ln={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},Dn=function(t,r){return i.createElement(Re,ce({},t,{ref:r,icon:Ln}))},Fn=i.forwardRef(Dn),An={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},zn=function(t,r){return i.createElement(Re,ce({},t,{ref:r,icon:An}))},_n=i.forwardRef(zn);const $t=e=>({position:e||"absolute",inset:0}),Bn=e=>{const{iconCls:t,motionDurationSlow:r,paddingXXS:a,marginXXS:o,prefixCls:n,colorTextLightSolid:c}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:c,background:new ze("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${r}`,[`.${n}-mask-info`]:Object.assign(Object.assign({},Pt),{padding:`0 ${we(a)}`,[t]:{marginInlineEnd:o,svg:{verticalAlign:"baseline"}}})}},Un=e=>{const{previewCls:t,modalMaskBg:r,paddingSM:a,marginXL:o,margin:n,paddingLG:c,previewOperationColorDisabled:l,previewOperationHoverColor:u,motionDurationSlow:s,iconCls:m,colorTextLightSolid:d}=e,v=new ze(r).setA(.1),g=v.clone().setA(.2);return{[`${t}-footer`]:{position:"fixed",bottom:o,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)"},[`${t}-progress`]:{marginBottom:n},[`${t}-close`]:{position:"fixed",top:o,right:{_skip_check_:!0,value:o},display:"flex",color:d,backgroundColor:v.toRgbString(),borderRadius:"50%",padding:a,outline:0,border:0,cursor:"pointer",transition:`all ${s}`,"&:hover":{backgroundColor:g.toRgbString()},[`& > ${m}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${we(c)}`,backgroundColor:v.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:a,padding:a,cursor:"pointer",transition:`all ${s}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${m}`]:{color:u},"&-disabled":{color:l,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${m}`]:{fontSize:e.previewOperationSize}}}}},Xn=e=>{const{modalMaskBg:t,iconCls:r,previewOperationColorDisabled:a,previewCls:o,zIndexPopup:n,motionDurationSlow:c}=e,l=new ze(t).setA(.1),u=l.clone().setA(.2);return{[`${o}-switch-left, ${o}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(n).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:l.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${c}`,userSelect:"none","&:hover":{background:u.toRgbString()},"&-disabled":{"&, &:hover":{color:a,background:"transparent",cursor:"not-allowed",[`> ${r}`]:{cursor:"not-allowed"}}},[`> ${r}`]:{fontSize:e.previewOperationSize}},[`${o}-switch-left`]:{insetInlineStart:e.marginSM},[`${o}-switch-right`]:{insetInlineEnd:e.marginSM}}},Hn=e=>{const{motionEaseOut:t,previewCls:r,motionDurationSlow:a,componentCls:o}=e;return[{[`${o}-preview-root`]:{[r]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${r}-body`]:Object.assign(Object.assign({},$t()),{overflow:"hidden"}),[`${r}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${a} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},$t()),{transition:`transform ${a} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${r}-moving`]:{[`${r}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${o}-preview-root`]:{[`${r}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${o}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[Un(e),Xn(e)]}]},Yn=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},Bn(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},$t())}}},Gn=e=>{const{previewCls:t}=e;return{[`${t}-root`]:Er(e,"zoom"),"&":Zt(e,!0)}},Vn=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new ze(e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new ze(e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new ze(e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),pr=qt("Image",e=>{const t=`${e.componentCls}-preview`,r=Ct(e,{previewCls:t,modalMaskBg:new ze("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[Yn(r),Hn(r),jr(Ct(r,{componentCls:t})),Gn(r)]},Vn);var Wn=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const fr={rotateLeft:i.createElement(Rn,null),rotateRight:i.createElement(Mn,null),zoomIn:i.createElement(Fn,null),zoomOut:i.createElement(_n,null),close:i.createElement(Rr,null),left:i.createElement(xt,null),right:i.createElement(St,null),flipX:i.createElement(Ht,null),flipY:i.createElement(Ht,{rotate:90})},Kn=e=>{var{previewPrefixCls:t,preview:r}=e,a=Wn(e,["previewPrefixCls","preview"]);const{getPrefixCls:o,direction:n}=i.useContext(mt),c=o("image",t),l=`${c}-preview`,u=o(),s=Qt(c),[m,d,v]=pr(c,s),[g]=Jt("ImagePreview",typeof r=="object"?r.zIndex:void 0),b=i.useMemo(()=>Object.assign(Object.assign({},fr),{left:n==="rtl"?i.createElement(St,null):i.createElement(xt,null),right:n==="rtl"?i.createElement(xt,null):i.createElement(St,null)}),[n]),$=i.useMemo(()=>{var y;if(r===!1)return r;const w=typeof r=="object"?r:{},E=ee(d,v,s,(y=w.rootClassName)!==null&&y!==void 0?y:"");return Object.assign(Object.assign({},w),{transitionName:dt(u,"zoom",w.transitionName),maskTransitionName:dt(u,"fade",w.maskTransitionName),rootClassName:E,zIndex:g})},[r,u,g,d,v,s]);return m(i.createElement(Mt.PreviewGroup,Object.assign({preview:$,previewPrefixCls:l,icons:b},a)))};var Yt=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const Nt=e=>{const{prefixCls:t,preview:r,className:a,rootClassName:o,style:n,fallback:c}=e,l=Yt(e,["prefixCls","preview","className","rootClassName","style","fallback"]),{getPrefixCls:u,getPopupContainer:s,className:m,style:d,preview:v,fallback:g}=er("image"),[b]=tr("Image"),$=u("image",t),y=u(),w=Qt($),[E,S,I]=pr($,w),p=ee(o,S,I,w),P=ee(a,S,m),[C]=Jt("ImagePreview",typeof r=="object"?r.zIndex:void 0),N=i.useMemo(()=>{if(r===!1)return r;const x=typeof r=="object"?r:{},{getContainer:B,closeIcon:h,rootClassName:M,destroyOnClose:z,destroyOnHidden:G}=x,j=Yt(x,["getContainer","closeIcon","rootClassName","destroyOnClose","destroyOnHidden"]);return Object.assign(Object.assign({mask:i.createElement("div",{className:`${$}-mask-info`},i.createElement(lr,null),b==null?void 0:b.preview),icons:fr},j),{destroyOnClose:G!=null?G:z,rootClassName:ee(p,M),getContainer:B!=null?B:s,transitionName:dt(y,"zoom",x.transitionName),maskTransitionName:dt(y,"fade",x.maskTransitionName),zIndex:C,closeIcon:h!=null?h:v==null?void 0:v.closeIcon})},[r,b,v==null?void 0:v.closeIcon]),D=Object.assign(Object.assign({},d),n),L=c!=null?c:g;return E(i.createElement(Mt,Object.assign({prefixCls:$,preview:N,rootClassName:p,className:P,style:D,fallback:L},l)))};Nt.PreviewGroup=Kn;var gr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},qn=function(t,r){return i.createElement(Re,ce({},t,{ref:r,icon:gr}))},Zn=i.forwardRef(qn);const vt=(function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),a=e.name||"",o=e.type||"",n=o.replace(/\/.*$/,"");return r.some(function(c){var l=c.trim();if(/^\*(\/\*)?$/.test(c))return!0;if(l.charAt(0)==="."){var u=a.toLowerCase(),s=l.toLowerCase(),m=[s];return(s===".jpg"||s===".jpeg")&&(m=[".jpg",".jpeg"]),m.some(function(d){return u.endsWith(d)})}return/\/\*$/.test(l)?n===l.replace(/\/.*$/,""):o===l?!0:/^\w+$/.test(l)?(Or(!1,"Upload takes an invalidate 'accept' type '".concat(l,"'.Skip for check.")),!0):!1})}return!0});function Qn(e,t){var r="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),a=new Error(r);return a.status=t.status,a.method=e.method,a.url=e.action,a}function Gt(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(r){return t}}function Vt(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(n){n.total>0&&(n.percent=n.loaded/n.total*100),e.onProgress(n)});var r=new FormData;e.data&&Object.keys(e.data).forEach(function(o){var n=e.data[o];if(Array.isArray(n)){n.forEach(function(c){r.append("".concat(o,"[]"),c)});return}r.append(o,n)}),e.file instanceof Blob?r.append(e.filename,e.file,e.file.name):r.append(e.filename,e.file),t.onerror=function(n){e.onError(n)},t.onload=function(){return t.status<200||t.status>=300?e.onError(Qn(e,t),Gt(t)):e.onSuccess(Gt(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var a=e.headers||{};return a["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(a).forEach(function(o){a[o]!==null&&t.setRequestHeader(o,a[o])}),t.send(r),{abort:function(){t.abort()}}}var Jn=(function(){var e=De(he().mark(function t(r,a){var o,n,c,l,u,s,m,d;return he().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:s=function(){return s=De(he().mark(function $(y){return he().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",new Promise(function(S){y.file(function(I){a(I)?(y.fullPath&&!I.webkitRelativePath&&(Object.defineProperties(I,{webkitRelativePath:{writable:!0}}),I.webkitRelativePath=y.fullPath.replace(/^\//,""),Object.defineProperties(I,{webkitRelativePath:{writable:!1}})),S(I)):S(null)})}));case 1:case"end":return E.stop()}},$)})),s.apply(this,arguments)},u=function($){return s.apply(this,arguments)},l=function(){return l=De(he().mark(function $(y){var w,E,S,I,p;return he().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:w=y.createReader(),E=[];case 2:return C.next=5,new Promise(function(N){w.readEntries(N,function(){return N([])})});case 5:if(S=C.sent,I=S.length,I){C.next=9;break}return C.abrupt("break",12);case 9:for(p=0;p<I;p++)E.push(S[p]);C.next=2;break;case 12:return C.abrupt("return",E);case 13:case"end":return C.stop()}},$)})),l.apply(this,arguments)},c=function($){return l.apply(this,arguments)},o=[],n=[],r.forEach(function(b){return n.push(b.webkitGetAsEntry())}),m=(function(){var b=De(he().mark(function $(y,w){var E,S;return he().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(y){p.next=2;break}return p.abrupt("return");case 2:if(y.path=w||"",!y.isFile){p.next=10;break}return p.next=6,u(y);case 6:E=p.sent,E&&o.push(E),p.next=15;break;case 10:if(!y.isDirectory){p.next=15;break}return p.next=13,c(y);case 13:S=p.sent,n.push.apply(n,Se(S));case 15:case"end":return p.stop()}},$)}));return function(y,w){return b.apply(this,arguments)}})(),d=0;case 9:if(!(d<n.length)){g.next=15;break}return g.next=12,m(n[d]);case 12:d++,g.next=9;break;case 15:return g.abrupt("return",o);case 16:case"end":return g.stop()}},t)}));return function(r,a){return e.apply(this,arguments)}})(),ea=+new Date,ta=0;function ht(){return"rc-upload-".concat(ea,"-").concat(++ta)}var ra=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","folder","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],na=(function(e){rr(r,e);var t=nr(r);function r(){var a;ar(this,r);for(var o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];return a=t.call.apply(t,[this].concat(n)),Y(ve(a),"state",{uid:ht()}),Y(ve(a),"reqs",{}),Y(ve(a),"fileInput",void 0),Y(ve(a),"_isMounted",void 0),Y(ve(a),"onChange",function(l){var u=a.props,s=u.accept,m=u.directory,d=l.target.files,v=Se(d).filter(function(g){return!m||vt(g,s)});a.uploadFiles(v),a.reset()}),Y(ve(a),"onClick",function(l){var u=a.fileInput;if(u){var s=l.target,m=a.props.onClick;if(s&&s.tagName==="BUTTON"){var d=u.parentNode;d.focus(),s.blur()}u.click(),m&&m(l)}}),Y(ve(a),"onKeyDown",function(l){l.key==="Enter"&&a.onClick(l)}),Y(ve(a),"onDataTransferFiles",(function(){var l=De(he().mark(function u(s,m){var d,v,g,b,$,y,w;return he().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(d=a.props,v=d.multiple,g=d.accept,b=d.directory,$=Se(s.items||[]),y=Se(s.files||[]),(y.length>0||$.some(function(I){return I.kind==="file"}))&&(m==null||m()),!b){S.next=11;break}return S.next=7,Jn(Array.prototype.slice.call($),function(I){return vt(I,a.props.accept)});case 7:y=S.sent,a.uploadFiles(y),S.next=14;break;case 11:w=Se(y).filter(function(I){return vt(I,g)}),v===!1&&(w=y.slice(0,1)),a.uploadFiles(w);case 14:case"end":return S.stop()}},u)}));return function(u,s){return l.apply(this,arguments)}})()),Y(ve(a),"onFilePaste",(function(){var l=De(he().mark(function u(s){var m,d;return he().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(m=a.props.pastable,m){g.next=3;break}return g.abrupt("return");case 3:if(s.type!=="paste"){g.next=6;break}return d=s.clipboardData,g.abrupt("return",a.onDataTransferFiles(d,function(){s.preventDefault()}));case 6:case"end":return g.stop()}},u)}));return function(u){return l.apply(this,arguments)}})()),Y(ve(a),"onFileDragOver",function(l){l.preventDefault()}),Y(ve(a),"onFileDrop",(function(){var l=De(he().mark(function u(s){var m;return he().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(s.preventDefault(),s.type!=="drop"){v.next=4;break}return m=s.dataTransfer,v.abrupt("return",a.onDataTransferFiles(m));case 4:case"end":return v.stop()}},u)}));return function(u){return l.apply(this,arguments)}})()),Y(ve(a),"uploadFiles",function(l){var u=Se(l),s=u.map(function(m){return m.uid=ht(),a.processFile(m,u)});Promise.all(s).then(function(m){var d=a.props.onBatchStart;d==null||d(m.map(function(v){var g=v.origin,b=v.parsedFile;return{file:g,parsedFile:b}})),m.filter(function(v){return v.parsedFile!==null}).forEach(function(v){a.post(v)})})}),Y(ve(a),"processFile",(function(){var l=De(he().mark(function u(s,m){var d,v,g,b,$,y,w,E,S;return he().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(d=a.props.beforeUpload,v=s,!d){p.next=14;break}return p.prev=3,p.next=6,d(s,m);case 6:v=p.sent,p.next=12;break;case 9:p.prev=9,p.t0=p.catch(3),v=!1;case 12:if(v!==!1){p.next=14;break}return p.abrupt("return",{origin:s,parsedFile:null,action:null,data:null});case 14:if(g=a.props.action,typeof g!="function"){p.next=21;break}return p.next=18,g(s);case 18:b=p.sent,p.next=22;break;case 21:b=g;case 22:if($=a.props.data,typeof $!="function"){p.next=29;break}return p.next=26,$(s);case 26:y=p.sent,p.next=30;break;case 29:y=$;case 30:return w=(Ot(v)==="object"||typeof v=="string")&&v?v:s,w instanceof File?E=w:E=new File([w],s.name,{type:s.type}),S=E,S.uid=s.uid,p.abrupt("return",{origin:s,data:y,parsedFile:S,action:b});case 35:case"end":return p.stop()}},u,null,[[3,9]])}));return function(u,s){return l.apply(this,arguments)}})()),Y(ve(a),"saveFileInput",function(l){a.fileInput=l}),a}return or(r,[{key:"componentDidMount",value:function(){this._isMounted=!0;var o=this.props.pastable;o&&document.addEventListener("paste",this.onFilePaste)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort(),document.removeEventListener("paste",this.onFilePaste)}},{key:"componentDidUpdate",value:function(o){var n=this.props.pastable;n&&!o.pastable?document.addEventListener("paste",this.onFilePaste):!n&&o.pastable&&document.removeEventListener("paste",this.onFilePaste)}},{key:"post",value:function(o){var n=this,c=o.data,l=o.origin,u=o.action,s=o.parsedFile;if(this._isMounted){var m=this.props,d=m.onStart,v=m.customRequest,g=m.name,b=m.headers,$=m.withCredentials,y=m.method,w=l.uid,E=v||Vt,S={action:u,filename:g,data:c,file:s,headers:b,withCredentials:$,method:y||"post",onProgress:function(p){var P=n.props.onProgress;P==null||P(p,s)},onSuccess:function(p,P){var C=n.props.onSuccess;C==null||C(p,s,P),delete n.reqs[w]},onError:function(p,P){var C=n.props.onError;C==null||C(p,P,s),delete n.reqs[w]}};d(l),this.reqs[w]=E(S,{defaultRequest:Vt})}}},{key:"reset",value:function(){this.setState({uid:ht()})}},{key:"abort",value:function(o){var n=this.reqs;if(o){var c=o.uid?o.uid:o;n[c]&&n[c].abort&&n[c].abort(),delete n[c]}else Object.keys(n).forEach(function(l){n[l]&&n[l].abort&&n[l].abort(),delete n[l]})}},{key:"render",value:function(){var o=this.props,n=o.component,c=o.prefixCls,l=o.className,u=o.classNames,s=u===void 0?{}:u,m=o.disabled,d=o.id,v=o.name,g=o.style,b=o.styles,$=b===void 0?{}:b,y=o.multiple,w=o.accept,E=o.capture,S=o.children,I=o.directory,p=o.folder,P=o.openFileDialogOnClick,C=o.onMouseEnter,N=o.onMouseLeave,D=o.hasControlInside,L=_e(o,ra),x=ee(Y(Y(Y({},c,!0),"".concat(c,"-disabled"),m),l,l)),B=I||p?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},h=m?{}:{onClick:P?this.onClick:function(){},onKeyDown:P?this.onKeyDown:function(){},onMouseEnter:C,onMouseLeave:N,onDrop:this.onFileDrop,onDragOver:this.onFileDragOver,tabIndex:D?void 0:"0"};return Ee.createElement(n,ce({},h,{className:x,role:D?void 0:"button",style:g}),Ee.createElement("input",ce({},Pr(L,{aria:!0,data:!0}),{id:d,name:v,disabled:m,type:"file",ref:this.saveFileInput,onClick:function(z){return z.stopPropagation()},key:this.state.uid,style:te({display:"none"},$.input),className:s.input,accept:w},B,{multiple:y,onChange:this.onChange},E!=null?{capture:E}:{})),S)}}]),r})(i.Component);function bt(){}var jt=(function(e){rr(r,e);var t=nr(r);function r(){var a;ar(this,r);for(var o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];return a=t.call.apply(t,[this].concat(n)),Y(ve(a),"uploader",void 0),Y(ve(a),"saveUploader",function(l){a.uploader=l}),a}return or(r,[{key:"abort",value:function(o){this.uploader.abort(o)}},{key:"render",value:function(){return Ee.createElement(na,ce({},this.props,{ref:this.saveUploader}))}}]),r})(i.Component);Y(jt,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:bt,onError:bt,onSuccess:bt,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const aa=e=>{const{componentCls:t,iconCls:r}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${we(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${we(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[r]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${we(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${r},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},oa=e=>{const{componentCls:t,iconCls:r,fontSize:a,lineHeight:o,calc:n}=e,c=`${t}-list-item`,l=`${c}-actions`,u=`${c}-action`;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},ir()),{lineHeight:e.lineHeight,[c]:{position:"relative",height:n(e.lineHeight).mul(a).equal(),marginTop:e.marginXS,fontSize:a,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${c}-name`]:Object.assign(Object.assign({},Pt),{padding:`0 ${we(e.paddingXS)}`,lineHeight:o,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[l]:{whiteSpace:"nowrap",[u]:{opacity:0},[r]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${u}:focus-visible,
              &.picture ${u}
            `]:{opacity:1}},[`${t}-icon ${r}`]:{color:e.colorIcon,fontSize:a},[`${c}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:n(a).add(e.paddingXS).equal(),fontSize:a,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${c}:hover ${u}`]:{opacity:1},[`${c}-error`]:{color:e.colorError,[`${c}-name, ${t}-icon ${r}`]:{color:e.colorError},[l]:{[`${r}, ${r}:hover`]:{color:e.colorError},[u]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},ia=e=>{const{componentCls:t}=e,r=new Dt("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),a=new Dt("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),o=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${o}-appear, ${o}-enter, ${o}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${o}-appear, ${o}-enter`]:{animationName:r},[`${o}-leave`]:{animationName:a}}},{[`${t}-wrapper`]:Zt(e)},r,a]},sa=e=>{const{componentCls:t,iconCls:r,uploadThumbnailSize:a,uploadProgressOffset:o,calc:n}=e,c=`${t}-list`,l=`${c}-item`;return{[`${t}-wrapper`]:{[`
        ${c}${c}-picture,
        ${c}${c}-picture-card,
        ${c}${c}-picture-circle
      `]:{[l]:{position:"relative",height:n(a).add(n(e.lineWidth).mul(2)).add(n(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${we(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${l}-thumbnail`]:Object.assign(Object.assign({},Pt),{width:a,height:a,lineHeight:we(n(a).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[r]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${l}-progress`]:{bottom:o,width:`calc(100% - ${we(n(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:n(a).add(e.paddingXS).equal()}},[`${l}-error`]:{borderColor:e.colorError,[`${l}-thumbnail ${r}`]:{[`svg path[fill='${Ft[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${Ft.primary}']`]:{fill:e.colorError}}},[`${l}-uploading`]:{borderStyle:"dashed",[`${l}-name`]:{marginBottom:o}}},[`${c}${c}-picture-circle ${l}`]:{[`&, &::before, ${l}-thumbnail`]:{borderRadius:"50%"}}}}},la=e=>{const{componentCls:t,iconCls:r,fontSizeLG:a,colorTextLightSolid:o,calc:n}=e,c=`${t}-list`,l=`${c}-item`,u=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},ir()),{display:"block",[`${t}${t}-select`]:{width:u,height:u,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${we(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${c}${c}-picture-card, ${c}${c}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${c}-item-container`]:{display:"inline-block",width:u,height:u,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[l]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${we(n(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${we(n(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${l}:hover`]:{[`&::before, ${l}-actions`]:{opacity:1}},[`${l}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${r}-eye,
            ${r}-download,
            ${r}-delete
          `]:{zIndex:10,width:a,margin:`0 ${we(e.marginXXS)}`,fontSize:a,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:o,"&:hover":{color:o},svg:{verticalAlign:"baseline"}}},[`${l}-thumbnail, ${l}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${l}-name`]:{display:"none",textAlign:"center"},[`${l}-file + ${l}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${we(n(e.paddingXS).mul(2).equal())})`},[`${l}-uploading`]:{[`&${l}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${r}-eye, ${r}-download, ${r}-delete`]:{display:"none"}},[`${l}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${we(n(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},ca=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},da=e=>{const{componentCls:t,colorTextDisabled:r}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},Mr(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-hidden`]:{display:"none"},[`${t}-disabled`]:{color:r,cursor:"not-allowed"}})}},ua=e=>({actionsColor:e.colorIcon,pictureCardSize:e.controlHeightLG*2.55}),ma=qt("Upload",e=>{const{fontSizeHeading3:t,fontHeight:r,lineWidth:a,pictureCardSize:o,calc:n}=e,c=Ct(e,{uploadThumbnailSize:n(t).mul(2).equal(),uploadProgressOffset:n(n(r).div(2)).add(a).equal(),uploadPicCardSize:o});return[da(c),aa(c),sa(c),la(c),oa(c),ia(c),ca(c),Kr(c)]},ua);var pa={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:r}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"},fa=function(t,r){return i.createElement(Re,ce({},t,{ref:r,icon:pa}))},ga=i.forwardRef(fa),va={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},ha=function(t,r){return i.createElement(Re,ce({},t,{ref:r,icon:va}))},ba=i.forwardRef(ha),wa={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:r}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:r}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:r}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"},ya=function(t,r){return i.createElement(Re,ce({},t,{ref:r,icon:wa}))},Ca=i.forwardRef(ya);function st(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function lt(e,t){const r=Se(t),a=r.findIndex(({uid:o})=>o===e.uid);return a===-1?r.push(e):r[a]=e,r}function wt(e,t){const r=e.uid!==void 0?"uid":"name";return t.filter(a=>a[r]===e[r])[0]}function xa(e,t){const r=e.uid!==void 0?"uid":"name",a=t.filter(o=>o[r]!==e[r]);return a.length===t.length?null:a}const Sa=(e="")=>{const t=e.split("/"),a=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(a)||[""])[0]},vr=e=>e.indexOf("image/")===0,Ia=e=>{if(e.type&&!e.thumbUrl)return vr(e.type);const t=e.thumbUrl||e.url||"",r=Sa(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(r)?!0:!(/^data:/.test(t)||r)},Te=200;function $a(e){return new Promise(t=>{if(!e.type||!vr(e.type)){t("");return}const r=document.createElement("canvas");r.width=Te,r.height=Te,r.style.cssText=`position: fixed; left: 0; top: 0; width: ${Te}px; height: ${Te}px; z-index: 9999; display: none;`,document.body.appendChild(r);const a=r.getContext("2d"),o=new Image;if(o.onload=()=>{const{width:n,height:c}=o;let l=Te,u=Te,s=0,m=0;n>c?(u=c*(Te/n),m=-(u-l)/2):(l=n*(Te/c),s=-(l-u)/2),a.drawImage(o,s,m,l,u);const d=r.toDataURL();document.body.removeChild(r),window.URL.revokeObjectURL(o.src),t(d)},o.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const n=new FileReader;n.onload=()=>{n.result&&typeof n.result=="string"&&(o.src=n.result)},n.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const n=new FileReader;n.onload=()=>{n.result&&t(n.result)},n.readAsDataURL(e)}else o.src=window.URL.createObjectURL(e)})}var Na=function(t,r){return i.createElement(Re,ce({},t,{ref:r,icon:qr}))},ja=i.forwardRef(Na);const Ea=i.forwardRef(({prefixCls:e,className:t,style:r,locale:a,listType:o,file:n,items:c,progress:l,iconRender:u,actionIconRender:s,itemRender:m,isImgUrl:d,showPreviewIcon:v,showRemoveIcon:g,showDownloadIcon:b,previewIcon:$,removeIcon:y,downloadIcon:w,extra:E,onPreview:S,onDownload:I,onClose:p},P)=>{var C,N;const{status:D}=n,[L,x]=i.useState(D);i.useEffect(()=>{D!=="removed"&&x(D)},[D]);const[B,h]=i.useState(!1);i.useEffect(()=>{const _=setTimeout(()=>{h(!0)},300);return()=>{clearTimeout(_)}},[]);const M=u(n);let z=i.createElement("div",{className:`${e}-icon`},M);if(o==="picture"||o==="picture-card"||o==="picture-circle")if(L==="uploading"||!n.thumbUrl&&!n.url){const _=ee(`${e}-list-item-thumbnail`,{[`${e}-list-item-file`]:L!=="uploading"});z=i.createElement("div",{className:_},M)}else{const _=d!=null&&d(n)?i.createElement("img",{src:n.thumbUrl||n.url,alt:n.name,className:`${e}-list-item-image`,crossOrigin:n.crossOrigin}):M,de=ee(`${e}-list-item-thumbnail`,{[`${e}-list-item-file`]:d&&!d(n)});z=i.createElement("a",{className:de,onClick:fe=>S(n,fe),href:n.url||n.thumbUrl,target:"_blank",rel:"noopener noreferrer"},_)}const G=ee(`${e}-list-item`,`${e}-list-item-${L}`),j=typeof n.linkProps=="string"?JSON.parse(n.linkProps):n.linkProps,O=(typeof g=="function"?g(n):g)?s((typeof y=="function"?y(n):y)||i.createElement(Zn,null),()=>p(n),e,a.removeFile,!0):null,k=(typeof b=="function"?b(n):b)&&L==="done"?s((typeof w=="function"?w(n):w)||i.createElement(ja,null),()=>I(n),e,a.downloadFile):null,V=o!=="picture-card"&&o!=="picture-circle"&&i.createElement("span",{key:"download-delete",className:ee(`${e}-list-item-actions`,{picture:o==="picture"})},k,O),W=typeof E=="function"?E(n):E,re=W&&i.createElement("span",{className:`${e}-list-item-extra`},W),R=ee(`${e}-list-item-name`),U=n.url?i.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:R,title:n.name},j,{href:n.url,onClick:_=>S(n,_)}),n.name,re):i.createElement("span",{key:"view",className:R,onClick:_=>S(n,_),title:n.name},n.name,re),K=(typeof v=="function"?v(n):v)&&(n.url||n.thumbUrl)?i.createElement("a",{href:n.url||n.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:_=>S(n,_),title:a.previewFile},typeof $=="function"?$(n):$||i.createElement(lr,null)):null,q=(o==="picture-card"||o==="picture-circle")&&L!=="uploading"&&i.createElement("span",{className:`${e}-list-item-actions`},K,L==="done"&&k,O),{getPrefixCls:me}=i.useContext(mt),oe=me(),ae=i.createElement("div",{className:G},z,U,V,q,B&&i.createElement(Rt,{motionName:`${oe}-fade`,visible:L==="uploading",motionDeadline:2e3},({className:_})=>{const de="percent"in n?i.createElement(Zr,Object.assign({type:"line",percent:n.percent,"aria-label":n["aria-label"],"aria-labelledby":n["aria-labelledby"]},l)):null;return i.createElement("div",{className:ee(`${e}-list-item-progress`,_)},de)})),Z=n.response&&typeof n.response=="string"?n.response:((C=n.error)===null||C===void 0?void 0:C.statusText)||((N=n.error)===null||N===void 0?void 0:N.message)||a.uploadError,ie=L==="error"?i.createElement(sr,{title:Z,getPopupContainer:_=>_.parentNode},ae):ae;return i.createElement("div",{className:ee(`${e}-list-item-container`,t),style:r,ref:P},m?m(ie,n,c,{download:I.bind(null,n),preview:S.bind(null,n),remove:p.bind(null,n)}):ie)}),Ra=(e,t)=>{const{listType:r="text",previewFile:a=$a,onPreview:o,onDownload:n,onRemove:c,locale:l,iconRender:u,isImageUrl:s=Ia,prefixCls:m,items:d=[],showPreviewIcon:v=!0,showRemoveIcon:g=!0,showDownloadIcon:b=!1,removeIcon:$,previewIcon:y,downloadIcon:w,extra:E,progress:S={size:[-1,2],showInfo:!1},appendAction:I,appendActionVisible:p=!0,itemRender:P,disabled:C}=e,[,N]=Qr(),[D,L]=i.useState(!1),x=["picture-card","picture-circle"].includes(r);i.useEffect(()=>{r.startsWith("picture")&&(d||[]).forEach(R=>{!(R.originFileObj instanceof File||R.originFileObj instanceof Blob)||R.thumbUrl!==void 0||(R.thumbUrl="",a==null||a(R.originFileObj).then(U=>{R.thumbUrl=U||"",N()}))})},[r,d,a]),i.useEffect(()=>{L(!0)},[]);const B=(R,U)=>{if(o)return U==null||U.preventDefault(),o(R)},h=R=>{typeof n=="function"?n(R):R.url&&window.open(R.url)},M=R=>{c==null||c(R)},z=R=>{if(u)return u(R,r);const U=R.status==="uploading";if(r.startsWith("picture")){const K=r==="picture"?i.createElement(zt,null):l.uploading,q=s!=null&&s(R)?i.createElement(Ca,null):i.createElement(ga,null);return U?K:q}return U?i.createElement(zt,null):i.createElement(ba,null)},G=(R,U,K,q,me)=>{const oe={type:"text",size:"small",title:q,onClick:ae=>{var Z,ie;U(),i.isValidElement(R)&&((ie=(Z=R.props).onClick)===null||ie===void 0||ie.call(Z,ae))},className:`${K}-list-item-action`,disabled:me?C:!1};return i.isValidElement(R)?i.createElement(Ye,Object.assign({},oe,{icon:At(R,Object.assign(Object.assign({},R.props),{onClick:()=>{}}))})):i.createElement(Ye,Object.assign({},oe),i.createElement("span",null,R))};i.useImperativeHandle(t,()=>({handlePreview:B,handleDownload:h}));const{getPrefixCls:j}=i.useContext(mt),O=j("upload",m),k=j(),V=ee(`${O}-list`,`${O}-list-${r}`),W=i.useMemo(()=>kr(Tr(k),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[k]),re=Object.assign(Object.assign({},x?{}:W),{motionDeadline:2e3,motionName:`${O}-${x?"animate-inline":"animate"}`,keys:Se(d.map(R=>({key:R.uid,file:R}))),motionAppear:D});return i.createElement("div",{className:V},i.createElement(Lr,Object.assign({},re,{component:!1}),({key:R,file:U,className:K,style:q})=>i.createElement(Ea,{key:R,locale:l,prefixCls:O,className:K,style:q,file:U,items:d,progress:S,listType:r,isImgUrl:s,showPreviewIcon:v,showRemoveIcon:g,showDownloadIcon:b,removeIcon:$,previewIcon:y,downloadIcon:w,extra:E,iconRender:z,actionIconRender:G,itemRender:P,onPreview:B,onDownload:h,onClose:M})),I&&i.createElement(Rt,Object.assign({},re,{visible:p,forceRender:!0}),({className:R,style:U})=>At(I,K=>({className:ee(K.className,R),style:Object.assign(Object.assign(Object.assign({},U),{pointerEvents:R?"none":void 0}),K.style)}))))},Oa=i.forwardRef(Ra);var Pa=function(e,t,r,a){function o(n){return n instanceof r?n:new r(function(c){c(n)})}return new(r||(r=Promise))(function(n,c){function l(m){try{s(a.next(m))}catch(d){c(d)}}function u(m){try{s(a.throw(m))}catch(d){c(d)}}function s(m){m.done?n(m.value):o(m.value).then(l,u)}s((a=a.apply(e,[])).next())})};const qe=`__LIST_IGNORE_${Date.now()}__`,Ma=(e,t)=>{const r=er("upload"),{fileList:a,defaultFileList:o,onRemove:n,showUploadList:c=!0,listType:l="text",onPreview:u,onDownload:s,onChange:m,onDrop:d,previewFile:v,disabled:g,locale:b,iconRender:$,isImageUrl:y,progress:w,prefixCls:E,className:S,type:I="select",children:p,style:P,itemRender:C,maxCount:N,data:D={},multiple:L=!1,hasControlInside:x=!0,action:B="",accept:h="",supportServerRender:M=!0,rootClassName:z}=e,G=i.useContext(Dr),j=g!=null?g:G,O=e.customRequest||r.customRequest,[k,V]=ct(o||[],{value:a,postState:F=>F!=null?F:[]}),[W,re]=i.useState("drop"),R=i.useRef(null),U=i.useRef(null);i.useMemo(()=>{const F=Date.now();(a||[]).forEach((H,J)=>{!H.uid&&!Object.isFrozen(H)&&(H.uid=`__AUTO__${F}_${J}__`)})},[a]);const K=(F,H,J)=>{let T=Se(H),X=!1;N===1?T=T.slice(-1):N&&(X=T.length>N,T=T.slice(0,N)),_t.flushSync(()=>{V(T)});const le={file:F,fileList:T};J&&(le.event=J),(!X||F.status==="removed"||T.some(Fe=>Fe.uid===F.uid))&&_t.flushSync(()=>{m==null||m(le)})},q=(F,H)=>Pa(void 0,void 0,void 0,function*(){const{beforeUpload:J,transformFile:T}=e;let X=F;if(J){const le=yield J(F,H);if(le===!1)return!1;if(delete F[qe],le===qe)return Object.defineProperty(F,qe,{value:!0,configurable:!0}),!1;typeof le=="object"&&le&&(X=le)}return T&&(X=yield T(X)),X}),me=F=>{const H=F.filter(X=>!X.file[qe]);if(!H.length)return;const J=H.map(X=>st(X.file));let T=Se(k);J.forEach(X=>{T=lt(X,T)}),J.forEach((X,le)=>{let Fe=X;if(H[le].parsedFile)X.status="uploading";else{const{originFileObj:Ue}=X;let Ae;try{Ae=new File([Ue],Ue.name,{type:Ue.type})}catch(_a){Ae=new Blob([Ue],{type:Ue.type}),Ae.name=Ue.name,Ae.lastModifiedDate=new Date,Ae.lastModified=new Date().getTime()}Ae.uid=X.uid,Fe=Ae}K(Fe,T)})},oe=(F,H,J)=>{try{typeof F=="string"&&(F=JSON.parse(F))}catch(le){}if(!wt(H,k))return;const T=st(H);T.status="done",T.percent=100,T.response=F,T.xhr=J;const X=lt(T,k);K(T,X)},ae=(F,H)=>{if(!wt(H,k))return;const J=st(H);J.status="uploading",J.percent=F.percent;const T=lt(J,k);K(J,T,F)},Z=(F,H,J)=>{if(!wt(J,k))return;const T=st(J);T.error=F,T.response=H,T.status="error";const X=lt(T,k);K(T,X)},ie=F=>{let H;Promise.resolve(typeof n=="function"?n(F):n).then(J=>{var T;if(J===!1)return;const X=xa(F,k);X&&(H=Object.assign(Object.assign({},F),{status:"removed"}),k==null||k.forEach(le=>{const Fe=H.uid!==void 0?"uid":"name";le[Fe]===H[Fe]&&!Object.isFrozen(le)&&(le.status="removed")}),(T=R.current)===null||T===void 0||T.abort(H),K(H,X))})},_=F=>{re(F.type),F.type==="drop"&&(d==null||d(F))};i.useImperativeHandle(t,()=>({onBatchStart:me,onSuccess:oe,onProgress:ae,onError:Z,fileList:k,upload:R.current,nativeElement:U.current}));const{getPrefixCls:de,direction:fe,upload:ge}=i.useContext(mt),A=de("upload",E),Q=Object.assign(Object.assign({onBatchStart:me,onError:Z,onProgress:ae,onSuccess:oe},e),{customRequest:O,data:D,multiple:L,action:B,accept:h,supportServerRender:M,prefixCls:A,disabled:j,beforeUpload:q,onChange:void 0,hasControlInside:x});delete Q.className,delete Q.style,(!p||j)&&delete Q.id;const ne=`${A}-wrapper`,[ue,se,Ie]=ma(A,ne),[Oe]=tr("Upload",Fr.Upload),{showRemoveIcon:ye,showPreviewIcon:xe,showDownloadIcon:Ge,removeIcon:Ve,previewIcon:We,downloadIcon:$e,extra:Ne}=typeof c=="boolean"?{}:c,Be=typeof ye=="undefined"?!j:ye,Pe=(F,H)=>c?i.createElement(Oa,{prefixCls:A,listType:l,items:k,previewFile:v,onPreview:u,onDownload:s,onRemove:ie,showRemoveIcon:Be,showPreviewIcon:xe,showDownloadIcon:Ge,removeIcon:Ve,previewIcon:We,downloadIcon:$e,iconRender:$,extra:Ne,locale:Object.assign(Object.assign({},Oe),b),isImageUrl:y,progress:w,appendAction:F,appendActionVisible:H,itemRender:C,disabled:j}):F,Me=ee(ne,S,z,se,Ie,ge==null?void 0:ge.className,{[`${A}-rtl`]:fe==="rtl",[`${A}-picture-card-wrapper`]:l==="picture-card",[`${A}-picture-circle-wrapper`]:l==="picture-circle"}),et=Object.assign(Object.assign({},ge==null?void 0:ge.style),P);if(I==="drag"){const F=ee(se,A,`${A}-drag`,{[`${A}-drag-uploading`]:k.some(H=>H.status==="uploading"),[`${A}-drag-hover`]:W==="dragover",[`${A}-disabled`]:j,[`${A}-rtl`]:fe==="rtl"});return ue(i.createElement("span",{className:Me,ref:U},i.createElement("div",{className:F,style:et,onDrop:_,onDragOver:_,onDragLeave:_},i.createElement(jt,Object.assign({},Q,{ref:R,className:`${A}-btn`}),i.createElement("div",{className:`${A}-drag-container`},p))),Pe()))}const Ke=ee(A,`${A}-select`,{[`${A}-disabled`]:j,[`${A}-hidden`]:!p}),tt=i.createElement("div",{className:Ke,style:et},i.createElement(jt,Object.assign({},Q,{ref:R})));return ue(l==="picture-card"||l==="picture-circle"?i.createElement("span",{className:Me,ref:U},Pe(tt,!!p)):i.createElement("span",{className:Me,ref:U},tt,Pe()))},hr=i.forwardRef(Ma);var ka=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const Ta=i.forwardRef((e,t)=>{const{style:r,height:a,hasControlInside:o=!1,children:n}=e,c=ka(e,["style","height","hasControlInside","children"]),l=Object.assign(Object.assign({},r),{height:a});return i.createElement(hr,Object.assign({ref:t,hasControlInside:o},c,{style:l,type:"drag"}),n)}),Qe=hr;Qe.Dragger=Ta;Qe.LIST_IGNORE=qe;function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Et.apply(this,arguments)}const La=(e,t)=>i.createElement(Ar,Et({},e,{ref:t,icon:gr})),Da=i.forwardRef(La),Fa=(e,t)=>t.split(".").reduce((r,a)=>r&&r[a],e),Aa=(e,t,r)=>{const a=t.pop(),o=structuredClone(e);let n=o;for(const c of t)n[c]||(n[c]={}),n=n[c];return n[a]=r,o},Wt=["image/png","image/jpeg","image/webp"],Kt=1,za=({id:e,label:t,initialFiles:r=[],maxCount:a=15,onChange:o})=>{const[n,c]=i.useState(r);i.useEffect(()=>{(r.length!==n.length||r.some((m,d)=>{var v;return m.uid!==((v=n[d])==null?void 0:v.uid)}))&&c(r)},[r]);const l=m=>Wt.includes(m.type)?m.size/1024/1024>Kt?(Ze.error(`${m.name} exceeds 1MB limit.`),Qe.LIST_IGNORE):!1:(Ze.error(`${m.name} is not a valid image type.`),Qe.LIST_IGNORE),u=({fileList:m})=>{const d=m.slice(0,a);c(d),o==null||o(d)},s=m=>{const d=n.filter(v=>v.uid!==m.uid);c(d),o==null||o(d)};return f.jsx(f.Fragment,{children:f.jsxs(be,{vertical:!0,gap:12,children:[f.jsxs(be,{justify:"space-between",align:"center",className:"w-full",children:[f.jsxs("label",{htmlFor:e,style:{fontWeight:500},children:[t," (Max ",a,", each ",Kt,"MB)"]}),f.jsx(Qe,{id:e,accept:Wt.join(","),multiple:!0,fileList:n,onChange:u,beforeUpload:l,showUploadList:!1,maxCount:a,className:"w-1/3 grid grid-flow-col",children:n.length>=a?null:f.jsx(Ye,{icon:f.jsx(Jr,{className:"size-6 text-lg"}),block:!0,className:"!border-2 hover:ring-1 hover:ring-violet-500 !border-blue-500 hover:!bg-violet-50 hover:!text-gray-700 text-[length:15px] font-medium",children:"Upload Images"})})]}),n.length>0&&f.jsx("div",{style:{scrollbarWidth:"thin",scrollBehavior:"smooth"},className:"grid grid-cols-3 gap-2.5 max-h-[250px] mt-2 overflow-y-auto border border-violet-200 rounded-lg p-2",children:f.jsx(Nt.PreviewGroup,{children:n.map(m=>{const d=m.thumbUrl||(m.originFileObj?URL.createObjectURL(m.originFileObj):m.url);return f.jsx(zr,{size:"small",hoverable:!0,style:{padding:6,display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid #abd"},cover:f.jsx(Nt,{src:d,alt:m.name,width:"100%",height:100,style:{objectFit:"cover",borderRadius:6}}),actions:[f.jsx(Da,{onClick:()=>s(m)},"delete")]},m.uid)})})})]})})},{Text:Le}=Hr,jo=({onSubmit:e,closeFnc:t})=>{const r=["Template Selection","Basic Information","Customization","Blog Options"],a={templateIds:[],template:"",topic:"",focusKeywords:[],keywords:[],title:"",tone:"",userDefinedLength:1e3,brief:"",aiModel:pt[0].id,isCheckedGeneratedImages:!1,imageSource:nt[0].id,numberOfImages:0,blogImages:[],referenceLinks:[],isCheckedQuick:!1,isCheckedBrand:!1,brandId:"",options:{performKeywordResearch:!1,includeFaqs:!1,includeInterlinks:!1,includeCompetitorResearch:!1,addOutBoundLinks:!1,addCTA:!1}},o=[{key:"isCheckedQuick",label:"Add a Quick Summary"},{key:"options.includeFaqs",label:"Add FAQs (Frequently Asked Questions)"},{key:"options.includeInterlinks",label:"Include Interlinks"},{key:"options.includeCompetitorResearch",label:"Perform Competitive Research"},{key:"options.addOutBoundLinks",label:"Show Outbound Links"}],n=_r(),c=Bt(Br),[l,u]=i.useState(0),[s,m]=i.useState(a),[d,v]=i.useState({}),[g,b]=i.useState([]),[$,y]=i.useState(!1),w=()=>Lt(null,null,function*(){try{if(y(!0),!s.topic.trim()||s.focusKeywords.length===0||s.keywords.length===0){I({topic:s.topic.trim()?"":"Please enter a topic name",focusKeywords:s.focusKeywords.length===0?"Please enter at least 1 focus keyword":"",keywords:s.keywords.length===0?"Please enter at least 1 keyword":""}),Ze.error("Please enter a topic and at least one focus keyword and keyword before generating titles.");return}const h=je({template:s.template,topic:s.topic,focusKeywords:s.focusKeywords,keywords:s.keywords},(g==null?void 0:g.length)>0&&{oldTitles:g}),M=yield n(Yr(h)).unwrap();b(M)}catch(h){console.error("Error generating titles:",h),Ze.error("Failed to generate titles. Please try again later.")}finally{y(!1)}}),E=Bt(Ur);i.useEffect(()=>{E&&m(h=>rt(je({},h),{focusKeywords:E.focusKeywords||h.focusKeywords,keywords:E.keywords||h.keywords}))},[E]);const S=i.useCallback(h=>{m(M=>je(je({},M),h))},[]),I=i.useCallback(h=>{v(M=>je(je({},M),h))},[]),p=i.useCallback(()=>{const h={};switch(l){case 0:s.templateIds.length!==1&&(h.template="Please select at least 1 template");break;case 1:s.topic.length||(h.topic="Please enter a topic name"),s.options.performKeywordResearch||(s.focusKeywords.length||(h.focusKeywords="Please enter at least 1 focus keyword"),s.keywords.length||(h.keywords="Please enter at least 1 keyword"),s.title.length||(h.title="Please enter a title")),s.tone.trim()||(h.tone="Please select a tone of voice");break;case 2:s.isCheckedGeneratedImages&&s.imageSource==="custom"&&s.blogImages.length==0&&(h.blogImages="Please upload at least 1 image.");break;case 3:s.isCheckedBrand&&!s.brandId.trim()&&(h.brandId="Please select a Brand Voice")}return Object.keys(h).length?(I(h),!1):!0},[s,l,I]),P=i.useCallback(()=>{p()&&u(h=>h+1)},[p]),C=i.useCallback(()=>u(h=>h-1),[]),N=()=>{m(a),v({}),u(0),t==null||t()},D=()=>{if(p()){console.debug("Advanced Modal Form Data : ",s);const h=rt(je({},s),{options:je({},s.options)});(!s.isCheckedGeneratedImages||s.imageSource!=="custom")&&delete h.blogImages,s.isCheckedBrand||delete h.brandId,s.options.performKeywordResearch&&(delete h.title,delete h.keywords,delete h.focusKeywords),e==null||e(h)}},L=i.useCallback(h=>{var M;S({template:((M=h==null?void 0:h[0])==null?void 0:M.name)||"",templateIds:h==null?void 0:h.map(z=>z.id)}),I({template:""})},[]),x=i.useCallback(h=>{const{name:M,value:z}=h.target;if(!M)throw new Error("Advanced blog form component error");const G=M.split(".");G.length>1?m(j=>Aa(j,G,z)):(S({[M]:z}),I({[M]:""}))},[]),B=()=>{var h,M,z,G;switch(l){case 0:return f.jsxs(be,{vertical:!0,gap:8,className:ke("rounded-md !p-2",(d==null?void 0:d.template)&&"border-2 border-red-500"),children:[f.jsx("label",{className:ke("text-base mb-2",(d==null?void 0:d.template)&&"text-red-500"),children:d!=null&&d.template?d.template:f.jsxs(f.Fragment,{children:["Select Template:"," ",f.jsx("span",{className:"font-semibold uppercase text-violet-800 underline",children:s.template})]})}),f.jsx(Gr,{userSubscriptionPlan:((h=c==null?void 0:c.subscription)==null?void 0:h.plan)||"free",preSelectedIds:s.templateIds,onClick:L})]});case 1:return f.jsxs(be,{vertical:!0,gap:4,justify:"space-evenly",className:"p-2",children:[f.jsxs(Ce,{direction:"vertical",className:"form-item-wrapper",children:[f.jsxs("label",{htmlFor:"blog-topic",children:["Topic ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx(ft,{id:"blog-topic",name:"topic",placeholder:"e.g., Tech Blog",value:s.topic,onChange:x,className:ke("!bg-gray-50 antd-placeholder",d.topic&&"ring-1 !ring-[#ef4444]","rounded-lg focus:!outline-none focus:!ring-0 focus:!ring-[#1B6FC9]")}),d.topic&&f.jsx(Le,{className:"error-text",children:d.topic})]}),f.jsxs(be,{justify:"space-between",className:"mt-3 form-item-wrapper",children:[f.jsx("label",{htmlFor:"blog-auto-generate-title-keywords",children:"Auto Generate Title & Keywords"}),f.jsx(gt,{id:"blog-auto-generate-title-keywords",value:s.options.performKeywordResearch,onChange:j=>x({target:{name:"options.performKeywordResearch",value:j}})})]}),f.jsxs(Ce,{direction:"vertical",hidden:s.options.performKeywordResearch,className:"form-item-wrapper",children:[f.jsxs("label",{htmlFor:"blog-focus-keywords",children:["Focus Keywords (max 3) ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx(ot,{id:"blog-focus-keywords",mode:"tags",placeholder:"Add Focus keywords",value:s.focusKeywords,open:!1,onChange:j=>x({target:{name:"focusKeywords",value:j}}),maxCount:3,tokenSeparators:[","],className:ke(" !bg-gray-50 custom-placeholder [&>.ant-select-arrow]:hidden border",d.focusKeywords&&"!border-red-500","rounded-lg focus:border-[#1B6FC9] hover:!border-[#1B6FC9]"),style:{width:"100%"}}),d.focusKeywords&&f.jsx(Le,{className:"error-text",children:d.focusKeywords})]}),f.jsxs(Ce,{direction:"vertical",hidden:s.options.performKeywordResearch,className:"form-item-wrapper",children:[f.jsxs("label",{htmlFor:"blog-keywords",children:["Keywords ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx(ot,{id:"blog-keywords",mode:"tags",placeholder:"Add Keywords",value:s.keywords,open:!1,onChange:j=>x({target:{name:"keywords",value:j}}),tokenSeparators:[","],className:ke(" !bg-gray-50 custom-placeholder [&>.ant-select-arrow]:hidden border",d.keywords&&"!border-red-500","rounded-lg focus:border-[#1B6FC9] hover:!border-[#1B6FC9]"),style:{width:"100%"}}),d.keywords&&f.jsx(Le,{className:"error-text",children:d.keywords})]}),f.jsxs(be,{vertical:!0,gap:8,hidden:s.options.performKeywordResearch,className:"form-item-wrapper !mb-4",children:[f.jsxs("label",{htmlFor:"blog-title",children:["Blog Title ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsxs(Ce.Compact,{block:!0,children:[f.jsx(ft,{id:"blog-title",name:"title",placeholder:"e.g., How to create a blog",value:s.title,onChange:x,className:ke(" !bg-gray-50 antd-placeholder",d.title&&"ring-1 !ring-[#ef4444]","focus:!outline-none focus:!ring-0 focus:!ring-[#1B6FC9]")}),f.jsxs(Ye,{type:"primary",title:"AI Generated Titles",icon:f.jsx(sn,{className:"size-5"}),block:!0,loading:$,onClick:w,className:"!w-1/4 h-full text-[length:1rem] py-1 px-3 tracking-wide",children:["Generate ",g!=null&&g.length?"More":"Titles"]})]}),d.title&&f.jsx(Le,{className:"error-text",children:d.title}),g.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:g.map((j,O)=>f.jsx(ln,{color:"geekblue",className:ke("cursor-pointer text-[length:1rem] bg-black",s.title===j&&"!bg-blue-500 !text-white","hover:!bg-blue-400 hover:!text-black p-1"),onClick:()=>{x({target:{name:"title",value:j}})},children:j},O))})]}),f.jsx(Ce,{direction:"vertical",className:"form-item-wrapper",children:f.jsxs(be,{justify:"space-around",gap:20,children:[f.jsxs(be,{vertical:!0,className:"w-full",gap:8,children:[f.jsxs("label",{htmlFor:"blog-tone",children:["Tone of Voice ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx(ot,{id:"blog-tone",placeholder:"Select a tone",value:s.tone||void 0,onChange:j=>x({target:{name:"tone",value:j}}),options:Vr.map(j=>({label:j,value:j})),className:"custom-placeholder"}),d.tone&&f.jsx(Le,{className:"error-text",children:d.tone})]}),f.jsxs(be,{vertical:!0,className:"w-full",gap:8,children:[f.jsxs("label",{children:["Blog Words Length :"," ",f.jsxs(Le,{strong:!0,underline:!0,className:"text-[length:16px] px-2",children:[s.userDefinedLength," words"]})]}),f.jsx(Wr,{id:"blog-word-length",value:s.userDefinedLength,onChange:j=>x({target:{name:"userDefinedLength",value:j}}),min:500,max:5e3,tooltip:{formatter:j=>`${j} words`,placement:"bottom"},classNames:{rail:"!bg-gray-400",track:"!bg-gradient-to-tr !from-blue-600 !via-violet-500 !to-purple-500",handle:"hover:!ring-1 hover:!ring-purple-400"}})]})]})}),f.jsxs(Ce,{direction:"vertical",className:"form-item-wrapper",children:[f.jsx("label",{htmlFor:"blog-brief",children:"Add Brief Section"}),f.jsx(ft.TextArea,{id:"blog-brief",name:"brief",autoSize:{minRows:1,maxRows:3},value:s.brief,onChange:x,placeholder:"Enter the brief info or instructions",className:"antd-placeholder"})]})]});case 2:{const j=O=>{try{const k=new URL(O);return k.protocol==="http:"||k.protocol==="https:"}catch(k){return!1}};return f.jsxs(be,{vertical:!0,gap:20,className:"p-2",children:[f.jsxs(Ce,{direction:"vertical",className:"form-item-wrapper",children:[f.jsx("label",{children:"Select AI Model"}),f.jsx(at.Group,{name:"aiModel",value:s.aiModel,onChange:x,defaultValue:(M=pt[0])==null?void 0:M.id,block:!0,className:"p-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 w-full",children:pt.map(O=>f.jsxs(at.Button,{value:O.id,className:"rounded-lg !px-4 !py-3 !border-[3px] hover:border-blue-400 hover:bg-purple-50 min-h-fit",children:[f.jsx("img",{src:O.logo,alt:O.label,className:"size-6 object-contain"}),f.jsx("span",{className:"text-[length:15px] font-medium text-gray-800",children:O.label})]},O.id))})]}),f.jsx(Ce,{direction:"vertical",className:"form-item-wrapper",children:f.jsxs(be,{justify:"space-between",children:[f.jsx("label",{htmlFor:"add-image-toggle",children:"Add Images"}),f.jsx(gt,{id:"add-image-toggle",value:s.isCheckedGeneratedImages,onChange:O=>{[{name:"isCheckedGeneratedImages",value:O},{name:"blogImages",value:[]}].map(k=>x({target:k}))}})]})}),f.jsxs(Ce,{direction:"vertical",hidden:!s.isCheckedGeneratedImages,className:"form-item-wrapper",children:[f.jsx("label",{children:"Select Image Mode"}),f.jsx(at.Group,{name:"imageSource",value:s.imageSource,onChange:O=>{x(O),O.target.value!="custom"&&x({target:{name:"blogImages",value:[]}})},defaultValue:(z=nt[0])==null?void 0:z.id,block:!0,className:"p-2 !grid grid-cols-1 sm:!grid-cols-2 md:!grid-cols-3 !gap-4 w-full",children:nt.map((O,k)=>{var re,R,U;const V=O.restrict&&((re=c==null?void 0:c.subscription)==null?void 0:re.plan)=="free",W=k==1&&((R=c==null?void 0:c.usage)==null?void 0:R.aiImages)>=((U=c==null?void 0:c.usageLimits)==null?void 0:U.aiImages);return f.jsx(nn.Ribbon,{text:V?f.jsx(an,{className:"p-1"}):W?f.jsx(on,{className:"p-0.5"}):"",className:ke("absolute -top-2 z-10",(k==0||!(V||W))&&"hidden"),color:V?"#8b5cf6":W?"#dc2626":"#3b82f6",children:f.jsx(sr,{title:f.jsx(Le,{strong:!0,className:"text-[length:15px] text-gray-200 font-montserrat tracking-wide",children:V?"Only For Subscribed Users":W?"AI Image Limit Reached":O.label}),className:"w-full",autoAdjustOverflow:!0,color:V?"#8b5cf6":W?"#dc2626":"#3b82f6",placement:k==0?"left":"top",showArrow:!0,children:f.jsx(at.Button,{value:O.id,disabled:V||W,className:"rounded-lg !px-4 !py-3 !border-[3px] text-red-600 hover:border-blue-400 hover:bg-violet-50 min-h-fit min-w-fit",children:f.jsx("span",{className:"text-[length:15px] font-medium text-gray-800",children:O.label})})})},O.id+k)})})]}),f.jsx(Ce,{direction:"vertical",hidden:!s.isCheckedGeneratedImages,className:"form-item-wrapper",children:s.imageSource!=((G=nt.at(-1))==null?void 0:G.id)?f.jsxs(be,{align:"center",justify:"space-between",children:[f.jsx("label",{htmlFor:"blog-img-count",children:"Number of Images (0 = Decided by AI) : "}),f.jsx(en,{id:"blog-img-count",name:"numberOfImages",min:0,max:15,value:s.numberOfImages,defaultValue:0,onChange:O=>x({target:{name:"numberOfImages",value:O||0}}),className:"w-1/3 !text-base"})]}):f.jsxs(f.Fragment,{children:[f.jsx(za,{id:"blog-upload-images",label:"Upload Custom Images",maxCount:15,initialFiles:s.blogImages,onChange:O=>x({target:{name:"blogImages",value:O}})}),d.blogImages&&f.jsx(Le,{className:"error-text",children:d.blogImages})]})}),f.jsxs(Ce,{direction:"vertical",className:"form-item-wrapper",children:[f.jsx("label",{htmlFor:"blog-references",children:"Reference Links (max 3)"}),f.jsx(ot,{id:"blog-references",mode:"tags",placeholder:"Add Reference Links",value:s.referenceLinks,open:!1,onChange:O=>{O.filter(W=>!j(W.trim())).length>0&&Ze.warning("Only valid URLs starting from http:// or https:// are allowed.");const V=O.filter(j);x({target:{name:"referenceLinks",value:V}})},maxCount:3,tokenSeparators:[","," "],className:"!w-full !bg-gray-50 [&>.ant-select-arrow]:hidden custom-placeholder border rounded-lg focus:border-[#1B6FC9] hover:!border-[#1B6FC9]"})]})]})}case 3:return f.jsxs(be,{vertical:!0,gap:"middle",className:"p-2",children:[o.map((j,O)=>f.jsxs(be,{justify:"space-between",className:"form-item-wrapper",children:[f.jsx("label",{htmlFor:`blog-${j.key}`,children:j.label}),f.jsx(gt,{id:`blog-${j.key}`,value:Fa(s,j.key),onChange:k=>x({target:{name:j.key,value:k}})})]},j.key+O)),f.jsx(Ce,{direction:"vertical",className:"form-item-wrapper",children:f.jsx(tn,{label:"Write with Brand Voice",value:{isCheckedBrand:s.isCheckedBrand,brandId:s.brandId,addCTA:s.options.addCTA},onChange:j=>{const O=s.options;S({isCheckedBrand:j.isCheckedBrand,brandId:j.brandId,options:rt(je({},O),{addCTA:j.addCTA})}),I({brandId:""})},errorText:d.brandId})})]});default:return f.jsx(rn,{})}};return f.jsx(Xr,{title:`Generate Advanced Blog | Step ${l+1} : ${r[l]}`,open:!0,onCancel:N,footer:f.jsxs(be,{justify:"end",gap:12,className:"mt-2",children:[l>0&&f.jsx(Ye,{onClick:C,type:"default",className:"h-10 px-6 text-[length:1rem] font-medium !text-gray-700 bg-white border border-gray-300 rounded-md hover:!bg-gray-50",children:"Previous"}),f.jsx(Ye,{onClick:l===3?D:P,type:"default",className:"h-10 px-6 text-[length:1rem] font-medium !text-white bg-[#1B6FC9] rounded-md hover:!bg-[#1B6FC9]/90",children:l===3?"Generate Blog":"Next"})]}),width:700,centered:!0,transitionName:"",maskTransitionName:"",destroyOnHidden:!0,className:"m-2",children:f.jsx("div",{className:"h-full !max-h-[80vh] overflow-auto",style:{scrollbarWidth:"none"},children:B()})})};export{jo as default};
