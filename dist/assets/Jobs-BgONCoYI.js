var Bn=Object.defineProperty,Vn=Object.defineProperties;var _n=Object.getOwnPropertyDescriptors;var hn=Object.getOwnPropertySymbols;var $n=Object.prototype.hasOwnProperty,zn=Object.prototype.propertyIsEnumerable;var pn=(s,a,d)=>a in s?Bn(s,a,{enumerable:!0,configurable:!0,writable:!0,value:d}):s[a]=d,b=(s,a)=>{for(var d in a||(a={}))$n.call(a,d)&&pn(s,d,a[d]);if(hn)for(var d of hn(a))zn.call(a,d)&&pn(s,d,a[d]);return s},w=(s,a)=>Vn(s,_n(a));var Hr=(s,a,d)=>new Promise((r,i)=>{var n=Y=>{try{j(d.next(Y))}catch(g){i(g)}},L=Y=>{try{j(d.throw(Y))}catch(g){i(g)}},j=Y=>Y.done?r(Y.value):Promise.resolve(Y.value).then(n,L);j((d=d.apply(s,a)).next())});import{aX as Un,am as In,ao as Hn,K as qn,u as Xr,r as Pe,a as Ur,b as Pn,af as Gn,j as t,m as rr,T as en,aY as dn,aH as Kn,W as mt,Q as fn,X as tn,P as Qn,aZ as rn,a_ as Xn,a$ as Zn,M as Jn,Y as Yn,b0 as ea,b1 as ta,z as ra,H as na,B as aa,b2 as sa}from"./index-DPgM0DFJ.js";import{a as qr,b as Gr,c as oa,d as ia,e as la}from"./index-CCGfD2Si.js";import{b as da}from"./SkeletonLoader-BjJRj7J0.js";import{U as ca}from"./UpgradeModal-CSYGvfoX.js";import{o as cn}from"./UpgardePopUp-LEaf7ckH.js";import{T as ua}from"./TemplateSelection-D8uqYSJ9.js";import{B as fa}from"./BrandVoiceSelector-Iq66wvze.js";import{S as zr}from"./index-oz5aHWs4.js";import{X as nn}from"./x-DHuyRQG7.js";import{C as gn}from"./crown-BHhNbWoK.js";import{I as yn}from"./info-CJNbaQkg.js";import{P as bn}from"./plus-DCVrrfTP.js";import{U as xn}from"./upload-ipTzamU9.js";import{I as an}from"./blogData-B450DgvG.js";import{a as vn}from"./forms.schemas-BaxzMXfc.js";import{u as wn}from"./Brand.query-DrAfcNkO.js";import{u as ma}from"./useQuery-5RqakaQq.js";import{g as ha}from"./socket-DckHVAlo.js";import{R as pa}from"./refresh-ccw-BqvDbwMP.js";import{P as ga}from"./Pagination-lDGXovPT.js";import"./iconBase-CNY-dFnz.js";import"./lock-BYk6tu8i.js";import"./arrow-left-DcVuEHhb.js";import"./index-C_jgJrgK.js";import"./gapSize-U1swVQyS.js";import"./index-DvukF2xk.js";import"./Input-Dl2dHJj_.js";import"./EyeOutlined-Bmd706kk.js";import"./SearchOutlined-BYem3m2k.js";import"./search-DZ1CVStD.js";import"./index-DQxus3wj.js";import"./index-B7IIwtnf.js";import"./index-B8mMWFnl.js";import"./useForm-DxcJloAc.js";import"./index-_RGhLVS1.js";import"./move-B8gWNRko.js";import"./useInfiniteQuery-CkWZ8vy0.js";import"./LeftOutlined-C6jgUWiv.js";import"./RightOutlined-CaahcnM4.js";import"./useBreakpoint-DBBDLZ-a.js";import"./useForceUpdate-oZHVQp72.js";var sn={},Qr={exports:{}},ya=Qr.exports,kn;function ba(){return kn||(kn=1,(function(s,a){(function(d,r){s.exports=r(Un(),In())})(ya,(function(d,r){function i(h){return h&&typeof h=="object"&&"default"in h?h:{default:h}}var n=i(r);function L(h,F){var p=Object.keys(h);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(h);F&&(E=E.filter((function(X){return Object.getOwnPropertyDescriptor(h,X).enumerable}))),p.push.apply(p,E)}return p}function j(h){for(var F=1;F<arguments.length;F++){var p=arguments[F]!=null?arguments[F]:{};F%2?L(Object(p),!0).forEach((function(E){Y(h,E,p[E])})):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(p)):L(Object(p)).forEach((function(E){Object.defineProperty(h,E,Object.getOwnPropertyDescriptor(p,E))}))}return h}function Y(h,F,p){return F in h?Object.defineProperty(h,F,{value:p,enumerable:!0,configurable:!0,writable:!0}):h[F]=p,h}function g(h,F){return(function(p){if(Array.isArray(p))return p})(h)||(function(p,E){var X=p==null?null:typeof Symbol!="undefined"&&p[Symbol.iterator]||p["@@iterator"];if(X!=null){var Ce,q,ve=[],Le=!0,W=!1;try{for(X=X.call(p);!(Le=(Ce=X.next()).done)&&(ve.push(Ce.value),!E||ve.length!==E);Le=!0);}catch(Oe){W=!0,q=Oe}finally{try{Le||X.return==null||X.return()}finally{if(W)throw q}}return ve}})(h,F)||(function(p,E){if(p){if(typeof p=="string")return ue(p,E);var X=Object.prototype.toString.call(p).slice(8,-1);if(X==="Object"&&p.constructor&&(X=p.constructor.name),X==="Map"||X==="Set")return Array.from(p);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return ue(p,E)}})(h,F)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function ue(h,F){(F==null||F>h.length)&&(F=h.length);for(var p=0,E=new Array(F);p<F;p++)E[p]=h[p];return E}function T(h,F){var p=h.element,E=h.popper,X=h.position,Ce=X===void 0?"bottom-center":X,q=h.containerStyle,ve=h.containerClassName,Le=ve===void 0?"":ve,W=h.arrow,Oe=h.arrowStyle,st=Oe===void 0?{}:Oe,ee=h.arrowClassName,ot=ee===void 0?"":ee,ye=h.fixMainPosition,se=h.fixRelativePosition,Me=h.offsetY,We=h.offsetX,Qe=h.animations,Ge=h.zIndex,yt=Ge===void 0?0:Ge,Dt=h.popperShadow,It=h.onChange,Pt=h.active,Yt=Pt===void 0||Pt,qe=h.portal,xt=h.portalTarget,Ke=typeof window!="undefined",$e=Ke&&xt instanceof HTMLElement,Lt=W===!0,St=E&&Yt===!0,l=r.useRef(),f=r.useRef(),k=r.useRef(),S=r.useRef(),K=r.useMemo((function(){return{position:Ce,fixMainPosition:ye,fixRelativePosition:se,offsetY:Me,offsetX:We,defaultArrow:Lt,animations:Qe,zIndex:yt,onChange:It}}),[Ce,ye,se,Me,We,Lt,Qe,It,yt]),Fe=r.useCallback((function(){k.current&&(k.current.style.transition=""),f.current&&(f.current.parentNode.style.transition="")}),[]),le={element:j({display:"inline-block",height:"max-content"},q),arrow:j({visibility:"hidden",left:"0",top:"0",position:"absolute"},st),popper:{position:"absolute",left:"0",top:"0",willChange:"transform",visibility:"hidden",zIndex:yt}};Ke&&!S.current&&(S.current=document.createElement("div"),S.current.data={portal:qe,isValidPortalTarget:$e}),r.useEffect((function(){if(qe&&!$e){var je=S.current;return document.body.appendChild(je),function(){document.body.contains(je)&&document.body.removeChild(je)}}}),[qe,$e]),r.useEffect((function(){if(!St)return Fe(),f.current.parentNode.style.visibility="hidden",void(k.current&&(k.current.style.visibility="hidden"));function je(wt){wt&&wt.type!=="resize"&&!wt.target.contains(l.current)||(wt&&Fe(),re(l,f,k,K,wt))}return je(),document.addEventListener("scroll",je,!0),window.addEventListener("resize",je),function(){document.removeEventListener("scroll",je,!0),window.removeEventListener("resize",je)}}),[St,K,Fe]),r.useEffect((function(){var je={portal:qe,isValidPortalTarget:$e},wt=S.current.data;JSON.stringify(je)!==JSON.stringify(wt)&&(S.current.data=je,l.current.refreshPosition())}),[qe,$e]);var vt=n.default.createElement(n.default.Fragment,null,(function(){if(!W||!St)return null;var je=n.default.createElement("div",{ref:k,style:le.arrow}),wt=r.isValidElement(W)?{children:W}:{className:"ep-arrow ".concat(Dt?"ep-shadow":""," ").concat(ot)};return r.cloneElement(je,wt)})(),n.default.createElement("div",{className:Dt?"ep-popper-shadow":"",style:le.popper},n.default.createElement("div",{ref:f},E)));return n.default.createElement("div",{ref:function(je){if(je&&(je.removeTransition=Fe,je.refreshPosition=function(){return setTimeout((function(){return re(l,f,k,K,{})}),10)}),l.current=je,F instanceof Function)return F(je);F&&(F.current=je)},className:Le,style:le.element},p,qe&&Ke?d.createPortal(vt,$e?xt:S.current):vt)}function re(h,F,p,E,X){var Ce=E.position,q=E.fixMainPosition,ve=E.fixRelativePosition,Le=E.offsetY,W=Le===void 0?0:Le,Oe=E.offsetX,st=Oe===void 0?0:Oe,ee=E.defaultArrow,ot=E.animations,ye=ot===void 0?[]:ot,se=E.zIndex,Me=E.onChange;if(h.current&&F.current){var We,Qe,Ge,yt,Dt=(Qe=window.pageXOffset!==void 0,Ge=(document.compatMode||"")==="CSS1Compat",{scrollLeft:Qe?window.pageXOffset:Ge?document.documentElement.scrollLeft:document.body.scrollLeft,scrollTop:Qe?window.pageYOffset:Ge?document.documentElement.scrollTop:document.body.scrollTop}),It=Dt.scrollLeft,Pt=Dt.scrollTop,Yt=D(h.current,It,Pt),qe=Yt.top,xt=Yt.left,Ke=Yt.height,$e=Yt.width,Lt=Yt.right,St=Yt.bottom,l=D(F.current,It,Pt),f=l.top,k=l.left,S=l.height,K=l.width,Fe=document.documentElement,le=Fe.clientHeight,vt=Fe.clientWidth,je=F.current.parentNode,wt=(function(te){if(!te)return[0,0];var H=g((te.style.transform.match(/translate\((.*?)px,\s(.*?)px\)/)||[]).map((function(ce){return Number(ce)})),3),V=H[1],Q=V===void 0?0:V,ie=H[2];return[Q,ie===void 0?0:ie]})(je),kr=g(wt,2),jr=kr[0],Ft=kr[1],fr=(function(te){var H=g(te.split("-"),2),V=H[0],Q=V===void 0?"bottom":V,ie=H[1],ce=ie===void 0?"center":ie;Q==="auto"&&(Q="bottom"),ce==="auto"&&(ce="center");var dt=Q==="top"||Q==="bottom",et=Q==="left"||Q==="right";return et&&(ce==="start"&&(ce="top"),ce==="end"&&(ce="bottom")),dt&&(ce==="start"&&(ce="left"),ce==="end"&&(ce="right")),[Q,ce,dt,et]})(Ce),e=g(fr,4),o=e[0],c=e[1],m=e[2],x=e[3],y=o,I=function(te,H){return"translate(".concat(te,"px, ").concat(H,"px)")},P=$e-K,A=Ke-S,R=c==="left"?0:c==="right"?P:P/2,N=P-R,_=c==="top"?0:c==="bottom"?A:A/2,C=A-_,G=xt-k+jr,fe=qe-f+Ft,oe=0,ne=0,me=ke(h.current),De=[],Se=p.current,Ee=D(Se,It,Pt)||{},Ie=Ee.height,ae=Ie===void 0?0:Ie,Re=Ee.width,he=Re===void 0?0:Re,$=G,B=fe,z={top:"bottom",bottom:"top",left:"right",right:"left"};for(m&&(G+=R,fe+=o==="top"?-S:Ke,ee&&(ae=11,he=20)),x&&(G+=o==="left"?-K:$e,fe+=_,ee&&(ae=20,he=11));me;)De.push(me),de(D(me,It,Pt)),me=ke(me.parentNode);de({top:Pt,bottom:Pt+le,left:It,right:It+vt,height:le,width:vt}),m&&(fe+=y==="bottom"?W:-W),x&&(G+=y==="right"?st:-st),G-=oe,fe-=ne,We=z[y],Se&&(m&&((yt=$e<K)?$+=$e/2:$=G+K/2,$-=he/2,y==="bottom"&&(B=fe,fe+=ae),y==="top"&&(B=(fe-=ae)+S),oe<0&&oe-R<0&&(yt?$+=(R-oe)/2:$e-R+oe<K&&($+=($e-R+oe-K)/2)),oe>0&&oe+N>0&&(yt?$-=(oe+N)/2:$e-oe-N<K&&($-=($e-oe-N-K)/2))),x&&((yt=Ke<S)?B+=Ke/2:B=fe+S/2,B-=ae/2,y==="left"&&($=(G-=he)+K),y==="right"&&($=G,G+=he),ne<0&&ne-_<0&&(yt?B+=(_-ne)/2:Ke-_+ne<S&&(B+=(Ke-_+ne-S)/2)),ne>0&&ne+C>0&&(yt?B-=(ne+C)/2:Ke-ne-C<S&&(B-=(Ke-ne-C-S)/2))),Se.setAttribute("direction",We),Se.style.height=ae+"px",Se.style.width=he+"px",Se.style.transform=I($,B),Se.style.visibility="visible",Se.style.zIndex=se+1),je.style.transform=I(G,fe);var U={popper:{top:fe,bottom:fe+S,left:G,right:G+K,height:S,width:K},element:{top:qe,bottom:St,left:xt,right:Lt,height:Ke,width:$e},arrow:{top:B,bottom:B+ae,left:$,right:$+he,height:ae,width:he,direction:We},position:y+"-"+(oe!==0?"auto":c),scroll:{scrollLeft:It,scrollTop:Pt},scrollableParents:De,event:X};X||ye.forEach((function(te){te({popper:je,arrow:Se,data:j(j({},U),{},{getTransform:I,mirror:z})})})),je.style.visibility="visible",typeof Me=="function"&&Me(U)}function de(te){var H=te.top,V=te.bottom,Q=te.left,ie=te.right,ce=te.height,dt=te.width;if(m){var et=Math.round(qe-H+Ke/2),_t=Math.round(ce/2);q||(qe-(S+W+ae)<H&&et<=_t&&y==="top"?(fe+=S+Ke,y="bottom"):St+S+W+ae>ce+H&&et>=_t&&y==="bottom"&&(fe-=S+Ke,y="top")),ve||(xt+R<Q&&(oe=J(Lt-he>Q?xt+R-Q:-$e+R+he,oe)),Lt-N>ie&&(oe=J(xt+he<ie?Lt-N-ie:$e-N-he,oe)))}if(x){var be=Math.round(xt-Q+$e/2),we=Math.round(dt/2);q||(xt-(K+st+he)<Q&&be<we&&y==="left"?(G+=$e+K,y="right"):Lt+K+st+he>ie&&be>we&&y==="right"&&(G-=$e+K,y="left")),ve||(qe+_<H&&(ne=J(St-ae>H?qe+_-H:-Ke+_+ae,ne)),St-C>V&&(ne=J(qe+ae<V?St-C-V:Ke-C-ae,ne)))}}}function D(h,F,p){if(h){var E=h.getBoundingClientRect(),X=E.top,Ce=E.left,q=E.width,ve=E.height,Le=X+p,W=Ce+F;return{top:Le,bottom:Le+ve,left:W,right:W+q,width:q,height:ve}}}function ke(h){if(h&&h.tagName!=="HTML"){var F=window.getComputedStyle(h),p=function(E){return["auto","scroll"].includes(E)};return h.clientHeight<h.scrollHeight&&p(F.overflowX)||h.clientWidth<h.scrollWidth&&p(F.overflowY)?h:ke(h.parentNode)}}function J(h,F){return Math.round(Math.abs(h))>Math.round(Math.abs(F))?h:F}return r.forwardRef(T)}))})(Qr)),Qr.exports}function Ir(s){return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ir(s)}function xa(s){return(function(a){if(Array.isArray(a))return un(a)})(s)||En(s)||Zr(s)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function En(s){if(typeof Symbol!="undefined"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function jn(s,a){var d=typeof Symbol!="undefined"&&s[Symbol.iterator]||s["@@iterator"];if(!d){if(Array.isArray(s)||(d=Zr(s))||a){d&&(s=d);var r=0,i=function(){};return{s:i,n:function(){return r>=s.length?{done:!0}:{done:!1,value:s[r++]}},e:function(Y){throw Y},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,L=!0,j=!1;return{s:function(){d=d.call(s)},n:function(){var Y=d.next();return L=Y.done,Y},e:function(Y){j=!0,n=Y},f:function(){try{L||d.return==null||d.return()}finally{if(j)throw n}}}}function Nn(s,a){var d=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable}))),d.push.apply(d,r)}return d}function Sn(s){for(var a=1;a<arguments.length;a++){var d=arguments[a]!=null?arguments[a]:{};a%2?Nn(Object(d),!0).forEach((function(r){va(s,r,d[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(d)):Nn(Object(d)).forEach((function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(d,r))}))}return s}function va(s,a,d){return(a=Ln(a))in s?Object.defineProperty(s,a,{value:d,enumerable:!0,configurable:!0,writable:!0}):s[a]=d,s}function vr(s,a){return An(s)||(function(d,r){var i=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(i!=null){var n,L,j,Y,g=[],ue=!0,T=!1;try{if(j=(i=i.call(d)).next,r===0){if(Object(i)!==i)return;ue=!1}else for(;!(ue=(n=j.call(i)).done)&&(g.push(n.value),g.length!==r);ue=!0);}catch(re){T=!0,L=re}finally{try{if(!ue&&i.return!=null&&(Y=i.return(),Object(Y)!==Y))return}finally{if(T)throw L}}return g}})(s,a)||Zr(s,a)||Tn()}function Tn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zr(s,a){if(s){if(typeof s=="string")return un(s,a);var d=Object.prototype.toString.call(s).slice(8,-1);return d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set"?Array.from(s):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?un(s,a):void 0}}function un(s,a){(a==null||a>s.length)&&(a=s.length);for(var d=0,r=new Array(a);d<a;d++)r[d]=s[d];return r}function An(s){if(Array.isArray(s))return s}function wa(s,a){for(var d=0;d<a.length;d++){var r=a[d];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(s,Ln(r.key),r)}}function Ln(s){var a=(function(d,r){if(Ir(d)!=="object"||d===null)return d;var i=d[Symbol.toPrimitive];if(i!==void 0){var n=i.call(d,r);if(Ir(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)})(s,"string");return Ir(a)==="symbol"?a:String(a)}function ut(s,a,d){(function(r,i){if(i.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")})(s,a),a.set(s,d)}function u(s,a){return(function(d,r){return r.get?r.get.call(d):r.value})(s,Fn(s,a,"get"))}function O(s,a,d){return(function(r,i,n){if(i.set)i.set.call(r,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}})(s,Fn(s,a,"set"),d),d}function Fn(s,a,d){if(!a.has(s))throw new TypeError("attempted to "+d+" private field on non-instance");return a.get(s)}function ka(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function ja(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Cn={name:"gregorian_en",months:[["January","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May","May"],["June","Jun"],["July","Jul"],["August","Aug"],["September","Sep"],["October","Oct"],["November","Nov"],["December","Dec"]],weekDays:[["Saturday","Sat"],["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"]],digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]},Kr={name:"gregorian",startYear:1,yearLength:365,epoch:1721424,century:20,weekStartDayIndex:1,getMonthLengths:function(s){return[31,s?29:28,31,30,31,30,31,31,30,31,30,31]},isLeap:function(s){return s%4==0&&s%100!=0||s%400==0},getLeaps:function(s){if(s!==0){for(var a=s>0?1:-1,d=[];s>0?a<=s:s<=a;)this.isLeap(a)&&d.push(a),s>0?a++:a--;return d}},getDayOfYear:function(s){for(var a=s.year,d=s.month,r=s.day,i=this.getMonthLengths(this.isLeap(a)),n=0;n<d.index;n++)r+=i[n];return r},getAllDays:function(s){var a=s.year;return this.yearLength*(a-1)+this.leapsLength(a)+this.getDayOfYear(s)},leapsLength:function(s){return((s-1)/4|0)+(-(s-1)/100|0)+((s-1)/400|0)},guessYear:function(s,a){return~~(s/365.24)+(a>0?1:-1)}};function gr(s){return s&&s.constructor===Object}function Ht(s){if(!isNaN(s))return parseInt(s)}function wr(s){return Array.isArray(s)}function Cr(s,a,d){return s===void 0||s<a||s>d}var ft=new WeakMap,Ze=new WeakMap,Ue=new WeakMap,qt=new WeakMap,dr=new WeakMap,cr=new WeakMap,at=new WeakMap,ur=new WeakMap,bt=new WeakMap,Je=new WeakMap,Or=new WeakMap,Gt=new WeakMap,On=new WeakMap,Mr=new WeakMap,Dr=new WeakMap,Mn=new WeakMap,on=new WeakMap,Kt=new WeakMap,ln=new WeakMap,Na=(function(){function s(r){var i=this;(function(Y,g){if(!(Y instanceof g))throw new TypeError("Cannot call a class as a function")})(this,s),ut(this,ft,{writable:!0,value:void 0}),ut(this,Ze,{writable:!0,value:void 0}),ut(this,Ue,{writable:!0,value:void 0}),ut(this,qt,{writable:!0,value:void 0}),ut(this,dr,{writable:!0,value:void 0}),ut(this,cr,{writable:!0,value:void 0}),ut(this,at,{writable:!0,value:void 0}),ut(this,ur,{writable:!0,value:void 0}),ut(this,bt,{writable:!0,value:Cn}),ut(this,Je,{writable:!0,value:Kr}),ut(this,Or,{writable:!0,value:!1}),ut(this,Gt,{writable:!0,value:{}}),ut(this,On,{writable:!0,value:/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d\.\d\d\dZ$/}),ut(this,Mr,{writable:!0,value:[]}),ut(this,Dr,{writable:!0,value:!0}),ut(this,Mn,{writable:!0,value:function(Y,g){switch(Y){case"YYYY":return["year",g];case"YY":return["year","".concat(u(i,Je).century).concat(g)];case"MMMM":case"MMM":return["month",i.months.findIndex((function(T){var re=T.name,D=T.shortName;return new RegExp(g,"i").test(re+D)}))+1];case"MM":case"M":return["month",g];case"DD":case"D":return["day",g];case"HH":case"H":return["hour",g];case"hh":case"h":var ue=Ht(g);return["hour",ue>12?ue-12:ue];case"mm":case"m":return["minute",g];case"ss":case"s":return["second",g];case"SSS":case"SS":case"S":return["millisecond",g];default:return[]}}}),ut(this,on,{writable:!0,value:function(){return u(i,ft)===0&&u(i,Je).startYear!==0}}),ut(this,Kt,{writable:!0,value:function(){if(u(i,Dr)&&i.isValid){var Y=Math.floor,g=function(J,h){return[(E=J,(E<0?-1:1)*Math.abs(Y(J/h))),(F=J,p=h,(F<0&&Y(F%p)!==-0?p:0)+Y(J%h))];var F,p,E},ue=function(){if(u(i,Ze)<0||u(i,Ze)>11){var J=u(i,Ze)<0?-1:1,h=vr(g(u(i,Ze),12),2),F=h[0],p=h[1];O(i,ft,u(i,ft)+F),O(i,Ze,p),u(i,on).call(i)&&O(i,ft,J)}};for(O(i,Dr,!1),[["millisecond","second",1e3],["second","minute",60],["minute","hour",60],["hour","day",24]].forEach((function(J){var h=vr(J,3),F=h[0],p=h[1],E=h[2];if((function(ve,Le){return ve>=Le||ve<0})(i[F],E)){var X=vr(g(i[F],E),2),Ce=X[0],q=X[1];i[p]+=Ce,i[F]=q}})),O(i,Dr,!0),ue();u(i,Ue)<-u(i,Je).yearLength||u(i,Ue)>u(i,Je).yearLength;){if(u(i,Ze)>0){for(var T=u(i,Je).getMonthLengths(i.isLeap),re=0;re<u(i,Ze);re++)O(i,Ue,u(i,Ue)+T[re]);O(i,Ze,0)}var D=i.isLeap?i.calendar.yearLength+1:i.calendar.yearLength;O(i,Ue,u(i,Ue)+D*(u(i,Ue)<0?1:-1)),O(i,ft,u(i,ft)+(u(i,Ue)<0?-1:1))}for(;;){var ke;for(ue();u(i,Ue)<1;)O(i,Ze,u(i,Ze)-1),ue(),O(i,Ue,i.month.length+u(i,Ue));if(u(i,Ue)<=i.month.length||isNaN(u(i,Ue)))break;O(i,Ue,u(i,Ue)-i.month.length),O(i,Ze,(ke=u(i,Ze),ke++,ke))}u(i,qt)||O(i,qt,0),u(i,dr)||O(i,dr,0),u(i,cr)||O(i,cr,0),u(i,at)||O(i,at,0)}}}),ut(this,ln,{writable:!0,value:function(){return(u(i,Gt).weekDays||u(i,bt).weekDays).map((function(Y,g){var ue=vr(Y,2),T=ue[0],re=ue[1],D=g-i.weekStartDayIndex;return D<0&&(D+=7),{name:T,shortName:re,index:D,number:D+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}}))}});var n=gr(r)?Sn({},r):r,L=!0;if(n&&typeof n!="boolean"||(n={date:new Date}),gr(n)||(n={date:n}),Object.keys(n).length!==0){for(var j in gr(n.calendar)&&O(this,Je,n.calendar),gr(n.locale)&&O(this,bt,n.locale),isNaN(n.year)&&isNaN(n.month)&&isNaN(n.day)&&!n.date&&(n.date=new Date),n.date&&(typeof n.date=="string"&&n.format&&O(this,ur,n.format),this.setDate(n.date),n.calendar&&this.convert(n.calendar),L=!1),delete n.calendar,delete n.locale,delete n.date,n)this.set(j,n[j]);u(this,on).call(this)&&O(this,ft,-1),L&&u(this,Kt).call(this)}}var a,d;return a=s,d=[{key:"parse",value:function(r){if(!r)return this;var i,n,L=u(this,ur),j=u(this,bt).digits,Y=jn(j);try{for(Y.s();!(i=Y.n()).done;){var g=i.value;r=r.replace(new RegExp(g,"g"),j.indexOf(g))}}catch(st){Y.e(st)}finally{Y.f()}if(L)for(var ue=L.split(/[^\w\u0600-\u06FF]/),T=r.split(/[^\w\u0600-\u06FF]/),re=0;re<ue.length;re++)this.set.apply(this,xa(u(this,Mn).call(this,ue[re],T[re])));else{var D=r.match(/(-?\d{2,4})?\W?([A-z]{3,9}|\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,3})?\W?(am|pm)?/),ke=(An(n=D)||En(n)||Zr(n)||Tn()).slice(1),J=ke[1];J&&(J=/\d+/.test(J)?Ht(J)-1:this.months.findIndex((function(st){return new RegExp(J,"i").test(st.name)}))),ke[1]=J;var h=vr(ke.map(Ht),7),F=h[0],p=h[1],E=h[2],X=h[3],Ce=h[4],q=h[5],ve=h[6];O(this,ft,F),O(this,Ze,p),O(this,Ue,E),O(this,qt,X),O(this,dr,Ce),O(this,cr,q),O(this,at,ve)}var Le=vr(u(this,bt).meridiems[1],2),W=Le[0],Oe=Le[1];return u(this,qt)<12&&(r.includes(W)||r.includes(Oe))&&O(this,qt,u(this,qt)+12),u(this,Kt).call(this),this}},{key:"convert",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kr,i=arguments.length>1?arguments[1]:void 0;if(gr(i)&&O(this,bt,i),!gr(r)||r.name===u(this,Je).name)return this;var n=this.toJulianDay()-r.epoch,L=new s({calendar:r,year:r.guessYear(n,u(this,ft)),month:1,day:1});return L.day+=n-L.toDays(),O(this,ft,L.year),O(this,Ze,L.month.index),O(this,Ue,L.day),O(this,Je,r),this}},{key:"format",value:function(r,i){if(!this.isValid||r&&typeof r!="string")return"";r||(r=u(this,ur)||"YYYY/MM/DD"),wr(i)||(i=[]),i=(i=i.concat(u(this,Mr))).filter((function(re){return typeof re=="string"||(console.warn("type of all items in the ignore list must be string, found",Ir(re)),!1)})).map((function(re){return re.replace(/[*/+\-()[\]{}\s$^]/g,(function(D){return"\\"+D}))}));var n,L=new RegExp("".concat(i.join("|")).concat(i.length>0?"|":"","YYYY|YY|MMMM|MMM|MM|M|WW|W|DDDD|DDD|DD|D|dddd|ddd|dd|d|HH|H|hh|h|mm|m|ss|s|SSS|SS|S|A|a|."),"g"),j="",Y=jn(r.match(L)||[]);try{for(Y.s();!(n=Y.n()).done;){var g=n.value,ue=this.getValue(g);j+=i.includes(g)?g:ue===0?ue:ue||g}}catch(re){Y.e(re)}finally{Y.f()}var T=this.digits;return j.replace(/[0-9]/g,(function(re){return T[re]}))}},{key:"getProperty",value:function(r){return this.getValue(r)}},{key:"getValue",value:function(r){var i=function(n){return n<10?"0"+n:n};switch(r){case"YYYY":return this.year;case"YY":return this.year.toString().substring(2,4);case"MMMM":return this.month.name;case"MMM":return this.month.shortName;case"MM":return i(this.month.number);case"M":return this.month.number;case"WW":return i(this.weekOfYear);case"W":return this.weekOfYear;case"DDDD":case"DDD":return this.dayOfYear;case"DD":return i(this.day);case"D":return this.day;case"HH":return i(this.hour);case"H":return this.hour;case"dddd":return this.weekDay.name;case"ddd":return this.weekDay.shortName;case"dd":return i(this.weekDay.number);case"d":return this.weekDay.number;case"hh":return i(this.hour>12?this.hour-12:this.hour||12);case"h":return this.hour>12?this.hour-12:this.hour||12;case"mm":return i(this.minute);case"m":return this.minute;case"ss":return i(this.second);case"s":return this.second;case"SSS":return u(this,at)<10?"00".concat(u(this,at)):u(this,at)<100?"0".concat(u(this,at)):u(this,at);case"SS":return u(this,at)<10?"00":u(this,at)<100?("0"+u(this,at)).substring(2,0):u(this,at).toString().substring(0,2);case"S":return u(this,at)<10||u(this,at)<100?"0":u(this,at).toString().substring(0,1);case"a":return this.hour>=12?u(this,bt).meridiems[1][1]:u(this,bt).meridiems[0][1];case"A":return this.hour>=12?u(this,bt).meridiems[1][0]:u(this,bt).meridiems[0][0];default:return""}}},{key:"setYear",value:function(r){return this.year=r,this}},{key:"setMonths",value:function(r){return this.months=r,this}},{key:"setMonth",value:function(r){return this.month=r,this}},{key:"setWeekDays",value:function(r){return this.weekDays=r,this}},{key:"setDigits",value:function(r){return this.digits=r,this}},{key:"setDay",value:function(r){return this.day=r,this}},{key:"setHour",value:function(r){return this.hour=r,this}},{key:"setMinute",value:function(r){return this.minute=r,this}},{key:"setSecond",value:function(r){return this.second=r,this}},{key:"setMillisecond",value:function(r){return this.millisecond=r,this}},{key:"setFormat",value:function(r){return O(this,ur,r),this}},{key:"setLocale",value:function(r){return this.locale=r,this}},{key:"setCalendar",value:function(r){return this.calendar=r,this}},{key:"setDate",value:function(r){if(typeof r=="string"){if(!u(this,On).test(r))return this.parse(r);r=new Date(r)}return typeof r=="number"&&(r=new Date(r)),r instanceof Date&&(O(this,Je,Kr),O(this,ft,r.getFullYear()),O(this,Ze,r.getMonth()),O(this,Ue,r.getDate()),O(this,qt,r.getHours()),O(this,dr,r.getMinutes()),O(this,cr,r.getSeconds()),O(this,at,r.getMilliseconds()),O(this,Or,!1)),r instanceof s&&(O(this,ft,r.year),O(this,Ze,r.month.index),O(this,Ue,r.day),O(this,qt,r.hour),O(this,dr,r.minute),O(this,cr,r.second),O(this,at,r.millisecond),O(this,bt,r.locale),O(this,ur,r._format),O(this,Je,r.calendar),O(this,Or,r.isUTC),O(this,Mr,r.ignoreList),O(this,Gt,r.custom)),this}},{key:"setIgnoreList",value:function(r){return this.ignoreList=r,this}},{key:"set",value:function(r,i){if(r==null)return this;if(gr(r)){var n=Sn({},r);for(var L in n.date&&(this.setDate(n.date),delete n.date),n.calendar&&(this.convert(n.calendar),delete n.calendar),n.locale&&(this.setLocale(n.locale),delete n.locale),O(this,Dr,!1),n)this.set(L,n[L]);return O(this,Dr,!0),u(this,Kt).call(this),this}r==="format"&&(r="_format");try{this[r]=i}catch(j){}return this}},{key:"add",value:function(r,i){if(!(r=Ht(r))||!i)return this;switch(i){case"years":case"y":i="year";break;case"months":case"M":i="month";break;case"days":case"d":i="day";break;case"hours":case"h":i="hour";break;case"minutes":case"m":i="minute";break;case"seconds":case"s":i="second";break;case"milliseconds":case"ms":i="millisecond"}return this[i]+=r,this}},{key:"subtract",value:function(r,i){return this.add(-r,i)}},{key:"toFirstOfYear",value:function(){return this.month=1,this.day=1,this}},{key:"toLastOfYear",value:function(){return this.day>=29&&(this.day=29),this.month=12,this.toLastOfMonth(),this}},{key:"toFirstOfMonth",value:function(){return O(this,Ue,1),this}},{key:"toLastOfMonth",value:function(){return O(this,Ue,0),O(this,Ze,u(this,Ze)+1),u(this,Kt).call(this),this}},{key:"toFirstOfWeek",value:function(){return this.day-=this.weekDay.index,this}},{key:"toLastOfWeek",value:function(){return this.day+=6-this.weekDay.index,this}},{key:"toFirstWeekOfYear",value:function(){return this.toFirstOfYear(),this.weekDay.index===0?this:this.toLastOfWeek().setDay(this.day+1)}},{key:"toLastWeekOfYear",value:function(){return this.toLastOfYear().toFirstOfWeek()}},{key:"toString",value:function(){return this.format()}},{key:"toDate",value:function(){var r=new s(this);return u(this,Je).name!=="gregorian"&&r.convert(Kr),new Date(r.year,r.month.index,r.day,r.hour,r.minute,r.second,r.millisecond)}},{key:"toUTC",value:function(){return u(this,Or)||(this.minute+=this.toDate().getTimezoneOffset(),O(this,Or,!0)),this}},{key:"toUnix",value:function(){return this.unix}},{key:"toJulianDay",value:function(){return this.toDays()+u(this,Je).epoch}},{key:"toObject",value:function(){return{year:u(this,ft),month:this.month,day:u(this,Ue),weekDay:this.weekDay,hour:u(this,qt),minute:u(this,dr),second:u(this,cr),millisecond:u(this,at),weekOfYear:this.weekOfYear,dayOfYear:this.dayOfYear,daysLeft:this.daysLeft,calendar:u(this,Je),locale:u(this,bt),format:u(this,ur)||"YYYY/MM/DD",ignoreList:u(this,Mr)}}},{key:"toJSON",value:function(){return this.valueOf()}},{key:"valueOf",value:function(){return this.toDate().valueOf()}},{key:"toDays",value:function(){if(this.isValid)return u(this,Je).getAllDays(this)}},{key:"dayOfBeginning",get:function(){return this.toDays()}},{key:"dayOfYear",get:function(){if(this.isValid)return u(this,Je).getDayOfYear(this)}},{key:"weekOfYear",get:function(){if(this.isValid)return 1+~~(this.dayOfYear/7)}},{key:"daysLeft",get:function(){if(this.isValid){var r=u(this,Je).yearLength;return(this.isLeap?r+1:r)-this.dayOfYear}}},{key:"year",get:function(){return u(this,ft)},set:function(r){O(this,ft,Ht(r)),u(this,Kt).call(this)}},{key:"month",get:function(){return this.months[u(this,Ze)]||{}},set:function(r){var i;r=(i=Ht(r.valueOf())-1)!==null&&i!==void 0?i:void 0,O(this,Ze,r),Cr(r,0,11)&&u(this,Kt).call(this)}},{key:"monthIndex",get:function(){return u(this,Ze)}},{key:"day",get:function(){return u(this,Ue)},set:function(r){r=Ht(r),O(this,Ue,r),Cr(r,1,28)&&u(this,Kt).call(this)}},{key:"weekDay",get:function(){if(!this.isValid)return{};var r=(this.toJulianDay()+3)%7;return u(this,ln).call(this)[r]}},{key:"hour",get:function(){return u(this,qt)},set:function(r){r=Ht(r),O(this,qt,r),Cr(r,0,23)&&u(this,Kt).call(this)}},{key:"minute",get:function(){return u(this,dr)},set:function(r){r=Ht(r),O(this,dr,r),Cr(r,0,59)&&u(this,Kt).call(this)}},{key:"second",get:function(){return u(this,cr)},set:function(r){r=Ht(r),O(this,cr,r),Cr(r,0,59)&&u(this,Kt).call(this)}},{key:"millisecond",get:function(){return u(this,at)},set:function(r){r=Ht(r),O(this,at,r),Cr(r,0,999)&&u(this,Kt).call(this)}},{key:"months",get:function(){var r=u(this,Je).getMonthLengths(this.isLeap),i=(u(this,Gt).months||u(this,bt).months).map((function(n,L){var j=vr(n,2);return{name:j[0],shortName:j[1],length:r[L],index:L,number:L+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}}));return i},set:function(r){if(!r)return delete u(this,Gt).months;wr(r)&&r.length===12&&r.every((function(i){return wr(i)&&i.length===2&&i.every((function(n){return typeof n=="string"}))}))&&(u(this,Gt).months=r)}},{key:"weekDays",get:function(){return u(this,ln).call(this).sort((function(r,i){return r.index-i.index}))},set:function(r){if(!r)return delete u(this,Gt).weekDays;wr(r)&&r.length===7&&r.every((function(i){return wr(i)&&i.length===2&&i.every((function(n){return typeof n=="string"}))}))&&(u(this,Gt).weekDays=r)}},{key:"leaps",get:function(){return u(this,Je).getLeaps(u(this,ft))}},{key:"calendar",get:function(){return u(this,Je)},set:function(r){this.convert(r)}},{key:"locale",get:function(){return u(this,bt)},set:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cn;gr(r)&&O(this,bt,r)}},{key:"custom",get:function(){return u(this,Gt)}},{key:"meridiems",get:function(){return u(this,bt).meridiems}},{key:"digits",get:function(){return u(this,Gt).digits||u(this,bt).digits},set:function(r){if(!r)return delete u(this,Gt).digits;wr(r)&&r.length===10&&(u(this,Gt).digits=r)}},{key:"_format",get:function(){return u(this,ur)},set:function(r){typeof r=="string"&&O(this,ur,r)}},{key:"isLeap",get:function(){return u(this,Je).isLeap(u(this,ft))}},{key:"isValid",get:function(){return!isNaN(u(this,ft))&&!isNaN(u(this,Ze))&&!isNaN(u(this,Ue))}},{key:"isUTC",get:function(){return u(this,Or)}},{key:"unix",get:function(){return(this.valueOf()-this.millisecond)/1e3}},{key:"ignoreList",get:function(){return u(this,Mr)},set:function(r){wr(r)&&O(this,Mr,r)}},{key:"weekStartDayIndex",get:function(){return u(this,Je).weekStartDayIndex},set:function(r){(r=Ht(r))!==void 0&&(u(this,Je).weekStartDayIndex=Math.abs(r)%7)}},{key:"date",set:function(r){this.setDate(r)}}],d&&wa(a.prototype,d),Object.defineProperty(a,"prototype",{writable:!1}),s})(),Sa=ka(ja(Na));const Ca=Object.freeze(Object.defineProperty({__proto__:null,default:Sa},Symbol.toStringTag,{value:"Module"})),Oa=Hn(Ca);var Dn;function Ma(){return Dn||(Dn=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0});var a=In(),d=ba(),r=Oa;function i(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var n=i(a),L=i(d),j=i(r);function Y(e,o){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);o&&(m=m.filter((function(x){return Object.getOwnPropertyDescriptor(e,x).enumerable}))),c.push.apply(c,m)}return c}function g(e){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?Y(Object(c),!0).forEach((function(m){ue(e,m,c[m])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):Y(Object(c)).forEach((function(m){Object.defineProperty(e,m,Object.getOwnPropertyDescriptor(c,m))}))}return e}function ue(e,o,c){return(o=(function(m){var x=(function(y,I){if(typeof y!="object"||y===null)return y;var P=y[Symbol.toPrimitive];if(P!==void 0){var A=P.call(y,I);if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(y)})(m,"string");return typeof x=="symbol"?x:String(x)})(o))in e?Object.defineProperty(e,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[o]=c,e}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(e[m]=c[m])}return e},T.apply(this,arguments)}function re(e,o){if(e==null)return{};var c,m,x=(function(I,P){if(I==null)return{};var A,R,N={},_=Object.keys(I);for(R=0;R<_.length;R++)A=_[R],P.indexOf(A)>=0||(N[A]=I[A]);return N})(e,o);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(e);for(m=0;m<y.length;m++)c=y[m],o.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(x[c]=e[c])}return x}function D(e,o){return(function(c){if(Array.isArray(c))return c})(e)||(function(c,m){var x=c==null?null:typeof Symbol!="undefined"&&c[Symbol.iterator]||c["@@iterator"];if(x!=null){var y,I,P,A,R=[],N=!0,_=!1;try{if(P=(x=x.call(c)).next,m===0){if(Object(x)!==x)return;N=!1}else for(;!(N=(y=P.call(x)).done)&&(R.push(y.value),R.length!==m);N=!0);}catch(C){_=!0,I=C}finally{try{if(!N&&x.return!=null&&(A=x.return(),Object(A)!==A))return}finally{if(_)throw I}}return R}})(e,o)||J(e,o)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function ke(e){return(function(o){if(Array.isArray(o))return h(o)})(e)||(function(o){if(typeof Symbol!="undefined"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)})(e)||J(e)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function J(e,o){if(e){if(typeof e=="string")return h(e,o);var c=Object.prototype.toString.call(e).slice(8,-1);return c==="Object"&&e.constructor&&(c=e.constructor.name),c==="Map"||c==="Set"?Array.from(e):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?h(e,o):void 0}}function h(e,o){(o==null||o>e.length)&&(o=e.length);for(var c=0,m=new Array(o);c<o;c++)m[c]=e[c];return m}function F(e,o){var c=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!c){if(Array.isArray(e)||(c=J(e))||o){c&&(e=c);var m=0,x=function(){};return{s:x,n:function(){return m>=e.length?{done:!0}:{done:!1,value:e[m++]}},e:function(A){throw A},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,I=!0,P=!1;return{s:function(){c=c.call(e)},n:function(){var A=c.next();return I=A.done,A},e:function(A){P=!0,y=A},f:function(){try{I||c.return==null||c.return()}finally{if(P)throw y}}}}function p(e){return Array.isArray(e)}function E(e){var o=e.state.date,c=o.calendar,m=o.locale,x=e.customWeekDays,y=e.weekStartDayIndex,I=e.displayWeekNumbers,P=e.weekNumber,A=a.useMemo((function(){var R=x;return p(R)&&R.length>=7?(R.length=7,R=R.map((function(N){return p(N)&N.length>1?N=N[1]:p(N)&&(N=N[0]),N}))):R=new j.default({year:1,calendar:c,locale:m}).weekDays.map((function(N){return N.shortName})),R}),[c,m,x]);return A=ke(A).slice(y).concat(ke(A).splice(0,y)),n.default.createElement("div",{className:"rmdp-week"},I&&n.default.createElement("div",{className:"rmdp-week-day"},P),A.map((function(R,N){return n.default.createElement("div",{key:N,className:"rmdp-week-day"},R)})))}function X(e,o){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],m=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!e||!o)return!1;if(e.year===o.year){if(m)return!0;if(e.monthIndex===o.monthIndex)return!!c||e.day===o.day}}function Ce(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY/MM/DD";return e.format(o)}function q(e,o,c){var m=c.multiple,x=c.range,y=c.selectedDate,I=c.onlyMonthPicker,P=c.onlyYearPicker,A=c.format,R=c.focused,N=c.weekPicker;e.setFormat(A);var _=new j.default(e);return y=m&&x?(function(){var C=!0;p(y)||(y=[[y]]);var G=y.find((function(me){return me.length===1})),fe=I?"YYYY/MM":"YYYY/MM/DD",oe=y;if(G){var ne=G[0];oe=oe.filter((function(me){if(me.length===1)return!0;var De=D(me,2),Se=De[0],Ee=De[1],Ie=D([ne,_].sort((function(U,de){return U-de})),2),ae=[Se,Ee,Ie[0],Ie[1]].map((function(U){return Ce(U,fe)})),Re=D(ae,4),he=Re[0],$=Re[1],B=Re[2],z=Re[3];return!(B<=he&&z>=$||B>=he&&z>=$&&B<=$||B<=he&&z<=$&&z>=he)}))}else oe=oe.filter((function(me){if(!p(me))return!0;if(me.length===0)return!1;var De=D(me,2),Se=[De[0],De[1],_].map((function(he){return Ce(he,fe)})),Ee=D(Se,3),Ie=Ee[0],ae=Ee[1],Re=Ee[2];return!(Re>=Ie&&Re<=ae)}));return oe=oe.map((function(me){var De;return p(me)?me.length===1?(C=!1,De=me.concat(_)):De=me:(C=!1,De=[me,_]),De.sort((function(Se,Ee){return Se-Ee}))})),C&&(oe=[].concat(ke(oe),[[_]])),oe})():m?(function(){var C=y.filter((function(G){return!X(e,G,I,P)}));return C.length===y.length?C.push(_):_=C.find((function(G){return X(G,R)})),o&&C.sort((function(G,fe){return G-fe})),C})():x?(function(){if(N)return[new j.default(_).toFirstOfWeek(),new j.default(_).toLastOfWeek()];if(y.length===2||y.length===0)return[_];if(y.length===1)return[y[0],_].sort((function(C,G){return C-G}))})():_,[y,_]}function ve(e,o,c,m){var x=[],y=c?"YYYY/MM":"YYYY/MM/DD",I=Ce(e,y);function P(A){var R=A[0],N=A[1];if(A.length===1)X(e,R,c)&&x.push("rmdp-range");else if(A.length===2){var _=[R,N].map((function(oe){return Ce(oe,y)})),C=D(_,2),G=C[0],fe=C[1];I>=G&&I<=fe&&x.push("rmdp-range"),I===G&&x.push("start"),I===fe&&x.push("end")}}return m?(p(o)?o:[[o]]).forEach(P):P(o),x.join(" ")}function Le(e,o,c,m){var x=arguments.length>5?arguments[5]:void 0,y=[];if(m&&c){var I,P=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:"day")==="day"?"YYYY/MM/DD":"YYYY/MM",A=c.format(P),R=e.format(P);if(x||(o==null?void 0:o.length)!==1){if(x&&p(o)){var N,_=F(o);try{for(_.s();!(N=_.n()).done;){var C=N.value;if(p(C)&&C.length===1){I=C[0].format(P);break}}}catch(G){_.e(G)}finally{_.f()}}}else I=o[0].format(P);(R>I&&R<=A||R<I&&R>=A)&&(y.push("rmdp-range-hover"),R===A&&y.push(A>I?"end":"start"),p(o)&&o.flat().some((function(G){return G.format(P)===R}))&&y.push("force"))}return y}function W(e,o,c){if(e){var m=Oe(e);return c?Array.from(m.querySelectorAll(o)):m.querySelector(o)}}function Oe(e){return e.closest(".rmdp-calendar")}var st=["selected","today","day:not(.rmdp-day-hidden):not(.rmdp-disabled)"];function ee(e,o,c){var m=c.type,x=m===void 0?"day":m,y=c.format;e.preventDefault();var I=e.currentTarget,P=e.key,A=e.code,R=x==="day"?7:3,N=Oe(I),_=N&&N.classList.contains("rmdp-rtl"),C={ArrowRight:_?-1:1,ArrowLeft:_?1:-1,ArrowUp:-R,ArrowDown:R};if(A==="Space"||P===" ")I.click();else if(Object.keys(C).includes(P)){var G=function(){if(x==="month")return ot(N,[st[2]]);var me=W(I,fe<0?".rmdp-left":".rmdp-right");me&&(me.click(),ot(N))},fe=C[P],oe=new j.default(o.date).add(fe,x);(function(me){if(!me)return G();var De=me.getAttribute("class");De.includes("hidden")||De.includes("disabled")?ee(e,g(g({},o),{},{date:oe}),{type:x,format:y}):me.focus()})(W(I,'[aria-label*="'.concat(o.year?"year ".concat(o.year+fe):oe.format(y),'"]')))}else{var ne=W(I,".rmdp-arrow-container");ne&&ne.focus()}}function ot(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st,c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],m="[data-active='true']";e.querySelectorAll("".concat(m," [tabindex='0']")).forEach((function(x){return x.setAttribute("tabindex","-1")})),setTimeout((function(){var x,y=F(o);try{for(y.s();!(x=y.n()).done;){var I=x.value,P=e.querySelector("".concat(m," .rmdp-").concat(I));if(P){P.setAttribute("tabindex","0"),c&&P.focus();break}}}catch(A){y.e(A)}finally{y.f()}}),10)}var ye="dddd MMMM DD of YYYY";function se(e){var o=e.state,c=e.onChange,m=e.showOtherDays,x=m!==void 0&&m,y=e.mapDays,I=e.onlyShowInRangeDates,P=e.customWeekDays,A=e.sort,R=e.numberOfMonths,N=e.isRTL,_=e.weekStartDayIndex,C=e.handleFocusedDate,G=e.hideWeekDays,fe=e.fullYear,oe=D(e.monthAndYears,1)[0],ne=e.displayWeekNumbers,me=e.weekNumber,De=me===void 0?"":me,Se=e.rangeHover,Ee=e.highlightToday,Ie=a.useRef({}),ae=a.useRef(),Re=o.today,he=o.minDate,$=o.maxDate,B=o.range,z=o.multiple,U=o.date,de=o.selectedDate,te=o.onlyMonthPicker,H=o.onlyYearPicker,V=o.mustShowMonthPicker,Q=o.mustShowYearPicker,ie=!te&&!H,ce=D(a.useState(),2),dt=ce[0],et=ce[1];Ie.current.date=U;var _t=a.useMemo((function(){return ie?(function(we,Xe,ze,Ct){if(!we)return[];for(var Te=[],$t=0;$t<ze;$t++){var kt=(we=new j.default(we).toFirstOfMonth()).monthIndex,Et=[];we.toFirstOfWeek().add(Ct,"day"),we.monthIndex===kt&&we.day>1&&we.subtract(7,"days");for(var ht=0;ht<6;ht++){for(var jt=[],it=0;it<7;it++)jt.push({date:new j.default(we),day:we.format("D"),current:we.monthIndex===kt}),we.day+=1;if(Et.push(jt),ht>2&&we.monthIndex!==kt)break}Te.push(Et)}return Te})(Ie.current.date,0,R,_):[]}),[U.monthIndex,U.year,U.calendar,U.locale,ie,x,R,_]);return ie&&n.default.createElement("div",{ref:ae,className:"rmdp-day-picker ".concat(fe?"rmdp-full-year":""),style:{display:fe?"grid":"flex"},onMouseLeave:function(){return Se&&et()},"data-active":ie&&!V&&!Q},_t.map((function(we,Xe){return n.default.createElement("div",{key:Xe,style:ue({},N?"marginLeft":"marginRight",Xe+(fe?0:1)<R?"10px":"")},fe&&n.default.createElement("div",{className:"rmdp-month-name"},oe[Xe]),!G&&n.default.createElement(E,{state:o,customWeekDays:P,weekStartDayIndex:_,displayWeekNumbers:ne,weekNumber:De}),we.map((function(ze,Ct){return n.default.createElement("div",{key:Ct,className:"rmdp-week"},ne&&n.default.createElement("div",{className:"rmdp-day rmdp-disabled"},n.default.createElement("span",null,ze[0].date.format("WW"))),ze.map((function(Te,$t){var kt=(function(Ae){if(!Ae.current&&!x)return{};var Be={};return y.forEach((function(rt){var ct,nt=rt({date:Ae.date,today:Re,currentMonth:o.date.month,selectedDate:o.selectedDate,isSameDate:X});((ct=nt)===null||ct===void 0?void 0:ct.constructor)!==Object&&(nt={}),(nt.disabled||nt.hidden)&&(Ae.disabled=!0),nt.hidden&&(Ae.hidden=!0),Be=g(g({},Be),nt)})),delete Be.disabled,delete Be.hidden,Be})(Te={date:Te.date,day:Te.day,current:Te.current}),Et=be(Te)&&!Te.disabled,ht="".concat(Et?"sd":""),jt=kt.children;Et&&(ht="".concat(ht," ").concat(kt.className||"")),delete kt.className,delete kt.children;var it=(function(Ae,Be){var rt=["rmdp-day"],ct=Ae.date,nt=Ae.hidden,Qt=Ae.current;if(!be(Ae)||nt)rt.push("rmdp-day-hidden");else{(he&&ct<he||$&&ct>$||Ae.disabled)&&(rt.push("rmdp-disabled"),Ae.disabled||(Ae.disabled=!0)),Qt||rt.push("rmdp-deactive");var zt=Be>1&&Qt||Be===1;Ae.disabled&&I||(X(ct,Re)&&Ee&&rt.push("rmdp-today"),Ut=ct,[].concat(de).some((function(Rt){return X(Rt,Ut)}))&&zt&&!B&&rt.push("rmdp-selected")),B&&!Ae.disabled&&zt&&(rt.push(ve(ct,de,void 0,z)),rt=rt.concat(Le(ct,de,dt,Se,void 0,z)))}var Ut;return rt.join(" ")})(Te,R);return(Te.hidden||Te.disabled)&&(ht=ht.replace("sd","")),n.default.createElement("div",{key:$t,tabIndex:-1,"aria-label":"Choose ".concat(Te.date.format(ye)),className:it,onMouseEnter:function(){return Se&&et(Te.date)},onKeyDown:function(Ae){return ee(Ae,Te,{format:ye})},onClick:function(){be(Te)&&!Te.disabled&&(function(Ae,Be,rt){var ct,nt,Qt,zt=Ae.date,Ut=Ae.current,Rt=o.selectedDate,mr=o.focused,Tt=o.date,hr=Tt,yr=hr.hour,Pr=hr.minute,br=hr.second;zt.set({hour:((ct=Rt)===null||ct===void 0?void 0:ct.hour)||yr,minute:((nt=Rt)===null||nt===void 0?void 0:nt.minute)||Pr,second:((Qt=Rt)===null||Qt===void 0?void 0:Qt.second)||br}),rt!==1||Ut?rt>1&&!Ut&&(Be===0&&zt<Tt&&(Tt=new j.default(Tt).toFirstOfMonth()),Be>0&&zt.monthIndex>Tt.monthIndex+Be&&Be+1===rt&&(Tt=new j.default(Tt).toFirstOfMonth().add(1,"month"))):Tt=new j.default(Tt).toFirstOfMonth();var pr=D(q(zt,A,o),2);Rt=pr[0],mr=pr[1],c(Rt,g(g({},o),{},{date:Tt,focused:mr,selectedDate:Rt})),C(mr,zt)})(Te,Xe,R)}},n.default.createElement("span",T({className:ht},kt),be(Te)&&!Te.hidden?jt!=null?jt:Te.day:""))})))})))})));function be(we){return!!we.current||x}}function Me(e){var o=e.direction,c=e.onClick,m=e.disabled,x=e.onKeyDown;return n.default.createElement("button",{type:"button",className:"rmdp-arrow-container ".concat(o," ").concat(m?"disabled":""),onClick:c,onKeyDown:x,"aria-roledescription":"button to navigate ".concat(o.replace("rmdp-",""))},n.default.createElement("i",{className:"rmdp-arrow"}))}function We(e){var o=e.state,c=e.setState,m=e.disableYearPicker,x=e.disableMonthPicker,y=e.buttons,I=e.renderButton,P=e.handleMonthChange,A=e.disabled,R=e.hideMonth,N=e.hideYear,_=e.isRTL,C=e.fullYear,G=D(e.monthAndYears,2),fe=G[0],oe=G[1],ne=e.monthYearSeparator,me=e.formatMonth,De=e.formatYear,Se=e.headerOrder,Ee=e.onYearChange,Ie={},ae=o.date,Re=o.onlyMonthPicker,he=o.onlyYearPicker,$=o.mustShowYearPicker,B=o.minDate,z=o.maxDate,U=o.year,de=o.today,te=B&&ae.year<=B.year&&B.monthIndex>ae.monthIndex-1,H=z&&ae.year>=z.year&&z.monthIndex<ae.monthIndex+1,V=de.year+7;if(V-=12*Math.floor((V-U)/12),(R||C)&&N&&!y)return null;if((Re||C)&&(B&&B.year>=ae.year&&(te=!0),z&&z.year<=ae.year&&(H=!0)),$||he){var Q=V-11;te=B&&B.year>Q,H=z&&z.year<V}return A&&(te=!0,H=!0),n.default.createElement("div",{className:"rmdp-header"},n.default.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},Array.from(new Set(Se)).map((function(be,we){return n.default.createElement(a.Fragment,{key:we},(function(Xe){switch(Xe){case"LEFT_BUTTON":return y&&dt("left");case"RIGHT_BUTTON":return y&&dt("right");case"MONTH_YEAR":case"YEAR_MONTH":if(C)return n.default.createElement("div",{className:"rmdp-header-values",style:Ie},!N&&ae.format("YYYY"));var ze=Xe.split("_").filter((function(Ct){return Ct==="MONTH"&&!R||Ct==="YEAR"&&!N}));return ze.length>1&&(ze=[ze[0],ce(),ze[1]]),fe.map((function(Ct,Te){return n.default.createElement("div",{key:Te,className:"rmdp-header-values",style:Ie},ze.map((function($t,kt){return n.default.createElement(a.Fragment,{key:kt},(function(Et,ht,jt){switch(Et){case"MONTH":return n.default.createElement("span",{tabIndex:0,onKeyDown:ie,style:{cursor:A||x||Re?"default":"pointer"},onClick:function(it){return!x&&_t("mustShowMonthPicker",it)}},(function(it,Ae){return typeof me=="function"?me(it,Ae):it})(ht,oe[jt]));case"YEAR":return n.default.createElement("span",{tabIndex:0,onKeyDown:ie,style:{cursor:A||m||he?"default":"pointer"},onClick:function(it){return!m&&_t("mustShowYearPicker",it)}},(function(it,Ae){return typeof me=="function"?De(it,Ae):it})(oe[jt],ht));default:return Et}})($t,Ct,Te))})))}));default:return}})(be))}))));function ie(be){var we=be.currentTarget,Xe=be.key,ze=be.code;ze==="Space"||Xe===" "?(be.preventDefault(),we.click()):ze==="ArrowDown"&&(be.preventDefault(),ot(Oe(be.target)))}function ce(){return ne?n.default.createElement("span",null,ne):_?"ØŒ":","}function dt(be){var we=function(ze){ze.preventDefault(),et(be==="right"?1:-1,ze)},Xe=be==="left"&&te||be==="right"&&H;return I instanceof Function?I(be,we,Xe,ie):a.isValidElement(I)?a.cloneElement(I,{direction:be,handleClick:we,disabled:Xe,onKeyDown:ie}):n.default.createElement(Me,{direction:"rmdp-".concat(be),onClick:we,onKeyDown:ie,disabled:Xe})}function et(be,we){A||be<0&&te||be>0&&H||(C?(ae.year+=be,Ee==null||Ee(new j.default(ae))):$||he?(U+=12*be,be<0&&B&&U<B.year&&(U=B.year),be>0&&z&&U>z.year&&(U=z.year)):(ae.toFirstOfMonth(),Re?ae.year+=be:(ae.month+=be,P(ae))),c(g(g({},o),{},{date:ae,year:U})),ot(Oe(we.target),void 0,!1))}function _t(be,we){if(!A){var Xe={mustShowMonthPicker:!1,mustShowYearPicker:!1};Xe[be]=!o[be],c(g(g({},o),Xe)),ot(Oe(we.target),void 0,!1)}}}function Qe(e){return p(e)||(e=[]),JSON.stringify(e)}var Ge="MMMM of YYYY";function yt(e){var o=e.state,c=e.onChange,m=e.customMonths,x=e.sort,y=e.handleMonthChange,I=e.handleFocusedDate,P=e.rangeHover,A=e.highlightToday,R=e.numberOfMonths,N=o.date,_=o.today,C=o.minDate,G=o.maxDate,fe=o.calendar,oe=o.locale,ne=o.onlyMonthPicker,me=o.onlyYearPicker,De=o.range,Se=o.onlyShowInRangeDates,Ee=(o.mustShowMonthPicker||ne)&&!me,Ie=D(a.useState(),2),ae=Ie[0],Re=Ie[1];m=m&&Qe(m);var he=a.useMemo((function(){var z=[],U=ne?R:1,de=m&&JSON.parse(m),te=new j.default({calendar:fe,locale:oe,format:o.date._format,year:o.date.year,month:1,day:1});p(de)&&de.length>=12?(de.length=12,de=de.map((function(et){return p(et)?et[0]:et}))):de=te.locale.months.map((function(et){return D(et,1)[0]}));for(var H=0;H<U;H++){for(var V=[],Q=0,ie=0;ie<4;ie++){for(var ce=[],dt=0;dt<3;dt++)ce.push({date:new j.default(te),name:de[Q]}),Q++,te.add(1,"month");V.push(ce)}z.push(V)}return z}),[fe,oe,m,o.date.year,o.date._format,R,ne]);return n.default.createElement("div",{className:"".concat(ne?"only ":"","rmdp-month-picker"),style:{display:Ee?"flex":"none"},"data-active":Ee,onMouseLeave:function(){return P&&Re()}},he.map((function(z,U){return n.default.createElement("div",{key:U,style:{margin:"0 5px",flex:1}},z.map((function(de,te){return n.default.createElement("div",{key:te,className:"rmdp-ym"},de.map((function(H,V){var Q=H.date,ie=H.name;return n.default.createElement("div",{key:V,"aria-label":"Select ".concat(Q.format(Ge)),tabIndex:-1,onKeyDown:function(ce){return ee(ce,{date:Q},{format:Ge,type:"month"})},className:B(Q),onClick:function(ce){return $(Q,ce)},onMouseEnter:function(){return P&&Re(Q)}},n.default.createElement("span",{className:ne?"sd":""},ie))})))})))})));function $(z,U){var de=o.selectedDate,te=o.focused,H=z.year,V=z.monthIndex;if(!(C&&H<=C.year&&V<C.monthIndex||G&&H>=G.year&&V>G.monthIndex)){if(N.setMonth(V+1),ne){var Q=D(q(z,x,o),2);de=Q[0],te=Q[1]}else y(N),ot(Oe(U.target));c(ne?de:void 0,g(g({},o),{},{date:N,focused:te,selectedDate:de,mustShowMonthPicker:!1})),ne&&I(te,z)}}function B(z){var U=["rmdp-day"],de=z.year,te=z.monthIndex,H=o.selectedDate,V=o.multiple;if((C&&(de<C.year||de===C.year&&te<C.monthIndex)||G&&(de>G.year||de===G.year&&te>G.monthIndex))&&U.push("rmdp-disabled"),!U.includes("rmdp-disabled")||!Se)return X(_,z,!0)&&A&&U.push("rmdp-today"),ne?De?(U.push(ve(z,H,!0,V)),U=U.concat(Le(z,H,ae,P,"month",V))):[].concat(H).some((function(Q){return X(Q,z,!0)}))&&U.push("rmdp-selected"):N.monthIndex===te&&U.push("rmdp-selected"),U.join(" ")}}function Dt(e,o){return e.replace(/[0-9]/g,(function(c){return o[c]}))}var It="YYYY";function Pt(e){var o=e.state,c=e.onChange,m=e.sort,x=e.handleFocusedDate,y=e.onYearChange,I=e.rangeHover,P=e.highlightToday,A=o.date,R=o.today,N=o.minDate,_=o.maxDate,C=o.onlyYearPicker,G=o.range,fe=o.onlyShowInRangeDates,oe=o.year,ne=o.mustShowYearPicker||C,me=A.digits,De=D(a.useState(),2),Se=De[0],Ee=De[1],Ie=R.year-4;Ie-=12*Math.ceil((Ie-oe)/12);var ae=a.useMemo((function(){for(var $=[],B=Ie,z=0;z<4;z++){for(var U=[],de=0;de<3;de++)U.push(B),B++;$.push(U)}return $}),[Ie]);return n.default.createElement("div",{className:"".concat(C?"only ":"","rmdp-year-picker"),style:{display:ne?"block":"none"},"data-active":ne},ae.map((function($,B){return n.default.createElement("div",{key:B,className:"rmdp-ym",onMouseLeave:function(){return I&&Ee()}},$.map((function(z,U){return n.default.createElement("div",{key:U,"aria-label":"Select year ".concat(z),tabIndex:-1,onKeyDown:function(de){return ee(de,{year:z,date:A},{format:It,type:"year"})},className:Re(z),onClick:function(de){return(function(te,H){if(!he(te)){var V=new j.default(o.date).setYear(te),Q=o.selectedDate,ie=o.focused;if(C){var ce=D(q(V,m,o),2);Q=ce[0],ie=ce[1]}else N&&V.monthIndex<N.monthIndex?V=V.setMonth(N.monthIndex+1):_&&V.monthIndex>_.monthIndex&&(V=V.setMonth(_.monthIndex+1)),y==null||y(V),ot(Oe(H.target));c(C?Q:void 0,g(g({},o),{},{date:V,focused:ie,selectedDate:Q,mustShowYearPicker:!1})),C&&x(ie,V)}})(z,de)},onMouseEnter:function(){return I&&Ee(z)}},n.default.createElement("span",{className:C?"sd":""},Dt(z.toString(),me)))})))})));function Re($){var B=["rmdp-day"],z=o.date,U=o.selectedDate,de=o.multiple;if(he($)&&B.push("rmdp-disabled"),!B.includes("rmdp-disabled")||!fe){if(R.year===$&&P&&B.push("rmdp-today"),C)if(G){var te=function(H){var V=H[0],Q=H[1];if(H.length===1){if($===V.year&&B.push("rmdp-range"),I){var ie=H[0].year;($>ie&&$<=Se||$<ie&&$>=Se)&&(B.push("rmdp-range-hover"),$===Se&&B.push(Se>ie?"end":"start"))}}else H.length===2&&($>=V.year&&$<=Q.year&&B.push("rmdp-range"),$===V.year&&B.push("start"),$===Q.year&&B.push("end"))};de?(p(U)?U:[[U]]).forEach((function(H){return te(H)})):te(U)}else[].concat(U).some((function(H){return H&&H.year===$}))&&B.push("rmdp-selected");else $===z.year&&B.push("rmdp-selected");return B.join(" ")}}function he($){return N&&$<N.year||_&&$>_.year}}function Yt(e,o,c){return c||(e?"MM/YYYY":o?"YYYY":"YYYY/MM/DD")}function qe(e,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"YYYY/MM/DD";return e instanceof j.default?e.set({calendar:o,format:c}):e=new j.default({date:e,calendar:o,format:c}),e}function xt(e){"_self"in n.default.createElement("div")&&console.warn(e.join(`
`))}var Ke=new j.default,$e=Ke.calendar,Lt=Ke.locale;function St(e,o){return e&&e.constructor!==Object&&(xt(l("calendar")),e=void 0),o&&o.constructor!==Object&&(xt(l("locale")),o=void 0),[e||$e,o||Lt]}function l(e){return["".concat(e," must be an object"),"https://shahabyazdi.github.io/react-multi-date-picker/calendars/"]}function f(e){return e&&e.name?e.name.split("_")[1]:""}function k(e){return["fa","ar"].includes(f(e))}function S(e,o){o===void 0&&(o={});var c=o.insertAt;if(e&&typeof document!="undefined"){var m=document.head||document.getElementsByTagName("head")[0],x=document.createElement("style");x.type="text/css",c==="top"&&m.firstChild?m.insertBefore(x,m.firstChild):m.appendChild(x),x.styleSheet?x.styleSheet.cssText=e:x.appendChild(document.createTextNode(e))}}S(".rmdp-wrapper{background-color:#fff;border-radius:5px;direction:ltr;text-align:center;width:max-content}.rmdp-shadow{box-shadow:0 0 5px #8798ad}.rmdp-border{border:1px solid #cfd8e2}.rmdp-calendar{height:max-content;padding:4px}.rmdp-border-top{border-top:1px solid #cfd8e2}.rmdp-border-bottom{border-bottom:1px solid #cfd8e2}.rmdp-border-left{border-left:1px solid #cfd8e2}.rmdp-border-right{border-right:1px solid #cfd8e2}.rmdp-week,.rmdp-ym{display:flex;justify-content:space-between}.rmdp-ym{height:25%}.rmdp-day,.rmdp-week-day{color:#000;cursor:pointer;height:34px;position:relative;width:34px}.rmdp-calendar :focus{outline-color:#00539c}.rmdp-day:not(.rmdp-range):focus{border-radius:50%}.rmdp-ym .rmdp-day:not(.rmdp-range):focus{border-radius:15px}.rmdp-week-day{color:#0074d9;cursor:default;font-size:13px;font-weight:500}.rmdp-day span,.rmdp-week-day{display:flex;flex-direction:column;justify-content:center}.rmdp-day span{border-radius:50%;bottom:3px;font-size:14px;left:3px;position:absolute;right:3px;top:3px}.rmdp-day.rmdp-today span{background-color:#7fdbff;color:#fff}.rmdp-day.rmdp-selected span:not(.highlight){background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-day.rmdp-deactive,.rmdp-day.rmdp-disabled{color:#8798ad}.rmdp-day.rmdp-deactive.rmdp-selected span{background-color:#4ca6f5;box-shadow:0 0 3px #bac5d3}.rmdp-ym .rmdp-day{flex:1;margin:auto}.rmdp-ym .rmdp-day span{border-radius:12px;padding:2px 0}.rmdp-range{background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-range-hover{background-color:#7ea6f0;color:#fff}.rmdp-range-hover.start:not(.force),.rmdp-range.start:not(.force){border-bottom-left-radius:50%;border-top-left-radius:50%}.rmdp-range-hover.end:not(.force),.rmdp-range.end:not(.force){border-bottom-right-radius:50%;border-top-right-radius:50%}.rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-ym .rmdp-range.start:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-ym .rmdp-range.end:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}@media (hover:hover){.rmdp-day:not(.rmdp-disabled,.rmdp-day-hidden) span:hover{background-color:#7ea6f0;color:#fff}}.rmdp-day-picker{padding:5px}.rmdp-header{font-size:14px;margin-top:5px;padding:9px 0}.rmdp-month-picker,.rmdp-year-picker{background-color:#fff;border-radius:0 0 5px 5px;bottom:2px;left:2px;position:absolute;right:2px;top:2px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:240px;position:static;width:240px}.rmdp-header-values{color:#000;margin:auto}.rmdp-header-values span{padding:0 0 0 5px}.rmdp-arrow{border:solid #0074d9;border-width:0 2px 2px 0;display:inline-block;height:3px;margin-top:5px;padding:2px;width:3px}.rmdp-right i{margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-left i{margin-left:3px;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-left{left:0}.rmdp-right{right:0}.rmdp-arrow-container{background:transparent;border:none;border-radius:50%;cursor:pointer;display:flex;height:20px;justify-content:center;margin:0 5px;padding:0;width:20px}.rmdp-arrow-container:hover{background-color:#0074d9;box-shadow:0 0 3px #8798ad}.rmdp-arrow-container:hover .rmdp-arrow{border:solid #fff;border-width:0 2px 2px 0}.rmdp-arrow-container.disabled{cursor:default}.rmdp-arrow-container.disabled:hover{background-color:inherit;box-shadow:inherit}.rmdp-arrow-container.disabled .rmdp-arrow,.rmdp-arrow-container.disabled:hover .rmdp-arrow{border:solid gray;border-width:0 2px 2px 0}.rmdp-rtl{direction:rtl}.rmdp-rtl .rmdp-left i{margin-left:0;margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-rtl .rmdp-right i{margin-left:3px;margin-right:0;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-rtl .rmdp-right{left:0;right:auto}.rmdp-rtl .rmdp-left{left:auto;right:0}.rmdp-rtl .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-range.start:not(.force){border-bottom-left-radius:unset;border-bottom-right-radius:50%;border-top-left-radius:unset;border-top-right-radius:50%}.rmdp-rtl .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-range.end:not(.force){border-bottom-left-radius:50%;border-bottom-right-radius:unset;border-top-left-radius:50%;border-top-right-radius:unset}.rmdp-rtl .rmdp-range.start.end:not(.force){border-radius:50%}.rmdp-rtl .rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.start:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}.rmdp-rtl .rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.end:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-day-hidden,.rmdp-day.rmdp-disabled{cursor:default}.rmdp-selected .highlight{box-shadow:0 0 3px #8798ad}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-red:hover{background-color:#ff6687}.rmdp-day:not(.rmdp-deactive) .highlight-red{color:#cc0303}.rmdp-day.rmdp-deactive .highlight-red{color:#e08e8e}.rmdp-day.rmdp-selected .highlight-red{background-color:#ea0034;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-red{background-color:#e4b0ba;color:#fff}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-green:hover{background-color:#4db6ac}.rmdp-day:not(.rmdp-deactive) .highlight-green{color:#00796b}.rmdp-day.rmdp-deactive .highlight-green{color:#7ab3ac}.rmdp-day.rmdp-selected .highlight-green{background-color:#009688;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-green{background-color:#749c98;color:#fff}.rmdp-day-hidden,.rmdp-day-hidden:hover span{background-color:unset;color:transparent}.rmdp-month-name{cursor:default;font-size:14px;margin:3px 0}.rmdp-full-year{grid-template-columns:1fr 1fr 1fr}@media (max-height:450px),(max-width:450px){.rmdp-day,.rmdp-week-day{height:28px;width:28px}.rmdp-day span{font-size:12px;padding-left:.5px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:200px;width:230px}.rmdp-header{padding:3px 0 0}.rmdp-header,.rmdp-month-name{font-size:12px}.rmdp-full-year{grid-template-columns:1fr 1fr}}");var K=["datePickerProps","DatePicker"];function Fe(e,o){var c,m=e.value,x=e.calendar,y=e.locale,I=e.format,P=e.onlyMonthPicker,A=e.onlyYearPicker,R=e.range,N=R!==void 0&&R,_=e.multiple,C=_!==void 0&&_,G=e.className,fe=e.role,oe=e.weekDays,ne=e.months,me=e.children,De=e.onChange,Se=e.showOtherDays,Ee=e.minDate,Ie=e.maxDate,ae=e.mapDays,Re=e.disableMonthPicker,he=e.disableYearPicker,$=e.formattingIgnoreList,B=e.onReady,z=e.onlyShowInRangeDates,U=z===void 0||z,de=e.zIndex,te=de===void 0?100:de,H=e.plugins,V=H===void 0?[]:H,Q=e.sort,ie=e.numberOfMonths,ce=ie===void 0?1:ie,dt=e.currentDate,et=e.digits,_t=e.buttons,be=_t===void 0||_t,we=e.renderButton,Xe=e.weekStartDayIndex,ze=Xe===void 0?0:Xe,Ct=e.disableDayPicker,Te=e.onPropsChange,$t=e.onMonthChange,kt=e.onYearChange,Et=e.onFocusedDateChange,ht=e.readOnly,jt=e.disabled,it=e.hideMonth,Ae=e.hideYear,Be=e.hideWeekDays,rt=e.shadow,ct=rt===void 0||rt,nt=e.fullYear,Qt=e.displayWeekNumbers,zt=e.weekNumber,Ut=e.weekPicker,Rt=e.rangeHover,mr=e.monthYearSeparator,Tt=e.formatMonth,hr=e.formatYear,yr=e.highlightToday,Pr=yr===void 0||yr,br=e.headerOrder,pr=br===void 0?["LEFT_BUTTON","MONTH_YEAR","RIGHT_BUTTON"]:br,Yr=e.style,Jr=Yr===void 0?{}:Yr,Er=e.autoFocus,Tr=Er!==void 0&&Er;!dt||dt instanceof j.default||(console.warn("currentDate must be instance of DateObject"),dt=void 0),(typeof ze!="number"||ze<0||ze>6)&&(ze=0),(typeof ce!="number"||ce<1||A)&&(ce=1),!(C||N||p(m))||N||C||(C=!0),Ut&&(N=!0,C=!1),nt&&(ce=12,P=!1,A=!1),A&&!it&&(it=!0);var xr=D(St(x,y),2);x=xr[0],y=xr[1],I=Yt(P,A,I),$=Qe($),ae=[].concat(ae).filter(Boolean),V=[].concat.apply([],V);var Ar=D(a.useState({}),2),At=Ar[0],Xt=Ar[1],nr={},Ot=a.useRef({mustCallOnReady:!0,currentDate:dt});a.useEffect((function(){Xt((function(M){var xe=Ot.current.currentDate,ge=M.date,pe=M.selectedDate,lt=M.initialValue,tt=M.focused,Ve=M.mustSortDates;function pt(v){if(v)return v.calendar.name!==x.name&&v.setCalendar(x),v.locale.name!==y.name&&v.setLocale(y),v._format!==I&&v.setFormat(I),v.digits=et,v.ignoreList=JSON.parse($),v}function Mt(v){return new j.default(xe||v)}if(m)if(p(pe=vt(m,x,y,I)))ge||(ge=Mt(pe.flat()[0]));else if(ge&&ce!==1){var er=new j.default(ge).toFirstOfMonth(),sr=new j.default(ge).add(ce-1,P?"years":"months").toLastOfMonth();(pe<er||pe>sr)&&(ge=new j.default(pe))}else ge=Mt(pe);else ge||(ge=Mt({calendar:x,locale:y,format:I})),lt&&(pe=void 0);if([].concat(pe).flat().forEach(pt),pt(ge),C||N||p(m)){if(pe||(pe=[]),p(pe)||(pe=C&&N?[[pe]]:[pe]),N&&!C&&pe.length>2){var tr=pe[pe.length-1];pe=[pe[0],tr],tt=tr}C&&!N&&Q&&!Ve?(Ve=!0,pe.sort((function(v,Z){return v-Z}))):N&&!C&&pe.sort((function(v,Z){return v-Z}))}else p(pe)&&(pe=pe.flat()[pe.length-1]);return nt&&ge.toFirstOfYear(),delete Ot.current.currentDate,g(g({},M),{},{date:ge,selectedDate:pe,multiple:C,range:N,onlyMonthPicker:P,onlyYearPicker:A,initialValue:M.initialValue||m,value:m,focused:tt,calendar:x,locale:y,format:I,mustSortDates:Ve,year:ge.year,today:pt(M.today)||new j.default({calendar:x}),weekPicker:Ut})}))}),[m,x,y,I,P,A,N,C,Q,ce,et,$,nt,Ut]),a.useEffect((function(){(Ee||Ie)&&Xt((function(M){var xe=M.calendar,ge=M.locale,pe=M.format,lt=(function(er,sr,tr,v,Z){return sr&&(sr=qe(sr,v,Z).set({hour:0,minute:0,second:0,millisecond:0})),tr&&(tr=qe(tr,v,Z).set({hour:23,minute:59,second:59,millisecond:999})),p(er)&&(er=er.filter((function(Ye){return!(sr&&Ye<sr)&&!(tr&&Ye>tr)}))),[er,sr,tr]})(vt(m,xe,ge,pe),Ee,Ie,xe,pe),tt=D(lt,3),Ve=tt[0],pt=tt[1],Mt=tt[2];return g(g({},M),{},{inRangeDates:U?Ve:M.selectedDate,minDate:pt,maxDate:Mt})}))}),[Ee,Ie,U,m]),At.today&&!Ot.current.isReady&&(Ot.current.isReady=!0),a.useEffect((function(){Ot.current.isReady&&Ot.current.mustCallOnReady&&B instanceof Function&&(Ot.current.mustCallOnReady=!1,B())}),[Ot.current.isReady,B]);var or="rmdp-top-class "+Jt(["top","bottom"]),Wt={top:[],bottom:[],left:[],right:[]},Lr=k((c=At.date)===null||c===void 0?void 0:c.locale),Zt={state:At,setState:Xt,onChange:ir,sort:Q,handleFocusedDate:lr,isRTL:Lr,fullYear:nt,monthAndYears:(function(){var M=At.date;if(!M)return[];for(var xe=[],ge=[],pe=M.digits,lt=0;lt<ce;lt++){var tt=void 0,Ve=M.year,pt=M.monthIndex+lt;if(P&&(Ve+=lt),pt>11&&(pt-=12,P||Ve++),p(ne)&&ne.length>=12){var Mt=ne[pt];tt=p(Mt)?Mt[0]:Mt}else tt=M.months[pt].name;Ve=Dt(Ve.toString(),pe),xe.push(tt),ge.push(Ve)}return[xe,ge]})(),rangeHover:Rt,highlightToday:Pr,numberOfMonths:ce},Nr=arguments[0],Fr=Nr.datePickerProps,Sr=Nr.DatePicker,Rr=re(Nr,K);return a.useEffect((function(){var M=Ot.current.Calendar;M&&ot(M,void 0,Tr&&!Sr)}),[Tr,At.today,Sr]),(function(){if(!(!Ot.current.isReady||!p(V))){var M={state:At,setState:Xt,registerListener:Wr,calendarProps:Rr,datePickerProps:Fr,handleChange:ir,Calendar:Ot.current.Calendar,DatePicker:Sr,handlePropsChange:ar,handleFocusedDate:function(ge){return lr(ge)},minDate:Ee,maxDate:Ie},xe=function(ge){return Ct?"bottom":ge.props.position||"right"};V.forEach((function(ge,pe){if(typeof ge.type!="string"){var lt={},tt=xe(ge);if(Wt[tt]&&!ge.props.disabled){for(var Ve=0;Ve<V.length;Ve++)if(typeof V[Ve].type!="string"&&!V[Ve].props.disabled){if(Object.keys(lt).length===4)break;var pt=xe(V[Ve]);["top","bottom"].includes(tt)?(pt===tt&&Ve>pe&&(lt.bottom=!0),pt===tt&&Ve<pe&&(lt.top=!0)):(or.includes("border-top")&&(lt.top=!0),or.includes("border-bottom")&&(lt.bottom=!0),pt===tt&&Ve>pe&&(lt.right=!0),pt===tt&&Ve<pe&&(lt.left=!0))}Wt[tt].push(a.cloneElement(ge,g({key:pe,position:tt,nodes:lt},M)))}}else ge.type==="mapDays"&&ae.push(ge.fn(M))}))}})(),At.today?n.default.createElement("div",{ref:function(M){if(M&&(M.date=At.date,M.set=function(xe,ge){jt||Xt(g(g({},At),{},{date:new j.default(At.date.set(xe,ge))}))}),Ot.current.Calendar=M,o instanceof Function)return o(M);o&&(o.current=M)},role:fe||"dialog",className:"rmdp-wrapper rmdp-".concat(ct?"shadow":"border"," ").concat(G||""),style:g({zIndex:te},Jr)},Wt.top,n.default.createElement("div",{style:{display:"flex"},className:or},Wt.left,!Ct&&n.default.createElement("div",{className:"rmdp-calendar ".concat(Lr?"rmdp-rtl":""," ").concat(Jt(["left","right"]))},n.default.createElement(We,g(g({},Zt),{},{disableYearPicker:he,disableMonthPicker:Re,buttons:be,renderButton:we,handleMonthChange:Ne,disabled:jt,hideMonth:it,hideYear:Ae,monthYearSeparator:mr,formatMonth:Tt,formatYear:hr,headerOrder:pr,onYearChange:kt})),n.default.createElement("div",{style:{position:"relative"}},n.default.createElement(se,g(g({},Zt),{},{showOtherDays:Se,mapDays:ae,onlyShowInRangeDates:U,customWeekDays:oe,weekStartDayIndex:ze,hideWeekDays:Be,displayWeekNumbers:Qt,weekNumber:zt})),!nt&&n.default.createElement(n.default.Fragment,null,!Re&&n.default.createElement(yt,T({},Zt,{customMonths:ne,handleMonthChange:Ne})),!he&&n.default.createElement(Pt,T({},Zt,{onYearChange:kt}))))),Wt.right),Wt.bottom,me):null;function ir(M,xe){if(M instanceof j.default&&(M=new j.default(M)),!jt){if(M||M===null){if(ht)return;nr.change&&nr.change.forEach((function(pe){return pe(M)}))}if(M||M===null){var ge=De==null?void 0:De(M);xe&&ge!==!1&&Xt(xe)}else xe&&Xt(xe);ar({value:M})}}function ar(){var M,xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!ht&&!jt){var ge=g(g(g(g({},Rr),Fr),xe),{},{value:(M=xe.value)!==null&&M!==void 0?M:At.selectedDate});delete ge.onPropsChange,Te==null||Te(ge)}}function lr(M,xe){ht||jt||Et==null||Et(M,xe)}function Ne(M){$t==null||$t(M)}function Jt(M){return Ct||!p(V)?"":Array.from(new Set(V.map((function(xe){if(!xe.props)return"";var ge=xe.props.position||"right";return M.includes(ge)&&!xe.props.disabled?"rmdp-border-"+ge:""})))).join(" ")}function Wr(M,xe){nr[M]||(nr[M]=[]),nr[M].push(xe)}}var le=a.forwardRef(Fe);function vt(e,o,c,m){var x=[].concat(e).map((function(P){return p(P)?P.map(y).filter(I):y(P)})).filter(I);return p(e)?x:x.flat()[0];function y(P){return P?P instanceof j.default?P:new j.default({date:P,calendar:o,locale:c,format:m}):{}}function I(P){return p(P)||P.isValid}}S('.rmdp-visible{visibility:visible}.rmdp-invisible{visibility:hidden}.rmdp-input{border:1px solid #c0c4d6;border-radius:5px;height:22px;margin:1px 0;padding:2px 5px}.rmdp-input:focus{border:1px solid #a4b3c5;box-shadow:0 0 2px #a4b3c5;outline:none!important}.rmdp-button{background-color:#0074d9;border:none;border-radius:5px;color:#fff;cursor:pointer;display:inline-block;padding:7px 16px;text-align:center;text-decoration:none;transition:.3s}.rmdp-button:hover{background-color:#143ac5;transition:.4s}.rmdp-button:disabled{background-color:#8798ad}.rmdp-action-button{border-radius:unset;color:#2682d3;float:right;font-weight:700;margin:15px 10px 15px 0}.rmdp-action-button,.rmdp-action-button:hover{background-color:transparent}.rmdp-ep-arrow{overflow:hidden;will-change:transform}.rmdp-ep-arrow:after{background-color:#fff;content:"";height:12px;position:absolute;transform:rotate(45deg);width:12px}.rmdp-ep-shadow:after{box-shadow:0 0 6px #8798ad}.rmdp-ep-border:after{border:1px solid #cfd8e2}.rmdp-ep-arrow[direction=top]{border-bottom:1px solid #fff}.rmdp-ep-arrow[direction=left]{border-right:1px solid #fff}.rmdp-ep-arrow[direction=right]{border-left:1px solid #fff;margin-left:-1px}.rmdp-ep-arrow[direction=bottom]{border-top:1px solid #fff;margin-top:-1.5px}.rmdp-ep-arrow[direction=top]:after{left:4px;top:5px}.rmdp-ep-arrow[direction=bottom]:after{left:4px;top:-6px}.rmdp-ep-arrow[direction=left]:after{left:5px;top:3px}.rmdp-ep-arrow[direction=right]:after{left:-6px;top:3px}');var je=["value","calendar","locale","format","onlyMonthPicker","onlyYearPicker","onChange","range","multiple","name","id","title","placeholder","required","style","className","inputClass","disabled","render","weekDays","months","children","inputMode","scrollSensitive","hideOnScroll","minDate","maxDate","formattingIgnoreList","containerClassName","calendarPosition","editable","onOpen","onClose","arrowClassName","zIndex","arrow","fixMainPosition","onPositionChange","onPropsChange","digits","readOnly","shadow","onFocusedDateChange","type","weekPicker","mobileLabels","onOpenPickNewDate","mobileButtons","dateSeparator","multipleRangeSeparator","typingTimeout"],wt=["label"];function kr(e,o){var c=e.value,m=e.calendar,x=e.locale,y=e.format,I=e.onlyMonthPicker,P=e.onlyYearPicker,A=e.onChange,R=e.range,N=R!==void 0&&R,_=e.multiple,C=_!==void 0&&_,G=e.name,fe=e.id,oe=e.title,ne=e.placeholder,me=e.required,De=e.style,Se=De===void 0?{}:De,Ee=e.className,Ie=Ee===void 0?"":Ee,ae=e.inputClass,Re=e.disabled,he=e.render,$=e.weekDays,B=e.months,z=e.children,U=e.inputMode,de=e.scrollSensitive,te=de===void 0||de,H=e.hideOnScroll,V=e.minDate,Q=e.maxDate,ie=e.formattingIgnoreList,ce=e.containerClassName,dt=ce===void 0?"":ce,et=e.calendarPosition,_t=et===void 0?"bottom-left":et,be=e.editable,we=be===void 0||be,Xe=e.onOpen,ze=e.onClose,Ct=e.arrowClassName,Te=Ct===void 0?"":Ct,$t=e.zIndex,kt=$t===void 0?100:$t,Et=e.arrow,ht=Et===void 0||Et,jt=e.fixMainPosition,it=e.onPositionChange,Ae=e.onPropsChange,Be=e.digits,rt=e.readOnly,ct=e.shadow,nt=ct===void 0||ct,Qt=e.onFocusedDateChange,zt=e.type,Ut=e.weekPicker,Rt=e.mobileLabels,mr=e.onOpenPickNewDate,Tt=mr===void 0||mr,hr=e.mobileButtons,yr=hr===void 0?[]:hr,Pr=e.dateSeparator,br=e.multipleRangeSeparator,pr=br===void 0?",":br,Yr=e.typingTimeout,Jr=Yr===void 0?700:Yr,Er=re(e,je),Tr=D(a.useState(),2),xr=Tr[0],Ar=Tr[1],At=D(a.useState(),2),Xt=At[0],nr=At[1],Ot=D(a.useState(""),2),or=Ot[0],Wt=Ot[1],Lr=D(a.useState(!1),2),Zt=Lr[0],Nr=Lr[1],Fr=D(a.useState(!1),2),Sr=Fr[0],Rr=Fr[1],ir=a.useRef(),ar=a.useRef(),lr=a.useRef(),Ne=a.useRef({isTyping:!1}),Jt=Pr||(N||Ut?" ~ ":", "),Wr=arguments[0],M=typeof Ie=="string"&&Ie.includes("rmdp-mobile"),xe=a.useCallback((function(){if((ze==null?void 0:ze())!==!1){var v=fr(ar);if(v&&v.forEach((function(Ye){return Ye.blur()})),Ne.current.mobile){var Z=lr.current.parentNode.parentNode;Z.classList.remove("rmdp-calendar-container-mobile"),Z.style.position="absolute",Z.style.visibility="hidden"}Ne.current.validInputValue!==void 0&&(Wt(Ne.current.validInputValue),Ne.current.validInputValue=void 0),Nr(!1),Rr(!1)}}),[ze]),ge=[{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){nr(void 0),xe()},label:tt("CANCEL")},{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){Xt&&(Mt(Xt,!0),nr(void 0)),xe()},label:tt("OK")}];M&&!Ne.current.mobile&&(Ne.current=g(g({},Ne.current),{},{mobile:!0})),!M&&Ne.current.mobile&&(Ne.current=g(g({},Ne.current),{},{mobile:!1})),ie=Qe(ie),y=Yt(I,P,y);var pe,lt=D(St(m,x),2);return m=lt[0],x=lt[1],a.useEffect((function(){function v(Ye){if(Zt&&!Ne.current.mobile){var Nt=[];if([ar.current,lr.current].forEach((function(Bt){var gt,Vt;!Bt||Bt.contains(Ye.target)||Ye.target.classList.contains("b-deselect")||(gt=Ye.target.parentNode)!==null&&gt!==void 0&&(gt=gt.classList)!==null&&gt!==void 0&&(Vt=gt.contains)!==null&&Vt!==void 0&&Vt.call(gt,"b-deselect")||Nt.push(Bt)})),Nt.length===2)return xe();lr.current&&lr.current.contains(Ye.target)&&(ir.current.removeTransition(),ir.current.refreshPosition())}}function Z(){H&&Zt&&xe()}return document.addEventListener("click",v,!1),document.addEventListener("scroll",Z,!0),function(){document.removeEventListener("click",v,!1),document.removeEventListener("scroll",Z,!0)}}),[xe,o,Zt,H]),a.useEffect((function(){var v=c,Z=Ne.current,Ye=Z.date,Nt=Z.initialValue,Bt=function(){return v[v.length-1]};function gt(_e){if(_e)return _e instanceof j.default||(_e=new j.default({date:_e,calendar:m,locale:x,format:y})),_e.calendar!==m&&_e.setCalendar(m),_e.set({weekDays:$,months:B,digits:Be,locale:x,format:y,ignoreList:JSON.parse(ie)}),_e}c||Nt||!Ye?Nt&&!c&&(Nt=void 0):v=Ye;var Vt="";if(N||C||p(v)){var Br=function(_e){return _e=_e.map(gt).filter((function(_r){return _r!==void 0})),N&&_e.length>2&&(_e=[_e[0],Bt()]),[_e,Ft(_e,Jt)]};if(p(v)||(v=N&&C?v?[[v]]:[]:[v]),C&&N)v=v.map((function(_e,_r){var mn=D(Br(p(_e)?_e:[_e]),2),Rn=mn[0],Wn=mn[1];return Vt+=Wn+(_r<v.length-1?" ".concat(pr," "):""),Rn}));else{var Vr=D(Br(v),2);v=Vr[0],Vt=Vr[1]}Vt=Vt.toString().replace(/\s,\s$/,"")}else p(v)&&(v=Bt()),(v=gt(v))&&(Vt=v.format());Ne.current.isTyping||Wt(Vt),Ne.current=g(g({},Ne.current),{},{date:v,separator:Jt,initialValue:Nt||c}),Ne.current.mobile&&ir.current.isOpen?nr(v):(Ne.current.validInputValue=void 0,Ar(v))}),[c,m,x,y,N,C,Jt,I,P,$,B,Be,ie]),a.useEffect((function(){var v=Ne.current.selection;if(v){var Z=fr(ar);Z.length!==0&&(Z.forEach((function(Ye){document.activeElement===Ye&&(Ye.setSelectionRange(v,v),Ne.current.selection=void 0)})),ir.current.refreshPosition())}}),[or]),(C||N||p(xr)||!we)&&(U="none"),n.default.createElement(L.default,T({ref:function(v){if(v&&(v.openCalendar=function(){return setTimeout((function(){return Ve()}),10)},v.closeCalendar=xe,v.isOpen=Zt&&Sr),ir.current=v,o instanceof Function)return o(v);o&&(o.current=v)},element:he?n.default.createElement("div",{ref:ar},a.isValidElement(he)?a.cloneElement(he,{value:or,openCalendar:Ve,onFocus:Ve,handleValueChange:er,onChange:er,locale:x,separator:Jt}):he instanceof Function?he(or,Ve,er,x,Jt):null):n.default.createElement("input",{ref:ar,type:zt||"text",name:G,id:fe,title:oe,required:me,onFocus:Ve,className:ae||"rmdp-input",placeholder:ne,value:or,onChange:er,style:Se,autoComplete:"off",disabled:!!Re,inputMode:U||(M?"none":void 0),readOnly:rt}),popper:Zt&&n.default.createElement(le,T({ref:lr,value:Xt||xr,onChange:Mt,range:N,multiple:C,calendar:m,locale:x,format:y,onlyMonthPicker:I,onlyYearPicker:P,className:Ie+(M?" rmdp-mobile":""),weekDays:$,months:B,digits:Be,minDate:V,maxDate:Q,formattingIgnoreList:JSON.parse(ie),onPropsChange:Ae,shadow:nt,onReady:sr,DatePicker:ir.current,datePickerProps:Wr,onFocusedDateChange:tr,weekPicker:Ut},Er),z,M&&(pe=[].concat.apply([],Wr.plugins||[]).some((function(v){var Z=v.props;return!(Z===void 0?{}:Z).disabled})),p(yr)&&n.default.createElement("div",{className:"rmdp-action-buttons ".concat(k(x)?"rmdp-rtl":""," ").concat(pe?"rmdp-border-top":"")},yr.concat(ge).map((function(v,Z){var Ye=v.label,Nt=re(v,wt);return n.default.createElement("button",T({key:Z},Nt),Ye)}))))),active:!M&&Sr,position:_t,arrow:!M&&ht,fixMainPosition:!te||jt,zIndex:kt,onChange:!M&&it,containerClassName:"rmdp-container ".concat(dt),arrowClassName:["rmdp-ep-arrow","rmdp-ep-".concat(nt?"shadow":"border"),Ie,Te].join(" ")},Er));function tt(v){var Z,Ye=x||new j.default().locale;return typeof Ye.name!="string"?v:(Rt==null?void 0:Rt[v])||((Z={en:{OK:"OK",CANCEL:"CANCEL"},fa:{OK:"ØªØ£ÛŒÛŒØ¯",CANCEL:"Ù„ØºÙˆ"},ar:{OK:"ØªØ£ÙƒÙŠØ¯",CANCEL:"Ø§Ù„ØºØ§Ø¡"},hi:{OK:"à¤ªà¥à¤·à¥à¤Ÿà¤¿",CANCEL:"à¤°à¤¦à¥à¤¦ à¤•à¤°à¥‡à¤‚"}}[f(Ye)])===null||Z===void 0?void 0:Z[v])||v}function Ve(){if(!Re&&!rt&&(Xe==null?void 0:Xe())!==!1){if(Tt&&!c&&!Ne.current.date&&!N&&!C&&!M){var v=new j.default({calendar:m,locale:x,format:y,months:B,weekDays:$,digits:Be,ignoreList:JSON.parse(ie)});(!V||v>qe(V,m,y))&&(!Q||v<qe(Q,m,y))&&(Mt(v),Ae==null||Ae(g(g({},Wr),{},{value:v})),Ne.current.date=v)}var Z=fr(ar);M&&Z.length>0&&Z.forEach((function(Ye){return Ye.blur()})),Z.length>0||!Zt?Nr(!0):xe()}}function pt(v){var Z="";return v&&(Z=C&&N&&p(v)?v.map((function(Ye){return Ft(Ye,Jt)})).join(" ".concat(pr," ")):Ft(v,Jt)),Z}function Mt(v,Z,Ye){if(M&&!Z)return nr(v);var Nt=pt(v),Bt=Ye||Nt.toString().replace(/\s,\s$/,"");return v&&[].concat(v).flat().some((function(gt){return V&&gt<qe(V,m,y)||Q&&gt>qe(Q,m,y)}))?(Ne.current.validInputValue=pt(c||Ne.current.date),Wt(Bt)):(Ne.current.validInputValue=Nt,(A==null?void 0:A(v,{validatedValue:Nt,input:ar.current,isTyping:!!Ye}))===!1?(Wt(or),!1):(Ar(v),Wt(Bt),void(Ne.current=g(g({},Ne.current),{},{date:v}))))}function er(v){if(we){Ne.current.isTyping=!0,setTimeout((function(){Ne.current.isTyping=!1}),Jr),Ne.current.selection=v.target.selectionStart;var Z=v.target.value,Ye={calendar:m,locale:x,format:y,ignoreList:JSON.parse(ie)};if(Be=p(Be)?Be:x.digits,!Z)return Wt(""),Mt(null);if(Be){var Nt,Bt,gt=F(Be);try{for(gt.s();!(Nt=gt.n()).done;){var Vt=Nt.value;Z=Z.replace(new RegExp(Vt,"g"),Be.indexOf(Vt))}}catch(_e){gt.e(_e)}finally{gt.f()}Bt=p(xr)?C&&N?(Z||"").split(pr).filter(Boolean).map(Vr):Vr(Z):Br(Z),Mt(p(xr)||Bt.isValid?Bt:null,void 0,Dt(Z,Be))}}function Br(_e){return/(?=.*Y)(?=.*M)(?=.*D)/.test(y)?new j.default(g(g({},Ye),{},{date:_e})):new j.default(Ye).parse(_e)}function Vr(_e){return(_e||"").split(Jt).filter(Boolean).map((function(_r){return Br(_r.trim())}))}}function sr(){if(Rr(!0),M){var v=lr.current.parentNode.parentNode;v.className="rmdp-calendar-container-mobile",v.style.position="fixed",v.style.transform="",setTimeout((function(){v.style.visibility="visible"}),50)}}function tr(v,Z){p(Ne.current.date)||!Z||M||xe(),Qt==null||Qt(v,Z)}}var jr=a.forwardRef(kr);function Ft(e,o){var c=[].concat(e).map((function(m){return m!=null&&m.isValid?m.format():""}));return c.toString=function(){return this.filter(Boolean).join(o)},c}function fr(e){return e.current?e.current.tagName==="INPUT"?[e.current]:Array.from(e.current.querySelectorAll("input")):[]}Object.defineProperty(s,"DateObject",{enumerable:!0,get:function(){return j.default}}),s.Calendar=le,s.default=jr,s.getAllDatesInRange=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(e))return[];var c=e[0],m=e[e.length-1],x=[];if(!(c instanceof j.default&&m instanceof j.default&&c.isValid&&m.isValid&&!(c>m)))return[];for(c=new j.default(c),m=new j.default(m);c<=m;c.day++)x.push(o?c.toDate():new j.default(c));return x},s.toDateObject=qe})(sn)),sn}var Da=Ma();const Ia=qn(Da),{Option:He}=zr,Pa=({currentStep:s,newJob:a,setNewJob:d,formData:r,setFormData:i,errors:n,setErrors:L,recentlyUploadedTopicsCount:j,setRecentlyUploadedTopicsCount:Y,recentlyUploadedKeywordsCount:g,setRecentlyUploadedKeywordsCount:ue,showAllTopics:T,setShowAllTopics:re,showAllKeywords:D,setShowAllKeywords:ke,user:J,userPlan:h})=>{var Yt,qe,xt,Ke,$e,Lt,St;const F=Xr(),p=Pe.useRef(null);(Yt=J==null?void 0:J.subscription)==null||Yt.plan;const{data:E}=Ur(l=>l.wordpress);Pe.useEffect(()=>{var l;(l=E==null?void 0:E.integrations)!=null&&l.size&&i(f=>w(b({},f),{postingType:E.integrations.key().next().value}))},[E]);const X=10,Ce=((qe=J==null?void 0:J.usage)==null?void 0:qe.aiImages)>=((xt=J==null?void 0:J.usageLimits)==null?void 0:xt.aiImages),q=Pn();Pe.useEffect(()=>{F(Gn())},[F]),Pe.useEffect(()=>()=>{var l,f;(f=(l=a==null?void 0:a.blogs)==null?void 0:l.blogImages)==null||f.forEach(k=>{k instanceof File&&URL.revokeObjectURL(URL.createObjectURL(k))})},[a.blogs.blogImages]),Pe.useEffect(()=>{Ce&&a.blogs.isCheckedGeneratedImages&&d(l=>w(b({},l),{blogs:w(b({},l.blogs),{isCheckedGeneratedImages:!1,imageSource:"stock"})}))},[Ce,a.blogs.isCheckedGeneratedImages]);const ve=[{id:"stock",label:"Stock Images",value:"stock",restricted:!1},{id:"ai",label:"AI-Generated Images",value:"ai",restricted:h==="free",featureName:"AI-Generated Images",isAiImagesLimitReached:Ce}],Le=l=>{i(f=>w(b({},f),{postingType:l})),L(f=>w(b({},f),{postingType:!1}))},W=(l,f)=>{const k=l.trim();if(!k)return;const S=f==="topics"?a.blogs.topics.map(le=>le.toLowerCase().trim()):r.keywords.map(le=>le.toLowerCase().trim()),K=new Set,Fe=k.split(",").map(le=>le.trim()).filter(le=>{const vt=le.toLowerCase();return!le||K.has(vt)||S.includes(vt)?!1:(K.add(vt),!0)});Fe.length!==0&&(f==="topics"?(i(le=>w(b({},le),{topicInput:""})),d(le=>w(b({},le),{blogs:w(b({},le.blogs),{topics:[...le.blogs.topics,...Fe]})})),L(le=>w(b({},le),{topics:!1}))):(i(le=>w(b({},le),{keywords:[...le.keywords,...Fe],keywordInput:""})),d(le=>w(b({},le),{blogs:w(b({},le.blogs),{keywords:[...le.blogs.keywords,...Fe]})})),L(le=>w(b({},le),{keywords:!1}))))},Oe=l=>{const{name:f,value:k,type:S}=l.target;let K;S==="tel"?k===""?K="":(K=parseInt(k,10),K<0&&(K=0),K>20&&(K=20)):K=k,d(Fe=>w(b({},Fe),{blogs:w(b({},Fe.blogs),{[f]:K})}))},st=(l,f)=>{var Fe;const k=(Fe=l.target.files)==null?void 0:Fe[0];if(!k){mt.error("No file selected. Please choose a valid CSV file.");return}if(!k.name.toLowerCase().endsWith(".csv")){mt.error("Invalid file type. Please upload a .csv file."),l.target.value=null;return}const S=20*1024;if(k.size>S){mt.error("File size exceeds 20KB limit. Please upload a smaller file."),l.target.value=null;return}const K=new FileReader;K.onload=le=>{var fr;const vt=(fr=le.target)==null?void 0:fr.result;if(!vt||typeof vt!="string"){mt.error("Failed to read the CSV file. Please ensure it is valid.");return}let je=vt.trim().split(/\r?\n/);if(je.length===0){mt.error("The CSV file is empty. Please provide a valid CSV with topics or keywords.");return}f.charAt(0).toUpperCase()+f.slice(1),je[0].toLowerCase().includes(f)&&(je=je.slice(1));const wt=je.map(e=>e.split(",").map(c=>c.trim()).find(c=>c)||null).filter(e=>e&&e.trim().length>0);if(wt.length===0){mt.warning(`No valid ${f} found in the CSV file.`);return}const kr=f==="topics"?a.blogs.topics.map(e=>e.toLowerCase().trim()):r.keywords.map(e=>e.toLowerCase().trim()),jr=new Set,Ft=wt.filter(e=>{const o=e.toLowerCase().trim();return!e||jr.has(o)||kr.includes(o)?!1:(jr.add(o),!0)});if(Ft.length===0){mt.warning(`No new ${f} found in the CSV. All provided items are either duplicates or already exist.`);return}f==="topics"?(d(e=>w(b({},e),{blogs:w(b({},e.blogs),{topics:[...e.blogs.topics,...Ft]})})),L(e=>w(b({},e),{topics:!1}))):(i(e=>w(b({},e),{keywords:[...e.keywords,...Ft]})),d(e=>w(b({},e),{blogs:w(b({},e.blogs),{keywords:[...e.blogs.keywords,...Ft]})})),L(e=>w(b({},e),{keywords:!1}))),mt.success(`${Ft.length} new ${f} added from CSV.`),f==="topics"?(Y(Ft.length),setTimeout(()=>Y(null),5e3)):(ue(Ft.length),setTimeout(()=>ue(null),5e3))},K.onerror=()=>{mt.error("An error occurred while reading the CSV file.")},K.readAsText(k),l.target.value=null},ee=l=>{const{name:f,checked:k}=l.target;if(f==="wordpressPosting"&&k&&!(Object.keys((E==null?void 0:E.integrations)||{}).length>0)){mt.error("Please connect your account in plugins.");return}d(S=>w(b({},S),{options:w(b({},S.options),{[f]:k})})),f==="performKeywordResearch"&&(i(S=>w(b({},S),{performKeywordResearch:k})),L(S=>w(b({},S),{keywords:!1})))},ot=l=>{const{value:f}=l.target;let k;f===""?k="":(k=parseInt(f,10),isNaN(k)&&(k=""),k>X&&(k=X),k<0&&(k=0)),d(S=>w(b({},S),{blogs:w(b({},S.blogs),{numberOfBlogs:k})})),L(S=>w(b({},S),{numberOfBlogs:!1}))},ye=D?r.keywords.slice().reverse():r.keywords.slice().reverse().slice(0,18),se=T?a.blogs.topics.slice().reverse():a.blogs.topics.slice().reverse().slice(0,18),Me=l=>{d(f=>w(b({},f),{blogs:w(b({},f.blogs),{imageSource:l,isstockActive:l==="stock"})})),L(f=>w(b({},f),{imageSource:!1}))},We=l=>{const S=["image/jpeg","image/png","image/webp"];if(!l||l.length===0)return[];const K=Array.from(l).filter(le=>S.includes(le.type)?le.size>5242880?(mt.error(`"${le.name}" exceeds the 5 MB size limit.`),!1):!0:(mt.error(`"${le.name}" is not a valid image type. Only PNG, JPEG, and WebP are allowed.`),!1));return a.blogs.blogImages.length+K.length>15?(mt.error("Cannot upload more than 15 images."),K.slice(0,15-a.blogs.blogImages.length)):K},Qe=l=>{const f=l.target.files;if(!f||f.length===0)return;const k=We(f);k.length>0&&(d(S=>w(b({},S),{blogs:w(b({},S.blogs),{blogImages:[...S.blogs.blogImages,...k]})})),mt.success(`${k.length} image(s) added successfully!`)),p.current&&(p.current.value="")},Ge=l=>{l.preventDefault(),l.stopPropagation(),i(S=>w(b({},S),{isDragging:!1}));const f=l.dataTransfer.files;if(!f||f.length===0)return;const k=We(f);k.length>0&&d(S=>w(b({},S),{blogs:w(b({},S.blogs),{blogImages:[...S.blogs.blogImages,...k]})}))},yt=l=>{l.preventDefault(),l.stopPropagation(),i(f=>w(b({},f),{isDragging:!0}))},Dt=l=>{l.preventDefault(),l.stopPropagation(),i(f=>w(b({},f),{isDragging:!1}))},It=l=>{d(f=>w(b({},f),{blogs:w(b({},f.blogs),{blogImages:f.blogs.blogImages.filter((k,S)=>S!==l)})}))},Pt=Pe.useCallback(l=>{d(f=>w(b({},f),{blogs:w(b({},f.blogs),{templates:l.map(k=>k.name)}),templateIds:l.map(k=>k.id)})),L(f=>w(b({},f),{templates:!1}))},[]);switch(s){case 1:return t.jsxs(rr.div,{initial:{opacity:0},animate:{opacity:1},className:`space-y-4 sm:space-y-6 ${Kn(n.templates&&"border-2 border-red-500 rounded-lg")}`,children:[t.jsx(ua,{numberOfSelection:3,userSubscriptionPlan:h!=null?h:"free",preSelectedIds:($e=(Ke=a==null?void 0:a.blogs)==null?void 0:Ke.templates)!=null?$e:[],onClick:Pt}),t.jsx("p",{className:`text-sm ${n!=null&&n.templates?"text-red-500":"text-gray-600"}  my-3 sm:mb-4 px-4`,children:n!=null&&n.templates?n.templates:"Select up to 3 templates for the types of blogs you want to generate."})]});case 2:return t.jsx(rr.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Name"}),t.jsx("input",{type:"text",value:a.name,placeholder:"Enter job name",onChange:l=>{d(w(b({},a),{name:l.target.value})),L(f=>w(b({},f),{name:!1}))},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${n.name?"border-red-500":"border-gray-200"}`,"aria-label":"Job name"}),n.name&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.name})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-2 flex gap-2 items-center",children:["Topics",t.jsx(en,{title:"Upload a .csv file in the format: `Topics` as header",children:t.jsx(yn,{size:16,className:"text-blue-500 cursor-pointer"})})]}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:r.topicInput||"",onKeyDown:l=>l.key==="Enter"&&W(r.topicInput,"topics"),onChange:l=>i(f=>w(b({},f),{topicInput:l.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${n.topics?"border-red-500":"border-gray-200"}`,placeholder:"Add a topic...","aria-label":"Add topic"}),t.jsx(rr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(r.topicInput,"topics"),className:"px-4 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-lg","aria-label":"Add topic",children:t.jsx(bn,{})}),t.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[t.jsx(xn,{size:16}),t.jsx("input",{type:"file",accept:".csv",onChange:l=>st(l,"topics"),hidden:!0}),t.jsx("span",{className:"sr-only",children:"Upload CSV for topics"})]})]}),n.topics&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.topics}),t.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[se.map((l,f)=>{const k=a.blogs.topics.length-1-f;return t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[l,t.jsx("button",{type:"button",onClick:()=>d(S=>w(b({},S),{blogs:w(b({},S.blogs),{topics:S.blogs.topics.filter((K,Fe)=>Fe!==k)})})),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none","aria-label":`Remove topic ${l}`,children:t.jsx(nn,{className:"w-3 h-3"})})]},`${l}-${k}`)}),(a.blogs.topics.length>18||j)&&t.jsx("span",{onClick:()=>re(l=>!l),className:"text-xs font-medium text-blue-600 self-center cursor-pointer flex items-center gap-1",children:T?t.jsx(t.Fragment,{children:"Show less"}):t.jsxs(t.Fragment,{children:[a.blogs.topics.length>18&&`+${a.blogs.topics.length-18} more`,j&&` (+${j} uploaded)`]})})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Perform Keyword Research?",t.jsx("p",{className:"text-xs text-gray-500",children:"Allow AI to find relevant keywords for the topics."})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",name:"performKeywordResearch",checked:r.performKeywordResearch,onChange:ee,className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),!r.performKeywordResearch&&t.jsxs("div",{children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-2 flex gap-2 items-center",children:["Keywords",t.jsx(en,{title:"Upload a .csv file in the format: `Keywords` as header",children:t.jsx(yn,{size:16,className:"text-blue-500 cursor-pointer"})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:r.keywordInput,onChange:l=>i(f=>w(b({},f),{keywordInput:l.target.value})),onKeyDown:l=>l.key==="Enter"&&W(r.keywordInput,"keywords"),className:`flex-1 px-3 py-2 border rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 ${n.keywords?"border-red-500":"border-gray-300"}`,placeholder:"e.g., digital marketing trends, AI in business"}),t.jsx("button",{onClick:()=>W(r.keywordInput,"keywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:t.jsx(bn,{})}),t.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[t.jsx(xn,{size:16}),t.jsx("input",{type:"file",accept:".csv",onChange:l=>st(l,"keywords"),hidden:!0}),t.jsx("span",{className:"sr-only",children:"Upload CSV"})]})]}),n.keywords&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.keywords}),t.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[ye.map((l,f)=>{const k=r.keywords.length-1-f;return t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[l,t.jsx("button",{type:"button",onClick:()=>{const S=[...r.keywords];S.splice(k,1),i(K=>w(b({},K),{keywords:S})),d(K=>w(b({},K),{blogs:w(b({},K.blogs),{keywords:S})}))},className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:t.jsx(nn,{className:"w-3 h-3"})})]},`${l}-${k}`)}),(r.keywords.length>18||g)&&t.jsx("span",{onClick:()=>ke(l=>!l),className:"text-xs font-medium text-blue-600 self-center cursor-pointer flex items-center gap-1",children:D?t.jsx(t.Fragment,{children:"Show less"}):t.jsxs(t.Fragment,{children:[r.keywords.length>18&&`+${r.keywords.length-18} more`,g&&` (+${g} uploaded)`]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"tone",className:"block text-sm font-medium text-gray-700 mb-2",children:["Tone of Voice ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs(zr,{className:"w-full",value:a.blogs.tone,onChange:l=>{d(w(b({},a),{blogs:w(b({},a.blogs),{tone:l})})),L(f=>w(b({},f),{tone:!1}))},placeholder:"Select tone",status:n.tone?"error":"",children:[t.jsx(He,{value:"",children:"Select Tone"}),t.jsx(He,{value:"professional",children:"Professional"}),t.jsx(He,{value:"casual",children:"Casual"}),t.jsx(He,{value:"friendly",children:"Friendly"}),t.jsx(He,{value:"formal",children:"Formal"}),t.jsx(He,{value:"conversational",children:"Conversational"}),t.jsx(He,{value:"witty",children:"Witty"}),t.jsx(He,{value:"informative",children:"Informative"}),t.jsx(He,{value:"inspirational",children:"Inspirational"}),t.jsx(He,{value:"persuasive",children:"Persuasive"}),t.jsx(He,{value:"empathetic",children:"Empathetic"})]}),n.tone&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.tone})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"language",className:"block text-sm font-medium text-gray-700 mb-2",children:["Language ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs(zr,{className:"w-full",value:a.blogs.languageToWrite,onChange:l=>{d(w(b({},a),{blogs:w(b({},a.blogs),{languageToWrite:l})}))},placeholder:"Select language",children:[t.jsx(He,{value:"English",children:"English"}),t.jsx(He,{value:"Spanish",children:"Spanish"}),t.jsx(He,{value:"German",children:"German"}),t.jsx(He,{value:"French",children:"French"}),t.jsx(He,{value:"Italian",children:"Italian"}),t.jsx(He,{value:"Portuguese",children:"Portuguese"}),t.jsx(He,{value:"Dutch",children:"Dutch"}),t.jsx(He,{value:"Japanese",children:"Japanese"}),t.jsx(He,{value:"Hindi",children:"Hindi"}),t.jsx(He,{value:"Chinese",children:"Chinese"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approx. Blog Length (Words)"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"range",min:"500",max:"5000",value:a.blogs.userDefinedLength,className:"w-full h-1 rounded-lg appearance-none cursor-pointer bg-gradient-to-r from-[#1B6FC9] to-gray-100 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${(a.blogs.userDefinedLength-500)/4500*100}%, #E5E7EB ${(a.blogs.userDefinedLength-500)/4500*100}%)`},onChange:l=>d(w(b({},a),{blogs:w(b({},a.blogs),{userDefinedLength:parseInt(l.target.value)})}))}),t.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[a.blogs.userDefinedLength," words"]})]})]})]})]})});case 3:return t.jsxs(rr.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Add Image"}),t.jsxs("div",{className:"flex items-center",children:[t.jsxs("label",{htmlFor:"add-image-toggle",className:"relative inline-block w-12 h-6",children:[t.jsx("input",{type:"checkbox",id:"add-image-toggle",className:"sr-only peer",checked:a.blogs.isCheckedGeneratedImages,onChange:l=>{const f=l.target.checked;d(k=>w(b({},k),{blogs:w(b({},k.blogs),{isCheckedGeneratedImages:f,imageSource:f?k.blogs.imageSource:"stock"})}))}}),t.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${a.blogs.isCheckedGeneratedImages?"bg-[#1B6FC9]":"bg-gray-300"}`}),t.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 ${a.blogs.isCheckedGeneratedImages?"translate-x-6":""}`})]}),a.blogs.isCheckedGeneratedImages&&Ce&&t.jsx(en,{title:"You've reached your AI image generation limit. It'll reset in the next billing cycle.",overlayInnerStyle:{backgroundColor:"#FEF9C3",border:"1px solid #FACC15",color:"#78350F"},children:t.jsx(dn,{className:"text-yellow-400 ml-4",size:15})})]})]}),a.blogs.isCheckedCustomImages&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Upload Custom Images (Max 15, each 5MB)"}),t.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${r.isDragging?"border-blue-600 bg-blue-50":"border-gray-300 bg-gray-50"}`,onDragOver:yt,onDragLeave:Dt,onDrop:Ge,children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drag and drop images here or click to select"}),t.jsx("button",{className:"px-4 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md text-sm",onClick:()=>{var l;return(l=p.current)==null?void 0:l.click()},children:"Select Images"}),t.jsx("input",{type:"file",ref:p,onChange:Qe,accept:"image/jpeg,image/png,image/webp",multiple:!0,className:"hidden"})]}),a.blogs.blogImages.length>0&&t.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 gap-4",children:a.blogs.blogImages.map((l,f)=>t.jsxs("div",{className:"relative group",children:[t.jsx("img",{src:l instanceof File?URL.createObjectURL(l):l,alt:l instanceof File?l.name:`Image ${f+1}`,className:"w-full h-24 object-cover rounded-md"}),t.jsx("button",{onClick:()=>It(f),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx(nn,{className:"w-4 h-4"})}),t.jsx("p",{className:"text-xs text-gray-600 truncate mt-1",children:l instanceof File?l.name:`Image ${f+1}`})]},f))})]}),a.blogs.isCheckedGeneratedImages&&!a.blogs.isCheckedCustomImages&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Image Source"}),t.jsx("div",{className:`grid grid-cols-2 gap-4 mx-auto w-full ${n.imageSource?"border-2 border-red-500 rounded-lg p-2":""}`,children:ve.map(l=>{const f=l.value==="ai-generated"&&l.isAiImagesLimitReached,k=l.restricted||f;return t.jsxs("label",{htmlFor:l.id,className:`relative border rounded-lg px-4 py-3 flex items-center gap-3 justify-center cursor-pointer transition-all duration-150
              ${a.blogs.imageSource===l.value?"border-blue-600 bg-blue-50":"border-gray-300"}
              hover:shadow-sm w-full
              ${k?"opacity-50 cursor-not-allowed":""}
            `,onClick:S=>{k&&(S.preventDefault(),cn({featureName:l.featureName||"AI-Generated Images",navigate:q}))},children:[t.jsx("input",{type:"radio",id:l.id,name:"imageSource",value:l.value,checked:a.blogs.imageSource===l.value,onChange:()=>{k||Me(l.value)},className:"hidden",disabled:k}),t.jsx("span",{className:"text-sm font-medium text-gray-800",children:l.label}),(l.restricted||f)&&t.jsx(gn,{className:"w-4 h-4 text-yellow-500 absolute top-2 right-2"})]},l.id)})}),n.imageSource&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.imageSource})]}),t.jsxs("div",{className:"w-full",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Number of Images"}),t.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the number of images (0 = AI will decide)"}),t.jsx("input",{type:"tel",inputMode:"numeric",name:"numberOfImages",min:"0",max:"15",value:(Lt=a.blogs.numberOfImages)!=null?Lt:"",onChange:Oe,onWheel:l=>l.currentTarget.blur(),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm placeholder-gray-400 transition",placeholder:"e.g., 5"}),n.numberOfImages&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.numberOfImages})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select AI Model"}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[{id:"gemini",label:"Gemini",logo:"/Images/gemini.webp",restricted:!1},{id:"openai",label:"ChatGPT",logo:"/Images/chatgpt.webp"},{id:"claude",label:"Claude",logo:"/Images/claude.webp"}].map(l=>t.jsxs("label",{htmlFor:l.id,className:`relative border rounded-lg px-4 py-3 flex items-center gap-3 cursor-pointer transition-all duration-150
      ${r.aiModel===l.id?"border-blue-600 bg-blue-50":"border-gray-300"}
      hover:shadow-sm w-full`,onClick:f=>{l.restricted&&(f.preventDefault(),cn({featureName:l.label,navigate:q}))},children:[t.jsx("input",{type:"radio",id:l.id,name:"aiModel",value:l.id,checked:r.aiModel===l.id,onChange:f=>{l.restricted||i(k=>w(b({},k),{aiModel:f.target.value}))},className:"hidden"}),t.jsx("img",{src:l.logo,alt:l.label,className:"w-6 h-6 object-contain"}),t.jsx("span",{className:"text-sm font-medium text-gray-800",children:l.label}),l.restricted&&t.jsx(gn,{className:"w-4 h-4 text-yellow-500 absolute top-2 right-2"})]},l.id))})]}),t.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4 shadow-sm mb-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-green-900 mb-1",children:"ðŸ’° Cost Cutter"}),t.jsx("p",{className:"text-xs text-green-700",children:"Use AI Flash model for 25% savings"})]}),t.jsxs("label",{htmlFor:"cost-cutter-toggle",className:"relative inline-block w-12 h-6",children:[t.jsx("input",{type:"checkbox",id:"cost-cutter-toggle",className:"sr-only peer",checked:a.blogs.costCutter||!1,onChange:l=>{d(f=>w(b({},f),{blogs:w(b({},f.blogs),{costCutter:l.target.checked})}))}}),t.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${a.blogs.costCutter?"bg-green-500":"bg-gray-300"}`}),t.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 shadow-md ${a.blogs.costCutter?"translate-x-6":""}`})]})]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule Type"}),t.jsxs(zr,{value:a.schedule.type,onChange:l=>{d(w(b({},a),{schedule:w(b({},a.schedule),{type:l,daysOfWeek:l==="weekly"?[]:a.schedule.daysOfWeek,daysOfMonth:l==="monthly"?[]:a.schedule.daysOfMonth,customDates:l==="custom"?[]:a.schedule.customDates})})),L(f=>w(b({},f),{daysOfWeek:!1,daysOfMonth:!1,customDates:!1}))},className:"w-full",children:[t.jsx(He,{value:"daily",children:"Daily"}),t.jsx(He,{value:"weekly",children:"Weekly"}),t.jsx(He,{value:"monthly",children:"Monthly"}),t.jsx(He,{value:"custom",children:"Custom"})]})]}),a.schedule.type==="weekly"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Days of Week"}),t.jsx("div",{className:`flex gap-2 flex-wrap ${n.daysOfWeek?"border-red-500 border-2 p-2 rounded":""}`,children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((l,f)=>{var k;return t.jsx("button",{type:"button",className:`px-2 py-1 rounded ${(k=a.schedule.daysOfWeek)!=null&&k.includes(f)?"bg-[#1B6FC9] text-white":"bg-gray-200 text-gray-700"}`,onClick:()=>{d(S=>{var Fe;const K=(Fe=S.schedule.daysOfWeek)!=null&&Fe.includes(f)?S.schedule.daysOfWeek.filter(le=>le!==f):[...S.schedule.daysOfWeek||[],f];return w(b({},S),{schedule:w(b({},S.schedule),{daysOfWeek:K})})}),L(S=>w(b({},S),{daysOfWeek:!1}))},children:l},f)})}),n.daysOfWeek&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.daysOfWeek})]}),a.schedule.type==="monthly"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Dates of Month"}),t.jsx("div",{className:`flex gap-2 flex-wrap ${n.daysOfMonth?"border-red-500 border-2 p-2 rounded":""}`,children:Array.from({length:31},(l,f)=>f+1).map(l=>{var f;return t.jsx("button",{type:"button",className:`px-2 py-1 rounded ${(f=a.schedule.daysOfMonth)!=null&&f.includes(l)?"bg-[#1B6FC9] text-white":"bg-gray-200 text-gray-700"}`,onClick:()=>{d(k=>{var K;const S=(K=k.schedule.daysOfMonth)!=null&&K.includes(l)?k.schedule.daysOfMonth.filter(Fe=>Fe!==l):[...k.schedule.daysOfMonth||[],l];return w(b({},k),{schedule:w(b({},k.schedule),{daysOfMonth:S})})}),L(k=>w(b({},k),{daysOfMonth:!1}))},children:l},l)})}),n.daysOfMonth&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.daysOfMonth})]}),a.schedule.type==="custom"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Dates"}),t.jsx("div",{className:n.customDates?"border-2 border-red-500 rounded-lg":"",children:t.jsx(Ia,{value:a.schedule.customDates,onChange:l=>{d(w(b({},a),{schedule:w(b({},a.schedule),{customDates:l,daysOfWeek:[],daysOfMonth:[]})})),L(f=>w(b({},f),{customDates:!1}))},multiple:!0,format:"YYYY-MM-DD",className:"w-full",inputClass:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"})}),n.customDates&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.customDates})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Blogs"}),t.jsx("input",{type:"tel",inputMode:"numeric",name:"numberOfBlogs",min:"1",max:X,value:(St=a.blogs.numberOfBlogs)!=null?St:"",onChange:ot,onWheel:l=>l.currentTarget.blur(),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${n.numberOfBlogs?"border-red-500":"border-gray-200"}`,placeholder:"Enter the number of blogs"}),n.numberOfBlogs&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.numberOfBlogs})]})]})]});case 4:return t.jsxs("div",{children:[t.jsxs("div",{className:"mt-0",children:[[{label:"Add FAQ",name:"includeFaqs",desc:"Include frequently asked questions at the end of the blog."},{label:"Add Competitive Research",name:"includeCompetitorResearch",desc:"Analyze competitors to improve blog quality."},...a.options.includeCompetitorResearch?[{label:"Show Outbound Links",name:"addOutBoundLinks",desc:"Add outbound links, references of other websites"}]:[],{label:"Add InterLinks",name:"includeInterlinks",desc:"Add internal links between your blogs for better SEO."},{label:"Enable Automatic Posting",name:"wordpressPosting",desc:"Automatically post the blog to your connected plugins."},...a.options.wordpressPosting?[{label:"Table of Content",name:"includeTableOfContents",desc:"Display a table of contents for easier navigation."}]:[],{label:"Easy to Understand",name:"easyToUnderstand",desc:" for better accessibility."},{label:"Embed YouTube Videos",name:"embedYouTubeVideos",desc:"Add relevant YouTube videos to your blog content."}].map(({label:l,name:f,desc:k})=>t.jsxs("div",{className:"flex items-start justify-between py-2 mt-3",children:[t.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[l,t.jsx("p",{className:"text-xs text-gray-500",children:k})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.options[f],onChange:ee,name:f}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]},f)),a.options.wordpressPosting&&Object.keys((E==null?void 0:E.integrations)||{}).length>0&&t.jsxs("div",{className:"my-5",children:[t.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Select Your Publishing Platform",t.jsx("p",{className:"text-xs text-gray-500",children:"Post your blog automatically to connected platforms only."})]}),t.jsx(zr,{className:"w-full mt-2",placeholder:"Select platform",value:r.postingType,onChange:Le,status:n.postingType?"error":"",children:Object.entries(E.integrations).map(([l,f])=>t.jsx(He,{value:l,children:l},l))}),n.postingType&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.postingType})]})]}),t.jsx("div",{className:"my-5",children:t.jsx(fa,{label:"Write with Brand Voice",labelClass:"text-sm font-medium text-gray-700",errorText:n.brandId,size:"large",value:{isCheckedBrand:a.blogs.useBrandVoice,brandId:a.blogs.brandId,addCTA:a.blogs.addCTA},onChange:l=>{d(f=>w(b({},f),{blogs:w(b({},f.blogs),{useBrandVoice:l.isCheckedBrand,brandId:l.brandId,addCTA:l.addCTA})})),l.brandId&&L(f=>w(b({},f),{brandId:!1}))}})})]});default:return null}},Ya=({showJobModal:s,selectedKeywords:a,user:d,userPlan:r,isUserLoaded:i})=>{const n={name:"",schedule:{type:"daily",customDates:[],daysOfWeek:[],daysOfMonth:[]},blogs:{numberOfBlogs:1,topics:[],keywords:[],templates:[],tone:"Professional",userDefinedLength:1e3,imageSource:an.STOCK,aiModel:"gemini",brandId:null,useBrandVoice:!1,isCheckedGeneratedImages:!0,isCheckedCustomImages:!1,addCTA:!0,numberOfImages:0,blogImages:[],postingType:null,languageToWrite:"English",costCutter:!0},options:{wordpressPosting:!1,includeFaqs:!1,includeCompetitorResearch:!1,includeInterlinks:!1,performKeywordResearch:!1,includeTableOfContents:!1,addOutBoundLinks:!1,easyToUnderstand:!1,embedYouTubeVideos:!1},status:"active",templateIds:[]},L=Xr(),j=fn(),{selectedJob:Y}=Ur(ye=>ye.jobs),[g,ue]=Pe.useState(1),[T,re]=Pe.useState(n),[D,ke]=Pe.useState({keywords:n.blogs.keywords||[],keywordInput:"",performKeywordResearch:n.options.performKeywordResearch,aiModel:n.blogs.aiModel,postingType:n.blogs.postingType}),[J,h]=Pe.useState({}),[F,p]=Pe.useState(null),[E,X]=Pe.useState(null),[Ce,q]=Pe.useState(!1),[ve,Le]=Pe.useState(!1),W=10;Pe.useEffect(()=>{s||(re(ye=>n),ke({keywords:[],keywordInput:"",performKeywordResearch:!1,postingType:"WORDPRESS",aiModel:"gemini"}),ue(1),h({}),L(tn()))},[s]),Pe.useEffect(()=>{Y?(ke(ye=>{var se,Me,We,Qe,Ge,yt,Dt;return w(b({},ye),{aiModel:((se=Y.blogs)==null?void 0:se.aiModel)||n.blogs.aiModel,performKeywordResearch:(We=(Me=Y.options)==null?void 0:Me.performKeywordResearch)!=null?We:n.options.performKeywordResearch,keywords:(Ge=(Qe=Y.blogs)==null?void 0:Qe.keywords)!=null?Ge:n.blogs.keywords,postingType:((yt=Y.blogs)==null?void 0:yt.postingType)||n.blogs.postingType,templates:((Dt=Y.blogs)==null?void 0:Dt.templates)||n.blogs.templates})}),re(Y)):re(n)},[Y]),Pe.useEffect(()=>{let ye=Y?b({},Y):n,se=[...ye.blogs.topics||[],...(a==null?void 0:a.allKeywords)||[]],Me=[...ye.blogs.keywords||[],...(a==null?void 0:a.focusKeywords)||[],...(a==null?void 0:a.allKeywords)||[]];re(w(b({},ye),{blogs:w(b({},ye.blogs),{topics:[...new Set(se)],keywords:[...new Set(Me)]})})),ke(We=>w(b({},We),{keywords:[...new Set([...We.keywords||[],...(a==null?void 0:a.focusKeywords)||[],...(a==null?void 0:a.allKeywords)||[]])]}))},[a,Y]),Pe.useEffect(()=>{const ye=[...new Set([...(a==null?void 0:a.focusKeywords)||[],...(a==null?void 0:a.allKeywords)||[]])];ye.length>0&&(ke(se=>w(b({},se),{keywords:[...new Set([...se.keywords,...ye])]})),re(se=>w(b({},se),{blogs:w(b({},se.blogs),{keywords:[...new Set([...se.blogs.keywords,...ye])]})})))},[a]);const Oe=ye=>{const se={};return(ye===1||ye==="all")&&T.blogs.templates.length===0&&(se.templates="Please select at least one template."),(ye===2||ye==="all")&&(T.name||(se.name="Please enter a job name."),T.blogs.topics.length===0&&(se.topics="Please add at least one topic."),T.blogs.tone||(se.tone="Please select a tone."),!D.performKeywordResearch&&D.keywords.length===0&&(se.keywords="Please add at least one keyword or enable keyword research.")),(ye===3||ye==="all")&&((T.blogs.numberOfBlogs<1||T.blogs.numberOfBlogs>W)&&(se.numberOfBlogs=`Number of blogs must be between 1 and ${W}.`),(T.blogs.numberOfImages<0||T.blogs.numberOfImages>W)&&(se.numberOfImages="Number of images must be between 0 and 20."),T.blogs.useBrandVoice&&!T.blogs.brandId&&(se.brandId="Please select a brand voice."),T.schedule.type==="weekly"&&T.schedule.daysOfWeek.length===0&&(se.daysOfWeek="Please select at least one day of the week."),T.schedule.type==="monthly"&&T.schedule.daysOfMonth.length===0&&(se.daysOfMonth="Please select at least one day of the month."),T.schedule.type==="custom"&&T.schedule.customDates.length===0&&(se.customDates="Please select at least one custom date."),T.blogs.isCheckedGeneratedImages&&!T.blogs.imageSource&&(se.imageSource="Please select an image source.")),(ye===4||ye==="all")&&T.options.wordpressPosting&&!D.postingType&&(se.postingType="Please select a posting platform."),h(se),Object.keys(se).length===0},st=()=>Hr(null,null,function*(){if(!Oe("all"))return;const ye=w(b({},T),{blogs:w(b({},T.blogs),{keywords:D.keywords,aiModel:D.aiModel,postingType:D.postingType,imageSource:T.blogs.isCheckedGeneratedImages?T.blogs.imageSource:an.NONE}),options:w(b({},T.options),{performKeywordResearch:D.performKeywordResearch,brandId:T.blogs.useBrandVoice?T.blogs.brandId:null})});try{const se=vn(ye),Me=yield L(Zn({jobPayload:se,user:d})).unwrap();j.setQueryData(["jobs",d.id],(We=[])=>[Me,...We]),L(rn()),re(n),ke({keywords:[],keywordInput:"",performKeywordResearch:!1,postingType:"WORDPRESS",aiModel:"gemini"}),ue(1),h({}),L(tn())}catch(se){console.error("Failed to create job. Please try again.",se)}}),ee=ye=>Hr(null,null,function*(){if(!i){mt.error("User data is still loading. Please try again.");return}if(!Oe("all"))return;const se=w(b({},T),{blogs:w(b({},T.blogs),{keywords:D.keywords,aiModel:D.aiModel,postingType:D.postingType,imageSource:T.blogs.isCheckedGeneratedImages?T.blogs.imageSource:an.NONE}),options:w(b({},T.options),{performKeywordResearch:D.performKeywordResearch,brandId:T.blogs.useBrandVoice?T.blogs.brandId:null})});try{const Me=vn(se),We=yield L(Xn({jobId:ye,jobPayload:Me})).unwrap();j.setQueryData(["jobs",d.id],(Qe=[])=>Qe.map(Ge=>Ge._id===ye?b(b({},Ge),We):Ge)),L(rn()),re(n),ke({keywords:[],keywordInput:"",performKeywordResearch:!1,postingType:"WORDPRESS",aiModel:"gemini"}),ue(1),h({}),L(tn())}catch(Me){console.error(Me)}}),ot=[g>1&&t.jsx("button",{onClick:()=>ue(g-1),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg mr-3 hover:bg-gray-300","aria-label":"Previous step",children:"Previous"},"previous"),g<3&&t.jsx("button",{onClick:()=>{Oe(g)&&ue(g+1)},className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90","aria-label":"Next step",children:"Next"},"next"),g===3&&t.jsx("button",{onClick:()=>{Oe(g)&&ue(4)},className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90","aria-label":"Next step",children:"Next"},"next-step-4"),g===4&&t.jsxs("button",{onClick:Y?()=>ee(Y._id):st,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90","aria-label":Y?"Update job":"Create job",children:[Y?"Update":"Create"," Job"]},"submit")];return t.jsx(Qn,{title:`Step ${g}: ${g===1?"Select Templates":g===2?"Job Details":g===3?"Schedule Settings":"Blog Options"}`,open:s,onCancel:()=>{L(rn())},footer:ot,width:800,centered:!0,className:"custom-modal",children:t.jsx("div",{className:"p-2 md:p-4 max-h-[80vh] overflow-y-auto",children:t.jsx(Pa,{currentStep:g,newJob:T,setNewJob:re,formData:D,setFormData:ke,errors:J,setErrors:h,recentlyUploadedTopicsCount:F,setRecentlyUploadedTopicsCount:p,recentlyUploadedKeywordsCount:E,setRecentlyUploadedKeywordsCount:X,showAllTopics:Ce,setShowAllTopics:q,showAllKeywords:ve,setShowAllKeywords:Le,user:d,userPlan:r})})})},Ea=Pe.memo(({job:s,setCurrentPage:a,paginatedJobs:d})=>{var D,ke,J,h,F,p,E,X,Ce;const r=Xr(),i=fn(),{handlePopup:n}=Jn(),[L,j]=Pe.useState(!1),Y=wn({mutationFn:({jobId:q,currentStatus:ve})=>r(ea({jobId:q,currentStatus:ve})).unwrap(),onSuccess:()=>{i.invalidateQueries({queryKey:["jobs"],exact:!1})},onError:q=>{console.error("Failed to toggle job status:",q)}}),g=wn({mutationFn:q=>r(ta(q)).unwrap(),onSuccess:()=>{i.invalidateQueries({queryKey:["jobs"],exact:!1}),d.length===1&&currentPage>1&&a(q=>q-1)},onError:q=>{console.error("Failed to delete job:",q)}}),ue=q=>{const ve=d.find(Le=>Le._id===q);if(!ve){mt.error("Job not found.");return}Y.mutate({jobId:q,currentStatus:ve.status})},T=q=>{g.mutate(q)},re=q=>{if(!(q!=null&&q._id)){mt.error("Invalid job ID.");return}if(q.status==="active"){mt.warning("Please pause the job before editing.");return}r(Yn(q))};return t.jsxs(rr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.4,ease:"easeOut"},className:"bg-white rounded-xl shadow-lg hover:shadow-xl p-6",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 capitalize",children:s.name}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["ID: ",(s._id||"").toString().slice(-6)||"N/A"]})]}),t.jsx(rr.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>ue(s._id),className:`px-3 py-1 rounded-full text-sm font-medium ${s.status==="active"?"bg-red-100 text-red-600 hover:bg-red-200":"bg-green-100 text-green-600 hover:bg-green-200"}`,"aria-label":s.status==="active"?"Stop job":"Start job",children:s.status==="active"?"Stop":"Start"})]}),t.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center gap-2 capitalize",children:[t.jsx(qr,{className:"w-4 h-4 text-blue-500"}),t.jsxs("span",{children:["Scheduling: ",(D=s==null?void 0:s.schedule)==null?void 0:D.type]})]}),t.jsxs("div",{className:"flex items-center gap-2 capitalize",children:[t.jsx(Gr,{className:"w-4 h-4 text-purple-500"}),t.jsxs("span",{children:["Daily Blogs: ",(ke=s==null?void 0:s.blogs)==null?void 0:ke.numberOfBlogs]})]}),t.jsxs("div",{className:"flex items-center gap-2 capitalize",children:[t.jsx(oa,{className:"w-4 h-4 text-green-500"}),t.jsxs("span",{children:["Model: ",(J=s==null?void 0:s.blogs)==null?void 0:J.aiModel]})]}),t.jsxs("div",{className:"flex items-center gap-2 capitalize",children:[t.jsx(qr,{className:"w-4 h-4 text-red-500"}),t.jsxs("span",{children:["Status: ",s==null?void 0:s.status]})]}),((F=(h=s==null?void 0:s.blogs)==null?void 0:h.topics)==null?void 0:F.length)>0&&t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Gr,{className:"w-4 h-4 text-purple-500 mt-0.5"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Topics:"}),(L?s.blogs.topics:s.blogs.topics.slice(0,6)).map((q,ve)=>t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-md text-xs",children:q},ve)),s.blogs.topics.length>6&&t.jsx("button",{onClick:()=>j(q=>!q),className:"text-xs text-blue-600 hover:underline",children:L?"Show less":`+${s.blogs.topics.length-6} more`})]})]}),((E=(p=s==null?void 0:s.blogs)==null?void 0:p.keywords)==null?void 0:E.length)>0&&t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Gr,{className:"w-4 h-4 text-indigo-500 mt-0.5"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Keywords:"}),(Ce=(X=s==null?void 0:s.blogs)==null?void 0:X.keywords)==null?void 0:Ce.map((q,ve)=>t.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-600 rounded-md text-xs",children:q},ve))]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Gr,{className:"w-4 h-4 text-purple-500"}),t.jsxs("span",{children:["Generated Blogs: ",((s==null?void 0:s.createdBlogs)||[]).length]})]}),(s==null?void 0:s.lastRun)&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(qr,{className:"w-4 h-4 text-yellow-500"}),t.jsxs("span",{children:["Last Run:"," ",new Date(s==null?void 0:s.lastRun).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(qr,{className:"w-4 h-4 text-yellow-500"}),t.jsxs("span",{children:["Created:"," ",s!=null&&s.createdAt?new Date(s==null?void 0:s.createdAt).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"}):"N/A"]})]})]}),t.jsxs("div",{className:"flex gap-2 mt-6",children:[t.jsxs(rr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>re(s),className:"px-4 py-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 flex items-center gap-2","aria-label":"Edit job",children:[t.jsx(ia,{}),"Edit"]}),t.jsx(rr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200","aria-label":"Delete job",onClick:()=>n({title:"Delete Job",description:t.jsxs("span",{className:"my-2",children:["Are you sure you want to delete ",t.jsx("b",{className:"capitalize",children:s.name})," job?"]}),confirmText:"Delete",onConfirm:()=>{T(s._id)},confirmProps:{type:"text",className:"border-red-500 hover:bg-red-500 bg-red-100 text-red-600"},cancelProps:{danger:!1}}),children:"Delete"})]})]})}),$r=15,ks=()=>{var q,ve,Le;const s=Xr(),a=Pn(),d=fn(),{showJobModal:r}=Ur(W=>W.jobs),{selectedKeywords:i}=Ur(W=>W.analysis),n=Ur(ra),L=((n==null?void 0:n.plan)||((q=n==null?void 0:n.subscription)==null?void 0:q.plan)||"free").toLowerCase(),[j,Y]=Pe.useState(1),[g,ue]=Pe.useState(!1),[T,re]=Pe.useState(!1),D=(ve=n==null?void 0:n.usage)==null?void 0:ve.createdJobs,ke=(Le=n==null?void 0:n.usageLimits)==null?void 0:Le.createdJobs,{data:J=[],isLoading:h}=ma({queryKey:["jobs",n==null?void 0:n.id],queryFn:()=>Hr(null,null,function*(){return(yield s(sa()).unwrap())||[]}),staleTime:1/0,gcTime:1/0,refetchOnMount:"always",refetchOnWindowFocus:!1,enabled:!!n});Pe.useEffect(()=>{const W=ha();if(!W||!n){console.debug("Socket or user not available, skipping WebSocket setup");return}console.debug("Setting up WebSocket listeners for user:",n.id);const Oe=(ee,ot)=>{var se;console.debug(`Received ${ot}:`,ee),((ee==null?void 0:ee.status)==="stop"||(ee==null?void 0:ee.status)==="stopped")&&((se=ee==null?void 0:ee.reason)!=null&&se.toLowerCase().includes("insufficient credits"))&&mt.error({content:t.jsxs("div",{children:[t.jsx("strong",{children:"Job Stopped: Insufficient Credits"}),t.jsx("p",{className:"mt-1",children:ee.reason||"This job was stopped because you don't have enough credits."}),t.jsx("a",{href:"/pricing",className:"text-blue-600 hover:text-blue-700 font-semibold underline",onClick:Me=>{Me.preventDefault(),a("/pricing")},children:"Add Credits â†’"})]}),duration:8,className:"insufficient-credits-notification"});const ye=["jobs",n.id];ot==="job:deleted"?(d.setQueryData(ye,(Me=[])=>Me.filter(We=>We._id!==(ee._id||ee.jobId))),d.removeQueries({queryKey:["job",ee._id||ee.jobId]})):(d.setQueryData(ye,(Me=[])=>{const We=ee._id||ee.jobId,Qe=Me.findIndex(Ge=>Ge._id===We);if(Qe>-1){const Ge=[...Me];return Ge[Qe]=w(b(b({},Me[Qe]),ee),{_id:We}),console.debug(`Updated job at index ${Qe}:`,Ge[Qe]),Ge}else return console.debug("Adding new job:",ee),[w(b({},ee),{_id:We}),...Me]}),d.setQueryData(["job",ee._id||ee.jobId],Me=>b(b({},Me),ee)))},st=()=>{console.debug("User notification received, checking for insufficient credits"),d.invalidateQueries({queryKey:["jobs",n.id]})};return W.on("job:statusChanged",ee=>Oe(ee,"job:statusChanged")),W.on("job:updated",ee=>Oe(ee,"job:updated")),W.on("job:created",ee=>Oe(ee,"job:created")),W.on("job:deleted",ee=>Oe(ee,"job:deleted")),W.on("user:notification",st),W.on("connect",()=>console.debug("Socket connected")),W.on("disconnect",()=>console.debug("Socket disconnected")),()=>{console.debug("Cleaning up WebSocket listeners"),W.off("job:statusChanged"),W.off("job:updated"),W.off("job:created"),W.off("job:deleted"),W.off("user:notification"),W.off("connect"),W.off("disconnect")}},[d,n,a]),Pe.useEffect(()=>{n?re(!!(n!=null&&n.name||n!=null&&n.credits)):(d.removeQueries({queryKey:["jobs"]}),Y(1),ue(!1),re(!1))},[n,d]);const F=Pe.useCallback(()=>D>=ke?(cn({featureName:"Additional Jobs",navigate:a}),!1):!0,[D,ke,a]),p=Pe.useCallback(()=>{F()&&s(Yn(null))},[s,F]),E=Pe.useCallback(()=>{d.invalidateQueries({queryKey:["jobs",n==null?void 0:n.id]})},[d,n]);Pe.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[j]);const X=Pe.useMemo(()=>Math.ceil(J.length/$r),[J]),Ce=Pe.useMemo(()=>{const W=(j-1)*$r;return J.slice(W,W+$r)},[J,j]);return L==="free"?t.jsx(ca,{featureName:"Content Agent"}):t.jsxs(t.Fragment,{children:[t.jsx(na,{children:t.jsx("title",{children:"Content Agent | GenWrite"})}),t.jsxs("div",{className:"min-h-screen p-4 lg:p-8",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between mt-5 md:mt-0",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx(rr.h1,{initial:{y:-20},animate:{y:0},className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Jobs Automation"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your automated content generation jobs"})]}),t.jsxs("div",{className:"flex gap-2",children:[D>=ke&&t.jsx("button",{onClick:()=>ue(W=>!W),className:"text-yellow-500 hover:text-yellow-600 transition",title:"View usage warning",children:t.jsx(dn,{className:"w-6 h-6"})}),t.jsx(rr.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsx(aa,{type:"default",icon:t.jsx(pa,{className:"w-4 sm:w-5 h-4 sm:h-5"}),onClick:E,disabled:h,className:"text-xs sm:text-sm px-4 py-2",children:"Refresh"})})]})]}),g&&D>=ke&&t.jsxs("div",{className:"flex items-start mb-10 gap-3 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg shadow-sm text-sm",children:[t.jsx("div",{className:"pt-1 text-yellow-500",children:t.jsx(dn,{className:"w-5 h-5"})}),t.jsxs("div",{className:"text-yellow-900",children:[t.jsx("p",{className:"font-semibold mb-1",children:"Monthly Job Creation Limit Reached"}),t.jsxs("p",{className:"mb-1",children:["You've created ",t.jsx("span",{className:"font-bold text-black",children:D})," out of"," ",t.jsx("span",{className:"font-bold text-black",children:ke})," allowed jobs this month. You can't create any more jobs until your next billing cycle."]}),t.jsx("p",{className:"text-red-400 text-xs font-semibold",children:"Tip: Update your current job instead of deleting and recreating."})]})]}),t.jsxs(rr.div,{className:"w-full md:w-1/2 lg:w-1/3 h-52 p-6 bg-white rounded-2xl shadow-lg hover:shadow-xl cursor-pointer mb-8 transition-all duration-300 border border-gray-100",onClick:p,children:[t.jsx("div",{className:"flex items-center justify-between gap-4",children:t.jsx("span",{className:"bg-blue-50 rounded-2xl p-4 shadow-inner",children:t.jsx(la,{className:"w-7 h-7 text-blue-600"})})}),t.jsxs("div",{className:"mt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 tracking-wide",children:"Create New Job"}),t.jsx("p",{className:"text-gray-500 mt-2 text-sm leading-relaxed",children:"Automate content generation with custom templates and scheduling."})]})]}),J.length>0&&t.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Active Jobs"}),h?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array($r)].map((W,Oe)=>t.jsx(da,{},Oe))}):J.length===0?t.jsx("div",{className:"flex flex-col justify-center items-center",style:{minHeight:"calc(100vh - 250px)"},children:t.jsx("p",{className:"text-xl text-gray-600",children:"No jobs available."})}):t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[" ",Ce.map(W=>t.jsx(Ea,{job:W,setCurrentPage:Y,paginatedJobs:Ce},W._id))]}),X>1&&t.jsx("div",{className:"flex justify-center mt-6",children:t.jsx(ga,{current:j,pageSize:$r,total:J.length,onChange:W=>Y(W),showSizeChanger:!1,responsive:!0})})]}),t.jsx(Ya,{showJobModal:r,selectedKeywords:i,user:n,userPlan:L,isUserLoaded:T})]})]})};export{ks as default};
