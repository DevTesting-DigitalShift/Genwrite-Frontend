import{I as Me,j as e,Q as q,y as D,a as V,u as Z,S as Ae,U as Ke,J as le,m as z,G as ce,T as oe,V as Fe,W as Ee,X as me,Y as Ce,D as be,Z as ye,$ as Se,a0 as Pe,E as Te,H as De,A as de,K as je,a1 as we,a2 as ze,a3 as Re}from"./index-DHP2t6HA.js";import{b}from"./chunk-tiptap-Diw-eXXG.js";import{C as ue,p as ie}from"./templates-B99iJKDQ.js";import{P as te}from"./plus-CyxAP8n0.js";import{S as $e}from"./index-BBTK1hyc.js";import{S as Ie}from"./sparkles-B-mEaFlZ.js";import{S as ae}from"./index-UTnZztYX.js";import{X}from"./x-CRSOVgfR.js";import{P as Ge}from"./pen-tool-CvOnkxLM.js";import{Z as Oe}from"./zap-aeIAaMTM.js";import{c as ne}from"./createLucideIcon-C5jW9RxN.js";import{S as _e}from"./search-D9LAgYQh.js";import{U as We}from"./users-DPOxn49H.js";import{h as Ue}from"./moment-C5S46NFB.js";import{A as Be}from"./arrow-right-BSwhHR0B.js";import{E as He}from"./eye-CNo1tKaf.js";import{g as pe}from"./getEstimatedCost-B6lBIM45.js";import{I as ve,U as Ne}from"./upload-Do5G6uA7.js";import{R as Ve,C as Qe}from"./CompetitiveAnalysisModal-rfaeYR_M.js";import{F as ge,T as qe}from"./index-Dv5Nl2oi.js";import{I as Ze}from"./index-Dh0_sa9O.js";import{S as Je,a as ke}from"./SkeletonLoader-DDlmKb6n.js";import{C as Ye}from"./clock-BIXxGrxt.js";import"./Overflow-D_Ltaz_B.js";import"./useIcons-CxbPEg0c.js";import"./LeftOutlined-BIfn6i9V.js";import"./index-DFB2X_Ok.js";import"./EllipsisOutlined-BCyb6q2U.js";import"./index-BmP4ZiJx.js";import"./Pagination-B8qnI-jX.js";import"./Input-De63Xfbe.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],es=ne("activity",Xe);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],xe=ne("gem",ss);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],rs=ne("grid-3x3",ts);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ls=ne("tag",as);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],os=ne("tags",ns);var is={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function he(){return he=Object.assign?Object.assign.bind():function(P){for(var N=1;N<arguments.length;N++){var x=arguments[N];for(var a in x)Object.prototype.hasOwnProperty.call(x,a)&&(P[a]=x[a])}return P},he.apply(this,arguments)}const cs=(P,N)=>b.createElement(Me,he({},P,{ref:N,icon:is})),Le=b.forwardRef(cs),ds=({title:P,visible:N,onCancel:x,children:a})=>N?e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e.jsx("div",{className:"modal-overlay absolute inset-0 bg-gray-800 opacity-50"}),e.jsxs("div",{className:"modal-container bgwhi w-96 rounded-lg shadow-lg z-50 overflow-y-auto",children:[e.jsxs("div",{className:"modal-header p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold ",children:P}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:x,children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"modal-content p-4",children:a})]})]}):null,ms=({handleNext:P,handleClose:N,data:x,setData:a})=>{const[w,K]=b.useState(null),[f,F]=b.useState({userDefinedLength:0,tone:"",includeInterlink:!1,includeMetaHeadlines:!1,wordpressStatus:!0,numberOfBlogs:0,postFrequency:0,randomisedFrequency:0,template:[],focusKeywords:[],keywords:[],focusKeywordInput:"",keywordInput:""}),S=[{imgSrc:"./Images/Classic.png",name:"Classic",description:"Timeless elegance for your classic blog journey",author:"Author 1"},{imgSrc:"./Images/Listicle.png",name:"Listicle",description:"Tips for actionable success in list format.",author:"Author 2"},{imgSrc:"./Images/ProductReview.png",name:"Product Review",description:"Product insights: pros, cons, and more.",author:"Author 3"},{imgSrc:"./Images/HowTo.png",name:"How to....",description:"Step-by-step guides for practical how-to solutions.",author:"Author 4"},{imgSrc:"./Images/NewsArticle.png",name:"News Article",description:"Latest updates and breaking news coverage."},{imgSrc:"./Images/OpinionPiece.png",name:"Opinion Piece",description:"Expert insights and analytical perspectives."},{imgSrc:"./Images/CaseStudy.png",name:"Case Study",description:"In-depth analysis and real-world examples."},{imgSrc:"./Images/Interview.png",name:"Interview",description:"Engaging conversations with industry experts."}],u=n=>{K(n),a({...x,template:S[n]}),F({...f,template:[S[n].name]})},B=()=>{if(w!==null){const n=S[w],v={...x,selectedTemplate:n};a(v),P()}else D.error("Please select a template before proceeding.")};return b.useEffect(()=>(open?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[open]),e.jsx(q,{title:"Step 1: Select Template",open:!0,onCancel:N,footer:[e.jsx("button",{onClick:B,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")],centered:!0,width:800,transitionName:"",maskTransitionName:"",children:e.jsx("div",{children:e.jsx("div",{className:"p-3",children:e.jsx(ue,{children:S.map((n,v)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${f.template.includes(n.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>u(v),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:n.imgSrc||"/placeholder.svg",alt:n.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:n.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:n.description})]})]})},v))})})})})},xs=b.memo(ms),{Option:H}=ae,hs=({handleNext:P,handleClose:N,handlePrevious:x,data:a,setData:w})=>{var M;const[K,f]=b.useState((a==null?void 0:a.topic)||""),[F,S]=b.useState(!1),{selectedKeywords:u}=V(m=>m.analysis),B=Z(),[n,v]=b.useState({focusKeywordInput:"",focusKeywords:(u==null?void 0:u.focusKeywords)||[],keywordInput:"",keywords:(u==null?void 0:u.keywords)||[]}),[r,k]=b.useState({title:!1,topic:!1,tone:!1,focusKeyword:!1,focusKeywordInput:"",keyword:!1,keywordInput:""}),[C,p]=b.useState([]),[y,I]=b.useState(!1);b.useEffect(()=>{v(m=>({...m,focusKeywords:(u==null?void 0:u.focusKeywords)||[],keywords:(u==null?void 0:u.keywords)||[]}))},[u]),b.useEffect(()=>{S(!1),p([])},[]),b.useEffect(()=>(open?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[open]);const o=m=>{v(i=>({...i,keywordInput:m.target.value}))},l=()=>{const m=n.keywordInput;if(m.trim()!==""){const i=m.split(",").map(h=>h.trim()).filter(h=>h!==""&&!n.keywords.includes(h));i.length>0&&v(h=>({...h,keywords:[...h.keywords,...i],keywordInput:""}))}},j=m=>{v(i=>({...i,focusKeywordInput:m.target.value}))},L=()=>{const m=n.focusKeywordInput;if(m.trim()!==""){const i=m.split(",").map(h=>h.trim()).filter(h=>h!==""&&!n.focusKeywords.includes(h));if(i.length>0){const h=[...n.focusKeywords,...i].slice(0,3);v(G=>({...G,focusKeywords:h,focusKeywordInput:""}))}}},_=(m,i)=>{const h=[...n[i]];h.splice(m,1),v(G=>({...G,[i]:h}))},$=(m,i)=>{m.key==="Enter"&&(m.preventDefault(),i==="focusKeywords"?L():l())},T=m=>{w(i=>({...i,tone:m})),k(i=>({...i,tone:!1}))},s=async()=>{if(!K.trim()||n.keywords.length===0){D.error("Please enter a topic & keyword before generating titles.");return}I(!0);try{const m=await B(Ae({keywords:n.keywords,focusKeywords:n.focusKeywords,topic:K,template:"default"})).unwrap();p(m),S(!0)}catch{}finally{I(!1)}},d=()=>{var h;const m={title:!((h=a==null?void 0:a.title)!=null&&h.trim()),topic:!(K!=null&&K.trim()),tone:!(a!=null&&a.tone),focusKeyword:n.focusKeywords.length===0,keyword:n.keywords.length===0};if(k(m),Object.values(m).some(G=>G)){D.error("Please fill in all required fields.");return}const i={...a,topic:K,focusKeywords:n.focusKeywords,keywords:n.keywords};w(i),P()};return b.useEffect(()=>{a&&!a.isCheckedGeneratedImages&&w(m=>({...m,isCheckedGeneratedImages:!0,isUnsplashActive:!0}))},[a,w]),e.jsx(q,{title:"Step 2: Crucial Details",open:!0,onCancel:N,footer:[e.jsx("button",{onClick:x,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Back"},"back"),e.jsx("button",{onClick:d,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Topic ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:`w-full px-3 py-2 bg-gray-50 border ${r.topic?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., Tech Blog",value:K,onChange:m=>{f(m.target.value),k(i=>({...i,topic:!1}))}})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Focus Keywords (up to 3)",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n.focusKeywordInput,onChange:j,onKeyDown:m=>$(m,"focusKeywords"),className:`flex-1 px-3 py-2 bg-gray-50 border ${r.focusKeyword?"border-red-500":"border-gray-200"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 text-sm`,placeholder:"Enter focus keywords, separated by commas"}),e.jsx("button",{onClick:L,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 text-sm flex items-center",children:e.jsx(te,{size:16})})]}),n.focusKeywords.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.focusKeywords.map((m,i)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[m,e.jsx("button",{onClick:()=>_(i,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},i))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Keywords",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n.keywordInput,onChange:o,onKeyDown:m=>$(m,"keywords"),className:`flex-1 px-3 py-2 bg-gray-50 border ${r.keyword?"border-red-500":"border-gray-200"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 text-sm`,placeholder:"Enter secondary keywords, separated by commas"}),e.jsx("button",{onClick:l,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 text-sm flex items-center",children:e.jsx(te,{size:16})})]}),n.keywords.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.keywords.map((m,i)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[m,e.jsx("button",{onClick:()=>_(i,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},i))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:`flex-1 px-3 py-2 bg-gray-50 border ${r.title?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., How to Create a Tech Blog",value:(a==null?void 0:a.title)||"",onChange:m=>{w(i=>({...i,title:m.target.value})),k(i=>({...i,title:!1}))}}),!F&&e.jsxs("button",{onClick:s,disabled:y,className:`px-4 py-2 bg-gradient-to-r from-[#1B6FC9] to-[#4C9FE8] text-white rounded-lg flex items-center ${y?"opacity-50 cursor-not-allowed":"hover:from-[#1B6FC9]/90 hover:to-[#4C9FE8]/90"}`,children:[y?e.jsx($e,{size:"small"}):e.jsx(Ie,{size:16,className:"mr-2"}),"Generate Titles"]})]}),C.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:C.map((m,i)=>{const h=a.title===m;return e.jsx("div",{className:"relative group",children:e.jsx("button",{type:"button",onClick:()=>{w(G=>({...G,title:m})),k(G=>({...G,title:!1}))},className:`px-3 py-1 rounded-full text-sm border transition w-full truncate
                          ${h?"bg-[#1B6FC9] text-white border-[#1B6FC9]":"bg-gray-100 text-gray-700 border-gray-300 opacity-60 hover:opacity-100 hover:bg-gray-200"}`,children:m})},i)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(ae,{className:"w-full",value:(a==null?void 0:a.tone)||void 0,onChange:T,placeholder:"Select tone",status:r.tone?"error":"",children:[e.jsx(H,{value:"professional",children:"Professional"}),e.jsx(H,{value:"casual",children:"Casual"}),e.jsx(H,{value:"friendly",children:"Friendly"}),e.jsx(H,{value:"formal",children:"Formal"}),e.jsx(H,{value:"conversational",children:"Conversational"}),e.jsx(H,{value:"witty",children:"Witty"}),e.jsx(H,{value:"informative",children:"Informative"}),e.jsx(H,{value:"inspirational",children:"Inspirational"}),e.jsx(H,{value:"persuasive",children:"Persuasive"}),e.jsx(H,{value:"empathetic",children:"Empathetic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Choose length of Blog"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:(a==null?void 0:a.userDefinedLength)??1e3,className:`w-full h-1 rounded-lg appearance-none cursor-pointer \r
                    [&::-webkit-slider-thumb]:appearance-none \r
                    [&::-webkit-slider-thumb]:h-4 \r
                    [&::-webkit-slider-thumb]:w-4 \r
                    [&::-webkit-slider-thumb]:rounded-full \r
                    [&::-webkit-slider-thumb]:bg-[#1B6FC9]`,onChange:m=>{w(i=>({...i,userDefinedLength:parseInt(m.target.value,10)}))},style:{background:`linear-gradient(to right, #1B6FC9 ${(((a==null?void 0:a.userDefinedLength)??1e3)-500)/45}%, #e5e7eb 0%)`}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[(a==null?void 0:a.userDefinedLength)??1e3," words"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add Brief Section (Optional)"}),e.jsx("textarea",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]",rows:3,placeholder:"Enter brief section",value:(a==null?void 0:a.brief)||"",onChange:m=>w(i=>({...i,brief:m.target.value}))}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-xs text-gray-500",children:[((M=a==null?void 0:a.brief)==null?void 0:M.length)||0,"/2000 characters"]})})]})]})})})},us=b.memo(hs),ps=({handlePrevious:P,handleClose:N,data:x,setData:a,handleSubmit:w})=>{var o;const K=Z(),{user:f}=V(l=>l.auth),{brands:F,loading:S,error:u}=V(l=>l.brand),B=((o=f==null?void 0:f.subscription)==null?void 0:o.plan)||(f==null?void 0:f.plan),[n,v]=b.useState({isCheckedQuick:x.isCheckedQuick||!1,isCheckedBrand:x.isCheckedBrand||!1,aiModel:x.aiModel||"gemini",brandId:x.brandId||null,isFAQEnabled:x.isFAQEnabled||!1,imageSource:x.imageSource||"unsplash",isCompetitiveResearchEnabled:x.isCompetitiveResearchEnabled||!1,isCheckedGeneratedImages:x.isCheckedGeneratedImages||!1,referenceLinks:x.referenceLinks||[]}),[r,k]=b.useState({newLink:""});b.useEffect(()=>{n.isCheckedBrand&&K(Ke())},[n.isCheckedBrand,K]);const C=()=>{const l=r.newLink.trim();if(!l)return;const j=n.referenceLinks.map(T=>T.toLowerCase().trim()),L=T=>{try{return new URL(T),!0}catch{return!1}},_=new Set,$=l.split(",").map(T=>T.trim()).filter(T=>{const s=T.toLowerCase();return!_.has(s)&&L(T)&&!j.includes(s)&&_.add(s)});if($.length===0){D.error("Please enter valid, non-duplicate URLs separated by commas.");return}v(T=>({...T,referenceLinks:[...T.referenceLinks,...$]})),k(T=>({...T,newLink:""})),D.success("Reference link added!")},p=l=>{v(j=>({...j,referenceLinks:j.referenceLinks.filter((L,_)=>_!==l)}))},y=()=>{const l={...x,...n};w(l)},I=l=>{a(j=>({...j,isCheckedGeneratedImages:!j.isCheckedBrand,isUnsplashActive:l==="unsplash"}))};return e.jsx(q,{title:"Final Step: Content Enhancements",open:!0,onCancel:N,footer:[e.jsx("button",{onClick:P,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Previous"},"previous"),e.jsx("button",{onClick:y,className:"px-6 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md ml-3",children:"Submit"},"next")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select AI Model"}),e.jsx("div",{className:"flex gap-6 flex-wrap",children:[{id:"gemini",label:"Gemini",logo:"/Images/gemini.png",restricted:!1},{id:"chatgpt",label:"ChatGPT",logo:"/Images/chatgpt.png",restricted:B==="free"},{id:"claude",label:"Claude",logo:"/Images/claude.png",restricted:B==="free"||B==="basic"}].map(l=>e.jsxs("label",{htmlFor:l.id,className:`relative border rounded-lg px-4 py-3 flex items-center gap-3 cursor-pointer transition-all duration-150 ${n.aiModel===l.id?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[200px]`,children:[e.jsx("input",{type:"radio",id:l.id,name:"aiModel",value:l.id,checked:n.aiModel===l.id,onChange:j=>{v(L=>({...L,aiModel:j.target.value})),a(L=>({...L,aiModel:j.target.value}))},className:"hidden"}),e.jsx("img",{src:l.logo,alt:l.label,className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:l.label})]},l.id))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Add Image"}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{htmlFor:"add-image-toggle",className:"relative inline-block w-12 h-6",children:[e.jsx("input",{type:"checkbox",id:"add-image-toggle",className:"sr-only peer",checked:n==null?void 0:n.isCheckedGeneratedImages,onChange:l=>{const j=l.target.checked;v(L=>({...L,isCheckedGeneratedImages:j})),a(L=>({...L,isCheckedGeneratedImages:j}))}}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:bg-[#1B6FC9] transition-all duration-300"}),e.jsx("div",{className:"absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 peer-checked:translate-x-6"})]})})]}),(n==null?void 0:n.isCheckedGeneratedImages)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Image Source"}),e.jsxs("div",{className:"flex gap-6 flex-wrap",children:[e.jsxs("label",{htmlFor:"unsplash",className:`border rounded-lg px-4 py-3 flex items-center gap-3 justify-center cursor-pointer transition-all duration-150 ${x!=null&&x.isUnsplashActive?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[200px]`,children:[e.jsx("input",{type:"radio",id:"unsplash",name:"imageSource",checked:x==null?void 0:x.isUnsplashActive,onChange:()=>I("unsplash"),className:"hidden"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Stock Images"})]}),e.jsxs("label",{htmlFor:"ai-generated",className:`border rounded-lg px-4 py-3 flex items-center gap-3 justify-center  cursor-pointer transition-all duration-150 ${x!=null&&x.isUnsplashActive?"border-gray-300":"border-blue-600 bg-blue-50"} hover:shadow-sm w-full max-w-[200px] relative`,children:[e.jsx("input",{type:"radio",id:"ai-generated",name:"imageSource",checked:!(x!=null&&x.isUnsplashActive),onChange:()=>I("ai"),className:"hidden"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:"AI-Generated Images"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add a Quick Summary"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.isCheckedQuick,onChange:()=>v(l=>({...l,isCheckedQuick:!l.isCheckedQuick})),className:"sr-only peer","aria-checked":n.isCheckedQuick}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Write with Brand Voice"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.isCheckedBrand,onChange:()=>v(l=>({...l,isCheckedBrand:!l.isCheckedBrand,brandId:l.isCheckedBrand?null:l.brandId})),className:"sr-only peer","aria-checked":n.isCheckedBrand}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),n.isCheckedBrand&&e.jsx("div",{className:"mt-3 p-4 rounded-md border border-gray-200 bg-gray-50",children:S?e.jsx("div",{className:"text-gray-500 text-sm",children:"Loading brand voices..."}):u?e.jsx("div",{className:"text-red-500 text-sm font-medium",children:u}):(F==null?void 0:F.length)>0?e.jsx("div",{className:"max-h-48 overflow-y-auto pr-1",children:e.jsx("div",{className:"grid gap-3",children:F.map(l=>e.jsxs("label",{className:`flex items-start gap-2 p-3 rounded-md cursor-pointer ${n.brandId===l._id?"bg-blue-100 border-blue-300":"bg-white border border-gray-200"}`,children:[e.jsx("input",{type:"radio",name:"selectedBrandVoice",value:l._id,checked:n.brandId===l._id,onChange:()=>v(j=>({...j,brandId:l._id})),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-700",children:l.nameOfVoice}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:l.describeBrand})]})]},l._id))})}):e.jsx("div",{className:"text-gray-500 text-sm italic",children:"No brand voices available. Create one to get started."})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add FAQ"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.isFAQEnabled,onChange:()=>v(l=>({...l,isFAQEnabled:!l.isFAQEnabled})),className:"sr-only peer","aria-checked":n.isFAQEnabled}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add Competitive Research"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.isCompetitiveResearchEnabled,onChange:()=>v(l=>({...l,isCompetitiveResearchEnabled:!l.isCompetitiveResearchEnabled})),className:"sr-only peer","aria-checked":n.isCompetitiveResearchEnabled}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Reference Links (Helps make blog more compelling)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600",placeholder:"https://example.com",onKeyDown:l=>{l.key==="Enter"&&(l.preventDefault(),C())},value:r.newLink,onChange:l=>k(j=>({...j,newLink:l.target.value}))}),e.jsx("button",{onClick:C,className:"px-3 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md",children:e.jsx(te,{className:"w-4 h-4"})})]}),n.referenceLinks.length>0&&e.jsx("div",{className:"mt-2 space-y-2",children:n.referenceLinks.map((l,j)=>e.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-50 rounded-md",children:[e.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 truncate",children:l}),e.jsx("button",{onClick:()=>p(j),className:"text-gray-500 hover:text-red-500",children:e.jsx(X,{className:"w-4 h-4"})})]},j))})]})]})})})},gs=[{id:1,imageUrl:"./Images/createnew.png",title:"Create New Blog",icon:e.jsx(Ge,{className:"w-6 h-6"}),content:"Generate blogs, email, product, description, etc.",hoverGradient:"from-blue-600 to-blue-700"},{id:"A",imageUrl:"./Images/quickblog.png",title:"Generate Quick Blog",icon:e.jsx(Oe,{className:"w-6 h-6"}),content:"With few inputs you are good to go to create Awesome blogs!",hoverGradient:"from-purple-600 to-purple-700"},{id:"B",imageUrl:"./Images/createmultipleblog.png",title:"Create Multiple Blogs",icon:e.jsx(rs,{className:"w-6 h-6"}),content:"Ellipse draft overflow arrange pen",hoverGradient:"from-emerald-600 to-emerald-700"}],fs=[{id:1,imageUrl:"./Images/keyword.png",title:"Keyword Research",content:"Fill bold reesizing vector create group inspect effect.",icon:e.jsx(_e,{className:"w-8 h-8"}),color:"text-blue-600",bgColor:"bg-blue-50",hoverBg:"hover:bg-blue-100"},{id:3,imageUrl:"./Images/performancemonitoring.png",title:"Performance Monitoring",content:"Generate blogs, emails , product description etc.",icon:e.jsx(es,{className:"w-8 h-8"}),color:"text-orange-600",bgColor:"bg-orange-50",hoverBg:"hover:bg-orange-100"},{id:4,imageUrl:"./Images/competitor.png",title:"Competitor Analysis",content:"Analyze your competitors' content and strategies",icon:e.jsx(We,{className:"w-8 h-8"}),color:"text-purple-600",bgColor:"bg-purple-50",hoverBg:"hover:bg-purple-100"}],bs=({title:P,content:N,id:x,functions:a,icon:w,gradient:K})=>{var n,v;const f=V(r=>r.auth.user),F=(f==null?void 0:f.plan)??((n=f==null?void 0:f.subscription)==null?void 0:n.plan),{handlePopup:S}=le(),u=()=>{S({title:"Upgrade Required",description:"Bulk blog generation is only available for Pro and Enterprise users.",confirmText:"Buy Now",cancelText:"Cancel",icon:e.jsx(xe,{style:{fontSize:50,color:"#a47dab"}}),onConfirm:()=>navigate("/pricing")})},B=()=>{var r,k,C,p,y;if(x==="A")(r=a.showQuickBlogModal)==null||r.call(a);else if(x===1)(k=a.showModal)==null||k.call(a);else if(x==="B"){if(["free","basic"].includes(F==null?void 0:F.toLowerCase())){u();return}(C=a.showMultiStepModal)==null||C.call(a)}else x===4?(p=a.showCompetitiveAnalysis)==null||p.call(a):x===3&&((y=a.showPerformanceMonitoring)==null||y.call(a))};return e.jsxs("div",{onClick:B,className:"group relative bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-xl hover:scale-[1.02] transition-all duration-300 cursor-pointer overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-5 transition-opacity duration-300 from-blue-500 to-purple-500"}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-r ${K} text-white mb-6 transition-transform duration-300`,children:w}),["free","basic"].includes((v=F==null?void 0:F.toLowerCase)==null?void 0:v.call(F))&&x==="B"&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(xe,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:P}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:N}),e.jsxs("div",{className:"flex items-center text-blue-600 font-medium text-sm group-hover:gap-2 transition-all",children:["Get Started",e.jsx(Be,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})},ys=({icon:P,title:N,content:x,id:a,functions:w,bgColor:K,hoverBg:f,color:F})=>{var r,k;const S=V(C=>C.auth.user),u=(S==null?void 0:S.plan)??((r=S==null?void 0:S.subscription)==null?void 0:r.plan),{handlePopup:B}=le(),n=()=>{B({title:"Upgrade Required",description:"Competitor Analysis is only available for Pro and Enterprise users.",confirmText:"Buy Now",cancelText:"Cancel",onConfirm:()=>navigate("/pricing")})},v=()=>{if(a===4&&(w!=null&&w.showCompetitiveAnalysis)){if(["free","basic"].includes(u==null?void 0:u.toLowerCase())){n();return}w.showCompetitiveAnalysis()}else a===3&&(w!=null&&w.showPerformanceMonitoring)?w.showPerformanceMonitoring():a===2&&(w!=null&&w.showSeoAnalysis)?w.showSeoAnalysis():a===1&&(w!=null&&w.showKeywordResearch)&&w.showKeywordResearch()};return e.jsxs("div",{onClick:v,className:`group p-6 rounded-xl ${K} ${f} border border-transparent hover:border-gray-200 hover:shadow-md transition-all duration-300 cursor-pointer`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(z.div,{whileHover:{scale:1.15,rotate:8},transition:{type:"spring",stiffness:300},className:`inline-flex items-center justify-center w-12 h-12 rounded-xl bg-white ${F} mb-4 group-hover:scale-110 transition-transform duration-300 shadow-sm`,children:P}),["free","basic"].includes((k=u==null?void 0:u.toLowerCase)==null?void 0:k.call(u))&&a===4&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(xe,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors text-[18px]",children:N}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:x})]})},js=({title:P,content:N,tags:x,item:a,time:w})=>{var u,B,n,v,r;const K=ce(),f=(r=(v=(n=(B=(u=N==null?void 0:N.replace(/^#+\s*/gm,""))==null?void 0:u.replace(/#[^\s#]+/g,""))==null?void 0:B.replace(/[*_~`>\\=|-]+/g,""))==null?void 0:n.replace(/\n+/g," "))==null?void 0:v.replace(/\s+/g," "))==null?void 0:r.trim(),F=f&&f.length>40?`${f.substring(0,80)}...`:f||"",S=()=>{a&&a._id&&K(`/toolbox/${a._id}`,{state:{blog:a}})};return e.jsx("div",{onClick:S,className:"group p-6 rounded-xl border border-gray-200 hover:border-blue-200 hover:shadow-md transition-all duration-300 cursor-pointer mb-4",children:e.jsxs("div",{className:"flex lg:items-start lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h3",{className:"font-bold capitalize text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-1",children:P}),e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full capitalize",children:(a==null?void 0:a.aiModel)||"Gemini"}),e.jsx("span",{className:`px-2 py-1 capitalize text-xs font-medium rounded-full ${(a==null?void 0:a.status)==="complete"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:(a==null?void 0:a.status)||""})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:F}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x==null?void 0:x.map((k,C)=>e.jsx("span",{className:"px-3 py-1 capitalize bg-gray-100 text-gray-700 text-xs rounded-full hover:bg-gray-200 transition-colors",children:k},C))})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(He,{className:"w-4 h-4"}),e.jsx("span",{children:"View"})]}),e.jsx("span",{children:Ue(w).fromNow()}),e.jsx(Be,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})})},ws=({closeFnc:P})=>{var O;const N=Z(),x=ce(),{handlePopup:a}=le(),w=V(t=>t.auth.user),K=((O=w==null?void 0:w.subscription)==null?void 0:O.plan)||(w==null?void 0:w.plan),[f,F]=b.useState(0),[S,u]=b.useState(null),{Option:B}=ae,[n,v]=b.useState({topics:!1,keywords:!1,tone:!1}),[r,k]=b.useState({templates:[],topics:[],keywords:[],topicInput:"",keywordInput:"",performKeywordResearch:!0,tone:"",numberOfCounts:5,userDefinedLength:1e3,imageSource:"unsplash",useBrandVoice:!0,useCompetitors:!1,includeInterlinks:!0,includeMetaHeadlines:!0,includeFaqs:!0,numberOfBlogs:1,wordpressPostStatus:!1,postFrequency:10*60,selectedDates:null,aiModel:"gemini",includeTableOfContents:!1,isCheckedGeneratedImages:!0}),C=()=>{if(f===0&&r.templates.length===0){D.error("Please add at least one template.");return}if(f===1){const t={topics:r.topics.length===0&&r.topicInput.trim()==="",keywords:!r.performKeywordResearch&&r.keywords.length===0&&r.keywordInput.trim()==="",tone:!r.tone};if(v(t),Object.values(t).some(c=>c)){D.error("Please fill all required fields in this step.");return}}F(t=>t+1)},p=()=>{F(t=>t>0?t-1:t)},y=()=>{P()},I=()=>{const t={topics:r.topics.length===0&&r.topicInput.trim()==="",keywords:!r.performKeywordResearch&&r.keywords.length===0&&r.keywordInput.trim()==="",tone:!r.tone};if(v(t),Object.values(t).some(U=>U)){D.error("Please fill all required fields.");return}if(r.numberOfBlogs<1||r.numberOfBlogs>10){D.error("Number of blogs must be between 1 and 10.");return}const c=r.aiModel||"gemini",E=pe("blog.single",c),g=r.numberOfBlogs*E;a({title:"Bulk Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Estimated cost for ",e.jsx("b",{children:r.numberOfBlogs})," blog",r.numberOfBlogs>1?"s":"",": ",e.jsxs("b",{children:[g," credits"]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue?"})]}),onConfirm:()=>{N(Fe({blogData:r,navigate:x})),y()}})},o=t=>{const c=ie[t].name;r.templates.includes(c)?k(g=>({...g,templates:g.templates.filter(U=>U!==c)})):r.templates.length<3?k(g=>({...g,templates:[...g.templates,c]})):D.error("You can select a maximum of 3 templates.")},l=t=>{const{name:c,value:E,type:g}=t.target,U=g==="number"?parseInt(E,10)||0:E;k({...r,[c]:U})},j=async t=>{const{name:c,checked:E}=t.target;if(c==="wordpressPostStatus"&&E)try{if(!(w!=null&&w.wordpressLink)){D.error("Please connect your WordPress account in your profile before enabling automatic posting."),x("/profile");return}}catch{D.error("Failed to check profile. Please try again.");return}k({...r,[c]:E}),c==="performKeywordResearch"&&v(g=>({...g,keywords:!1}))},L=t=>{k(c=>({...c,topicInput:t.target.value})),v(c=>({...c,topics:!1}))},_=t=>{k(c=>({...c,keywordInput:t.target.value})),v(c=>({...c,keywords:!1}))},$=()=>{const t=r.topicInput;if(t.trim()==="")return v(g=>({...g,topics:!0})),D.error("Please enter a topic."),!1;const c=r.topics.map(g=>g.toLowerCase().trim()),E=t.split(",").map(g=>g.trim()).filter(g=>g!==""&&!c.includes(g.toLowerCase()));return E.length===0?(v(g=>({...g,topics:!0})),D.error("Please enter valid, non-duplicate topics separated by commas."),k(g=>({...g,topicInput:""})),!1):(k(g=>({...g,topics:[...g.topics,...E],topicInput:""})),v(g=>({...g,topics:!1})),!0)},T=t=>{k(c=>({...c,topics:c.topics.filter((E,g)=>g!==t)}))},s=()=>{const t=r.keywordInput;if(t.trim()==="")return v(g=>({...g,keywords:!0})),D.error("Please enter a keyword."),!1;const c=r.keywords.map(g=>g.toLowerCase().trim()),E=t.split(",").map(g=>g.trim()).filter(g=>g!==""&&!c.includes(g.toLowerCase()));return E.length===0?(v(g=>({...g,keywords:!0})),D.error("Please enter valid, non-duplicate keywords separated by commas."),k(g=>({...g,keywordInput:""})),!1):(k(g=>({...g,keywords:[...g.keywords,...E],keywordInput:""})),v(g=>({...g,keywords:!1})),!0)},d=t=>{k(c=>({...c,keywords:c.keywords.filter((E,g)=>g!==t)}))},M=t=>{if(t.key==="Enter"){t.preventDefault();const c=$();!r.performKeywordResearch&&c&&s()}},m=t=>{k(c=>({...c,imageSource:t}))},i=t=>{var U;const c=(U=t.target.files)==null?void 0:U[0];if(!c)return;if(!c.name.toLowerCase().endsWith(".csv")){D.error("Invalid file type. Please upload a .csv file."),t.target.value=null;return}const E=20*1024;if(c.size>E){D.error("File size exceeds 20KB limit. Please upload a smaller file."),t.target.value=null;return}const g=new FileReader;g.onload=ee=>{var R;const re=(R=ee.target)==null?void 0:R.result;if(!re)return;const Y=re.trim().split(/\r?\n/).slice(1).map(W=>{const se=W.split(",");return se.length>=2?se[1].trim():null}).filter(Boolean),Q=r.topics.map(W=>W.toLowerCase().trim()),A=Y.filter(W=>!Q.includes(W.toLowerCase().trim()));if(A.length===0){D.error("No new topics found in the CSV.");return}k(W=>({...W,topics:[...W.topics,...A]})),v(W=>({...W,topics:!1})),A.length>8&&(u(A.length),setTimeout(()=>u(null),5e3))},g.readAsText(c),t.target.value=null},h=t=>{var g;const c=(g=t.target.files)==null?void 0:g[0];if(!c)return;const E=new FileReader;E.onload=U=>{var A;const ee=(A=U.target)==null?void 0:A.result;if(!ee)return;const J=ee.trim().split(/\r?\n/).slice(1).map(R=>{const W=R.split(",");return W.length>=2?W[1].trim():null}).filter(Boolean),Y=r.keywords.map(R=>R.toLowerCase().trim()),Q=J.filter(R=>!Y.includes(R.toLowerCase().trim()));if(Q.length===0){D.error("No new keywords found in the CSV.");return}k(R=>({...R,keywords:[...R.keywords,...Q]})),v(R=>({...R,keywords:!1})),Q.length>8&&(u(Q.length),setTimeout(()=>u(null),5e3))},E.readAsText(c),t.target.value=null},G=["Select Template's","Add Details","z"];return e.jsx(q,{title:`Step ${f+1} : ${G[f]}`,open:!0,onCancel:y,footer:e.jsxs("div",{className:"flex justify-end gap-3",children:[f>0&&e.jsx("button",{onClick:p,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Previous"}),e.jsx("button",{onClick:f===2?I:C,className:"px-4 py-2 text-sm font-medium text-white bg-[#1B6FC9] rounded-md hover:bg-[#1B6FC9]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:f===2?"Generate Blogs":"Next"})]}),width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"p-4",children:[f===0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select up to 3 templates for the types of blogs you want to generate."}),e.jsx(ue,{children:ie.map((t,c)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${r.templates.includes(t.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>o(c),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:t.imgSrc||"/placeholder.svg",alt:t.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:t.description})]})]})},t.name))})]}),f===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Topics ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(oe,{title:"Upload a .csv file in the format: `S.No., Keyword`",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(ve,{size:16,className:"text-blue-500"})})})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the main topics for your blogs."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:r.topicInput,onChange:L,onKeyDown:M,className:`flex-1 px-3 py-2 border ${n.topics?"border-red-500":"border-gray-300"} rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 bg-gray-50`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:$,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(Ne,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:i,hidden:!0})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[r.topics.slice().reverse().slice(0,18).map((t,c)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[t,e.jsx("button",{type:"button",onClick:()=>T(r.topics.length-1-c),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(X,{className:"w-3 h-3"})})]},`${t}-${c}`)),(r.topics.length>18||S)&&e.jsxs("span",{className:"text-xs font-medium text-blue-600 self-center",children:[r.topics.length>18&&`+${r.topics.length-18} more `,S&&`(+${S} uploaded)`]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Perform Keyword Research?",e.jsx("p",{className:"text-xs text-gray-500",children:"Allow AI to find relevant keywords for the topics."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"performKeywordResearch",checked:r.performKeywordResearch,onChange:j,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),!r.performKeywordResearch&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(oe,{title:"Upload a .csv file in the format: `S.No., Keyword`",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(ve,{size:16,className:"text-blue-500"})})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:r.keywordInput,onChange:_,onKeyDown:M,className:`flex-1 px-3 py-2 border ${n.keywords?"border-red-500":"border-gray-300"} rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 bg-gray-50`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:s,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(Ne,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:h,hidden:!0})]})]}),n.keywords&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Please add at least one keyword"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[r.keywords.slice().reverse().slice(0,18).map((t,c)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[t,e.jsx("button",{type:"button",onClick:()=>d(r.keywords.length-1-c),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(X,{className:"w-3 h-3"})})]},`${t}-${c}`)),(r.keywords.length>18||S)&&e.jsxs("span",{className:"text-xs font-medium text-blue-600 self-center",children:[r.keywords.length>18&&`+${r.keywords.length-18} more `,S&&`(+${S} uploaded)`]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"tone",className:"block text-sm font-medium text-gray-700 mb-1",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(ae,{className:"w-full",value:r.tone,onChange:t=>{k(c=>({...c,tone:t})),v(c=>({...c,tone:!1}))},placeholder:"Select tone",status:n.tone?"error":"",children:[e.jsx(B,{value:"",children:"Select Tone"}),e.jsx(B,{value:"professional",children:"Professional"}),e.jsx(B,{value:"casual",children:"Casual"}),e.jsx(B,{value:"friendly",children:"Friendly"}),e.jsx(B,{value:"formal",children:"Formal"}),e.jsx(B,{value:"conversational",children:"Conversational"}),e.jsx(B,{value:"witty",children:"Witty"}),e.jsx(B,{value:"informative",children:"Informative"}),e.jsx(B,{value:"inspirational",children:"Inspirational"}),e.jsx(B,{value:"persuasive",children:"Persuasive"}),e.jsx(B,{value:"empathetic",children:"Empathetic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approx. Blog Length (Words)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:r.userDefinedLength,className:"w-full h-1 rounded-lg appearance-none cursor-pointer bg-gradient-to-r from-[#1B6FC9] to-gray-100 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${(r.userDefinedLength-500)/4500*100}%, #E5E7EB ${(r.userDefinedLength-500)/4500*100}%)`},onChange:t=>{k(c=>({...c,userDefinedLength:parseInt(t.target.value,10)}))}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[r.userDefinedLength," words"]})]})]})]})]}),f===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select AI Model"}),e.jsx("div",{className:"flex gap-4 flex-wrap",children:[{id:"gemini",label:"Gemini",logo:"/Images/gemini.png",restricted:!1},{id:"chatgpt",label:"ChatGPT",logo:"/Images/chatgpt.png",restricted:K==="free"},{id:"claude",label:"Claude",logo:"/Images/claude.png",restricted:K==="free"||K==="basic"}].map(t=>e.jsxs("label",{htmlFor:t.id,className:`border rounded-lg px-4 py-3 flex items-center gap-3 cursor-pointer transition-all duration-150 ${r.aiModel===t.id?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[220px]`,children:[e.jsx("input",{type:"radio",id:t.id,name:"aiModel",value:t.id,checked:r.aiModel===t.id,onChange:c=>{k(E=>({...E,aiModel:c.target.value}))},className:"hidden"}),e.jsx("img",{src:t.logo,alt:t.label,className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:t.label})]},t.id))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Add Image"}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{htmlFor:"add-image-toggle",className:"relative inline-block w-12 h-6",children:[e.jsx("input",{type:"checkbox",id:"add-image-toggle",className:"sr-only peer",checked:r==null?void 0:r.isCheckedGeneratedImages,onChange:t=>{const c=t.target.checked;k(E=>({...E,isCheckedGeneratedImages:c})),setData(E=>({...E,isCheckedGeneratedImages:c}))}}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:bg-[#1B6FC9] transition-all duration-300"}),e.jsx("div",{className:"absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 peer-checked:translate-x-6"})]})})]}),r.isCheckedGeneratedImages&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Image Source"}),e.jsx("div",{className:"flex gap-4 flex-wrap",children:[{id:"unsplash",label:"Stock Images",value:"unsplash",restricted:!1},{id:"ai",label:"AI Generated",value:"ai",restricted:K==="free"}].map(t=>e.jsxs("label",{htmlFor:t.id,className:`border rounded-lg px-4 py-3 flex items-center gap-3 justify-center cursor-pointer transition-all duration-150 ${r.imageSource===t.value?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[220px]`,children:[e.jsx("input",{type:"radio",id:t.id,name:"imageSource",value:t.value,checked:r.imageSource===t.value,onChange:()=>{m(t.value)},className:"hidden"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:t.label})]},t.id))})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Interlinks",e.jsx("p",{className:"text-xs text-gray-500",children:"Attempt to link between generated blogs if relevant."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeInterlinks",checked:r.includeInterlinks,onChange:j,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include FAQ Section",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate relevant FAQ questions and answers for the blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeFaqs",checked:r.includeFaqs,onChange:j,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Competitive Research",e.jsx("p",{className:"text-xs text-gray-500",children:"Perform competitive research to analyze similar blogs."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"useCompetitors",checked:r.useCompetitors,onChange:j,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Blogs"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"How many blogs to generate based on the topics provided."}),e.jsx("input",{type:"number",name:"numberOfBlogs",min:"1",max:"10",value:r.numberOfBlogs,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 5"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Automatic Posting",e.jsx("p",{className:"text-xs text-gray-500",children:"Automatically post blogs on the selected dates."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"wordpressPostStatus",checked:r.wordpressPostStatus,onChange:j,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),r.wordpressPostStatus&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Table of Contents",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate a table of contents for each blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeTableOfContents",checked:r.includeTableOfContents,onChange:j,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]})]})]})})},vs=({closeFnc:P})=>{const[N,x]=b.useState(1),a=()=>x(N+1),w=()=>x(N-1);return e.jsxs("div",{className:"border-8 border-teal-700",children:[e.jsx("input",{type:"checkbox",id:"my-modal",className:"modal-toggle"}),e.jsx("div",{className:"modal",children:e.jsxs("div",{className:"modal-box",children:[N===1&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 1"}),e.jsx("p",{className:"py-4",children:"Content for step 1 goes here."}),e.jsx("div",{className:"modal-action",children:e.jsx("button",{className:"btn border-8 border-teal-700",onClick:a,children:"Next"})})]}),N===2&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 2"}),e.jsx("p",{className:"py-4",children:"Content for step 2 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:w,children:"Previous"}),e.jsx("button",{className:"btn",onClick:a,children:"Next"})]})]}),N===3&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 3"}),e.jsx("p",{className:"py-4",children:"Content for step 3 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:P,children:"Previous"}),e.jsx("label",{htmlFor:"my-modal",className:"btn",children:"Finish"})]})]})]})})]})},Ns=({closeFnc:P})=>{const[N,x]=b.useState(0),[a,w]=b.useState(null),[K,f]=b.useState([]),[F,S]=b.useState({template:!1,focusKeywords:!1,keywords:!1,videoLinks:!1}),[u,B]=b.useState({template:null,keywords:[],focusKeywords:[],videoLinks:[],keywordInput:"",focusKeywordInput:"",videoLinkInput:""}),n=Z(),v=ce(),{handlePopup:r}=le(),k=()=>{if(N===0&&!u.template){S(s=>({...s,template:!0})),D.error("Please select a template before proceeding.");return}S(s=>({...s,template:!1})),x(N+1)},C=()=>{x(N-1)},p=()=>{P()},y=()=>{const s={template:!u.template,focusKeywords:u.focusKeywords.length===0,keywords:u.keywords.length===0,videoLinks:K.length===0};if(S(s),Object.values(s).some(M=>M)){D.error("Please fill all the fields");return}const d={...u,videoLinks:K};r({title:"Quick Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Quick blog generation is ",e.jsxs("b",{children:[pe("blog.quick")," credits."]})]}),e.jsx("br",{}),e.jsx("span",{children:"Are you sure ?"})]}),onConfirm:()=>{n(Ee({blogData:d,navigate:v})),p()}})},I=s=>{w(s),B({...u,template:ie[s].name}),S(d=>({...d,template:!1}))},o=(s,d)=>{const M=d==="keywords"?"keywordInput":"focusKeywordInput";B(m=>({...m,[M]:s.target.value})),S(m=>({...m,[d]:!1}))},l=s=>{const d=s==="keywords"?"keywordInput":"focusKeywordInput",M=u[d].trim();if(!M){S(h=>({...h,[s]:!0})),D.error("Please enter a keyword.");return}const m=new Set(u[s].map(h=>h.trim().toLowerCase())),i=M.split(",").map(h=>h.trim()).filter(h=>h!==""&&!m.has(h.toLowerCase()));if(i.length===0){S(h=>({...h,[s]:!0})),D.error("Please enter valid, non-duplicate keywords separated by commas.");return}if(s==="focusKeywords"&&u[s].length+i.length>3){S(h=>({...h,[s]:!0})),D.error("You can only add up to 3 focus keywords.");return}B(h=>({...h,[s]:[...h[s],...i],[d]:""})),S(h=>({...h,[s]:!1}))},j=(s,d)=>{const M=[...u[d]];M.splice(s,1),B({...u,[d]:M})},L=(s,d)=>{s.key==="Enter"&&(s.preventDefault(),l(d))},_=()=>{var i;const s=(i=u.videoLinkInput)==null?void 0:i.trim();if(!s){S(h=>({...h,videoLinks:!0})),D.error("Please enter at least one link.");return}const d=s.split(",").map(h=>h.trim()).filter(h=>h!==""),M=[];for(let h of d){let G=h;/^https?:\/\//i.test(G)||(G=`https://${G}`);try{const O=new URL(G);!K.includes(G)&&!M.includes(G)&&M.push(G)}catch{}}if(M.length===0){S(h=>({...h,videoLinks:!0})),D.error("No valid, unique URLs found.");return}if(K.length+M.length>3){S(h=>({...h,videoLinks:!0})),D.error("You can only add up to 3 links in total.");return}f([...K,...M]),B(h=>({...h,videoLinkInput:""})),S(h=>({...h,videoLinks:!1}))},$=s=>{s.key==="Enter"&&(s.preventDefault(),_())},T=s=>{const d=[...K];d.splice(s,1),f(d)};return e.jsx(q,{title:"Generate Quick Blog",open:!0,onCancel:p,footer:N===0?[e.jsx("button",{onClick:k,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")]:[e.jsx("button",{onClick:C,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none",children:"Previous"},"previous"),e.jsx("button",{onClick:y,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Submit"},"submit")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"p-4",children:[N===0&&e.jsx("div",{children:e.jsx("div",{className:"p-3",children:e.jsx(ue,{children:ie.map((s,d)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${u.template===s.name?"border-gray-300 border-2 rounded-md":""}`,onClick:()=>I(d),children:e.jsxs("div",{className:"bg-white rounded-md overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:s.imgSrc||"/placeholder.svg",alt:s.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:s.description})]})]})},d))})})}),N===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Focus Keywords ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:u.focusKeywordInput,onChange:s=>o(s,"focusKeywords"),onKeyDown:s=>L(s,"focusKeywords"),className:`flex-1 px-3 py-2 border ${F.focusKeywords?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter focus keywords, separated by commas"}),e.jsx("button",{onClick:()=>l("focusKeywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center",children:e.jsx(te,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:u.focusKeywords.map((s,d)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[s,e.jsx("button",{onClick:()=>j(d,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:e.jsx(X,{size:16})})]},d))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:u.keywordInput,onChange:s=>o(s,"keywords"),onKeyDown:s=>L(s,"keywords"),className:`flex-1 px-3 py-2 border ${F.keywords?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter secondary keywords, separated by commas"}),e.jsx("button",{onClick:()=>l("keywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center",children:e.jsx(te,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:u.keywords.map((s,d)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[s,e.jsx("button",{onClick:()=>j(d,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:e.jsx(X,{size:16})})]},d))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Add Links (max 3) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:u.videoLinkInput||"",onChange:s=>B(d=>({...d,videoLinkInput:s.target.value})),onKeyDown:$,className:`flex-1 px-3 py-2 border ${F.videoLinks?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter links, separated by commas"}),e.jsx("button",{onClick:_,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center",children:e.jsx(te,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:K.map((s,d)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[s,e.jsx("button",{onClick:()=>T(d),className:"ml-1 text-blue-400 hover:text-blue-600",children:e.jsx(X,{size:16})})]},d))})]})]})]})})},ks=({closeFnc:P,visible:N,allBlogs:x})=>{var k;const[a,w]=b.useState({selectedBlog:null,title:"",content:""}),[K,f]=b.useState(null),F=Z(),S=async C=>{w({selectedBlog:C,title:C.title,content:C.content}),f(null);try{F(me(C._id)).unwrap().then(({stats:p})=>f(p))}catch{D.error("Failed to load blog performance stats.")}},u={flesch:"📘 Flesch Reading Ease (0–100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"📗 SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"📙 ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"📈 Blog Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},B=({type:C="seo"})=>e.jsx(oe,{title:u[C],trigger:["hover","click"],placement:"top",children:e.jsx(Le,{className:"ml-2 text-gray-500 hover:text-blue-500 cursor-pointer"})}),n=({icon:C,label:p,value:y,color:I,delay:o=0,suffix:l="",description:j=""})=>e.jsx(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:o*.1,duration:.3},className:`p-5 bg-white rounded-xl border ${I} shadow-sm hover:shadow-md transition-shadow`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[C&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-500",children:C}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:p}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:[y,l]}),j&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j})]})]})}),v=({score:C,max:p,label:y,level:I,color:o})=>e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600 flex items-center gap-2",children:[y,e.jsx(B,{type:/seo/gi.test(y)?"seo":"flesch"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:I})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full ${o} transition-all duration-500`,style:{width:`${C/p*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-2",children:e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[C," / ",p]})})]})]}),r=({stats:C})=>{var T,s,d,M,m,i,h,G;if(!C)return null;const{readabililty:p={},seo:y={},engagement:I={},metadata:o={}}=C,l=(y==null?void 0:y.keywordDensity)||{},j=Object.keys(l).filter(O=>O.split(" ").length<=2).length,L=Object.keys(l).filter(O=>O.split(" ").length>2).length,_=Object.entries(l).map(([O,{count:t,density:c}],E)=>({key:O,keyword:O,count:t,density:c,animationDelay:E*.1})),$=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(O,t)=>O.density-t.density,render:O=>`${O.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 mt-6",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-8 capitalize",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(o==null?void 0:o.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(o==null?void 0:o.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(o==null?void 0:o.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(o==null?void 0:o.aiModel)||"-"})]})]}),(o==null?void 0:o.generatedAt)&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border normal-case border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(o.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[!!(y!=null&&y.score)&&e.jsx(v,{score:(y==null?void 0:y.score)||0,max:100,label:"Blog Score",level:`${(y==null?void 0:y.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(n,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(y==null?void 0:y.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(n,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(y==null?void 0:y.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(n,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(y==null?void 0:y.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(T=y==null?void 0:y.focusKeywords)==null?void 0:T.map((O,t)=>e.jsx(z.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"px-3 py-1 bg-blue-50 rounded-full text-sm text-blue-700 border border-blue-100 hover:bg-blue-100 transition-colors",children:O},O))})]}),(y==null?void 0:y.keywords.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Other Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(s=y==null?void 0:y.keywords)==null?void 0:s.map((O,t)=>e.jsx(z.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"px-3 py-2 bg-gray-100 rounded-full text-sm text-gray-700 border border-gray-200 hover:bg-gray-200 transition-colors",children:O},O))})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Keyword Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx(n,{icon:e.jsx(ls,{className:"w-5 h-5"}),label:"Short-Tail Keywords",value:j,color:"border-blue-100",delay:0}),e.jsx(n,{icon:e.jsx(os,{className:"w-5 h-5"}),label:"Long-Tail Keywords",value:L,color:"border-blue-100",delay:.1})]}),e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Keyword Densities"}),e.jsx(z.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:e.jsx(ge,{dataSource:_,columns:$,pagination:!1,components:{body:{row:({children:O,...t})=>{var E;const c=((E=_[t["data-row-key"]])==null?void 0:E.animationDelay)||0;return e.jsx(z.tr,{...t,initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:c},children:O})}}},className:"rounded-md overflow-hidden capitalize"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(v,{score:((d=p==null?void 0:p.fleschEase)==null?void 0:d.score)||0,max:100,label:"Flesch Ease",level:((M=p==null?void 0:p.fleschEase)==null?void 0:M.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:["SMOG Index",e.jsx(B,{type:"smog"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:((m=p==null?void 0:p.smogIndex)==null?void 0:m.level)||"-"})]}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:[((i=p==null?void 0:p.smogIndex)==null?void 0:i.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:["ARI ",e.jsx(B,{type:"ari"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:((h=p==null?void 0:p.ari)==null?void 0:h.level)||"-"})]}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:[((G=p==null?void 0:p.ari)==null?void 0:G.score)||0," grade"]})]}),e.jsx(n,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(p==null?void 0:p.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(n,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(p==null?void 0:p.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(p==null?void 0:p.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(p==null?void 0:p.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(p==null?void 0:p.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(p==null?void 0:p.syllableCount)||0})]})]})]})]})};return b.useEffect(()=>(N?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[N]),e.jsx(q,{title:e.jsxs(z.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-lg",children:"Performance Dashboard"})]}),open:N,onCancel:P,footer:null,width:900,centered:!0,bodyStyle:{maxHeight:"85vh",overflowY:"auto"},className:"rounded-2xl shadow-2xl",children:e.jsxs("div",{className:"space-y-6 p-4",children:[e.jsxs(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-2",children:"Select Blog"}),e.jsx("div",{className:"relative",children:e.jsxs(ae,{className:"w-full",placeholder:"Select Blog",onChange:C=>{const p=x.find(y=>y._id===C);p&&S(p)},value:((k=a.selectedBlog)==null?void 0:k._id)||"",children:[e.jsx(Option,{value:"",children:"Select Blog"}),x==null?void 0:x.filter(C=>C.status==="complete"&&C.isArchived===!1).map(C=>e.jsx(Option,{value:C._id,className:"bg-gray-50",children:C.title},C._id))]})})]}),a.selectedBlog&&e.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Preview"})}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2 truncate",children:a.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3",children:(a.content||"").replace(/[#>*=_`~-]+/g,"").replace(/\n+/g," ").replace(/\s+/g," ").trim()})]})]}),e.jsx(r,{stats:K})]})})},Cs=({closeFnc:P})=>{var y;const[N,x]=b.useState({selectedBlog:null,title:"",content:""}),[a,w]=b.useState(!1),[K,f]=b.useState(null),F=Z(),{blogs:S,error:u}=V(I=>I.blog);b.useEffect(()=>{F(Ce())},[F]),b.useEffect(()=>{u&&D.error(u)},[u]);const B=I=>{x({selectedBlog:I,title:I.title,content:I.content}),f(null)},n=async()=>{if(!N.selectedBlog){D.error("Please select a blog");return}w(!0);try{const I=await F(me(N.selectedBlog._id));if(me.fulfilled.match(I)){const{stats:o}=I.payload;f(o),D.success("Performance analysis completed!")}else D.error("Something went wrong during stats fetching.")}catch{D.error("Unexpected error occurred.")}finally{w(!1)}},v={flesch:"📘 Flesch Reading Ease (0–100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"📗 SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"📙 ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"📈 SEO Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},r=({type:I="seo"})=>e.jsx(oe,{title:v[I],trigger:["hover","click"],placement:"top",children:e.jsx(Le,{className:"ml-2 text-black size-8 hover:text-blue-500 cursor-pointer"})}),k=({icon:I,label:o,value:l,color:j,delay:L=0,suffix:_="",description:$=""})=>e.jsx(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:L*.1,duration:.3},className:`p-4 bg-white rounded-xl border ${j} shadow-sm`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[I&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-500",children:I}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:o}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-1",children:[l,_]}),$&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:$})]})]})}),C=({score:I,max:o,label:l,level:j,color:L})=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[l,e.jsx(r,{type:/seo/gi.test(l)?"seo":"flesch"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:j})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${L}`,style:{width:`${I/o*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[I," / ",o]})})]})]}),p=({stats:I})=>{var s,d,M,m,i,h,G,O;if(!I)return null;const{readabililty:o={},seo:l={},engagement:j={},metadata:L={}}=I,_=(l==null?void 0:l.keywordDensity)||{},$=Object.entries(_).map(([t,{count:c,density:E}],g)=>({key:t,keyword:t,count:c,density:E,animationDelay:g*.1})),T=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(t,c)=>t.density-c.density,render:t=>`${t.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-5 mt-4",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(L==null?void 0:L.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(L==null?void 0:L.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(L==null?void 0:L.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(L==null?void 0:L.aiModel)||"-"})]})]}),(L==null?void 0:L.generatedAt)&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(L.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-green-100 rounded text-green-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 11.5V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1.4"}),e.jsx("path",{d:"M14 10V8a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2"}),e.jsx("path",{d:"M10 9.9V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v5"}),e.jsx("path",{d:"M6 14v0a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0"}),e.jsx("path",{d:"M18 11v0a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-4a8 8 0 0 1-8-8 2 2 0 1 1 4 0"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Engagement"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(k,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),label:"GenWrite Views",value:(j==null?void 0:j.views)||0,color:"border-green-100",delay:0}),e.jsx(k,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),label:"WordPress Views",value:(j==null?void 0:j.wordpressViews)||0,color:"border-green-100",delay:1})]}),e.jsx("div",{className:"mt-4 bg-gray-50 p-4 rounded-xl border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Public Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${j!=null&&j.isPublic?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j!=null&&j.isPublic?"✅ Public":"❌ Private"})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(C,{score:(l==null?void 0:l.score)||0,max:100,label:"SEO Score",level:`${(l==null?void 0:l.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(k,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(l==null?void 0:l.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(k,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(l==null?void 0:l.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(k,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(l==null?void 0:l.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(s=l==null?void 0:l.focusKeywords)==null?void 0:s.map((t,c)=>e.jsx(z.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:c*.1},className:"px-3 py-1 bg-blue-50 rounded-full text-sm text-blue-700 border border-blue-100",children:t},t))})]}),(l==null?void 0:l.keywords.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Other Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(d=l==null?void 0:l.keywords)==null?void 0:d.map((t,c)=>e.jsx(z.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:c*.1},className:"px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-700 border border-gray-200",children:t},t))})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Keyword Densities"}),e.jsx(z.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:e.jsx(ge,{dataSource:$,columns:T,pagination:!1,components:{body:{row:({children:t,...c})=>{var g;const E=((g=$[c["data-row-key"]])==null?void 0:g.animationDelay)||0;return e.jsx(z.tr,{...c,initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:E},children:t})}}},className:"rounded-md overflow-hidden"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(C,{score:((M=o==null?void 0:o.fleschEase)==null?void 0:M.score)||0,max:100,label:"Flesch Ease",level:((m=o==null?void 0:o.fleschEase)==null?void 0:m.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["SMOG Index",e.jsx(r,{type:"smog"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((i=o==null?void 0:o.smogIndex)==null?void 0:i.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((h=o==null?void 0:o.smogIndex)==null?void 0:h.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["ARI ",e.jsx(r,{type:"ari"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((G=o==null?void 0:o.ari)==null?void 0:G.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((O=o==null?void 0:o.ari)==null?void 0:O.score)||0," grade"]})]}),e.jsx(k,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(o==null?void 0:o.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(k,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(o==null?void 0:o.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(o==null?void 0:o.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(o==null?void 0:o.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(o==null?void 0:o.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(o==null?void 0:o.syllableCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paragraphs"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(o==null?void 0:o.paragraphCount)||0})]})]})]})]})};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs(z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-4xl bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[e.jsxs(z.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Seo Analysis Dashboard"})]}),e.jsx("button",{onClick:P,className:"p-2 rounded-full hover:bg-gray-100 transition-all",children:e.jsx(X,{className:"h-6 w-6 text-gray-500 hover:text-gray-700"})})]}),e.jsx("div",{className:"p-5 overflow-y-auto max-h-[80vh]",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Blog"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 appearance-none",onChange:I=>{const o=S.find(l=>l._id===I.target.value);o&&B(o)},value:((y=N.selectedBlog)==null?void 0:y._id)||"",children:[e.jsx("option",{value:"",className:"bg-gray-50",children:"Select a blog"}),S.map(I=>e.jsx("option",{value:I._id,className:"bg-gray-50 capitalize",children:I.title},I._id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),N.selectedBlog&&e.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"font-medium text-gray-700",children:"Preview"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 truncate capitalize",children:N.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3",children:N.content})]})]}),e.jsx(z.div,{className:"flex justify-end pt-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(z.button,{onClick:n,className:`px-5 py-2.5 rounded-lg font-medium flex items-center gap-2 ${a?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"} transition-all duration-300 shadow`,disabled:a||!N.selectedBlog,whileHover:{scale:!a&&N.selectedBlog?1.03:1},whileTap:{scale:.97},children:a?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),"Analyze Performance"]})})}),a&&!K&&e.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-4",children:[...Array(6)].map((I,o)=>e.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:o*.1},className:"h-32 bg-gray-100 rounded-xl animate-pulse"},o))}),e.jsx(p,{stats:K})]})}),e.jsx("div",{className:"flex justify-end gap-3 p-5 border-t border-gray-100",children:e.jsx(z.button,{onClick:P,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-300",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close Dashboard"})})]})})},Ss=({closeFnc:P,openSecondStepModal:N,openJobModal:x,visible:a})=>{const[w,K]=b.useState(""),[f,F]=b.useState([]),[S,u]=b.useState(1),B=Z(),{keywordAnalysis:n,loading:v,selectedKeywords:r}=V(s=>s.analysis);b.useEffect(()=>{f.length===0&&u(1)},[f,B]);const k=()=>{const s=w.trim();if(!s)return;const d=f.map(i=>i.toLowerCase()),M=new Set,m=s.split(",").map(i=>i.trim()).filter(i=>i&&!d.includes(i.toLowerCase())&&!M.has(i.toLowerCase())&&M.add(i.toLowerCase()));m.length>0&&(F([...f,...m]),K(""))},C=s=>{const d=f.filter((M,m)=>m!==s);F(d),d.length===0&&(B(Se()),u(1))},p=s=>{s.key==="Enter"&&(s.preventDefault(),k())},y=()=>{f.length>0&&(B(Pe(f)),u(1))},I=()=>{const s={LOW:[],MEDIUM:[],HIGH:[]};n==null||n.forEach(i=>{s[i.competition]&&s[i.competition].push({keyword:i.keyword,competition_index:i.competition_index})});const d=s.LOW.sort((i,h)=>i.competition_index-h.competition_index).slice(0,2),M=s.MEDIUM.sort((i,h)=>i.competition_index-h.competition_index).slice(0,2),m=s.HIGH.sort((i,h)=>i.competition_index-h.competition_index).slice(0,2);return[...d.map(i=>i.keyword),...M.map(i=>i.keyword),...m.map(i=>i.keyword)]},o=s=>{const d=I();q.info({icon:null,title:e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("span",{children:"Auto-Selected Keywords"})}),content:e.jsxs("div",{children:[e.jsx("p",{children:"We selected these keywords automatically based on competition index:"}),e.jsx("ul",{className:"list-disc ml-5 mt-2",children:d.map(M=>e.jsx("li",{className:"capitalize",children:M},M))}),e.jsx("p",{className:"mt-3",children:"Do you want to proceed with these?"})]}),okText:"Accept",cancelText:"Decline",closable:!0,onOk(){const M=[...(r==null?void 0:r.focusKeywords)||[],...d.filter(m=>{var i;return!((i=r==null?void 0:r.focusKeywords)!=null&&i.includes(m))})].slice(0,6);L(M,s)},onCancel(){const M=(r==null?void 0:r.focusKeywords)||[];L(M,s)},okButtonProps:{className:"bg-blue-600 text-white"}})},l=()=>{o("blog")},j=()=>{o("job")},L=async(s,d)=>{const M=s.slice(0,3),m=s.slice(3);await B(ye({focusKeywords:M,allKeywords:s,keywords:m})),setTimeout(()=>{d==="blog"?N({focusKeywords:M,keywords:m,allKeywords:s}):x(),P()},100)},_=[{title:"Keyword",dataIndex:"keyword",key:"keyword",sorter:(s,d)=>s.keyword.localeCompare(d.keyword),render:s=>e.jsx("span",{className:"font-medium capitalize",children:s})},{title:"Monthly Searches",dataIndex:"avgMonthlySearches",key:"avgMonthlySearches",sorter:(s,d)=>s.avgMonthlySearches-d.avgMonthlySearches,render:s=>new Intl.NumberFormat().format(s)},{title:"Competition",dataIndex:"competition",key:"competition",sorter:(s,d)=>s.competition_index-d.competition_index,render:s=>e.jsx(qe,{color:s==="LOW"?"green":s==="MEDIUM"?"orange":s==="HIGH"?"red":"gray",children:s})},{title:"Competition Index",dataIndex:"competition_index",key:"competition_index",sorter:(s,d)=>s.competition_index-d.competition_index,render:s=>s||"-"}],$=(n==null?void 0:n.map((s,d)=>({key:d,keyword:s.keyword,avgMonthlySearches:s.avgMonthlySearches,competition:s.competition,competition_index:s.competition_index,avgCpc:s.avgCpc,lowBid:s.lowBid,highBid:s.highBid})))||[],T=s=>u(s);return b.useEffect(()=>()=>{F([]),K(""),u(1)},[B]),b.useEffect(()=>(open?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[open]),e.jsx(q,{open:a,onCancel:P,closable:!0,footer:[e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex justify-end gap-3 pt-2 border-gray-100",children:[e.jsx(z.button,{onClick:l,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:!n||v||f.length===0,children:"Create Blog"}),e.jsx(z.button,{onClick:j,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:!n||v||f.length===0,children:"Create New Job"}),e.jsx(z.button,{onClick:P,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close"})]})})],width:1e3,centered:!0,title:"Keyword Research",maskClosable:!0,children:e.jsxs("div",{children:[e.jsx("p",{className:"mb-4 text-gray-600",children:"Find and analyze keywords for your blog"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx(Ze,{placeholder:"Enter a keyword",value:w,onChange:s=>K(s.target.value),onKeyPress:p,className:"flex-1","aria-label":"Enter keyword"}),e.jsx(z.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(be,{type:"primary",onClick:k,children:"Add"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:f.map((s,d)=>e.jsxs(z.div,{initial:{opacity:0,scale:.8},animate:{opacity:1},className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full flex items-center",children:[e.jsx("span",{children:s}),e.jsx(z.div,{whileHover:{scale:1.2},whileTap:{scale:.8},className:"ml-2 cursor-pointer",onClick:()=>C(d),children:e.jsx(Ve,{className:"text-blue-800 text-xs"})})]},d))}),e.jsx(z.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(be,{block:!0,type:"primary",onClick:y,loading:v,disabled:f.length===0,children:"Analyze Keywords"})}),f.length>0&&!v&&n&&Array.isArray(n)&&n.length>0&&e.jsx("div",{className:"mt-6",children:e.jsx(ge,{columns:_,dataSource:$,pagination:{current:S,pageSize:4,showSizeChanger:!1,onChange:T,total:$.length},rowSelection:{selectedRowKeys:(r==null?void 0:r.focusKeywords)||[],onChange:s=>{B(ye({focusKeywords:s,allKeywords:s,keywords:s.slice(3)}))},getCheckboxProps:s=>({name:s.keyword})},rowKey:s=>s.keyword,scroll:{x:!0}})})]})})},at=()=>{const[P,N]=b.useState(!1),[x,a]=b.useState(0),[w,K]=b.useState(!1),[f,F]=b.useState(!1),[S,u]=b.useState(!1),[B,n]=b.useState(!1),[v,r]=b.useState(!1),[k,C]=b.useState(!1),[p,y]=b.useState(!1),[I,o]=b.useState({}),[l,j]=b.useState([]),[L,_]=b.useState(!0),{blogs:$}=V(A=>A.blog),T=Z(),s=ce(),d=V(Te),{handlePopup:M}=le(),m=()=>N(!0),i=()=>K(!0),h=()=>K(!1),G=()=>F(!0),O=()=>F(!1),t=()=>u(!0),c=()=>u(!1),E=()=>n(!0),g=()=>n(!1),U=()=>{C(!1),N(!0),a(0)},ee=()=>{C(!1),T(Re()),s("/jobs")};b.useEffect(()=>{const A=setTimeout(()=>{_(!1)},1200);return()=>clearTimeout(A)},[]),b.useEffect(()=>{(async()=>{if(!localStorage.getItem("token")){s("/login");return}try{const W=await T(je());je.rejected.match(W)&&(console.warn("Failed to load user, redirecting..."),s("/login"))}catch(W){console.error("User init failed:",W)}})()},[T,s]),b.useEffect(()=>{T(Ce())},[]),b.useEffect(()=>{if($!=null&&$.data&&Array.isArray($.data)){const A=$.data.filter(R=>R.status==="complete"&&R.isArchived===!1).slice(-3);j(A)}else j([])},[$]);const re=async A=>{var R,W;try{const se=(((R=d==null?void 0:d.credits)==null?void 0:R.base)||0)+(((W=d==null?void 0:d.credits)==null?void 0:W.extra)||0),fe=pe("blog.single",I.aiModel);M({title:"Confirm Blog Creation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Single Blog generation cost: ",e.jsxs("b",{children:[fe," credits"]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue?"})]}),onConfirm:()=>{if(fe>se){D.error("You do not have enough credits to generate this blog."),M(!1);return}T(ze({blogData:A,navigate:s})),N(!1),a(0)}}),T(we())}catch(se){console.error("Error submitting form:",se)}},J=()=>{N(!1),a(0),o({}),T(we())},Y=()=>a(x+1),Q=()=>a(x-1);return e.jsxs(e.Fragment,{children:[e.jsx(De,{children:e.jsx("title",{children:"Home | GenWrite"})}),e.jsxs(ds,{title:`Step ${x}/3`,visible:P,onCancel:J,className:"max-h-[90vh] overflow-scroll",children:[x===0&&e.jsx(xs,{handleNext:Y,handleClose:J,data:I,setData:o}),x===1&&e.jsx(us,{handleNext:Y,handleClose:J,handlePrevious:Q,data:I,setData:o}),x===2&&e.jsx(ps,{handleNext:Y,handlePrevious:Q,handleClose:J,data:I,setData:o,handleSubmit:re}),e.jsx("div",{className:"flex items-center justify-center mt-4",children:e.jsx("progress",{className:"w-full max-w-md",max:"3",value:x})})]}),w&&e.jsx(vs,{closeFnc:h}),f&&e.jsx(ws,{closeFnc:O}),S&&e.jsx(Ns,{closeFnc:c}),B&&e.jsx(Qe,{closeFnc:g,open:E,blogs:$}),v&&e.jsx(ks,{allBlogs:$,closeFnc:()=>r(!1),visible:()=>r(!0)}),k&&e.jsx(Ss,{closeFnc:()=>{C(!1),T(Se())},openSecondStepModal:U,openJobModal:ee,visible:k}),p&&e.jsx(Cs,{closeFnc:()=>y(!1)}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/50 p-6",children:e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"gap-6",children:e.jsxs("div",{children:[e.jsxs(z.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:["Let's Begin",e.jsx("span",{className:"ml-2 text-2xl text-yellow-400",children:"✨"})]}),e.jsxs("p",{className:"text-gray-600 text-lg mt-2",children:["Welcome back ",e.jsx("b",{children:d==null?void 0:d.name}),"! Ready to create something amazing today?"]})]})}),e.jsx("div",{className:"grid lg:grid-cols-3 gap-6",children:e.jsx(de,{children:L?Array.from({length:3}).map((A,R)=>e.jsx(Je,{},R)):gs.map((A,R)=>e.jsx(bs,{icon:A.icon,title:A.title,content:A.content,id:A.id,gradient:A.hoverGradient,functions:{showModal:m,setModelData:o,showDaisy:i,showMultiStepModal:G,showQuickBlogModal:t,showCompetitiveAnalysis:E}},R))})}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center",children:e.jsx(Ie,{className:"w-5 h-5 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Quick Tools"})]}),e.jsx("div",{className:"grid gap-6 sm:grid-cols-1 md:grid-cols- lg:grid-cols-3",children:e.jsx(de,{children:L?Array.from({length:3}).map((A,R)=>e.jsx(ke,{},R)):fs.map((A,R)=>e.jsx(ys,{imageUrl:A.imageUrl,title:A.title,content:A.content,id:A.id,color:A.color,icon:A.icon,bgColor:A.bgColor,hoverBg:A.hoverBg,functions:{...A.id===3?{showPerformanceMonitoring:()=>r(!0)}:{},...A.id===2?{showSeoAnalysis:()=>y(!0)}:{},...A.id===1?{showKeywordResearch:()=>C(!0)}:{},...A.id===4?{showCompetitiveAnalysis:E}:{}}},R))})})]}),l.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 mt-10",children:[e.jsx("div",{className:"mb-8 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-emerald-500 to-teal-500 flex items-center justify-center",children:e.jsx(Ye,{className:"w-5 h-5 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recent Projects"})]})}),e.jsxs("div",{children:[e.jsx(de,{children:L?Array.from({length:3}).map((A,R)=>e.jsx(ke,{},R)):l.map((A,R)=>e.jsx(js,{title:A.title,content:A.content,tags:A.focusKeywords,item:A,time:A.updatedAt},R))}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{className:"px-6 py-3 text-blue-600 hover:text-blue-700 font-medium hover:bg-blue-50 rounded-lg transition-colors",onClick:()=>s("/blogs"),children:"View All Projects"})})]})]})]})})]})};export{at as default};
