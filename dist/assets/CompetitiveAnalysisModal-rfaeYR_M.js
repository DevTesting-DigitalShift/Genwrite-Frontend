import{R as A,b as d}from"./chunk-tiptap-Diw-eXXG.js";import{ad as fe,o as B,ae as H,af as pe,ag as ve,ah as G,ai as le,aj as De,t as ke,ak as Le,al as Ke,am as We,an as U,_ as Fe,C as Pe,d as Ne,e as Ee,h as D,r as Oe,ao as He,ap as ze,v as Xe,l as Ge,p as be,aq as Ve,ar as ce,as as qe,at as de,T as Ue,au as Ye,av as Qe,aw as Je,ax as Ze,ay as et,az as tt,I as Ae,aA as rt,aB as nt,J as ot,u as at,a as st,y as Z,j as c,M as it,Q as lt,m as ee,a8 as ct}from"./index-DHP2t6HA.js";import{g as dt}from"./getEstimatedCost-B6lBIM45.js";import{R as ut}from"./LeftOutlined-BIfn6i9V.js";import{g as mt}from"./index-DFB2X_Ok.js";import{T as _e,C as gt}from"./index-BmP4ZiJx.js";import{S as se}from"./index-UTnZztYX.js";import{P as ft}from"./plus-CyxAP8n0.js";import{X as pt}from"./x-CRSOVgfR.js";var Re=A.forwardRef(function(e,t){var r=e.prefixCls,n=e.forceRender,o=e.className,a=e.style,s=e.children,m=e.isActive,u=e.role,h=e.classNames,g=e.styles,f=A.useState(m||n),C=fe(f,2),v=C[0],x=C[1];return A.useEffect(function(){(n||m)&&x(!0)},[n,m]),v?A.createElement("div",{ref:t,className:B("".concat(r,"-content"),H(H({},"".concat(r,"-content-active"),m),"".concat(r,"-content-inactive"),!m),o),style:a,role:u},A.createElement("div",{className:B("".concat(r,"-content-box"),h==null?void 0:h.body),style:g==null?void 0:g.body},s)):null});Re.displayName="PanelContent";var yt=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],Me=A.forwardRef(function(e,t){var r=e.showArrow,n=r===void 0?!0:r,o=e.headerClass,a=e.isActive,s=e.onItemClick,m=e.forceRender,u=e.className,h=e.classNames,g=h===void 0?{}:h,f=e.styles,C=f===void 0?{}:f,v=e.prefixCls,x=e.collapsible,w=e.accordion,j=e.panelKey,b=e.extra,S=e.header,P=e.expandIcon,$=e.openMotion,k=e.destroyInactivePanel,I=e.children,i=pe(e,yt),l=x==="disabled",p=b!=null&&typeof b!="boolean",y=H(H(H({onClick:function(){s==null||s(j)},onKeyDown:function(O){(O.key==="Enter"||O.keyCode===ve.ENTER||O.which===ve.ENTER)&&(s==null||s(j))},role:w?"tab":"button"},"aria-expanded",a),"aria-disabled",l),"tabIndex",l?-1:0),_=typeof P=="function"?P(e):A.createElement("i",{className:"arrow"}),W=_&&A.createElement("div",G({className:"".concat(v,"-expand-icon")},["header","icon"].includes(x)?y:{}),_),L=B("".concat(v,"-item"),H(H({},"".concat(v,"-item-active"),a),"".concat(v,"-item-disabled"),l),u),K=B(o,"".concat(v,"-header"),H({},"".concat(v,"-collapsible-").concat(x),!!x),g.header),E=le({className:K,style:C.header},["header","icon"].includes(x)?{}:y);return A.createElement("div",G({},i,{ref:t,className:L}),A.createElement("div",E,n&&W,A.createElement("span",G({className:"".concat(v,"-header-text")},x==="header"?y:{}),S),p&&A.createElement("div",{className:"".concat(v,"-extra")},b)),A.createElement(De,G({visible:a,leavedClassName:"".concat(v,"-content-hidden")},$,{forceRender:m,removeOnLeave:k}),function(N,O){var F=N.className,R=N.style;return A.createElement(Re,{ref:O,prefixCls:v,className:F,classNames:g,style:R,styles:C,isActive:a,forceRender:m,role:w?"tabpanel":void 0},I)}))}),ht=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],vt=function(t,r){var n=r.prefixCls,o=r.accordion,a=r.collapsible,s=r.destroyInactivePanel,m=r.onItemClick,u=r.activeKey,h=r.openMotion,g=r.expandIcon;return t.map(function(f,C){var v=f.children,x=f.label,w=f.key,j=f.collapsible,b=f.onItemClick,S=f.destroyInactivePanel,P=pe(f,ht),$=String(w??C),k=j??a,I=S??s,i=function(y){k!=="disabled"&&(m(y),b==null||b(y))},l=!1;return o?l=u[0]===$:l=u.indexOf($)>-1,A.createElement(Me,G({},P,{prefixCls:n,key:$,panelKey:$,isActive:l,accordion:o,openMotion:h,expandIcon:g,header:x,collapsible:k,onItemClick:i,destroyInactivePanel:I}),v)})},bt=function(t,r,n){if(!t)return null;var o=n.prefixCls,a=n.accordion,s=n.collapsible,m=n.destroyInactivePanel,u=n.onItemClick,h=n.activeKey,g=n.openMotion,f=n.expandIcon,C=t.key||String(r),v=t.props,x=v.header,w=v.headerClass,j=v.destroyInactivePanel,b=v.collapsible,S=v.onItemClick,P=!1;a?P=h[0]===C:P=h.indexOf(C)>-1;var $=b??s,k=function(l){$!=="disabled"&&(u(l),S==null||S(l))},I={key:C,panelKey:C,header:x,headerClass:w,isActive:P,prefixCls:o,destroyInactivePanel:j??m,openMotion:g,accordion:a,children:t.props.children,onItemClick:k,expandIcon:f,collapsible:$};return typeof t.type=="string"?t:(Object.keys(I).forEach(function(i){typeof I[i]>"u"&&delete I[i]}),A.cloneElement(t,I))};function xt(e,t,r){return Array.isArray(e)?vt(e,r):ke(t).map(function(n,o){return bt(n,o,r)})}function Ct(e){var t=e;if(!Array.isArray(t)){var r=U(t);t=r==="number"||r==="string"?[t]:[]}return t.map(function(n){return String(n)})}var $t=A.forwardRef(function(e,t){var r=e.prefixCls,n=r===void 0?"rc-collapse":r,o=e.destroyInactivePanel,a=o===void 0?!1:o,s=e.style,m=e.accordion,u=e.className,h=e.children,g=e.collapsible,f=e.openMotion,C=e.expandIcon,v=e.activeKey,x=e.defaultActiveKey,w=e.onChange,j=e.items,b=B(n,u),S=Le([],{value:v,onChange:function(p){return w==null?void 0:w(p)},defaultValue:x,postState:Ct}),P=fe(S,2),$=P[0],k=P[1],I=function(p){return k(function(){if(m)return $[0]===p?[]:[p];var y=$.indexOf(p),_=y>-1;return _?$.filter(function(W){return W!==p}):[].concat(Fe($),[p])})};Ke(!h,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var i=xt(j,h,{prefixCls:n,accordion:m,openMotion:f,expandIcon:C,collapsible:g,destroyInactivePanel:a,onItemClick:I,activeKey:$});return A.createElement("div",G({ref:t,className:b,style:s,role:m?"tablist":void 0},We(e,{aria:!0,data:!0})),i)});const ye=Object.assign($t,{Panel:Me});ye.Panel;const St=d.forwardRef((e,t)=>{const{getPrefixCls:r}=d.useContext(Pe),{prefixCls:n,className:o,showArrow:a=!0}=e,s=r("collapse",n),m=B({[`${s}-no-arrow`]:!a},o);return d.createElement(ye.Panel,Object.assign({ref:t},e,{prefixCls:s,className:m}))}),wt=e=>{const{componentCls:t,contentBg:r,padding:n,headerBg:o,headerPadding:a,collapseHeaderPaddingSM:s,collapseHeaderPaddingLG:m,collapsePanelBorderRadius:u,lineWidth:h,lineType:g,colorBorder:f,colorText:C,colorTextHeading:v,colorTextDisabled:x,fontSizeLG:w,lineHeight:j,lineHeightLG:b,marginSM:S,paddingSM:P,paddingLG:$,paddingXS:k,motionDurationSlow:I,fontSizeIcon:i,contentPadding:l,fontHeight:p,fontHeightLG:y}=e,_=`${D(h)} ${g} ${f}`;return{[t]:Object.assign(Object.assign({},Oe(e)),{backgroundColor:o,border:_,borderRadius:u,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:_,"&:first-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`${D(u)} ${D(u)} 0 0`}},"&:last-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`0 0 ${D(u)} ${D(u)}`}},[`> ${t}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:a,color:v,lineHeight:j,cursor:"pointer",transition:`all ${I}, visibility 0s`},He(e)),{[`> ${t}-header-text`]:{flex:"auto"},[`${t}-expand-icon`]:{height:p,display:"flex",alignItems:"center",paddingInlineEnd:S},[`${t}-arrow`]:Object.assign(Object.assign({},ze()),{fontSize:i,transition:`transform ${I}`,svg:{transition:`transform ${I}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}}),[`${t}-collapsible-header`]:{cursor:"default",[`${t}-header-text`]:{flex:"none",cursor:"pointer"}},[`${t}-collapsible-icon`]:{cursor:"unset",[`${t}-expand-icon`]:{cursor:"pointer"}}},[`${t}-content`]:{color:C,backgroundColor:r,borderTop:_,[`& > ${t}-content-box`]:{padding:l},"&-hidden":{display:"none"}},"&-small":{[`> ${t}-item`]:{[`> ${t}-header`]:{padding:s,paddingInlineStart:k,[`> ${t}-expand-icon`]:{marginInlineStart:e.calc(P).sub(k).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:P}}},"&-large":{[`> ${t}-item`]:{fontSize:w,lineHeight:b,[`> ${t}-header`]:{padding:m,paddingInlineStart:n,[`> ${t}-expand-icon`]:{height:y,marginInlineStart:e.calc($).sub(n).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:$}}},[`${t}-item:last-child`]:{borderBottom:0,[`> ${t}-content`]:{borderRadius:`0 0 ${D(u)} ${D(u)}`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:x,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:S}}}}})}},It=e=>{const{componentCls:t}=e,r=`> ${t}-item > ${t}-header ${t}-arrow`;return{[`${t}-rtl`]:{[r]:{transform:"rotate(180deg)"}}}},jt=e=>{const{componentCls:t,headerBg:r,borderlessContentPadding:n,borderlessContentBg:o,colorBorder:a}=e;return{[`${t}-borderless`]:{backgroundColor:r,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${a}`},[`
        > ${t}-item:last-child,
        > ${t}-item:last-child ${t}-header
      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:o,borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{padding:n}}}},kt=e=>{const{componentCls:t,paddingSM:r}=e;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:r}}}}}},Pt=e=>({headerPadding:`${e.paddingSM}px ${e.padding}px`,headerBg:e.colorFillAlter,contentPadding:`${e.padding}px 16px`,contentBg:e.colorBgContainer,borderlessContentPadding:`${e.paddingXXS}px 16px ${e.padding}px`,borderlessContentBg:"transparent"}),Nt=Ne("Collapse",e=>{const t=Ee(e,{collapseHeaderPaddingSM:`${D(e.paddingXS)} ${D(e.paddingSM)}`,collapseHeaderPaddingLG:`${D(e.padding)} ${D(e.paddingLG)}`,collapsePanelBorderRadius:e.borderRadiusLG});return[wt(t),jt(t),kt(t),It(t),mt(t)]},Pt),Et=d.forwardRef((e,t)=>{const{getPrefixCls:r,direction:n,expandIcon:o,className:a,style:s}=Xe("collapse"),{prefixCls:m,className:u,rootClassName:h,style:g,bordered:f=!0,ghost:C,size:v,expandIconPosition:x="start",children:w,destroyInactivePanel:j,destroyOnHidden:b,expandIcon:S}=e,P=Ge(E=>{var N;return(N=v??E)!==null&&N!==void 0?N:"middle"}),$=r("collapse",m),k=r(),[I,i,l]=Nt($),p=d.useMemo(()=>x==="left"?"start":x==="right"?"end":x,[x]),y=S??o,_=d.useCallback((E={})=>{const N=typeof y=="function"?y(E):d.createElement(ut,{rotate:E.isActive?n==="rtl"?-90:90:void 0,"aria-label":E.isActive?"expanded":"collapsed"});return be(N,()=>{var O;return{className:B((O=N==null?void 0:N.props)===null||O===void 0?void 0:O.className,`${$}-arrow`)}})},[y,$]),W=B(`${$}-icon-position-${p}`,{[`${$}-borderless`]:!f,[`${$}-rtl`]:n==="rtl",[`${$}-ghost`]:!!C,[`${$}-${P}`]:P!=="middle"},a,u,h,i,l),L=Object.assign(Object.assign({},Ve(k)),{motionAppear:!1,leavedClassName:`${$}-content-hidden`}),K=d.useMemo(()=>w?ke(w).map((E,N)=>{var O,F;const R=E.props;if(R!=null&&R.disabled){const M=(O=E.key)!==null&&O!==void 0?O:String(N),T=Object.assign(Object.assign({},ce(E.props,["disabled"])),{key:M,collapsible:(F=R.collapsible)!==null&&F!==void 0?F:"disabled"});return be(E,T)}return E}):null,[w]);return I(d.createElement(ye,Object.assign({ref:t,openMotion:L},ce(e,["rootClassName"]),{expandIcon:_,prefixCls:$,className:W,style:Object.assign(Object.assign({},s),g),destroyInactivePanel:b??j}),K))}),ue=Object.assign(Et,{Panel:St});var Ot={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},At=function(){var t=d.useRef([]),r=d.useRef(null);return d.useEffect(function(){var n=Date.now(),o=!1;t.current.forEach(function(a){if(a){o=!0;var s=a.style;s.transitionDuration=".3s, .3s, .3s, .06s",r.current&&n-r.current<100&&(s.transitionDuration="0s, 0s")}}),o&&(r.current=Date.now())}),t.current},xe=0,_t=qe();function Rt(){var e;return _t?(e=xe,xe+=1):e="TEST_OR_SSR",e}const Mt=function(e){var t=d.useState(),r=fe(t,2),n=r[0],o=r[1];return d.useEffect(function(){o("rc_progress_".concat(Rt()))},[]),e||n};var Ce=function(t){var r=t.bg,n=t.children;return d.createElement("div",{style:{width:"100%",height:"100%",background:r}},n)};function $e(e,t){return Object.keys(e).map(function(r){var n=parseFloat(r),o="".concat(Math.floor(n*t),"%");return"".concat(e[r]," ").concat(o)})}var Bt=d.forwardRef(function(e,t){var r=e.prefixCls,n=e.color,o=e.gradientId,a=e.radius,s=e.style,m=e.ptg,u=e.strokeLinecap,h=e.strokeWidth,g=e.size,f=e.gapDegree,C=n&&U(n)==="object",v=C?"#FFF":void 0,x=g/2,w=d.createElement("circle",{className:"".concat(r,"-circle-path"),r:a,cx:x,cy:x,stroke:v,strokeLinecap:u,strokeWidth:h,opacity:m===0?0:1,style:s,ref:t});if(!C)return w;var j="".concat(o,"-conic"),b=f?"".concat(180+f/2,"deg"):"0deg",S=$e(n,(360-f)/360),P=$e(n,1),$="conic-gradient(from ".concat(b,", ").concat(S.join(", "),")"),k="linear-gradient(to ".concat(f?"bottom":"top",", ").concat(P.join(", "),")");return d.createElement(d.Fragment,null,d.createElement("mask",{id:j},w),d.createElement("foreignObject",{x:0,y:0,width:g,height:g,mask:"url(#".concat(j,")")},d.createElement(Ce,{bg:k},d.createElement(Ce,{bg:$}))))}),Q=100,ie=function(t,r,n,o,a,s,m,u,h,g){var f=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,C=n/100*360*((360-s)/360),v=s===0?0:{bottom:0,top:180,left:90,right:-90}[m],x=(100-o)/100*r;h==="round"&&o!==100&&(x+=g/2,x>=r&&(x=r-.01));var w=Q/2;return{stroke:typeof u=="string"?u:void 0,strokeDasharray:"".concat(r,"px ").concat(t),strokeDashoffset:x+f,transform:"rotate(".concat(a+C+v,"deg)"),transformOrigin:"".concat(w,"px ").concat(w,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Tt=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Se(e){var t=e??[];return Array.isArray(t)?t:[t]}var Dt=function(t){var r=le(le({},Ot),t),n=r.id,o=r.prefixCls,a=r.steps,s=r.strokeWidth,m=r.trailWidth,u=r.gapDegree,h=u===void 0?0:u,g=r.gapPosition,f=r.trailColor,C=r.strokeLinecap,v=r.style,x=r.className,w=r.strokeColor,j=r.percent,b=pe(r,Tt),S=Q/2,P=Mt(n),$="".concat(P,"-gradient"),k=S-s/2,I=Math.PI*2*k,i=h>0?90+h/2:-90,l=I*((360-h)/360),p=U(a)==="object"?a:{count:a,gap:2},y=p.count,_=p.gap,W=Se(j),L=Se(w),K=L.find(function(T){return T&&U(T)==="object"}),E=K&&U(K)==="object",N=E?"butt":C,O=ie(I,l,0,100,i,h,g,f,N,s),F=At(),R=function(){var V=0;return W.map(function(X,q){var oe=L[q]||L[L.length-1],Y=ie(I,l,V,X,i,h,g,oe,N,s);return V+=X,d.createElement(Bt,{key:q,color:oe,ptg:X,radius:k,prefixCls:o,gradientId:$,style:Y,strokeLinecap:N,strokeWidth:s,gapDegree:h,ref:function(ae){F[q]=ae},size:Q})}).reverse()},M=function(){var V=Math.round(y*(W[0]/100)),X=100/y,q=0;return new Array(y).fill(null).map(function(oe,Y){var J=Y<=V-1?L[0]:f,ae=J&&U(J)==="object"?"url(#".concat($,")"):void 0,he=ie(I,l,q,X,i,h,g,J,"butt",s,_);return q+=(l-he.strokeDashoffset+_)*100/l,d.createElement("circle",{key:Y,className:"".concat(o,"-circle-path"),r:k,cx:S,cy:S,stroke:ae,strokeWidth:s,opacity:1,style:he,ref:function(Te){F[Y]=Te}})})};return d.createElement("svg",G({className:B("".concat(o,"-circle"),x),viewBox:"0 0 ".concat(Q," ").concat(Q),style:v,id:n,role:"presentation"},b),!y&&d.createElement("circle",{className:"".concat(o,"-circle-trail"),r:k,cx:S,cy:S,stroke:f,strokeLinecap:N,strokeWidth:m||s,style:O}),y?M():R())};function z(e){return!e||e<0?0:e>100?100:e}function te({success:e,successPercent:t}){let r=t;return e&&"progress"in e&&(r=e.progress),e&&"percent"in e&&(r=e.percent),r}const Lt=({percent:e,success:t,successPercent:r})=>{const n=z(te({success:t,successPercent:r}));return[n,z(z(e)-n)]},Kt=({success:e={},strokeColor:t})=>{const{strokeColor:r}=e;return[r||de.green,t||null]},ne=(e,t,r)=>{var n,o,a,s;let m=-1,u=-1;if(t==="step"){const h=r.steps,g=r.strokeWidth;typeof e=="string"||typeof e>"u"?(m=e==="small"?2:14,u=g??8):typeof e=="number"?[m,u]=[e,e]:[m=14,u=8]=Array.isArray(e)?e:[e.width,e.height],m*=h}else if(t==="line"){const h=r==null?void 0:r.strokeWidth;typeof e=="string"||typeof e>"u"?u=h||(e==="small"?6:8):typeof e=="number"?[m,u]=[e,e]:[m=-1,u=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[m,u]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[m,u]=[e,e]:Array.isArray(e)&&(m=(o=(n=e[0])!==null&&n!==void 0?n:e[1])!==null&&o!==void 0?o:120,u=(s=(a=e[0])!==null&&a!==void 0?a:e[1])!==null&&s!==void 0?s:120));return[m,u]},Wt=3,Ft=e=>Wt/e*100,Ht=e=>{const{prefixCls:t,trailColor:r=null,strokeLinecap:n="round",gapPosition:o,gapDegree:a,width:s=120,type:m,children:u,success:h,size:g=s,steps:f}=e,[C,v]=ne(g,"circle");let{strokeWidth:x}=e;x===void 0&&(x=Math.max(Ft(C),6));const w={width:C,height:v,fontSize:C*.15+6},j=d.useMemo(()=>{if(a||a===0)return a;if(m==="dashboard")return 75},[a,m]),b=Lt(e),S=o||m==="dashboard"&&"bottom"||void 0,P=Object.prototype.toString.call(e.strokeColor)==="[object Object]",$=Kt({success:h,strokeColor:e.strokeColor}),k=B(`${t}-inner`,{[`${t}-circle-gradient`]:P}),I=d.createElement(Dt,{steps:f,percent:f?b[1]:b,strokeWidth:x,trailWidth:x,strokeColor:f?$[1]:$,strokeLinecap:n,trailColor:r,prefixCls:t,gapDegree:j,gapPosition:S}),i=C<=20,l=d.createElement("div",{className:k,style:w},I,!i&&u);return i?d.createElement(Ue,{title:u},l):l},re="--progress-line-stroke-color",Be="--progress-percent",we=e=>{const t=e?"100%":"-100%";return new Ye(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},zt=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:Object.assign(Object.assign({},Oe(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${re})`]},height:"100%",width:`calc(1 / var(${Be}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[r]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${D(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:we(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:we(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},Xt=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[r]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},Gt=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Vt=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${r}`]:{fontSize:e.fontSizeSM}}}},qt=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),Ut=Ne("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),r=Ee(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[zt(r),Xt(r),Gt(r),Vt(r)]},qt);var Yt=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const Qt=e=>{let t=[];return Object.keys(e).forEach(r=>{const n=parseFloat(r.replace(/%/g,""));Number.isNaN(n)||t.push({key:n,value:e[r]})}),t=t.sort((r,n)=>r.key-n.key),t.map(({key:r,value:n})=>`${n} ${r}%`).join(", ")},Jt=(e,t)=>{const{from:r=de.blue,to:n=de.blue,direction:o=t==="rtl"?"to left":"to right"}=e,a=Yt(e,["from","to","direction"]);if(Object.keys(a).length!==0){const m=Qt(a),u=`linear-gradient(${o}, ${m})`;return{background:u,[re]:u}}const s=`linear-gradient(${o}, ${r}, ${n})`;return{background:s,[re]:s}},Zt=e=>{const{prefixCls:t,direction:r,percent:n,size:o,strokeWidth:a,strokeColor:s,strokeLinecap:m="round",children:u,trailColor:h=null,percentPosition:g,success:f}=e,{align:C,type:v}=g,x=s&&typeof s!="string"?Jt(s,r):{[re]:s,background:s},w=m==="square"||m==="butt"?0:void 0,j=o??[-1,a||(o==="small"?6:8)],[b,S]=ne(j,"line",{strokeWidth:a}),P={backgroundColor:h||void 0,borderRadius:w},$=Object.assign(Object.assign({width:`${z(n)}%`,height:S,borderRadius:w},x),{[Be]:z(n)/100}),k=te(e),I={width:`${z(k)}%`,height:S,borderRadius:w,backgroundColor:f==null?void 0:f.strokeColor},i={width:b<0?"100%":b},l=d.createElement("div",{className:`${t}-inner`,style:P},d.createElement("div",{className:B(`${t}-bg`,`${t}-bg-${v}`),style:$},v==="inner"&&u),k!==void 0&&d.createElement("div",{className:`${t}-success-bg`,style:I})),p=v==="outer"&&C==="start",y=v==="outer"&&C==="end";return v==="outer"&&C==="center"?d.createElement("div",{className:`${t}-layout-bottom`},l,u):d.createElement("div",{className:`${t}-outer`,style:i},p&&u,l,y&&u)},er=e=>{const{size:t,steps:r,rounding:n=Math.round,percent:o=0,strokeWidth:a=8,strokeColor:s,trailColor:m=null,prefixCls:u,children:h}=e,g=n(r*(o/100)),C=t??[t==="small"?2:14,a],[v,x]=ne(C,"step",{steps:r,strokeWidth:a}),w=v/r,j=Array.from({length:r});for(let b=0;b<r;b++){const S=Array.isArray(s)?s[b]:s;j[b]=d.createElement("div",{key:b,className:B(`${u}-steps-item`,{[`${u}-steps-item-active`]:b<=g-1}),style:{backgroundColor:b<=g-1?S:m,width:w,height:x}})}return d.createElement("div",{className:`${u}-steps-outer`},j,h)};var tr=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const rr=["normal","exception","active","success"],nr=d.forwardRef((e,t)=>{const{prefixCls:r,className:n,rootClassName:o,steps:a,strokeColor:s,percent:m=0,size:u="default",showInfo:h=!0,type:g="line",status:f,format:C,style:v,percentPosition:x={}}=e,w=tr(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:j="end",type:b="outer"}=x,S=Array.isArray(s)?s[0]:s,P=typeof s=="string"||Array.isArray(s)?s:void 0,$=d.useMemo(()=>{if(S){const R=typeof S=="string"?S:Object.values(S)[0];return new Qe(R).isLight()}return!1},[s]),k=d.useMemo(()=>{var R,M;const T=te(e);return parseInt(T!==void 0?(R=T??0)===null||R===void 0?void 0:R.toString():(M=m??0)===null||M===void 0?void 0:M.toString(),10)},[m,e.success,e.successPercent]),I=d.useMemo(()=>!rr.includes(f)&&k>=100?"success":f||"normal",[f,k]),{getPrefixCls:i,direction:l,progress:p}=d.useContext(Pe),y=i("progress",r),[_,W,L]=Ut(y),K=g==="line",E=K&&!a,N=d.useMemo(()=>{if(!h)return null;const R=te(e);let M;const T=C||(X=>`${X}%`),V=K&&$&&b==="inner";return b==="inner"||C||I!=="exception"&&I!=="success"?M=T(z(m),z(R)):I==="exception"?M=K?d.createElement(Je,null):d.createElement(Ze,null):I==="success"&&(M=K?d.createElement(et,null):d.createElement(tt,null)),d.createElement("span",{className:B(`${y}-text`,{[`${y}-text-bright`]:V,[`${y}-text-${j}`]:E,[`${y}-text-${b}`]:E}),title:typeof M=="string"?M:void 0},M)},[h,m,k,I,g,y,C]);let O;g==="line"?O=a?d.createElement(er,Object.assign({},e,{strokeColor:P,prefixCls:y,steps:typeof a=="object"?a.count:a}),N):d.createElement(Zt,Object.assign({},e,{strokeColor:S,prefixCls:y,direction:l,percentPosition:{align:j,type:b}}),N):(g==="circle"||g==="dashboard")&&(O=d.createElement(Ht,Object.assign({},e,{strokeColor:S,prefixCls:y,progressStatus:I}),N));const F=B(y,`${y}-status-${I}`,{[`${y}-${g==="dashboard"&&"circle"||g}`]:g!=="line",[`${y}-inline-circle`]:g==="circle"&&ne(u,"circle")[0]<=20,[`${y}-line`]:E,[`${y}-line-align-${j}`]:E,[`${y}-line-position-${b}`]:E,[`${y}-steps`]:a,[`${y}-show-info`]:h,[`${y}-${u}`]:typeof u=="string",[`${y}-rtl`]:l==="rtl"},p==null?void 0:p.className,n,o,W,L);return _(d.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},p==null?void 0:p.style),v),className:F,role:"progressbar","aria-valuenow":k,"aria-valuemin":0,"aria-valuemax":100},ce(w,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),O))});function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},me.apply(this,arguments)}const or=(e,t)=>d.createElement(Ae,me({},e,{ref:t,icon:rt})),hr=d.forwardRef(or);function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ge.apply(this,arguments)}const ar=(e,t)=>d.createElement(Ae,ge({},e,{ref:t,icon:nt})),sr=d.forwardRef(ar),{Panel:Ie}=ue,{TabPane:je}=_e,vr=({closeFnc:e,open:t,blogs:r})=>{var k,I;const[n,o]=d.useState({title:"",content:"",keywords:[],keywordInput:"",contentType:"text",selectedProject:null}),[a,s]=d.useState(null),{handlePopup:m}=ot(),u=at(),{analysis:h,error:g,loading:f}=st(i=>i.analysis);d.useEffect(()=>{f||(h?s(h):g?(console.error("Analysis error:",g),Z.error(g||"Failed to perform competitive analysis. Please try again.")):console.warn("Unexpected state: analysis and analysisError are both null"))},[h,g,f]),d.useEffect(()=>{t||(o({title:"",content:"",keywords:[],keywordInput:"",contentType:"text",selectedProject:null}),s(null))},[t]),d.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);const C=i=>{const{name:l,value:p}=i.target;o(y=>({...y,[l]:p}))},v=i=>{const l=r.find(p=>p._id===i);l&&o(p=>({...p,title:l.title,content:l.content,keywords:l.focusKeywords||[],selectedProject:l,contentType:"markdown"}))},x=i=>{o(l=>({...l,keywordInput:i.target.value}))},w=()=>{const i=n.keywordInput;if(i.trim()!==""){const l=i.split(",").map(p=>p.trim()).filter(p=>p!==""&&!n.keywords.includes(p));l.length>0&&o(p=>({...p,keywords:[...p.keywords,...l],keywordInput:""}))}},j=i=>{o(l=>({...l,keywords:l.keywords.filter((p,y)=>y!==i)}))},b=i=>{(i.key==="Enter"||i.key===",")&&(i.preventDefault(),w())},S=()=>{if(!n.title.trim())return Z.error("Please enter a blog title");if(!n.content.trim())return Z.error("Please enter blog content");if(n.keywords.length===0)return Z.error("Please add at least one keyword");m({title:"Analyze Competitors",description:c.jsxs("p",{children:["Competitive Analysis cost: ",c.jsxs("b",{children:[dt("analysis.competitors")," credits"]}),c.jsx("br",{}),"Do you wish to proceed?"]}),onConfirm:async()=>{var i;try{const l=await u(ct({title:n.title,content:n.content,keywords:n.keywords,contentType:n.contentType,blogId:(i=n==null?void 0:n.selectedProject)==null?void 0:i._id})).unwrap();s(l)}catch(l){console.error("Error fetching analysis:",l)}}})},P=i=>i?i.split(`
`).filter(l=>l.trim()!=="").map((l,p)=>c.jsx("p",{className:"mb-2",children:c.jsx("span",{dangerouslySetInnerHTML:{__html:l.trim().replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")}})},p)):[],$=d.useMemo(()=>a!=null&&a.competitors?c.jsx(ue,{accordion:!0,className:"bg-white border border-gray-200 rounded-lg",children:a.competitors.map((i,l)=>c.jsxs(Ie,{header:c.jsxs("div",{className:"flex justify-between items-center w-full pr-2",children:[c.jsx("span",{className:"font-medium text-gray-800 truncate max-w-[60%]",children:i.title}),c.jsx("a",{href:i.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm hover:underline",onClick:p=>p.stopPropagation(),children:"Visit"})]}),className:"text-sm text-gray-700 leading-relaxed",children:[c.jsx("p",{className:"mb-2 font-medium",children:i.snippet}),c.jsx("div",{children:P(i.summary)})]},l))}):null,[a]);return f?c.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:c.jsx(it,{})}):c.jsx(lt,{open:t,title:c.jsx("div",{className:"text-xl font-semibold text-gray-900",children:"Competitive Analysis"}),onCancel:e,footer:[c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition",children:"Close"}),!a&&c.jsx("button",{onClick:S,className:`px-4 py-2 text-sm font-medium text-white bg-[#1B6FC9]  rounded-md hover:bg-[#1B6FC9]/90 transition ${f?"opacity-50 cursor-not-allowed":""}`,disabled:f,children:f?c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(sr,{}),"Analyzing..."]}):"Analyze"})]},"footer")],width:900,centered:!0,closable:!0,transitionName:"",maskTransitionName:"",bodyStyle:{maxHeight:"80vh",overflowY:"auto",padding:0},children:c.jsx("div",{className:"p-4",children:a?c.jsxs(_e,{defaultActiveKey:"results",children:[c.jsx(je,{tab:"Analysis Results",children:c.jsxs(ee.div,{animate:{opacity:1,y:0},transition:{duration:.6,easement:"easeOut"},className:"space-y-6",children:[c.jsxs(ee.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},className:"flex flex-col items-center",children:[c.jsx(nr,{type:"dashboard",percent:parseInt(a.insights.blogScore||0),format:i=>`${i} / 100`,strokeColor:{"0%":"#1B6FC9","100%":"#4C9FE8"},trailColor:"#e5e7eb",size:"large"}),c.jsx("div",{className:"text-gray-800 text-lg font-semibold mt-3",children:"Blog SEO Score"})]}),c.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.4},children:c.jsx(gt,{title:"Suggestions to Beat Competitors",className:"bg-white border border-gray-200 rounded-lg shadow-sm",headStyle:{background:"#f9fafb",fontWeight:600,fontSize:"1.1rem"},children:c.jsx("ul",{className:"list-decimal pl-6 space-y-3 text-sm text-gray-700",children:(k=a==null?void 0:a.insights.suggestions)==null?void 0:k.split(/(?:\d+\.\s)/).filter(Boolean).map((i,l)=>c.jsx("li",{children:c.jsx("span",{dangerouslySetInnerHTML:{__html:i.trim().replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")}})},l))})})}),c.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.4},children:c.jsx(ue,{accordion:!0,className:"bg-white border border-gray-200 rounded-lg",expandIconPosition:"right",children:Object.entries(a.insights.analysis).map(([i,l])=>{const p=l.match(/^(\d+\/\d+)\s+—\s+(.*)$/),y=p?p[1]:null,_=p?p[2]:l;return c.jsx(Ie,{header:c.jsxs("div",{className:"flex justify-between items-center w-full pr-2",children:[c.jsx("span",{className:"font-medium text-gray-800",children:i}),y&&c.jsx("span",{className:"text-sm text-center w-[10ch] font-semibold text-blue-600 bg-blue-50 px-2 py-1 rounded-md",children:y.replace("/"," / ")})]}),className:"text-sm text-gray-700 leading-relaxed",children:c.jsx("p",{children:_})},i)})})})]})},"results"),c.jsx(je,{tab:"Competitors",children:$||c.jsx(Empty,{description:"No competitor data available"})},"competitors")]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Recent Project"}),c.jsxs(se,{className:"w-full rounded-md text-sm",onChange:v,value:((I=n.selectedProject)==null?void 0:I._id)||"",dropdownStyle:{maxHeight:200,overflowY:"auto"},children:[c.jsx(se.Option,{value:"",children:"Select a project"}),r.map(i=>c.jsx(se.Option,{value:i._id,children:i.title},i._id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blog Title"}),c.jsx("input",{type:"text",name:"title",value:n.title,onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Enter your blog title"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blog Content"}),c.jsx("textarea",{name:"content",value:n.content,onChange:C,className:"w-full h-40 px-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:`Enter your blog content in ${n.contentType} format`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keywords"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("input",{type:"text",value:n.keywordInput,onChange:x,onKeyDown:b,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Add keywords (comma-separated)"}),c.jsx("button",{onClick:w,className:"px-4 py-2 bg-[#1B6FC9]  text-white rounded-md text-sm hover:bg-[#1B6FC9]/90 transition",children:c.jsx(ft,{})})]}),c.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:n.keywords.map((i,l)=>c.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-500",children:[i,c.jsx("button",{type:"button",onClick:()=>j(l),className:"ml-2 text-blue-500 hover:text-blue-700",children:c.jsx(pt,{className:"w-4 h-4"})})]},l))})]})]})})})};export{vr as C,hr as R};
