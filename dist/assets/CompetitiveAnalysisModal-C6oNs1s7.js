import{ad as ue,e as D,ae as X,ab as me,aJ as pe,af as G,ag as le,aE as _e,B as Se,ac as Re,ao as Me,am as De,an as U,_ as Be,C as Ie,g as we,c as ke,d as T,r as Pe,a$ as Te,aY as Le,I as Ke,y as We,D as ye,aN as Fe,o as ce,ay as Xe,bj as de,T as ze,aL as He,F as Ge,bk as Ve,bl as qe,bm as Ue,bn as Ye,a0 as Je,a as Qe,b as Ze,a3 as et,j as m,m as Z,s as se,bd as tt,bg as ee}from"./index-BBfc4_gj.js";import{R as O,b as u}from"./chunk-tiptap-BtN4qVNk.js";import{g as rt}from"./getEstimatedCost-CNk9t6ob.js";import{X as he}from"./x-VW9X_2KN.js";import{C as nt}from"./index-KlGxjFbO.js";import{R as ot}from"./RightOutlined-BlRDyNon.js";import{g as at}from"./collapse-BbEVqHco.js";var Ne=O.forwardRef(function(e,t){var r=e.prefixCls,n=e.forceRender,o=e.className,i=e.style,a=e.children,d=e.isActive,l=e.role,y=e.classNames,g=e.styles,h=O.useState(d||n),$=ue(h,2),f=$[0],v=$[1];return O.useEffect(function(){(n||d)&&v(!0)},[n,d]),f?O.createElement("div",{ref:t,className:D("".concat(r,"-content"),X(X({},"".concat(r,"-content-active"),d),"".concat(r,"-content-inactive"),!d),o),style:i,role:l},O.createElement("div",{className:D("".concat(r,"-content-box"),y==null?void 0:y.body),style:g==null?void 0:g.body},a)):null});Ne.displayName="PanelContent";var st=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],je=O.forwardRef(function(e,t){var r=e.showArrow,n=r===void 0?!0:r,o=e.headerClass,i=e.isActive,a=e.onItemClick,d=e.forceRender,l=e.className,y=e.classNames,g=y===void 0?{}:y,h=e.styles,$=h===void 0?{}:h,f=e.prefixCls,v=e.collapsible,I=e.accordion,w=e.panelKey,b=e.extra,x=e.header,s=e.expandIcon,c=e.openMotion,p=e.destroyInactivePanel,S=e.children,P=me(e,st),k=v==="disabled",N=b!=null&&typeof b!="boolean",C=X(X(X({onClick:function(){a==null||a(w)},onKeyDown:function(A){(A.key==="Enter"||A.keyCode===pe.ENTER||A.which===pe.ENTER)&&(a==null||a(w))},role:I?"tab":"button"},"aria-expanded",i),"aria-disabled",k),"tabIndex",k?-1:0),R=typeof s=="function"?s(e):O.createElement("i",{className:"arrow"}),W=R&&O.createElement("div",G({className:"".concat(f,"-expand-icon")},["header","icon"].includes(v)?C:{}),R),L=D("".concat(f,"-item"),X(X({},"".concat(f,"-item-active"),i),"".concat(f,"-item-disabled"),k),l),K=D(o,"".concat(f,"-header"),X({},"".concat(f,"-collapsible-").concat(v),!!v),g.header),E=le({className:K,style:$.header},["header","icon"].includes(v)?{}:C);return O.createElement("div",G({},P,{ref:t,className:L}),O.createElement("div",E,n&&W,O.createElement("span",G({className:"".concat(f,"-header-text")},v==="header"?C:{}),x),N&&O.createElement("div",{className:"".concat(f,"-extra")},b)),O.createElement(_e,G({visible:i,leavedClassName:"".concat(f,"-content-hidden")},c,{forceRender:d,removeOnLeave:p}),function(j,A){var F=j.className,_=j.style;return O.createElement(Ne,{ref:A,prefixCls:f,className:F,classNames:g,style:_,styles:$,isActive:i,forceRender:d,role:I?"tabpanel":void 0},S)}))}),it=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],lt=function(t,r){var n=r.prefixCls,o=r.accordion,i=r.collapsible,a=r.destroyInactivePanel,d=r.onItemClick,l=r.activeKey,y=r.openMotion,g=r.expandIcon;return t.map(function(h,$){var f=h.children,v=h.label,I=h.key,w=h.collapsible,b=h.onItemClick,x=h.destroyInactivePanel,s=me(h,it),c=String(I??$),p=w??i,S=x??a,P=function(C){p!=="disabled"&&(d(C),b==null||b(C))},k=!1;return o?k=l[0]===c:k=l.indexOf(c)>-1,O.createElement(je,G({},s,{prefixCls:n,key:c,panelKey:c,isActive:k,accordion:o,openMotion:y,expandIcon:g,header:v,collapsible:p,onItemClick:P,destroyInactivePanel:S}),f)})},ct=function(t,r,n){if(!t)return null;var o=n.prefixCls,i=n.accordion,a=n.collapsible,d=n.destroyInactivePanel,l=n.onItemClick,y=n.activeKey,g=n.openMotion,h=n.expandIcon,$=t.key||String(r),f=t.props,v=f.header,I=f.headerClass,w=f.destroyInactivePanel,b=f.collapsible,x=f.onItemClick,s=!1;i?s=y[0]===$:s=y.indexOf($)>-1;var c=b??a,p=function(k){c!=="disabled"&&(l(k),x==null||x(k))},S={key:$,panelKey:$,header:v,headerClass:I,isActive:s,prefixCls:o,destroyInactivePanel:w??d,openMotion:g,accordion:i,children:t.props.children,onItemClick:p,expandIcon:h,collapsible:c};return typeof t.type=="string"?t:(Object.keys(S).forEach(function(P){typeof S[P]>"u"&&delete S[P]}),O.cloneElement(t,S))};function dt(e,t,r){return Array.isArray(e)?lt(e,r):Se(t).map(function(n,o){return ct(n,o,r)})}function ut(e){var t=e;if(!Array.isArray(t)){var r=U(t);t=r==="number"||r==="string"?[t]:[]}return t.map(function(n){return String(n)})}var mt=O.forwardRef(function(e,t){var r=e.prefixCls,n=r===void 0?"rc-collapse":r,o=e.destroyInactivePanel,i=o===void 0?!1:o,a=e.style,d=e.accordion,l=e.className,y=e.children,g=e.collapsible,h=e.openMotion,$=e.expandIcon,f=e.activeKey,v=e.defaultActiveKey,I=e.onChange,w=e.items,b=D(n,l),x=Re([],{value:f,onChange:function(N){return I==null?void 0:I(N)},defaultValue:v,postState:ut}),s=ue(x,2),c=s[0],p=s[1],S=function(N){return p(function(){if(d)return c[0]===N?[]:[N];var C=c.indexOf(N),R=C>-1;return R?c.filter(function(W){return W!==N}):[].concat(Be(c),[N])})};Me(!y,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var P=dt(w,y,{prefixCls:n,accordion:d,openMotion:h,expandIcon:$,collapsible:g,destroyInactivePanel:i,onItemClick:S,activeKey:c});return O.createElement("div",G({ref:t,className:b,style:a,role:d?"tablist":void 0},De(e,{aria:!0,data:!0})),P)});const ge=Object.assign(mt,{Panel:je});ge.Panel;const gt=u.forwardRef((e,t)=>{const{getPrefixCls:r}=u.useContext(Ie),{prefixCls:n,className:o,showArrow:i=!0}=e,a=r("collapse",n),d=D({[`${a}-no-arrow`]:!i},o);return u.createElement(ge.Panel,Object.assign({ref:t},e,{prefixCls:a,className:d}))}),ft=e=>{const{componentCls:t,contentBg:r,padding:n,headerBg:o,headerPadding:i,collapseHeaderPaddingSM:a,collapseHeaderPaddingLG:d,collapsePanelBorderRadius:l,lineWidth:y,lineType:g,colorBorder:h,colorText:$,colorTextHeading:f,colorTextDisabled:v,fontSizeLG:I,lineHeight:w,lineHeightLG:b,marginSM:x,paddingSM:s,paddingLG:c,paddingXS:p,motionDurationSlow:S,fontSizeIcon:P,contentPadding:k,fontHeight:N,fontHeightLG:C}=e,R=`${T(y)} ${g} ${h}`;return{[t]:Object.assign(Object.assign({},Pe(e)),{backgroundColor:o,border:R,borderRadius:l,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:R,"&:first-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`${T(l)} ${T(l)} 0 0`}},"&:last-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`0 0 ${T(l)} ${T(l)}`}},[`> ${t}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:i,color:f,lineHeight:w,cursor:"pointer",transition:`all ${S}, visibility 0s`},Te(e)),{[`> ${t}-header-text`]:{flex:"auto"},[`${t}-expand-icon`]:{height:N,display:"flex",alignItems:"center",paddingInlineEnd:x},[`${t}-arrow`]:Object.assign(Object.assign({},Le()),{fontSize:P,transition:`transform ${S}`,svg:{transition:`transform ${S}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}}),[`${t}-collapsible-header`]:{cursor:"default",[`${t}-header-text`]:{flex:"none",cursor:"pointer"}},[`${t}-collapsible-icon`]:{cursor:"unset",[`${t}-expand-icon`]:{cursor:"pointer"}}},[`${t}-content`]:{color:$,backgroundColor:r,borderTop:R,[`& > ${t}-content-box`]:{padding:k},"&-hidden":{display:"none"}},"&-small":{[`> ${t}-item`]:{[`> ${t}-header`]:{padding:a,paddingInlineStart:p,[`> ${t}-expand-icon`]:{marginInlineStart:e.calc(s).sub(p).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:s}}},"&-large":{[`> ${t}-item`]:{fontSize:I,lineHeight:b,[`> ${t}-header`]:{padding:d,paddingInlineStart:n,[`> ${t}-expand-icon`]:{height:C,marginInlineStart:e.calc(c).sub(n).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:c}}},[`${t}-item:last-child`]:{borderBottom:0,[`> ${t}-content`]:{borderRadius:`0 0 ${T(l)} ${T(l)}`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:v,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:x}}}}})}},pt=e=>{const{componentCls:t}=e,r=`> ${t}-item > ${t}-header ${t}-arrow`;return{[`${t}-rtl`]:{[r]:{transform:"rotate(180deg)"}}}},yt=e=>{const{componentCls:t,headerBg:r,borderlessContentPadding:n,borderlessContentBg:o,colorBorder:i}=e;return{[`${t}-borderless`]:{backgroundColor:r,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${i}`},[`
        > ${t}-item:last-child,
        > ${t}-item:last-child ${t}-header
      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:o,borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{padding:n}}}},ht=e=>{const{componentCls:t,paddingSM:r}=e;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:r}}}}}},vt=e=>({headerPadding:`${e.paddingSM}px ${e.padding}px`,headerBg:e.colorFillAlter,contentPadding:`${e.padding}px 16px`,contentBg:e.colorBgContainer,borderlessContentPadding:`${e.paddingXXS}px 16px ${e.padding}px`,borderlessContentBg:"transparent"}),bt=we("Collapse",e=>{const t=ke(e,{collapseHeaderPaddingSM:`${T(e.paddingXS)} ${T(e.paddingSM)}`,collapseHeaderPaddingLG:`${T(e.padding)} ${T(e.paddingLG)}`,collapsePanelBorderRadius:e.borderRadiusLG});return[ft(t),yt(t),ht(t),pt(t),at(t)]},vt),xt=u.forwardRef((e,t)=>{const{getPrefixCls:r,direction:n,expandIcon:o,className:i,style:a}=Ke("collapse"),{prefixCls:d,className:l,rootClassName:y,style:g,bordered:h=!0,ghost:$,size:f,expandIconPosition:v="start",children:I,destroyInactivePanel:w,destroyOnHidden:b,expandIcon:x}=e,s=We(E=>{var j;return(j=f??E)!==null&&j!==void 0?j:"middle"}),c=r("collapse",d),p=r(),[S,P,k]=bt(c),N=u.useMemo(()=>v==="left"?"start":v==="right"?"end":v,[v]),C=x??o,R=u.useCallback((E={})=>{const j=typeof C=="function"?C(E):u.createElement(ot,{rotate:E.isActive?n==="rtl"?-90:90:void 0,"aria-label":E.isActive?"expanded":"collapsed"});return ye(j,()=>{var A;return{className:D((A=j==null?void 0:j.props)===null||A===void 0?void 0:A.className,`${c}-arrow`)}})},[C,c]),W=D(`${c}-icon-position-${N}`,{[`${c}-borderless`]:!h,[`${c}-rtl`]:n==="rtl",[`${c}-ghost`]:!!$,[`${c}-${s}`]:s!=="middle"},i,l,y,P,k),L=Object.assign(Object.assign({},Fe(p)),{motionAppear:!1,leavedClassName:`${c}-content-hidden`}),K=u.useMemo(()=>I?Se(I).map((E,j)=>{var A,F;const _=E.props;if(_!=null&&_.disabled){const M=(A=E.key)!==null&&A!==void 0?A:String(j),B=Object.assign(Object.assign({},ce(E.props,["disabled"])),{key:M,collapsible:(F=_.collapsible)!==null&&F!==void 0?F:"disabled"});return ye(E,B)}return E}):null,[I]);return S(u.createElement(ge,Object.assign({ref:t,openMotion:L},ce(e,["rootClassName"]),{expandIcon:R,prefixCls:c,className:W,style:Object.assign(Object.assign({},a),g),destroyInactivePanel:b??w}),K))}),Ee=Object.assign(xt,{Panel:gt});var Ct={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},$t=function(){var t=u.useRef([]),r=u.useRef(null);return u.useEffect(function(){var n=Date.now(),o=!1;t.current.forEach(function(i){if(i){o=!0;var a=i.style;a.transitionDuration=".3s, .3s, .3s, .06s",r.current&&n-r.current<100&&(a.transitionDuration="0s, 0s")}}),o&&(r.current=Date.now())}),t.current},ve=0,St=Xe();function It(){var e;return St?(e=ve,ve+=1):e="TEST_OR_SSR",e}const wt=function(e){var t=u.useState(),r=ue(t,2),n=r[0],o=r[1];return u.useEffect(function(){o("rc_progress_".concat(It()))},[]),e||n};var be=function(t){var r=t.bg,n=t.children;return u.createElement("div",{style:{width:"100%",height:"100%",background:r}},n)};function xe(e,t){return Object.keys(e).map(function(r){var n=parseFloat(r),o="".concat(Math.floor(n*t),"%");return"".concat(e[r]," ").concat(o)})}var kt=u.forwardRef(function(e,t){var r=e.prefixCls,n=e.color,o=e.gradientId,i=e.radius,a=e.style,d=e.ptg,l=e.strokeLinecap,y=e.strokeWidth,g=e.size,h=e.gapDegree,$=n&&U(n)==="object",f=$?"#FFF":void 0,v=g/2,I=u.createElement("circle",{className:"".concat(r,"-circle-path"),r:i,cx:v,cy:v,stroke:f,strokeLinecap:l,strokeWidth:y,opacity:d===0?0:1,style:a,ref:t});if(!$)return I;var w="".concat(o,"-conic"),b=h?"".concat(180+h/2,"deg"):"0deg",x=xe(n,(360-h)/360),s=xe(n,1),c="conic-gradient(from ".concat(b,", ").concat(x.join(", "),")"),p="linear-gradient(to ".concat(h?"bottom":"top",", ").concat(s.join(", "),")");return u.createElement(u.Fragment,null,u.createElement("mask",{id:w},I),u.createElement("foreignObject",{x:0,y:0,width:g,height:g,mask:"url(#".concat(w,")")},u.createElement(be,{bg:p},u.createElement(be,{bg:c}))))}),J=100,ie=function(t,r,n,o,i,a,d,l,y,g){var h=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,$=n/100*360*((360-a)/360),f=a===0?0:{bottom:0,top:180,left:90,right:-90}[d],v=(100-o)/100*r;y==="round"&&o!==100&&(v+=g/2,v>=r&&(v=r-.01));var I=J/2;return{stroke:typeof l=="string"?l:void 0,strokeDasharray:"".concat(r,"px ").concat(t),strokeDashoffset:v+h,transform:"rotate(".concat(i+$+f,"deg)"),transformOrigin:"".concat(I,"px ").concat(I,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Pt=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Ce(e){var t=e??[];return Array.isArray(t)?t:[t]}var Nt=function(t){var r=le(le({},Ct),t),n=r.id,o=r.prefixCls,i=r.steps,a=r.strokeWidth,d=r.trailWidth,l=r.gapDegree,y=l===void 0?0:l,g=r.gapPosition,h=r.trailColor,$=r.strokeLinecap,f=r.style,v=r.className,I=r.strokeColor,w=r.percent,b=me(r,Pt),x=J/2,s=wt(n),c="".concat(s,"-gradient"),p=x-a/2,S=Math.PI*2*p,P=y>0?90+y/2:-90,k=S*((360-y)/360),N=U(i)==="object"?i:{count:i,gap:2},C=N.count,R=N.gap,W=Ce(w),L=Ce(I),K=L.find(function(B){return B&&U(B)==="object"}),E=K&&U(K)==="object",j=E?"butt":$,A=ie(S,k,0,100,P,y,g,h,j,a),F=$t(),_=function(){var V=0;return W.map(function(H,q){var oe=L[q]||L[L.length-1],Y=ie(S,k,V,H,P,y,g,oe,j,a);return V+=H,u.createElement(kt,{key:q,color:oe,ptg:H,radius:p,prefixCls:o,gradientId:c,style:Y,strokeLinecap:j,strokeWidth:a,gapDegree:y,ref:function(ae){F[q]=ae},size:J})}).reverse()},M=function(){var V=Math.round(C*(W[0]/100)),H=100/C,q=0;return new Array(C).fill(null).map(function(oe,Y){var Q=Y<=V-1?L[0]:h,ae=Q&&U(Q)==="object"?"url(#".concat(c,")"):void 0,fe=ie(S,k,q,H,P,y,g,Q,"butt",a,R);return q+=(k-fe.strokeDashoffset+R)*100/k,u.createElement("circle",{key:Y,className:"".concat(o,"-circle-path"),r:p,cx:x,cy:x,stroke:ae,strokeWidth:a,opacity:1,style:fe,ref:function(Oe){F[Y]=Oe}})})};return u.createElement("svg",G({className:D("".concat(o,"-circle"),v),viewBox:"0 0 ".concat(J," ").concat(J),style:f,id:n,role:"presentation"},b),!C&&u.createElement("circle",{className:"".concat(o,"-circle-trail"),r:p,cx:x,cy:x,stroke:h,strokeLinecap:j,strokeWidth:d||a,style:A}),C?M():_())};function z(e){return!e||e<0?0:e>100?100:e}function te({success:e,successPercent:t}){let r=t;return e&&"progress"in e&&(r=e.progress),e&&"percent"in e&&(r=e.percent),r}const jt=({percent:e,success:t,successPercent:r})=>{const n=z(te({success:t,successPercent:r}));return[n,z(z(e)-n)]},Et=({success:e={},strokeColor:t})=>{const{strokeColor:r}=e;return[r||de.green,t||null]},ne=(e,t,r)=>{var n,o,i,a;let d=-1,l=-1;if(t==="step"){const y=r.steps,g=r.strokeWidth;typeof e=="string"||typeof e>"u"?(d=e==="small"?2:14,l=g??8):typeof e=="number"?[d,l]=[e,e]:[d=14,l=8]=Array.isArray(e)?e:[e.width,e.height],d*=y}else if(t==="line"){const y=r==null?void 0:r.strokeWidth;typeof e=="string"||typeof e>"u"?l=y||(e==="small"?6:8):typeof e=="number"?[d,l]=[e,e]:[d=-1,l=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[d,l]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[d,l]=[e,e]:Array.isArray(e)&&(d=(o=(n=e[0])!==null&&n!==void 0?n:e[1])!==null&&o!==void 0?o:120,l=(a=(i=e[0])!==null&&i!==void 0?i:e[1])!==null&&a!==void 0?a:120));return[d,l]},At=3,Ot=e=>At/e*100,_t=e=>{const{prefixCls:t,trailColor:r=null,strokeLinecap:n="round",gapPosition:o,gapDegree:i,width:a=120,type:d,children:l,success:y,size:g=a,steps:h}=e,[$,f]=ne(g,"circle");let{strokeWidth:v}=e;v===void 0&&(v=Math.max(Ot($),6));const I={width:$,height:f,fontSize:$*.15+6},w=u.useMemo(()=>{if(i||i===0)return i;if(d==="dashboard")return 75},[i,d]),b=jt(e),x=o||d==="dashboard"&&"bottom"||void 0,s=Object.prototype.toString.call(e.strokeColor)==="[object Object]",c=Et({success:y,strokeColor:e.strokeColor}),p=D(`${t}-inner`,{[`${t}-circle-gradient`]:s}),S=u.createElement(Nt,{steps:h,percent:h?b[1]:b,strokeWidth:v,trailWidth:v,strokeColor:h?c[1]:c,strokeLinecap:n,trailColor:r,prefixCls:t,gapDegree:w,gapPosition:x}),P=$<=20,k=u.createElement("div",{className:p,style:I},S,!P&&l);return P?u.createElement(ze,{title:l},k):k},re="--progress-line-stroke-color",Ae="--progress-percent",$e=e=>{const t=e?"100%":"-100%";return new He(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},Rt=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:Object.assign(Object.assign({},Pe(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${re})`]},height:"100%",width:`calc(1 / var(${Ae}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[r]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${T(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:$e(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:$e(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},Mt=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[r]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},Dt=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Bt=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${r}`]:{fontSize:e.fontSizeSM}}}},Tt=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),Lt=we("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),r=ke(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[Rt(r),Mt(r),Dt(r),Bt(r)]},Tt);var Kt=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const Wt=e=>{let t=[];return Object.keys(e).forEach(r=>{const n=parseFloat(r.replace(/%/g,""));Number.isNaN(n)||t.push({key:n,value:e[r]})}),t=t.sort((r,n)=>r.key-n.key),t.map(({key:r,value:n})=>`${n} ${r}%`).join(", ")},Ft=(e,t)=>{const{from:r=de.blue,to:n=de.blue,direction:o=t==="rtl"?"to left":"to right"}=e,i=Kt(e,["from","to","direction"]);if(Object.keys(i).length!==0){const d=Wt(i),l=`linear-gradient(${o}, ${d})`;return{background:l,[re]:l}}const a=`linear-gradient(${o}, ${r}, ${n})`;return{background:a,[re]:a}},Xt=e=>{const{prefixCls:t,direction:r,percent:n,size:o,strokeWidth:i,strokeColor:a,strokeLinecap:d="round",children:l,trailColor:y=null,percentPosition:g,success:h}=e,{align:$,type:f}=g,v=a&&typeof a!="string"?Ft(a,r):{[re]:a,background:a},I=d==="square"||d==="butt"?0:void 0,w=o??[-1,i||(o==="small"?6:8)],[b,x]=ne(w,"line",{strokeWidth:i}),s={backgroundColor:y||void 0,borderRadius:I},c=Object.assign(Object.assign({width:`${z(n)}%`,height:x,borderRadius:I},v),{[Ae]:z(n)/100}),p=te(e),S={width:`${z(p)}%`,height:x,borderRadius:I,backgroundColor:h==null?void 0:h.strokeColor},P={width:b<0?"100%":b},k=u.createElement("div",{className:`${t}-inner`,style:s},u.createElement("div",{className:D(`${t}-bg`,`${t}-bg-${f}`),style:c},f==="inner"&&l),p!==void 0&&u.createElement("div",{className:`${t}-success-bg`,style:S})),N=f==="outer"&&$==="start",C=f==="outer"&&$==="end";return f==="outer"&&$==="center"?u.createElement("div",{className:`${t}-layout-bottom`},k,l):u.createElement("div",{className:`${t}-outer`,style:P},N&&l,k,C&&l)},zt=e=>{const{size:t,steps:r,rounding:n=Math.round,percent:o=0,strokeWidth:i=8,strokeColor:a,trailColor:d=null,prefixCls:l,children:y}=e,g=n(r*(o/100)),$=t??[t==="small"?2:14,i],[f,v]=ne($,"step",{steps:r,strokeWidth:i}),I=f/r,w=Array.from({length:r});for(let b=0;b<r;b++){const x=Array.isArray(a)?a[b]:a;w[b]=u.createElement("div",{key:b,className:D(`${l}-steps-item`,{[`${l}-steps-item-active`]:b<=g-1}),style:{backgroundColor:b<=g-1?x:d,width:I,height:v}})}return u.createElement("div",{className:`${l}-steps-outer`},w,y)};var Ht=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const Gt=["normal","exception","active","success"],Vt=u.forwardRef((e,t)=>{const{prefixCls:r,className:n,rootClassName:o,steps:i,strokeColor:a,percent:d=0,size:l="default",showInfo:y=!0,type:g="line",status:h,format:$,style:f,percentPosition:v={}}=e,I=Ht(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:w="end",type:b="outer"}=v,x=Array.isArray(a)?a[0]:a,s=typeof a=="string"||Array.isArray(a)?a:void 0,c=u.useMemo(()=>{if(x){const _=typeof x=="string"?x:Object.values(x)[0];return new Ge(_).isLight()}return!1},[a]),p=u.useMemo(()=>{var _,M;const B=te(e);return parseInt(B!==void 0?(_=B??0)===null||_===void 0?void 0:_.toString():(M=d??0)===null||M===void 0?void 0:M.toString(),10)},[d,e.success,e.successPercent]),S=u.useMemo(()=>!Gt.includes(h)&&p>=100?"success":h||"normal",[h,p]),{getPrefixCls:P,direction:k,progress:N}=u.useContext(Ie),C=P("progress",r),[R,W,L]=Lt(C),K=g==="line",E=K&&!i,j=u.useMemo(()=>{if(!y)return null;const _=te(e);let M;const B=$||(H=>`${H}%`),V=K&&c&&b==="inner";return b==="inner"||$||S!=="exception"&&S!=="success"?M=B(z(d),z(_)):S==="exception"?M=K?u.createElement(Ve,null):u.createElement(qe,null):S==="success"&&(M=K?u.createElement(Ue,null):u.createElement(Ye,null)),u.createElement("span",{className:D(`${C}-text`,{[`${C}-text-bright`]:V,[`${C}-text-${w}`]:E,[`${C}-text-${b}`]:E}),title:typeof M=="string"?M:void 0},M)},[y,d,p,S,g,C,$]);let A;g==="line"?A=i?u.createElement(zt,Object.assign({},e,{strokeColor:s,prefixCls:C,steps:typeof i=="object"?i.count:i}),j):u.createElement(Xt,Object.assign({},e,{strokeColor:x,prefixCls:C,direction:k,percentPosition:{align:w,type:b}}),j):(g==="circle"||g==="dashboard")&&(A=u.createElement(_t,Object.assign({},e,{strokeColor:x,prefixCls:C,progressStatus:S}),j));const F=D(C,`${C}-status-${S}`,{[`${C}-${g==="dashboard"&&"circle"||g}`]:g!=="line",[`${C}-inline-circle`]:g==="circle"&&ne(l,"circle")[0]<=20,[`${C}-line`]:E,[`${C}-line-align-${w}`]:E,[`${C}-line-position-${b}`]:E,[`${C}-steps`]:i,[`${C}-show-info`]:y,[`${C}-${l}`]:typeof l=="string",[`${C}-rtl`]:k==="rtl"},N==null?void 0:N.className,n,o,W,L);return R(u.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},N==null?void 0:N.style),f),className:F,role:"progressbar","aria-valuenow":p,"aria-valuemin":0,"aria-valuemax":100},ce(I,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),A))});typeof window<"u"&&ee&&!ee._authInterceptorSet&&(ee.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers=e.headers||{},e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),ee._authInterceptorSet=!0);const{Panel:qt}=Ee,nr=({closeFnc:e})=>{var x;const[t,r]=u.useState({title:"",content:"",keywords:[],keywordInput:"",contentType:"text",selectedProject:null}),[n,o]=u.useState(!1),[i,a]=u.useState(null),{handlePopup:d}=Je(),l=Qe(),{blogs:y,loading:g}=Ze(s=>s.blog);u.useEffect(()=>{l(et())},[l]);const h=s=>{const{name:c,value:p}=s.target;r(S=>({...S,[c]:p}))},$=s=>{r(c=>({...c,title:s.title,content:s.content,keywords:s.focusKeywords||[],selectedProject:s,contentType:"markdown"}))},f=s=>{r(c=>({...c,keywordInput:s.target.value}))},v=()=>{const s=t.keywordInput;if(s.trim()!==""){const c=s.split(",").map(p=>p.trim()).filter(p=>p!==""&&!t.keywords.includes(p));c.length>0&&r(p=>({...p,keywords:[...p.keywords,...c],keywordInput:""}))}},I=s=>{r(c=>({...c,keywords:c.keywords.filter((p,S)=>S!==s)}))},w=s=>{(s.key==="Enter"||s.key===",")&&(s.preventDefault(),v())},b=()=>{if(!t.title.trim())return se.error("Please enter a blog title");if(!t.content.trim())return se.error("Please enter blog content");if(t.keywords.length===0)return se.error("Please add at least one keyword");d({title:"Analyse the competitors",description:m.jsxs("p",{children:["Competitors Analysis cost: ",m.jsxs("b",{children:[rt("analysis.competitors")," credits"]}),m.jsx("br",{}),"Do you wish to proceed ?"]}),onConfirm:()=>{var s;l(tt({title:t.title,content:t.content,keywords:t.keywords,contentType:t.contentType,blogId:(s=t==null?void 0:t.selectedProject)==null?void 0:s._id}))}})};return m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:m.jsxs("div",{className:"w-[800px] bg-white rounded-lg shadow-xl max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"Competitive Analysis"}),m.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:m.jsx(he,{className:"h-6 w-6"})})]}),m.jsx("div",{className:"px-6 py-4 overflow-y-auto",children:m.jsx("div",{className:"space-y-6",children:i?m.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"space-y-4",children:[m.jsxs(Z.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},className:"flex flex-col items-center",children:[m.jsx(Vt,{type:"dashboard",percent:parseInt(i.blogScore||0),format:s=>`${s} / 100`,strokeColor:{"0%":"#108ee9","100%":"#87d068"},trailColor:"#d1d5db"}),m.jsx("div",{className:"text-gray-700 text-base font-semibold mb-2",children:"Blog SEO Score"})]}),m.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.4},children:m.jsx(nt,{title:"Suggestions to Beat Competitors",className:"bg-gray-50 border border-gray-200 rounded-lg",headStyle:{background:"#f9fafb",fontWeight:600},children:m.jsx("p",{className:"text-gray-700 text-sm whitespace-pre-line",children:i.suggestions})})}),m.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.4},children:m.jsx(Ee,{accordion:!0,className:"bg-white border border-gray-200 rounded-lg",expandIconPosition:"right",children:Object.entries(i.analysis).map(([s,c])=>{const p=c.match(/^(\d+\/\d+)\s+—\s+(.*)$/),S=p?p[1]:null,P=p?p[2]:c;return m.jsx(qt,{header:m.jsxs("div",{className:"flex justify-between items-center w-full pr-2",children:[m.jsx("span",{className:"font-medium text-gray-800",children:s}),S&&m.jsx("span",{className:"text-sm text-center w-[10ch] font-semibold text-blue-700 bg-gray-100 tracking-wide px-2 py-0.5 rounded-md",children:S==null?void 0:S.replace("/"," / ")})]}),className:"text-sm text-gray-700 leading-relaxed",children:m.jsx("p",{children:P})},s)})})})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Recent Project"}),m.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 max-h-[200px] overflow-y-auto",onChange:s=>{const c=y.find(p=>p._id===s.target.value);c&&$(c)},value:((x=t.selectedProject)==null?void 0:x._id)||"",children:[m.jsx("option",{value:"",children:"Select a project"}),y.map(s=>m.jsx("option",{value:s._id,children:s.title},s._id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blog Title"}),m.jsx("input",{type:"text",name:"title",value:t.title,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your blog title"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blog Content"}),m.jsx("textarea",{name:"content",value:t.content,onChange:h,className:"w-full h-40 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:`Enter your blog content in ${t.contentType} format`})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Keywords"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:t.keywordInput,onChange:f,onKeyDown:w,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Add keywords (comma-separated)"}),m.jsx("button",{onClick:v,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700",children:"Add"})]}),m.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.keywords.map((s,c)=>m.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[s,m.jsx("button",{type:"button",onClick:()=>I(c),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600",children:m.jsx(he,{className:"w-3 h-3"})})]},c))})]})]})})}),m.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t",children:[m.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Close"}),!i&&m.jsx("button",{onClick:b,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",disabled:n,children:n?"Analyzing...":"Analyze"})]})]})})};export{nr as C};
