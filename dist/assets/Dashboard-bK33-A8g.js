import{I as Ae,j as e,P as J,x as E,u as Z,Q as Fe,a as q,F as ae,S as Pe,G as le,m as T,T as ce,U as Ee,V as Te,W as ue,X as Se,Y as ie,B as je,Z as we,$ as De,D as ze,H as Re,A as xe,J as ve,a0 as $e,a1 as Oe}from"./index-CXBRdXcE.js";import{b as N}from"./chunk-tiptap-Diw-eXXG.js";import{C as fe,p as de}from"./templates-CqQFBlRq.js";import{P as X}from"./plus-CyxAP8n0.js";import{S as _e}from"./index-CAbeoNQ2.js";import{S as Be}from"./sparkles-B-mEaFlZ.js";import{S as te}from"./Pagination-BPjnBdb7.js";import{o as he}from"./UpgardePopUp-iLSiO--i.js";import{C as Ge}from"./crown-CgIJuwts.js";import{X as Q}from"./x-CRSOVgfR.js";import{P as We}from"./pen-tool-CvOnkxLM.js";import{Z as Ue}from"./zap-aeIAaMTM.js";import{c as ne}from"./createLucideIcon-C5jW9RxN.js";import{S as He}from"./search-D9LAgYQh.js";import{U as Ve}from"./users-DPOxn49H.js";import{h as Qe}from"./moment-C5S46NFB.js";import{A as Ie}from"./arrow-right-BSwhHR0B.js";import{E as qe}from"./eye-CNo1tKaf.js";import{g as re}from"./getEstimatedCost-BGc927sc.js";import{I as Ne,U as ke}from"./upload-Do5G6uA7.js";import{R as Ze,C as Je}from"./CompetitiveAnalysisModal-ozg81l_I.js";import{F as ye,T as Ye}from"./index-8MxLA6jA.js";import{C as Xe}from"./index-DHeZJauj.js";import{I as es}from"./index-DQ5O_F1a.js";import{S as ss,a as Ce}from"./SkeletonLoader-D2RtoF0H.js";import{C as ts}from"./clock-BIXxGrxt.js";import"./LeftOutlined-7kyxeL8N.js";import"./Overflow-BlSwON9F.js";import"./move-C80XFKt5.js";import"./useIcons-BPMfLcU2.js";import"./SearchOutlined-B9MaVB6h.js";import"./index-7l5ilkOe.js";import"./EllipsisOutlined-CwrBi4v5.js";import"./Input-Bv2w58MX.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],as=ne("activity",rs);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],pe=ne("gem",ls);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],os=ne("grid-3x3",ns);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],cs=ne("tag",is);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],ms=ne("tags",ds);var xs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function ge(){return ge=Object.assign?Object.assign.bind():function(P){for(var k=1;k<arguments.length;k++){var h=arguments[k];for(var r in h)Object.prototype.hasOwnProperty.call(h,r)&&(P[r]=h[r])}return P},ge.apply(this,arguments)}const hs=(P,k)=>N.createElement(Ae,ge({},P,{ref:k,icon:xs})),Le=N.forwardRef(hs),us=({title:P,visible:k,onCancel:h,children:r})=>k?e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e.jsx("div",{className:"modal-overlay absolute inset-0 bg-gray-800 opacity-50"}),e.jsxs("div",{className:"modal-container bgwhi w-96 rounded-lg shadow-lg z-50 overflow-y-auto",children:[e.jsxs("div",{className:"modal-header p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold ",children:P}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:h,children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"modal-content p-4",children:r})]})]}):null,ps=({handleNext:P,handleClose:k,data:h,setData:r})=>{const[C,w]=N.useState(null),[K,A]=N.useState({userDefinedLength:0,tone:"",includeInterlink:!1,includeMetaHeadlines:!1,wordpressStatus:!0,numberOfBlogs:0,postFrequency:0,randomisedFrequency:0,template:[],focusKeywords:[],keywords:[],focusKeywordInput:"",keywordInput:""}),S=[{imgSrc:"./Images/Classic.png",name:"Classic",description:"Timeless elegance for your classic blog journey",author:"Author 1"},{imgSrc:"./Images/Listicle.png",name:"Listicle",description:"Tips for actionable success in list format.",author:"Author 2"},{imgSrc:"./Images/ProductReview.png",name:"Product Review",description:"Product insights: pros, cons, and more.",author:"Author 3"},{imgSrc:"./Images/HowTo.png",name:"How to....",description:"Step-by-step guides for practical how-to solutions.",author:"Author 4"},{imgSrc:"./Images/NewsArticle.png",name:"News Article",description:"Latest updates and breaking news coverage."},{imgSrc:"./Images/OpinionPiece.png",name:"Opinion Piece",description:"Expert insights and analytical perspectives."},{imgSrc:"./Images/CaseStudy.png",name:"Case Study",description:"In-depth analysis and real-world examples."},{imgSrc:"./Images/Interview.png",name:"Interview",description:"Engaging conversations with industry experts."}],y=m=>{w(m),r({...h,template:S[m]}),A({...K,template:[S[m].name]})},F=()=>{if(C!==null){const m=S[C],s={...h,selectedTemplate:m};r(s),P()}else E.error("Please select a template before proceeding.")};return e.jsx(J,{title:"Step 1: Select Template",open:!0,onCancel:k,footer:[e.jsx("button",{onClick:F,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")],centered:!0,width:800,transitionName:"",maskTransitionName:"",children:e.jsx("div",{children:e.jsx("div",{className:"p-3",children:e.jsx(fe,{children:S.map((m,s)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${K.template.includes(m.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>y(s),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:m.imgSrc||"/placeholder.svg",alt:m.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:m.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:m.description})]})]})},s))})})})})},gs=N.memo(ps),{Option:V}=te,fs=({handleNext:P,handleClose:k,handlePrevious:h,data:r,setData:C})=>{var j;const[w,K]=N.useState((r==null?void 0:r.topic)||""),[A,S]=N.useState(!1),y=Z(),[F,m]=N.useState({title:!1,topic:!1,tone:!1,focusKeyword:!1,focusKeywordInput:"",keyword:!1,keywordInput:""}),[s,p]=N.useState({focusKeywordInput:"",focusKeywords:r.focusKeywords||[],keywordInput:"",keywords:r.keywords||[]}),[D,g]=N.useState([]),[x,v]=N.useState(!1);N.useEffect(()=>{S(!1),g([])},[]);const I=t=>{p(c=>({...c,keywordInput:t.target.value}))},n=()=>{const t=s.keywordInput;if(t.trim()!==""){const c=t.split(",").map(L=>L.trim()).filter(L=>L!==""&&!s.keywords.includes(L));c.length>0&&p(L=>({...L,keywords:[...L.keywords,...c],keywordInput:""}))}},b=t=>{p(c=>({...c,focusKeywordInput:t.target.value}))},o=()=>{const t=s.focusKeywordInput;if(t.trim()!==""){const c=t.split(",").map(L=>L.trim()).filter(L=>L!==""&&!s.focusKeywords.includes(L));c.length>0&&p(L=>({...L,focusKeywords:[...L.focusKeywords,...c],focusKeywordInput:""}))}},f=(t,c)=>{const L=[...s[c]];L.splice(t,1),p(u=>({...u,[c]:L,[`${c}Input`]:L.join(", ")}))},O=(t,c)=>{t.key==="Enter"&&(t.preventDefault(),n(),o())},z=t=>{C(c=>({...c,tone:t})),m(c=>({...c,tone:!1}))},R=async()=>{if(!w.trim()||s.keywords.length===0){E.error("Please enter a topic & keyword before generating titles.");return}v(!0);try{const t=await y(Fe({keywords:s.keywords,focusKeywords:s.focusKeywords,topic:w,template:"default"})).unwrap();g(t),S(!0)}catch{}finally{v(!1)}},i=()=>{var L;const t={title:!((L=r==null?void 0:r.title)!=null&&L.trim()),topic:!(w!=null&&w.trim()),tone:!(r!=null&&r.tone),focusKeyword:s.focusKeywords.length===0,keyword:s.keywords.length===0};if(m(t),Object.values(t).some(u=>u)){E.error("Please fill in all required fields.");return}const c={...r,topic:w,focusKeywords:s.focusKeywords,keywords:s.keywords};C(c),P()};return N.useEffect(()=>{r&&!r.isCheckedGeneratedImages&&C(t=>({...t,isCheckedGeneratedImages:!0,isUnsplashActive:!0}))},[r,C]),e.jsx(J,{title:"Step 2: Crucial Details",open:!0,onCancel:k,footer:[e.jsx("button",{onClick:h,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Back"},"back"),e.jsx("button",{onClick:i,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Topic ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:`w-full px-3 py-2 bg-gray-50 border ${F.topic?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., Tech Blog",value:w,onChange:t=>{K(t.target.value),m(c=>({...c,topic:!1}))}})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Focus Keywords (up to 3)",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s.focusKeywordInput,onChange:b,onKeyDown:t=>O(t),className:`flex-1 px-3 py-2 bg-gray-50 border ${F.focusKeyword?"border-red-500":"border-gray-200"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 text-sm`,placeholder:"Enter focus keywords, separated by commas"}),e.jsx("button",{onClick:o,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 text-sm flex items-center",children:e.jsx(X,{size:16})})]}),s.focusKeywords.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.focusKeywords.map((t,c)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[t,e.jsx("button",{onClick:()=>f(c,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},c))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Keywords",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s.keywordInput,onChange:I,onKeyDown:t=>O(t),className:`flex-1 px-3 py-2 bg-gray-50 border ${F.keyword?"border-red-500":"border-gray-200"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 text-sm`,placeholder:"Enter secondary keywords, separated by commas"}),e.jsx("button",{onClick:n,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 text-sm flex items-center",children:e.jsx(X,{size:16})})]}),s.keywords.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.keywords.map((t,c)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[t,e.jsx("button",{onClick:()=>f(c,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},c))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:`flex-1 px-3 py-2 bg-gray-50 border ${F.title?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., How to Create a Tech Blog",value:(r==null?void 0:r.title)||"",onChange:t=>{C(c=>({...c,title:t.target.value})),m(c=>({...c,title:!1}))}}),!A&&e.jsxs("button",{onClick:R,disabled:x,className:`px-4 py-2 bg-gradient-to-r from-[#1B6FC9] to-[#4C9FE8] text-white rounded-lg flex items-center ${x?"opacity-50 cursor-not-allowed":"hover:from-[#1B6FC9]/90 hover:to-[#4C9FE8]/90"}`,children:[x?e.jsx(_e,{size:"small"}):e.jsx(Be,{size:16,className:"mr-2"}),"Generate Titles"]})]}),D.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:D.map((t,c)=>{const L=r.title===t;return e.jsx("div",{className:"relative group",children:e.jsx("button",{type:"button",onClick:()=>{C(u=>({...u,title:t})),m(u=>({...u,title:!1}))},className:`px-3 py-1 rounded-full text-sm border transition w-full truncate
                          ${L?"bg-[#1B6FC9] text-white border-[#1B6FC9]":"bg-gray-100 text-gray-700 border-gray-300 opacity-60 hover:opacity-100 hover:bg-gray-200"}`,children:t})},c)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(te,{className:"w-full",value:(r==null?void 0:r.tone)||void 0,onChange:z,placeholder:"Select tone",status:F.tone?"error":"",children:[e.jsx(V,{value:"professional",children:"Professional"}),e.jsx(V,{value:"casual",children:"Casual"}),e.jsx(V,{value:"friendly",children:"Friendly"}),e.jsx(V,{value:"formal",children:"Formal"}),e.jsx(V,{value:"conversational",children:"Conversational"}),e.jsx(V,{value:"witty",children:"Witty"}),e.jsx(V,{value:"informative",children:"Informative"}),e.jsx(V,{value:"inspirational",children:"Inspirational"}),e.jsx(V,{value:"persuasive",children:"Persuasive"}),e.jsx(V,{value:"empathetic",children:"Empathetic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Choose length of Blog"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:(r==null?void 0:r.userDefinedLength)??1e3,className:`w-full h-1 rounded-lg appearance-none cursor-pointer \r
                    [&::-webkit-slider-thumb]:appearance-none \r
                    [&::-webkit-slider-thumb]:h-4 \r
                    [&::-webkit-slider-thumb]:w-4 \r
                    [&::-webkit-slider-thumb]:rounded-full \r
                    [&::-webkit-slider-thumb]:bg-[#1B6FC9]`,onChange:t=>{C(c=>({...c,userDefinedLength:parseInt(t.target.value,10)}))},style:{background:`linear-gradient(to right, #1B6FC9 ${(((r==null?void 0:r.userDefinedLength)??1e3)-500)/45}%, #e5e7eb 0%)`}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[(r==null?void 0:r.userDefinedLength)??1e3," words"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add Brief Section (Optional)"}),e.jsx("textarea",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]",rows:3,placeholder:"Enter brief section",value:(r==null?void 0:r.brief)||"",onChange:t=>C(c=>({...c,brief:t.target.value}))}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-xs text-gray-500",children:[((j=r==null?void 0:r.brief)==null?void 0:j.length)||0,"/2000 characters"]})})]})]})})})},ys=N.memo(fs),bs=({handlePrevious:P,handleClose:k,data:h,setData:r,handleSubmit:C})=>{var b;const w=Z(),{user:K}=q(o=>o.auth),{brands:A,loading:S,error:y}=q(o=>o.brand),F=ae(),m=((b=K==null?void 0:K.subscription)==null?void 0:b.plan)||(K==null?void 0:K.plan),[s,p]=N.useState({isCheckedQuick:h.isCheckedQuick||!1,isCheckedBrand:h.isCheckedBrand||!1,aiModel:h.aiModel||"gemini",brandId:h.brandId||null,isFAQEnabled:h.isFAQEnabled||!1,imageSource:h.imageSource||"unsplash",isCompetitiveResearchEnabled:h.isCompetitiveResearchEnabled||!1,isCheckedGeneratedImages:h.isCheckedGeneratedImages||!1,referenceLinks:h.referenceLinks||[]}),[D,g]=N.useState({newLink:""});N.useEffect(()=>{s.isCheckedBrand&&w(Pe())},[s.isCheckedBrand,w]);const x=()=>{const o=D.newLink.trim();if(!o)return;const f=s.referenceLinks.map(i=>i.toLowerCase().trim()),O=i=>{try{return new URL(i),!0}catch{return!1}},z=new Set,R=o.split(",").map(i=>i.trim()).filter(i=>{const j=i.toLowerCase();return!z.has(j)&&O(i)&&!f.includes(j)&&z.add(j)});if(R.length===0){E.error("Please enter valid, non-duplicate URLs separated by commas.");return}p(i=>({...i,referenceLinks:[...i.referenceLinks,...R]})),g(i=>({...i,newLink:""})),E.success("Reference link added!")},v=o=>{p(f=>({...f,referenceLinks:f.referenceLinks.filter((O,z)=>z!==o)}))},I=()=>{const o={...h,...s};C(o)},n=o=>{r(f=>({...f,isCheckedGeneratedImages:!0,isUnsplashActive:o==="unsplash"}))};return e.jsx(J,{title:"Final Step: Content Enhancements",open:!0,onCancel:k,footer:[e.jsx("button",{onClick:P,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Previous"},"previous"),e.jsx("button",{onClick:I,className:"px-6 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md ml-3",children:"Submit"},"next")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"gemini",name:"aiModel",value:"gemini",checked:s.aiModel==="gemini",onChange:o=>{p(f=>({...f,aiModel:o.target.value})),r(f=>({...f,aiModel:o.target.value}))},className:"h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300"}),e.jsx("label",{htmlFor:"gemini",className:"text-sm text-gray-700",children:"Gemini"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"chatgpt",name:"aiModel",value:"chatgpt",checked:s.aiModel==="chatgpt",onChange:o=>{p(f=>({...f,aiModel:o.target.value})),r(f=>({...f,aiModel:o.target.value}))},className:"h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300"}),e.jsx("label",{htmlFor:"chatgpt",onClick:o=>{m==="free"&&(o.preventDefault(),he({featureName:"ChatGPT",navigate:F}))},className:"text-sm cursor-pointer flex items-center gap-1 text-gray-700",children:"ChatGPT"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"claude",name:"aiModel",value:"claude",checked:s.aiModel==="claude",onChange:o=>{p(f=>({...f,aiModel:o.target.value})),r(f=>({...f,aiModel:o.target.value}))},className:"h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300"}),e.jsx("label",{htmlFor:"claude",onClick:o=>{(m==="free"||m==="basic")&&(o.preventDefault(),he({featureName:"Claude",navigate:F}))},className:"text-sm cursor-pointer flex items-center gap-1 text-gray-700",children:"Claude"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Image Source ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"unsplash",name:"imageSource",checked:h==null?void 0:h.isUnsplashActive,onChange:()=>n("unsplash"),className:"h-4 w-4 text-[#1B6FC9] focus:ring-[#1B6FC9] border-gray-300"}),e.jsx("label",{htmlFor:"unsplash",className:"text-sm text-gray-700 whitespace-nowrap",children:"Stock Images"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"ai-generated",name:"imageSource",checked:!(h!=null&&h.isUnsplashActive),onChange:()=>{m!=="free"&&n("ai")},className:"h-4 w-4 text-[#1B6FC9] focus:ring-[#1B6FC9] border-gray-300"}),e.jsxs("label",{htmlFor:"ai-generated",onClick:o=>{m==="free"&&(o.preventDefault(),he({featureName:"AI-Generated Images",navigate:F}))},className:"text-sm cursor-pointer flex items-center gap-1 text-gray-700",children:["AI-Generated Images",m==="free"&&e.jsx(Ge,{className:"w-4 h-4 text-yellow-500"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add a Quick Summary"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.isCheckedQuick,onChange:()=>p(o=>({...o,isCheckedQuick:!o.isCheckedQuick})),className:"sr-only peer","aria-checked":s.isCheckedQuick}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Write with Brand Voice"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.isCheckedBrand,onChange:()=>p(o=>({...o,isCheckedBrand:!o.isCheckedBrand,brandId:o.isCheckedBrand?null:o.brandId})),className:"sr-only peer","aria-checked":s.isCheckedBrand}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),s.isCheckedBrand&&e.jsx("div",{className:"mt-3 p-4 rounded-md border border-gray-200 bg-gray-50",children:S?e.jsx("div",{className:"text-gray-500 text-sm",children:"Loading brand voices..."}):y?e.jsx("div",{className:"text-red-500 text-sm font-medium",children:y}):(A==null?void 0:A.length)>0?e.jsx("div",{className:"max-h-48 overflow-y-auto pr-1",children:e.jsx("div",{className:"grid gap-3",children:A.map(o=>e.jsxs("label",{className:`flex items-start gap-2 p-3 rounded-md cursor-pointer ${s.brandId===o._id?"bg-blue-100 border-blue-300":"bg-white border border-gray-200"}`,children:[e.jsx("input",{type:"radio",name:"selectedBrandVoice",value:o._id,checked:s.brandId===o._id,onChange:()=>p(f=>({...f,brandId:o._id})),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-700",children:o.nameOfVoice}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o.describeBrand})]})]},o._id))})}):e.jsx("div",{className:"text-gray-500 text-sm italic",children:"No brand voices available. Create one to get started."})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add FAQ"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.isFAQEnabled,onChange:()=>p(o=>({...o,isFAQEnabled:!o.isFAQEnabled})),className:"sr-only peer","aria-checked":s.isFAQEnabled}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add Competitive Research"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.isCompetitiveResearchEnabled,onChange:()=>p(o=>({...o,isCompetitiveResearchEnabled:!o.isCompetitiveResearchEnabled})),className:"sr-only peer","aria-checked":s.isCompetitiveResearchEnabled}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Reference Links (Helps make blog more compelling)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600",placeholder:"https://example.com",onKeyDown:o=>{o.key==="Enter"&&(o.preventDefault(),x())},value:D.newLink,onChange:o=>g(f=>({...f,newLink:o.target.value}))}),e.jsx("button",{onClick:x,className:"px-3 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md",children:e.jsx(X,{className:"w-4 h-4"})})]}),s.referenceLinks.length>0&&e.jsx("div",{className:"mt-2 space-y-2",children:s.referenceLinks.map((o,f)=>e.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-50 rounded-md",children:[e.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 truncate",children:o}),e.jsx("button",{onClick:()=>v(f),className:"text-gray-500 hover:text-red-500",children:e.jsx(Q,{className:"w-4 h-4"})})]},f))})]})]})})})},js=[{id:1,imageUrl:"./Images/createnew.png",title:"Create New Blog",icon:e.jsx(We,{className:"w-6 h-6"}),content:"Generate blogs, email, product, description, etc.",hoverGradient:"from-blue-600 to-blue-700"},{id:"A",imageUrl:"./Images/quickblog.png",title:"Generate Quick Blog",icon:e.jsx(Ue,{className:"w-6 h-6"}),content:"With few inputs you are good to go to create Awesome blogs!",hoverGradient:"from-purple-600 to-purple-700"},{id:"B",imageUrl:"./Images/createmultipleblog.png",title:"Create Multiple Blogs",icon:e.jsx(os,{className:"w-6 h-6"}),content:"Ellipse draft overflow arrange pen",hoverGradient:"from-emerald-600 to-emerald-700"}],ws=[{id:1,imageUrl:"./Images/keyword.png",title:"Keyword Research",content:"Fill bold reesizing vector create group inspect effect.",icon:e.jsx(He,{className:"w-8 h-8"}),color:"text-blue-600",bgColor:"bg-blue-50",hoverBg:"hover:bg-blue-100"},{id:3,imageUrl:"./Images/performancemonitoring.png",title:"Performance Monitoring",content:"Generate blogs, emails , product description etc.",icon:e.jsx(as,{className:"w-8 h-8"}),color:"text-orange-600",bgColor:"bg-orange-50",hoverBg:"hover:bg-orange-100"},{id:4,imageUrl:"./Images/competitor.png",title:"Competitor Analysis",content:"Analyze your competitors' content and strategies",icon:e.jsx(Ve,{className:"w-8 h-8"}),color:"text-purple-600",bgColor:"bg-purple-50",hoverBg:"hover:bg-purple-100"}],vs=({title:P,content:k,id:h,functions:r,icon:C,gradient:w})=>{var m,s;const K=q(p=>p.auth.user),A=(K==null?void 0:K.plan)??((m=K==null?void 0:K.subscription)==null?void 0:m.plan),{handlePopup:S}=le(),y=()=>{S({title:"Upgrade Required",description:"Bulk blog generation is only available for Pro and Enterprise users.",confirmText:"Buy Now",cancelText:"Cancel",icon:e.jsx(pe,{style:{fontSize:50,color:"#a47dab"}}),onConfirm:()=>navigate("/pricing")})},F=()=>{var p,D,g,x,v;if(h==="A")(p=r.showQuickBlogModal)==null||p.call(r);else if(h===1)(D=r.showModal)==null||D.call(r);else if(h==="B"){if(["free","basic"].includes(A==null?void 0:A.toLowerCase())){y();return}(g=r.showMultiStepModal)==null||g.call(r)}else h===4?(x=r.showCompetitiveAnalysis)==null||x.call(r):h===3&&((v=r.showPerformanceMonitoring)==null||v.call(r))};return e.jsxs("div",{onClick:F,className:"group relative bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-xl hover:scale-[1.02] transition-all duration-300 cursor-pointer overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-5 transition-opacity duration-300 from-blue-500 to-purple-500"}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-r ${w} text-white mb-6 transition-transform duration-300`,children:C}),["free","basic"].includes((s=A==null?void 0:A.toLowerCase)==null?void 0:s.call(A))&&h==="B"&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(pe,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:P}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:k}),e.jsxs("div",{className:"flex items-center text-blue-600 font-medium text-sm group-hover:gap-2 transition-all",children:["Get Started",e.jsx(Ie,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})},Ns=({icon:P,title:k,content:h,id:r,functions:C,bgColor:w,hoverBg:K,color:A})=>{var p,D;const S=q(g=>g.auth.user),y=(S==null?void 0:S.plan)??((p=S==null?void 0:S.subscription)==null?void 0:p.plan),{handlePopup:F}=le(),m=()=>{F({title:"Upgrade Required",description:"Competitor Analysis is only available for Pro and Enterprise users.",confirmText:"Buy Now",cancelText:"Cancel",onConfirm:()=>navigate("/pricing")})},s=()=>{if(r===4&&(C!=null&&C.showCompetitiveAnalysis)){if(["free","basic"].includes(y==null?void 0:y.toLowerCase())){m();return}C.showCompetitiveAnalysis()}else r===3&&(C!=null&&C.showPerformanceMonitoring)?C.showPerformanceMonitoring():r===2&&(C!=null&&C.showSeoAnalysis)?C.showSeoAnalysis():r===1&&(C!=null&&C.showKeywordResearch)&&C.showKeywordResearch()};return e.jsxs("div",{onClick:s,className:`group p-6 rounded-xl ${w} ${K} border border-transparent hover:border-gray-200 hover:shadow-md transition-all duration-300 cursor-pointer`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(T.div,{whileHover:{scale:1.15,rotate:8},transition:{type:"spring",stiffness:300},className:`inline-flex items-center justify-center w-12 h-12 rounded-xl bg-white ${A} mb-4 group-hover:scale-110 transition-transform duration-300 shadow-sm`,children:P}),["free","basic"].includes((D=y==null?void 0:y.toLowerCase)==null?void 0:D.call(y))&&r===4&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(pe,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors text-[18px]",children:k}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:h})]})},ks=({title:P,content:k,tags:h,item:r,time:C})=>{var y,F,m,s,p;const w=ae(),K=(p=(s=(m=(F=(y=k==null?void 0:k.replace(/^#+\s*/gm,""))==null?void 0:y.replace(/#[^\s#]+/g,""))==null?void 0:F.replace(/[*_~`>\\=|-]+/g,""))==null?void 0:m.replace(/\n+/g," "))==null?void 0:s.replace(/\s+/g," "))==null?void 0:p.trim(),A=K&&K.length>40?`${K.substring(0,80)}...`:K||"",S=()=>{r&&r._id&&w(`/toolbox/${r._id}`,{state:{blog:r}})};return e.jsx("div",{onClick:S,className:"group p-6 rounded-xl border border-gray-200 hover:border-blue-200 hover:shadow-md transition-all duration-300 cursor-pointer mb-4",children:e.jsxs("div",{className:"flex lg:items-start lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h3",{className:"font-bold capitalize text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-1",children:P}),e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full capitalize",children:(r==null?void 0:r.aiModel)||"Gemini"}),e.jsx("span",{className:`px-2 py-1 capitalize text-xs font-medium rounded-full ${(r==null?void 0:r.status)==="complete"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:(r==null?void 0:r.status)||""})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:A}),e.jsx("div",{className:"flex flex-wrap gap-2",children:h==null?void 0:h.map((D,g)=>e.jsx("span",{className:"px-3 py-1 capitalize bg-gray-100 text-gray-700 text-xs rounded-full hover:bg-gray-200 transition-colors",children:D},g))})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(qe,{className:"w-4 h-4"}),e.jsx("span",{children:"View"})]}),e.jsx("span",{children:Qe(C).fromNow()}),e.jsx(Ie,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})})},Cs=({closeFnc:P})=>{const k=Z(),h=ae(),{handlePopup:r}=le(),C=q(a=>a.auth.user),[w,K]=N.useState(0),[A,S]=N.useState(null),{Option:y}=te,[F,m]=N.useState({topics:!1,keywords:!1,tone:!1}),[s,p]=N.useState({templates:[],topics:[],keywords:[],topicInput:"",keywordInput:"",performKeywordResearch:!0,tone:"",numberOfCounts:5,userDefinedLength:1e3,imageSource:"unsplash",useBrandVoice:!0,useCompetitors:!1,includeInterlinks:!0,includeMetaHeadlines:!0,includeFaqs:!0,numberOfBlogs:1,wordpressPostStatus:!1,postFrequency:10*60,selectedDates:null,aiModel:"gemini",includeTableOfContents:!1}),D=()=>{if(w===0&&s.templates.length===0){E.error("Please add at least one template.");return}if(w===1){const a={topics:s.topics.length===0&&s.topicInput.trim()==="",keywords:!s.performKeywordResearch&&s.keywords.length===0&&s.keywordInput.trim()==="",tone:!s.tone};if(m(a),Object.values(a).some(l=>l)){E.error("Please fill all required fields in this step.");return}}K(a=>a+1)},g=()=>{K(a=>a>0?a-1:a)},x=()=>{P()},v=()=>{const a={topics:s.topics.length===0&&s.topicInput.trim()==="",keywords:!s.performKeywordResearch&&s.keywords.length===0&&s.keywordInput.trim()==="",tone:!s.tone};if(m(a),Object.values(a).some(W=>W)){E.error("Please fill all required fields.");return}if(s.numberOfBlogs<1||s.numberOfBlogs>10){E.error("Number of blogs must be between 1 and 10.");return}const l=s.aiModel||"gemini",M=re("blog.single",l),d=s.imageSource==="unsplash"?0:re("aiImages",l),$=s.numberOfBlogs*(M+d);r({title:"Bulk Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Estimated cost for ",e.jsx("b",{children:s.numberOfBlogs})," blog",s.numberOfBlogs>1?"s":"",": ",e.jsxs("b",{children:[$," credits"]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue?"})]}),onConfirm:()=>{k(Ee({blogData:s,navigate:h})),x()}})},I=a=>{const l=de[a].name;s.templates.includes(l)?p(d=>({...d,templates:d.templates.filter($=>$!==l)})):s.templates.length<3?p(d=>({...d,templates:[...d.templates,l]})):E.error("You can select a maximum of 3 templates.")},n=a=>{const{name:l,value:M,type:d}=a.target,$=d==="number"?parseInt(M,10)||0:M;p({...s,[l]:$})},b=async a=>{const{name:l,checked:M}=a.target;if(l==="wordpressPostStatus"&&M)try{if(!(C!=null&&C.wordpressLink)){E.error("Please connect your WordPress account in your profile before enabling automatic posting."),h("/profile");return}}catch{E.error("Failed to check profile. Please try again.");return}p({...s,[l]:M}),l==="performKeywordResearch"&&m(d=>({...d,keywords:!1}))},o=a=>{p(l=>({...l,topicInput:a.target.value})),m(l=>({...l,topics:!1}))},f=a=>{p(l=>({...l,keywordInput:a.target.value})),m(l=>({...l,keywords:!1}))},O=()=>{const a=s.topicInput;if(a.trim()==="")return m(d=>({...d,topics:!0})),E.error("Please enter a topic."),!1;const l=s.topics.map(d=>d.toLowerCase().trim()),M=a.split(",").map(d=>d.trim()).filter(d=>d!==""&&!l.includes(d.toLowerCase()));return M.length===0?(m(d=>({...d,topics:!0})),E.error("Please enter valid, non-duplicate topics separated by commas."),p(d=>({...d,topicInput:""})),!1):(p(d=>({...d,topics:[...d.topics,...M],topicInput:""})),m(d=>({...d,topics:!1})),!0)},z=a=>{p(l=>({...l,topics:l.topics.filter((M,d)=>d!==a)}))},R=()=>{const a=s.keywordInput;if(a.trim()==="")return m(d=>({...d,keywords:!0})),E.error("Please enter a keyword."),!1;const l=s.keywords.map(d=>d.toLowerCase().trim()),M=a.split(",").map(d=>d.trim()).filter(d=>d!==""&&!l.includes(d.toLowerCase()));return M.length===0?(m(d=>({...d,keywords:!0})),E.error("Please enter valid, non-duplicate keywords separated by commas."),p(d=>({...d,keywordInput:""})),!1):(p(d=>({...d,keywords:[...d.keywords,...M],keywordInput:""})),m(d=>({...d,keywords:!1})),!0)},i=a=>{p(l=>({...l,keywords:l.keywords.filter((M,d)=>d!==a)}))},j=a=>{if(a.key==="Enter"){a.preventDefault();const l=O();!s.performKeywordResearch&&l&&R()}},t=a=>{p(l=>({...l,imageSource:a}))},c=a=>{var $;const l=($=a.target.files)==null?void 0:$[0];if(!l)return;if(!l.name.toLowerCase().endsWith(".csv")){E.error("Invalid file type. Please upload a .csv file."),a.target.value=null;return}const M=20*1024;if(l.size>M){E.error("File size exceeds 20KB limit. Please upload a smaller file."),a.target.value=null;return}const d=new FileReader;d.onload=W=>{var G;const ee=(G=W.target)==null?void 0:G.result;if(!ee)return;const se=ee.trim().split(/\r?\n/).slice(1).map(B=>{const _=B.split(",");return _.length>=2?_[1].trim():null}).filter(Boolean),U=s.topics.map(B=>B.toLowerCase().trim()),H=se.filter(B=>!U.includes(B.toLowerCase().trim()));if(H.length===0){E.error("No new topics found in the CSV.");return}p(B=>({...B,topics:[...B.topics,...H]})),m(B=>({...B,topics:!1})),H.length>8&&(S(H.length),setTimeout(()=>S(null),5e3))},d.readAsText(l),a.target.value=null},L=a=>{var d;const l=(d=a.target.files)==null?void 0:d[0];if(!l)return;const M=new FileReader;M.onload=$=>{var H;const W=(H=$.target)==null?void 0:H.result;if(!W)return;const oe=W.trim().split(/\r?\n/).slice(1).map(G=>{const B=G.split(",");return B.length>=2?B[1].trim():null}).filter(Boolean),se=s.keywords.map(G=>G.toLowerCase().trim()),U=oe.filter(G=>!se.includes(G.toLowerCase().trim()));if(U.length===0){E.error("No new keywords found in the CSV.");return}p(G=>({...G,keywords:[...G.keywords,...U]})),m(G=>({...G,keywords:!1})),U.length>8&&(S(U.length),setTimeout(()=>S(null),5e3))},M.readAsText(l),a.target.value=null},u=["Select Template's","Add Details","Configure Output"];return e.jsx(J,{title:`Step ${w+1} : ${u[w]}`,open:!0,onCancel:x,footer:e.jsxs("div",{className:"flex justify-end gap-3",children:[w>0&&e.jsx("button",{onClick:g,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Previous"}),e.jsx("button",{onClick:w===2?v:D,className:"px-4 py-2 text-sm font-medium text-white bg-[#1B6FC9] rounded-md hover:bg-[#1B6FC9]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:w===2?"Generate Blogs":"Next"})]}),width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"p-4",children:[w===0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select up to 3 templates for the types of blogs you want to generate."}),e.jsx(fe,{children:de.map((a,l)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${s.templates.includes(a.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>I(l),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:a.imgSrc||"/placeholder.svg",alt:a.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:a.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:a.description})]})]})},a.name))})]}),w===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Topics ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(ce,{title:"Upload a .csv file in the format: `S.No., Keyword`",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(Ne,{size:16,className:"text-blue-500"})})})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the main topics for your blogs."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s.topicInput,onChange:o,onKeyDown:j,className:`flex-1 px-3 py-2 border ${F.topics?"border-red-500":"border-gray-300"} rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 bg-gray-50`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:O,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(ke,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:c,hidden:!0})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[s.topics.slice().reverse().slice(0,18).map((a,l)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[a,e.jsx("button",{type:"button",onClick:()=>z(s.topics.length-1-l),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(Q,{className:"w-3 h-3"})})]},`${a}-${l}`)),(s.topics.length>18||A)&&e.jsxs("span",{className:"text-xs font-medium text-blue-600 self-center",children:[s.topics.length>18&&`+${s.topics.length-18} more `,A&&`(+${A} uploaded)`]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Perform Keyword Research?",e.jsx("p",{className:"text-xs text-gray-500",children:"Allow AI to find relevant keywords for the topics."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"performKeywordResearch",checked:s.performKeywordResearch,onChange:b,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),!s.performKeywordResearch&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(ce,{title:"Upload a .csv file in the format: `S.No., Keyword`",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(Ne,{size:16,className:"text-blue-500"})})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s.keywordInput,onChange:f,onKeyDown:j,className:`flex-1 px-3 py-2 border ${F.keywords?"border-red-500":"border-gray-300"} rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 bg-gray-50`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:R,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(ke,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:L,hidden:!0})]})]}),F.keywords&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Please add at least one keyword"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[s.keywords.slice().reverse().slice(0,18).map((a,l)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[a,e.jsx("button",{type:"button",onClick:()=>i(s.keywords.length-1-l),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(Q,{className:"w-3 h-3"})})]},`${a}-${l}`)),(s.keywords.length>18||A)&&e.jsxs("span",{className:"text-xs font-medium text-blue-600 self-center",children:[s.keywords.length>18&&`+${s.keywords.length-18} more `,A&&`(+${A} uploaded)`]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"tone",className:"block text-sm font-medium text-gray-700 mb-1",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(te,{className:"w-full",value:s.tone,onChange:a=>{p(l=>({...l,tone:a})),m(l=>({...l,tone:!1}))},placeholder:"Select tone",status:F.tone?"error":"",children:[e.jsx(y,{value:"",children:"Select Tone"}),e.jsx(y,{value:"professional",children:"Professional"}),e.jsx(y,{value:"casual",children:"Casual"}),e.jsx(y,{value:"friendly",children:"Friendly"}),e.jsx(y,{value:"formal",children:"Formal"}),e.jsx(y,{value:"conversational",children:"Conversational"}),e.jsx(y,{value:"witty",children:"Witty"}),e.jsx(y,{value:"informative",children:"Informative"}),e.jsx(y,{value:"inspirational",children:"Inspirational"}),e.jsx(y,{value:"persuasive",children:"Persuasive"}),e.jsx(y,{value:"empathetic",children:"Empathetic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approx. Blog Length (Words)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:s.userDefinedLength,className:"w-full h-1 rounded-lg appearance-none cursor-pointer bg-gradient-to-r from-[#1B6FC9] to-gray-100 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${(s.userDefinedLength-500)/4500*100}%, #E5E7EB ${(s.userDefinedLength-500)/4500*100}%)`},onChange:a=>{p(l=>({...l,userDefinedLength:parseInt(a.target.value,10)}))}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[s.userDefinedLength," words"]})]})]})]})]}),w===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select AI Model"}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"aiModel",value:"gemini",checked:s.aiModel==="gemini",onChange:a=>p(l=>({...l,aiModel:a.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsx("span",{className:"block text-sm font-medium leading-6 text-gray-900 ml-2",children:"Gemini"})]}),e.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"aiModel",value:"chatgpt",checked:s.aiModel==="chatgpt",onChange:a=>p(l=>({...l,aiModel:a.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsx("span",{className:"block text-sm font-medium leading-6 text-gray-900 ml-2",children:"ChatGPT"})]}),e.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"aiModel",value:"claude",checked:s.aiModel==="claude",onChange:a=>p(l=>({...l,aiModel:a.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsx("span",{className:"block text-sm font-medium leading-6 text-gray-900 ml-2",children:"Claude"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Source"}),e.jsxs("fieldset",{className:"mt-2",children:[e.jsx("legend",{className:"sr-only",children:"Image source selection"}),e.jsxs("div",{className:"flex items-center gap-x-6",children:[e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("input",{id:"image-source-unsplash",name:"image-source",type:"radio",value:"unsplash",checked:s.imageSource==="unsplash",onChange:()=>t("unsplash"),className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"image-source-unsplash",className:"block text-sm font-medium leading-6 text-gray-900",children:"Stock Images"})]}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("input",{id:"image-source-ai",name:"image-source",type:"radio",value:"ai",checked:s.imageSource==="ai",onChange:()=>t("ai"),className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"image-source-ai",className:"block text-sm font-medium leading-6 text-gray-900",children:"AI Generated Images"})]})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Interlinks",e.jsx("p",{className:"text-xs text-gray-500",children:"Attempt to link between generated blogs if relevant."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeInterlinks",checked:s.includeInterlinks,onChange:b,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include FAQ Section",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate relevant FAQ questions and answers for the blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeFaqs",checked:s.includeFaqs,onChange:b,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Competitive Research",e.jsx("p",{className:"text-xs text-gray-500",children:"Perform competitive research to analyze similar blogs."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"useCompetitors",checked:s.useCompetitors,onChange:b,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Blogs"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"How many blogs to generate based on the topics provided."}),e.jsx("input",{type:"number",name:"numberOfBlogs",min:"1",max:"10",value:s.numberOfBlogs,onChange:n,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 5"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Automatic Posting",e.jsx("p",{className:"text-xs text-gray-500",children:"Automatically post blogs on the selected dates."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"wordpressPostStatus",checked:s.wordpressPostStatus,onChange:b,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),s.wordpressPostStatus&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Table of Contents",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate a table of contents for each blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeTableOfContents",checked:s.includeTableOfContents,onChange:b,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]})]})]})})},Ss=({closeFnc:P})=>{const[k,h]=N.useState(1),r=()=>h(k+1),C=()=>h(k-1);return e.jsxs("div",{className:"border-8 border-teal-700",children:[e.jsx("input",{type:"checkbox",id:"my-modal",className:"modal-toggle"}),e.jsx("div",{className:"modal",children:e.jsxs("div",{className:"modal-box",children:[k===1&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 1"}),e.jsx("p",{className:"py-4",children:"Content for step 1 goes here."}),e.jsx("div",{className:"modal-action",children:e.jsx("button",{className:"btn border-8 border-teal-700",onClick:r,children:"Next"})})]}),k===2&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 2"}),e.jsx("p",{className:"py-4",children:"Content for step 2 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:C,children:"Previous"}),e.jsx("button",{className:"btn",onClick:r,children:"Next"})]})]}),k===3&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 3"}),e.jsx("p",{className:"py-4",children:"Content for step 3 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:P,children:"Previous"}),e.jsx("label",{htmlFor:"my-modal",className:"btn",children:"Finish"})]})]})]})})]})},Bs=({closeFnc:P})=>{const[k,h]=N.useState(0),[r,C]=N.useState(null),[w,K]=N.useState([]),[A,S]=N.useState({template:!1,focusKeywords:!1,keywords:!1,videoLinks:!1}),[y,F]=N.useState({template:null,keywords:[],focusKeywords:[],videoLinks:[],keywordInput:"",focusKeywordInput:"",videoLinkInput:""}),m=Z(),s=ae(),{handlePopup:p}=le(),D=()=>{if(k===0&&!y.template){S(i=>({...i,template:!0})),E.error("Please select a template before proceeding.");return}S(i=>({...i,template:!1})),h(k+1)},g=()=>{h(k-1)},x=()=>{P()},v=()=>{const i={template:!y.template,focusKeywords:y.focusKeywords.length===0,keywords:y.keywords.length===0,videoLinks:w.length===0};if(S(i),Object.values(i).some(t=>t)){E.error("Please fill all the fields");return}const j={...y,videoLinks:w};p({title:"Quick Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Quick blog generation is ",e.jsxs("b",{children:[re("blog.quick")," credits."]})]}),e.jsx("br",{}),e.jsx("span",{children:"Are you sure ?"})]}),onConfirm:()=>{m(Te({blogData:j,navigate:s})),x()}})},I=i=>{C(i),F({...y,template:de[i].name}),S(j=>({...j,template:!1}))},n=(i,j)=>{const t=j==="keywords"?"keywordInput":"focusKeywordInput";F(c=>({...c,[t]:i.target.value})),S(c=>({...c,[j]:!1}))},b=i=>{const j=i==="keywords"?"keywordInput":"focusKeywordInput",t=y[j].trim();if(!t){S(u=>({...u,[i]:!0})),E.error("Please enter a keyword.");return}const c=new Set(y[i].map(u=>u.trim().toLowerCase())),L=t.split(",").map(u=>u.trim()).filter(u=>u!==""&&!c.has(u.toLowerCase()));if(L.length===0){S(u=>({...u,[i]:!0})),E.error("Please enter valid, non-duplicate keywords separated by commas.");return}if(i==="focusKeywords"&&y[i].length+L.length>3){S(u=>({...u,[i]:!0})),E.error("You can only add up to 3 focus keywords.");return}F(u=>({...u,[i]:[...u[i],...L],[j]:""})),S(u=>({...u,[i]:!1}))},o=(i,j)=>{const t=[...y[j]];t.splice(i,1),F({...y,[j]:t})},f=(i,j)=>{i.key==="Enter"&&(i.preventDefault(),b(j))},O=()=>{var L;const i=(L=y.videoLinkInput)==null?void 0:L.trim();if(!i){S(u=>({...u,videoLinks:!0})),E.error("Please enter at least one link.");return}const j=i.split(",").map(u=>u.trim()).filter(u=>u!==""),t=[];for(let u of j){let a=u;/^https?:\/\//i.test(a)||(a=`https://${a}`);try{const l=new URL(a);!w.includes(a)&&!t.includes(a)&&t.push(a)}catch{}}if(t.length===0){S(u=>({...u,videoLinks:!0})),E.error("No valid, unique URLs found.");return}if(w.length+t.length>3){S(u=>({...u,videoLinks:!0})),E.error("You can only add up to 3 links in total.");return}K([...w,...t]),F(u=>({...u,videoLinkInput:""})),S(u=>({...u,videoLinks:!1}))},z=i=>{i.key==="Enter"&&(i.preventDefault(),O())},R=i=>{const j=[...w];j.splice(i,1),K(j)};return e.jsx(J,{title:"Generate Quick Blog",open:!0,onCancel:x,footer:k===0?[e.jsx("button",{onClick:D,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")]:[e.jsx("button",{onClick:g,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none",children:"Previous"},"previous"),e.jsx("button",{onClick:v,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Submit"},"submit")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"p-4",children:[k===0&&e.jsx("div",{children:e.jsx("div",{className:"p-3",children:e.jsx(fe,{children:de.map((i,j)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${y.template===i.name?"border-gray-300 border-2 rounded-md":""}`,onClick:()=>I(j),children:e.jsxs("div",{className:"bg-white rounded-md overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:i.imgSrc||"/placeholder.svg",alt:i.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:i.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:i.description})]})]})},j))})})}),k===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Focus Keywords ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:y.focusKeywordInput,onChange:i=>n(i,"focusKeywords"),onKeyDown:i=>f(i,"focusKeywords"),className:`flex-1 px-3 py-2 border ${A.focusKeywords?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter focus keywords, separated by commas"}),e.jsx("button",{onClick:()=>b("focusKeywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center",children:e.jsx(X,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:y.focusKeywords.map((i,j)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[i,e.jsx("button",{onClick:()=>o(j,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:e.jsx(Q,{size:16})})]},j))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:y.keywordInput,onChange:i=>n(i,"keywords"),onKeyDown:i=>f(i,"keywords"),className:`flex-1 px-3 py-2 border ${A.keywords?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter secondary keywords, separated by commas"}),e.jsx("button",{onClick:()=>b("keywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center",children:e.jsx(X,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:y.keywords.map((i,j)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[i,e.jsx("button",{onClick:()=>o(j,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:e.jsx(Q,{size:16})})]},j))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Add Links (max 3) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:y.videoLinkInput||"",onChange:i=>F(j=>({...j,videoLinkInput:i.target.value})),onKeyDown:z,className:`flex-1 px-3 py-2 border ${A.videoLinks?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter links, separated by commas"}),e.jsx("button",{onClick:O,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center",children:e.jsx(X,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:w.map((i,j)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[i,e.jsx("button",{onClick:()=>R(j),className:"ml-1 text-blue-400 hover:text-blue-600",children:e.jsx(Q,{size:16})})]},j))})]})]})]})})},Is=({closeFnc:P,visible:k,allBlogs:h})=>{var D;const[r,C]=N.useState({selectedBlog:null,title:"",content:""}),[w,K]=N.useState(null),A=Z(),S=async g=>{C({selectedBlog:g,title:g.title,content:g.content}),K(null);try{A(ue(g._id)).unwrap().then(({stats:x})=>K(x))}catch{E.error("Failed to load blog performance stats.")}},y={flesch:"📘 Flesch Reading Ease (0–100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"📗 SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"📙 ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"📈 Blog Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},F=({type:g="seo"})=>e.jsx(ce,{title:y[g],trigger:["hover","click"],placement:"top",children:e.jsx(Le,{className:"ml-2 text-gray-500 hover:text-blue-500 cursor-pointer"})}),m=({icon:g,label:x,value:v,color:I,delay:n=0,suffix:b="",description:o=""})=>e.jsx(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:n*.1,duration:.3},className:`p-5 bg-white rounded-xl border ${I} shadow-sm hover:shadow-md transition-shadow`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[g&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-500",children:g}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:x}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:[v,b]}),o&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o})]})]})}),s=({score:g,max:x,label:v,level:I,color:n})=>e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600 flex items-center gap-2",children:[v,e.jsx(F,{type:/seo/gi.test(v)?"seo":"flesch"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:I})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full ${n} transition-all duration-500`,style:{width:`${g/x*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-2",children:e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[g," / ",x]})})]})]}),p=({stats:g})=>{var R,i,j,t,c,L,u,a;if(!g)return null;const{readabililty:x={},seo:v={},engagement:I={},metadata:n={}}=g,b=(v==null?void 0:v.keywordDensity)||{},o=Object.keys(b).filter(l=>l.split(" ").length<=2).length,f=Object.keys(b).filter(l=>l.split(" ").length>2).length,O=Object.entries(b).map(([l,{count:M,density:d}],$)=>({key:l,keyword:l,count:M,density:d,animationDelay:$*.1})),z=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(l,M)=>l.density-M.density,render:l=>`${l.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 mt-6",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-8 capitalize",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(n==null?void 0:n.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(n==null?void 0:n.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(n==null?void 0:n.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(n==null?void 0:n.aiModel)||"-"})]})]}),(n==null?void 0:n.generatedAt)&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border normal-case border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(n.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[!!(v!=null&&v.score)&&e.jsx(s,{score:(v==null?void 0:v.score)||0,max:100,label:"Blog Score",level:`${(v==null?void 0:v.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(m,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(v==null?void 0:v.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(m,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(v==null?void 0:v.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(m,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(v==null?void 0:v.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(R=v==null?void 0:v.focusKeywords)==null?void 0:R.map((l,M)=>e.jsx(T.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:M*.1},className:"px-3 py-1 bg-blue-50 rounded-full text-sm text-blue-700 border border-blue-100 hover:bg-blue-100 transition-colors",children:l},l))})]}),(v==null?void 0:v.keywords.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Other Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(i=v==null?void 0:v.keywords)==null?void 0:i.map((l,M)=>e.jsx(T.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:M*.1},className:"px-3 py-2 bg-gray-100 rounded-full text-sm text-gray-700 border border-gray-200 hover:bg-gray-200 transition-colors",children:l},l))})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Keyword Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx(m,{icon:e.jsx(cs,{className:"w-5 h-5"}),label:"Short-Tail Keywords",value:o,color:"border-blue-100",delay:0}),e.jsx(m,{icon:e.jsx(ms,{className:"w-5 h-5"}),label:"Long-Tail Keywords",value:f,color:"border-blue-100",delay:.1})]}),e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Keyword Densities"}),e.jsx(T.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:e.jsx(ye,{dataSource:O,columns:z,pagination:!1,components:{body:{row:({children:l,...M})=>{var $;const d=(($=O[M["data-row-key"]])==null?void 0:$.animationDelay)||0;return e.jsx(T.tr,{...M,initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:d},children:l})}}},className:"rounded-md overflow-hidden capitalize"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(s,{score:((j=x==null?void 0:x.fleschEase)==null?void 0:j.score)||0,max:100,label:"Flesch Ease",level:((t=x==null?void 0:x.fleschEase)==null?void 0:t.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:["SMOG Index",e.jsx(F,{type:"smog"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:((c=x==null?void 0:x.smogIndex)==null?void 0:c.level)||"-"})]}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:[((L=x==null?void 0:x.smogIndex)==null?void 0:L.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:["ARI ",e.jsx(F,{type:"ari"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:((u=x==null?void 0:x.ari)==null?void 0:u.level)||"-"})]}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:[((a=x==null?void 0:x.ari)==null?void 0:a.score)||0," grade"]})]}),e.jsx(m,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(x==null?void 0:x.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(m,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(x==null?void 0:x.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(x==null?void 0:x.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(x==null?void 0:x.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(x==null?void 0:x.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(x==null?void 0:x.syllableCount)||0})]})]})]})]})};return N.useEffect(()=>(k?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[k]),e.jsx(J,{title:e.jsxs(T.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-lg",children:"Performance Dashboard"})]}),open:k,onCancel:P,footer:null,width:900,centered:!0,bodyStyle:{maxHeight:"85vh",overflowY:"auto"},className:"rounded-2xl shadow-2xl",children:e.jsxs("div",{className:"space-y-6 p-4",children:[e.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-2",children:"Select Blog"}),e.jsx("div",{className:"relative",children:e.jsxs(te,{className:"w-full",placeholder:"Select Blog",onChange:g=>{const x=h.find(v=>v._id===g);x&&S(x)},value:((D=r.selectedBlog)==null?void 0:D._id)||"",children:[e.jsx(Option,{value:"",children:"Select Blog"}),h==null?void 0:h.filter(g=>g.status==="complete"&&g.isArchived===!1).map(g=>e.jsx(Option,{value:g._id,className:"bg-gray-50",children:g.title},g._id))]})})]}),r.selectedBlog&&e.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Preview"})}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2 truncate",children:r.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3",children:(r.content||"").replace(/[#>*=_`~-]+/g,"").replace(/\n+/g," ").replace(/\s+/g," ").trim()})]})]}),e.jsx(p,{stats:w})]})})},Ls=({closeFnc:P})=>{var v;const[k,h]=N.useState({selectedBlog:null,title:"",content:""}),[r,C]=N.useState(!1),[w,K]=N.useState(null),A=Z(),{blogs:S,error:y}=q(I=>I.blog);N.useEffect(()=>{A(Se())},[A]),N.useEffect(()=>{y&&E.error(y)},[y]);const F=I=>{h({selectedBlog:I,title:I.title,content:I.content}),K(null)},m=async()=>{if(!k.selectedBlog){E.error("Please select a blog");return}C(!0);try{const I=await A(ue(k.selectedBlog._id));if(ue.fulfilled.match(I)){const{stats:n}=I.payload;K(n),E.success("Performance analysis completed!")}else E.error("Something went wrong during stats fetching.")}catch{E.error("Unexpected error occurred.")}finally{C(!1)}},s={flesch:"📘 Flesch Reading Ease (0–100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"📗 SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"📙 ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"📈 SEO Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},p=({type:I="seo"})=>e.jsx(ce,{title:s[I],trigger:["hover","click"],placement:"top",children:e.jsx(Le,{className:"ml-2 text-black size-8 hover:text-blue-500 cursor-pointer"})}),D=({icon:I,label:n,value:b,color:o,delay:f=0,suffix:O="",description:z=""})=>e.jsx(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:f*.1,duration:.3},className:`p-4 bg-white rounded-xl border ${o} shadow-sm`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[I&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-500",children:I}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:n}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-1",children:[b,O]}),z&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:z})]})]})}),g=({score:I,max:n,label:b,level:o,color:f})=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[b,e.jsx(p,{type:/seo/gi.test(b)?"seo":"flesch"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:o})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${f}`,style:{width:`${I/n*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[I," / ",n]})})]})]}),x=({stats:I})=>{var i,j,t,c,L,u,a,l;if(!I)return null;const{readabililty:n={},seo:b={},engagement:o={},metadata:f={}}=I,O=(b==null?void 0:b.keywordDensity)||{},z=Object.entries(O).map(([M,{count:d,density:$}],W)=>({key:M,keyword:M,count:d,density:$,animationDelay:W*.1})),R=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(M,d)=>M.density-d.density,render:M=>`${M.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-5 mt-4",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(f==null?void 0:f.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(f==null?void 0:f.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(f==null?void 0:f.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(f==null?void 0:f.aiModel)||"-"})]})]}),(f==null?void 0:f.generatedAt)&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(f.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-green-100 rounded text-green-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 11.5V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1.4"}),e.jsx("path",{d:"M14 10V8a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2"}),e.jsx("path",{d:"M10 9.9V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v5"}),e.jsx("path",{d:"M6 14v0a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0"}),e.jsx("path",{d:"M18 11v0a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-4a8 8 0 0 1-8-8 2 2 0 1 1 4 0"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Engagement"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(D,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),label:"GenWrite Views",value:(o==null?void 0:o.views)||0,color:"border-green-100",delay:0}),e.jsx(D,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),label:"WordPress Views",value:(o==null?void 0:o.wordpressViews)||0,color:"border-green-100",delay:1})]}),e.jsx("div",{className:"mt-4 bg-gray-50 p-4 rounded-xl border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Public Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${o!=null&&o.isPublic?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.isPublic?"✅ Public":"❌ Private"})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(g,{score:(b==null?void 0:b.score)||0,max:100,label:"SEO Score",level:`${(b==null?void 0:b.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(D,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(b==null?void 0:b.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(D,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(b==null?void 0:b.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(D,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(b==null?void 0:b.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(i=b==null?void 0:b.focusKeywords)==null?void 0:i.map((M,d)=>e.jsx(T.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:d*.1},className:"px-3 py-1 bg-blue-50 rounded-full text-sm text-blue-700 border border-blue-100",children:M},M))})]}),(b==null?void 0:b.keywords.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Other Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(j=b==null?void 0:b.keywords)==null?void 0:j.map((M,d)=>e.jsx(T.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:d*.1},className:"px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-700 border border-gray-200",children:M},M))})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Keyword Densities"}),e.jsx(T.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:e.jsx(ye,{dataSource:z,columns:R,pagination:!1,components:{body:{row:({children:M,...d})=>{var W;const $=((W=z[d["data-row-key"]])==null?void 0:W.animationDelay)||0;return e.jsx(T.tr,{...d,initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:$},children:M})}}},className:"rounded-md overflow-hidden"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(g,{score:((t=n==null?void 0:n.fleschEase)==null?void 0:t.score)||0,max:100,label:"Flesch Ease",level:((c=n==null?void 0:n.fleschEase)==null?void 0:c.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["SMOG Index",e.jsx(p,{type:"smog"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((L=n==null?void 0:n.smogIndex)==null?void 0:L.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((u=n==null?void 0:n.smogIndex)==null?void 0:u.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["ARI ",e.jsx(p,{type:"ari"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((a=n==null?void 0:n.ari)==null?void 0:a.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((l=n==null?void 0:n.ari)==null?void 0:l.score)||0," grade"]})]}),e.jsx(D,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(n==null?void 0:n.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(D,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(n==null?void 0:n.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(n==null?void 0:n.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(n==null?void 0:n.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(n==null?void 0:n.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(n==null?void 0:n.syllableCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paragraphs"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(n==null?void 0:n.paragraphCount)||0})]})]})]})]})};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-4xl bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[e.jsxs(T.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Seo Analysis Dashboard"})]}),e.jsx("button",{onClick:P,className:"p-2 rounded-full hover:bg-gray-100 transition-all",children:e.jsx(Q,{className:"h-6 w-6 text-gray-500 hover:text-gray-700"})})]}),e.jsx("div",{className:"p-5 overflow-y-auto max-h-[80vh]",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Blog"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 appearance-none",onChange:I=>{const n=S.find(b=>b._id===I.target.value);n&&F(n)},value:((v=k.selectedBlog)==null?void 0:v._id)||"",children:[e.jsx("option",{value:"",className:"bg-gray-50",children:"Select a blog"}),S.map(I=>e.jsx("option",{value:I._id,className:"bg-gray-50 capitalize",children:I.title},I._id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),k.selectedBlog&&e.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"font-medium text-gray-700",children:"Preview"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 truncate capitalize",children:k.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3",children:k.content})]})]}),e.jsx(T.div,{className:"flex justify-end pt-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(T.button,{onClick:m,className:`px-5 py-2.5 rounded-lg font-medium flex items-center gap-2 ${r?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"} transition-all duration-300 shadow`,disabled:r||!k.selectedBlog,whileHover:{scale:!r&&k.selectedBlog?1.03:1},whileTap:{scale:.97},children:r?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),"Analyze Performance"]})})}),r&&!w&&e.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-4",children:[...Array(6)].map((I,n)=>e.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:n*.1},className:"h-32 bg-gray-100 rounded-xl animate-pulse"},n))}),e.jsx(x,{stats:w})]})}),e.jsx("div",{className:"flex justify-end gap-3 p-5 border-t border-gray-100",children:e.jsx(T.button,{onClick:P,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-300",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close Dashboard"})})]})})},Ms=({closeFnc:P,openSecondStepModal:k,openJobModal:h})=>{const[r,C]=N.useState(""),[w,K]=N.useState([]),[A,S]=N.useState(1),[y,F]=N.useState([]),m=Z(),{keywordAnalysis:s,loading:p,error:D,selectedKeywords:g}=q(t=>t.analysis);N.useEffect(()=>{w.length===0&&(m(ie()),F([]),S(1))},[w,m]);const x=()=>{const t=r.trim();if(!t)return;const c=w.map(a=>a.toLowerCase()),L=new Set,u=t.split(",").map(a=>a.trim()).filter(a=>a&&!c.includes(a.toLowerCase())&&!L.has(a.toLowerCase())&&L.add(a.toLowerCase()));u.length>0&&(K([...w,...u]),C(""))},v=t=>{const c=w.filter((L,u)=>u!==t);K(c),c.length===0&&(m(ie()),F([]),S(1))},I=t=>{t.key==="Enter"&&(t.preventDefault(),x())},n=()=>{w.length>0&&(m(De(w)),S(1))},b=()=>{const t={LOW:[],MEDIUM:[],HIGH:[]};s==null||s.forEach(a=>{t[a.competition]&&t[a.competition].push({keyword:a.keyword,competition_index:a.competition_index})});const c=t.LOW.sort((a,l)=>a.competition_index-l.competition_index).slice(0,2),L=t.MEDIUM.sort((a,l)=>a.competition_index-l.competition_index).slice(0,2),u=t.HIGH.sort((a,l)=>a.competition_index-l.competition_index).slice(0,2);return[...c.map(a=>a.keyword),...L.map(a=>a.keyword),...u.map(a=>a.keyword)]},o=t=>{const c=b();F(c);const L=J.info({icon:null,title:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Auto-Selected Keywords"}),e.jsx("button",{onClick:()=>L.destroy(),className:"text-gray-500 hover:text-red-500","aria-label":"Close modal",children:e.jsx(Q,{className:"h-5 w-5"})})]}),content:e.jsxs("div",{children:[e.jsx("p",{children:"We selected these keywords automatically based on competition index:"}),e.jsx("ul",{className:"list-disc ml-5 mt-2",children:c.map(u=>e.jsx("li",{className:"capitalize",children:u},u))}),e.jsx("p",{className:"mt-3",children:"Do you want to proceed with these?"})]}),okText:"Accept",cancelText:"Decline",closable:!0,onOk(){const u=[...(g==null?void 0:g.focusKeywords)||[],...c.filter(a=>{var l;return!((l=g==null?void 0:g.focusKeywords)!=null&&l.includes(a))})].slice(0,6);z(u,t)},onCancel(){const u=(g==null?void 0:g.focusKeywords)||[];z(u,t)},okButtonProps:{className:"bg-blue-600 text-white"}})},f=()=>{o("blog")},O=()=>{o("job")},z=async(t,c)=>{await m(we({focusKeywords:t,allKeywords:t})),setTimeout(()=>{c==="blog"?k():h(),P()},100)},R=[{title:"Keyword",dataIndex:"keyword",key:"keyword",sorter:(t,c)=>t.keyword.localeCompare(c.keyword),render:t=>e.jsx("span",{className:"font-medium capitalize",children:t})},{title:"Monthly Searches",dataIndex:"avgMonthlySearches",key:"avgMonthlySearches",sorter:(t,c)=>t.avgMonthlySearches-c.avgMonthlySearches,render:t=>new Intl.NumberFormat().format(t)},{title:"Competition",dataIndex:"competition",key:"competition",sorter:(t,c)=>t.competition_index-c.competition_index,render:t=>e.jsx(Ye,{color:t==="LOW"?"green":t==="MEDIUM"?"orange":t==="HIGH"?"red":"gray",children:t})},{title:"Competition Index",dataIndex:"competition_index",key:"competition_index",sorter:(t,c)=>t.competition_index-c.competition_index,render:t=>t||"-"}],i=(s==null?void 0:s.map((t,c)=>({key:c,keyword:t.keyword,avgMonthlySearches:t.avgMonthlySearches,competition:t.competition,competition_index:t.competition_index,avgCpc:t.avgCpc,lowBid:t.lowBid,highBid:t.highBid})))||[],j=t=>S(t);return N.useEffect(()=>()=>{m(ie()),K([]),C(""),F([]),S(1)},[m]),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-4xl rounded-2xl overflow-hidden border",children:e.jsxs(Xe,{title:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Keyword Research"}),e.jsx("button",{onClick:P,className:"p-2 rounded-full hover:bg-gray-100","aria-label":"Close keyword research modal",children:e.jsx(Q,{className:"h-6 w-6 text-gray-500 hover:text-gray-700"})})]}),className:"rounded-xl shadow-lg border-0",children:[e.jsx("p",{className:"mb-4 text-gray-600",children:"Find and analyze keywords for your blog"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx(es,{placeholder:"Enter a keyword",value:r,onChange:t=>C(t.target.value),onKeyPress:I,className:"flex-1","aria-label":"Enter keyword"}),e.jsx(T.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(je,{type:"primary",onClick:x,children:"Add"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:w.map((t,c)=>e.jsxs(T.div,{initial:{opacity:0,scale:.8},animate:{opacity:1},className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full flex items-center",children:[e.jsx("span",{children:t}),e.jsx(T.div,{whileHover:{scale:1.2},whileTap:{scale:.8},className:"ml-2 cursor-pointer",onClick:()=>v(c),children:e.jsx(Ze,{className:"text-blue-800 text-xs"})})]},c))}),e.jsx(T.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(je,{block:!0,type:"primary",onClick:n,loading:p,disabled:w.length===0,children:"Analyze Keywords"})}),w.length>0&&s&&Array.isArray(s)&&e.jsx("div",{className:"mt-6",children:e.jsx(ye,{columns:R,dataSource:i,pagination:{current:A,pageSize:4,showSizeChanger:!1,onChange:j,total:i.length},rowSelection:{selectedRowKeys:(g==null?void 0:g.focusKeywords)||[],onChange:t=>{m(we({focusKeywords:t,allKeywords:t}))},getCheckboxProps:t=>({name:t.keyword})},rowKey:t=>t.keyword,scroll:{x:!0}})}),e.jsxs("div",{className:"flex justify-end gap-3 mt-5 border-t border-gray-100 pt-4",children:[e.jsx(T.button,{onClick:f,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:!s||p||w.length===0,children:"Create Blog"}),e.jsx(T.button,{onClick:O,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:!s||p||w.length===0,children:"Create New Job"}),e.jsx(T.button,{onClick:P,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close"})]})]})})})},mt=()=>{const[P,k]=N.useState(!1),[h,r]=N.useState(0),[C,w]=N.useState(!1),[K,A]=N.useState(!1),[S,y]=N.useState(!1),[F,m]=N.useState(!1),[s,p]=N.useState(!1),[D,g]=N.useState(!1),[x,v]=N.useState(!1),[I,n]=N.useState({}),[b,o]=N.useState([]),[f,O]=N.useState(!0),{blogs:z}=q(B=>B.blog),R=Z(),i=ae(),j=q(ze),{handlePopup:t}=le();N.useEffect(()=>{const B=setTimeout(()=>{O(!1)},1200);return()=>clearTimeout(B)},[]),N.useEffect(()=>{(async()=>{if(!localStorage.getItem("token")){i("/login");return}try{const Y=await R(ve());ve.rejected.match(Y)&&(console.warn("Failed to load user, redirecting..."),i("/login"))}catch(Y){console.error("User init failed:",Y)}})()},[R,i]),N.useEffect(()=>{R(Se())},[]),N.useEffect(()=>{const B=z.filter(_=>_.status==="complete"&&_.isArchived===!1).slice(-3);o(B)},[z]);const c=()=>k(!0),L=()=>w(!0),u=()=>w(!1),a=()=>A(!0),l=()=>A(!1),M=()=>y(!0),d=()=>y(!1),$=()=>m(!0),W=()=>m(!1),ee=()=>{g(!1),k(!0),r(0)},oe=()=>{g(!1),R(Oe()),i("/jobs")},se=async B=>{var _,Y;try{const me=(((_=j==null?void 0:j.credits)==null?void 0:_.base)||0)+(((Y=j==null?void 0:j.credits)==null?void 0:Y.extra)||0),Me=re("blog.single",I.aiModel),Ke=I.isUnsplashActive?0:re("aiImages",I.aiModel),be=Me+Ke;t({title:"Confirm Blog Creation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Single Blog generation cost: ",e.jsxs("b",{children:[be," credits"]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue?"})]}),onConfirm:()=>{if(be>me){E.error("You do not have enough credits to generate this blog."),t(!1);return}R($e({blogData:B,navigate:i})),k(!1),r(0)}})}catch(me){console.error("Error submitting form:",me)}},U=()=>{k(!1),r(0),n({})},H=()=>r(h+1),G=()=>r(h-1);return e.jsxs(e.Fragment,{children:[e.jsx(Re,{children:e.jsx("title",{children:"Home | GenWrite"})}),e.jsxs(us,{title:`Step ${h}/3`,visible:P,onCancel:U,className:"max-h-[90vh] overflow-scroll",children:[h===0&&e.jsx(gs,{handleNext:H,handleClose:U,data:I,setData:n}),h===1&&e.jsx(ys,{handleNext:H,handleClose:U,handlePrevious:G,data:I,setData:n}),h===2&&e.jsx(bs,{handleNext:H,handlePrevious:G,handleClose:U,data:I,setData:n,handleSubmit:se}),e.jsx("div",{className:"flex items-center justify-center mt-4",children:e.jsx("progress",{className:"w-full max-w-md",max:"3",value:h})})]}),C&&e.jsx(Ss,{closeFnc:u}),K&&e.jsx(Cs,{closeFnc:l}),S&&e.jsx(Bs,{closeFnc:d}),F&&e.jsx(Je,{closeFnc:W,open:$,blogs:z}),s&&e.jsx(Is,{allBlogs:z,closeFnc:()=>p(!1),visible:()=>p(!0)}),D&&e.jsx(Ms,{closeFnc:()=>{g(!1),R(ie())},openSecondStepModal:ee,openJobModal:oe}),x&&e.jsx(Ls,{closeFnc:()=>v(!1)}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/50 p-6",children:e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"gap-6",children:e.jsxs("div",{children:[e.jsxs(T.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:["Let's Begin",e.jsx("span",{className:"ml-2 text-2xl text-yellow-400",children:"✨"})]}),e.jsxs("p",{className:"text-gray-600 text-lg mt-2",children:["Welcome back ",e.jsx("b",{children:j==null?void 0:j.name}),"! Ready to create something amazing today?"]})]})}),e.jsx("div",{className:"grid lg:grid-cols-3 gap-6",children:e.jsx(xe,{children:f?Array.from({length:3}).map((B,_)=>e.jsx(ss,{},_)):js.map((B,_)=>e.jsx(vs,{icon:B.icon,title:B.title,content:B.content,id:B.id,gradient:B.hoverGradient,functions:{showModal:c,setModelData:n,showDaisy:L,showMultiStepModal:a,showQuickBlogModal:M,showCompetitiveAnalysis:$}},_))})}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center",children:e.jsx(Be,{className:"w-5 h-5 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Quick Tools"})]}),e.jsx("div",{className:"grid gap-6 sm:grid-cols-1 md:grid-cols- lg:grid-cols-3",children:e.jsx(xe,{children:f?Array.from({length:3}).map((B,_)=>e.jsx(Ce,{},_)):ws.map((B,_)=>e.jsx(Ns,{imageUrl:B.imageUrl,title:B.title,content:B.content,id:B.id,color:B.color,icon:B.icon,bgColor:B.bgColor,hoverBg:B.hoverBg,functions:{...B.id===3?{showPerformanceMonitoring:()=>p(!0)}:{},...B.id===2?{showSeoAnalysis:()=>v(!0)}:{},...B.id===1?{showKeywordResearch:()=>g(!0)}:{},...B.id===4?{showCompetitiveAnalysis:$}:{}}},_))})})]}),b.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 mt-10",children:[e.jsx("div",{className:"mb-8 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-emerald-500 to-teal-500 flex items-center justify-center",children:e.jsx(ts,{className:"w-5 h-5 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recent Projects"})]})}),e.jsxs("div",{children:[e.jsx(xe,{children:f?Array.from({length:3}).map((B,_)=>e.jsx(Ce,{},_)):b.map((B,_)=>e.jsx(ks,{title:B.title,content:B.content,tags:B.focusKeywords,item:B,time:B.updatedAt},_))}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{className:"px-6 py-3 text-blue-600 hover:text-blue-700 font-medium hover:bg-blue-50 rounded-lg transition-colors",onClick:()=>i("/blogs"),children:"View All Projects"})})]})]})]})})]})};export{mt as default};
