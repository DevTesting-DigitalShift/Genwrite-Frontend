function Yy(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}var Lb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function zb(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var xf={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function mS(){if(og)return Ee;og=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(N){return N===null||typeof N!="object"?null:(N=y&&N[y]||N["@@iterator"],typeof N=="function"?N:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function C(N,L,ue){this.props=N,this.context=L,this.refs=x,this.updater=ue||k}C.prototype.isReactComponent={},C.prototype.setState=function(N,L){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,L,"setState")},C.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function b(){}b.prototype=C.prototype;function z(N,L,ue){this.props=N,this.context=L,this.refs=x,this.updater=ue||k}var U=z.prototype=new b;U.constructor=z,S(U,C.prototype),U.isPureReactComponent=!0;var T=Array.isArray,H=Object.prototype.hasOwnProperty,P={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function ie(N,L,ue){var ce,me={},ge=null,Oe=null;if(L!=null)for(ce in L.ref!==void 0&&(Oe=L.ref),L.key!==void 0&&(ge=""+L.key),L)H.call(L,ce)&&!Q.hasOwnProperty(ce)&&(me[ce]=L[ce]);var we=arguments.length-2;if(we===1)me.children=ue;else if(1<we){for(var De=Array(we),$e=0;$e<we;$e++)De[$e]=arguments[$e+2];me.children=De}if(N&&N.defaultProps)for(ce in we=N.defaultProps,we)me[ce]===void 0&&(me[ce]=we[ce]);return{$$typeof:n,type:N,key:ge,ref:Oe,props:me,_owner:P.current}}function G(N,L){return{$$typeof:n,type:N.type,key:L,ref:N.ref,props:N.props,_owner:N._owner}}function de(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function Me(N){var L={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ue){return L[ue]})}var Se=/\/+/g;function ve(N,L){return typeof N=="object"&&N!==null&&N.key!=null?Me(""+N.key):L.toString(36)}function Re(N,L,ue,ce,me){var ge=typeof N;(ge==="undefined"||ge==="boolean")&&(N=null);var Oe=!1;if(N===null)Oe=!0;else switch(ge){case"string":case"number":Oe=!0;break;case"object":switch(N.$$typeof){case n:case e:Oe=!0}}if(Oe)return Oe=N,me=me(Oe),N=ce===""?"."+ve(Oe,0):ce,T(me)?(ue="",N!=null&&(ue=N.replace(Se,"$&/")+"/"),Re(me,L,ue,"",function($e){return $e})):me!=null&&(de(me)&&(me=G(me,ue+(!me.key||Oe&&Oe.key===me.key?"":(""+me.key).replace(Se,"$&/")+"/")+N)),L.push(me)),1;if(Oe=0,ce=ce===""?".":ce+":",T(N))for(var we=0;we<N.length;we++){ge=N[we];var De=ce+ve(ge,we);Oe+=Re(ge,L,ue,De,me)}else if(De=v(N),typeof De=="function")for(N=De.call(N),we=0;!(ge=N.next()).done;)ge=ge.value,De=ce+ve(ge,we++),Oe+=Re(ge,L,ue,De,me);else if(ge==="object")throw L=String(N),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return Oe}function Pe(N,L,ue){if(N==null)return N;var ce=[],me=0;return Re(N,ce,"","",function(ge){return L.call(ue,ge,me++)}),ce}function Ce(N){if(N._status===-1){var L=N._result;L=L(),L.then(function(ue){(N._status===0||N._status===-1)&&(N._status=1,N._result=ue)},function(ue){(N._status===0||N._status===-1)&&(N._status=2,N._result=ue)}),N._status===-1&&(N._status=0,N._result=L)}if(N._status===1)return N._result.default;throw N._result}var pe={current:null},$={transition:null},ne={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:$,ReactCurrentOwner:P};function K(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:Pe,forEach:function(N,L,ue){Pe(N,function(){L.apply(this,arguments)},ue)},count:function(N){var L=0;return Pe(N,function(){L++}),L},toArray:function(N){return Pe(N,function(L){return L})||[]},only:function(N){if(!de(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ee.Component=C,Ee.Fragment=t,Ee.Profiler=o,Ee.PureComponent=z,Ee.StrictMode=r,Ee.Suspense=f,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Ee.act=K,Ee.cloneElement=function(N,L,ue){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ce=S({},N.props),me=N.key,ge=N.ref,Oe=N._owner;if(L!=null){if(L.ref!==void 0&&(ge=L.ref,Oe=P.current),L.key!==void 0&&(me=""+L.key),N.type&&N.type.defaultProps)var we=N.type.defaultProps;for(De in L)H.call(L,De)&&!Q.hasOwnProperty(De)&&(ce[De]=L[De]===void 0&&we!==void 0?we[De]:L[De])}var De=arguments.length-2;if(De===1)ce.children=ue;else if(1<De){we=Array(De);for(var $e=0;$e<De;$e++)we[$e]=arguments[$e+2];ce.children=we}return{$$typeof:n,type:N.type,key:me,ref:ge,props:ce,_owner:Oe}},Ee.createContext=function(N){return N={$$typeof:a,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:l,_context:N},N.Consumer=N},Ee.createElement=ie,Ee.createFactory=function(N){var L=ie.bind(null,N);return L.type=N,L},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(N){return{$$typeof:c,render:N}},Ee.isValidElement=de,Ee.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:Ce}},Ee.memo=function(N,L){return{$$typeof:p,type:N,compare:L===void 0?null:L}},Ee.startTransition=function(N){var L=$.transition;$.transition={};try{N()}finally{$.transition=L}},Ee.unstable_act=K,Ee.useCallback=function(N,L){return pe.current.useCallback(N,L)},Ee.useContext=function(N){return pe.current.useContext(N)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(N){return pe.current.useDeferredValue(N)},Ee.useEffect=function(N,L){return pe.current.useEffect(N,L)},Ee.useId=function(){return pe.current.useId()},Ee.useImperativeHandle=function(N,L,ue){return pe.current.useImperativeHandle(N,L,ue)},Ee.useInsertionEffect=function(N,L){return pe.current.useInsertionEffect(N,L)},Ee.useLayoutEffect=function(N,L){return pe.current.useLayoutEffect(N,L)},Ee.useMemo=function(N,L){return pe.current.useMemo(N,L)},Ee.useReducer=function(N,L,ue){return pe.current.useReducer(N,L,ue)},Ee.useRef=function(N){return pe.current.useRef(N)},Ee.useState=function(N){return pe.current.useState(N)},Ee.useSyncExternalStore=function(N,L,ue){return pe.current.useSyncExternalStore(N,L,ue)},Ee.useTransition=function(){return pe.current.useTransition()},Ee.version="18.3.1",Ee}var sg;function Zy(){return sg||(sg=1,xf.exports=mS()),xf.exports}var gt=Zy();const pt=Xy(gt),Bb=Yy({__proto__:null,default:pt},[gt]);var Cf={exports:{}},_t={},Ef={exports:{}},Tf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function gS(){return lg||(lg=1,function(n){function e($,ne){var K=$.length;$.push(ne);e:for(;0<K;){var N=K-1>>>1,L=$[N];if(0<o(L,ne))$[N]=ne,$[K]=L,K=N;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ne=$[0],K=$.pop();if(K!==ne){$[0]=K;e:for(var N=0,L=$.length,ue=L>>>1;N<ue;){var ce=2*(N+1)-1,me=$[ce],ge=ce+1,Oe=$[ge];if(0>o(me,K))ge<L&&0>o(Oe,me)?($[N]=Oe,$[ge]=K,N=ge):($[N]=me,$[ce]=K,N=ce);else if(ge<L&&0>o(Oe,K))$[N]=Oe,$[ge]=K,N=ge;else break e}}return ne}function o($,ne){var K=$.sortIndex-ne.sortIndex;return K!==0?K:$.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var f=[],p=[],m=1,y=null,v=3,k=!1,S=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U($){for(var ne=t(p);ne!==null;){if(ne.callback===null)r(p);else if(ne.startTime<=$)r(p),ne.sortIndex=ne.expirationTime,e(f,ne);else break;ne=t(p)}}function T($){if(x=!1,U($),!S)if(t(f)!==null)S=!0,Ce(H);else{var ne=t(p);ne!==null&&pe(T,ne.startTime-$)}}function H($,ne){S=!1,x&&(x=!1,b(ie),ie=-1),k=!0;var K=v;try{for(U(ne),y=t(f);y!==null&&(!(y.expirationTime>ne)||$&&!Me());){var N=y.callback;if(typeof N=="function"){y.callback=null,v=y.priorityLevel;var L=N(y.expirationTime<=ne);ne=n.unstable_now(),typeof L=="function"?y.callback=L:y===t(f)&&r(f),U(ne)}else r(f);y=t(f)}if(y!==null)var ue=!0;else{var ce=t(p);ce!==null&&pe(T,ce.startTime-ne),ue=!1}return ue}finally{y=null,v=K,k=!1}}var P=!1,Q=null,ie=-1,G=5,de=-1;function Me(){return!(n.unstable_now()-de<G)}function Se(){if(Q!==null){var $=n.unstable_now();de=$;var ne=!0;try{ne=Q(!0,$)}finally{ne?ve():(P=!1,Q=null)}}else P=!1}var ve;if(typeof z=="function")ve=function(){z(Se)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,Pe=Re.port2;Re.port1.onmessage=Se,ve=function(){Pe.postMessage(null)}}else ve=function(){C(Se,0)};function Ce($){Q=$,P||(P=!0,ve())}function pe($,ne){ie=C(function(){$(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){S||k||(S=!0,Ce(H))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function($){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var K=v;v=ne;try{return $()}finally{v=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,ne){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var K=v;v=$;try{return ne()}finally{v=K}},n.unstable_scheduleCallback=function($,ne,K){var N=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?N+K:N):K=N,$){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=K+L,$={id:m++,callback:ne,priorityLevel:$,startTime:K,expirationTime:L,sortIndex:-1},K>N?($.sortIndex=K,e(p,$),t(f)===null&&$===t(p)&&(x?(b(ie),ie=-1):x=!0,pe(T,K-N))):($.sortIndex=L,e(f,$),S||k||(S=!0,Ce(H))),$},n.unstable_shouldYield=Me,n.unstable_wrapCallback=function($){var ne=v;return function(){var K=v;v=ne;try{return $.apply(this,arguments)}finally{v=K}}}}(Tf)),Tf}var ag;function yS(){return ag||(ag=1,Ef.exports=gS()),Ef.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function vS(){if(ug)return _t;ug=1;var n=Zy(),e=yS();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(i,s){a(i,s),a(i+"Capture",s)}function a(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function v(i){return f.call(y,i)?!0:f.call(m,i)?!1:p.test(i)?y[i]=!0:(m[i]=!0,!1)}function k(i,s,u,d){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,s,u,d){if(s===null||typeof s>"u"||k(i,s,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function x(i,s,u,d,h,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=h,this.mustUseProperty=u,this.propertyName=i,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new x(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];C[s]=new x(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new x(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new x(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new x(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new x(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new x(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new x(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new x(i,5,!1,i.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function z(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(b,z);C[s]=new x(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(b,z);C[s]=new x(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(b,z);C[s]=new x(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new x(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new x(i,1,!1,i.toLowerCase(),null,!0,!0)});function U(i,s,u,d){var h=C.hasOwnProperty(s)?C[s]:null;(h!==null?h.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(S(s,u,h,d)&&(u=null),d||h===null?v(s)&&(u===null?i.removeAttribute(s):i.setAttribute(s,""+u)):h.mustUseProperty?i[h.propertyName]=u===null?h.type===3?!1:"":u:(s=h.attributeName,d=h.attributeNamespace,u===null?i.removeAttribute(s):(h=h.type,u=h===3||h===4&&u===!0?"":""+u,d?i.setAttributeNS(d,s,u):i.setAttribute(s,u))))}var T=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),P=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),Me=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),$=Symbol.iterator;function ne(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var K=Object.assign,N;function L(i){if(N===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);N=s&&s[1]||""}return`
`+N+i}var ue=!1;function ce(i,s){if(!i||ue)return"";ue=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(R){var d=R}Reflect.construct(i,[],s)}else{try{s.call()}catch(R){d=R}i.call(s.prototype)}else{try{throw Error()}catch(R){d=R}i()}}catch(R){if(R&&d&&typeof R.stack=="string"){for(var h=R.stack.split(`
`),g=d.stack.split(`
`),w=h.length-1,E=g.length-1;1<=w&&0<=E&&h[w]!==g[E];)E--;for(;1<=w&&0<=E;w--,E--)if(h[w]!==g[E]){if(w!==1||E!==1)do if(w--,E--,0>E||h[w]!==g[E]){var M=`
`+h[w].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=w&&0<=E);break}}}finally{ue=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?L(i):""}function me(i){switch(i.tag){case 5:return L(i.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return i=ce(i.type,!1),i;case 11:return i=ce(i.type.render,!1),i;case 1:return i=ce(i.type,!0),i;default:return""}}function ge(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Q:return"Fragment";case P:return"Portal";case G:return"Profiler";case ie:return"StrictMode";case ve:return"Suspense";case Re:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Me:return(i.displayName||"Context")+".Consumer";case de:return(i._context.displayName||"Context")+".Provider";case Se:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Pe:return s=i.displayName||null,s!==null?s:ge(i.type)||"Memo";case Ce:s=i._payload,i=i._init;try{return ge(i(s))}catch{}}return null}function Oe(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(s);case 8:return s===ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function we(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function De(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $e(i){var s=De(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,g=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return h.call(this)},set:function(w){d=""+w,g.call(this,w)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function mn(i){i._valueTracker||(i._valueTracker=$e(i))}function ri(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),d="";return i&&(d=De(i)?i.checked?"true":"false":i.value),i=d,i!==u?(s.setValue(i),!0):!1}function Mn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function pr(i,s){var u=s.checked;return K({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function ii(i,s){var u=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;u=we(s.value!=null?s.value:u),i._wrapperState={initialChecked:d,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function hr(i,s){s=s.checked,s!=null&&U(i,"checked",s,!1)}function Wn(i,s){hr(i,s);var u=we(s.value),d=s.type;if(u!=null)d==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?mr(i,s.type,u):s.hasOwnProperty("defaultValue")&&mr(i,s.type,we(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function oi(i,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,u||s===i.value||(i.value=s),i.defaultValue=s}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function mr(i,s,u){(s!=="number"||Mn(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Mt=Array.isArray;function Ot(i,s,u,d){if(i=i.options,s){s={};for(var h=0;h<u.length;h++)s["$"+u[h]]=!0;for(u=0;u<i.length;u++)h=s.hasOwnProperty("$"+i[u].value),i[u].selected!==h&&(i[u].selected=h),h&&d&&(i[u].defaultSelected=!0)}else{for(u=""+we(u),s=null,h=0;h<i.length;h++){if(i[h].value===u){i[h].selected=!0,d&&(i[h].defaultSelected=!0);return}s!==null||i[h].disabled||(s=i[h])}s!==null&&(s.selected=!0)}}function Un(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return K({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function On(i,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(t(92));if(Mt(u)){if(1<u.length)throw Error(t(93));u=u[0]}s=u}s==null&&(s=""),u=s}i._wrapperState={initialValue:we(u)}}function gr(i,s){var u=we(s.value),d=we(s.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),s.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),d!=null&&(i.defaultValue=""+d)}function si(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function li(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yr(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?li(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Kn,il=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,d,h){MSApp.execUnsafeLocalFunction(function(){return i(s,u,d,h)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Kn=Kn||document.createElement("div"),Kn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Kn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ai(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fu=["Webkit","ms","Moz","O"];Object.keys(ui).forEach(function(i){Fu.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),ui[s]=ui[i]})});function ol(i,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||ui.hasOwnProperty(i)&&ui[i]?(""+s).trim():s+"px"}function I(i,s){i=i.style;for(var u in s)if(s.hasOwnProperty(u)){var d=u.indexOf("--")===0,h=ol(u,s[u],d);u==="float"&&(u="cssFloat"),d?i.setProperty(u,h):i[u]=h}}var ee=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ae(i,s){if(s){if(ee[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function be(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Te=null;function Ye(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var vt=null,Ut=null,qn=null;function bn(i){if(i=is(i)){if(typeof vt!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Nl(s),vt(i.stateNode,i.type,s))}}function Ki(i){Ut?qn?qn.push(i):qn=[i]:Ut=i}function ci(){if(Ut){var i=Ut,s=qn;if(qn=Ut=null,bn(i),s)for(i=0;i<s.length;i++)bn(s[i])}}function Jn(i,s){return i(s)}function sl(){}var fi=!1;function di(i,s,u){if(fi)return i(s,u);fi=!0;try{return Jn(i,s,u)}finally{fi=!1,(Ut!==null||qn!==null)&&(sl(),ci())}}function Bo(i,s){var u=i.stateNode;if(u===null)return null;var d=Nl(u);if(d===null)return null;u=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,s,typeof u));return u}var _u=!1;if(c)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){_u=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{_u=!1}function w1(i,s,u,d,h,g,w,E,M){var R=Array.prototype.slice.call(arguments,3);try{s.apply(u,R)}catch(F){this.onError(F)}}var _o=!1,ll=null,al=!1,Vu=null,x1={onError:function(i){_o=!0,ll=i}};function C1(i,s,u,d,h,g,w,E,M){_o=!1,ll=null,w1.apply(x1,arguments)}function E1(i,s,u,d,h,g,w,E,M){if(C1.apply(this,arguments),_o){if(_o){var R=ll;_o=!1,ll=null}else throw Error(t(198));al||(al=!0,Vu=R)}}function pi(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function bp(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Np(i){if(pi(i)!==i)throw Error(t(188))}function T1(i){var s=i.alternate;if(!s){if(s=pi(i),s===null)throw Error(t(188));return s!==i?null:i}for(var u=i,d=s;;){var h=u.return;if(h===null)break;var g=h.alternate;if(g===null){if(d=h.return,d!==null){u=d;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===u)return Np(h),i;if(g===d)return Np(h),s;g=g.sibling}throw Error(t(188))}if(u.return!==d.return)u=h,d=g;else{for(var w=!1,E=h.child;E;){if(E===u){w=!0,u=h,d=g;break}if(E===d){w=!0,d=h,u=g;break}E=E.sibling}if(!w){for(E=g.child;E;){if(E===u){w=!0,u=g,d=h;break}if(E===d){w=!0,d=g,u=h;break}E=E.sibling}if(!w)throw Error(t(189))}}if(u.alternate!==d)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:s}function Ap(i){return i=T1(i),i!==null?Dp(i):null}function Dp(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=Dp(i);if(s!==null)return s;i=i.sibling}return null}var Rp=e.unstable_scheduleCallback,Pp=e.unstable_cancelCallback,M1=e.unstable_shouldYield,O1=e.unstable_requestPaint,qe=e.unstable_now,b1=e.unstable_getCurrentPriorityLevel,Hu=e.unstable_ImmediatePriority,Ip=e.unstable_UserBlockingPriority,ul=e.unstable_NormalPriority,N1=e.unstable_LowPriority,Lp=e.unstable_IdlePriority,cl=null,Nn=null;function A1(i){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(cl,i,void 0,(i.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:P1,D1=Math.log,R1=Math.LN2;function P1(i){return i>>>=0,i===0?32:31-(D1(i)/R1|0)|0}var fl=64,dl=4194304;function Vo(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function pl(i,s){var u=i.pendingLanes;if(u===0)return 0;var d=0,h=i.suspendedLanes,g=i.pingedLanes,w=u&268435455;if(w!==0){var E=w&~h;E!==0?d=Vo(E):(g&=w,g!==0&&(d=Vo(g)))}else w=u&~h,w!==0?d=Vo(w):g!==0&&(d=Vo(g));if(d===0)return 0;if(s!==0&&s!==d&&(s&h)===0&&(h=d&-d,g=s&-s,h>=g||h===16&&(g&4194240)!==0))return s;if((d&4)!==0&&(d|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=d;0<s;)u=31-gn(s),h=1<<u,d|=i[u],s&=~h;return d}function I1(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L1(i,s){for(var u=i.suspendedLanes,d=i.pingedLanes,h=i.expirationTimes,g=i.pendingLanes;0<g;){var w=31-gn(g),E=1<<w,M=h[w];M===-1?((E&u)===0||(E&d)!==0)&&(h[w]=I1(E,s)):M<=s&&(i.expiredLanes|=E),g&=~E}}function ju(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function zp(){var i=fl;return fl<<=1,(fl&4194240)===0&&(fl=64),i}function $u(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Ho(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-gn(s),i[s]=u}function z1(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<u;){var h=31-gn(u),g=1<<h;s[h]=0,d[h]=-1,i[h]=-1,u&=~g}}function Wu(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var d=31-gn(u),h=1<<d;h&s|i[d]&s&&(i[d]|=s),u&=~h}}var Ie=0;function Bp(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Fp,Uu,_p,Vp,Hp,Ku=!1,hl=[],vr=null,kr=null,Sr=null,jo=new Map,$o=new Map,wr=[],B1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jp(i,s){switch(i){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":jo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(s.pointerId)}}function Wo(i,s,u,d,h,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:u,eventSystemFlags:d,nativeEvent:g,targetContainers:[h]},s!==null&&(s=is(s),s!==null&&Uu(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),i)}function F1(i,s,u,d,h){switch(s){case"focusin":return vr=Wo(vr,i,s,u,d,h),!0;case"dragenter":return kr=Wo(kr,i,s,u,d,h),!0;case"mouseover":return Sr=Wo(Sr,i,s,u,d,h),!0;case"pointerover":var g=h.pointerId;return jo.set(g,Wo(jo.get(g)||null,i,s,u,d,h)),!0;case"gotpointercapture":return g=h.pointerId,$o.set(g,Wo($o.get(g)||null,i,s,u,d,h)),!0}return!1}function $p(i){var s=hi(i.target);if(s!==null){var u=pi(s);if(u!==null){if(s=u.tag,s===13){if(s=bp(u),s!==null){i.blockedOn=s,Hp(i.priority,function(){_p(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ml(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=Ju(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);Te=d,u.target.dispatchEvent(d),Te=null}else return s=is(u),s!==null&&Uu(s),i.blockedOn=u,!1;s.shift()}return!0}function Wp(i,s,u){ml(i)&&u.delete(s)}function _1(){Ku=!1,vr!==null&&ml(vr)&&(vr=null),kr!==null&&ml(kr)&&(kr=null),Sr!==null&&ml(Sr)&&(Sr=null),jo.forEach(Wp),$o.forEach(Wp)}function Uo(i,s){i.blockedOn===s&&(i.blockedOn=null,Ku||(Ku=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_1)))}function Ko(i){function s(h){return Uo(h,i)}if(0<hl.length){Uo(hl[0],i);for(var u=1;u<hl.length;u++){var d=hl[u];d.blockedOn===i&&(d.blockedOn=null)}}for(vr!==null&&Uo(vr,i),kr!==null&&Uo(kr,i),Sr!==null&&Uo(Sr,i),jo.forEach(s),$o.forEach(s),u=0;u<wr.length;u++)d=wr[u],d.blockedOn===i&&(d.blockedOn=null);for(;0<wr.length&&(u=wr[0],u.blockedOn===null);)$p(u),u.blockedOn===null&&wr.shift()}var qi=T.ReactCurrentBatchConfig,gl=!0;function V1(i,s,u,d){var h=Ie,g=qi.transition;qi.transition=null;try{Ie=1,qu(i,s,u,d)}finally{Ie=h,qi.transition=g}}function H1(i,s,u,d){var h=Ie,g=qi.transition;qi.transition=null;try{Ie=4,qu(i,s,u,d)}finally{Ie=h,qi.transition=g}}function qu(i,s,u,d){if(gl){var h=Ju(i,s,u,d);if(h===null)fc(i,s,d,yl,u),jp(i,d);else if(F1(h,i,s,u,d))d.stopPropagation();else if(jp(i,d),s&4&&-1<B1.indexOf(i)){for(;h!==null;){var g=is(h);if(g!==null&&Fp(g),g=Ju(i,s,u,d),g===null&&fc(i,s,d,yl,u),g===h)break;h=g}h!==null&&d.stopPropagation()}else fc(i,s,d,null,u)}}var yl=null;function Ju(i,s,u,d){if(yl=null,i=Ye(d),i=hi(i),i!==null)if(s=pi(i),s===null)i=null;else if(u=s.tag,u===13){if(i=bp(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return yl=i,null}function Up(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b1()){case Hu:return 1;case Ip:return 4;case ul:case N1:return 16;case Lp:return 536870912;default:return 16}default:return 16}}var xr=null,Qu=null,vl=null;function Kp(){if(vl)return vl;var i,s=Qu,u=s.length,d,h="value"in xr?xr.value:xr.textContent,g=h.length;for(i=0;i<u&&s[i]===h[i];i++);var w=u-i;for(d=1;d<=w&&s[u-d]===h[g-d];d++);return vl=h.slice(i,1<d?1-d:void 0)}function kl(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Sl(){return!0}function qp(){return!1}function Kt(i){function s(u,d,h,g,w){this._reactName=u,this._targetInst=h,this.type=d,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(u=i[E],this[E]=u?u(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Sl:qp,this.isPropagationStopped=qp,this}return K(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),s}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gu=Kt(Ji),qo=K({},Ji,{view:0,detail:0}),j1=Kt(qo),Yu,Xu,Jo,wl=K({},qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ec,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Jo&&(Jo&&i.type==="mousemove"?(Yu=i.screenX-Jo.screenX,Xu=i.screenY-Jo.screenY):Xu=Yu=0,Jo=i),Yu)},movementY:function(i){return"movementY"in i?i.movementY:Xu}}),Jp=Kt(wl),$1=K({},wl,{dataTransfer:0}),W1=Kt($1),U1=K({},qo,{relatedTarget:0}),Zu=Kt(U1),K1=K({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),q1=Kt(K1),J1=K({},Ji,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Q1=Kt(J1),G1=K({},Ji,{data:0}),Qp=Kt(G1),Y1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ek(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Z1[i])?!!s[i]:!1}function ec(){return ek}var tk=K({},qo,{key:function(i){if(i.key){var s=Y1[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=kl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?X1[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ec,charCode:function(i){return i.type==="keypress"?kl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?kl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),nk=Kt(tk),rk=K({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gp=Kt(rk),ik=K({},qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ec}),ok=Kt(ik),sk=K({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),lk=Kt(sk),ak=K({},wl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),uk=Kt(ak),ck=[9,13,27,32],tc=c&&"CompositionEvent"in window,Qo=null;c&&"documentMode"in document&&(Qo=document.documentMode);var fk=c&&"TextEvent"in window&&!Qo,Yp=c&&(!tc||Qo&&8<Qo&&11>=Qo),Xp=" ",Zp=!1;function eh(i,s){switch(i){case"keyup":return ck.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function th(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Qi=!1;function dk(i,s){switch(i){case"compositionend":return th(s);case"keypress":return s.which!==32?null:(Zp=!0,Xp);case"textInput":return i=s.data,i===Xp&&Zp?null:i;default:return null}}function pk(i,s){if(Qi)return i==="compositionend"||!tc&&eh(i,s)?(i=Kp(),vl=Qu=xr=null,Qi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yp&&s.locale!=="ko"?null:s.data;default:return null}}var hk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!hk[i.type]:s==="textarea"}function rh(i,s,u,d){Ki(d),s=Ml(s,"onChange"),0<s.length&&(u=new Gu("onChange","change",null,u,d),i.push({event:u,listeners:s}))}var Go=null,Yo=null;function mk(i){wh(i,0)}function xl(i){var s=eo(i);if(ri(s))return i}function gk(i,s){if(i==="change")return s}var ih=!1;if(c){var nc;if(c){var rc="oninput"in document;if(!rc){var oh=document.createElement("div");oh.setAttribute("oninput","return;"),rc=typeof oh.oninput=="function"}nc=rc}else nc=!1;ih=nc&&(!document.documentMode||9<document.documentMode)}function sh(){Go&&(Go.detachEvent("onpropertychange",lh),Yo=Go=null)}function lh(i){if(i.propertyName==="value"&&xl(Yo)){var s=[];rh(s,Yo,i,Ye(i)),di(mk,s)}}function yk(i,s,u){i==="focusin"?(sh(),Go=s,Yo=u,Go.attachEvent("onpropertychange",lh)):i==="focusout"&&sh()}function vk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return xl(Yo)}function kk(i,s){if(i==="click")return xl(s)}function Sk(i,s){if(i==="input"||i==="change")return xl(s)}function wk(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var yn=typeof Object.is=="function"?Object.is:wk;function Xo(i,s){if(yn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),d=Object.keys(s);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var h=u[d];if(!f.call(s,h)||!yn(i[h],s[h]))return!1}return!0}function ah(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function uh(i,s){var u=ah(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=s&&d>=s)return{node:u,offset:s-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ah(u)}}function ch(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?ch(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function fh(){for(var i=window,s=Mn();s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=Mn(i.document)}return s}function ic(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function xk(i){var s=fh(),u=i.focusedElem,d=i.selectionRange;if(s!==u&&u&&u.ownerDocument&&ch(u.ownerDocument.documentElement,u)){if(d!==null&&ic(u)){if(s=d.start,i=d.end,i===void 0&&(i=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(i,u.value.length);else if(i=(s=u.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var h=u.textContent.length,g=Math.min(d.start,h);d=d.end===void 0?g:Math.min(d.end,h),!i.extend&&g>d&&(h=d,d=g,g=h),h=uh(u,g);var w=uh(u,d);h&&w&&(i.rangeCount!==1||i.anchorNode!==h.node||i.anchorOffset!==h.offset||i.focusNode!==w.node||i.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),i.removeAllRanges(),g>d?(i.addRange(s),i.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),i.addRange(s)))}}for(s=[],i=u;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)i=s[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Ck=c&&"documentMode"in document&&11>=document.documentMode,Gi=null,oc=null,Zo=null,sc=!1;function dh(i,s,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;sc||Gi==null||Gi!==Mn(d)||(d=Gi,"selectionStart"in d&&ic(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Zo&&Xo(Zo,d)||(Zo=d,d=Ml(oc,"onSelect"),0<d.length&&(s=new Gu("onSelect","select",null,s,u),i.push({event:s,listeners:d}),s.target=Gi)))}function Cl(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var Yi={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},lc={},ph={};c&&(ph=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function El(i){if(lc[i])return lc[i];if(!Yi[i])return i;var s=Yi[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in ph)return lc[i]=s[u];return i}var hh=El("animationend"),mh=El("animationiteration"),gh=El("animationstart"),yh=El("transitionend"),vh=new Map,kh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(i,s){vh.set(i,s),l(s,[i])}for(var ac=0;ac<kh.length;ac++){var uc=kh[ac],Ek=uc.toLowerCase(),Tk=uc[0].toUpperCase()+uc.slice(1);Cr(Ek,"on"+Tk)}Cr(hh,"onAnimationEnd"),Cr(mh,"onAnimationIteration"),Cr(gh,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(yh,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mk=new Set("cancel close invalid load scroll toggle".split(" ").concat(es));function Sh(i,s,u){var d=i.type||"unknown-event";i.currentTarget=u,E1(d,s,void 0,i),i.currentTarget=null}function wh(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],h=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var w=d.length-1;0<=w;w--){var E=d[w],M=E.instance,R=E.currentTarget;if(E=E.listener,M!==g&&h.isPropagationStopped())break e;Sh(h,E,R),g=M}else for(w=0;w<d.length;w++){if(E=d[w],M=E.instance,R=E.currentTarget,E=E.listener,M!==g&&h.isPropagationStopped())break e;Sh(h,E,R),g=M}}}if(al)throw i=Vu,al=!1,Vu=null,i}function Be(i,s){var u=s[yc];u===void 0&&(u=s[yc]=new Set);var d=i+"__bubble";u.has(d)||(xh(s,i,2,!1),u.add(d))}function cc(i,s,u){var d=0;s&&(d|=4),xh(u,i,d,s)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function ts(i){if(!i[Tl]){i[Tl]=!0,r.forEach(function(u){u!=="selectionchange"&&(Mk.has(u)||cc(u,!1,i),cc(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Tl]||(s[Tl]=!0,cc("selectionchange",!1,s))}}function xh(i,s,u,d){switch(Up(s)){case 1:var h=V1;break;case 4:h=H1;break;default:h=qu}u=h.bind(null,s,u,i),h=void 0,!_u||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),d?h!==void 0?i.addEventListener(s,u,{capture:!0,passive:h}):i.addEventListener(s,u,!0):h!==void 0?i.addEventListener(s,u,{passive:h}):i.addEventListener(s,u,!1)}function fc(i,s,u,d,h){var g=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var E=d.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(w===4)for(w=d.return;w!==null;){var M=w.tag;if((M===3||M===4)&&(M=w.stateNode.containerInfo,M===h||M.nodeType===8&&M.parentNode===h))return;w=w.return}for(;E!==null;){if(w=hi(E),w===null)return;if(M=w.tag,M===5||M===6){d=g=w;continue e}E=E.parentNode}}d=d.return}di(function(){var R=g,F=Ye(u),V=[];e:{var B=vh.get(i);if(B!==void 0){var J=Gu,X=i;switch(i){case"keypress":if(kl(u)===0)break e;case"keydown":case"keyup":J=nk;break;case"focusin":X="focus",J=Zu;break;case"focusout":X="blur",J=Zu;break;case"beforeblur":case"afterblur":J=Zu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Jp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=W1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=ok;break;case hh:case mh:case gh:J=q1;break;case yh:J=lk;break;case"scroll":J=j1;break;case"wheel":J=uk;break;case"copy":case"cut":case"paste":J=Q1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Gp}var te=(s&4)!==0,Je=!te&&i==="scroll",A=te?B!==null?B+"Capture":null:B;te=[];for(var O=R,D;O!==null;){D=O;var W=D.stateNode;if(D.tag===5&&W!==null&&(D=W,A!==null&&(W=Bo(O,A),W!=null&&te.push(ns(O,W,D)))),Je)break;O=O.return}0<te.length&&(B=new J(B,X,null,u,F),V.push({event:B,listeners:te}))}}if((s&7)===0){e:{if(B=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",B&&u!==Te&&(X=u.relatedTarget||u.fromElement)&&(hi(X)||X[Qn]))break e;if((J||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,J?(X=u.relatedTarget||u.toElement,J=R,X=X?hi(X):null,X!==null&&(Je=pi(X),X!==Je||X.tag!==5&&X.tag!==6)&&(X=null)):(J=null,X=R),J!==X)){if(te=Jp,W="onMouseLeave",A="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(te=Gp,W="onPointerLeave",A="onPointerEnter",O="pointer"),Je=J==null?B:eo(J),D=X==null?B:eo(X),B=new te(W,O+"leave",J,u,F),B.target=Je,B.relatedTarget=D,W=null,hi(F)===R&&(te=new te(A,O+"enter",X,u,F),te.target=D,te.relatedTarget=Je,W=te),Je=W,J&&X)t:{for(te=J,A=X,O=0,D=te;D;D=Xi(D))O++;for(D=0,W=A;W;W=Xi(W))D++;for(;0<O-D;)te=Xi(te),O--;for(;0<D-O;)A=Xi(A),D--;for(;O--;){if(te===A||A!==null&&te===A.alternate)break t;te=Xi(te),A=Xi(A)}te=null}else te=null;J!==null&&Ch(V,B,J,te,!1),X!==null&&Je!==null&&Ch(V,Je,X,te,!0)}}e:{if(B=R?eo(R):window,J=B.nodeName&&B.nodeName.toLowerCase(),J==="select"||J==="input"&&B.type==="file")var re=gk;else if(nh(B))if(ih)re=Sk;else{re=vk;var se=yk}else(J=B.nodeName)&&J.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(re=kk);if(re&&(re=re(i,R))){rh(V,re,u,F);break e}se&&se(i,B,R),i==="focusout"&&(se=B._wrapperState)&&se.controlled&&B.type==="number"&&mr(B,"number",B.value)}switch(se=R?eo(R):window,i){case"focusin":(nh(se)||se.contentEditable==="true")&&(Gi=se,oc=R,Zo=null);break;case"focusout":Zo=oc=Gi=null;break;case"mousedown":sc=!0;break;case"contextmenu":case"mouseup":case"dragend":sc=!1,dh(V,u,F);break;case"selectionchange":if(Ck)break;case"keydown":case"keyup":dh(V,u,F)}var le;if(tc)e:{switch(i){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Qi?eh(i,u)&&(fe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(fe="onCompositionStart");fe&&(Yp&&u.locale!=="ko"&&(Qi||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Qi&&(le=Kp()):(xr=F,Qu="value"in xr?xr.value:xr.textContent,Qi=!0)),se=Ml(R,fe),0<se.length&&(fe=new Qp(fe,i,null,u,F),V.push({event:fe,listeners:se}),le?fe.data=le:(le=th(u),le!==null&&(fe.data=le)))),(le=fk?dk(i,u):pk(i,u))&&(R=Ml(R,"onBeforeInput"),0<R.length&&(F=new Qp("onBeforeInput","beforeinput",null,u,F),V.push({event:F,listeners:R}),F.data=le))}wh(V,s)})}function ns(i,s,u){return{instance:i,listener:s,currentTarget:u}}function Ml(i,s){for(var u=s+"Capture",d=[];i!==null;){var h=i,g=h.stateNode;h.tag===5&&g!==null&&(h=g,g=Bo(i,u),g!=null&&d.unshift(ns(i,g,h)),g=Bo(i,s),g!=null&&d.push(ns(i,g,h))),i=i.return}return d}function Xi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ch(i,s,u,d,h){for(var g=s._reactName,w=[];u!==null&&u!==d;){var E=u,M=E.alternate,R=E.stateNode;if(M!==null&&M===d)break;E.tag===5&&R!==null&&(E=R,h?(M=Bo(u,g),M!=null&&w.unshift(ns(u,M,E))):h||(M=Bo(u,g),M!=null&&w.push(ns(u,M,E)))),u=u.return}w.length!==0&&i.push({event:s,listeners:w})}var Ok=/\r\n?/g,bk=/\u0000|\uFFFD/g;function Eh(i){return(typeof i=="string"?i:""+i).replace(Ok,`
`).replace(bk,"")}function Ol(i,s,u){if(s=Eh(s),Eh(i)!==s&&u)throw Error(t(425))}function bl(){}var dc=null,pc=null;function hc(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mc=typeof setTimeout=="function"?setTimeout:void 0,Nk=typeof clearTimeout=="function"?clearTimeout:void 0,Th=typeof Promise=="function"?Promise:void 0,Ak=typeof queueMicrotask=="function"?queueMicrotask:typeof Th<"u"?function(i){return Th.resolve(null).then(i).catch(Dk)}:mc;function Dk(i){setTimeout(function(){throw i})}function gc(i,s){var u=s,d=0;do{var h=u.nextSibling;if(i.removeChild(u),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(d===0){i.removeChild(h),Ko(s);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=h}while(u);Ko(s)}function Er(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Mh(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),An="__reactFiber$"+Zi,rs="__reactProps$"+Zi,Qn="__reactContainer$"+Zi,yc="__reactEvents$"+Zi,Rk="__reactListeners$"+Zi,Pk="__reactHandles$"+Zi;function hi(i){var s=i[An];if(s)return s;for(var u=i.parentNode;u;){if(s=u[Qn]||u[An]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=Mh(i);i!==null;){if(u=i[An])return u;i=Mh(i)}return s}i=u,u=i.parentNode}return null}function is(i){return i=i[An]||i[Qn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function eo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Nl(i){return i[rs]||null}var vc=[],to=-1;function Tr(i){return{current:i}}function Fe(i){0>to||(i.current=vc[to],vc[to]=null,to--)}function ze(i,s){to++,vc[to]=i.current,i.current=s}var Mr={},kt=Tr(Mr),It=Tr(!1),mi=Mr;function no(i,s){var u=i.type.contextTypes;if(!u)return Mr;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var h={},g;for(g in u)h[g]=s[g];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=h),h}function Lt(i){return i=i.childContextTypes,i!=null}function Al(){Fe(It),Fe(kt)}function Oh(i,s,u){if(kt.current!==Mr)throw Error(t(168));ze(kt,s),ze(It,u)}function bh(i,s,u){var d=i.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var h in d)if(!(h in s))throw Error(t(108,Oe(i)||"Unknown",h));return K({},u,d)}function Dl(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Mr,mi=kt.current,ze(kt,i),ze(It,It.current),!0}function Nh(i,s,u){var d=i.stateNode;if(!d)throw Error(t(169));u?(i=bh(i,s,mi),d.__reactInternalMemoizedMergedChildContext=i,Fe(It),Fe(kt),ze(kt,i)):Fe(It),ze(It,u)}var Gn=null,Rl=!1,kc=!1;function Ah(i){Gn===null?Gn=[i]:Gn.push(i)}function Ik(i){Rl=!0,Ah(i)}function Or(){if(!kc&&Gn!==null){kc=!0;var i=0,s=Ie;try{var u=Gn;for(Ie=1;i<u.length;i++){var d=u[i];do d=d(!0);while(d!==null)}Gn=null,Rl=!1}catch(h){throw Gn!==null&&(Gn=Gn.slice(i+1)),Rp(Hu,Or),h}finally{Ie=s,kc=!1}}return null}var ro=[],io=0,Pl=null,Il=0,Zt=[],en=0,gi=null,Yn=1,Xn="";function yi(i,s){ro[io++]=Il,ro[io++]=Pl,Pl=i,Il=s}function Dh(i,s,u){Zt[en++]=Yn,Zt[en++]=Xn,Zt[en++]=gi,gi=i;var d=Yn;i=Xn;var h=32-gn(d)-1;d&=~(1<<h),u+=1;var g=32-gn(s)+h;if(30<g){var w=h-h%5;g=(d&(1<<w)-1).toString(32),d>>=w,h-=w,Yn=1<<32-gn(s)+h|u<<h|d,Xn=g+i}else Yn=1<<g|u<<h|d,Xn=i}function Sc(i){i.return!==null&&(yi(i,1),Dh(i,1,0))}function wc(i){for(;i===Pl;)Pl=ro[--io],ro[io]=null,Il=ro[--io],ro[io]=null;for(;i===gi;)gi=Zt[--en],Zt[en]=null,Xn=Zt[--en],Zt[en]=null,Yn=Zt[--en],Zt[en]=null}var qt=null,Jt=null,Ve=!1,vn=null;function Rh(i,s){var u=on(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function Ph(i,s){switch(i.tag){case 5:var u=i.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,qt=i,Jt=Er(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,qt=i,Jt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=gi!==null?{id:Yn,overflow:Xn}:null,i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=on(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,qt=i,Jt=null,!0):!1;default:return!1}}function xc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Cc(i){if(Ve){var s=Jt;if(s){var u=s;if(!Ph(i,s)){if(xc(i))throw Error(t(418));s=Er(u.nextSibling);var d=qt;s&&Ph(i,s)?Rh(d,u):(i.flags=i.flags&-4097|2,Ve=!1,qt=i)}}else{if(xc(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ve=!1,qt=i}}}function Ih(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;qt=i}function Ll(i){if(i!==qt)return!1;if(!Ve)return Ih(i),Ve=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!hc(i.type,i.memoizedProps)),s&&(s=Jt)){if(xc(i))throw Lh(),Error(t(418));for(;s;)Rh(i,s),s=Er(s.nextSibling)}if(Ih(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(s===0){Jt=Er(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}i=i.nextSibling}Jt=null}}else Jt=qt?Er(i.stateNode.nextSibling):null;return!0}function Lh(){for(var i=Jt;i;)i=Er(i.nextSibling)}function oo(){Jt=qt=null,Ve=!1}function Ec(i){vn===null?vn=[i]:vn.push(i)}var Lk=T.ReactCurrentBatchConfig;function ss(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var d=u.stateNode}if(!d)throw Error(t(147,i));var h=d,g=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var E=h.refs;w===null?delete E[g]:E[g]=w},s._stringRef=g,s)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function zl(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function zh(i){var s=i._init;return s(i._payload)}function Bh(i){function s(A,O){if(i){var D=A.deletions;D===null?(A.deletions=[O],A.flags|=16):D.push(O)}}function u(A,O){if(!i)return null;for(;O!==null;)s(A,O),O=O.sibling;return null}function d(A,O){for(A=new Map;O!==null;)O.key!==null?A.set(O.key,O):A.set(O.index,O),O=O.sibling;return A}function h(A,O){return A=Lr(A,O),A.index=0,A.sibling=null,A}function g(A,O,D){return A.index=D,i?(D=A.alternate,D!==null?(D=D.index,D<O?(A.flags|=2,O):D):(A.flags|=2,O)):(A.flags|=1048576,O)}function w(A){return i&&A.alternate===null&&(A.flags|=2),A}function E(A,O,D,W){return O===null||O.tag!==6?(O=gf(D,A.mode,W),O.return=A,O):(O=h(O,D),O.return=A,O)}function M(A,O,D,W){var re=D.type;return re===Q?F(A,O,D.props.children,W,D.key):O!==null&&(O.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Ce&&zh(re)===O.type)?(W=h(O,D.props),W.ref=ss(A,O,D),W.return=A,W):(W=sa(D.type,D.key,D.props,null,A.mode,W),W.ref=ss(A,O,D),W.return=A,W)}function R(A,O,D,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==D.containerInfo||O.stateNode.implementation!==D.implementation?(O=yf(D,A.mode,W),O.return=A,O):(O=h(O,D.children||[]),O.return=A,O)}function F(A,O,D,W,re){return O===null||O.tag!==7?(O=Ti(D,A.mode,W,re),O.return=A,O):(O=h(O,D),O.return=A,O)}function V(A,O,D){if(typeof O=="string"&&O!==""||typeof O=="number")return O=gf(""+O,A.mode,D),O.return=A,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case H:return D=sa(O.type,O.key,O.props,null,A.mode,D),D.ref=ss(A,null,O),D.return=A,D;case P:return O=yf(O,A.mode,D),O.return=A,O;case Ce:var W=O._init;return V(A,W(O._payload),D)}if(Mt(O)||ne(O))return O=Ti(O,A.mode,D,null),O.return=A,O;zl(A,O)}return null}function B(A,O,D,W){var re=O!==null?O.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return re!==null?null:E(A,O,""+D,W);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return D.key===re?M(A,O,D,W):null;case P:return D.key===re?R(A,O,D,W):null;case Ce:return re=D._init,B(A,O,re(D._payload),W)}if(Mt(D)||ne(D))return re!==null?null:F(A,O,D,W,null);zl(A,D)}return null}function J(A,O,D,W,re){if(typeof W=="string"&&W!==""||typeof W=="number")return A=A.get(D)||null,E(O,A,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case H:return A=A.get(W.key===null?D:W.key)||null,M(O,A,W,re);case P:return A=A.get(W.key===null?D:W.key)||null,R(O,A,W,re);case Ce:var se=W._init;return J(A,O,D,se(W._payload),re)}if(Mt(W)||ne(W))return A=A.get(D)||null,F(O,A,W,re,null);zl(O,W)}return null}function X(A,O,D,W){for(var re=null,se=null,le=O,fe=O=0,it=null;le!==null&&fe<D.length;fe++){le.index>fe?(it=le,le=null):it=le.sibling;var Ae=B(A,le,D[fe],W);if(Ae===null){le===null&&(le=it);break}i&&le&&Ae.alternate===null&&s(A,le),O=g(Ae,O,fe),se===null?re=Ae:se.sibling=Ae,se=Ae,le=it}if(fe===D.length)return u(A,le),Ve&&yi(A,fe),re;if(le===null){for(;fe<D.length;fe++)le=V(A,D[fe],W),le!==null&&(O=g(le,O,fe),se===null?re=le:se.sibling=le,se=le);return Ve&&yi(A,fe),re}for(le=d(A,le);fe<D.length;fe++)it=J(le,A,fe,D[fe],W),it!==null&&(i&&it.alternate!==null&&le.delete(it.key===null?fe:it.key),O=g(it,O,fe),se===null?re=it:se.sibling=it,se=it);return i&&le.forEach(function(zr){return s(A,zr)}),Ve&&yi(A,fe),re}function te(A,O,D,W){var re=ne(D);if(typeof re!="function")throw Error(t(150));if(D=re.call(D),D==null)throw Error(t(151));for(var se=re=null,le=O,fe=O=0,it=null,Ae=D.next();le!==null&&!Ae.done;fe++,Ae=D.next()){le.index>fe?(it=le,le=null):it=le.sibling;var zr=B(A,le,Ae.value,W);if(zr===null){le===null&&(le=it);break}i&&le&&zr.alternate===null&&s(A,le),O=g(zr,O,fe),se===null?re=zr:se.sibling=zr,se=zr,le=it}if(Ae.done)return u(A,le),Ve&&yi(A,fe),re;if(le===null){for(;!Ae.done;fe++,Ae=D.next())Ae=V(A,Ae.value,W),Ae!==null&&(O=g(Ae,O,fe),se===null?re=Ae:se.sibling=Ae,se=Ae);return Ve&&yi(A,fe),re}for(le=d(A,le);!Ae.done;fe++,Ae=D.next())Ae=J(le,A,fe,Ae.value,W),Ae!==null&&(i&&Ae.alternate!==null&&le.delete(Ae.key===null?fe:Ae.key),O=g(Ae,O,fe),se===null?re=Ae:se.sibling=Ae,se=Ae);return i&&le.forEach(function(hS){return s(A,hS)}),Ve&&yi(A,fe),re}function Je(A,O,D,W){if(typeof D=="object"&&D!==null&&D.type===Q&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case H:e:{for(var re=D.key,se=O;se!==null;){if(se.key===re){if(re=D.type,re===Q){if(se.tag===7){u(A,se.sibling),O=h(se,D.props.children),O.return=A,A=O;break e}}else if(se.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Ce&&zh(re)===se.type){u(A,se.sibling),O=h(se,D.props),O.ref=ss(A,se,D),O.return=A,A=O;break e}u(A,se);break}else s(A,se);se=se.sibling}D.type===Q?(O=Ti(D.props.children,A.mode,W,D.key),O.return=A,A=O):(W=sa(D.type,D.key,D.props,null,A.mode,W),W.ref=ss(A,O,D),W.return=A,A=W)}return w(A);case P:e:{for(se=D.key;O!==null;){if(O.key===se)if(O.tag===4&&O.stateNode.containerInfo===D.containerInfo&&O.stateNode.implementation===D.implementation){u(A,O.sibling),O=h(O,D.children||[]),O.return=A,A=O;break e}else{u(A,O);break}else s(A,O);O=O.sibling}O=yf(D,A.mode,W),O.return=A,A=O}return w(A);case Ce:return se=D._init,Je(A,O,se(D._payload),W)}if(Mt(D))return X(A,O,D,W);if(ne(D))return te(A,O,D,W);zl(A,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,O!==null&&O.tag===6?(u(A,O.sibling),O=h(O,D),O.return=A,A=O):(u(A,O),O=gf(D,A.mode,W),O.return=A,A=O),w(A)):u(A,O)}return Je}var so=Bh(!0),Fh=Bh(!1),Bl=Tr(null),Fl=null,lo=null,Tc=null;function Mc(){Tc=lo=Fl=null}function Oc(i){var s=Bl.current;Fe(Bl),i._currentValue=s}function bc(i,s,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===u)break;i=i.return}}function ao(i,s){Fl=i,Tc=lo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(zt=!0),i.firstContext=null)}function tn(i){var s=i._currentValue;if(Tc!==i)if(i={context:i,memoizedValue:s,next:null},lo===null){if(Fl===null)throw Error(t(308));lo=i,Fl.dependencies={lanes:0,firstContext:i}}else lo=lo.next=i;return s}var vi=null;function Nc(i){vi===null?vi=[i]:vi.push(i)}function _h(i,s,u,d){var h=s.interleaved;return h===null?(u.next=u,Nc(s)):(u.next=h.next,h.next=u),s.interleaved=u,Zn(i,d)}function Zn(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}var br=!1;function Ac(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function er(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Nr(i,s,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Ne&2)!==0){var h=d.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),d.pending=s,Zn(i,u)}return h=d.interleaved,h===null?(s.next=s,Nc(d)):(s.next=h.next,h.next=s),d.interleaved=s,Zn(i,u)}function _l(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var d=s.lanes;d&=i.pendingLanes,u|=d,s.lanes=u,Wu(i,u)}}function Hh(i,s){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var h=null,g=null;if(u=u.firstBaseUpdate,u!==null){do{var w={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};g===null?h=g=w:g=g.next=w,u=u.next}while(u!==null);g===null?h=g=s:g=g.next=s}else h=g=s;u={baseState:d.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:d.shared,effects:d.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function Vl(i,s,u,d){var h=i.updateQueue;br=!1;var g=h.firstBaseUpdate,w=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var M=E,R=M.next;M.next=null,w===null?g=R:w.next=R,w=M;var F=i.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==w&&(E===null?F.firstBaseUpdate=R:E.next=R,F.lastBaseUpdate=M))}if(g!==null){var V=h.baseState;w=0,F=R=M=null,E=g;do{var B=E.lane,J=E.eventTime;if((d&B)===B){F!==null&&(F=F.next={eventTime:J,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var X=i,te=E;switch(B=s,J=u,te.tag){case 1:if(X=te.payload,typeof X=="function"){V=X.call(J,V,B);break e}V=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=te.payload,B=typeof X=="function"?X.call(J,V,B):X,B==null)break e;V=K({},V,B);break e;case 2:br=!0}}E.callback!==null&&E.lane!==0&&(i.flags|=64,B=h.effects,B===null?h.effects=[E]:B.push(E))}else J={eventTime:J,lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(R=F=J,M=V):F=F.next=J,w|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);if(F===null&&(M=V),h.baseState=M,h.firstBaseUpdate=R,h.lastBaseUpdate=F,s=h.shared.interleaved,s!==null){h=s;do w|=h.lane,h=h.next;while(h!==s)}else g===null&&(h.shared.lanes=0);wi|=w,i.lanes=w,i.memoizedState=V}}function jh(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var d=i[s],h=d.callback;if(h!==null){if(d.callback=null,d=u,typeof h!="function")throw Error(t(191,h));h.call(d)}}}var ls={},Dn=Tr(ls),as=Tr(ls),us=Tr(ls);function ki(i){if(i===ls)throw Error(t(174));return i}function Dc(i,s){switch(ze(us,s),ze(as,i),ze(Dn,ls),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yr(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=yr(s,i)}Fe(Dn),ze(Dn,s)}function uo(){Fe(Dn),Fe(as),Fe(us)}function $h(i){ki(us.current);var s=ki(Dn.current),u=yr(s,i.type);s!==u&&(ze(as,i),ze(Dn,u))}function Rc(i){as.current===i&&(Fe(Dn),Fe(as))}var He=Tr(0);function Hl(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Pc=[];function Ic(){for(var i=0;i<Pc.length;i++)Pc[i]._workInProgressVersionPrimary=null;Pc.length=0}var jl=T.ReactCurrentDispatcher,Lc=T.ReactCurrentBatchConfig,Si=0,je=null,Xe=null,nt=null,$l=!1,cs=!1,fs=0,zk=0;function St(){throw Error(t(321))}function zc(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!yn(i[u],s[u]))return!1;return!0}function Bc(i,s,u,d,h,g){if(Si=g,je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,jl.current=i===null||i.memoizedState===null?Vk:Hk,i=u(d,h),cs){g=0;do{if(cs=!1,fs=0,25<=g)throw Error(t(301));g+=1,nt=Xe=null,s.updateQueue=null,jl.current=jk,i=u(d,h)}while(cs)}if(jl.current=Kl,s=Xe!==null&&Xe.next!==null,Si=0,nt=Xe=je=null,$l=!1,s)throw Error(t(300));return i}function Fc(){var i=fs!==0;return fs=0,i}function Rn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?je.memoizedState=nt=i:nt=nt.next=i,nt}function nn(){if(Xe===null){var i=je.alternate;i=i!==null?i.memoizedState:null}else i=Xe.next;var s=nt===null?je.memoizedState:nt.next;if(s!==null)nt=s,Xe=i;else{if(i===null)throw Error(t(310));Xe=i,i={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},nt===null?je.memoizedState=nt=i:nt=nt.next=i}return nt}function ds(i,s){return typeof s=="function"?s(i):s}function _c(i){var s=nn(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var d=Xe,h=d.baseQueue,g=u.pending;if(g!==null){if(h!==null){var w=h.next;h.next=g.next,g.next=w}d.baseQueue=h=g,u.pending=null}if(h!==null){g=h.next,d=d.baseState;var E=w=null,M=null,R=g;do{var F=R.lane;if((Si&F)===F)M!==null&&(M=M.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),d=R.hasEagerState?R.eagerState:i(d,R.action);else{var V={lane:F,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};M===null?(E=M=V,w=d):M=M.next=V,je.lanes|=F,wi|=F}R=R.next}while(R!==null&&R!==g);M===null?w=d:M.next=E,yn(d,s.memoizedState)||(zt=!0),s.memoizedState=d,s.baseState=w,s.baseQueue=M,u.lastRenderedState=d}if(i=u.interleaved,i!==null){h=i;do g=h.lane,je.lanes|=g,wi|=g,h=h.next;while(h!==i)}else h===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function Vc(i){var s=nn(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var d=u.dispatch,h=u.pending,g=s.memoizedState;if(h!==null){u.pending=null;var w=h=h.next;do g=i(g,w.action),w=w.next;while(w!==h);yn(g,s.memoizedState)||(zt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),u.lastRenderedState=g}return[g,d]}function Wh(){}function Uh(i,s){var u=je,d=nn(),h=s(),g=!yn(d.memoizedState,h);if(g&&(d.memoizedState=h,zt=!0),d=d.queue,Hc(Jh.bind(null,u,d,i),[i]),d.getSnapshot!==s||g||nt!==null&&nt.memoizedState.tag&1){if(u.flags|=2048,ps(9,qh.bind(null,u,d,h,s),void 0,null),rt===null)throw Error(t(349));(Si&30)!==0||Kh(u,s,h)}return h}function Kh(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=je.updateQueue,s===null?(s={lastEffect:null,stores:null},je.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function qh(i,s,u,d){s.value=u,s.getSnapshot=d,Qh(s)&&Gh(i)}function Jh(i,s,u){return u(function(){Qh(s)&&Gh(i)})}function Qh(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!yn(i,u)}catch{return!0}}function Gh(i){var s=Zn(i,1);s!==null&&xn(s,i,1,-1)}function Yh(i){var s=Rn();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:i},s.queue=i,i=i.dispatch=_k.bind(null,je,i),[s.memoizedState,i]}function ps(i,s,u,d){return i={tag:i,create:s,destroy:u,deps:d,next:null},s=je.updateQueue,s===null?(s={lastEffect:null,stores:null},je.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,s.lastEffect=i)),i}function Xh(){return nn().memoizedState}function Wl(i,s,u,d){var h=Rn();je.flags|=i,h.memoizedState=ps(1|s,u,void 0,d===void 0?null:d)}function Ul(i,s,u,d){var h=nn();d=d===void 0?null:d;var g=void 0;if(Xe!==null){var w=Xe.memoizedState;if(g=w.destroy,d!==null&&zc(d,w.deps)){h.memoizedState=ps(s,u,g,d);return}}je.flags|=i,h.memoizedState=ps(1|s,u,g,d)}function Zh(i,s){return Wl(8390656,8,i,s)}function Hc(i,s){return Ul(2048,8,i,s)}function em(i,s){return Ul(4,2,i,s)}function tm(i,s){return Ul(4,4,i,s)}function nm(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function rm(i,s,u){return u=u!=null?u.concat([i]):null,Ul(4,4,nm.bind(null,s,i),u)}function jc(){}function im(i,s){var u=nn();s=s===void 0?null:s;var d=u.memoizedState;return d!==null&&s!==null&&zc(s,d[1])?d[0]:(u.memoizedState=[i,s],i)}function om(i,s){var u=nn();s=s===void 0?null:s;var d=u.memoizedState;return d!==null&&s!==null&&zc(s,d[1])?d[0]:(i=i(),u.memoizedState=[i,s],i)}function sm(i,s,u){return(Si&21)===0?(i.baseState&&(i.baseState=!1,zt=!0),i.memoizedState=u):(yn(u,s)||(u=zp(),je.lanes|=u,wi|=u,i.baseState=!0),s)}function Bk(i,s){var u=Ie;Ie=u!==0&&4>u?u:4,i(!0);var d=Lc.transition;Lc.transition={};try{i(!1),s()}finally{Ie=u,Lc.transition=d}}function lm(){return nn().memoizedState}function Fk(i,s,u){var d=Pr(i);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},am(i))um(s,u);else if(u=_h(i,s,u,d),u!==null){var h=Nt();xn(u,i,d,h),cm(u,s,d)}}function _k(i,s,u){var d=Pr(i),h={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(am(i))um(s,h);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,E=g(w,u);if(h.hasEagerState=!0,h.eagerState=E,yn(E,w)){var M=s.interleaved;M===null?(h.next=h,Nc(s)):(h.next=M.next,M.next=h),s.interleaved=h;return}}catch{}finally{}u=_h(i,s,h,d),u!==null&&(h=Nt(),xn(u,i,d,h),cm(u,s,d))}}function am(i){var s=i.alternate;return i===je||s!==null&&s===je}function um(i,s){cs=$l=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function cm(i,s,u){if((u&4194240)!==0){var d=s.lanes;d&=i.pendingLanes,u|=d,s.lanes=u,Wu(i,u)}}var Kl={readContext:tn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},Vk={readContext:tn,useCallback:function(i,s){return Rn().memoizedState=[i,s===void 0?null:s],i},useContext:tn,useEffect:Zh,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,Wl(4194308,4,nm.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Wl(4194308,4,i,s)},useInsertionEffect:function(i,s){return Wl(4,2,i,s)},useMemo:function(i,s){var u=Rn();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var d=Rn();return s=u!==void 0?u(s):s,d.memoizedState=d.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},d.queue=i,i=i.dispatch=Fk.bind(null,je,i),[d.memoizedState,i]},useRef:function(i){var s=Rn();return i={current:i},s.memoizedState=i},useState:Yh,useDebugValue:jc,useDeferredValue:function(i){return Rn().memoizedState=i},useTransition:function(){var i=Yh(!1),s=i[0];return i=Bk.bind(null,i[1]),Rn().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var d=je,h=Rn();if(Ve){if(u===void 0)throw Error(t(407));u=u()}else{if(u=s(),rt===null)throw Error(t(349));(Si&30)!==0||Kh(d,s,u)}h.memoizedState=u;var g={value:u,getSnapshot:s};return h.queue=g,Zh(Jh.bind(null,d,g,i),[i]),d.flags|=2048,ps(9,qh.bind(null,d,g,u,s),void 0,null),u},useId:function(){var i=Rn(),s=rt.identifierPrefix;if(Ve){var u=Xn,d=Yn;u=(d&~(1<<32-gn(d)-1)).toString(32)+u,s=":"+s+"R"+u,u=fs++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=zk++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Hk={readContext:tn,useCallback:im,useContext:tn,useEffect:Hc,useImperativeHandle:rm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:om,useReducer:_c,useRef:Xh,useState:function(){return _c(ds)},useDebugValue:jc,useDeferredValue:function(i){var s=nn();return sm(s,Xe.memoizedState,i)},useTransition:function(){var i=_c(ds)[0],s=nn().memoizedState;return[i,s]},useMutableSource:Wh,useSyncExternalStore:Uh,useId:lm,unstable_isNewReconciler:!1},jk={readContext:tn,useCallback:im,useContext:tn,useEffect:Hc,useImperativeHandle:rm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:om,useReducer:Vc,useRef:Xh,useState:function(){return Vc(ds)},useDebugValue:jc,useDeferredValue:function(i){var s=nn();return Xe===null?s.memoizedState=i:sm(s,Xe.memoizedState,i)},useTransition:function(){var i=Vc(ds)[0],s=nn().memoizedState;return[i,s]},useMutableSource:Wh,useSyncExternalStore:Uh,useId:lm,unstable_isNewReconciler:!1};function kn(i,s){if(i&&i.defaultProps){s=K({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}function $c(i,s,u,d){s=i.memoizedState,u=u(d,s),u=u==null?s:K({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var ql={isMounted:function(i){return(i=i._reactInternals)?pi(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var d=Nt(),h=Pr(i),g=er(d,h);g.payload=s,u!=null&&(g.callback=u),s=Nr(i,g,h),s!==null&&(xn(s,i,h,d),_l(s,i,h))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var d=Nt(),h=Pr(i),g=er(d,h);g.tag=1,g.payload=s,u!=null&&(g.callback=u),s=Nr(i,g,h),s!==null&&(xn(s,i,h,d),_l(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Nt(),d=Pr(i),h=er(u,d);h.tag=2,s!=null&&(h.callback=s),s=Nr(i,h,d),s!==null&&(xn(s,i,d,u),_l(s,i,d))}};function fm(i,s,u,d,h,g,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,g,w):s.prototype&&s.prototype.isPureReactComponent?!Xo(u,d)||!Xo(h,g):!0}function dm(i,s,u){var d=!1,h=Mr,g=s.contextType;return typeof g=="object"&&g!==null?g=tn(g):(h=Lt(s)?mi:kt.current,d=s.contextTypes,g=(d=d!=null)?no(i,h):Mr),s=new s(u,g),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ql,i.stateNode=s,s._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=h,i.__reactInternalMemoizedMaskedChildContext=g),s}function pm(i,s,u,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,d),s.state!==i&&ql.enqueueReplaceState(s,s.state,null)}function Wc(i,s,u,d){var h=i.stateNode;h.props=u,h.state=i.memoizedState,h.refs={},Ac(i);var g=s.contextType;typeof g=="object"&&g!==null?h.context=tn(g):(g=Lt(s)?mi:kt.current,h.context=no(i,g)),h.state=i.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&($c(i,s,g,u),h.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&ql.enqueueReplaceState(h,h.state,null),Vl(i,u,h,d),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308)}function co(i,s){try{var u="",d=s;do u+=me(d),d=d.return;while(d);var h=u}catch(g){h=`
Error generating stack: `+g.message+`
`+g.stack}return{value:i,source:s,stack:h,digest:null}}function Uc(i,s,u){return{value:i,source:null,stack:u??null,digest:s??null}}function Kc(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var $k=typeof WeakMap=="function"?WeakMap:Map;function hm(i,s,u){u=er(-1,u),u.tag=3,u.payload={element:null};var d=s.value;return u.callback=function(){ea||(ea=!0,af=d),Kc(i,s)},u}function mm(i,s,u){u=er(-1,u),u.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var h=s.value;u.payload=function(){return d(h)},u.callback=function(){Kc(i,s)}}var g=i.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(u.callback=function(){Kc(i,s),typeof d!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),u}function gm(i,s,u){var d=i.pingCache;if(d===null){d=i.pingCache=new $k;var h=new Set;d.set(s,h)}else h=d.get(s),h===void 0&&(h=new Set,d.set(s,h));h.has(u)||(h.add(u),i=rS.bind(null,i,s,u),s.then(i,i))}function ym(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function vm(i,s,u,d,h){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=er(-1,1),s.tag=2,Nr(u,s,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=h,i)}var Wk=T.ReactCurrentOwner,zt=!1;function bt(i,s,u,d){s.child=i===null?Fh(s,null,u,d):so(s,i.child,u,d)}function km(i,s,u,d,h){u=u.render;var g=s.ref;return ao(s,h),d=Bc(i,s,u,d,g,h),u=Fc(),i!==null&&!zt?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~h,tr(i,s,h)):(Ve&&u&&Sc(s),s.flags|=1,bt(i,s,d,h),s.child)}function Sm(i,s,u,d,h){if(i===null){var g=u.type;return typeof g=="function"&&!mf(g)&&g.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=g,wm(i,s,g,d,h)):(i=sa(u.type,null,d,s,s.mode,h),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,(i.lanes&h)===0){var w=g.memoizedProps;if(u=u.compare,u=u!==null?u:Xo,u(w,d)&&i.ref===s.ref)return tr(i,s,h)}return s.flags|=1,i=Lr(g,d),i.ref=s.ref,i.return=s,s.child=i}function wm(i,s,u,d,h){if(i!==null){var g=i.memoizedProps;if(Xo(g,d)&&i.ref===s.ref)if(zt=!1,s.pendingProps=d=g,(i.lanes&h)!==0)(i.flags&131072)!==0&&(zt=!0);else return s.lanes=i.lanes,tr(i,s,h)}return qc(i,s,u,d,h)}function xm(i,s,u){var d=s.pendingProps,h=d.children,g=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(po,Qt),Qt|=u;else{if((u&1073741824)===0)return i=g!==null?g.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,ze(po,Qt),Qt|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:u,ze(po,Qt),Qt|=d}else g!==null?(d=g.baseLanes|u,s.memoizedState=null):d=u,ze(po,Qt),Qt|=d;return bt(i,s,h,u),s.child}function Cm(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function qc(i,s,u,d,h){var g=Lt(u)?mi:kt.current;return g=no(s,g),ao(s,h),u=Bc(i,s,u,d,g,h),d=Fc(),i!==null&&!zt?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~h,tr(i,s,h)):(Ve&&d&&Sc(s),s.flags|=1,bt(i,s,u,h),s.child)}function Em(i,s,u,d,h){if(Lt(u)){var g=!0;Dl(s)}else g=!1;if(ao(s,h),s.stateNode===null)Ql(i,s),dm(s,u,d),Wc(s,u,d,h),d=!0;else if(i===null){var w=s.stateNode,E=s.memoizedProps;w.props=E;var M=w.context,R=u.contextType;typeof R=="object"&&R!==null?R=tn(R):(R=Lt(u)?mi:kt.current,R=no(s,R));var F=u.getDerivedStateFromProps,V=typeof F=="function"||typeof w.getSnapshotBeforeUpdate=="function";V||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==d||M!==R)&&pm(s,w,d,R),br=!1;var B=s.memoizedState;w.state=B,Vl(s,d,w,h),M=s.memoizedState,E!==d||B!==M||It.current||br?(typeof F=="function"&&($c(s,u,F,d),M=s.memoizedState),(E=br||fm(s,u,E,d,B,M,R))?(V||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=M),w.props=d,w.state=M,w.context=R,d=E):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{w=s.stateNode,Vh(i,s),E=s.memoizedProps,R=s.type===s.elementType?E:kn(s.type,E),w.props=R,V=s.pendingProps,B=w.context,M=u.contextType,typeof M=="object"&&M!==null?M=tn(M):(M=Lt(u)?mi:kt.current,M=no(s,M));var J=u.getDerivedStateFromProps;(F=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==V||B!==M)&&pm(s,w,d,M),br=!1,B=s.memoizedState,w.state=B,Vl(s,d,w,h);var X=s.memoizedState;E!==V||B!==X||It.current||br?(typeof J=="function"&&($c(s,u,J,d),X=s.memoizedState),(R=br||fm(s,u,R,d,B,X,M)||!1)?(F||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,X,M),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,X,M)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||E===i.memoizedProps&&B===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&B===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=X),w.props=d,w.state=X,w.context=M,d=R):(typeof w.componentDidUpdate!="function"||E===i.memoizedProps&&B===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&B===i.memoizedState||(s.flags|=1024),d=!1)}return Jc(i,s,u,d,g,h)}function Jc(i,s,u,d,h,g){Cm(i,s);var w=(s.flags&128)!==0;if(!d&&!w)return h&&Nh(s,u,!1),tr(i,s,g);d=s.stateNode,Wk.current=s;var E=w&&typeof u.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,i!==null&&w?(s.child=so(s,i.child,null,g),s.child=so(s,null,E,g)):bt(i,s,E,g),s.memoizedState=d.state,h&&Nh(s,u,!0),s.child}function Tm(i){var s=i.stateNode;s.pendingContext?Oh(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Oh(i,s.context,!1),Dc(i,s.containerInfo)}function Mm(i,s,u,d,h){return oo(),Ec(h),s.flags|=256,bt(i,s,u,d),s.child}var Qc={dehydrated:null,treeContext:null,retryLane:0};function Gc(i){return{baseLanes:i,cachePool:null,transitions:null}}function Om(i,s,u){var d=s.pendingProps,h=He.current,g=!1,w=(s.flags&128)!==0,E;if((E=w)||(E=i!==null&&i.memoizedState===null?!1:(h&2)!==0),E?(g=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(h|=1),ze(He,h&1),i===null)return Cc(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=d.children,i=d.fallback,g?(d=s.mode,g=s.child,w={mode:"hidden",children:w},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=la(w,d,0,null),i=Ti(i,d,u,null),g.return=s,i.return=s,g.sibling=i,s.child=g,s.child.memoizedState=Gc(u),s.memoizedState=Qc,i):Yc(s,w));if(h=i.memoizedState,h!==null&&(E=h.dehydrated,E!==null))return Uk(i,s,w,d,E,h,u);if(g){g=d.fallback,w=s.mode,h=i.child,E=h.sibling;var M={mode:"hidden",children:d.children};return(w&1)===0&&s.child!==h?(d=s.child,d.childLanes=0,d.pendingProps=M,s.deletions=null):(d=Lr(h,M),d.subtreeFlags=h.subtreeFlags&14680064),E!==null?g=Lr(E,g):(g=Ti(g,w,u,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,w=i.child.memoizedState,w=w===null?Gc(u):{baseLanes:w.baseLanes|u,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=i.childLanes&~u,s.memoizedState=Qc,d}return g=i.child,i=g.sibling,d=Lr(g,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=u),d.return=s,d.sibling=null,i!==null&&(u=s.deletions,u===null?(s.deletions=[i],s.flags|=16):u.push(i)),s.child=d,s.memoizedState=null,d}function Yc(i,s){return s=la({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Jl(i,s,u,d){return d!==null&&Ec(d),so(s,i.child,null,u),i=Yc(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Uk(i,s,u,d,h,g,w){if(u)return s.flags&256?(s.flags&=-257,d=Uc(Error(t(422))),Jl(i,s,w,d)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(g=d.fallback,h=s.mode,d=la({mode:"visible",children:d.children},h,0,null),g=Ti(g,h,w,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,(s.mode&1)!==0&&so(s,i.child,null,w),s.child.memoizedState=Gc(w),s.memoizedState=Qc,g);if((s.mode&1)===0)return Jl(i,s,w,null);if(h.data==="$!"){if(d=h.nextSibling&&h.nextSibling.dataset,d)var E=d.dgst;return d=E,g=Error(t(419)),d=Uc(g,d,void 0),Jl(i,s,w,d)}if(E=(w&i.childLanes)!==0,zt||E){if(d=rt,d!==null){switch(w&-w){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(d.suspendedLanes|w))!==0?0:h,h!==0&&h!==g.retryLane&&(g.retryLane=h,Zn(i,h),xn(d,i,h,-1))}return hf(),d=Uc(Error(t(421))),Jl(i,s,w,d)}return h.data==="$?"?(s.flags|=128,s.child=i.child,s=iS.bind(null,i),h._reactRetry=s,null):(i=g.treeContext,Jt=Er(h.nextSibling),qt=s,Ve=!0,vn=null,i!==null&&(Zt[en++]=Yn,Zt[en++]=Xn,Zt[en++]=gi,Yn=i.id,Xn=i.overflow,gi=s),s=Yc(s,d.children),s.flags|=4096,s)}function bm(i,s,u){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),bc(i.return,s,u)}function Xc(i,s,u,d,h){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=u,g.tailMode=h)}function Nm(i,s,u){var d=s.pendingProps,h=d.revealOrder,g=d.tail;if(bt(i,s,d.children,u),d=He.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bm(i,u,s);else if(i.tag===19)bm(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(ze(He,d),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(u=s.child,h=null;u!==null;)i=u.alternate,i!==null&&Hl(i)===null&&(h=u),u=u.sibling;u=h,u===null?(h=s.child,s.child=null):(h=u.sibling,u.sibling=null),Xc(s,!1,h,u,g);break;case"backwards":for(u=null,h=s.child,s.child=null;h!==null;){if(i=h.alternate,i!==null&&Hl(i)===null){s.child=h;break}i=h.sibling,h.sibling=u,u=h,h=i}Xc(s,!0,u,null,g);break;case"together":Xc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ql(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function tr(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),wi|=s.lanes,(u&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,u=Lr(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Lr(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function Kk(i,s,u){switch(s.tag){case 3:Tm(s),oo();break;case 5:$h(s);break;case 1:Lt(s.type)&&Dl(s);break;case 4:Dc(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,h=s.memoizedProps.value;ze(Bl,d._currentValue),d._currentValue=h;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(ze(He,He.current&1),s.flags|=128,null):(u&s.child.childLanes)!==0?Om(i,s,u):(ze(He,He.current&1),i=tr(i,s,u),i!==null?i.sibling:null);ze(He,He.current&1);break;case 19:if(d=(u&s.childLanes)!==0,(i.flags&128)!==0){if(d)return Nm(i,s,u);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ze(He,He.current),d)break;return null;case 22:case 23:return s.lanes=0,xm(i,s,u)}return tr(i,s,u)}var Am,Zc,Dm,Rm;Am=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Zc=function(){},Dm=function(i,s,u,d){var h=i.memoizedProps;if(h!==d){i=s.stateNode,ki(Dn.current);var g=null;switch(u){case"input":h=pr(i,h),d=pr(i,d),g=[];break;case"select":h=K({},h,{value:void 0}),d=K({},d,{value:void 0}),g=[];break;case"textarea":h=Un(i,h),d=Un(i,d),g=[];break;default:typeof h.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=bl)}ae(u,d);var w;u=null;for(R in h)if(!d.hasOwnProperty(R)&&h.hasOwnProperty(R)&&h[R]!=null)if(R==="style"){var E=h[R];for(w in E)E.hasOwnProperty(w)&&(u||(u={}),u[w]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(o.hasOwnProperty(R)?g||(g=[]):(g=g||[]).push(R,null));for(R in d){var M=d[R];if(E=h!=null?h[R]:void 0,d.hasOwnProperty(R)&&M!==E&&(M!=null||E!=null))if(R==="style")if(E){for(w in E)!E.hasOwnProperty(w)||M&&M.hasOwnProperty(w)||(u||(u={}),u[w]="");for(w in M)M.hasOwnProperty(w)&&E[w]!==M[w]&&(u||(u={}),u[w]=M[w])}else u||(g||(g=[]),g.push(R,u)),u=M;else R==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,E=E?E.__html:void 0,M!=null&&E!==M&&(g=g||[]).push(R,M)):R==="children"?typeof M!="string"&&typeof M!="number"||(g=g||[]).push(R,""+M):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(o.hasOwnProperty(R)?(M!=null&&R==="onScroll"&&Be("scroll",i),g||E===M||(g=[])):(g=g||[]).push(R,M))}u&&(g=g||[]).push("style",u);var R=g;(s.updateQueue=R)&&(s.flags|=4)}},Rm=function(i,s,u,d){u!==d&&(s.flags|=4)};function hs(i,s){if(!Ve)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function wt(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(s)for(var h=i.child;h!==null;)u|=h.lanes|h.childLanes,d|=h.subtreeFlags&14680064,d|=h.flags&14680064,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)u|=h.lanes|h.childLanes,d|=h.subtreeFlags,d|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=d,i.childLanes=u,s}function qk(i,s,u){var d=s.pendingProps;switch(wc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return Lt(s.type)&&Al(),wt(s),null;case 3:return d=s.stateNode,uo(),Fe(It),Fe(kt),Ic(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Ll(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,vn!==null&&(ff(vn),vn=null))),Zc(i,s),wt(s),null;case 5:Rc(s);var h=ki(us.current);if(u=s.type,i!==null&&s.stateNode!=null)Dm(i,s,u,d,h),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return wt(s),null}if(i=ki(Dn.current),Ll(s)){d=s.stateNode,u=s.type;var g=s.memoizedProps;switch(d[An]=s,d[rs]=g,i=(s.mode&1)!==0,u){case"dialog":Be("cancel",d),Be("close",d);break;case"iframe":case"object":case"embed":Be("load",d);break;case"video":case"audio":for(h=0;h<es.length;h++)Be(es[h],d);break;case"source":Be("error",d);break;case"img":case"image":case"link":Be("error",d),Be("load",d);break;case"details":Be("toggle",d);break;case"input":ii(d,g),Be("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},Be("invalid",d);break;case"textarea":On(d,g),Be("invalid",d)}ae(u,g),h=null;for(var w in g)if(g.hasOwnProperty(w)){var E=g[w];w==="children"?typeof E=="string"?d.textContent!==E&&(g.suppressHydrationWarning!==!0&&Ol(d.textContent,E,i),h=["children",E]):typeof E=="number"&&d.textContent!==""+E&&(g.suppressHydrationWarning!==!0&&Ol(d.textContent,E,i),h=["children",""+E]):o.hasOwnProperty(w)&&E!=null&&w==="onScroll"&&Be("scroll",d)}switch(u){case"input":mn(d),oi(d,g,!0);break;case"textarea":mn(d),si(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=bl)}d=h,s.updateQueue=d,d!==null&&(s.flags|=4)}else{w=h.nodeType===9?h:h.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=li(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=w.createElement(u,{is:d.is}):(i=w.createElement(u),u==="select"&&(w=i,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):i=w.createElementNS(i,u),i[An]=s,i[rs]=d,Am(i,s,!1,!1),s.stateNode=i;e:{switch(w=be(u,d),u){case"dialog":Be("cancel",i),Be("close",i),h=d;break;case"iframe":case"object":case"embed":Be("load",i),h=d;break;case"video":case"audio":for(h=0;h<es.length;h++)Be(es[h],i);h=d;break;case"source":Be("error",i),h=d;break;case"img":case"image":case"link":Be("error",i),Be("load",i),h=d;break;case"details":Be("toggle",i),h=d;break;case"input":ii(i,d),h=pr(i,d),Be("invalid",i);break;case"option":h=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},h=K({},d,{value:void 0}),Be("invalid",i);break;case"textarea":On(i,d),h=Un(i,d),Be("invalid",i);break;default:h=d}ae(u,h),E=h;for(g in E)if(E.hasOwnProperty(g)){var M=E[g];g==="style"?I(i,M):g==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&il(i,M)):g==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&ai(i,M):typeof M=="number"&&ai(i,""+M):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?M!=null&&g==="onScroll"&&Be("scroll",i):M!=null&&U(i,g,M,w))}switch(u){case"input":mn(i),oi(i,d,!1);break;case"textarea":mn(i),si(i);break;case"option":d.value!=null&&i.setAttribute("value",""+we(d.value));break;case"select":i.multiple=!!d.multiple,g=d.value,g!=null?Ot(i,!!d.multiple,g,!1):d.defaultValue!=null&&Ot(i,!!d.multiple,d.defaultValue,!0);break;default:typeof h.onClick=="function"&&(i.onclick=bl)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return wt(s),null;case 6:if(i&&s.stateNode!=null)Rm(i,s,i.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(u=ki(us.current),ki(Dn.current),Ll(s)){if(d=s.stateNode,u=s.memoizedProps,d[An]=s,(g=d.nodeValue!==u)&&(i=qt,i!==null))switch(i.tag){case 3:Ol(d.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ol(d.nodeValue,u,(i.mode&1)!==0)}g&&(s.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[An]=s,s.stateNode=d}return wt(s),null;case 13:if(Fe(He),d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ve&&Jt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Lh(),oo(),s.flags|=98560,g=!1;else if(g=Ll(s),d!==null&&d.dehydrated!==null){if(i===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[An]=s}else oo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),g=!1}else vn!==null&&(ff(vn),vn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=u,s):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(He.current&1)!==0?Ze===0&&(Ze=3):hf())),s.updateQueue!==null&&(s.flags|=4),wt(s),null);case 4:return uo(),Zc(i,s),i===null&&ts(s.stateNode.containerInfo),wt(s),null;case 10:return Oc(s.type._context),wt(s),null;case 17:return Lt(s.type)&&Al(),wt(s),null;case 19:if(Fe(He),g=s.memoizedState,g===null)return wt(s),null;if(d=(s.flags&128)!==0,w=g.rendering,w===null)if(d)hs(g,!1);else{if(Ze!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(w=Hl(i),w!==null){for(s.flags|=128,hs(g,!1),d=w.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=u,u=s.child;u!==null;)g=u,i=d,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=i,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,i=w.dependencies,g.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return ze(He,He.current&1|2),s.child}i=i.sibling}g.tail!==null&&qe()>ho&&(s.flags|=128,d=!0,hs(g,!1),s.lanes=4194304)}else{if(!d)if(i=Hl(w),i!==null){if(s.flags|=128,d=!0,u=i.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),hs(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Ve)return wt(s),null}else 2*qe()-g.renderingStartTime>ho&&u!==1073741824&&(s.flags|=128,d=!0,hs(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(u=g.last,u!==null?u.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=qe(),s.sibling=null,u=He.current,ze(He,d?u&1|2:u&1),s):(wt(s),null);case 22:case 23:return pf(),d=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Qt&1073741824)!==0&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Jk(i,s){switch(wc(s),s.tag){case 1:return Lt(s.type)&&Al(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return uo(),Fe(It),Fe(kt),Ic(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Rc(s),null;case 13:if(Fe(He),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));oo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Fe(He),null;case 4:return uo(),null;case 10:return Oc(s.type._context),null;case 22:case 23:return pf(),null;case 24:return null;default:return null}}var Gl=!1,xt=!1,Qk=typeof WeakSet=="function"?WeakSet:Set,Y=null;function fo(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){We(i,s,d)}else u.current=null}function ef(i,s,u){try{u()}catch(d){We(i,s,d)}}var Pm=!1;function Gk(i,s){if(dc=gl,i=fh(),ic(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var h=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{u.nodeType,g.nodeType}catch{u=null;break e}var w=0,E=-1,M=-1,R=0,F=0,V=i,B=null;t:for(;;){for(var J;V!==u||h!==0&&V.nodeType!==3||(E=w+h),V!==g||d!==0&&V.nodeType!==3||(M=w+d),V.nodeType===3&&(w+=V.nodeValue.length),(J=V.firstChild)!==null;)B=V,V=J;for(;;){if(V===i)break t;if(B===u&&++R===h&&(E=w),B===g&&++F===d&&(M=w),(J=V.nextSibling)!==null)break;V=B,B=V.parentNode}V=J}u=E===-1||M===-1?null:{start:E,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(pc={focusedElem:i,selectionRange:u},gl=!1,Y=s;Y!==null;)if(s=Y,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Y=i;else for(;Y!==null;){s=Y;try{var X=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var te=X.memoizedProps,Je=X.memoizedState,A=s.stateNode,O=A.getSnapshotBeforeUpdate(s.elementType===s.type?te:kn(s.type,te),Je);A.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var D=s.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(W){We(s,s.return,W)}if(i=s.sibling,i!==null){i.return=s.return,Y=i;break}Y=s.return}return X=Pm,Pm=!1,X}function ms(i,s,u){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var h=d=d.next;do{if((h.tag&i)===i){var g=h.destroy;h.destroy=void 0,g!==void 0&&ef(s,u,g)}h=h.next}while(h!==d)}}function Yl(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var d=u.create;u.destroy=d()}u=u.next}while(u!==s)}}function tf(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof s=="function"?s(i):s.current=i}}function Im(i){var s=i.alternate;s!==null&&(i.alternate=null,Im(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[An],delete s[rs],delete s[yc],delete s[Rk],delete s[Pk])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Lm(i){return i.tag===5||i.tag===3||i.tag===4}function zm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Lm(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function nf(i,s,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(i,s):u.insertBefore(i,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(i,u)):(s=u,s.appendChild(i)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=bl));else if(d!==4&&(i=i.child,i!==null))for(nf(i,s,u),i=i.sibling;i!==null;)nf(i,s,u),i=i.sibling}function rf(i,s,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(rf(i,s,u),i=i.sibling;i!==null;)rf(i,s,u),i=i.sibling}var ct=null,Sn=!1;function Ar(i,s,u){for(u=u.child;u!==null;)Bm(i,s,u),u=u.sibling}function Bm(i,s,u){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(cl,u)}catch{}switch(u.tag){case 5:xt||fo(u,s);case 6:var d=ct,h=Sn;ct=null,Ar(i,s,u),ct=d,Sn=h,ct!==null&&(Sn?(i=ct,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):ct.removeChild(u.stateNode));break;case 18:ct!==null&&(Sn?(i=ct,u=u.stateNode,i.nodeType===8?gc(i.parentNode,u):i.nodeType===1&&gc(i,u),Ko(i)):gc(ct,u.stateNode));break;case 4:d=ct,h=Sn,ct=u.stateNode.containerInfo,Sn=!0,Ar(i,s,u),ct=d,Sn=h;break;case 0:case 11:case 14:case 15:if(!xt&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){h=d=d.next;do{var g=h,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&ef(u,s,w),h=h.next}while(h!==d)}Ar(i,s,u);break;case 1:if(!xt&&(fo(u,s),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(E){We(u,s,E)}Ar(i,s,u);break;case 21:Ar(i,s,u);break;case 22:u.mode&1?(xt=(d=xt)||u.memoizedState!==null,Ar(i,s,u),xt=d):Ar(i,s,u);break;default:Ar(i,s,u)}}function Fm(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Qk),s.forEach(function(d){var h=oS.bind(null,i,d);u.has(d)||(u.add(d),d.then(h,h))})}}function wn(i,s){var u=s.deletions;if(u!==null)for(var d=0;d<u.length;d++){var h=u[d];try{var g=i,w=s,E=w;e:for(;E!==null;){switch(E.tag){case 5:ct=E.stateNode,Sn=!1;break e;case 3:ct=E.stateNode.containerInfo,Sn=!0;break e;case 4:ct=E.stateNode.containerInfo,Sn=!0;break e}E=E.return}if(ct===null)throw Error(t(160));Bm(g,w,h),ct=null,Sn=!1;var M=h.alternate;M!==null&&(M.return=null),h.return=null}catch(R){We(h,s,R)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)_m(s,i),s=s.sibling}function _m(i,s){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(wn(s,i),Pn(i),d&4){try{ms(3,i,i.return),Yl(3,i)}catch(te){We(i,i.return,te)}try{ms(5,i,i.return)}catch(te){We(i,i.return,te)}}break;case 1:wn(s,i),Pn(i),d&512&&u!==null&&fo(u,u.return);break;case 5:if(wn(s,i),Pn(i),d&512&&u!==null&&fo(u,u.return),i.flags&32){var h=i.stateNode;try{ai(h,"")}catch(te){We(i,i.return,te)}}if(d&4&&(h=i.stateNode,h!=null)){var g=i.memoizedProps,w=u!==null?u.memoizedProps:g,E=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{E==="input"&&g.type==="radio"&&g.name!=null&&hr(h,g),be(E,w);var R=be(E,g);for(w=0;w<M.length;w+=2){var F=M[w],V=M[w+1];F==="style"?I(h,V):F==="dangerouslySetInnerHTML"?il(h,V):F==="children"?ai(h,V):U(h,F,V,R)}switch(E){case"input":Wn(h,g);break;case"textarea":gr(h,g);break;case"select":var B=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!g.multiple;var J=g.value;J!=null?Ot(h,!!g.multiple,J,!1):B!==!!g.multiple&&(g.defaultValue!=null?Ot(h,!!g.multiple,g.defaultValue,!0):Ot(h,!!g.multiple,g.multiple?[]:"",!1))}h[rs]=g}catch(te){We(i,i.return,te)}}break;case 6:if(wn(s,i),Pn(i),d&4){if(i.stateNode===null)throw Error(t(162));h=i.stateNode,g=i.memoizedProps;try{h.nodeValue=g}catch(te){We(i,i.return,te)}}break;case 3:if(wn(s,i),Pn(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Ko(s.containerInfo)}catch(te){We(i,i.return,te)}break;case 4:wn(s,i),Pn(i);break;case 13:wn(s,i),Pn(i),h=i.child,h.flags&8192&&(g=h.memoizedState!==null,h.stateNode.isHidden=g,!g||h.alternate!==null&&h.alternate.memoizedState!==null||(lf=qe())),d&4&&Fm(i);break;case 22:if(F=u!==null&&u.memoizedState!==null,i.mode&1?(xt=(R=xt)||F,wn(s,i),xt=R):wn(s,i),Pn(i),d&8192){if(R=i.memoizedState!==null,(i.stateNode.isHidden=R)&&!F&&(i.mode&1)!==0)for(Y=i,F=i.child;F!==null;){for(V=Y=F;Y!==null;){switch(B=Y,J=B.child,B.tag){case 0:case 11:case 14:case 15:ms(4,B,B.return);break;case 1:fo(B,B.return);var X=B.stateNode;if(typeof X.componentWillUnmount=="function"){d=B,u=B.return;try{s=d,X.props=s.memoizedProps,X.state=s.memoizedState,X.componentWillUnmount()}catch(te){We(d,u,te)}}break;case 5:fo(B,B.return);break;case 22:if(B.memoizedState!==null){jm(V);continue}}J!==null?(J.return=B,Y=J):jm(V)}F=F.sibling}e:for(F=null,V=i;;){if(V.tag===5){if(F===null){F=V;try{h=V.stateNode,R?(g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(E=V.stateNode,M=V.memoizedProps.style,w=M!=null&&M.hasOwnProperty("display")?M.display:null,E.style.display=ol("display",w))}catch(te){We(i,i.return,te)}}}else if(V.tag===6){if(F===null)try{V.stateNode.nodeValue=R?"":V.memoizedProps}catch(te){We(i,i.return,te)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===i)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===i)break e;for(;V.sibling===null;){if(V.return===null||V.return===i)break e;F===V&&(F=null),V=V.return}F===V&&(F=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:wn(s,i),Pn(i),d&4&&Fm(i);break;case 21:break;default:wn(s,i),Pn(i)}}function Pn(i){var s=i.flags;if(s&2){try{e:{for(var u=i.return;u!==null;){if(Lm(u)){var d=u;break e}u=u.return}throw Error(t(160))}switch(d.tag){case 5:var h=d.stateNode;d.flags&32&&(ai(h,""),d.flags&=-33);var g=zm(i);rf(i,g,h);break;case 3:case 4:var w=d.stateNode.containerInfo,E=zm(i);nf(i,E,w);break;default:throw Error(t(161))}}catch(M){We(i,i.return,M)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Yk(i,s,u){Y=i,Vm(i)}function Vm(i,s,u){for(var d=(i.mode&1)!==0;Y!==null;){var h=Y,g=h.child;if(h.tag===22&&d){var w=h.memoizedState!==null||Gl;if(!w){var E=h.alternate,M=E!==null&&E.memoizedState!==null||xt;E=Gl;var R=xt;if(Gl=w,(xt=M)&&!R)for(Y=h;Y!==null;)w=Y,M=w.child,w.tag===22&&w.memoizedState!==null?$m(h):M!==null?(M.return=w,Y=M):$m(h);for(;g!==null;)Y=g,Vm(g),g=g.sibling;Y=h,Gl=E,xt=R}Hm(i)}else(h.subtreeFlags&8772)!==0&&g!==null?(g.return=h,Y=g):Hm(i)}}function Hm(i){for(;Y!==null;){var s=Y;if((s.flags&8772)!==0){var u=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:xt||Yl(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!xt)if(u===null)d.componentDidMount();else{var h=s.elementType===s.type?u.memoizedProps:kn(s.type,u.memoizedProps);d.componentDidUpdate(h,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&jh(s,g,d);break;case 3:var w=s.updateQueue;if(w!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}jh(s,w,u)}break;case 5:var E=s.stateNode;if(u===null&&s.flags&4){u=E;var M=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var R=s.alternate;if(R!==null){var F=R.memoizedState;if(F!==null){var V=F.dehydrated;V!==null&&Ko(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}xt||s.flags&512&&tf(s)}catch(B){We(s,s.return,B)}}if(s===i){Y=null;break}if(u=s.sibling,u!==null){u.return=s.return,Y=u;break}Y=s.return}}function jm(i){for(;Y!==null;){var s=Y;if(s===i){Y=null;break}var u=s.sibling;if(u!==null){u.return=s.return,Y=u;break}Y=s.return}}function $m(i){for(;Y!==null;){var s=Y;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{Yl(4,s)}catch(M){We(s,u,M)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var h=s.return;try{d.componentDidMount()}catch(M){We(s,h,M)}}var g=s.return;try{tf(s)}catch(M){We(s,g,M)}break;case 5:var w=s.return;try{tf(s)}catch(M){We(s,w,M)}}}catch(M){We(s,s.return,M)}if(s===i){Y=null;break}var E=s.sibling;if(E!==null){E.return=s.return,Y=E;break}Y=s.return}}var Xk=Math.ceil,Xl=T.ReactCurrentDispatcher,of=T.ReactCurrentOwner,rn=T.ReactCurrentBatchConfig,Ne=0,rt=null,Qe=null,ft=0,Qt=0,po=Tr(0),Ze=0,gs=null,wi=0,Zl=0,sf=0,ys=null,Bt=null,lf=0,ho=1/0,nr=null,ea=!1,af=null,Dr=null,ta=!1,Rr=null,na=0,vs=0,uf=null,ra=-1,ia=0;function Nt(){return(Ne&6)!==0?qe():ra!==-1?ra:ra=qe()}function Pr(i){return(i.mode&1)===0?1:(Ne&2)!==0&&ft!==0?ft&-ft:Lk.transition!==null?(ia===0&&(ia=zp()),ia):(i=Ie,i!==0||(i=window.event,i=i===void 0?16:Up(i.type)),i)}function xn(i,s,u,d){if(50<vs)throw vs=0,uf=null,Error(t(185));Ho(i,u,d),((Ne&2)===0||i!==rt)&&(i===rt&&((Ne&2)===0&&(Zl|=u),Ze===4&&Ir(i,ft)),Ft(i,d),u===1&&Ne===0&&(s.mode&1)===0&&(ho=qe()+500,Rl&&Or()))}function Ft(i,s){var u=i.callbackNode;L1(i,s);var d=pl(i,i===rt?ft:0);if(d===0)u!==null&&Pp(u),i.callbackNode=null,i.callbackPriority=0;else if(s=d&-d,i.callbackPriority!==s){if(u!=null&&Pp(u),s===1)i.tag===0?Ik(Um.bind(null,i)):Ah(Um.bind(null,i)),Ak(function(){(Ne&6)===0&&Or()}),u=null;else{switch(Bp(d)){case 1:u=Hu;break;case 4:u=Ip;break;case 16:u=ul;break;case 536870912:u=Lp;break;default:u=ul}u=Zm(u,Wm.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function Wm(i,s){if(ra=-1,ia=0,(Ne&6)!==0)throw Error(t(327));var u=i.callbackNode;if(mo()&&i.callbackNode!==u)return null;var d=pl(i,i===rt?ft:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||s)s=oa(i,d);else{s=d;var h=Ne;Ne|=2;var g=qm();(rt!==i||ft!==s)&&(nr=null,ho=qe()+500,Ci(i,s));do try{tS();break}catch(E){Km(i,E)}while(!0);Mc(),Xl.current=g,Ne=h,Qe!==null?s=0:(rt=null,ft=0,s=Ze)}if(s!==0){if(s===2&&(h=ju(i),h!==0&&(d=h,s=cf(i,h))),s===1)throw u=gs,Ci(i,0),Ir(i,d),Ft(i,qe()),u;if(s===6)Ir(i,d);else{if(h=i.current.alternate,(d&30)===0&&!Zk(h)&&(s=oa(i,d),s===2&&(g=ju(i),g!==0&&(d=g,s=cf(i,g))),s===1))throw u=gs,Ci(i,0),Ir(i,d),Ft(i,qe()),u;switch(i.finishedWork=h,i.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Ei(i,Bt,nr);break;case 3:if(Ir(i,d),(d&130023424)===d&&(s=lf+500-qe(),10<s)){if(pl(i,0)!==0)break;if(h=i.suspendedLanes,(h&d)!==d){Nt(),i.pingedLanes|=i.suspendedLanes&h;break}i.timeoutHandle=mc(Ei.bind(null,i,Bt,nr),s);break}Ei(i,Bt,nr);break;case 4:if(Ir(i,d),(d&4194240)===d)break;for(s=i.eventTimes,h=-1;0<d;){var w=31-gn(d);g=1<<w,w=s[w],w>h&&(h=w),d&=~g}if(d=h,d=qe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Xk(d/1960))-d,10<d){i.timeoutHandle=mc(Ei.bind(null,i,Bt,nr),d);break}Ei(i,Bt,nr);break;case 5:Ei(i,Bt,nr);break;default:throw Error(t(329))}}}return Ft(i,qe()),i.callbackNode===u?Wm.bind(null,i):null}function cf(i,s){var u=ys;return i.current.memoizedState.isDehydrated&&(Ci(i,s).flags|=256),i=oa(i,s),i!==2&&(s=Bt,Bt=u,s!==null&&ff(s)),i}function ff(i){Bt===null?Bt=i:Bt.push.apply(Bt,i)}function Zk(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var h=u[d],g=h.getSnapshot;h=h.value;try{if(!yn(g(),h))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ir(i,s){for(s&=~sf,s&=~Zl,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-gn(s),d=1<<u;i[u]=-1,s&=~d}}function Um(i){if((Ne&6)!==0)throw Error(t(327));mo();var s=pl(i,0);if((s&1)===0)return Ft(i,qe()),null;var u=oa(i,s);if(i.tag!==0&&u===2){var d=ju(i);d!==0&&(s=d,u=cf(i,d))}if(u===1)throw u=gs,Ci(i,0),Ir(i,s),Ft(i,qe()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Ei(i,Bt,nr),Ft(i,qe()),null}function df(i,s){var u=Ne;Ne|=1;try{return i(s)}finally{Ne=u,Ne===0&&(ho=qe()+500,Rl&&Or())}}function xi(i){Rr!==null&&Rr.tag===0&&(Ne&6)===0&&mo();var s=Ne;Ne|=1;var u=rn.transition,d=Ie;try{if(rn.transition=null,Ie=1,i)return i()}finally{Ie=d,rn.transition=u,Ne=s,(Ne&6)===0&&Or()}}function pf(){Qt=po.current,Fe(po)}function Ci(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Nk(u)),Qe!==null)for(u=Qe.return;u!==null;){var d=u;switch(wc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Al();break;case 3:uo(),Fe(It),Fe(kt),Ic();break;case 5:Rc(d);break;case 4:uo();break;case 13:Fe(He);break;case 19:Fe(He);break;case 10:Oc(d.type._context);break;case 22:case 23:pf()}u=u.return}if(rt=i,Qe=i=Lr(i.current,null),ft=Qt=s,Ze=0,gs=null,sf=Zl=wi=0,Bt=ys=null,vi!==null){for(s=0;s<vi.length;s++)if(u=vi[s],d=u.interleaved,d!==null){u.interleaved=null;var h=d.next,g=u.pending;if(g!==null){var w=g.next;g.next=h,d.next=w}u.pending=d}vi=null}return i}function Km(i,s){do{var u=Qe;try{if(Mc(),jl.current=Kl,$l){for(var d=je.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}$l=!1}if(Si=0,nt=Xe=je=null,cs=!1,fs=0,of.current=null,u===null||u.return===null){Ze=1,gs=s,Qe=null;break}e:{var g=i,w=u.return,E=u,M=s;if(s=ft,E.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var R=M,F=E,V=F.tag;if((F.mode&1)===0&&(V===0||V===11||V===15)){var B=F.alternate;B?(F.updateQueue=B.updateQueue,F.memoizedState=B.memoizedState,F.lanes=B.lanes):(F.updateQueue=null,F.memoizedState=null)}var J=ym(w);if(J!==null){J.flags&=-257,vm(J,w,E,g,s),J.mode&1&&gm(g,R,s),s=J,M=R;var X=s.updateQueue;if(X===null){var te=new Set;te.add(M),s.updateQueue=te}else X.add(M);break e}else{if((s&1)===0){gm(g,R,s),hf();break e}M=Error(t(426))}}else if(Ve&&E.mode&1){var Je=ym(w);if(Je!==null){(Je.flags&65536)===0&&(Je.flags|=256),vm(Je,w,E,g,s),Ec(co(M,E));break e}}g=M=co(M,E),Ze!==4&&(Ze=2),ys===null?ys=[g]:ys.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var A=hm(g,M,s);Hh(g,A);break e;case 1:E=M;var O=g.type,D=g.stateNode;if((g.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Dr===null||!Dr.has(D)))){g.flags|=65536,s&=-s,g.lanes|=s;var W=mm(g,E,s);Hh(g,W);break e}}g=g.return}while(g!==null)}Qm(u)}catch(re){s=re,Qe===u&&u!==null&&(Qe=u=u.return);continue}break}while(!0)}function qm(){var i=Xl.current;return Xl.current=Kl,i===null?Kl:i}function hf(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),rt===null||(wi&268435455)===0&&(Zl&268435455)===0||Ir(rt,ft)}function oa(i,s){var u=Ne;Ne|=2;var d=qm();(rt!==i||ft!==s)&&(nr=null,Ci(i,s));do try{eS();break}catch(h){Km(i,h)}while(!0);if(Mc(),Ne=u,Xl.current=d,Qe!==null)throw Error(t(261));return rt=null,ft=0,Ze}function eS(){for(;Qe!==null;)Jm(Qe)}function tS(){for(;Qe!==null&&!M1();)Jm(Qe)}function Jm(i){var s=Xm(i.alternate,i,Qt);i.memoizedProps=i.pendingProps,s===null?Qm(i):Qe=s,of.current=null}function Qm(i){var s=i;do{var u=s.alternate;if(i=s.return,(s.flags&32768)===0){if(u=qk(u,s,Qt),u!==null){Qe=u;return}}else{if(u=Jk(u,s),u!==null){u.flags&=32767,Qe=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ze=6,Qe=null;return}}if(s=s.sibling,s!==null){Qe=s;return}Qe=s=i}while(s!==null);Ze===0&&(Ze=5)}function Ei(i,s,u){var d=Ie,h=rn.transition;try{rn.transition=null,Ie=1,nS(i,s,u,d)}finally{rn.transition=h,Ie=d}return null}function nS(i,s,u,d){do mo();while(Rr!==null);if((Ne&6)!==0)throw Error(t(327));u=i.finishedWork;var h=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var g=u.lanes|u.childLanes;if(z1(i,g),i===rt&&(Qe=rt=null,ft=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||ta||(ta=!0,Zm(ul,function(){return mo(),null})),g=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||g){g=rn.transition,rn.transition=null;var w=Ie;Ie=1;var E=Ne;Ne|=4,of.current=null,Gk(i,u),_m(u,i),xk(pc),gl=!!dc,pc=dc=null,i.current=u,Yk(u),O1(),Ne=E,Ie=w,rn.transition=g}else i.current=u;if(ta&&(ta=!1,Rr=i,na=h),g=i.pendingLanes,g===0&&(Dr=null),A1(u.stateNode),Ft(i,qe()),s!==null)for(d=i.onRecoverableError,u=0;u<s.length;u++)h=s[u],d(h.value,{componentStack:h.stack,digest:h.digest});if(ea)throw ea=!1,i=af,af=null,i;return(na&1)!==0&&i.tag!==0&&mo(),g=i.pendingLanes,(g&1)!==0?i===uf?vs++:(vs=0,uf=i):vs=0,Or(),null}function mo(){if(Rr!==null){var i=Bp(na),s=rn.transition,u=Ie;try{if(rn.transition=null,Ie=16>i?16:i,Rr===null)var d=!1;else{if(i=Rr,Rr=null,na=0,(Ne&6)!==0)throw Error(t(331));var h=Ne;for(Ne|=4,Y=i.current;Y!==null;){var g=Y,w=g.child;if((Y.flags&16)!==0){var E=g.deletions;if(E!==null){for(var M=0;M<E.length;M++){var R=E[M];for(Y=R;Y!==null;){var F=Y;switch(F.tag){case 0:case 11:case 15:ms(8,F,g)}var V=F.child;if(V!==null)V.return=F,Y=V;else for(;Y!==null;){F=Y;var B=F.sibling,J=F.return;if(Im(F),F===R){Y=null;break}if(B!==null){B.return=J,Y=B;break}Y=J}}}var X=g.alternate;if(X!==null){var te=X.child;if(te!==null){X.child=null;do{var Je=te.sibling;te.sibling=null,te=Je}while(te!==null)}}Y=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,Y=w;else e:for(;Y!==null;){if(g=Y,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:ms(9,g,g.return)}var A=g.sibling;if(A!==null){A.return=g.return,Y=A;break e}Y=g.return}}var O=i.current;for(Y=O;Y!==null;){w=Y;var D=w.child;if((w.subtreeFlags&2064)!==0&&D!==null)D.return=w,Y=D;else e:for(w=O;Y!==null;){if(E=Y,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Yl(9,E)}}catch(re){We(E,E.return,re)}if(E===w){Y=null;break e}var W=E.sibling;if(W!==null){W.return=E.return,Y=W;break e}Y=E.return}}if(Ne=h,Or(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(cl,i)}catch{}d=!0}return d}finally{Ie=u,rn.transition=s}}return!1}function Gm(i,s,u){s=co(u,s),s=hm(i,s,1),i=Nr(i,s,1),s=Nt(),i!==null&&(Ho(i,1,s),Ft(i,s))}function We(i,s,u){if(i.tag===3)Gm(i,i,u);else for(;s!==null;){if(s.tag===3){Gm(s,i,u);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Dr===null||!Dr.has(d))){i=co(u,i),i=mm(s,i,1),s=Nr(s,i,1),i=Nt(),s!==null&&(Ho(s,1,i),Ft(s,i));break}}s=s.return}}function rS(i,s,u){var d=i.pingCache;d!==null&&d.delete(s),s=Nt(),i.pingedLanes|=i.suspendedLanes&u,rt===i&&(ft&u)===u&&(Ze===4||Ze===3&&(ft&130023424)===ft&&500>qe()-lf?Ci(i,0):sf|=u),Ft(i,s)}function Ym(i,s){s===0&&((i.mode&1)===0?s=1:(s=dl,dl<<=1,(dl&130023424)===0&&(dl=4194304)));var u=Nt();i=Zn(i,s),i!==null&&(Ho(i,s,u),Ft(i,u))}function iS(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),Ym(i,u)}function oS(i,s){var u=0;switch(i.tag){case 13:var d=i.stateNode,h=i.memoizedState;h!==null&&(u=h.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),Ym(i,u)}var Xm;Xm=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||It.current)zt=!0;else{if((i.lanes&u)===0&&(s.flags&128)===0)return zt=!1,Kk(i,s,u);zt=(i.flags&131072)!==0}else zt=!1,Ve&&(s.flags&1048576)!==0&&Dh(s,Il,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Ql(i,s),i=s.pendingProps;var h=no(s,kt.current);ao(s,u),h=Bc(null,s,d,i,h,u);var g=Fc();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Lt(d)?(g=!0,Dl(s)):g=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Ac(s),h.updater=ql,s.stateNode=h,h._reactInternals=s,Wc(s,d,i,u),s=Jc(null,s,d,!0,g,u)):(s.tag=0,Ve&&g&&Sc(s),bt(null,s,h,u),s=s.child),s;case 16:d=s.elementType;e:{switch(Ql(i,s),i=s.pendingProps,h=d._init,d=h(d._payload),s.type=d,h=s.tag=lS(d),i=kn(d,i),h){case 0:s=qc(null,s,d,i,u);break e;case 1:s=Em(null,s,d,i,u);break e;case 11:s=km(null,s,d,i,u);break e;case 14:s=Sm(null,s,d,kn(d.type,i),u);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,h=s.pendingProps,h=s.elementType===d?h:kn(d,h),qc(i,s,d,h,u);case 1:return d=s.type,h=s.pendingProps,h=s.elementType===d?h:kn(d,h),Em(i,s,d,h,u);case 3:e:{if(Tm(s),i===null)throw Error(t(387));d=s.pendingProps,g=s.memoizedState,h=g.element,Vh(i,s),Vl(s,d,null,u);var w=s.memoizedState;if(d=w.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){h=co(Error(t(423)),s),s=Mm(i,s,d,u,h);break e}else if(d!==h){h=co(Error(t(424)),s),s=Mm(i,s,d,u,h);break e}else for(Jt=Er(s.stateNode.containerInfo.firstChild),qt=s,Ve=!0,vn=null,u=Fh(s,null,d,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(oo(),d===h){s=tr(i,s,u);break e}bt(i,s,d,u)}s=s.child}return s;case 5:return $h(s),i===null&&Cc(s),d=s.type,h=s.pendingProps,g=i!==null?i.memoizedProps:null,w=h.children,hc(d,h)?w=null:g!==null&&hc(d,g)&&(s.flags|=32),Cm(i,s),bt(i,s,w,u),s.child;case 6:return i===null&&Cc(s),null;case 13:return Om(i,s,u);case 4:return Dc(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=so(s,null,d,u):bt(i,s,d,u),s.child;case 11:return d=s.type,h=s.pendingProps,h=s.elementType===d?h:kn(d,h),km(i,s,d,h,u);case 7:return bt(i,s,s.pendingProps,u),s.child;case 8:return bt(i,s,s.pendingProps.children,u),s.child;case 12:return bt(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(d=s.type._context,h=s.pendingProps,g=s.memoizedProps,w=h.value,ze(Bl,d._currentValue),d._currentValue=w,g!==null)if(yn(g.value,w)){if(g.children===h.children&&!It.current){s=tr(i,s,u);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var E=g.dependencies;if(E!==null){w=g.child;for(var M=E.firstContext;M!==null;){if(M.context===d){if(g.tag===1){M=er(-1,u&-u),M.tag=2;var R=g.updateQueue;if(R!==null){R=R.shared;var F=R.pending;F===null?M.next=M:(M.next=F.next,F.next=M),R.pending=M}}g.lanes|=u,M=g.alternate,M!==null&&(M.lanes|=u),bc(g.return,u,s),E.lanes|=u;break}M=M.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=u,E=w.alternate,E!==null&&(E.lanes|=u),bc(w,u,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}bt(i,s,h.children,u),s=s.child}return s;case 9:return h=s.type,d=s.pendingProps.children,ao(s,u),h=tn(h),d=d(h),s.flags|=1,bt(i,s,d,u),s.child;case 14:return d=s.type,h=kn(d,s.pendingProps),h=kn(d.type,h),Sm(i,s,d,h,u);case 15:return wm(i,s,s.type,s.pendingProps,u);case 17:return d=s.type,h=s.pendingProps,h=s.elementType===d?h:kn(d,h),Ql(i,s),s.tag=1,Lt(d)?(i=!0,Dl(s)):i=!1,ao(s,u),dm(s,d,h),Wc(s,d,h,u),Jc(null,s,d,!0,i,u);case 19:return Nm(i,s,u);case 22:return xm(i,s,u)}throw Error(t(156,s.tag))};function Zm(i,s){return Rp(i,s)}function sS(i,s,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(i,s,u,d){return new sS(i,s,u,d)}function mf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function lS(i){if(typeof i=="function")return mf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Se)return 11;if(i===Pe)return 14}return 2}function Lr(i,s){var u=i.alternate;return u===null?(u=on(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function sa(i,s,u,d,h,g){var w=2;if(d=i,typeof i=="function")mf(i)&&(w=1);else if(typeof i=="string")w=5;else e:switch(i){case Q:return Ti(u.children,h,g,s);case ie:w=8,h|=8;break;case G:return i=on(12,u,s,h|2),i.elementType=G,i.lanes=g,i;case ve:return i=on(13,u,s,h),i.elementType=ve,i.lanes=g,i;case Re:return i=on(19,u,s,h),i.elementType=Re,i.lanes=g,i;case pe:return la(u,h,g,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case de:w=10;break e;case Me:w=9;break e;case Se:w=11;break e;case Pe:w=14;break e;case Ce:w=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=on(w,u,s,h),s.elementType=i,s.type=d,s.lanes=g,s}function Ti(i,s,u,d){return i=on(7,i,d,s),i.lanes=u,i}function la(i,s,u,d){return i=on(22,i,d,s),i.elementType=pe,i.lanes=u,i.stateNode={isHidden:!1},i}function gf(i,s,u){return i=on(6,i,null,s),i.lanes=u,i}function yf(i,s,u){return s=on(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function aS(i,s,u,d,h){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$u(0),this.expirationTimes=$u(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$u(0),this.identifierPrefix=d,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function vf(i,s,u,d,h,g,w,E,M){return i=new aS(i,s,u,E,M),s===1?(s=1,g===!0&&(s|=8)):s=0,g=on(3,null,null,s),i.current=g,g.stateNode=i,g.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ac(g),i}function uS(i,s,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:d==null?null:""+d,children:i,containerInfo:s,implementation:u}}function eg(i){if(!i)return Mr;i=i._reactInternals;e:{if(pi(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Lt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(Lt(u))return bh(i,u,s)}return s}function tg(i,s,u,d,h,g,w,E,M){return i=vf(u,d,!0,i,h,g,w,E,M),i.context=eg(null),u=i.current,d=Nt(),h=Pr(u),g=er(d,h),g.callback=s??null,Nr(u,g,h),i.current.lanes=h,Ho(i,h,d),Ft(i,d),i}function aa(i,s,u,d){var h=s.current,g=Nt(),w=Pr(h);return u=eg(u),s.context===null?s.context=u:s.pendingContext=u,s=er(g,w),s.payload={element:i},d=d===void 0?null:d,d!==null&&(s.callback=d),i=Nr(h,s,w),i!==null&&(xn(i,h,w,g),_l(i,h,w)),w}function ua(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function ng(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function kf(i,s){ng(i,s),(i=i.alternate)&&ng(i,s)}function cS(){return null}var rg=typeof reportError=="function"?reportError:function(i){console.error(i)};function Sf(i){this._internalRoot=i}ca.prototype.render=Sf.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));aa(i,s,null,null)},ca.prototype.unmount=Sf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;xi(function(){aa(null,i,null,null)}),s[Qn]=null}};function ca(i){this._internalRoot=i}ca.prototype.unstable_scheduleHydration=function(i){if(i){var s=Vp();i={blockedOn:null,target:i,priority:s};for(var u=0;u<wr.length&&s!==0&&s<wr[u].priority;u++);wr.splice(u,0,i),u===0&&$p(i)}};function wf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function fa(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ig(){}function fS(i,s,u,d,h){if(h){if(typeof d=="function"){var g=d;d=function(){var R=ua(w);g.call(R)}}var w=tg(s,d,i,0,null,!1,!1,"",ig);return i._reactRootContainer=w,i[Qn]=w.current,ts(i.nodeType===8?i.parentNode:i),xi(),w}for(;h=i.lastChild;)i.removeChild(h);if(typeof d=="function"){var E=d;d=function(){var R=ua(M);E.call(R)}}var M=vf(i,0,!1,null,null,!1,!1,"",ig);return i._reactRootContainer=M,i[Qn]=M.current,ts(i.nodeType===8?i.parentNode:i),xi(function(){aa(s,M,u,d)}),M}function da(i,s,u,d,h){var g=u._reactRootContainer;if(g){var w=g;if(typeof h=="function"){var E=h;h=function(){var M=ua(w);E.call(M)}}aa(s,w,i,h)}else w=fS(u,s,i,h,d);return ua(w)}Fp=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=Vo(s.pendingLanes);u!==0&&(Wu(s,u|1),Ft(s,qe()),(Ne&6)===0&&(ho=qe()+500,Or()))}break;case 13:xi(function(){var d=Zn(i,1);if(d!==null){var h=Nt();xn(d,i,1,h)}}),kf(i,1)}},Uu=function(i){if(i.tag===13){var s=Zn(i,134217728);if(s!==null){var u=Nt();xn(s,i,134217728,u)}kf(i,134217728)}},_p=function(i){if(i.tag===13){var s=Pr(i),u=Zn(i,s);if(u!==null){var d=Nt();xn(u,i,s,d)}kf(i,s)}},Vp=function(){return Ie},Hp=function(i,s){var u=Ie;try{return Ie=i,s()}finally{Ie=u}},vt=function(i,s,u){switch(s){case"input":if(Wn(i,u),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var d=u[s];if(d!==i&&d.form===i.form){var h=Nl(d);if(!h)throw Error(t(90));ri(d),Wn(d,h)}}}break;case"textarea":gr(i,u);break;case"select":s=u.value,s!=null&&Ot(i,!!u.multiple,s,!1)}},Jn=df,sl=xi;var dS={usingClientEntryPoint:!1,Events:[is,eo,Nl,Ki,ci,df]},ks={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pS={bundleType:ks.bundleType,version:ks.version,rendererPackageName:ks.rendererPackageName,rendererConfig:ks.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ap(i),i===null?null:i.stateNode},findFiberByHostInstance:ks.findFiberByHostInstance||cS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pa.isDisabled&&pa.supportsFiber)try{cl=pa.inject(pS),Nn=pa}catch{}}return _t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dS,_t.createPortal=function(i,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wf(s))throw Error(t(200));return uS(i,s,null,u)},_t.createRoot=function(i,s){if(!wf(i))throw Error(t(299));var u=!1,d="",h=rg;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=vf(i,1,!1,null,null,u,!1,d,h),i[Qn]=s.current,ts(i.nodeType===8?i.parentNode:i),new Sf(s)},_t.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ap(s),i=i===null?null:i.stateNode,i},_t.flushSync=function(i){return xi(i)},_t.hydrate=function(i,s,u){if(!fa(s))throw Error(t(200));return da(null,i,s,!0,u)},_t.hydrateRoot=function(i,s,u){if(!wf(i))throw Error(t(405));var d=u!=null&&u.hydratedSources||null,h=!1,g="",w=rg;if(u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(w=u.onRecoverableError)),s=tg(s,null,i,1,u??null,h,!1,g,w),i[Qn]=s.current,ts(i),d)for(i=0;i<d.length;i++)u=d[i],h=u._getVersion,h=h(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,h]:s.mutableSourceEagerHydrationData.push(u,h);return new ca(s)},_t.render=function(i,s,u){if(!fa(s))throw Error(t(200));return da(null,i,s,!1,u)},_t.unmountComponentAtNode=function(i){if(!fa(i))throw Error(t(40));return i._reactRootContainer?(xi(function(){da(null,null,i,!1,function(){i._reactRootContainer=null,i[Qn]=null})}),!0):!1},_t.unstable_batchedUpdates=df,_t.unstable_renderSubtreeIntoContainer=function(i,s,u,d){if(!fa(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return da(i,s,u,!1,d)},_t.version="18.3.1-next-f1338f8080-20240426",_t}var cg;function kS(){if(cg)return Cf.exports;cg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cf.exports=vS(),Cf.exports}var e0=kS();const t0=Xy(e0),Fb=Yy({__proto__:null,default:t0},[e0]);function dt(n){this.content=n}dt.prototype={constructor:dt,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,o=r.find(n),l=r.content.slice();return o==-1?l.push(t||n,e):(l[o+1]=e,t&&(l[o]=t)),new dt(l)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new dt(t)},addToStart:function(n,e){return new dt([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new dt(t)},addBefore:function(n,e,t){var r=this.remove(e),o=r.content.slice(),l=r.find(n);return o.splice(l==-1?o.length:l,0,e,t),new dt(o)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=dt.from(n),n.size?new dt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=dt.from(n),n.size?new dt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=dt.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};dt.from=function(n){if(n instanceof dt)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new dt(e)};function n0(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let o=n.child(r),l=e.child(r);if(o==l){t+=o.nodeSize;continue}if(!o.sameMarkup(l))return t;if(o.isText&&o.text!=l.text){for(let a=0;o.text[a]==l.text[a];a++)t++;return t}if(o.content.size||l.content.size){let a=n0(o.content,l.content,t+1);if(a!=null)return a}t+=o.nodeSize}}function r0(n,e,t,r){for(let o=n.childCount,l=e.childCount;;){if(o==0||l==0)return o==l?null:{a:t,b:r};let a=n.child(--o),c=e.child(--l),f=a.nodeSize;if(a==c){t-=f,r-=f;continue}if(!a.sameMarkup(c))return{a:t,b:r};if(a.isText&&a.text!=c.text){let p=0,m=Math.min(a.text.length,c.text.length);for(;p<m&&a.text[a.text.length-p-1]==c.text[c.text.length-p-1];)p++,t--,r--;return{a:t,b:r}}if(a.content.size||c.content.size){let p=r0(a.content,c.content,t-1,r-1);if(p)return p}t-=f,r-=f}}class _{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,o=0,l){for(let a=0,c=0;c<t;a++){let f=this.content[a],p=c+f.nodeSize;if(p>e&&r(f,o+c,l||null,a)!==!1&&f.content.size){let m=c+1;f.nodesBetween(Math.max(0,e-m),Math.min(f.content.size,t-m),r,o+m)}c=p}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,o){let l="",a=!0;return this.nodesBetween(e,t,(c,f)=>{let p=c.isText?c.text.slice(Math.max(e,f)-f,t-f):c.isLeaf?o?typeof o=="function"?o(c):o:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&p||c.isTextblock)&&r&&(a?a=!1:l+=r),l+=p},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,o=this.content.slice(),l=0;for(t.isText&&t.sameMarkup(r)&&(o[o.length-1]=t.withText(t.text+r.text),l=1);l<e.content.length;l++)o.push(e.content[l]);return new _(o,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],o=0;if(t>e)for(let l=0,a=0;a<t;l++){let c=this.content[l],f=a+c.nodeSize;f>e&&((a<e||f>t)&&(c.isText?c=c.cut(Math.max(0,e-a),Math.min(c.text.length,t-a)):c=c.cut(Math.max(0,e-a-1),Math.min(c.content.size,t-a-1))),r.push(c),o+=c.nodeSize),a=f}return new _(r,o)}cutByIndex(e,t){return e==t?_.empty:e==0&&t==this.content.length?this:new _(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let o=this.content.slice(),l=this.size+t.nodeSize-r.nodeSize;return o[e]=t,new _(o,l)}addToStart(e){return new _([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new _(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let o=this.content[t];e(o,r,t),r+=o.nodeSize}}findDiffStart(e,t=0){return n0(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return r0(this,e,t,r)}findIndex(e,t=-1){if(e==0)return ha(0,e);if(e==this.size)return ha(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,o=0;;r++){let l=this.child(r),a=o+l.nodeSize;if(a>=e)return a==e||t>0?ha(r+1,a):ha(r,o);o=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return _.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new _(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return _.empty;let t,r=0;for(let o=0;o<e.length;o++){let l=e[o];r+=l.nodeSize,o&&l.isText&&e[o-1].sameMarkup(l)?(t||(t=e.slice(0,o)),t[t.length-1]=l.withText(t[t.length-1].text+l.text)):t&&t.push(l)}return new _(t||e,r)}static from(e){if(!e)return _.empty;if(e instanceof _)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new _([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}_.empty=new _([],0);const Mf={index:0,offset:0};function ha(n,e){return Mf.index=n,Mf.offset=e,Mf}function Pa(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Pa(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Pa(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Le=class id{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let o=0;o<e.length;o++){let l=e[o];if(this.eq(l))return e;if(this.type.excludes(l.type))t||(t=e.slice(0,o));else{if(l.type.excludes(this.type))return e;!r&&l.type.rank>this.type.rank&&(t||(t=e.slice(0,o)),t.push(this),r=!0),t&&t.push(l)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Pa(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let o=r.create(t.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return id.none;if(e instanceof id)return[e];let t=e.slice();return t.sort((r,o)=>r.type.rank-o.type.rank),t}};Le.none=[];class Ia extends Error{}class q{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=o0(this.content,e+this.openStart,t);return r&&new q(r,this.openStart,this.openEnd)}removeBetween(e,t){return new q(i0(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return q.empty;let r=t.openStart||0,o=t.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new q(_.fromJSON(e,t.content),r,o)}static maxOpen(e,t=!0){let r=0,o=0;for(let l=e.firstChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.firstChild)r++;for(let l=e.lastChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.lastChild)o++;return new q(e,r,o)}}q.empty=new q(_.empty,0,0);function i0(n,e,t){let{index:r,offset:o}=n.findIndex(e),l=n.maybeChild(r),{index:a,offset:c}=n.findIndex(t);if(o==e||l.isText){if(c!=t&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(r,l.copy(i0(l.content,e-o-1,t-o-1)))}function o0(n,e,t,r){let{index:o,offset:l}=n.findIndex(e),a=n.maybeChild(o);if(l==e||a.isText)return n.cut(0,e).append(t).append(n.cut(e));let c=o0(a.content,e-l-1,t);return c&&n.replaceChild(o,a.copy(c))}function SS(n,e,t){if(t.openStart>n.depth)throw new Ia("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Ia("Inconsistent open depths");return s0(n,e,t,0)}function s0(n,e,t,r){let o=n.index(r),l=n.node(r);if(o==e.index(r)&&r<n.depth-t.openStart){let a=s0(n,e,t,r+1);return l.copy(l.content.replaceChild(o,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let a=n.parent,c=a.content;return Ii(a,c.cut(0,n.parentOffset).append(t.content).append(c.cut(e.parentOffset)))}else{let{start:a,end:c}=wS(t,n);return Ii(l,a0(n,a,c,e,r))}else return Ii(l,La(n,e,r))}function l0(n,e){if(!e.type.compatibleContent(n.type))throw new Ia("Cannot join "+e.type.name+" onto "+n.type.name)}function od(n,e,t){let r=n.node(t);return l0(r,e.node(t)),r}function Pi(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Os(n,e,t,r){let o=(e||n).node(t),l=0,a=e?e.index(t):o.childCount;n&&(l=n.index(t),n.depth>t?l++:n.textOffset&&(Pi(n.nodeAfter,r),l++));for(let c=l;c<a;c++)Pi(o.child(c),r);e&&e.depth==t&&e.textOffset&&Pi(e.nodeBefore,r)}function Ii(n,e){return n.type.checkContent(e),n.copy(e)}function a0(n,e,t,r,o){let l=n.depth>o&&od(n,e,o+1),a=r.depth>o&&od(t,r,o+1),c=[];return Os(null,n,o,c),l&&a&&e.index(o)==t.index(o)?(l0(l,a),Pi(Ii(l,a0(n,e,t,r,o+1)),c)):(l&&Pi(Ii(l,La(n,e,o+1)),c),Os(e,t,o,c),a&&Pi(Ii(a,La(t,r,o+1)),c)),Os(r,null,o,c),new _(c)}function La(n,e,t){let r=[];if(Os(null,n,t,r),n.depth>t){let o=od(n,e,t+1);Pi(Ii(o,La(n,e,t+1)),r)}return Os(e,null,t,r),new _(r)}function wS(n,e){let t=e.depth-n.openStart,o=e.node(t).copy(n.content);for(let l=t-1;l>=0;l--)o=e.node(l).copy(_.from(o));return{start:o.resolveNoCache(n.openStart+t),end:o.resolveNoCache(o.content.size-n.openEnd-t)}}class _s{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(t);return r?e.child(t).cut(r):o}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],o=t==0?0:this.path[t*3-1]+1;for(let l=0;l<e;l++)o+=r.child(l).nodeSize;return o}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Le.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),o=e.maybeChild(t);if(!r){let c=r;r=o,o=c}let l=r.marks;for(var a=0;a<l.length;a++)l[a].type.spec.inclusive===!1&&(!o||!l[a].isInSet(o.marks))&&(l=l[a--].removeFromSet(l));return l}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,o=e.parent.maybeChild(e.index());for(var l=0;l<r.length;l++)r[l].type.spec.inclusive===!1&&(!o||!r[l].isInSet(o.marks))&&(r=r[l--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new za(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],o=0,l=t;for(let a=e;;){let{index:c,offset:f}=a.content.findIndex(l),p=l-f;if(r.push(a,c,o+f),!p||(a=a.child(c),a.isText))break;l=p-1,o+=f+1}return new _s(t,r,l)}static resolveCached(e,t){let r=fg.get(e);if(r)for(let l=0;l<r.elts.length;l++){let a=r.elts[l];if(a.pos==t)return a}else fg.set(e,r=new xS);let o=r.elts[r.i]=_s.resolve(e,t);return r.i=(r.i+1)%CS,o}}class xS{constructor(){this.elts=[],this.i=0}}const CS=12,fg=new WeakMap;class za{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ES=Object.create(null);let qr=class sd{constructor(e,t,r,o=Le.none){this.type=e,this.attrs=t,this.marks=o,this.content=r||_.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,o=0){this.content.nodesBetween(e,t,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,o){return this.content.textBetween(e,t,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Pa(this.attrs,t||e.defaultAttrs||ES)&&Le.sameSet(this.marks,r||Le.none)}copy(e=null){return e==this.content?this:new sd(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new sd(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return q.empty;let o=this.resolve(e),l=this.resolve(t),a=r?0:o.sharedDepth(t),c=o.start(a),p=o.node(a).content.cut(o.pos-c,l.pos-c);return new q(p,o.depth-a,l.depth-a)}replace(e,t,r){return SS(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:o}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(o==e||t.isText)return t;e-=o+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let o=this.content.child(t-1);return{node:o,index:t-1,offset:r-o.nodeSize}}resolve(e){return _s.resolveCached(this,e)}resolveNoCache(e){return _s.resolve(this,e)}rangeHasMark(e,t,r){let o=!1;return t>e&&this.nodesBetween(e,t,l=>(r.isInSet(l.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),u0(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=_.empty,o=0,l=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,o,l),c=a&&a.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(let f=o;f<l;f++)if(!this.type.allowsMarks(r.child(f).marks))return!1;return!0}canReplaceWith(e,t,r,o){if(o&&!this.type.allowsMarks(o))return!1;let l=this.contentMatchAt(e).matchType(r),a=l&&l.matchFragment(this.content,t);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Le.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Le.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let o=_.fromJSON(e,t.content),l=e.nodeType(t.type).create(t.attrs,o,r);return l.type.checkAttrs(l.attrs),l}};qr.prototype.text=void 0;class Ba extends qr{constructor(e,t,r,o){if(super(e,t,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):u0(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ba(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ba(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function u0(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class _i{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new TS(e,t);if(r.next==null)return _i.empty;let o=c0(r);r.next&&r.err("Unexpected trailing text");let l=RS(DS(o));return PS(l,r),l}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let o=this;for(let l=t;o&&l<r;l++)o=o.matchType(e.child(l).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let o=[this];function l(a,c){let f=a.matchFragment(e,r);if(f&&(!t||f.validEnd))return _.from(c.map(p=>p.createAndFill()));for(let p=0;p<a.next.length;p++){let{type:m,next:y}=a.next[p];if(!(m.isText||m.hasRequiredAttrs())&&o.indexOf(y)==-1){o.push(y);let v=l(y,c.concat(m));if(v)return v}}return null}return l(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),l=o.match;if(l.matchType(e)){let a=[];for(let c=o;c.type;c=c.via)a.push(c.type);return a.reverse()}for(let a=0;a<l.next.length;a++){let{type:c,next:f}=l.next[a];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in t)&&(!o.type||f.validEnd)&&(r.push({match:c.contentMatch,type:c,via:o}),t[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&t(r.next[o].next)}return t(this),e.map((r,o)=>{let l=o+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)l+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return l}).join(`
`)}}_i.empty=new _i(!0);class TS{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function c0(n){let e=[];do e.push(MS(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function MS(n){let e=[];do e.push(OS(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function OS(n){let e=AS(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=bS(n,e);else break;return e}function dg(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function bS(n,e){let t=dg(n),r=t;return n.eat(",")&&(n.next!="}"?r=dg(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function NS(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let o=[];for(let l in t){let a=t[l];a.isInGroup(e)&&o.push(a)}return o.length==0&&n.err("No node type or group '"+e+"' found"),o}function AS(n){if(n.eat("(")){let e=c0(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=NS(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function DS(n){let e=[[]];return o(l(n,0),t()),e;function t(){return e.push([])-1}function r(a,c,f){let p={term:f,to:c};return e[a].push(p),p}function o(a,c){a.forEach(f=>f.to=c)}function l(a,c){if(a.type=="choice")return a.exprs.reduce((f,p)=>f.concat(l(p,c)),[]);if(a.type=="seq")for(let f=0;;f++){let p=l(a.exprs[f],c);if(f==a.exprs.length-1)return p;o(p,c=t())}else if(a.type=="star"){let f=t();return r(c,f),o(l(a.expr,f),f),[r(f)]}else if(a.type=="plus"){let f=t();return o(l(a.expr,c),f),o(l(a.expr,f),f),[r(f)]}else{if(a.type=="opt")return[r(c)].concat(l(a.expr,c));if(a.type=="range"){let f=c;for(let p=0;p<a.min;p++){let m=t();o(l(a.expr,f),m),f=m}if(a.max==-1)o(l(a.expr,f),f);else for(let p=a.min;p<a.max;p++){let m=t();r(f,m),o(l(a.expr,f),m),f=m}return[r(f)]}else{if(a.type=="name")return[r(c,void 0,a.value)];throw new Error("Unknown expr type")}}}}function f0(n,e){return e-n}function pg(n,e){let t=[];return r(e),t.sort(f0);function r(o){let l=n[o];if(l.length==1&&!l[0].term)return r(l[0].to);t.push(o);for(let a=0;a<l.length;a++){let{term:c,to:f}=l[a];!c&&t.indexOf(f)==-1&&r(f)}}}function RS(n){let e=Object.create(null);return t(pg(n,0));function t(r){let o=[];r.forEach(a=>{n[a].forEach(({term:c,to:f})=>{if(!c)return;let p;for(let m=0;m<o.length;m++)o[m][0]==c&&(p=o[m][1]);pg(n,f).forEach(m=>{p||o.push([c,p=[]]),p.indexOf(m)==-1&&p.push(m)})})});let l=e[r.join(",")]=new _i(r.indexOf(n.length-1)>-1);for(let a=0;a<o.length;a++){let c=o[a][1].sort(f0);l.next.push({type:o[a][0],next:e[c.join(",")]||t(c)})}return l}}function PS(n,e){for(let t=0,r=[n];t<r.length;t++){let o=r[t],l=!o.validEnd,a=[];for(let c=0;c<o.next.length;c++){let{type:f,next:p}=o.next[c];a.push(f.name),l&&!(f.isText||f.hasRequiredAttrs())&&(l=!1),r.indexOf(p)==-1&&r.push(p)}l&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function d0(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function p0(n,e){let t=Object.create(null);for(let r in n){let o=e&&e[r];if(o===void 0){let l=n[r];if(l.hasDefault)o=l.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=o}return t}function h0(n,e,t,r){for(let o in e)if(!(o in n))throw new RangeError(`Unsupported attribute ${o} for ${t} of type ${o}`);for(let o in n){let l=n[o];l.validate&&l.validate(e[o])}}function m0(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new LS(n,r,e[r]);return t}let hg=class g0{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=m0(e,r.attrs),this.defaultAttrs=d0(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==_i.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:p0(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new qr(this,this.computeAttrs(e),_.from(t),Le.setFrom(r))}createChecked(e=null,t,r){return t=_.from(t),this.checkContent(t),new qr(this,this.computeAttrs(e),t,Le.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=_.from(t),t.size){let a=this.contentMatch.fillBefore(t);if(!a)return null;t=a.append(t)}let o=this.contentMatch.matchFragment(t),l=o&&o.fillBefore(_.empty,!0);return l?new qr(this,e,t.append(l),Le.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){h0(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Le.none:e}static compile(e,t){let r=Object.create(null);e.forEach((l,a)=>r[l]=new g0(l,t,a));let o=t.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let l in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function IS(n,e,t){let r=t.split("|");return o=>{let l=o===null?"null":typeof o;if(r.indexOf(l)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${l}`)}}class LS{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?IS(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class xu{constructor(e,t,r,o){this.name=e,this.rank=t,this.schema=r,this.spec=o,this.attrs=m0(e,o.attrs),this.excluded=null;let l=d0(this.attrs);this.instance=l?new Le(this,l):null}create(e=null){return!e&&this.instance?this.instance:new Le(this,p0(this.attrs,e))}static compile(e,t){let r=Object.create(null),o=0;return e.forEach((l,a)=>r[l]=new xu(l,o++,t,a)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){h0(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class y0{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let o in e)t[o]=e[o];t.nodes=dt.from(e.nodes),t.marks=dt.from(e.marks||{}),this.nodes=hg.compile(this.spec.nodes,this),this.marks=xu.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let l=this.nodes[o],a=l.spec.content||"",c=l.spec.marks;if(l.contentMatch=r[a]||(r[a]=_i.parse(a,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=c=="_"?null:c?mg(this,c.split(" ")):c==""||!l.inlineContent?[]:null}for(let o in this.marks){let l=this.marks[o],a=l.spec.excludes;l.excluded=a==null?[l]:a==""?[]:mg(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof hg){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,o)}text(e,t){let r=this.nodes.text;return new Ba(r,r.defaultAttrs,e,Le.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return qr.fromJSON(this,e)}markFromJSON(e){return Le.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function mg(n,e){let t=[];for(let r=0;r<e.length;r++){let o=e[r],l=n.marks[o],a=l;if(l)t.push(l);else for(let c in n.marks){let f=n.marks[c];(o=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(o)>-1)&&t.push(a=f)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function zS(n){return n.tag!=null}function BS(n){return n.style!=null}class Jr{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(o=>{if(zS(o))this.tags.push(o);else if(BS(o)){let l=/[^=]*/.exec(o.style)[0];r.indexOf(l)<0&&r.push(l),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let l=e.nodes[o.node];return l.contentMatch.matchType(l)})}parse(e,t={}){let r=new yg(this,t,!1);return r.addAll(e,Le.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new yg(this,t,!0);return r.addAll(e,Le.none,t.from,t.to),q.maxOpen(r.finish())}matchTag(e,t,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let l=this.tags[o];if(VS(e,l.tag)&&(l.namespace===void 0||e.namespaceURI==l.namespace)&&(!l.context||t.matchesContext(l.context))){if(l.getAttrs){let a=l.getAttrs(e);if(a===!1)continue;l.attrs=a||void 0}return l}}}matchStyle(e,t,r,o){for(let l=o?this.styles.indexOf(o)+1:0;l<this.styles.length;l++){let a=this.styles[l],c=a.style;if(!(c.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=t))){if(a.getAttrs){let f=a.getAttrs(t);if(f===!1)continue;a.attrs=f||void 0}return a}}}static schemaRules(e){let t=[];function r(o){let l=o.priority==null?50:o.priority,a=0;for(;a<t.length;a++){let c=t[a];if((c.priority==null?50:c.priority)<l)break}t.splice(a,0,o)}for(let o in e.marks){let l=e.marks[o].spec.parseDOM;l&&l.forEach(a=>{r(a=vg(a)),a.mark||a.ignore||a.clearMark||(a.mark=o)})}for(let o in e.nodes){let l=e.nodes[o].spec.parseDOM;l&&l.forEach(a=>{r(a=vg(a)),a.node||a.ignore||a.mark||(a.node=o)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Jr(e,Jr.schemaRules(e)))}}const v0={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},FS={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},k0={ol:!0,ul:!0},Vs=1,ld=2,Ma=4;function gg(n,e,t){return e!=null?(e?Vs:0)|(e==="full"?ld:0):n&&n.whitespace=="pre"?Vs|ld:t&-5}class ma{constructor(e,t,r,o,l,a){this.type=e,this.attrs=t,this.marks=r,this.solid=o,this.options=a,this.content=[],this.activeMarks=Le.none,this.match=l||(a&Ma?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(_.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Vs)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let l=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-o[0].length))}}let t=_.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(_.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!v0.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class yg{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=t.topNode,l,a=gg(null,t.preserveWhitespace,0)|(r?Ma:0);o?l=new ma(o.type,o.attrs,Le.none,!0,t.topMatch||o.type.contentMatch,a):r?l=new ma(null,null,Le.none,!0,null,a):l=new ma(e.schema.topNodeType,null,Le.none,!0,null,a),this.nodes=[l],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,o=this.top,l=o.options&ld?"full":this.localPreserveWS||(o.options&Vs)>0;if(l==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(l)l!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=o.content[o.content.length-1],c=e.previousSibling;(!a||c&&c.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let o=this.localPreserveWS,l=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),c;k0.hasOwnProperty(a)&&this.parser.normalizeLists&&_S(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(f?f.ignore:FS.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let p,m=this.needsBlock;if(v0.hasOwnProperty(a))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),p=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let y=f&&f.skip?t:this.readStyles(e,t);y&&this.addAll(e,y),p&&this.sync(l),this.needsBlock=m}else{let p=this.readStyles(e,t);p&&this.addElementByRule(e,f,p,f.consuming===!1?c:void 0)}this.localPreserveWS=o}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let l=this.parser.matchedStyles[o],a=r.getPropertyValue(l);if(a)for(let c=void 0;;){let f=this.parser.matchStyle(l,a,this,c);if(!f)break;if(f.ignore)return null;if(f.clearMark?t=t.filter(p=>!f.clearMark(p)):t=t.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)c=f;else break}}return t}addElementByRule(e,t,r,o){let l,a;if(t.node)if(a=this.parser.schema.nodes[t.node],a.isLeaf)this.insertNode(a.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let f=this.enter(a,t.attrs||null,r,t.preserveWhitespace);f&&(l=!0,r=f)}else{let f=this.parser.schema.marks[t.mark];r=r.concat(f.create(t.attrs))}let c=this.top;if(a&&a.isLeaf)this.findInside(e);else if(o)this.addElement(e,r,o);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,r,!1));else{let f=e;typeof t.contentElement=="string"?f=e.querySelector(t.contentElement):typeof t.contentElement=="function"?f=t.contentElement(e):t.contentElement&&(f=t.contentElement),this.findAround(e,f,!0),this.addAll(f,r),this.findAround(e,f,!1)}l&&this.sync(c)&&this.open--}addAll(e,t,r,o){let l=r||0;for(let a=r?e.childNodes[r]:e.firstChild,c=o==null?null:e.childNodes[o];a!=c;a=a.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(a,t);this.findAtPoint(e,l)}findPlace(e,t,r){let o,l;for(let a=this.open,c=0;a>=0;a--){let f=this.nodes[a],p=f.findWrapping(e);if(p&&(!o||o.length>p.length+c)&&(o=p,l=f,!p.length))break;if(f.solid){if(r)break;c+=2}}if(!o)return null;this.sync(l);for(let a=0;a<o.length;a++)t=this.enterInner(o[a],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(t=this.enterInner(l,null,t))}let o=this.findPlace(e,t,r);if(o){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(e.type));let a=Le.none;for(let c of o.concat(e.marks))(l.type?l.type.allowsMarkType(c.type):kg(c.type,e.type))&&(a=c.addToSet(a));return l.content.push(e.mark(a)),!0}return!1}enter(e,t,r,o){let l=this.findPlace(e.create(t),r,!1);return l&&(l=this.enterInner(e,t,r,!0,o)),l}enterInner(e,t,r,o=!1,l){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let c=gg(e,l,a.options);a.options&Ma&&a.content.length==0&&(c|=Ma);let f=Le.none;return r=r.filter(p=>(a.type?a.type.allowsMarkType(p.type):kg(p.type,e))?(f=p.addToSet(f),!1):!0),this.nodes.push(new ma(e,t,f,o,null,c)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Vs)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&t.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),l=-(r?r.depth+1:0)+(o?0:1),a=(c,f)=>{for(;c>=0;c--){let p=t[c];if(p==""){if(c==t.length-1||c==0)continue;for(;f>=l;f--)if(a(c-1,f))return!0;return!1}else{let m=f>0||f==0&&o?this.nodes[f].type:r&&f>=l?r.node(f-l).type:null;if(!m||m.name!=p&&!m.isInGroup(p))return!1;f--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function _S(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&k0.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function VS(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function vg(n){let e={};for(let t in n)e[t]=n[t];return e}function kg(n,e){let t=e.schema.nodes;for(let r in t){let o=t[r];if(!o.allowsMarkType(n))continue;let l=[],a=c=>{l.push(c);for(let f=0;f<c.edgeCount;f++){let{type:p,next:m}=c.edge(f);if(p==e||l.indexOf(m)<0&&a(m))return!0}};if(a(o.contentMatch))return!0}}class Ui{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Of(t).createDocumentFragment());let o=r,l=[];return e.forEach(a=>{if(l.length||a.marks.length){let c=0,f=0;for(;c<l.length&&f<a.marks.length;){let p=a.marks[f];if(!this.marks[p.type.name]){f++;continue}if(!p.eq(l[c][0])||p.type.spec.spanning===!1)break;c++,f++}for(;c<l.length;)o=l.pop()[1];for(;f<a.marks.length;){let p=a.marks[f++],m=this.serializeMark(p,a.isInline,t);m&&(l.push([p,o]),o.appendChild(m.dom),o=m.contentDOM||m.dom)}}o.appendChild(this.serializeNodeInner(a,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:o}=Oa(Of(t),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,o)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let o=e.marks.length-1;o>=0;o--){let l=this.serializeMark(e.marks[o],e.isInline,t);l&&((l.contentDOM||l.dom).appendChild(r),r=l.dom)}return r}serializeMark(e,t,r={}){let o=this.marks[e.type.name];return o&&Oa(Of(r),o(e,t),null,e.attrs)}static renderSpec(e,t,r=null,o){return Oa(e,t,r,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ui(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Sg(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return Sg(e.marks)}}function Sg(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Of(n){return n.document||window.document}const wg=new WeakMap;function HS(n){let e=wg.get(n);return e===void 0&&wg.set(n,e=jS(n)),e}function jS(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let o=0;o<r.length;o++)t(r[o]);else for(let o in r)t(r[o])}return t(n),e}function Oa(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],l;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(l=HS(r))&&l.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=o.indexOf(" ");a>0&&(t=o.slice(0,a),o=o.slice(a+1));let c,f=t?n.createElementNS(t,o):n.createElement(o),p=e[1],m=1;if(p&&typeof p=="object"&&p.nodeType==null&&!Array.isArray(p)){m=2;for(let y in p)if(p[y]!=null){let v=y.indexOf(" ");v>0?f.setAttributeNS(y.slice(0,v),y.slice(v+1),p[y]):f.setAttribute(y,p[y])}}for(let y=m;y<e.length;y++){let v=e[y];if(v===0){if(y<e.length-1||y>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:k,contentDOM:S}=Oa(n,v,t,r);if(f.appendChild(k),S){if(c)throw new RangeError("Multiple content holes");c=S}}}return{dom:f,contentDOM:c}}const S0=65535,w0=Math.pow(2,16);function $S(n,e){return n+e*w0}function xg(n){return n&S0}function WS(n){return(n-(n&S0))/w0}const x0=1,C0=2,ba=4,E0=8;class ad{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&E0)>0}get deletedBefore(){return(this.delInfo&(x0|ba))>0}get deletedAfter(){return(this.delInfo&(C0|ba))>0}get deletedAcross(){return(this.delInfo&ba)>0}}class Gt{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Gt.empty)return Gt.empty}recover(e){let t=0,r=xg(e);if(!this.inverted)for(let o=0;o<r;o++)t+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+t+WS(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let o=0,l=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let f=this.ranges[c]-(this.inverted?o:0);if(f>e)break;let p=this.ranges[c+l],m=this.ranges[c+a],y=f+p;if(e<=y){let v=p?e==f?-1:e==y?1:t:t,k=f+o+(v<0?0:m);if(r)return k;let S=e==(t<0?f:y)?null:$S(c/3,e-f),x=e==f?C0:e==y?x0:ba;return(t<0?e!=f:e!=y)&&(x|=E0),new ad(k,x,S)}o+=m-p}return r?e+o:new ad(e+o,0,null)}touches(e,t){let r=0,o=xg(t),l=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let f=this.ranges[c]-(this.inverted?r:0);if(f>e)break;let p=this.ranges[c+l],m=f+p;if(e<=m&&c==o*3)return!0;r+=this.ranges[c+a]-p}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,l=0;o<this.ranges.length;o+=3){let a=this.ranges[o],c=a-(this.inverted?l:0),f=a+(this.inverted?0:l),p=this.ranges[o+t],m=this.ranges[o+r];e(c,c+p,f,f+m),l+=m-p}}invert(){return new Gt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Gt.empty:new Gt(e<0?[0,-e,0]:[0,0,e])}}Gt.empty=new Gt([]);class Hs{constructor(e,t,r=0,o=e?e.length:0){this.mirror=t,this.from=r,this.to=o,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Hs(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let o=e.getMirror(t);this.appendMap(e._maps[t],o!=null&&o<t?r+o:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let o=e.getMirror(t);this.appendMap(e._maps[t].invert(),o!=null&&o>t?r-o-1:void 0)}}invert(){let e=new Hs;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let o=0;for(let l=this.from;l<this.to;l++){let a=this._maps[l],c=a.mapResult(e,t);if(c.recover!=null){let f=this.getMirror(l);if(f!=null&&f>l&&f<this.to){l=f,e=this._maps[f].recover(c.recover);continue}}o|=c.delInfo,e=c.pos}return r?e:new ad(e,o,null)}}const bf=Object.create(null);class Tt{getMap(){return Gt.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=bf[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in bf)throw new RangeError("Duplicate use of step JSON ID "+e);return bf[e]=t,t.prototype.jsonID=e,t}}class Ge{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Ge(e,null)}static fail(e){return new Ge(null,e)}static fromReplace(e,t,r,o){try{return Ge.ok(e.replace(t,r,o))}catch(l){if(l instanceof Ia)return Ge.fail(l.message);throw l}}}function Bd(n,e,t){let r=[];for(let o=0;o<n.childCount;o++){let l=n.child(o);l.content.size&&(l=l.copy(Bd(l.content,e,l))),l.isInline&&(l=e(l,t,o)),r.push(l)}return _.fromArray(r)}class Wr extends Tt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),l=new q(Bd(t.content,(a,c)=>!a.isAtom||!c.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),o),t.openStart,t.openEnd);return Ge.fromReplace(e,this.from,this.to,l)}invert(){return new Fn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Wr(t.pos,r.pos,this.mark)}merge(e){return e instanceof Wr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Wr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Wr(t.from,t.to,e.markFromJSON(t.mark))}}Tt.jsonID("addMark",Wr);class Fn extends Tt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new q(Bd(t.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),t.openStart,t.openEnd);return Ge.fromReplace(e,this.from,this.to,r)}invert(){return new Wr(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Fn(t.pos,r.pos,this.mark)}merge(e){return e instanceof Fn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Fn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Fn(t.from,t.to,e.markFromJSON(t.mark))}}Tt.jsonID("removeMark",Fn);class Ur extends Tt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ge.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Ge.fromReplace(e,this.pos,this.pos+1,new q(_.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let o=0;o<t.marks.length;o++)if(!t.marks[o].isInSet(r))return new Ur(this.pos,t.marks[o]);return new Ur(this.pos,this.mark)}}return new Vi(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ur(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ur(t.pos,e.markFromJSON(t.mark))}}Tt.jsonID("addNodeMark",Ur);class Vi extends Tt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ge.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Ge.fromReplace(e,this.pos,this.pos+1,new q(_.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Ur(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Vi(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Vi(t.pos,e.markFromJSON(t.mark))}}Tt.jsonID("removeNodeMark",Vi);class ot extends Tt{constructor(e,t,r,o=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=o}apply(e){return this.structure&&ud(e,this.from,this.to)?Ge.fail("Structure replace would overwrite content"):Ge.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Gt([this.from,this.to-this.from,this.slice.size])}invert(e){return new ot(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new ot(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ot)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?q.empty:new q(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ot(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?q.empty:new q(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ot(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ot(t.from,t.to,q.fromJSON(e,t.slice),!!t.structure)}}Tt.jsonID("replace",ot);class st extends Tt{constructor(e,t,r,o,l,a,c=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=o,this.slice=l,this.insert=a,this.structure=c}apply(e){if(this.structure&&(ud(e,this.from,this.gapFrom)||ud(e,this.gapTo,this.to)))return Ge.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Ge.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Ge.fromReplace(e,this.from,this.to,r):Ge.fail("Content does not fit in gap")}getMap(){return new Gt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new st(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),l=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||o<t.pos||l>r.pos?null:new st(t.pos,r.pos,o,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new st(t.from,t.to,t.gapFrom,t.gapTo,q.fromJSON(e,t.slice),t.insert,!!t.structure)}}Tt.jsonID("replaceAround",st);function ud(n,e,t){let r=n.resolve(e),o=t-e,l=r.depth;for(;o>0&&l>0&&r.indexAfter(l)==r.node(l).childCount;)l--,o--;if(o>0){let a=r.node(l).maybeChild(r.indexAfter(l));for(;o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}}return!1}function US(n,e,t,r){let o=[],l=[],a,c;n.doc.nodesBetween(e,t,(f,p,m)=>{if(!f.isInline)return;let y=f.marks;if(!r.isInSet(y)&&m.type.allowsMarkType(r.type)){let v=Math.max(p,e),k=Math.min(p+f.nodeSize,t),S=r.addToSet(y);for(let x=0;x<y.length;x++)y[x].isInSet(S)||(a&&a.to==v&&a.mark.eq(y[x])?a.to=k:o.push(a=new Fn(v,k,y[x])));c&&c.to==v?c.to=k:l.push(c=new Wr(v,k,r))}}),o.forEach(f=>n.step(f)),l.forEach(f=>n.step(f))}function KS(n,e,t,r){let o=[],l=0;n.doc.nodesBetween(e,t,(a,c)=>{if(!a.isInline)return;l++;let f=null;if(r instanceof xu){let p=a.marks,m;for(;m=r.isInSet(p);)(f||(f=[])).push(m),p=m.removeFromSet(p)}else r?r.isInSet(a.marks)&&(f=[r]):f=a.marks;if(f&&f.length){let p=Math.min(c+a.nodeSize,t);for(let m=0;m<f.length;m++){let y=f[m],v;for(let k=0;k<o.length;k++){let S=o[k];S.step==l-1&&y.eq(o[k].style)&&(v=S)}v?(v.to=p,v.step=l):o.push({style:y,from:Math.max(c,e),to:p,step:l})}}}),o.forEach(a=>n.step(new Fn(a.from,a.to,a.style)))}function Fd(n,e,t,r=t.contentMatch,o=!0){let l=n.doc.nodeAt(e),a=[],c=e+1;for(let f=0;f<l.childCount;f++){let p=l.child(f),m=c+p.nodeSize,y=r.matchType(p.type);if(!y)a.push(new ot(c,m,q.empty));else{r=y;for(let v=0;v<p.marks.length;v++)t.allowsMarkType(p.marks[v].type)||n.step(new Fn(c,m,p.marks[v]));if(o&&p.isText&&t.whitespace!="pre"){let v,k=/\r?\n|\r/g,S;for(;v=k.exec(p.text);)S||(S=new q(_.from(t.schema.text(" ",t.allowedMarks(p.marks))),0,0)),a.push(new ot(c+v.index,c+v.index+v[0].length,S))}}c=m}if(!r.validEnd){let f=r.fillBefore(_.empty,!0);n.replace(c,c,new q(f,0,0))}for(let f=a.length-1;f>=0;f--)n.step(a[f])}function qS(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function zo(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let o=n.$from.node(r),l=n.$from.index(r),a=n.$to.indexAfter(r);if(r<n.depth&&o.canReplace(l,a,t))return r;if(r==0||o.type.spec.isolating||!qS(o,l,a))break}return null}function JS(n,e,t){let{$from:r,$to:o,depth:l}=e,a=r.before(l+1),c=o.after(l+1),f=a,p=c,m=_.empty,y=0;for(let S=l,x=!1;S>t;S--)x||r.index(S)>0?(x=!0,m=_.from(r.node(S).copy(m)),y++):f--;let v=_.empty,k=0;for(let S=l,x=!1;S>t;S--)x||o.after(S+1)<o.end(S)?(x=!0,v=_.from(o.node(S).copy(v)),k++):p++;n.step(new st(f,p,a,c,new q(m.append(v),y,k),m.size-y,!0))}function _d(n,e,t=null,r=n){let o=QS(n,e),l=o&&GS(r,e);return l?o.map(Cg).concat({type:e,attrs:t}).concat(l.map(Cg)):null}function Cg(n){return{type:n,attrs:null}}function QS(n,e){let{parent:t,startIndex:r,endIndex:o}=n,l=t.contentMatchAt(r).findWrapping(e);if(!l)return null;let a=l.length?l[0]:e;return t.canReplaceWith(r,o,a)?l:null}function GS(n,e){let{parent:t,startIndex:r,endIndex:o}=n,l=t.child(r),a=e.contentMatch.findWrapping(l.type);if(!a)return null;let f=(a.length?a[a.length-1]:e).contentMatch;for(let p=r;f&&p<o;p++)f=f.matchType(t.child(p).type);return!f||!f.validEnd?null:a}function YS(n,e,t){let r=_.empty;for(let a=t.length-1;a>=0;a--){if(r.size){let c=t[a].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=_.from(t[a].type.create(t[a].attrs,r))}let o=e.start,l=e.end;n.step(new st(o,l,o,l,new q(r,0,0),t.length,!0))}function XS(n,e,t,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=n.steps.length;n.doc.nodesBetween(e,t,(a,c)=>{let f=typeof o=="function"?o(a):o;if(a.isTextblock&&!a.hasMarkup(r,f)&&ZS(n.doc,n.mapping.slice(l).map(c),r)){let p=null;if(r.schema.linebreakReplacement){let k=r.whitespace=="pre",S=!!r.contentMatch.matchType(r.schema.linebreakReplacement);k&&!S?p=!1:!k&&S&&(p=!0)}p===!1&&M0(n,a,c,l),Fd(n,n.mapping.slice(l).map(c,1),r,void 0,p===null);let m=n.mapping.slice(l),y=m.map(c,1),v=m.map(c+a.nodeSize,1);return n.step(new st(y,v,y+1,v-1,new q(_.from(r.create(f,null,a.marks)),0,0),1,!0)),p===!0&&T0(n,a,c,l),!1}})}function T0(n,e,t,r){e.forEach((o,l)=>{if(o.isText){let a,c=/\r?\n|\r/g;for(;a=c.exec(o.text);){let f=n.mapping.slice(r).map(t+1+l+a.index);n.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function M0(n,e,t,r){e.forEach((o,l)=>{if(o.type==o.type.schema.linebreakReplacement){let a=n.mapping.slice(r).map(t+1+l);n.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function ZS(n,e,t){let r=n.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,t)}function ew(n,e,t,r,o){let l=n.doc.nodeAt(e);if(!l)throw new RangeError("No node at given position");t||(t=l.type);let a=t.create(r,null,o||l.marks);if(l.isLeaf)return n.replaceWith(e,e+l.nodeSize,a);if(!t.validContent(l.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new st(e,e+l.nodeSize,e+1,e+l.nodeSize-1,new q(_.from(a),0,0),1,!0))}function cr(n,e,t=1,r){let o=n.resolve(e),l=o.depth-t,a=r&&r[r.length-1]||o.parent;if(l<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let p=o.depth-1,m=t-2;p>l;p--,m--){let y=o.node(p),v=o.index(p);if(y.type.spec.isolating)return!1;let k=y.content.cutByIndex(v,y.childCount),S=r&&r[m+1];S&&(k=k.replaceChild(0,S.type.create(S.attrs)));let x=r&&r[m]||y;if(!y.canReplace(v+1,y.childCount)||!x.type.validContent(k))return!1}let c=o.indexAfter(l),f=r&&r[0];return o.node(l).canReplaceWith(c,c,f?f.type:o.node(l+1).type)}function tw(n,e,t=1,r){let o=n.doc.resolve(e),l=_.empty,a=_.empty;for(let c=o.depth,f=o.depth-t,p=t-1;c>f;c--,p--){l=_.from(o.node(c).copy(l));let m=r&&r[p];a=_.from(m?m.type.create(m.attrs,a):o.node(c).copy(a))}n.step(new ot(e,e,new q(l.append(a),t,t),!0))}function Zr(n,e){let t=n.resolve(e),r=t.index();return O0(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function nw(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let o=0;o<e.childCount;o++){let l=e.child(o),a=l.type==r?n.type.schema.nodes.text:l.type;if(t=t.matchType(a),!t||!n.type.allowsMarks(l.marks))return!1}return t.validEnd}function O0(n,e){return!!(n&&e&&!n.isLeaf&&nw(n,e))}function Cu(n,e,t=-1){let r=n.resolve(e);for(let o=r.depth;;o--){let l,a,c=r.index(o);if(o==r.depth?(l=r.nodeBefore,a=r.nodeAfter):t>0?(l=r.node(o+1),c++,a=r.node(o).maybeChild(c)):(l=r.node(o).maybeChild(c-1),a=r.node(o+1)),l&&!l.isTextblock&&O0(l,a)&&r.node(o).canReplace(c,c+1))return e;if(o==0)break;e=t<0?r.before(o):r.after(o)}}function rw(n,e,t){let r=null,{linebreakReplacement:o}=n.doc.type.schema,l=n.doc.resolve(e-t),a=l.node().type;if(o&&a.inlineContent){let m=a.whitespace=="pre",y=!!a.contentMatch.matchType(o);m&&!y?r=!1:!m&&y&&(r=!0)}let c=n.steps.length;if(r===!1){let m=n.doc.resolve(e+t);M0(n,m.node(),m.before(),c)}a.inlineContent&&Fd(n,e+t-1,a,l.node().contentMatchAt(l.index()),r==null);let f=n.mapping.slice(c),p=f.map(e-t);if(n.step(new ot(p,f.map(e+t,-1),q.empty,!0)),r===!0){let m=n.doc.resolve(p);T0(n,m.node(),m.before(),n.steps.length)}return n}function iw(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let l=r.index(o);if(r.node(o).canReplaceWith(l,l,t))return r.before(o+1);if(l>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let l=r.indexAfter(o);if(r.node(o).canReplaceWith(l,l,t))return r.after(o+1);if(l<r.node(o).childCount)return null}return null}function b0(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let o=t.content;for(let l=0;l<t.openStart;l++)o=o.firstChild.content;for(let l=1;l<=(t.openStart==0&&t.size?2:1);l++)for(let a=r.depth;a>=0;a--){let c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,f=r.index(a)+(c>0?1:0),p=r.node(a),m=!1;if(l==1)m=p.canReplace(f,f,o);else{let y=p.contentMatchAt(f).findWrapping(o.firstChild.type);m=y&&p.canReplaceWith(f,f,y[0])}if(m)return c==0?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function Eu(n,e,t=e,r=q.empty){if(e==t&&!r.size)return null;let o=n.resolve(e),l=n.resolve(t);return N0(o,l,r)?new ot(e,t,r):new ow(o,l,r).fit()}function N0(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class ow{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=_.empty;for(let o=0;o<=e.depth;o++){let l=e.node(o);this.frontier.push({type:l.type,match:l.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=_.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let p=this.findFittable();p?this.placeNodes(p):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let l=this.placed,a=r.depth,c=o.depth;for(;a&&c&&l.childCount==1;)l=l.firstChild.content,a--,c--;let f=new q(l,a,c);return e>-1?new st(r.pos,e,this.$to.pos,this.$to.end(),f,t):f.size||r.pos!=this.$to.pos?new ot(r.pos,o.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let l=t.firstChild;if(t.childCount>1&&(o=0),l.type.spec.isolating&&o<=r){e=r;break}t=l.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let o,l=null;r?(l=Nf(this.unplaced.content,r-1).firstChild,o=l.content):o=this.unplaced.content;let a=o.firstChild;for(let c=this.depth;c>=0;c--){let{type:f,match:p}=this.frontier[c],m,y=null;if(t==1&&(a?p.matchType(a.type)||(y=p.fillBefore(_.from(a),!1)):l&&f.compatibleContent(l.type)))return{sliceDepth:r,frontierDepth:c,parent:l,inject:y};if(t==2&&a&&(m=p.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:c,parent:l,wrap:m};if(l&&p.matchType(l.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,o=Nf(e,t);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new q(e,t+1,Math.max(r,o.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,o=Nf(e,t);if(o.childCount<=1&&t>0){let l=e.size-t<=t+o.size;this.unplaced=new q(Cs(e,t-1,1),t-1,l?t-1:r)}else this.unplaced=new q(Cs(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:o,wrap:l}){for(;this.depth>t;)this.closeFrontierNode();if(l)for(let x=0;x<l.length;x++)this.openFrontierNode(l[x]);let a=this.unplaced,c=r?r.content:a.content,f=a.openStart-e,p=0,m=[],{match:y,type:v}=this.frontier[t];if(o){for(let x=0;x<o.childCount;x++)m.push(o.child(x));y=y.matchFragment(o)}let k=c.size+e-(a.content.size-a.openEnd);for(;p<c.childCount;){let x=c.child(p),C=y.matchType(x.type);if(!C)break;p++,(p>1||f==0||x.content.size)&&(y=C,m.push(A0(x.mark(v.allowedMarks(x.marks)),p==1?f:0,p==c.childCount?k:-1)))}let S=p==c.childCount;S||(k=-1),this.placed=Es(this.placed,t,_.from(m)),this.frontier[t].match=y,S&&k<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,C=c;x<k;x++){let b=C.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),C=b.content}this.unplaced=S?e==0?q.empty:new q(Cs(a.content,e-1,1),e-1,k<0?a.openEnd:e-1):new q(Cs(a.content,e,p),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Af(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:o}=this.frontier[t],l=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=Af(e,t,o,r,l);if(a){for(let c=t-1;c>=0;c--){let{match:f,type:p}=this.frontier[c],m=Af(e,c,p,f,!0);if(!m||m.childCount)continue e}return{depth:t,fit:a,move:l?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Es(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let o=e.node(r),l=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,l)}return e}openFrontierNode(e,t=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=Es(this.placed,this.depth,_.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(_.empty,!0);t.childCount&&(this.placed=Es(this.placed,this.frontier.length,t))}}function Cs(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Cs(n.firstChild.content,e-1,t)))}function Es(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Es(n.lastChild.content,e-1,t)))}function Nf(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function A0(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,A0(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(_.empty,!0)))),n.copy(r)}function Af(n,e,t,r,o){let l=n.node(e),a=o?n.indexAfter(e):n.index(e);if(a==l.childCount&&!t.compatibleContent(l.type))return null;let c=r.fillBefore(l.content,!0,a);return c&&!sw(t,l.content,a)?c:null}function sw(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function lw(n){return n.spec.defining||n.spec.definingForContent}function aw(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let o=n.doc.resolve(e),l=n.doc.resolve(t);if(N0(o,l,r))return n.step(new ot(e,t,r));let a=R0(o,n.doc.resolve(t));a[a.length-1]==0&&a.pop();let c=-(o.depth+1);a.unshift(c);for(let v=o.depth,k=o.pos-1;v>0;v--,k--){let S=o.node(v).type.spec;if(S.defining||S.definingAsContext||S.isolating)break;a.indexOf(v)>-1?c=v:o.before(v)==k&&a.splice(1,0,-v)}let f=a.indexOf(c),p=[],m=r.openStart;for(let v=r.content,k=0;;k++){let S=v.firstChild;if(p.push(S),k==r.openStart)break;v=S.content}for(let v=m-1;v>=0;v--){let k=p[v],S=lw(k.type);if(S&&!k.sameMarkup(o.node(Math.abs(c)-1)))m=v;else if(S||!k.type.isTextblock)break}for(let v=r.openStart;v>=0;v--){let k=(v+m+1)%(r.openStart+1),S=p[k];if(S)for(let x=0;x<a.length;x++){let C=a[(x+f)%a.length],b=!0;C<0&&(b=!1,C=-C);let z=o.node(C-1),U=o.index(C-1);if(z.canReplaceWith(U,U,S.type,S.marks))return n.replace(o.before(C),b?l.after(C):t,new q(D0(r.content,0,r.openStart,k),k,r.openEnd))}}let y=n.steps.length;for(let v=a.length-1;v>=0&&(n.replace(e,t,r),!(n.steps.length>y));v--){let k=a[v];k<0||(e=o.before(k),t=l.after(k))}}function D0(n,e,t,r,o){if(e<t){let l=n.firstChild;n=n.replaceChild(0,l.copy(D0(l.content,e+1,t,r,l)))}if(e>r){let l=o.contentMatchAt(0),a=l.fillBefore(n).append(n);n=a.append(l.matchFragment(a).fillBefore(_.empty,!0))}return n}function uw(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let o=iw(n.doc,e,r.type);o!=null&&(e=t=o)}n.replaceRange(e,t,new q(_.from(r),0,0))}function cw(n,e,t){let r=n.doc.resolve(e),o=n.doc.resolve(t),l=R0(r,o);for(let a=0;a<l.length;a++){let c=l[a],f=a==l.length-1;if(f&&c==0||r.node(c).type.contentMatch.validEnd)return n.delete(r.start(c),o.end(c));if(c>0&&(f||r.node(c-1).canReplace(r.index(c-1),o.indexAfter(c-1))))return n.delete(r.before(c),o.after(c))}for(let a=1;a<=r.depth&&a<=o.depth;a++)if(e-r.start(a)==r.depth-a&&t>r.end(a)&&o.end(a)-t!=o.depth-a&&r.start(a-1)==o.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),o.index(a-1)))return n.delete(r.before(a),t);n.delete(e,t)}function R0(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let o=r;o>=0;o--){let l=n.start(o);if(l<n.pos-(n.depth-o)||e.end(o)>e.pos+(e.depth-o)||n.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(l==e.start(o)||o==n.depth&&o==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==l-1)&&t.push(o)}return t}class Eo extends Tt{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ge.fail("No node at attribute step's position");let r=Object.create(null);for(let l in t.attrs)r[l]=t.attrs[l];r[this.attr]=this.value;let o=t.type.create(r,null,t.marks);return Ge.fromReplace(e,this.pos,this.pos+1,new q(_.from(o),0,t.isLeaf?0:1))}getMap(){return Gt.empty}invert(e){return new Eo(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Eo(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Eo(t.pos,t.attr,t.value)}}Tt.jsonID("attr",Eo);class js extends Tt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let o in e.attrs)t[o]=e.attrs[o];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Ge.ok(r)}getMap(){return Gt.empty}invert(e){return new js(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new js(t.attr,t.value)}}Tt.jsonID("docAttr",js);let Mo=class extends Error{};Mo=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Mo.prototype=Object.create(Error.prototype);Mo.prototype.constructor=Mo;Mo.prototype.name="TransformError";class P0{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Hs}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Mo(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=q.empty){let o=Eu(this.doc,e,t,r);return o&&this.step(o),this}replaceWith(e,t,r){return this.replace(e,t,new q(_.from(r),0,0))}delete(e,t){return this.replace(e,t,q.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return aw(this,e,t,r),this}replaceRangeWith(e,t,r){return uw(this,e,t,r),this}deleteRange(e,t){return cw(this,e,t),this}lift(e,t){return JS(this,e,t),this}join(e,t=1){return rw(this,e,t),this}wrap(e,t){return YS(this,e,t),this}setBlockType(e,t=e,r,o=null){return XS(this,e,t,r,o),this}setNodeMarkup(e,t,r=null,o){return ew(this,e,t,r,o),this}setNodeAttribute(e,t,r){return this.step(new Eo(e,t,r)),this}setDocAttribute(e,t){return this.step(new js(e,t)),this}addNodeMark(e,t){return this.step(new Ur(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Le)t.isInSet(r.marks)&&this.step(new Vi(e,t));else{let o=r.marks,l,a=[];for(;l=t.isInSet(o);)a.push(new Vi(e,l)),o=l.removeFromSet(o);for(let c=a.length-1;c>=0;c--)this.step(a[c])}return this}split(e,t=1,r){return tw(this,e,t,r),this}addMark(e,t,r){return US(this,e,t,r),this}removeMark(e,t,r){return KS(this,e,t,r),this}clearIncompatible(e,t,r){return Fd(this,e,t,r),this}}const Df=Object.create(null);class ye{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new fw(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=q.empty){let r=t.content.lastChild,o=null;for(let c=0;c<t.openEnd;c++)o=r,r=r.lastChild;let l=e.steps.length,a=this.ranges;for(let c=0;c<a.length;c++){let{$from:f,$to:p}=a[c],m=e.mapping.slice(l);e.replaceRange(m.map(f.pos),m.map(p.pos),c?q.empty:t),c==0&&Mg(e,l,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:a,$to:c}=o[l],f=e.mapping.slice(r),p=f.map(a.pos),m=f.map(c.pos);l?e.deleteRange(p,m):(e.replaceRangeWith(p,m,t),Mg(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let o=e.parent.inlineContent?new he(e):vo(e.node(0),e.parent,e.pos,e.index(),t,r);if(o)return o;for(let l=e.depth-1;l>=0;l--){let a=t<0?vo(e.node(0),e.node(l),e.before(l+1),e.index(l),t,r):vo(e.node(0),e.node(l),e.after(l+1),e.index(l)+1,t,r);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Yt(e.node(0))}static atStart(e){return vo(e,e,0,0,1)||new Yt(e)}static atEnd(e){return vo(e,e,e.content.size,e.childCount,-1)||new Yt(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Df[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Df)throw new RangeError("Duplicate use of selection JSON ID "+e);return Df[e]=t,t.prototype.jsonID=e,t}getBookmark(){return he.between(this.$anchor,this.$head).getBookmark()}}ye.prototype.visible=!0;class fw{constructor(e,t){this.$from=e,this.$to=t}}let Eg=!1;function Tg(n){!Eg&&!n.parent.inlineContent&&(Eg=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class he extends ye{constructor(e,t=e){Tg(e),Tg(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return ye.near(r);let o=e.resolve(t.map(this.anchor));return new he(o.parent.inlineContent?o:r,r)}replace(e,t=q.empty){if(super.replace(e,t),t==q.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof he&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Tu(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new he(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let o=e.resolve(t);return new this(o,r==t?o:e.resolve(r))}static between(e,t,r){let o=e.pos-t.pos;if((!r||o)&&(r=o>=0?1:-1),!t.parent.inlineContent){let l=ye.findFrom(t,r,!0)||ye.findFrom(t,-r,!0);if(l)t=l.$head;else return ye.near(t,r)}return e.parent.inlineContent||(o==0?e=t:(e=(ye.findFrom(e,-r,!0)||ye.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=o<0&&(e=t))),new he(e,t)}}ye.jsonID("text",he);class Tu{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Tu(e.map(this.anchor),e.map(this.head))}resolve(e){return he.between(e.resolve(this.anchor),e.resolve(this.head))}}class oe extends ye{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:o}=t.mapResult(this.anchor),l=e.resolve(o);return r?ye.near(l):new oe(l)}content(){return new q(_.from(this.node),0,0)}eq(e){return e instanceof oe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Vd(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new oe(e.resolve(t.anchor))}static create(e,t){return new oe(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}oe.prototype.visible=!1;ye.jsonID("node",oe);class Vd{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Tu(r,r):new Vd(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&oe.isSelectable(r)?new oe(t):ye.near(t)}}class Yt extends ye{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=q.empty){if(t==q.empty){e.delete(0,e.doc.content.size);let r=ye.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Yt(e)}map(e){return new Yt(e)}eq(e){return e instanceof Yt}getBookmark(){return dw}}ye.jsonID("all",Yt);const dw={map(){return this},resolve(n){return new Yt(n)}};function vo(n,e,t,r,o,l=!1){if(e.inlineContent)return he.create(n,t);for(let a=r-(o>0?0:1);o>0?a<e.childCount:a>=0;a+=o){let c=e.child(a);if(c.isAtom){if(!l&&oe.isSelectable(c))return oe.create(n,t-(o<0?c.nodeSize:0))}else{let f=vo(n,c,t+o,o<0?c.childCount:0,o,l);if(f)return f}t+=c.nodeSize*o}return null}function Mg(n,e,t){let r=n.steps.length-1;if(r<e)return;let o=n.steps[r];if(!(o instanceof ot||o instanceof st))return;let l=n.mapping.maps[r],a;l.forEach((c,f,p,m)=>{a==null&&(a=m)}),n.setSelection(ye.near(n.doc.resolve(a),t))}const Og=1,bg=2,Ng=4;class pw extends P0{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Og)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&Og)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=bg,this}ensureMarks(e){return Le.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&bg)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Le.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let o=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let l=this.storedMarks;if(!l){let a=this.doc.resolve(t);l=r==t?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,o.text(e,l)),this.selection.empty||this.setSelection(ye.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Ng,this}get scrolledIntoView(){return(this.updated&Ng)>0}}function Ag(n,e){return!e||!n?n:n.bind(e)}class Ts{constructor(e,t,r){this.name=e,this.init=Ag(t.init,r),this.apply=Ag(t.apply,r)}}const hw=[new Ts("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Ts("selection",{init(n,e){return n.selection||ye.atStart(e.doc)},apply(n){return n.selection}}),new Ts("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Ts("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Rf{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=hw.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Ts(r.key,r.spec.state,r))})}}class xo{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),o=null;for(;;){let l=!1;for(let a=0;a<this.config.plugins.length;a++){let c=this.config.plugins[a];if(c.spec.appendTransaction){let f=o?o[a].n:0,p=o?o[a].state:this,m=f<t.length&&c.spec.appendTransaction.call(c,f?t.slice(f):t,p,r);if(m&&r.filterTransaction(m,a)){if(m.setMeta("appendedTransaction",e),!o){o=[];for(let y=0;y<this.config.plugins.length;y++)o.push(y<a?{state:r,n:t.length}:{state:this,n:0})}t.push(m),r=r.applyInner(m),l=!0}o&&(o[a]={state:r,n:t.length})}}if(!l)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new xo(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let l=r[o];t[l.name]=l.apply(e,this[l.name],this,t)}return t}get tr(){return new pw(this)}static create(e){let t=new Rf(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new xo(t);for(let o=0;o<t.fields.length;o++)r[t.fields[o].name]=t.fields[o].init(e,r);return r}reconfigure(e){let t=new Rf(this.schema,e.plugins),r=t.fields,o=new xo(t);for(let l=0;l<r.length;l++){let a=r[l].name;o[a]=this.hasOwnProperty(a)?this[a]:r[l].init(e,o)}return o}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],l=o.spec.state;l&&l.toJSON&&(t[r]=l.toJSON.call(o,this[o.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new Rf(e.schema,e.plugins),l=new xo(o);return o.fields.forEach(a=>{if(a.name=="doc")l.doc=qr.fromJSON(e.schema,t.doc);else if(a.name=="selection")l.selection=ye.fromJSON(l.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(l.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let f=r[c],p=f.spec.state;if(f.key==a.name&&p&&p.fromJSON&&Object.prototype.hasOwnProperty.call(t,c)){l[a.name]=p.fromJSON.call(f,e,t[c],l);return}}l[a.name]=a.init(e,l)}}),l}}function I0(n,e,t){for(let r in n){let o=n[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=I0(o,e,{})),t[r]=o}return t}class ut{constructor(e){this.spec=e,this.props={},e.props&&I0(e.props,this,this.props),this.key=e.key?e.key.key:L0("plugin")}getState(e){return e[this.key]}}const Pf=Object.create(null);function L0(n){return n in Pf?n+"$"+ ++Pf[n]:(Pf[n]=0,n+"$")}class Wt{constructor(e="key"){this.key=L0(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ht=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Oo=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let cd=null;const lr=function(n,e,t){let r=cd||(cd=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},mw=function(){cd=null},Hi=function(n,e,t,r){return t&&(Dg(n,e,t,r,-1)||Dg(n,e,t,r,1))},gw=/^(img|br|input|textarea|hr)$/i;function Dg(n,e,t,r,o){for(;;){if(n==t&&e==r)return!0;if(e==(o<0?0:un(n))){let l=n.parentNode;if(!l||l.nodeType!=1||Xs(n)||gw.test(n.nodeName)||n.contentEditable=="false")return!1;e=ht(n)+(o<0?0:1),n=l}else if(n.nodeType==1){if(n=n.childNodes[e+(o<0?-1:0)],n.contentEditable=="false")return!1;e=o<0?un(n):0}else return!1}}function un(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function yw(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=un(n)}else if(n.parentNode&&!Xs(n))e=ht(n),n=n.parentNode;else return null}}function vw(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Xs(n))e=ht(n)+1,n=n.parentNode;else return null}}function kw(n,e,t){for(let r=e==0,o=e==un(n);r||o;){if(n==t)return!0;let l=ht(n);if(n=n.parentNode,!n)return!1;r=r&&l==0,o=o&&l==un(n)}}function Xs(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Mu=function(n){return n.focusNode&&Hi(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function bi(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function Sw(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function ww(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(un(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(un(r.startContainer),r.startOffset)}}}const Vn=typeof navigator<"u"?navigator:null,Rg=typeof document<"u"?document:null,ei=Vn&&Vn.userAgent||"",fd=/Edge\/(\d+)/.exec(ei),z0=/MSIE \d/.exec(ei),dd=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ei),Ht=!!(z0||dd||fd),Qr=z0?document.documentMode:dd?+dd[1]:fd?+fd[1]:0,Tn=!Ht&&/gecko\/(\d+)/i.test(ei);Tn&&+(/Firefox\/(\d+)/.exec(ei)||[0,0])[1];const pd=!Ht&&/Chrome\/(\d+)/.exec(ei),Et=!!pd,B0=pd?+pd[1]:0,At=!Ht&&!!Vn&&/Apple Computer/.test(Vn.vendor),bo=At&&(/Mobile\/\w+/.test(ei)||!!Vn&&Vn.maxTouchPoints>2),an=bo||(Vn?/Mac/.test(Vn.platform):!1),xw=Vn?/Win/.test(Vn.platform):!1,ar=/Android \d/.test(ei),Zs=!!Rg&&"webkitFontSmoothing"in Rg.documentElement.style,Cw=Zs?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Ew(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function rr(n,e){return typeof n=="number"?n:n[e]}function Tw(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function Pg(n,e,t){let r=n.someProp("scrollThreshold")||0,o=n.someProp("scrollMargin")||5,l=n.dom.ownerDocument;for(let a=t||n.dom;a;){if(a.nodeType!=1){a=Oo(a);continue}let c=a,f=c==l.body,p=f?Ew(l):Tw(c),m=0,y=0;if(e.top<p.top+rr(r,"top")?y=-(p.top-e.top+rr(o,"top")):e.bottom>p.bottom-rr(r,"bottom")&&(y=e.bottom-e.top>p.bottom-p.top?e.top+rr(o,"top")-p.top:e.bottom-p.bottom+rr(o,"bottom")),e.left<p.left+rr(r,"left")?m=-(p.left-e.left+rr(o,"left")):e.right>p.right-rr(r,"right")&&(m=e.right-p.right+rr(o,"right")),m||y)if(f)l.defaultView.scrollBy(m,y);else{let k=c.scrollLeft,S=c.scrollTop;y&&(c.scrollTop+=y),m&&(c.scrollLeft+=m);let x=c.scrollLeft-k,C=c.scrollTop-S;e={left:e.left-x,top:e.top-C,right:e.right-x,bottom:e.bottom-C}}let v=f?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(v))break;a=v=="absolute"?a.offsetParent:Oo(a)}}function Mw(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,o;for(let l=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){let c=n.root.elementFromPoint(l,a);if(!c||c==n.dom||!n.dom.contains(c))continue;let f=c.getBoundingClientRect();if(f.top>=t-20){r=c,o=f.top;break}}return{refDOM:r,refTop:o,stack:F0(n.dom)}}function F0(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Oo(r));return e}function Ow({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;_0(t,r==0?0:r-e)}function _0(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:o,left:l}=n[t];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=l&&(r.scrollLeft=l)}}let go=null;function bw(n){if(n.setActive)return n.setActive();if(go)return n.focus(go);let e=F0(n);n.focus(go==null?{get preventScroll(){return go={preventScroll:!0},!0}}:void 0),go||(go=!1,_0(e,0))}function V0(n,e){let t,r=2e8,o,l=0,a=e.top,c=e.top,f,p;for(let m=n.firstChild,y=0;m;m=m.nextSibling,y++){let v;if(m.nodeType==1)v=m.getClientRects();else if(m.nodeType==3)v=lr(m).getClientRects();else continue;for(let k=0;k<v.length;k++){let S=v[k];if(S.top<=a&&S.bottom>=c){a=Math.max(S.bottom,a),c=Math.min(S.top,c);let x=S.left>e.left?S.left-e.left:S.right<e.left?e.left-S.right:0;if(x<r){t=m,r=x,o=x&&t.nodeType==3?{left:S.right<e.left?S.right:S.left,top:e.top}:e,m.nodeType==1&&x&&(l=y+(e.left>=(S.left+S.right)/2?1:0));continue}}else S.top>e.top&&!f&&S.left<=e.left&&S.right>=e.left&&(f=m,p={left:Math.max(S.left,Math.min(S.right,e.left)),top:S.top});!t&&(e.left>=S.right&&e.top>=S.top||e.left>=S.left&&e.top>=S.bottom)&&(l=y+1)}}return!t&&f&&(t=f,o=p,r=0),t&&t.nodeType==3?Nw(t,o):!t||r&&t.nodeType==1?{node:n,offset:l}:V0(t,o)}function Nw(n,e){let t=n.nodeValue.length,r=document.createRange();for(let o=0;o<t;o++){r.setEnd(n,o+1),r.setStart(n,o);let l=Fr(r,1);if(l.top!=l.bottom&&Hd(e,l))return{node:n,offset:o+(e.left>=(l.left+l.right)/2?1:0)}}return{node:n,offset:0}}function Hd(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function Aw(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function Dw(n,e,t){let{node:r,offset:o}=V0(e,t),l=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();l=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(r,o,l)}function Rw(n,e,t,r){let o=-1;for(let l=e,a=!1;l!=n.dom;){let c=n.docView.nearestDesc(l,!0),f;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((f=c.dom.getBoundingClientRect()).width||f.height)&&(c.node.isBlock&&c.parent&&(!a&&f.left>r.left||f.top>r.top?o=c.posBefore:(!a&&f.right<r.left||f.bottom<r.top)&&(o=c.posAfter),a=!0),!c.contentDOM&&o<0&&!c.node.isText))return(c.node.isBlock?r.top<(f.top+f.bottom)/2:r.left<(f.left+f.right)/2)?c.posBefore:c.posAfter;l=c.dom.parentNode}return o>-1?o:n.docView.posFromDOM(e,t,-1)}function H0(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),l=o;;){let a=n.childNodes[l];if(a.nodeType==1){let c=a.getClientRects();for(let f=0;f<c.length;f++){let p=c[f];if(Hd(e,p))return H0(a,e,p)}}if((l=(l+1)%r)==o)break}return n}function Pw(n,e){let t=n.dom.ownerDocument,r,o=0,l=ww(t,e.left,e.top);l&&({node:r,offset:o}=l);let a=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),c;if(!a||!n.dom.contains(a.nodeType!=1?a.parentNode:a)){let p=n.dom.getBoundingClientRect();if(!Hd(e,p)||(a=H0(n.dom,e,p),!a))return null}if(At)for(let p=a;r&&p;p=Oo(p))p.draggable&&(r=void 0);if(a=Aw(a,e),r){if(Tn&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let m=r.childNodes[o],y;m.nodeName=="IMG"&&(y=m.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&o++}let p;Zs&&o&&r.nodeType==1&&(p=r.childNodes[o-1]).nodeType==1&&p.contentEditable=="false"&&p.getBoundingClientRect().top>=e.top&&o--,r==n.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=n.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(c=Rw(n,r,o,e))}c==null&&(c=Dw(n,a,e));let f=n.docView.nearestDesc(a,!0);return{pos:c,inside:f?f.posAtStart-f.border:-1}}function Ig(n){return n.top<n.bottom||n.left<n.right}function Fr(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(Ig(r))return r}return Array.prototype.find.call(t,Ig)||n.getBoundingClientRect()}const Iw=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function j0(n,e,t){let{node:r,offset:o,atom:l}=n.docView.domFromPos(e,t<0?-1:1),a=Zs||Tn;if(r.nodeType==3)if(a&&(Iw.test(r.nodeValue)||(t<0?!o:o==r.nodeValue.length))){let f=Fr(lr(r,o,o),t);if(Tn&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let p=Fr(lr(r,o-1,o-1),-1);if(p.top==f.top){let m=Fr(lr(r,o,o+1),-1);if(m.top!=f.top)return Ss(m,m.left<p.left)}}return f}else{let f=o,p=o,m=t<0?1:-1;return t<0&&!o?(p++,m=-1):t>=0&&o==r.nodeValue.length?(f--,m=1):t<0?f--:p++,Ss(Fr(lr(r,f,p),m),m<0)}if(!n.state.doc.resolve(e-(l||0)).parent.inlineContent){if(l==null&&o&&(t<0||o==un(r))){let f=r.childNodes[o-1];if(f.nodeType==1)return If(f.getBoundingClientRect(),!1)}if(l==null&&o<un(r)){let f=r.childNodes[o];if(f.nodeType==1)return If(f.getBoundingClientRect(),!0)}return If(r.getBoundingClientRect(),t>=0)}if(l==null&&o&&(t<0||o==un(r))){let f=r.childNodes[o-1],p=f.nodeType==3?lr(f,un(f)-(a?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(p)return Ss(Fr(p,1),!1)}if(l==null&&o<un(r)){let f=r.childNodes[o];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let p=f?f.nodeType==3?lr(f,0,a?0:1):f.nodeType==1?f:null:null;if(p)return Ss(Fr(p,-1),!0)}return Ss(Fr(r.nodeType==3?lr(r):r,-t),t>=0)}function Ss(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function If(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function $0(n,e,t){let r=n.state,o=n.root.activeElement;r!=e&&n.updateState(e),o!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),o!=n.dom&&o&&o.focus()}}function Lw(n,e,t){let r=e.selection,o=t=="up"?r.$from:r.$to;return $0(n,e,()=>{let{node:l}=n.docView.domFromPos(o.pos,t=="up"?-1:1);for(;;){let c=n.docView.nearestDesc(l,!0);if(!c)break;if(c.node.isBlock){l=c.contentDOM||c.dom;break}l=c.dom.parentNode}let a=j0(n,o.pos,1);for(let c=l.firstChild;c;c=c.nextSibling){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=lr(c,0,c.nodeValue.length).getClientRects();else continue;for(let p=0;p<f.length;p++){let m=f[p];if(m.bottom>m.top+1&&(t=="up"?a.top-m.top>(m.bottom-a.top)*2:m.bottom-a.bottom>(a.bottom-m.top)*2))return!1}}return!0})}const zw=/[\u0590-\u08ac]/;function Bw(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,l=!o,a=o==r.parent.content.size,c=n.domSelection();return c?!zw.test(r.parent.textContent)||!c.modify?t=="left"||t=="backward"?l:a:$0(n,e,()=>{let{focusNode:f,focusOffset:p,anchorNode:m,anchorOffset:y}=n.domSelectionRange(),v=c.caretBidiLevel;c.modify("move",t,"character");let k=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:S,focusOffset:x}=n.domSelectionRange(),C=S&&!k.contains(S.nodeType==1?S:S.parentNode)||f==S&&p==x;try{c.collapse(m,y),f&&(f!=m||p!=y)&&c.extend&&c.extend(f,p)}catch{}return v!=null&&(c.caretBidiLevel=v),C}):r.pos==r.start()||r.pos==r.end()}let Lg=null,zg=null,Bg=!1;function Fw(n,e,t){return Lg==e&&zg==t?Bg:(Lg=e,zg=t,Bg=t=="up"||t=="down"?Lw(n,e,t):Bw(n,e,t))}const fn=0,Fg=1,Ai=2,Hn=3;class el{constructor(e,t,r,o){this.parent=e,this.children=t,this.dom=r,this.contentDOM=o,this.dirty=fn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let o=this.children[t];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let l,a;if(e==this.contentDOM)l=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.previousSibling}for(;l&&!((a=l.pmViewDesc)&&a.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(a)+a.size:this.posAtStart}else{let l,a;if(e==this.contentDOM)l=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.nextSibling}for(;l&&!((a=l.pmViewDesc)&&a.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(a):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=t>ht(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let l=e;;l=l.parentNode){if(l==this.dom){o=!1;break}if(l.previousSibling)break}if(o==null&&t==e.childNodes.length)for(let l=e;;l=l.parentNode){if(l==this.dom){o=!0;break}if(l.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,o=e;o;o=o.parentNode){let l=this.getDesc(o),a;if(l&&(!t||l.node))if(r&&(a=l.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return l}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let o=e;o;o=o.parentNode){let l=this.getDesc(o);if(l)return l.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let o=this.children[t],l=r+o.size;if(r==e&&l!=r){for(;!o.border&&o.children.length;)for(let a=0;a<o.children.length;a++){let c=o.children[a];if(c.size){o=c;break}}return o}if(e<l)return o.descAt(e-r-o.border);r=l}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let l=0;r<this.children.length;r++){let a=this.children[r],c=l+a.size;if(c>e||a instanceof U0){o=e-l;break}l=c}if(o)return this.children[r].domFromPos(o-this.children[r].border,t);for(let l;r&&!(l=this.children[r-1]).size&&l instanceof W0&&l.side>=0;r--);if(t<=0){let l,a=!0;for(;l=r?this.children[r-1]:null,!(!l||l.dom.parentNode==this.contentDOM);r--,a=!1);return l&&t&&a&&!l.border&&!l.domAtom?l.domFromPos(l.size,t):{node:this.contentDOM,offset:l?ht(l.dom)+1:0}}else{let l,a=!0;for(;l=r<this.children.length?this.children[r]:null,!(!l||l.dom.parentNode==this.contentDOM);r++,a=!1);return l&&a&&!l.border&&!l.domAtom?l.domFromPos(0,t):{node:this.contentDOM,offset:l?ht(l.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,l=-1;for(let a=r,c=0;;c++){let f=this.children[c],p=a+f.size;if(o==-1&&e<=p){let m=a+f.border;if(e>=m&&t<=p-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,t,m);e=a;for(let y=c;y>0;y--){let v=this.children[y-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){o=ht(v.dom)+1;break}e-=v.size}o==-1&&(o=0)}if(o>-1&&(p>t||c==this.children.length-1)){t=p;for(let m=c+1;m<this.children.length;m++){let y=this.children[m];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){l=ht(y.dom);break}t+=y.size}l==-1&&(l=this.contentDOM.childNodes.length);break}a=p}return{node:this.contentDOM,from:e,to:t,fromOffset:o,toOffset:l}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,o=!1){let l=Math.min(e,t),a=Math.max(e,t);for(let k=0,S=0;k<this.children.length;k++){let x=this.children[k],C=S+x.size;if(l>S&&a<C)return x.setSelection(e-S-x.border,t-S-x.border,r,o);S=C}let c=this.domFromPos(e,e?-1:1),f=t==e?c:this.domFromPos(t,t?-1:1),p=r.root.getSelection(),m=r.domSelectionRange(),y=!1;if((Tn||At)&&e==t){let{node:k,offset:S}=c;if(k.nodeType==3){if(y=!!(S&&k.nodeValue[S-1]==`
`),y&&S==k.nodeValue.length)for(let x=k,C;x;x=x.parentNode){if(C=x.nextSibling){C.nodeName=="BR"&&(c=f={node:C.parentNode,offset:ht(C)+1});break}let b=x.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let x=k.childNodes[S-1];y=x&&(x.nodeName=="BR"||x.contentEditable=="false")}}if(Tn&&m.focusNode&&m.focusNode!=f.node&&m.focusNode.nodeType==1){let k=m.focusNode.childNodes[m.focusOffset];k&&k.contentEditable=="false"&&(o=!0)}if(!(o||y&&At)&&Hi(c.node,c.offset,m.anchorNode,m.anchorOffset)&&Hi(f.node,f.offset,m.focusNode,m.focusOffset))return;let v=!1;if((p.extend||e==t)&&!y){p.collapse(c.node,c.offset);try{e!=t&&p.extend(f.node,f.offset),v=!0}catch{}}if(!v){if(e>t){let S=c;c=f,f=S}let k=document.createRange();k.setEnd(f.node,f.offset),k.setStart(c.node,c.offset),p.removeAllRanges(),p.addRange(k)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,o=0;o<this.children.length;o++){let l=this.children[o],a=r+l.size;if(r==a?e<=a&&t>=r:e<a&&t>r){let c=r+l.border,f=a-l.border;if(e>=c&&t<=f){this.dirty=e==r||t==a?Ai:Fg,e==c&&t==f&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=Hn:l.markDirty(e-c,t-c);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?Ai:Hn}r=a}this.dirty=Ai}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Ai:Fg;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class W0 extends el{constructor(e,t,r,o){let l,a=t.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)})),!t.type.spec.raw){if(a.nodeType!=1){let c=document.createElement("span");c.appendChild(a),a=c}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,l=this}matchesWidget(e){return this.dirty==fn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class _w extends el{constructor(e,t,r,o){super(e,[],t,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ji extends el{constructor(e,t,r,o,l){super(e,[],r,o),this.mark=t,this.spec=l}static create(e,t,r,o){let l=o.nodeViews[t.type.name],a=l&&l(t,o,r);return(!a||!a.dom)&&(a=Ui.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new ji(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Hn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Hn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=fn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=fn}}slice(e,t,r){let o=ji.create(this.parent,this.mark,!0,r),l=this.children,a=this.size;t<a&&(l=md(l,t,a,r)),e>0&&(l=md(l,0,e,r));for(let c=0;c<l.length;c++)l[c].parent=o;return o.children=l,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Gr extends el{constructor(e,t,r,o,l,a,c,f,p){super(e,[],l,a),this.node=t,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=c}static create(e,t,r,o,l,a){let c=l.nodeViews[t.type.name],f,p=c&&c(t,l,()=>{if(!f)return a;if(f.parent)return f.parent.posBeforeChild(f)},r,o),m=p&&p.dom,y=p&&p.contentDOM;if(t.isText){if(!m)m=document.createTextNode(t.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:y}=Ui.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!y&&!t.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),t.type.spec.draggable&&(m.draggable=!0));let v=m;return m=J0(m,r,t),p?f=new Vw(e,t,r,o,m,y||null,v,p,l,a+1):t.isText?new Ou(e,t,r,o,m,v,l):new Gr(e,t,r,o,m,y||null,v,l,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>_.empty)}return e}matchesNode(e,t,r){return this.dirty==fn&&e.eq(this.node)&&Fa(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,o=t,l=e.composing?this.localCompositionInfo(e,t):null,a=l&&l.pos>-1?l:null,c=l&&l.pos<0,f=new jw(this,a&&a.node,e);Uw(this.node,this.innerDeco,(p,m,y)=>{p.spec.marks?f.syncToMarks(p.spec.marks,r,e):p.type.side>=0&&!y&&f.syncToMarks(m==this.node.childCount?Le.none:this.node.child(m).marks,r,e),f.placeWidget(p,e,o)},(p,m,y,v)=>{f.syncToMarks(p.marks,r,e);let k;f.findNodeMatch(p,m,y,v)||c&&e.state.selection.from>o&&e.state.selection.to<o+p.nodeSize&&(k=f.findIndexWithChild(l.node))>-1&&f.updateNodeAt(p,m,y,k,e)||f.updateNextNode(p,m,y,e,v,o)||f.addNode(p,m,y,e,o),o+=p.nodeSize}),f.syncToMarks([],r,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==Ai)&&(a&&this.protectLocalComposition(e,a),K0(this.contentDOM,this.children,e),bo&&Kw(this.dom))}localCompositionInfo(e,t){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof he)||r<t||o>t+this.node.content.size)return null;let l=e.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let a=l.nodeValue,c=qw(this.node.content,a,r-t,o-t);return c<0?null:{node:l,pos:c,text:a}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:o}){if(this.getDesc(t))return;let l=t;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let a=new _w(this,l,t,o);e.input.compositionNodes.push(a),this.children=md(this.children,r,r+o.length,e,a)}update(e,t,r,o){return this.dirty==Hn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,o),!0)}updateInner(e,t,r,o){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=fn}updateOuterDeco(e){if(Fa(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=q0(this.dom,this.nodeDOM,hd(this.outerDeco,this.node,t),hd(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function _g(n,e,t,r,o){J0(r,e,n);let l=new Gr(void 0,n,e,t,r,r,r,o,0);return l.contentDOM&&l.updateChildren(o,0),l}class Ou extends Gr{constructor(e,t,r,o,l,a,c){super(e,t,r,o,l,null,a,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,o){return this.dirty==Hn||this.dirty!=fn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=fn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=fn,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let o=this.node.cut(e,t),l=document.createTextNode(o.text);return new Ou(this.parent,o,this.outerDeco,this.innerDeco,l,l,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Hn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class U0 extends el{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==fn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Vw extends Gr{constructor(e,t,r,o,l,a,c,f,p,m){super(e,t,r,o,l,a,c,p,m),this.spec=f}update(e,t,r,o){if(this.dirty==Hn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let l=this.spec.update(e,t,r);return l&&this.updateInner(e,t,r,o),l}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,o){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function K0(n,e,t){let r=n.firstChild,o=!1;for(let l=0;l<e.length;l++){let a=e[l],c=a.dom;if(c.parentNode==n){for(;c!=r;)r=Vg(r),o=!0;r=r.nextSibling}else o=!0,n.insertBefore(c,r);if(a instanceof ji){let f=r?r.previousSibling:n.lastChild;K0(a.contentDOM,a.children,t),r=f?f.nextSibling:n.firstChild}}for(;r;)r=Vg(r),o=!0;o&&t.trackWrites==n&&(t.trackWrites=null)}const bs=function(n){n&&(this.nodeName=n)};bs.prototype=Object.create(null);const Di=[new bs];function hd(n,e,t){if(n.length==0)return Di;let r=t?Di[0]:new bs,o=[r];for(let l=0;l<n.length;l++){let a=n[l].type.attrs;if(a){a.nodeName&&o.push(r=new bs(a.nodeName));for(let c in a){let f=a[c];f!=null&&(t&&o.length==1&&o.push(r=new bs(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+f:c=="style"?r.style=(r.style?r.style+";":"")+f:c!="nodeName"&&(r[c]=f))}}}return o}function q0(n,e,t,r){if(t==Di&&r==Di)return e;let o=e;for(let l=0;l<r.length;l++){let a=r[l],c=t[l];if(l){let f;c&&c.nodeName==a.nodeName&&o!=n&&(f=o.parentNode)&&f.nodeName.toLowerCase()==a.nodeName||(f=document.createElement(a.nodeName),f.pmIsDeco=!0,f.appendChild(o),c=Di[0]),o=f}Hw(o,c||Di[0],a)}return o}function Hw(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=t.class?t.class.split(" ").filter(Boolean):[];for(let l=0;l<r.length;l++)o.indexOf(r[l])==-1&&n.classList.remove(r[l]);for(let l=0;l<o.length;l++)r.indexOf(o[l])==-1&&n.classList.add(o[l]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)n.style.removeProperty(o[1])}t.style&&(n.style.cssText+=t.style)}}function J0(n,e,t){return q0(n,n,Di,hd(e,t,n.nodeType!=1))}function Fa(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function Vg(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class jw{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=$w(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let o=0,l=this.stack.length>>1,a=Math.min(l,e.length);for(;o<a&&(o==l-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<l;)this.destroyRest(),this.top.dirty=fn,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let p=this.top.children[f];if(p.matchesMark(e[l])&&!this.isLocked(p.dom)){c=f;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let f=ji.create(this.top,e[l],t,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,l++}}findNodeMatch(e,t,r,o){let l=-1,a;if(o>=this.preMatch.index&&(a=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,r))l=this.top.children.indexOf(a,this.index);else for(let c=this.index,f=Math.min(this.top.children.length,c+5);c<f;c++){let p=this.top.children[c];if(p.matchesNode(e,t,r)&&!this.preMatch.matched.has(p)){l=c;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(e,t,r,o,l){let a=this.top.children[o];return a.dirty==Hn&&a.dom==a.contentDOM&&(a.dirty=Ai),a.update(e,t,r,l)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=t}}updateNextNode(e,t,r,o,l,a){for(let c=this.index;c<this.top.children.length;c++){let f=this.top.children[c];if(f instanceof Gr){let p=this.preMatch.matched.get(f);if(p!=null&&p!=l)return!1;let m=f.dom,y,v=this.isLocked(m)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=Hn&&Fa(t,f.outerDeco));if(!v&&f.update(e,t,r,o))return this.destroyBetween(this.index,c),f.dom!=m&&(this.changed=!0),this.index++,!0;if(!v&&(y=this.recreateWrapper(f,e,t,r,o,a)))return this.destroyBetween(this.index,c),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=Ai,y.updateChildren(o,a+1),y.dirty=fn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,o,l,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Fa(r,e.outerDeco)||!o.eq(e.innerDeco))return null;let c=Gr.create(this.top,t,r,o,l,a);if(c.contentDOM){c.children=e.children,e.children=[];for(let f of c.children)f.parent=c}return e.destroy(),c}addNode(e,t,r,o,l){let a=Gr.create(this.top,e,t,r,o,l);a.contentDOM&&a.updateChildren(o,l+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,t,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let l=new W0(this.top,e,t,r);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof ji;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Ou)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((At||Et)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new U0(this.top,[],r,null);t!=this.top?t.children.push(o):t.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function $w(n,e){let t=e,r=t.children.length,o=n.childCount,l=new Map,a=[];e:for(;o>0;){let c;for(;;)if(r){let p=t.children[r-1];if(p instanceof ji)t=p,r=p.children.length;else{c=p,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let f=c.node;if(f){if(f!=n.child(o-1))break;--o,l.set(c,o),a.push(c)}}return{index:o,matched:l,matches:a.reverse()}}function Ww(n,e){return n.type.side-e.type.side}function Uw(n,e,t,r){let o=e.locals(n),l=0;if(o.length==0){for(let p=0;p<n.childCount;p++){let m=n.child(p);r(m,o,e.forChild(l,m),p),l+=m.nodeSize}return}let a=0,c=[],f=null;for(let p=0;;){let m,y;for(;a<o.length&&o[a].to==l;){let C=o[a++];C.widget&&(m?(y||(y=[m])).push(C):m=C)}if(m)if(y){y.sort(Ww);for(let C=0;C<y.length;C++)t(y[C],p,!!f)}else t(m,p,!!f);let v,k;if(f)k=-1,v=f,f=null;else if(p<n.childCount)k=p,v=n.child(p++);else break;for(let C=0;C<c.length;C++)c[C].to<=l&&c.splice(C--,1);for(;a<o.length&&o[a].from<=l&&o[a].to>l;)c.push(o[a++]);let S=l+v.nodeSize;if(v.isText){let C=S;a<o.length&&o[a].from<C&&(C=o[a].from);for(let b=0;b<c.length;b++)c[b].to<C&&(C=c[b].to);C<S&&(f=v.cut(C-l),v=v.cut(0,C-l),S=C,k=-1)}else for(;a<o.length&&o[a].to<S;)a++;let x=v.isInline&&!v.isLeaf?c.filter(C=>!C.inline):c.slice();r(v,x,e.forChild(l,v),k),l=S}}function Kw(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function qw(n,e,t,r){for(let o=0,l=0;o<n.childCount&&l<=r;){let a=n.child(o++),c=l;if(l+=a.nodeSize,!a.isText)continue;let f=a.text;for(;o<n.childCount;){let p=n.child(o++);if(l+=p.nodeSize,!p.isText)break;f+=p.text}if(l>=t){if(l>=r&&f.slice(r-e.length-c,r-c)==e)return r-e.length;let p=c<r?f.lastIndexOf(e,r-c-1):-1;if(p>=0&&p+e.length+c>=t)return c+p;if(t==r&&f.length>=r+e.length-c&&f.slice(r-c,r-c+e.length)==e)return r}}return-1}function md(n,e,t,r,o){let l=[];for(let a=0,c=0;a<n.length;a++){let f=n[a],p=c,m=c+=f.size;p>=t||m<=e?l.push(f):(p<e&&l.push(f.slice(0,e-p,r)),o&&(l.push(o),o=void 0),m>t&&l.push(f.slice(t-p,f.size,r)))}return l}function jd(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let o=n.docView.nearestDesc(t.focusNode),l=o&&o.size==0,a=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(a<0)return null;let c=r.resolve(a),f,p;if(Mu(t)){for(f=a;o&&!o.node;)o=o.parent;let y=o.node;if(o&&y.isAtom&&oe.isSelectable(y)&&o.parent&&!(y.isInline&&kw(t.focusNode,t.focusOffset,o.dom))){let v=o.posBefore;p=new oe(a==v?c:r.resolve(v))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let y=a,v=a;for(let k=0;k<t.rangeCount;k++){let S=t.getRangeAt(k);y=Math.min(y,n.docView.posFromDOM(S.startContainer,S.startOffset,1)),v=Math.max(v,n.docView.posFromDOM(S.endContainer,S.endOffset,-1))}if(y<0)return null;[f,a]=v==n.state.selection.anchor?[v,y]:[y,v],c=r.resolve(a)}else f=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(f<0)return null}let m=r.resolve(f);if(!p){let y=e=="pointer"||n.state.selection.head<c.pos&&!l?1:-1;p=$d(n,m,c,y)}return p}function Q0(n){return n.editable?n.hasFocus():Y0(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function fr(n,e=!1){let t=n.state.selection;if(G0(n,t),!!Q0(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Et){let r=n.domSelectionRange(),o=n.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&Hi(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)Qw(n);else{let{anchor:r,head:o}=t,l,a;Hg&&!(t instanceof he)&&(t.$from.parent.inlineContent||(l=jg(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(a=jg(n,t.to))),n.docView.setSelection(r,o,n,e),Hg&&(l&&$g(l),a&&$g(a)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Jw(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const Hg=At||Et&&B0<63;function jg(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),o=r<t.childNodes.length?t.childNodes[r]:null,l=r?t.childNodes[r-1]:null;if(At&&o&&o.contentEditable=="false")return Lf(o);if((!o||o.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(o)return Lf(o);if(l)return Lf(l)}}function Lf(n){return n.contentEditable="true",At&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function $g(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function Jw(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,o=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=o)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!Q0(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function Qw(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,o=r.nodeName=="IMG";o?t.setStart(r.parentNode,ht(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!o&&!n.state.selection.visible&&Ht&&Qr<=11&&(r.disabled=!0,r.disabled=!1)}function G0(n,e){if(e instanceof oe){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(Wg(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else Wg(n)}function Wg(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function $d(n,e,t,r){return n.someProp("createSelectionBetween",o=>o(n,e,t))||he.between(e,t,r)}function Ug(n){return n.editable&&!n.hasFocus()?!1:Y0(n)}function Y0(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Gw(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Hi(e.node,e.offset,t.anchorNode,t.anchorOffset)}function gd(n,e){let{$anchor:t,$head:r}=n.selection,o=e>0?t.max(r):t.min(r),l=o.parent.inlineContent?o.depth?n.doc.resolve(e>0?o.after():o.before()):null:o;return l&&ye.findFrom(l,e)}function _r(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function Kg(n,e,t){let r=n.state.selection;if(r instanceof he)if(t.indexOf("s")>-1){let{$head:o}=r,l=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let a=n.state.doc.resolve(o.pos+l.nodeSize*(e<0?-1:1));return _r(n,new he(r.$anchor,a))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let o=gd(n.state,e);return o&&o instanceof oe?_r(n,o):!1}else if(!(an&&t.indexOf("m")>-1)){let o=r.$head,l=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,a;if(!l||l.isText)return!1;let c=e<0?o.pos-l.nodeSize:o.pos;return l.isAtom||(a=n.docView.descAt(c))&&!a.contentDOM?oe.isSelectable(l)?_r(n,new oe(e<0?n.state.doc.resolve(o.pos-l.nodeSize):o)):Zs?_r(n,new he(n.state.doc.resolve(e<0?c:c+l.nodeSize))):!1:!1}}else return!1;else{if(r instanceof oe&&r.node.isInline)return _r(n,new he(e>0?r.$to:r.$from));{let o=gd(n.state,e);return o?_r(n,o):!1}}}function _a(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Ns(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function yo(n,e){return e<0?Yw(n):Xw(n)}function Yw(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let o,l,a=!1;for(Tn&&t.nodeType==1&&r<_a(t)&&Ns(t.childNodes[r],-1)&&(a=!0);;)if(r>0){if(t.nodeType!=1)break;{let c=t.childNodes[r-1];if(Ns(c,-1))o=t,l=--r;else if(c.nodeType==3)t=c,r=t.nodeValue.length;else break}}else{if(X0(t))break;{let c=t.previousSibling;for(;c&&Ns(c,-1);)o=t.parentNode,l=ht(c),c=c.previousSibling;if(c)t=c,r=_a(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}a?yd(n,t,r):o&&yd(n,o,l)}function Xw(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let o=_a(t),l,a;for(;;)if(r<o){if(t.nodeType!=1)break;let c=t.childNodes[r];if(Ns(c,1))l=t,a=++r;else break}else{if(X0(t))break;{let c=t.nextSibling;for(;c&&Ns(c,1);)l=c.parentNode,a=ht(c)+1,c=c.nextSibling;if(c)t=c,r=0,o=_a(t);else{if(t=t.parentNode,t==n.dom)break;r=o=0}}}l&&yd(n,l,a)}function X0(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function Zw(n,e){for(;n&&e==n.childNodes.length&&!Xs(n);)e=ht(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function ex(n,e){for(;n&&!e&&!Xs(n);)e=ht(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function yd(n,e,t){if(e.nodeType!=3){let l,a;(a=Zw(e,t))?(e=a,t=0):(l=ex(e,t))&&(e=l,t=l.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Mu(r)){let l=document.createRange();l.setEnd(e,t),l.setStart(e,t),r.removeAllRanges(),r.addRange(l)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:o}=n;setTimeout(()=>{n.state==o&&fr(n)},50)}function qg(n,e){let t=n.state.doc.resolve(e);if(!(Et||xw)&&t.parent.inlineContent){let o=n.coordsAtPos(e);if(e>t.start()){let l=n.coordsAtPos(e-1),a=(l.top+l.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(l.left-o.left)>1)return l.left<o.left?"ltr":"rtl"}if(e<t.end()){let l=n.coordsAtPos(e+1),a=(l.top+l.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(l.left-o.left)>1)return l.left>o.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function Jg(n,e,t){let r=n.state.selection;if(r instanceof he&&!r.empty||t.indexOf("s")>-1||an&&t.indexOf("m")>-1)return!1;let{$from:o,$to:l}=r;if(!o.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let a=gd(n.state,e);if(a&&a instanceof oe)return _r(n,a)}if(!o.parent.inlineContent){let a=e<0?o:l,c=r instanceof Yt?ye.near(a,e):ye.findFrom(a,e);return c?_r(n,c):!1}return!1}function Qg(n,e){if(!(n.state.selection instanceof he))return!0;let{$head:t,$anchor:r,empty:o}=n.state.selection;if(!t.sameParent(r))return!0;if(!o)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let l=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(l&&!l.isText){let a=n.state.tr;return e<0?a.delete(t.pos-l.nodeSize,t.pos):a.delete(t.pos,t.pos+l.nodeSize),n.dispatch(a),!0}return!1}function Gg(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function tx(n){if(!At||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Gg(n,r,"true"),setTimeout(()=>Gg(n,r,"false"),20)}return!1}function nx(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function rx(n,e){let t=e.keyCode,r=nx(e);if(t==8||an&&t==72&&r=="c")return Qg(n,-1)||yo(n,-1);if(t==46&&!e.shiftKey||an&&t==68&&r=="c")return Qg(n,1)||yo(n,1);if(t==13||t==27)return!0;if(t==37||an&&t==66&&r=="c"){let o=t==37?qg(n,n.state.selection.from)=="ltr"?-1:1:-1;return Kg(n,o,r)||yo(n,o)}else if(t==39||an&&t==70&&r=="c"){let o=t==39?qg(n,n.state.selection.from)=="ltr"?1:-1:1;return Kg(n,o,r)||yo(n,o)}else{if(t==38||an&&t==80&&r=="c")return Jg(n,-1,r)||yo(n,-1);if(t==40||an&&t==78&&r=="c")return tx(n)||Jg(n,1,r)||yo(n,1);if(r==(an?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Wd(n,e){n.someProp("transformCopied",k=>{e=k(e,n)});let t=[],{content:r,openStart:o,openEnd:l}=e;for(;o>1&&l>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,l--;let k=r.firstChild;t.push(k.type.name,k.attrs!=k.type.defaultAttrs?k.attrs:null),r=k.content}let a=n.someProp("clipboardSerializer")||Ui.fromSchema(n.state.schema),c=iv(),f=c.createElement("div");f.appendChild(a.serializeFragment(r,{document:c}));let p=f.firstChild,m,y=0;for(;p&&p.nodeType==1&&(m=rv[p.nodeName.toLowerCase()]);){for(let k=m.length-1;k>=0;k--){let S=c.createElement(m[k]);for(;f.firstChild;)S.appendChild(f.firstChild);f.appendChild(S),y++}p=f.firstChild}p&&p.nodeType==1&&p.setAttribute("data-pm-slice",`${o} ${l}${y?` -${y}`:""} ${JSON.stringify(t)}`);let v=n.someProp("clipboardTextSerializer",k=>k(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:v,slice:e}}function Z0(n,e,t,r,o){let l=o.parent.type.spec.code,a,c;if(!t&&!e)return null;let f=e&&(r||l||!t);if(f){if(n.someProp("transformPastedText",v=>{e=v(e,l||r,n)}),l)return e?new q(_.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):q.empty;let y=n.someProp("clipboardTextParser",v=>v(e,o,r,n));if(y)c=y;else{let v=o.marks(),{schema:k}=n.state,S=Ui.fromSchema(k);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(x=>{let C=a.appendChild(document.createElement("p"));x&&C.appendChild(S.serializeNode(k.text(x,v)))})}}else n.someProp("transformPastedHTML",y=>{t=y(t,n)}),a=lx(t),Zs&&ax(a);let p=a&&a.querySelector("[data-pm-slice]"),m=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let y=+m[3];y>0;y--){let v=a.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;a=v}if(c||(c=(n.someProp("clipboardParser")||n.someProp("domParser")||Jr.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(f||m),context:o,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!ix.test(v.parentNode.nodeName)?{ignore:!0}:null}})),m)c=ux(Yg(c,+m[1],+m[2]),m[4]);else if(c=q.maxOpen(ox(c.content,o),!0),c.openStart||c.openEnd){let y=0,v=0;for(let k=c.content.firstChild;y<c.openStart&&!k.type.spec.isolating;y++,k=k.firstChild);for(let k=c.content.lastChild;v<c.openEnd&&!k.type.spec.isolating;v++,k=k.lastChild);c=Yg(c,y,v)}return n.someProp("transformPasted",y=>{c=y(c,n)}),c}const ix=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ox(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let o=e.node(t).contentMatchAt(e.index(t)),l,a=[];if(n.forEach(c=>{if(!a)return;let f=o.findWrapping(c.type),p;if(!f)return a=null;if(p=a.length&&l.length&&tv(f,l,c,a[a.length-1],0))a[a.length-1]=p;else{a.length&&(a[a.length-1]=nv(a[a.length-1],l.length));let m=ev(c,f);a.push(m),o=o.matchType(m.type),l=f}}),a)return _.from(a)}return n}function ev(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,_.from(n));return n}function tv(n,e,t,r,o){if(o<n.length&&o<e.length&&n[o]==e[o]){let l=tv(n,e,t,r.lastChild,o+1);if(l)return r.copy(r.content.replaceChild(r.childCount-1,l));if(r.contentMatchAt(r.childCount).matchType(o==n.length-1?t.type:n[o+1]))return r.copy(r.content.append(_.from(ev(t,n,o+1))))}}function nv(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,nv(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(_.empty,!0);return n.copy(t.append(r))}function vd(n,e,t,r,o,l){let a=e<0?n.firstChild:n.lastChild,c=a.content;return n.childCount>1&&(l=0),o<r-1&&(c=vd(c,e,t,r,o+1,l)),o>=t&&(c=e<0?a.contentMatchAt(0).fillBefore(c,l<=o).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(_.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,a.copy(c))}function Yg(n,e,t){return e<n.openStart&&(n=new q(vd(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new q(vd(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const rv={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Xg=null;function iv(){return Xg||(Xg=document.implementation.createHTMLDocument("title"))}let zf=null;function sx(n){let e=window.trustedTypes;return e?(zf||(zf=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),zf.createHTML(n)):n}function lx(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=iv().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),o;if((o=r&&rv[r[1].toLowerCase()])&&(n=o.map(l=>"<"+l+">").join("")+n+o.map(l=>"</"+l+">").reverse().join("")),t.innerHTML=sx(n),o)for(let l=0;l<o.length;l++)t=t.querySelector(o[l])||t;return t}function ax(n){let e=n.querySelectorAll(Et?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function ux(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:o,openStart:l,openEnd:a}=n;for(let c=r.length-2;c>=0;c-=2){let f=t.nodes[r[c]];if(!f||f.hasRequiredAttrs())break;o=_.from(f.create(r[c+1],o)),l++,a++}return new q(o,l,a)}const Dt={},Rt={},cx={touchstart:!0,touchmove:!0};class fx{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function dx(n){for(let e in Dt){let t=Dt[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{hx(n,r)&&!Ud(n,r)&&(n.editable||!(r.type in Rt))&&t(n,r)},cx[e]?{passive:!0}:void 0)}At&&n.dom.addEventListener("input",()=>null),kd(n)}function Kr(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function px(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function kd(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>Ud(n,r))})}function Ud(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function hx(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function mx(n,e){!Ud(n,e)&&Dt[e.type]&&(n.editable||!(e.type in Rt))&&Dt[e.type](n,e)}Rt.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!sv(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(ar&&Et&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),bo&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",o=>o(n,bi(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||rx(n,t)?t.preventDefault():Kr(n,"key")};Rt.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Rt.keypress=(n,e)=>{let t=e;if(sv(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||an&&t.metaKey)return;if(n.someProp("handleKeyPress",o=>o(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof he)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(t.charCode);!/[\r\n]/.test(o)&&!n.someProp("handleTextInput",l=>l(n,r.$from.pos,r.$to.pos,o))&&n.dispatch(n.state.tr.insertText(o).scrollIntoView()),t.preventDefault()}};function bu(n){return{left:n.clientX,top:n.clientY}}function gx(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function Kd(n,e,t,r,o){if(r==-1)return!1;let l=n.state.doc.resolve(r);for(let a=l.depth+1;a>0;a--)if(n.someProp(e,c=>a>l.depth?c(n,t,l.nodeAfter,l.before(a),o,!0):c(n,t,l.node(a),l.before(a),o,!1)))return!0;return!1}function To(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function yx(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&oe.isSelectable(r)?(To(n,new oe(t)),!0):!1}function vx(n,e){if(e==-1)return!1;let t=n.state.selection,r,o;t instanceof oe&&(r=t.node);let l=n.state.doc.resolve(e);for(let a=l.depth+1;a>0;a--){let c=a>l.depth?l.nodeAfter:l.node(a);if(oe.isSelectable(c)){r&&t.$from.depth>0&&a>=t.$from.depth&&l.before(t.$from.depth+1)==t.$from.pos?o=l.before(t.$from.depth):o=l.before(a);break}}return o!=null?(To(n,oe.create(n.state.doc,o)),!0):!1}function kx(n,e,t,r,o){return Kd(n,"handleClickOn",e,t,r)||n.someProp("handleClick",l=>l(n,e,r))||(o?vx(n,t):yx(n,t))}function Sx(n,e,t,r){return Kd(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",o=>o(n,e,r))}function wx(n,e,t,r){return Kd(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",o=>o(n,e,r))||xx(n,t,r)}function xx(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(To(n,he.create(r,0,r.content.size)),!0):!1;let o=r.resolve(e);for(let l=o.depth+1;l>0;l--){let a=l>o.depth?o.nodeAfter:o.node(l),c=o.before(l);if(a.inlineContent)To(n,he.create(r,c+1,c+1+a.content.size));else if(oe.isSelectable(a))To(n,oe.create(r,c));else continue;return!0}}function qd(n){return Va(n)}const ov=an?"metaKey":"ctrlKey";Dt.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=qd(n),o=Date.now(),l="singleClick";o-n.input.lastClick.time<500&&gx(t,n.input.lastClick)&&!t[ov]&&(n.input.lastClick.type=="singleClick"?l="doubleClick":n.input.lastClick.type=="doubleClick"&&(l="tripleClick")),n.input.lastClick={time:o,x:t.clientX,y:t.clientY,type:l};let a=n.posAtCoords(bu(t));a&&(l=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new Cx(n,a,t,!!r)):(l=="doubleClick"?Sx:wx)(n,a.pos,a.inside,t)?t.preventDefault():Kr(n,"pointer"))};class Cx{constructor(e,t,r,o){this.view=e,this.pos=t,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[ov],this.allowDefault=r.shiftKey;let l,a;if(t.inside>-1)l=e.state.doc.nodeAt(t.inside),a=t.inside;else{let m=e.state.doc.resolve(t.pos);l=m.parent,a=m.depth?m.before():0}const c=o?null:r.target,f=c?e.docView.nearestDesc(c,!0):null;this.target=f&&f.dom.nodeType==1?f.dom:null;let{selection:p}=e.state;(r.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||p instanceof oe&&p.from<=a&&p.to>a)&&(this.mightDrag={node:l,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Tn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Kr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>fr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(bu(e))),this.updateAllowDefault(e),this.allowDefault||!t?Kr(this.view,"pointer"):kx(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||At&&this.mightDrag&&!this.mightDrag.node.isAtom||Et&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(To(this.view,ye.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Kr(this.view,"pointer")}move(e){this.updateAllowDefault(e),Kr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Dt.touchstart=n=>{n.input.lastTouch=Date.now(),qd(n),Kr(n,"pointer")};Dt.touchmove=n=>{n.input.lastTouch=Date.now(),Kr(n,"pointer")};Dt.contextmenu=n=>qd(n);function sv(n,e){return n.composing?!0:At&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const Ex=ar?5e3:-1;Rt.compositionstart=Rt.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof he&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Va(n,!0),n.markCursor=null;else if(Va(n,!e.selection.empty),Tn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let o=r.focusNode,l=r.focusOffset;o&&o.nodeType==1&&l!=0;){let a=l<0?o.lastChild:o.childNodes[l-1];if(!a)break;if(a.nodeType==3){let c=n.domSelection();c&&c.collapse(a,a.nodeValue.length);break}else o=a,l=-1}}n.input.composing=!0}lv(n,Ex)};Rt.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,lv(n,20))};function lv(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Va(n),e))}function av(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=Mx());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function Tx(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=yw(e.focusNode,e.focusOffset),r=vw(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let o=r.pmViewDesc,l=n.domObserver.lastChangedTextNode;if(t==l||r==l)return l;if(!o||!o.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let a=t.pmViewDesc;if(!(!a||!a.isText(t.nodeValue)))return r}}return t||r}function Mx(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Va(n,e=!1){if(!(ar&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),av(n),e||n.docView&&n.docView.dirty){let t=jd(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function Ox(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const $s=Ht&&Qr<15||bo&&Cw<604;Dt.copy=Rt.cut=(n,e)=>{let t=e,r=n.state.selection,o=t.type=="cut";if(r.empty)return;let l=$s?null:t.clipboardData,a=r.content(),{dom:c,text:f}=Wd(n,a);l?(t.preventDefault(),l.clearData(),l.setData("text/html",c.innerHTML),l.setData("text/plain",f)):Ox(n,c),o&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function bx(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function Nx(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Ws(n,r.value,null,o,e):Ws(n,r.textContent,r.innerHTML,o,e)},50)}function Ws(n,e,t,r,o){let l=Z0(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",f=>f(n,o,l||q.empty)))return!0;if(!l)return!1;let a=bx(l),c=a?n.state.tr.replaceSelectionWith(a,r):n.state.tr.replaceSelection(l);return n.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function uv(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Rt.paste=(n,e)=>{let t=e;if(n.composing&&!ar)return;let r=$s?null:t.clipboardData,o=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Ws(n,uv(r),r.getData("text/html"),o,t)?t.preventDefault():Nx(n,t)};class cv{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const Ax=an?"altKey":"ctrlKey";function fv(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[Ax]}Dt.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let o=n.state.selection,l=o.empty?null:n.posAtCoords(bu(t)),a;if(!(l&&l.pos>=o.from&&l.pos<=(o instanceof oe?o.to-1:o.to))){if(r&&r.mightDrag)a=oe.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let y=n.docView.nearestDesc(t.target,!0);y&&y.node.type.spec.draggable&&y!=n.docView&&(a=oe.create(n.state.doc,y.posBefore))}}let c=(a||n.state.selection).content(),{dom:f,text:p,slice:m}=Wd(n,c);(!t.dataTransfer.files.length||!Et||B0>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData($s?"Text":"text/html",f.innerHTML),t.dataTransfer.effectAllowed="copyMove",$s||t.dataTransfer.setData("text/plain",p),n.dragging=new cv(m,fv(n,t),a)};Dt.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Rt.dragover=Rt.dragenter=(n,e)=>e.preventDefault();Rt.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let o=n.posAtCoords(bu(t));if(!o)return;let l=n.state.doc.resolve(o.pos),a=r&&r.slice;a?n.someProp("transformPasted",S=>{a=S(a,n)}):a=Z0(n,uv(t.dataTransfer),$s?null:t.dataTransfer.getData("text/html"),!1,l);let c=!!(r&&fv(n,t));if(n.someProp("handleDrop",S=>S(n,t,a||q.empty,c))){t.preventDefault();return}if(!a)return;t.preventDefault();let f=a?b0(n.state.doc,l.pos,a):l.pos;f==null&&(f=l.pos);let p=n.state.tr;if(c){let{node:S}=r;S?S.replace(p):p.deleteSelection()}let m=p.mapping.map(f),y=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,v=p.doc;if(y?p.replaceRangeWith(m,m,a.content.firstChild):p.replaceRange(m,m,a),p.doc.eq(v))return;let k=p.doc.resolve(m);if(y&&oe.isSelectable(a.content.firstChild)&&k.nodeAfter&&k.nodeAfter.sameMarkup(a.content.firstChild))p.setSelection(new oe(k));else{let S=p.mapping.map(f);p.mapping.maps[p.mapping.maps.length-1].forEach((x,C,b,z)=>S=z),p.setSelection($d(n,k,p.doc.resolve(S)))}n.focus(),n.dispatch(p.setMeta("uiEvent","drop"))};Dt.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&fr(n)},20))};Dt.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Dt.beforeinput=(n,e)=>{if(Et&&ar&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",l=>l(n,bi(8,"Backspace")))))return;let{$cursor:o}=n.state.selection;o&&o.pos>0&&n.dispatch(n.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let n in Rt)Dt[n]=Rt[n];function Us(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Ha{constructor(e,t){this.toDOM=e,this.spec=t||Li,this.side=this.spec.side||0}map(e,t,r,o){let{pos:l,deleted:a}=e.mapResult(t.from+o,this.side<0?-1:1);return a?null:new cn(l-r,l-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Ha&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Us(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Yr{constructor(e,t){this.attrs=e,this.spec=t||Li}map(e,t,r,o){let l=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-r,a=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-r;return l>=a?null:new cn(l,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Yr&&Us(this.attrs,e.attrs)&&Us(this.spec,e.spec)}static is(e){return e.type instanceof Yr}destroy(){}}class Jd{constructor(e,t){this.attrs=e,this.spec=t||Li}map(e,t,r,o){let l=e.mapResult(t.from+o,1);if(l.deleted)return null;let a=e.mapResult(t.to+o,-1);return a.deleted||a.pos<=l.pos?null:new cn(l.pos-r,a.pos-r,this)}valid(e,t){let{index:r,offset:o}=e.content.findIndex(t.from),l;return o==t.from&&!(l=e.child(r)).isText&&o+l.nodeSize==t.to}eq(e){return this==e||e instanceof Jd&&Us(this.attrs,e.attrs)&&Us(this.spec,e.spec)}destroy(){}}class cn{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new cn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new cn(e,e,new Ha(t,r))}static inline(e,t,r,o){return new cn(e,t,new Yr(r,o))}static node(e,t,r,o){return new cn(e,t,new Jd(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof Yr}get widget(){return this.type instanceof Ha}}const ko=[],Li={};class et{constructor(e,t){this.local=e.length?e:ko,this.children=t.length?t:ko}static create(e,t){return t.length?ja(t,e,0,Li):Ct}find(e,t,r){let o=[];return this.findInner(e??0,t??1e9,o,0,r),o}findInner(e,t,r,o,l){for(let a=0;a<this.local.length;a++){let c=this.local[a];c.from<=t&&c.to>=e&&(!l||l(c.spec))&&r.push(c.copy(c.from+o,c.to+o))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let c=this.children[a]+1;this.children[a+2].findInner(e-c,t-c,r,o+c,l)}}map(e,t,r){return this==Ct||e.maps.length==0?this:this.mapInner(e,t,0,0,r||Li)}mapInner(e,t,r,o,l){let a;for(let c=0;c<this.local.length;c++){let f=this.local[c].map(e,r,o);f&&f.type.valid(t,f)?(a||(a=[])).push(f):l.onRemove&&l.onRemove(this.local[c].spec)}return this.children.length?Dx(this.children,a||[],e,t,r,o,l):a?new et(a.sort(zi),ko):Ct}add(e,t){return t.length?this==Ct?et.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let o,l=0;e.forEach((c,f)=>{let p=f+r,m;if(m=pv(t,c,p)){for(o||(o=this.children.slice());l<o.length&&o[l]<f;)l+=3;o[l]==f?o[l+2]=o[l+2].addInner(c,m,p+1):o.splice(l,0,f,f+c.nodeSize,ja(m,c,p+1,Li)),l+=3}});let a=dv(l?hv(t):t,-r);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||a.splice(c--,1);return new et(a.length?this.local.concat(a).sort(zi):this.local,o||this.children)}remove(e){return e.length==0||this==Ct?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,o=this.local;for(let l=0;l<r.length;l+=3){let a,c=r[l]+t,f=r[l+1]+t;for(let m=0,y;m<e.length;m++)(y=e[m])&&y.from>c&&y.to<f&&(e[m]=null,(a||(a=[])).push(y));if(!a)continue;r==this.children&&(r=this.children.slice());let p=r[l+2].removeInner(a,c+1);p!=Ct?r[l+2]=p:(r.splice(l,3),l-=3)}if(o.length){for(let l=0,a;l<e.length;l++)if(a=e[l])for(let c=0;c<o.length;c++)o[c].eq(a,t)&&(o==this.local&&(o=this.local.slice()),o.splice(c--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new et(o,r):Ct}forChild(e,t){if(this==Ct)return this;if(t.isLeaf)return et.empty;let r,o;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let l=e+1,a=l+t.content.size;for(let c=0;c<this.local.length;c++){let f=this.local[c];if(f.from<a&&f.to>l&&f.type instanceof Yr){let p=Math.max(l,f.from)-l,m=Math.min(a,f.to)-l;p<m&&(o||(o=[])).push(f.copy(p,m))}}if(o){let c=new et(o.sort(zi),ko);return r?new jr([c,r]):c}return r||Ct}eq(e){if(this==e)return!0;if(!(e instanceof et)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Qd(this.localsInner(e))}localsInner(e){if(this==Ct)return ko;if(e.inlineContent||!this.local.some(Yr.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Yr||t.push(this.local[r]);return t}forEachSet(e){e(this)}}et.empty=new et([],[]);et.removeOverlap=Qd;const Ct=et.empty;class jr{constructor(e){this.members=e}map(e,t){const r=this.members.map(o=>o.map(e,t,Li));return jr.from(r)}forChild(e,t){if(t.isLeaf)return et.empty;let r=[];for(let o=0;o<this.members.length;o++){let l=this.members[o].forChild(e,t);l!=Ct&&(l instanceof jr?r=r.concat(l.members):r.push(l))}return jr.from(r)}eq(e){if(!(e instanceof jr)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let o=0;o<this.members.length;o++){let l=this.members[o].localsInner(e);if(l.length)if(!t)t=l;else{r&&(t=t.slice(),r=!1);for(let a=0;a<l.length;a++)t.push(l[a])}}return t?Qd(r?t:t.sort(zi)):ko}static from(e){switch(e.length){case 0:return Ct;case 1:return e[0];default:return new jr(e.every(t=>t instanceof et)?e:e.reduce((t,r)=>t.concat(r instanceof et?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function Dx(n,e,t,r,o,l,a){let c=n.slice();for(let p=0,m=l;p<t.maps.length;p++){let y=0;t.maps[p].forEach((v,k,S,x)=>{let C=x-S-(k-v);for(let b=0;b<c.length;b+=3){let z=c[b+1];if(z<0||v>z+m-y)continue;let U=c[b]+m-y;k>=U?c[b+1]=v<=U?-2:-1:v>=m&&C&&(c[b]+=C,c[b+1]+=C)}y+=C}),m=t.maps[p].map(m,-1)}let f=!1;for(let p=0;p<c.length;p+=3)if(c[p+1]<0){if(c[p+1]==-2){f=!0,c[p+1]=-1;continue}let m=t.map(n[p]+l),y=m-o;if(y<0||y>=r.content.size){f=!0;continue}let v=t.map(n[p+1]+l,-1),k=v-o,{index:S,offset:x}=r.content.findIndex(y),C=r.maybeChild(S);if(C&&x==y&&x+C.nodeSize==k){let b=c[p+2].mapInner(t,C,m+1,n[p]+l+1,a);b!=Ct?(c[p]=y,c[p+1]=k,c[p+2]=b):(c[p+1]=-2,f=!0)}else f=!0}if(f){let p=Rx(c,n,e,t,o,l,a),m=ja(p,r,0,a);e=m.local;for(let y=0;y<c.length;y+=3)c[y+1]<0&&(c.splice(y,3),y-=3);for(let y=0,v=0;y<m.children.length;y+=3){let k=m.children[y];for(;v<c.length&&c[v]<k;)v+=3;c.splice(v,0,m.children[y],m.children[y+1],m.children[y+2])}}return new et(e.sort(zi),c)}function dv(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let o=n[r];t.push(new cn(o.from+e,o.to+e,o.type))}return t}function Rx(n,e,t,r,o,l,a){function c(f,p){for(let m=0;m<f.local.length;m++){let y=f.local[m].map(r,o,p);y?t.push(y):a.onRemove&&a.onRemove(f.local[m].spec)}for(let m=0;m<f.children.length;m+=3)c(f.children[m+2],f.children[m]+p+1)}for(let f=0;f<n.length;f+=3)n[f+1]==-1&&c(n[f+2],e[f]+l+1);return t}function pv(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,o=null;for(let l=0,a;l<n.length;l++)(a=n[l])&&a.from>t&&a.to<r&&((o||(o=[])).push(a),n[l]=null);return o}function hv(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function ja(n,e,t,r){let o=[],l=!1;e.forEach((c,f)=>{let p=pv(n,c,f+t);if(p){l=!0;let m=ja(p,c,t+f+1,r);m!=Ct&&o.push(f,f+c.nodeSize,m)}});let a=dv(l?hv(n):n,-t).sort(zi);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||(r.onRemove&&r.onRemove(a[c].spec),a.splice(c--,1));return a.length||o.length?new et(a,o):Ct}function zi(n,e){return n.from-e.from||n.to-e.to}function Qd(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let o=t+1;o<e.length;o++){let l=e[o];if(l.from==r.from){l.to!=r.to&&(e==n&&(e=n.slice()),e[o]=l.copy(l.from,r.to),Zg(e,o+1,l.copy(r.to,l.to)));continue}else{l.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,l.from),Zg(e,o,r.copy(l.from,r.to)));break}}}return e}function Zg(n,e,t){for(;e<n.length&&zi(t,n[e])>0;)e++;n.splice(e,0,t)}function Bf(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Ct&&e.push(r)}),n.cursorWrapper&&e.push(et.create(n.state.doc,[n.cursorWrapper.deco])),jr.from(e)}const Px={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ix=Ht&&Qr<=11;class Lx{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class zx{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Lx,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);Ht&&Qr<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),Ix&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Px)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Ug(this.view)){if(this.suppressingSelectionUpdates)return fr(this.view);if(Ht&&Qr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Hi(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let l=e.focusNode;l;l=Oo(l))t.add(l);for(let l=e.anchorNode;l;l=Oo(l))if(t.has(l)){r=l;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Ug(e)&&!this.ignoreSelectionChange(r),l=-1,a=-1,c=!1,f=[];if(e.editable)for(let m=0;m<t.length;m++){let y=this.registerMutation(t[m],f);y&&(l=l<0?y.from:Math.min(y.from,l),a=a<0?y.to:Math.max(y.to,a),y.typeOver&&(c=!0))}if(Tn&&f.length){let m=f.filter(y=>y.nodeName=="BR");if(m.length==2){let[y,v]=m;y.parentNode&&y.parentNode.parentNode==v.parentNode?v.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let v of m){let k=v.parentNode;k&&k.nodeName=="LI"&&(!y||_x(e,y)!=k)&&v.remove()}}}let p=null;l<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Mu(r)&&(p=jd(e))&&p.eq(ye.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,fr(e),this.currentSelection.set(r),e.scrollToSelection()):(l>-1||o)&&(l>-1&&(e.docView.markDirty(l,a),Bx(e)),this.handleDOMChange(l,a,c,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||fr(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let y=e.addedNodes[m];t.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,l=e.nextSibling;if(Ht&&Qr<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:y,nextSibling:v}=e.addedNodes[m];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(o=y),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(l=v)}let a=o&&o.parentNode==e.target?ht(o)+1:0,c=r.localPosFromDOM(e.target,a,-1),f=l&&l.parentNode==e.target?ht(l):e.target.childNodes.length,p=r.localPosFromDOM(e.target,f,1);return{from:c,to:p}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let ey=new WeakMap,ty=!1;function Bx(n){if(!ey.has(n)&&(ey.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Tn,ty)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ty=!0}}function ny(n,e){let t=e.startContainer,r=e.startOffset,o=e.endContainer,l=e.endOffset,a=n.domAtPos(n.state.selection.anchor);return Hi(a.node,a.offset,o,l)&&([t,r,o,l]=[o,l,t,r]),{anchorNode:t,anchorOffset:r,focusNode:o,focusOffset:l}}function Fx(n,e){if(e.getComposedRanges){let o=e.getComposedRanges(n.root)[0];if(o)return ny(n,o)}let t;function r(o){o.preventDefault(),o.stopImmediatePropagation(),t=o.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?ny(n,t):null}function _x(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function Vx(n,e,t){let{node:r,fromOffset:o,toOffset:l,from:a,to:c}=n.docView.parseRange(e,t),f=n.domSelectionRange(),p,m=f.anchorNode;if(m&&n.dom.contains(m.nodeType==1?m:m.parentNode)&&(p=[{node:m,offset:f.anchorOffset}],Mu(f)||p.push({node:f.focusNode,offset:f.focusOffset})),Et&&n.input.lastKeyCode===8)for(let C=l;C>o;C--){let b=r.childNodes[C-1],z=b.pmViewDesc;if(b.nodeName=="BR"&&!z){l=C;break}if(!z||z.size)break}let y=n.state.doc,v=n.someProp("domParser")||Jr.fromSchema(n.state.schema),k=y.resolve(a),S=null,x=v.parse(r,{topNode:k.parent,topMatch:k.parent.contentMatchAt(k.index()),topOpen:!0,from:o,to:l,preserveWhitespace:k.parent.type.whitespace=="pre"?"full":!0,findPositions:p,ruleFromNode:Hx,context:k});if(p&&p[0].pos!=null){let C=p[0].pos,b=p[1]&&p[1].pos;b==null&&(b=C),S={anchor:C+a,head:b+a}}return{doc:x,sel:S,from:a,to:c}}function Hx(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(At&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||At&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const jx=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function $x(n,e,t,r,o){let l=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let G=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,de=jd(n,G);if(de&&!n.state.selection.eq(de)){if(Et&&ar&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",Se=>Se(n,bi(13,"Enter"))))return;let Me=n.state.tr.setSelection(de);G=="pointer"?Me.setMeta("pointer",!0):G=="key"&&Me.scrollIntoView(),l&&Me.setMeta("composition",l),n.dispatch(Me)}return}let a=n.state.doc.resolve(e),c=a.sharedDepth(t);e=a.before(c+1),t=n.state.doc.resolve(t).after(c+1);let f=n.state.selection,p=Vx(n,e,t),m=n.state.doc,y=m.slice(p.from,p.to),v,k;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(v=n.state.selection.to,k="end"):(v=n.state.selection.from,k="start"),n.input.lastKeyCode=null;let S=Kx(y.content,p.doc.content,p.from,v,k);if(S&&n.input.domChangeCount++,(bo&&n.input.lastIOSEnter>Date.now()-225||ar)&&o.some(G=>G.nodeType==1&&!jx.test(G.nodeName))&&(!S||S.endA>=S.endB)&&n.someProp("handleKeyDown",G=>G(n,bi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!S)if(r&&f instanceof he&&!f.empty&&f.$head.sameParent(f.$anchor)&&!n.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))S={start:f.from,endA:f.to,endB:f.to};else{if(p.sel){let G=ry(n,n.state.doc,p.sel);if(G&&!G.eq(n.state.selection)){let de=n.state.tr.setSelection(G);l&&de.setMeta("composition",l),n.dispatch(de)}}return}n.state.selection.from<n.state.selection.to&&S.start==S.endB&&n.state.selection instanceof he&&(S.start>n.state.selection.from&&S.start<=n.state.selection.from+2&&n.state.selection.from>=p.from?S.start=n.state.selection.from:S.endA<n.state.selection.to&&S.endA>=n.state.selection.to-2&&n.state.selection.to<=p.to&&(S.endB+=n.state.selection.to-S.endA,S.endA=n.state.selection.to)),Ht&&Qr<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>p.from&&p.doc.textBetween(S.start-p.from-1,S.start-p.from+1)==" "&&(S.start--,S.endA--,S.endB--);let x=p.doc.resolveNoCache(S.start-p.from),C=p.doc.resolveNoCache(S.endB-p.from),b=m.resolve(S.start),z=x.sameParent(C)&&x.parent.inlineContent&&b.end()>=S.endA,U;if((bo&&n.input.lastIOSEnter>Date.now()-225&&(!z||o.some(G=>G.nodeName=="DIV"||G.nodeName=="P"))||!z&&x.pos<p.doc.content.size&&(!x.sameParent(C)||!x.parent.inlineContent)&&!/\S/.test(p.doc.textBetween(x.pos,C.pos,"",""))&&(U=ye.findFrom(p.doc.resolve(x.pos+1),1,!0))&&U.head>x.pos)&&n.someProp("handleKeyDown",G=>G(n,bi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>S.start&&Ux(m,S.start,S.endA,x,C)&&n.someProp("handleKeyDown",G=>G(n,bi(8,"Backspace")))){ar&&Et&&n.domObserver.suppressSelectionUpdates();return}Et&&S.endB==S.start&&(n.input.lastChromeDelete=Date.now()),ar&&!z&&x.start()!=C.start()&&C.parentOffset==0&&x.depth==C.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==S.endA&&(S.endB-=2,C=p.doc.resolveNoCache(S.endB-p.from),setTimeout(()=>{n.someProp("handleKeyDown",function(G){return G(n,bi(13,"Enter"))})},20));let T=S.start,H=S.endA,P,Q,ie;if(z){if(x.pos==C.pos)Ht&&Qr<=11&&x.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>fr(n),20)),P=n.state.tr.delete(T,H),Q=m.resolve(S.start).marksAcross(m.resolve(S.endA));else if(S.endA==S.endB&&(ie=Wx(x.parent.content.cut(x.parentOffset,C.parentOffset),b.parent.content.cut(b.parentOffset,S.endA-b.start()))))P=n.state.tr,ie.type=="add"?P.addMark(T,H,ie.mark):P.removeMark(T,H,ie.mark);else if(x.parent.child(x.index()).isText&&x.index()==C.index()-(C.textOffset?0:1)){let G=x.parent.textBetween(x.parentOffset,C.parentOffset);if(n.someProp("handleTextInput",de=>de(n,T,H,G)))return;P=n.state.tr.insertText(G,T,H)}}if(P||(P=n.state.tr.replace(T,H,p.doc.slice(S.start-p.from,S.endB-p.from))),p.sel){let G=ry(n,P.doc,p.sel);G&&!(Et&&n.composing&&G.empty&&(S.start!=S.endB||n.input.lastChromeDelete<Date.now()-100)&&(G.head==T||G.head==P.mapping.map(H)-1)||Ht&&G.empty&&G.head==T)&&P.setSelection(G)}Q&&P.ensureMarks(Q),l&&P.setMeta("composition",l),n.dispatch(P.scrollIntoView())}function ry(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:$d(n,e.resolve(t.anchor),e.resolve(t.head))}function Wx(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,o=t,l=r,a,c,f;for(let m=0;m<r.length;m++)o=r[m].removeFromSet(o);for(let m=0;m<t.length;m++)l=t[m].removeFromSet(l);if(o.length==1&&l.length==0)c=o[0],a="add",f=m=>m.mark(c.addToSet(m.marks));else if(o.length==0&&l.length==1)c=l[0],a="remove",f=m=>m.mark(c.removeFromSet(m.marks));else return null;let p=[];for(let m=0;m<e.childCount;m++)p.push(f(e.child(m)));if(_.from(p).eq(n))return{mark:c,type:a}}function Ux(n,e,t,r,o){if(t-e<=o.pos-r.pos||Ff(r,!0,!1)<o.pos)return!1;let l=n.resolve(e);if(!r.parent.isTextblock){let c=l.nodeAfter;return c!=null&&t==e+c.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let a=n.resolve(Ff(l,!0,!0));return!a.parent.isTextblock||a.pos>t||Ff(a,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function Ff(n,e,t){let r=n.depth,o=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,o++,e=!1;if(t){let l=n.node(r).maybeChild(n.indexAfter(r));for(;l&&!l.isLeaf;)l=l.firstChild,o++}return o}function Kx(n,e,t,r,o){let l=n.findDiffStart(e,t);if(l==null)return null;let{a,b:c}=n.findDiffEnd(e,t+n.size,t+e.size);if(o=="end"){let f=Math.max(0,l-Math.min(a,c));r-=a+f-l}if(a<l&&n.size<e.size){let f=r<=l&&r>=a?l-r:0;l-=f,l&&l<e.size&&iy(e.textBetween(l-1,l+1))&&(l+=f?1:-1),c=l+(c-a),a=l}else if(c<l){let f=r<=l&&r>=c?l-r:0;l-=f,l&&l<n.size&&iy(n.textBetween(l-1,l+1))&&(l+=f?1:-1),a=l+(a-c),c=l}return{start:l,endA:a,endB:c}}function iy(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class qx{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new fx,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(uy),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=ly(this),sy(this),this.nodeViews=ay(this),this.docView=_g(this.state.doc,oy(this),Bf(this),this.dom,this),this.domObserver=new zx(this,(r,o,l,a)=>$x(this,r,o,l,a)),this.domObserver.start(),dx(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&kd(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(uy),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let o=this.state,l=!1,a=!1;e.storedMarks&&this.composing&&(av(this),a=!0),this.state=e;let c=o.plugins!=e.plugins||this._props.plugins!=t.plugins;if(c||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let k=ay(this);Qx(k,this.nodeViews)&&(this.nodeViews=k,l=!0)}(c||t.handleDOMEvents!=this._props.handleDOMEvents)&&kd(this),this.editable=ly(this),sy(this);let f=Bf(this),p=oy(this),m=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",y=l||!this.docView.matchesNode(e.doc,p,f);(y||!e.selection.eq(o.selection))&&(a=!0);let v=m=="preserve"&&a&&this.dom.style.overflowAnchor==null&&Mw(this);if(a){this.domObserver.stop();let k=y&&(Ht||Et)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&Jx(o.selection,e.selection);if(y){let S=Et?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Tx(this)),(l||!this.docView.update(e.doc,p,f,this))&&(this.docView.updateOuterDeco(p),this.docView.destroy(),this.docView=_g(e.doc,p,f,this.dom,this)),S&&!this.trackWrites&&(k=!0)}k||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Gw(this))?fr(this,k):(G0(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():v&&Ow(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof oe){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&Pg(this,t.getBoundingClientRect(),e)}else Pg(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let l=r.from+(this.state.doc.content.size-t.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==r.node&&(o=l)}this.dragging=new cv(e.slice,e.move,o<0?void 0:oe.create(this.state.doc,o))}someProp(e,t){let r=this._props&&this._props[e],o;if(r!=null&&(o=t?t(r):r))return o;for(let a=0;a<this.directPlugins.length;a++){let c=this.directPlugins[a].props[e];if(c!=null&&(o=t?t(c):c))return o}let l=this.state.plugins;if(l)for(let a=0;a<l.length;a++){let c=l[a].props[e];if(c!=null&&(o=t?t(c):c))return o}}hasFocus(){if(Ht){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&bw(this.dom),fr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Pw(this,e)}coordsAtPos(e,t=1){return j0(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let o=this.docView.posFromDOM(e,t,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,t){return Fw(this,t||this.state,e)}pasteHTML(e,t){return Ws(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Ws(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Wd(this,e)}destroy(){this.docView&&(px(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Bf(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,mw())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return mx(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?At&&this.root.nodeType===11&&Sw(this.dom.ownerDocument)==this.dom&&Fx(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function oy(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[cn.node(0,n.state.doc.content.size,e)]}function sy(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:cn.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function ly(n){return!n.someProp("editable",e=>e(n.state)===!1)}function Jx(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function ay(n){let e=Object.create(null);function t(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function Qx(n,e){let t=0,r=0;for(let o in n){if(n[o]!=e[o])return!0;t++}for(let o in e)r++;return t!=r}function uy(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Xr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},$a={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Gx=typeof navigator<"u"&&/Mac/.test(navigator.platform),Yx=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var mt=0;mt<10;mt++)Xr[48+mt]=Xr[96+mt]=String(mt);for(var mt=1;mt<=24;mt++)Xr[mt+111]="F"+mt;for(var mt=65;mt<=90;mt++)Xr[mt]=String.fromCharCode(mt+32),$a[mt]=String.fromCharCode(mt);for(var _f in Xr)$a.hasOwnProperty(_f)||($a[_f]=Xr[_f]);function Xx(n){var e=Gx&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Yx&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?$a:Xr)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Zx=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),eC=typeof navigator<"u"&&/Win/.test(navigator.platform);function tC(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,o,l,a;for(let c=0;c<e.length-1;c++){let f=e[c];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))Zx?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(t="Alt-"+t),o&&(t="Ctrl-"+t),a&&(t="Meta-"+t),l&&(t="Shift-"+t),t}function nC(n){let e=Object.create(null);for(let t in n)e[tC(t)]=n[t];return e}function Vf(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function rC(n){return new ut({props:{handleKeyDown:mv(n)}})}function mv(n){let e=nC(n);return function(t,r){let o=Xx(r),l,a=e[Vf(o,r)];if(a&&a(t.state,t.dispatch,t))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let c=e[Vf(o,r,!1)];if(c&&c(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(eC&&r.ctrlKey&&r.altKey)&&(l=Xr[r.keyCode])&&l!=o){let c=e[Vf(l,r)];if(c&&c(t.state,t.dispatch,t))return!0}}return!1}}const Gd=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function gv(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const yv=(n,e,t)=>{let r=gv(n,t);if(!r)return!1;let o=Yd(r);if(!o){let a=r.blockRange(),c=a&&zo(a);return c==null?!1:(e&&e(n.tr.lift(a,c).scrollIntoView()),!0)}let l=o.nodeBefore;if(Mv(n,o,e,-1))return!0;if(r.parent.content.size==0&&(No(l,"end")||oe.isSelectable(l)))for(let a=r.depth;;a--){let c=Eu(n.doc,r.before(a),r.after(a),q.empty);if(c&&c.slice.size<c.to-c.from){if(e){let f=n.tr.step(c);f.setSelection(No(l,"end")?ye.findFrom(f.doc.resolve(f.mapping.map(o.pos,-1)),-1):oe.create(f.doc,o.pos-l.nodeSize)),e(f.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return l.isAtom&&o.depth==r.depth-1?(e&&e(n.tr.delete(o.pos-l.nodeSize,o.pos).scrollIntoView()),!0):!1},iC=(n,e,t)=>{let r=gv(n,t);if(!r)return!1;let o=Yd(r);return o?vv(n,o,e):!1},oC=(n,e,t)=>{let r=Sv(n,t);if(!r)return!1;let o=Xd(r);return o?vv(n,o,e):!1};function vv(n,e,t){let r=e.nodeBefore,o=r,l=e.pos-1;for(;!o.isTextblock;l--){if(o.type.spec.isolating)return!1;let m=o.lastChild;if(!m)return!1;o=m}let a=e.nodeAfter,c=a,f=e.pos+1;for(;!c.isTextblock;f++){if(c.type.spec.isolating)return!1;let m=c.firstChild;if(!m)return!1;c=m}let p=Eu(n.doc,l,f,q.empty);if(!p||p.from!=l||p instanceof ot&&p.slice.size>=f-l)return!1;if(t){let m=n.tr.step(p);m.setSelection(he.create(m.doc,l)),t(m.scrollIntoView())}return!0}function No(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const kv=(n,e,t)=>{let{$head:r,empty:o}=n.selection,l=r;if(!o)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;l=Yd(r)}let a=l&&l.nodeBefore;return!a||!oe.isSelectable(a)?!1:(e&&e(n.tr.setSelection(oe.create(n.doc,l.pos-a.nodeSize)).scrollIntoView()),!0)};function Yd(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function Sv(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const wv=(n,e,t)=>{let r=Sv(n,t);if(!r)return!1;let o=Xd(r);if(!o)return!1;let l=o.nodeAfter;if(Mv(n,o,e,1))return!0;if(r.parent.content.size==0&&(No(l,"start")||oe.isSelectable(l))){let a=Eu(n.doc,r.before(),r.after(),q.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=n.tr.step(a);c.setSelection(No(l,"start")?ye.findFrom(c.doc.resolve(c.mapping.map(o.pos)),1):oe.create(c.doc,c.mapping.map(o.pos))),e(c.scrollIntoView())}return!0}}return l.isAtom&&o.depth==r.depth-1?(e&&e(n.tr.delete(o.pos,o.pos+l.nodeSize).scrollIntoView()),!0):!1},xv=(n,e,t)=>{let{$head:r,empty:o}=n.selection,l=r;if(!o)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;l=Xd(r)}let a=l&&l.nodeAfter;return!a||!oe.isSelectable(a)?!1:(e&&e(n.tr.setSelection(oe.create(n.doc,l.pos)).scrollIntoView()),!0)};function Xd(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const sC=(n,e)=>{let t=n.selection,r=t instanceof oe,o;if(r){if(t.node.isTextblock||!Zr(n.doc,t.from))return!1;o=t.from}else if(o=Cu(n.doc,t.from,-1),o==null)return!1;if(e){let l=n.tr.join(o);r&&l.setSelection(oe.create(l.doc,o-n.doc.resolve(o).nodeBefore.nodeSize)),e(l.scrollIntoView())}return!0},lC=(n,e)=>{let t=n.selection,r;if(t instanceof oe){if(t.node.isTextblock||!Zr(n.doc,t.to))return!1;r=t.to}else if(r=Cu(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},aC=(n,e)=>{let{$from:t,$to:r}=n.selection,o=t.blockRange(r),l=o&&zo(o);return l==null?!1:(e&&e(n.tr.lift(o,l).scrollIntoView()),!0)},Cv=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Zd(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const uC=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let o=t.node(-1),l=t.indexAfter(-1),a=Zd(o.contentMatchAt(l));if(!a||!o.canReplaceWith(l,l,a))return!1;if(e){let c=t.after(),f=n.tr.replaceWith(c,c,a.createAndFill());f.setSelection(ye.near(f.doc.resolve(c),1)),e(f.scrollIntoView())}return!0},Ev=(n,e)=>{let t=n.selection,{$from:r,$to:o}=t;if(t instanceof Yt||r.parent.inlineContent||o.parent.inlineContent)return!1;let l=Zd(o.parent.contentMatchAt(o.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,c=n.tr.insert(a,l.createAndFill());c.setSelection(he.create(c.doc,a+1)),e(c.scrollIntoView())}return!0},Tv=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let l=t.before();if(cr(n.doc,l))return e&&e(n.tr.split(l).scrollIntoView()),!0}let r=t.blockRange(),o=r&&zo(r);return o==null?!1:(e&&e(n.tr.lift(r,o).scrollIntoView()),!0)};function cC(n){return(e,t)=>{let{$from:r,$to:o}=e.selection;if(e.selection instanceof oe&&e.selection.node.isBlock)return!r.parentOffset||!cr(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let l=[],a,c,f=!1,p=!1;for(let k=r.depth;;k--)if(r.node(k).isBlock){f=r.end(k)==r.pos+(r.depth-k),p=r.start(k)==r.pos-(r.depth-k),c=Zd(r.node(k-1).contentMatchAt(r.indexAfter(k-1))),l.unshift(f&&c?{type:c}:null),a=k;break}else{if(k==1)return!1;l.unshift(null)}let m=e.tr;(e.selection instanceof he||e.selection instanceof Yt)&&m.deleteSelection();let y=m.mapping.map(r.pos),v=cr(m.doc,y,l.length,l);if(v||(l[0]=c?{type:c}:null,v=cr(m.doc,y,l.length,l)),!v)return!1;if(m.split(y,l.length,l),!f&&p&&r.node(a).type!=c){let k=m.mapping.map(r.before(a)),S=m.doc.resolve(k);c&&r.node(a-1).canReplaceWith(S.index(),S.index()+1,c)&&m.setNodeMarkup(m.mapping.map(r.before(a)),c)}return t&&t(m.scrollIntoView()),!0}}const fC=cC(),dC=(n,e)=>{let{$from:t,to:r}=n.selection,o,l=t.sharedDepth(r);return l==0?!1:(o=t.before(l),e&&e(n.tr.setSelection(oe.create(n.doc,o))),!0)};function pC(n,e,t){let r=e.nodeBefore,o=e.nodeAfter,l=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(l-1,l)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(l,l+1)||!(o.isTextblock||Zr(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function Mv(n,e,t,r){let o=e.nodeBefore,l=e.nodeAfter,a,c,f=o.type.spec.isolating||l.type.spec.isolating;if(!f&&pC(n,e,t))return!0;let p=!f&&e.parent.canReplace(e.index(),e.index()+1);if(p&&(a=(c=o.contentMatchAt(o.childCount)).findWrapping(l.type))&&c.matchType(a[0]||l.type).validEnd){if(t){let k=e.pos+l.nodeSize,S=_.empty;for(let b=a.length-1;b>=0;b--)S=_.from(a[b].create(null,S));S=_.from(o.copy(S));let x=n.tr.step(new st(e.pos-1,k,e.pos,k,new q(S,1,0),a.length,!0)),C=x.doc.resolve(k+2*a.length);C.nodeAfter&&C.nodeAfter.type==o.type&&Zr(x.doc,C.pos)&&x.join(C.pos),t(x.scrollIntoView())}return!0}let m=l.type.spec.isolating||r>0&&f?null:ye.findFrom(e,1),y=m&&m.$from.blockRange(m.$to),v=y&&zo(y);if(v!=null&&v>=e.depth)return t&&t(n.tr.lift(y,v).scrollIntoView()),!0;if(p&&No(l,"start",!0)&&No(o,"end")){let k=o,S=[];for(;S.push(k),!k.isTextblock;)k=k.lastChild;let x=l,C=1;for(;!x.isTextblock;x=x.firstChild)C++;if(k.canReplace(k.childCount,k.childCount,x.content)){if(t){let b=_.empty;for(let U=S.length-1;U>=0;U--)b=_.from(S[U].copy(b));let z=n.tr.step(new st(e.pos-S.length,e.pos+l.nodeSize,e.pos+C,e.pos+l.nodeSize-C,new q(b,S.length,0),0,!0));t(z.scrollIntoView())}return!0}}return!1}function Ov(n){return function(e,t){let r=e.selection,o=n<0?r.$from:r.$to,l=o.depth;for(;o.node(l).isInline;){if(!l)return!1;l--}return o.node(l).isTextblock?(t&&t(e.tr.setSelection(he.create(e.doc,n<0?o.start(l):o.end(l)))),!0):!1}}const hC=Ov(-1),mC=Ov(1);function gC(n,e=null){return function(t,r){let{$from:o,$to:l}=t.selection,a=o.blockRange(l),c=a&&_d(a,n,e);return c?(r&&r(t.tr.wrap(a,c).scrollIntoView()),!0):!1}}function cy(n,e=null){return function(t,r){let o=!1;for(let l=0;l<t.selection.ranges.length&&!o;l++){let{$from:{pos:a},$to:{pos:c}}=t.selection.ranges[l];t.doc.nodesBetween(a,c,(f,p)=>{if(o)return!1;if(!(!f.isTextblock||f.hasMarkup(n,e)))if(f.type==n)o=!0;else{let m=t.doc.resolve(p),y=m.index();o=m.parent.canReplaceWith(y,y+1,n)}})}if(!o)return!1;if(r){let l=t.tr;for(let a=0;a<t.selection.ranges.length;a++){let{$from:{pos:c},$to:{pos:f}}=t.selection.ranges[a];l.setBlockType(c,f,n,e)}r(l.scrollIntoView())}return!0}}function ep(...n){return function(e,t,r){for(let o=0;o<n.length;o++)if(n[o](e,t,r))return!0;return!1}}ep(Gd,yv,kv);ep(Gd,wv,xv);ep(Cv,Ev,Tv,fC);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function yC(n,e=null){return function(t,r){let{$from:o,$to:l}=t.selection,a=o.blockRange(l);if(!a)return!1;let c=r?t.tr:null;return vC(c,a,n,e)?(r&&r(c.scrollIntoView()),!0):!1}}function vC(n,e,t,r=null){let o=!1,l=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=a.resolve(e.start-2);l=new za(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new za(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let c=_d(l,t,r,e);return c?(n&&kC(n,e,c,o,t),!0):!1}function kC(n,e,t,r,o){let l=_.empty;for(let m=t.length-1;m>=0;m--)l=_.from(t[m].type.create(t[m].attrs,l));n.step(new st(e.start-(r?2:0),e.end,e.start,e.end,new q(l,0,0),t.length,!0));let a=0;for(let m=0;m<t.length;m++)t[m].type==o&&(a=m+1);let c=t.length-a,f=e.start+t.length-(r?2:0),p=e.parent;for(let m=e.startIndex,y=e.endIndex,v=!0;m<y;m++,v=!1)!v&&cr(n.doc,f,c)&&(n.split(f,c),f+=2*c),f+=p.child(m).nodeSize;return n}function SC(n){return function(e,t){let{$from:r,$to:o}=e.selection,l=r.blockRange(o,a=>a.childCount>0&&a.firstChild.type==n);return l?t?r.node(l.depth-1).type==n?wC(e,t,n,l):xC(e,t,l):!0:!1}}function wC(n,e,t,r){let o=n.tr,l=r.end,a=r.$to.end(r.depth);l<a&&(o.step(new st(l-1,a,l,a,new q(_.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new za(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));const c=zo(r);if(c==null)return!1;o.lift(r,c);let f=o.doc.resolve(o.mapping.map(l,-1)-1);return Zr(o.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&o.join(f.pos),e(o.scrollIntoView()),!0}function xC(n,e,t){let r=n.tr,o=t.parent;for(let k=t.end,S=t.endIndex-1,x=t.startIndex;S>x;S--)k-=o.child(S).nodeSize,r.delete(k-1,k+1);let l=r.doc.resolve(t.start),a=l.nodeAfter;if(r.mapping.map(t.end)!=t.start+l.nodeAfter.nodeSize)return!1;let c=t.startIndex==0,f=t.endIndex==o.childCount,p=l.node(-1),m=l.index(-1);if(!p.canReplace(m+(c?0:1),m+1,a.content.append(f?_.empty:_.from(o))))return!1;let y=l.pos,v=y+a.nodeSize;return r.step(new st(y-(c?1:0),v+(f?1:0),y+1,v-1,new q((c?_.empty:_.from(o.copy(_.empty))).append(f?_.empty:_.from(o.copy(_.empty))),c?0:1,f?0:1),c?0:1)),e(r.scrollIntoView()),!0}function CC(n){return function(e,t){let{$from:r,$to:o}=e.selection,l=r.blockRange(o,p=>p.childCount>0&&p.firstChild.type==n);if(!l)return!1;let a=l.startIndex;if(a==0)return!1;let c=l.parent,f=c.child(a-1);if(f.type!=n)return!1;if(t){let p=f.lastChild&&f.lastChild.type==c.type,m=_.from(p?n.create():null),y=new q(_.from(n.create(null,_.from(c.type.create(null,m)))),p?3:1,0),v=l.start,k=l.end;t(e.tr.step(new st(v-(p?3:1),k,v,k,y,1,!0)).scrollIntoView())}return!0}}function Nu(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:o}=t,{storedMarks:l}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return r},get doc(){return o},get tr(){return r=t.selection,o=t.doc,l=t.storedMarks,t}}}class Au{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:o}=t,{tr:l}=r,a=this.buildProps(l);return Object.fromEntries(Object.entries(e).map(([c,f])=>[c,(...m)=>{const y=f(...m)(a);return!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),y}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:o,state:l}=this,{view:a}=o,c=[],f=!!e,p=e||l.tr,m=()=>(!f&&t&&!p.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(p),c.every(v=>v===!0)),y={...Object.fromEntries(Object.entries(r).map(([v,k])=>[v,(...x)=>{const C=this.buildProps(p,t),b=k(...x)(C);return c.push(b),y}])),run:m};return y}createCan(e){const{rawCommands:t,state:r}=this,o=!1,l=e||r.tr,a=this.buildProps(l,o);return{...Object.fromEntries(Object.entries(t).map(([f,p])=>[f,(...m)=>p(...m)({...a,dispatch:void 0})])),chain:()=>this.createChain(l,o)}}buildProps(e,t=!0){const{rawCommands:r,editor:o,state:l}=this,{view:a}=o,c={tr:e,editor:o,view:a,state:Nu({state:l,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...m)=>p(...m)(c)]))}};return c}}class EC{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(o=>o.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(o=>o!==t):delete this.callbacks[e]),this}once(e,t){const r=(...o)=>{this.off(e,r),t.apply(this,o)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function Z(n,e,t){return n.config[e]===void 0&&n.parent?Z(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?Z(n.parent,e,t):null}):n.config[e]}function Du(n){const e=n.filter(o=>o.type==="extension"),t=n.filter(o=>o.type==="node"),r=n.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function bv(n){const e=[],{nodeExtensions:t,markExtensions:r}=Du(n),o=[...t,...r],l={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage,extensions:o},f=Z(a,"addGlobalAttributes",c);if(!f)return;f().forEach(m=>{m.types.forEach(y=>{Object.entries(m.attributes).forEach(([v,k])=>{e.push({type:y,name:v,attribute:{...l,...k}})})})})}),o.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage},f=Z(a,"addAttributes",c);if(!f)return;const p=f();Object.entries(p).forEach(([m,y])=>{const v={...l,...y};typeof(v==null?void 0:v.default)=="function"&&(v.default=v.default()),v!=null&&v.isRequired&&(v==null?void 0:v.default)===void 0&&delete v.default,e.push({type:a.name,name:m,attribute:v})})}),e}function at(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function tt(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([o,l])=>{if(!r[o]){r[o]=l;return}if(o==="class"){const c=l?String(l).split(" "):[],f=r[o]?r[o].split(" "):[],p=c.filter(m=>!f.includes(m));r[o]=[...f,...p].join(" ")}else if(o==="style"){const c=l?l.split(";").map(m=>m.trim()).filter(Boolean):[],f=r[o]?r[o].split(";").map(m=>m.trim()).filter(Boolean):[],p=new Map;f.forEach(m=>{const[y,v]=m.split(":").map(k=>k.trim());p.set(y,v)}),c.forEach(m=>{const[y,v]=m.split(":").map(k=>k.trim());p.set(y,v)}),r[o]=Array.from(p.entries()).map(([m,y])=>`${m}: ${y}`).join("; ")}else r[o]=l}),r},{})}function Sd(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>tt(t,r),{})}function Nv(n){return typeof n=="function"}function xe(n,e=void 0,...t){return Nv(n)?e?n.bind(e)(...t):n(...t):n}function TC(n={}){return Object.keys(n).length===0&&n.constructor===Object}function MC(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function fy(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const o=e.reduce((l,a)=>{const c=a.attribute.parseHTML?a.attribute.parseHTML(t):MC(t.getAttribute(a.name));return c==null?l:{...l,[a.name]:c}},{});return{...r,...o}}}}function dy(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&TC(t)?!1:t!=null))}function OC(n,e){var t;const r=bv(n),{nodeExtensions:o,markExtensions:l}=Du(n),a=(t=o.find(p=>Z(p,"topNode")))===null||t===void 0?void 0:t.name,c=Object.fromEntries(o.map(p=>{const m=r.filter(b=>b.type===p.name),y={name:p.name,options:p.options,storage:p.storage,editor:e},v=n.reduce((b,z)=>{const U=Z(z,"extendNodeSchema",y);return{...b,...U?U(p):{}}},{}),k=dy({...v,content:xe(Z(p,"content",y)),marks:xe(Z(p,"marks",y)),group:xe(Z(p,"group",y)),inline:xe(Z(p,"inline",y)),atom:xe(Z(p,"atom",y)),selectable:xe(Z(p,"selectable",y)),draggable:xe(Z(p,"draggable",y)),code:xe(Z(p,"code",y)),whitespace:xe(Z(p,"whitespace",y)),linebreakReplacement:xe(Z(p,"linebreakReplacement",y)),defining:xe(Z(p,"defining",y)),isolating:xe(Z(p,"isolating",y)),attrs:Object.fromEntries(m.map(b=>{var z;return[b.name,{default:(z=b==null?void 0:b.attribute)===null||z===void 0?void 0:z.default}]}))}),S=xe(Z(p,"parseHTML",y));S&&(k.parseDOM=S.map(b=>fy(b,m)));const x=Z(p,"renderHTML",y);x&&(k.toDOM=b=>x({node:b,HTMLAttributes:Sd(b,m)}));const C=Z(p,"renderText",y);return C&&(k.toText=C),[p.name,k]})),f=Object.fromEntries(l.map(p=>{const m=r.filter(C=>C.type===p.name),y={name:p.name,options:p.options,storage:p.storage,editor:e},v=n.reduce((C,b)=>{const z=Z(b,"extendMarkSchema",y);return{...C,...z?z(p):{}}},{}),k=dy({...v,inclusive:xe(Z(p,"inclusive",y)),excludes:xe(Z(p,"excludes",y)),group:xe(Z(p,"group",y)),spanning:xe(Z(p,"spanning",y)),code:xe(Z(p,"code",y)),attrs:Object.fromEntries(m.map(C=>{var b;return[C.name,{default:(b=C==null?void 0:C.attribute)===null||b===void 0?void 0:b.default}]}))}),S=xe(Z(p,"parseHTML",y));S&&(k.parseDOM=S.map(C=>fy(C,m)));const x=Z(p,"renderHTML",y);return x&&(k.toDOM=C=>x({mark:C,HTMLAttributes:Sd(C,m)})),[p.name,k]}));return new y0({topNode:a,nodes:c,marks:f})}function Hf(n,e){return e.nodes[n]||e.marks[n]||null}function py(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function tp(n,e){const t=Ui.fromSchema(e).serializeFragment(n),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(t),o.innerHTML}const bC=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(o,l,a,c)=>{var f,p;const m=((p=(f=o.type.spec).toText)===null||p===void 0?void 0:p.call(f,{node:o,pos:l,parent:a,index:c}))||o.textContent||"%leaf%";t+=o.isAtom&&!o.isText?m:m.slice(0,Math.max(0,r-l))}),t};function np(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class Ru{constructor(e){this.find=e.find,this.handler=e.handler}}const NC=(n,e)=>{if(np(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function ga(n){var e;const{editor:t,from:r,to:o,text:l,rules:a,plugin:c}=n,{view:f}=t;if(f.composing)return!1;const p=f.state.doc.resolve(r);if(p.parent.type.spec.code||!((e=p.nodeBefore||p.nodeAfter)===null||e===void 0)&&e.marks.find(v=>v.type.spec.code))return!1;let m=!1;const y=bC(p)+l;return a.forEach(v=>{if(m)return;const k=NC(y,v.find);if(!k)return;const S=f.state.tr,x=Nu({state:f.state,transaction:S}),C={from:r-(k[0].length-l.length),to:o},{commands:b,chain:z,can:U}=new Au({editor:t,state:x});v.handler({state:x,range:C,match:k,commands:b,chain:z,can:U})===null||!S.steps.length||(S.setMeta(c,{transform:S,from:r,to:o,text:l}),f.dispatch(S),m=!0)}),m}function AC(n){const{editor:e,rules:t}=n,r=new ut({state:{init(){return null},apply(o,l,a){const c=o.getMeta(r);if(c)return c;const f=o.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:m}=f;typeof m=="string"?m=m:m=tp(_.from(m),a.schema);const{from:y}=f,v=y+m.length;ga({editor:e,from:y,to:v,text:m,rules:t,plugin:r})}),o.selectionSet||o.docChanged?null:l}},props:{handleTextInput(o,l,a,c){return ga({editor:e,from:l,to:a,text:c,rules:t,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:l}=o.state.selection;l&&ga({editor:e,from:l.pos,to:l.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(o,l){if(l.key!=="Enter")return!1;const{$cursor:a}=o.state.selection;return a?ga({editor:e,from:a.pos,to:a.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function DC(n){return Object.prototype.toString.call(n).slice(8,-1)}function ya(n){return DC(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Pu(n,e){const t={...n};return ya(n)&&ya(e)&&Object.keys(e).forEach(r=>{ya(e[r])&&ya(n[r])?t[r]=Pu(n[r],e[r]):t[r]=e[r]}),t}class jn{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xe(Z(this,"addOptions",{name:this.name}))),this.storage=xe(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new jn(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Pu(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new jn(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=xe(Z(t,"addOptions",{name:t.name})),t.storage=xe(Z(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!!!a.find(p=>(p==null?void 0:p.type.name)===t.name))return!1;const f=a.find(p=>(p==null?void 0:p.type.name)===t.name);return f&&r.removeStoredMark(f),r.insertText(" ",o.pos),e.view.dispatch(r),!0}return!1}}function RC(n){return typeof n=="number"}class PC{constructor(e){this.find=e.find,this.handler=e.handler}}const IC=(n,e,t)=>{if(np(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(o=>{const l=[o.text];return l.index=o.index,l.input=n,l.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(o.replaceWith)),l}):[]};function LC(n){const{editor:e,state:t,from:r,to:o,rule:l,pasteEvent:a,dropEvent:c}=n,{commands:f,chain:p,can:m}=new Au({editor:e,state:t}),y=[];return t.doc.nodesBetween(r,o,(k,S)=>{if(!k.isTextblock||k.type.spec.code)return;const x=Math.max(r,S),C=Math.min(o,S+k.content.size),b=k.textBetween(x-S,C-S,void 0,"");IC(b,l.find,a).forEach(U=>{if(U.index===void 0)return;const T=x+U.index+1,H=T+U[0].length,P={from:t.tr.mapping.map(T),to:t.tr.mapping.map(H)},Q=l.handler({state:t,range:P,match:U,commands:f,chain:p,can:m,pasteEvent:a,dropEvent:c});y.push(Q)})}),y.every(k=>k!==null)}let va=null;const zC=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function BC(n){const{editor:e,rules:t}=n;let r=null,o=!1,l=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const f=({state:m,from:y,to:v,rule:k,pasteEvt:S})=>{const x=m.tr,C=Nu({state:m,transaction:x});if(!(!LC({editor:e,state:C,from:Math.max(y-1,0),to:v.b-1,rule:k,pasteEvent:S,dropEvent:c})||!x.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,x}};return t.map(m=>new ut({view(y){const v=S=>{var x;r=!((x=y.dom.parentElement)===null||x===void 0)&&x.contains(S.target)?y.dom.parentElement:null,r&&(va=e)},k=()=>{va&&(va=null)};return window.addEventListener("dragstart",v),window.addEventListener("dragend",k),{destroy(){window.removeEventListener("dragstart",v),window.removeEventListener("dragend",k)}}},props:{handleDOMEvents:{drop:(y,v)=>{if(l=r===y.dom.parentElement,c=v,!l){const k=va;k&&setTimeout(()=>{const S=k.state.selection;S&&k.commands.deleteRange({from:S.from,to:S.to})},10)}return!1},paste:(y,v)=>{var k;const S=(k=v.clipboardData)===null||k===void 0?void 0:k.getData("text/html");return a=v,o=!!(S!=null&&S.includes("data-pm-slice")),!1}}},appendTransaction:(y,v,k)=>{const S=y[0],x=S.getMeta("uiEvent")==="paste"&&!o,C=S.getMeta("uiEvent")==="drop"&&!l,b=S.getMeta("applyPasteRules"),z=!!b;if(!x&&!C&&!z)return;if(z){let{text:H}=b;typeof H=="string"?H=H:H=tp(_.from(H),k.schema);const{from:P}=b,Q=P+H.length,ie=zC(H);return f({rule:m,state:k,from:P,to:{b:Q},pasteEvt:ie})}const U=v.doc.content.findDiffStart(k.doc.content),T=v.doc.content.findDiffEnd(k.doc.content);if(!(!RC(U)||!T||U===T.b))return f({rule:m,state:k,from:U,to:T,pasteEvt:a})}}))}function FC(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class Co{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Co.resolve(e),this.schema=OC(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Co.sort(Co.flatten(e)),r=FC(t.map(o=>o.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},o=Z(t,"addExtensions",r);return o?[t,...this.flatten(o())]:t}).flat(10)}static sort(e){return e.sort((r,o)=>{const l=Z(r,"priority")||100,a=Z(o,"priority")||100;return l>a?-1:l<a?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Hf(t.name,this.schema)},o=Z(t,"addCommands",r);return o?{...e,...o()}:e},{})}get plugins(){const{editor:e}=this,t=Co.sort([...this.extensions].reverse()),r=[],o=[],l=t.map(a=>{const c={name:a.name,options:a.options,storage:a.storage,editor:e,type:Hf(a.name,this.schema)},f=[],p=Z(a,"addKeyboardShortcuts",c);let m={};if(a.type==="mark"&&Z(a,"exitable",c)&&(m.ArrowRight=()=>jn.handleExit({editor:e,mark:a})),p){const x=Object.fromEntries(Object.entries(p()).map(([C,b])=>[C,()=>b({editor:e})]));m={...m,...x}}const y=rC(m);f.push(y);const v=Z(a,"addInputRules",c);py(a,e.options.enableInputRules)&&v&&r.push(...v());const k=Z(a,"addPasteRules",c);py(a,e.options.enablePasteRules)&&k&&o.push(...k());const S=Z(a,"addProseMirrorPlugins",c);if(S){const x=S();f.push(...x)}return f}).flat();return[AC({editor:e,rules:r}),...BC({editor:e,rules:o}),...l]}get attributes(){return bv(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Du(this.extensions);return Object.fromEntries(t.filter(r=>!!Z(r,"addNodeView")).map(r=>{const o=this.attributes.filter(f=>f.type===r.name),l={name:r.name,options:r.options,storage:r.storage,editor:e,type:at(r.name,this.schema)},a=Z(r,"addNodeView",l);if(!a)return[];const c=(f,p,m,y,v)=>{const k=Sd(f,o);return a()({node:f,view:p,getPos:m,decorations:y,innerDecorations:v,editor:e,extension:r,HTMLAttributes:k})};return[r.name,c]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Hf(e.name,this.schema)};e.type==="mark"&&(!((t=xe(Z(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const o=Z(e,"onBeforeCreate",r),l=Z(e,"onCreate",r),a=Z(e,"onUpdate",r),c=Z(e,"onSelectionUpdate",r),f=Z(e,"onTransaction",r),p=Z(e,"onFocus",r),m=Z(e,"onBlur",r),y=Z(e,"onDestroy",r);o&&this.editor.on("beforeCreate",o),l&&this.editor.on("create",l),a&&this.editor.on("update",a),c&&this.editor.on("selectionUpdate",c),f&&this.editor.on("transaction",f),p&&this.editor.on("focus",p),m&&this.editor.on("blur",m),y&&this.editor.on("destroy",y)})}}class yt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xe(Z(this,"addOptions",{name:this.name}))),this.storage=xe(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new yt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Pu(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new yt({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=xe(Z(t,"addOptions",{name:t.name})),t.storage=xe(Z(t,"addStorage",{name:t.name,options:t.options})),t}}function Av(n,e,t){const{from:r,to:o}=e,{blockSeparator:l=`

`,textSerializers:a={}}=t||{};let c="";return n.nodesBetween(r,o,(f,p,m,y)=>{var v;f.isBlock&&p>r&&(c+=l);const k=a==null?void 0:a[f.type.name];if(k)return m&&(c+=k({node:f,pos:p,parent:m,index:y,range:e})),!1;f.isText&&(c+=(v=f==null?void 0:f.text)===null||v===void 0?void 0:v.slice(Math.max(r,p)-p,o-p))}),c}function Dv(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const _C=yt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new ut({key:new Wt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:o}=e,{ranges:l}=o,a=Math.min(...l.map(m=>m.$from.pos)),c=Math.max(...l.map(m=>m.$to.pos)),f=Dv(t);return Av(r,{from:a,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),VC=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),HC=(n=!1)=>({commands:e})=>e.setContent("",n),jC=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:o}=r;return t&&o.forEach(({$from:l,$to:a})=>{n.doc.nodesBetween(l.pos,a.pos,(c,f)=>{if(c.type.isText)return;const{doc:p,mapping:m}=e,y=p.resolve(m.map(f)),v=p.resolve(m.map(f+c.nodeSize)),k=y.blockRange(v);if(!k)return;const S=zo(k);if(c.type.isTextblock){const{defaultType:x}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(k.start,x)}(S||S===0)&&e.lift(k,S)})}),!0},$C=n=>e=>n(e),WC=()=>({state:n,dispatch:e})=>Ev(n,e),UC=(n,e)=>({editor:t,tr:r})=>{const{state:o}=t,l=o.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const a=r.mapping.map(e);return r.insert(a,l.content),r.setSelection(new he(r.doc.resolve(a-1))),!0},KC=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const o=n.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===r.type){if(e){const c=o.before(l),f=o.after(l);n.delete(c,f).scrollIntoView()}return!0}return!1},qC=n=>({tr:e,state:t,dispatch:r})=>{const o=at(n,t.schema),l=e.selection.$anchor;for(let a=l.depth;a>0;a-=1)if(l.node(a).type===o){if(r){const f=l.before(a),p=l.after(a);e.delete(f,p).scrollIntoView()}return!0}return!1},JC=n=>({tr:e,dispatch:t})=>{const{from:r,to:o}=n;return t&&e.delete(r,o),!0},QC=()=>({state:n,dispatch:e})=>Gd(n,e),GC=()=>({commands:n})=>n.keyboardShortcut("Enter"),YC=()=>({state:n,dispatch:e})=>uC(n,e);function Wa(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>t.strict?e[o]===n[o]:np(e[o])?e[o].test(n[o]):e[o]===n[o]):!0}function Rv(n,e,t={}){return n.find(r=>r.type===e&&Wa(Object.fromEntries(Object.keys(t).map(o=>[o,r.attrs[o]])),t))}function hy(n,e,t={}){return!!Rv(n,e,t)}function rp(n,e,t){var r;if(!n||!e)return;let o=n.parent.childAfter(n.parentOffset);if((!o.node||!o.node.marks.some(m=>m.type===e))&&(o=n.parent.childBefore(n.parentOffset)),!o.node||!o.node.marks.some(m=>m.type===e)||(t=t||((r=o.node.marks[0])===null||r===void 0?void 0:r.attrs),!Rv([...o.node.marks],e,t)))return;let a=o.index,c=n.start()+o.offset,f=a+1,p=c+o.node.nodeSize;for(;a>0&&hy([...n.parent.child(a-1).marks],e,t);)a-=1,c-=n.parent.child(a).nodeSize;for(;f<n.parent.childCount&&hy([...n.parent.child(f).marks],e,t);)p+=n.parent.child(f).nodeSize,f+=1;return{from:c,to:p}}function ti(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const XC=(n,e={})=>({tr:t,state:r,dispatch:o})=>{const l=ti(n,r.schema),{doc:a,selection:c}=t,{$from:f,from:p,to:m}=c;if(o){const y=rp(f,l,e);if(y&&y.from<=p&&y.to>=m){const v=he.create(a,y.from,y.to);t.setSelection(v)}}return!0},ZC=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function ip(n){return n instanceof he}function ur(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function Pv(n,e=null){if(!e)return null;const t=ye.atStart(n),r=ye.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const o=t.from,l=r.to;return e==="all"?he.create(n,ur(0,o,l),ur(n.content.size,o,l)):he.create(n,ur(e,o,l),ur(e,o,l))}function eE(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function op(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const tE=(n=null,e={})=>({editor:t,view:r,tr:o,dispatch:l})=>{e={scrollIntoView:!0,...e};const a=()=>{(op()||eE())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(l&&n===null&&!ip(t.state.selection))return a(),!0;const c=Pv(o.doc,n)||t.state.selection,f=t.state.selection.eq(c);return l&&(f||o.setSelection(c),f&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},nE=(n,e)=>t=>n.every((r,o)=>e(r,{...t,index:o})),rE=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),Iv=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&Iv(r)}return n};function ka(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return Iv(t)}function Ua(n,e,t){if(n instanceof qr||n instanceof _)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,o=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return _.fromArray(n.map(c=>e.nodeFromJSON(c)));const a=e.nodeFromJSON(n);return t.errorOnInvalidContent&&a.check(),a}catch(l){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",l),Ua("",e,t)}if(o){if(t.errorOnInvalidContent){let a=!1,c="";const f=new y0({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:p=>(a=!0,c=typeof p=="string"?p:p.outerHTML,null)}]}})});if(t.slice?Jr.fromSchema(f).parseSlice(ka(n),t.parseOptions):Jr.fromSchema(f).parse(ka(n),t.parseOptions),t.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const l=Jr.fromSchema(e);return t.slice?l.parseSlice(ka(n),t.parseOptions).content:l.parse(ka(n),t.parseOptions)}return Ua("",e,t)}function iE(n,e,t){const r=n.steps.length-1;if(r<e)return;const o=n.steps[r];if(!(o instanceof ot||o instanceof st))return;const l=n.mapping.maps[r];let a=0;l.forEach((c,f,p,m)=>{a===0&&(a=m)}),n.setSelection(ye.near(n.doc.resolve(a),t))}const oE=n=>!("type"in n),sE=(n,e,t)=>({tr:r,dispatch:o,editor:l})=>{var a;if(o){t={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let c;try{c=Ua(e,l.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(a=t.errorOnInvalidContent)!==null&&a!==void 0?a:l.options.enableContentCheck})}catch(S){return l.emit("contentError",{editor:l,error:S,disableCollaboration:()=>{l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}}),!1}let{from:f,to:p}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},m=!0,y=!0;if((oE(c)?c:[c]).forEach(S=>{S.check(),m=m?S.isText&&S.marks.length===0:!1,y=y?S.isBlock:!1}),f===p&&y){const{parent:S}=r.doc.resolve(f);S.isTextblock&&!S.type.spec.code&&!S.childCount&&(f-=1,p+=1)}let k;if(m){if(Array.isArray(e))k=e.map(S=>S.text||"").join("");else if(e instanceof _){let S="";e.forEach(x=>{x.text&&(S+=x.text)}),k=S}else typeof e=="object"&&e&&e.text?k=e.text:k=e;r.insertText(k,f,p)}else k=c,r.replaceWith(f,p,k);t.updateSelection&&iE(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:f,text:k}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:f,text:k})}return!0},lE=()=>({state:n,dispatch:e})=>sC(n,e),aE=()=>({state:n,dispatch:e})=>lC(n,e),uE=()=>({state:n,dispatch:e})=>yv(n,e),cE=()=>({state:n,dispatch:e})=>wv(n,e),fE=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Cu(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},dE=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Cu(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},pE=()=>({state:n,dispatch:e})=>iC(n,e),hE=()=>({state:n,dispatch:e})=>oC(n,e);function Lv(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function mE(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,o,l,a;for(let c=0;c<e.length-1;c+=1){const f=e[c];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))op()||Lv()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return r&&(t=`Alt-${t}`),o&&(t=`Ctrl-${t}`),a&&(t=`Meta-${t}`),l&&(t=`Shift-${t}`),t}const gE=n=>({editor:e,view:t,tr:r,dispatch:o})=>{const l=mE(n).split(/-(?!$)/),a=l.find(p=>!["Alt","Ctrl","Meta","Shift"].includes(p)),c=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{t.someProp("handleKeyDown",p=>p(t,c))});return f==null||f.steps.forEach(p=>{const m=p.map(r.mapping);m&&o&&r.maybeStep(m)}),!0};function Ks(n,e,t={}){const{from:r,to:o,empty:l}=n.selection,a=e?at(e,n.schema):null,c=[];n.doc.nodesBetween(r,o,(y,v)=>{if(y.isText)return;const k=Math.max(r,v),S=Math.min(o,v+y.nodeSize);c.push({node:y,from:k,to:S})});const f=o-r,p=c.filter(y=>a?a.name===y.node.type.name:!0).filter(y=>Wa(y.node.attrs,t,{strict:!1}));return l?!!p.length:p.reduce((y,v)=>y+v.to-v.from,0)>=f}const yE=(n,e={})=>({state:t,dispatch:r})=>{const o=at(n,t.schema);return Ks(t,o,e)?aC(t,r):!1},vE=()=>({state:n,dispatch:e})=>Tv(n,e),kE=n=>({state:e,dispatch:t})=>{const r=at(n,e.schema);return SC(r)(e,t)},SE=()=>({state:n,dispatch:e})=>Cv(n,e);function Iu(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function my(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,o)=>(t.includes(o)||(r[o]=n[o]),r),{})}const wE=(n,e)=>({tr:t,state:r,dispatch:o})=>{let l=null,a=null;const c=Iu(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(l=at(n,r.schema)),c==="mark"&&(a=ti(n,r.schema)),o&&t.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(p,m)=>{l&&l===p.type&&t.setNodeMarkup(m,void 0,my(p.attrs,e)),a&&p.marks.length&&p.marks.forEach(y=>{a===y.type&&t.addMark(m,m+p.nodeSize,a.create(my(y.attrs,e)))})})}),!0):!1},xE=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),CE=()=>({tr:n,dispatch:e})=>{if(e){const t=new Yt(n.doc);n.setSelection(t)}return!0},EE=()=>({state:n,dispatch:e})=>kv(n,e),TE=()=>({state:n,dispatch:e})=>xv(n,e),ME=()=>({state:n,dispatch:e})=>dC(n,e),OE=()=>({state:n,dispatch:e})=>mC(n,e),bE=()=>({state:n,dispatch:e})=>hC(n,e);function wd(n,e,t={},r={}){return Ua(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const NE=(n,e=!1,t={},r={})=>({editor:o,tr:l,dispatch:a,commands:c})=>{var f,p;const{doc:m}=l;if(t.preserveWhitespace!=="full"){const y=wd(n,o.schema,t,{errorOnInvalidContent:(f=r.errorOnInvalidContent)!==null&&f!==void 0?f:o.options.enableContentCheck});return a&&l.replaceWith(0,m.content.size,y).setMeta("preventUpdate",!e),!0}return a&&l.setMeta("preventUpdate",!e),c.insertContentAt({from:0,to:m.content.size},n,{parseOptions:t,errorOnInvalidContent:(p=r.errorOnInvalidContent)!==null&&p!==void 0?p:o.options.enableContentCheck})};function zv(n,e){const t=ti(e,n.schema),{from:r,to:o,empty:l}=n.selection,a=[];l?(n.storedMarks&&a.push(...n.storedMarks),a.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,o,f=>{a.push(...f.marks)});const c=a.find(f=>f.type.name===t.name);return c?{...c.attrs}:{}}function AE(n,e){const t=new P0(n);return e.forEach(r=>{r.steps.forEach(o=>{t.step(o)})}),t}function DE(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function RE(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(o,l)=>{t(o)&&r.push({node:o,pos:l})}),r}function PE(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function sp(n){return e=>PE(e.$from,n)}function IE(n,e){const t={from:0,to:n.content.size};return Av(n,t,e)}function LE(n,e){const t=at(e,n.schema),{from:r,to:o}=n.selection,l=[];n.doc.nodesBetween(r,o,c=>{l.push(c)});const a=l.reverse().find(c=>c.type.name===t.name);return a?{...a.attrs}:{}}function Bv(n,e){const t=Iu(typeof e=="string"?e:e.name,n.schema);return t==="node"?LE(n,e):t==="mark"?zv(n,e):{}}function zE(n,e=JSON.stringify){const t={};return n.filter(r=>{const o=e(r);return Object.prototype.hasOwnProperty.call(t,o)?!1:t[o]=!0})}function BE(n){const e=zE(n);return e.length===1?e:e.filter((t,r)=>!e.filter((l,a)=>a!==r).some(l=>t.oldRange.from>=l.oldRange.from&&t.oldRange.to<=l.oldRange.to&&t.newRange.from>=l.newRange.from&&t.newRange.to<=l.newRange.to))}function FE(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((o,l)=>{const a=[];if(o.ranges.length)o.forEach((c,f)=>{a.push({from:c,to:f})});else{const{from:c,to:f}=t[l];if(c===void 0||f===void 0)return;a.push({from:c,to:f})}a.forEach(({from:c,to:f})=>{const p=e.slice(l).map(c,-1),m=e.slice(l).map(f),y=e.invert().map(p,-1),v=e.invert().map(m);r.push({oldRange:{from:y,to:v},newRange:{from:p,to:m}})})}),BE(r)}function lp(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(o=>{const l=t.resolve(n),a=rp(l,o.type);a&&r.push({mark:o,...a})}):t.nodesBetween(n,e,(o,l)=>{!o||(o==null?void 0:o.nodeSize)===void 0||r.push(...o.marks.map(a=>({from:l,to:l+o.nodeSize,mark:a})))}),r}function Na(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const o=n.find(l=>l.type===e&&l.name===r);return o?o.attribute.keepOnSplit:!1}))}function xd(n,e,t={}){const{empty:r,ranges:o}=n.selection,l=e?ti(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(y=>l?l.name===y.type.name:!0).find(y=>Wa(y.attrs,t,{strict:!1}));let a=0;const c=[];if(o.forEach(({$from:y,$to:v})=>{const k=y.pos,S=v.pos;n.doc.nodesBetween(k,S,(x,C)=>{if(!x.isText&&!x.marks.length)return;const b=Math.max(k,C),z=Math.min(S,C+x.nodeSize),U=z-b;a+=U,c.push(...x.marks.map(T=>({mark:T,from:b,to:z})))})}),a===0)return!1;const f=c.filter(y=>l?l.name===y.mark.type.name:!0).filter(y=>Wa(y.mark.attrs,t,{strict:!1})).reduce((y,v)=>y+v.to-v.from,0),p=c.filter(y=>l?y.mark.type!==l&&y.mark.type.excludes(l):!0).reduce((y,v)=>y+v.to-v.from,0);return(f>0?f+p:f)>=a}function _E(n,e,t={}){if(!e)return Ks(n,null,t)||xd(n,null,t);const r=Iu(e,n.schema);return r==="node"?Ks(n,e,t):r==="mark"?xd(n,e,t):!1}function gy(n,e){const{nodeExtensions:t}=Du(e),r=t.find(a=>a.name===n);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},l=xe(Z(r,"group",o));return typeof l!="string"?!1:l.split(" ").includes("list")}function ap(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let o=!0;return n.content.forEach(l=>{o!==!1&&(ap(l,{ignoreWhitespace:t,checkChildren:e})||(o=!1))}),o}return!1}function Fv(n){return n instanceof oe}function VE(n,e,t){const o=n.state.doc.content.size,l=ur(e,0,o),a=ur(t,0,o),c=n.coordsAtPos(l),f=n.coordsAtPos(a,-1),p=Math.min(c.top,f.top),m=Math.max(c.bottom,f.bottom),y=Math.min(c.left,f.left),v=Math.max(c.right,f.right),k=v-y,S=m-p,b={top:p,bottom:m,left:y,right:v,width:k,height:S,x:y,y:p};return{...b,toJSON:()=>b}}function HE(n,e,t){var r;const{selection:o}=e;let l=null;if(ip(o)&&(l=o.$cursor),l){const c=(r=n.storedMarks)!==null&&r!==void 0?r:l.marks();return!!t.isInSet(c)||!c.some(f=>f.type.excludes(t))}const{ranges:a}=o;return a.some(({$from:c,$to:f})=>{let p=c.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(c.pos,f.pos,(m,y,v)=>{if(p)return!1;if(m.isInline){const k=!v||v.type.allowsMarkType(t),S=!!t.isInSet(m.marks)||!m.marks.some(x=>x.type.excludes(t));p=k&&S}return!p}),p})}const jE=(n,e={})=>({tr:t,state:r,dispatch:o})=>{const{selection:l}=t,{empty:a,ranges:c}=l,f=ti(n,r.schema);if(o)if(a){const p=zv(r,f);t.addStoredMark(f.create({...p,...e}))}else c.forEach(p=>{const m=p.$from.pos,y=p.$to.pos;r.doc.nodesBetween(m,y,(v,k)=>{const S=Math.max(k,m),x=Math.min(k+v.nodeSize,y);v.marks.find(b=>b.type===f)?v.marks.forEach(b=>{f===b.type&&t.addMark(S,x,f.create({...b.attrs,...e}))}):t.addMark(S,x,f.create(e))})});return HE(r,t,f)},$E=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),WE=(n,e={})=>({state:t,dispatch:r,chain:o})=>{const l=at(n,t.schema);let a;return t.selection.$anchor.sameParent(t.selection.$head)&&(a=t.selection.$anchor.parent.attrs),l.isTextblock?o().command(({commands:c})=>cy(l,{...a,...e})(t)?!0:c.clearNodes()).command(({state:c})=>cy(l,{...a,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},UE=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,o=ur(n,0,r.content.size),l=oe.create(r,o);e.setSelection(l)}return!0},KE=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:o,to:l}=typeof n=="number"?{from:n,to:n}:n,a=he.atStart(r).from,c=he.atEnd(r).to,f=ur(o,a,c),p=ur(l,a,c),m=he.create(r,f,p);e.setSelection(m)}return!0},qE=n=>({state:e,dispatch:t})=>{const r=at(n,e.schema);return CC(r)(e,t)};function yy(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(o=>e==null?void 0:e.includes(o.type.name));n.tr.ensureMarks(r)}}const JE=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:o})=>{const{selection:l,doc:a}=e,{$from:c,$to:f}=l,p=o.extensionManager.attributes,m=Na(p,c.node().type.name,c.node().attrs);if(l instanceof oe&&l.node.isBlock)return!c.parentOffset||!cr(a,c.pos)?!1:(r&&(n&&yy(t,o.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const y=f.parentOffset===f.parent.content.size,v=c.depth===0?void 0:DE(c.node(-1).contentMatchAt(c.indexAfter(-1)));let k=y&&v?[{type:v,attrs:m}]:void 0,S=cr(e.doc,e.mapping.map(c.pos),1,k);if(!k&&!S&&cr(e.doc,e.mapping.map(c.pos),1,v?[{type:v}]:void 0)&&(S=!0,k=v?[{type:v,attrs:m}]:void 0),r){if(S&&(l instanceof he&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,k),v&&!y&&!c.parentOffset&&c.parent.type!==v)){const x=e.mapping.map(c.before()),C=e.doc.resolve(x);c.node(-1).canReplaceWith(C.index(),C.index()+1,v)&&e.setNodeMarkup(e.mapping.map(c.before()),v)}n&&yy(t,o.extensionManager.splittableMarks),e.scrollIntoView()}return S},QE=(n,e={})=>({tr:t,state:r,dispatch:o,editor:l})=>{var a;const c=at(n,r.schema),{$from:f,$to:p}=r.selection,m=r.selection.node;if(m&&m.isBlock||f.depth<2||!f.sameParent(p))return!1;const y=f.node(-1);if(y.type!==c)return!1;const v=l.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==c||f.index(-2)!==f.node(-2).childCount-1)return!1;if(o){let b=_.empty;const z=f.index(-1)?1:f.index(-2)?2:3;for(let ie=f.depth-z;ie>=f.depth-3;ie-=1)b=_.from(f.node(ie).copy(b));const U=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,T={...Na(v,f.node().type.name,f.node().attrs),...e},H=((a=c.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(T))||void 0;b=b.append(_.from(c.createAndFill(null,H)||void 0));const P=f.before(f.depth-(z-1));t.replace(P,f.after(-U),new q(b,4-z,0));let Q=-1;t.doc.nodesBetween(P,t.doc.content.size,(ie,G)=>{if(Q>-1)return!1;ie.isTextblock&&ie.content.size===0&&(Q=G+1)}),Q>-1&&t.setSelection(he.near(t.doc.resolve(Q))),t.scrollIntoView()}return!0}const k=p.pos===f.end()?y.contentMatchAt(0).defaultType:null,S={...Na(v,y.type.name,y.attrs),...e},x={...Na(v,f.node().type.name,f.node().attrs),...e};t.delete(f.pos,p.pos);const C=k?[{type:c,attrs:S},{type:k,attrs:x}]:[{type:c,attrs:S}];if(!cr(t.doc,f.pos,2))return!1;if(o){const{selection:b,storedMarks:z}=r,{splittableMarks:U}=l.extensionManager,T=z||b.$to.parentOffset&&b.$from.marks();if(t.split(f.pos,2,C).scrollIntoView(),!T||!o)return!0;const H=T.filter(P=>U.includes(P.type.name));t.ensureMarks(H)}return!0},jf=(n,e)=>{const t=sp(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const o=n.doc.nodeAt(r);return t.node.type===(o==null?void 0:o.type)&&Zr(n.doc,t.pos)&&n.join(t.pos),!0},$f=(n,e)=>{const t=sp(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const o=n.doc.nodeAt(r);return t.node.type===(o==null?void 0:o.type)&&Zr(n.doc,r)&&n.join(r),!0},GE=(n,e,t,r={})=>({editor:o,tr:l,state:a,dispatch:c,chain:f,commands:p,can:m})=>{const{extensions:y,splittableMarks:v}=o.extensionManager,k=at(n,a.schema),S=at(e,a.schema),{selection:x,storedMarks:C}=a,{$from:b,$to:z}=x,U=b.blockRange(z),T=C||x.$to.parentOffset&&x.$from.marks();if(!U)return!1;const H=sp(P=>gy(P.type.name,y))(x);if(U.depth>=1&&H&&U.depth-H.depth<=1){if(H.node.type===k)return p.liftListItem(S);if(gy(H.node.type.name,y)&&k.validContent(H.node.content)&&c)return f().command(()=>(l.setNodeMarkup(H.pos,k),!0)).command(()=>jf(l,k)).command(()=>$f(l,k)).run()}return!t||!T||!c?f().command(()=>m().wrapInList(k,r)?!0:p.clearNodes()).wrapInList(k,r).command(()=>jf(l,k)).command(()=>$f(l,k)).run():f().command(()=>{const P=m().wrapInList(k,r),Q=T.filter(ie=>v.includes(ie.type.name));return l.ensureMarks(Q),P?!0:p.clearNodes()}).wrapInList(k,r).command(()=>jf(l,k)).command(()=>$f(l,k)).run()},YE=(n,e={},t={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:l=!1}=t,a=ti(n,r.schema);return xd(r,a,e)?o.unsetMark(a,{extendEmptyMarkRange:l}):o.setMark(a,e)},XE=(n,e,t={})=>({state:r,commands:o})=>{const l=at(n,r.schema),a=at(e,r.schema),c=Ks(r,l,t);let f;return r.selection.$anchor.sameParent(r.selection.$head)&&(f=r.selection.$anchor.parent.attrs),c?o.setNode(a,f):o.setNode(l,{...f,...t})},ZE=(n,e={})=>({state:t,commands:r})=>{const o=at(n,t.schema);return Ks(t,o,e)?r.lift(o):r.wrapIn(o,e)},eT=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const o=t[r];let l;if(o.spec.isInputRules&&(l=o.getState(n))){if(e){const a=n.tr,c=l.transform;for(let f=c.steps.length-1;f>=0;f-=1)a.step(c.steps[f].invert(c.docs[f]));if(l.text){const f=a.doc.resolve(l.from).marks();a.replaceWith(l.from,l.to,n.schema.text(l.text,f))}else a.delete(l.from,l.to)}return!0}}return!1},tT=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:o}=t;return r||e&&o.forEach(l=>{n.removeMark(l.$from.pos,l.$to.pos)}),!0},nT=(n,e={})=>({tr:t,state:r,dispatch:o})=>{var l;const{extendEmptyMarkRange:a=!1}=e,{selection:c}=t,f=ti(n,r.schema),{$from:p,empty:m,ranges:y}=c;if(!o)return!0;if(m&&a){let{from:v,to:k}=c;const S=(l=p.marks().find(C=>C.type===f))===null||l===void 0?void 0:l.attrs,x=rp(p,f,S);x&&(v=x.from,k=x.to),t.removeMark(v,k,f)}else y.forEach(v=>{t.removeMark(v.$from.pos,v.$to.pos,f)});return t.removeStoredMark(f),!0},rT=(n,e={})=>({tr:t,state:r,dispatch:o})=>{let l=null,a=null;const c=Iu(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(l=at(n,r.schema)),c==="mark"&&(a=ti(n,r.schema)),o&&t.selection.ranges.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;let y,v,k,S;t.selection.empty?r.doc.nodesBetween(p,m,(x,C)=>{l&&l===x.type&&(k=Math.max(C,p),S=Math.min(C+x.nodeSize,m),y=C,v=x)}):r.doc.nodesBetween(p,m,(x,C)=>{C<p&&l&&l===x.type&&(k=Math.max(C,p),S=Math.min(C+x.nodeSize,m),y=C,v=x),C>=p&&C<=m&&(l&&l===x.type&&t.setNodeMarkup(C,void 0,{...x.attrs,...e}),a&&x.marks.length&&x.marks.forEach(b=>{if(a===b.type){const z=Math.max(C,p),U=Math.min(C+x.nodeSize,m);t.addMark(z,U,a.create({...b.attrs,...e}))}}))}),v&&(y!==void 0&&t.setNodeMarkup(y,void 0,{...v.attrs,...e}),a&&v.marks.length&&v.marks.forEach(x=>{a===x.type&&t.addMark(k,S,a.create({...x.attrs,...e}))}))}),!0):!1},iT=(n,e={})=>({state:t,dispatch:r})=>{const o=at(n,t.schema);return gC(o,e)(t,r)},oT=(n,e={})=>({state:t,dispatch:r})=>{const o=at(n,t.schema);return yC(o,e)(t,r)};var sT=Object.freeze({__proto__:null,blur:VC,clearContent:HC,clearNodes:jC,command:$C,createParagraphNear:WC,cut:UC,deleteCurrentNode:KC,deleteNode:qC,deleteRange:JC,deleteSelection:QC,enter:GC,exitCode:YC,extendMarkRange:XC,first:ZC,focus:tE,forEach:nE,insertContent:rE,insertContentAt:sE,joinBackward:uE,joinDown:aE,joinForward:cE,joinItemBackward:fE,joinItemForward:dE,joinTextblockBackward:pE,joinTextblockForward:hE,joinUp:lE,keyboardShortcut:gE,lift:yE,liftEmptyBlock:vE,liftListItem:kE,newlineInCode:SE,resetAttributes:wE,scrollIntoView:xE,selectAll:CE,selectNodeBackward:EE,selectNodeForward:TE,selectParentNode:ME,selectTextblockEnd:OE,selectTextblockStart:bE,setContent:NE,setMark:jE,setMeta:$E,setNode:WE,setNodeSelection:UE,setTextSelection:KE,sinkListItem:qE,splitBlock:JE,splitListItem:QE,toggleList:GE,toggleMark:YE,toggleNode:XE,toggleWrap:ZE,undoInputRule:eT,unsetAllMarks:tT,unsetMark:nT,updateAttributes:rT,wrapIn:iT,wrapInList:oT});const lT=yt.create({name:"commands",addCommands(){return{...sT}}}),aT=yt.create({name:"drop",addProseMirrorPlugins(){return[new ut({key:new Wt("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),uT=yt.create({name:"editable",addProseMirrorPlugins(){return[new ut({key:new Wt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),cT=new Wt("focusEvents"),fT=yt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new ut({key:cT,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),dT=yt.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:c})=>{const{selection:f,doc:p}=c,{empty:m,$anchor:y}=f,{pos:v,parent:k}=y,S=y.parent.isTextblock&&v>0?c.doc.resolve(v-1):y,x=S.parent.type.spec.isolating,C=y.pos-y.parentOffset,b=x&&S.parent.childCount===1?C===y.pos:ye.atStart(p).from===v;return!m||!k.type.isTextblock||k.textContent.length||!b||b&&y.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},l={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return op()||Lv()?l:o},addProseMirrorPlugins(){return[new ut({key:new Wt("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(x=>x.getMeta("composition")))return;const r=n.some(x=>x.docChanged)&&!e.doc.eq(t.doc),o=n.some(x=>x.getMeta("preventClearDocument"));if(!r||o)return;const{empty:l,from:a,to:c}=e.selection,f=ye.atStart(e.doc).from,p=ye.atEnd(e.doc).to;if(l||!(a===f&&c===p)||!ap(t.doc))return;const v=t.tr,k=Nu({state:t,transaction:v}),{commands:S}=new Au({editor:this.editor,state:k});if(S.clearNodes(),!!v.steps.length)return v}})]}}),pT=yt.create({name:"paste",addProseMirrorPlugins(){return[new ut({key:new Wt("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),hT=yt.create({name:"tabindex",addProseMirrorPlugins(){return[new ut({key:new Wt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ni{get name(){return this.node.type.name}constructor(e,t,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=o}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Ni(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ni(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ni(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const o=t.isBlock&&!t.isTextblock,l=t.isAtom&&!t.isText,a=this.pos+r+(l?0:1),c=this.resolvedPos.doc.resolve(a);if(!o&&c.depth<=this.depth)return;const f=new Ni(c,this.editor,o,o?t:null);o&&(f.actualDepth=this.depth+1),e.push(new Ni(c,this.editor,o,o?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===e)if(Object.keys(t).length>0){const l=o.node.attrs,a=Object.keys(t);for(let c=0;c<a.length;c+=1){const f=a[c];if(l[f]!==t[f])break}}else r=o;o=o.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const l=Object.keys(t);return this.children.forEach(a=>{r&&o.length>0||(a.node.type.name===e&&l.every(f=>t[f]===a.node.attrs[f])&&o.push(a),!(r&&o.length>0)&&(o=o.concat(a.querySelectorAll(e,t,r))))}),o}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const mT=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function gT(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(o),o}class yT extends EC{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:o})=>this.options.onDrop(t,r,o)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=gT(mT,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=Nv(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(l=>{const a=typeof l=="string"?`${l}$`:l.key;r=r.filter(c=>!c.key.startsWith(a))}),t.length===r.length)return;const o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}createExtensionManager(){var e,t;const o=[...this.options.enableCoreExtensions?[uT,_C.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),lT,fT,dT,hT,aT,pT].filter(l=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[l.name]!==!1:!0):[],...this.options.extensions].filter(l=>["extension","node","mark"].includes(l==null?void 0:l.type));this.extensionManager=new Co(o,this)}createCommandManager(){this.commandManager=new Au({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=wd(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(c=>c.name!=="collaboration"),this.createExtensionManager()}}),t=wd(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=Pv(t,this.options.autofocus);this.view=new qx(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:xo.create({doc:t,selection:r||void 0})});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.createNodeViews(),this.prependClass();const l=this.view.dom;l.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var c;return(c=this.capturedTransaction)===null||c===void 0?void 0:c.step(a)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),l=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),l&&this.emit("blur",{editor:this,event:l.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Bv(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,o=typeof e=="string"?t:e;return _E(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return tp(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return IE(this.state.doc,{blockSeparator:t,textSerializers:{...Dv(this.schema),...r}})}get isEmpty(){return ap(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Ni(t,this)}get $doc(){return this.$pos(0)}}function Ao(n){return new Ru({find:n.find,handler:({state:e,range:t,match:r})=>{const o=xe(n.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:l}=e,a=r[r.length-1],c=r[0];if(a){const f=c.search(/\S/),p=t.from+c.indexOf(a),m=p+a.length;if(lp(t.from,t.to,e.doc).filter(k=>k.mark.type.excluded.find(x=>x===n.type&&x!==k.mark.type)).filter(k=>k.to>p).length)return null;m<t.to&&l.delete(m,t.to),p>t.from&&l.delete(t.from+f,p);const v=t.from+f+a.length;l.addMark(t.from+f,v,n.type.create(o||{})),l.removeStoredMark(n.type)}}})}function _v(n){return new Ru({find:n.find,handler:({state:e,range:t,match:r})=>{const o=xe(n.getAttributes,void 0,r)||{},{tr:l}=e,a=t.from;let c=t.to;const f=n.type.create(o);if(r[1]){const p=r[0].lastIndexOf(r[1]);let m=a+p;m>c?m=c:c=m+r[1].length;const y=r[0][r[0].length-1];l.insertText(y,a+r[0].length-1),l.replaceWith(m,c,f)}else if(r[0]){const p=n.type.isInline?a:a-1;l.insert(p,n.type.create(o)).delete(l.mapping.map(a),l.mapping.map(c))}l.scrollIntoView()}})}function Cd(n){return new Ru({find:n.find,handler:({state:e,range:t,match:r})=>{const o=e.doc.resolve(t.from),l=xe(n.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,l)}})}function qs(n){return new Ru({find:n.find,handler:({state:e,range:t,match:r,chain:o})=>{const l=xe(n.getAttributes,void 0,r)||{},a=e.tr.delete(t.from,t.to),f=a.doc.resolve(t.from).blockRange(),p=f&&_d(f,n.type,l);if(!p)return null;if(a.wrap(f,p),n.keepMarks&&n.editor){const{selection:y,storedMarks:v}=e,{splittableMarks:k}=n.editor.extensionManager,S=v||y.$to.parentOffset&&y.$from.marks();if(S){const x=S.filter(C=>k.includes(C.type.name));a.ensureMarks(x)}}if(n.keepAttributes){const y=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(y,l).run()}const m=a.doc.resolve(t.from-1).nodeBefore;m&&m.type===n.type&&Zr(a.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,m))&&a.join(t.from-1)}})}class Pt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xe(Z(this,"addOptions",{name:this.name}))),this.storage=xe(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Pt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Pu(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Pt(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=xe(Z(t,"addOptions",{name:t.name})),t.storage=xe(Z(t,"addStorage",{name:t.name,options:t.options})),t}}function $i(n){return new PC({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:o})=>{const l=xe(n.getAttributes,void 0,r,o);if(l===!1||l===null)return null;const{tr:a}=e,c=r[r.length-1],f=r[0];let p=t.to;if(c){const m=f.search(/\S/),y=t.from+f.indexOf(c),v=y+c.length;if(lp(t.from,t.to,e.doc).filter(S=>S.mark.type.excluded.find(C=>C===n.type&&C!==S.mark.type)).filter(S=>S.to>y).length)return null;v<t.to&&a.delete(v,t.to),y>t.from&&a.delete(t.from+m,y),p=t.from+m+c.length,a.addMark(t.from+m,p,n.type.create(l||{})),a.removeStoredMark(n.type)}}})}var jt="top",pn="bottom",hn="right",$t="left",up="auto",tl=[jt,pn,hn,$t],Do="start",Js="end",vT="clippingParents",Vv="viewport",ws="popper",kT="reference",vy=tl.reduce(function(n,e){return n.concat([e+"-"+Do,e+"-"+Js])},[]),Hv=[].concat(tl,[up]).reduce(function(n,e){return n.concat([e,e+"-"+Do,e+"-"+Js])},[]),ST="beforeRead",wT="read",xT="afterRead",CT="beforeMain",ET="main",TT="afterMain",MT="beforeWrite",OT="write",bT="afterWrite",NT=[ST,wT,xT,CT,ET,TT,MT,OT,bT];function $n(n){return n?(n.nodeName||"").toLowerCase():null}function Xt(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Wi(n){var e=Xt(n).Element;return n instanceof e||n instanceof Element}function dn(n){var e=Xt(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function cp(n){if(typeof ShadowRoot>"u")return!1;var e=Xt(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function AT(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},o=e.attributes[t]||{},l=e.elements[t];!dn(l)||!$n(l)||(Object.assign(l.style,r),Object.keys(o).forEach(function(a){var c=o[a];c===!1?l.removeAttribute(a):l.setAttribute(a,c===!0?"":c)}))})}function DT(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var o=e.elements[r],l=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),c=a.reduce(function(f,p){return f[p]="",f},{});!dn(o)||!$n(o)||(Object.assign(o.style,c),Object.keys(l).forEach(function(f){o.removeAttribute(f)}))})}}const jv={name:"applyStyles",enabled:!0,phase:"write",fn:AT,effect:DT,requires:["computeStyles"]};function _n(n){return n.split("-")[0]}var Bi=Math.max,Ka=Math.min,Ro=Math.round;function Ed(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function $v(){return!/^((?!chrome|android).)*safari/i.test(Ed())}function Po(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),o=1,l=1;e&&dn(n)&&(o=n.offsetWidth>0&&Ro(r.width)/n.offsetWidth||1,l=n.offsetHeight>0&&Ro(r.height)/n.offsetHeight||1);var a=Wi(n)?Xt(n):window,c=a.visualViewport,f=!$v()&&t,p=(r.left+(f&&c?c.offsetLeft:0))/o,m=(r.top+(f&&c?c.offsetTop:0))/l,y=r.width/o,v=r.height/l;return{width:y,height:v,top:m,right:p+y,bottom:m+v,left:p,x:p,y:m}}function fp(n){var e=Po(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function Wv(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&cp(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function dr(n){return Xt(n).getComputedStyle(n)}function RT(n){return["table","td","th"].indexOf($n(n))>=0}function ni(n){return((Wi(n)?n.ownerDocument:n.document)||window.document).documentElement}function Lu(n){return $n(n)==="html"?n:n.assignedSlot||n.parentNode||(cp(n)?n.host:null)||ni(n)}function ky(n){return!dn(n)||dr(n).position==="fixed"?null:n.offsetParent}function PT(n){var e=/firefox/i.test(Ed()),t=/Trident/i.test(Ed());if(t&&dn(n)){var r=dr(n);if(r.position==="fixed")return null}var o=Lu(n);for(cp(o)&&(o=o.host);dn(o)&&["html","body"].indexOf($n(o))<0;){var l=dr(o);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return o;o=o.parentNode}return null}function nl(n){for(var e=Xt(n),t=ky(n);t&&RT(t)&&dr(t).position==="static";)t=ky(t);return t&&($n(t)==="html"||$n(t)==="body"&&dr(t).position==="static")?e:t||PT(n)||e}function dp(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function As(n,e,t){return Bi(n,Ka(e,t))}function IT(n,e,t){var r=As(n,e,t);return r>t?t:r}function Uv(){return{top:0,right:0,bottom:0,left:0}}function Kv(n){return Object.assign({},Uv(),n)}function qv(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var LT=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Kv(typeof e!="number"?e:qv(e,tl))};function zT(n){var e,t=n.state,r=n.name,o=n.options,l=t.elements.arrow,a=t.modifiersData.popperOffsets,c=_n(t.placement),f=dp(c),p=[$t,hn].indexOf(c)>=0,m=p?"height":"width";if(!(!l||!a)){var y=LT(o.padding,t),v=fp(l),k=f==="y"?jt:$t,S=f==="y"?pn:hn,x=t.rects.reference[m]+t.rects.reference[f]-a[f]-t.rects.popper[m],C=a[f]-t.rects.reference[f],b=nl(l),z=b?f==="y"?b.clientHeight||0:b.clientWidth||0:0,U=x/2-C/2,T=y[k],H=z-v[m]-y[S],P=z/2-v[m]/2+U,Q=As(T,P,H),ie=f;t.modifiersData[r]=(e={},e[ie]=Q,e.centerOffset=Q-P,e)}}function BT(n){var e=n.state,t=n.options,r=t.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||Wv(e.elements.popper,o)&&(e.elements.arrow=o))}const FT={name:"arrow",enabled:!0,phase:"main",fn:zT,effect:BT,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Io(n){return n.split("-")[1]}var _T={top:"auto",right:"auto",bottom:"auto",left:"auto"};function VT(n,e){var t=n.x,r=n.y,o=e.devicePixelRatio||1;return{x:Ro(t*o)/o||0,y:Ro(r*o)/o||0}}function Sy(n){var e,t=n.popper,r=n.popperRect,o=n.placement,l=n.variation,a=n.offsets,c=n.position,f=n.gpuAcceleration,p=n.adaptive,m=n.roundOffsets,y=n.isFixed,v=a.x,k=v===void 0?0:v,S=a.y,x=S===void 0?0:S,C=typeof m=="function"?m({x:k,y:x}):{x:k,y:x};k=C.x,x=C.y;var b=a.hasOwnProperty("x"),z=a.hasOwnProperty("y"),U=$t,T=jt,H=window;if(p){var P=nl(t),Q="clientHeight",ie="clientWidth";if(P===Xt(t)&&(P=ni(t),dr(P).position!=="static"&&c==="absolute"&&(Q="scrollHeight",ie="scrollWidth")),P=P,o===jt||(o===$t||o===hn)&&l===Js){T=pn;var G=y&&P===H&&H.visualViewport?H.visualViewport.height:P[Q];x-=G-r.height,x*=f?1:-1}if(o===$t||(o===jt||o===pn)&&l===Js){U=hn;var de=y&&P===H&&H.visualViewport?H.visualViewport.width:P[ie];k-=de-r.width,k*=f?1:-1}}var Me=Object.assign({position:c},p&&_T),Se=m===!0?VT({x:k,y:x},Xt(t)):{x:k,y:x};if(k=Se.x,x=Se.y,f){var ve;return Object.assign({},Me,(ve={},ve[T]=z?"0":"",ve[U]=b?"0":"",ve.transform=(H.devicePixelRatio||1)<=1?"translate("+k+"px, "+x+"px)":"translate3d("+k+"px, "+x+"px, 0)",ve))}return Object.assign({},Me,(e={},e[T]=z?x+"px":"",e[U]=b?k+"px":"",e.transform="",e))}function HT(n){var e=n.state,t=n.options,r=t.gpuAcceleration,o=r===void 0?!0:r,l=t.adaptive,a=l===void 0?!0:l,c=t.roundOffsets,f=c===void 0?!0:c,p={placement:_n(e.placement),variation:Io(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Sy(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Sy(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const jT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:HT,data:{}};var Sa={passive:!0};function $T(n){var e=n.state,t=n.instance,r=n.options,o=r.scroll,l=o===void 0?!0:o,a=r.resize,c=a===void 0?!0:a,f=Xt(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&p.forEach(function(m){m.addEventListener("scroll",t.update,Sa)}),c&&f.addEventListener("resize",t.update,Sa),function(){l&&p.forEach(function(m){m.removeEventListener("scroll",t.update,Sa)}),c&&f.removeEventListener("resize",t.update,Sa)}}const WT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$T,data:{}};var UT={left:"right",right:"left",bottom:"top",top:"bottom"};function Aa(n){return n.replace(/left|right|bottom|top/g,function(e){return UT[e]})}var KT={start:"end",end:"start"};function wy(n){return n.replace(/start|end/g,function(e){return KT[e]})}function pp(n){var e=Xt(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function hp(n){return Po(ni(n)).left+pp(n).scrollLeft}function qT(n,e){var t=Xt(n),r=ni(n),o=t.visualViewport,l=r.clientWidth,a=r.clientHeight,c=0,f=0;if(o){l=o.width,a=o.height;var p=$v();(p||!p&&e==="fixed")&&(c=o.offsetLeft,f=o.offsetTop)}return{width:l,height:a,x:c+hp(n),y:f}}function JT(n){var e,t=ni(n),r=pp(n),o=(e=n.ownerDocument)==null?void 0:e.body,l=Bi(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=Bi(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),c=-r.scrollLeft+hp(n),f=-r.scrollTop;return dr(o||t).direction==="rtl"&&(c+=Bi(t.clientWidth,o?o.clientWidth:0)-l),{width:l,height:a,x:c,y:f}}function mp(n){var e=dr(n),t=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+o+r)}function Jv(n){return["html","body","#document"].indexOf($n(n))>=0?n.ownerDocument.body:dn(n)&&mp(n)?n:Jv(Lu(n))}function Ds(n,e){var t;e===void 0&&(e=[]);var r=Jv(n),o=r===((t=n.ownerDocument)==null?void 0:t.body),l=Xt(r),a=o?[l].concat(l.visualViewport||[],mp(r)?r:[]):r,c=e.concat(a);return o?c:c.concat(Ds(Lu(a)))}function Td(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function QT(n,e){var t=Po(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function xy(n,e,t){return e===Vv?Td(qT(n,t)):Wi(e)?QT(e,t):Td(JT(ni(n)))}function GT(n){var e=Ds(Lu(n)),t=["absolute","fixed"].indexOf(dr(n).position)>=0,r=t&&dn(n)?nl(n):n;return Wi(r)?e.filter(function(o){return Wi(o)&&Wv(o,r)&&$n(o)!=="body"}):[]}function YT(n,e,t,r){var o=e==="clippingParents"?GT(n):[].concat(e),l=[].concat(o,[t]),a=l[0],c=l.reduce(function(f,p){var m=xy(n,p,r);return f.top=Bi(m.top,f.top),f.right=Ka(m.right,f.right),f.bottom=Ka(m.bottom,f.bottom),f.left=Bi(m.left,f.left),f},xy(n,a,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function Qv(n){var e=n.reference,t=n.element,r=n.placement,o=r?_n(r):null,l=r?Io(r):null,a=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,f;switch(o){case jt:f={x:a,y:e.y-t.height};break;case pn:f={x:a,y:e.y+e.height};break;case hn:f={x:e.x+e.width,y:c};break;case $t:f={x:e.x-t.width,y:c};break;default:f={x:e.x,y:e.y}}var p=o?dp(o):null;if(p!=null){var m=p==="y"?"height":"width";switch(l){case Do:f[p]=f[p]-(e[m]/2-t[m]/2);break;case Js:f[p]=f[p]+(e[m]/2-t[m]/2);break}}return f}function Qs(n,e){e===void 0&&(e={});var t=e,r=t.placement,o=r===void 0?n.placement:r,l=t.strategy,a=l===void 0?n.strategy:l,c=t.boundary,f=c===void 0?vT:c,p=t.rootBoundary,m=p===void 0?Vv:p,y=t.elementContext,v=y===void 0?ws:y,k=t.altBoundary,S=k===void 0?!1:k,x=t.padding,C=x===void 0?0:x,b=Kv(typeof C!="number"?C:qv(C,tl)),z=v===ws?kT:ws,U=n.rects.popper,T=n.elements[S?z:v],H=YT(Wi(T)?T:T.contextElement||ni(n.elements.popper),f,m,a),P=Po(n.elements.reference),Q=Qv({reference:P,element:U,placement:o}),ie=Td(Object.assign({},U,Q)),G=v===ws?ie:P,de={top:H.top-G.top+b.top,bottom:G.bottom-H.bottom+b.bottom,left:H.left-G.left+b.left,right:G.right-H.right+b.right},Me=n.modifiersData.offset;if(v===ws&&Me){var Se=Me[o];Object.keys(de).forEach(function(ve){var Re=[hn,pn].indexOf(ve)>=0?1:-1,Pe=[jt,pn].indexOf(ve)>=0?"y":"x";de[ve]+=Se[Pe]*Re})}return de}function XT(n,e){e===void 0&&(e={});var t=e,r=t.placement,o=t.boundary,l=t.rootBoundary,a=t.padding,c=t.flipVariations,f=t.allowedAutoPlacements,p=f===void 0?Hv:f,m=Io(r),y=m?c?vy:vy.filter(function(S){return Io(S)===m}):tl,v=y.filter(function(S){return p.indexOf(S)>=0});v.length===0&&(v=y);var k=v.reduce(function(S,x){return S[x]=Qs(n,{placement:x,boundary:o,rootBoundary:l,padding:a})[_n(x)],S},{});return Object.keys(k).sort(function(S,x){return k[S]-k[x]})}function ZT(n){if(_n(n)===up)return[];var e=Aa(n);return[wy(n),e,wy(e)]}function eM(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var o=t.mainAxis,l=o===void 0?!0:o,a=t.altAxis,c=a===void 0?!0:a,f=t.fallbackPlacements,p=t.padding,m=t.boundary,y=t.rootBoundary,v=t.altBoundary,k=t.flipVariations,S=k===void 0?!0:k,x=t.allowedAutoPlacements,C=e.options.placement,b=_n(C),z=b===C,U=f||(z||!S?[Aa(C)]:ZT(C)),T=[C].concat(U).reduce(function(ce,me){return ce.concat(_n(me)===up?XT(e,{placement:me,boundary:m,rootBoundary:y,padding:p,flipVariations:S,allowedAutoPlacements:x}):me)},[]),H=e.rects.reference,P=e.rects.popper,Q=new Map,ie=!0,G=T[0],de=0;de<T.length;de++){var Me=T[de],Se=_n(Me),ve=Io(Me)===Do,Re=[jt,pn].indexOf(Se)>=0,Pe=Re?"width":"height",Ce=Qs(e,{placement:Me,boundary:m,rootBoundary:y,altBoundary:v,padding:p}),pe=Re?ve?hn:$t:ve?pn:jt;H[Pe]>P[Pe]&&(pe=Aa(pe));var $=Aa(pe),ne=[];if(l&&ne.push(Ce[Se]<=0),c&&ne.push(Ce[pe]<=0,Ce[$]<=0),ne.every(function(ce){return ce})){G=Me,ie=!1;break}Q.set(Me,ne)}if(ie)for(var K=S?3:1,N=function(me){var ge=T.find(function(Oe){var we=Q.get(Oe);if(we)return we.slice(0,me).every(function(De){return De})});if(ge)return G=ge,"break"},L=K;L>0;L--){var ue=N(L);if(ue==="break")break}e.placement!==G&&(e.modifiersData[r]._skip=!0,e.placement=G,e.reset=!0)}}const tM={name:"flip",enabled:!0,phase:"main",fn:eM,requiresIfExists:["offset"],data:{_skip:!1}};function Cy(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function Ey(n){return[jt,hn,pn,$t].some(function(e){return n[e]>=0})}function nM(n){var e=n.state,t=n.name,r=e.rects.reference,o=e.rects.popper,l=e.modifiersData.preventOverflow,a=Qs(e,{elementContext:"reference"}),c=Qs(e,{altBoundary:!0}),f=Cy(a,r),p=Cy(c,o,l),m=Ey(f),y=Ey(p);e.modifiersData[t]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:m,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":y})}const rM={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:nM};function iM(n,e,t){var r=_n(n),o=[$t,jt].indexOf(r)>=0?-1:1,l=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,a=l[0],c=l[1];return a=a||0,c=(c||0)*o,[$t,hn].indexOf(r)>=0?{x:c,y:a}:{x:a,y:c}}function oM(n){var e=n.state,t=n.options,r=n.name,o=t.offset,l=o===void 0?[0,0]:o,a=Hv.reduce(function(m,y){return m[y]=iM(y,e.rects,l),m},{}),c=a[e.placement],f=c.x,p=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=a}const sM={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:oM};function lM(n){var e=n.state,t=n.name;e.modifiersData[t]=Qv({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const aM={name:"popperOffsets",enabled:!0,phase:"read",fn:lM,data:{}};function uM(n){return n==="x"?"y":"x"}function cM(n){var e=n.state,t=n.options,r=n.name,o=t.mainAxis,l=o===void 0?!0:o,a=t.altAxis,c=a===void 0?!1:a,f=t.boundary,p=t.rootBoundary,m=t.altBoundary,y=t.padding,v=t.tether,k=v===void 0?!0:v,S=t.tetherOffset,x=S===void 0?0:S,C=Qs(e,{boundary:f,rootBoundary:p,padding:y,altBoundary:m}),b=_n(e.placement),z=Io(e.placement),U=!z,T=dp(b),H=uM(T),P=e.modifiersData.popperOffsets,Q=e.rects.reference,ie=e.rects.popper,G=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,de=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),Me=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Se={x:0,y:0};if(P){if(l){var ve,Re=T==="y"?jt:$t,Pe=T==="y"?pn:hn,Ce=T==="y"?"height":"width",pe=P[T],$=pe+C[Re],ne=pe-C[Pe],K=k?-ie[Ce]/2:0,N=z===Do?Q[Ce]:ie[Ce],L=z===Do?-ie[Ce]:-Q[Ce],ue=e.elements.arrow,ce=k&&ue?fp(ue):{width:0,height:0},me=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Uv(),ge=me[Re],Oe=me[Pe],we=As(0,Q[Ce],ce[Ce]),De=U?Q[Ce]/2-K-we-ge-de.mainAxis:N-we-ge-de.mainAxis,$e=U?-Q[Ce]/2+K+we+Oe+de.mainAxis:L+we+Oe+de.mainAxis,mn=e.elements.arrow&&nl(e.elements.arrow),ri=mn?T==="y"?mn.clientTop||0:mn.clientLeft||0:0,Mn=(ve=Me==null?void 0:Me[T])!=null?ve:0,pr=pe+De-Mn-ri,ii=pe+$e-Mn,hr=As(k?Ka($,pr):$,pe,k?Bi(ne,ii):ne);P[T]=hr,Se[T]=hr-pe}if(c){var Wn,oi=T==="x"?jt:$t,mr=T==="x"?pn:hn,Mt=P[H],Ot=H==="y"?"height":"width",Un=Mt+C[oi],On=Mt-C[mr],gr=[jt,$t].indexOf(b)!==-1,si=(Wn=Me==null?void 0:Me[H])!=null?Wn:0,li=gr?Un:Mt-Q[Ot]-ie[Ot]-si+de.altAxis,yr=gr?Mt+Q[Ot]+ie[Ot]-si-de.altAxis:On,Kn=k&&gr?IT(li,Mt,yr):As(k?li:Un,Mt,k?yr:On);P[H]=Kn,Se[H]=Kn-Mt}e.modifiersData[r]=Se}}const fM={name:"preventOverflow",enabled:!0,phase:"main",fn:cM,requiresIfExists:["offset"]};function dM(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function pM(n){return n===Xt(n)||!dn(n)?pp(n):dM(n)}function hM(n){var e=n.getBoundingClientRect(),t=Ro(e.width)/n.offsetWidth||1,r=Ro(e.height)/n.offsetHeight||1;return t!==1||r!==1}function mM(n,e,t){t===void 0&&(t=!1);var r=dn(e),o=dn(e)&&hM(e),l=ni(e),a=Po(n,o,t),c={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!t)&&(($n(e)!=="body"||mp(l))&&(c=pM(e)),dn(e)?(f=Po(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):l&&(f.x=hp(l))),{x:a.left+c.scrollLeft-f.x,y:a.top+c.scrollTop-f.y,width:a.width,height:a.height}}function gM(n){var e=new Map,t=new Set,r=[];n.forEach(function(l){e.set(l.name,l)});function o(l){t.add(l.name);var a=[].concat(l.requires||[],l.requiresIfExists||[]);a.forEach(function(c){if(!t.has(c)){var f=e.get(c);f&&o(f)}}),r.push(l)}return n.forEach(function(l){t.has(l.name)||o(l)}),r}function yM(n){var e=gM(n);return NT.reduce(function(t,r){return t.concat(e.filter(function(o){return o.phase===r}))},[])}function vM(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function kM(n){var e=n.reduce(function(t,r){var o=t[r.name];return t[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var Ty={placement:"bottom",modifiers:[],strategy:"absolute"};function My(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function SM(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,o=e.defaultOptions,l=o===void 0?Ty:o;return function(c,f,p){p===void 0&&(p=l);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ty,l),modifiersData:{},elements:{reference:c,popper:f},attributes:{},styles:{}},y=[],v=!1,k={state:m,setOptions:function(b){var z=typeof b=="function"?b(m.options):b;x(),m.options=Object.assign({},l,m.options,z),m.scrollParents={reference:Wi(c)?Ds(c):c.contextElement?Ds(c.contextElement):[],popper:Ds(f)};var U=yM(kM([].concat(r,m.options.modifiers)));return m.orderedModifiers=U.filter(function(T){return T.enabled}),S(),k.update()},forceUpdate:function(){if(!v){var b=m.elements,z=b.reference,U=b.popper;if(My(z,U)){m.rects={reference:mM(z,nl(U),m.options.strategy==="fixed"),popper:fp(U)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(de){return m.modifiersData[de.name]=Object.assign({},de.data)});for(var T=0;T<m.orderedModifiers.length;T++){if(m.reset===!0){m.reset=!1,T=-1;continue}var H=m.orderedModifiers[T],P=H.fn,Q=H.options,ie=Q===void 0?{}:Q,G=H.name;typeof P=="function"&&(m=P({state:m,options:ie,name:G,instance:k})||m)}}}},update:vM(function(){return new Promise(function(C){k.forceUpdate(),C(m)})}),destroy:function(){x(),v=!0}};if(!My(c,f))return k;k.setOptions(p).then(function(C){!v&&p.onFirstUpdate&&p.onFirstUpdate(C)});function S(){m.orderedModifiers.forEach(function(C){var b=C.name,z=C.options,U=z===void 0?{}:z,T=C.effect;if(typeof T=="function"){var H=T({state:m,name:b,instance:k,options:U}),P=function(){};y.push(H||P)}})}function x(){y.forEach(function(C){return C()}),y=[]}return k}}var wM=[WT,aM,jT,jv,sM,tM,fM,FT,rM],xM=SM({defaultModifiers:wM}),CM="tippy-box",Gv="tippy-content",EM="tippy-backdrop",Yv="tippy-arrow",Xv="tippy-svg-arrow",Oi={passive:!0,capture:!0},Zv=function(){return document.body};function Wf(n,e,t){if(Array.isArray(n)){var r=n[e];return r??(Array.isArray(t)?t[e]:t)}return n}function gp(n,e){var t={}.toString.call(n);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function e1(n,e){return typeof n=="function"?n.apply(void 0,e):n}function Oy(n,e){if(e===0)return n;var t;return function(r){clearTimeout(t),t=setTimeout(function(){n(r)},e)}}function TM(n){return n.split(/\s+/).filter(Boolean)}function So(n){return[].concat(n)}function by(n,e){n.indexOf(e)===-1&&n.push(e)}function MM(n){return n.filter(function(e,t){return n.indexOf(e)===t})}function OM(n){return n.split("-")[0]}function qa(n){return[].slice.call(n)}function Ny(n){return Object.keys(n).reduce(function(e,t){return n[t]!==void 0&&(e[t]=n[t]),e},{})}function Rs(){return document.createElement("div")}function zu(n){return["Element","Fragment"].some(function(e){return gp(n,e)})}function bM(n){return gp(n,"NodeList")}function NM(n){return gp(n,"MouseEvent")}function AM(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function DM(n){return zu(n)?[n]:bM(n)?qa(n):Array.isArray(n)?n:qa(document.querySelectorAll(n))}function Uf(n,e){n.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function Ay(n,e){n.forEach(function(t){t&&t.setAttribute("data-state",e)})}function RM(n){var e,t=So(n),r=t[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function PM(n,e){var t=e.clientX,r=e.clientY;return n.every(function(o){var l=o.popperRect,a=o.popperState,c=o.props,f=c.interactiveBorder,p=OM(a.placement),m=a.modifiersData.offset;if(!m)return!0;var y=p==="bottom"?m.top.y:0,v=p==="top"?m.bottom.y:0,k=p==="right"?m.left.x:0,S=p==="left"?m.right.x:0,x=l.top-r+y>f,C=r-l.bottom-v>f,b=l.left-t+k>f,z=t-l.right-S>f;return x||C||b||z})}function Kf(n,e,t){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){n[r](o,t)})}function Dy(n,e){for(var t=e;t;){var r;if(n.contains(t))return!0;t=t.getRootNode==null||(r=t.getRootNode())==null?void 0:r.host}return!1}var Bn={isTouch:!1},Ry=0;function IM(){Bn.isTouch||(Bn.isTouch=!0,window.performance&&document.addEventListener("mousemove",t1))}function t1(){var n=performance.now();n-Ry<20&&(Bn.isTouch=!1,document.removeEventListener("mousemove",t1)),Ry=n}function LM(){var n=document.activeElement;if(AM(n)){var e=n._tippy;n.blur&&!e.state.isVisible&&n.blur()}}function zM(){document.addEventListener("touchstart",IM,Oi),window.addEventListener("blur",LM)}var BM=typeof window<"u"&&typeof document<"u",FM=BM?!!window.msCrypto:!1,_M={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},VM={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},En=Object.assign({appendTo:Zv,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},_M,VM),HM=Object.keys(En),jM=function(e){var t=Object.keys(e);t.forEach(function(r){En[r]=e[r]})};function n1(n){var e=n.plugins||[],t=e.reduce(function(r,o){var l=o.name,a=o.defaultValue;if(l){var c;r[l]=n[l]!==void 0?n[l]:(c=En[l])!=null?c:a}return r},{});return Object.assign({},n,t)}function $M(n,e){var t=e?Object.keys(n1(Object.assign({},En,{plugins:e}))):HM,r=t.reduce(function(o,l){var a=(n.getAttribute("data-tippy-"+l)||"").trim();if(!a)return o;if(l==="content")o[l]=a;else try{o[l]=JSON.parse(a)}catch{o[l]=a}return o},{});return r}function Py(n,e){var t=Object.assign({},e,{content:e1(e.content,[n])},e.ignoreAttributes?{}:$M(n,e.plugins));return t.aria=Object.assign({},En.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}var WM=function(){return"innerHTML"};function Md(n,e){n[WM()]=e}function Iy(n){var e=Rs();return n===!0?e.className=Yv:(e.className=Xv,zu(n)?e.appendChild(n):Md(e,n)),e}function Ly(n,e){zu(e.content)?(Md(n,""),n.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Md(n,e.content):n.textContent=e.content)}function Od(n){var e=n.firstElementChild,t=qa(e.children);return{box:e,content:t.find(function(r){return r.classList.contains(Gv)}),arrow:t.find(function(r){return r.classList.contains(Yv)||r.classList.contains(Xv)}),backdrop:t.find(function(r){return r.classList.contains(EM)})}}function r1(n){var e=Rs(),t=Rs();t.className=CM,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var r=Rs();r.className=Gv,r.setAttribute("data-state","hidden"),Ly(r,n.props),e.appendChild(t),t.appendChild(r),o(n.props,n.props);function o(l,a){var c=Od(e),f=c.box,p=c.content,m=c.arrow;a.theme?f.setAttribute("data-theme",a.theme):f.removeAttribute("data-theme"),typeof a.animation=="string"?f.setAttribute("data-animation",a.animation):f.removeAttribute("data-animation"),a.inertia?f.setAttribute("data-inertia",""):f.removeAttribute("data-inertia"),f.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?f.setAttribute("role",a.role):f.removeAttribute("role"),(l.content!==a.content||l.allowHTML!==a.allowHTML)&&Ly(p,n.props),a.arrow?m?l.arrow!==a.arrow&&(f.removeChild(m),f.appendChild(Iy(a.arrow))):f.appendChild(Iy(a.arrow)):m&&f.removeChild(m)}return{popper:e,onUpdate:o}}r1.$$tippy=!0;var UM=1,wa=[],qf=[];function KM(n,e){var t=Py(n,Object.assign({},En,n1(Ny(e)))),r,o,l,a=!1,c=!1,f=!1,p=!1,m,y,v,k=[],S=Oy(pr,t.interactiveDebounce),x,C=UM++,b=null,z=MM(t.plugins),U={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},T={id:C,reference:n,popper:Rs(),popperInstance:b,props:t,state:U,plugins:z,clearDelayTimeouts:li,setProps:yr,setContent:Kn,show:il,hide:ai,hideWithInteractivity:ui,enable:gr,disable:si,unmount:Fu,destroy:ol};if(!t.render)return T;var H=t.render(T),P=H.popper,Q=H.onUpdate;P.setAttribute("data-tippy-root",""),P.id="tippy-"+T.id,T.popper=P,n._tippy=T,P._tippy=T;var ie=z.map(function(I){return I.fn(T)}),G=n.hasAttribute("aria-expanded");return mn(),K(),pe(),$("onCreate",[T]),t.showOnCreate&&Un(),P.addEventListener("mouseenter",function(){T.props.interactive&&T.state.isVisible&&T.clearDelayTimeouts()}),P.addEventListener("mouseleave",function(){T.props.interactive&&T.props.trigger.indexOf("mouseenter")>=0&&Re().addEventListener("mousemove",S)}),T;function de(){var I=T.props.touch;return Array.isArray(I)?I:[I,0]}function Me(){return de()[0]==="hold"}function Se(){var I;return!!((I=T.props.render)!=null&&I.$$tippy)}function ve(){return x||n}function Re(){var I=ve().parentNode;return I?RM(I):document}function Pe(){return Od(P)}function Ce(I){return T.state.isMounted&&!T.state.isVisible||Bn.isTouch||m&&m.type==="focus"?0:Wf(T.props.delay,I?0:1,En.delay)}function pe(I){I===void 0&&(I=!1),P.style.pointerEvents=T.props.interactive&&!I?"":"none",P.style.zIndex=""+T.props.zIndex}function $(I,ee,ae){if(ae===void 0&&(ae=!0),ie.forEach(function(Te){Te[I]&&Te[I].apply(Te,ee)}),ae){var be;(be=T.props)[I].apply(be,ee)}}function ne(){var I=T.props.aria;if(I.content){var ee="aria-"+I.content,ae=P.id,be=So(T.props.triggerTarget||n);be.forEach(function(Te){var Ye=Te.getAttribute(ee);if(T.state.isVisible)Te.setAttribute(ee,Ye?Ye+" "+ae:ae);else{var vt=Ye&&Ye.replace(ae,"").trim();vt?Te.setAttribute(ee,vt):Te.removeAttribute(ee)}})}}function K(){if(!(G||!T.props.aria.expanded)){var I=So(T.props.triggerTarget||n);I.forEach(function(ee){T.props.interactive?ee.setAttribute("aria-expanded",T.state.isVisible&&ee===ve()?"true":"false"):ee.removeAttribute("aria-expanded")})}}function N(){Re().removeEventListener("mousemove",S),wa=wa.filter(function(I){return I!==S})}function L(I){if(!(Bn.isTouch&&(f||I.type==="mousedown"))){var ee=I.composedPath&&I.composedPath()[0]||I.target;if(!(T.props.interactive&&Dy(P,ee))){if(So(T.props.triggerTarget||n).some(function(ae){return Dy(ae,ee)})){if(Bn.isTouch||T.state.isVisible&&T.props.trigger.indexOf("click")>=0)return}else $("onClickOutside",[T,I]);T.props.hideOnClick===!0&&(T.clearDelayTimeouts(),T.hide(),c=!0,setTimeout(function(){c=!1}),T.state.isMounted||ge())}}}function ue(){f=!0}function ce(){f=!1}function me(){var I=Re();I.addEventListener("mousedown",L,!0),I.addEventListener("touchend",L,Oi),I.addEventListener("touchstart",ce,Oi),I.addEventListener("touchmove",ue,Oi)}function ge(){var I=Re();I.removeEventListener("mousedown",L,!0),I.removeEventListener("touchend",L,Oi),I.removeEventListener("touchstart",ce,Oi),I.removeEventListener("touchmove",ue,Oi)}function Oe(I,ee){De(I,function(){!T.state.isVisible&&P.parentNode&&P.parentNode.contains(P)&&ee()})}function we(I,ee){De(I,ee)}function De(I,ee){var ae=Pe().box;function be(Te){Te.target===ae&&(Kf(ae,"remove",be),ee())}if(I===0)return ee();Kf(ae,"remove",y),Kf(ae,"add",be),y=be}function $e(I,ee,ae){ae===void 0&&(ae=!1);var be=So(T.props.triggerTarget||n);be.forEach(function(Te){Te.addEventListener(I,ee,ae),k.push({node:Te,eventType:I,handler:ee,options:ae})})}function mn(){Me()&&($e("touchstart",Mn,{passive:!0}),$e("touchend",ii,{passive:!0})),TM(T.props.trigger).forEach(function(I){if(I!=="manual")switch($e(I,Mn),I){case"mouseenter":$e("mouseleave",ii);break;case"focus":$e(FM?"focusout":"blur",hr);break;case"focusin":$e("focusout",hr);break}})}function ri(){k.forEach(function(I){var ee=I.node,ae=I.eventType,be=I.handler,Te=I.options;ee.removeEventListener(ae,be,Te)}),k=[]}function Mn(I){var ee,ae=!1;if(!(!T.state.isEnabled||Wn(I)||c)){var be=((ee=m)==null?void 0:ee.type)==="focus";m=I,x=I.currentTarget,K(),!T.state.isVisible&&NM(I)&&wa.forEach(function(Te){return Te(I)}),I.type==="click"&&(T.props.trigger.indexOf("mouseenter")<0||a)&&T.props.hideOnClick!==!1&&T.state.isVisible?ae=!0:Un(I),I.type==="click"&&(a=!ae),ae&&!be&&On(I)}}function pr(I){var ee=I.target,ae=ve().contains(ee)||P.contains(ee);if(!(I.type==="mousemove"&&ae)){var be=Ot().concat(P).map(function(Te){var Ye,vt=Te._tippy,Ut=(Ye=vt.popperInstance)==null?void 0:Ye.state;return Ut?{popperRect:Te.getBoundingClientRect(),popperState:Ut,props:t}:null}).filter(Boolean);PM(be,I)&&(N(),On(I))}}function ii(I){var ee=Wn(I)||T.props.trigger.indexOf("click")>=0&&a;if(!ee){if(T.props.interactive){T.hideWithInteractivity(I);return}On(I)}}function hr(I){T.props.trigger.indexOf("focusin")<0&&I.target!==ve()||T.props.interactive&&I.relatedTarget&&P.contains(I.relatedTarget)||On(I)}function Wn(I){return Bn.isTouch?Me()!==I.type.indexOf("touch")>=0:!1}function oi(){mr();var I=T.props,ee=I.popperOptions,ae=I.placement,be=I.offset,Te=I.getReferenceClientRect,Ye=I.moveTransition,vt=Se()?Od(P).arrow:null,Ut=Te?{getBoundingClientRect:Te,contextElement:Te.contextElement||ve()}:n,qn={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(ci){var Jn=ci.state;if(Se()){var sl=Pe(),fi=sl.box;["placement","reference-hidden","escaped"].forEach(function(di){di==="placement"?fi.setAttribute("data-placement",Jn.placement):Jn.attributes.popper["data-popper-"+di]?fi.setAttribute("data-"+di,""):fi.removeAttribute("data-"+di)}),Jn.attributes.popper={}}}},bn=[{name:"offset",options:{offset:be}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ye}},qn];Se()&&vt&&bn.push({name:"arrow",options:{element:vt,padding:3}}),bn.push.apply(bn,(ee==null?void 0:ee.modifiers)||[]),T.popperInstance=xM(Ut,P,Object.assign({},ee,{placement:ae,onFirstUpdate:v,modifiers:bn}))}function mr(){T.popperInstance&&(T.popperInstance.destroy(),T.popperInstance=null)}function Mt(){var I=T.props.appendTo,ee,ae=ve();T.props.interactive&&I===Zv||I==="parent"?ee=ae.parentNode:ee=e1(I,[ae]),ee.contains(P)||ee.appendChild(P),T.state.isMounted=!0,oi()}function Ot(){return qa(P.querySelectorAll("[data-tippy-root]"))}function Un(I){T.clearDelayTimeouts(),I&&$("onTrigger",[T,I]),me();var ee=Ce(!0),ae=de(),be=ae[0],Te=ae[1];Bn.isTouch&&be==="hold"&&Te&&(ee=Te),ee?r=setTimeout(function(){T.show()},ee):T.show()}function On(I){if(T.clearDelayTimeouts(),$("onUntrigger",[T,I]),!T.state.isVisible){ge();return}if(!(T.props.trigger.indexOf("mouseenter")>=0&&T.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(I.type)>=0&&a)){var ee=Ce(!1);ee?o=setTimeout(function(){T.state.isVisible&&T.hide()},ee):l=requestAnimationFrame(function(){T.hide()})}}function gr(){T.state.isEnabled=!0}function si(){T.hide(),T.state.isEnabled=!1}function li(){clearTimeout(r),clearTimeout(o),cancelAnimationFrame(l)}function yr(I){if(!T.state.isDestroyed){$("onBeforeUpdate",[T,I]),ri();var ee=T.props,ae=Py(n,Object.assign({},ee,Ny(I),{ignoreAttributes:!0}));T.props=ae,mn(),ee.interactiveDebounce!==ae.interactiveDebounce&&(N(),S=Oy(pr,ae.interactiveDebounce)),ee.triggerTarget&&!ae.triggerTarget?So(ee.triggerTarget).forEach(function(be){be.removeAttribute("aria-expanded")}):ae.triggerTarget&&n.removeAttribute("aria-expanded"),K(),pe(),Q&&Q(ee,ae),T.popperInstance&&(oi(),Ot().forEach(function(be){requestAnimationFrame(be._tippy.popperInstance.forceUpdate)})),$("onAfterUpdate",[T,I])}}function Kn(I){T.setProps({content:I})}function il(){var I=T.state.isVisible,ee=T.state.isDestroyed,ae=!T.state.isEnabled,be=Bn.isTouch&&!T.props.touch,Te=Wf(T.props.duration,0,En.duration);if(!(I||ee||ae||be)&&!ve().hasAttribute("disabled")&&($("onShow",[T],!1),T.props.onShow(T)!==!1)){if(T.state.isVisible=!0,Se()&&(P.style.visibility="visible"),pe(),me(),T.state.isMounted||(P.style.transition="none"),Se()){var Ye=Pe(),vt=Ye.box,Ut=Ye.content;Uf([vt,Ut],0)}v=function(){var bn;if(!(!T.state.isVisible||p)){if(p=!0,P.offsetHeight,P.style.transition=T.props.moveTransition,Se()&&T.props.animation){var Ki=Pe(),ci=Ki.box,Jn=Ki.content;Uf([ci,Jn],Te),Ay([ci,Jn],"visible")}ne(),K(),by(qf,T),(bn=T.popperInstance)==null||bn.forceUpdate(),$("onMount",[T]),T.props.animation&&Se()&&we(Te,function(){T.state.isShown=!0,$("onShown",[T])})}},Mt()}}function ai(){var I=!T.state.isVisible,ee=T.state.isDestroyed,ae=!T.state.isEnabled,be=Wf(T.props.duration,1,En.duration);if(!(I||ee||ae)&&($("onHide",[T],!1),T.props.onHide(T)!==!1)){if(T.state.isVisible=!1,T.state.isShown=!1,p=!1,a=!1,Se()&&(P.style.visibility="hidden"),N(),ge(),pe(!0),Se()){var Te=Pe(),Ye=Te.box,vt=Te.content;T.props.animation&&(Uf([Ye,vt],be),Ay([Ye,vt],"hidden"))}ne(),K(),T.props.animation?Se()&&Oe(be,T.unmount):T.unmount()}}function ui(I){Re().addEventListener("mousemove",S),by(wa,S),S(I)}function Fu(){T.state.isVisible&&T.hide(),T.state.isMounted&&(mr(),Ot().forEach(function(I){I._tippy.unmount()}),P.parentNode&&P.parentNode.removeChild(P),qf=qf.filter(function(I){return I!==T}),T.state.isMounted=!1,$("onHidden",[T]))}function ol(){T.state.isDestroyed||(T.clearDelayTimeouts(),T.unmount(),ri(),delete n._tippy,T.state.isDestroyed=!0,$("onDestroy",[T]))}}function rl(n,e){e===void 0&&(e={});var t=En.plugins.concat(e.plugins||[]);zM();var r=Object.assign({},e,{plugins:t}),o=DM(n),l=o.reduce(function(a,c){var f=c&&KM(c,r);return f&&a.push(f),a},[]);return zu(n)?l[0]:l}rl.defaultProps=En;rl.setDefaultProps=jM;rl.currentInput=Bn;Object.assign({},jv,{effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow)}});rl.setDefaultProps({render:r1});class qM{constructor({editor:e,element:t,view:r,tippyOptions:o={},updateDelay:l=250,shouldShow:a}){this.preventHide=!1,this.shouldShow=({view:c,state:f,from:p,to:m})=>{const{doc:y,selection:v}=f,{empty:k}=v,S=!y.textBetween(p,m).length&&ip(f.selection),x=this.element.contains(document.activeElement);return!(!(c.hasFocus()||x)||k||S||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:c})=>{var f;if(this.preventHide){this.preventHide=!1;return}c!=null&&c.relatedTarget&&(!((f=this.element.parentNode)===null||f===void 0)&&f.contains(c.relatedTarget))||(c==null?void 0:c.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=c=>{this.blurHandler({event:c})},this.handleDebouncedUpdate=(c,f)=>{const p=!(f!=null&&f.selection.eq(c.state.selection)),m=!(f!=null&&f.doc.eq(c.state.doc));!p&&!m||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(c,p,m,f)},this.updateDelay))},this.updateHandler=(c,f,p,m)=>{var y,v,k;const{state:S,composing:x}=c,{selection:C}=S;if(x||!f&&!p)return;this.createTooltip();const{ranges:z}=C,U=Math.min(...z.map(P=>P.$from.pos)),T=Math.max(...z.map(P=>P.$to.pos));if(!((y=this.shouldShow)===null||y===void 0?void 0:y.call(this,{editor:this.editor,element:this.element,view:c,state:S,oldState:m,from:U,to:T}))){this.hide();return}(v=this.tippy)===null||v===void 0||v.setProps({getReferenceClientRect:((k=this.tippyOptions)===null||k===void 0?void 0:k.getReferenceClientRect)||(()=>{if(Fv(S.selection)){let P=c.nodeDOM(U);if(P){const Q=P.dataset.nodeViewWrapper?P:P.querySelector("[data-node-view-wrapper]");if(Q&&(P=Q.firstChild),P)return P.getBoundingClientRect()}}return VE(c,U,T)})}),this.show()},this.editor=e,this.element=t,this.view=r,this.updateDelay=l,a&&(this.shouldShow=a),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;this.tippy||!t||(this.tippy=rl(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){const{state:r}=e,o=r.selection.from!==r.selection.to;if(this.updateDelay>0&&o){this.handleDebouncedUpdate(e,t);return}const l=!(t!=null&&t.selection.eq(e.state.selection)),a=!(t!=null&&t.doc.eq(e.state.doc));this.updateHandler(e,l,a,t)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,t;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const i1=n=>new ut({key:typeof n.pluginKey=="string"?new Wt(n.pluginKey):n.pluginKey,view:e=>new qM({view:e,...n})});yt.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[i1({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});function JM(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var o1={exports:{}},Jf={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function QM(){if(zy)return Jf;zy=1;var n=pt;function e(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,o=n.useEffect,l=n.useLayoutEffect,a=n.useDebugValue;function c(y,v){var k=v(),S=r({inst:{value:k,getSnapshot:v}}),x=S[0].inst,C=S[1];return l(function(){x.value=k,x.getSnapshot=v,f(x)&&C({inst:x})},[y,k,v]),o(function(){return f(x)&&C({inst:x}),y(function(){f(x)&&C({inst:x})})},[y]),a(k),k}function f(y){var v=y.getSnapshot;y=y.value;try{var k=v();return!t(y,k)}catch{return!0}}function p(y,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return Jf.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,Jf}o1.exports=QM();var yp=o1.exports;const GM=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},YM=({contentComponent:n})=>{const e=yp.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return pt.createElement(pt.Fragment,null,Object.values(e))};function XM(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:t0.createPortal(r.reactElement,r.element,t)},n.forEach(o=>o())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(o=>o())}}}class ZM extends pt.Component{constructor(e){var t;super(e),this.editorContentRef=pt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=XM(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return pt.createElement(pt.Fragment,null,pt.createElement("div",{ref:GM(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&pt.createElement(YM,{contentComponent:e.contentComponent}))}}const eO=gt.forwardRef((n,e)=>{const t=pt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return pt.createElement(ZM,{key:t,innerRef:e,...n})}),_b=pt.memo(eO);var tO=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,o,l;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(!n(e[o],t[o]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o of e.entries())if(!t.has(o[0]))return!1;for(o of e.entries())if(!n(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(e[o]!==t[o])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),r=l.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[o]))return!1;for(o=r;o--!==0;){var a=l[o];if(!(a==="_owner"&&e.$$typeof)&&!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t},nO=JM(tO),s1={exports:{}},Qf={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function rO(){if(By)return Qf;By=1;var n=pt,e=yp;function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var r=typeof Object.is=="function"?Object.is:t,o=e.useSyncExternalStore,l=n.useRef,a=n.useEffect,c=n.useMemo,f=n.useDebugValue;return Qf.useSyncExternalStoreWithSelector=function(p,m,y,v,k){var S=l(null);if(S.current===null){var x={hasValue:!1,value:null};S.current=x}else x=S.current;S=c(function(){function b(P){if(!z){if(z=!0,U=P,P=v(P),k!==void 0&&x.hasValue){var Q=x.value;if(k(Q,P))return T=Q}return T=P}if(Q=T,r(U,P))return Q;var ie=v(P);return k!==void 0&&k(Q,ie)?Q:(U=P,T=ie)}var z=!1,U,T,H=y===void 0?null:y;return[function(){return b(m())},H===null?void 0:function(){return b(H())}]},[m,y,v,k]);var C=o(p,S[0],S[1]);return a(function(){x.hasValue=!0,x.value=C},[C]),f(C),C},Qf}s1.exports=rO();var iO=s1.exports;const oO=typeof window<"u"?gt.useLayoutEffect:gt.useEffect;class sO{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(o=>o())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function lO(n){var e;const[t]=gt.useState(()=>new sO(n.editor)),r=iO.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:nO);return oO(()=>t.watch(n.editor),[n.editor,t]),gt.useDebugValue(r),r}const aO=!1,bd=typeof window>"u",uO=bd||!!(typeof window<"u"&&window.next);class vp{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?bd||uO?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var o,l;return(l=(o=this.options.current).onBeforeCreate)===null||l===void 0?void 0:l.call(o,...r)},onBlur:(...r)=>{var o,l;return(l=(o=this.options.current).onBlur)===null||l===void 0?void 0:l.call(o,...r)},onCreate:(...r)=>{var o,l;return(l=(o=this.options.current).onCreate)===null||l===void 0?void 0:l.call(o,...r)},onDestroy:(...r)=>{var o,l;return(l=(o=this.options.current).onDestroy)===null||l===void 0?void 0:l.call(o,...r)},onFocus:(...r)=>{var o,l;return(l=(o=this.options.current).onFocus)===null||l===void 0?void 0:l.call(o,...r)},onSelectionUpdate:(...r)=>{var o,l;return(l=(o=this.options.current).onSelectionUpdate)===null||l===void 0?void 0:l.call(o,...r)},onTransaction:(...r)=>{var o,l;return(l=(o=this.options.current).onTransaction)===null||l===void 0?void 0:l.call(o,...r)},onUpdate:(...r)=>{var o,l;return(l=(o=this.options.current).onUpdate)===null||l===void 0?void 0:l.call(o,...r)},onContentError:(...r)=>{var o,l;return(l=(o=this.options.current).onContentError)===null||l===void 0?void 0:l.call(o,...r)},onDrop:(...r)=>{var o,l;return(l=(o=this.options.current).onDrop)===null||l===void 0?void 0:l.call(o,...r)},onPaste:(...r)=>{var o,l;return(l=(o=this.options.current).onPaste)===null||l===void 0?void 0:l.call(o,...r)}};return new yT(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((o,l)=>{var a;return o===((a=t.extensions)===null||a===void 0?void 0:a[l])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?vp.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,o)=>r===e[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function Vb(n={},e=[]){const t=gt.useRef(n);t.current=n;const[r]=gt.useState(()=>new vp(t)),o=yp.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return gt.useDebugValue(o),gt.useEffect(r.onRender(e)),lO({editor:o,selector:({transactionNumber:l})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&l===0?0:l+1}),o}const l1=gt.createContext({editor:null});l1.Consumer;const cO=()=>gt.useContext(l1),Hb=n=>{const[e,t]=gt.useState(null),{editor:r}=cO();return gt.useEffect(()=>{var o;if(!e||!((o=n.editor)===null||o===void 0)&&o.isDestroyed||r!=null&&r.isDestroyed)return;const{pluginKey:l="bubbleMenu",editor:a,tippyOptions:c={},updateDelay:f,shouldShow:p=null}=n,m=a||r;if(!m){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const y=i1({updateDelay:f,editor:m,element:e,pluginKey:l,shouldShow:p,tippyOptions:c});return m.registerPlugin(y),()=>{m.unregisterPlugin(l)}},[n.editor,r,e]),pt.createElement("div",{ref:t,className:n.className,style:{visibility:"hidden"}},n.children)},fO=gt.createContext({onDragStart:void 0}),dO=()=>gt.useContext(fO);pt.forwardRef((n,e)=>{const{onDragStart:t}=dO(),r=n.as||"div";return pt.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const pO=/^\s*>\s$/,hO=Pt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",tt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[qs({find:pO,type:this.type})]}}),mO=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,gO=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,yO=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,vO=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,kO=jn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",tt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ao({find:mO,type:this.type}),Ao({find:yO,type:this.type})]},addPasteRules(){return[$i({find:gO,type:this.type}),$i({find:vO,type:this.type})]}}),SO="listItem",Fy="textStyle",_y=/^\s*([-+*])\s$/,wO=Pt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",tt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(SO,this.editor.getAttributes(Fy)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=qs({find:_y,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=qs({find:_y,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Fy),editor:this.editor})),[n]}}),xO=/(^|[^`])`([^`]+)`(?!`)/,CO=/(^|[^`])`([^`]+)`(?!`)/g,EO=jn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",tt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ao({find:xO,type:this.type})]},addPasteRules(){return[$i({find:CO,type:this.type})]}}),TO=/^```([a-z]+)?[\s\n]$/,MO=/^~~~([a-z]+)?[\s\n]$/,OO=Pt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,l=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(t)).map(a=>a.replace(t,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",tt(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:o}=t;if(!o||r.parent.type!==this.type)return!1;const l=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!l||!a?!1:n.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:o,empty:l}=t;if(!l||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const c=o.after();return c===void 0?!1:r.nodeAt(c)?n.commands.command(({tr:p})=>(p.setSelection(ye.near(r.resolve(c))),!0)):n.commands.exitCode()}}},addInputRules(){return[Cd({find:TO,type:this.type,getAttributes:n=>({language:n[1]})}),Cd({find:MO,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new ut({key:new Wt("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,l=o==null?void 0:o.mode;if(!t||!l)return!1;const{tr:a,schema:c}=n.state,f=c.text(t.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:l},f)),a.selection.$from.parent.type!==this.type&&a.setSelection(he.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),n.dispatch(a),!0}}})]}}),bO=Pt.create({name:"doc",topNode:!0,content:"block+"});function NO(n={}){return new ut({view(e){return new AO(e,n)}})}class AO{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let l=a=>{this[o](a)};return e.dom.addEventListener(o,l),{name:o,handler:l}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,o=this.editorView.dom,l=o.getBoundingClientRect(),a=l.width/o.offsetWidth,c=l.height/o.offsetHeight;if(t){let y=e.nodeBefore,v=e.nodeAfter;if(y||v){let k=this.editorView.nodeDOM(this.cursorPos-(y?y.nodeSize:0));if(k){let S=k.getBoundingClientRect(),x=y?S.bottom:S.top;y&&v&&(x=(x+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let C=this.width/2*c;r={left:S.left,right:S.right,top:x-C,bottom:x+C}}}}if(!r){let y=this.editorView.coordsAtPos(this.cursorPos),v=this.width/2*a;r={left:y.left-v,right:y.left+v,top:y.top,bottom:y.bottom}}let f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let p,m;if(!f||f==document.body&&getComputedStyle(f).position=="static")p=-pageXOffset,m=-pageYOffset;else{let y=f.getBoundingClientRect(),v=y.width/f.offsetWidth,k=y.height/f.offsetHeight;p=y.left-f.scrollLeft*v,m=y.top-f.scrollTop*k}this.element.style.left=(r.left-p)/a+"px",this.element.style.top=(r.top-m)/c+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),o=r&&r.type.spec.disableDropCursor,l=typeof o=="function"?o(this.editorView,t,e):o;if(t&&!l){let a=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=b0(this.editorView.state.doc,a,this.editorView.dragging.slice);c!=null&&(a=c)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const DO=yt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[NO(this.options)]}});class Ke extends ye{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return Ke.valid(r)?new Ke(r):ye.near(r)}content(){return q.empty}eq(e){return e instanceof Ke&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ke(e.resolve(t.pos))}getBookmark(){return new kp(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!RO(e)||!PO(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let o=t.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&Ke.valid(e))return e;let o=e.pos,l=null;for(let a=e.depth;;a--){let c=e.node(a);if(t>0?e.indexAfter(a)<c.childCount:e.index(a)>0){l=c.child(t>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;o+=t;let f=e.doc.resolve(o);if(Ke.valid(f))return f}for(;;){let a=t>0?l.firstChild:l.lastChild;if(!a){if(l.isAtom&&!l.isText&&!oe.isSelectable(l)){e=e.doc.resolve(o+l.nodeSize*t),r=!1;continue e}break}l=a,o+=t;let c=e.doc.resolve(o);if(Ke.valid(c))return c}return null}}}Ke.prototype.visible=!1;Ke.findFrom=Ke.findGapCursorFrom;ye.jsonID("gapcursor",Ke);class kp{constructor(e){this.pos=e}map(e){return new kp(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Ke.valid(t)?new Ke(t):ye.near(t)}}function RO(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(t-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function PO(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(t);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function IO(){return new ut({props:{decorations:FO,createSelectionBetween(n,e,t){return e.pos==t.pos&&Ke.valid(t)?new Ke(t):null},handleClick:zO,handleKeyDown:LO,handleDOMEvents:{beforeinput:BO}}})}const LO=mv({ArrowLeft:xa("horiz",-1),ArrowRight:xa("horiz",1),ArrowUp:xa("vert",-1),ArrowDown:xa("vert",1)});function xa(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,o,l){let a=r.selection,c=e>0?a.$to:a.$from,f=a.empty;if(a instanceof he){if(!l.endOfTextblock(t)||c.depth==0)return!1;f=!1,c=r.doc.resolve(e>0?c.after():c.before())}let p=Ke.findGapCursorFrom(c,e,f);return p?(o&&o(r.tr.setSelection(new Ke(p))),!0):!1}}function zO(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!Ke.valid(r))return!1;let o=n.posAtCoords({left:t.clientX,top:t.clientY});return o&&o.inside>-1&&oe.isSelectable(n.state.doc.nodeAt(o.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Ke(r))),!0)}function BO(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Ke))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let o=_.empty;for(let a=r.length-1;a>=0;a--)o=_.from(r[a].createAndFill(null,o));let l=n.state.tr.replace(t.pos,t.pos,new q(o,0,0));return l.setSelection(he.near(l.doc.resolve(t.pos+1))),n.dispatch(l),!1}function FO(n){if(!(n.selection instanceof Ke))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",et.create(n.doc,[cn.widget(n.selection.head,e,{key:"gapcursor"})])}const _O=yt.create({name:"gapCursor",addProseMirrorPlugins(){return[IO()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=xe(Z(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),VO=Pt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",tt(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:o,storedMarks:l}=t;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:c}=r.extensionManager,f=l||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:p,dispatch:m})=>{if(m&&f&&a){const y=f.filter(v=>c.includes(v.type.name));p.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),HO=Pt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,tt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>Cd({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var Ja=200,lt=function(){};lt.prototype.append=function(e){return e.length?(e=lt.from(e),!this.length&&e||e.length<Ja&&this.leafAppend(e)||this.length<Ja&&e.leafPrepend(this)||this.appendInner(e)):this};lt.prototype.prepend=function(e){return e.length?lt.from(e).append(this):this};lt.prototype.appendInner=function(e){return new jO(this,e)};lt.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?lt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};lt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};lt.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};lt.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(l,a){return o.push(e(l,a))},t,r),o};lt.from=function(e){return e instanceof lt?e:e&&e.length?new a1(e):lt.empty};var a1=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,l){return o==0&&l==this.length?this:new e(this.values.slice(o,l))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,l,a,c){for(var f=l;f<a;f++)if(o(this.values[f],c+f)===!1)return!1},e.prototype.forEachInvertedInner=function(o,l,a,c){for(var f=l-1;f>=a;f--)if(o(this.values[f],c+f)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=Ja)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=Ja)return new e(o.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(lt);lt.empty=new a1([]);var jO=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,l,a){var c=this.left.length;if(o<c&&this.left.forEachInner(r,o,Math.min(l,c),a)===!1||l>c&&this.right.forEachInner(r,Math.max(o-c,0),Math.min(this.length,l)-c,a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,l,a){var c=this.left.length;if(o>c&&this.right.forEachInvertedInner(r,o-c,Math.max(l,c)-c,a+c)===!1||l<c&&this.left.forEachInvertedInner(r,Math.min(o,c),l,a)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var l=this.left.length;return o<=l?this.left.slice(r,o):r>=l?this.right.slice(r-l,o-l):this.left.slice(r,l).append(this.right.slice(0,o-l))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(lt);const $O=500;class Cn{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,l;t&&(o=this.remapping(r,this.items.length),l=o.maps.length);let a=e.tr,c,f,p=[],m=[];return this.items.forEach((y,v)=>{if(!y.step){o||(o=this.remapping(r,v+1),l=o.maps.length),l--,m.push(y);return}if(o){m.push(new In(y.map));let k=y.step.map(o.slice(l)),S;k&&a.maybeStep(k).doc&&(S=a.mapping.maps[a.mapping.maps.length-1],p.push(new In(S,void 0,void 0,p.length+m.length))),l--,S&&o.appendMap(S,l)}else a.maybeStep(y.step);if(y.selection)return c=o?y.selection.map(o.slice(l)):y.selection,f=new Cn(this.items.slice(0,r).append(m.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:a,selection:c}}addTransform(e,t,r,o){let l=[],a=this.eventCount,c=this.items,f=!o&&c.length?c.get(c.length-1):null;for(let m=0;m<e.steps.length;m++){let y=e.steps[m].invert(e.docs[m]),v=new In(e.mapping.maps[m],y,t),k;(k=f&&f.merge(v))&&(v=k,m?l.pop():c=c.slice(0,c.length-1)),l.push(v),t&&(a++,t=void 0),o||(f=v)}let p=a-r.depth;return p>UO&&(c=WO(c,p),a-=p),new Cn(c.append(l),a)}remapping(e,t){let r=new Hs;return this.items.forEach((o,l)=>{let a=o.mirrorOffset!=null&&l-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,a)},e,t),r}addMaps(e){return this.eventCount==0?this:new Cn(this.items.append(e.map(t=>new In(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-t),l=e.mapping,a=e.steps.length,c=this.eventCount;this.items.forEach(v=>{v.selection&&c--},o);let f=t;this.items.forEach(v=>{let k=l.getMirror(--f);if(k==null)return;a=Math.min(a,k);let S=l.maps[k];if(v.step){let x=e.steps[k].invert(e.docs[k]),C=v.selection&&v.selection.map(l.slice(f+1,k));C&&c++,r.push(new In(S,x,C))}else r.push(new In(S))},o);let p=[];for(let v=t;v<a;v++)p.push(new In(l.maps[v]));let m=this.items.slice(0,o).append(p).append(r),y=new Cn(m,c);return y.emptyItemCount()>$O&&(y=y.compress(this.items.length-r.length)),y}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,o=[],l=0;return this.items.forEach((a,c)=>{if(c>=e)o.push(a),a.selection&&l++;else if(a.step){let f=a.step.map(t.slice(r)),p=f&&f.getMap();if(r--,p&&t.appendMap(p,r),f){let m=a.selection&&a.selection.map(t.slice(r));m&&l++;let y=new In(p.invert(),f,m),v,k=o.length-1;(v=o.length&&o[k].merge(y))?o[k]=v:o.push(y)}}else a.map&&r--},this.items.length,0),new Cn(lt.from(o.reverse()),l)}}Cn.empty=new Cn(lt.empty,0);function WO(n,e){let t;return n.forEach((r,o)=>{if(r.selection&&e--==0)return t=o,!1}),n.slice(t)}class In{constructor(e,t,r,o){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new In(t.getMap().invert(),t,this.selection)}}}class Vr{constructor(e,t,r,o,l){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=o,this.prevComposition=l}}const UO=20;function KO(n,e,t,r){let o=t.getMeta(Fi),l;if(o)return o.historyState;t.getMeta(QO)&&(n=new Vr(n.done,n.undone,null,0,-1));let a=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(a&&a.getMeta(Fi))return a.getMeta(Fi).redo?new Vr(n.done.addTransform(t,void 0,r,Da(e)),n.undone,Vy(t.mapping.maps),n.prevTime,n.prevComposition):new Vr(n.done,n.undone.addTransform(t,void 0,r,Da(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let c=t.getMeta("composition"),f=n.prevTime==0||!a&&n.prevComposition!=c&&(n.prevTime<(t.time||0)-r.newGroupDelay||!qO(t,n.prevRanges)),p=a?Gf(n.prevRanges,t.mapping):Vy(t.mapping.maps);return new Vr(n.done.addTransform(t,f?e.selection.getBookmark():void 0,r,Da(e)),Cn.empty,p,t.time,c??n.prevComposition)}else return(l=t.getMeta("rebased"))?new Vr(n.done.rebased(t,l),n.undone.rebased(t,l),Gf(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Vr(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Gf(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function qO(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,o)=>{for(let l=0;l<e.length;l+=2)r<=e[l+1]&&o>=e[l]&&(t=!0)}),t}function Vy(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,o,l,a)=>e.push(l,a));return e}function Gf(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let o=e.map(n[r],1),l=e.map(n[r+1],-1);o<=l&&t.push(o,l)}return t}function JO(n,e,t){let r=Da(e),o=Fi.get(e).spec.config,l=(t?n.undone:n.done).popEvent(e,r);if(!l)return null;let a=l.selection.resolve(l.transform.doc),c=(t?n.done:n.undone).addTransform(l.transform,e.selection.getBookmark(),o,r),f=new Vr(t?c:l.remaining,t?l.remaining:c,null,0,-1);return l.transform.setSelection(a).setMeta(Fi,{redo:t,historyState:f})}let Yf=!1,Hy=null;function Da(n){let e=n.plugins;if(Hy!=e){Yf=!1,Hy=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Yf=!0;break}}return Yf}const Fi=new Wt("history"),QO=new Wt("closeHistory");function GO(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new ut({key:Fi,state:{init(){return new Vr(Cn.empty,Cn.empty,null,0,-1)},apply(e,t,r){return KO(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,o=r=="historyUndo"?c1:r=="historyRedo"?f1:null;return o?(t.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function u1(n,e){return(t,r)=>{let o=Fi.getState(t);if(!o||(n?o.undone:o.done).eventCount==0)return!1;if(r){let l=JO(o,t,n);l&&r(e?l.scrollIntoView():l)}return!0}}const c1=u1(!1,!0),f1=u1(!0,!0),YO=yt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>c1(n,e),redo:()=>({state:n,dispatch:e})=>f1(n,e)}},addProseMirrorPlugins(){return[GO(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),XO=Pt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",tt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:o}=t,l=n();return r.parentOffset===0?l.insertContentAt({from:Math.max(r.pos-1,0),to:o.pos},{type:this.name}):Fv(t)?l.insertContentAt(o.pos,{type:this.name}):l.insertContent({type:this.name}),l.command(({tr:a,dispatch:c})=>{var f;if(c){const{$to:p}=a.selection,m=p.end();if(p.nodeAfter)p.nodeAfter.isTextblock?a.setSelection(he.create(a.doc,p.pos+1)):p.nodeAfter.isBlock?a.setSelection(oe.create(a.doc,p.pos)):a.setSelection(he.create(a.doc,p.pos));else{const y=(f=p.parent.type.contentMatch.defaultType)===null||f===void 0?void 0:f.create();y&&(a.insert(m,y),a.setSelection(he.create(a.doc,m+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[_v({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),ZO=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,eb=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,tb=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,nb=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,rb=jn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",tt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ao({find:ZO,type:this.type}),Ao({find:tb,type:this.type})]},addPasteRules(){return[$i({find:eb,type:this.type}),$i({find:nb,type:this.type})]}}),ib=Pt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",tt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ob="listItem",jy="textStyle",$y=/^(\d+)\.\s$/,sb=Pt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",tt(this.options.HTMLAttributes,t),0]:["ol",tt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ob,this.editor.getAttributes(jy)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=qs({find:$y,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=qs({find:$y,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(jy)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),lb=Pt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",tt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),ab=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,ub=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,cb=jn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",tt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ao({find:ab,type:this.type})]},addPasteRules(){return[$i({find:ub,type:this.type})]}}),fb=Pt.create({name:"text",group:"inline"}),jb=yt.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(kO.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(hO.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(wO.configure(this.options.bulletList)),this.options.code!==!1&&n.push(EO.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(OO.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(bO.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(DO.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(_O.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(VO.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(HO.configure(this.options.heading)),this.options.history!==!1&&n.push(YO.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(XO.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push(rb.configure(this.options.italic)),this.options.listItem!==!1&&n.push(ib.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(sb.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(lb.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(cb.configure(this.options.strike)),this.options.text!==!1&&n.push(fb.configure(this.options.text)),n}}),db="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",pb="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Lo=(n,e)=>{for(const t in e)n[t]=e[t];return n},Nd="numeric",Ad="ascii",Dd="alpha",Ps="asciinumeric",Ms="alphanumeric",Rd="domain",d1="emoji",hb="scheme",mb="slashscheme",Xf="whitespace";function gb(n,e){return n in e||(e[n]=[]),e[n]}function Ri(n,e,t){e[Nd]&&(e[Ps]=!0,e[Ms]=!0),e[Ad]&&(e[Ps]=!0,e[Dd]=!0),e[Ps]&&(e[Ms]=!0),e[Dd]&&(e[Ms]=!0),e[Ms]&&(e[Rd]=!0),e[d1]&&(e[Rd]=!0);for(const r in e){const o=gb(r,t);o.indexOf(n)<0&&o.push(n)}}function yb(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function Vt(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}Vt.groups={};Vt.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const o=e.jr[r][0],l=e.jr[r][1];if(l&&o.test(n))return l}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let o=0;o<n.length;o++)this.tt(n[o],e,t,r)},tr(n,e,t,r){r=r||Vt.groups;let o;return e&&e.j?o=e:(o=new Vt(e),t&&r&&Ri(e,t,r)),this.jr.push([n,o]),o},ts(n,e,t,r){let o=this;const l=n.length;if(!l)return o;for(let a=0;a<l-1;a++)o=o.tt(n[a]);return o.tt(n[l-1],e,t,r)},tt(n,e,t,r){r=r||Vt.groups;const o=this;if(e&&e.j)return o.j[n]=e,e;const l=e;let a,c=o.go(n);if(c?(a=new Vt,Lo(a.j,c.j),a.jr.push.apply(a.jr,c.jr),a.jd=c.jd,a.t=c.t):a=new Vt,l){if(r)if(a.t&&typeof a.t=="string"){const f=Lo(yb(a.t,r),t);Ri(l,f,r)}else t&&Ri(l,t,r);a.t=l}return o.j[n]=a,a}};const ke=(n,e,t,r,o)=>n.ta(e,t,r,o),Ue=(n,e,t,r,o)=>n.tr(e,t,r,o),Wy=(n,e,t,r,o)=>n.ts(e,t,r,o),j=(n,e,t,r,o)=>n.tt(e,t,r,o),sr="WORD",Pd="UWORD",p1="ASCIINUMERICAL",h1="ALPHANUMERICAL",Gs="LOCALHOST",Id="TLD",Ld="UTLD",Ra="SCHEME",wo="SLASH_SCHEME",Sp="NUM",zd="WS",wp="NL",Is="OPENBRACE",Ls="CLOSEBRACE",Qa="OPENBRACKET",Ga="CLOSEBRACKET",Ya="OPENPAREN",Xa="CLOSEPAREN",Za="OPENANGLEBRACKET",eu="CLOSEANGLEBRACKET",tu="FULLWIDTHLEFTPAREN",nu="FULLWIDTHRIGHTPAREN",ru="LEFTCORNERBRACKET",iu="RIGHTCORNERBRACKET",ou="LEFTWHITECORNERBRACKET",su="RIGHTWHITECORNERBRACKET",lu="FULLWIDTHLESSTHAN",au="FULLWIDTHGREATERTHAN",uu="AMPERSAND",cu="APOSTROPHE",fu="ASTERISK",Hr="AT",du="BACKSLASH",pu="BACKTICK",hu="CARET",$r="COLON",xp="COMMA",mu="DOLLAR",Ln="DOT",gu="EQUALS",Cp="EXCLAMATION",ln="HYPHEN",zs="PERCENT",yu="PIPE",vu="PLUS",ku="POUND",Bs="QUERY",Ep="QUOTE",m1="FULLWIDTHMIDDLEDOT",Tp="SEMI",zn="SLASH",Fs="TILDE",Su="UNDERSCORE",g1="EMOJI",wu="SYM";var y1=Object.freeze({__proto__:null,ALPHANUMERICAL:h1,AMPERSAND:uu,APOSTROPHE:cu,ASCIINUMERICAL:p1,ASTERISK:fu,AT:Hr,BACKSLASH:du,BACKTICK:pu,CARET:hu,CLOSEANGLEBRACKET:eu,CLOSEBRACE:Ls,CLOSEBRACKET:Ga,CLOSEPAREN:Xa,COLON:$r,COMMA:xp,DOLLAR:mu,DOT:Ln,EMOJI:g1,EQUALS:gu,EXCLAMATION:Cp,FULLWIDTHGREATERTHAN:au,FULLWIDTHLEFTPAREN:tu,FULLWIDTHLESSTHAN:lu,FULLWIDTHMIDDLEDOT:m1,FULLWIDTHRIGHTPAREN:nu,HYPHEN:ln,LEFTCORNERBRACKET:ru,LEFTWHITECORNERBRACKET:ou,LOCALHOST:Gs,NL:wp,NUM:Sp,OPENANGLEBRACKET:Za,OPENBRACE:Is,OPENBRACKET:Qa,OPENPAREN:Ya,PERCENT:zs,PIPE:yu,PLUS:vu,POUND:ku,QUERY:Bs,QUOTE:Ep,RIGHTCORNERBRACKET:iu,RIGHTWHITECORNERBRACKET:su,SCHEME:Ra,SEMI:Tp,SLASH:zn,SLASH_SCHEME:wo,SYM:wu,TILDE:Fs,TLD:Id,UNDERSCORE:Su,UTLD:Ld,UWORD:Pd,WORD:sr,WS:zd});const ir=/[a-z]/,xs=new RegExp("\\p{L}","u"),Zf=new RegExp("\\p{Emoji}","u"),or=/\d/,ed=/\s/,Uy="\r",td=`
`,vb="",kb="",nd="";let Ca=null,Ea=null;function Sb(n=[]){const e={};Vt.groups=e;const t=new Vt;Ca==null&&(Ca=Ky(db)),Ea==null&&(Ea=Ky(pb)),j(t,"'",cu),j(t,"{",Is),j(t,"}",Ls),j(t,"[",Qa),j(t,"]",Ga),j(t,"(",Ya),j(t,")",Xa),j(t,"<",Za),j(t,">",eu),j(t,"",tu),j(t,"",nu),j(t,"",ru),j(t,"",iu),j(t,"",ou),j(t,"",su),j(t,"",lu),j(t,"",au),j(t,"&",uu),j(t,"*",fu),j(t,"@",Hr),j(t,"`",pu),j(t,"^",hu),j(t,":",$r),j(t,",",xp),j(t,"$",mu),j(t,".",Ln),j(t,"=",gu),j(t,"!",Cp),j(t,"-",ln),j(t,"%",zs),j(t,"|",yu),j(t,"+",vu),j(t,"#",ku),j(t,"?",Bs),j(t,'"',Ep),j(t,"/",zn),j(t,";",Tp),j(t,"~",Fs),j(t,"_",Su),j(t,"\\",du),j(t,"",m1);const r=Ue(t,or,Sp,{[Nd]:!0});Ue(r,or,r);const o=Ue(r,ir,p1,{[Ps]:!0}),l=Ue(r,xs,h1,{[Ms]:!0}),a=Ue(t,ir,sr,{[Ad]:!0});Ue(a,or,o),Ue(a,ir,a),Ue(o,or,o),Ue(o,ir,o);const c=Ue(t,xs,Pd,{[Dd]:!0});Ue(c,ir),Ue(c,or,l),Ue(c,xs,c),Ue(l,or,l),Ue(l,ir),Ue(l,xs,l);const f=j(t,td,wp,{[Xf]:!0}),p=j(t,Uy,zd,{[Xf]:!0}),m=Ue(t,ed,zd,{[Xf]:!0});j(t,nd,m),j(p,td,f),j(p,nd,m),Ue(p,ed,m),j(m,Uy),j(m,td),Ue(m,ed,m),j(m,nd,m);const y=Ue(t,Zf,g1,{[d1]:!0});j(y,"#"),Ue(y,Zf,y),j(y,vb,y);const v=j(y,kb);j(v,"#"),Ue(v,Zf,y);const k=[[ir,a],[or,o]],S=[[ir,null],[xs,c],[or,l]];for(let x=0;x<Ca.length;x++)Br(t,Ca[x],Id,sr,k);for(let x=0;x<Ea.length;x++)Br(t,Ea[x],Ld,Pd,S);Ri(Id,{tld:!0,ascii:!0},e),Ri(Ld,{utld:!0,alpha:!0},e),Br(t,"file",Ra,sr,k),Br(t,"mailto",Ra,sr,k),Br(t,"http",wo,sr,k),Br(t,"https",wo,sr,k),Br(t,"ftp",wo,sr,k),Br(t,"ftps",wo,sr,k),Ri(Ra,{scheme:!0,ascii:!0},e),Ri(wo,{slashscheme:!0,ascii:!0},e),n=n.sort((x,C)=>x[0]>C[0]?1:-1);for(let x=0;x<n.length;x++){const C=n[x][0],z=n[x][1]?{[hb]:!0}:{[mb]:!0};C.indexOf("-")>=0?z[Rd]=!0:ir.test(C)?or.test(C)?z[Ps]=!0:z[Ad]=!0:z[Nd]=!0,Wy(t,C,C,z)}return Wy(t,"localhost",Gs,{ascii:!0}),t.jd=new Vt(wu),{start:t,tokens:Lo({groups:e},y1)}}function v1(n,e){const t=wb(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=t.length,o=[];let l=0,a=0;for(;a<r;){let c=n,f=null,p=0,m=null,y=-1,v=-1;for(;a<r&&(f=c.go(t[a]));)c=f,c.accepts()?(y=0,v=0,m=c):y>=0&&(y+=t[a].length,v++),p+=t[a].length,l+=t[a].length,a++;l-=y,a-=v,p-=y,o.push({t:m.t,v:e.slice(l-p,l),s:l-p,e:l})}return o}function wb(n){const e=[],t=n.length;let r=0;for(;r<t;){let o=n.charCodeAt(r),l,a=o<55296||o>56319||r+1===t||(l=n.charCodeAt(r+1))<56320||l>57343?n[r]:n.slice(r,r+2);e.push(a),r+=a.length}return e}function Br(n,e,t,r,o){let l;const a=e.length;for(let c=0;c<a-1;c++){const f=e[c];n.j[f]?l=n.j[f]:(l=new Vt(r),l.jr=o.slice(),n.j[f]=l),n=l}return l=new Vt(t),l.jr=o.slice(),n.j[e[a-1]]=l,l}function Ky(n){const e=[],t=[];let r=0,o="0123456789";for(;r<n.length;){let l=0;for(;o.indexOf(n[r+l])>=0;)l++;if(l>0){e.push(t.join(""));for(let a=parseInt(n.substring(r,r+l),10);a>0;a--)t.pop();r+=l}else t.push(n[r]),r++}return e}const Ys={defaultProtocol:"http",events:null,format:qy,formatHref:qy,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Mp(n,e=null){let t=Lo({},Ys);n&&(t=Lo(t,n instanceof Mp?n.o:n));const r=t.ignoreTags,o=[];for(let l=0;l<r.length;l++)o.push(r[l].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=o}Mp.prototype={o:Ys,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let o=this.o[n];return o&&(typeof o=="object"?(o=t.t in o?o[t.t]:Ys[n],typeof o=="function"&&r&&(o=o(e,t))):typeof o=="function"&&r&&(o=o(e,t.t,t)),o)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function qy(n){return n}function k1(n,e){this.t="token",this.v=n,this.tk=e}k1.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=Ys.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),o=n.get("tagName",t,e),l=this.toFormattedString(n),a={},c=n.get("className",t,e),f=n.get("target",t,e),p=n.get("rel",t,e),m=n.getObj("attributes",t,e),y=n.getObj("events",t,e);return a.href=r,c&&(a.class=c),f&&(a.target=f),p&&(a.rel=p),m&&Lo(a,m),{tagName:o,attributes:a,content:l,eventListeners:y}}};function Bu(n,e){class t extends k1{constructor(o,l){super(o,l),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const Jy=Bu("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Qy=Bu("text"),xb=Bu("nl"),Ta=Bu("url",{isLink:!0,toHref(n=Ys.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==Gs&&n[1].t===$r}}),sn=n=>new Vt(n);function Cb({groups:n}){const e=n.domain.concat([uu,fu,Hr,du,pu,hu,mu,gu,ln,Sp,zs,yu,vu,ku,zn,wu,Fs,Su]),t=[cu,$r,xp,Ln,Cp,zs,Bs,Ep,Tp,Za,eu,Is,Ls,Ga,Qa,Ya,Xa,tu,nu,ru,iu,ou,su,lu,au],r=[uu,cu,fu,du,pu,hu,mu,gu,ln,Is,Ls,zs,yu,vu,ku,Bs,zn,wu,Fs,Su],o=sn(),l=j(o,Fs);ke(l,r,l),ke(l,n.domain,l);const a=sn(),c=sn(),f=sn();ke(o,n.domain,a),ke(o,n.scheme,c),ke(o,n.slashscheme,f),ke(a,r,l),ke(a,n.domain,a);const p=j(a,Hr);j(l,Hr,p),j(c,Hr,p),j(f,Hr,p);const m=j(l,Ln);ke(m,r,l),ke(m,n.domain,l);const y=sn();ke(p,n.domain,y),ke(y,n.domain,y);const v=j(y,Ln);ke(v,n.domain,y);const k=sn(Jy);ke(v,n.tld,k),ke(v,n.utld,k),j(p,Gs,k);const S=j(y,ln);j(S,ln,S),ke(S,n.domain,y),ke(k,n.domain,y),j(k,Ln,v),j(k,ln,S);const x=j(k,$r);ke(x,n.numeric,Jy);const C=j(a,ln),b=j(a,Ln);j(C,ln,C),ke(C,n.domain,a),ke(b,r,l),ke(b,n.domain,a);const z=sn(Ta);ke(b,n.tld,z),ke(b,n.utld,z),ke(z,n.domain,a),ke(z,r,l),j(z,Ln,b),j(z,ln,C),j(z,Hr,p);const U=j(z,$r),T=sn(Ta);ke(U,n.numeric,T);const H=sn(Ta),P=sn();ke(H,e,H),ke(H,t,P),ke(P,e,H),ke(P,t,P),j(z,zn,H),j(T,zn,H);const Q=j(c,$r),ie=j(f,$r),G=j(ie,zn),de=j(G,zn);ke(c,n.domain,a),j(c,Ln,b),j(c,ln,C),ke(f,n.domain,a),j(f,Ln,b),j(f,ln,C),ke(Q,n.domain,H),j(Q,zn,H),j(Q,Bs,H),ke(de,n.domain,H),ke(de,e,H),j(de,zn,H);const Me=[[Is,Ls],[Qa,Ga],[Ya,Xa],[Za,eu],[tu,nu],[ru,iu],[ou,su],[lu,au]];for(let Se=0;Se<Me.length;Se++){const[ve,Re]=Me[Se],Pe=j(H,ve);j(P,ve,Pe),j(Pe,Re,H);const Ce=sn(Ta);ke(Pe,e,Ce);const pe=sn();ke(Pe,t),ke(Ce,e,Ce),ke(Ce,t,pe),ke(pe,e,Ce),ke(pe,t,pe),j(Ce,Re,H),j(pe,Re,H)}return j(o,Gs,z),j(o,wp,xb),{start:o,tokens:y1}}function Eb(n,e,t){let r=t.length,o=0,l=[],a=[];for(;o<r;){let c=n,f=null,p=null,m=0,y=null,v=-1;for(;o<r&&!(f=c.go(t[o].t));)a.push(t[o++]);for(;o<r&&(p=f||c.go(t[o].t));)f=null,c=p,c.accepts()?(v=0,y=c):v>=0&&v++,o++,m++;if(v<0)o-=m,o<r&&(a.push(t[o]),o++);else{a.length>0&&(l.push(rd(Qy,e,a)),a=[]),o-=v,m-=v;const k=y.t,S=t.slice(o-m,o);l.push(rd(k,e,S))}}return a.length>0&&l.push(rd(Qy,e,a)),l}function rd(n,e,t){const r=t[0].s,o=t[t.length-1].e,l=e.slice(r,o);return new n(l,t)}const Tb=typeof console<"u"&&console&&console.warn||(()=>{}),Mb="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",_e={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Ob(){return Vt.groups={},_e.scanner=null,_e.parser=null,_e.tokenQueue=[],_e.pluginQueue=[],_e.customSchemes=[],_e.initialized=!1,_e}function Gy(n,e=!1){if(_e.initialized&&Tb(`linkifyjs: already initialized - will not register custom scheme "${n}" ${Mb}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);_e.customSchemes.push([n,e])}function bb(){_e.scanner=Sb(_e.customSchemes);for(let n=0;n<_e.tokenQueue.length;n++)_e.tokenQueue[n][1]({scanner:_e.scanner});_e.parser=Cb(_e.scanner.tokens);for(let n=0;n<_e.pluginQueue.length;n++)_e.pluginQueue[n][1]({scanner:_e.scanner,parser:_e.parser});return _e.initialized=!0,_e}function Op(n){return _e.initialized||bb(),Eb(_e.parser.start,n,v1(_e.scanner.start,n))}Op.scan=v1;function S1(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new Mp(t),o=Op(n),l=[];for(let a=0;a<o.length;a++){const c=o[a];c.isLink&&(!e||c.t===e)&&r.check(c)&&l.push(c.toFormattedObject(r))}return l}function Nb(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function Ab(n){return new ut({key:new Wt("autolink"),appendTransaction:(e,t,r)=>{const o=e.some(p=>p.docChanged)&&!t.doc.eq(r.doc),l=e.some(p=>p.getMeta("preventAutolink"));if(!o||l)return;const{tr:a}=r,c=AE(t.doc,[...e]);if(FE(c).forEach(({newRange:p})=>{const m=RE(r.doc,p,k=>k.isTextblock);let y,v;if(m.length>1?(y=m[0],v=r.doc.textBetween(y.pos,y.pos+y.node.nodeSize,void 0," ")):m.length&&r.doc.textBetween(p.from,p.to," "," ").endsWith(" ")&&(y=m[0],v=r.doc.textBetween(y.pos,p.to,void 0," ")),y&&v){const k=v.split(" ").filter(b=>b!=="");if(k.length<=0)return!1;const S=k[k.length-1],x=y.pos+v.lastIndexOf(S);if(!S)return!1;const C=Op(S).map(b=>b.toObject(n.defaultProtocol));if(!Nb(C))return!1;C.filter(b=>b.isLink).map(b=>({...b,from:x+b.start+1,to:x+b.end+1})).filter(b=>r.schema.marks.code?!r.doc.rangeHasMark(b.from,b.to,r.schema.marks.code):!0).filter(b=>n.validate(b.value)).filter(b=>n.shouldAutoLink(b.value)).forEach(b=>{lp(b.from,b.to,r.doc).some(z=>z.mark.type===n.type)||a.addMark(b.from,b.to,n.type.create({href:b.href}))})}}),!!a.steps.length)return a}})}function Db(n){return new ut({key:new Wt("handleClickLink"),props:{handleClick:(e,t,r)=>{var o,l;if(r.button!==0||!e.editable)return!1;let a=r.target;const c=[];for(;a.nodeName!=="DIV";)c.push(a),a=a.parentNode;if(!c.find(v=>v.nodeName==="A"))return!1;const f=Bv(e.state,n.type.name),p=r.target,m=(o=p==null?void 0:p.href)!==null&&o!==void 0?o:f.href,y=(l=p==null?void 0:p.target)!==null&&l!==void 0?l:f.target;return p&&m?(window.open(m,y),!0):!1}}})}function Rb(n){return new ut({key:new Wt("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:o}=e,{selection:l}=o,{empty:a}=l;if(a)return!1;let c="";r.content.forEach(p=>{c+=p.textContent});const f=S1(c,{defaultProtocol:n.defaultProtocol}).find(p=>p.isLink&&p.value===c);return!c||!f?!1:n.editor.commands.setMark(n.type,{href:f.href})}}})}const Pb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Mi(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const o=typeof r=="string"?r:r.scheme;o&&t.push(o)}),!n||n.replace(Pb,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const $b=jn.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){Gy(n);return}Gy(n.scheme,n.optionalSlashes)})},onDestroy(){Ob()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!Mi(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Mi(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!Mi(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",tt(this.options.HTMLAttributes,n),0]:["a",tt(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Mi(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Mi(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[$i({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,o=S1(n).filter(l=>l.isLink&&this.options.isAllowedUri(l.value,{defaultValidate:a=>!!Mi(a,t),protocols:t,defaultProtocol:r}));o.length&&o.forEach(l=>e.push({text:l.value,data:{href:l.href},index:l.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(Ab({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:o=>!!Mi(o,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(Db({type:this.type})),this.options.linkOnPaste&&n.push(Rb({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),Ib=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Wb=Pt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",tt(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[_v({find:Ib,type:this.type,getAttributes:n=>{const[,,e,t,r]=n;return{src:t,alt:e,title:r}}})]}}),Ub=jn.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",tt(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Kb=yt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:n=>{const e=n.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:n=>n.textAlign?{style:`text-align: ${n.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:n=>({commands:e})=>this.options.alignments.includes(n)?this.options.types.map(t=>e.updateAttributes(t,{textAlign:n})).every(t=>t):!1,unsetTextAlign:()=>({commands:n})=>this.options.types.map(e=>n.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:n=>({editor:e,commands:t})=>this.options.alignments.includes(n)?e.isActive({textAlign:n})?t.unsetTextAlign():t.setTextAlign(n):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}});export{Hb as B,et as D,yt as E,HO as H,Wb as I,$b as L,sb as O,ut as P,pt as R,jb as S,Kb as T,Ub as U,kS as a,gt as b,e0 as c,t0 as d,Bb as e,Fb as f,Xy as g,Lb as h,Wt as i,cn as j,_b as k,zb as l,cb as m,wO as n,ib as o,Zy as r,Vb as u};
