import{j as e,T as j,Q as y,b as m,Z as l}from"./index-DLHHoihS.js";import{b as i}from"./chunk-tiptap-JX9QK0Ia.js";import{S as N}from"./SkeletonLoader-CdP3chkX.js";import{P as v,R as w}from"./QuestionCircleOutlined-hjYlwzEN.js";import"./index-DUgWSxM5.js";const T=85,F=()=>{const[n,c]=i.useState([]),[g,d]=i.useState(!0),h=async()=>{var r,s;try{d(!0);const o=(await m.get("/blogs/")).data.filter(a=>a.isArchived);c(o)}catch(t){console.error("Error fetching trashed blogs:",((s=(r=t.response)==null?void 0:r.data)==null?void 0:s.message)||"Failed to fetch trashed blogs")}finally{d(!1)}};i.useEffect(()=>{h()},[]);const x=(r,s=T)=>r?r.length>s?r.substring(0,s)+"...":r:"",p=async r=>{try{(await m.patch(`/blogs/restore/${r}`)).status===200?(c(t=>t.filter(o=>o._id!==r)),l.success("Blog restored successfully!")):l.error("Failed to restore blog.")}catch(s){l.error("Failed to restore blog."),console.error("Error restoring blog:",s.response&&s.response.data&&s.response.data.message||"Failed to restore blog")}};return e.jsxs("div",{className:"max-w-7xl mx-auto",style:{overflowY:"auto"},children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Trashcan"}),e.jsx("p",{className:"text-red-600 font-semibold mb-4",children:"Warning: Trashed items will be permanently deleted after 7 days."}),g?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(5)].map((r,s)=>e.jsx("div",{className:"bg-white shadow-md rounded-xl p-4",children:e.jsx(N,{})},s))}):n.length===0?e.jsx("p",{children:"No trashed blogs available."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 p-2",children:n.map(r=>{const{_id:s,title:t,content:o,focusKeywords:a,aiModel:B,archiveDate:f}=r;return e.jsx(j,{title:t,color:"gray",children:e.jsxs("div",{className:"bg-white shadow-md hover:shadow-xl transition-shadow duration-300 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:t}),e.jsx(v,{title:"Restore Blog",description:"Are you sure to restore the blog ?",icon:e.jsx(w,{style:{color:"red"}}),okText:"Yes",cancelText:"No",onConfirm:()=>p(s),children:e.jsx("img",{src:"Images/restore.svg",alt:"Restore",width:"20",height:"20",className:"cursor-pointer restore-icon"})})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-1",children:x(o)}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((u,b)=>e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-full",children:u},b))}),e.jsxs("span",{className:"block mt-4 -mb-2 text-sm text-right",children:["Archive Date:"," ",new Date(f).toLocaleDateString("en-US",{dateStyle:"medium"})]})]})},s)})}),e.jsx(y,{}),e.jsx("style",{children:`
          .restore-icon {
            transition: filter 0.2s, filter 0.2s;
          }
          .restore-icon:hover {
            filter: invert(18%) sepia(99%) saturate(7482%) hue-rotate(357deg) brightness(97%) contrast(119%);
          }
        `})]})};export{F as default};
