var v=(a,h,s)=>new Promise((u,p)=>{var g=n=>{try{i(s.next(n))}catch(j){p(j)}},o=n=>{try{i(s.throw(n))}catch(j){p(j)}},i=n=>n.done?u(n.value):Promise.resolve(n.value).then(g,o);i((s=s.apply(a,h)).next())});import{r as m,u as F,b as R,z as V,K as B,a as H,c7 as M,W as l,c8 as I,j as e,B as W,V as z}from"./index-CdvKsoWL.js";import{o as Z}from"./UpgardePopUp-Dx7XHiGr.js";import{S as L}from"./sparkles-B_YLouhb.js";import{R as _}from"./refresh-cw-DqJhxddV.js";import{I as A}from"./index-DrjvdpbZ.js";import{C as D}from"./check-9h6gMhC8.js";import{C as K}from"./copy-CKbNSQyd.js";import"./Input-BfZIjPcH.js";import"./EyeOutlined-Bmd706kk.js";import"./SearchOutlined-Dw8wsIF4.js";const{TextArea:T}=A,ae=()=>{const[a,h]=m.useState(""),[s,u]=m.useState(""),[p,g]=m.useState(null),o=F(),i=R(),n=V(),{handlePopup:j}=B(),c=H(t=>{var r,b;return(b=(r=t.auth.user)==null?void 0:r.subscription)==null?void 0:b.plan}),{data:x,loading:d,error:y}=H(t=>t.wordpress);m.useEffect(()=>()=>{o(M())},[n.pathname,o]);const f=s.trim().length>=10,w=a.trim().split(/\s+/).length>=300,N=f&&w&&!d,E=m.useCallback(()=>v(null,null,function*(){var t;if(!f){l.error("Prompt must be at least 10 characters long.");return}if(!w){l.error("Content must be at least 300 words long.");return}if(["free","basic"].includes((t=c==null?void 0:c.toLowerCase)==null?void 0:t.call(c))){Z({featureName:"Content Generation",navigate:i});return}try{yield o(I({prompt:s,content:a})).unwrap(),l.success("Content generated successfully!")}catch(r){console.error("Error generating content:",r),l.error("Failed to generate content.")}}),[a,s,o,c,i,f,w]),G=m.useCallback(()=>{h(""),u(""),o(M()),l.success("Content and prompt reset!")},[o]),S=(t,r,b)=>v(null,null,function*(){try{yield navigator.clipboard.writeText(t),g(b),l.success(`${r} copied to clipboard!`),setTimeout(()=>{g(null)},2e3)}catch(U){l.error(`Failed to copy ${r}.`)}}),P=t=>{const r=document.createElement("div");return r.innerHTML=t,r.textContent||r.innerText||""},$=t=>e.jsx("div",{className:"prose max-w-none p-4 bg-gray-50 rounded-lg border",dangerouslySetInnerHTML:{__html:t},style:{lineHeight:"1.6",color:"#374151"}}),C=a.trim().split(/\s+/).filter(t=>t.length>0).length,k=s.trim().length;return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 p-5",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl text-white flex items-center justify-center",children:e.jsx(L,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Content from Prompts"}),e.jsx("p",{className:"text-gray-600",children:"Transform your ideas into ready-to-publish content in seconds."})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Reset all content",children:[e.jsx(_,{className:"w-4 h-4"}),"Reset"]})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-text w-5 h-5 text-blue-600",children:[e.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),e.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),e.jsx("path",{d:"M10 9H8"}),e.jsx("path",{d:"M16 13H8"}),e.jsx("path",{d:"M16 17H8"})]}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Prompt"})]}),e.jsxs("span",{className:`text-sm ${k>=10?"text-green-600":"text-red-500"}`,children:[k,"/10 minimum"]})]}),e.jsx(T,{value:s,onChange:t=>u(t.target.value),placeholder:"Enter your prompt here (e.g., 'Humanize this content to make it more engaging')...",rows:4,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 custom-scroll ${s.trim()&&!f?"border-red-300":"border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-text w-5 h-5 text-blue-600",children:[e.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),e.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),e.jsx("path",{d:"M10 9H8"}),e.jsx("path",{d:"M16 13H8"}),e.jsx("path",{d:"M16 17H8"})]}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Content"})]}),e.jsxs("span",{className:`text-sm ${C>=300?"text-green-600":"text-red-500"}`,children:[C,"/300 words minimum"]})]}),e.jsx(T,{value:a,onChange:t=>h(t.target.value),placeholder:"Enter your content here (minimum 300 words)...",rows:12,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 custom-scroll ${a.trim()&&!w?"border-red-300":"border-gray-300"}`})]}),e.jsx(W,{onClick:()=>E(),loading:d,disabled:!N,className:`w-full py-3 text-sm font-medium text-white rounded-lg transition-all duration-200 bg-gradient-to-r from-blue-600 to-purple-600 hover:shadow-lg flex items-center justify-center gap-2 ${N?"":"opacity-50 cursor-not-allowed"}`,children:d?"Generating...":"Generate Content"})]})}),d&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsx(z,{})}),(x==null?void 0:x.data)&&!d&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-600 rounded-lg text-white flex items-center justify-center",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Generated Content"})]}),e.jsx("button",{onClick:()=>S(P(x.data),"Generated content","generated"),className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Copy generated content",children:p==="generated"?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-4 h-4"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"w-4 h-4"}),"Copy"]})})]}),$(x.data)]}),y&&!d&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:e.jsxs("p",{className:"text-red-700",children:["Error: ",y]})})]})};export{ae as default};
