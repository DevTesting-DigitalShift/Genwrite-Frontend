var L=Object.defineProperty,$=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var O=(e,l,a)=>l in e?L(e,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[l]=a,p=(e,l)=>{for(var a in l||(l={}))A.call(l,a)&&O(e,a,l[a]);if(y)for(var a of y(l))k.call(l,a)&&O(e,a,l[a]);return e},u=(e,l)=>$(e,z(l));var b=(e,l)=>{var a={};for(var t in e)A.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&y)for(var t of y(e))l.indexOf(t)<0&&k.call(e,t)&&(a[t]=e[t]);return a};var F=(e,l,a)=>new Promise((t,c)=>{var n=d=>{try{f(a.next(d))}catch(h){c(h)}},m=d=>{try{f(a.throw(d))}catch(h){c(h)}},f=d=>d.done?t(d.value):Promise.resolve(d.value).then(n,m);f((a=a.apply(e,l)).next())});import{r,a as H,u as U,l as _,j as s,H as Y,m as j,T as W,b3 as G,W as D}from"./index-HTll-w-o.js";import{d as B}from"./dayjs.min-DH9wCSZU.js";import{D as J}from"./index-CVDhxrcj.js";import{S as X}from"./index-ElXrfozC.js";import"./move-DFNOvUr4.js";import"./index-DJ3Zupii.js";import"./SearchOutlined-BSfuQocW.js";function q(c,t){var n=c,{title:e,titleId:l}=n,a=b(n,["title","titleId"]);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},a),e?r.createElement("title",{id:l},e):null,r.createElement("path",{d:"M12 7.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"}),r.createElement("path",{fillRule:"evenodd",d:"M1.5 4.875C1.5 3.839 2.34 3 3.375 3h17.25c1.035 0 1.875.84 1.875 1.875v9.75c0 1.036-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 14.625v-9.75ZM8.25 9.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM18.75 9a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75V9.75a.75.75 0 0 0-.75-.75h-.008ZM4.5 9.75A.75.75 0 0 1 5.25 9h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H5.25a.75.75 0 0 1-.75-.75V9.75Z",clipRule:"evenodd"}),r.createElement("path",{d:"M2.25 18a.75.75 0 0 0 0 1.5c5.4 0 10.63.722 15.6 2.075 1.19.324 2.4-.558 2.4-1.82V18.75a.75.75 0 0 0-.75-.75H2.25Z"}))}const K=r.forwardRef(q);function Q(c,t){var n=c,{title:e,titleId:l}=n,a=b(n,["title","titleId"]);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},a),e?r.createElement("title",{id:l},e):null,r.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const ee=r.forwardRef(Q);function ae(c,t){var n=c,{title:e,titleId:l}=n,a=b(n,["title","titleId"]);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},a),e?r.createElement("title",{id:l},e):null,r.createElement("path",{d:"M4.5 3.75a3 3 0 0 0-3 3v.75h21v-.75a3 3 0 0 0-3-3h-15Z"}),r.createElement("path",{fillRule:"evenodd",d:"M22.5 9.75h-21v7.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3v-7.5Zm-18 3.75a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5h-6a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z",clipRule:"evenodd"}))}const se=r.forwardRef(ae);function le(c,t){var n=c,{title:e,titleId:l}=n,a=b(n,["title","titleId"]);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},a),e?r.createElement("title",{id:l},e):null,r.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const te=r.forwardRef(le);function re(c,t){var n=c,{title:e,titleId:l}=n,a=b(n,["title","titleId"]);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},a),e?r.createElement("title",{id:l},e):null,r.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),r.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"}))}const ne=r.forwardRef(re),x={profilePicture:"",personalDetails:{name:"eg : Siva Dheeraj",email:"eg : sivadheeraj@example.com",phone:"eg : +91 9990292929",bio:"eg : Lead Product Designer",jobTitle:"eg : Senior UX Engineer",company:"eg : Tech Innovators Inc",dob:"eg : 1990-05-15",interests:["technology","art"]}},oe=[{value:"technology",label:"Technology",color:"#1890ff"},{value:"sports",label:"Sports",color:"#52c41a"},{value:"music",label:"Music",color:"#722ed1"},{value:"art",label:"Art",color:"#eb2f96"},{value:"other",label:"Other",color:"#fa8c16"}],I={free:"from-gray-500 to-gray-600",basic:"from-blue-500 to-blue-600",pro:"from-purple-500 to-purple-600",enterprise:"from-yellow-500 to-yellow-600"},V={active:"bg-green-500",canceled:"bg-red-500",past_due:"bg-orange-500",unpaid:"bg-red-600"},be=()=>{var d,h,N,E,C,R,M,P,T,Z;const[e,l]=r.useState(x),{user:a}=H(o=>o.auth),t=U();r.useEffect(()=>{t(_())},[t]);const c=((h=(d=a==null?void 0:a.credits)==null?void 0:d.base)!=null?h:0)+((E=(N=a==null?void 0:a.credits)==null?void 0:N.extra)!=null?E:0);r.useEffect(()=>{a&&l(o=>{var i,g;return{profilePicture:a.avatar||o.profilePicture,personalDetails:{name:a.name||"",email:a.email||"",phone:a.phone||"",bio:a.bio||"",jobTitle:a.jobTitle||"",company:a.company||"",dob:a.dob||"",interests:a.interests||["other"]},subscription:{plan:((i=a.subscription)==null?void 0:i.plan)||"free",status:((g=a.subscription)==null?void 0:g.status)||"active"},emailVerified:a.emailVerified||!1}})},[a]);const n=()=>F(null,null,function*(){const o={avatar:e.profilePicture,name:e.personalDetails.name,bio:e.personalDetails.bio,email:e.personalDetails.email,phone:e.personalDetails.phone,jobTitle:e.personalDetails.jobTitle,company:e.personalDetails.company,dob:e.personalDetails.dob,interests:e.personalDetails.interests};try{yield t(G(o)).unwrap(),D.success("Profile updated successfully!")}catch(i){D.error("Error updating profile, try again")}}),m=o=>{const{name:i,value:g}=o.target;if(i==="personalDetails.phone"){const w=g.replace(/[^0-9]/g,"");if(w.length>15){D.error("Phone number cannot exceed 15 digits.");return}l(S=>u(p({},S),{personalDetails:u(p({},S.personalDetails),{phone:w})}))}else i.startsWith("personalDetails.")&&l(w=>u(p({},w),{personalDetails:u(p({},w.personalDetails),{[i.split(".")[1]]:g})}))},f=o=>{l(i=>u(p({},i),{personalDetails:u(p({},i.personalDetails),{interests:o})}))};return s.jsxs(s.Fragment,{children:[s.jsx(Y,{children:s.jsx("title",{children:"Profile | GenWrite"})}),s.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen p-3 sm:p-4 md:p-6 mt-5",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx(j.div,{initial:{y:-20},animate:{y:0},className:"bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6 md:p-8 mb-4 sm:mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:e!=null&&e.profilePicture?s.jsx("img",{src:e.profilePicture,alt:"Profile",className:"w-24 h-24 sm:w-28 sm:h-28 md:w-32 md:h-32 rounded-full border-4 border-gray-100 object-cover shadow-md"}):s.jsx("div",{className:"w-24 h-24 sm:w-28 sm:h-28 md:w-32 md:h-32 rounded-full border-4 border-gray-100 bg-gradient-to-br from-blue-500 to-purple-600 text-white flex items-center justify-center text-4xl sm:text-5xl font-bold shadow-md",children:(C=e==null?void 0:e.personalDetails)!=null&&C.name?`${(R=e==null?void 0:e.personalDetails.name[0])==null?void 0:R.toUpperCase()}`:"NA"})}),s.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start justify-center sm:justify-start gap-2 mb-2",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:e.personalDetails.name||"Full Name"}),e.emailVerified&&s.jsx(W,{title:"Email Verified",children:s.jsx(te,{className:"w-5 h-5 mt-2 sm:w-6 sm:h-6 text-blue-500"})})]}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4 line-clamp-2",children:e.personalDetails.bio||"Add your bio"}),s.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start gap-2",children:[s.jsxs("span",{className:`px-3 sm:px-4 py-1 sm:py-1.5 bg-gradient-to-r ${I[(M=e.subscription)==null?void 0:M.plan]||I.free} text-white rounded-full text-xs sm:text-sm font-medium capitalize`,children:[s.jsx(se,{className:"w-3 h-3 sm:w-4 sm:h-4 inline mr-1"}),((P=e.subscription)==null?void 0:P.plan)||"free"]}),s.jsxs("span",{className:"px-3 sm:px-4 py-1 sm:py-1.5 bg-blue-50 text-blue-700 rounded-full text-xs sm:text-sm font-medium",children:[s.jsx(K,{className:"w-3 h-3 sm:w-4 sm:h-4 inline mr-1"}),c," Credits"]}),s.jsx("span",{className:`px-3 sm:px-4 py-1 sm:py-1.5 ${V[(T=e.subscription)==null?void 0:T.status]||V.active} text-white rounded-full text-xs sm:text-sm font-medium capitalize`,children:((Z=e.subscription)==null?void 0:Z.status)||"active"})]})]})]})}),s.jsxs(j.div,{initial:{y:20},animate:{y:0},className:"bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6 md:p-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 mb-4 sm:mb-6",children:[s.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(ne,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500"}),"Personal Details"]}),s.jsxs("button",{onClick:n,className:"w-full sm:w-auto px-4 sm:px-6 py-2 sm:py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2 text-sm sm:text-base",children:[s.jsx(ee,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Save Changes"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[s.jsx(v,{label:"Full Name",name:"personalDetails.name",value:e.personalDetails.name,onChange:m,placeholder:x.personalDetails.name}),s.jsx(v,{label:"Email",name:"personalDetails.email",value:e.personalDetails.email,onChange:m,placeholder:x.personalDetails.email,disabled:!0}),s.jsx(v,{label:"Phone",name:"personalDetails.phone",value:e.personalDetails.phone,onChange:m,placeholder:x.personalDetails.phone,maxLength:15}),s.jsx(v,{label:"Job Title",name:"personalDetails.jobTitle",value:e.personalDetails.jobTitle,onChange:m,placeholder:x.personalDetails.jobTitle}),s.jsx(v,{label:"Company",name:"personalDetails.company",value:e.personalDetails.company,onChange:m,placeholder:x.personalDetails.company}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Date of Birth"}),s.jsx(J,{format:"YYYY-MM-DD",value:e.personalDetails.dob?B(e.personalDetails.dob):null,onChange:(o,i)=>m({target:{name:"personalDetails.dob",value:i}}),className:"w-full",size:"large",placeholder:x.personalDetails.dob,disabledDate:o=>o&&o>B().endOf("day")})]}),s.jsxs("div",{className:"sm:col-span-2 space-y-2",children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Bio"}),s.jsx("textarea",{name:"personalDetails.bio",value:e.personalDetails.bio||"",onChange:m,placeholder:"Tell us about yourself...",className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all resize-none text-sm sm:text-base",rows:4})]}),s.jsxs("div",{className:"sm:col-span-2 space-y-2",children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:"Interests"}),s.jsx(X,{mode:"multiple",value:e.personalDetails.interests,onChange:f,className:"w-full",placeholder:"Select your interests",options:oe,maxTagCount:"responsive",size:"large"})]})]})]})]})})]})},v=({label:e,name:l,value:a,onChange:t,placeholder:c,maxLength:n,disabled:m=!1})=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:e}),s.jsx("input",{type:l==="personalDetails.phone"?"tel":"text",name:l,value:a||"",onChange:t,placeholder:c,className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all disabled:bg-gray-50 disabled:cursor-not-allowed text-sm sm:text-base",maxLength:n,pattern:l==="personalDetails.phone"?"[0-9]*":void 0,disabled:m})]});export{be as default};
