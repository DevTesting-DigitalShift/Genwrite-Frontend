import{r as u,bv as ye,bl as fe,aQ as Se,dR as we,bh as Ee,ab as f,dS as Ne,bs as ve,s as S,dT as Re,bk as _e,bj as ge,dU as Ce,by as Fe,aP as Oe,q as Ie,dV as Pe,dW as $e,bR as je,p as Ae,bT as Be,bU as ze,dX as Ke,bS as Te,n as Ve,bZ as pe,bY as xe,b_ as ke}from"./index-BGE4p5HE.js";var De=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],Ue=u.forwardRef(function(e,w){var m=e.autoComplete,s=e.onChange,o=e.onFocus,c=e.onBlur,v=e.onPressEnter,d=e.onKeyDown,R=e.onKeyUp,$=e.prefixCls,g=$===void 0?"rc-input":$,_=e.disabled,L=e.htmlSize,ee=e.className,te=e.maxLength,j=e.suffix,M=e.showCount,A=e.count,F=e.type,ne=F===void 0?"text":F,me=e.classes,x=e.classNames,h=e.styles,b=e.onCompositionStart,B=e.onCompositionEnd,ae=ye(e,De),oe=u.useState(!1),W=fe(oe,2),H=W[0],z=W[1],n=u.useRef(!1),C=u.useRef(!1),r=u.useRef(null),q=u.useRef(null),E=function(t){r.current&&Re(r.current,t)},se=Se(e.defaultValue,{value:e.value}),Q=fe(se,2),K=Q[0],X=Q[1],p=K==null?"":String(K),re=u.useState(null),Y=fe(re,2),T=Y[0],I=Y[1],i=we(A,M),N=i.max||te,V=i.strategy(p),k=!!N&&V>N;u.useImperativeHandle(w,function(){var a;return{focus:E,blur:function(){var l;(l=r.current)===null||l===void 0||l.blur()},setSelectionRange:function(l,U,P){var O;(O=r.current)===null||O===void 0||O.setSelectionRange(l,U,P)},select:function(){var l;(l=r.current)===null||l===void 0||l.select()},input:r.current,nativeElement:((a=q.current)===null||a===void 0?void 0:a.nativeElement)||r.current}}),u.useEffect(function(){C.current&&(C.current=!1),z(function(a){return a&&_?!1:a})},[_]);var Z=function(t,l,U){var P=l;if(!n.current&&i.exceedFormatter&&i.max&&i.strategy(l)>i.max){if(P=i.exceedFormatter(l,{max:i.max}),l!==P){var O,de;I([((O=r.current)===null||O===void 0?void 0:O.selectionStart)||0,((de=r.current)===null||de===void 0?void 0:de.selectionEnd)||0])}}else if(U.source==="compositionEnd")return;X(P),r.current&&Ce(r.current,t,s,P)};u.useEffect(function(){if(T){var a;(a=r.current)===null||a===void 0||a.setSelectionRange.apply(a,Ee(T))}},[T]);var le=function(t){Z(t,t.target.value,{source:"change"})},ue=function(t){n.current=!1,Z(t,t.currentTarget.value,{source:"compositionEnd"}),B==null||B(t)},ie=function(t){v&&t.key==="Enter"&&!C.current&&(C.current=!0,v(t)),d==null||d(t)},ce=function(t){t.key==="Enter"&&(C.current=!1),R==null||R(t)},G=function(t){z(!0),o==null||o(t)},J=function(t){C.current&&(C.current=!1),z(!1),c==null||c(t)},y=function(t){X(""),E(),r.current&&Ce(r.current,t,s)},D=k&&"".concat(g,"-out-of-range"),he=function(){var t=Fe(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return f.createElement("input",ve({autoComplete:m},t,{onChange:le,onFocus:G,onBlur:J,onKeyDown:ie,onKeyUp:ce,className:S(g,ge({},"".concat(g,"-disabled"),_),x==null?void 0:x.input),style:h==null?void 0:h.input,ref:r,size:L,type:ne,onCompositionStart:function(U){n.current=!0,b==null||b(U)},onCompositionEnd:ue}))},be=function(){var t=Number(N)>0;if(j||i.show){var l=i.showFormatter?i.showFormatter({value:p,count:V,maxLength:N}):"".concat(V).concat(t?" / ".concat(N):"");return f.createElement(f.Fragment,null,i.show&&f.createElement("span",{className:S("".concat(g,"-show-count-suffix"),ge({},"".concat(g,"-show-count-has-suffix"),!!j),x==null?void 0:x.count),style:_e({},h==null?void 0:h.count)},l),j)}return null};return f.createElement(Ne,ve({},ae,{prefixCls:g,className:S(ee,D),handleReset:y,value:p,focused:H,triggerFocus:E,suffix:be(),disabled:_,classes:me,classNames:x,styles:h,ref:q}),he())});function Le(e,w){const m=u.useRef([]),s=()=>{m.current.push(setTimeout(()=>{var o,c,v,d;!((o=e.current)===null||o===void 0)&&o.input&&((c=e.current)===null||c===void 0?void 0:c.input.getAttribute("type"))==="password"&&(!((v=e.current)===null||v===void 0)&&v.input.hasAttribute("value"))&&((d=e.current)===null||d===void 0||d.input.removeAttribute("value"))}))};return u.useEffect(()=>(w&&s(),()=>m.current.forEach(o=>{o&&clearTimeout(o)})),[]),s}function Me(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}var We=function(e,w){var m={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&w.indexOf(s)<0&&(m[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)w.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(m[s[o]]=e[s[o]]);return m};const qe=u.forwardRef((e,w)=>{const{prefixCls:m,bordered:s=!0,status:o,size:c,disabled:v,onBlur:d,onFocus:R,suffix:$,allowClear:g,addonAfter:_,addonBefore:L,className:ee,style:te,styles:j,rootClassName:M,onChange:A,classNames:F,variant:ne,_skipAddonWarning:me}=e,x=We(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant","_skipAddonWarning"]),{getPrefixCls:h,direction:b,allowClear:B,autoComplete:ae,className:oe,style:W,classNames:H,styles:z}=Oe("input"),n=h("input",m),C=u.useRef(null),r=Ie(n),[q,E,se]=Pe(n,M),[Q]=$e(n,r),{compactSize:K,compactItemClassnames:X}=je(n,b),p=Ae(y=>{var D;return(D=c!=null?c:K)!==null&&D!==void 0?D:y}),re=f.useContext(Be),Y=v!=null?v:re,{status:T,hasFeedback:I,feedbackIcon:i}=u.useContext(ze),N=ke(T,o),V=Me(e)||!!I;u.useRef(V);const k=Le(C,!0),Z=y=>{k(),d==null||d(y)},le=y=>{k(),R==null||R(y)},ue=y=>{k(),A==null||A(y)},ie=(I||$)&&f.createElement(f.Fragment,null,$,I&&i),ce=Ke(g!=null?g:B),[G,J]=Te("input",ne,s);return q(Q(f.createElement(Ue,Object.assign({ref:Ve(w,C),prefixCls:n,autoComplete:ae},x,{disabled:Y,onBlur:Z,onFocus:le,style:Object.assign(Object.assign({},W),te),styles:Object.assign(Object.assign({},z),j),suffix:ie,allowClear:ce,className:S(ee,M,se,r,X,oe),onChange:ue,addonBefore:L&&f.createElement(xe,{form:!0,space:!0},L),addonAfter:_&&f.createElement(xe,{form:!0,space:!0},_),classNames:Object.assign(Object.assign(Object.assign({},F),H),{input:S({[`${n}-sm`]:p==="small",[`${n}-lg`]:p==="large",[`${n}-rtl`]:b==="rtl"},F==null?void 0:F.input,H.input,E),variant:S({[`${n}-${G}`]:J},pe(n,N)),affixWrapper:S({[`${n}-affix-wrapper-sm`]:p==="small",[`${n}-affix-wrapper-lg`]:p==="large",[`${n}-affix-wrapper-rtl`]:b==="rtl"},E),wrapper:S({[`${n}-group-rtl`]:b==="rtl"},E),groupWrapper:S({[`${n}-group-wrapper-sm`]:p==="small",[`${n}-group-wrapper-lg`]:p==="large",[`${n}-group-wrapper-rtl`]:b==="rtl",[`${n}-group-wrapper-${G}`]:J},pe(`${n}-group-wrapper`,N,I),E)})}))))});export{qe as I,Le as u};
