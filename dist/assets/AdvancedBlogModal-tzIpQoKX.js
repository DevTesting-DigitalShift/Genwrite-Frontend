var yr=Object.defineProperty,Cr=Object.defineProperties;var xr=Object.getOwnPropertyDescriptors;var Lt=Object.getOwnPropertySymbols;var Sr=Object.prototype.hasOwnProperty,Ir=Object.prototype.propertyIsEnumerable;var Tt=(e,t,r)=>t in e?yr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ne=(e,t)=>{for(var r in t||(t={}))Sr.call(t,r)&&Tt(e,r,t[r]);if(Lt)for(var r of Lt(t))Ir.call(t,r)&&Tt(e,r,t[r]);return e},ot=(e,t)=>Cr(e,xr(t));var Dt=(e,t,r)=>new Promise((a,o)=>{var n=m=>{try{c(r.next(m))}catch(d){o(d)}},l=m=>{try{c(r.throw(m))}catch(d){o(d)}},c=m=>m.done?a(m.value):Promise.resolve(m.value).then(n,l);c((r=r.apply(e,t)).next())});import{r as s,s as te,bk as q,cr as Rt,eg as $r,bl as ne,aT as yt,bm as fe,dk as jr,bp as Nr,bw as Be,ae as Ee,bt as de,eh as Er,bi as Se,bn as kt,aR as dt,bR as Oe,e as Zt,h as Ct,bB as _e,ei as Or,ej as Qt,aK as Rr,bO as Mt,k as we,cx as kr,o as pt,q as Jt,bY as er,aS as ut,aQ as tr,bW as rr,bq as Mr,ek as Fe,el as be,cB as nr,dr as ar,by as or,ds as ve,bx as ir,bv as Pr,dw as sr,dt as Ft,em as At,i as Lr,T as lr,bz as Tr,cG as Dr,cH as Fr,v as zt,B as Ve,cV as _t,bU as Ar,cU as zr,ao as Bt,I as cr,j as u,C as _r,W as et,u as Br,a as Ut,z as Ur,b as Xr,M as Hr,en as Gr,L as Vr,P as Wr,aI as Pe,x as Yr,aZ as qr,ab as Kr}from"./index-6vE63f-j.js";import{T as Zr}from"./TemplateSelection-DGHmT6sa.js";import{c as Le,A as ft,L as Qr,T as Jr,I as en,d as tn}from"./forms.schemas-BJOS7R7B.js";import{F as pe}from"./index-DuJ3owzg.js";import{g as rn}from"./collapse-BbEVqHco.js";import{D as nn}from"./DownloadOutlined-DTidZHln.js";import{R as dr,I as gt}from"./index-DKbJohlp.js";import{P as an}from"./progress-CbC4yUo5.js";import{u as on}from"./useForceUpdate-COQK-gNC.js";import{a as He}from"./addEventListener-B9p4QymN.js";import{R as xt}from"./LeftOutlined-B6xAAmhL.js";import{R as St}from"./RightOutlined-Bua2jv5p.js";import{B as sn}from"./BrandVoiceSelector-x14ZRYUB.js";import{c as ln}from"./pricingConfig-DUMy0XHk.js";import{E as cn}from"./index-CEQ_sm_4.js";import{S as Ze}from"./index-DynloxlS.js";import{S as Ce}from"./index-DvSimSuE.js";import{R as it}from"./index-BgLIsgrz.js";import{B as dn}from"./index-CnWZAImr.js";import{C as un}from"./crown-CPV6dDF_.js";import{T as mn}from"./index-DDD4u1o0.js";import{S as Qe}from"./index-CMEuEzxY.js";import{S as pn}from"./sparkles-DQ0zfy36.js";import{T as fn}from"./index-BX0piEBV.js";import{S as gn}from"./index-C3bSDX27.js";import"./search-Dxa4ZgKD.js";import"./gapSize-U1swVQyS.js";import"./Input-DSSEV1Bh.js";import"./EyeOutlined-Bmd706kk.js";import"./SearchOutlined-dWMKBnrX.js";import"./Brand.query-B-C_Sk9U.js";import"./useQuery-0631SnkH.js";import"./useInfiniteQuery-wr-AFLnQ.js";import"./useForm-C2w3GfT2.js";import"./move-BmZ66RIU.js";function ur(){var e=document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:t}}function hn(e){var t=e.getBoundingClientRect(),r=document.documentElement;return{left:t.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||r.scrollTop)-(r.clientTop||document.body.clientTop||0)}}var rt=s.createContext(null),vn=function(t){var r=t.visible,a=t.maskTransitionName,o=t.getContainer,n=t.prefixCls,l=t.rootClassName,c=t.icons,m=t.countRender,d=t.showSwitch,p=t.showProgress,i=t.current,v=t.transform,g=t.count,w=t.scale,y=t.minScale,S=t.maxScale,C=t.closeIcon,O=t.onActive,$=t.onClose,N=t.onZoomIn,f=t.onZoomOut,R=t.onRotateRight,x=t.onRotateLeft,I=t.onFlipX,P=t.onFlipY,L=t.onReset,k=t.toolbarRender,U=t.zIndex,G=t.image,V=s.useContext(rt),Y=c.rotateLeft,D=c.rotateRight,K=c.zoomIn,b=c.zoomOut,E=c.close,X=c.left,Z=c.right,j=c.flipX,h=c.flipY,M="".concat(n,"-operations-operation");s.useEffect(function(){var A=function(oe){oe.keyCode===yt.ESC&&$()};return r&&window.addEventListener("keydown",A),function(){window.removeEventListener("keydown",A)}},[r]);var z=function(J,oe){J.preventDefault(),J.stopPropagation(),O(oe)},_=s.useCallback(function(A){var J=A.type,oe=A.disabled,me=A.onClick,le=A.icon;return s.createElement("div",{key:J,className:te(M,"".concat(n,"-operations-operation-").concat(J),q({},"".concat(n,"-operations-operation-disabled"),!!oe)),onClick:me},le)},[M,n]),ie=d?_({icon:X,onClick:function(J){return z(J,-1)},type:"prev",disabled:i===0}):void 0,ae=d?_({icon:Z,onClick:function(J){return z(J,1)},type:"next",disabled:i===g-1}):void 0,re=_({icon:h,onClick:P,type:"flipY"}),Q=_({icon:j,onClick:I,type:"flipX"}),se=_({icon:Y,onClick:x,type:"rotateLeft"}),B=_({icon:D,onClick:R,type:"rotateRight"}),ue=_({icon:b,onClick:f,type:"zoomOut",disabled:w<=y}),ge=_({icon:K,onClick:N,type:"zoomIn",disabled:w===S}),he=s.createElement("div",{className:"".concat(n,"-operations")},re,Q,se,B,ue,ge);return s.createElement(Rt,{visible:r,motionName:a},function(A){var J=A.className,oe=A.style;return s.createElement($r,{open:!0,getContainer:o!=null?o:document.body},s.createElement("div",{className:te("".concat(n,"-operations-wrapper"),J,l),style:ne(ne({},oe),{},{zIndex:U})},C===null?null:s.createElement("button",{className:"".concat(n,"-close"),onClick:$},C||E),d&&s.createElement(s.Fragment,null,s.createElement("div",{className:te("".concat(n,"-switch-left"),q({},"".concat(n,"-switch-left-disabled"),i===0)),onClick:function(le){return z(le,-1)}},X),s.createElement("div",{className:te("".concat(n,"-switch-right"),q({},"".concat(n,"-switch-right-disabled"),i===g-1)),onClick:function(le){return z(le,1)}},Z)),s.createElement("div",{className:"".concat(n,"-footer")},p&&s.createElement("div",{className:"".concat(n,"-progress")},m?m(i+1,g):s.createElement("bdi",null,"".concat(i+1," / ").concat(g))),k?k(he,ne(ne({icons:{prevIcon:ie,nextIcon:ae,flipYIcon:re,flipXIcon:Q,rotateLeftIcon:se,rotateRightIcon:B,zoomOutIcon:ue,zoomInIcon:ge},actions:{onActive:O,onFlipY:P,onFlipX:I,onRotateLeft:x,onRotateRight:R,onZoomOut:f,onZoomIn:N,onReset:L,onClose:$},transform:v},V?{current:i,total:g}:{}),{},{image:G})):he)))})},st={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function bn(e,t,r,a){var o=s.useRef(null),n=s.useRef([]),l=s.useState(st),c=fe(l,2),m=c[0],d=c[1],p=function(w){d(st),jr(st,m)||a==null||a({transform:st,action:w})},i=function(w,y){o.current===null&&(n.current=[],o.current=Nr(function(){d(function(S){var C=S;return n.current.forEach(function(O){C=ne(ne({},C),O)}),o.current=null,a==null||a({transform:C,action:y}),C})})),n.current.push(ne(ne({},m),w))},v=function(w,y,S,C,O){var $=e.current,N=$.width,f=$.height,R=$.offsetWidth,x=$.offsetHeight,I=$.offsetLeft,P=$.offsetTop,L=w,k=m.scale*w;k>r?(k=r,L=r/m.scale):k<t&&(k=O?k:t,L=k/m.scale);var U=S!=null?S:innerWidth/2,G=C!=null?C:innerHeight/2,V=L-1,Y=V*N*.5,D=V*f*.5,K=V*(U-m.x-I),b=V*(G-m.y-P),E=m.x-(K-Y),X=m.y-(b-D);if(w<1&&k===1){var Z=R*k,j=x*k,h=ur(),M=h.width,z=h.height;Z<=M&&j<=z&&(E=0,X=0)}i({x:E,y:X,scale:k},y)};return{transform:m,resetTransform:p,updateTransform:i,dispatchZoomChange:v}}function Xt(e,t,r,a){var o=t+r,n=(r-a)/2;if(r>a){if(t>0)return q({},e,n);if(t<0&&o<a)return q({},e,-n)}else if(t<0||o>a)return q({},e,t<0?n:-n);return{}}function mr(e,t,r,a){var o=ur(),n=o.width,l=o.height,c=null;return e<=n&&t<=l?c={x:0,y:0}:(e>n||t>l)&&(c=ne(ne({},Xt("x",r,e,n)),Xt("y",a,t,l))),c}var Ge=1,wn=1;function yn(e,t,r,a,o,n,l){var c=o.rotate,m=o.scale,d=o.x,p=o.y,i=s.useState(!1),v=fe(i,2),g=v[0],w=v[1],y=s.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),S=function(f){!t||f.button!==0||(f.preventDefault(),f.stopPropagation(),y.current={diffX:f.pageX-d,diffY:f.pageY-p,transformX:d,transformY:p},w(!0))},C=function(f){r&&g&&n({x:f.pageX-y.current.diffX,y:f.pageY-y.current.diffY},"move")},O=function(){if(r&&g){w(!1);var f=y.current,R=f.transformX,x=f.transformY,I=d!==R&&p!==x;if(!I)return;var P=e.current.offsetWidth*m,L=e.current.offsetHeight*m,k=e.current.getBoundingClientRect(),U=k.left,G=k.top,V=c%180!==0,Y=mr(V?L:P,V?P:L,U,G);Y&&n(ne({},Y),"dragRebound")}},$=function(f){if(!(!r||f.deltaY==0)){var R=Math.abs(f.deltaY/100),x=Math.min(R,wn),I=Ge+x*a;f.deltaY>0&&(I=Ge/I),l(I,"wheel",f.clientX,f.clientY)}};return s.useEffect(function(){var N,f,R,x;if(t){R=He(window,"mouseup",O,!1),x=He(window,"mousemove",C,!1);try{window.top!==window.self&&(N=He(window.top,"mouseup",O,!1),f=He(window.top,"mousemove",C,!1))}catch(I){}}return function(){var I,P,L,k;(I=R)===null||I===void 0||I.remove(),(P=x)===null||P===void 0||P.remove(),(L=N)===null||L===void 0||L.remove(),(k=f)===null||k===void 0||k.remove()}},[r,g,d,p,c,t]),{isMoving:g,onMouseDown:S,onMouseMove:C,onMouseUp:O,onWheel:$}}function Cn(e){return new Promise(function(t){if(!e){t(!1);return}var r=document.createElement("img");r.onerror=function(){return t(!1)},r.onload=function(){return t(!0)},r.src=e})}function pr(e){var t=e.src,r=e.isCustomPlaceholder,a=e.fallback,o=s.useState(r?"loading":"normal"),n=fe(o,2),l=n[0],c=n[1],m=s.useRef(!1),d=l==="error";s.useEffect(function(){var g=!0;return Cn(t).then(function(w){!w&&g&&c("error")}),function(){g=!1}},[t]),s.useEffect(function(){r&&!m.current?c("loading"):d&&c("normal")},[t]);var p=function(){c("normal")},i=function(w){m.current=!1,l==="loading"&&w!==null&&w!==void 0&&w.complete&&(w.naturalWidth||w.naturalHeight)&&(m.current=!0,p())},v=d&&a?{src:a}:{onLoad:p,src:t};return[i,v,l]}function mt(e,t){var r=e.x-t.x,a=e.y-t.y;return Math.hypot(r,a)}function xn(e,t,r,a){var o=mt(e,r),n=mt(t,a);if(o===0&&n===0)return[e.x,e.y];var l=o/(o+n),c=e.x+l*(t.x-e.x),m=e.y+l*(t.y-e.y);return[c,m]}function Sn(e,t,r,a,o,n,l){var c=o.rotate,m=o.scale,d=o.x,p=o.y,i=s.useState(!1),v=fe(i,2),g=v[0],w=v[1],y=s.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),S=function(f){y.current=ne(ne({},y.current),f)},C=function(f){if(t){f.stopPropagation(),w(!0);var R=f.touches,x=R===void 0?[]:R;x.length>1?S({point1:{x:x[0].clientX,y:x[0].clientY},point2:{x:x[1].clientX,y:x[1].clientY},eventType:"touchZoom"}):S({point1:{x:x[0].clientX-d,y:x[0].clientY-p},eventType:"move"})}},O=function(f){var R=f.touches,x=R===void 0?[]:R,I=y.current,P=I.point1,L=I.point2,k=I.eventType;if(x.length>1&&k==="touchZoom"){var U={x:x[0].clientX,y:x[0].clientY},G={x:x[1].clientX,y:x[1].clientY},V=xn(P,L,U,G),Y=fe(V,2),D=Y[0],K=Y[1],b=mt(U,G)/mt(P,L);l(b,"touchZoom",D,K,!0),S({point1:U,point2:G,eventType:"touchZoom"})}else k==="move"&&(n({x:x[0].clientX-P.x,y:x[0].clientY-P.y},"move"),S({eventType:"move"}))},$=function(){if(r){if(g&&w(!1),S({eventType:"none"}),a>m)return n({x:0,y:0,scale:a},"touchZoom");var f=e.current.offsetWidth*m,R=e.current.offsetHeight*m,x=e.current.getBoundingClientRect(),I=x.left,P=x.top,L=c%180!==0,k=mr(L?R:f,L?f:R,I,P);k&&n(ne({},k),"dragRebound")}};return s.useEffect(function(){var N;return r&&t&&(N=He(window,"touchmove",function(f){return f.preventDefault()},{passive:!1})),function(){var f;(f=N)===null||f===void 0||f.remove()}},[r,t]),{isTouching:g,onTouchStart:C,onTouchMove:O,onTouchEnd:$}}var In=["fallback","src","imgRef"],$n=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],jn=function(t){var r=t.fallback,a=t.src,o=t.imgRef,n=Be(t,In),l=pr({src:a,fallback:r}),c=fe(l,2),m=c[0],d=c[1];return Ee.createElement("img",de({ref:function(i){o.current=i,m(i)}},n,d))},fr=function(t){var r=t.prefixCls,a=t.src,o=t.alt,n=t.imageInfo,l=t.fallback,c=t.movable,m=c===void 0?!0:c,d=t.onClose,p=t.visible,i=t.icons,v=i===void 0?{}:i,g=t.rootClassName,w=t.closeIcon,y=t.getContainer,S=t.current,C=S===void 0?0:S,O=t.count,$=O===void 0?1:O,N=t.countRender,f=t.scaleStep,R=f===void 0?.5:f,x=t.minScale,I=x===void 0?1:x,P=t.maxScale,L=P===void 0?50:P,k=t.transitionName,U=k===void 0?"zoom":k,G=t.maskTransitionName,V=G===void 0?"fade":G,Y=t.imageRender,D=t.imgCommonProps,K=t.toolbarRender,b=t.onTransform,E=t.onChange,X=Be(t,$n),Z=s.useRef(),j=s.useContext(rt),h=j&&$>1,M=j&&$>=1,z=s.useState(!0),_=fe(z,2),ie=_[0],ae=_[1],re=bn(Z,I,L,b),Q=re.transform,se=re.resetTransform,B=re.updateTransform,ue=re.dispatchZoomChange,ge=yn(Z,m,p,R,Q,B,ue),he=ge.isMoving,A=ge.onMouseDown,J=ge.onWheel,oe=Sn(Z,m,p,I,Q,B,ue),me=oe.isTouching,le=oe.onTouchStart,Ie=oe.onTouchMove,Re=oe.onTouchEnd,ye=Q.rotate,xe=Q.scale,We=te(q({},"".concat(r,"-moving"),he));s.useEffect(function(){ie||ae(!0)},[ie]);var Ye=function(){se("close")},qe=function(){ue(Ge+R,"zoomIn")},$e=function(){ue(Ge/(Ge+R),"zoomOut")},je=function(){B({rotate:ye+90},"rotateRight")},Ue=function(){B({rotate:ye-90},"rotateLeft")},ke=function(){B({flipX:!Q.flipX},"flipX")},Me=function(){B({flipY:!Q.flipY},"flipY")},nt=function(){se("reset")},Ke=function(H){var ce=C+H;!Number.isInteger(ce)||ce<0||ce>$-1||(ae(!1),se(H<0?"prev":"next"),E==null||E(ce,C))},at=function(H){!p||!h||(H.keyCode===yt.LEFT?Ke(-1):H.keyCode===yt.RIGHT&&Ke(1))},F=function(H){p&&(xe!==1?B({x:0,y:0,scale:1},"doubleClick"):ue(Ge+R,"doubleClick",H.clientX,H.clientY))};s.useEffect(function(){var T=He(window,"keydown",at,!1);return function(){T.remove()}},[p,h,C]);var W=Ee.createElement(jn,de({},D,{width:t.width,height:t.height,imgRef:Z,className:"".concat(r,"-img"),alt:o,style:{transform:"translate3d(".concat(Q.x,"px, ").concat(Q.y,"px, 0) scale3d(").concat(Q.flipX?"-":"").concat(xe,", ").concat(Q.flipY?"-":"").concat(xe,", 1) rotate(").concat(ye,"deg)"),transitionDuration:(!ie||me)&&"0s"},fallback:l,src:a,onWheel:J,onMouseDown:A,onDoubleClick:F,onTouchStart:le,onTouchMove:Ie,onTouchEnd:Re,onTouchCancel:Re})),ee=ne({url:a,alt:o},n);return Ee.createElement(Ee.Fragment,null,Ee.createElement(Er,de({transitionName:U,maskTransitionName:V,closable:!1,keyboard:!0,prefixCls:r,onClose:d,visible:p,classNames:{wrapper:We},rootClassName:g,getContainer:y},X,{afterClose:Ye}),Ee.createElement("div",{className:"".concat(r,"-img-wrapper")},Y?Y(W,ne({transform:Q,image:ee},j?{current:C}:{})):W)),Ee.createElement(vn,{visible:p,transform:Q,maskTransitionName:V,closeIcon:w,getContainer:y,prefixCls:r,rootClassName:g,icons:v,countRender:N,showSwitch:h,showProgress:M,current:C,count:$,scale:xe,minScale:I,maxScale:L,toolbarRender:K,onActive:Ke,onZoomIn:qe,onZoomOut:$e,onRotateRight:je,onRotateLeft:Ue,onFlipX:ke,onFlipY:Me,onClose:d,onReset:nt,zIndex:X.zIndex!==void 0?X.zIndex+1:void 0,image:ee}))},It=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function Nn(e){var t=s.useState({}),r=fe(t,2),a=r[0],o=r[1],n=s.useCallback(function(c,m){return o(function(d){return ne(ne({},d),{},q({},c,m))}),function(){o(function(d){var p=ne({},d);return delete p[c],p})}},[]),l=s.useMemo(function(){return e?e.map(function(c){if(typeof c=="string")return{data:{src:c}};var m={};return Object.keys(c).forEach(function(d){["src"].concat(Se(It)).includes(d)&&(m[d]=c[d])}),{data:m}}):Object.keys(a).reduce(function(c,m){var d=a[m],p=d.canPreview,i=d.data;return p&&c.push({data:i,id:m}),c},[])},[e,a]);return[l,n,!!e]}var En=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],On=["src"],Rn=function(t){var r,a=t.previewPrefixCls,o=a===void 0?"rc-image-preview":a,n=t.children,l=t.icons,c=l===void 0?{}:l,m=t.items,d=t.preview,p=t.fallback,i=kt(d)==="object"?d:{},v=i.visible,g=i.onVisibleChange,w=i.getContainer,y=i.current,S=i.movable,C=i.minScale,O=i.maxScale,$=i.countRender,N=i.closeIcon,f=i.onChange,R=i.onTransform,x=i.toolbarRender,I=i.imageRender,P=Be(i,En),L=Nn(m),k=fe(L,3),U=k[0],G=k[1],V=k[2],Y=dt(0,{value:y}),D=fe(Y,2),K=D[0],b=D[1],E=s.useState(!1),X=fe(E,2),Z=X[0],j=X[1],h=((r=U[K])===null||r===void 0?void 0:r.data)||{},M=h.src,z=Be(h,On),_=dt(!!v,{value:v,onChange:function(me,le){g==null||g(me,le,K)}}),ie=fe(_,2),ae=ie[0],re=ie[1],Q=s.useState(null),se=fe(Q,2),B=se[0],ue=se[1],ge=s.useCallback(function(oe,me,le,Ie){var Re=V?U.findIndex(function(ye){return ye.data.src===me}):U.findIndex(function(ye){return ye.id===oe});b(Re<0?0:Re),re(!0),ue({x:le,y:Ie}),j(!0)},[U,V]);s.useEffect(function(){ae?Z||b(0):j(!1)},[ae]);var he=function(me,le){b(me),f==null||f(me,le)},A=function(){re(!1),ue(null)},J=s.useMemo(function(){return{register:G,onPreview:ge}},[G,ge]);return s.createElement(rt.Provider,{value:J},n,s.createElement(fr,de({"aria-hidden":!ae,movable:S,visible:ae,prefixCls:o,closeIcon:N,onClose:A,mousePosition:B,imgCommonProps:z,src:M,fallback:p,icons:c,minScale:C,maxScale:O,getContainer:w,current:K,count:U.length,countRender:$,onTransform:R,toolbarRender:x,imageRender:I,onChange:he},P)))},Ht=0;function kn(e,t){var r=s.useState(function(){return Ht+=1,String(Ht)}),a=fe(r,1),o=a[0],n=s.useContext(rt),l={data:t,canPreview:e};return s.useEffect(function(){if(n)return n.register(o,l)},[]),s.useEffect(function(){n&&n.register(o,l)},[e,t]),o}var Mn=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],Pn=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],Pt=function(t){var r=t.src,a=t.alt,o=t.onPreviewClose,n=t.prefixCls,l=n===void 0?"rc-image":n,c=t.previewPrefixCls,m=c===void 0?"".concat(l,"-preview"):c,d=t.placeholder,p=t.fallback,i=t.width,v=t.height,g=t.style,w=t.preview,y=w===void 0?!0:w,S=t.className,C=t.onClick,O=t.onError,$=t.wrapperClassName,N=t.wrapperStyle,f=t.rootClassName,R=Be(t,Mn),x=d&&d!==!0,I=kt(y)==="object"?y:{},P=I.src,L=I.visible,k=L===void 0?void 0:L,U=I.onVisibleChange,G=U===void 0?o:U,V=I.getContainer,Y=V===void 0?void 0:V,D=I.mask,K=I.maskClassName,b=I.movable,E=I.icons,X=I.scaleStep,Z=I.minScale,j=I.maxScale,h=I.imageRender,M=I.toolbarRender,z=Be(I,Pn),_=P!=null?P:r,ie=dt(!!k,{value:k,onChange:G}),ae=fe(ie,2),re=ae[0],Q=ae[1],se=pr({src:r,isCustomPlaceholder:x,fallback:p}),B=fe(se,3),ue=B[0],ge=B[1],he=B[2],A=s.useState(null),J=fe(A,2),oe=J[0],me=J[1],le=s.useContext(rt),Ie=!!y,Re=function(){Q(!1),me(null)},ye=te(l,$,f,q({},"".concat(l,"-error"),he==="error")),xe=s.useMemo(function(){var $e={};return It.forEach(function(je){t[je]!==void 0&&($e[je]=t[je])}),$e},It.map(function($e){return t[$e]})),We=s.useMemo(function(){return ne(ne({},xe),{},{src:_})},[_,xe]),Ye=kn(Ie,We),qe=function(je){var Ue=hn(je.target),ke=Ue.left,Me=Ue.top;le?le.onPreview(Ye,_,ke,Me):(me({x:ke,y:Me}),Q(!0)),C==null||C(je)};return s.createElement(s.Fragment,null,s.createElement("div",de({},R,{className:ye,onClick:Ie?qe:C,style:ne({width:i,height:v},N)}),s.createElement("img",de({},xe,{className:te("".concat(l,"-img"),q({},"".concat(l,"-img-placeholder"),d===!0),S),style:ne({height:v},g),ref:ue},ge,{width:i,height:v,onError:O})),he==="loading"&&s.createElement("div",{"aria-hidden":"true",className:"".concat(l,"-placeholder")},d),D&&Ie&&s.createElement("div",{className:te("".concat(l,"-mask"),K),style:{display:(g==null?void 0:g.display)==="none"?"none":void 0}},D)),!le&&Ie&&s.createElement(fr,de({"aria-hidden":!re,visible:re,prefixCls:m,onClose:Re,mousePosition:oe,src:_,alt:a,imageInfo:{width:i,height:v},fallback:p,getContainer:Y,icons:E,movable:b,scaleStep:X,minScale:Z,maxScale:j,rootClassName:f,imageRender:h,imgCommonProps:xe,toolbarRender:M},z)))};Pt.PreviewGroup=Rn;var Ln={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},Tn=function(t,r){return s.createElement(Oe,de({},t,{ref:r,icon:Ln}))},Dn=s.forwardRef(Tn),Fn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},An=function(t,r){return s.createElement(Oe,de({},t,{ref:r,icon:Fn}))},zn=s.forwardRef(An),_n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},Bn=function(t,r){return s.createElement(Oe,de({},t,{ref:r,icon:_n}))},Gt=s.forwardRef(Bn),Un={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},Xn=function(t,r){return s.createElement(Oe,de({},t,{ref:r,icon:Un}))},Hn=s.forwardRef(Xn),Gn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},Vn=function(t,r){return s.createElement(Oe,de({},t,{ref:r,icon:Gn}))},Wn=s.forwardRef(Vn);const $t=e=>({position:e||"absolute",inset:0}),Yn=e=>{const{iconCls:t,motionDurationSlow:r,paddingXXS:a,marginXXS:o,prefixCls:n,colorTextLightSolid:l}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:l,background:new _e("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${r}`,[`.${n}-mask-info`]:Object.assign(Object.assign({},Mt),{padding:`0 ${we(a)}`,[t]:{marginInlineEnd:o,svg:{verticalAlign:"baseline"}}})}},qn=e=>{const{previewCls:t,modalMaskBg:r,paddingSM:a,marginXL:o,margin:n,paddingLG:l,previewOperationColorDisabled:c,previewOperationHoverColor:m,motionDurationSlow:d,iconCls:p,colorTextLightSolid:i}=e,v=new _e(r).setA(.1),g=v.clone().setA(.2);return{[`${t}-footer`]:{position:"fixed",bottom:o,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)"},[`${t}-progress`]:{marginBottom:n},[`${t}-close`]:{position:"fixed",top:o,right:{_skip_check_:!0,value:o},display:"flex",color:i,backgroundColor:v.toRgbString(),borderRadius:"50%",padding:a,outline:0,border:0,cursor:"pointer",transition:`all ${d}`,"&:hover":{backgroundColor:g.toRgbString()},[`& > ${p}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${we(l)}`,backgroundColor:v.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:a,padding:a,cursor:"pointer",transition:`all ${d}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${p}`]:{color:m},"&-disabled":{color:c,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${p}`]:{fontSize:e.previewOperationSize}}}}},Kn=e=>{const{modalMaskBg:t,iconCls:r,previewOperationColorDisabled:a,previewCls:o,zIndexPopup:n,motionDurationSlow:l}=e,c=new _e(t).setA(.1),m=c.clone().setA(.2);return{[`${o}-switch-left, ${o}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(n).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:c.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${l}`,userSelect:"none","&:hover":{background:m.toRgbString()},"&-disabled":{"&, &:hover":{color:a,background:"transparent",cursor:"not-allowed",[`> ${r}`]:{cursor:"not-allowed"}}},[`> ${r}`]:{fontSize:e.previewOperationSize}},[`${o}-switch-left`]:{insetInlineStart:e.marginSM},[`${o}-switch-right`]:{insetInlineEnd:e.marginSM}}},Zn=e=>{const{motionEaseOut:t,previewCls:r,motionDurationSlow:a,componentCls:o}=e;return[{[`${o}-preview-root`]:{[r]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${r}-body`]:Object.assign(Object.assign({},$t()),{overflow:"hidden"}),[`${r}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${a} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},$t()),{transition:`transform ${a} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${r}-moving`]:{[`${r}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${o}-preview-root`]:{[`${r}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${o}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[qn(e),Kn(e)]}]},Qn=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},Yn(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},$t())}}},Jn=e=>{const{previewCls:t}=e;return{[`${t}-root`]:Rr(e,"zoom"),"&":Qt(e,!0)}},ea=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new _e(e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new _e(e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new _e(e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),gr=Zt("Image",e=>{const t=`${e.componentCls}-preview`,r=Ct(e,{previewCls:t,modalMaskBg:new _e("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[Qn(r),Zn(r),Or(Ct(r,{componentCls:t})),Jn(r)]},ea);var ta=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const hr={rotateLeft:s.createElement(Dn,null),rotateRight:s.createElement(zn,null),zoomIn:s.createElement(Hn,null),zoomOut:s.createElement(Wn,null),close:s.createElement(kr,null),left:s.createElement(xt,null),right:s.createElement(St,null),flipX:s.createElement(Gt,null),flipY:s.createElement(Gt,{rotate:90})},ra=e=>{var{previewPrefixCls:t,preview:r}=e,a=ta(e,["previewPrefixCls","preview"]);const{getPrefixCls:o,direction:n}=s.useContext(pt),l=o("image",t),c=`${l}-preview`,m=o(),d=Jt(l),[p,i,v]=gr(l,d),[g]=er("ImagePreview",typeof r=="object"?r.zIndex:void 0),w=s.useMemo(()=>Object.assign(Object.assign({},hr),{left:n==="rtl"?s.createElement(St,null):s.createElement(xt,null),right:n==="rtl"?s.createElement(xt,null):s.createElement(St,null)}),[n]),y=s.useMemo(()=>{var S;if(r===!1)return r;const C=typeof r=="object"?r:{},O=te(i,v,d,(S=C.rootClassName)!==null&&S!==void 0?S:"");return Object.assign(Object.assign({},C),{transitionName:ut(m,"zoom",C.transitionName),maskTransitionName:ut(m,"fade",C.maskTransitionName),rootClassName:O,zIndex:g})},[r,m,g,i,v,d]);return p(s.createElement(Pt.PreviewGroup,Object.assign({preview:y,previewPrefixCls:c,icons:w},a)))};var Vt=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const jt=e=>{const{prefixCls:t,preview:r,className:a,rootClassName:o,style:n,fallback:l}=e,c=Vt(e,["prefixCls","preview","className","rootClassName","style","fallback"]),{getPrefixCls:m,getPopupContainer:d,className:p,style:i,preview:v,fallback:g}=tr("image"),[w]=rr("Image"),y=m("image",t),S=m(),C=Jt(y),[O,$,N]=gr(y,C),f=te(o,$,N,C),R=te(a,$,p),[x]=er("ImagePreview",typeof r=="object"?r.zIndex:void 0),I=s.useMemo(()=>{if(r===!1)return r;const k=typeof r=="object"?r:{},{getContainer:U,closeIcon:G,rootClassName:V,destroyOnClose:Y,destroyOnHidden:D}=k,K=Vt(k,["getContainer","closeIcon","rootClassName","destroyOnClose","destroyOnHidden"]);return Object.assign(Object.assign({mask:s.createElement("div",{className:`${y}-mask-info`},s.createElement(dr,null),w==null?void 0:w.preview),icons:hr},K),{destroyOnClose:D!=null?D:Y,rootClassName:te(f,V),getContainer:U!=null?U:d,transitionName:ut(S,"zoom",k.transitionName),maskTransitionName:ut(S,"fade",k.maskTransitionName),zIndex:x,closeIcon:G!=null?G:v==null?void 0:v.closeIcon})},[r,w,v==null?void 0:v.closeIcon]),P=Object.assign(Object.assign({},i),n),L=l!=null?l:g;return O(s.createElement(Pt,Object.assign({prefixCls:y,preview:I,rootClassName:f,className:R,style:P,fallback:L},c)))};jt.PreviewGroup=ra;var vr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},na=function(t,r){return s.createElement(Oe,de({},t,{ref:r,icon:vr}))},aa=s.forwardRef(na);const ht=(function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),a=e.name||"",o=e.type||"",n=o.replace(/\/.*$/,"");return r.some(function(l){var c=l.trim();if(/^\*(\/\*)?$/.test(l))return!0;if(c.charAt(0)==="."){var m=a.toLowerCase(),d=c.toLowerCase(),p=[d];return(d===".jpg"||d===".jpeg")&&(p=[".jpg",".jpeg"]),p.some(function(i){return m.endsWith(i)})}return/\/\*$/.test(c)?n===c.replace(/\/.*$/,""):o===c?!0:/^\w+$/.test(c)?(Mr(!1,"Upload takes an invalidate 'accept' type '".concat(c,"'.Skip for check.")),!0):!1})}return!0});function oa(e,t){var r="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),a=new Error(r);return a.status=t.status,a.method=e.method,a.url=e.action,a}function Wt(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(r){return t}}function Yt(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(n){n.total>0&&(n.percent=n.loaded/n.total*100),e.onProgress(n)});var r=new FormData;e.data&&Object.keys(e.data).forEach(function(o){var n=e.data[o];if(Array.isArray(n)){n.forEach(function(l){r.append("".concat(o,"[]"),l)});return}r.append(o,n)}),e.file instanceof Blob?r.append(e.filename,e.file,e.file.name):r.append(e.filename,e.file),t.onerror=function(n){e.onError(n)},t.onload=function(){return t.status<200||t.status>=300?e.onError(oa(e,t),Wt(t)):e.onSuccess(Wt(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var a=e.headers||{};return a["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(a).forEach(function(o){a[o]!==null&&t.setRequestHeader(o,a[o])}),t.send(r),{abort:function(){t.abort()}}}var ia=(function(){var e=Fe(be().mark(function t(r,a){var o,n,l,c,m,d,p,i;return be().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:d=function(){return d=Fe(be().mark(function y(S){return be().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",new Promise(function($){S.file(function(N){a(N)?(S.fullPath&&!N.webkitRelativePath&&(Object.defineProperties(N,{webkitRelativePath:{writable:!0}}),N.webkitRelativePath=S.fullPath.replace(/^\//,""),Object.defineProperties(N,{webkitRelativePath:{writable:!1}})),$(N)):$(null)})}));case 1:case"end":return O.stop()}},y)})),d.apply(this,arguments)},m=function(y){return d.apply(this,arguments)},c=function(){return c=Fe(be().mark(function y(S){var C,O,$,N,f;return be().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:C=S.createReader(),O=[];case 2:return x.next=5,new Promise(function(I){C.readEntries(I,function(){return I([])})});case 5:if($=x.sent,N=$.length,N){x.next=9;break}return x.abrupt("break",12);case 9:for(f=0;f<N;f++)O.push($[f]);x.next=2;break;case 12:return x.abrupt("return",O);case 13:case"end":return x.stop()}},y)})),c.apply(this,arguments)},l=function(y){return c.apply(this,arguments)},o=[],n=[],r.forEach(function(w){return n.push(w.webkitGetAsEntry())}),p=(function(){var w=Fe(be().mark(function y(S,C){var O,$;return be().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(S){f.next=2;break}return f.abrupt("return");case 2:if(S.path=C||"",!S.isFile){f.next=10;break}return f.next=6,m(S);case 6:O=f.sent,O&&o.push(O),f.next=15;break;case 10:if(!S.isDirectory){f.next=15;break}return f.next=13,l(S);case 13:$=f.sent,n.push.apply(n,Se($));case 15:case"end":return f.stop()}},y)}));return function(S,C){return w.apply(this,arguments)}})(),i=0;case 9:if(!(i<n.length)){g.next=15;break}return g.next=12,p(n[i]);case 12:i++,g.next=9;break;case 15:return g.abrupt("return",o);case 16:case"end":return g.stop()}},t)}));return function(r,a){return e.apply(this,arguments)}})(),sa=+new Date,la=0;function vt(){return"rc-upload-".concat(sa,"-").concat(++la)}var ca=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","folder","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],da=(function(e){nr(r,e);var t=ar(r);function r(){var a;or(this,r);for(var o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return a=t.call.apply(t,[this].concat(n)),q(ve(a),"state",{uid:vt()}),q(ve(a),"reqs",{}),q(ve(a),"fileInput",void 0),q(ve(a),"_isMounted",void 0),q(ve(a),"onChange",function(c){var m=a.props,d=m.accept,p=m.directory,i=c.target.files,v=Se(i).filter(function(g){return!p||ht(g,d)});a.uploadFiles(v),a.reset()}),q(ve(a),"onClick",function(c){var m=a.fileInput;if(m){var d=c.target,p=a.props.onClick;if(d&&d.tagName==="BUTTON"){var i=m.parentNode;i.focus(),d.blur()}m.click(),p&&p(c)}}),q(ve(a),"onKeyDown",function(c){c.key==="Enter"&&a.onClick(c)}),q(ve(a),"onDataTransferFiles",(function(){var c=Fe(be().mark(function m(d,p){var i,v,g,w,y,S,C;return be().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(i=a.props,v=i.multiple,g=i.accept,w=i.directory,y=Se(d.items||[]),S=Se(d.files||[]),(S.length>0||y.some(function(N){return N.kind==="file"}))&&(p==null||p()),!w){$.next=11;break}return $.next=7,ia(Array.prototype.slice.call(y),function(N){return ht(N,a.props.accept)});case 7:S=$.sent,a.uploadFiles(S),$.next=14;break;case 11:C=Se(S).filter(function(N){return ht(N,g)}),v===!1&&(C=S.slice(0,1)),a.uploadFiles(C);case 14:case"end":return $.stop()}},m)}));return function(m,d){return c.apply(this,arguments)}})()),q(ve(a),"onFilePaste",(function(){var c=Fe(be().mark(function m(d){var p,i;return be().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(p=a.props.pastable,p){g.next=3;break}return g.abrupt("return");case 3:if(d.type!=="paste"){g.next=6;break}return i=d.clipboardData,g.abrupt("return",a.onDataTransferFiles(i,function(){d.preventDefault()}));case 6:case"end":return g.stop()}},m)}));return function(m){return c.apply(this,arguments)}})()),q(ve(a),"onFileDragOver",function(c){c.preventDefault()}),q(ve(a),"onFileDrop",(function(){var c=Fe(be().mark(function m(d){var p;return be().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(d.preventDefault(),d.type!=="drop"){v.next=4;break}return p=d.dataTransfer,v.abrupt("return",a.onDataTransferFiles(p));case 4:case"end":return v.stop()}},m)}));return function(m){return c.apply(this,arguments)}})()),q(ve(a),"uploadFiles",function(c){var m=Se(c),d=m.map(function(p){return p.uid=vt(),a.processFile(p,m)});Promise.all(d).then(function(p){var i=a.props.onBatchStart;i==null||i(p.map(function(v){var g=v.origin,w=v.parsedFile;return{file:g,parsedFile:w}})),p.filter(function(v){return v.parsedFile!==null}).forEach(function(v){a.post(v)})})}),q(ve(a),"processFile",(function(){var c=Fe(be().mark(function m(d,p){var i,v,g,w,y,S,C,O,$;return be().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(i=a.props.beforeUpload,v=d,!i){f.next=14;break}return f.prev=3,f.next=6,i(d,p);case 6:v=f.sent,f.next=12;break;case 9:f.prev=9,f.t0=f.catch(3),v=!1;case 12:if(v!==!1){f.next=14;break}return f.abrupt("return",{origin:d,parsedFile:null,action:null,data:null});case 14:if(g=a.props.action,typeof g!="function"){f.next=21;break}return f.next=18,g(d);case 18:w=f.sent,f.next=22;break;case 21:w=g;case 22:if(y=a.props.data,typeof y!="function"){f.next=29;break}return f.next=26,y(d);case 26:S=f.sent,f.next=30;break;case 29:S=y;case 30:return C=(kt(v)==="object"||typeof v=="string")&&v?v:d,C instanceof File?O=C:O=new File([C],d.name,{type:d.type}),$=O,$.uid=d.uid,f.abrupt("return",{origin:d,data:S,parsedFile:$,action:w});case 35:case"end":return f.stop()}},m,null,[[3,9]])}));return function(m,d){return c.apply(this,arguments)}})()),q(ve(a),"saveFileInput",function(c){a.fileInput=c}),a}return ir(r,[{key:"componentDidMount",value:function(){this._isMounted=!0;var o=this.props.pastable;o&&document.addEventListener("paste",this.onFilePaste)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort(),document.removeEventListener("paste",this.onFilePaste)}},{key:"componentDidUpdate",value:function(o){var n=this.props.pastable;n&&!o.pastable?document.addEventListener("paste",this.onFilePaste):!n&&o.pastable&&document.removeEventListener("paste",this.onFilePaste)}},{key:"post",value:function(o){var n=this,l=o.data,c=o.origin,m=o.action,d=o.parsedFile;if(this._isMounted){var p=this.props,i=p.onStart,v=p.customRequest,g=p.name,w=p.headers,y=p.withCredentials,S=p.method,C=c.uid,O=v||Yt,$={action:m,filename:g,data:l,file:d,headers:w,withCredentials:y,method:S||"post",onProgress:function(f){var R=n.props.onProgress;R==null||R(f,d)},onSuccess:function(f,R){var x=n.props.onSuccess;x==null||x(f,d,R),delete n.reqs[C]},onError:function(f,R){var x=n.props.onError;x==null||x(f,R,d),delete n.reqs[C]}};i(c),this.reqs[C]=O($,{defaultRequest:Yt})}}},{key:"reset",value:function(){this.setState({uid:vt()})}},{key:"abort",value:function(o){var n=this.reqs;if(o){var l=o.uid?o.uid:o;n[l]&&n[l].abort&&n[l].abort(),delete n[l]}else Object.keys(n).forEach(function(c){n[c]&&n[c].abort&&n[c].abort(),delete n[c]})}},{key:"render",value:function(){var o=this.props,n=o.component,l=o.prefixCls,c=o.className,m=o.classNames,d=m===void 0?{}:m,p=o.disabled,i=o.id,v=o.name,g=o.style,w=o.styles,y=w===void 0?{}:w,S=o.multiple,C=o.accept,O=o.capture,$=o.children,N=o.directory,f=o.folder,R=o.openFileDialogOnClick,x=o.onMouseEnter,I=o.onMouseLeave,P=o.hasControlInside,L=Be(o,ca),k=te(q(q(q({},l,!0),"".concat(l,"-disabled"),p),c,c)),U=N||f?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},G=p?{}:{onClick:R?this.onClick:function(){},onKeyDown:R?this.onKeyDown:function(){},onMouseEnter:x,onMouseLeave:I,onDrop:this.onFileDrop,onDragOver:this.onFileDragOver,tabIndex:P?void 0:"0"};return Ee.createElement(n,de({},G,{className:k,role:P?void 0:"button",style:g}),Ee.createElement("input",de({},Pr(L,{aria:!0,data:!0}),{id:i,name:v,disabled:p,type:"file",ref:this.saveFileInput,onClick:function(Y){return Y.stopPropagation()},key:this.state.uid,style:ne({display:"none"},y.input),className:d.input,accept:C},U,{multiple:S,onChange:this.onChange},O!=null?{capture:O}:{})),$)}}]),r})(s.Component);function bt(){}var Nt=(function(e){nr(r,e);var t=ar(r);function r(){var a;or(this,r);for(var o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return a=t.call.apply(t,[this].concat(n)),q(ve(a),"uploader",void 0),q(ve(a),"saveUploader",function(c){a.uploader=c}),a}return ir(r,[{key:"abort",value:function(o){this.uploader.abort(o)}},{key:"render",value:function(){return Ee.createElement(da,de({},this.props,{ref:this.saveUploader}))}}]),r})(s.Component);q(Nt,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:bt,onError:bt,onSuccess:bt,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const ua=e=>{const{componentCls:t,iconCls:r}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${we(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${we(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[r]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${we(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${r},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},ma=e=>{const{componentCls:t,iconCls:r,fontSize:a,lineHeight:o,calc:n}=e,l=`${t}-list-item`,c=`${l}-actions`,m=`${l}-action`;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},sr()),{lineHeight:e.lineHeight,[l]:{position:"relative",height:n(e.lineHeight).mul(a).equal(),marginTop:e.marginXS,fontSize:a,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${l}-name`]:Object.assign(Object.assign({},Mt),{padding:`0 ${we(e.paddingXS)}`,lineHeight:o,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[c]:{whiteSpace:"nowrap",[m]:{opacity:0},[r]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${m}:focus-visible,
              &.picture ${m}
            `]:{opacity:1}},[`${t}-icon ${r}`]:{color:e.colorIcon,fontSize:a},[`${l}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:n(a).add(e.paddingXS).equal(),fontSize:a,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${l}:hover ${m}`]:{opacity:1},[`${l}-error`]:{color:e.colorError,[`${l}-name, ${t}-icon ${r}`]:{color:e.colorError},[c]:{[`${r}, ${r}:hover`]:{color:e.colorError},[m]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},pa=e=>{const{componentCls:t}=e,r=new Ft("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),a=new Ft("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),o=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${o}-appear, ${o}-enter, ${o}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${o}-appear, ${o}-enter`]:{animationName:r},[`${o}-leave`]:{animationName:a}}},{[`${t}-wrapper`]:Qt(e)},r,a]},fa=e=>{const{componentCls:t,iconCls:r,uploadThumbnailSize:a,uploadProgressOffset:o,calc:n}=e,l=`${t}-list`,c=`${l}-item`;return{[`${t}-wrapper`]:{[`
        ${l}${l}-picture,
        ${l}${l}-picture-card,
        ${l}${l}-picture-circle
      `]:{[c]:{position:"relative",height:n(a).add(n(e.lineWidth).mul(2)).add(n(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${we(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${c}-thumbnail`]:Object.assign(Object.assign({},Mt),{width:a,height:a,lineHeight:we(n(a).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[r]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${c}-progress`]:{bottom:o,width:`calc(100% - ${we(n(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:n(a).add(e.paddingXS).equal()}},[`${c}-error`]:{borderColor:e.colorError,[`${c}-thumbnail ${r}`]:{[`svg path[fill='${At[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${At.primary}']`]:{fill:e.colorError}}},[`${c}-uploading`]:{borderStyle:"dashed",[`${c}-name`]:{marginBottom:o}}},[`${l}${l}-picture-circle ${c}`]:{[`&, &::before, ${c}-thumbnail`]:{borderRadius:"50%"}}}}},ga=e=>{const{componentCls:t,iconCls:r,fontSizeLG:a,colorTextLightSolid:o,calc:n}=e,l=`${t}-list`,c=`${l}-item`,m=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},sr()),{display:"block",[`${t}${t}-select`]:{width:m,height:m,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${we(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${l}${l}-picture-card, ${l}${l}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${l}-item-container`]:{display:"inline-block",width:m,height:m,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[c]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${we(n(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${we(n(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${c}:hover`]:{[`&::before, ${c}-actions`]:{opacity:1}},[`${c}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${r}-eye,
            ${r}-download,
            ${r}-delete
          `]:{zIndex:10,width:a,margin:`0 ${we(e.marginXXS)}`,fontSize:a,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:o,"&:hover":{color:o},svg:{verticalAlign:"baseline"}}},[`${c}-thumbnail, ${c}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${c}-name`]:{display:"none",textAlign:"center"},[`${c}-file + ${c}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${we(n(e.paddingXS).mul(2).equal())})`},[`${c}-uploading`]:{[`&${c}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${r}-eye, ${r}-download, ${r}-delete`]:{display:"none"}},[`${c}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${we(n(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},ha=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},va=e=>{const{componentCls:t,colorTextDisabled:r}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},Lr(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-hidden`]:{display:"none"},[`${t}-disabled`]:{color:r,cursor:"not-allowed"}})}},ba=e=>({actionsColor:e.colorIcon,pictureCardSize:e.controlHeightLG*2.55}),wa=Zt("Upload",e=>{const{fontSizeHeading3:t,fontHeight:r,lineWidth:a,pictureCardSize:o,calc:n}=e,l=Ct(e,{uploadThumbnailSize:n(t).mul(2).equal(),uploadProgressOffset:n(n(r).div(2)).add(a).equal(),uploadPicCardSize:o});return[va(l),ua(l),fa(l),ga(l),ma(l),pa(l),ha(l),rn(l)]},ba);var ya={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:r}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"},Ca=function(t,r){return s.createElement(Oe,de({},t,{ref:r,icon:ya}))},xa=s.forwardRef(Ca),Sa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},Ia=function(t,r){return s.createElement(Oe,de({},t,{ref:r,icon:Sa}))},$a=s.forwardRef(Ia),ja={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:r}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:r}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:r}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"},Na=function(t,r){return s.createElement(Oe,de({},t,{ref:r,icon:ja}))},Ea=s.forwardRef(Na);function lt(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function ct(e,t){const r=Se(t),a=r.findIndex(({uid:o})=>o===e.uid);return a===-1?r.push(e):r[a]=e,r}function wt(e,t){const r=e.uid!==void 0?"uid":"name";return t.filter(a=>a[r]===e[r])[0]}function Oa(e,t){const r=e.uid!==void 0?"uid":"name",a=t.filter(o=>o[r]!==e[r]);return a.length===t.length?null:a}const Ra=(e="")=>{const t=e.split("/"),a=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(a)||[""])[0]},br=e=>e.indexOf("image/")===0,ka=e=>{if(e.type&&!e.thumbUrl)return br(e.type);const t=e.thumbUrl||e.url||"",r=Ra(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(r)?!0:!(/^data:/.test(t)||r)},Te=200;function Ma(e){return new Promise(t=>{if(!e.type||!br(e.type)){t("");return}const r=document.createElement("canvas");r.width=Te,r.height=Te,r.style.cssText=`position: fixed; left: 0; top: 0; width: ${Te}px; height: ${Te}px; z-index: 9999; display: none;`,document.body.appendChild(r);const a=r.getContext("2d"),o=new Image;if(o.onload=()=>{const{width:n,height:l}=o;let c=Te,m=Te,d=0,p=0;n>l?(m=l*(Te/n),p=-(m-c)/2):(c=n*(Te/l),d=-(c-m)/2),a.drawImage(o,d,p,c,m);const i=r.toDataURL();document.body.removeChild(r),window.URL.revokeObjectURL(o.src),t(i)},o.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const n=new FileReader;n.onload=()=>{n.result&&typeof n.result=="string"&&(o.src=n.result)},n.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const n=new FileReader;n.onload=()=>{n.result&&t(n.result)},n.readAsDataURL(e)}else o.src=window.URL.createObjectURL(e)})}var Pa=function(t,r){return s.createElement(Oe,de({},t,{ref:r,icon:nn}))},La=s.forwardRef(Pa);const Ta=s.forwardRef(({prefixCls:e,className:t,style:r,locale:a,listType:o,file:n,items:l,progress:c,iconRender:m,actionIconRender:d,itemRender:p,isImgUrl:i,showPreviewIcon:v,showRemoveIcon:g,showDownloadIcon:w,previewIcon:y,removeIcon:S,downloadIcon:C,extra:O,onPreview:$,onDownload:N,onClose:f},R)=>{var x,I;const{status:P}=n,[L,k]=s.useState(P);s.useEffect(()=>{P!=="removed"&&k(P)},[P]);const[U,G]=s.useState(!1);s.useEffect(()=>{const B=setTimeout(()=>{G(!0)},300);return()=>{clearTimeout(B)}},[]);const V=m(n);let Y=s.createElement("div",{className:`${e}-icon`},V);if(o==="picture"||o==="picture-card"||o==="picture-circle")if(L==="uploading"||!n.thumbUrl&&!n.url){const B=te(`${e}-list-item-thumbnail`,{[`${e}-list-item-file`]:L!=="uploading"});Y=s.createElement("div",{className:B},V)}else{const B=i!=null&&i(n)?s.createElement("img",{src:n.thumbUrl||n.url,alt:n.name,className:`${e}-list-item-image`,crossOrigin:n.crossOrigin}):V,ue=te(`${e}-list-item-thumbnail`,{[`${e}-list-item-file`]:i&&!i(n)});Y=s.createElement("a",{className:ue,onClick:ge=>$(n,ge),href:n.url||n.thumbUrl,target:"_blank",rel:"noopener noreferrer"},B)}const D=te(`${e}-list-item`,`${e}-list-item-${L}`),K=typeof n.linkProps=="string"?JSON.parse(n.linkProps):n.linkProps,b=(typeof g=="function"?g(n):g)?d((typeof S=="function"?S(n):S)||s.createElement(aa,null),()=>f(n),e,a.removeFile,!0):null,E=(typeof w=="function"?w(n):w)&&L==="done"?d((typeof C=="function"?C(n):C)||s.createElement(La,null),()=>N(n),e,a.downloadFile):null,X=o!=="picture-card"&&o!=="picture-circle"&&s.createElement("span",{key:"download-delete",className:te(`${e}-list-item-actions`,{picture:o==="picture"})},E,b),Z=typeof O=="function"?O(n):O,j=Z&&s.createElement("span",{className:`${e}-list-item-extra`},Z),h=te(`${e}-list-item-name`),M=n.url?s.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:h,title:n.name},K,{href:n.url,onClick:B=>$(n,B)}),n.name,j):s.createElement("span",{key:"view",className:h,onClick:B=>$(n,B),title:n.name},n.name,j),z=(typeof v=="function"?v(n):v)&&(n.url||n.thumbUrl)?s.createElement("a",{href:n.url||n.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:B=>$(n,B),title:a.previewFile},typeof y=="function"?y(n):y||s.createElement(dr,null)):null,_=(o==="picture-card"||o==="picture-circle")&&L!=="uploading"&&s.createElement("span",{className:`${e}-list-item-actions`},z,L==="done"&&E,b),{getPrefixCls:ie}=s.useContext(pt),ae=ie(),re=s.createElement("div",{className:D},Y,M,X,_,U&&s.createElement(Rt,{motionName:`${ae}-fade`,visible:L==="uploading",motionDeadline:2e3},({className:B})=>{const ue="percent"in n?s.createElement(an,Object.assign({type:"line",percent:n.percent,"aria-label":n["aria-label"],"aria-labelledby":n["aria-labelledby"]},c)):null;return s.createElement("div",{className:te(`${e}-list-item-progress`,B)},ue)})),Q=n.response&&typeof n.response=="string"?n.response:((x=n.error)===null||x===void 0?void 0:x.statusText)||((I=n.error)===null||I===void 0?void 0:I.message)||a.uploadError,se=L==="error"?s.createElement(lr,{title:Q,getPopupContainer:B=>B.parentNode},re):re;return s.createElement("div",{className:te(`${e}-list-item-container`,t),style:r,ref:R},p?p(se,n,l,{download:N.bind(null,n),preview:$.bind(null,n),remove:f.bind(null,n)}):se)}),Da=(e,t)=>{const{listType:r="text",previewFile:a=Ma,onPreview:o,onDownload:n,onRemove:l,locale:c,iconRender:m,isImageUrl:d=ka,prefixCls:p,items:i=[],showPreviewIcon:v=!0,showRemoveIcon:g=!0,showDownloadIcon:w=!1,removeIcon:y,previewIcon:S,downloadIcon:C,extra:O,progress:$={size:[-1,2],showInfo:!1},appendAction:N,appendActionVisible:f=!0,itemRender:R,disabled:x}=e,[,I]=on(),[P,L]=s.useState(!1),k=["picture-card","picture-circle"].includes(r);s.useEffect(()=>{r.startsWith("picture")&&(i||[]).forEach(h=>{!(h.originFileObj instanceof File||h.originFileObj instanceof Blob)||h.thumbUrl!==void 0||(h.thumbUrl="",a==null||a(h.originFileObj).then(M=>{h.thumbUrl=M||"",I()}))})},[r,i,a]),s.useEffect(()=>{L(!0)},[]);const U=(h,M)=>{if(o)return M==null||M.preventDefault(),o(h)},G=h=>{typeof n=="function"?n(h):h.url&&window.open(h.url)},V=h=>{l==null||l(h)},Y=h=>{if(m)return m(h,r);const M=h.status==="uploading";if(r.startsWith("picture")){const z=r==="picture"?s.createElement(_t,null):c.uploading,_=d!=null&&d(h)?s.createElement(Ea,null):s.createElement(xa,null);return M?z:_}return M?s.createElement(_t,null):s.createElement($a,null)},D=(h,M,z,_,ie)=>{const ae={type:"text",size:"small",title:_,onClick:re=>{var Q,se;M(),s.isValidElement(h)&&((se=(Q=h.props).onClick)===null||se===void 0||se.call(Q,re))},className:`${z}-list-item-action`,disabled:ie?x:!1};return s.isValidElement(h)?s.createElement(Ve,Object.assign({},ae,{icon:zt(h,Object.assign(Object.assign({},h.props),{onClick:()=>{}}))})):s.createElement(Ve,Object.assign({},ae),s.createElement("span",null,h))};s.useImperativeHandle(t,()=>({handlePreview:U,handleDownload:G}));const{getPrefixCls:K}=s.useContext(pt),b=K("upload",p),E=K(),X=te(`${b}-list`,`${b}-list-${r}`),Z=s.useMemo(()=>Tr(Dr(E),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[E]),j=Object.assign(Object.assign({},k?{}:Z),{motionDeadline:2e3,motionName:`${b}-${k?"animate-inline":"animate"}`,keys:Se(i.map(h=>({key:h.uid,file:h}))),motionAppear:P});return s.createElement("div",{className:X},s.createElement(Fr,Object.assign({},j,{component:!1}),({key:h,file:M,className:z,style:_})=>s.createElement(Ta,{key:h,locale:c,prefixCls:b,className:z,style:_,file:M,items:i,progress:$,listType:r,isImgUrl:d,showPreviewIcon:v,showRemoveIcon:g,showDownloadIcon:w,removeIcon:y,previewIcon:S,downloadIcon:C,extra:O,iconRender:Y,actionIconRender:D,itemRender:R,onPreview:U,onDownload:G,onClose:V})),N&&s.createElement(Rt,Object.assign({},j,{visible:f,forceRender:!0}),({className:h,style:M})=>zt(N,z=>({className:te(z.className,h),style:Object.assign(Object.assign(Object.assign({},M),{pointerEvents:h?"none":void 0}),z.style)}))))},Fa=s.forwardRef(Da);var Aa=function(e,t,r,a){function o(n){return n instanceof r?n:new r(function(l){l(n)})}return new(r||(r=Promise))(function(n,l){function c(p){try{d(a.next(p))}catch(i){l(i)}}function m(p){try{d(a.throw(p))}catch(i){l(i)}}function d(p){p.done?n(p.value):o(p.value).then(c,m)}d((a=a.apply(e,[])).next())})};const Je=`__LIST_IGNORE_${Date.now()}__`,za=(e,t)=>{const r=tr("upload"),{fileList:a,defaultFileList:o,onRemove:n,showUploadList:l=!0,listType:c="text",onPreview:m,onDownload:d,onChange:p,onDrop:i,previewFile:v,disabled:g,locale:w,iconRender:y,isImageUrl:S,progress:C,prefixCls:O,className:$,type:N="select",children:f,style:R,itemRender:x,maxCount:I,data:P={},multiple:L=!1,hasControlInside:k=!0,action:U="",accept:G="",supportServerRender:V=!0,rootClassName:Y}=e,D=s.useContext(Ar),K=g!=null?g:D,b=e.customRequest||r.customRequest,[E,X]=dt(o||[],{value:a,postState:F=>F!=null?F:[]}),[Z,j]=s.useState("drop"),h=s.useRef(null),M=s.useRef(null);s.useMemo(()=>{const F=Date.now();(a||[]).forEach((W,ee)=>{!W.uid&&!Object.isFrozen(W)&&(W.uid=`__AUTO__${F}_${ee}__`)})},[a]);const z=(F,W,ee)=>{let T=Se(W),H=!1;I===1?T=T.slice(-1):I&&(H=T.length>I,T=T.slice(0,I)),Bt.flushSync(()=>{X(T)});const ce={file:F,fileList:T};ee&&(ce.event=ee),(!H||F.status==="removed"||T.some(Ae=>Ae.uid===F.uid))&&Bt.flushSync(()=>{p==null||p(ce)})},_=(F,W)=>Aa(void 0,void 0,void 0,function*(){const{beforeUpload:ee,transformFile:T}=e;let H=F;if(ee){const ce=yield ee(F,W);if(ce===!1)return!1;if(delete F[Je],ce===Je)return Object.defineProperty(F,Je,{value:!0,configurable:!0}),!1;typeof ce=="object"&&ce&&(H=ce)}return T&&(H=yield T(H)),H}),ie=F=>{const W=F.filter(H=>!H.file[Je]);if(!W.length)return;const ee=W.map(H=>lt(H.file));let T=Se(E);ee.forEach(H=>{T=ct(H,T)}),ee.forEach((H,ce)=>{let Ae=H;if(W[ce].parsedFile)H.status="uploading";else{const{originFileObj:Xe}=H;let ze;try{ze=new File([Xe],Xe.name,{type:Xe.type})}catch(Ka){ze=new Blob([Xe],{type:Xe.type}),ze.name=Xe.name,ze.lastModifiedDate=new Date,ze.lastModified=new Date().getTime()}ze.uid=H.uid,Ae=ze}z(Ae,T)})},ae=(F,W,ee)=>{try{typeof F=="string"&&(F=JSON.parse(F))}catch(ce){}if(!wt(W,E))return;const T=lt(W);T.status="done",T.percent=100,T.response=F,T.xhr=ee;const H=ct(T,E);z(T,H)},re=(F,W)=>{if(!wt(W,E))return;const ee=lt(W);ee.status="uploading",ee.percent=F.percent;const T=ct(ee,E);z(ee,T,F)},Q=(F,W,ee)=>{if(!wt(ee,E))return;const T=lt(ee);T.error=F,T.response=W,T.status="error";const H=ct(T,E);z(T,H)},se=F=>{let W;Promise.resolve(typeof n=="function"?n(F):n).then(ee=>{var T;if(ee===!1)return;const H=Oa(F,E);H&&(W=Object.assign(Object.assign({},F),{status:"removed"}),E==null||E.forEach(ce=>{const Ae=W.uid!==void 0?"uid":"name";ce[Ae]===W[Ae]&&!Object.isFrozen(ce)&&(ce.status="removed")}),(T=h.current)===null||T===void 0||T.abort(W),z(W,H))})},B=F=>{j(F.type),F.type==="drop"&&(i==null||i(F))};s.useImperativeHandle(t,()=>({onBatchStart:ie,onSuccess:ae,onProgress:re,onError:Q,fileList:E,upload:h.current,nativeElement:M.current}));const{getPrefixCls:ue,direction:ge,upload:he}=s.useContext(pt),A=ue("upload",O),J=Object.assign(Object.assign({onBatchStart:ie,onError:Q,onProgress:re,onSuccess:ae},e),{customRequest:b,data:P,multiple:L,action:U,accept:G,supportServerRender:V,prefixCls:A,disabled:K,beforeUpload:_,onChange:void 0,hasControlInside:k});delete J.className,delete J.style,(!f||K)&&delete J.id;const oe=`${A}-wrapper`,[me,le,Ie]=wa(A,oe),[Re]=rr("Upload",zr.Upload),{showRemoveIcon:ye,showPreviewIcon:xe,showDownloadIcon:We,removeIcon:Ye,previewIcon:qe,downloadIcon:$e,extra:je}=typeof l=="boolean"?{}:l,Ue=typeof ye=="undefined"?!K:ye,ke=(F,W)=>l?s.createElement(Fa,{prefixCls:A,listType:c,items:E,previewFile:v,onPreview:m,onDownload:d,onRemove:se,showRemoveIcon:Ue,showPreviewIcon:xe,showDownloadIcon:We,removeIcon:Ye,previewIcon:qe,downloadIcon:$e,iconRender:y,extra:je,locale:Object.assign(Object.assign({},Re),w),isImageUrl:S,progress:C,appendAction:F,appendActionVisible:W,itemRender:x,disabled:K}):F,Me=te(oe,$,Y,le,Ie,he==null?void 0:he.className,{[`${A}-rtl`]:ge==="rtl",[`${A}-picture-card-wrapper`]:c==="picture-card",[`${A}-picture-circle-wrapper`]:c==="picture-circle"}),nt=Object.assign(Object.assign({},he==null?void 0:he.style),R);if(N==="drag"){const F=te(le,A,`${A}-drag`,{[`${A}-drag-uploading`]:E.some(W=>W.status==="uploading"),[`${A}-drag-hover`]:Z==="dragover",[`${A}-disabled`]:K,[`${A}-rtl`]:ge==="rtl"});return me(s.createElement("span",{className:Me,ref:M},s.createElement("div",{className:F,style:nt,onDrop:B,onDragOver:B,onDragLeave:B},s.createElement(Nt,Object.assign({},J,{ref:h,className:`${A}-btn`}),s.createElement("div",{className:`${A}-drag-container`},f))),ke()))}const Ke=te(A,`${A}-select`,{[`${A}-disabled`]:K,[`${A}-hidden`]:!f}),at=s.createElement("div",{className:Ke,style:nt},s.createElement(Nt,Object.assign({},J,{ref:h})));return me(c==="picture-card"||c==="picture-circle"?s.createElement("span",{className:Me,ref:M},ke(at,!!f)):s.createElement("span",{className:Me,ref:M},at,ke()))},wr=s.forwardRef(za);var _a=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const Ba=s.forwardRef((e,t)=>{const{style:r,height:a,hasControlInside:o=!1,children:n}=e,l=_a(e,["style","height","hasControlInside","children"]),c=Object.assign(Object.assign({},r),{height:a});return s.createElement(wr,Object.assign({ref:t,hasControlInside:o},l,{style:c,type:"drag"}),n)}),tt=wr;tt.Dragger=Ba;tt.LIST_IGNORE=Je;function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Et.apply(this,arguments)}const Ua=(e,t)=>s.createElement(cr,Et({},e,{ref:t,icon:vr})),Xa=s.forwardRef(Ua);var Ha={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ot.apply(this,arguments)}const Ga=(e,t)=>s.createElement(cr,Ot({},e,{ref:t,icon:Ha})),Va=s.forwardRef(Ga),Wa=(e,t)=>t.split(".").reduce((r,a)=>r&&r[a],e),Ya=(e,t,r)=>{const a=t.pop(),o=structuredClone(e);let n=o;for(const l of t)n[l]||(n[l]={}),n=n[l];return n[a]=r,o},qt=["image/png","image/jpeg","image/webp"],Kt=1,qa=({id:e,label:t,initialFiles:r=[],maxCount:a=15,onChange:o})=>{const[n,l]=s.useState(r);s.useEffect(()=>{(r.length!==n.length||r.some((p,i)=>{var v;return p.uid!==((v=n[i])==null?void 0:v.uid)}))&&l(r)},[r]);const c=p=>qt.includes(p.type)?p.size/1024/1024>Kt?(et.error(`${p.name} exceeds 1MB limit.`),tt.LIST_IGNORE):!1:(et.error(`${p.name} is not a valid image type.`),tt.LIST_IGNORE),m=({fileList:p})=>{const i=p.slice(0,a);l(i),o==null||o(i)},d=p=>{const i=n.filter(v=>v.uid!==p.uid);l(i),o==null||o(i)};return u.jsx(u.Fragment,{children:u.jsxs(pe,{vertical:!0,gap:12,children:[u.jsxs(pe,{justify:"space-between",align:"center",className:"w-full",children:[u.jsxs("label",{htmlFor:e,style:{fontWeight:500},children:[t," (Max ",a,", each ",Kt,"MB)"]}),u.jsx(tt,{id:e,accept:qt.join(","),multiple:!0,fileList:n,onChange:m,beforeUpload:c,showUploadList:!1,maxCount:a,className:"w-1/3 grid grid-flow-col",children:n.length>=a?null:u.jsx(Ve,{icon:u.jsx(Va,{className:"size-6 text-lg"}),block:!0,className:"!border-2 hover:ring-1 hover:ring-violet-500 !border-blue-500 hover:!bg-violet-50 hover:!text-gray-700 text-[length:15px] font-medium",children:"Upload Images"})})]}),n.length>0&&u.jsx("div",{style:{scrollbarWidth:"thin",scrollBehavior:"smooth"},className:"grid grid-cols-3 gap-2.5 max-h-[250px] mt-2 overflow-y-auto border border-violet-200 rounded-lg p-2",children:u.jsx(jt.PreviewGroup,{children:n.map(p=>{const i=p.thumbUrl||(p.originFileObj?URL.createObjectURL(p.originFileObj):p.url);return u.jsx(_r,{size:"small",hoverable:!0,style:{padding:6,display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid #abd"},cover:u.jsx(jt,{src:i,alt:p.name,width:"100%",height:100,style:{objectFit:"cover",borderRadius:6}}),actions:[u.jsx(Xa,{onClick:()=>d(p)},"delete")]},p.uid)})})})]})})},{Text:De}=Yr,Lo=({onSubmit:e,closeFnc:t})=>{const r=["Template Selection","Basic Information","Customization","Blog Options"],a={templateIds:[],template:"",topic:"",focusKeywords:[],keywords:[],title:"",tone:"",userDefinedLength:1e3,brief:"",aiModel:ft[0].id,isCheckedGeneratedImages:!1,imageSource:Le[0].id,numberOfImages:0,blogImages:[],referenceLinks:[],isCheckedQuick:!1,isCheckedBrand:!1,brandId:"",languageToWrite:"English",costCutter:!0,options:{exactTitle:!1,performKeywordResearch:!1,includeFaqs:!1,includeInterlinks:!1,includeCompetitorResearch:!1,addOutBoundLinks:!1,addCTA:!1}},o=[{key:"isCheckedQuick",label:"Add a Quick Summary"},{key:"options.includeFaqs",label:"Add FAQs (Frequently Asked Questions)"},{key:"options.includeInterlinks",label:"Include Interlinks"},{key:"options.includeCompetitorResearch",label:"Perform Competitive Research"},{key:"options.addOutBoundLinks",label:"Show Outbound Links"}],n=Br(),l=Ut(Ur),c=Xr(),{handlePopup:m}=Hr(),[d,p]=s.useState(0),[i,v]=s.useState(a),[g,w]=s.useState({}),[y,S]=s.useState([]),[C,O]=s.useState(!1),[$,N]=s.useState(!1),f=()=>Dt(null,null,function*(){try{if(O(!0),!i.topic.trim()||i.focusKeywords.length===0||i.keywords.length===0){P({topic:i.topic.trim()?"":"Please enter a topic name",focusKeywords:i.focusKeywords.length===0?"Please enter at least 1 focus keyword":"",keywords:i.keywords.length===0?"Please enter at least 1 keyword":""}),et.error("Please enter a topic and at least one focus keyword and keyword before generating titles.");return}const b=Ne({template:i.template,topic:i.topic,focusKeywords:i.focusKeywords,keywords:i.keywords},(y==null?void 0:y.length)>0&&{oldTitles:y}),E=yield n(Kr(b)).unwrap();S(E)}catch(b){console.error("Error generating titles:",b),et.error("Failed to generate titles. Please try again later.")}finally{O(!1)}}),R=Ut(Gr);s.useEffect(()=>{R&&v(b=>ot(Ne({},b),{focusKeywords:R.focusKeywords||b.focusKeywords,keywords:R.keywords||b.keywords}))},[R]);const x=s.useMemo(()=>{var X;const b=[];i.isCheckedBrand&&b.push("brandVoice"),i.options.includeCompetitorResearch&&b.push("competitorResearch"),i.options.performKeywordResearch&&b.push("keywordResearch"),i.options.includeInterlinks&&b.push("internalLinking"),i.options.includeFaqs&&b.push("faqGeneration"),i.isCheckedQuick&&b.push("quickSummary"),i.options.addOutBoundLinks&&b.push("outboundLinks");let E=ln({wordCount:i.userDefinedLength,features:b,aiModel:i.aiModel||"gemini",includeImages:i.isCheckedGeneratedImages,imageSource:i.imageSource,numberOfImages:i.imageSource===((X=Le.at(-1))==null?void 0:X.id)?i.blogImages.length:i.numberOfImages});return i.costCutter&&(E=Math.round(E*.75)),E},[i.isCheckedBrand,i.options.includeCompetitorResearch,i.options.performKeywordResearch,i.options.includeInterlinks,i.options.includeFaqs,i.isCheckedQuick,i.options.addOutBoundLinks,i.userDefinedLength,i.aiModel,i.isCheckedGeneratedImages,i.imageSource,i.numberOfImages,i.blogImages.length,i.costCutter]),I=s.useCallback(b=>{v(E=>Ne(Ne({},E),b))},[]),P=s.useCallback(b=>{w(E=>Ne(Ne({},E),b))},[]),L=s.useCallback(()=>{var E;const b={};switch(d){case 0:i.templateIds.length!==1&&(b.template="Please select at least 1 template");break;case 1:i.topic.length||(b.topic="Please enter a topic name"),i.options.performKeywordResearch||(i.focusKeywords.length||(b.focusKeywords="Please enter at least 1 focus keyword"),i.keywords.length||(b.keywords="Please enter at least 1 keyword"),i.title.length||(b.title="Please enter a title")),i.tone.trim()||(b.tone="Please select a tone of voice");break;case 2:i.isCheckedGeneratedImages&&i.imageSource===((E=Le.at(-1))==null?void 0:E.id)&&i.blogImages.length==0&&(b.blogImages="Please upload at least 1 image.");break;case 3:i.isCheckedBrand&&!i.brandId.trim()&&(b.brandId="Please select a Brand Voice")}return Object.keys(b).length?(P(b),!1):!0},[i,d,P]),k=s.useCallback(()=>{L()&&p(b=>b+1)},[L]),U=s.useCallback(()=>p(b=>b-1),[]),G=()=>{v(a),w({}),p(0),t==null||t()},V=()=>{var b,E,X;if(L()){const Z=x,j=(((b=l==null?void 0:l.credits)==null?void 0:b.base)||0)+(((E=l==null?void 0:l.credits)==null?void 0:E.extra)||0);if(j<Z){m({title:"Insufficient Credits",description:u.jsxs("div",{children:[u.jsx("p",{children:"You don't have enough credits to generate this blog."}),u.jsxs("p",{className:"mt-1",children:[u.jsx("strong",{children:"Required:"})," ",Z," credits"]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Available:"})," ",j," credits"]})]}),okText:"Buy Credits",onConfirm:()=>{c("/pricing"),G()}});return}console.debug("Advanced Modal Form Data : ",i);const h=ot(Ne({},i),{options:Ne({},i.options)});i.isCheckedGeneratedImages||(h.imageSource=en.NONE),(!i.isCheckedGeneratedImages||i.imageSource!==((X=Le.at(-1))==null?void 0:X.id))&&delete h.blogImages,i.isCheckedBrand||delete h.brandId,i.options.performKeywordResearch&&(delete h.title,delete h.keywords,delete h.focusKeywords);const M=tn(h);N(!0),e==null||e(M)}},Y=s.useCallback(b=>{var E;I({template:((E=b==null?void 0:b[0])==null?void 0:E.name)||"",templateIds:b==null?void 0:b.map(X=>X.id)}),P({template:""})},[]),D=s.useCallback(b=>{const{name:E,value:X}=b.target;if(!E)throw new Error("Advanced blog form component error");const Z=E.split(".");Z.length>1?v(j=>Ya(j,Z,X)):(I({[E]:X}),P({[E]:""}))},[]),K=()=>{var b,E,X,Z;switch(d){case 0:return u.jsxs(pe,{vertical:!0,gap:8,className:Pe("rounded-md !p-2",(g==null?void 0:g.template)&&"border-2 border-red-500"),children:[u.jsx("label",{className:Pe("text-base mb-2",(g==null?void 0:g.template)&&"text-red-500"),children:g!=null&&g.template?g.template:u.jsxs(u.Fragment,{children:["Select Template:"," ",u.jsx("span",{className:"font-semibold uppercase text-violet-800 underline",children:i.template})]})}),u.jsx(Zr,{userSubscriptionPlan:((b=l==null?void 0:l.subscription)==null?void 0:b.plan)||"free",preSelectedIds:i.templateIds,onClick:Y})]});case 1:return u.jsxs(pe,{vertical:!0,gap:4,justify:"space-evenly",className:"p-2",children:[u.jsxs(Ce,{direction:"vertical",className:"form-item-wrapper",children:[u.jsxs("label",{htmlFor:"blog-topic",children:["Topic ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(gt,{id:"blog-topic",name:"topic",placeholder:"e.g., Tech Blog",value:i.topic,onChange:D,className:Pe("!bg-gray-50 antd-placeholder",g.topic&&"ring-1 !ring-[#ef4444]","rounded-lg focus:!outline-none focus:!ring-0 focus:!ring-[#1B6FC9]")}),g.topic&&u.jsx(De,{className:"error-text",children:g.topic})]}),u.jsxs("label",{htmlFor:"blog-language",children:["Language ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(Qe,{id:"blog-language",placeholder:"Select a language",value:i.languageToWrite,onChange:j=>D({target:{name:"languageToWrite",value:j}}),options:Qr,className:"custom-placeholder"}),u.jsxs(pe,{justify:"space-between",className:"mt-3 form-item-wrapper",children:[u.jsx("label",{htmlFor:"blog-auto-generate-title-keywords",children:"Auto Generate Title & Keywords"}),u.jsx(Ze,{id:"blog-auto-generate-title-keywords",value:i.options.performKeywordResearch,onChange:j=>D({target:{name:"options.performKeywordResearch",value:j}})})]}),u.jsxs(Ce,{direction:"vertical",hidden:i.options.performKeywordResearch,className:"form-item-wrapper",children:[u.jsxs("label",{htmlFor:"blog-focus-keywords",children:["Focus Keywords (max 3) ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(Qe,{id:"blog-focus-keywords",mode:"tags",placeholder:"Add Focus keywords",value:i.focusKeywords,open:!1,onChange:j=>D({target:{name:"focusKeywords",value:j}}),maxCount:3,tokenSeparators:[","],className:Pe(" !bg-gray-50 custom-placeholder [&>.ant-select-arrow]:hidden border",g.focusKeywords&&"!border-red-500","rounded-lg focus:border-[#1B6FC9] hover:!border-[#1B6FC9]"),style:{width:"100%"}}),g.focusKeywords&&u.jsx(De,{className:"error-text",children:g.focusKeywords})]}),u.jsxs(Ce,{direction:"vertical",hidden:i.options.performKeywordResearch,className:"form-item-wrapper",children:[u.jsxs("label",{htmlFor:"blog-keywords",children:["Keywords ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(Qe,{id:"blog-keywords",mode:"tags",placeholder:"Add Keywords",value:i.keywords,open:!1,onChange:j=>D({target:{name:"keywords",value:j}}),tokenSeparators:[","],className:Pe(" !bg-gray-50 custom-placeholder [&>.ant-select-arrow]:hidden border",g.keywords&&"!border-red-500","rounded-lg focus:border-[#1B6FC9] hover:!border-[#1B6FC9]"),style:{width:"100%"}}),g.keywords&&u.jsx(De,{className:"error-text",children:g.keywords})]}),u.jsxs(pe,{vertical:!0,gap:8,hidden:i.options.performKeywordResearch,className:"form-item-wrapper !mb-4",children:[u.jsxs("label",{htmlFor:"blog-title",children:["Blog Title ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs(Ce.Compact,{block:!0,children:[u.jsx(gt,{id:"blog-title",name:"title",placeholder:"e.g., How to create a blog",value:i.title,onChange:D,className:Pe(" !bg-gray-50 antd-placeholder",g.title&&"ring-1 !ring-[#ef4444]","focus:!outline-none focus:!ring-0 focus:!ring-[#1B6FC9]")}),u.jsxs(Ve,{type:"primary",title:"AI Generated Titles",icon:u.jsx(pn,{className:"size-5"}),block:!0,loading:C,onClick:f,className:"!w-1/4 h-full text-[length:1rem] py-1 px-3 tracking-wide",children:["Generate ",y!=null&&y.length?"More":"Titles"]})]}),g.title&&u.jsx(De,{className:"error-text",children:g.title}),y.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:y.map((j,h)=>u.jsx(fn,{color:"geekblue",className:Pe("cursor-pointer text-[length:1rem] bg-black",i.title===j&&"!bg-blue-500 !text-white","hover:!bg-blue-400 hover:!text-black p-1"),onClick:()=>{D({target:{name:"title",value:j}})},children:j},h))})]}),u.jsxs(pe,{justify:"space-between",className:"mt-3 form-item-wrapper",children:[u.jsx("label",{htmlFor:"blog-auto-generate-title-keywords",children:"Use Exact Title for Blog"}),u.jsx(Ze,{id:"blog-auto-generate-title-keywords",value:i.options.exactTitle,onChange:j=>D({target:{name:"options.exactTitle",value:j}})})]}),u.jsx(Ce,{direction:"vertical",className:"form-item-wrapper",children:u.jsxs(pe,{justify:"space-around",gap:20,children:[u.jsxs(pe,{vertical:!0,className:"w-full",gap:8,children:[u.jsxs("label",{htmlFor:"blog-tone",children:["Tone of Voice ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx(Qe,{id:"blog-tone",placeholder:"Select a tone",value:i.tone||void 0,onChange:j=>D({target:{name:"tone",value:j}}),options:Jr.map(j=>({label:j,value:j})),className:"custom-placeholder"}),g.tone&&u.jsx(De,{className:"error-text",children:g.tone})]}),u.jsxs(pe,{vertical:!0,className:"w-full",gap:8,children:[u.jsxs("label",{children:["Blog Words Length :"," ",u.jsxs(De,{strong:!0,underline:!0,className:"text-[length:16px] px-2",children:[i.userDefinedLength," words"]})]}),u.jsx(gn,{id:"blog-word-length",value:i.userDefinedLength,onChange:j=>D({target:{name:"userDefinedLength",value:j}}),min:500,max:5e3,tooltip:{formatter:j=>`${j} words`,placement:"bottom"},classNames:{rail:"!bg-gray-400",track:"!bg-gradient-to-tr !from-blue-600 !via-violet-500 !to-purple-500",handle:"hover:!ring-1 hover:!ring-purple-400"}})]})]})}),u.jsxs(Ce,{direction:"vertical",className:"form-item-wrapper",children:[u.jsx("label",{htmlFor:"blog-brief",children:"Add Brief Section"}),u.jsx(gt.TextArea,{id:"blog-brief",name:"brief",autoSize:{minRows:1,maxRows:3},value:i.brief,onChange:D,placeholder:"Enter the brief info or instructions",className:"antd-placeholder"})]})]});case 2:{const j=h=>{try{const M=new URL(h);return M.protocol==="http:"||M.protocol==="https:"}catch(M){return!1}};return u.jsxs(pe,{vertical:!0,gap:20,className:"p-2",children:[u.jsxs(Ce,{direction:"vertical",className:"form-item-wrapper",children:[u.jsx("label",{children:"Select AI Model"}),u.jsx(it.Group,{name:"aiModel",value:i.aiModel,onChange:D,defaultValue:(E=ft[0])==null?void 0:E.id,block:!0,className:"p-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 w-full",children:ft.map(h=>u.jsxs(it.Button,{value:h.id,className:"rounded-lg !px-4 !py-3 !border-[3px] hover:border-blue-400 hover:bg-purple-50 min-h-fit",children:[u.jsx("img",{src:h.logo,alt:h.label,className:"size-6 object-contain"}),u.jsx("span",{className:"text-[length:15px] font-medium text-gray-800",children:h.label})]},h.id))})]}),u.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4 shadow-sm",children:u.jsxs(pe,{justify:"space-between",align:"center",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-green-900 mb-1",children:" Cost Cutter"}),u.jsx("p",{className:"text-xs text-green-700",children:"Use AI Flash model for 25% savings"})]}),u.jsx(Ze,{checked:i.costCutter,onChange:h=>I({costCutter:h})})]})}),u.jsx(Ce,{direction:"vertical",className:"form-item-wrapper",children:u.jsxs(pe,{justify:"space-between",children:[u.jsx("label",{htmlFor:"add-image-toggle",children:"Add Images"}),u.jsx(Ze,{id:"add-image-toggle",value:i.isCheckedGeneratedImages,onChange:h=>{[{name:"isCheckedGeneratedImages",value:h},{name:"blogImages",value:[]}].map(M=>D({target:M}))}})]})}),u.jsxs(Ce,{direction:"vertical",hidden:!i.isCheckedGeneratedImages,className:"form-item-wrapper",children:[u.jsx("label",{children:"Select Image Mode"}),u.jsx(it.Group,{name:"imageSource",value:i.imageSource,onChange:h=>{var M;D(h),h.target.value!=((M=Le.at(-1))==null?void 0:M.id)&&D({target:{name:"blogImages",value:[]}})},defaultValue:(X=Le[0])==null?void 0:X.id,block:!0,className:"p-2 !grid grid-cols-1 sm:!grid-cols-2 md:!grid-cols-3 !gap-4 w-full",children:Le.map((h,M)=>{var ie,ae,re;const z=h.restrict&&((ie=l==null?void 0:l.subscription)==null?void 0:ie.plan)=="free",_=M==1&&((ae=l==null?void 0:l.usage)==null?void 0:ae.aiImages)>=((re=l==null?void 0:l.usageLimits)==null?void 0:re.aiImages);return u.jsx(dn.Ribbon,{text:z?u.jsx(un,{className:"p-1"}):_?u.jsx(qr,{className:"p-0.5"}):"",className:Pe("absolute -top-2 z-10",(M==0||!(z||_))&&"hidden"),color:z?"#8b5cf6":_?"#dc2626":"#3b82f6",children:u.jsx(lr,{title:u.jsx(De,{strong:!0,className:"text-[length:15px] text-gray-200 font-montserrat tracking-wide",children:z?"Only For Subscribed Users":_?"AI Image Limit Reached":h.label}),className:"w-full",autoAdjustOverflow:!0,color:z?"#8b5cf6":_?"#dc2626":"#3b82f6",placement:M==0?"left":"top",showArrow:!0,children:u.jsx(it.Button,{value:h.id,disabled:z||_,className:"rounded-lg !px-4 !py-3 !border-[3px] text-red-600 hover:border-blue-400 hover:bg-violet-50 min-h-fit min-w-fit",children:u.jsx("span",{className:"text-[length:15px] font-medium text-gray-800",children:h.label})})})},h.id+M)})})]}),u.jsx(Ce,{direction:"vertical",hidden:!i.isCheckedGeneratedImages,className:"form-item-wrapper",children:i.imageSource!=((Z=Le.at(-1))==null?void 0:Z.id)?u.jsxs(pe,{align:"center",justify:"space-between",children:[u.jsx("label",{htmlFor:"blog-img-count",children:"Number of Images (0 = Decided by AI) : "}),u.jsx(mn,{id:"blog-img-count",name:"numberOfImages",min:0,max:15,value:i.numberOfImages,defaultValue:0,onChange:h=>D({target:{name:"numberOfImages",value:h||0}}),className:"w-1/3 !text-base"})]}):u.jsxs(u.Fragment,{children:[u.jsx(qa,{id:"blog-upload-images",label:"Upload Custom Images",maxCount:15,initialFiles:i.blogImages,onChange:h=>D({target:{name:"blogImages",value:h}})}),g.blogImages&&u.jsx(De,{className:"error-text",children:g.blogImages})]})}),u.jsxs(Ce,{direction:"vertical",className:"form-item-wrapper",children:[u.jsx("label",{htmlFor:"blog-references",children:"Reference Links (max 3)"}),u.jsx(Qe,{id:"blog-references",mode:"tags",placeholder:"Add Reference Links",value:i.referenceLinks,open:!1,onChange:h=>{h.filter(_=>!j(_.trim())).length>0&&et.warning("Only valid URLs starting from http:// or https:// are allowed.");const z=h.filter(j);D({target:{name:"referenceLinks",value:z}})},maxCount:3,tokenSeparators:[","," "],className:"!w-full !bg-gray-50 [&>.ant-select-arrow]:hidden custom-placeholder border rounded-lg focus:border-[#1B6FC9] hover:!border-[#1B6FC9]"})]})]})}case 3:return u.jsxs(pe,{vertical:!0,gap:"middle",className:"p-2",children:[o.map((j,h)=>u.jsxs(pe,{justify:"space-between",className:"form-item-wrapper",children:[u.jsx("label",{htmlFor:`blog-${j.key}`,children:j.label}),u.jsx(Ze,{id:`blog-${j.key}`,value:Wa(i,j.key),onChange:M=>D({target:{name:j.key,value:M}})})]},j.key+h)),u.jsx(Ce,{direction:"vertical",className:"form-item-wrapper",children:u.jsx(sn,{label:"Write with Brand Voice",value:{isCheckedBrand:i.isCheckedBrand,brandId:i.brandId,addCTA:i.options.addCTA},size:"default",onChange:j=>{const h=i.options;I({isCheckedBrand:j.isCheckedBrand,brandId:j.brandId,options:ot(Ne({},h),{addCTA:j.addCTA})}),P({brandId:""})},errorText:g.brandId})})]});default:return u.jsx(cn,{})}};return u.jsxs(u.Fragment,{children:[$&&u.jsx(Vr,{}),u.jsx(Wr,{title:`Generate Advanced Blog | Step ${d+1} : ${r[d]}`,open:!0,onCancel:G,footer:u.jsxs(pe,{justify:"space-between",align:"center",gap:12,className:"mt-2",children:[(d===2||d===3)&&u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"Estimated Cost:"}),u.jsxs("span",{className:"font-bold text-blue-600",children:[x," credits"]}),i.costCutter&&u.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(-25% off)"})]}),u.jsxs(pe,{justify:"end",gap:12,className:d<2?"w-full":"",children:[d>0&&u.jsx(Ve,{onClick:U,type:"default",className:"h-10 px-6 text-[length:1rem] font-medium !text-gray-700 bg-white border border-gray-300 rounded-md hover:!bg-gray-50",children:"Previous"}),u.jsx(Ve,{onClick:d===3?V:k,type:"default",className:"h-10 px-6 text-[length:1rem] font-medium !text-white bg-[#1B6FC9] rounded-md hover:!bg-[#1B6FC9]/90",children:d===3?"Generate Blog":"Next"})]})]}),width:700,centered:!0,transitionName:"",maskTransitionName:"",destroyOnHidden:!0,className:"m-2",children:u.jsx("div",{className:"h-full !max-h-[80vh] overflow-auto",style:{scrollbarWidth:"none"},children:K()})})]})};export{Lo as default};
