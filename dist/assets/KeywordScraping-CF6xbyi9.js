var u=(t,c,i)=>new Promise((x,a)=>{var y=l=>{try{d(i.next(l))}catch(o){a(o)}},p=l=>{try{d(i.throw(l))}catch(o){a(o)}},d=l=>l.done?x(l.value):Promise.resolve(l.value).then(y,p);d((i=i.apply(t,c)).next())});import{j as e}from"./tiptap-BabmW22p.js";import{b as g}from"./vendor-CcjAMWu8.js";import{u as C,c as L}from"./toolsQueries-CZX1d2lA.js";import{P as K}from"./ProgressLoadingScreen-C8VO8dwW.js";import{S as P}from"./search-Csb6xL5U.js";import{R as E}from"./refresh-cw-C9vuQMbq.js";import{L as w}from"./link-Beq0l1Jq.js";import{B as U,s as n}from"./antd-8WQTeuab.js";import{L as F}from"./loader-circle-DcQOKVDQ.js";import{S as T}from"./sparkles-CoI3F60w.js";import{C as z}from"./copy-Bau5eDru.js";import{T as A}from"./tag-BmAl3_57.js";import"./index-CHEUOGl9.js";import"./utils-DIb0lvMo.js";import"./react-wNxFir7h.js";const Y=()=>{const[t,c]=g.useState(""),{keywordScraping:i,resetKeywordScraping:x}=C(),{result:a,error:y}=i,{mutate:p,isPending:d,isLoading:l}=L(),o=d||l,[N,h]=g.useState(0);g.useEffect(()=>{let s;if(o){h(1);const r=[2,3,4,10,25,30];let f=0;s=setInterval(()=>{h(m=>{if(f<r.length){const j=r[f];return m<j?j:(f++,m)}return m<90?m+1:m})},800)}else h(0);return()=>clearInterval(s)},[o]),g.useEffect(()=>()=>{c(""),x()},[]);const b=s=>/^(https?:\/\/)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/.test(s.trim()),v=()=>u(null,null,function*(){if(!t.trim()){n.error("Please enter a URL to analyze");return}if(!b(t)){n.error("Please enter a valid URL (e.g., https://example.com)");return}const s={url:t.trim()};p(s,{onSuccess:()=>{n.success("Keywords scraped successfully!")},onError:r=>{n.error((r==null?void 0:r.message)||"Failed to scrape keywords. Please try again."),console.error(r)}})}),S=s=>u(null,null,function*(){try{yield navigator.clipboard.writeText(s),n.success("Content copied to clipboard")}catch(r){console.error("Failed to copy content"),n.error("Failed to copy content")}}),k=()=>u(null,null,function*(){if(!a)return;const s=a.keywords.join(", ");yield S(s)}),R=()=>{c(""),x(),n.info("Content reset")};return o?e.jsx("div",{className:"h-[calc(100vh-200px)] p-4 flex items-center justify-center",children:e.jsx(K,{message:"Scraping keywords from the website...",timer:N})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/50",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 p-5",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(P,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Keyword Scraping"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Extract high-intent SEO keywords and clusters to build content that ranks."})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-3 py-1.5 sm:px-4 sm:py-2 text-sm sm:text-base text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Reset all content",children:[e.jsx(E,{className:"w-4 h-4"}),"Reset"]})})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(w,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Website URL"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"url",value:t,onChange:s=>c(s.target.value),placeholder:"Enter website URL (e.g., https://example.com)",className:"w-full p-4 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all duration-300 text-gray-800 placeholder-gray-500"}),e.jsx(U,{onClick:v,disabled:o||!t.trim()||!b(t),className:`flex items-center justify-center gap-2 px-6 py-3 w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-xl transition-all duration-300 hover:shadow-lg ${!t.trim()||!b(t)?"opacity-50 cursor-not-allowed":"hover:from-blue-700 hover:to-purple-700 hover:scale-105"}`,children:o?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-5 h-5 animate-spin"}),"Scraping..."]}):e.jsx(e.Fragment,{children:"Scrape Keywords"})})]})]}),a&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-3",children:[e.jsx(T,{className:"w-5 h-5 text-purple-600"}),"Scraping Results"]}),e.jsx("button",{onClick:k,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",title:"Copy keywords",children:e.jsx(z,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-xl border border-blue-100",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(w,{className:"w-5 h-5 text-blue-600"}),"Page Summary"]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:a.summary})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-blue-600"}),"Keywords Found"]}),e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm font-bold rounded-full",children:[a.keywords.length," keywords"]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:a.keywords.map((s,r)=>e.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all duration-200 flex items-center gap-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-semibold",children:r+1}),e.jsx("span",{className:"text-gray-800 text-sm font-medium truncate",title:s,children:s})]},r))})]}),e.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Analyzed URL"}),e.jsx("p",{className:"text-sm text-gray-800 font-mono break-all",children:t})]})]})]})]})})};export{Y as default};
