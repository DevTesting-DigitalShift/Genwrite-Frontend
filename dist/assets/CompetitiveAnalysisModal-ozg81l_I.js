import{R as _,b as u}from"./chunk-tiptap-Diw-eXXG.js";import{ab as fe,n as T,ac as z,ad as pe,ae as ve,af as G,ag as le,ah as De,t as ke,ai as Le,aj as Ke,ak as We,al as U,_ as Fe,C as Pe,c as Ne,d as Ee,e as K,r as Oe,am as ze,an as He,s as Xe,k as Ge,o as be,ao as Ve,ap as ce,aq as qe,ar as de,T as Ue,as as Ye,at as Qe,au as Ze,av as Je,aw as et,ax as tt,I as Ae,ay as nt,az as rt,G as ot,u as at,a as st,x as J,j as d,L as it,P as lt,m as ee,a6 as ct}from"./index-CXBRdXcE.js";import{g as dt}from"./getEstimatedCost-BGc927sc.js";import{R as ut}from"./LeftOutlined-7kyxeL8N.js";import{g as mt}from"./index-7l5ilkOe.js";import{T as _e,C as gt}from"./index-DHeZJauj.js";import{S as se}from"./Pagination-BPjnBdb7.js";import{P as ft}from"./plus-CyxAP8n0.js";import{X as pt}from"./x-CRSOVgfR.js";var Re=_.forwardRef(function(e,t){var n=e.prefixCls,r=e.forceRender,o=e.className,c=e.style,s=e.children,i=e.isActive,m=e.role,h=e.classNames,f=e.styles,p=_.useState(i||r),v=fe(p,2),g=v[0],b=v[1];return _.useEffect(function(){(r||i)&&b(!0)},[r,i]),g?_.createElement("div",{ref:t,className:T("".concat(n,"-content"),z(z({},"".concat(n,"-content-active"),i),"".concat(n,"-content-inactive"),!i),o),style:c,role:m},_.createElement("div",{className:T("".concat(n,"-content-box"),h==null?void 0:h.body),style:f==null?void 0:f.body},s)):null});Re.displayName="PanelContent";var yt=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],Me=_.forwardRef(function(e,t){var n=e.showArrow,r=n===void 0?!0:n,o=e.headerClass,c=e.isActive,s=e.onItemClick,i=e.forceRender,m=e.className,h=e.classNames,f=h===void 0?{}:h,p=e.styles,v=p===void 0?{}:p,g=e.prefixCls,b=e.collapsible,S=e.accordion,I=e.panelKey,y=e.extra,C=e.header,P=e.expandIcon,x=e.openMotion,k=e.destroyInactivePanel,w=e.children,N=pe(e,yt),j=b==="disabled",l=y!=null&&typeof y!="boolean",a=z(z(z({onClick:function(){s==null||s(I)},onKeyDown:function(A){(A.key==="Enter"||A.keyCode===ve.ENTER||A.which===ve.ENTER)&&(s==null||s(I))},role:S?"tab":"button"},"aria-expanded",c),"aria-disabled",j),"tabIndex",j?-1:0),$=typeof P=="function"?P(e):_.createElement("i",{className:"arrow"}),R=$&&_.createElement("div",G({className:"".concat(g,"-expand-icon")},["header","icon"].includes(b)?a:{}),$),D=T("".concat(g,"-item"),z(z({},"".concat(g,"-item-active"),c),"".concat(g,"-item-disabled"),j),m),W=T(o,"".concat(g,"-header"),z({},"".concat(g,"-collapsible-").concat(b),!!b),f.header),O=le({className:W,style:v.header},["header","icon"].includes(b)?{}:a);return _.createElement("div",G({},N,{ref:t,className:D}),_.createElement("div",O,r&&R,_.createElement("span",G({className:"".concat(g,"-header-text")},b==="header"?a:{}),C),l&&_.createElement("div",{className:"".concat(g,"-extra")},y)),_.createElement(De,G({visible:c,leavedClassName:"".concat(g,"-content-hidden")},x,{forceRender:i,removeOnLeave:k}),function(E,A){var F=E.className,M=E.style;return _.createElement(Re,{ref:A,prefixCls:g,className:F,classNames:f,style:M,styles:v,isActive:c,forceRender:i,role:S?"tabpanel":void 0},w)}))}),ht=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],vt=function(t,n){var r=n.prefixCls,o=n.accordion,c=n.collapsible,s=n.destroyInactivePanel,i=n.onItemClick,m=n.activeKey,h=n.openMotion,f=n.expandIcon;return t.map(function(p,v){var g=p.children,b=p.label,S=p.key,I=p.collapsible,y=p.onItemClick,C=p.destroyInactivePanel,P=pe(p,ht),x=String(S??v),k=I??c,w=C??s,N=function(a){k!=="disabled"&&(i(a),y==null||y(a))},j=!1;return o?j=m[0]===x:j=m.indexOf(x)>-1,_.createElement(Me,G({},P,{prefixCls:r,key:x,panelKey:x,isActive:j,accordion:o,openMotion:h,expandIcon:f,header:b,collapsible:k,onItemClick:N,destroyInactivePanel:w}),g)})},bt=function(t,n,r){if(!t)return null;var o=r.prefixCls,c=r.accordion,s=r.collapsible,i=r.destroyInactivePanel,m=r.onItemClick,h=r.activeKey,f=r.openMotion,p=r.expandIcon,v=t.key||String(n),g=t.props,b=g.header,S=g.headerClass,I=g.destroyInactivePanel,y=g.collapsible,C=g.onItemClick,P=!1;c?P=h[0]===v:P=h.indexOf(v)>-1;var x=y??s,k=function(j){x!=="disabled"&&(m(j),C==null||C(j))},w={key:v,panelKey:v,header:b,headerClass:S,isActive:P,prefixCls:o,destroyInactivePanel:I??i,openMotion:f,accordion:c,children:t.props.children,onItemClick:k,expandIcon:p,collapsible:x};return typeof t.type=="string"?t:(Object.keys(w).forEach(function(N){typeof w[N]>"u"&&delete w[N]}),_.cloneElement(t,w))};function xt(e,t,n){return Array.isArray(e)?vt(e,n):ke(t).map(function(r,o){return bt(r,o,n)})}function Ct(e){var t=e;if(!Array.isArray(t)){var n=U(t);t=n==="number"||n==="string"?[t]:[]}return t.map(function(r){return String(r)})}var $t=_.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-collapse":n,o=e.destroyInactivePanel,c=o===void 0?!1:o,s=e.style,i=e.accordion,m=e.className,h=e.children,f=e.collapsible,p=e.openMotion,v=e.expandIcon,g=e.activeKey,b=e.defaultActiveKey,S=e.onChange,I=e.items,y=T(r,m),C=Le([],{value:g,onChange:function(l){return S==null?void 0:S(l)},defaultValue:b,postState:Ct}),P=fe(C,2),x=P[0],k=P[1],w=function(l){return k(function(){if(i)return x[0]===l?[]:[l];var a=x.indexOf(l),$=a>-1;return $?x.filter(function(R){return R!==l}):[].concat(Fe(x),[l])})};Ke(!h,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var N=xt(I,h,{prefixCls:r,accordion:i,openMotion:p,expandIcon:v,collapsible:f,destroyInactivePanel:c,onItemClick:w,activeKey:x});return _.createElement("div",G({ref:t,className:y,style:s,role:i?"tablist":void 0},We(e,{aria:!0,data:!0})),N)});const ye=Object.assign($t,{Panel:Me});ye.Panel;const St=u.forwardRef((e,t)=>{const{getPrefixCls:n}=u.useContext(Pe),{prefixCls:r,className:o,showArrow:c=!0}=e,s=n("collapse",r),i=T({[`${s}-no-arrow`]:!c},o);return u.createElement(ye.Panel,Object.assign({ref:t},e,{prefixCls:s,className:i}))}),wt=e=>{const{componentCls:t,contentBg:n,padding:r,headerBg:o,headerPadding:c,collapseHeaderPaddingSM:s,collapseHeaderPaddingLG:i,collapsePanelBorderRadius:m,lineWidth:h,lineType:f,colorBorder:p,colorText:v,colorTextHeading:g,colorTextDisabled:b,fontSizeLG:S,lineHeight:I,lineHeightLG:y,marginSM:C,paddingSM:P,paddingLG:x,paddingXS:k,motionDurationSlow:w,fontSizeIcon:N,contentPadding:j,fontHeight:l,fontHeightLG:a}=e,$=`${K(h)} ${f} ${p}`;return{[t]:Object.assign(Object.assign({},Oe(e)),{backgroundColor:o,border:$,borderRadius:m,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:$,"&:first-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`${K(m)} ${K(m)} 0 0`}},"&:last-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`0 0 ${K(m)} ${K(m)}`}},[`> ${t}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:c,color:g,lineHeight:I,cursor:"pointer",transition:`all ${w}, visibility 0s`},ze(e)),{[`> ${t}-header-text`]:{flex:"auto"},[`${t}-expand-icon`]:{height:l,display:"flex",alignItems:"center",paddingInlineEnd:C},[`${t}-arrow`]:Object.assign(Object.assign({},He()),{fontSize:N,transition:`transform ${w}`,svg:{transition:`transform ${w}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}}),[`${t}-collapsible-header`]:{cursor:"default",[`${t}-header-text`]:{flex:"none",cursor:"pointer"}},[`${t}-collapsible-icon`]:{cursor:"unset",[`${t}-expand-icon`]:{cursor:"pointer"}}},[`${t}-content`]:{color:v,backgroundColor:n,borderTop:$,[`& > ${t}-content-box`]:{padding:j},"&-hidden":{display:"none"}},"&-small":{[`> ${t}-item`]:{[`> ${t}-header`]:{padding:s,paddingInlineStart:k,[`> ${t}-expand-icon`]:{marginInlineStart:e.calc(P).sub(k).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:P}}},"&-large":{[`> ${t}-item`]:{fontSize:S,lineHeight:y,[`> ${t}-header`]:{padding:i,paddingInlineStart:r,[`> ${t}-expand-icon`]:{height:a,marginInlineStart:e.calc(x).sub(r).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:x}}},[`${t}-item:last-child`]:{borderBottom:0,[`> ${t}-content`]:{borderRadius:`0 0 ${K(m)} ${K(m)}`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:b,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:C}}}}})}},It=e=>{const{componentCls:t}=e,n=`> ${t}-item > ${t}-header ${t}-arrow`;return{[`${t}-rtl`]:{[n]:{transform:"rotate(180deg)"}}}},jt=e=>{const{componentCls:t,headerBg:n,borderlessContentPadding:r,borderlessContentBg:o,colorBorder:c}=e;return{[`${t}-borderless`]:{backgroundColor:n,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${c}`},[`
        > ${t}-item:last-child,
        > ${t}-item:last-child ${t}-header
      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:o,borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{padding:r}}}},kt=e=>{const{componentCls:t,paddingSM:n}=e;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:n}}}}}},Pt=e=>({headerPadding:`${e.paddingSM}px ${e.padding}px`,headerBg:e.colorFillAlter,contentPadding:`${e.padding}px 16px`,contentBg:e.colorBgContainer,borderlessContentPadding:`${e.paddingXXS}px 16px ${e.padding}px`,borderlessContentBg:"transparent"}),Nt=Ne("Collapse",e=>{const t=Ee(e,{collapseHeaderPaddingSM:`${K(e.paddingXS)} ${K(e.paddingSM)}`,collapseHeaderPaddingLG:`${K(e.padding)} ${K(e.paddingLG)}`,collapsePanelBorderRadius:e.borderRadiusLG});return[wt(t),jt(t),kt(t),It(t),mt(t)]},Pt),Et=u.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r,expandIcon:o,className:c,style:s}=Xe("collapse"),{prefixCls:i,className:m,rootClassName:h,style:f,bordered:p=!0,ghost:v,size:g,expandIconPosition:b="start",children:S,destroyInactivePanel:I,destroyOnHidden:y,expandIcon:C}=e,P=Ge(O=>{var E;return(E=g??O)!==null&&E!==void 0?E:"middle"}),x=n("collapse",i),k=n(),[w,N,j]=Nt(x),l=u.useMemo(()=>b==="left"?"start":b==="right"?"end":b,[b]),a=C??o,$=u.useCallback((O={})=>{const E=typeof a=="function"?a(O):u.createElement(ut,{rotate:O.isActive?r==="rtl"?-90:90:void 0,"aria-label":O.isActive?"expanded":"collapsed"});return be(E,()=>{var A;return{className:T((A=E==null?void 0:E.props)===null||A===void 0?void 0:A.className,`${x}-arrow`)}})},[a,x]),R=T(`${x}-icon-position-${l}`,{[`${x}-borderless`]:!p,[`${x}-rtl`]:r==="rtl",[`${x}-ghost`]:!!v,[`${x}-${P}`]:P!=="middle"},c,m,h,N,j),D=Object.assign(Object.assign({},Ve(k)),{motionAppear:!1,leavedClassName:`${x}-content-hidden`}),W=u.useMemo(()=>S?ke(S).map((O,E)=>{var A,F;const M=O.props;if(M!=null&&M.disabled){const B=(A=O.key)!==null&&A!==void 0?A:String(E),L=Object.assign(Object.assign({},ce(O.props,["disabled"])),{key:B,collapsible:(F=M.collapsible)!==null&&F!==void 0?F:"disabled"});return be(O,L)}return O}):null,[S]);return w(u.createElement(ye,Object.assign({ref:t,openMotion:D},ce(e,["rootClassName"]),{expandIcon:$,prefixCls:x,className:R,style:Object.assign(Object.assign({},s),f),destroyInactivePanel:y??I}),W))}),ue=Object.assign(Et,{Panel:St});var Ot={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},At=function(){var t=u.useRef([]),n=u.useRef(null);return u.useEffect(function(){var r=Date.now(),o=!1;t.current.forEach(function(c){if(c){o=!0;var s=c.style;s.transitionDuration=".3s, .3s, .3s, .06s",n.current&&r-n.current<100&&(s.transitionDuration="0s, 0s")}}),o&&(n.current=Date.now())}),t.current},xe=0,_t=qe();function Rt(){var e;return _t?(e=xe,xe+=1):e="TEST_OR_SSR",e}const Mt=function(e){var t=u.useState(),n=fe(t,2),r=n[0],o=n[1];return u.useEffect(function(){o("rc_progress_".concat(Rt()))},[]),e||r};var Ce=function(t){var n=t.bg,r=t.children;return u.createElement("div",{style:{width:"100%",height:"100%",background:n}},r)};function $e(e,t){return Object.keys(e).map(function(n){var r=parseFloat(n),o="".concat(Math.floor(r*t),"%");return"".concat(e[n]," ").concat(o)})}var Bt=u.forwardRef(function(e,t){var n=e.prefixCls,r=e.color,o=e.gradientId,c=e.radius,s=e.style,i=e.ptg,m=e.strokeLinecap,h=e.strokeWidth,f=e.size,p=e.gapDegree,v=r&&U(r)==="object",g=v?"#FFF":void 0,b=f/2,S=u.createElement("circle",{className:"".concat(n,"-circle-path"),r:c,cx:b,cy:b,stroke:g,strokeLinecap:m,strokeWidth:h,opacity:i===0?0:1,style:s,ref:t});if(!v)return S;var I="".concat(o,"-conic"),y=p?"".concat(180+p/2,"deg"):"0deg",C=$e(r,(360-p)/360),P=$e(r,1),x="conic-gradient(from ".concat(y,", ").concat(C.join(", "),")"),k="linear-gradient(to ".concat(p?"bottom":"top",", ").concat(P.join(", "),")");return u.createElement(u.Fragment,null,u.createElement("mask",{id:I},S),u.createElement("foreignObject",{x:0,y:0,width:f,height:f,mask:"url(#".concat(I,")")},u.createElement(Ce,{bg:k},u.createElement(Ce,{bg:x}))))}),Q=100,ie=function(t,n,r,o,c,s,i,m,h,f){var p=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,v=r/100*360*((360-s)/360),g=s===0?0:{bottom:0,top:180,left:90,right:-90}[i],b=(100-o)/100*n;h==="round"&&o!==100&&(b+=f/2,b>=n&&(b=n-.01));var S=Q/2;return{stroke:typeof m=="string"?m:void 0,strokeDasharray:"".concat(n,"px ").concat(t),strokeDashoffset:b+p,transform:"rotate(".concat(c+v+g,"deg)"),transformOrigin:"".concat(S,"px ").concat(S,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Tt=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Se(e){var t=e??[];return Array.isArray(t)?t:[t]}var Dt=function(t){var n=le(le({},Ot),t),r=n.id,o=n.prefixCls,c=n.steps,s=n.strokeWidth,i=n.trailWidth,m=n.gapDegree,h=m===void 0?0:m,f=n.gapPosition,p=n.trailColor,v=n.strokeLinecap,g=n.style,b=n.className,S=n.strokeColor,I=n.percent,y=pe(n,Tt),C=Q/2,P=Mt(r),x="".concat(P,"-gradient"),k=C-s/2,w=Math.PI*2*k,N=h>0?90+h/2:-90,j=w*((360-h)/360),l=U(c)==="object"?c:{count:c,gap:2},a=l.count,$=l.gap,R=Se(I),D=Se(S),W=D.find(function(L){return L&&U(L)==="object"}),O=W&&U(W)==="object",E=O?"butt":v,A=ie(w,j,0,100,N,h,f,p,E,s),F=At(),M=function(){var V=0;return R.map(function(X,q){var oe=D[q]||D[D.length-1],Y=ie(w,j,V,X,N,h,f,oe,E,s);return V+=X,u.createElement(Bt,{key:q,color:oe,ptg:X,radius:k,prefixCls:o,gradientId:x,style:Y,strokeLinecap:E,strokeWidth:s,gapDegree:h,ref:function(ae){F[q]=ae},size:Q})}).reverse()},B=function(){var V=Math.round(a*(R[0]/100)),X=100/a,q=0;return new Array(a).fill(null).map(function(oe,Y){var Z=Y<=V-1?D[0]:p,ae=Z&&U(Z)==="object"?"url(#".concat(x,")"):void 0,he=ie(w,j,q,X,N,h,f,Z,"butt",s,$);return q+=(j-he.strokeDashoffset+$)*100/j,u.createElement("circle",{key:Y,className:"".concat(o,"-circle-path"),r:k,cx:C,cy:C,stroke:ae,strokeWidth:s,opacity:1,style:he,ref:function(Te){F[Y]=Te}})})};return u.createElement("svg",G({className:T("".concat(o,"-circle"),b),viewBox:"0 0 ".concat(Q," ").concat(Q),style:g,id:r,role:"presentation"},y),!a&&u.createElement("circle",{className:"".concat(o,"-circle-trail"),r:k,cx:C,cy:C,stroke:p,strokeLinecap:E,strokeWidth:i||s,style:A}),a?B():M())};function H(e){return!e||e<0?0:e>100?100:e}function te({success:e,successPercent:t}){let n=t;return e&&"progress"in e&&(n=e.progress),e&&"percent"in e&&(n=e.percent),n}const Lt=({percent:e,success:t,successPercent:n})=>{const r=H(te({success:t,successPercent:n}));return[r,H(H(e)-r)]},Kt=({success:e={},strokeColor:t})=>{const{strokeColor:n}=e;return[n||de.green,t||null]},re=(e,t,n)=>{var r,o,c,s;let i=-1,m=-1;if(t==="step"){const h=n.steps,f=n.strokeWidth;typeof e=="string"||typeof e>"u"?(i=e==="small"?2:14,m=f??8):typeof e=="number"?[i,m]=[e,e]:[i=14,m=8]=Array.isArray(e)?e:[e.width,e.height],i*=h}else if(t==="line"){const h=n==null?void 0:n.strokeWidth;typeof e=="string"||typeof e>"u"?m=h||(e==="small"?6:8):typeof e=="number"?[i,m]=[e,e]:[i=-1,m=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[i,m]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[i,m]=[e,e]:Array.isArray(e)&&(i=(o=(r=e[0])!==null&&r!==void 0?r:e[1])!==null&&o!==void 0?o:120,m=(s=(c=e[0])!==null&&c!==void 0?c:e[1])!==null&&s!==void 0?s:120));return[i,m]},Wt=3,Ft=e=>Wt/e*100,zt=e=>{const{prefixCls:t,trailColor:n=null,strokeLinecap:r="round",gapPosition:o,gapDegree:c,width:s=120,type:i,children:m,success:h,size:f=s,steps:p}=e,[v,g]=re(f,"circle");let{strokeWidth:b}=e;b===void 0&&(b=Math.max(Ft(v),6));const S={width:v,height:g,fontSize:v*.15+6},I=u.useMemo(()=>{if(c||c===0)return c;if(i==="dashboard")return 75},[c,i]),y=Lt(e),C=o||i==="dashboard"&&"bottom"||void 0,P=Object.prototype.toString.call(e.strokeColor)==="[object Object]",x=Kt({success:h,strokeColor:e.strokeColor}),k=T(`${t}-inner`,{[`${t}-circle-gradient`]:P}),w=u.createElement(Dt,{steps:p,percent:p?y[1]:y,strokeWidth:b,trailWidth:b,strokeColor:p?x[1]:x,strokeLinecap:r,trailColor:n,prefixCls:t,gapDegree:I,gapPosition:C}),N=v<=20,j=u.createElement("div",{className:k,style:S},w,!N&&m);return N?u.createElement(Ue,{title:m},j):j},ne="--progress-line-stroke-color",Be="--progress-percent",we=e=>{const t=e?"100%":"-100%";return new Ye(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},Ht=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:Object.assign(Object.assign({},Oe(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${ne})`]},height:"100%",width:`calc(1 / var(${Be}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${K(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:we(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:we(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},Xt=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},Gt=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Vt=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${n}`]:{fontSize:e.fontSizeSM}}}},qt=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),Ut=Ne("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),n=Ee(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[Ht(n),Xt(n),Gt(n),Vt(n)]},qt);var Yt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Qt=e=>{let t=[];return Object.keys(e).forEach(n=>{const r=parseFloat(n.replace(/%/g,""));Number.isNaN(r)||t.push({key:r,value:e[n]})}),t=t.sort((n,r)=>n.key-r.key),t.map(({key:n,value:r})=>`${r} ${n}%`).join(", ")},Zt=(e,t)=>{const{from:n=de.blue,to:r=de.blue,direction:o=t==="rtl"?"to left":"to right"}=e,c=Yt(e,["from","to","direction"]);if(Object.keys(c).length!==0){const i=Qt(c),m=`linear-gradient(${o}, ${i})`;return{background:m,[ne]:m}}const s=`linear-gradient(${o}, ${n}, ${r})`;return{background:s,[ne]:s}},Jt=e=>{const{prefixCls:t,direction:n,percent:r,size:o,strokeWidth:c,strokeColor:s,strokeLinecap:i="round",children:m,trailColor:h=null,percentPosition:f,success:p}=e,{align:v,type:g}=f,b=s&&typeof s!="string"?Zt(s,n):{[ne]:s,background:s},S=i==="square"||i==="butt"?0:void 0,I=o??[-1,c||(o==="small"?6:8)],[y,C]=re(I,"line",{strokeWidth:c}),P={backgroundColor:h||void 0,borderRadius:S},x=Object.assign(Object.assign({width:`${H(r)}%`,height:C,borderRadius:S},b),{[Be]:H(r)/100}),k=te(e),w={width:`${H(k)}%`,height:C,borderRadius:S,backgroundColor:p==null?void 0:p.strokeColor},N={width:y<0?"100%":y},j=u.createElement("div",{className:`${t}-inner`,style:P},u.createElement("div",{className:T(`${t}-bg`,`${t}-bg-${g}`),style:x},g==="inner"&&m),k!==void 0&&u.createElement("div",{className:`${t}-success-bg`,style:w})),l=g==="outer"&&v==="start",a=g==="outer"&&v==="end";return g==="outer"&&v==="center"?u.createElement("div",{className:`${t}-layout-bottom`},j,m):u.createElement("div",{className:`${t}-outer`,style:N},l&&m,j,a&&m)},en=e=>{const{size:t,steps:n,rounding:r=Math.round,percent:o=0,strokeWidth:c=8,strokeColor:s,trailColor:i=null,prefixCls:m,children:h}=e,f=r(n*(o/100)),v=t??[t==="small"?2:14,c],[g,b]=re(v,"step",{steps:n,strokeWidth:c}),S=g/n,I=Array.from({length:n});for(let y=0;y<n;y++){const C=Array.isArray(s)?s[y]:s;I[y]=u.createElement("div",{key:y,className:T(`${m}-steps-item`,{[`${m}-steps-item-active`]:y<=f-1}),style:{backgroundColor:y<=f-1?C:i,width:S,height:b}})}return u.createElement("div",{className:`${m}-steps-outer`},I,h)};var tn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const nn=["normal","exception","active","success"],rn=u.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:o,steps:c,strokeColor:s,percent:i=0,size:m="default",showInfo:h=!0,type:f="line",status:p,format:v,style:g,percentPosition:b={}}=e,S=tn(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:I="end",type:y="outer"}=b,C=Array.isArray(s)?s[0]:s,P=typeof s=="string"||Array.isArray(s)?s:void 0,x=u.useMemo(()=>{if(C){const M=typeof C=="string"?C:Object.values(C)[0];return new Qe(M).isLight()}return!1},[s]),k=u.useMemo(()=>{var M,B;const L=te(e);return parseInt(L!==void 0?(M=L??0)===null||M===void 0?void 0:M.toString():(B=i??0)===null||B===void 0?void 0:B.toString(),10)},[i,e.success,e.successPercent]),w=u.useMemo(()=>!nn.includes(p)&&k>=100?"success":p||"normal",[p,k]),{getPrefixCls:N,direction:j,progress:l}=u.useContext(Pe),a=N("progress",n),[$,R,D]=Ut(a),W=f==="line",O=W&&!c,E=u.useMemo(()=>{if(!h)return null;const M=te(e);let B;const L=v||(X=>`${X}%`),V=W&&x&&y==="inner";return y==="inner"||v||w!=="exception"&&w!=="success"?B=L(H(i),H(M)):w==="exception"?B=W?u.createElement(Ze,null):u.createElement(Je,null):w==="success"&&(B=W?u.createElement(et,null):u.createElement(tt,null)),u.createElement("span",{className:T(`${a}-text`,{[`${a}-text-bright`]:V,[`${a}-text-${I}`]:O,[`${a}-text-${y}`]:O}),title:typeof B=="string"?B:void 0},B)},[h,i,k,w,f,a,v]);let A;f==="line"?A=c?u.createElement(en,Object.assign({},e,{strokeColor:P,prefixCls:a,steps:typeof c=="object"?c.count:c}),E):u.createElement(Jt,Object.assign({},e,{strokeColor:C,prefixCls:a,direction:j,percentPosition:{align:I,type:y}}),E):(f==="circle"||f==="dashboard")&&(A=u.createElement(zt,Object.assign({},e,{strokeColor:C,prefixCls:a,progressStatus:w}),E));const F=T(a,`${a}-status-${w}`,{[`${a}-${f==="dashboard"&&"circle"||f}`]:f!=="line",[`${a}-inline-circle`]:f==="circle"&&re(m,"circle")[0]<=20,[`${a}-line`]:O,[`${a}-line-align-${I}`]:O,[`${a}-line-position-${y}`]:O,[`${a}-steps`]:c,[`${a}-show-info`]:h,[`${a}-${m}`]:typeof m=="string",[`${a}-rtl`]:j==="rtl"},l==null?void 0:l.className,r,o,R,D);return $(u.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},l==null?void 0:l.style),g),className:F,role:"progressbar","aria-valuenow":k,"aria-valuemin":0,"aria-valuemax":100},ce(S,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),A))});function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}const on=(e,t)=>u.createElement(Ae,me({},e,{ref:t,icon:nt})),vn=u.forwardRef(on);function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge.apply(this,arguments)}const an=(e,t)=>u.createElement(Ae,ge({},e,{ref:t,icon:rt})),sn=u.forwardRef(an),{Panel:Ie}=ue,{TabPane:je}=_e,bn=({closeFnc:e,open:t,blogs:n})=>{var N,j;const[r,o]=u.useState({title:"",content:"",keywords:[],keywordInput:"",contentType:"text",selectedProject:null}),[c,s]=u.useState(!1),[i,m]=u.useState(null),{handlePopup:h}=ot(),f=at(),{analysis:p,error:v,loading:g}=st(l=>l.analysis);u.useEffect(()=>{c&&!g&&(p?(m(p),s(!1)):v?(console.error("Analysis error:",v),J.error(v||"Failed to perform competitive analysis. Please try again."),s(!1)):(console.warn("Unexpected state: analysis and analysisError are both null"),s(!1)))},[p,v,g,c]),u.useEffect(()=>{t||(o({title:"",content:"",keywords:[],keywordInput:"",contentType:"text",selectedProject:null}),m(null),s(!1))},[t]),u.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);const b=l=>{const{name:a,value:$}=l.target;o(R=>({...R,[a]:$}))},S=l=>{const a=n.find($=>$._id===l);a&&o($=>({...$,title:a.title,content:a.content,keywords:a.focusKeywords||[],selectedProject:a,contentType:"markdown"}))},I=l=>{o(a=>({...a,keywordInput:l.target.value}))},y=()=>{const l=r.keywordInput;if(l.trim()!==""){const a=l.split(",").map($=>$.trim()).filter($=>$!==""&&!r.keywords.includes($));a.length>0&&o($=>({...$,keywords:[...$.keywords,...a],keywordInput:""}))}},C=l=>{o(a=>({...a,keywords:a.keywords.filter(($,R)=>R!==l)}))},P=l=>{(l.key==="Enter"||l.key===",")&&(l.preventDefault(),y())},x=()=>{if(!r.title.trim())return J.error("Please enter a blog title");if(!r.content.trim())return J.error("Please enter blog content");if(r.keywords.length===0)return J.error("Please add at least one keyword");h({title:"Analyze Competitors",description:d.jsxs("p",{children:["Competitive Analysis cost: ",d.jsxs("b",{children:[dt("analysis.competitors")," credits"]}),d.jsx("br",{}),"Do you wish to proceed?"]}),onConfirm:async()=>{var l;s(!0);try{const a=await f(ct({title:r.title,content:r.content,keywords:r.keywords,contentType:r.contentType,blogId:(l=r==null?void 0:r.selectedProject)==null?void 0:l._id})).unwrap();m(a)}catch(a){console.error("Error fetching analysis:",a)}}})},k=l=>l?l.split(`
`).filter(a=>a.trim()!=="").map((a,$)=>d.jsx("p",{className:"mb-2",children:d.jsx("span",{dangerouslySetInnerHTML:{__html:a.trim().replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")}})},$)):[],w=u.useMemo(()=>i!=null&&i.competitors?d.jsx(ue,{accordion:!0,className:"bg-white border border-gray-200 rounded-lg",children:i.competitors.map((l,a)=>d.jsxs(Ie,{header:d.jsxs("div",{className:"flex justify-between items-center w-full pr-2",children:[d.jsx("span",{className:"font-medium text-gray-800 truncate max-w-[60%]",children:l.title}),d.jsx("a",{href:l.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm hover:underline",onClick:$=>$.stopPropagation(),children:"Visit"})]}),className:"text-sm text-gray-700 leading-relaxed",children:[d.jsx("p",{className:"mb-2 font-medium",children:l.snippet}),d.jsx("div",{children:k(l.summary)})]},a))}):null,[i]);return c||g?d.jsx("div",{className:"h-[calc(100vh-200px)] p-4 flex items-center justify-center",children:d.jsx(it,{})}):d.jsx(lt,{open:t,title:d.jsx("div",{className:"text-xl font-semibold text-gray-900",children:"Competitive Analysis"}),onCancel:e,footer:[d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition",children:"Close"}),!i&&d.jsx("button",{onClick:x,className:`px-4 py-2 text-sm font-medium text-white bg-[#1B6FC9]  rounded-md hover:bg-[#1B6FC9]/90 transition ${c||g?"opacity-50 cursor-not-allowed":""}`,disabled:c||g,children:c||g?d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(sn,{}),"Analyzing..."]}):"Analyze"})]},"footer")],width:900,centered:!0,closable:!0,transitionName:"",maskTransitionName:"",bodyStyle:{maxHeight:"80vh",overflowY:"auto",padding:0},children:d.jsx("div",{className:"p-4",children:i?d.jsxs(_e,{defaultActiveKey:"results",children:[d.jsx(je,{tab:"Analysis Results",children:d.jsxs(ee.div,{animate:{opacity:1,y:0},transition:{duration:.6,easement:"easeOut"},className:"space-y-6",children:[d.jsxs(ee.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},className:"flex flex-col items-center",children:[d.jsx(rn,{type:"dashboard",percent:parseInt(i.insights.blogScore||0),format:l=>`${l} / 100`,strokeColor:{"0%":"#1B6FC9","100%":"#4C9FE8"},trailColor:"#e5e7eb",size:"large"}),d.jsx("div",{className:"text-gray-800 text-lg font-semibold mt-3",children:"Blog SEO Score"})]}),d.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.4},children:d.jsx(gt,{title:"Suggestions to Beat Competitors",className:"bg-white border border-gray-200 rounded-lg shadow-sm",headStyle:{background:"#f9fafb",fontWeight:600,fontSize:"1.1rem"},children:d.jsx("ul",{className:"list-decimal pl-6 space-y-3 text-sm text-gray-700",children:(N=i==null?void 0:i.insights.suggestions)==null?void 0:N.split(/(?:\d+\.\s)/).filter(Boolean).map((l,a)=>d.jsx("li",{children:d.jsx("span",{dangerouslySetInnerHTML:{__html:l.trim().replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")}})},a))})})}),d.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.4},children:d.jsx(ue,{accordion:!0,className:"bg-white border border-gray-200 rounded-lg",expandIconPosition:"right",children:Object.entries(i.insights.analysis).map(([l,a])=>{const $=a.match(/^(\d+\/\d+)\s+—\s+(.*)$/),R=$?$[1]:null,D=$?$[2]:a;return d.jsx(Ie,{header:d.jsxs("div",{className:"flex justify-between items-center w-full pr-2",children:[d.jsx("span",{className:"font-medium text-gray-800",children:l}),R&&d.jsx("span",{className:"text-sm text-center w-[10ch] font-semibold text-blue-600 bg-blue-50 px-2 py-1 rounded-md",children:R.replace("/"," / ")})]}),className:"text-sm text-gray-700 leading-relaxed",children:d.jsx("p",{children:D})},l)})})})]})},"results"),d.jsx(je,{tab:"Competitors",children:w||d.jsx(Empty,{description:"No competitor data available"})},"competitors")]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Recent Project"}),d.jsxs(se,{className:"w-full rounded-md text-sm",onChange:S,value:((j=r.selectedProject)==null?void 0:j._id)||"",dropdownStyle:{maxHeight:200,overflowY:"auto"},children:[d.jsx(se.Option,{value:"",children:"Select a project"}),n.map(l=>d.jsx(se.Option,{value:l._id,children:l.title},l._id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blog Title"}),d.jsx("input",{type:"text",name:"title",value:r.title,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Enter your blog title"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blog Content"}),d.jsx("textarea",{name:"content",value:r.content,onChange:b,className:"w-full h-40 px-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:`Enter your blog content in ${r.contentType} format`})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keywords"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("input",{type:"text",value:r.keywordInput,onChange:I,onKeyDown:P,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Add keywords (comma-separated)"}),d.jsx("button",{onClick:y,className:"px-4 py-2 bg-[#1B6FC9]  text-white rounded-md text-sm hover:bg-[#1B6FC9]/90 transition",children:d.jsx(ft,{})})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:r.keywords.map((l,a)=>d.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-500",children:[l,d.jsx("button",{type:"button",onClick:()=>C(a),className:"ml-2 text-blue-500 hover:text-blue-700",children:d.jsx(pt,{className:"w-4 h-4"})})]},a))})]})]})})})};export{bn as C,vn as R};
