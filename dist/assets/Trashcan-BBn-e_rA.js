import{j as s,ab as u,b8 as j,aH as g,aR as l}from"./index-CfcK-_FJ.js";import{b as d}from"./chunk-tiptap-JX9QK0Ia.js";import{S as y}from"./SkeletonLoader-oBf3Y3Qd.js";const N=85,B=()=>{const[i,n]=d.useState([]),[h,c]=d.useState(!0),m=async()=>{var r,e;try{c(!0);const a=(await g.get("/blogs/")).data.filter(o=>o.isArchived);n(a)}catch(t){console.error("Error fetching trashed blogs:",((e=(r=t.response)==null?void 0:r.data)==null?void 0:e.message)||"Failed to fetch trashed blogs")}finally{c(!1)}};d.useEffect(()=>{m()},[]);const x=(r,e=N)=>r?r.length>e?r.substring(0,e)+"...":r:"",p=async r=>{try{(await g.patch(`/blogs/restore/${r}`)).status===200?(n(t=>t.filter(a=>a._id!==r)),l.success("Blog restored successfully!")):l.error("Failed to restore blog.")}catch(e){l.error("Failed to restore blog."),console.error("Error restoring blog:",e.response&&e.response.data&&e.response.data.message||"Failed to restore blog")}};return s.jsxs("div",{className:"max-w-7xl mx-auto",style:{overflowY:"auto"},children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Trashcan"}),s.jsx("p",{className:"text-red-600 font-semibold mb-4",children:"Warning: Trashed items will be permanently deleted after 7 days."}),h?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(5)].map((r,e)=>s.jsx("div",{className:"bg-white shadow-md rounded-xl p-4",children:s.jsx(y,{})},e))}):i.length===0?s.jsx("p",{children:"No trashed blogs available."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map(r=>{const{_id:e,title:t,content:a,focusKeywords:o,aiModel:w}=r;return s.jsx(u,{title:t,color:"gray",children:s.jsxs("div",{className:"bg-white shadow-md hover:shadow-xl transition-shadow duration-300 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:t}),s.jsx("img",{src:"Images/restore.svg",alt:"Restore",className:"cursor-pointer",style:{width:"20px",height:"20px"},onClick:()=>p(e)})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:x(a)}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.map((b,f)=>s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-full",children:b},f))})]})},e)})}),s.jsx(j,{})]})};export{B as default};
