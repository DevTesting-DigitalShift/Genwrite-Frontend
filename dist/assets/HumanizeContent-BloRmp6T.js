var j=(r,t,s)=>new Promise((p,f)=>{var m=l=>{try{x(s.next(l))}catch(g){f(g)}},o=l=>{try{x(s.throw(l))}catch(g){f(g)}},x=l=>l.done?p(l.value):Promise.resolve(l.value).then(m,o);x((s=s.apply(r,t)).next())});import{j as e}from"./tiptap-BabmW22p.js";import{b as h}from"./vendor-CcjAMWu8.js";import{d as E,u as F}from"./index-CHEUOGl9.js";import{c as M}from"./react-wNxFir7h.js";import{j as B,u as D}from"./useAuthStore-CU2rUJjR.js";import{P as O}from"./ProgressLoadingScreen-C8VO8dwW.js";import{S as w}from"./sparkles-CoI3F60w.js";import{R as U}from"./refresh-cw-C9vuQMbq.js";import{F as S}from"./file-text-KIhDxHtJ.js";import{B as I,s as d}from"./antd-8WQTeuab.js";import{C as R}from"./copy-Bau5eDru.js";import{D as $}from"./download-DHTy5sqT.js";import{L as A}from"./loader-circle-DcQOKVDQ.js";import"./utils-DIb0lvMo.js";import"./DataLayer-DALerVhB.js";const H=M(r=>({result:null,setResult:t=>r({result:t}),resetHumanizeState:()=>r({result:null})})),W=()=>{const{setResult:r}=H();return E({mutationFn:t=>B(t),onSuccess:t=>{r(t)},onError:t=>{console.error(t)},onMutate:()=>{r(null)}})},oe=()=>{var C,P;const[r,t]=h.useState(""),{result:s,resetHumanizeState:p}=H(),{mutate:f,isPending:m}=W(),{user:o}=D(),x=(P=o==null?void 0:o.plan)!=null?P:(C=o==null?void 0:o.subscription)==null?void 0:C.plan,{handlePopup:l}=F(),g=h.useRef(),N=h.useRef(),b=h.useRef(!1);h.useEffect(()=>()=>{p(),t("")},[]);const u=r.trim().split(/\s+/).filter(Boolean).length;h.useCallback(a=>{if(b.current)return;b.current=!0;const n=a==="left"?g.current:N.current,c=a==="left"?N.current:g.current;if(n&&c){const i=n.scrollTop/(n.scrollHeight-n.clientHeight)*(c.scrollHeight-c.clientHeight);c.scrollTop=i}setTimeout(()=>{b.current=!1},10)},[]);const z=()=>{if(x==="free"||x==="basic"){navigate("/pricing");return}k()},k=()=>j(null,null,function*(){if(!r.trim()){d.error("Please enter some content to process");return}const a={content:r.trim()};f(a,{onSuccess:()=>{d.success("Content processed successfully!")},onError:n=>{d.error("Failed to process content. Please try again."),console.error(n)}})}),v=(a,n)=>j(null,null,function*(){try{yield navigator.clipboard.writeText(a),d.success(`${n==="original"?"Original":"Processed"} content copied to clipboard`)}catch(c){console.error("Failed to copy content"),d.error("Failed to copy content")}}),T=(a,n)=>{const c=new Blob([a],{type:"text/plain"}),y=URL.createObjectURL(c),i=document.createElement("a");i.href=y,i.download=n,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(y),d.success("Content downloaded successfully")},L=()=>{t(""),p(),d.info("Content reset")};return m?e.jsx("div",{className:"h-[calc(100vh-200px)] p-4 flex items-center justify-center",children:e.jsx(O,{message:"Humanizing your content..."})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/50",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 p-5",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(w,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Humanize Content"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Transform your content with AI-powered processing"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-3 py-1.5 sm:px-4 sm:py-2 text-sm sm:text-base text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Reset all content",children:[e.jsx(U,{className:"w-4 h-4"}),"Reset"]})})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(S,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Input Content"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("textarea",{value:r,onChange:a=>t(a.target.value),placeholder:"Paste or type your content here (300â€“500 words)...",className:"w-full h-60 p-4 border-2 border-gray-200 rounded-xl resize-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all duration-300 text-gray-800 placeholder-gray-500"}),e.jsx("div",{className:"flex justify-end items-center",children:e.jsxs("p",{className:`text-sm mb-2 ${u<300?"text-yellow-500":"text-green-600"}`,children:["Word count: ",u," ",u<300?"(Minimum 300 words required)":""]})}),e.jsx(I,{onClick:z,disabled:m||!r.trim()||u<300,className:`flex items-center justify-center gap-2 px-6 py-3 w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-xl transition-all duration-300 hover:shadow-lg ${!r.trim()||u<300?"opacity-50 cursor-not-allowed":"hover:from-blue-700 hover:to-purple-700 hover:scale-105"}`,children:"Process Content"})]})]}),(s||m)&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-3",children:[e.jsx(w,{className:"w-5 h-5 text-purple-600"}),"Processing Results"]})}),e.jsxs("div",{className:"h-96 overflow-y-auto grid lg:grid-cols-2 gap-0 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex flex-col border-r border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(S,{className:"w-4 h-4 text-gray-600"}),"Original Content"]}),(s==null?void 0:s.originalHumanizationScore)&&e.jsxs("span",{className:"px-2.5 py-1 bg-red-100 text-red-700 text-xs font-bold rounded-full border border-red-200",children:["Score: ",s.originalHumanizationScore]})]}),e.jsx("button",{onClick:()=>v(r,"original"),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",title:"Copy original content",children:e.jsx(R,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"p-4 bg-gray-50/50 text-gray-800 text-sm leading-relaxed whitespace-pre-wrap",children:r})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4 text-blue-600"}),"Processed Content"]}),(s==null?void 0:s.rewrittenHumanizationScore)&&e.jsxs("span",{className:"px-2.5 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full border border-green-200",children:["Score: ",s.rewrittenHumanizationScore]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>v(s==null?void 0:s.rewrittenContent,"processed"),disabled:!(s!=null&&s.rewrittenContent),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Copy processed content",children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>T(s==null?void 0:s.rewrittenContent,"processed-content.txt"),disabled:!(s!=null&&s.rewrittenContent),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Download processed content",children:e.jsx($,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"p-4 bg-white text-gray-800 text-sm leading-relaxed whitespace-pre-wrap",children:m?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(A,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Processing your content..."}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"This may take a few moments"})]})}):s==null?void 0:s.rewrittenContent})]})]})]})]})})};export{oe as default};
