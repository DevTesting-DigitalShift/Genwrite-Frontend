var Se=Object.defineProperty,Be=Object.defineProperties;var Pe=Object.getOwnPropertyDescriptors;var re=Object.getOwnPropertySymbols;var Oe=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable;var ae=(j,x,b)=>x in j?Se(j,x,{enumerable:!0,configurable:!0,writable:!0,value:b}):j[x]=b,a=(j,x)=>{for(var b in x||(x={}))Oe.call(x,b)&&ae(j,b,x[b]);if(re)for(var b of re(x))Ve.call(x,b)&&ae(j,b,x[b]);return j},l=(j,x)=>Be(j,Pe(x));import{u as Fe,b as Te,M as Ae,a as le,r as y,ae as Le,j as e,L as $e,P as Ke,T as E,aY as De,em as Me,d_ as Ee}from"./index-DGyKukHS.js";import{c as Re}from"./pricingConfig-DUMy0XHk.js";import{T as Ge}from"./TemplateSelection-DJoE3BqY.js";import{B as Ue}from"./BrandVoiceSelector-DwmCkF0D.js";import{I as R,e as ze}from"./forms.schemas-XiLCELJJ.js";import{S as T}from"./index-BwEY3YVU.js";import{I as ne}from"./info-Cig4UzXc.js";import{U as ie}from"./upload-Dtbao_Cr.js";import{X as oe}from"./x-BzjLAkyk.js";import"./index-DV59N7wy.js";import"./gapSize-U1swVQyS.js";import"./index-BnEkxgjK.js";import"./Input-DiLFj7JW.js";import"./EyeOutlined-Bmd706kk.js";import"./SearchOutlined-BMAxbBz4.js";import"./search-Djd0eIao.js";import"./index-DFN4a_a8.js";import"./crown-DC5MjMl2.js";import"./index-DHwZnXZQ.js";import"./Brand.query-BhGqDaim.js";import"./useQuery-dfiIo4uw.js";import"./useInfiniteQuery-C5ENqwUq.js";import"./index-DFATQ8I8.js";import"./useForm-B5p8jSfy.js";import"./index-DRUC8Ek5.js";import"./move-DJJhZmR8.js";const bt=({closeFnc:j})=>{var X,Z,ee,te,se;const x=Fe(),b=Te(),{handlePopup:de}=Ae(),p=le(t=>t.auth.user),{data:C}=le(t=>t.wordpress),F=((X=p==null?void 0:p.subscription)==null?void 0:X.plan)||(p==null?void 0:p.plan),[G,ce]=y.useState(!1),[U,me]=y.useState(!1),v=((Z=p==null?void 0:p.usage)==null?void 0:Z.aiImages)>=((ee=p==null?void 0:p.usageLimits)==null?void 0:ee.aiImages);y.useRef(null);const[w,A]=y.useState(0),[L,z]=y.useState(null),[$,q]=y.useState(null),[ue,pe]=y.useState(!1),{Option:g}=T,W={templates:[],templateIds:[],topics:[],keywords:[],topicInput:"",keywordInput:"",performKeywordResearch:!0,tone:"",languageToWrite:"English",userDefinedLength:1e3,imageSource:R.STOCK,isCheckedBrand:!1,useCompetitors:!1,includeInterlinks:!0,includeFaqs:!0,numberOfBlogs:1,numberOfImages:0,wordpressPostStatus:!1,postFrequency:600,aiModel:"gemini",includeTableOfContents:!1,isCheckedGeneratedImages:!0,addOutBoundLinks:!1,blogImages:[],postingType:null,brandId:null,addCTA:!1,isDragging:!1,costCutter:!0},K={templates:"",topics:"",topicsCSV:"",keywords:"",keywordsCSV:"",tone:"",integration:"",aiModel:"",numberOfBlogs:"",numberOfImages:"",blogImages:"",brandId:""},[c,i]=y.useState(K),[s,u]=y.useState(W);y.useEffect(()=>{x(Le())},[x]),y.useEffect(()=>{v&&s.isCheckedGeneratedImages&&(u(t=>l(a({},t),{isCheckedGeneratedImages:!1,imageSource:R.STOCK})),i(t=>l(a({},t),{numberOfImages:!1,blogImages:!1})))},[v]);const Y=y.useMemo(()=>{const t=[];s.isCheckedBrand&&t.push("brandVoice"),s.useCompetitors&&t.push("competitorResearch"),s.performKeywordResearch&&t.push("keywordResearch"),s.includeInterlinks&&t.push("internalLinking"),s.includeFaqs&&t.push("faqGeneration"),s.wordpressPostStatus&&t.push("automaticPosting"),s.addOutBoundLinks&&t.push("outboundLinks");const r=Re({wordCount:s.userDefinedLength,features:t,aiModel:s.aiModel||"gemini",includeImages:s.isCheckedGeneratedImages,imageSource:s.imageSource,numberOfImages:s.imageSource==="customImage"?s.blogImages.length:s.numberOfImages});let o=s.numberOfBlogs*r;return s.costCutter&&(o=Math.round(o*.75)),o},[s.isCheckedBrand,s.useCompetitors,s.performKeywordResearch,s.includeInterlinks,s.includeFaqs,s.wordpressPostStatus,s.addOutBoundLinks,s.userDefinedLength,s.aiModel,s.isCheckedGeneratedImages,s.imageSource,s.numberOfImages,s.blogImages.length,s.numberOfBlogs,s.costCutter]),ge=()=>{if(w===0){if(s.templates.length===0){i(t=>l(a({},t),{templates:"Please select at least one template."}));return}i(t=>l(a({},t),{templates:""}))}if(w===1){const t={topics:s.topics.length===0&&s.topicInput.trim()===""?"Please add at least one topic.":"",keywords:!s.performKeywordResearch&&s.keywords.length===0&&s.keywordInput.trim()===""?"Please add at least one keyword.":"",tone:s.tone?"":"Please select a tone of voice."};if(i(r=>a(a({},r),t)),Object.values(t).some(r=>r))return}A(t=>t+1)},he=()=>{A(t=>t>0?t-1:t),i(t=>a(a({},t),K))},D=()=>{u(W),i(K),j()},fe=()=>{var m,k;const t={templates:s.templates.length===0?"Please select at least one template.":"",topics:s.topics.length===0&&s.topicInput.trim()===""?"Please add at least one topic.":"",keywords:!s.performKeywordResearch&&s.keywords.length===0&&s.keywordInput.trim()===""?"Please add at least one keyword.":"",tone:s.tone?"":"Please select a tone of voice.",integration:s.wordpressPostStatus&&Object.keys((C==null?void 0:C.integrations)||{}).length>0&&!s.postingType?"Please select a publishing platform.":"",aiModel:s.aiModel?"":"Please select an AI model.",numberOfBlogs:s.numberOfBlogs<1||s.numberOfBlogs>10?"Number of blogs must be between 1 and 10.":"",numberOfImages:s.numberOfImages===""||s.numberOfImages<0||s.numberOfImages>20?"Number of images must be between 0 and 20.":"",blogImages:s.isCheckedGeneratedImages&&s.imageSource==="customImage"&&s.blogImages.length===0?"Please upload at least one custom image.":"",brandId:s.isCheckedBrand&&!s.brandId?"Please select a brand voice.":""};if(i(f=>a(a({},f),t)),Object.values(t).some(f=>f)){const f=t.templates?0:t.topics||t.keywords||t.tone?1:2;A(f);return}s.aiModel;const r=Y,o=(((m=p==null?void 0:p.credits)==null?void 0:m.base)||0)+(((k=p==null?void 0:p.credits)==null?void 0:k.extra)||0);if(o<r){de({title:"Insufficient Credits",description:e.jsxs("div",{children:[e.jsxs("p",{children:["You don't have enough credits to generate ",s.numberOfBlogs," blog",s.numberOfBlogs>1?"s":"","."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Required:"})," ",r," credits"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Available:"})," ",o," credits"]})]}),okText:"Buy Credits",onConfirm:()=>{b("/pricing"),D()}});return}const n=l(a({},s),{imageSource:s.isCheckedGeneratedImages?s.imageSource:R.NONE}),h=ze(n);pe(!0),x(Me({blogData:h,user:p,navigate:b,queryClient:Ee})),D()},xe=y.useCallback(t=>{u(r=>l(a({},r),{templates:t.map(o=>o.name),templateIds:t.map(o=>o.id)})),i(r=>l(a({},r),{templates:""}))},[]),_=t=>{const{name:r,value:o,type:n}=t.target;let h;if(n==="tel")if(o==="")h="";else{const m=parseInt(o,10);isNaN(m)?h="":(h=m,h<0&&(h=0),r==="numberOfBlogs"&&h>10&&(h=10),r==="numberOfImages"&&h>20&&(h=20))}else h=o;u(m=>l(a({},m),{[r]:h})),i(m=>l(a({},m),{[r]:""}))},I=t=>{const{name:r,checked:o}=t.target;if(r==="wordpressPostStatus"&&o&&!(Object.keys((C==null?void 0:C.integrations)||{}).length>0)){i(h=>l(a({},h),{integration:"Please connect your account in plugins."}));return}u(n=>l(a({},n),{[r]:o,postingType:r==="wordpressPostStatus"&&!o?null:n.postingType})),r==="performKeywordResearch"&&i(n=>l(a({},n),{keywords:"",keywordsCSV:""})),r==="wordpressPostStatus"&&i(n=>l(a({},n),{integration:""}))},be=t=>{u(r=>l(a({},r),{topicInput:t.target.value})),i(r=>l(a({},r),{topics:"",topicsCSV:""}))},ye=t=>{u(r=>l(a({},r),{keywordInput:t.target.value})),i(r=>l(a({},r),{keywords:"",keywordsCSV:""}))},J=()=>{const t=s.topicInput.trim();if(t==="")return i(n=>l(a({},n),{topics:"Please enter a topic."})),!1;const r=s.topics.map(n=>n.toLowerCase().trim()),o=t.split(",").map(n=>n.trim()).filter(n=>n!==""&&!r.includes(n.toLowerCase()));return o.length===0?(i(n=>l(a({},n),{topics:"Please enter valid, non-duplicate topics separated by commas."})),u(n=>l(a({},n),{topicInput:""})),!1):(u(n=>l(a({},n),{topics:[...n.topics,...o],topicInput:""})),i(n=>l(a({},n),{topics:"",topicsCSV:""})),!0)},we=t=>{u(r=>l(a({},r),{topics:r.topics.filter((o,n)=>n!==t)})),i(r=>l(a({},r),{topics:"",topicsCSV:""}))},Q=()=>{const t=s.keywordInput.trim();if(t==="")return i(n=>l(a({},n),{keywords:"Please enter a keyword."})),!1;const r=s.keywords.map(n=>n.toLowerCase().trim()),o=t.split(",").map(n=>n.trim()).filter(n=>n!==""&&!r.includes(n.toLowerCase()));return o.length===0?(i(n=>l(a({},n),{keywords:"Please enter valid, non-duplicate keywords separated by commas."})),u(n=>l(a({},n),{keywordInput:""})),!1):(u(n=>l(a({},n),{keywords:[...n.keywords,...o],keywordInput:""})),i(n=>l(a({},n),{keywords:"",keywordsCSV:""})),!0)},je=t=>{u(r=>l(a({},r),{keywords:r.keywords.filter((o,n)=>n!==t)})),i(r=>l(a({},r),{keywords:"",keywordsCSV:""}))},H=t=>{if(t.key==="Enter"){t.preventDefault();const r=J();!s.performKeywordResearch&&r&&Q()}},Ce=t=>{u(r=>l(a({},r),{imageSource:t})),i(r=>l(a({},r),{blogImages:"",numberOfImages:""}))},ke=t=>{u(r=>l(a({},r),{postingType:t})),i(r=>l(a({},r),{integration:""}))},ve=t=>{var h;const r=(h=t.target.files)==null?void 0:h[0];if(!r){i(m=>l(a({},m),{topicsCSV:"No file selected. Please choose a valid CSV file."})),t.target.value=null;return}if(!r.name.toLowerCase().endsWith(".csv")){i(m=>l(a({},m),{topicsCSV:"Invalid file type. Please upload a .csv file."})),t.target.value=null;return}const o=20*1024;if(r.size>o){i(m=>l(a({},m),{topicsCSV:"File size exceeds 20KB limit. Please upload a smaller file."})),t.target.value=null;return}const n=new FileReader;n.onload=m=>{var V;const k=(V=m.target)==null?void 0:V.result;if(!k||typeof k!="string"){i(d=>l(a({},d),{topicsCSV:"Failed to read the CSV file. Please ensure it is valid."}));return}let f=k.trim().split(/\r?\n/);if(f.length===0){i(d=>l(a({},d),{topicsCSV:"The CSV file is empty. Please provide a valid CSV with topics."}));return}(f[0].toLowerCase().includes("topics")||f[0].toLowerCase().includes("keyword"))&&(f=f.slice(1));const P=f.map(d=>d.split(",").map(B=>B.trim()).find(B=>B)||null).filter(d=>d&&d.trim().length>0);if(P.length===0){i(d=>l(a({},d),{topicsCSV:"No valid topics found in the CSV file."}));return}const M=s.topics.map(d=>d.toLowerCase().trim()),O=new Set,S=P.filter(d=>{const N=d.toLowerCase().trim();return!d||O.has(N)||M.includes(N)?!1:(O.add(N),!0)});if(S.length===0){i(d=>l(a({},d),{topicsCSV:"No new topics found in the CSV. All provided items are either duplicates or already exist."}));return}u(d=>l(a({},d),{topics:[...d.topics,...S]})),i(d=>l(a({},d),{topics:"",topicsCSV:""})),z(S.length),setTimeout(()=>z(null),5e3)},n.onerror=()=>{i(m=>l(a({},m),{topicsCSV:"An error occurred while reading the CSV file."}))},n.readAsText(r),t.target.value=null},Ne=t=>{var h;const r=(h=t.target.files)==null?void 0:h[0];if(!r){i(m=>l(a({},m),{keywordsCSV:"No file selected. Please choose a valid CSV file."})),t.target.value=null;return}if(!r.name.toLowerCase().endsWith(".csv")){i(m=>l(a({},m),{keywordsCSV:"Invalid file type. Please upload a .csv file."})),t.target.value=null;return}const o=20*1024;if(r.size>o){i(m=>l(a({},m),{keywordsCSV:"File size exceeds 20KB limit. Please upload a smaller file."})),t.target.value=null;return}const n=new FileReader;n.onload=m=>{var V;const k=(V=m.target)==null?void 0:V.result;if(!k||typeof k!="string"){i(d=>l(a({},d),{keywordsCSV:"Failed to read the CSV file. Please ensure it is valid."}));return}let f=k.trim().split(/\r?\n/);if(f.length===0){i(d=>l(a({},d),{keywordsCSV:"The CSV file is empty. Please provide a valid CSV with keywords."}));return}(f[0].toLowerCase().includes("keywords")||f[0].toLowerCase().includes("keyword"))&&(f=f.slice(1));const P=f.map(d=>d.split(",").map(B=>B.trim()).find(B=>B)||null).filter(d=>d&&d.trim().length>0);if(P.length===0){i(d=>l(a({},d),{keywordsCSV:"No valid keywords found in the CSV file."}));return}const M=s.keywords.map(d=>d.toLowerCase().trim()),O=new Set,S=P.filter(d=>{const N=d.toLowerCase().trim();return!d||O.has(N)||M.includes(N)?!1:(O.add(N),!0)});if(S.length===0){i(d=>l(a({},d),{keywordsCSV:"No new keywords found in the CSV. All provided items are either duplicates or already exist."}));return}u(d=>l(a({},d),{keywords:[...d.keywords,...S]})),i(d=>l(a({},d),{keywords:"",keywordsCSV:""})),q(S.length),setTimeout(()=>q(null),5e3)},n.onerror=()=>{i(m=>l(a({},m),{keywordsCSV:"An error occurred while reading the CSV file."}))},n.readAsText(r),t.target.value=null},Ie=["Select Templates","Add Details","Blog Options"];return e.jsxs(e.Fragment,{children:[ue&&e.jsx($e,{}),e.jsx(Ke,{title:`Step ${w+1}: ${Ie[w]}`,open:!0,onCancel:D,footer:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[w===2&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Estimated Cost:"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Y," credits"]}),s.costCutter&&e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(-25% off)"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",s.numberOfBlogs," blog",s.numberOfBlogs>1?"s":"",")"]})]}),e.jsxs("div",{className:`flex gap-3 ${w!==2?"w-full justify-end":""}`,children:[w>0&&e.jsx("button",{onClick:he,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none",children:"Previous"}),e.jsx("button",{onClick:w===2?fe:ge,className:"px-4 py-2 text-sm font-medium text-white bg-[#1B6FC9] rounded-md hover:bg-[#1B6FC9]/90 focus:outline-none",children:w===2?"Generate Blogs":"Next"})]})]}),width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"p-2 md:p-4 max-h-[80vh] overflow-y-auto",children:[w===0&&e.jsxs("div",{className:`p-3 md:p-0 ${c.templates?"border-2 border-red-500 rounded-lg":""}`,children:[e.jsx(Ge,{numberOfSelection:3,userSubscriptionPlan:(se=(te=p==null?void 0:p.subscription)==null?void 0:te.plan)!=null?se:"free",preSelectedIds:s.templateIds,onClick:xe}),e.jsx("p",{className:`text-sm ${c!=null&&c.templates?"text-red-500":"text-gray-600"}  my-3 sm:mb-4 px-4`,children:c!=null&&c.templates?c.templates:"Select up to 3 templates for the types of blogs you want to generate."})]}),w===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Topics ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(E,{title:"Upload a .csv file in the format: `Topics` as header",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(ne,{size:16,className:"text-blue-500"})})})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the main topics for your blogs."}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("input",{type:"text",value:s.topicInput,onChange:be,onKeyDown:H,className:`w-full px-3 py-2 border rounded-md text-sm bg-gray-50 ${c.topics?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-blue-500`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:J,className:"flex-1 sm:flex-none px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:`flex-1 sm:flex-none px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center justify-center gap-1 hover:bg-gray-200 ${c.topicsCSV?"border-red-500":"border-gray-300"}`,children:[e.jsx(ie,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:ve,hidden:!0})]})]}),c.topics&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.topics}),c.topicsCSV&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.topicsCSV}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[(G?s.topics.slice().reverse():s.topics.slice().reverse().slice(0,18)).map((t,r)=>{const o=s.topics.length-1-r;return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[t,e.jsx("button",{type:"button",onClick:()=>we(o),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(oe,{className:"w-3 h-3"})})]},`${t}-${o}`)}),(s.topics.length>18||L)&&e.jsx("span",{onClick:()=>ce(t=>!t),className:"cursor-pointer text-xs font-medium text-blue-600 self-center flex items-center gap-1",children:G?e.jsx(e.Fragment,{children:"Show less"}):e.jsxs(e.Fragment,{children:[s.topics.length>18&&`+${s.topics.length-18} more`,L&&` (+${L} uploaded)`]})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Perform Keyword Research?",e.jsx("p",{className:"text-xs text-gray-500",children:"Allow AI to find relevant keywords for the topics."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"performKeywordResearch",checked:s.performKeywordResearch,onChange:I,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),!s.performKeywordResearch&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(E,{title:"Upload a .csv file in the format: `Keywords` as header",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(ne,{size:16,className:"text-blue-500"})})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s.keywordInput,onChange:ye,onKeyDown:H,className:`flex-1 px-3 py-2 border rounded-md text-sm bg-gray-50 ${c.keywords?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-blue-500`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:Q,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:`px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200 ${c.keywordsCSV?"border-red-500":"border-gray-300"}`,children:[e.jsx(ie,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:Ne,hidden:!0})]})]}),c.keywords&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.keywords}),c.keywordsCSV&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.keywordsCSV}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[(U?s.keywords.slice().reverse():s.keywords.slice().reverse().slice(0,18)).map((t,r)=>{const o=s.keywords.length-1-r;return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[t,e.jsx("button",{type:"button",onClick:()=>je(o),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(oe,{className:"w-3 h-3"})})]},`${t}-${o}`)}),(s.keywords.length>18||$)&&e.jsx("span",{onClick:()=>me(t=>!t),className:"cursor-pointer text-xs font-medium text-blue-600 self-center flex items-center gap-1",children:U?e.jsx(e.Fragment,{children:"Show less"}):e.jsxs(e.Fragment,{children:[s.keywords.length>18&&`+${s.keywords.length-18} more`,$&&` (+${$} uploaded)`]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"tone",className:"block text-sm font-medium text-gray-700 mb-2",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(T,{className:"w-full",value:s.tone,onChange:t=>{u(r=>l(a({},r),{tone:t})),i(r=>l(a({},r),{tone:""}))},placeholder:"Select tone",status:c.tone?"error":"",children:[e.jsx(g,{value:"",children:"Select Tone"}),e.jsx(g,{value:"professional",children:"Professional"}),e.jsx(g,{value:"casual",children:"Casual"}),e.jsx(g,{value:"friendly",children:"Friendly"}),e.jsx(g,{value:"formal",children:"Formal"}),e.jsx(g,{value:"conversational",children:"Conversational"}),e.jsx(g,{value:"witty",children:"Witty"}),e.jsx(g,{value:"informative",children:"Informative"}),e.jsx(g,{value:"inspirational",children:"Inspirational"}),e.jsx(g,{value:"persuasive",children:"Persuasive"}),e.jsx(g,{value:"empathetic",children:"Empathetic"})]}),c.tone&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.tone})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"language",className:"block text-sm font-medium text-gray-700 mb-2",children:["Language ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(T,{className:"w-full",value:s.languageToWrite,onChange:t=>{u(r=>l(a({},r),{languageToWrite:t}))},placeholder:"Select language",children:[e.jsx(g,{value:"English",children:"English"}),e.jsx(g,{value:"Spanish",children:"Spanish"}),e.jsx(g,{value:"German",children:"German"}),e.jsx(g,{value:"French",children:"French"}),e.jsx(g,{value:"Italian",children:"Italian"}),e.jsx(g,{value:"Portuguese",children:"Portuguese"}),e.jsx(g,{value:"Dutch",children:"Dutch"}),e.jsx(g,{value:"Japanese",children:"Japanese"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approx. Blog Length (Words)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:s.userDefinedLength,className:"w-full h-1 rounded-lg appearance-none cursor-pointer bg-gradient-to-r from-[#1B6FC9] to-gray-100 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${(s.userDefinedLength-500)/4500*100}%, #E5E7EB ${(s.userDefinedLength-500)/4500*100}%)`},onChange:t=>{u(r=>l(a({},r),{userDefinedLength:parseInt(t.target.value,10)}))}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[s.userDefinedLength," words"]})]})]})]})]}),w===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Select AI Model ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 ${c.aiModel?"border-2 border-red-500 rounded-lg p-2":""}`,children:[{id:"gemini",label:"Gemini",logo:"/Images/gemini.webp",restricted:!1},{id:"openai",label:"ChatGPT",logo:"/Images/chatgpt.webp",restricted:F==="free"},{id:"claude",label:"Claude",logo:"/Images/claude.webp",restricted:F==="free"||F==="basic"}].map(t=>e.jsxs("label",{htmlFor:t.id,className:`relative border rounded-lg px-4 py-3 flex items-center gap-3 cursor-pointer transition-all duration-150 ${s.aiModel===t.id?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm ${t.restricted?"opacity-50 cursor-not-allowed":""}`,onClick:r=>{t.restricted&&(r.preventDefault(),openUpgradePopup({featureName:t.label,navigate:b}))},children:[e.jsx("input",{type:"radio",id:t.id,name:"aiModel",value:t.id,checked:s.aiModel===t.id,onChange:r=>{t.restricted||(u(o=>l(a({},o),{aiModel:r.target.value})),i(o=>l(a({},o),{aiModel:""})))},className:"hidden",disabled:t.restricted}),e.jsx("img",{src:t.logo,alt:t.label,className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:t.label})]},t.id))}),c.aiModel&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.aiModel})]}),e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-green-900 mb-1",children:"ðŸ’° Cost Cutter"}),e.jsx("p",{className:"text-xs text-green-700",children:"Use AI Flash model for 25% savings"})]}),e.jsxs("label",{htmlFor:"bulk-cost-cutter-toggle",className:"relative inline-block w-12 h-6",children:[e.jsx("input",{type:"checkbox",id:"bulk-cost-cutter-toggle",className:"sr-only peer",checked:s.costCutter||!1,onChange:t=>{u(r=>l(a({},r),{costCutter:t.target.checked}))}}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${s.costCutter?"bg-green-500":"bg-gray-300"}`}),e.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 shadow-md ${s.costCutter?"translate-x-6":""}`})]})]})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Add Image"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{htmlFor:"add-image-toggle",className:`relative inline-block w-12 h-6 ${v?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("input",{type:"checkbox",id:"add-image-toggle",className:"sr-only peer",checked:s.isCheckedGeneratedImages,disabled:v,onChange:t=>{if(v){openUpgradePopup({featureName:"AI-Generated Images",navigate:b});return}const r=t.target.checked;u(o=>l(a({},o),{isCheckedGeneratedImages:r,imageSource:r?o.imageSource:"unsplash"})),i(o=>l(a({},o),{numberOfImages:"",blogImages:""}))}}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${s.isCheckedGeneratedImages&&!v?"bg-[#1B6FC9]":"bg-gray-300"}`}),e.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 ${s.isCheckedGeneratedImages&&!v?"translate-x-6":""}`})]}),v&&e.jsx(E,{title:"You've reached your AI image generation limit. It'll reset in the next billing cycle.",overlayInnerStyle:{backgroundColor:"#FEF9C3",border:"1px solid #FACC15",color:"#78350F"},children:e.jsx(De,{className:"text-yellow-400 ml-4",size:15})})]})]}),s.isCheckedGeneratedImages&&!v&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Image Source"}),e.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 gap-3 ${c.blogImages&&s.imageSource==="customImage"?"border-2 border-red-500 rounded-lg p-2":""}`,children:[{id:"unsplash",label:"Stock Images",value:"unsplash",restricted:!1},{id:"ai",label:"AI Generated",value:"ai",restricted:F==="free"}].map(t=>e.jsxs("label",{htmlFor:t.id,className:`border rounded-lg px-4 py-3 flex items-center justify-center gap-3 cursor-pointer transition-all duration-150 ${s.imageSource===t.value?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm ${t.restricted?"opacity-50 cursor-not-allowed":""}`,onClick:r=>{t.restricted&&(r.preventDefault(),openUpgradePopup({featureName:t.label,navigate:b}))},children:[e.jsx("input",{type:"radio",id:t.id,name:"imageSource",value:t.value,checked:s.imageSource===t.value,onChange:()=>{t.restricted||Ce(t.value)},className:"hidden",disabled:t.restricted}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:t.label})]},t.id))}),e.jsxs("div",{className:"pt-4 w-full",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Number of Images"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the number of images (0 = AI will decide)"}),e.jsx("input",{type:"tel",inputMode:"numeric",name:"numberOfImages",min:"0",max:"15",value:s.numberOfImages,onChange:_,onWheel:t=>t.currentTarget.blur(),className:`w-full px-4 py-2 border rounded-lg text-sm placeholder-gray-400 transition ${c.numberOfImages?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-blue-500`,placeholder:"e.g., 5"}),c.numberOfImages&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.numberOfImages})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[e.jsx(Ue,{label:"Write with Brand Voice",size:"large",labelClass:"text-sm font-medium text-gray-700",value:{isCheckedBrand:s.isCheckedBrand,brandId:s.brandId,addCTA:s.addCTA},onChange:t=>{u(r=>l(a({},r),{isCheckedBrand:t.isCheckedBrand,brandId:t.brandId,addCTA:t.addCTA})),i(r=>l(a({},r),{brandId:""}))},errorText:c.brandId}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Interlinks",e.jsx("p",{className:"text-xs text-gray-500",children:"Attempt to link between generated blogs if relevant."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeInterlinks",checked:s.includeInterlinks,onChange:I,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include FAQ Section",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate relevant FAQ questions and answers for the blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeFaqs",checked:s.includeFaqs,onChange:I,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Automatic Posting",e.jsx("p",{className:"text-xs text-gray-500",children:"Automatically post blogs on the selected dates."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"wordpressPostStatus",checked:s.wordpressPostStatus,onChange:I,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),s.wordpressPostStatus&&(C==null?void 0:C.integrations)&&Object.keys(C.integrations).length>0&&e.jsxs("div",{className:`${c.integration?"border-2 border-red-500 rounded-lg p-2":""}`,children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Select Your Publishing Platform ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Post your blog automatically to connected platforms only."})]}),e.jsxs(T,{className:"w-full mt-2",placeholder:"Select platform",value:s.postingType,onChange:ke,status:c.integration?"error":"",children:[e.jsx(g,{value:null,children:"Select Platform"}),Object.entries(C.integrations).map(([t])=>e.jsx(g,{value:t,children:t},t))]}),c.integration&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.integration})]}),s.wordpressPostStatus&&e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Table of Contents",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate a table of contents for each blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeTableOfContents",checked:s.includeTableOfContents,onChange:I,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Competitive Research",e.jsx("p",{className:"text-xs text-gray-500",children:"Perform competitive research to analyze similar blogs."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"useCompetitors",checked:s.useCompetitors,onChange:I,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),s.useCompetitors&&e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Show Outbound Links",e.jsx("p",{className:"text-xs text-gray-500",children:"Display outbound links found during competitor analysis."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"addOutBoundLinks",checked:s.addOutBoundLinks,onChange:I,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Number of Blogs ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"How many blogs to generate based on the topics provided."}),e.jsx("input",{type:"tel",inputMode:"numeric",name:"numberOfBlogs",min:"1",max:"10",value:s.numberOfBlogs===0?"":s.numberOfBlogs,onChange:_,onWheel:t=>t.currentTarget.blur(),className:`w-full px-3 py-2 border rounded-md text-sm ${c.numberOfBlogs?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-blue-500`,placeholder:"e.g., 5"}),c.numberOfBlogs&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.numberOfBlogs})]})})]})]})})]})};export{bt as default};
