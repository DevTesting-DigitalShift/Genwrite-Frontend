var h=(a,c,n)=>new Promise((x,s)=>{var f=o=>{try{d(n.next(o))}catch(l){s(l)}},g=o=>{try{d(n.throw(o))}catch(l){s(l)}},d=o=>o.done?x(o.value):Promise.resolve(o.value).then(f,g);d((n=n.apply(a,c)).next())});import{j as e}from"./tiptap-BabmW22p.js";import{b as p}from"./vendor-CcjAMWu8.js";import{u as T,b as C}from"./toolsQueries-CZX1d2lA.js";import{P as R}from"./ProgressLoadingScreen-C8VO8dwW.js";import{Y as N}from"./youtube-CboCbLhy.js";import{R as Y}from"./refresh-cw-C9vuQMbq.js";import{L as P}from"./link-Beq0l1Jq.js";import{B as z,s as i}from"./antd-8WQTeuab.js";import{L as I}from"./loader-circle-DcQOKVDQ.js";import{S as V}from"./sparkles-CoI3F60w.js";import{C as E}from"./copy-Bau5eDru.js";import{F as U}from"./file-text-KIhDxHtJ.js";import{c as F}from"./index-CHEUOGl9.js";import"./react-wNxFir7h.js";import"./utils-DIb0lvMo.js";const M=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],$=F("list-checks",M),te=()=>{const[a,c]=p.useState(""),{youtubeSummary:n,resetYoutubeSummary:x}=T(),{result:s,error:f}=n,{mutate:g,isPending:d,isLoading:o}=C(),l=d||o;p.useEffect(()=>()=>{c(""),x()},[]);const b=t=>/^(https?:\/\/)?(www\.|m\.)?(youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)[a-zA-Z0-9_-]{11}/.test(t.trim()),w=()=>h(null,null,function*(){if(!a.trim()){i.error("Please enter a YouTube URL");return}if(!b(a)){i.error("Please enter a valid YouTube URL (e.g., https://www.youtube.com/watch?v=VIDEO_ID)");return}const t={url:a.trim()};g(t,{onSuccess:()=>{i.success("Video summarized successfully!")},onError:r=>{i.error((r==null?void 0:r.message)||"Failed to summarize video. Please try again."),console.error(r)}})}),v=t=>h(null,null,function*(){try{yield navigator.clipboard.writeText(t),i.success("Content copied to clipboard")}catch(r){console.error("Failed to copy content"),i.error("Failed to copy content")}}),k=()=>h(null,null,function*(){if(!s)return;const t=`${s.title}

${s.summary}

Key Points:
${s.keyPoints.map((r,m)=>`${m+1}. ${r}`).join(`
`)}`;yield v(t)}),S=()=>{c(""),x(),i.info("Content reset")},[L,y]=p.useState(0);return p.useEffect(()=>{let t;if(l){y(1);const r=[2,3,4,10,25,30];let m=0;t=setInterval(()=>{y(u=>{if(m<r.length){const j=r[m];return u<j?j:(m++,u)}return u<90?u+1:u})},800)}else y(0);return()=>clearInterval(t)},[l]),l?e.jsx("div",{className:"h-[calc(100vh-200px)] p-4 flex items-center justify-center",children:e.jsx(R,{message:"Summarizing YouTube video...",isYouTube:!0,timer:L})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-red-50/20 to-purple-50/30",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 p-5",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-red-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(N,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"YouTube Summarization"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Summarize long YouTube videos into clear insights, highlights, and key takeaways."})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-3 py-1.5 sm:px-4 sm:py-2 text-sm sm:text-base text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Reset all content",children:[e.jsx(Y,{className:"w-4 h-4"}),"Reset"]})})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(P,{className:"w-5 h-5 text-red-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"YouTube Video URL"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"url",value:a,onChange:t=>c(t.target.value),placeholder:"Enter YouTube URL (e.g., https://www.youtube.com/watch?v=VIDEO_ID)",className:"w-full p-4 border-2 border-gray-200 rounded-xl focus:border-red-500 focus:ring-2 focus:ring-red-500/20 outline-none transition-all duration-300 text-gray-800 placeholder-gray-500"}),e.jsx(z,{onClick:w,disabled:l||!a.trim()||!b(a),className:`flex items-center justify-center gap-2 px-6 py-3 w-full bg-gradient-to-r from-red-600 to-purple-600 text-white font-semibold rounded-xl transition-all duration-300 hover:shadow-lg ${!a.trim()||!b(a)?"opacity-50 cursor-not-allowed":"hover:from-red-700 hover:to-purple-700 hover:scale-105"}`,children:l?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-5 h-5 animate-spin"}),"Summarizing..."]}):e.jsx(e.Fragment,{children:"Summarize Video"})})]})]}),s&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-3",children:[e.jsx(V,{className:"w-5 h-5 text-purple-600"}),"Video Summary"]}),e.jsx("button",{onClick:k,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",title:"Copy summary",children:e.jsx(E,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[s.thumbnail&&e.jsxs("div",{className:"relative rounded-xl overflow-hidden",children:[e.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-auto object-cover",onError:t=>{t.target.style.display="none"}}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:e.jsx("h3",{className:"text-white font-semibold text-lg",children:s.title})})]}),!s.thumbnail&&e.jsx("div",{className:"bg-gradient-to-br from-red-50 to-purple-50 p-6 rounded-xl border border-red-100",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5 text-red-600"}),s.title]})}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(U,{className:"w-5 h-5 text-blue-600"}),"Summary"]}),e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:s.summary})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-xl border border-blue-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx($,{className:"w-5 h-5 text-blue-600"}),"Key Takeaways"]}),e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm font-bold rounded-full",children:[s.keyPoints.length," points"]})]}),e.jsx("ul",{className:"space-y-3",children:s.keyPoints.map((t,r)=>e.jsxs("li",{className:"flex gap-3 text-gray-700",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:r+1}),e.jsx("span",{className:"leading-relaxed",children:t})]},r))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Video ID"}),e.jsx("p",{className:"text-sm text-gray-800 font-mono",children:s.videoId})]}),e.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Video URL"}),e.jsx("p",{className:"text-sm text-gray-800 font-mono truncate",title:a,children:a})]})]})]})]})]})})};export{te as default};
