var v=(a,h,s)=>new Promise((p,u)=>{var g=n=>{try{c(s.next(n))}catch(j){u(j)}},o=n=>{try{c(s.throw(n))}catch(j){u(j)}},c=n=>n.done?p(n.value):Promise.resolve(n.value).then(g,o);c((s=s.apply(a,h)).next())});import{r as m,u as F,z as R,y as V,a1 as Z,a as H,cZ as M,Z as i,d8 as B,j as e,Y as I,T as z,L as W}from"./index-DsZ2pA_a.js";import{o as _}from"./UpgardePopUp-BwbOBDAW.js";import{S as T}from"./sparkles-BXs-LU_W.js";import{R as A}from"./refresh-cw-BGLtf2Tv.js";import{I as D}from"./index-uRe_78Cl.js";import{C as U}from"./coins-Cxr4Qm5t.js";import{C as Y}from"./check-9jCOfJph.js";import{C as q}from"./copy-uMRsbUoO.js";import"./createLucideIcon-Bo73qIN3.js";import"./Input-BT1tmBwb.js";import"./SearchOutlined-ayzGSmbj.js";const{TextArea:L}=D,ie=()=>{const[a,h]=m.useState(""),[s,p]=m.useState(""),[u,g]=m.useState(null),o=F(),c=R(),n=V(),{handlePopup:j}=Z(),d=H(t=>{var r,b;return(b=(r=t.auth.user)==null?void 0:r.subscription)==null?void 0:b.plan}),{data:x,loading:l,error:y}=H(t=>t.wordpress);m.useEffect(()=>()=>{o(M())},[n.pathname,o]);const f=s.trim().length>=10,w=a.trim().split(/\s+/).length>=300,N=f&&w&&!l,E=m.useCallback(()=>v(null,null,function*(){var t;if(!f){i.error("Prompt must be at least 10 characters long.");return}if(!w){i.error("Content must be at least 300 words long.");return}if(["free","basic"].includes((t=d==null?void 0:d.toLowerCase)==null?void 0:t.call(d))){_({featureName:"Content Generation",navigate:c});return}try{yield o(B({prompt:s,content:a})).unwrap(),i.success("Content generated successfully!")}catch(r){console.error("Error generating content:",r),i.error("Failed to generate content.")}}),[a,s,o,d,c,f,w]),G=m.useCallback(()=>{h(""),p(""),o(M()),i.success("Content and prompt reset!")},[o]),P=(t,r,b)=>v(null,null,function*(){try{yield navigator.clipboard.writeText(t),g(b),i.success(`${r} copied to clipboard!`),setTimeout(()=>{g(null)},2e3)}catch(J){i.error(`Failed to copy ${r}.`)}}),S=t=>{const r=document.createElement("div");return r.innerHTML=t,r.textContent||r.innerText||""},$=t=>e.jsx("div",{className:"prose max-w-none p-4 bg-gray-50 rounded-lg border",dangerouslySetInnerHTML:{__html:t},style:{lineHeight:"1.6",color:"#374151"}}),C=a.trim().split(/\s+/).filter(t=>t.length>0).length,k=s.trim().length;return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 p-5",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl text-white flex items-center justify-center",children:e.jsx(T,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Content from Prompts"}),e.jsx("p",{className:"text-gray-600",children:"Transform your ideas into ready-to-publish content in seconds."})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Reset all content",children:[e.jsx(A,{className:"w-4 h-4"}),"Reset"]})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-text w-5 h-5 text-blue-600",children:[e.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),e.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),e.jsx("path",{d:"M10 9H8"}),e.jsx("path",{d:"M16 13H8"}),e.jsx("path",{d:"M16 17H8"})]}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Prompt"})]}),e.jsxs("span",{className:`text-sm ${k>=10?"text-green-600":"text-red-500"}`,children:[k,"/10 min"]})]}),e.jsx(L,{value:s,onChange:t=>p(t.target.value),placeholder:"Enter your prompt here (e.g., 'Humanize this content to make it more engaging')...",rows:4,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 custom-scroll ${s.trim()&&!f?"border-red-300":"border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-text w-5 h-5 text-blue-600",children:[e.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),e.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),e.jsx("path",{d:"M10 9H8"}),e.jsx("path",{d:"M16 13H8"}),e.jsx("path",{d:"M16 17H8"})]}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Content"})]}),e.jsxs("span",{className:`text-sm ${C>=300?"text-green-600":"text-red-500"}`,children:[C,"/300 words min"]})]}),e.jsx(L,{value:a,onChange:t=>h(t.target.value),placeholder:"Enter your content here (minimum 300 words)...",rows:12,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 custom-scroll ${a.trim()&&!w?"border-red-300":"border-gray-300"}`})]}),e.jsxs(I,{onClick:()=>E(),loading:l,disabled:!N,className:`w-full py-3 text-sm font-medium text-white rounded-lg transition-all duration-200 bg-gradient-to-r from-blue-600 to-purple-600 hover:shadow-lg flex items-center justify-center gap-2 ${N?"":"opacity-50 cursor-not-allowed"}`,children:[l?"Generating...":"Generate Content",!l&&e.jsx(z,{title:"This action will deduct 2 credits",children:e.jsxs("div",{className:"flex items-center gap-1 ml-3",children:[e.jsx("span",{className:"text-yellow-300 font-semibold",children:"5"}),e.jsx(U,{className:"w-4 h-4 text-yellow-400"})]})})]})]})}),l&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsx(W,{})}),(x==null?void 0:x.data)&&!l&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-600 rounded-lg text-white flex items-center justify-center",children:e.jsx(T,{className:"w-4 h-4"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Generated Content"})]}),e.jsx("button",{onClick:()=>P(S(x.data),"Generated content","generated"),className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Copy generated content",children:u==="generated"?e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"w-4 h-4"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"w-4 h-4"}),"Copy"]})})]}),$(x.data)]}),y&&!l&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:e.jsxs("p",{className:"text-red-700",children:["Error: ",y]})})]})};export{ie as default};
