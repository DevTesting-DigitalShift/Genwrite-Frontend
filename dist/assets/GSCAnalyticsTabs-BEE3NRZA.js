import{j as t}from"./tiptap-Cw5itmsP.js";import{_ as y,p as g,F as f,E as b,c as m,D as h,B as j}from"./antd-CNZYc_MN.js";import{R as d}from"./LinkOutlined-xoV8iUY6.js";import{r as u}from"./vendor-D8zynvq1.js";import{I as N}from"./index-6Wzook5W.js";import"./utils-Djmlt6HM.js";function i(){return i=Object.assign?Object.assign.bind():function(o){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(o[l]=n[l])}return o},i.apply(this,arguments)}const k=(o,a)=>u.createElement(N,i({},o,{ref:a,icon:y})),w=u.forwardRef(k);function q({items:o,filteredData:a,activeTab:n,handleTabChange:l,isLoading:p}){const x=s=>[...s!=="page"?[{title:s==="query"?"Query":"Country",dataIndex:s==="query"?"query":"countryName",key:s,render:(e,r)=>t.jsx(m,{title:e,className:"text-gray-700 px-8 line-clamp-1 tracking-normal",children:e+(s==="country"?` (${r.country})`:"")}),sorter:(e,r)=>e[s==="query"?"query":"countryName"].localeCompare(r[s==="query"?"query":"countryName"]),width:"30%"}]:[],...["page"].includes(s)?[{title:"Blog Title",dataIndex:"blogTitle",key:"blogTitle",sorter:(e,r)=>e.blogTitle.localeCompare(r.blogTitle),width:"40%",render:e=>t.jsx(m,{title:e,className:"font-medium text-gray-700",children:e})}]:[],{title:"Clicks",dataIndex:"clicks",key:"clicks",sorter:(e,r)=>e.clicks-r.clicks,render:e=>t.jsx("span",{className:"text-blue-600 font-semibold",children:new Intl.NumberFormat().format(e)})},{title:"Impressions",dataIndex:"impressions",key:"impressions",sorter:(e,r)=>e.impressions-r.impressions,render:e=>t.jsx("span",{className:"text-blue-600 font-semibold",children:new Intl.NumberFormat().format(e)})},{title:"CTR (%)",dataIndex:"ctr",key:"ctr",sorter:(e,r)=>e.ctr-r.ctr,render:e=>t.jsx("span",{className:"text-gray-700",children:`${Number(e).toFixed(2)}%`})},{title:"Position",dataIndex:"position",key:"position",sorter:(e,r)=>e.position-r.position,render:e=>t.jsx("span",{className:"text-gray-700",children:Number(e).toFixed(2)})},...s!=="country"?[{title:"Actions",key:"actions",render:(e,r)=>t.jsx(h,{menu:{items:[{key:"go",label:t.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center",children:[t.jsx(d,{className:"size-4 mr-2"}),"Go to Blog"]})},{key:"edit",label:t.jsxs("a",{href:`http://localhost:5174/blog/${r.blogId}`,target:"_blank",className:"flex items-center",children:[t.jsx(w,{className:"size-4 mr-2"}),"Edit Blog"]})}]},trigger:["click"],children:t.jsx(j,{type:"text",icon:t.jsx(d,{className:"size-4 text-gray-600 hover:text-blue-600"})})})}]:[]];return t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:t.jsx(g,{items:o.map(s=>({key:s.key,label:t.jsx("span",{className:"text-base font-medium",children:s.label}),children:t.jsx("div",{className:"overflow-x-auto",children:t.jsx(f,{columns:x(s.key),dataSource:a,rowKey:"id",loading:p,pagination:{showSizeChanger:!0,showTotal:c=>`Total ${c} items`,position:["topRight"],rootClassName:`absolute z-10 right-4 ${n==="country"?"-top-[14.5%]":"-top-[12.5%]"} bg-white rounded-xl`},locale:{emptyText:t.jsx(b,{})},className:"custom-table min-w-[600px] sm:min-w-full relative",scroll:{x:"max-content"}})})})),defaultActiveKey:o[0].key,activeKey:n,onChange:l,className:"custom-tabs",tabBarStyle:{background:"#f8fafc",padding:"12px 16px",borderBottom:"1px solid #e5e7eb",margin:0}})})}export{q as default};
