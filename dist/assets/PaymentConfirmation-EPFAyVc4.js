import{f as ie,a as se,j,o as le}from"./index-3n3a5v3b.js";import{C as ae}from"./EditOutlined-BVHcmjFM.js";import{T as ce}from"./index-B7WLlbXm.js";import{R as F,b as a}from"./chunk-tiptap-M85eTu9n.js";import{F as de,H as ue,d as $,i as pe,m as me,y as fe,x as h,I as be,u as ge}from"./Compact-BclnaKUw.js";import{u as ve}from"./compact-item-CAvzVZSY.js";import{t as ye}from"./index-DP5L2glR.js";import{B as A}from"./button-Dvf5w7Sw.js";import"./Skeleton-Bky3gtx6.js";import"./useLocale-B3yeyFGT.js";import"./index-BCM45N7W.js";const he=(e,t)=>{typeof(e==null?void 0:e.addEventListener)<"u"?e.addEventListener("change",t):typeof(e==null?void 0:e.addListener)<"u"&&e.addListener(t)},xe=(e,t)=>{typeof(e==null?void 0:e.removeEventListener)<"u"?e.removeEventListener("change",t):typeof(e==null?void 0:e.removeListener)<"u"&&e.removeListener(t)},D=["xxl","xl","lg","md","sm","xs"],je=e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}),$e=e=>{const t=e,n=[].concat(D).reverse();return n.forEach((r,o)=>{const s=r.toUpperCase(),i=`screen${s}Min`,l=`screen${s}`;if(!(t[i]<=t[l]))throw new Error(`${i}<=${l} fails : !(${t[i]}<=${t[l]})`);if(o<n.length-1){const c=`screen${s}Max`;if(!(t[l]<=t[c]))throw new Error(`${l}<=${c} fails : !(${t[l]}<=${t[c]})`);const v=`screen${n[o+1].toUpperCase()}Min`;if(!(t[c]<=t[v]))throw new Error(`${c}<=${v} fails : !(${t[c]}<=${t[v]})`)}}),e},J=(e,t)=>{if(t){for(const n of D)if(e[n]&&(t==null?void 0:t[n])!==void 0)return t[n]}},Oe=()=>{const[,e]=de(),t=je($e(e));return F.useMemo(()=>{const n=new Map;let r=-1,o={};return{responsiveMap:t,matchHandlers:{},dispatch(s){return o=s,n.forEach(i=>i(o)),n.size>=1},subscribe(s){return n.size||this.register(),r+=1,n.set(r,s),s(o),r},unsubscribe(s){n.delete(s),n.size||this.unregister()},register(){Object.entries(t).forEach(s=>{let[i,l]=s;const c=v=>{let{matches:S}=v;this.dispatch(Object.assign(Object.assign({},o),{[i]:S}))},f=window.matchMedia(l);he(f,c),this.matchHandlers[l]={mql:f,listener:c},c(f)})},unregister(){Object.values(t).forEach(s=>{const i=this.matchHandlers[s];xe(i==null?void 0:i.mql,i==null?void 0:i.listener)}),n.clear()}}},[e])};function Se(){const[,e]=a.useReducer(t=>t+1,0);return e}function we(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=a.useRef(t),r=Se(),o=Oe();return ue(()=>{const s=o.subscribe(i=>{n.current=i,e&&r()});return()=>o.unsubscribe(s)},[]),n.current}const Ee={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},W=F.createContext({});var Ce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Le=e=>ye(e).map(t=>Object.assign(Object.assign({},t==null?void 0:t.props),{key:t.key}));function Pe(e,t,n){const r=a.useMemo(()=>t||Le(n),[t,n]);return a.useMemo(()=>r.map(s=>{var{span:i}=s,l=Ce(s,["span"]);return i==="filled"?Object.assign(Object.assign({},l),{filled:!0}):Object.assign(Object.assign({},l),{span:typeof i=="number"?i:J(e,i)})}),[r,e])}var Ie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function Ne(e,t){let n=[],r=[],o=!1,s=0;return e.filter(i=>i).forEach(i=>{const{filled:l}=i,c=Ie(i,["filled"]);if(l){r.push(c),n.push(r),r=[],s=0;return}const f=t-s;s+=i.span||1,s>=t?(s>t?(o=!0,r.push(Object.assign(Object.assign({},c),{span:f}))):r.push(c),n.push(r),r=[],s=0):r.push(c)}),r.length>0&&n.push(r),n=n.map(i=>{const l=i.reduce((c,f)=>c+(f.span||1),0);if(l<t){const c=i[i.length-1];return c.span=t-(l-(c.span||1)),i}return i}),[n,o]}const Me=(e,t)=>{const[n,r]=a.useMemo(()=>Ne(t,e),[t,e]);return n},Re=e=>{let{children:t}=e;return t};function H(e){return e!=null}const z=e=>{const{itemPrefixCls:t,component:n,span:r,className:o,style:s,labelStyle:i,contentStyle:l,bordered:c,label:f,content:v,colon:S,type:m,styles:b}=e,O=n,d=a.useContext(W),{classNames:g}=d;return c?a.createElement(O,{className:$({[`${t}-item-label`]:m==="label",[`${t}-item-content`]:m==="content",[`${g==null?void 0:g.label}`]:m==="label",[`${g==null?void 0:g.content}`]:m==="content"},o),style:s,colSpan:r},H(f)&&a.createElement("span",{style:Object.assign(Object.assign({},i),b==null?void 0:b.label)},f),H(v)&&a.createElement("span",{style:Object.assign(Object.assign({},i),b==null?void 0:b.content)},v)):a.createElement(O,{className:$(`${t}-item`,o),style:s,colSpan:r},a.createElement("div",{className:`${t}-item-container`},(f||f===0)&&a.createElement("span",{className:$(`${t}-item-label`,g==null?void 0:g.label,{[`${t}-item-no-colon`]:!S}),style:Object.assign(Object.assign({},i),b==null?void 0:b.label)},f),(v||v===0)&&a.createElement("span",{className:$(`${t}-item-content`,g==null?void 0:g.content),style:Object.assign(Object.assign({},l),b==null?void 0:b.content)},v)))};function G(e,t,n){let{colon:r,prefixCls:o,bordered:s}=t,{component:i,type:l,showLabel:c,showContent:f,labelStyle:v,contentStyle:S,styles:m}=n;return e.map((b,O)=>{let{label:d,children:g,prefixCls:u=o,className:E,style:C,labelStyle:N,contentStyle:M,span:R=1,key:y,styles:p}=b;return typeof i=="string"?a.createElement(z,{key:`${l}-${y||O}`,className:E,style:C,styles:{label:Object.assign(Object.assign(Object.assign(Object.assign({},v),m==null?void 0:m.label),N),p==null?void 0:p.label),content:Object.assign(Object.assign(Object.assign(Object.assign({},S),m==null?void 0:m.content),M),p==null?void 0:p.content)},span:R,colon:r,component:i,itemPrefixCls:u,bordered:s,label:c?d:null,content:f?g:null,type:l}):[a.createElement(z,{key:`label-${y||O}`,className:E,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},v),m==null?void 0:m.label),C),N),p==null?void 0:p.label),span:1,colon:r,component:i[0],itemPrefixCls:u,bordered:s,label:d,type:"label"}),a.createElement(z,{key:`content-${y||O}`,className:E,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},S),m==null?void 0:m.content),C),M),p==null?void 0:p.content),span:R*2-1,component:i[1],itemPrefixCls:u,bordered:s,content:g,type:"content"})]})}const Te=e=>{const t=a.useContext(W),{prefixCls:n,vertical:r,row:o,index:s,bordered:i}=e;return r?a.createElement(a.Fragment,null,a.createElement("tr",{key:`label-${s}`,className:`${n}-row`},G(o,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),a.createElement("tr",{key:`content-${s}`,className:`${n}-row`},G(o,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):a.createElement("tr",{key:s,className:`${n}-row`},G(o,e,Object.assign({component:i?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},Be=e=>{const{componentCls:t,labelBg:n}=e;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{border:`${h(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto"},[`${t}-row`]:{borderBottom:`${h(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:first-child":{"> th:first-child, > td:first-child":{borderStartStartRadius:e.borderRadiusLG}},"&:last-child":{borderBottom:"none","> th:first-child, > td:first-child":{borderEndStartRadius:e.borderRadiusLG}},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${h(e.padding)} ${h(e.paddingLG)}`,borderInlineEnd:`${h(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:n,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${h(e.paddingSM)} ${h(e.paddingLG)}`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${h(e.paddingXS)} ${h(e.padding)}`}}}}}},_e=e=>{const{componentCls:t,extraColor:n,itemPaddingBottom:r,itemPaddingEnd:o,colonMarginRight:s,colonMarginLeft:i,titleMarginBottom:l}=e;return{[t]:Object.assign(Object.assign(Object.assign({},fe(e)),Be(e)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:l},[`${t}-title`]:Object.assign(Object.assign({},be),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:n,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${t}-row`]:{"> th, > td":{paddingBottom:r,paddingInlineEnd:o},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${t}-item-label`]:{color:e.labelColor,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${h(i)} ${h(s)}`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},Ue=e=>({labelBg:e.colorFillAlter,labelColor:e.colorTextTertiary,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText}),ze=pe("Descriptions",e=>{const t=me(e,{});return _e(t)},Ue);var Ge=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const w=e=>{const{prefixCls:t,title:n,extra:r,column:o,colon:s=!0,bordered:i,layout:l,children:c,className:f,rootClassName:v,style:S,size:m,labelStyle:b,contentStyle:O,styles:d,items:g,classNames:u}=e,E=Ge(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","styles","items","classNames"]),{getPrefixCls:C,direction:N,className:M,style:R,classNames:y,styles:p}=ge("descriptions"),x=C("descriptions",t),_=we(),q=a.useMemo(()=>{var L;return typeof o=="number"?o:(L=J(_,Object.assign(Object.assign({},Ee),o)))!==null&&L!==void 0?L:3},[_,o]),k=Pe(_,g,c),U=ve(m),ee=Me(q,k),[te,ne,re]=ze(x),oe=a.useMemo(()=>({labelStyle:b,contentStyle:O,styles:{content:Object.assign(Object.assign({},p.content),d==null?void 0:d.content),label:Object.assign(Object.assign({},p.label),d==null?void 0:d.label)},classNames:{label:$(y.label,u==null?void 0:u.label),content:$(y.content,u==null?void 0:u.content)}}),[b,O,d,u,y,p]);return te(a.createElement(W.Provider,{value:oe},a.createElement("div",Object.assign({className:$(x,M,y.root,u==null?void 0:u.root,{[`${x}-${U}`]:U&&U!=="default",[`${x}-bordered`]:!!i,[`${x}-rtl`]:N==="rtl"},f,v,ne,re),style:Object.assign(Object.assign(Object.assign(Object.assign({},R),p.root),d==null?void 0:d.root),S)},E),(n||r)&&a.createElement("div",{className:$(`${x}-header`,y.header,u==null?void 0:u.header),style:Object.assign(Object.assign({},p.header),d==null?void 0:d.header)},n&&a.createElement("div",{className:$(`${x}-title`,y.title,u==null?void 0:u.title),style:Object.assign(Object.assign({},p.title),d==null?void 0:d.title)},n),r&&a.createElement("div",{className:$(`${x}-extra`,y.extra,u==null?void 0:u.extra),style:Object.assign(Object.assign({},p.extra),d==null?void 0:d.extra)},r)),a.createElement("div",{className:`${x}-view`},a.createElement("table",null,a.createElement("tbody",null,ee.map((L,X)=>a.createElement(Te,{key:X,index:X,colon:s,prefixCls:x,vertical:l==="vertical",bordered:i,row:L}))))))))};w.Item=Re;var K="basil",We=function(t){return t===3?"v3":t},Q="https://js.stripe.com",Xe="".concat(Q,"/").concat(K,"/stripe.js"),Ae=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,He=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Ve=function(t){return Ae.test(t)||He.test(t)},Fe=function(){for(var t=document.querySelectorAll('script[src^="'.concat(Q,'"]')),n=0;n<t.length;n++){var r=t[n];if(Ve(r.src))return r}return null},V=function(t){var n="",r=document.createElement("script");r.src="".concat(Xe).concat(n);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(r),r},De=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:n})},P=null,T=null,B=null,Je=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},Ke=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},Qe=function(t){return P!==null?P:(P=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var o=Fe();if(!(o&&t)){if(!o)o=V(t);else if(o&&B!==null&&T!==null){var s;o.removeEventListener("load",B),o.removeEventListener("error",T),(s=o.parentNode)===null||s===void 0||s.removeChild(o),o=V(t)}}B=Ke(n,r),T=Je(r),o.addEventListener("load",B),o.addEventListener("error",T)}catch(i){r(i);return}}),P.catch(function(n){return P=null,Promise.reject(n)}))},Ye=function(t,n,r){if(t===null)return null;var o=n[0],s=o.match(/^pk_test/),i=We(t.version),l=K;s&&i!==l&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,n);return De(c,r),c},I,Y=!1,Z=function(){return I||(I=Qe(null).catch(function(t){return I=null,Promise.reject(t)}),I)};Promise.resolve().then(function(){return Z()}).catch(function(e){Y||console.warn(e)});var Ze=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Y=!0;var o=Date.now();return Z().then(function(s){return Ye(s,n,o)})};const{Title:qe}=ce;function dt(){const e=ie(),t=se(),{plan:n,customCredits:r}=t.state||{},o=async()=>{const s=await Ze("pk_test_51RRByjPwKVl4RglV8Y5NfbjePOnbdIyEHMRdrWpmv0XxMAqc3X6bFcfEXKKGIOF9M3SlvCBNjVTt2R2rTOgWwjyx00yjpRvpMz");try{const i=await le.post("/stripe/checkout",{planName:n.name.toLowerCase().includes("pro")?"pro":n.name.toLowerCase().includes("enterprise")?"enterprise":"credits",credits:n.type==="credit_purchase"?r:n.credits,success_url:`${window.location.origin}/payment/success`,cancel_url:`${window.location.origin}/payment/cancel`});if(console.log(i.data),i!=null&&i.data.sessionId){const l=await s.redirectToCheckout({sessionId:i.data.sessionId});if(l!=null&&l.error)throw error}else throw new Error("Something went wrong")}catch(i){console.error("Error creating checkout session:",i),alert("Failed to initiate checkout. Please try again.")}};if(!(n!=null&&n.name))throw new Error("Invalid Payment Request");return j.jsxs(ae,{style:{maxWidth:600,margin:"40px auto"},children:[j.jsx(qe,{level:3,children:"Confirm Your Payment"}),j.jsxs(w,{bordered:!0,column:1,children:[j.jsx(w.Item,{label:"Plan Name",children:n.name}),j.jsx(w.Item,{label:"Type",children:n.type}),j.jsx(w.Item,{label:"Price",children:`$${(r?r*.05:n.price).toFixed(2)}`}),r>0&&j.jsx(w.Item,{label:"Credits",children:r})]}),j.jsxs("div",{style:{marginTop:24,textAlign:"center"},children:[j.jsx(A,{type:"primary",onClick:o,children:"Proceed to Pay"}),j.jsx(A,{style:{marginLeft:12},onClick:()=>e(-1),children:"Go Back"})]})]})}export{dt as default};
