var G=Object.defineProperty,Q=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var D=(a,s,r)=>s in a?G(a,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[s]=r,y=(a,s)=>{for(var r in s||(s={}))_.call(s,r)&&D(a,r,s[r]);if(B)for(var r of B(s))L.call(s,r)&&D(a,r,s[r]);return a},w=(a,s)=>Q(a,X(s));var z=(a,s)=>{var r={};for(var i in a)_.call(a,i)&&s.indexOf(i)<0&&(r[i]=a[i]);if(a!=null&&B)for(var i of B(a))s.indexOf(i)<0&&L.call(a,i)&&(r[i]=a[i]);return r};import{r as d,af as $,a as Y,x as ee,j as e,m as g,B as se,cH as ae}from"./index-A0gS9sSv.js";import{C as M,D as te,B as re,e as ie,f as le,r as ne}from"./chart-BkHIec8n.js";import{u as oe}from"./useQuery-DrmplnOn.js";import{d as C}from"./dayjs.min-CqznpAh8.js";import{c as x}from"./createLucideIcon-gz8Q3q5y.js";import{I as ce}from"./image-rKiCiKrH.js";import{S as P}from"./index-1t7I2reS.js";import{T as de}from"./trending-up-BVRHHgsN.js";import{F as ge}from"./file-text-C0j0us5j.js";import{P as me}from"./progress-D_mBA-Ph.js";import"./Overflow-BiX_pMl7.js";import"./index-CZVAStIq.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],he=x("archive",ue);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],be=x("badge-percent",pe);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],xe=x("circle-stop",ye);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],je=x("cloud-upload",fe);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Ne=x("ellipsis",ve);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],ke=x("file-plus",we);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Ce=x("gauge",Be),F="label";function E(a,s){typeof a=="function"?a(s):a&&(a.current=s)}function Oe(a,s){const r=a.options;r&&s&&Object.assign(r,s)}function T(a,s){a.labels=s}function q(a,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F;const i=[];a.datasets=s.map(o=>{const c=a.datasets.find(u=>u[r]===o[r]);return!c||!o.data||i.includes(c)?y({},o):(i.push(c),Object.assign(c,o),c)})}function Se(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F;const r={labels:[],datasets:[]};return T(r,a.labels),q(r,a.datasets,s),r}function Re(a,s){const v=a,{height:r=150,width:i=300,redraw:o=!1,datasetIdKey:c,type:u,data:l,options:h,plugins:S=[],fallbackContent:R,updateMode:k}=v,f=z(v,["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"]),m=d.useRef(null),n=d.useRef(null),p=()=>{m.current&&(n.current=new M(m.current,{type:u,data:Se(l,c),options:h&&y({},h),plugins:S}),E(s,n.current))},b=()=>{E(s,null),n.current&&(n.current.destroy(),n.current=null)};return d.useEffect(()=>{!o&&n.current&&h&&Oe(n.current,h)},[o,h]),d.useEffect(()=>{!o&&n.current&&T(n.current.config.data,l.labels)},[o,l.labels]),d.useEffect(()=>{!o&&n.current&&l.datasets&&q(n.current.config.data,l.datasets,c)},[o,l.datasets]),d.useEffect(()=>{n.current&&(o?(b(),setTimeout(p)):n.current.update(k))},[o,h,l.labels,l.datasets,k]),d.useEffect(()=>{n.current&&(b(),setTimeout(p))},[u]),d.useEffect(()=>(p(),()=>b()),[]),$.createElement("canvas",y({ref:m,role:"img",height:r,width:i},f),R)}const Ie=d.forwardRef(Re);function O(a,s){return M.register(s),d.forwardRef((r,i)=>$.createElement(Ie,w(y({},r),{ref:i,type:a})))}const Me=O("line",ie),De=O("bar",re),_e=O("doughnut",te),Le=O("pie",le);M.register(...ne);const{Option:I}=P,A=({title:a,value:s,icon:r,iconBg:i,cardBg:o,ringColor:c,progress:u,limit:l})=>e.jsx(g.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`
      group relative ${o} p-4 rounded-xl border border-gray-200
      shadow-sm hover:shadow-md transition-all duration-300
      hover:ring-1 hover:ring-offset-2 ${c}
      text-gray-900 border-gray-200
    `,children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-semibold",children:a}),e.jsx("div",{className:`p-2 rounded-md ${i} shadow-md`,children:r})]}),e.jsxs("p",{className:"text-3xl font-bold",children:[s,l?` / ${l}`:""]}),u!==void 0&&l!==void 0&&e.jsxs("div",{className:"mt-2",children:[e.jsx(me,{percent:Math.min(s/l*100,100),size:"small",status:s>=l?"exception":s/l>.8?"warning":"normal",showInfo:!1,strokeColor:s>=l?"#ef4444":s/l>.8?"#f59e0b":"#10b981"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Math.round(s/l*100),"% of limit used"]})]})]})}),ze=({title:a,children:s,className:r=""})=>e.jsxs("div",{className:`rounded-2xl p-6 shadow-sm border transition-all duration-300
      bg-white border-gray-100 text-gray-900
      hover:shadow-lg ${r}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:a}),e.jsx("button",{className:"p-2 rounded-lg transition-colors hover:bg-gray-50","aria-label":"More options",children:e.jsx(Ne,{className:"w-5 h-5 text-gray-400"})})]}),e.jsx("div",{className:"h-80",children:s})]}),Ge=()=>{const a=Y(ee),[s,r]=d.useState("7days"),{data:i,isLoading:o,error:c,refetch:u}=oe({queryKey:["blogStatus",s],queryFn:()=>{let t={};const j=C().endOf("day").toISOString();switch(s){case"7days":t={start:C().subtract(6,"days").startOf("day").toISOString(),end:j};break;case"30days":t={start:C().subtract(29,"days").startOf("day").toISOString(),end:j};break;case"90days":t={start:C().subtract(89,"days").startOf("day").toISOString(),end:j};break;default:t={}}return ae(t)}}),l=(i==null?void 0:i.stats)||{},{totalBlogs:h=0,postedBlogs:S=0,archivedBlogs:R=0,brandedBlogs:k=0,blogsByModel:f={},blogsByStatus:m={},imageSources:n={},templatesUsed:p={}}=l,b=(a==null?void 0:a.usage)||{createdJobs:0,aiImages:0},v=(a==null?void 0:a.usageLimits)||{createdJobs:10,aiImages:50},N={maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{font:{size:12},padding:20,color:"#6b7280"}},tooltip:{backgroundColor:"white",titleColor:"#1f2937",bodyColor:"#1f2937",borderColor:"#e5e7eb",borderWidth:1,cornerRadius:12}},scales:{x:{ticks:{font:{size:12},color:"#6b7280"}},y:{ticks:{font:{size:12},color:"#6b7280"},beginAtZero:!0}}},U=w(y({},N),{scales:{x:{ticks:{font:{size:12},color:"#6b7280",maxRotation:45,minRotation:45}},y:{ticks:{font:{size:12},color:"#6b7280",stepSize:1},beginAtZero:!0}}}),J=w(y({},N),{plugins:w(y({},N.plugins),{legend:{display:!1}}),scales:{x:{ticks:{font:{size:12},color:"#6b7280",maxRotation:45,minRotation:45}},y:{ticks:{font:{size:12},color:"#6b7280",stepSize:1},beginAtZero:!0}}}),K=[{title:"Blogs by Model",type:"Pie",data:{labels:Object.keys(f).length?Object.keys(f):["No Data"],datasets:[{data:Object.keys(f).length?Object.values(f):[1],backgroundColor:["#3B82F6","#10B981","#F59E0B","#6B7280"],hoverOffset:20,borderColor:"#ffffff"}]}},{title:"Image Sources",type:"Doughnut",data:{labels:Object.keys(n).length?Object.keys(n):["No Data"],datasets:[{data:Object.keys(n).length?Object.values(n):[1],backgroundColor:["#10B981","#F59E0B","#EF4444"],hoverOffset:20,borderColor:"#ffffff"}]}},{title:"Blogs by Status",type:"Bar",data:{labels:Object.keys(m).length?Object.keys(m):["No Data"],datasets:[{label:"Blogs by Status",data:Object.keys(m).length?Object.values(m):[0],backgroundColor:Object.keys(m).length?Object.keys(m).map(t=>{switch(t.toLowerCase()){case"pending":return"#facc15";case"complete":return"#22c55e";case"failed":return"#ef4444";case"in-progress":return"#a78bfa";default:return"#6b7280"}}):["#9ca3af"],borderColor:"#e5e7eb",borderWidth:1}]}},{title:"Templates Used",type:"Line",data:{labels:Object.keys(p).length?Object.keys(p):["No Data"],datasets:[{label:"Templates Used",data:Object.keys(p).length?Object.values(p):[0],borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4,fill:!0}]}}],Z=[{title:"Total Blogs",value:h,icon:e.jsx(ge,{className:"w-5 h-5 text-white"}),iconBg:"bg-blue-500",cardBg:"bg-blue-50",ringColor:"ring-blue-200"},{title:"Posted Blogs",value:S,icon:e.jsx(je,{className:"w-5 h-5 text-white"}),iconBg:"bg-green-500",cardBg:"bg-green-50",ringColor:"ring-green-200"},{title:"Archived Blogs",value:R,icon:e.jsx(he,{className:"w-5 h-5 text-white"}),iconBg:"bg-yellow-500",cardBg:"bg-yellow-50",ringColor:"ring-yellow-200"},{title:"Branded Blogs",value:k,icon:e.jsx(be,{className:"w-5 h-5 text-white"}),iconBg:"bg-pink-500",cardBg:"bg-pink-50",ringColor:"ring-pink-200"}],H=[{title:"Created Jobs",value:b.createdJobs,limit:v.createdJobs,progress:b.createdJobs,icon:e.jsx(ke,{className:"w-5 h-5 text-white"}),iconBg:"bg-purple-500",cardBg:"bg-purple-50",ringColor:"ring-purple-200"},{title:"AI Images",value:b.aiImages,limit:v.aiImages,progress:b.aiImages,icon:e.jsx(ce,{className:"w-5 h-5 text-white"}),iconBg:"bg-teal-500",cardBg:"bg-teal-50",ringColor:"ring-teal-200"}],V=t=>{r(t)},W=()=>{u()};return e.jsx("div",{className:"min-h-screen transition-colors duration-300 bg-gray-50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Blog Analytics"}),e.jsx("p",{className:"text-sm mt-1 text-gray-600",children:"Track your blog performance and engagement metrics"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(P,{value:s,onChange:V,className:"w-40","aria-label":"Select time range",children:[e.jsx(I,{value:"7days",children:"Last 7 Days"}),e.jsx(I,{value:"30days",children:"Last 30 Days"}),e.jsx(I,{value:"90days",children:"Last 90 Days"})]})})]}),o||!a?e.jsx(Ee,{}):c?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("p",{className:"text-lg text-red-500",children:["Error: ",c.message||"Failed to load analytics data"]}),e.jsx(se,{onClick:W,className:"mt-4 bg-blue-600 text-white","aria-label":"Retry loading data",children:"Retry"})]}):e.jsxs(e.Fragment,{children:[e.jsx(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-600 flex items-center justify-center",children:e.jsx(de,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Blog Statistics"})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:Z.map((t,j)=>e.jsx(A,{title:t.title,value:t.value,icon:t.icon,iconBg:t.iconBg,cardBg:t.cardBg,ringColor:t.ringColor,progress:t.progress,limit:t.limit},t.title))}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center",children:e.jsx(Ce,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Usage & Limit"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6 mb-8",children:H.map((t,j)=>e.jsx(A,{title:t.title,value:t.value,icon:t.icon,iconBg:t.iconBg,cardBg:t.cardBg,ringColor:t.ringColor,progress:t.progress,limit:t.limit},t.title))}),e.jsx(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-600 flex items-center justify-center",children:e.jsx(xe,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analytics Charts"})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:K.map((t,j)=>e.jsxs(ze,{title:t.title,children:[t.type==="Pie"&&e.jsx(Le,{data:t.data,options:N}),t.type==="Doughnut"&&e.jsx(_e,{data:t.data,options:N}),t.type==="Bar"&&e.jsx(De,{data:t.data,options:U}),t.type==="Line"&&e.jsx(Me,{data:t.data,options:J})]},t.title))})]})]})})},Ee=()=>e.jsxs("div",{className:"p-6",children:[e.jsxs(g.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("div",{className:"h-8 w-64 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-4 w-48 bg-gray-200 rounded mt-2 animate-pulse"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("div",{className:"h-10 w-40 bg-gray-200 rounded animate-pulse"})})]}),e.jsx(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse"})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((a,s)=>e.jsxs(g.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:s*.1},className:"p-4 rounded-xl border border-gray-200 bg-gray-50 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-md animate-pulse"})]}),e.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded animate-pulse"})]},s))}),e.jsx(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse"})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6 mb-8",children:[...Array(2)].map((a,s)=>e.jsxs(g.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:s*.1},className:"p-4 rounded-xl border border-gray-200 bg-gray-50 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-md animate-pulse"})]}),e.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full animate-pulse"}),e.jsx("div",{className:"h-3 w-16 bg-gray-200 rounded mt-1 animate-pulse"})]})]},s))}),e.jsx(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse"})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(4)].map((a,s)=>e.jsxs(g.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:s*.1},className:"rounded-2xl p-6 shadow-sm border bg-white border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"h-5 w-40 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded animate-pulse"})]}),e.jsx("div",{className:"h-80 w-full bg-gray-200 rounded-lg animate-pulse"})]},s))}),e.jsx("div",{className:"mt-12 text-center",children:e.jsx("div",{className:"h-4 w-48 mx-auto bg-gray-200 rounded animate-pulse"})})]});export{Ge as default};
