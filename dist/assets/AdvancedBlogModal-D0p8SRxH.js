var fe=Object.defineProperty,xe=Object.defineProperties;var be=Object.getOwnPropertyDescriptors;var le=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable;var oe=(c,i,n)=>i in c?fe(c,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):c[i]=n,F=(c,i)=>{for(var n in i||(i={}))ye.call(i,n)&&oe(c,n,i[n]);if(le)for(var n of le(i))je.call(i,n)&&oe(c,n,i[n]);return c},$=(c,i)=>xe(c,be(i));var X=(c,i,n)=>new Promise((f,o)=>{var m=N=>{try{L(n.next(N))}catch(C){o(C)}},v=N=>{try{L(n.throw(N))}catch(C){o(C)}},L=N=>N.done?f(N.value):Promise.resolve(N.value).then(m,v);L((n=n.apply(c,i)).next())});import{j as e}from"./tiptap-BabmW22p.js";import{T as we}from"./TemplateSelection-4e8DvOf9.js";import{u as ke}from"./useAuthStore-CU2rUJjR.js";import{u as ve}from"./useBlogStore-BQIN_wgC.js";import{u as Ne}from"./useAnalysisStore-CRW_-n-r.js";import{getGeneratedTitles as Ce}from"./blogApi-mE4NxLdq.js";import{I as Ie,X as Se,p as h,B as V,V as Z,Y as ne,C as Te,Z as Be,v as Fe,s as R,M as Le,E as Re,m as U,G as w,O as q,j as Ae,t as G,e as Ee,T as Ge,n as Pe,c as D,l as J,b as Oe,Q as Ke}from"./antd-8WQTeuab.js";import{b as g,h as Me}from"./vendor-CcjAMWu8.js";import{a as P,A as ee,L as Ue,T as De,I as Ve}from"./blogData-ClS6pc3R.js";import{I as _e}from"./ImageGalleryPicker-CQGk-8Ok.js";import{R as ze}from"./PictureOutlined-DMT-Z2zc.js";import{B as $e}from"./BrandVoiceSelector-O34KYrAH.js";import{c as qe}from"./pricingConfig-DUMy0XHk.js";import{b as Qe,u as We,B as Ye,T as He}from"./index-CHEUOGl9.js";import{c as Xe}from"./forms.schemas-BlbdkHpq.js";import{C as Ze}from"./crown-RvwzBM2s.js";import{S as Je}from"./sparkles-CoI3F60w.js";import"./search-Csb6xL5U.js";import"./DataLayer-DALerVhB.js";import"./react-wNxFir7h.js";import"./analysisApi-DM6-hWp4.js";import"./utils-DIb0lvMo.js";import"./imageGalleryApi-_QXmLsYi.js";import"./DebouncedSearchInput-LRltHeS4.js";import"./image-lSAt2h0F.js";import"./check-CTiRpsHo.js";import"./Brand.query-s4DtUkVn.js";import"./useQuery-CEoF32mJ.js";import"./useInfiniteQuery-6lwL1tXa.js";var et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};function te(){return te=Object.assign?Object.assign.bind():function(c){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&(c[f]=n[f])}return c},te.apply(this,arguments)}const tt=(c,i)=>g.createElement(Ie,te({},c,{ref:i,icon:et})),st=g.forwardRef(tt),at=(c,i)=>i.split(".").reduce((n,f)=>n&&n[f],c),rt=(c,i,n)=>{const f=i.pop(),o=structuredClone(c);let m=o;for(const v of i)m[v]||(m[v]={}),m=m[v];return m[f]=n,o},ie=["image/png","image/jpeg","image/webp"],de=1,lt=6,ce=9,ot=({id:c,label:i,initialFiles:n=[],maxCount:f=15,onChange:o})=>{const[m,v]=g.useState(n),[L,N]=g.useState(!1),[C,y]=g.useState(1),[I,t]=g.useState(ce),K=Se.useBreakpoint();g.useEffect(()=>{t(K.sm?ce:lt)},[K.sm]),g.useEffect(()=>{(n.length!==m.length||n.some((l,x)=>{var T;return l.uid!==((T=m[x])==null?void 0:T.uid)}))&&v(n)},[n]),g.useEffect(()=>{const l=Math.ceil(m.length/I);C>l&&l>0&&y(l)},[m.length,I,C]);const d=l=>ie.includes(l.type)?l.size/1024/1024>de?(R.error(`${l.name} exceeds 1MB limit.`),Z.LIST_IGNORE):!1:(R.error(`${l.name} is not a valid image type.`),Z.LIST_IGNORE),_=({fileList:l})=>{const x=l.slice(0,f);v(x),o==null||o(x)},S=l=>{const x=m.filter(T=>T.uid!==l.uid);v(x),o==null||o(x)},Q=(l,x)=>{if(m.length>=f){R.warning(`Maximum ${f} images allowed`);return}if(m.some(A=>A.url===l)){R.info("This image is already added");return}const z={uid:`gallery-${Date.now()}-${Math.random()}`,name:x||"Gallery Image",status:"done",url:l,thumbUrl:l},M=[...m,z];v(M),o==null||o(M),R.success("Image added from gallery")},W=g.useMemo(()=>{const l=(C-1)*I,x=l+I;return m.slice(l,x)},[m,C,I]);return e.jsx(e.Fragment,{children:e.jsxs(h,{vertical:!0,gap:12,children:[e.jsxs(h,{justify:"space-between",align:"center",className:"w-full flex-col sm:flex-row gap-2",children:[e.jsxs("label",{htmlFor:c,style:{fontWeight:500},className:"text-sm sm:text-base",children:[i," (Max ",f,", each ",de,"MB)"]}),e.jsxs(h,{gap:8,className:"w-full sm:w-auto",children:[e.jsx(V,{icon:e.jsx(ze,{}),onClick:()=>N(l=>!l),type:L?"primary":"default",className:"flex-1 sm:flex-none text-xs sm:text-sm",children:L?"Hide Gallery":"Browse Gallery"}),e.jsx(Z,{id:c,accept:ie.join(","),multiple:!0,fileList:m,onChange:_,beforeUpload:d,showUploadList:!1,maxCount:f,className:"flex-1 sm:flex-none",children:m.length>=f?null:e.jsx(V,{icon:e.jsx(st,{className:"text-base sm:text-lg"}),block:!0,className:"!border-2 hover:ring-1 hover:ring-violet-500 !border-blue-500 hover:!bg-violet-50 hover:!text-gray-700 text-xs sm:text-sm font-medium",children:"Upload from Device"})})]})]}),L&&e.jsx("div",{className:"border-2 border-blue-200 rounded-lg p-3 sm:p-4 bg-gray-50 h-[400px] sm:h-[500px]",children:e.jsx(_e,{onSelect:Q,selectedImageUrl:""})}),m.length>0&&e.jsxs(h,{vertical:!0,gap:12,className:"mt-2",children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-2.5 border border-violet-200 rounded-lg p-2 min-h-[220px]",children:e.jsx(ne.PreviewGroup,{children:W.map(l=>{const x=l.thumbUrl||(l.originFileObj?URL.createObjectURL(l.originFileObj):l.url);return e.jsx(Te,{size:"small",hoverable:!0,style:{padding:6,display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid #abd"},cover:e.jsx(ne,{src:x,alt:l.name,width:"100%",height:100,style:{objectFit:"cover",borderRadius:6}}),actions:[e.jsx(Be,{onClick:()=>S(l)},"delete")]},l.uid)})})}),m.length>I&&e.jsx(h,{justify:"center",children:e.jsx(Fe,{current:C,total:m.length,pageSize:I,onChange:l=>y(l),showSizeChanger:!1,size:"small",showTotal:(l,x)=>e.jsxs("span",{className:"text-xs text-gray-600",children:[x[0],"-",x[1]," of ",l]}),className:"text-sm"})})]})]})})},{Text:O}=Ge,Ot=({closeFnc:c})=>{const i=["Template Selection","Basic Information","Customization","Blog Options"],n={templateIds:[],template:"",topic:"",focusKeywords:[],keywords:[],title:"",tone:"",userDefinedLength:1e3,brief:"",aiModel:ee[0].id,isCheckedGeneratedImages:!1,imageSource:P[0].id,numberOfImages:0,blogImages:[],referenceLinks:[],isCheckedQuick:!1,isCheckedBrand:!1,brandId:"",languageToWrite:"English",costCutter:!0,options:{exactTitle:!1,performKeywordResearch:!1,includeFaqs:!1,includeInterlinks:!1,includeCompetitorResearch:!1,addOutBoundLinks:!1,addCTA:!1,easyToUnderstand:!1,embedYouTubeVideos:!1}},f=[{key:"isCheckedQuick",label:"Add a Quick Summary"},{key:"options.includeFaqs",label:"Add FAQs (Frequently Asked Questions)"},{key:"options.includeInterlinks",label:"Include Interlinks"},{key:"options.includeCompetitorResearch",label:"Perform Competitive Research"},{key:"options.addOutBoundLinks",label:"Show Outbound Links"}],{user:o}=ke(),m=Me(),v=Qe(),{handlePopup:L}=We(),{showLoading:N,hideLoading:C}=Ye(),[y,I]=g.useState(0),[t,K]=g.useState(n),[d,_]=g.useState({}),[S,Q]=g.useState([]),[W,l]=g.useState(!1),x=()=>X(null,null,function*(){try{if(l(!0),!t.topic.trim()||t.focusKeywords.length===0||t.keywords.length===0){A({topic:t.topic.trim()?"":"Please enter a topic name",focusKeywords:t.focusKeywords.length===0?"Please enter at least 1 focus keyword":"",keywords:t.keywords.length===0?"Please enter at least 1 keyword":""}),R.error("Please enter a topic and at least one focus keyword and keyword before generating titles.");return}const s=F({template:t.template,topic:t.topic,focusKeywords:t.focusKeywords,keywords:t.keywords},(S==null?void 0:S.length)>0&&{oldTitles:S}),u=yield Ce(s);Q(u)}catch(s){console.error("Error generating titles:",s),R.error("Failed to generate titles. Please try again later.")}finally{l(!1)}}),T=Ne(s=>s.selectedKeywords);g.useEffect(()=>{T&&K(s=>$(F({},s),{focusKeywords:T.focusKeywords||s.focusKeywords,keywords:T.keywords||s.keywords}))},[T]);const z=g.useMemo(()=>{var k;const s=[];t.isCheckedBrand&&s.push("brandVoice"),t.options.includeCompetitorResearch&&s.push("competitorResearch"),t.options.performKeywordResearch&&s.push("keywordResearch"),t.options.includeInterlinks&&s.push("internalLinking"),t.options.includeFaqs&&s.push("faqGeneration"),t.isCheckedQuick&&s.push("quickSummary"),t.options.addOutBoundLinks&&s.push("outboundLinks");let u=qe({wordCount:t.userDefinedLength,features:s,aiModel:t.aiModel||"gemini",includeImages:t.isCheckedGeneratedImages,imageSource:t.imageSource,numberOfImages:t.imageSource===((k=P.at(-1))==null?void 0:k.id)?t.blogImages.length:t.numberOfImages});return t.costCutter&&(u=Math.round(u*.75)),u},[t.isCheckedBrand,t.options.includeCompetitorResearch,t.options.performKeywordResearch,t.options.includeInterlinks,t.options.includeFaqs,t.isCheckedQuick,t.options.addOutBoundLinks,t.userDefinedLength,t.aiModel,t.isCheckedGeneratedImages,t.imageSource,t.numberOfImages,t.blogImages.length,t.costCutter]),M=g.useCallback(s=>{K(u=>F(F({},u),s))},[]),A=g.useCallback(s=>{_(u=>F(F({},u),s))},[]),Y=g.useCallback(()=>{var u;const s={};switch(y){case 0:t.templateIds.length!==1&&(s.template="Please select at least 1 template");break;case 1:t.topic.length||(s.topic="Please enter a topic name"),t.options.performKeywordResearch||(t.focusKeywords.length||(s.focusKeywords="Please enter at least 1 focus keyword"),t.keywords.length||(s.keywords="Please enter at least 1 keyword"),t.title.length||(s.title="Please enter a title")),t.tone.trim()||(s.tone="Please select a tone of voice");break;case 2:t.isCheckedGeneratedImages&&t.imageSource===((u=P.at(-1))==null?void 0:u.id)&&t.blogImages.length==0&&(s.blogImages="Please upload at least 1 image.");break;case 3:t.isCheckedBrand&&!t.brandId.trim()&&(s.brandId="Please select a Brand Voice")}return Object.keys(s).length?(A(s),!1):!0},[t,y,A]),me=g.useCallback(()=>{Y()&&I(s=>s+1)},[Y]),ue=g.useCallback(()=>I(s=>s-1),[]),H=()=>{K(n),_({}),I(0),c==null||c()},ge=()=>X(null,null,function*(){var s,u,k;if(Y()){const E=z,r=(((s=o==null?void 0:o.credits)==null?void 0:s.base)||0)+(((u=o==null?void 0:o.credits)==null?void 0:u.extra)||0);if(r<E){L({title:"Insufficient Credits",description:e.jsxs("div",{children:[e.jsx("p",{children:"You don't have enough credits to generate this blog."}),e.jsxs("p",{className:"mt-1",children:[e.jsx("strong",{children:"Required:"})," ",E," credits"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Available:"})," ",r," credits"]})]}),okText:"Buy Credits",onConfirm:()=>{m("/pricing"),H()}});return}console.debug("Advanced Modal Form Data : ",t);const a=$(F({},t),{options:F({},t.options)});t.isCheckedGeneratedImages||(a.imageSource=Ve.NONE),(!t.isCheckedGeneratedImages||t.imageSource!==((k=P.at(-1))==null?void 0:k.id))&&delete a.blogImages,t.isCheckedBrand||delete a.brandId,t.options.performKeywordResearch&&(delete a.title,delete a.keywords,delete a.focusKeywords);const b=Xe(a),B=N("Creating your blog...");try{const{createNewBlog:j}=ve.getState();yield j({blogData:b,user:o,navigate:m,queryClient:v}),H()}catch(j){R.error((j==null?void 0:j.message)||"Failed to create blog. Please try again.")}finally{C(B)}}}),he=g.useCallback(s=>{var u;M({template:((u=s==null?void 0:s[0])==null?void 0:u.name)||"",templateIds:s==null?void 0:s.map(k=>k.id)}),A({template:""})},[]),p=g.useCallback(s=>{const{name:u,value:k}=s.target;if(!u)throw new Error("Advanced blog form component error");const E=u.split(".");E.length>1?K(r=>rt(r,E,k)):(M({[u]:k}),A({[u]:""}))},[]),pe=()=>{var s,u,k,E;switch(y){case 0:return e.jsxs(h,{vertical:!0,gap:8,className:G("rounded-md !p-2",(d==null?void 0:d.template)&&"border-2 border-red-500"),children:[e.jsx("label",{className:G("text-base mb-2",(d==null?void 0:d.template)&&"text-red-500"),children:d!=null&&d.template?d.template:e.jsxs(e.Fragment,{children:["Select Template:"," ",e.jsx("span",{className:"font-semibold uppercase text-violet-800 underline",children:t.template})]})}),e.jsx(we,{userSubscriptionPlan:((s=o==null?void 0:o.subscription)==null?void 0:s.plan)||"free",preSelectedIds:t.templateIds,onClick:he})]});case 1:return e.jsxs(h,{vertical:!0,gap:4,justify:"space-evenly",className:"p-2",children:[e.jsxs(w,{direction:"vertical",className:"form-item-wrapper",children:[e.jsxs("label",{htmlFor:"blog-topic",children:["Topic ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(J,{id:"blog-topic",name:"topic",placeholder:"e.g., Tech Blog",value:t.topic,onChange:p,className:G("!bg-gray-50 antd-placeholder",d.topic&&"ring-1 !ring-[#ef4444]","rounded-lg focus:!outline-none focus:!ring-0 focus:!ring-[#1B6FC9]")}),d.topic&&e.jsx(O,{className:"error-text",children:d.topic})]}),e.jsxs("label",{htmlFor:"blog-language",children:["Language ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"blog-language",placeholder:"Select a language",value:t.languageToWrite,onChange:r=>p({target:{name:"languageToWrite",value:r}}),options:Ue,className:"custom-placeholder"}),e.jsxs(h,{justify:"space-between",className:"mt-3 form-item-wrapper",children:[e.jsx("label",{htmlFor:"blog-auto-generate-title-keywords",children:"Auto Generate Title & Keywords"}),e.jsx(U,{id:"blog-auto-generate-title-keywords",value:t.options.performKeywordResearch,onChange:r=>p({target:{name:"options.performKeywordResearch",value:r}})})]}),e.jsxs(w,{direction:"vertical",hidden:t.options.performKeywordResearch,className:"form-item-wrapper",children:[e.jsxs("label",{htmlFor:"blog-focus-keywords",children:["Focus Keywords (max 3) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"blog-focus-keywords",mode:"tags",placeholder:"Add Focus keywords",value:t.focusKeywords,open:!1,onChange:r=>p({target:{name:"focusKeywords",value:r}}),maxCount:3,tokenSeparators:[","],className:G(" !bg-gray-50 custom-placeholder [&>.ant-select-arrow]:hidden border",d.focusKeywords&&"!border-red-500","rounded-lg focus:border-[#1B6FC9] hover:!border-[#1B6FC9]"),style:{width:"100%"}}),d.focusKeywords&&e.jsx(O,{className:"error-text",children:d.focusKeywords})]}),e.jsxs(w,{direction:"vertical",hidden:t.options.performKeywordResearch,className:"form-item-wrapper",children:[e.jsxs("label",{htmlFor:"blog-keywords",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"blog-keywords",mode:"tags",placeholder:"Add Keywords",value:t.keywords,open:!1,onChange:r=>p({target:{name:"keywords",value:r}}),tokenSeparators:[","],className:G(" !bg-gray-50 custom-placeholder [&>.ant-select-arrow]:hidden border",d.keywords&&"!border-red-500","rounded-lg focus:border-[#1B6FC9] hover:!border-[#1B6FC9]"),style:{width:"100%"}}),d.keywords&&e.jsx(O,{className:"error-text",children:d.keywords})]}),e.jsxs(h,{vertical:!0,gap:8,hidden:t.options.performKeywordResearch,className:"form-item-wrapper !mb-4",children:[e.jsxs("label",{htmlFor:"blog-title",children:["Blog Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(w.Compact,{block:!0,children:[e.jsx(J,{id:"blog-title",name:"title",placeholder:"e.g., How to create a blog",value:t.title,onChange:p,className:G(" !bg-gray-50 antd-placeholder",d.title&&"ring-1 !ring-[#ef4444]","focus:!outline-none focus:!ring-0 focus:!ring-[#1B6FC9]")}),e.jsxs(V,{type:"primary",title:"AI Generated Titles",icon:e.jsx(Je,{className:"size-5"}),block:!0,loading:W,onClick:x,className:"!w-1/4 h-full text-[length:1rem] py-1 px-3 tracking-wide",children:["Generate ",S!=null&&S.length?"More":"Titles"]})]}),d.title&&e.jsx(O,{className:"error-text",children:d.title}),S.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:S.map((r,a)=>e.jsx(Oe,{color:"geekblue",className:G("cursor-pointer text-[length:1rem] bg-black",t.title===r&&"!bg-blue-500 !text-white","hover:!bg-blue-400 hover:!text-black p-1"),onClick:()=>{p({target:{name:"title",value:r}})},children:r},a))})]}),e.jsxs(h,{justify:"space-between",className:"mt-3 form-item-wrapper",hidden:t.options.performKeywordResearch,children:[e.jsx("label",{htmlFor:"blog-use-exact-title",children:"Use Exact Title for Blog"}),e.jsx(U,{id:"blog-use-exact-title",value:t.options.exactTitle,onChange:r=>p({target:{name:"options.exactTitle",value:r}})})]}),e.jsx(w,{direction:"vertical",className:"form-item-wrapper",children:e.jsxs(h,{justify:"space-around",gap:20,children:[e.jsxs(h,{vertical:!0,className:"w-full",gap:8,children:[e.jsxs("label",{htmlFor:"blog-tone",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"blog-tone",placeholder:"Select a tone",value:t.tone||void 0,onChange:r=>p({target:{name:"tone",value:r}}),options:De.map(r=>({label:r,value:r})),className:"custom-placeholder"}),d.tone&&e.jsx(O,{className:"error-text",children:d.tone})]}),e.jsxs(h,{vertical:!0,className:"w-full",gap:8,children:[e.jsxs("label",{children:["Blog Words Length :"," ",e.jsxs(O,{strong:!0,underline:!0,className:"text-[length:16px] px-2",children:[t.userDefinedLength," words"]})]}),e.jsx(Ke,{id:"blog-word-length",value:t.userDefinedLength,onChange:r=>p({target:{name:"userDefinedLength",value:r}}),min:500,max:5e3,tooltip:{formatter:r=>`${r} words`,placement:"bottom"},classNames:{rail:"!bg-gray-400",track:"!bg-gradient-to-tr !from-blue-600 !via-violet-500 !to-purple-500",handle:"hover:!ring-1 hover:!ring-purple-400"}})]})]})}),e.jsxs(w,{direction:"vertical",className:"form-item-wrapper",children:[e.jsx("label",{htmlFor:"blog-brief",children:"Add Brief Section"}),e.jsx(J.TextArea,{id:"blog-brief",name:"brief",autoSize:{minRows:1,maxRows:3},value:t.brief,onChange:p,placeholder:"Enter the brief info or instructions",className:"antd-placeholder"})]})]});case 2:{const r=a=>{try{const b=new URL(a);return b.protocol==="http:"||b.protocol==="https:"}catch(b){return!1}};return e.jsxs(h,{vertical:!0,gap:20,className:"p-2",children:[e.jsxs(w,{direction:"vertical",className:"form-item-wrapper",children:[e.jsx("label",{children:"Select AI Model"}),e.jsx(q.Group,{name:"aiModel",value:t.aiModel,onChange:p,defaultValue:(u=ee[0])==null?void 0:u.id,block:!0,className:"p-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 w-full",children:ee.map(a=>e.jsxs(q.Button,{value:a.id,className:"rounded-lg !px-4 !py-3 !border-[3px] hover:border-blue-400 hover:bg-purple-50 min-h-fit",children:[e.jsx("img",{src:a.logo,alt:a.label,className:"size-6 object-contain"}),e.jsx("span",{className:"text-[length:15px] font-medium text-gray-800",children:a.label})]},a.id))})]}),e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4 shadow-sm",children:e.jsxs(h,{justify:"space-between",align:"center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-green-900 mb-1",children:"ðŸ’° Cost Cutter"}),e.jsx("p",{className:"text-xs text-green-700",children:"Use AI Flash model for 25% savings"})]}),e.jsx(U,{checked:t.costCutter,onChange:a=>M({costCutter:a})})]})}),e.jsx(w,{direction:"vertical",className:"form-item-wrapper",children:e.jsxs(h,{justify:"space-between",children:[e.jsx("label",{htmlFor:"easy-to-understand-toggle",children:"Easy to Understand"}),e.jsx(U,{id:"easy-to-understand-toggle",checked:t.options.easyToUnderstand,onChange:a=>p({target:{name:"options.easyToUnderstand",value:a}})})]})}),e.jsx(w,{direction:"vertical",className:"form-item-wrapper",children:e.jsxs(h,{justify:"space-between",children:[e.jsx("label",{htmlFor:"embed-youtube-toggle",children:"Embed YouTube Videos"}),e.jsx(U,{id:"embed-youtube-toggle",checked:t.options.embedYouTubeVideos,onChange:a=>p({target:{name:"options.embedYouTubeVideos",value:a}})})]})}),e.jsx(w,{direction:"vertical",className:"form-item-wrapper",children:e.jsxs(h,{justify:"space-between",children:[e.jsx("label",{htmlFor:"add-image-toggle",children:"Add Images"}),e.jsx(U,{id:"add-image-toggle",value:t.isCheckedGeneratedImages,onChange:a=>{[{name:"isCheckedGeneratedImages",value:a},{name:"blogImages",value:[]}].map(b=>p({target:b}))}})]})}),e.jsxs(w,{direction:"vertical",hidden:!t.isCheckedGeneratedImages,className:"form-item-wrapper",children:[e.jsx("label",{children:"Select Image Mode"}),e.jsx(q.Group,{name:"imageSource",value:t.imageSource,onChange:a=>{var b;p(a),a.target.value!=((b=P.at(-1))==null?void 0:b.id)&&p({target:{name:"blogImages",value:[]}})},defaultValue:(k=P[0])==null?void 0:k.id,block:!0,className:"p-2 !grid grid-cols-1 sm:!grid-cols-2 md:!grid-cols-3 !gap-4 w-full",children:P.map((a,b)=>{var se,ae,re;const B=a.restrict&&((se=o==null?void 0:o.subscription)==null?void 0:se.plan)=="free",j=b==1&&((ae=o==null?void 0:o.usage)==null?void 0:ae.aiImages)>=((re=o==null?void 0:o.usageLimits)==null?void 0:re.aiImages);return e.jsx(Ae.Ribbon,{text:B?e.jsx(Ze,{className:"p-1"}):j?e.jsx(He,{className:"p-0.5"}):"",className:G("absolute -top-2 z-10",(b==0||!(B||j))&&"hidden"),color:B?"#8b5cf6":j?"#dc2626":"#3b82f6",children:e.jsx(Ee,{title:e.jsx(O,{strong:!0,className:"text-[length:15px] text-gray-200 font-montserrat tracking-wide",children:B?"Only For Subscribed Users":j?"AI Image Limit Reached":a.label}),className:"w-full",autoAdjustOverflow:!0,color:B?"#8b5cf6":j?"#dc2626":"#3b82f6",placement:b==0?"left":"top",showArrow:!0,children:e.jsx(q.Button,{value:a.id,disabled:B||j,className:"rounded-lg !px-4 !py-3 !border-[3px] text-red-600 hover:border-blue-400 hover:bg-violet-50 min-h-fit min-w-fit",children:e.jsx("span",{className:"text-[length:15px] font-medium text-gray-800",children:a.label})})})},a.id+b)})})]}),e.jsx(w,{direction:"vertical",hidden:!t.isCheckedGeneratedImages,className:"form-item-wrapper",children:t.imageSource!=((E=P.at(-1))==null?void 0:E.id)?e.jsxs(h,{align:"center",justify:"space-between",children:[e.jsx("label",{htmlFor:"blog-img-count",children:"Number of Images (0 = Decided by AI) : "}),e.jsx(Pe,{id:"blog-img-count",name:"numberOfImages",min:0,max:15,value:t.numberOfImages,defaultValue:0,onChange:a=>p({target:{name:"numberOfImages",value:a||0}}),className:"w-1/3 !text-base"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ot,{id:"blog-upload-images",label:"Upload Custom Images",maxCount:15,initialFiles:t.blogImages,onChange:a=>p({target:{name:"blogImages",value:a}})}),d.blogImages&&e.jsx(O,{className:"error-text",children:d.blogImages})]})}),e.jsxs(w,{direction:"vertical",className:"form-item-wrapper",children:[e.jsx("label",{htmlFor:"blog-references",children:"Reference Links (max 3)"}),e.jsx(D,{id:"blog-references",mode:"tags",placeholder:"Add Reference Links",value:t.referenceLinks,open:!1,onChange:a=>{a.filter(j=>!r(j.trim())).length>0&&R.warning("Only valid URLs starting from http:// or https:// are allowed.");const B=a.filter(r);p({target:{name:"referenceLinks",value:B}})},maxCount:3,tokenSeparators:[","," "],className:"!w-full !bg-gray-50 [&>.ant-select-arrow]:hidden custom-placeholder border rounded-lg focus:border-[#1B6FC9] hover:!border-[#1B6FC9]"})]})]})}case 3:return e.jsxs(h,{vertical:!0,gap:"middle",className:"p-2",children:[f.map((r,a)=>e.jsxs(h,{justify:"space-between",className:"form-item-wrapper",children:[e.jsx("label",{htmlFor:`blog-${r.key}`,children:r.label}),e.jsx(U,{id:`blog-${r.key}`,value:at(t,r.key),onChange:b=>p({target:{name:r.key,value:b}})})]},r.key+a)),e.jsx(w,{direction:"vertical",className:"form-item-wrapper",children:e.jsx($e,{label:"Write with Brand Voice",value:{isCheckedBrand:t.isCheckedBrand,brandId:t.brandId,addCTA:t.options.addCTA},size:"default",onChange:r=>{const a=t.options;M({isCheckedBrand:r.isCheckedBrand,brandId:r.brandId,options:$(F({},a),{addCTA:r.addCTA})}),A({brandId:""})},errorText:d.brandId})})]});default:return e.jsx(Re,{})}};return e.jsxs(e.Fragment,{children:[" ",e.jsx(Le,{title:`Generate Advanced Blog | Step ${y+1} : ${i[y]}`,open:!0,onCancel:H,footer:e.jsxs(h,{justify:"space-between",align:"center",gap:12,className:"mt-2",children:[(y===2||y===3)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Estimated Cost:"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[z," credits"]}),t.costCutter&&e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(-25% off)"})]}),e.jsxs(h,{justify:"end",gap:12,className:y<2?"w-full":"",children:[y>0&&e.jsx(V,{onClick:ue,type:"default",className:"h-10 px-6 text-[length:1rem] font-medium !text-gray-700 bg-white border border-gray-300 rounded-md hover:!bg-gray-50",children:"Previous"}),e.jsx(V,{onClick:y===3?ge:me,type:"default",className:"h-10 px-6 text-[length:1rem] font-medium !text-white bg-[#1B6FC9] rounded-md hover:!bg-[#1B6FC9]/90",children:y===3?"Generate Blog":"Next"})]})]}),width:700,centered:!0,transitionName:"",maskTransitionName:"",destroyOnHidden:!0,className:"m-2",children:e.jsx("div",{className:"h-full !max-h-[80vh] overflow-auto",style:{scrollbarWidth:"none"},children:pe()})})]})};export{Ot as default};
