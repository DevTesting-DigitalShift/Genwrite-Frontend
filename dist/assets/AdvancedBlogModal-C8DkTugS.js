var xr=Object.defineProperty,Cr=Object.defineProperties;var Sr=Object.getOwnPropertyDescriptors;var Tt=Object.getOwnPropertySymbols;var Ir=Object.prototype.hasOwnProperty,$r=Object.prototype.propertyIsEnumerable;var Ft=(e,t,r)=>t in e?xr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ne=(e,t)=>{for(var r in t||(t={}))Ir.call(t,r)&&Ft(e,r,t[r]);if(Tt)for(var r of Tt(t))$r.call(t,r)&&Ft(e,r,t[r]);return e},ot=(e,t)=>Cr(e,Sr(t));var ft=(e,t,r)=>new Promise((a,o)=>{var n=m=>{try{c(r.next(m))}catch(u){o(u)}},s=m=>{try{c(r.throw(m))}catch(u){o(u)}},c=m=>m.done?a(m.value):Promise.resolve(m.value).then(n,s);c((r=r.apply(e,t)).next())});import{r as i,s as re,bi as K,cp as Pt,ef as jr,bj as ae,aR as xt,bk as fe,di as Nr,bn as Er,bu as Xe,ad as Ee,br as ue,eg as Rr,bg as Se,bl as kt,aP as dt,bP as Re,e as Qt,h as Ct,bz as Be,eh as Or,ei as Jt,aI as Pr,bM as Mt,k as we,cv as kr,o as pt,q as er,bW as tr,aQ as ut,aO as rr,bU as nr,bo as Mr,ej as Ae,ek as be,cz as ar,dp as or,bw as ir,dq as ve,bv as sr,bt as Lr,du as lr,dr as Dt,el as At,i as Tr,T as cr,bx as Fr,cE as Dr,cF as Ar,v as zt,B as Ue,cT as _t,bS as zr,cS as _r,an as Bt,I as dr,j as d,C as Br,W as Pe,u as Ur,a as Ut,z as Xr,b as Gr,Q as Hr,M as Vr,ed as qr,em as Wr,P as Yr,aG as Le,x as Kr,aX as Zr,en as Qr,aa as Jr}from"./index-BOjYwTQ9.js";import{T as en}from"./TemplateSelection-DmW1_n-E.js";import{c as Te,A as gt,L as tn,T as rn,I as nn,d as an}from"./forms.schemas-DlGGW_4w.js";import{I as on}from"./ImageGalleryPicker-h3hsjJ-E.js";import{u as sn,a as ln}from"./useBreakpoint-B4qJBdOm.js";import{F as se}from"./index-DYFbVrRz.js";import{R as cn,S as dn}from"./PictureOutlined-D9eafF-4.js";import{g as un}from"./collapse-BbEVqHco.js";import{D as mn}from"./DownloadOutlined-DTidZHln.js";import{R as ur,I as ht}from"./index-D46neESn.js";import{P as pn}from"./progress-DyW103j8.js";import{a as Ve}from"./addEventListener-CjH06hlM.js";import{R as St}from"./LeftOutlined-B8gWZvEr.js";import{R as It}from"./RightOutlined-BFNK2QcY.js";import{P as fn}from"./Pagination-tYDvcTdV.js";import{B as gn}from"./BrandVoiceSelector-BV4BYgb1.js";import{c as hn}from"./pricingConfig-DUMy0XHk.js";import{E as vn}from"./index-BHYdUTwY.js";import{S as Qe}from"./index-Bzifz0ya.js";import{S as xe}from"./index-CipYbMI-.js";import{R as it}from"./index-DPdlEYDY.js";import{B as bn}from"./index-CgPCJRUM.js";import{C as wn}from"./crown-D7h92co4.js";import{T as yn}from"./index-C5aBg04b.js";import{S as Je}from"./index-WfLJFMKX.js";import{S as xn}from"./sparkles-BXl1W_iA.js";import{T as Cn}from"./index-Cv4bwi9X.js";import"./search-DFVePN2M.js";import"./imageGalleryApi-C93NoRVj.js";import"./DebouncedSearchInput-C-Rgm39k.js";import"./image-W8KZcnER.js";import"./check-BD7UZZ5L.js";import"./gapSize-U1swVQyS.js";import"./Input-C2DAgzTE.js";import"./EyeOutlined-Bmd706kk.js";import"./SearchOutlined-BVWKvrgr.js";import"./Brand.query-Dn5cl9_B.js";import"./useQuery-DARZ7AdZ.js";import"./useInfiniteQuery-moNbRJ06.js";import"./useForm-IaI-qP_b.js";import"./move-B52WT0ba.js";function Sn(){return sn()}const In={useBreakpoint:Sn};function mr(){var e=document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:t}}function $n(e){var t=e.getBoundingClientRect(),r=document.documentElement;return{left:t.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||r.scrollTop)-(r.clientTop||document.body.clientTop||0)}}var rt=i.createContext(null),jn=function(t){var r=t.visible,a=t.maskTransitionName,o=t.getContainer,n=t.prefixCls,s=t.rootClassName,c=t.icons,m=t.countRender,u=t.showSwitch,g=t.showProgress,f=t.current,w=t.transform,y=t.count,l=t.scale,j=t.minScale,b=t.maxScale,$=t.closeIcon,N=t.onActive,h=t.onClose,C=t.onZoomIn,p=t.onZoomOut,O=t.onRotateRight,S=t.onRotateLeft,E=t.onFlipX,F=t.onFlipY,P=t.onReset,R=t.toolbarRender,B=t.zIndex,H=t.image,U=i.useContext(rt),W=c.rotateLeft,Q=c.rotateRight,M=c.zoomIn,J=c.zoomOut,x=c.close,L=c.left,X=c.right,Z=c.flipX,v=c.flipY,I="".concat(n,"-operations-operation");i.useEffect(function(){var z=function(ie){ie.keyCode===xt.ESC&&h()};return r&&window.addEventListener("keydown",z),function(){window.removeEventListener("keydown",z)}},[r]);var k=function(ee,ie){ee.preventDefault(),ee.stopPropagation(),N(ie)},A=i.useCallback(function(z){var ee=z.type,ie=z.disabled,pe=z.onClick,ce=z.icon;return i.createElement("div",{key:ee,className:re(I,"".concat(n,"-operations-operation-").concat(ee),K({},"".concat(n,"-operations-operation-disabled"),!!ie)),onClick:pe},ce)},[I,n]),Y=u?A({icon:L,onClick:function(ee){return k(ee,-1)},type:"prev",disabled:f===0}):void 0,oe=u?A({icon:X,onClick:function(ee){return k(ee,1)},type:"next",disabled:f===y-1}):void 0,ne=A({icon:v,onClick:F,type:"flipY"}),q=A({icon:Z,onClick:E,type:"flipX"}),le=A({icon:W,onClick:S,type:"rotateLeft"}),_=A({icon:Q,onClick:O,type:"rotateRight"}),me=A({icon:J,onClick:p,type:"zoomOut",disabled:l<=j}),ge=A({icon:M,onClick:C,type:"zoomIn",disabled:l===b}),he=i.createElement("div",{className:"".concat(n,"-operations")},ne,q,le,_,me,ge);return i.createElement(Pt,{visible:r,motionName:a},function(z){var ee=z.className,ie=z.style;return i.createElement(jr,{open:!0,getContainer:o!=null?o:document.body},i.createElement("div",{className:re("".concat(n,"-operations-wrapper"),ee,s),style:ae(ae({},ie),{},{zIndex:B})},$===null?null:i.createElement("button",{className:"".concat(n,"-close"),onClick:h},$||x),u&&i.createElement(i.Fragment,null,i.createElement("div",{className:re("".concat(n,"-switch-left"),K({},"".concat(n,"-switch-left-disabled"),f===0)),onClick:function(ce){return k(ce,-1)}},L),i.createElement("div",{className:re("".concat(n,"-switch-right"),K({},"".concat(n,"-switch-right-disabled"),f===y-1)),onClick:function(ce){return k(ce,1)}},X)),i.createElement("div",{className:"".concat(n,"-footer")},g&&i.createElement("div",{className:"".concat(n,"-progress")},m?m(f+1,y):i.createElement("bdi",null,"".concat(f+1," / ").concat(y))),R?R(he,ae(ae({icons:{prevIcon:Y,nextIcon:oe,flipYIcon:ne,flipXIcon:q,rotateLeftIcon:le,rotateRightIcon:_,zoomOutIcon:me,zoomInIcon:ge},actions:{onActive:N,onFlipY:F,onFlipX:E,onRotateLeft:S,onRotateRight:O,onZoomOut:p,onZoomIn:C,onReset:P,onClose:h},transform:w},U?{current:f,total:y}:{}),{},{image:H})):he)))})},st={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function Nn(e,t,r,a){var o=i.useRef(null),n=i.useRef([]),s=i.useState(st),c=fe(s,2),m=c[0],u=c[1],g=function(l){u(st),Nr(st,m)||a==null||a({transform:st,action:l})},f=function(l,j){o.current===null&&(n.current=[],o.current=Er(function(){u(function(b){var $=b;return n.current.forEach(function(N){$=ae(ae({},$),N)}),o.current=null,a==null||a({transform:$,action:j}),$})})),n.current.push(ae(ae({},m),l))},w=function(l,j,b,$,N){var h=e.current,C=h.width,p=h.height,O=h.offsetWidth,S=h.offsetHeight,E=h.offsetLeft,F=h.offsetTop,P=l,R=m.scale*l;R>r?(R=r,P=r/m.scale):R<t&&(R=N?R:t,P=R/m.scale);var B=b!=null?b:innerWidth/2,H=$!=null?$:innerHeight/2,U=P-1,W=U*C*.5,Q=U*p*.5,M=U*(B-m.x-E),J=U*(H-m.y-F),x=m.x-(M-W),L=m.y-(J-Q);if(l<1&&R===1){var X=O*R,Z=S*R,v=mr(),I=v.width,k=v.height;X<=I&&Z<=k&&(x=0,L=0)}f({x,y:L,scale:R},j)};return{transform:m,resetTransform:g,updateTransform:f,dispatchZoomChange:w}}function Xt(e,t,r,a){var o=t+r,n=(r-a)/2;if(r>a){if(t>0)return K({},e,n);if(t<0&&o<a)return K({},e,-n)}else if(t<0||o>a)return K({},e,t<0?n:-n);return{}}function pr(e,t,r,a){var o=mr(),n=o.width,s=o.height,c=null;return e<=n&&t<=s?c={x:0,y:0}:(e>n||t>s)&&(c=ae(ae({},Xt("x",r,e,n)),Xt("y",a,t,s))),c}var qe=1,En=1;function Rn(e,t,r,a,o,n,s){var c=o.rotate,m=o.scale,u=o.x,g=o.y,f=i.useState(!1),w=fe(f,2),y=w[0],l=w[1],j=i.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),b=function(p){!t||p.button!==0||(p.preventDefault(),p.stopPropagation(),j.current={diffX:p.pageX-u,diffY:p.pageY-g,transformX:u,transformY:g},l(!0))},$=function(p){r&&y&&n({x:p.pageX-j.current.diffX,y:p.pageY-j.current.diffY},"move")},N=function(){if(r&&y){l(!1);var p=j.current,O=p.transformX,S=p.transformY,E=u!==O&&g!==S;if(!E)return;var F=e.current.offsetWidth*m,P=e.current.offsetHeight*m,R=e.current.getBoundingClientRect(),B=R.left,H=R.top,U=c%180!==0,W=pr(U?P:F,U?F:P,B,H);W&&n(ae({},W),"dragRebound")}},h=function(p){if(!(!r||p.deltaY==0)){var O=Math.abs(p.deltaY/100),S=Math.min(O,En),E=qe+S*a;p.deltaY>0&&(E=qe/E),s(E,"wheel",p.clientX,p.clientY)}};return i.useEffect(function(){var C,p,O,S;if(t){O=Ve(window,"mouseup",N,!1),S=Ve(window,"mousemove",$,!1);try{window.top!==window.self&&(C=Ve(window.top,"mouseup",N,!1),p=Ve(window.top,"mousemove",$,!1))}catch(E){}}return function(){var E,F,P,R;(E=O)===null||E===void 0||E.remove(),(F=S)===null||F===void 0||F.remove(),(P=C)===null||P===void 0||P.remove(),(R=p)===null||R===void 0||R.remove()}},[r,y,u,g,c,t]),{isMoving:y,onMouseDown:b,onMouseMove:$,onMouseUp:N,onWheel:h}}function On(e){return new Promise(function(t){if(!e){t(!1);return}var r=document.createElement("img");r.onerror=function(){return t(!1)},r.onload=function(){return t(!0)},r.src=e})}function fr(e){var t=e.src,r=e.isCustomPlaceholder,a=e.fallback,o=i.useState(r?"loading":"normal"),n=fe(o,2),s=n[0],c=n[1],m=i.useRef(!1),u=s==="error";i.useEffect(function(){var y=!0;return On(t).then(function(l){!l&&y&&c("error")}),function(){y=!1}},[t]),i.useEffect(function(){r&&!m.current?c("loading"):u&&c("normal")},[t]);var g=function(){c("normal")},f=function(l){m.current=!1,s==="loading"&&l!==null&&l!==void 0&&l.complete&&(l.naturalWidth||l.naturalHeight)&&(m.current=!0,g())},w=u&&a?{src:a}:{onLoad:g,src:t};return[f,w,s]}function mt(e,t){var r=e.x-t.x,a=e.y-t.y;return Math.hypot(r,a)}function Pn(e,t,r,a){var o=mt(e,r),n=mt(t,a);if(o===0&&n===0)return[e.x,e.y];var s=o/(o+n),c=e.x+s*(t.x-e.x),m=e.y+s*(t.y-e.y);return[c,m]}function kn(e,t,r,a,o,n,s){var c=o.rotate,m=o.scale,u=o.x,g=o.y,f=i.useState(!1),w=fe(f,2),y=w[0],l=w[1],j=i.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),b=function(p){j.current=ae(ae({},j.current),p)},$=function(p){if(t){p.stopPropagation(),l(!0);var O=p.touches,S=O===void 0?[]:O;S.length>1?b({point1:{x:S[0].clientX,y:S[0].clientY},point2:{x:S[1].clientX,y:S[1].clientY},eventType:"touchZoom"}):b({point1:{x:S[0].clientX-u,y:S[0].clientY-g},eventType:"move"})}},N=function(p){var O=p.touches,S=O===void 0?[]:O,E=j.current,F=E.point1,P=E.point2,R=E.eventType;if(S.length>1&&R==="touchZoom"){var B={x:S[0].clientX,y:S[0].clientY},H={x:S[1].clientX,y:S[1].clientY},U=Pn(F,P,B,H),W=fe(U,2),Q=W[0],M=W[1],J=mt(B,H)/mt(F,P);s(J,"touchZoom",Q,M,!0),b({point1:B,point2:H,eventType:"touchZoom"})}else R==="move"&&(n({x:S[0].clientX-F.x,y:S[0].clientY-F.y},"move"),b({eventType:"move"}))},h=function(){if(r){if(y&&l(!1),b({eventType:"none"}),a>m)return n({x:0,y:0,scale:a},"touchZoom");var p=e.current.offsetWidth*m,O=e.current.offsetHeight*m,S=e.current.getBoundingClientRect(),E=S.left,F=S.top,P=c%180!==0,R=pr(P?O:p,P?p:O,E,F);R&&n(ae({},R),"dragRebound")}};return i.useEffect(function(){var C;return r&&t&&(C=Ve(window,"touchmove",function(p){return p.preventDefault()},{passive:!1})),function(){var p;(p=C)===null||p===void 0||p.remove()}},[r,t]),{isTouching:y,onTouchStart:$,onTouchMove:N,onTouchEnd:h}}var Mn=["fallback","src","imgRef"],Ln=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],Tn=function(t){var r=t.fallback,a=t.src,o=t.imgRef,n=Xe(t,Mn),s=fr({src:a,fallback:r}),c=fe(s,2),m=c[0],u=c[1];return Ee.createElement("img",ue({ref:function(f){o.current=f,m(f)}},n,u))},gr=function(t){var r=t.prefixCls,a=t.src,o=t.alt,n=t.imageInfo,s=t.fallback,c=t.movable,m=c===void 0?!0:c,u=t.onClose,g=t.visible,f=t.icons,w=f===void 0?{}:f,y=t.rootClassName,l=t.closeIcon,j=t.getContainer,b=t.current,$=b===void 0?0:b,N=t.count,h=N===void 0?1:N,C=t.countRender,p=t.scaleStep,O=p===void 0?.5:p,S=t.minScale,E=S===void 0?1:S,F=t.maxScale,P=F===void 0?50:F,R=t.transitionName,B=R===void 0?"zoom":R,H=t.maskTransitionName,U=H===void 0?"fade":H,W=t.imageRender,Q=t.imgCommonProps,M=t.toolbarRender,J=t.onTransform,x=t.onChange,L=Xe(t,Ln),X=i.useRef(),Z=i.useContext(rt),v=Z&&h>1,I=Z&&h>=1,k=i.useState(!0),A=fe(k,2),Y=A[0],oe=A[1],ne=Nn(X,E,P,J),q=ne.transform,le=ne.resetTransform,_=ne.updateTransform,me=ne.dispatchZoomChange,ge=Rn(X,m,g,O,q,_,me),he=ge.isMoving,z=ge.onMouseDown,ee=ge.onWheel,ie=kn(X,m,g,E,q,_,me),pe=ie.isTouching,ce=ie.onTouchStart,Ie=ie.onTouchMove,Oe=ie.onTouchEnd,ye=q.rotate,Ce=q.scale,We=re(K({},"".concat(r,"-moving"),he));i.useEffect(function(){Y||oe(!0)},[Y]);var Ye=function(){le("close")},Ke=function(){me(qe+O,"zoomIn")},$e=function(){me(qe/(qe+O),"zoomOut")},je=function(){_({rotate:ye+90},"rotateRight")},Ge=function(){_({rotate:ye-90},"rotateLeft")},ke=function(){_({flipX:!q.flipX},"flipX")},Me=function(){_({flipY:!q.flipY},"flipY")},nt=function(){le("reset")},Ze=function(G){var de=$+G;!Number.isInteger(de)||de<0||de>h-1||(oe(!1),le(G<0?"prev":"next"),x==null||x(de,$))},at=function(G){!g||!v||(G.keyCode===xt.LEFT?Ze(-1):G.keyCode===xt.RIGHT&&Ze(1))},D=function(G){g&&(Ce!==1?_({x:0,y:0,scale:1},"doubleClick"):me(qe+O,"doubleClick",G.clientX,G.clientY))};i.useEffect(function(){var T=Ve(window,"keydown",at,!1);return function(){T.remove()}},[g,v,$]);var V=Ee.createElement(Tn,ue({},Q,{width:t.width,height:t.height,imgRef:X,className:"".concat(r,"-img"),alt:o,style:{transform:"translate3d(".concat(q.x,"px, ").concat(q.y,"px, 0) scale3d(").concat(q.flipX?"-":"").concat(Ce,", ").concat(q.flipY?"-":"").concat(Ce,", 1) rotate(").concat(ye,"deg)"),transitionDuration:(!Y||pe)&&"0s"},fallback:s,src:a,onWheel:ee,onMouseDown:z,onDoubleClick:D,onTouchStart:ce,onTouchMove:Ie,onTouchEnd:Oe,onTouchCancel:Oe})),te=ae({url:a,alt:o},n);return Ee.createElement(Ee.Fragment,null,Ee.createElement(Rr,ue({transitionName:B,maskTransitionName:U,closable:!1,keyboard:!0,prefixCls:r,onClose:u,visible:g,classNames:{wrapper:We},rootClassName:y,getContainer:j},L,{afterClose:Ye}),Ee.createElement("div",{className:"".concat(r,"-img-wrapper")},W?W(V,ae({transform:q,image:te},Z?{current:$}:{})):V)),Ee.createElement(jn,{visible:g,transform:q,maskTransitionName:U,closeIcon:l,getContainer:j,prefixCls:r,rootClassName:y,icons:w,countRender:C,showSwitch:v,showProgress:I,current:$,count:h,scale:Ce,minScale:E,maxScale:P,toolbarRender:M,onActive:Ze,onZoomIn:Ke,onZoomOut:$e,onRotateRight:je,onRotateLeft:Ge,onFlipX:ke,onFlipY:Me,onClose:u,onReset:nt,zIndex:L.zIndex!==void 0?L.zIndex+1:void 0,image:te}))},$t=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function Fn(e){var t=i.useState({}),r=fe(t,2),a=r[0],o=r[1],n=i.useCallback(function(c,m){return o(function(u){return ae(ae({},u),{},K({},c,m))}),function(){o(function(u){var g=ae({},u);return delete g[c],g})}},[]),s=i.useMemo(function(){return e?e.map(function(c){if(typeof c=="string")return{data:{src:c}};var m={};return Object.keys(c).forEach(function(u){["src"].concat(Se($t)).includes(u)&&(m[u]=c[u])}),{data:m}}):Object.keys(a).reduce(function(c,m){var u=a[m],g=u.canPreview,f=u.data;return g&&c.push({data:f,id:m}),c},[])},[e,a]);return[s,n,!!e]}var Dn=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],An=["src"],zn=function(t){var r,a=t.previewPrefixCls,o=a===void 0?"rc-image-preview":a,n=t.children,s=t.icons,c=s===void 0?{}:s,m=t.items,u=t.preview,g=t.fallback,f=kt(u)==="object"?u:{},w=f.visible,y=f.onVisibleChange,l=f.getContainer,j=f.current,b=f.movable,$=f.minScale,N=f.maxScale,h=f.countRender,C=f.closeIcon,p=f.onChange,O=f.onTransform,S=f.toolbarRender,E=f.imageRender,F=Xe(f,Dn),P=Fn(m),R=fe(P,3),B=R[0],H=R[1],U=R[2],W=dt(0,{value:j}),Q=fe(W,2),M=Q[0],J=Q[1],x=i.useState(!1),L=fe(x,2),X=L[0],Z=L[1],v=((r=B[M])===null||r===void 0?void 0:r.data)||{},I=v.src,k=Xe(v,An),A=dt(!!w,{value:w,onChange:function(pe,ce){y==null||y(pe,ce,M)}}),Y=fe(A,2),oe=Y[0],ne=Y[1],q=i.useState(null),le=fe(q,2),_=le[0],me=le[1],ge=i.useCallback(function(ie,pe,ce,Ie){var Oe=U?B.findIndex(function(ye){return ye.data.src===pe}):B.findIndex(function(ye){return ye.id===ie});J(Oe<0?0:Oe),ne(!0),me({x:ce,y:Ie}),Z(!0)},[B,U]);i.useEffect(function(){oe?X||J(0):Z(!1)},[oe]);var he=function(pe,ce){J(pe),p==null||p(pe,ce)},z=function(){ne(!1),me(null)},ee=i.useMemo(function(){return{register:H,onPreview:ge}},[H,ge]);return i.createElement(rt.Provider,{value:ee},n,i.createElement(gr,ue({"aria-hidden":!oe,movable:b,visible:oe,prefixCls:o,closeIcon:C,onClose:z,mousePosition:_,imgCommonProps:k,src:I,fallback:g,icons:c,minScale:$,maxScale:N,getContainer:l,current:M,count:B.length,countRender:h,onTransform:O,toolbarRender:S,imageRender:E,onChange:he},F)))},Gt=0;function _n(e,t){var r=i.useState(function(){return Gt+=1,String(Gt)}),a=fe(r,1),o=a[0],n=i.useContext(rt),s={data:t,canPreview:e};return i.useEffect(function(){if(n)return n.register(o,s)},[]),i.useEffect(function(){n&&n.register(o,s)},[e,t]),o}var Bn=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],Un=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],Lt=function(t){var r=t.src,a=t.alt,o=t.onPreviewClose,n=t.prefixCls,s=n===void 0?"rc-image":n,c=t.previewPrefixCls,m=c===void 0?"".concat(s,"-preview"):c,u=t.placeholder,g=t.fallback,f=t.width,w=t.height,y=t.style,l=t.preview,j=l===void 0?!0:l,b=t.className,$=t.onClick,N=t.onError,h=t.wrapperClassName,C=t.wrapperStyle,p=t.rootClassName,O=Xe(t,Bn),S=u&&u!==!0,E=kt(j)==="object"?j:{},F=E.src,P=E.visible,R=P===void 0?void 0:P,B=E.onVisibleChange,H=B===void 0?o:B,U=E.getContainer,W=U===void 0?void 0:U,Q=E.mask,M=E.maskClassName,J=E.movable,x=E.icons,L=E.scaleStep,X=E.minScale,Z=E.maxScale,v=E.imageRender,I=E.toolbarRender,k=Xe(E,Un),A=F!=null?F:r,Y=dt(!!R,{value:R,onChange:H}),oe=fe(Y,2),ne=oe[0],q=oe[1],le=fr({src:r,isCustomPlaceholder:S,fallback:g}),_=fe(le,3),me=_[0],ge=_[1],he=_[2],z=i.useState(null),ee=fe(z,2),ie=ee[0],pe=ee[1],ce=i.useContext(rt),Ie=!!j,Oe=function(){q(!1),pe(null)},ye=re(s,h,p,K({},"".concat(s,"-error"),he==="error")),Ce=i.useMemo(function(){var $e={};return $t.forEach(function(je){t[je]!==void 0&&($e[je]=t[je])}),$e},$t.map(function($e){return t[$e]})),We=i.useMemo(function(){return ae(ae({},Ce),{},{src:A})},[A,Ce]),Ye=_n(Ie,We),Ke=function(je){var Ge=$n(je.target),ke=Ge.left,Me=Ge.top;ce?ce.onPreview(Ye,A,ke,Me):(pe({x:ke,y:Me}),q(!0)),$==null||$(je)};return i.createElement(i.Fragment,null,i.createElement("div",ue({},O,{className:ye,onClick:Ie?Ke:$,style:ae({width:f,height:w},C)}),i.createElement("img",ue({},Ce,{className:re("".concat(s,"-img"),K({},"".concat(s,"-img-placeholder"),u===!0),b),style:ae({height:w},y),ref:me},ge,{width:f,height:w,onError:N})),he==="loading"&&i.createElement("div",{"aria-hidden":"true",className:"".concat(s,"-placeholder")},u),Q&&Ie&&i.createElement("div",{className:re("".concat(s,"-mask"),M),style:{display:(y==null?void 0:y.display)==="none"?"none":void 0}},Q)),!ce&&Ie&&i.createElement(gr,ue({"aria-hidden":!ne,visible:ne,prefixCls:m,onClose:Oe,mousePosition:ie,src:A,alt:a,imageInfo:{width:f,height:w},fallback:g,getContainer:W,icons:x,movable:J,scaleStep:L,minScale:X,maxScale:Z,rootClassName:p,imageRender:v,imgCommonProps:Ce,toolbarRender:I},k)))};Lt.PreviewGroup=zn;var Xn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},Gn=function(t,r){return i.createElement(Re,ue({},t,{ref:r,icon:Xn}))},Hn=i.forwardRef(Gn),Vn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},qn=function(t,r){return i.createElement(Re,ue({},t,{ref:r,icon:Vn}))},Wn=i.forwardRef(qn),Yn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},Kn=function(t,r){return i.createElement(Re,ue({},t,{ref:r,icon:Yn}))},Ht=i.forwardRef(Kn),Zn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},Qn=function(t,r){return i.createElement(Re,ue({},t,{ref:r,icon:Zn}))},Jn=i.forwardRef(Qn),ea={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},ta=function(t,r){return i.createElement(Re,ue({},t,{ref:r,icon:ea}))},ra=i.forwardRef(ta);const jt=e=>({position:e||"absolute",inset:0}),na=e=>{const{iconCls:t,motionDurationSlow:r,paddingXXS:a,marginXXS:o,prefixCls:n,colorTextLightSolid:s}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:s,background:new Be("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${r}`,[`.${n}-mask-info`]:Object.assign(Object.assign({},Mt),{padding:`0 ${we(a)}`,[t]:{marginInlineEnd:o,svg:{verticalAlign:"baseline"}}})}},aa=e=>{const{previewCls:t,modalMaskBg:r,paddingSM:a,marginXL:o,margin:n,paddingLG:s,previewOperationColorDisabled:c,previewOperationHoverColor:m,motionDurationSlow:u,iconCls:g,colorTextLightSolid:f}=e,w=new Be(r).setA(.1),y=w.clone().setA(.2);return{[`${t}-footer`]:{position:"fixed",bottom:o,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)"},[`${t}-progress`]:{marginBottom:n},[`${t}-close`]:{position:"fixed",top:o,right:{_skip_check_:!0,value:o},display:"flex",color:f,backgroundColor:w.toRgbString(),borderRadius:"50%",padding:a,outline:0,border:0,cursor:"pointer",transition:`all ${u}`,"&:hover":{backgroundColor:y.toRgbString()},[`& > ${g}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${we(s)}`,backgroundColor:w.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:a,padding:a,cursor:"pointer",transition:`all ${u}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${g}`]:{color:m},"&-disabled":{color:c,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${g}`]:{fontSize:e.previewOperationSize}}}}},oa=e=>{const{modalMaskBg:t,iconCls:r,previewOperationColorDisabled:a,previewCls:o,zIndexPopup:n,motionDurationSlow:s}=e,c=new Be(t).setA(.1),m=c.clone().setA(.2);return{[`${o}-switch-left, ${o}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(n).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:c.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${s}`,userSelect:"none","&:hover":{background:m.toRgbString()},"&-disabled":{"&, &:hover":{color:a,background:"transparent",cursor:"not-allowed",[`> ${r}`]:{cursor:"not-allowed"}}},[`> ${r}`]:{fontSize:e.previewOperationSize}},[`${o}-switch-left`]:{insetInlineStart:e.marginSM},[`${o}-switch-right`]:{insetInlineEnd:e.marginSM}}},ia=e=>{const{motionEaseOut:t,previewCls:r,motionDurationSlow:a,componentCls:o}=e;return[{[`${o}-preview-root`]:{[r]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${r}-body`]:Object.assign(Object.assign({},jt()),{overflow:"hidden"}),[`${r}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${a} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},jt()),{transition:`transform ${a} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${r}-moving`]:{[`${r}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${o}-preview-root`]:{[`${r}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${o}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[aa(e),oa(e)]}]},sa=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},na(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},jt())}}},la=e=>{const{previewCls:t}=e;return{[`${t}-root`]:Pr(e,"zoom"),"&":Jt(e,!0)}},ca=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new Be(e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new Be(e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new Be(e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),hr=Qt("Image",e=>{const t=`${e.componentCls}-preview`,r=Ct(e,{previewCls:t,modalMaskBg:new Be("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[sa(r),ia(r),Or(Ct(r,{componentCls:t})),la(r)]},ca);var da=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const vr={rotateLeft:i.createElement(Hn,null),rotateRight:i.createElement(Wn,null),zoomIn:i.createElement(Jn,null),zoomOut:i.createElement(ra,null),close:i.createElement(kr,null),left:i.createElement(St,null),right:i.createElement(It,null),flipX:i.createElement(Ht,null),flipY:i.createElement(Ht,{rotate:90})},ua=e=>{var{previewPrefixCls:t,preview:r}=e,a=da(e,["previewPrefixCls","preview"]);const{getPrefixCls:o,direction:n}=i.useContext(pt),s=o("image",t),c=`${s}-preview`,m=o(),u=er(s),[g,f,w]=hr(s,u),[y]=tr("ImagePreview",typeof r=="object"?r.zIndex:void 0),l=i.useMemo(()=>Object.assign(Object.assign({},vr),{left:n==="rtl"?i.createElement(It,null):i.createElement(St,null),right:n==="rtl"?i.createElement(St,null):i.createElement(It,null)}),[n]),j=i.useMemo(()=>{var b;if(r===!1)return r;const $=typeof r=="object"?r:{},N=re(f,w,u,(b=$.rootClassName)!==null&&b!==void 0?b:"");return Object.assign(Object.assign({},$),{transitionName:ut(m,"zoom",$.transitionName),maskTransitionName:ut(m,"fade",$.maskTransitionName),rootClassName:N,zIndex:y})},[r,m,y,f,w,u]);return g(i.createElement(Lt.PreviewGroup,Object.assign({preview:j,previewPrefixCls:c,icons:l},a)))};var Vt=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const Nt=e=>{const{prefixCls:t,preview:r,className:a,rootClassName:o,style:n,fallback:s}=e,c=Vt(e,["prefixCls","preview","className","rootClassName","style","fallback"]),{getPrefixCls:m,getPopupContainer:u,className:g,style:f,preview:w,fallback:y}=rr("image"),[l]=nr("Image"),j=m("image",t),b=m(),$=er(j),[N,h,C]=hr(j,$),p=re(o,h,C,$),O=re(a,h,g),[S]=tr("ImagePreview",typeof r=="object"?r.zIndex:void 0),E=i.useMemo(()=>{if(r===!1)return r;const R=typeof r=="object"?r:{},{getContainer:B,closeIcon:H,rootClassName:U,destroyOnClose:W,destroyOnHidden:Q}=R,M=Vt(R,["getContainer","closeIcon","rootClassName","destroyOnClose","destroyOnHidden"]);return Object.assign(Object.assign({mask:i.createElement("div",{className:`${j}-mask-info`},i.createElement(ur,null),l==null?void 0:l.preview),icons:vr},M),{destroyOnClose:Q!=null?Q:W,rootClassName:re(p,U),getContainer:B!=null?B:u,transitionName:ut(b,"zoom",R.transitionName),maskTransitionName:ut(b,"fade",R.maskTransitionName),zIndex:S,closeIcon:H!=null?H:w==null?void 0:w.closeIcon})},[r,l,w==null?void 0:w.closeIcon]),F=Object.assign(Object.assign({},f),n),P=s!=null?s:y;return N(i.createElement(Lt,Object.assign({prefixCls:j,preview:E,rootClassName:p,className:O,style:F,fallback:P},c)))};Nt.PreviewGroup=ua;var br={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},ma=function(t,r){return i.createElement(Re,ue({},t,{ref:r,icon:br}))},pa=i.forwardRef(ma);const vt=(function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),a=e.name||"",o=e.type||"",n=o.replace(/\/.*$/,"");return r.some(function(s){var c=s.trim();if(/^\*(\/\*)?$/.test(s))return!0;if(c.charAt(0)==="."){var m=a.toLowerCase(),u=c.toLowerCase(),g=[u];return(u===".jpg"||u===".jpeg")&&(g=[".jpg",".jpeg"]),g.some(function(f){return m.endsWith(f)})}return/\/\*$/.test(c)?n===c.replace(/\/.*$/,""):o===c?!0:/^\w+$/.test(c)?(Mr(!1,"Upload takes an invalidate 'accept' type '".concat(c,"'.Skip for check.")),!0):!1})}return!0});function fa(e,t){var r="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),a=new Error(r);return a.status=t.status,a.method=e.method,a.url=e.action,a}function qt(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(r){return t}}function Wt(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(n){n.total>0&&(n.percent=n.loaded/n.total*100),e.onProgress(n)});var r=new FormData;e.data&&Object.keys(e.data).forEach(function(o){var n=e.data[o];if(Array.isArray(n)){n.forEach(function(s){r.append("".concat(o,"[]"),s)});return}r.append(o,n)}),e.file instanceof Blob?r.append(e.filename,e.file,e.file.name):r.append(e.filename,e.file),t.onerror=function(n){e.onError(n)},t.onload=function(){return t.status<200||t.status>=300?e.onError(fa(e,t),qt(t)):e.onSuccess(qt(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var a=e.headers||{};return a["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(a).forEach(function(o){a[o]!==null&&t.setRequestHeader(o,a[o])}),t.send(r),{abort:function(){t.abort()}}}var ga=(function(){var e=Ae(be().mark(function t(r,a){var o,n,s,c,m,u,g,f;return be().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:u=function(){return u=Ae(be().mark(function j(b){return be().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.abrupt("return",new Promise(function(h){b.file(function(C){a(C)?(b.fullPath&&!C.webkitRelativePath&&(Object.defineProperties(C,{webkitRelativePath:{writable:!0}}),C.webkitRelativePath=b.fullPath.replace(/^\//,""),Object.defineProperties(C,{webkitRelativePath:{writable:!1}})),h(C)):h(null)})}));case 1:case"end":return N.stop()}},j)})),u.apply(this,arguments)},m=function(j){return u.apply(this,arguments)},c=function(){return c=Ae(be().mark(function j(b){var $,N,h,C,p;return be().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:$=b.createReader(),N=[];case 2:return S.next=5,new Promise(function(E){$.readEntries(E,function(){return E([])})});case 5:if(h=S.sent,C=h.length,C){S.next=9;break}return S.abrupt("break",12);case 9:for(p=0;p<C;p++)N.push(h[p]);S.next=2;break;case 12:return S.abrupt("return",N);case 13:case"end":return S.stop()}},j)})),c.apply(this,arguments)},s=function(j){return c.apply(this,arguments)},o=[],n=[],r.forEach(function(l){return n.push(l.webkitGetAsEntry())}),g=(function(){var l=Ae(be().mark(function j(b,$){var N,h;return be().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(b){p.next=2;break}return p.abrupt("return");case 2:if(b.path=$||"",!b.isFile){p.next=10;break}return p.next=6,m(b);case 6:N=p.sent,N&&o.push(N),p.next=15;break;case 10:if(!b.isDirectory){p.next=15;break}return p.next=13,s(b);case 13:h=p.sent,n.push.apply(n,Se(h));case 15:case"end":return p.stop()}},j)}));return function(b,$){return l.apply(this,arguments)}})(),f=0;case 9:if(!(f<n.length)){y.next=15;break}return y.next=12,g(n[f]);case 12:f++,y.next=9;break;case 15:return y.abrupt("return",o);case 16:case"end":return y.stop()}},t)}));return function(r,a){return e.apply(this,arguments)}})(),ha=+new Date,va=0;function bt(){return"rc-upload-".concat(ha,"-").concat(++va)}var ba=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","folder","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],wa=(function(e){ar(r,e);var t=or(r);function r(){var a;ir(this,r);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return a=t.call.apply(t,[this].concat(n)),K(ve(a),"state",{uid:bt()}),K(ve(a),"reqs",{}),K(ve(a),"fileInput",void 0),K(ve(a),"_isMounted",void 0),K(ve(a),"onChange",function(c){var m=a.props,u=m.accept,g=m.directory,f=c.target.files,w=Se(f).filter(function(y){return!g||vt(y,u)});a.uploadFiles(w),a.reset()}),K(ve(a),"onClick",function(c){var m=a.fileInput;if(m){var u=c.target,g=a.props.onClick;if(u&&u.tagName==="BUTTON"){var f=m.parentNode;f.focus(),u.blur()}m.click(),g&&g(c)}}),K(ve(a),"onKeyDown",function(c){c.key==="Enter"&&a.onClick(c)}),K(ve(a),"onDataTransferFiles",(function(){var c=Ae(be().mark(function m(u,g){var f,w,y,l,j,b,$;return be().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(f=a.props,w=f.multiple,y=f.accept,l=f.directory,j=Se(u.items||[]),b=Se(u.files||[]),(b.length>0||j.some(function(C){return C.kind==="file"}))&&(g==null||g()),!l){h.next=11;break}return h.next=7,ga(Array.prototype.slice.call(j),function(C){return vt(C,a.props.accept)});case 7:b=h.sent,a.uploadFiles(b),h.next=14;break;case 11:$=Se(b).filter(function(C){return vt(C,y)}),w===!1&&($=b.slice(0,1)),a.uploadFiles($);case 14:case"end":return h.stop()}},m)}));return function(m,u){return c.apply(this,arguments)}})()),K(ve(a),"onFilePaste",(function(){var c=Ae(be().mark(function m(u){var g,f;return be().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(g=a.props.pastable,g){y.next=3;break}return y.abrupt("return");case 3:if(u.type!=="paste"){y.next=6;break}return f=u.clipboardData,y.abrupt("return",a.onDataTransferFiles(f,function(){u.preventDefault()}));case 6:case"end":return y.stop()}},m)}));return function(m){return c.apply(this,arguments)}})()),K(ve(a),"onFileDragOver",function(c){c.preventDefault()}),K(ve(a),"onFileDrop",(function(){var c=Ae(be().mark(function m(u){var g;return be().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(u.preventDefault(),u.type!=="drop"){w.next=4;break}return g=u.dataTransfer,w.abrupt("return",a.onDataTransferFiles(g));case 4:case"end":return w.stop()}},m)}));return function(m){return c.apply(this,arguments)}})()),K(ve(a),"uploadFiles",function(c){var m=Se(c),u=m.map(function(g){return g.uid=bt(),a.processFile(g,m)});Promise.all(u).then(function(g){var f=a.props.onBatchStart;f==null||f(g.map(function(w){var y=w.origin,l=w.parsedFile;return{file:y,parsedFile:l}})),g.filter(function(w){return w.parsedFile!==null}).forEach(function(w){a.post(w)})})}),K(ve(a),"processFile",(function(){var c=Ae(be().mark(function m(u,g){var f,w,y,l,j,b,$,N,h;return be().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(f=a.props.beforeUpload,w=u,!f){p.next=14;break}return p.prev=3,p.next=6,f(u,g);case 6:w=p.sent,p.next=12;break;case 9:p.prev=9,p.t0=p.catch(3),w=!1;case 12:if(w!==!1){p.next=14;break}return p.abrupt("return",{origin:u,parsedFile:null,action:null,data:null});case 14:if(y=a.props.action,typeof y!="function"){p.next=21;break}return p.next=18,y(u);case 18:l=p.sent,p.next=22;break;case 21:l=y;case 22:if(j=a.props.data,typeof j!="function"){p.next=29;break}return p.next=26,j(u);case 26:b=p.sent,p.next=30;break;case 29:b=j;case 30:return $=(kt(w)==="object"||typeof w=="string")&&w?w:u,$ instanceof File?N=$:N=new File([$],u.name,{type:u.type}),h=N,h.uid=u.uid,p.abrupt("return",{origin:u,data:b,parsedFile:h,action:l});case 35:case"end":return p.stop()}},m,null,[[3,9]])}));return function(m,u){return c.apply(this,arguments)}})()),K(ve(a),"saveFileInput",function(c){a.fileInput=c}),a}return sr(r,[{key:"componentDidMount",value:function(){this._isMounted=!0;var o=this.props.pastable;o&&document.addEventListener("paste",this.onFilePaste)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort(),document.removeEventListener("paste",this.onFilePaste)}},{key:"componentDidUpdate",value:function(o){var n=this.props.pastable;n&&!o.pastable?document.addEventListener("paste",this.onFilePaste):!n&&o.pastable&&document.removeEventListener("paste",this.onFilePaste)}},{key:"post",value:function(o){var n=this,s=o.data,c=o.origin,m=o.action,u=o.parsedFile;if(this._isMounted){var g=this.props,f=g.onStart,w=g.customRequest,y=g.name,l=g.headers,j=g.withCredentials,b=g.method,$=c.uid,N=w||Wt,h={action:m,filename:y,data:s,file:u,headers:l,withCredentials:j,method:b||"post",onProgress:function(p){var O=n.props.onProgress;O==null||O(p,u)},onSuccess:function(p,O){var S=n.props.onSuccess;S==null||S(p,u,O),delete n.reqs[$]},onError:function(p,O){var S=n.props.onError;S==null||S(p,O,u),delete n.reqs[$]}};f(c),this.reqs[$]=N(h,{defaultRequest:Wt})}}},{key:"reset",value:function(){this.setState({uid:bt()})}},{key:"abort",value:function(o){var n=this.reqs;if(o){var s=o.uid?o.uid:o;n[s]&&n[s].abort&&n[s].abort(),delete n[s]}else Object.keys(n).forEach(function(c){n[c]&&n[c].abort&&n[c].abort(),delete n[c]})}},{key:"render",value:function(){var o=this.props,n=o.component,s=o.prefixCls,c=o.className,m=o.classNames,u=m===void 0?{}:m,g=o.disabled,f=o.id,w=o.name,y=o.style,l=o.styles,j=l===void 0?{}:l,b=o.multiple,$=o.accept,N=o.capture,h=o.children,C=o.directory,p=o.folder,O=o.openFileDialogOnClick,S=o.onMouseEnter,E=o.onMouseLeave,F=o.hasControlInside,P=Xe(o,ba),R=re(K(K(K({},s,!0),"".concat(s,"-disabled"),g),c,c)),B=C||p?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},H=g?{}:{onClick:O?this.onClick:function(){},onKeyDown:O?this.onKeyDown:function(){},onMouseEnter:S,onMouseLeave:E,onDrop:this.onFileDrop,onDragOver:this.onFileDragOver,tabIndex:F?void 0:"0"};return Ee.createElement(n,ue({},H,{className:R,role:F?void 0:"button",style:y}),Ee.createElement("input",ue({},Lr(P,{aria:!0,data:!0}),{id:f,name:w,disabled:g,type:"file",ref:this.saveFileInput,onClick:function(W){return W.stopPropagation()},key:this.state.uid,style:ae({display:"none"},j.input),className:u.input,accept:$},B,{multiple:b,onChange:this.onChange},N!=null?{capture:N}:{})),h)}}]),r})(i.Component);function wt(){}var Et=(function(e){ar(r,e);var t=or(r);function r(){var a;ir(this,r);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return a=t.call.apply(t,[this].concat(n)),K(ve(a),"uploader",void 0),K(ve(a),"saveUploader",function(c){a.uploader=c}),a}return sr(r,[{key:"abort",value:function(o){this.uploader.abort(o)}},{key:"render",value:function(){return Ee.createElement(wa,ue({},this.props,{ref:this.saveUploader}))}}]),r})(i.Component);K(Et,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:wt,onError:wt,onSuccess:wt,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const ya=e=>{const{componentCls:t,iconCls:r}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${we(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${we(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[r]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${we(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${r},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},xa=e=>{const{componentCls:t,iconCls:r,fontSize:a,lineHeight:o,calc:n}=e,s=`${t}-list-item`,c=`${s}-actions`,m=`${s}-action`;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},lr()),{lineHeight:e.lineHeight,[s]:{position:"relative",height:n(e.lineHeight).mul(a).equal(),marginTop:e.marginXS,fontSize:a,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${s}-name`]:Object.assign(Object.assign({},Mt),{padding:`0 ${we(e.paddingXS)}`,lineHeight:o,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[c]:{whiteSpace:"nowrap",[m]:{opacity:0},[r]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${m}:focus-visible,
              &.picture ${m}
            `]:{opacity:1}},[`${t}-icon ${r}`]:{color:e.colorIcon,fontSize:a},[`${s}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:n(a).add(e.paddingXS).equal(),fontSize:a,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${s}:hover ${m}`]:{opacity:1},[`${s}-error`]:{color:e.colorError,[`${s}-name, ${t}-icon ${r}`]:{color:e.colorError},[c]:{[`${r}, ${r}:hover`]:{color:e.colorError},[m]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},Ca=e=>{const{componentCls:t}=e,r=new Dt("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),a=new Dt("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),o=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${o}-appear, ${o}-enter, ${o}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${o}-appear, ${o}-enter`]:{animationName:r},[`${o}-leave`]:{animationName:a}}},{[`${t}-wrapper`]:Jt(e)},r,a]},Sa=e=>{const{componentCls:t,iconCls:r,uploadThumbnailSize:a,uploadProgressOffset:o,calc:n}=e,s=`${t}-list`,c=`${s}-item`;return{[`${t}-wrapper`]:{[`
        ${s}${s}-picture,
        ${s}${s}-picture-card,
        ${s}${s}-picture-circle
      `]:{[c]:{position:"relative",height:n(a).add(n(e.lineWidth).mul(2)).add(n(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${we(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${c}-thumbnail`]:Object.assign(Object.assign({},Mt),{width:a,height:a,lineHeight:we(n(a).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[r]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${c}-progress`]:{bottom:o,width:`calc(100% - ${we(n(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:n(a).add(e.paddingXS).equal()}},[`${c}-error`]:{borderColor:e.colorError,[`${c}-thumbnail ${r}`]:{[`svg path[fill='${At[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${At.primary}']`]:{fill:e.colorError}}},[`${c}-uploading`]:{borderStyle:"dashed",[`${c}-name`]:{marginBottom:o}}},[`${s}${s}-picture-circle ${c}`]:{[`&, &::before, ${c}-thumbnail`]:{borderRadius:"50%"}}}}},Ia=e=>{const{componentCls:t,iconCls:r,fontSizeLG:a,colorTextLightSolid:o,calc:n}=e,s=`${t}-list`,c=`${s}-item`,m=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},lr()),{display:"block",[`${t}${t}-select`]:{width:m,height:m,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${we(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${s}${s}-picture-card, ${s}${s}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${s}-item-container`]:{display:"inline-block",width:m,height:m,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[c]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${we(n(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${we(n(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${c}:hover`]:{[`&::before, ${c}-actions`]:{opacity:1}},[`${c}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${r}-eye,
            ${r}-download,
            ${r}-delete
          `]:{zIndex:10,width:a,margin:`0 ${we(e.marginXXS)}`,fontSize:a,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:o,"&:hover":{color:o},svg:{verticalAlign:"baseline"}}},[`${c}-thumbnail, ${c}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${c}-name`]:{display:"none",textAlign:"center"},[`${c}-file + ${c}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${we(n(e.paddingXS).mul(2).equal())})`},[`${c}-uploading`]:{[`&${c}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${r}-eye, ${r}-download, ${r}-delete`]:{display:"none"}},[`${c}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${we(n(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},$a=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},ja=e=>{const{componentCls:t,colorTextDisabled:r}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},Tr(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-hidden`]:{display:"none"},[`${t}-disabled`]:{color:r,cursor:"not-allowed"}})}},Na=e=>({actionsColor:e.colorIcon,pictureCardSize:e.controlHeightLG*2.55}),Ea=Qt("Upload",e=>{const{fontSizeHeading3:t,fontHeight:r,lineWidth:a,pictureCardSize:o,calc:n}=e,s=Ct(e,{uploadThumbnailSize:n(t).mul(2).equal(),uploadProgressOffset:n(n(r).div(2)).add(a).equal(),uploadPicCardSize:o});return[ja(s),ya(s),Sa(s),Ia(s),xa(s),Ca(s),$a(s),un(s)]},Na);var Ra={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:r}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"},Oa=function(t,r){return i.createElement(Re,ue({},t,{ref:r,icon:Ra}))},Pa=i.forwardRef(Oa),ka={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},Ma=function(t,r){return i.createElement(Re,ue({},t,{ref:r,icon:ka}))},La=i.forwardRef(Ma),Ta={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:r}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:r}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:r}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"},Fa=function(t,r){return i.createElement(Re,ue({},t,{ref:r,icon:Ta}))},Da=i.forwardRef(Fa);function lt(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function ct(e,t){const r=Se(t),a=r.findIndex(({uid:o})=>o===e.uid);return a===-1?r.push(e):r[a]=e,r}function yt(e,t){const r=e.uid!==void 0?"uid":"name";return t.filter(a=>a[r]===e[r])[0]}function Aa(e,t){const r=e.uid!==void 0?"uid":"name",a=t.filter(o=>o[r]!==e[r]);return a.length===t.length?null:a}const za=(e="")=>{const t=e.split("/"),a=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(a)||[""])[0]},wr=e=>e.indexOf("image/")===0,_a=e=>{if(e.type&&!e.thumbUrl)return wr(e.type);const t=e.thumbUrl||e.url||"",r=za(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(r)?!0:!(/^data:/.test(t)||r)},Fe=200;function Ba(e){return new Promise(t=>{if(!e.type||!wr(e.type)){t("");return}const r=document.createElement("canvas");r.width=Fe,r.height=Fe,r.style.cssText=`position: fixed; left: 0; top: 0; width: ${Fe}px; height: ${Fe}px; z-index: 9999; display: none;`,document.body.appendChild(r);const a=r.getContext("2d"),o=new Image;if(o.onload=()=>{const{width:n,height:s}=o;let c=Fe,m=Fe,u=0,g=0;n>s?(m=s*(Fe/n),g=-(m-c)/2):(c=n*(Fe/s),u=-(c-m)/2),a.drawImage(o,u,g,c,m);const f=r.toDataURL();document.body.removeChild(r),window.URL.revokeObjectURL(o.src),t(f)},o.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const n=new FileReader;n.onload=()=>{n.result&&typeof n.result=="string"&&(o.src=n.result)},n.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const n=new FileReader;n.onload=()=>{n.result&&t(n.result)},n.readAsDataURL(e)}else o.src=window.URL.createObjectURL(e)})}var Ua=function(t,r){return i.createElement(Re,ue({},t,{ref:r,icon:mn}))},Xa=i.forwardRef(Ua);const Ga=i.forwardRef(({prefixCls:e,className:t,style:r,locale:a,listType:o,file:n,items:s,progress:c,iconRender:m,actionIconRender:u,itemRender:g,isImgUrl:f,showPreviewIcon:w,showRemoveIcon:y,showDownloadIcon:l,previewIcon:j,removeIcon:b,downloadIcon:$,extra:N,onPreview:h,onDownload:C,onClose:p},O)=>{var S,E;const{status:F}=n,[P,R]=i.useState(F);i.useEffect(()=>{F!=="removed"&&R(F)},[F]);const[B,H]=i.useState(!1);i.useEffect(()=>{const _=setTimeout(()=>{H(!0)},300);return()=>{clearTimeout(_)}},[]);const U=m(n);let W=i.createElement("div",{className:`${e}-icon`},U);if(o==="picture"||o==="picture-card"||o==="picture-circle")if(P==="uploading"||!n.thumbUrl&&!n.url){const _=re(`${e}-list-item-thumbnail`,{[`${e}-list-item-file`]:P!=="uploading"});W=i.createElement("div",{className:_},U)}else{const _=f!=null&&f(n)?i.createElement("img",{src:n.thumbUrl||n.url,alt:n.name,className:`${e}-list-item-image`,crossOrigin:n.crossOrigin}):U,me=re(`${e}-list-item-thumbnail`,{[`${e}-list-item-file`]:f&&!f(n)});W=i.createElement("a",{className:me,onClick:ge=>h(n,ge),href:n.url||n.thumbUrl,target:"_blank",rel:"noopener noreferrer"},_)}const Q=re(`${e}-list-item`,`${e}-list-item-${P}`),M=typeof n.linkProps=="string"?JSON.parse(n.linkProps):n.linkProps,J=(typeof y=="function"?y(n):y)?u((typeof b=="function"?b(n):b)||i.createElement(pa,null),()=>p(n),e,a.removeFile,!0):null,x=(typeof l=="function"?l(n):l)&&P==="done"?u((typeof $=="function"?$(n):$)||i.createElement(Xa,null),()=>C(n),e,a.downloadFile):null,L=o!=="picture-card"&&o!=="picture-circle"&&i.createElement("span",{key:"download-delete",className:re(`${e}-list-item-actions`,{picture:o==="picture"})},x,J),X=typeof N=="function"?N(n):N,Z=X&&i.createElement("span",{className:`${e}-list-item-extra`},X),v=re(`${e}-list-item-name`),I=n.url?i.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:v,title:n.name},M,{href:n.url,onClick:_=>h(n,_)}),n.name,Z):i.createElement("span",{key:"view",className:v,onClick:_=>h(n,_),title:n.name},n.name,Z),k=(typeof w=="function"?w(n):w)&&(n.url||n.thumbUrl)?i.createElement("a",{href:n.url||n.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:_=>h(n,_),title:a.previewFile},typeof j=="function"?j(n):j||i.createElement(ur,null)):null,A=(o==="picture-card"||o==="picture-circle")&&P!=="uploading"&&i.createElement("span",{className:`${e}-list-item-actions`},k,P==="done"&&x,J),{getPrefixCls:Y}=i.useContext(pt),oe=Y(),ne=i.createElement("div",{className:Q},W,I,L,A,B&&i.createElement(Pt,{motionName:`${oe}-fade`,visible:P==="uploading",motionDeadline:2e3},({className:_})=>{const me="percent"in n?i.createElement(pn,Object.assign({type:"line",percent:n.percent,"aria-label":n["aria-label"],"aria-labelledby":n["aria-labelledby"]},c)):null;return i.createElement("div",{className:re(`${e}-list-item-progress`,_)},me)})),q=n.response&&typeof n.response=="string"?n.response:((S=n.error)===null||S===void 0?void 0:S.statusText)||((E=n.error)===null||E===void 0?void 0:E.message)||a.uploadError,le=P==="error"?i.createElement(cr,{title:q,getPopupContainer:_=>_.parentNode},ne):ne;return i.createElement("div",{className:re(`${e}-list-item-container`,t),style:r,ref:O},g?g(le,n,s,{download:C.bind(null,n),preview:h.bind(null,n),remove:p.bind(null,n)}):le)}),Ha=(e,t)=>{const{listType:r="text",previewFile:a=Ba,onPreview:o,onDownload:n,onRemove:s,locale:c,iconRender:m,isImageUrl:u=_a,prefixCls:g,items:f=[],showPreviewIcon:w=!0,showRemoveIcon:y=!0,showDownloadIcon:l=!1,removeIcon:j,previewIcon:b,downloadIcon:$,extra:N,progress:h={size:[-1,2],showInfo:!1},appendAction:C,appendActionVisible:p=!0,itemRender:O,disabled:S}=e,[,E]=ln(),[F,P]=i.useState(!1),R=["picture-card","picture-circle"].includes(r);i.useEffect(()=>{r.startsWith("picture")&&(f||[]).forEach(v=>{!(v.originFileObj instanceof File||v.originFileObj instanceof Blob)||v.thumbUrl!==void 0||(v.thumbUrl="",a==null||a(v.originFileObj).then(I=>{v.thumbUrl=I||"",E()}))})},[r,f,a]),i.useEffect(()=>{P(!0)},[]);const B=(v,I)=>{if(o)return I==null||I.preventDefault(),o(v)},H=v=>{typeof n=="function"?n(v):v.url&&window.open(v.url)},U=v=>{s==null||s(v)},W=v=>{if(m)return m(v,r);const I=v.status==="uploading";if(r.startsWith("picture")){const k=r==="picture"?i.createElement(_t,null):c.uploading,A=u!=null&&u(v)?i.createElement(Da,null):i.createElement(Pa,null);return I?k:A}return I?i.createElement(_t,null):i.createElement(La,null)},Q=(v,I,k,A,Y)=>{const oe={type:"text",size:"small",title:A,onClick:ne=>{var q,le;I(),i.isValidElement(v)&&((le=(q=v.props).onClick)===null||le===void 0||le.call(q,ne))},className:`${k}-list-item-action`,disabled:Y?S:!1};return i.isValidElement(v)?i.createElement(Ue,Object.assign({},oe,{icon:zt(v,Object.assign(Object.assign({},v.props),{onClick:()=>{}}))})):i.createElement(Ue,Object.assign({},oe),i.createElement("span",null,v))};i.useImperativeHandle(t,()=>({handlePreview:B,handleDownload:H}));const{getPrefixCls:M}=i.useContext(pt),J=M("upload",g),x=M(),L=re(`${J}-list`,`${J}-list-${r}`),X=i.useMemo(()=>Fr(Dr(x),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[x]),Z=Object.assign(Object.assign({},R?{}:X),{motionDeadline:2e3,motionName:`${J}-${R?"animate-inline":"animate"}`,keys:Se(f.map(v=>({key:v.uid,file:v}))),motionAppear:F});return i.createElement("div",{className:L},i.createElement(Ar,Object.assign({},Z,{component:!1}),({key:v,file:I,className:k,style:A})=>i.createElement(Ga,{key:v,locale:c,prefixCls:J,className:k,style:A,file:I,items:f,progress:h,listType:r,isImgUrl:u,showPreviewIcon:w,showRemoveIcon:y,showDownloadIcon:l,removeIcon:j,previewIcon:b,downloadIcon:$,extra:N,iconRender:W,actionIconRender:Q,itemRender:O,onPreview:B,onDownload:H,onClose:U})),C&&i.createElement(Pt,Object.assign({},Z,{visible:p,forceRender:!0}),({className:v,style:I})=>zt(C,k=>({className:re(k.className,v),style:Object.assign(Object.assign(Object.assign({},I),{pointerEvents:v?"none":void 0}),k.style)}))))},Va=i.forwardRef(Ha);var qa=function(e,t,r,a){function o(n){return n instanceof r?n:new r(function(s){s(n)})}return new(r||(r=Promise))(function(n,s){function c(g){try{u(a.next(g))}catch(f){s(f)}}function m(g){try{u(a.throw(g))}catch(f){s(f)}}function u(g){g.done?n(g.value):o(g.value).then(c,m)}u((a=a.apply(e,[])).next())})};const et=`__LIST_IGNORE_${Date.now()}__`,Wa=(e,t)=>{const r=rr("upload"),{fileList:a,defaultFileList:o,onRemove:n,showUploadList:s=!0,listType:c="text",onPreview:m,onDownload:u,onChange:g,onDrop:f,previewFile:w,disabled:y,locale:l,iconRender:j,isImageUrl:b,progress:$,prefixCls:N,className:h,type:C="select",children:p,style:O,itemRender:S,maxCount:E,data:F={},multiple:P=!1,hasControlInside:R=!0,action:B="",accept:H="",supportServerRender:U=!0,rootClassName:W}=e,Q=i.useContext(zr),M=y!=null?y:Q,J=e.customRequest||r.customRequest,[x,L]=dt(o||[],{value:a,postState:D=>D!=null?D:[]}),[X,Z]=i.useState("drop"),v=i.useRef(null),I=i.useRef(null);i.useMemo(()=>{const D=Date.now();(a||[]).forEach((V,te)=>{!V.uid&&!Object.isFrozen(V)&&(V.uid=`__AUTO__${D}_${te}__`)})},[a]);const k=(D,V,te)=>{let T=Se(V),G=!1;E===1?T=T.slice(-1):E&&(G=T.length>E,T=T.slice(0,E)),Bt.flushSync(()=>{L(T)});const de={file:D,fileList:T};te&&(de.event=te),(!G||D.status==="removed"||T.some(ze=>ze.uid===D.uid))&&Bt.flushSync(()=>{g==null||g(de)})},A=(D,V)=>qa(void 0,void 0,void 0,function*(){const{beforeUpload:te,transformFile:T}=e;let G=D;if(te){const de=yield te(D,V);if(de===!1)return!1;if(delete D[et],de===et)return Object.defineProperty(D,et,{value:!0,configurable:!0}),!1;typeof de=="object"&&de&&(G=de)}return T&&(G=yield T(G)),G}),Y=D=>{const V=D.filter(G=>!G.file[et]);if(!V.length)return;const te=V.map(G=>lt(G.file));let T=Se(x);te.forEach(G=>{T=ct(G,T)}),te.forEach((G,de)=>{let ze=G;if(V[de].parsedFile)G.status="uploading";else{const{originFileObj:He}=G;let _e;try{_e=new File([He],He.name,{type:He.type})}catch(io){_e=new Blob([He],{type:He.type}),_e.name=He.name,_e.lastModifiedDate=new Date,_e.lastModified=new Date().getTime()}_e.uid=G.uid,ze=_e}k(ze,T)})},oe=(D,V,te)=>{try{typeof D=="string"&&(D=JSON.parse(D))}catch(de){}if(!yt(V,x))return;const T=lt(V);T.status="done",T.percent=100,T.response=D,T.xhr=te;const G=ct(T,x);k(T,G)},ne=(D,V)=>{if(!yt(V,x))return;const te=lt(V);te.status="uploading",te.percent=D.percent;const T=ct(te,x);k(te,T,D)},q=(D,V,te)=>{if(!yt(te,x))return;const T=lt(te);T.error=D,T.response=V,T.status="error";const G=ct(T,x);k(T,G)},le=D=>{let V;Promise.resolve(typeof n=="function"?n(D):n).then(te=>{var T;if(te===!1)return;const G=Aa(D,x);G&&(V=Object.assign(Object.assign({},D),{status:"removed"}),x==null||x.forEach(de=>{const ze=V.uid!==void 0?"uid":"name";de[ze]===V[ze]&&!Object.isFrozen(de)&&(de.status="removed")}),(T=v.current)===null||T===void 0||T.abort(V),k(V,G))})},_=D=>{Z(D.type),D.type==="drop"&&(f==null||f(D))};i.useImperativeHandle(t,()=>({onBatchStart:Y,onSuccess:oe,onProgress:ne,onError:q,fileList:x,upload:v.current,nativeElement:I.current}));const{getPrefixCls:me,direction:ge,upload:he}=i.useContext(pt),z=me("upload",N),ee=Object.assign(Object.assign({onBatchStart:Y,onError:q,onProgress:ne,onSuccess:oe},e),{customRequest:J,data:F,multiple:P,action:B,accept:H,supportServerRender:U,prefixCls:z,disabled:M,beforeUpload:A,onChange:void 0,hasControlInside:R});delete ee.className,delete ee.style,(!p||M)&&delete ee.id;const ie=`${z}-wrapper`,[pe,ce,Ie]=Ea(z,ie),[Oe]=nr("Upload",_r.Upload),{showRemoveIcon:ye,showPreviewIcon:Ce,showDownloadIcon:We,removeIcon:Ye,previewIcon:Ke,downloadIcon:$e,extra:je}=typeof s=="boolean"?{}:s,Ge=typeof ye=="undefined"?!M:ye,ke=(D,V)=>s?i.createElement(Va,{prefixCls:z,listType:c,items:x,previewFile:w,onPreview:m,onDownload:u,onRemove:le,showRemoveIcon:Ge,showPreviewIcon:Ce,showDownloadIcon:We,removeIcon:Ye,previewIcon:Ke,downloadIcon:$e,iconRender:j,extra:je,locale:Object.assign(Object.assign({},Oe),l),isImageUrl:b,progress:$,appendAction:D,appendActionVisible:V,itemRender:S,disabled:M}):D,Me=re(ie,h,W,ce,Ie,he==null?void 0:he.className,{[`${z}-rtl`]:ge==="rtl",[`${z}-picture-card-wrapper`]:c==="picture-card",[`${z}-picture-circle-wrapper`]:c==="picture-circle"}),nt=Object.assign(Object.assign({},he==null?void 0:he.style),O);if(C==="drag"){const D=re(ce,z,`${z}-drag`,{[`${z}-drag-uploading`]:x.some(V=>V.status==="uploading"),[`${z}-drag-hover`]:X==="dragover",[`${z}-disabled`]:M,[`${z}-rtl`]:ge==="rtl"});return pe(i.createElement("span",{className:Me,ref:I},i.createElement("div",{className:D,style:nt,onDrop:_,onDragOver:_,onDragLeave:_},i.createElement(Et,Object.assign({},ee,{ref:v,className:`${z}-btn`}),i.createElement("div",{className:`${z}-drag-container`},p))),ke()))}const Ze=re(z,`${z}-select`,{[`${z}-disabled`]:M,[`${z}-hidden`]:!p}),at=i.createElement("div",{className:Ze,style:nt},i.createElement(Et,Object.assign({},ee,{ref:v})));return pe(c==="picture-card"||c==="picture-circle"?i.createElement("span",{className:Me,ref:I},ke(at,!!p)):i.createElement("span",{className:Me,ref:I},at,ke()))},yr=i.forwardRef(Wa);var Ya=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const Ka=i.forwardRef((e,t)=>{const{style:r,height:a,hasControlInside:o=!1,children:n}=e,s=Ya(e,["style","height","hasControlInside","children"]),c=Object.assign(Object.assign({},r),{height:a});return i.createElement(yr,Object.assign({ref:t,hasControlInside:o},s,{style:c,type:"drag"}),n)}),tt=yr;tt.Dragger=Ka;tt.LIST_IGNORE=et;function Rt(){return Rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Rt.apply(this,arguments)}const Za=(e,t)=>i.createElement(dr,Rt({},e,{ref:t,icon:br})),Qa=i.forwardRef(Za);var Ja={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ot.apply(this,arguments)}const eo=(e,t)=>i.createElement(dr,Ot({},e,{ref:t,icon:Ja})),to=i.forwardRef(eo),ro=(e,t)=>t.split(".").reduce((r,a)=>r&&r[a],e),no=(e,t,r)=>{const a=t.pop(),o=structuredClone(e);let n=o;for(const s of t)n[s]||(n[s]={}),n=n[s];return n[a]=r,o},Yt=["image/png","image/jpeg","image/webp"],Kt=1,ao=6,Zt=9,oo=({id:e,label:t,initialFiles:r=[],maxCount:a=15,onChange:o})=>{const[n,s]=i.useState(r),[c,m]=i.useState(!1),[u,g]=i.useState(1),[f,w]=i.useState(Zt),y=In.useBreakpoint();i.useEffect(()=>{w(y.sm?Zt:ao)},[y.sm]),i.useEffect(()=>{(r.length!==n.length||r.some((h,C)=>{var p;return h.uid!==((p=n[C])==null?void 0:p.uid)}))&&s(r)},[r]),i.useEffect(()=>{const h=Math.ceil(n.length/f);u>h&&h>0&&g(h)},[n.length,f,u]);const l=h=>Yt.includes(h.type)?h.size/1024/1024>Kt?(Pe.error(`${h.name} exceeds 1MB limit.`),tt.LIST_IGNORE):!1:(Pe.error(`${h.name} is not a valid image type.`),tt.LIST_IGNORE),j=({fileList:h})=>{const C=h.slice(0,a);s(C),o==null||o(C)},b=h=>{const C=n.filter(p=>p.uid!==h.uid);s(C),o==null||o(C)},$=(h,C)=>{if(n.length>=a){Pe.warning(`Maximum ${a} images allowed`);return}if(n.some(E=>E.url===h)){Pe.info("This image is already added");return}const O={uid:`gallery-${Date.now()}-${Math.random()}`,name:C||"Gallery Image",status:"done",url:h,thumbUrl:h},S=[...n,O];s(S),o==null||o(S),Pe.success("Image added from gallery")},N=i.useMemo(()=>{const h=(u-1)*f,C=h+f;return n.slice(h,C)},[n,u,f]);return d.jsx(d.Fragment,{children:d.jsxs(se,{vertical:!0,gap:12,children:[d.jsxs(se,{justify:"space-between",align:"center",className:"w-full flex-col sm:flex-row gap-2",children:[d.jsxs("label",{htmlFor:e,style:{fontWeight:500},className:"text-sm sm:text-base",children:[t," (Max ",a,", each ",Kt,"MB)"]}),d.jsxs(se,{gap:8,className:"w-full sm:w-auto",children:[d.jsx(Ue,{icon:d.jsx(cn,{}),onClick:()=>m(h=>!h),type:c?"primary":"default",className:"flex-1 sm:flex-none text-xs sm:text-sm",children:c?"Hide Gallery":"Browse Gallery"}),d.jsx(tt,{id:e,accept:Yt.join(","),multiple:!0,fileList:n,onChange:j,beforeUpload:l,showUploadList:!1,maxCount:a,className:"flex-1 sm:flex-none",children:n.length>=a?null:d.jsx(Ue,{icon:d.jsx(to,{className:"text-base sm:text-lg"}),block:!0,className:"!border-2 hover:ring-1 hover:ring-violet-500 !border-blue-500 hover:!bg-violet-50 hover:!text-gray-700 text-xs sm:text-sm font-medium",children:"Upload from Device"})})]})]}),c&&d.jsx("div",{className:"border-2 border-blue-200 rounded-lg p-3 sm:p-4 bg-gray-50 h-[400px] sm:h-[500px]",children:d.jsx(on,{onSelect:$,selectedImageUrl:""})}),n.length>0&&d.jsxs(se,{vertical:!0,gap:12,className:"mt-2",children:[d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-2.5 border border-violet-200 rounded-lg p-2 min-h-[220px]",children:d.jsx(Nt.PreviewGroup,{children:N.map(h=>{const C=h.thumbUrl||(h.originFileObj?URL.createObjectURL(h.originFileObj):h.url);return d.jsx(Br,{size:"small",hoverable:!0,style:{padding:6,display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid #abd"},cover:d.jsx(Nt,{src:C,alt:h.name,width:"100%",height:100,style:{objectFit:"cover",borderRadius:6}}),actions:[d.jsx(Qa,{onClick:()=>b(h)},"delete")]},h.uid)})})}),n.length>f&&d.jsx(se,{justify:"center",children:d.jsx(fn,{current:u,total:n.length,pageSize:f,onChange:h=>g(h),showSizeChanger:!1,size:"small",showTotal:(h,C)=>d.jsxs("span",{className:"text-xs text-gray-600",children:[C[0],"-",C[1]," of ",h]}),className:"text-sm"})})]})]})})},{Text:De}=Kr,Ko=({onSubmit:e,closeFnc:t})=>{const r=["Template Selection","Basic Information","Customization","Blog Options"],a={templateIds:[],template:"",topic:"",focusKeywords:[],keywords:[],title:"",tone:"",userDefinedLength:1e3,brief:"",aiModel:gt[0].id,isCheckedGeneratedImages:!1,imageSource:Te[0].id,numberOfImages:0,blogImages:[],referenceLinks:[],isCheckedQuick:!1,isCheckedBrand:!1,brandId:"",languageToWrite:"English",costCutter:!0,options:{exactTitle:!1,performKeywordResearch:!1,includeFaqs:!1,includeInterlinks:!1,includeCompetitorResearch:!1,addOutBoundLinks:!1,addCTA:!1}},o=[{key:"isCheckedQuick",label:"Add a Quick Summary"},{key:"options.includeFaqs",label:"Add FAQs (Frequently Asked Questions)"},{key:"options.includeInterlinks",label:"Include Interlinks"},{key:"options.includeCompetitorResearch",label:"Perform Competitive Research"},{key:"options.addOutBoundLinks",label:"Show Outbound Links"}],n=Ur(),s=Ut(Xr),c=Gr(),m=Hr(),{handlePopup:u}=Vr(),{showLoading:g,hideLoading:f}=qr(),[w,y]=i.useState(0),[l,j]=i.useState(a),[b,$]=i.useState({}),[N,h]=i.useState([]),[C,p]=i.useState(!1),O=()=>ft(null,null,function*(){try{if(p(!0),!l.topic.trim()||l.focusKeywords.length===0||l.keywords.length===0){P({topic:l.topic.trim()?"":"Please enter a topic name",focusKeywords:l.focusKeywords.length===0?"Please enter at least 1 focus keyword":"",keywords:l.keywords.length===0?"Please enter at least 1 keyword":""}),Pe.error("Please enter a topic and at least one focus keyword and keyword before generating titles.");return}const x=Ne({template:l.template,topic:l.topic,focusKeywords:l.focusKeywords,keywords:l.keywords},(N==null?void 0:N.length)>0&&{oldTitles:N}),L=yield n(Jr(x)).unwrap();h(L)}catch(x){console.error("Error generating titles:",x),Pe.error("Failed to generate titles. Please try again later.")}finally{p(!1)}}),S=Ut(Wr);i.useEffect(()=>{S&&j(x=>ot(Ne({},x),{focusKeywords:S.focusKeywords||x.focusKeywords,keywords:S.keywords||x.keywords}))},[S]);const E=i.useMemo(()=>{var X;const x=[];l.isCheckedBrand&&x.push("brandVoice"),l.options.includeCompetitorResearch&&x.push("competitorResearch"),l.options.performKeywordResearch&&x.push("keywordResearch"),l.options.includeInterlinks&&x.push("internalLinking"),l.options.includeFaqs&&x.push("faqGeneration"),l.isCheckedQuick&&x.push("quickSummary"),l.options.addOutBoundLinks&&x.push("outboundLinks");let L=hn({wordCount:l.userDefinedLength,features:x,aiModel:l.aiModel||"gemini",includeImages:l.isCheckedGeneratedImages,imageSource:l.imageSource,numberOfImages:l.imageSource===((X=Te.at(-1))==null?void 0:X.id)?l.blogImages.length:l.numberOfImages});return l.costCutter&&(L=Math.round(L*.75)),L},[l.isCheckedBrand,l.options.includeCompetitorResearch,l.options.performKeywordResearch,l.options.includeInterlinks,l.options.includeFaqs,l.isCheckedQuick,l.options.addOutBoundLinks,l.userDefinedLength,l.aiModel,l.isCheckedGeneratedImages,l.imageSource,l.numberOfImages,l.blogImages.length,l.costCutter]),F=i.useCallback(x=>{j(L=>Ne(Ne({},L),x))},[]),P=i.useCallback(x=>{$(L=>Ne(Ne({},L),x))},[]),R=i.useCallback(()=>{var L;const x={};switch(w){case 0:l.templateIds.length!==1&&(x.template="Please select at least 1 template");break;case 1:l.topic.length||(x.topic="Please enter a topic name"),l.options.performKeywordResearch||(l.focusKeywords.length||(x.focusKeywords="Please enter at least 1 focus keyword"),l.keywords.length||(x.keywords="Please enter at least 1 keyword"),l.title.length||(x.title="Please enter a title")),l.tone.trim()||(x.tone="Please select a tone of voice");break;case 2:l.isCheckedGeneratedImages&&l.imageSource===((L=Te.at(-1))==null?void 0:L.id)&&l.blogImages.length==0&&(x.blogImages="Please upload at least 1 image.");break;case 3:l.isCheckedBrand&&!l.brandId.trim()&&(x.brandId="Please select a Brand Voice")}return Object.keys(x).length?(P(x),!1):!0},[l,w,P]),B=i.useCallback(()=>{R()&&y(x=>x+1)},[R]),H=i.useCallback(()=>y(x=>x-1),[]),U=()=>{j(a),$({}),y(0),t==null||t()},W=()=>ft(null,null,function*(){var x,L,X;if(R()){const Z=E,v=(((x=s==null?void 0:s.credits)==null?void 0:x.base)||0)+(((L=s==null?void 0:s.credits)==null?void 0:L.extra)||0);if(v<Z){u({title:"Insufficient Credits",description:d.jsxs("div",{children:[d.jsx("p",{children:"You don't have enough credits to generate this blog."}),d.jsxs("p",{className:"mt-1",children:[d.jsx("strong",{children:"Required:"})," ",Z," credits"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Available:"})," ",v," credits"]})]}),okText:"Buy Credits",onConfirm:()=>{c("/pricing"),U()}});return}console.debug("Advanced Modal Form Data : ",l);const I=ot(Ne({},l),{options:Ne({},l.options)});l.isCheckedGeneratedImages||(I.imageSource=nn.NONE),(!l.isCheckedGeneratedImages||l.imageSource!==((X=Te.at(-1))==null?void 0:X.id))&&delete I.blogImages,l.isCheckedBrand||delete I.brandId,l.options.performKeywordResearch&&(delete I.title,delete I.keywords,delete I.focusKeywords);const k=an(I),A=g("Creating your blog...");try{yield n(Qr({blogData:k,user:s,navigate:c,queryClient:m})).unwrap(),U()}catch(Y){Pe.error((Y==null?void 0:Y.message)||"Failed to create blog. Please try again.")}finally{f(A)}}}),Q=i.useCallback(x=>{var L;F({template:((L=x==null?void 0:x[0])==null?void 0:L.name)||"",templateIds:x==null?void 0:x.map(X=>X.id)}),P({template:""})},[]),M=i.useCallback(x=>{const{name:L,value:X}=x.target;if(!L)throw new Error("Advanced blog form component error");const Z=L.split(".");Z.length>1?j(v=>no(v,Z,X)):(F({[L]:X}),P({[L]:""}))},[]),J=()=>{var x,L,X,Z;switch(w){case 0:return d.jsxs(se,{vertical:!0,gap:8,className:Le("rounded-md !p-2",(b==null?void 0:b.template)&&"border-2 border-red-500"),children:[d.jsx("label",{className:Le("text-base mb-2",(b==null?void 0:b.template)&&"text-red-500"),children:b!=null&&b.template?b.template:d.jsxs(d.Fragment,{children:["Select Template:"," ",d.jsx("span",{className:"font-semibold uppercase text-violet-800 underline",children:l.template})]})}),d.jsx(en,{userSubscriptionPlan:((x=s==null?void 0:s.subscription)==null?void 0:x.plan)||"free",preSelectedIds:l.templateIds,onClick:Q})]});case 1:return d.jsxs(se,{vertical:!0,gap:4,justify:"space-evenly",className:"p-2",children:[d.jsxs(xe,{direction:"vertical",className:"form-item-wrapper",children:[d.jsxs("label",{htmlFor:"blog-topic",children:["Topic ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(ht,{id:"blog-topic",name:"topic",placeholder:"e.g., Tech Blog",value:l.topic,onChange:M,className:Le("!bg-gray-50 antd-placeholder",b.topic&&"ring-1 !ring-[#ef4444]","rounded-lg focus:!outline-none focus:!ring-0 focus:!ring-[#1B6FC9]")}),b.topic&&d.jsx(De,{className:"error-text",children:b.topic})]}),d.jsxs("label",{htmlFor:"blog-language",children:["Language ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(Je,{id:"blog-language",placeholder:"Select a language",value:l.languageToWrite,onChange:v=>M({target:{name:"languageToWrite",value:v}}),options:tn,className:"custom-placeholder"}),d.jsxs(se,{justify:"space-between",className:"mt-3 form-item-wrapper",children:[d.jsx("label",{htmlFor:"blog-auto-generate-title-keywords",children:"Auto Generate Title & Keywords"}),d.jsx(Qe,{id:"blog-auto-generate-title-keywords",value:l.options.performKeywordResearch,onChange:v=>M({target:{name:"options.performKeywordResearch",value:v}})})]}),d.jsxs(xe,{direction:"vertical",hidden:l.options.performKeywordResearch,className:"form-item-wrapper",children:[d.jsxs("label",{htmlFor:"blog-focus-keywords",children:["Focus Keywords (max 3) ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(Je,{id:"blog-focus-keywords",mode:"tags",placeholder:"Add Focus keywords",value:l.focusKeywords,open:!1,onChange:v=>M({target:{name:"focusKeywords",value:v}}),maxCount:3,tokenSeparators:[","],className:Le(" !bg-gray-50 custom-placeholder [&>.ant-select-arrow]:hidden border",b.focusKeywords&&"!border-red-500","rounded-lg focus:border-[#1B6FC9] hover:!border-[#1B6FC9]"),style:{width:"100%"}}),b.focusKeywords&&d.jsx(De,{className:"error-text",children:b.focusKeywords})]}),d.jsxs(xe,{direction:"vertical",hidden:l.options.performKeywordResearch,className:"form-item-wrapper",children:[d.jsxs("label",{htmlFor:"blog-keywords",children:["Keywords ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(Je,{id:"blog-keywords",mode:"tags",placeholder:"Add Keywords",value:l.keywords,open:!1,onChange:v=>M({target:{name:"keywords",value:v}}),tokenSeparators:[","],className:Le(" !bg-gray-50 custom-placeholder [&>.ant-select-arrow]:hidden border",b.keywords&&"!border-red-500","rounded-lg focus:border-[#1B6FC9] hover:!border-[#1B6FC9]"),style:{width:"100%"}}),b.keywords&&d.jsx(De,{className:"error-text",children:b.keywords})]}),d.jsxs(se,{vertical:!0,gap:8,hidden:l.options.performKeywordResearch,className:"form-item-wrapper !mb-4",children:[d.jsxs("label",{htmlFor:"blog-title",children:["Blog Title ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs(xe.Compact,{block:!0,children:[d.jsx(ht,{id:"blog-title",name:"title",placeholder:"e.g., How to create a blog",value:l.title,onChange:M,className:Le(" !bg-gray-50 antd-placeholder",b.title&&"ring-1 !ring-[#ef4444]","focus:!outline-none focus:!ring-0 focus:!ring-[#1B6FC9]")}),d.jsxs(Ue,{type:"primary",title:"AI Generated Titles",icon:d.jsx(xn,{className:"size-5"}),block:!0,loading:C,onClick:O,className:"!w-1/4 h-full text-[length:1rem] py-1 px-3 tracking-wide",children:["Generate ",N!=null&&N.length?"More":"Titles"]})]}),b.title&&d.jsx(De,{className:"error-text",children:b.title}),N.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:N.map((v,I)=>d.jsx(Cn,{color:"geekblue",className:Le("cursor-pointer text-[length:1rem] bg-black",l.title===v&&"!bg-blue-500 !text-white","hover:!bg-blue-400 hover:!text-black p-1"),onClick:()=>{M({target:{name:"title",value:v}})},children:v},I))})]}),d.jsxs(se,{justify:"space-between",className:"mt-3 form-item-wrapper",hidden:l.options.performKeywordResearch,children:[d.jsx("label",{htmlFor:"blog-use-exact-title",children:"Use Exact Title for Blog"}),d.jsx(Qe,{id:"blog-use-exact-title",value:l.options.exactTitle,onChange:v=>M({target:{name:"options.exactTitle",value:v}})})]}),d.jsx(xe,{direction:"vertical",className:"form-item-wrapper",children:d.jsxs(se,{justify:"space-around",gap:20,children:[d.jsxs(se,{vertical:!0,className:"w-full",gap:8,children:[d.jsxs("label",{htmlFor:"blog-tone",children:["Tone of Voice ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(Je,{id:"blog-tone",placeholder:"Select a tone",value:l.tone||void 0,onChange:v=>M({target:{name:"tone",value:v}}),options:rn.map(v=>({label:v,value:v})),className:"custom-placeholder"}),b.tone&&d.jsx(De,{className:"error-text",children:b.tone})]}),d.jsxs(se,{vertical:!0,className:"w-full",gap:8,children:[d.jsxs("label",{children:["Blog Words Length :"," ",d.jsxs(De,{strong:!0,underline:!0,className:"text-[length:16px] px-2",children:[l.userDefinedLength," words"]})]}),d.jsx(dn,{id:"blog-word-length",value:l.userDefinedLength,onChange:v=>M({target:{name:"userDefinedLength",value:v}}),min:500,max:5e3,tooltip:{formatter:v=>`${v} words`,placement:"bottom"},classNames:{rail:"!bg-gray-400",track:"!bg-gradient-to-tr !from-blue-600 !via-violet-500 !to-purple-500",handle:"hover:!ring-1 hover:!ring-purple-400"}})]})]})}),d.jsxs(xe,{direction:"vertical",className:"form-item-wrapper",children:[d.jsx("label",{htmlFor:"blog-brief",children:"Add Brief Section"}),d.jsx(ht.TextArea,{id:"blog-brief",name:"brief",autoSize:{minRows:1,maxRows:3},value:l.brief,onChange:M,placeholder:"Enter the brief info or instructions",className:"antd-placeholder"})]})]});case 2:{const v=I=>{try{const k=new URL(I);return k.protocol==="http:"||k.protocol==="https:"}catch(k){return!1}};return d.jsxs(se,{vertical:!0,gap:20,className:"p-2",children:[d.jsxs(xe,{direction:"vertical",className:"form-item-wrapper",children:[d.jsx("label",{children:"Select AI Model"}),d.jsx(it.Group,{name:"aiModel",value:l.aiModel,onChange:M,defaultValue:(L=gt[0])==null?void 0:L.id,block:!0,className:"p-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 w-full",children:gt.map(I=>d.jsxs(it.Button,{value:I.id,className:"rounded-lg !px-4 !py-3 !border-[3px] hover:border-blue-400 hover:bg-purple-50 min-h-fit",children:[d.jsx("img",{src:I.logo,alt:I.label,className:"size-6 object-contain"}),d.jsx("span",{className:"text-[length:15px] font-medium text-gray-800",children:I.label})]},I.id))})]}),d.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4 shadow-sm",children:d.jsxs(se,{justify:"space-between",align:"center",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-green-900 mb-1",children:" Cost Cutter"}),d.jsx("p",{className:"text-xs text-green-700",children:"Use AI Flash model for 25% savings"})]}),d.jsx(Qe,{checked:l.costCutter,onChange:I=>F({costCutter:I})})]})}),d.jsx(xe,{direction:"vertical",className:"form-item-wrapper",children:d.jsxs(se,{justify:"space-between",children:[d.jsx("label",{htmlFor:"add-image-toggle",children:"Add Images"}),d.jsx(Qe,{id:"add-image-toggle",value:l.isCheckedGeneratedImages,onChange:I=>{[{name:"isCheckedGeneratedImages",value:I},{name:"blogImages",value:[]}].map(k=>M({target:k}))}})]})}),d.jsxs(xe,{direction:"vertical",hidden:!l.isCheckedGeneratedImages,className:"form-item-wrapper",children:[d.jsx("label",{children:"Select Image Mode"}),d.jsx(it.Group,{name:"imageSource",value:l.imageSource,onChange:I=>{var k;M(I),I.target.value!=((k=Te.at(-1))==null?void 0:k.id)&&M({target:{name:"blogImages",value:[]}})},defaultValue:(X=Te[0])==null?void 0:X.id,block:!0,className:"p-2 !grid grid-cols-1 sm:!grid-cols-2 md:!grid-cols-3 !gap-4 w-full",children:Te.map((I,k)=>{var oe,ne,q;const A=I.restrict&&((oe=s==null?void 0:s.subscription)==null?void 0:oe.plan)=="free",Y=k==1&&((ne=s==null?void 0:s.usage)==null?void 0:ne.aiImages)>=((q=s==null?void 0:s.usageLimits)==null?void 0:q.aiImages);return d.jsx(bn.Ribbon,{text:A?d.jsx(wn,{className:"p-1"}):Y?d.jsx(Zr,{className:"p-0.5"}):"",className:Le("absolute -top-2 z-10",(k==0||!(A||Y))&&"hidden"),color:A?"#8b5cf6":Y?"#dc2626":"#3b82f6",children:d.jsx(cr,{title:d.jsx(De,{strong:!0,className:"text-[length:15px] text-gray-200 font-montserrat tracking-wide",children:A?"Only For Subscribed Users":Y?"AI Image Limit Reached":I.label}),className:"w-full",autoAdjustOverflow:!0,color:A?"#8b5cf6":Y?"#dc2626":"#3b82f6",placement:k==0?"left":"top",showArrow:!0,children:d.jsx(it.Button,{value:I.id,disabled:A||Y,className:"rounded-lg !px-4 !py-3 !border-[3px] text-red-600 hover:border-blue-400 hover:bg-violet-50 min-h-fit min-w-fit",children:d.jsx("span",{className:"text-[length:15px] font-medium text-gray-800",children:I.label})})})},I.id+k)})})]}),d.jsx(xe,{direction:"vertical",hidden:!l.isCheckedGeneratedImages,className:"form-item-wrapper",children:l.imageSource!=((Z=Te.at(-1))==null?void 0:Z.id)?d.jsxs(se,{align:"center",justify:"space-between",children:[d.jsx("label",{htmlFor:"blog-img-count",children:"Number of Images (0 = Decided by AI) : "}),d.jsx(yn,{id:"blog-img-count",name:"numberOfImages",min:0,max:15,value:l.numberOfImages,defaultValue:0,onChange:I=>M({target:{name:"numberOfImages",value:I||0}}),className:"w-1/3 !text-base"})]}):d.jsxs(d.Fragment,{children:[d.jsx(oo,{id:"blog-upload-images",label:"Upload Custom Images",maxCount:15,initialFiles:l.blogImages,onChange:I=>M({target:{name:"blogImages",value:I}})}),b.blogImages&&d.jsx(De,{className:"error-text",children:b.blogImages})]})}),d.jsxs(xe,{direction:"vertical",className:"form-item-wrapper",children:[d.jsx("label",{htmlFor:"blog-references",children:"Reference Links (max 3)"}),d.jsx(Je,{id:"blog-references",mode:"tags",placeholder:"Add Reference Links",value:l.referenceLinks,open:!1,onChange:I=>{I.filter(Y=>!v(Y.trim())).length>0&&Pe.warning("Only valid URLs starting from http:// or https:// are allowed.");const A=I.filter(v);M({target:{name:"referenceLinks",value:A}})},maxCount:3,tokenSeparators:[","," "],className:"!w-full !bg-gray-50 [&>.ant-select-arrow]:hidden custom-placeholder border rounded-lg focus:border-[#1B6FC9] hover:!border-[#1B6FC9]"})]})]})}case 3:return d.jsxs(se,{vertical:!0,gap:"middle",className:"p-2",children:[o.map((v,I)=>d.jsxs(se,{justify:"space-between",className:"form-item-wrapper",children:[d.jsx("label",{htmlFor:`blog-${v.key}`,children:v.label}),d.jsx(Qe,{id:`blog-${v.key}`,value:ro(l,v.key),onChange:k=>M({target:{name:v.key,value:k}})})]},v.key+I)),d.jsx(xe,{direction:"vertical",className:"form-item-wrapper",children:d.jsx(gn,{label:"Write with Brand Voice",value:{isCheckedBrand:l.isCheckedBrand,brandId:l.brandId,addCTA:l.options.addCTA},size:"default",onChange:v=>{const I=l.options;F({isCheckedBrand:v.isCheckedBrand,brandId:v.brandId,options:ot(Ne({},I),{addCTA:v.addCTA})}),P({brandId:""})},errorText:b.brandId})})]});default:return d.jsx(vn,{})}};return d.jsxs(d.Fragment,{children:[" ",d.jsx(Yr,{title:`Generate Advanced Blog | Step ${w+1} : ${r[w]}`,open:!0,onCancel:U,footer:d.jsxs(se,{justify:"space-between",align:"center",gap:12,className:"mt-2",children:[(w===2||w===3)&&d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Estimated Cost:"}),d.jsxs("span",{className:"font-bold text-blue-600",children:[E," credits"]}),l.costCutter&&d.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(-25% off)"})]}),d.jsxs(se,{justify:"end",gap:12,className:w<2?"w-full":"",children:[w>0&&d.jsx(Ue,{onClick:H,type:"default",className:"h-10 px-6 text-[length:1rem] font-medium !text-gray-700 bg-white border border-gray-300 rounded-md hover:!bg-gray-50",children:"Previous"}),d.jsx(Ue,{onClick:w===3?W:B,type:"default",className:"h-10 px-6 text-[length:1rem] font-medium !text-white bg-[#1B6FC9] rounded-md hover:!bg-[#1B6FC9]/90",children:w===3?"Generate Blog":"Next"})]})]}),width:700,centered:!0,transitionName:"",maskTransitionName:"",destroyOnHidden:!0,className:"m-2",children:d.jsx("div",{className:"h-full !max-h-[80vh] overflow-auto",style:{scrollbarWidth:"none"},children:J()})})]})};export{Ko as default};
