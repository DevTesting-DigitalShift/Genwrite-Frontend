var ms=Object.defineProperty,hs=Object.defineProperties;var xs=Object.getOwnPropertyDescriptors;var Ce=Object.getOwnPropertySymbols;var _e=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable;var Re=(i,c,a)=>c in i?ms(i,c,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[c]=a,l=(i,c)=>{for(var a in c||(c={}))_e.call(c,a)&&Re(i,a,c[a]);if(Ce)for(var a of Ce(c))Ge.call(c,a)&&Re(i,a,c[a]);return i},o=(i,c)=>hs(i,xs(c));var Me=(i,c)=>{var a={};for(var t in i)_e.call(i,t)&&c.indexOf(t)<0&&(a[t]=i[t]);if(i!=null&&Ce)for(var t of Ce(i))c.indexOf(t)<0&&Ge.call(i,t)&&(a[t]=i[t]);return a};var me=(i,c,a)=>new Promise((t,g)=>{var M=N=>{try{b(a.next(N))}catch(v){g(v)}},K=N=>{try{b(a.throw(N))}catch(v){g(v)}},b=N=>N.done?t(N.value):Promise.resolve(N.value).then(M,K);b((a=a.apply(i,c)).next())});import{r as I,_ as us,F as es,G as gs,p as ss,J as We,K as ps,M as He,d as fs,e as bs,h as ys,k as he,P as ws,Q as js,C as vs,S as Ns,n as ks,W as Cs,U as Is,I as Ss,j as e,V as Ue,X as ie,Y as Le,Z as T,a as ce,u as xe,$ as Ls,T as ye,a0 as Bs,a1 as Ms,z as we,a2 as Ne,m as G,a3 as $s,x as ts,a4 as Fs,a5 as Ks,a6 as Ke,a7 as rs,a8 as Ae,a9 as ve,aa as As,ab as Es,H as Ts,A as $e,B as qe,ac as Ve,ad as Ps,ae as Ds}from"./index-Cw4na5-h.js";import{p as ae,C as Te}from"./templates-DWQulqQd.js";import{P as pe}from"./plus-DNeFT3i9.js";import{S as zs}from"./index-BFGWsMsu.js";import{R as Os}from"./refresh-cw-D3JHGc3m.js";import{S as as}from"./sparkles-S_ccWdRE.js";import{S as fe}from"./index-TPGMNnsO.js";import{u as Rs}from"./useQuery-Bxegmx3Q.js";import{o as Qe}from"./UpgardePopUp-Bj8ZNzNt.js";import{C as Ye}from"./crown-SMG9vmLn.js";import{T as ls}from"./triangle-alert-8N1Jt5K4.js";import{X as le}from"./x-CoHWIX8r.js";import{d as ns}from"./dayjs.min-BmGbTWTd.js";import{c as ke}from"./createLucideIcon-B2u82FR8.js";import{A as os}from"./arrow-right-B4aDHFpE.js";import{g as Pe}from"./getEstimatedCost-BCCYls_7.js";import{I as Xe}from"./info-CSQrVz_C.js";import{U as Je}from"./upload-BmA5t7L6.js";import{R as _s,a as Gs,C as Ws}from"./CompetitiveAnalysisModal-BUV9FTji.js";import{E as Hs}from"./index-C1tnOISS.js";import{T as Us}from"./tag-DNGcuWhs.js";import{F as De}from"./Table-Oqh_TNff.js";import{I as qs}from"./index-DyosHZAv.js";import{T as Vs}from"./index-r4pXHkro.js";import{S as Fe,a as Ie}from"./SkeletonLoader-3MFYDSsA.js";import{C as Qs,A as Ys,L as Xs,a as Js,b as Zs,P as et,p as st,c as tt,d as rt}from"./chart-BkHIec8n.js";import{P as at}from"./pen-tool-CL8N_Ip2.js";import{Z as lt}from"./zap-j5fLfTsk.js";import{S as nt}from"./search-O3dFznae.js";import{U as ot}from"./users--gzFG-qm.js";import{C as it}from"./clock-Dn3yL9QK.js";import"./Overflow-BUg5VpaG.js";import"./SearchOutlined-BrXoOTqQ.js";import"./LeftOutlined-UTz-YvzJ.js";import"./index-1kAGXf5x.js";import"./EllipsisOutlined-BzHJ4aU7.js";import"./index-lCzvkxk9.js";import"./index-m6iZBY_v.js";import"./progress-41PbqfrC.js";import"./useBreakpoint-CJyyHhm2.js";import"./Pagination-DXIbrPbi.js";import"./Input-BFoDubZP.js";import"./clsx-B-dksMZM.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],dt=ke("activity",ct);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],ht=ke("chart-no-axes-column",mt);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],is=ke("gem",xt);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],gt=ke("grid-3x3",ut);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],ft=ke("tags",pt);var bt=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],cs=I.forwardRef(function(i,c){var a,t=i.prefixCls,g=t===void 0?"rc-switch":t,M=i.className,K=i.checked,b=i.defaultChecked,N=i.disabled,v=i.loadingIcon,h=i.checkedChildren,B=i.unCheckedChildren,E=i.onClick,L=i.onChange,p=i.onKeyDown,S=us(i,bt),P=es(!1,{value:K,defaultValue:b}),u=gs(P,2),k=u[0],C=u[1];function A($,W){var z=k;return N||(z=$,C(z),L==null||L(z,W)),z}function D($){$.which===He.LEFT?A(!1,$):$.which===He.RIGHT&&A(!0,$),p==null||p($)}function y($){var W=A(!k,$);E==null||E(W,$)}var w=ss(g,M,(a={},We(a,"".concat(g,"-checked"),k),We(a,"".concat(g,"-disabled"),N),a));return I.createElement("button",ps({},S,{type:"button",role:"switch","aria-checked":k,disabled:N,className:w,ref:c,onKeyDown:D,onClick:y}),v,I.createElement("span",{className:"".concat(g,"-inner")},I.createElement("span",{className:"".concat(g,"-inner-checked")},h),I.createElement("span",{className:"".concat(g,"-inner-unchecked")},B)))});cs.displayName="Switch";const yt=i=>{const{componentCls:c,trackHeightSM:a,trackPadding:t,trackMinWidthSM:g,innerMinMarginSM:M,innerMaxMarginSM:K,handleSizeSM:b,calc:N}=i,v=`${c}-inner`,h=he(N(b).add(N(t).mul(2)).equal()),B=he(N(K).mul(2).equal());return{[c]:{[`&${c}-small`]:{minWidth:g,height:a,lineHeight:he(a),[`${c}-inner`]:{paddingInlineStart:K,paddingInlineEnd:M,[`${v}-checked, ${v}-unchecked`]:{minHeight:a},[`${v}-checked`]:{marginInlineStart:`calc(-100% + ${h} - ${B})`,marginInlineEnd:`calc(100% - ${h} + ${B})`},[`${v}-unchecked`]:{marginTop:N(a).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${c}-handle`]:{width:b,height:b},[`${c}-loading-icon`]:{top:N(N(b).sub(i.switchLoadingIconSize)).div(2).equal(),fontSize:i.switchLoadingIconSize},[`&${c}-checked`]:{[`${c}-inner`]:{paddingInlineStart:M,paddingInlineEnd:K,[`${v}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${v}-unchecked`]:{marginInlineStart:`calc(100% - ${h} + ${B})`,marginInlineEnd:`calc(-100% + ${h} - ${B})`}},[`${c}-handle`]:{insetInlineStart:`calc(100% - ${he(N(b).add(t).equal())})`}},[`&:not(${c}-disabled):active`]:{[`&:not(${c}-checked) ${v}`]:{[`${v}-unchecked`]:{marginInlineStart:N(i.marginXXS).div(2).equal(),marginInlineEnd:N(i.marginXXS).mul(-1).div(2).equal()}},[`&${c}-checked ${v}`]:{[`${v}-checked`]:{marginInlineStart:N(i.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:N(i.marginXXS).div(2).equal()}}}}}}},wt=i=>{const{componentCls:c,handleSize:a,calc:t}=i;return{[c]:{[`${c}-loading-icon${i.iconCls}`]:{position:"relative",top:t(t(a).sub(i.fontSize)).div(2).equal(),color:i.switchLoadingIconColor,verticalAlign:"top"},[`&${c}-checked ${c}-loading-icon`]:{color:i.switchColor}}}},jt=i=>{const{componentCls:c,trackPadding:a,handleBg:t,handleShadow:g,handleSize:M,calc:K}=i,b=`${c}-handle`;return{[c]:{[b]:{position:"absolute",top:a,insetInlineStart:a,width:M,height:M,transition:`all ${i.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:t,borderRadius:K(M).div(2).equal(),boxShadow:g,transition:`all ${i.switchDuration} ease-in-out`,content:'""'}},[`&${c}-checked ${b}`]:{insetInlineStart:`calc(100% - ${he(K(M).add(a).equal())})`},[`&:not(${c}-disabled):active`]:{[`${b}::before`]:{insetInlineEnd:i.switchHandleActiveInset,insetInlineStart:0},[`&${c}-checked ${b}::before`]:{insetInlineEnd:0,insetInlineStart:i.switchHandleActiveInset}}}}},vt=i=>{const{componentCls:c,trackHeight:a,trackPadding:t,innerMinMargin:g,innerMaxMargin:M,handleSize:K,calc:b}=i,N=`${c}-inner`,v=he(b(K).add(b(t).mul(2)).equal()),h=he(b(M).mul(2).equal());return{[c]:{[N]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:M,paddingInlineEnd:g,transition:`padding-inline-start ${i.switchDuration} ease-in-out, padding-inline-end ${i.switchDuration} ease-in-out`,[`${N}-checked, ${N}-unchecked`]:{display:"block",color:i.colorTextLightSolid,fontSize:i.fontSizeSM,transition:`margin-inline-start ${i.switchDuration} ease-in-out, margin-inline-end ${i.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:a},[`${N}-checked`]:{marginInlineStart:`calc(-100% + ${v} - ${h})`,marginInlineEnd:`calc(100% - ${v} + ${h})`},[`${N}-unchecked`]:{marginTop:b(a).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${c}-checked ${N}`]:{paddingInlineStart:g,paddingInlineEnd:M,[`${N}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${N}-unchecked`]:{marginInlineStart:`calc(100% - ${v} + ${h})`,marginInlineEnd:`calc(-100% + ${v} - ${h})`}},[`&:not(${c}-disabled):active`]:{[`&:not(${c}-checked) ${N}`]:{[`${N}-unchecked`]:{marginInlineStart:b(t).mul(2).equal(),marginInlineEnd:b(t).mul(-1).mul(2).equal()}},[`&${c}-checked ${N}`]:{[`${N}-checked`]:{marginInlineStart:b(t).mul(-1).mul(2).equal(),marginInlineEnd:b(t).mul(2).equal()}}}}}},Nt=i=>{const{componentCls:c,trackHeight:a,trackMinWidth:t}=i;return{[c]:Object.assign(Object.assign(Object.assign(Object.assign({},ys(i)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:t,height:a,lineHeight:he(a),verticalAlign:"middle",background:i.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${i.motionDurationMid}`,userSelect:"none",[`&:hover:not(${c}-disabled)`]:{background:i.colorTextTertiary}}),ws(i)),{[`&${c}-checked`]:{background:i.switchColor,[`&:hover:not(${c}-disabled)`]:{background:i.colorPrimaryHover}},[`&${c}-loading, &${c}-disabled`]:{cursor:"not-allowed",opacity:i.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${c}-rtl`]:{direction:"rtl"}})}},kt=i=>{const{fontSize:c,lineHeight:a,controlHeight:t,colorWhite:g}=i,M=c*a,K=t/2,b=2,N=M-b*2,v=K-b*2;return{trackHeight:M,trackHeightSM:K,trackMinWidth:N*2+b*4,trackMinWidthSM:v*2+b*2,trackPadding:b,handleBg:g,handleSize:N,handleSizeSM:v,handleShadow:`0 2px 4px 0 ${new js("#00230b").setA(.2).toRgbString()}`,innerMinMargin:N/2,innerMaxMargin:N+b+b*2,innerMinMarginSM:v/2,innerMaxMarginSM:v+b+b*2}},Ct=fs("Switch",i=>{const c=bs(i,{switchDuration:i.motionDurationMid,switchColor:i.colorPrimary,switchDisabledOpacity:i.opacityLoading,switchLoadingIconSize:i.calc(i.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${i.opacityLoading})`,switchHandleActiveInset:"-30%"});return[Nt(c),vt(c),jt(c),wt(c),yt(c)]},kt);var It=function(i,c){var a={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&c.indexOf(t)<0&&(a[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,t=Object.getOwnPropertySymbols(i);g<t.length;g++)c.indexOf(t[g])<0&&Object.prototype.propertyIsEnumerable.call(i,t[g])&&(a[t[g]]=i[t[g]]);return a};const St=I.forwardRef((i,c)=>{const{prefixCls:a,size:t,disabled:g,loading:M,className:K,rootClassName:b,style:N,checked:v,value:h,defaultChecked:B,defaultValue:E,onChange:L}=i,p=It(i,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[S,P]=es(!1,{value:v!=null?v:h,defaultValue:B!=null?B:E}),{getPrefixCls:u,direction:k,switch:C}=I.useContext(vs),A=I.useContext(Ns),D=(g!=null?g:A)||M,y=u("switch",a),w=I.createElement("div",{className:`${y}-handle`},M&&I.createElement(Is,{className:`${y}-loading-icon`})),[$,W,z]=Ct(y),V=ks(t),U=ss(C==null?void 0:C.className,{[`${y}-small`]:V==="small",[`${y}-loading`]:M,[`${y}-rtl`]:k==="rtl"},K,b,W,z),_=Object.assign(Object.assign({},C==null?void 0:C.style),N),H=(...s)=>{P(s[0]),L==null||L.apply(void 0,s)};return $(I.createElement(Cs,{component:"Switch"},I.createElement(cs,Object.assign({},p,{checked:S,onChange:H,prefixCls:y,className:U,style:_,disabled:D,ref:c,loadingIcon:w}))))}),ze=St;ze.__ANT_SWITCH=!0;var Lt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function Ee(){return Ee=Object.assign?Object.assign.bind():function(i){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(i[t]=a[t])}return i},Ee.apply(this,arguments)}const Bt=(i,c)=>I.createElement(Ss,Ee({},i,{ref:c,icon:Lt})),ds=I.forwardRef(Bt),Mt=({title:i,visible:c,onCancel:a,children:t})=>c?e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e.jsx("div",{className:"modal-overlay absolute inset-0 bg-gray-800 opacity-50"}),e.jsxs("div",{className:"modal-container bgwhi w-96 rounded-lg shadow-lg z-50 overflow-y-auto",children:[e.jsxs("div",{className:"modal-header p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold ",children:i}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:a,children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"modal-content p-4",children:t})]})]}):null,$t=({handleNext:i,handleClose:c,data:a,setData:t})=>{const[g,M]=Ue.useState(null),[K,b]=Ue.useState({userDefinedLength:0,tone:"",includeInterlink:!1,includeMetaHeadlines:!1,wordpressStatus:!0,numberOfBlogs:0,postFrequency:0,randomisedFrequency:0,template:[],focusKeywords:[],keywords:[],focusKeywordInput:"",keywordInput:""}),N=h=>{M(h),t(o(l({},a),{template:ae[h]})),b(o(l({},K),{template:[ae[h].name]}))},v=()=>{if(g!==null){const h=ae[g],B=o(l({},a),{selectedTemplate:h});t(B),i()}else T.error("Please select a template before proceeding.")};return I.useEffect(()=>(open?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[]),e.jsx(ie,{title:"Step 1: Select Template",open:!0,onCancel:c,footer:[e.jsx(Le,{onClick:v,className:"px-4 sm:px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-2 sm:ml-3 text-sm sm:text-base",children:"Next"},"next")],centered:!0,width:"90vw",styles:{content:{maxWidth:"800px",margin:"0 auto"},body:{padding:"16px"}},className:"rounded-lg sm:rounded-xl",transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"max-h-[80vh] overflow-y-auto",children:[e.jsx("div",{className:"sm:hidden grid grid-cols-2 gap-4",children:ae.map((h,B)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${K.template.includes(h.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>N(B),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:h.imgSrc||"/placeholder.svg",alt:h.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:h.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:h.description})]})]})},B))}),e.jsx("div",{className:"hidden sm:block",children:e.jsx(Te,{className:"flex flex-row gap-4",children:ae.map((h,B)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 w-full h-full${K.template.includes(h.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>N(B),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:h.imgSrc||"/placeholder.svg",alt:h.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:h.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:h.description})]})]})},B))})})]})})},Ft=I.memo($t),{Option:oe}=fe,Kt=({handleNext:i,handleClose:c,handlePrevious:a,data:t,setData:g})=>{var r;const[M,K]=I.useState((t==null?void 0:t.topic)||""),[b,N]=I.useState(!1),v=18,[h,B]=I.useState(!1),{selectedKeywords:E}=ce(d=>d.analysis),L=xe(),[p,S]=I.useState({focusKeywordInput:(t==null?void 0:t.focusKeywordInput)||"",focusKeywords:(t==null?void 0:t.focusKeywords)||[],keywordInput:(t==null?void 0:t.keywordInput)||"",keywords:(t==null?void 0:t.keywords)||[]}),[P,u]=I.useState({title:!1,topic:!1,tone:!1,focusKeyword:!1,focusKeywordInput:"",keyword:!1,keywordInput:""}),[k,C]=I.useState([]),[A,D]=I.useState(!1);I.useEffect(()=>{E&&S(d=>o(l({},d),{focusKeywords:E.focusKeywords||d.focusKeywords,keywords:E.keywords||d.keywords}))},[E]),I.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),I.useEffect(()=>{N(!1),C([])},[]);const y=d=>{const x=d.target.value;S(f=>o(l({},f),{keywordInput:x})),g(f=>o(l({},f),{keywordInput:x}))},w=()=>{const d=p.keywordInput;if(d.trim()!==""){const x=d.split(",").map(f=>f.trim()).filter(f=>f!==""&&!p.keywords.includes(f));x.length>0&&S(f=>o(l({},f),{keywords:[...f.keywords,...x],keywordInput:""}))}},$=d=>{const x=d.target.value;S(f=>o(l({},f),{focusKeywordInput:x})),g(f=>o(l({},f),{focusKeywordInput:x}))},W=()=>{const d=p.focusKeywordInput;if(d.trim()!==""){const x=d.split(",").map(f=>f.trim()).filter(f=>f!==""&&!p.focusKeywords.includes(f));if(x.length>0){const f=[...p.focusKeywords,...x].slice(0,3);S(F=>o(l({},F),{focusKeywords:f,focusKeywordInput:""})),g(F=>o(l({},F),{focusKeywords:f,focusKeywordInput:""}))}}},z=(d,x)=>{const f=[...p[x]];f.splice(d,1),S(F=>o(l({},F),{[x]:f})),g(F=>o(l({},F),{[x]:f}))},V=(d,x)=>{d.key==="Enter"&&(d.preventDefault(),x==="focusKeywords"?W():w())},U=d=>{g(x=>o(l({},x),{tone:d})),u(x=>o(l({},x),{tone:!1}))},_=()=>me(null,null,function*(){if(!M.trim()||p.focusKeywords.length===0||p.keywords.length===0){T.error("Please enter a topic and at least one keyword before generating titles.");return}D(!0);try{const d=l({keywords:p.keywords,focusKeywords:p.focusKeywords,topic:M,template:t.selectedTemplate.name,userDefinedLength:(t==null?void 0:t.userDefinedLength)||1e3},b&&{oldTitles:k}),x=yield L(Ls(d)).unwrap();C(x),N(!0)}catch(d){console.error("Error generating titles:",d),T.error("Failed to generate titles. Please try again later.")}finally{D(!1)}}),H=()=>{var f;const d={title:!((f=t==null?void 0:t.title)!=null&&f.trim()),topic:!(M!=null&&M.trim()),tone:!(t!=null&&t.tone),focusKeyword:p.focusKeywords.length===0,keyword:p.keywords.length===0};if(u(d),Object.values(d).some(F=>F)){T.error("Please fill in all required fields.");return}const x=o(l({},t),{topic:M,focusKeywords:p.focusKeywords,keywords:p.keywords,keywordInput:p.keywordInput,focusKeywordInput:p.focusKeywordInput,userDefinedLength:(t==null?void 0:t.userDefinedLength)||1e3});g(x),i()},s=()=>{S({focusKeywordInput:"",focusKeywords:[],keywordInput:"",keywords:[]}),K(""),C([]),N(!1),c()};return I.useEffect(()=>{t&&!t.isCheckedGeneratedImages&&g(d=>o(l({},d),{isCheckedGeneratedImages:!0,isUnsplashActive:!0}))},[t,g]),e.jsx(ie,{title:"Step 2: Crucial Details",open:!0,onCancel:s,footer:[e.jsx("button",{onClick:a,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Back"},"back"),e.jsx("button",{onClick:H,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsx("div",{className:"p-2 md:p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Topic ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:`w-full px-3 py-2 bg-gray-50 border ${P.topic?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., Tech Blog",value:M,onChange:d=>{K(d.target.value),u(x=>o(l({},x),{topic:!1}))}})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Focus Keywords (up to 3)",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:p.focusKeywordInput,onChange:$,onKeyDown:d=>V(d,"focusKeywords"),className:`flex-1 px-3 py-2 bg-gray-50 border ${P.focusKeyword?"border-red-500":"border-gray-200"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 text-sm`,placeholder:"Enter focus keywords, separated by commas"}),e.jsx("button",{onClick:W,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 text-sm flex items-center",children:e.jsx(pe,{size:16})})]}),p.focusKeywords.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:p.focusKeywords.map((d,x)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[d,e.jsx("button",{onClick:()=>z(x,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},x))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Keywords",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:p.keywordInput,onChange:y,onKeyDown:d=>V(d,"keywords"),className:`flex-1 px-3 py-2 bg-gray-50 border ${P.keyword?"border-red-500":"border-gray-200"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 text-sm`,placeholder:"Enter keywords, separated by commas"}),e.jsx("button",{onClick:w,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 text-sm flex items-center",children:e.jsx(pe,{size:16})})]}),p.keywords.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[(h?p.keywords:p.keywords.slice(0,v)).map((d,x)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[d,e.jsx("button",{onClick:()=>z(x,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},`${d}-${x}`)),p.keywords.length>v&&e.jsx("button",{type:"button",onClick:()=>B(!h),className:"text-xs text-blue-600 underline ml-2 self-center",children:h?"Show less":`+${p.keywords.length-v} more`})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"block text-sm sm:text-base font-medium mb-2",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("input",{type:"text",className:`flex-1 px-3 py-2 text-sm sm:text-base bg-gray-50 border ${P.title?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., How to Create a Tech Blog",value:(t==null?void 0:t.title)||"",onChange:d=>{g(x=>o(l({},x),{title:d.target.value})),u(x=>o(l({},x),{title:!1}))}}),e.jsx("button",{onClick:_,disabled:A,className:`px-4 py-2 sm:px-5 sm:py-2.5 bg-gradient-to-r from-[#1B6FC9] to-[#4C9FE8] text-white rounded-lg flex items-center justify-center text-sm sm:text-base ${A?"opacity-50 cursor-not-allowed":"hover:from-[#1B6FC9]/90 hover:to-[#4C9FE8]/90"}`,children:A?e.jsx(zs,{size:"small"}):b?e.jsxs(e.Fragment,{children:[e.jsx(Os,{size:16,className:"mr-2"}),"Generate More"]}):e.jsxs(e.Fragment,{children:[e.jsx(as,{size:16,className:"mr-2"}),"Generate Titles"]})})]}),k.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2 items-center",children:k.map((d,x)=>{const f=t.title===d;return e.jsx("div",{className:"relative group",children:e.jsx("button",{type:"button",onClick:()=>{g(F=>o(l({},F),{title:d})),u(F=>o(l({},F),{title:!1}))},className:`px-3 py-1 rounded-full text-sm sm:text-base border transition w-full truncate
                ${f?"bg-[#1B6FC9] text-white border-[#1B6FC9]":"bg-gray-100 text-gray-700 border-gray-300 opacity-60 hover:opacity-100 hover:bg-gray-200"}`,children:d})},x)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(fe,{className:"w-full",value:(t==null?void 0:t.tone)||void 0,onChange:U,placeholder:"Select tone",status:P.tone?"error":"",children:[e.jsx(oe,{value:"professional",children:"Professional"}),e.jsx(oe,{value:"casual",children:"Casual"}),e.jsx(oe,{value:"friendly",children:"Friendly"}),e.jsx(oe,{value:"formal",children:"Formal"}),e.jsx(oe,{value:"conversational",children:"Conversational"}),e.jsx(oe,{value:"witty",children:"Witty"}),e.jsx(oe,{value:"informative",children:"Informative"}),e.jsx(oe,{value:"inspirational",children:"Inspirational"}),e.jsx(oe,{value:"persuasive",children:"Persuasive"}),e.jsx(oe,{value:"empathetic",children:"Empathetic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Choose length of Blog"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:(t==null?void 0:t.userDefinedLength)||1e3,className:`w-full h-1 rounded-lg appearance-none cursor-pointer 
                    [&::-webkit-slider-thumb]:appearance-none 
                    [&::-webkit-slider-thumb]:h-4 
                    [&::-webkit-slider-thumb]:w-4 
                    [&::-webkit-slider-thumb]:rounded-full 
                    [&::-webkit-slider-thumb]:bg-[#1B6FC9]`,onChange:d=>{g(x=>o(l({},x),{userDefinedLength:parseInt(d.target.value,10)}))},style:{background:`linear-gradient(to right, #1B6FC9 ${(((t==null?void 0:t.userDefinedLength)||1e3)-500)/45}%, #e5e7eb 0%)`}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[(t==null?void 0:t.userDefinedLength)||1e3," words"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add Brief Section (Optional)"}),e.jsx("textarea",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]",rows:3,placeholder:"Enter brief section",value:(t==null?void 0:t.brief)||"",onChange:d=>g(x=>o(l({},x),{brief:d.target.value}))}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-xs text-gray-500",children:[((r=t==null?void 0:t.brief)==null?void 0:r.length)||0,"/2000 characters"]})})]})]})})})},At=I.memo(Kt),Et=({handlePrevious:i,handleClose:c,data:a,setData:t,handleSubmit:g,navigate:M})=>{var U,_,H;const K=xe(),{user:b}=ce(s=>s.auth),N=((U=b==null?void 0:b.subscription)==null?void 0:U.plan)||(b==null?void 0:b.plan)||"free",v=((_=b==null?void 0:b.usage)==null?void 0:_.aiImages)>=((H=b==null?void 0:b.usageLimits)==null?void 0:H.aiImages),[h,B]=I.useState({isCheckedQuick:(a==null?void 0:a.isCheckedQuick)||!1,isCheckedBrand:(a==null?void 0:a.isCheckedBrand)||!1,aiModel:(a==null?void 0:a.aiModel)||"gemini",brandId:(a==null?void 0:a.brandId)||null,isFAQEnabled:(a==null?void 0:a.isFAQEnabled)||!1,imageSource:(a==null?void 0:a.imageSource)||"unsplash",isCheckedGeneratedImages:(a==null?void 0:a.isCheckedGeneratedImages)||!1,isCheckedblogImages:(a==null?void 0:a.isCheckedblogImages)||!1,blogImages:Array.isArray(a==null?void 0:a.blogImages)?a.blogImages:[],referenceLinks:Array.isArray(a==null?void 0:a.referenceLinks)?a.referenceLinks:[],includeInterlinks:(a==null?void 0:a.includeInterlinks)||!1,addOutBoundLinks:(a==null?void 0:a.addOutBoundLinks)||!1,addCTA:(a==null?void 0:a.addCTA)||!0,numberOfImages:(a==null?void 0:a.numberOfImages)||0,isDragging:!1}),[E,L]=I.useState({newLink:""}),p=I.useRef(null);I.useEffect(()=>()=>{h.blogImages.forEach(s=>{s instanceof File&&URL.revokeObjectURL(URL.createObjectURL(s))})},[h.blogImages]);const{data:S=[],isLoading:P,error:u}=Rs({queryKey:["brands"],queryFn:()=>me(null,null,function*(){return yield K(Bs()).unwrap()}),enabled:h.isCheckedBrand}),k=()=>{const s=E.newLink.trim();if(!s)return;const r=h.referenceLinks.map(F=>F.toLowerCase().trim()),d=F=>{try{return new URL(F),!0}catch(q){return!1}},x=new Set,f=s.split(",").map(F=>F.trim()).filter(F=>{const q=F.toLowerCase();return!x.has(q)&&d(F)&&!r.includes(q)&&x.add(q)});if(f.length===0){T.error("Please enter valid, non-duplicate URLs separated by commas.");return}B(F=>o(l({},F),{referenceLinks:[...F.referenceLinks,...f]})),L(F=>o(l({},F),{newLink:""})),T.success("Reference link added!")},C=s=>{B(r=>o(l({},r),{referenceLinks:r.referenceLinks.filter((d,x)=>x!==s)})),t(r=>o(l({},r),{referenceLinks:r.referenceLinks.filter((d,x)=>x!==s)}))},A=s=>{B(r=>o(l({},r),{imageSource:s})),t(r=>o(l({},r),{imageSource:s,isUnsplashActive:s==="unsplash"}))},D=s=>{const x=["image/jpeg","image/png","image/webp"];if(!s||s.length===0)return[];const f=Array.from(s).filter(q=>x.includes(q.type)?q.size>5242880?(T.error(`"${q.name}" exceeds the 5 MB size limit.`),!1):!0:(T.error(`"${q.name}" is not a valid image type. Only PNG, JPEG, and WebP are allowed.`),!1));return h.blogImages.length+f.length>15?(T.error("Cannot upload more than 15 images."),f.slice(0,15-h.blogImages.length)):f},y=s=>{const r=s.target.files;if(!r||r.length===0)return;const d=D(r);d.length>0&&(B(x=>o(l({},x),{blogImages:[...x.blogImages,...d]})),t(x=>o(l({},x),{blogImages:(Array.isArray(x.blogImages)?x.blogImages:[]).filter((f,F)=>F!==index)}))),p.current&&(p.current.value="")},w=s=>{s.preventDefault(),s.stopPropagation(),B(x=>o(l({},x),{isDragging:!1}));const r=s.dataTransfer.files;if(!r||r.length===0)return;const d=D(r);d.length>0&&(B(x=>o(l({},x),{blogImages:[...x.blogImages,...d]})),t(x=>o(l({},x),{blogImages:[...x.blogImages,...d]})),T.success(`${d.length} image(s) added successfully!`))},$=s=>{s.preventDefault(),s.stopPropagation(),B(r=>o(l({},r),{isDragging:!0}))},W=s=>{s.preventDefault(),s.stopPropagation(),B(r=>o(l({},r),{isDragging:!1}))},z=s=>{B(r=>{const d=r.blogImages.filter((x,f)=>f!==s);return o(l({},r),{blogImages:d})}),t(r=>o(l({},r),{blogImages:r.blogImages.filter((d,x)=>x!==s)}))},V=()=>{const s=l(l({},a),h);g(s)};return e.jsx(ie,{title:"Final Step: Content Enhancements",open:!0,onCancel:c,footer:[e.jsx("button",{onClick:i,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Previous"},"previous"),e.jsx("button",{onClick:V,className:"px-6 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md ml-3",children:"Submit"},"next")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select AI Model"}),e.jsx("div",{className:"flex gap-6 flex-wrap",children:[{id:"gemini",label:"Gemini",logo:"/Images/gemini.png",restricted:!1},{id:"chatgpt",label:"ChatGPT",logo:"/Images/chatgpt.png"},{id:"claude",label:"Claude",logo:"/Images/claude.png"}].map(s=>e.jsxs("label",{htmlFor:s.id,className:`relative border rounded-lg px-4 py-3 flex items-center gap-3 cursor-pointer transition-all duration-150 ${h.aiModel===s.id?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[200px]`,onClick:r=>{s.restricted&&(r.preventDefault(),Qe({featureName:s.label,navigate:M}))},children:[e.jsx("input",{type:"radio",id:s.id,name:"aiModel",value:s.id,checked:h.aiModel===s.id,onChange:r=>{s.restricted||(B(d=>o(l({},d),{aiModel:r.target.value})),t(d=>o(l({},d),{aiModel:r.target.value})))},className:"hidden"}),e.jsx("img",{src:s.logo,alt:s.label,className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:s.label}),s.restricted&&e.jsx(Ye,{className:"w-4 h-4 text-yellow-500 absolute top-2 right-2"})]},s.id))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Add Image"}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{htmlFor:"add-image-toggle",className:"relative inline-block w-12 h-6",children:[e.jsx("input",{type:"checkbox",id:"add-image-toggle",className:"sr-only peer",checked:h.isCheckedGeneratedImages,onChange:s=>{const r=s.target.checked;B(d=>o(l({},d),{isCheckedGeneratedImages:r,imageSource:r?d.imageSource:"unsplash"})),t(d=>o(l({},d),{isCheckedGeneratedImages:r,imageSource:r?d.imageSource:"unsplash",isUnsplashActive:r?d.isUnsplashActive:!0}))}}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${h.isCheckedGeneratedImages?"bg-[#1B6FC9]":"bg-gray-300"}`}),e.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 ${h.isCheckedGeneratedImages?"translate-x-6":""}`})]})})]}),h.isCheckedGeneratedImages&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Image Source"}),e.jsxs("div",{className:"flex gap-6 flex-wrap",children:[e.jsxs("label",{htmlFor:"unsplash",className:`border rounded-lg px-4 py-3 flex items-center gap-3 justify-center cursor-pointer transition-all duration-150 ${h.imageSource==="unsplash"?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[200px]`,children:[e.jsx("input",{type:"radio",id:"unsplash",name:"imageSource",checked:h.imageSource==="unsplash",onChange:()=>A("unsplash"),className:"hidden"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Stock Images"})]}),e.jsxs("label",{htmlFor:"ai-generated",className:`border rounded-lg px-4 py-3 flex items-center gap-3 justify-center cursor-pointer transition-all duration-150 ${h.imageSource==="ai"?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[220px] relative`,onClick:s=>{N==="free"&&(s.preventDefault(),Qe({featureName:"AI-Generated Images",navigate:M}))},children:[e.jsx("input",{type:"radio",id:"ai-generated",name:"imageSource",checked:h.imageSource==="ai",onChange:()=>A("ai"),className:"hidden",disabled:N==="free"||v}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:"AI-Generated Images"}),N==="free"?e.jsx(Ye,{className:"w-4 h-4 text-yellow-500 absolute top-2 right-2"}):v&&e.jsx(ye,{title:"You've reached your AI image generation limit. It'll reset in the next billing cycle.",styles:{body:{backgroundColor:"#FEF9C3",border:"1px solid #FACC15",color:"#78350F"}},children:e.jsx(ls,{className:"text-yellow-400 ml-4",size:15})})]})]})]}),h.imageSource==="customImage"&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Upload Custom Images (Max 15, each 1GB)"}),e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${h.isDragging?"border-blue-600 bg-blue-50":"border-gray-300 bg-gray-50"}`,onDragOver:$,onDragLeave:W,onDrop:w,children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drag and drop images here or click to select"}),e.jsx("button",{className:"px-4 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md text-sm",onClick:()=>{var s;return(s=p.current)==null?void 0:s.click()},children:"Select Images"}),e.jsx("input",{type:"file",ref:p,onChange:y,accept:"image/jpeg,image/png,image/gif,image/webp",multiple:!0,className:"hidden"})]}),h.blogImages.length>0&&e.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 gap-4",children:h.blogImages.map((s,r)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:s instanceof File?URL.createObjectURL(s):s,alt:s instanceof File?s.name:`Image ${r+1}`,className:"w-full h-24 object-cover rounded-md"}),e.jsx("button",{onClick:()=>z(r),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(le,{className:"w-4 h-4"})}),e.jsx("p",{className:"text-xs text-gray-600 truncate mt-1",children:s instanceof File?s.name:`Image ${r+1}`})]},r))})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add a Quick Summary"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:h.isCheckedQuick,onChange:()=>{B(s=>o(l({},s),{isCheckedQuick:!s.isCheckedQuick})),t(s=>o(l({},s),{isCheckedQuick:!s.isCheckedQuick}))},className:"sr-only peer","aria-checked":h.isCheckedQuick}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Write with Brand Voice"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:h.isCheckedBrand,onChange:()=>{B(s=>o(l({},s),{isCheckedBrand:!s.isCheckedBrand,brandId:null})),t(s=>o(l({},s),{isCheckedBrand:!s.isCheckedBrand,brandId:null}))},className:"sr-only peer","aria-checked":h.isCheckedBrand}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),h.isCheckedBrand&&e.jsx("div",{className:"mt-3 p-4 rounded-md border border-gray-200 bg-gray-50",children:P?e.jsx("div",{className:"text-gray-500 text-sm",children:"Loading brand voices..."}):u?e.jsx("div",{className:"text-red-500 text-sm font-medium",children:u}):(S==null?void 0:S.length)>0?e.jsx("div",{className:"max-h-48 overflow-y-auto pr-1",children:e.jsx("div",{className:"grid gap-3",children:S.map(s=>e.jsxs("label",{className:`flex items-start gap-2 p-3 rounded-md cursor-pointer ${h.brandId===s._id?"bg-blue-100 border-blue-300":"bg-white border border-gray-200"}`,children:[e.jsx("input",{type:"radio",name:"selectedBrandVoice",value:s._id,checked:h.brandId===s._id,onChange:()=>{B(r=>o(l({},r),{brandId:s._id})),t(r=>o(l({},r),{brandId:s._id}))},className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-700",children:s.nameOfVoice}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.describeBrand})]})]},s._id))})}):e.jsx("div",{className:"text-gray-500 text-sm italic",children:"No brand voices available. Create one to get started."})}),h.isCheckedBrand&&e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add CTA at the End"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:h.addCTA,onChange:()=>{B(s=>o(l({},s),{addCTA:!s.addCTA})),t(s=>o(l({},s),{addCTA:!s.addCTA}))},className:"sr-only peer","aria-checked":h.addCTA}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Add FAQ"}),e.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Generate frequently asked questions for your blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:h.isFAQEnabled,onChange:()=>{B(s=>o(l({},s),{isFAQEnabled:!s.isFAQEnabled})),t(s=>o(l({},s),{isFAQEnabled:!s.isFAQEnabled}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Interlinks",e.jsx("p",{className:"text-xs text-gray-500",children:"Auto-link to other blogs within your content."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer self-end",children:[e.jsx("input",{type:"checkbox",checked:h.includeInterlinks,onChange:s=>{B(r=>o(l({},r),{includeInterlinks:s.target.checked})),t(r=>o(l({},r),{includeInterlinks:s.target.checked}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Add Competitive Research",e.jsx("p",{className:"text-xs text-gray-500",children:"Analyze similar blogs to find strategic insights."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer self-end",children:[e.jsx("input",{type:"checkbox",checked:h.isCompetitiveResearchEnabled,onChange:()=>{B(s=>o(l({},s),{isCompetitiveResearchEnabled:!s.isCompetitiveResearchEnabled})),t(s=>o(l({},s),{isCompetitiveResearchEnabled:!s.isCompetitiveResearchEnabled}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),h.isCompetitiveResearchEnabled&&e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Show Outbound Links",e.jsx("p",{className:"text-xs text-gray-500",children:"Display reference links from competitor analysis."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer self-end",children:[e.jsx("input",{type:"checkbox",checked:h.addOutBoundLinks,onChange:()=>{B(s=>o(l({},s),{addOutBoundLinks:!s.addOutBoundLinks})),t(s=>o(l({},s),{addOutBoundLinks:!s.addOutBoundLinks}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Reference Links (Helps make blog more compelling)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600",placeholder:"https://example.com",onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),k())},value:E.newLink,onChange:s=>L(r=>o(l({},r),{newLink:s.target.value}))}),e.jsx("button",{onClick:k,className:"px-3 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md",children:e.jsx(pe,{className:"w-4 h-4"})})]}),h.referenceLinks.length>0&&e.jsx("div",{className:"mt-2 space-y-2",children:h.referenceLinks.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-50 rounded-md",children:[e.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 truncate",children:s}),e.jsx("button",{onClick:()=>C(r),className:"text-gray-500 hover:text-red-500",children:e.jsx(le,{className:"w-4 h-4"})})]},r))})]})]})})})};var Se={exports:{}},Tt=Se.exports,Ze;function Pt(){return Ze||(Ze=1,(function(i,c){(function(a,t){i.exports=t()})(Tt,(function(){return function(a,t,g){a=a||{};var M=t.prototype,K={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function b(v,h,B,E){return M.fromToBase(v,h,B,E)}g.en.relativeTime=K,M.fromToBase=function(v,h,B,E,L){for(var p,S,P,u=B.$locale().relativeTime||K,k=a.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],C=k.length,A=0;A<C;A+=1){var D=k[A];D.d&&(p=E?g(v).diff(B,D.d,!0):B.diff(v,D.d,!0));var y=(a.rounding||Math.round)(Math.abs(p));if(P=p>0,y<=D.r||!D.r){y<=1&&A>0&&(D=k[A-1]);var w=u[D.l];L&&(y=L(""+y)),S=typeof w=="string"?w.replace("%d",y):w(y,h,D.l,P);break}}if(h)return S;var $=P?u.future:u.past;return typeof $=="function"?$(S):$.replace("%s",S)},M.to=function(v,h){return b(v,h,this,!0)},M.from=function(v,h){return b(v,h,this)};var N=function(v){return v.$u?g.utc():g()};M.toNow=function(v){return this.to(N(this),v)},M.fromNow=function(v){return this.from(N(this),v)}}}))})(Se)),Se.exports}var Dt=Pt();const zt=Ms(Dt);ns.extend(zt);const Ot=({title:i,content:c,id:a,functions:t,icon:g,gradient:M})=>{var B,E,L;const K=ce(p=>p.auth.user),b=(E=K==null?void 0:K.plan)!=null?E:(B=K==null?void 0:K.subscription)==null?void 0:B.plan,N=we(),{handlePopup:v}=Ne(),h=()=>{var p,S,P,u,k;if(a==="A")(p=t.showQuickBlogModal)==null||p.call(t);else if(a===1)(S=t.showModal)==null||S.call(t);else if(a==="B"){if(["free","basic"].includes(b==null?void 0:b.toLowerCase())){N("/pricing");return}(P=t.showMultiStepModal)==null||P.call(t)}else a===4?(u=t.showCompetitiveAnalysis)==null||u.call(t):a===3&&((k=t.showPerformanceMonitoring)==null||k.call(t))};return e.jsxs("div",{onClick:h,className:"group relative bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-xl hover:scale-[1.02] transition-all duration-300 cursor-pointer overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-5 transition-opacity duration-300 from-blue-500 to-purple-500"}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-r ${M} text-white mb-6 transition-transform duration-300`,children:g}),["free","basic"].includes((L=b==null?void 0:b.toLowerCase)==null?void 0:L.call(b))&&a==="B"&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(is,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:i}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:c}),e.jsxs("div",{className:"flex items-center text-blue-600 font-medium text-sm group-hover:gap-2 transition-all",children:["Get Started",e.jsx(os,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})},Rt=({icon:i,title:c,content:a,id:t,functions:g,bgColor:M,hoverBg:K,color:b,navigate:N})=>{var p,S,P;const v=we(),h=ce(u=>u.auth.user),B=(S=h==null?void 0:h.plan)!=null?S:(p=h==null?void 0:h.subscription)==null?void 0:p.plan,{handlePopup:E}=Ne(),L=()=>{if(N){v(N);return}if(t===4&&(g!=null&&g.showCompetitiveAnalysis)){if(["free","basic"].includes(B==null?void 0:B.toLowerCase())){v("/pricing");return}g.showCompetitiveAnalysis()}else t===3&&(g!=null&&g.showPerformanceMonitoring)?g.showPerformanceMonitoring():t===2&&(g!=null&&g.showSeoAnalysis)?g.showSeoAnalysis():t===1&&(g!=null&&g.showKeywordResearch)&&g.showKeywordResearch()};return e.jsxs("div",{onClick:L,className:`group p-6 rounded-xl ${M} ${K} border border-transparent hover:border-gray-200 hover:shadow-md transition-all duration-300 cursor-pointer`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(G.div,{whileHover:{scale:1.15,rotate:8},transition:{type:"spring",stiffness:300},className:`inline-flex items-center justify-center w-12 h-12 rounded-xl bg-white ${b} mb-4 group-hover:scale-110 transition-transform duration-300 shadow-sm`,children:i}),["free","basic"].includes((P=B==null?void 0:B.toLowerCase)==null?void 0:P.call(B))&&t===4&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(is,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors text-[18px]",children:c}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:a})]})},_t=({title:i,content:c,tags:a,item:t,time:g})=>{var v,h,B,E,L;const M=we(),K=(L=(E=(B=(h=(v=c==null?void 0:c.replace(/^#+\s*/gm,""))==null?void 0:v.replace(/#[^\s#]+/g,""))==null?void 0:h.replace(/[*_~`>\\=|-]+/g,""))==null?void 0:B.replace(/\n+/g," "))==null?void 0:E.replace(/\s+/g," "))==null?void 0:L.trim(),b=K&&K.length>80?`${K.substring(0,80)}...`:K||"",N=()=>{t&&t._id&&M(`/toolbox/${t._id}`,{state:{blog:t}})};return e.jsx("div",{onClick:N,className:"group p-4 sm:p-5 md:p-6 rounded-xl border border-gray-200 hover:border-blue-200 hover:shadow-md transition-all duration-300 cursor-pointer mb-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-3",children:[e.jsx("h3",{className:"font-bold capitalize text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-1",children:i}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${t!=null&&t.isManuallyEdited?"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"}`,children:t!=null&&t.isManuallyEdited?"Manually Generated":(t==null?void 0:t.aiModel)||"Gemini"}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${(t==null?void 0:t.status)==="complete"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:(t==null?void 0:t.status)||""})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:b}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a==null?void 0:a.map((p,S)=>e.jsx("span",{className:"px-3 py-1 text-xs capitalize bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors",children:p},S))})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-500 ml-auto",children:[e.jsx("span",{children:"View"}),e.jsx("span",{children:ns(g).fromNow()}),e.jsx(os,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})})},Gt=({closeFnc:i})=>{var Z,ne,ue;const c=xe(),a=we(),{handlePopup:t}=Ne(),g=ce(n=>n.auth.user),M=((Z=g==null?void 0:g.subscription)==null?void 0:Z.plan)||(g==null?void 0:g.plan),[K,b]=I.useState(!1),N=((ne=g==null?void 0:g.usage)==null?void 0:ne.aiImages)>=((ue=g==null?void 0:g.usageLimits)==null?void 0:ue.aiImages),v=I.useRef(null),[h,B]=I.useState(0),[E,L]=I.useState(null),{Option:p}=fe,[S,P]=I.useState({topics:!1,keywords:!1,tone:!1}),[u,k]=I.useState({templates:[],topics:[],keywords:[],topicInput:"",keywordInput:"",performKeywordResearch:!0,tone:"",numberOfCounts:5,userDefinedLength:1e3,imageSource:"unsplash",useBrandVoice:!0,useCompetitors:!1,includeInterlinks:!0,includeMetaHeadlines:!0,includeFaqs:!0,numberOfBlogs:1,numberOfImages:0,wordpressPostStatus:!1,postFrequency:600,selectedDates:null,aiModel:"gemini",includeTableOfContents:!1,isCheckedGeneratedImages:!0,addOutBoundLinks:!1,blogImages:[]});I.useEffect(()=>{N&&u.isCheckedGeneratedImages&&k(n=>o(l({},n),{isCheckedGeneratedImages:!1,imageSource:"unsplash"}))},[N,u.isCheckedGeneratedImages]);const C=()=>{if(h===0&&u.templates.length===0){T.error("Please add at least one template.");return}if(h===1){const n={topics:u.topics.length===0&&u.topicInput.trim()==="",keywords:!u.performKeywordResearch&&u.keywords.length===0&&u.keywordInput.trim()==="",tone:!u.tone};if(P(n),Object.values(n).some(j=>j)){T.error("Please fill all required fields in this step.");return}}B(n=>n+1)},A=()=>{B(n=>n>0?n-1:n)},D=()=>{i()},y=()=>{const n={topics:u.topics.length===0&&u.topicInput.trim()==="",keywords:!u.performKeywordResearch&&u.keywords.length===0&&u.keywordInput.trim()==="",tone:!u.tone};if(P(n),Object.values(n).some(R=>R)){T.error("Please fill all required fields.");return}const j=u.aiModel||"gemini",O=Pe("blog.single",j),m=u.numberOfBlogs*O;t({title:"Bulk Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Estimated cost for ",e.jsx("b",{children:u.numberOfBlogs})," blog",u.numberOfBlogs>1?"s":"",": ",e.jsxs("b",{children:[m," credits"]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue?"})]}),onConfirm:()=>{c($s({blogData:u,user:g,navigate:a})),D()}})},w=n=>{const j=ae[n].name;u.templates.includes(j)?k(m=>o(l({},m),{templates:m.templates.filter(R=>R!==j)})):u.templates.length<3?k(m=>o(l({},m),{templates:[...m.templates,j]})):T.error("You can select a maximum of 3 templates.")},$=n=>{const{name:j,value:O,type:m}=n.target,R=m==="number"?parseInt(O,10)||0:O;k(o(l({},u),{[j]:R}))},W=n=>me(null,null,function*(){const{name:j,checked:O}=n.target;if(j==="wordpressPostStatus"&&O)try{if(!(g!=null&&g.wordpressLink)){T.error("Please connect your WordPress account in your profile before enabling automatic posting."),a("/profile");return}}catch(m){T.error("Failed to check profile. Please try again.");return}k(o(l({},u),{[j]:O})),j==="performKeywordResearch"&&P(m=>o(l({},m),{keywords:!1}))}),z=n=>{k(j=>o(l({},j),{topicInput:n.target.value})),P(j=>o(l({},j),{topics:!1}))},V=n=>{k(j=>o(l({},j),{keywordInput:n.target.value})),P(j=>o(l({},j),{keywords:!1}))},U=()=>{const n=u.topicInput;if(n.trim()==="")return P(m=>o(l({},m),{topics:!0})),T.error("Please enter a topic."),!1;const j=u.topics.map(m=>m.toLowerCase().trim()),O=n.split(",").map(m=>m.trim()).filter(m=>m!==""&&!j.includes(m.toLowerCase()));return O.length===0?(P(m=>o(l({},m),{topics:!0})),T.error("Please enter valid, non-duplicate topics separated by commas."),k(m=>o(l({},m),{topicInput:""})),!1):(k(m=>o(l({},m),{topics:[...m.topics,...O],topicInput:""})),P(m=>o(l({},m),{topics:!1})),!0)},_=n=>{k(j=>o(l({},j),{topics:j.topics.filter((O,m)=>m!==n)}))},H=()=>{const n=u.keywordInput;if(n.trim()==="")return P(m=>o(l({},m),{keywords:!0})),T.error("Please enter a keyword."),!1;const j=u.keywords.map(m=>m.toLowerCase().trim()),O=n.split(",").map(m=>m.trim()).filter(m=>m!==""&&!j.includes(m.toLowerCase()));return O.length===0?(P(m=>o(l({},m),{keywords:!0})),T.error("Please enter valid, non-duplicate keywords separated by commas."),k(m=>o(l({},m),{keywordInput:""})),!1):(k(m=>o(l({},m),{keywords:[...m.keywords,...O],keywordInput:""})),P(m=>o(l({},m),{keywords:!1})),!0)},s=n=>{k(j=>o(l({},j),{keywords:j.keywords.filter((O,m)=>m!==n)}))},r=n=>{if(n.key==="Enter"){n.preventDefault();const j=U();!u.performKeywordResearch&&j&&H()}},d=n=>{k(j=>o(l({},j),{imageSource:n}))},x=n=>{var R;const j=(R=n.target.files)==null?void 0:R[0];if(!j)return;if(!j.name.toLowerCase().endsWith(".csv")){T.error("Invalid file type. Please upload a .csv file."),n.target.value=null;return}const O=20*1024;if(j.size>O){T.error("File size exceeds 20KB limit. Please upload a smaller file."),n.target.value=null;return}const m=new FileReader;m.onload=X=>{var ee;const te=(ee=X.target)==null?void 0:ee.result;if(!te)return;const Be=te.trim().split(/\r?\n/).slice(1).map(se=>{const Oe=se.split(",");return Oe.length>=2?Oe[1].trim():null}).filter(Boolean),be=u.topics.map(se=>se.toLowerCase().trim()),ge=Be.filter(se=>!be.includes(se.toLowerCase().trim()));if(ge.length===0){T.error("No new topics found in the CSV.");return}k(se=>o(l({},se),{topics:[...se.topics,...ge]})),P(se=>o(l({},se),{topics:!1})),ge.length>8&&(L(ge.length),setTimeout(()=>L(null),5e3))},m.readAsText(j),n.target.value=null},f=n=>{var m;const j=(m=n.target.files)==null?void 0:m[0];if(!j)return;const O=new FileReader;O.onload=R=>{var ge;const X=(ge=R.target)==null?void 0:ge.result;if(!X)return;const je=X.trim().split(/\r?\n/).slice(1).map(ee=>{const se=ee.split(",");return se.length>=2?se[1].trim():null}).filter(Boolean),Be=u.keywords.map(ee=>ee.toLowerCase().trim()),be=je.filter(ee=>!Be.includes(ee.toLowerCase().trim()));if(be.length===0){T.error("No new keywords found in the CSV.");return}k(ee=>o(l({},ee),{keywords:[...ee.keywords,...be]})),P(ee=>o(l({},ee),{keywords:!1})),be.length>8&&(L(be.length),setTimeout(()=>L(null),5e3))},O.readAsText(j),n.target.value=null},F=["Select Template's","Add Details","Blog Options"],q=n=>{const m=["image/jpeg","image/png","image/webp"];if(!n||n.length===0)return[];const R=Array.from(n).filter(te=>m.includes(te.type)?te.size>5242880?(T.error(`"${te.name}" exceeds the 5 MB size limit.`),!1):!0:(T.error(`"${te.name}" is not a valid image type. Only PNG, JPEG, and WebP are allowed.`),!1));return u.blogImages.length+R.length>15?(T.error("Cannot upload more than 15 images."),R.slice(0,15-u.blogImages.length)):R},re=n=>{const j=n.target.files;if(!j||j.length===0)return;const O=q(j);O.length>0&&(k(m=>o(l({},m),{blogImages:[...m.blogImages,...O]})),setData(m=>o(l({},m),{blogImages:(Array.isArray(m.blogImages)?m.blogImages:[]).filter((R,X)=>X!==index)}))),v.current&&(v.current.value="")},Y=n=>{n.preventDefault(),n.stopPropagation(),k(m=>o(l({},m),{isDragging:!1}));const j=n.dataTransfer.files;if(!j||j.length===0)return;const O=q(j);O.length>0&&(k(m=>o(l({},m),{blogImages:[...m.blogImages,...O]})),setData(m=>o(l({},m),{blogImages:[...m.blogImages,...O]})),T.success(`${O.length} image(s) added successfully!`))},J=n=>{n.preventDefault(),n.stopPropagation(),k(j=>o(l({},j),{isDragging:!0}))},de=n=>{n.preventDefault(),n.stopPropagation(),k(j=>o(l({},j),{isDragging:!1}))},Q=n=>{k(j=>{const O=j.blogImages.filter((m,R)=>R!==n);return o(l({},j),{blogImages:O})}),setData(j=>o(l({},j),{blogImages:j.blogImages.filter((O,m)=>m!==n)}))};return e.jsx(ie,{title:`Step ${h+1} : ${F[h]}`,open:!0,onCancel:D,footer:e.jsxs("div",{className:"flex justify-end gap-3",children:[h>0&&e.jsx("button",{onClick:A,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Previous"}),e.jsx("button",{onClick:h===2?y:C,className:"px-4 py-2 text-sm font-medium text-white bg-[#1B6FC9] rounded-md hover:bg-[#1B6FC9]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:h===2?"Generate Blogs":"Next"})]}),width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"p-2 md:p-4 max-h-[80vh] overflow-y-auto",children:[h===0&&e.jsxs("div",{className:"p-3 md:p-0",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3 sm:mb-4",children:"Select up to 3 templates for the types of blogs you want to generate."}),e.jsx("div",{className:"sm:hidden grid grid-cols-2 gap-4",children:ae.map((n,j)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 w-full ${u.templates.includes(n.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>w(j),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:n.imgSrc||"/placeholder.svg",alt:n.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:n.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:n.description})]})]})},n.name))}),e.jsx("div",{className:"hidden sm:block",children:e.jsx(Te,{className:"flex flex-row gap-4",children:ae.map((n,j)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 w-full ${u.templates.includes(n.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>w(j),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:n.imgSrc||"/placeholder.svg",alt:n.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:n.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:n.description})]})]})},n.name))})})]}),h===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Topics ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(ye,{title:"Upload a .csv file in the format: `Keyword` as header",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(Xe,{size:16,className:"text-blue-500"})})})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the main topics for your blogs."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:u.topicInput,onChange:z,onKeyDown:r,className:`flex-1 px-3 py-2 border ${S.topics?"border-red-500":"border-gray-300"} rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 bg-gray-50`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:U,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(Je,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:x,hidden:!0})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[(K?u.topics:u.topics.slice().reverse().slice(0,18)).map((n,j)=>{const O=K?j:u.topics.length-1-j;return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[n,e.jsx("button",{type:"button",onClick:()=>_(O),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(le,{className:"w-3 h-3"})})]},`${n}-${j}`)}),(u.topics.length>18||E)&&!K&&e.jsxs("span",{onClick:()=>b(!0),className:"cursor-pointer text-xs font-medium text-blue-600 self-center",children:[u.topics.length>18&&`+${u.topics.length-18} more `,E&&`(+${E} uploaded)`]}),K&&e.jsx("span",{onClick:()=>b(!1),className:"cursor-pointer text-xs font-medium text-red-600 self-center",children:"Show less"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Perform Keyword Research?",e.jsx("p",{className:"text-xs text-gray-500",children:"Allow AI to find relevant keywords for the topics."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"performKeywordResearch",checked:u.performKeywordResearch,onChange:W,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),!u.performKeywordResearch&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(ye,{title:"Upload a .csv file in the format: `Keyword` as header",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(Xe,{size:16,className:"text-blue-500"})})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:u.keywordInput,onChange:V,onKeyDown:r,className:`flex-1 px-3 py-2 border ${S.keywords?"border-red-500":"border-gray-300"} rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 bg-gray-50`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:H,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(Je,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:f,hidden:!0})]})]}),S.keywords&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Please add at least one keyword"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[u.keywords.slice().reverse().slice(0,18).map((n,j)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[n,e.jsx("button",{type:"button",onClick:()=>s(u.keywords.length-1-j),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(le,{className:"w-3 h-3"})})]},`${n}-${j}`)),(u.keywords.length>18||E)&&e.jsxs("span",{className:"text-xs font-medium text-blue-600 self-center",children:[u.keywords.length>18&&`+${u.keywords.length-18} more `,E&&`(+${E} uploaded)`]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"tone",className:"block text-sm font-medium text-gray-700 mb-1",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(fe,{className:"w-full",value:u.tone,onChange:n=>{k(j=>o(l({},j),{tone:n})),P(j=>o(l({},j),{tone:!1}))},placeholder:"Select tone",status:S.tone?"error":"",children:[e.jsx(p,{value:"",children:"Select Tone"}),e.jsx(p,{value:"professional",children:"Professional"}),e.jsx(p,{value:"casual",children:"Casual"}),e.jsx(p,{value:"friendly",children:"Friendly"}),e.jsx(p,{value:"formal",children:"Formal"}),e.jsx(p,{value:"conversational",children:"Conversational"}),e.jsx(p,{value:"witty",children:"Witty"}),e.jsx(p,{value:"informative",children:"Informative"}),e.jsx(p,{value:"inspirational",children:"Inspirational"}),e.jsx(p,{value:"persuasive",children:"Persuasive"}),e.jsx(p,{value:"empathetic",children:"Empathetic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approx. Blog Length (Words)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:u.userDefinedLength,className:"w-full h-1 rounded-lg appearance-none cursor-pointer bg-gradient-to-r from-[#1B6FC9] to-gray-100 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${(u.userDefinedLength-500)/4500*100}%, #E5E7EB ${(u.userDefinedLength-500)/4500*100}%)`},onChange:n=>{k(j=>o(l({},j),{userDefinedLength:parseInt(n.target.value,10)}))}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[u.userDefinedLength," words"]})]})]})]})]}),h===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select AI Model"}),e.jsx("div",{className:"flex gap-4 flex-wrap",children:[{id:"gemini",label:"Gemini",logo:"/Images/gemini.png",restricted:!1},{id:"chatgpt",label:"ChatGPT",logo:"/Images/chatgpt.png",restricted:M==="free"},{id:"claude",label:"Claude",logo:"/Images/claude.png",restricted:M==="free"||M==="basic"}].map(n=>e.jsxs("label",{htmlFor:n.id,className:`border rounded-lg px-4 py-3 flex items-center gap-3 cursor-pointer transition-all duration-150 ${u.aiModel===n.id?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[220px]`,children:[e.jsx("input",{type:"radio",id:n.id,name:"aiModel",value:n.id,checked:u.aiModel===n.id,onChange:j=>{k(O=>o(l({},O),{aiModel:j.target.value}))},className:"hidden"}),e.jsx("img",{src:n.logo,alt:n.label,className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:n.label})]},n.id))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Add Image"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{htmlFor:"add-image-toggle",className:`relative inline-block w-12 h-6 ${N?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("input",{type:"checkbox",id:"add-image-toggle",className:"sr-only peer",checked:u.isCheckedGeneratedImages,disabled:N,onChange:n=>{if(N){openUpgradePopup({featureName:"AI-Generated Images",navigate:a});return}const j=n.target.checked;k(O=>o(l({},O),{isCheckedGeneratedImages:j,imageSource:j?O.imageSource:"unsplash"}))}}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${u.isCheckedGeneratedImages&&!N?"bg-[#1B6FC9]":"bg-gray-300"}`}),e.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 ${u.isCheckedGeneratedImages&&!N?"translate-x-6":""}`})]}),N&&e.jsx(ye,{title:"You've reached your AI image generation limit. It'll reset in the next billing cycle.",overlayInnerStyle:{backgroundColor:"#FEF9C3",border:"1px solid #FACC15",color:"#78350F"},children:e.jsx(ls,{className:"text-yellow-400 ml-4",size:15})})]})]}),u.isCheckedGeneratedImages&&!u.isCheckedblogImages&&!N&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Image Source"}),e.jsx("div",{className:"flex gap-4 flex-wrap",children:[{id:"unsplash",label:"Stock Images",value:"unsplash",restricted:!1},{id:"ai",label:"AI Generated",value:"ai",restricted:M==="free"}].map(n=>e.jsxs("label",{htmlFor:n.id,className:`border rounded-lg px-4 py-3 flex items-center gap-3 justify-center cursor-pointer transition-all duration-150 ${u.imageSource===n.value?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[220px]`,children:[e.jsx("input",{type:"radio",id:n.id,name:"imageSource",value:n.value,checked:u.imageSource===n.value,onChange:()=>d(n.value),className:"hidden"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:n.label})]},n.id))})]}),u.imageSource==="customImages"&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Upload Custom Images (Max 15, each 1GB)"}),e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${u.isDragging?"border-blue-600 bg-blue-50":"border-gray-300 bg-gray-50"}`,onDragOver:J,onDragLeave:de,onDrop:Y,children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drag and drop images here or click to select"}),e.jsx("button",{className:"px-4 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md text-sm",onClick:()=>{var n;return(n=v.current)==null?void 0:n.click()},children:"Select Images"}),e.jsx("input",{type:"file",ref:v,onChange:re,accept:"image/jpeg,image/png,image/gif,image/webp",multiple:!0,className:"hidden"})]}),u.blogImages.length>0&&e.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 gap-4",children:u.blogImages.map((n,j)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:n instanceof File?URL.createObjectURL(n):n,alt:n instanceof File?n.name:`Image ${j+1}`,className:"w-full h-24 object-cover rounded-md"}),e.jsx("button",{onClick:()=>Q(j),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(le,{className:"w-4 h-4"})}),e.jsx("p",{className:"text-xs text-gray-600 truncate mt-1",children:n instanceof File?n.name:`Image ${j+1}`})]},j))})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Interlinks",e.jsx("p",{className:"text-xs text-gray-500",children:"Attempt to link between generated blogs if relevant."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeInterlinks",checked:u.includeInterlinks,onChange:W,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include FAQ Section",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate relevant FAQ questions and answers for the blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeFaqs",checked:u.includeFaqs,onChange:W,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Competitive Research",e.jsx("p",{className:"text-xs text-gray-500",children:"Perform competitive research to analyze similar blogs."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"useCompetitors",checked:u.useCompetitors,onChange:W,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),u.useCompetitors&&e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Show Outbound Links",e.jsx("p",{className:"text-xs text-gray-500",children:"Display outbound links found during competitor analysis."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"addOutBoundLinks",checked:u.addOutBoundLinks,onChange:W,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Automatic Posting",e.jsx("p",{className:"text-xs text-gray-500",children:"Automatically post blogs on the selected dates."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"wordpressPostStatus",checked:u.wordpressPostStatus,onChange:W,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),u.wordpressPostStatus&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Table of Contents",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate a table of contents for each blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeTableOfContents",checked:u.includeTableOfContents,onChange:W,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Blogs"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"How many blogs to generate based on the topics provided."}),e.jsx("input",{type:"number",name:"numberOfBlogs",min:"1",max:"10",value:u.numberOfBlogs===0?"":u.numberOfBlogs,onChange:$,onWheel:n=>n.currentTarget.blur(),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 5"})]})})]})]})})},Wt=({closeFnc:i})=>{const[c,a]=I.useState(1),t=()=>a(c+1),g=()=>a(c-1);return e.jsxs("div",{className:"border-8 border-teal-700",children:[e.jsx("input",{type:"checkbox",id:"my-modal",className:"modal-toggle"}),e.jsx("div",{className:"modal",children:e.jsxs("div",{className:"modal-box",children:[c===1&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 1"}),e.jsx("p",{className:"py-4",children:"Content for step 1 goes here."}),e.jsx("div",{className:"modal-action",children:e.jsx("button",{className:"btn border-8 border-teal-700",onClick:t,children:"Next"})})]}),c===2&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 2"}),e.jsx("p",{className:"py-4",children:"Content for step 2 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:g,children:"Previous"}),e.jsx("button",{className:"btn",onClick:t,children:"Next"})]})]}),c===3&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 3"}),e.jsx("p",{className:"py-4",children:"Content for step 3 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:i,children:"Previous"}),e.jsx("label",{htmlFor:"my-modal",className:"btn",children:"Finish"})]})]})]})})]})},Ht=({closeFnc:i})=>{const[c,a]=I.useState(0),[t,g]=I.useState(null),[M,K]=I.useState([]),[b,N]=I.useState([]),[v,h]=I.useState(!1),B=ce(ts),[E,L]=I.useState({template:!1,focusKeywords:!1,keywords:!1,videoLinks:!1,otherLinks:!1}),[p,S]=I.useState({template:null,keywords:[],focusKeywords:[],videoLinkInput:"",otherLinkInput:"",focusKeywordInput:"",keywordInput:""}),P=xe(),u=we(),{handlePopup:k}=Ne(),C=()=>{if(c===0&&!p.template){L(s=>o(l({},s),{template:!0})),T.error("Please select a template before proceeding.");return}L(s=>o(l({},s),{template:!1})),a(c+1)},A=()=>{a(c-1)},D=()=>{i()},y=()=>{const s={template:!p.template,focusKeywords:p.focusKeywords.length===0,keywords:p.keywords.length===0,videoLinks:M.length===0,otherLinks:v&&b.length===0};if(L(s),Object.values(s).some(d=>d)){T.error("Please fill all required fields.");return}if(M.length>3){L(d=>o(l({},d),{videoLinks:!0})),T.error("You can only add up to 3 video links.");return}if(b.length>3){L(d=>o(l({},d),{otherLinks:!0})),T.error("You can only add up to 3 other links.");return}const r=o(l({},p),{videoLinks:[...M,...b]});k({title:"Quick Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Quick blog generation costs ",e.jsxs("b",{children:[Pe("blog.quick")," credits"]}),"."]}),e.jsx("br",{}),e.jsx("span",{children:"Are you sure you want to proceed?"})]}),onConfirm:()=>{P(Fs({blogData:r,user:B,navigate:u})),D()}})},w=s=>{g(s),S(r=>o(l({},r),{template:ae[s].name})),L(r=>o(l({},r),{template:!1}))},$=(s,r)=>{const d=r==="keywords"?"keywordInput":"focusKeywordInput";S(x=>o(l({},x),{[d]:s.target.value})),L(x=>o(l({},x),{[r]:!1}))},W=s=>{const r=s==="keywords"?"keywordInput":"focusKeywordInput",d=p[r].trim();if(!d){L(F=>o(l({},F),{[s]:!0})),T.error("Please enter a keyword.");return}const x=new Set(p[s].map(F=>F.trim().toLowerCase())),f=d.split(",").map(F=>F.trim()).filter(F=>F!==""&&!x.has(F.toLowerCase()));if(f.length===0){L(F=>o(l({},F),{[s]:!0})),T.error("Please enter valid, non-duplicate keywords separated by commas.");return}if(s==="focusKeywords"&&p[s].length+f.length>3){L(F=>o(l({},F),{[s]:!0})),T.error("You can only add up to 3 focus keywords.");return}S(F=>o(l({},F),{[s]:[...F[s],...f],[r]:""})),L(F=>o(l({},F),{[s]:!1}))},z=(s,r)=>{const d=[...p[r]];d.splice(s,1),S(o(l({},p),{[r]:d}))},V=(s,r)=>{s.key==="Enter"&&(s.preventDefault(),W(r))},U=s=>{var de;const r=s==="video",d=r?"videoLinkInput":"otherLinkInput",x=r?"videoLinks":"otherLinks",f=(de=p[d])==null?void 0:de.trim(),F=r?M:b,q=r?K:N,re=3;if(!f){L(Q=>o(l({},Q),{[x]:!0})),T.error(`Please enter at least one ${r?"video":"other"} link.`);return}const Y=f.split(",").map(Q=>Q.trim()).filter(Q=>Q!==""),J=[];for(let Q of Y){let Z=Q;/^https?:\/\//i.test(Z)||(Z=`https://${Z}`);try{const ne=new URL(Z);if(r&&!["youtube.com","youtu.be"].some(n=>ne.hostname.includes(n))){L(n=>o(l({},n),{videoLinks:!0})),T.error("Please enter a valid video URL (e.g., YouTube).");continue}!M.includes(Z)&&!b.includes(Z)&&!J.includes(Z)&&J.push(Z)}catch(ne){L(ue=>o(l({},ue),{[x]:!0})),T.error(`Invalid ${r?"video":"other"} URL: ${Q}`)}}if(J.length===0){L(Q=>o(l({},Q),{[x]:!0})),T.error(`No valid, unique ${r?"video":"other"} URLs found.`);return}if(F.length+J.length>re){L(Q=>o(l({},Q),{[x]:!0})),T.error(`You can only add up to ${re} ${r?"video":"other"} links.`);return}q([...F,...J]),S(Q=>o(l({},Q),{[d]:""})),L(Q=>o(l({},Q),{[x]:!1}))},_=(s,r)=>{s.key==="Enter"&&(s.preventDefault(),U(r))},H=(s,r)=>{const d=r==="video",x=d?M:b,f=d?K:N,F=[...x];F.splice(s,1),f(F),L(q=>o(l({},q),{[d?"videoLinks":"otherLinks"]:!1}))};return e.jsx(ie,{title:"Generate Quick Blog",open:!0,onCancel:D,footer:c===0?[e.jsx("button",{onClick:C,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Next step",children:"Next"},"next")]:[e.jsx("button",{onClick:A,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors","aria-label":"Previous step",children:"Previous"},"previous"),e.jsx("button",{onClick:y,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 transition-colors ml-3","aria-label":"Submit quick blog",children:"Submit"},"submit")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"p-6 space-y-6 max-h-[80vh] overflow-y-auto",children:[c===0&&e.jsxs("div",{children:[e.jsx("div",{className:"sm:hidden grid grid-cols-2 gap-4",children:ae.map((s,r)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 w-full ${p.template===s.name?"border-gray-300 border-2 rounded-md":""}`,onClick:()=>w(r),role:"button",tabIndex:0,onKeyDown:d=>d.key==="Enter"&&w(r),"aria-label":`Select ${s.name} template`,children:e.jsxs("div",{className:"bg-white rounded-md overflow-hidden shadow-sm",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:s.imgSrc||"/placeholder.svg",alt:s.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:s.description})]})]})},r))}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx(Te,{className:"flex flex-row gap-4",children:ae.map((s,r)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 w-full ${p.template===s.name?"border-gray-300 border-2 rounded-md":""}`,onClick:()=>w(r),role:"button",tabIndex:0,onKeyDown:d=>d.key==="Enter"&&w(r),"aria-label":`Select ${s.name} template`,children:e.jsxs("div",{className:"bg-white rounded-md overflow-hidden shadow-sm",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:s.imgSrc||"/placeholder.svg",alt:s.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:s.description})]})]})},r))}),E.template&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Please select a template."})]})]}),c===1&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Focus Keywords ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:p.focusKeywordInput,onChange:s=>$(s,"focusKeywords"),onKeyDown:s=>V(s,"focusKeywords"),className:`flex-1 px-3 py-2 border ${E.focusKeywords?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter focus keywords, separated by commas","aria-label":"Focus keywords"}),e.jsx("button",{onClick:()=>W("focusKeywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Add focus keywords",children:e.jsx(pe,{size:16})})]}),E.focusKeywords&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please add at least one focus keyword."}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:p.focusKeywords.map((s,r)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[s,e.jsx("button",{onClick:()=>z(r,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove ${s}`,children:e.jsx(le,{size:16})})]},r))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:p.keywordInput,onChange:s=>$(s,"keywords"),onKeyDown:s=>V(s,"keywords"),className:`flex-1 px-3 py-2 border ${E.keywords?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter secondary keywords, separated by commas","aria-label":"Secondary keywords"}),e.jsx("button",{onClick:()=>W("keywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Add secondary keywords",children:e.jsx(pe,{size:16})})]}),E.keywords&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please add at least one secondary keyword."}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:p.keywords.map((s,r)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[s,e.jsx("button",{onClick:()=>z(r,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove ${s}`,children:e.jsx(le,{size:16})})]},r))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Video Links (e.g., YouTube) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:p.videoLinkInput,onChange:s=>S(r=>o(l({},r),{videoLinkInput:s.target.value})),onKeyDown:s=>_(s,"video"),className:`flex-1 px-3 py-2 border ${E.videoLinks?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter video links (e.g., YouTube), separated by commas","aria-label":"Video links"}),e.jsx("button",{onClick:()=>U("video"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Add video links",children:e.jsx(pe,{size:16})})]}),E.videoLinks&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please add at least one valid video link (up to 3 allowed)."}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:M.map((s,r)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[s,e.jsx("button",{onClick:()=>H(r,"video"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove ${s}`,children:e.jsx(le,{size:16})})]},r))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Other Links (e.g., articles, websites)",v&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(ze,{checked:v,onChange:s=>{h(s),s||(N([]),S(r=>o(l({},r),{otherLinkInput:""})),L(r=>o(l({},r),{otherLinks:!1})))},"aria-label":"Toggle other links input"})})]}),v&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:p.otherLinkInput,onChange:s=>S(r=>o(l({},r),{otherLinkInput:s.target.value})),onKeyDown:s=>_(s,"other"),className:`flex-1 px-3 py-2 border ${E.otherLinks?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter other links (e.g., articles, websites), separated by commas","aria-label":"Other links"}),e.jsx("button",{onClick:()=>U("other"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Add other links",children:e.jsx(pe,{size:16})})]}),E.otherLinks&&e.jsx("p",{className:"text-red-500 text-sm",children:"Please add at least one valid other link (up to 3 allowed)."}),e.jsx("div",{className:"flex flex-wrap gap-2",children:b.map((s,r)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[s,e.jsx("button",{onClick:()=>H(r,"other"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove ${s}`,children:e.jsx(le,{size:16})})]},r))})]})]})]})]})})},Ut=({closeFnc:i,visible:c,allBlogs:a})=>{var C,A,D;const[t,g]=I.useState({selectedBlog:null,title:"",content:"",keywords:[]}),[M,K]=I.useState(null),[b,N]=I.useState(null),[v,h]=I.useState(!1),B=xe();I.useEffect(()=>{b&&(h(!0),B(Ks(b)).unwrap().then(y=>{y!=null&&y._id?g(w=>o(l({},w),{title:y.title||"",content:y.content||"",keywords:y.focusKeywords||[],selectedBlog:y,contentType:"markdown"})):T.error("Blog details not found.")}).catch(y=>{console.error("Failed to fetch blog by ID:",y),T.error("Failed to fetch blog details.")}).finally(()=>h(!1)))},[b,B]);const E=y=>{const w=a.find($=>$._id===y);w&&(N(w._id),g({selectedBlog:w,title:w.title||"",content:w.content||"",keywords:w.focusKeywords||[]}),K(null))},L=()=>me(null,null,function*(){var y;if(!((y=t.selectedBlog)!=null&&y._id)){T.error("Please select a blog.");return}if(t.content.length<500){T.warning("Your content is too short. This may affect performance analysis accuracy.");return}h(!0);try{const w=yield B(Ke(t.selectedBlog._id)).unwrap();K(w.stats||w),T.success("Performance insights loaded successfully.")}catch(w){console.error("Failed to fetch blog stats:",w),T.error("Failed to load performance stats.")}finally{h(!1)}}),p={flesch:"📘 Flesch Reading Ease (0–100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"📗 SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"📙 ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"📈 Blog Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},S=({type:y="seo"})=>e.jsx(ye,{title:p[y],trigger:["hover","click"],placement:"top",children:e.jsx(ds,{className:"ml-1 text-gray-500 hover:text-blue-500 cursor-pointer"})}),P=({icon:y,label:w,value:$,color:W,delay:z=0,suffix:V="",description:U=""})=>e.jsx(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:z*.1,duration:.3},className:`p-4 bg-white rounded-lg border ${W} shadow-sm hover:shadow-md transition-shadow w-full sm:w-auto`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[y&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-md text-blue-500",children:y}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:w}),e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:[$,V]}),U&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:U})]})]})}),u=({score:y,max:w,label:$,level:W,color:z})=>e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm w-full",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600 flex items-center gap-1",children:[$,e.jsx(S,{type:/seo/gi.test($)?"seo":"flesch"})]}),e.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:W})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full ${z} transition-all duration-500`,style:{width:`${y/w*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:[y," / ",w]})})]})]}),k=({stats:y})=>{var r,d,x,f,F,q,re;if(!y)return null;const{readabililty:w={},seo:$={},engagement:W={},metadata:z={}}=y,V=($==null?void 0:$.keywordDensity)||{},U=Object.keys(V).filter(Y=>Y.split(" ").length<=2).length,_=Object.keys(V).filter(Y=>Y.split(" ").length>2).length,H=Object.entries(V).map(([Y,{count:J,density:de}],Q)=>({key:Y,keyword:Y,count:J,density:de,animationDelay:Q*.1})),s=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(Y,J)=>Y.density-J.density,render:Y=>`${Y.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 sm:p-6 mt-4 sm:mt-6",children:[e.jsx("div",{className:"mb-4 sm:mb-6 text-center",children:e.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-6 sm:mb-8 capitalize",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-base sm:text-xl font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(z==null?void 0:z.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(z==null?void 0:z.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(z==null?void 0:z.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(z==null?void 0:z.aiModel)||"-"})]})]}),(z==null?void 0:z.generatedAt)&&e.jsxs("div",{className:"mt-3 sm:mt-4 bg-gray-50 p-3 rounded-lg border normal-case border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(z.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-base sm:text-xl font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[!!($!=null&&$.score)&&e.jsx(u,{score:($==null?void 0:$.score)||0,max:100,label:"Blog Score",level:`${($==null?void 0:$.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsx(P,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:($==null?void 0:$.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(P,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:($==null?void 0:$.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(P,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:($==null?void 0:$.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-4 sm:mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-2 sm:mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(r=$==null?void 0:$.focusKeywords)==null?void 0:r.map((Y,J)=>e.jsx(G.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:J*.1},className:"px-2 sm:px-3 py-1 bg-blue-50 rounded-full text-xs sm:text-sm text-blue-700 border border-blue-100 hover:bg-blue-100 transition-colors",children:Y},Y))})]}),e.jsxs("div",{className:"mt-4 sm:mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-2 sm:mb-3",children:"Keyword Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-3 sm:mb-4",children:[e.jsx(P,{icon:e.jsx(Us,{className:"w-4 h-4 sm:w-5 sm:h-5"}),label:"Short-Tail Keywords",value:U,color:"border-blue-100",delay:0}),e.jsx(P,{icon:e.jsx(ft,{className:"w-4 h-4 sm:w-5 sm:h-5"}),label:"Long-Tail Keywords",value:_,color:"border-blue-100",delay:.1})]}),e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-2 sm:mb-3",children:"Keyword Densities"}),e.jsx(G.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},className:"overflow-x-auto w-full",children:e.jsx(De,{dataSource:H,columns:s,pagination:!1,components:{body:{row:de=>{var Q=de,{children:Y}=Q,J=Me(Q,["children"]);var ne;const Z=((ne=H[J["data-row-key"]])==null?void 0:ne.animationDelay)||0;return e.jsx(G.tr,o(l({},J),{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:Z},className:"w-full",children:Y}))}}},className:"min-w-[300px] sm:min-w-full md:min-w-[600px] lg:min-w-full rounded-md overflow-hidden capitalize"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-1.5 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-base sm:text-xl font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsx(u,{score:((d=w==null?void 0:w.fleschEase)==null?void 0:d.score)||0,max:100,label:"Flesch Ease",level:((x=w==null?void 0:w.fleschEase)==null?void 0:x.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:["SMOG Index",e.jsx(S,{type:"smog"})]}),e.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:((f=w==null?void 0:w.smogIndex)==null?void 0:f.level)||"-"})]}),e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-2",children:[((F=w==null?void 0:w.smogIndex)==null?void 0:F.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:["ARI ",e.jsx(S,{type:"ari"})]}),e.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:((q=w==null?void 0:w.ari)==null?void 0:q.level)||"-"})]}),e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-2",children:[((re=w==null?void 0:w.ari)==null?void 0:re.score)||0," grade"]})]}),e.jsx(P,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(w==null?void 0:w.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mt-3 sm:mt-4",children:[e.jsx(P,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(w==null?void 0:w.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:(w==null?void 0:w.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:(w==null?void 0:w.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:(w==null?void 0:w.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:(w==null?void 0:w.syllableCount)||0})]})]})]})]})};return I.useEffect(()=>(c?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[c]),e.jsx(ie,{title:e.jsxs(G.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"p-1.5 sm:p-2 bg-blue-500 rounded-md text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3 h-3 sm:w-4 sm:h-4",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Performance Dashboard"})]}),open:c,onCancel:i,footer:null,width:"90vw",centered:!0,styles:{body:{maxHeight:"80vh",overflowY:"auto"},content:{maxWidth:"900px",margin:"0 auto"}},className:"rounded-lg sm:rounded-2xl shadow-lg",children:e.jsxs("div",{className:"p-0 sm:p-4 space-y-4 sm:space-y-6",children:[e.jsxs(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-sm sm:text-base font-semibold text-gray-700 mt-2 sm:mt-0 mb-1 sm:mb-2",children:"Select Blog"}),e.jsx("div",{className:"relative",children:e.jsxs(fe,{showSearch:!0,filterOption:(y,w)=>{var $;return($=w==null?void 0:w.children)==null?void 0:$.toLowerCase().includes(y.toLowerCase())},className:"w-full",placeholder:"Select Blog",onChange:E,value:((C=t.selectedBlog)==null?void 0:C._id)||"",children:[e.jsx(fe.Option,{value:"",children:"Select Blog"}),a==null?void 0:a.map(y=>e.jsx(fe.Option,{value:y._id,className:"bg-gray-50",children:y.title||"Untitled"},y._id))]})})]}),!t.selectedBlog&&e.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8 sm:py-10 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:e.jsx("p",{className:"text-sm sm:text-lg text-gray-600",children:"Select a blog to view content and performance insights."})}),t.selectedBlog&&e.jsxs(e.Fragment,{children:[e.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"p-3 sm:p-4 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700",children:"Content Preview"})}),e.jsx("div",{children:e.jsx("div",{className:"text-gray-700 max-h-[200px] sm:max-h-[300px] overflow-y-auto whitespace-pre-wrap leading-relaxed p-3 sm:p-4 rounded-md text-sm sm:text-base",children:(A=t==null?void 0:t.content)!=null&&A.trim()?t.content.split(`
`).map((y,w)=>y.startsWith("### ")?e.jsx("h3",{className:"text-base sm:text-lg font-semibold mt-2",children:y.replace("### ","").replace(/[*_~>`]/g,"").trim()},w):y.startsWith("## ")?e.jsx("h2",{className:"text-lg sm:text-xl font-semibold mt-2",children:y.replace("## ","").replace(/[*_~>`]/g,"").trim()},w):y.startsWith("# ")?e.jsx("h1",{className:"text-xl sm:text-2xl font-bold mt-2",children:y.replace("# ","").replace(/[*_~>`]/g,"").trim()},w):e.jsx("p",{className:"text-sm sm:text-base mt-2",children:y.replace(/[*_~>`]/g,"").trim()},w)):e.jsx(Hs,{description:"No content available for this blog"})})})]}),((D=t.keywords)==null?void 0:D.length)>0&&e.jsxs(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-3 sm:p-4 bg-gray-50 border border-gray-200 rounded-lg shadow-sm",children:[e.jsx("h4",{className:"text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.keywords.map((y,w)=>e.jsx(G.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"px-2 sm:px-3 py-1 bg-blue-50 rounded-full text-xs sm:text-sm text-blue-700 border border-blue-100 hover:bg-blue-100 transition-colors",children:y},y))})]}),!M&&e.jsx(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center",children:e.jsx(Le,{type:"primary",size:"large",onClick:L,loading:v,className:"bg-blue-600 text-white hover:bg-blue-700 rounded-lg px-4 sm:px-6 py-2 transition-all duration-200",disabled:v||!t.selectedBlog,children:v?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(_s,{})," Loading Insights..."]}):"Get Performance Insights"})}),M&&e.jsx(k,{stats:M})]})]})})},qt=({closeFnc:i})=>{var u;const[c,a]=I.useState({selectedBlog:null,title:"",content:""}),[t,g]=I.useState(!1),[M,K]=I.useState(null),b=xe(),{blogs:N,error:v}=ce(k=>k.blog);I.useEffect(()=>{b(rs())},[b]),I.useEffect(()=>{v&&T.error(v)},[v]);const h=k=>{a({selectedBlog:k,title:k.title,content:k.content}),K(null)},B=()=>me(null,null,function*(){if(!c.selectedBlog){T.error("Please select a blog");return}g(!0);try{const k=yield b(Ke(c.selectedBlog._id));if(Ke.fulfilled.match(k)){const{stats:C}=k.payload;K(C),T.success("Performance analysis completed!")}else T.error("Something went wrong during stats fetching.")}catch(k){T.error("Unexpected error occurred.")}finally{g(!1)}}),E={flesch:"📘 Flesch Reading Ease (0–100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"📗 SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"📙 ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"📈 SEO Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},L=({type:k="seo"})=>e.jsx(ye,{title:E[k],trigger:["hover","click"],placement:"top",children:e.jsx(ds,{className:"ml-2 text-black size-8 hover:text-blue-500 cursor-pointer"})}),p=({icon:k,label:C,value:A,color:D,delay:y=0,suffix:w="",description:$=""})=>e.jsx(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:y*.1,duration:.3},className:`p-4 bg-white rounded-xl border ${D} shadow-sm`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[k&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-500",children:k}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:C}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-1",children:[A,w]}),$&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:$})]})]})}),S=({score:k,max:C,label:A,level:D,color:y})=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[A,e.jsx(L,{type:/seo/gi.test(A)?"seo":"flesch"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:D})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${y}`,style:{width:`${k/C*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[k," / ",C]})})]})]}),P=({stats:k})=>{var z,V,U,_,H,s,r,d;if(!k)return null;const{readabililty:C={},seo:A={},engagement:D={},metadata:y={}}=k,w=(A==null?void 0:A.keywordDensity)||{},$=Object.entries(w).map(([x,{count:f,density:F}],q)=>({key:x,keyword:x,count:f,density:F,animationDelay:q*.1})),W=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(x,f)=>x.density-f.density,render:x=>`${x.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-5 mt-4",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(y==null?void 0:y.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(y==null?void 0:y.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(y==null?void 0:y.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(y==null?void 0:y.aiModel)||"-"})]})]}),(y==null?void 0:y.generatedAt)&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(y.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-green-100 rounded text-green-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 11.5V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1.4"}),e.jsx("path",{d:"M14 10V8a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2"}),e.jsx("path",{d:"M10 9.9V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v5"}),e.jsx("path",{d:"M6 14v0a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0"}),e.jsx("path",{d:"M18 11v0a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-4a8 8 0 0 1-8-8 2 2 0 1 1 4 0"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Engagement"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(p,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),label:"GenWrite Views",value:(D==null?void 0:D.views)||0,color:"border-green-100",delay:0}),e.jsx(p,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),label:"WordPress Views",value:(D==null?void 0:D.wordpressViews)||0,color:"border-green-100",delay:1})]}),e.jsx("div",{className:"mt-4 bg-gray-50 p-4 rounded-xl border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Public Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${D!=null&&D.isPublic?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:D!=null&&D.isPublic?"✅ Public":"❌ Private"})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(S,{score:(A==null?void 0:A.score)||0,max:100,label:"SEO Score",level:`${(A==null?void 0:A.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(p,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(A==null?void 0:A.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(p,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(A==null?void 0:A.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(p,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(A==null?void 0:A.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(z=A==null?void 0:A.focusKeywords)==null?void 0:z.map((x,f)=>e.jsx(G.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:f*.1},className:"px-3 py-1 bg-blue-50 rounded-full text-sm text-blue-700 border border-blue-100",children:x},x))})]}),(A==null?void 0:A.keywords.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Other Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(V=A==null?void 0:A.keywords)==null?void 0:V.map((x,f)=>e.jsx(G.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:f*.1},className:"px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-700 border border-gray-200",children:x},x))})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Keyword Densities"}),e.jsx(G.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:e.jsx(De,{dataSource:$,columns:W,pagination:!1,components:{body:{row:F=>{var q=F,{children:x}=q,f=Me(q,["children"]);var Y;const re=((Y=$[f["data-row-key"]])==null?void 0:Y.animationDelay)||0;return e.jsx(G.tr,o(l({},f),{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:re},children:x}))}}},className:"rounded-md overflow-hidden"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(S,{score:((U=C==null?void 0:C.fleschEase)==null?void 0:U.score)||0,max:100,label:"Flesch Ease",level:((_=C==null?void 0:C.fleschEase)==null?void 0:_.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["SMOG Index",e.jsx(L,{type:"smog"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((H=C==null?void 0:C.smogIndex)==null?void 0:H.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((s=C==null?void 0:C.smogIndex)==null?void 0:s.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["ARI ",e.jsx(L,{type:"ari"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((r=C==null?void 0:C.ari)==null?void 0:r.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((d=C==null?void 0:C.ari)==null?void 0:d.score)||0," grade"]})]}),e.jsx(p,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(C==null?void 0:C.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(p,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(C==null?void 0:C.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(C==null?void 0:C.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(C==null?void 0:C.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(C==null?void 0:C.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(C==null?void 0:C.syllableCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paragraphs"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(C==null?void 0:C.paragraphCount)||0})]})]})]})]})};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-4xl bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[e.jsxs(G.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Seo Analysis Dashboard"})]}),e.jsx("button",{onClick:i,className:"p-2 rounded-full hover:bg-gray-100 transition-all",children:e.jsx(le,{className:"h-6 w-6 text-gray-500 hover:text-gray-700"})})]}),e.jsx("div",{className:"p-5 overflow-y-auto max-h-[80vh]",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Blog"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 appearance-none",onChange:k=>{const C=N.data.find(A=>A._id===k.target.value);C&&h(C)},value:((u=c.selectedBlog)==null?void 0:u._id)||"",children:[e.jsx("option",{value:"",className:"bg-gray-50",children:"Select a blog"}),N.data.map(k=>e.jsx("option",{value:k._id,className:"bg-gray-50 capitalize",children:k.title},k._id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),c.selectedBlog&&e.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"font-medium text-gray-700",children:"Preview"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 truncate capitalize",children:c.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3",children:c.content})]})]}),e.jsx(G.div,{className:"flex justify-end pt-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(G.button,{onClick:B,className:`px-5 py-2.5 rounded-lg font-medium flex items-center gap-2 ${t?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"} transition-all duration-300 shadow`,disabled:t||!c.selectedBlog,whileHover:{scale:!t&&c.selectedBlog?1.03:1},whileTap:{scale:.97},children:t?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),"Analyze Performance"]})})}),t&&!M&&e.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-4",children:[...Array(6)].map((k,C)=>e.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:C*.1},className:"h-32 bg-gray-100 rounded-xl animate-pulse"},C))}),e.jsx(P,{stats:M})]})}),e.jsx("div",{className:"flex justify-end gap-3 p-5 border-t border-gray-100",children:e.jsx(G.button,{onClick:i,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-300",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close Dashboard"})})]})})},Vt=({closeFnc:i,openSecondStepModal:c,openJobModal:a,visible:t})=>{var H;const[g,M]=I.useState(""),[K,b]=I.useState([]),[N,v]=I.useState(1),[h,B]=I.useState(!1),E=xe(),{keywordAnalysis:L,loading:p,selectedKeywords:S}=ce(s=>s.analysis);I.useEffect(()=>{K.length===0&&(v(1),E(Ae()))},[K,E]);const P=()=>{const s=g.trim();if(!s)return;const r=K.map(f=>f.toLowerCase()),d=new Set,x=s.split(",").map(f=>f.trim()).filter(f=>f&&!r.includes(f.toLowerCase())&&!d.has(f.toLowerCase())&&d.add(f.toLowerCase()));x.length>0&&(b([...K,...x]),M(""))},u=s=>{var x;const r=K[s],d=K.filter((f,F)=>F!==s);if(b(d),d.length===0&&(E(Ae()),v(1)),(x=S==null?void 0:S.allKeywords)!=null&&x.includes(r)){const f=S.allKeywords.filter(F=>F!==r);E(ve({focusKeywords:f.slice(0,3),keywords:f,allKeywords:f}))}},k=s=>{s.key==="Enter"&&(s.preventDefault(),P())},C=()=>{K.length>0&&(E(As(K)),v(1))},A=()=>{const s={LOW:[],MEDIUM:[],HIGH:[]};L==null||L.forEach(f=>{s[f.competition]&&s[f.competition].push({keyword:f.keyword,competition_index:f.competition_index})});const r=s.LOW.sort((f,F)=>f.competition_index-F.competition_index).slice(0,2),d=s.MEDIUM.sort((f,F)=>f.competition_index-F.competition_index).slice(0,2),x=s.HIGH.sort((f,F)=>f.competition_index-F.competition_index).slice(0,2);return[...r.map(f=>f.keyword),...d.map(f=>f.keyword),...x.map(f=>f.keyword)]},D=()=>{const s=A();if(!s.length||!(L!=null&&L.length)){ie.error({title:"No Auto-Selected Keywords",content:"No keywords available to auto-select. Please analyze keywords first."});return}ie.info({icon:null,title:e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("span",{children:"Auto-Selected Keywords"})}),content:e.jsxs("div",{children:[e.jsx("p",{children:"We selected these keywords automatically based on competition index:"}),e.jsx("ul",{className:"list-disc ml-5 mt-2",children:s.map(r=>e.jsx("li",{className:"capitalize text-sm sm:text-base",children:r},r))}),e.jsx("p",{className:"mt-3 text-sm sm:text-base",children:"Do you want to add these too?"})]}),okText:"Accept",cancelText:"Decline",closable:!0,onOk(){const r=[...(S==null?void 0:S.allKeywords)||[],...s.filter(d=>{var x;return!((x=S==null?void 0:S.allKeywords)!=null&&x.includes(d))})].slice(0,6);E(ve({focusKeywords:r.slice(0,3),keywords:r,allKeywords:r}))},onCancel(){const r=(S==null?void 0:S.allKeywords)||[];E(ve({focusKeywords:r.slice(0,3),keywords:r,allKeywords:r}))},okButtonProps:{className:"bg-blue-600 text-white"}})},y=s=>me(null,null,function*(){const r=(S==null?void 0:S.allKeywords)||[];yield E(ve({focusKeywords:r.slice(0,3),keywords:r.slice(3),allKeywords:r})),setTimeout(()=>{s==="blog"?c({focusKeywords:r.slice(0,3),keywords:r.slice(3),allKeywords:r}):a(),i()},100)}),w=()=>{y("blog")},$=()=>{y("job")},W=[{title:"Keyword",dataIndex:"keyword",key:"keyword",sorter:(s,r)=>s.keyword.localeCompare(r.keyword),render:s=>e.jsx("span",{className:"font-medium capitalize text-sm sm:text-base",children:s})},{title:"Monthly Searches",dataIndex:"avgMonthlySearches",key:"avgMonthlySearches",sorter:(s,r)=>s.avgMonthlySearches-r.avgMonthlySearches,render:s=>new Intl.NumberFormat().format(s)},{title:"Competition",dataIndex:"competition",key:"competition",sorter:(s,r)=>s.competition_index-r.competition_index,render:s=>e.jsx(Vs,{color:s==="LOW"?"green":s==="MEDIUM"?"orange":s==="HIGH"?"red":"gray",className:"text-xs sm:text-sm",children:s})},{title:"Competition Index",dataIndex:"competition_index",key:"competition_index",sorter:(s,r)=>s.competition_index-r.competition_index,render:s=>s||"-"}],z=(L==null?void 0:L.map((s,r)=>({key:r,keyword:s.keyword,avgMonthlySearches:s.avgMonthlySearches,competition:s.competition,competition_index:s.competition_index,avgCpc:s.avgCpc,lowBid:s.lowBid,highBid:s.highBid})))||[],V=h?z.filter(s=>{var r;return(r=S==null?void 0:S.allKeywords)==null?void 0:r.includes(s.keyword)}):z,U=s=>v(s);I.useEffect(()=>()=>{b([]),M(""),v(1),B(!1)},[]),I.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);const _=((H=S==null?void 0:S.allKeywords)==null?void 0:H.length)>0;return e.jsx(ie,{open:t,onCancel:i,closable:!0,footer:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3 pt-2 border-t border-gray-100",children:[e.jsx(G.button,{onClick:D,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 w-full sm:w-auto",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:p||!(L!=null&&L.length),style:{opacity:p||!(L!=null&&L.length)?.5:1,cursor:p||!(L!=null&&L.length)?"not-allowed":"pointer"},children:"Show Auto-Selected Keywords"}),e.jsx(G.button,{onClick:w,className:`px-4 py-2 text-sm font-medium rounded-lg w-full sm:w-auto ${_?"text-gray-700 bg-gray-100 hover:bg-gray-200":"text-gray-400 bg-gray-200 cursor-not-allowed"}`,whileHover:{scale:_?1.03:1},whileTap:{scale:_?.97:1},disabled:!_,children:"Create Blog"}),e.jsx(G.button,{onClick:$,className:`px-4 py-2 text-sm font-medium rounded-lg w-full sm:w-auto ${_?"text-gray-700 bg-gray-100 hover:bg-gray-200":"text-gray-400 bg-gray-200 cursor-not-allowed"}`,whileHover:{scale:_?1.03:1},whileTap:{scale:_?.97:1},disabled:!_,children:"Create New Job"}),e.jsx(G.button,{onClick:i,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 w-full sm:w-auto",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close"})]})],width:"90vw",centered:!0,title:"Keyword Research",maskClosable:!0,styles:{content:{maxWidth:"1000px",margin:"0 auto"},body:{padding:"16px"}},className:"rounded-lg sm:rounded-xl",children:e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx("p",{className:"mb-3 sm:mb-4 text-gray-600 text-sm sm:text-base",children:"Find and analyze keywords for your blog"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4 sm:mb-6",children:[e.jsx(qs,{placeholder:"Enter a keyword",value:g,onChange:s=>M(s.target.value),onKeyPress:k,className:"flex-1 text-sm sm:text-base","aria-label":"Enter keyword"}),e.jsx(G.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(Le,{type:"primary",onClick:P,className:"w-full sm:w-auto",children:"Add"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4 sm:mb-6",children:K.map((s,r)=>e.jsxs(G.div,{initial:{opacity:0,scale:.8},animate:{opacity:1},className:"bg-blue-100 text-blue-800 px-2 sm:px-3 py-1 rounded-full flex items-center text-xs sm:text-sm",children:[e.jsx("span",{className:"capitalize",children:s}),e.jsx(G.div,{whileHover:{scale:1.2},whileTap:{scale:.8},className:"ml-1 sm:ml-2 cursor-pointer",onClick:()=>u(r),children:e.jsx(Gs,{className:"text-blue-800 text-xs"})})]},r))}),e.jsx(G.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(Le,{block:!0,type:"primary",onClick:C,loading:p,disabled:K.length===0,className:"text-sm sm:text-base",children:"Analyze Keywords"})}),!p&&(L==null?void 0:L.length)>0&&e.jsxs("div",{className:"mt-4 sm:mt-6",children:[e.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[e.jsx(ze,{checked:h,onChange:s=>B(s),disabled:!_,size:"small"}),e.jsx("span",{className:"ml-2 text-gray-600 text-sm sm:text-base",children:"Show Selected Keywords Only"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx(De,{columns:W,dataSource:V,pagination:{current:N,pageSize:5,showSizeChanger:!1,onChange:U,total:V.length,responsive:!0},rowSelection:{selectedRowKeys:(S==null?void 0:S.allKeywords)||[],onChange:s=>{E(ve({focusKeywords:s.slice(0,3),keywords:s,allKeywords:s}))},getCheckboxProps:s=>({name:s.keyword})},rowKey:s=>s.keyword,scroll:{x:600},className:"min-w-[600px]"})})]})]})})},Qt=({onClose:i})=>e.jsxs(ie,{open:!0,onCancel:i,centered:!0,footer:null,closeIcon:e.jsx(le,{size:24,className:"text-gray-500 hover:text-gray-800 transition-colors"}),width:900,bodyStyle:{padding:0,borderRadius:"12px",overflow:"hidden"},destroyOnClose:!0,styles:{mask:{backdropFilter:"blur(4px)"}},children:[e.jsxs("div",{className:"p-6 pb-0 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Here’s How We Make Things Easy"}),e.jsx("p",{className:"mt-2 text-md text-gray-600",children:"See how each feature helps you get more done, faster."})]}),e.jsx("div",{className:"relative rounded-lg overflow-hidden m-6 mt-4",children:open&&e.jsx("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/Yq9WDkzi39U?autoplay=0&mute=1&loop=1&playlist=Yq9WDkzi39U",title:"YouTube video player",frameborder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0,className:"w-full h-64 sm:h-80 md:h-96 lg:h-[500px] rounded-lg"})})]}),Yt=[{id:1,imageUrl:"./Images/createnew.png",title:"Create New Blog",icon:e.jsx(at,{className:"w-6 h-6"}),content:"Generate blogs, email, product, description, etc.",hoverGradient:"from-blue-600 to-blue-700"},{id:"A",imageUrl:"./Images/quickblog.png",title:"Generate Quick Blog",icon:e.jsx(lt,{className:"w-6 h-6"}),content:"With few inputs you are good to go to create Awesome blogs!",hoverGradient:"from-purple-600 to-purple-700"},{id:"B",imageUrl:"./Images/createmultipleblog.png",title:"Create Multiple Blogs",icon:e.jsx(gt,{className:"w-6 h-6"}),content:"Generate multiple blogs using a variety of customizable templates.",hoverGradient:"from-emerald-600 to-emerald-700"}],Xt=[{id:1,title:"Keyword Research",content:"Explore keywords, check stats, and power your blogs & jobs.",icon:e.jsx(nt,{className:"w-8 h-8"}),color:"text-blue-600",bgColor:"bg-blue-50",hoverBg:"hover:bg-blue-100"},{id:3,title:"Performance Monitoring",content:"Monitor your blog's SEO, keywords, and competitor data easily.",icon:e.jsx(dt,{className:"w-8 h-8"}),color:"text-orange-600",bgColor:"bg-orange-50",hoverBg:"hover:bg-orange-100"},{id:4,title:"Competitor Analysis",content:"Analyze your competitors' content and strategies.",icon:e.jsx(ot,{className:"w-8 h-8"}),color:"text-purple-600",bgColor:"bg-purple-50",hoverBg:"hover:bg-purple-100"},{id:5,title:"Analytics",content:"Visualize performance, unlock insights, and stay ahead",icon:e.jsx(ht,{className:"w-8 h-8"}),color:"text-green-600",bgColor:"bg-green-50",hoverBg:"hover:bg-green-100",navigate:"/analytics"}];Qs.register(Ys,Xs,Js,Zs,et,st,tt,rt);const _r=()=>{const[i,c]=I.useState(!1),[a,t]=I.useState(0),[g,M]=I.useState(!1),[K,b]=I.useState(!1),[N,v]=I.useState(!1),[h,B]=I.useState(!1),[E,L]=I.useState(!1),[p,S]=I.useState(!1),[P,u]=I.useState(!1),[k,C]=I.useState({}),[A,D]=I.useState([]),[y,w]=I.useState(!0),{blogs:$,error:W,allBlogs:z}=ce(m=>m.blog),[V,U]=I.useState(!1),_=xe(),H=we(),s=ce(ts),{handlePopup:r}=Ne(),d=()=>c(!0),x=()=>M(!0),f=()=>M(!1),F=()=>b(!0),q=()=>b(!1),re=()=>v(!0),Y=()=>v(!1),J=()=>B(!0),de=()=>B(!1);I.useEffect(()=>{const m=s;m&&!m.lastLogin&&U(!0)},[s]);const Q=()=>{U(!1)},Z=()=>{S(!1),c(!0),t(0)},ne=()=>{S(!1),_(Ds()),H("/jobs")};I.useEffect(()=>{_(Es())},[]),I.useEffect(()=>{_(rs());const m=setTimeout(()=>w(!1),1200);return()=>clearTimeout(m)},[_]),I.useEffect(()=>{me(null,null,function*(){if(!localStorage.getItem("token")){H("/login");return}try{const X=yield _(qe());qe.rejected.match(X)&&(console.warn("Failed to load user, redirecting..."),H("/login"))}catch(X){console.error("User init failed:",X),T.error("Failed to load user data.")}})},[_,H]),I.useEffect(()=>{if($!=null&&$.data&&Array.isArray($.data)){const m=$.data.filter(R=>R.isArchived===!1).slice(0,3);D(m)}else D([])},[$]),I.useEffect(()=>{W&&T.error(W)},[W]);const ue=m=>me(null,null,function*(){var R,X;try{const te=(((R=s==null?void 0:s.credits)==null?void 0:R.base)||0)+(((X=s==null?void 0:s.credits)==null?void 0:X.extra)||0),je=Pe("blog.single",k.aiModel||"default");r({title:"Confirm Blog Creation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Single Blog generation cost: ",e.jsxs("b",{children:[je," credits"]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue?"})]}),onConfirm:()=>{if(je>te){T.error("You do not have enough credits to generate this blog."),r(!1);return}_(Ps({blogData:m,user:s,navigate:H})),c(!1),t(0)}}),_(Ve())}catch(te){console.error("Error submitting form:",te),T.error("Failed to create blog.")}}),n=()=>{c(!1),t(0),C({}),_(Ve())},j=()=>t(a+1),O=()=>t(a-1);return e.jsxs(e.Fragment,{children:[e.jsx(Ts,{children:e.jsx("title",{children:"Home | GenWrite"})}),V&&e.jsx(Qt,{onClose:Q}),e.jsxs(Mt,{title:`Step ${a}/3`,visible:i,onCancel:n,className:"max-h-[90vh] overflow-scroll",children:[a===0&&e.jsx(Ft,{handleNext:j,handleClose:n,data:k,setData:C}),a===1&&e.jsx(At,{handleNext:j,handleClose:n,handlePrevious:O,data:k,setData:C}),a===2&&e.jsx(Et,{handleNext:j,handlePrevious:O,handleClose:n,data:k,setData:C,handleSubmit:ue}),e.jsx("div",{className:"flex items-center justify-center mt-4",children:e.jsx("progress",{className:"w-full max-w-md",max:"3",value:a})})]}),g&&e.jsx(Wt,{closeFnc:f}),K&&e.jsx(Gt,{closeFnc:q}),N&&e.jsx(Ht,{closeFnc:Y}),h&&e.jsx(Ws,{closeFnc:de,open:h,blogs:z}),E&&e.jsx(Ut,{allBlogs:z,closeFnc:()=>L(!1),visible:()=>L(!0)}),p&&e.jsx(Vt,{closeFnc:()=>{S(!1),_(Ae())},openSecondStepModal:Z,openJobModal:ne,visible:p}),P&&e.jsx(qt,{closeFnc:()=>u(!1)}),e.jsxs(G.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mt-10 md:mt-5 ml-10",children:[e.jsxs("h1",{className:"bg-clip-text bg-gradient-to-r font-bold from-blue-600 md:text-4xl text-3xl text-transparent to-purple-600",children:["Let's Begin ",e.jsx("span",{className:"ml-2 text-2xl text-yellow-400",children:"✨"})]}),e.jsxs("p",{className:"text-gray-600 text-lg mt-2",children:["Welcome back ",e.jsx("b",{children:(s==null?void 0:s.name)||"User"}),"! Ready to create something amazing today?"]})]}),e.jsxs("div",{className:"min-h-screen bg-gray-50 p-6 relative",children:[y?e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((m,R)=>e.jsx(Fe,{},R))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:2}).map((m,R)=>e.jsx(Ie,{},R))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((m,R)=>e.jsx(Fe,{},R))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((m,R)=>e.jsx(Ie,{},R))})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid lg:grid-cols-3 gap-4",children:e.jsx($e,{children:y?Array.from({length:3}).map((m,R)=>e.jsx(Fe,{},R)):Yt.map((m,R)=>e.jsx(Ot,{icon:m.icon,title:m.title,content:m.content,id:m.id,gradient:m.hoverGradient,functions:{showModal:d,setModelData:C,showDaisy:x,showMultiStepModal:F,showQuickBlogModal:re,showCompetitiveAnalysis:J}},R))})}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center",children:e.jsx(as,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Tools"})]}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4",children:e.jsx($e,{children:y?Array.from({length:4}).map((m,R)=>e.jsx(Ie,{},R)):Xt.map((m,R)=>{const X={};return m.id===1?X.showKeywordResearch=()=>S(!0):m.id===2?X.showSeoAnalysis=()=>u(!0):m.id===3?X.showPerformanceMonitoring=()=>L(!0):m.id===4&&(X.showCompetitiveAnalysis=()=>J()),e.jsx(Rt,{id:m.id,icon:m.icon,title:m.title,content:m.content,bgColor:m.bgColor,hoverBg:m.hoverBg,color:m.color,navigate:m.navigate,functions:X},R)})})})]}),A.length>0&&e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 mt-6",children:[e.jsx("div",{className:"mb-6 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-600 flex items-center justify-center",children:e.jsx(it,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Projects"})]})}),e.jsxs("div",{children:[e.jsx($e,{children:y?Array.from({length:3}).map((m,R)=>e.jsx(Ie,{},R)):A.map((m,R)=>e.jsx(_t,{title:m.title,content:m.content,tags:m.focusKeywords,item:m,time:m.updatedAt},R))}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{className:"px-6 py-2 text-blue-600 hover:text-blue-700 font-medium hover:bg-blue-50 rounded-lg transition-colors",onClick:()=>H("/blogs"),children:"View All Projects"})})]})]})]}),e.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLScIdA2aVtugx-zMGON8LJKD4IRWtLZqiiurw-jU6wRYfOv7EA/viewform?usp=sharing&ouid=117159793210831255816",target:"_blank",rel:"noopener noreferrer",className:"fixed right-0 bottom-28 z-50",children:e.jsx("button",{className:"fixed right-[-30px] bottom-28 bg-blue-600 text-white px-4 py-2 rounded-lg rotate-90 flex items-center gap-2 hover:bg-blue-700 transition-all duration-300 shadow-md z-50",style:{backfaceVisibility:"hidden",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},"aria-label":"Provide feedback",children:"Feedback"})})]})]})};export{_r as default};
