import{bt as G,J as M,r as n,G as T,u as W,j as e,m as t,aC as Z,bu as B,S as H}from"./index-aYFSkxCW.js";import{C as J}from"./circle-check-big-CSPHFI1D.js";import{S as N}from"./shield-Byd5AOm0.js";import{A as K}from"./arrow-right-CQTCXD8x.js";import{c as U}from"./createLucideIcon-D3N6Lln-.js";import{L as P}from"./lock-DH7r6Ecs.js";import{E as _}from"./eye-off-CK2VUmL8.js";import{E as O}from"./eye-BNwZMsg4.js";import{C as $}from"./circle-alert-DjtgzEUw.js";import{S as V}from"./sparkles-3UO-cm4Z.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Q=U("key",F);var X=Object.defineProperty,ee=Object.defineProperties,se=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,E=(l,a,s)=>a in l?X(l,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[a]=s,I=(l,a)=>{for(var s in a||(a={}))te.call(a,s)&&E(l,s,a[s]);if(C)for(var s of C(a))ae.call(a,s)&&E(l,s,a[s]);return l},L=(l,a)=>ee(l,se(a)),re=(l,a,s)=>new Promise((y,c)=>{var b=o=>{try{u(s.next(o))}catch(x){c(x)}},m=o=>{try{u(s.throw(o))}catch(x){c(x)}},u=o=>o.done?y(o.value):Promise.resolve(o.value).then(b,m);u((s=s.apply(l,a)).next())});const ge=()=>{const[l]=G(),a=M(),[s,y]=n.useState(""),[c,b]=n.useState(""),[m,u]=n.useState(!1),[o,x]=n.useState(!1),[w,v]=n.useState(!1),[z,R]=n.useState(!1),[d,p]=n.useState({}),[ie,A]=n.useState(""),q=T(),D=W();n.useEffect(()=>{const i=l.get("token");i?A(i):a("/forgot-password")},[l,a]);const k=i=>{const r=[];return i.length<8&&r.push("At least 8 characters"),/[A-Z]/.test(i)||r.push("One uppercase letter"),/[a-z]/.test(i)||r.push("One lowercase letter"),/\d/.test(i)||r.push("One number"),/[!@#$%^&*(),.?":{}|<>]/.test(i)||r.push("One special character"),r},Y=i=>re(null,null,function*(){i.preventDefault();const r={},h=k(s);if(h.length>0&&(r.password=`Password must contain: ${h.join(", ")}`),c?s!==c&&(r.confirmPassword="Passwords do not match"):r.confirmPassword="Please confirm your password",p(r),Object.keys(r).length>0)return;v(!0);const S=new URLSearchParams(q.search).get("token");if(!S){p({token:"Invalid or missing token"}),v(!1);return}try{const g=yield D(B({token:S,newPassword:s})).unwrap();g&&(H.success(g),R(!0),a("/login",{replace:!0}))}catch(g){p({server:g})}finally{v(!1)}}),j=i=>{const h=5-k(i).length;return h<=1?{level:"weak",color:"bg-red-500",text:"Weak"}:h<=3?{level:"medium",color:"bg-yellow-500",text:"Medium"}:{level:"strong",color:"bg-green-500",text:"Strong"}},f=j(s);return z?e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx(t.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl"}),e.jsx(t.div,{animate:{rotate:[360,0],scale:[1,1.2,1]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-cyan-400/20 rounded-full blur-3xl"})]}),e.jsx(t.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"absolute top-8 left-1/2 transform -translate-x-1/2 z-10",children:e.jsx("img",{src:"/Images/logo_genwrite_2.png",alt:"GenWrite Logo",className:"w-40 h-auto"})}),e.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 pt-20 pb-8",children:e.jsxs(t.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",stiffness:120,damping:20},className:"w-full max-w-md bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-green-400/10 to-emerald-400/10 rounded-full -translate-y-16 translate-x-16"}),e.jsx(t.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"w-20 h-20 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(J,{className:"w-10 h-10 text-white"})}),e.jsx(t.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-gray-900 mb-4",children:"Password Reset Successful!"}),e.jsx(t.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-gray-600 mb-8 leading-relaxed",children:"Your password has been successfully reset. You can now sign in with your new password."}),e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-8",children:e.jsxs("div",{className:"flex items-center gap-3 text-green-800",children:[e.jsx(N,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:"Your account is now secure with the new password. Make sure to keep it safe!"})]})}),e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:e.jsxs(Z,{to:"/login",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 px-6 rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition-all duration-300 flex items-center justify-center gap-2",children:["Continue to Sign In",e.jsx(K,{className:"w-5 h-5"})]})})]})})]}):e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx(t.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl"}),e.jsx(t.div,{animate:{rotate:[360,0],scale:[1,1.2,1]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-cyan-400/20 rounded-full blur-3xl"})]}),e.jsx(t.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"absolute top-8 left-1/2 transform -translate-x-1/2 z-10",children:e.jsx("img",{src:"/Images/logo_genwrite_2.png",alt:"GenWrite Logo",className:"w-40 h-auto"})}),e.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 pt-20 pb-8",children:e.jsxs(t.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",stiffness:120,damping:20},className:"w-full max-w-md bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-400/10 to-purple-400/10 rounded-full -translate-y-16 translate-x-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-indigo-400/10 to-cyan-400/10 rounded-full translate-y-12 -translate-x-12"}),e.jsxs("div",{className:"relative mb-8 text-center",children:[e.jsx(t.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Q,{className:"text-white text-2xl"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Your Password"}),e.jsx("p",{className:"text-gray-600",children:"Enter your new password below to secure your account."})]}),e.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-4 left-4 text-gray-400 z-10",children:e.jsx(P,{className:"w-5 h-5"})}),e.jsx("input",{type:m?"text":"password",placeholder:"Enter new password",value:s,onChange:i=>{y(i.target.value),p(r=>L(I({},r),{password:""}))},className:`w-full pl-12 pr-12 py-4 bg-gray-50/80 border-2 rounded-2xl text-gray-800 placeholder-gray-500 focus:bg-white focus:shadow-lg outline-none transition-all duration-300 ${d.password?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`}),e.jsx("button",{type:"button",onClick:()=>u(!m),className:"absolute right-4 top-4 text-gray-500 hover:text-gray-700 transition-colors z-10",children:m?e.jsx(_,{className:"w-5 h-5"}):e.jsx(O,{className:"w-5 h-5"})})]}),s&&e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${f.color}`,style:{width:`${j(s).level==="weak"?33:j(s).level==="medium"?66:100}%`}})}),e.jsx("span",{className:`text-xs font-medium ${f.level==="weak"?"text-red-600":f.level==="medium"?"text-yellow-600":"text-green-600"}`,children:f.text})]})}),d.password&&e.jsxs(t.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-red-600 text-sm flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4 flex-shrink-0"}),d.password]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-4 left-4 text-gray-400 z-10",children:e.jsx(P,{className:"w-5 h-5"})}),e.jsx("input",{type:o?"text":"password",placeholder:"Confirm new password",value:c,onChange:i=>{b(i.target.value),p(r=>L(I({},r),{confirmPassword:""}))},className:`w-full pl-12 pr-12 py-4 bg-gray-50/80 border-2 rounded-2xl text-gray-800 placeholder-gray-500 focus:bg-white focus:shadow-lg outline-none transition-all duration-300 ${d.confirmPassword?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`}),e.jsx("button",{type:"button",onClick:()=>x(!o),className:"absolute right-4 top-4 text-gray-500 hover:text-gray-700 transition-colors z-10",children:o?e.jsx(_,{className:"w-5 h-5"}):e.jsx(O,{className:"w-5 h-5"})})]}),d.confirmPassword&&e.jsxs(t.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-red-600 text-sm flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4 flex-shrink-0"}),d.confirmPassword]})]}),e.jsx(t.button,{whileHover:{y:-2,scale:1.02},whileTap:{scale:.98},type:"submit",disabled:w,className:`w-full py-4 px-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl ${w?"opacity-70 cursor-not-allowed":"hover:from-blue-700 hover:to-purple-700"}`,children:w?e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(t.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white/30 rounded-full border-t-white"}),e.jsx("span",{children:"Resetting Password..."})]}):e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"}),"Reset Password"]})})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Password Requirements:"}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs text-gray-600",children:[e.jsxs("div",{className:`flex items-center gap-2 ${s.length>=8?"text-green-600":""}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.length>=8?"bg-green-500":"bg-gray-300"}`}),"At least 8 characters"]}),e.jsxs("div",{className:`flex items-center gap-2 ${/[A-Z]/.test(s)?"text-green-600":""}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${/[A-Z]/.test(s)?"bg-green-500":"bg-gray-300"}`}),"One uppercase letter"]}),e.jsxs("div",{className:`flex items-center gap-2 ${/[a-z]/.test(s)?"text-green-600":""}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${/[a-z]/.test(s)?"bg-green-500":"bg-gray-300"}`}),"One lowercase letter"]}),e.jsxs("div",{className:`flex items-center gap-2 ${/\d/.test(s)?"text-green-600":""}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${/\d/.test(s)?"bg-green-500":"bg-gray-300"}`}),"One number"]}),e.jsxs("div",{className:`flex items-center gap-2 ${/[!@#$%^&*(),.?":{}|<>]/.test(s)?"text-green-600":""}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${/[!@#$%^&*(),.?":{}|<>]/.test(s)?"bg-green-500":"bg-gray-300"}`}),"One special character"]})]})]}),e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(N,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{children:"Secure"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"w-3 h-3 text-blue-500"}),e.jsx("span",{children:"Encrypted"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(V,{className:"w-3 h-3 text-purple-500"}),e.jsx("span",{children:"Protected"})]})]})})]})})]})};export{ge as default};
