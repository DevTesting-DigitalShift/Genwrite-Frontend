import{j as e,x as b,bo as j,q as g,aG as l}from"./index-OSlQBlIK.js";import{b as i}from"./chunk-tiptap-JX9QK0Ia.js";import{S as y}from"./SkeletonLoader-B37JzIio.js";const N=85,B=()=>{const[n,d]=i.useState([]),[h,c]=i.useState(!0),x=async()=>{var r,s;try{c(!0);const o=(await g.get("/blogs/")).data.filter(a=>a.isArchived);d(o)}catch(t){console.error("Error fetching trashed blogs:",((s=(r=t.response)==null?void 0:r.data)==null?void 0:s.message)||"Failed to fetch trashed blogs")}finally{c(!1)}};i.useEffect(()=>{x()},[]);const m=(r,s=N)=>r?r.length>s?r.substring(0,s)+"...":r:"",p=async r=>{try{(await g.patch(`/blogs/restore/${r}`)).status===200?(d(t=>t.filter(o=>o._id!==r)),l.success("Blog restored successfully!")):l.error("Failed to restore blog.")}catch(s){l.error("Failed to restore blog."),console.error("Error restoring blog:",s.response&&s.response.data&&s.response.data.message||"Failed to restore blog")}};return e.jsxs("div",{className:"max-w-7xl mx-auto",style:{overflowY:"auto"},children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Trashcan"}),e.jsx("p",{className:"text-red-600 font-semibold mb-4",children:"Warning: Trashed items will be permanently deleted after 7 days."}),h?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(5)].map((r,s)=>e.jsx("div",{className:"bg-white shadow-md rounded-xl p-4",children:e.jsx(y,{})},s))}):n.length===0?e.jsx("p",{children:"No trashed blogs available."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(r=>{const{_id:s,title:t,content:o,focusKeywords:a,aiModel:w}=r;return e.jsx(b,{title:t,color:"gray",children:e.jsxs("div",{className:"bg-white shadow-md hover:shadow-xl transition-shadow duration-300 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:t}),e.jsx("img",{src:"Images/restore.svg",alt:"Restore",className:"cursor-pointer restore-icon",style:{width:"20px",height:"20px"},onClick:()=>p(s)})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:m(o)}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((f,u)=>e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-full",children:f},u))})]})},s)})}),e.jsx(j,{}),e.jsx("style",{children:`
          .restore-icon {
            transition: filter 0.2s, filter 0.2s;
          }
          .restore-icon:hover {
            filter: invert(18%) sepia(99%) saturate(7482%) hue-rotate(357deg) brightness(97%) contrast(119%);
          }
        `})]})};export{B as default};
