import{aN as j,r as p,j as t,B as $}from"./index-aYFSkxCW.js";import{m as N,p as T}from"./marked.esm-CCGUV6Ty.js";import{C as g}from"./index-CWPAISNR.js";import"./EllipsisOutlined-DIrzkHXA.js";import"./Overflow-BrHWJOfH.js";const{Title:C,Text:u}=$;function v(s){const l=s.trim().split(/\s+/).length;return`${Math.ceil(l/200)} min read`}function b(s){const l=s.split(`
`),a=new Set,r=[];let o=!1;for(const c of l)if(/^## /.test(c)){o=!0;let e=c.replace(/^## /,"").trim();e=e.replace(/!\[.*?\]\(.*?\)/g,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/[*_~`]+/g,"").replace(/<[^>]*>/g,"").trim();const n=e.toLowerCase().replace(/[^\w]+/g,"-").replace(/^-+|-+$/g,"");a.has(n)||(a.add(n),r.push({text:e,id:n,level:2}))}else if(/^### /.test(c)&&!o){let e=c.replace(/^### /,"").trim();e=e.replace(/!\[.*?\]\(.*?\)/g,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/[*_~`]+/g,"").replace(/<[^>]*>/g,"").trim();const n=e.toLowerCase().replace(/[^\w]+/g,"-").replace(/^-+|-+$/g,"");a.has(n)||(a.add(n),r.push({text:e,id:n,level:3}))}return r}function L(s){return s.replace(/^(#{2,3}) (.+)$/gm,(l,a,r)=>{const o=r.toLowerCase().replace(/[^\w]+/g,"-");return`${a} <a id="${o}"></a>${r}`})}function E(){const s=j(),[l,a]=p.useState(""),[r,o]=p.useState([]),c=typeof window!="undefined";p.useEffect(()=>{if(s&&c){const{title:d,content:i}=s,m=L(i),w=N.parse(m),y=T.sanitize(w);a(y),o(b(i)),document.title=d}},[s]);const{title:e,author:n,createdAt:h,content:x}=s,f=v(x);return t.jsx("div",{className:"max-w-6xl mx-auto px-4 py-10 scroll-smooth",children:t.jsxs(g,{className:"rounded-lg shadow-lg",children:[t.jsxs("header",{className:"mb-6 text-right",children:[t.jsx(C,{level:1,className:"mb-2 text-center text-pretty ",children:e}),t.jsxs(u,{type:"secondary",children:["By ",t.jsx(u,{strong:!0,children:n==null?void 0:n.name}),"  · ",new Date(h).toLocaleDateString("en-US",{month:"long",day:"2-digit",year:"numeric"})," · ",f]})]}),r.length>0&&t.jsx(g,{type:"inner",title:"Table of Contents",className:"mb-6",children:t.jsx("ul",{className:"pl-4 space-y-1",children:r.map(({text:d,id:i,level:m})=>t.jsx("li",{className:`ml-${m===3?"4":"0"} list-disc`,children:t.jsx("a",{href:`#${i}`,className:"link no-underline hover:underline",children:d})},i))})}),t.jsx("article",{className:"blog-content prose max-w-none",dangerouslySetInnerHTML:{__html:l}})]})})}export{E as default};
