import{R as h,b as f}from"./chunk-tiptap-JX9QK0Ia.js";import{E as l,s as x}from"./index-CfcK-_FJ.js";const m=(e,n)=>{typeof(e==null?void 0:e.addEventListener)<"u"?e.addEventListener("change",n):typeof(e==null?void 0:e.addListener)<"u"&&e.addListener(n)},$=(e,n)=>{typeof(e==null?void 0:e.removeEventListener)<"u"?e.removeEventListener("change",n):typeof(e==null?void 0:e.removeListener)<"u"&&e.removeListener(n)},p=["xxl","xl","lg","md","sm","xs"],b=e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}),g=e=>{const n=e,r=[].concat(p).reverse();return r.forEach((a,i)=>{const s=a.toUpperCase(),t=`screen${s}Min`,c=`screen${s}`;if(!(n[t]<=n[c]))throw new Error(`${t}<=${c} fails : !(${n[t]}<=${n[c]})`);if(i<r.length-1){const o=`screen${s}Max`;if(!(n[c]<=n[o]))throw new Error(`${c}<=${o} fails : !(${n[c]}<=${n[o]})`);const d=`screen${r[i+1].toUpperCase()}Min`;if(!(n[o]<=n[d]))throw new Error(`${o}<=${d} fails : !(${n[o]}<=${n[d]})`)}}),e},y=(e,n)=>{if(n){for(const r of p)if(e[r]&&(n==null?void 0:n[r])!==void 0)return n[r]}},M=()=>{const[,e]=l(),n=b(g(e));return h.useMemo(()=>{const r=new Map;let a=-1,i={};return{responsiveMap:n,matchHandlers:{},dispatch(s){return i=s,r.forEach(t=>t(i)),r.size>=1},subscribe(s){return r.size||this.register(),a+=1,r.set(a,s),s(i),a},unsubscribe(s){r.delete(s),r.size||this.unregister()},register(){Object.entries(n).forEach(s=>{let[t,c]=s;const o=d=>{let{matches:v}=d;this.dispatch(Object.assign(Object.assign({},i),{[t]:v}))},u=window.matchMedia(c);m(u,o),this.matchHandlers[c]={mql:u,listener:o},o(u)})},unregister(){Object.values(n).forEach(s=>{const t=this.matchHandlers[s];$(t==null?void 0:t.mql,t==null?void 0:t.listener)}),r.clear()}}},[e])};function w(){const[,e]=f.useReducer(n=>n+1,0);return e}function U(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=f.useRef(n),a=w(),i=M();return x(()=>{const s=i.subscribe(t=>{r.current=t,e&&a()});return()=>i.unsubscribe(s)},[]),r.current}export{y as m,p as r,U as u};
