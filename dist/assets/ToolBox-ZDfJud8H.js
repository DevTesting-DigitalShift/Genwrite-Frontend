var W4=Object.defineProperty,$4=Object.defineProperties;var Y4=Object.getOwnPropertyDescriptors;var wl=Object.getOwnPropertySymbols;var Qm=Object.prototype.hasOwnProperty,Rm=Object.prototype.propertyIsEnumerable;var Md=Math.pow,Dm=(t,e,n)=>e in t?W4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ie=(t,e)=>{for(var n in e||(e={}))Qm.call(e,n)&&Dm(t,n,e[n]);if(wl)for(var n of wl(e))Rm.call(e,n)&&Dm(t,n,e[n]);return t},_t=(t,e)=>$4(t,Y4(e));var EA=(t,e)=>{var n={};for(var r in t)Qm.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&wl)for(var r of wl(t))e.indexOf(r)<0&&Rm.call(t,r)&&(n[r]=t[r]);return n};var Ci=(t,e,n)=>new Promise((r,i)=>{var s=A=>{try{o(n.next(A))}catch(u){i(u)}},a=A=>{try{o(n.throw(A))}catch(u){i(u)}},o=A=>A.done?r(A.value):Promise.resolve(A.value).then(s,a);o((n=n.apply(t,e)).next())});import{r as Ve,w as Nr,a8 as X4,a9 as Wu,j as I,aa as Xn,J as W0,W as vy,a as qa,G as Ty,u as Gf,S as wt,m as jn,M as gp,T as Tn,Q as Os,E as Mr,ab as Sy,ac as J4,A as Oc,ad as Z4,ae as ev,af as tv,U as nv,ag as rv,Z as Mm,B as iv,H as sv,ah as Pm,ai as Hm,aj as av}from"./index-KZwxQLug.js";import{m as Ga,p as Iy}from"./marked.esm-BFQzAr0N.js";import{I as ia}from"./index-C-TYUy0L.js";import{c as cr}from"./createLucideIcon-_S-rzoeF.js";import{I as ka}from"./image-CqHveJrD.js";import{T as ov,B as jm}from"./index--PuUq50-.js";import{R as Km}from"./rotate-ccw-BBCQYAyv.js";import{C as Av}from"./copy-rD-Kn8xE.js";import{R as uv}from"./ReloadOutlined-DzGwEqNN.js";import{U as lv}from"./upload-B_EwqwhI.js";import{S as Us}from"./index-CPkZZjIA.js";import{E as cv}from"./eye-off-OyZGoMTr.js";import{E as $0}from"./eye-XMrGH2p7.js";import{g as fv,C as ky}from"./getEstimatedCost-_Xan1CcM.js";import{o as dv,C as hv,p as Pd}from"./templates-DShwBQYY.js";import{X as _c}from"./x-CYmzO6Ix.js";import{P as Dc}from"./plus-Y3gZgKqT.js";import{c as yl,C as Vm}from"./_commonjs-dynamic-modules-D9wRMZqx.js";import{M as Hd,D as pv,S as gv}from"./index-KNw3YgBm.js";import{D as mv}from"./download-C0xt6Qg0.js";import{T as Bl}from"./trending-up-mcXytf-T.js";import{C as zm}from"./crown-Cgy9qAPC.js";import{S as Fy}from"./sparkles-Lw0QqbuA.js";import{F as pc}from"./file-text-URycdMuV.js";import{Z as bv}from"./zap-BG-KVqQa.js";import{E as qm}from"./external-link-rZTFehVs.js";import{T as Gm}from"./index-ln84tO5A.js";import{C as wv}from"./circle-alert-DogUoUiX.js";import{C as yv}from"./circle-check-big-CLGoHtfx.js";import{R as Bv}from"./refresh-ccw-C6YKQ-Rf.js";import{R as xv}from"./refresh-cw-Cdehat_L.js";import{L as Ev}from"./loader-circle-CN9OFHsn.js";import"./Input-Br_rO-6q.js";import"./useIcons-SVuHvDYG.js";import"./Overflow-B6b1MRdb.js";import"./LeftOutlined-CiaUDTXA.js";import"./EllipsisOutlined-PVGzWk6W.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],vv=cr("align-center",Cv);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],Sv=cr("align-left",Tv);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],kv=cr("align-right",Iv);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],xl=cr("bold",Fv);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],Uv=cr("heading-1",Nv);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Wm=cr("heading-2",Lv);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],_v=cr("heading-3",Ov);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],El=cr("italic",Dv);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Cl=cr("lightbulb",Qv);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],CA=cr("link",Rv);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],Pv=cr("list-ordered",Mv);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],jv=cr("list",Hv);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Vv=cr("maximize-2",Kv);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],qv=cr("minimize-2",zv);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],Wv=cr("redo-2",Gv);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Yv=cr("save",$v);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],Ny=cr("sliders-horizontal",Xv);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Zv=cr("target",Jv);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],t5=cr("underline",e5);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],r5=cr("undo-2",n5);function kr(t){this.content=t}kr.prototype={constructor:kr,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new kr(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new kr(n)},addToStart:function(t,e){return new kr([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new kr(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new kr(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=kr.from(t),t.size?new kr(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=kr.from(t),t.size?new kr(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=kr.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};kr.from=function(t){if(t instanceof kr)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new kr(e)};function Uy(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){let a=Uy(i.content,s.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function Ly(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let a=t.child(--i),o=e.child(--s),A=a.nodeSize;if(a==o){n-=A,r-=A;continue}if(!a.sameMarkup(o))return{a:n,b:r};if(a.isText&&a.text!=o.text){let u=0,l=Math.min(a.text.length,o.text.length);for(;u<l&&a.text[a.text.length-u-1]==o.text[o.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(a.content.size||o.content.size){let u=Ly(a.content,o.content,n-1,r-1);if(u)return u}n-=A,r-=A}}class ot{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let a=0,o=0;o<n;a++){let A=this.content[a],u=o+A.nodeSize;if(u>e&&r(A,i+o,s||null,a)!==!1&&A.content.size){let l=o+1;A.nodesBetween(Math.max(0,e-l),Math.min(A.content.size,n-l),r,i+l)}o=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",a=!0;return this.nodesBetween(e,n,(o,A)=>{let u=o.isText?o.text.slice(Math.max(e,A)-A,n-A):o.isLeaf?i?typeof i=="function"?i(o):i:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&u||o.isTextblock)&&r&&(a?a=!1:s+=r),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ot(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,a=0;a<n;s++){let o=this.content[s],A=a+o.nodeSize;A>e&&((a<e||A>n)&&(o.isText?o=o.cut(Math.max(0,e-a),Math.min(o.text.length,n-a)):o=o.cut(Math.max(0,e-a-1),Math.min(o.content.size,n-a-1))),r.push(o),i+=o.nodeSize),a=A}return new ot(r,i)}cutByIndex(e,n){return e==n?ot.empty:e==0&&n==this.content.length?this:new ot(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new ot(i,s)}addToStart(e){return new ot([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ot(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return Uy(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return Ly(this,e,n,r)}findIndex(e){if(e==0)return vl(0,e);if(e==this.size)return vl(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?vl(n+1,s):vl(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ot.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ot(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ot.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new ot(n||e,r)}static from(e){if(!e)return ot.empty;if(e instanceof ot)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ot([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ot.empty=new ot([],0);const jd={index:0,offset:0};function vl(t,e){return jd.index=t,jd.offset=e,jd}function Qc(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Qc(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Qc(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let _n=class mp{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Qc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return mp.none;if(e instanceof mp)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};_n.none=[];class Rc extends Error{}class Ct{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=_y(this.content,e+this.openStart,n);return r&&new Ct(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Ct(Oy(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Ct.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ct(ot.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Ct(e,r,i)}}Ct.empty=new Ct(ot.empty,0,0);function Oy(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:a,offset:o}=t.findIndex(n);if(i==e||s.isText){if(o!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(Oy(s.content,e-i-1,n-i-1)))}function _y(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let o=_y(a.content,e-s-1,n,a);return o&&t.replaceChild(i,a.copy(o))}function i5(t,e,n){if(n.openStart>t.depth)throw new Rc("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Rc("Inconsistent open depths");return Dy(t,e,n,0)}function Dy(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=Dy(t,e,n,r+1);return s.copy(s.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,o=a.content;return $a(a,o.cut(0,t.parentOffset).append(n.content).append(o.cut(e.parentOffset)))}else{let{start:a,end:o}=s5(n,t);return $a(s,Ry(t,a,o,e,r))}else return $a(s,Mc(t,e,r))}function Qy(t,e){if(!e.type.compatibleContent(t.type))throw new Rc("Cannot join "+e.type.name+" onto "+t.type.name)}function bp(t,e,n){let r=t.node(n);return Qy(r,e.node(n)),r}function Wa(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function XA(t,e,n,r){let i=(e||t).node(n),s=0,a=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Wa(t.nodeAfter,r),s++));for(let o=s;o<a;o++)Wa(i.child(o),r);e&&e.depth==n&&e.textOffset&&Wa(e.nodeBefore,r)}function $a(t,e){return t.type.checkContent(e),t.copy(e)}function Ry(t,e,n,r,i){let s=t.depth>i&&bp(t,e,i+1),a=r.depth>i&&bp(n,r,i+1),o=[];return XA(null,t,i,o),s&&a&&e.index(i)==n.index(i)?(Qy(s,a),Wa($a(s,Ry(t,e,n,r,i+1)),o)):(s&&Wa($a(s,Mc(t,e,i+1)),o),XA(e,n,i,o),a&&Wa($a(a,Mc(n,r,i+1)),o)),XA(r,null,i,o),new ot(o)}function Mc(t,e,n){let r=[];if(XA(null,t,n,r),t.depth>n){let i=bp(t,e,n+1);Wa($a(i,Mc(t,e,n+1)),r)}return XA(e,null,n,r),new ot(r)}function s5(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(ot.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Cu{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return _n.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let o=r;r=i,i=o}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Pc(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let a=e;;){let{index:o,offset:A}=a.content.findIndex(s),u=s-A;if(r.push(a,o,i+A),!u||(a=a.child(o),a.isText))break;s=u-1,i+=A+1}return new Cu(n,r,s)}static resolveCached(e,n){let r=$m.get(e);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else $m.set(e,r=new a5);let i=r.elts[r.i]=Cu.resolve(e,n);return r.i=(r.i+1)%o5,i}}class a5{constructor(){this.elts=[],this.i=0}}const o5=12,$m=new WeakMap;class Pc{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const A5=Object.create(null);let fa=class wp{constructor(e,n,r,i=_n.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||ot.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Qc(this.attrs,n||e.defaultAttrs||A5)&&_n.sameSet(this.marks,r||_n.none)}copy(e=null){return e==this.content?this:new wp(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new wp(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Ct.empty;let i=this.resolve(e),s=this.resolve(n),a=r?0:i.sharedDepth(n),o=i.start(a),u=i.node(a).content.cut(i.pos-o,s.pos-o);return new Ct(u,i.depth-a,s.depth-a)}replace(e,n,r){return i5(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Cu.resolveCached(this,e)}resolveNoCache(e){return Cu.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),My(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ot.empty,i=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,s),o=a&&a.matchFragment(this.content,n);if(!o||!o.validEnd)return!1;for(let A=i;A<s;A++)if(!this.type.allowsMarks(r.child(A).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=_n.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!_n.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=ot.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};fa.prototype.text=void 0;class Hc extends fa{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):My(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Hc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Hc(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function My(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class ro{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new u5(e,n);if(r.next==null)return ro.empty;let i=Py(r);r.next&&r.err("Unexpected trailing text");let s=g5(p5(i));return m5(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(a,o){let A=a.matchFragment(e,r);if(A&&(!n||A.validEnd))return ot.from(o.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:l,next:c}=a.next[u];if(!(l.isText||l.hasRequiredAttrs())&&i.indexOf(c)==-1){i.push(c);let f=s(c,o.concat(l));if(f)return f}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let a=[];for(let o=i;o.type;o=o.via)a.push(o.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:o,next:A}=s.next[a];!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in n)&&(!i.type||A.validEnd)&&(r.push({match:o.contentMatch,type:o,via:i}),n[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}ro.empty=new ro(!0);class u5{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Py(t){let e=[];do e.push(l5(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function l5(t){let e=[];do e.push(c5(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function c5(t){let e=h5(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=f5(t,e);else break;return e}function Ym(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function f5(t,e){let n=Ym(t),r=n;return t.eat(",")&&(t.next!="}"?r=Ym(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function d5(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let a=n[s];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function h5(t){if(t.eat("(")){let e=Py(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=d5(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function p5(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(a,o,A){let u={term:A,to:o};return e[a].push(u),u}function i(a,o){a.forEach(A=>A.to=o)}function s(a,o){if(a.type=="choice")return a.exprs.reduce((A,u)=>A.concat(s(u,o)),[]);if(a.type=="seq")for(let A=0;;A++){let u=s(a.exprs[A],o);if(A==a.exprs.length-1)return u;i(u,o=n())}else if(a.type=="star"){let A=n();return r(o,A),i(s(a.expr,A),A),[r(A)]}else if(a.type=="plus"){let A=n();return i(s(a.expr,o),A),i(s(a.expr,A),A),[r(A)]}else{if(a.type=="opt")return[r(o)].concat(s(a.expr,o));if(a.type=="range"){let A=o;for(let u=0;u<a.min;u++){let l=n();i(s(a.expr,A),l),A=l}if(a.max==-1)i(s(a.expr,A),A);else for(let u=a.min;u<a.max;u++){let l=n();r(A,l),i(s(a.expr,A),l),A=l}return[r(A)]}else{if(a.type=="name")return[r(o,void 0,a.value)];throw new Error("Unknown expr type")}}}}function Hy(t,e){return e-t}function Xm(t,e){let n=[];return r(e),n.sort(Hy);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let a=0;a<s.length;a++){let{term:o,to:A}=s[a];!o&&n.indexOf(A)==-1&&r(A)}}}function g5(t){let e=Object.create(null);return n(Xm(t,0));function n(r){let i=[];r.forEach(a=>{t[a].forEach(({term:o,to:A})=>{if(!o)return;let u;for(let l=0;l<i.length;l++)i[l][0]==o&&(u=i[l][1]);Xm(t,A).forEach(l=>{u||i.push([o,u=[]]),u.indexOf(l)==-1&&u.push(l)})})});let s=e[r.join(",")]=new ro(r.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let o=i[a][1].sort(Hy);s.next.push({type:i[a][0],next:e[o.join(",")]||n(o)})}return s}}function m5(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,a=[];for(let o=0;o<i.next.length;o++){let{type:A,next:u}=i.next[o];a.push(A.name),s&&!(A.isText||A.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function jy(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Ky(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Vy(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function zy(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new w5(t,r,e[r]);return n}let Jm=class qy{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=zy(e,r.attrs),this.defaultAttrs=jy(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ro.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Ky(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new fa(this,this.computeAttrs(e),ot.from(n),_n.setFrom(r))}createChecked(e=null,n,r){return n=ot.from(n),this.checkContent(n),new fa(this,this.computeAttrs(e),n,_n.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ot.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(ot.empty,!0);return s?new fa(this,e,n.append(s),_n.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Vy(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:_n.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,a)=>r[s]=new qy(s,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function b5(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class w5{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?b5(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Wf{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=zy(e,i.attrs),this.excluded=null;let s=jy(this.attrs);this.instance=s?new _n(this,s):null}create(e=null){return!e&&this.instance?this.instance:new _n(this,Ky(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,a)=>r[s]=new Wf(s,i++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Vy(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}let Gy=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=kr.from(e.nodes),n.marks=kr.from(e.marks||{}),this.nodes=Jm.compile(this.spec.nodes,this),this.marks=Wf.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",o=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=ro.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=o=="_"?null:o?Zm(this,o.split(" ")):o==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:Zm(this,a.split(" "))}this.nodeFromJSON=i=>fa.fromJSON(this,i),this.markFromJSON=i=>_n.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Jm){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Hc(r,r.defaultAttrs,e,_n.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}};function Zm(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],a=s;if(s)n.push(s);else for(let o in t.marks){let A=t.marks[o];(i=="_"||A.spec.group&&A.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=A)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function y5(t){return t.tag!=null}function B5(t){return t.style!=null}let JA=class yp{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(y5(i))this.tags.push(i);else if(B5(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new t1(this,n,!1);return r.addAll(e,_n.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new t1(this,n,!0);return r.addAll(e,_n.none,n.from,n.to),Ct.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(C5(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],o=a.style;if(!(o.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||o.length>e.length&&(o.charCodeAt(e.length)!=61||o.slice(e.length+1)!=n))){if(a.getAttrs){let A=a.getAttrs(n);if(A===!1)continue;a.attrs=A||void 0}return a}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let o=n[a];if((o.priority==null?50:o.priority)<s)break}n.splice(a,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=n1(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=n1(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new yp(e,yp.schemaRules(e)))}};const Wy={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},x5={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},$y={ol:!0,ul:!0},vu=1,Bp=2,ZA=4;function e1(t,e,n){return e!=null?(e?vu:0)|(e==="full"?Bp:0):t&&t.whitespace=="pre"?vu|Bp:n&~ZA}class Tl{constructor(e,n,r,i,s,a){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=_n.none,this.match=s||(a&ZA?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ot.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&vu)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=ot.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ot.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Wy.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class t1{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,a=e1(null,n.preserveWhitespace,0)|(r?ZA:0);i?s=new Tl(i.type,i.attrs,_n.none,!0,n.topMatch||i.type.contentMatch,a):r?s=new Tl(null,null,_n.none,!0,null,a):s=new Tl(e.schema.topNodeType,null,_n.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&Bp?"full":this.localPreserveWS||(i.options&vu)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],o=e.previousSibling;(!a||o&&o.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),o;$y.hasOwnProperty(a)&&this.parser.normalizeLists&&E5(e);let A=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,r));e:if(A?A.ignore:x5.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!A||A.skip||A.closeParent){A&&A.closeParent?this.open=Math.max(0,this.open-1):A&&A.skip.nodeType&&(e=A.skip);let u,l=this.needsBlock;if(Wy.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let c=A&&A.skip?n:this.readStyles(e,n);c&&this.addAll(e,c),u&&this.sync(s),this.needsBlock=l}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,A,u,A.consuming===!1?o:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let o=void 0;;){let A=this.parser.matchStyle(s,a,this,o);if(!A)break;if(A.ignore)return null;if(A.clearMark?n=n.filter(u=>!A.clearMark(u)):n=n.concat(this.parser.schema.marks[A.mark].create(A.attrs)),A.consuming===!1)o=A;else break}}return n}addElementByRule(e,n,r,i){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let A=this.enter(a,n.attrs||null,r,n.preserveWhitespace);A&&(s=!0,r=A)}else{let A=this.parser.schema.marks[n.mark];r=r.concat(A.create(n.attrs))}let o=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(A=>this.insertNode(A,r,!1));else{let A=e;typeof n.contentElement=="string"?A=e.querySelector(n.contentElement):typeof n.contentElement=="function"?A=n.contentElement(e):n.contentElement&&(A=n.contentElement),this.findAround(e,A,!0),this.addAll(A,r),this.findAround(e,A,!1)}s&&this.sync(o)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let a=r?e.childNodes[r]:e.firstChild,o=i==null?null:e.childNodes[i];a!=o;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let a=this.open,o=0;a>=0;a--){let A=this.nodes[a],u=A.findWrapping(e);if(u&&(!i||i.length>u.length+o)&&(i=u,s=A,!u.length))break;if(A.solid){if(r)break;o+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let a=_n.none;for(let o of i.concat(e.marks))(s.type?s.type.allowsMarkType(o.type):r1(o.type,e.type))&&(a=o.addToSet(a));return s.content.push(e.mark(a)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let o=e1(e,s,a.options);a.options&ZA&&a.content.length==0&&(o|=ZA);let A=_n.none;return r=r.filter(u=>(a.type?a.type.allowsMarkType(u.type):r1(u.type,e))?(A=u.addToSet(A),!1):!0),this.nodes.push(new Tl(e,n,A,i,null,o)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=vu)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(o,A)=>{for(;o>=0;o--){let u=n[o];if(u==""){if(o==n.length-1||o==0)continue;for(;A>=s;A--)if(a(o-1,A))return!0;return!1}else{let l=A>0||A==0&&i?this.nodes[A].type:r&&A>=s?r.node(A-s).type:null;if(!l||l.name!=u&&!l.isInGroup(u))return!1;A--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function E5(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&$y.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function C5(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function n1(t){let e={};for(let n in t)e[n]=t[n];return e}function r1(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],a=o=>{s.push(o);for(let A=0;A<o.edgeCount;A++){let{type:u,next:l}=o.edge(A);if(u==e||s.indexOf(l)<0&&a(l))return!0}};if(a(i.contentMatch))return!0}}class lo{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Kd(n).createDocumentFragment());let i=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let o=0,A=0;for(;o<s.length&&A<a.marks.length;){let u=a.marks[A];if(!this.marks[u.type.name]){A++;continue}if(!u.eq(s[o][0])||u.type.spec.spanning===!1)break;o++,A++}for(;o<s.length;)i=s.pop()[1];for(;A<a.marks.length;){let u=a.marks[A++],l=this.serializeMark(u,a.isInline,n);l&&(s.push([u,i]),i.appendChild(l.dom),i=l.contentDOM||l.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=gc(Kd(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&gc(Kd(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return gc(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new lo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=i1(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return i1(e.marks)}}function i1(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Kd(t){return t.document||window.document}const s1=new WeakMap;function v5(t){let e=s1.get(t);return e===void 0&&s1.set(t,e=T5(t)),e}function T5(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function gc(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=v5(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let o,A=n?t.createElementNS(n,i):t.createElement(i),u=e[1],l=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){l=2;for(let c in u)if(u[c]!=null){let f=c.indexOf(" ");f>0?A.setAttributeNS(c.slice(0,f),c.slice(f+1),u[c]):c=="style"&&A.style?A.style.cssText=u[c]:A.setAttribute(c,u[c])}}for(let c=l;c<e.length;c++){let f=e[c];if(f===0){if(c<e.length-1||c>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:A,contentDOM:A}}else{let{dom:d,contentDOM:w}=gc(t,f,n,r);if(A.appendChild(d),w){if(o)throw new RangeError("Multiple content holes");o=w}}}return{dom:A,contentDOM:o}}const Yy=65535,Xy=Math.pow(2,16);function S5(t,e){return t+e*Xy}function a1(t){return t&Yy}function I5(t){return(t-(t&Yy))/Xy}const Jy=1,Zy=2,mc=4,eB=8;class xp{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&eB)>0}get deletedBefore(){return(this.delInfo&(Jy|mc))>0}get deletedAfter(){return(this.delInfo&(Zy|mc))>0}get deletedAcross(){return(this.delInfo&mc)>0}}class wi{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&wi.empty)return wi.empty}recover(e){let n=0,r=a1(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+I5(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let A=this.ranges[o]-(this.inverted?i:0);if(A>e)break;let u=this.ranges[o+s],l=this.ranges[o+a],c=A+u;if(e<=c){let f=u?e==A?-1:e==c?1:n:n,d=A+i+(f<0?0:l);if(r)return d;let w=e==(n<0?A:c)?null:S5(o/3,e-A),T=e==A?Zy:e==c?Jy:mc;return(n<0?e!=A:e!=c)&&(T|=eB),new xp(d,T,w)}i+=l-u}return r?e+i:new xp(e+i,0,null)}touches(e,n){let r=0,i=a1(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let A=this.ranges[o]-(this.inverted?r:0);if(A>e)break;let u=this.ranges[o+s],l=A+u;if(e<=l&&o==i*3)return!0;r+=this.ranges[o+a]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],o=a-(this.inverted?s:0),A=a+(this.inverted?0:s),u=this.ranges[i+n],l=this.ranges[i+r];e(o,o+u,A,A+l),s+=l-u}}invert(){return new wi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?wi.empty:new wi(e<0?[0,-e,0]:[0,0,e])}}wi.empty=new wi([]);class Tu{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Tu(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Tu;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],o=a.mapResult(e,n);if(o.recover!=null){let A=this.getMirror(s);if(A!=null&&A>s&&A<this.to){s=A,e=this._maps[A].recover(o.recover);continue}}i|=o.delInfo,e=o.pos}return r?e:new xp(e,i,null)}}const Vd=Object.create(null);class Kr{getMap(){return wi.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Vd[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Vd)throw new RangeError("Duplicate use of step JSON ID "+e);return Vd[e]=n,n.prototype.jsonID=e,n}}class lr{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new lr(e,null)}static fail(e){return new lr(null,e)}static fromReplace(e,n,r,i){try{return lr.ok(e.replace(n,r,i))}catch(s){if(s instanceof Rc)return lr.fail(s.message);throw s}}}function Y0(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(Y0(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return ot.fromArray(r)}class sa extends Kr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Ct(Y0(n.content,(a,o)=>!a.isAtom||!o.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return lr.fromReplace(e,this.from,this.to,s)}invert(){return new ls(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new sa(n.pos,r.pos,this.mark)}merge(e){return e instanceof sa&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new sa(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new sa(n.from,n.to,e.markFromJSON(n.mark))}}Kr.jsonID("addMark",sa);class ls extends Kr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Ct(Y0(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return lr.fromReplace(e,this.from,this.to,r)}invert(){return new sa(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ls(n.pos,r.pos,this.mark)}merge(e){return e instanceof ls&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ls(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ls(n.from,n.to,e.markFromJSON(n.mark))}}Kr.jsonID("removeMark",ls);class aa extends Kr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return lr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return lr.fromReplace(e,this.pos,this.pos+1,new Ct(ot.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new aa(this.pos,n.marks[i]);return new aa(this.pos,this.mark)}}return new io(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new aa(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new aa(n.pos,e.markFromJSON(n.mark))}}Kr.jsonID("addNodeMark",aa);class io extends Kr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return lr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return lr.fromReplace(e,this.pos,this.pos+1,new Ct(ot.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new aa(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new io(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new io(n.pos,e.markFromJSON(n.mark))}}Kr.jsonID("removeNodeMark",io);class yr extends Kr{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Ep(e,this.from,this.to)?lr.fail("Structure replace would overwrite content"):lr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new wi([this.from,this.to-this.from,this.slice.size])}invert(e){return new yr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new yr(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof yr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Ct.empty:new Ct(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new yr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Ct.empty:new Ct(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new yr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new yr(n.from,n.to,Ct.fromJSON(e,n.slice),!!n.structure)}}Kr.jsonID("replace",yr);class Er extends Kr{constructor(e,n,r,i,s,a,o=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=o}apply(e){if(this.structure&&(Ep(e,this.from,this.gapFrom)||Ep(e,this.gapTo,this.to)))return lr.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return lr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?lr.fromReplace(e,this.from,this.to,r):lr.fail("Content does not fit in gap")}getMap(){return new wi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Er(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Er(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Er(n.from,n.to,n.gapFrom,n.gapTo,Ct.fromJSON(e,n.slice),n.insert,!!n.structure)}}Kr.jsonID("replaceAround",Er);function Ep(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function k5(t,e,n,r){let i=[],s=[],a,o;t.doc.nodesBetween(e,n,(A,u,l)=>{if(!A.isInline)return;let c=A.marks;if(!r.isInSet(c)&&l.type.allowsMarkType(r.type)){let f=Math.max(u,e),d=Math.min(u+A.nodeSize,n),w=r.addToSet(c);for(let T=0;T<c.length;T++)c[T].isInSet(w)||(a&&a.to==f&&a.mark.eq(c[T])?a.to=d:i.push(a=new ls(f,d,c[T])));o&&o.to==f?o.to=d:s.push(o=new sa(f,d,r))}}),i.forEach(A=>t.step(A)),s.forEach(A=>t.step(A))}function F5(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(a,o)=>{if(!a.isInline)return;s++;let A=null;if(r instanceof Wf){let u=a.marks,l;for(;l=r.isInSet(u);)(A||(A=[])).push(l),u=l.removeFromSet(u)}else r?r.isInSet(a.marks)&&(A=[r]):A=a.marks;if(A&&A.length){let u=Math.min(o+a.nodeSize,n);for(let l=0;l<A.length;l++){let c=A[l],f;for(let d=0;d<i.length;d++){let w=i[d];w.step==s-1&&c.eq(i[d].style)&&(f=w)}f?(f.to=u,f.step=s):i.push({style:c,from:Math.max(o,e),to:u,step:s})}}}),i.forEach(a=>t.step(new ls(a.from,a.to,a.style)))}function X0(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),a=[],o=e+1;for(let A=0;A<s.childCount;A++){let u=s.child(A),l=o+u.nodeSize,c=r.matchType(u.type);if(!c)a.push(new yr(o,l,Ct.empty));else{r=c;for(let f=0;f<u.marks.length;f++)n.allowsMarkType(u.marks[f].type)||t.step(new ls(o,l,u.marks[f]));if(i&&u.isText&&n.whitespace!="pre"){let f,d=/\r?\n|\r/g,w;for(;f=d.exec(u.text);)w||(w=new Ct(ot.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),a.push(new yr(o+f.index,o+f.index+f[0].length,w))}}o=l}if(!r.validEnd){let A=r.fillBefore(ot.empty,!0);t.replace(o,o,new Ct(A,0,0))}for(let A=a.length-1;A>=0;A--)t.step(a[A])}function N5(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function AA(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,a,n))return r;if(r==0||i.type.spec.isolating||!N5(i,s,a))break}return null}function U5(t,e,n){let{$from:r,$to:i,depth:s}=e,a=r.before(s+1),o=i.after(s+1),A=a,u=o,l=ot.empty,c=0;for(let w=s,T=!1;w>n;w--)T||r.index(w)>0?(T=!0,l=ot.from(r.node(w).copy(l)),c++):A--;let f=ot.empty,d=0;for(let w=s,T=!1;w>n;w--)T||i.after(w+1)<i.end(w)?(T=!0,f=ot.from(i.node(w).copy(f)),d++):u++;t.step(new Er(A,u,a,o,new Ct(l.append(f),c,d),l.size-c,!0))}function J0(t,e,n=null,r=t){let i=L5(t,e),s=i&&O5(r,e);return s?i.map(o1).concat({type:e,attrs:n}).concat(s.map(o1)):null}function o1(t){return{type:t,attrs:null}}function L5(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return n.canReplaceWith(r,i,a)?s:null}function O5(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let A=(a.length?a[a.length-1]:e).contentMatch;for(let u=r;A&&u<i;u++)A=A.matchType(n.child(u).type);return!A||!A.validEnd?null:a}function _5(t,e,n){let r=ot.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let o=n[a].type.contentMatch.matchFragment(r);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ot.from(n[a].type.create(n[a].attrs,r))}let i=e.start,s=e.end;t.step(new Er(i,s,i,s,new Ct(r,0,0),n.length,!0))}function D5(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(a,o)=>{let A=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,A)&&Q5(t.doc,t.mapping.slice(s).map(o),r)){let u=null;if(r.schema.linebreakReplacement){let d=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);d&&!w?u=!1:!d&&w&&(u=!0)}u===!1&&nB(t,a,o,s),X0(t,t.mapping.slice(s).map(o,1),r,void 0,u===null);let l=t.mapping.slice(s),c=l.map(o,1),f=l.map(o+a.nodeSize,1);return t.step(new Er(c,f,c+1,f-1,new Ct(ot.from(r.create(A,null,a.marks)),0,0),1,!0)),u===!0&&tB(t,a,o,s),!1}})}function tB(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let a,o=/\r?\n|\r/g;for(;a=o.exec(i.text);){let A=t.mapping.slice(r).map(n+1+s+a.index);t.replaceWith(A,A+1,e.type.schema.linebreakReplacement.create())}}})}function nB(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function Q5(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function R5(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Er(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Ct(ot.from(a),0,0),1,!0))}function Qs(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,l=n-2;u>s;u--,l--){let c=i.node(u),f=i.index(u);if(c.type.spec.isolating)return!1;let d=c.content.cutByIndex(f,c.childCount),w=r&&r[l+1];w&&(d=d.replaceChild(0,w.type.create(w.attrs)));let T=r&&r[l]||c;if(!c.canReplace(f+1,c.childCount)||!T.type.validContent(d))return!1}let o=i.indexAfter(s),A=r&&r[0];return i.node(s).canReplaceWith(o,o,A?A.type:i.node(s+1).type)}function M5(t,e,n=1,r){let i=t.doc.resolve(e),s=ot.empty,a=ot.empty;for(let o=i.depth,A=i.depth-n,u=n-1;o>A;o--,u--){s=ot.from(i.node(o).copy(s));let l=r&&r[u];a=ot.from(l?l.type.create(l.attrs,a):i.node(o).copy(a))}t.step(new yr(e,e,new Ct(s.append(a),n,n),!0))}function ya(t,e){let n=t.resolve(e),r=n.index();return rB(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function P5(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),a=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function rB(t,e){return!!(t&&e&&!t.isLeaf&&P5(t,e))}function $f(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,a,o=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(i+1),o++,a=r.node(i).maybeChild(o)):(s=r.node(i).maybeChild(o-1),a=r.node(i+1)),s&&!s.isTextblock&&rB(s,a)&&r.node(i).canReplace(o,o+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function H5(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),a=s.node().type;if(i&&a.inlineContent){let l=a.whitespace=="pre",c=!!a.contentMatch.matchType(i);l&&!c?r=!1:!l&&c&&(r=!0)}let o=t.steps.length;if(r===!1){let l=t.doc.resolve(e+n);nB(t,l.node(),l.before(),o)}a.inlineContent&&X0(t,e+n-1,a,s.node().contentMatchAt(s.index()),r==null);let A=t.mapping.slice(o),u=A.map(e-n);if(t.step(new yr(u,A.map(e+n,-1),Ct.empty,!0)),r===!0){let l=t.doc.resolve(u);tB(t,l.node(),l.before(),t.steps.length)}return t}function j5(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function iB(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let o=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,A=r.index(a)+(o>0?1:0),u=r.node(a),l=!1;if(s==1)l=u.canReplace(A,A,i);else{let c=u.contentMatchAt(A).findWrapping(i.firstChild.type);l=c&&u.canReplaceWith(A,A,c[0])}if(l)return o==0?r.pos:o<0?r.before(a+1):r.after(a+1)}return null}function Yf(t,e,n=e,r=Ct.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return sB(i,s,r)?new yr(e,n,r):new K5(i,s,r).fit()}function sB(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class K5{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ot.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ot.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,a=r.depth,o=i.depth;for(;a&&o&&s.childCount==1;)s=s.firstChild.content,a--,o--;let A=new Ct(s,a,o);return e>-1?new Er(r.pos,e,this.$to.pos,this.$to.end(),A,n):A.size||r.pos!=this.$to.pos?new yr(r.pos,i.pos,A):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=zd(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let o=this.depth;o>=0;o--){let{type:A,match:u}=this.frontier[o],l,c=null;if(n==1&&(a?u.matchType(a.type)||(c=u.fillBefore(ot.from(a),!1)):s&&A.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:o,parent:s,inject:c};if(n==2&&a&&(l=u.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:o,parent:s,wrap:l};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=zd(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ct(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=zd(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new Ct(RA(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Ct(RA(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let T=0;T<s.length;T++)this.openFrontierNode(s[T]);let a=this.unplaced,o=r?r.content:a.content,A=a.openStart-e,u=0,l=[],{match:c,type:f}=this.frontier[n];if(i){for(let T=0;T<i.childCount;T++)l.push(i.child(T));c=c.matchFragment(i)}let d=o.size+e-(a.content.size-a.openEnd);for(;u<o.childCount;){let T=o.child(u),D=c.matchType(T.type);if(!D)break;u++,(u>1||A==0||T.content.size)&&(c=D,l.push(aB(T.mark(f.allowedMarks(T.marks)),u==1?A:0,u==o.childCount?d:-1)))}let w=u==o.childCount;w||(d=-1),this.placed=MA(this.placed,n,ot.from(l)),this.frontier[n].match=c,w&&d<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let T=0,D=o;T<d;T++){let N=D.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),D=N.content}this.unplaced=w?e==0?Ct.empty:new Ct(RA(a.content,e-1,1),e-1,d<0?a.openEnd:e-1):new Ct(RA(a.content,e,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!qd(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=qd(e,n,i,r,s);if(a){for(let o=n-1;o>=0;o--){let{match:A,type:u}=this.frontier[o],l=qd(e,o,u,A,!0);if(!l||l.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=MA(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=MA(this.placed,this.depth,ot.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ot.empty,!0);n.childCount&&(this.placed=MA(this.placed,this.frontier.length,n))}}function RA(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(RA(t.firstChild.content,e-1,n)))}function MA(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(MA(t.lastChild.content,e-1,n)))}function zd(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function aB(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,aB(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ot.empty,!0)))),t.copy(r)}function qd(t,e,n,r,i){let s=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let o=r.fillBefore(s.content,!0,a);return o&&!V5(n,s.content,a)?o:null}function V5(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function z5(t){return t.spec.defining||t.spec.definingForContent}function q5(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(sB(i,s,r))return t.step(new yr(e,n,r));let a=AB(i,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let o=-(i.depth+1);a.unshift(o);for(let f=i.depth,d=i.pos-1;f>0;f--,d--){let w=i.node(f).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;a.indexOf(f)>-1?o=f:i.before(f)==d&&a.splice(1,0,-f)}let A=a.indexOf(o),u=[],l=r.openStart;for(let f=r.content,d=0;;d++){let w=f.firstChild;if(u.push(w),d==r.openStart)break;f=w.content}for(let f=l-1;f>=0;f--){let d=u[f],w=z5(d.type);if(w&&!d.sameMarkup(i.node(Math.abs(o)-1)))l=f;else if(w||!d.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let d=(f+l+1)%(r.openStart+1),w=u[d];if(w)for(let T=0;T<a.length;T++){let D=a[(T+A)%a.length],N=!0;D<0&&(N=!1,D=-D);let M=i.node(D-1),q=i.index(D-1);if(M.canReplaceWith(q,q,w.type,w.marks))return t.replace(i.before(D),N?s.after(D):n,new Ct(oB(r.content,0,r.openStart,d),d,r.openEnd))}}let c=t.steps.length;for(let f=a.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>c));f--){let d=a[f];d<0||(e=i.before(d),n=s.after(d))}}function oB(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(oB(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(ot.empty,!0))}return t}function G5(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=j5(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Ct(ot.from(r),0,0))}function W5(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=AB(r,i);for(let a=0;a<s.length;a++){let o=s[a],A=a==s.length-1;if(A&&o==0||r.node(o).type.contentMatch.validEnd)return t.delete(r.start(o),i.end(o));if(o>0&&(A||r.node(o-1).canReplace(r.index(o-1),i.indexAfter(o-1))))return t.delete(r.before(o),i.after(o))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function AB(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class jo extends Kr{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return lr.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return lr.fromReplace(e,this.pos,this.pos+1,new Ct(ot.from(i),0,n.isLeaf?0:1))}getMap(){return wi.empty}invert(e){return new jo(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new jo(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new jo(n.pos,n.attr,n.value)}}Kr.jsonID("attr",jo);class Su extends Kr{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return lr.ok(r)}getMap(){return wi.empty}invert(e){return new Su(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Su(n.attr,n.value)}}Kr.jsonID("docAttr",Su);let Go=class extends Error{};Go=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Go.prototype=Object.create(Error.prototype);Go.prototype.constructor=Go;Go.prototype.name="TransformError";class uB{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Tu}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Go(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Ct.empty){let i=Yf(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Ct(ot.from(r),0,0))}delete(e,n){return this.replace(e,n,Ct.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return q5(this,e,n,r),this}replaceRangeWith(e,n,r){return G5(this,e,n,r),this}deleteRange(e,n){return W5(this,e,n),this}lift(e,n){return U5(this,e,n),this}join(e,n=1){return H5(this,e,n),this}wrap(e,n){return _5(this,e,n),this}setBlockType(e,n=e,r,i=null){return D5(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return R5(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new jo(e,n,r)),this}setDocAttribute(e,n){return this.step(new Su(e,n)),this}addNodeMark(e,n){return this.step(new aa(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof _n)n.isInSet(r.marks)&&this.step(new io(e,n));else{let i=r.marks,s,a=[];for(;s=n.isInSet(i);)a.push(new io(e,s)),i=s.removeFromSet(i);for(let o=a.length-1;o>=0;o--)this.step(a[o])}return this}split(e,n=1,r){return M5(this,e,n,r),this}addMark(e,n,r){return k5(this,e,n,r),this}removeMark(e,n,r){return F5(this,e,n,r),this}clearIncompatible(e,n,r){return X0(this,e,n,r),this}}const Gd=Object.create(null);class sn{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new $5(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Ct.empty){let r=n.content.lastChild,i=null;for(let o=0;o<n.openEnd;o++)i=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let o=0;o<a.length;o++){let{$from:A,$to:u}=a[o],l=e.mapping.slice(s);e.replaceRange(l.map(A.pos),l.map(u.pos),o?Ct.empty:n),o==0&&l1(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:o}=i[s],A=e.mapping.slice(r),u=A.map(a.pos),l=A.map(o.pos);s?e.deleteRange(u,l):(e.replaceRangeWith(u,l,n),l1(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Xt(e):Fo(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let a=n<0?Fo(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Fo(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Bi(e.node(0))}static atStart(e){return Fo(e,e,0,0,1)||new Bi(e)}static atEnd(e){return Fo(e,e,e.content.size,e.childCount,-1)||new Bi(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Gd[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Gd)throw new RangeError("Duplicate use of selection JSON ID "+e);return Gd[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Xt.between(this.$anchor,this.$head).getBookmark()}}sn.prototype.visible=!0;class $5{constructor(e,n){this.$from=e,this.$to=n}}let A1=!1;function u1(t){!A1&&!t.parent.inlineContent&&(A1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Xt extends sn{constructor(e,n=e){u1(e),u1(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return sn.near(r);let i=e.resolve(n.map(this.anchor));return new Xt(i.parent.inlineContent?i:r,r)}replace(e,n=Ct.empty){if(super.replace(e,n),n==Ct.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Xt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Xf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Xt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=sn.findFrom(n,r,!0)||sn.findFrom(n,-r,!0);if(s)n=s.$head;else return sn.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(sn.findFrom(e,-r,!0)||sn.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Xt(e,n)}}sn.jsonID("text",Xt);class Xf{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Xf(e.map(this.anchor),e.map(this.head))}resolve(e){return Xt.between(e.resolve(this.anchor),e.resolve(this.head))}}class jt extends sn{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?sn.near(s):new jt(s)}content(){return new Ct(ot.from(this.node),0,0)}eq(e){return e instanceof jt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Z0(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new jt(e.resolve(n.anchor))}static create(e,n){return new jt(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}jt.prototype.visible=!1;sn.jsonID("node",jt);class Z0{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Xf(r,r):new Z0(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&jt.isSelectable(r)?new jt(n):sn.near(n)}}class Bi extends sn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Ct.empty){if(n==Ct.empty){e.delete(0,e.doc.content.size);let r=sn.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Bi(e)}map(e){return new Bi(e)}eq(e){return e instanceof Bi}getBookmark(){return Y5}}sn.jsonID("all",Bi);const Y5={map(){return this},resolve(t){return new Bi(t)}};function Fo(t,e,n,r,i,s=!1){if(e.inlineContent)return Xt.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let o=e.child(a);if(o.isAtom){if(!s&&jt.isSelectable(o))return jt.create(t,n-(i<0?o.nodeSize:0))}else{let A=Fo(t,o,n+i,i<0?o.childCount:0,i,s);if(A)return A}n+=o.nodeSize*i}return null}function l1(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof yr||i instanceof Er))return;let s=t.mapping.maps[r],a;s.forEach((o,A,u,l)=>{a==null&&(a=l)}),t.setSelection(sn.near(t.doc.resolve(a),n))}const c1=1,Sl=2,f1=4;class X5 extends uB{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|c1)&~Sl,this.storedMarks=null,this}get selectionSet(){return(this.updated&c1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Sl,this}ensureMarks(e){return _n.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Sl)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Sl,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||_n.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r==null?n:r,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(sn.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=f1,this}get scrolledIntoView(){return(this.updated&f1)>0}}function d1(t,e){return!e||!t?t:t.bind(e)}class PA{constructor(e,n,r){this.name=e,this.init=d1(n.init,r),this.apply=d1(n.apply,r)}}const J5=[new PA("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new PA("selection",{init(t,e){return t.selection||sn.atStart(e.doc)},apply(t){return t.selection}}),new PA("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new PA("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Wd{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=J5.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new PA(r.key,r.spec.state,r))})}}class Ro{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let o=this.config.plugins[a];if(o.spec.appendTransaction){let A=i?i[a].n:0,u=i?i[a].state:this,l=A<n.length&&o.spec.appendTransaction.call(o,A?n.slice(A):n,u,r);if(l&&r.filterTransaction(l,a)){if(l.setMeta("appendedTransaction",e),!i){i=[];for(let c=0;c<this.config.plugins.length;c++)i.push(c<a?{state:r,n:n.length}:{state:this,n:0})}n.push(l),r=r.applyInner(l),s=!0}i&&(i[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ro(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new X5(this)}static create(e){let n=new Wd(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ro(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Wd(this.schema,e.plugins),r=n.fields,i=new Ro(n);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Wd(e.schema,e.plugins),s=new Ro(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=fa.fromJSON(e.schema,n.doc);else if(a.name=="selection")s.selection=sn.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let o in r){let A=r[o],u=A.spec.state;if(A.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,o)){s[a.name]=u.fromJSON.call(A,e,n[o],s);return}}s[a.name]=a.init(e,s)}}),s}}function lB(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=lB(i,e,{})),n[r]=i}return n}class gr{constructor(e){this.spec=e,this.props={},e.props&&lB(e.props,this,this.props),this.key=e.key?e.key.key:cB("plugin")}getState(e){return e[this.key]}}const $d=Object.create(null);function cB(t){return t in $d?t+"$"+ ++$d[t]:($d[t]=0,t+"$")}class ii{constructor(e="key"){this.key=cB(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ur=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Wo=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Cp=null;const Ns=function(t,e,n){let r=Cp||(Cp=document.createRange());return r.setEnd(t,n==null?t.nodeValue.length:n),r.setStart(t,e||0),r},Z5=function(){Cp=null},so=function(t,e,n,r){return n&&(h1(t,e,n,r,-1)||h1(t,e,n,r,1))},eT=/^(img|br|input|textarea|hr)$/i;function h1(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ui(t))){let a=t.parentNode;if(!a||a.nodeType!=1||$u(t)||eT.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ur(t)+(i<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=a,e=i<0?Ui(t):0}else return!1}}function Ui(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function tT(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ui(t)}else if(t.parentNode&&!$u(t))e=Ur(t),t=t.parentNode;else return null}}function nT(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!$u(t))e=Ur(t)+1,t=t.parentNode;else return null}}function rT(t,e,n){for(let r=e==0,i=e==Ui(t);r||i;){if(t==n)return!0;let s=Ur(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Ui(t)}}function $u(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Jf=function(t){return t.focusNode&&so(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function _a(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function iT(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function sT(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Ui(r.offsetNode),r.offset)}}catch(r){}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Ui(r.startContainer),r.startOffset)}}}const ds=typeof navigator!="undefined"?navigator:null,p1=typeof document!="undefined"?document:null,Ba=ds&&ds.userAgent||"",vp=/Edge\/(\d+)/.exec(Ba),fB=/MSIE \d/.exec(Ba),Tp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ba),li=!!(fB||Tp||vp),da=fB?document.documentMode:Tp?+Tp[1]:vp?+vp[1]:0,$i=!li&&/gecko\/(\d+)/i.test(Ba);$i&&+(/Firefox\/(\d+)/.exec(Ba)||[0,0])[1];const Sp=!li&&/Chrome\/(\d+)/.exec(Ba),Hr=!!Sp,dB=Sp?+Sp[1]:0,ti=!li&&!!ds&&/Apple Computer/.test(ds.vendor),$o=ti&&(/Mobile\/\w+/.test(Ba)||!!ds&&ds.maxTouchPoints>2),Ii=$o||(ds?/Mac/.test(ds.platform):!1),aT=ds?/Win/.test(ds.platform):!1,_s=/Android \d/.test(Ba),Yu=!!p1&&"webkitFontSmoothing"in p1.documentElement.style,oT=Yu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function AT(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Cs(t,e){return typeof t=="number"?t:t[e]}function uT(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function g1(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=Wo(a);continue}let o=a,A=o==s.body,u=A?AT(s):uT(o),l=0,c=0;if(e.top<u.top+Cs(r,"top")?c=-(u.top-e.top+Cs(i,"top")):e.bottom>u.bottom-Cs(r,"bottom")&&(c=e.bottom-e.top>u.bottom-u.top?e.top+Cs(i,"top")-u.top:e.bottom-u.bottom+Cs(i,"bottom")),e.left<u.left+Cs(r,"left")?l=-(u.left-e.left+Cs(i,"left")):e.right>u.right-Cs(r,"right")&&(l=e.right-u.right+Cs(i,"right")),l||c)if(A)s.defaultView.scrollBy(l,c);else{let d=o.scrollLeft,w=o.scrollTop;c&&(o.scrollTop+=c),l&&(o.scrollLeft+=l);let T=o.scrollLeft-d,D=o.scrollTop-w;e={left:e.left-T,top:e.top-D,right:e.right-T,bottom:e.bottom-D}}let f=A?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(f))break;a=f=="absolute"?a.offsetParent:Wo(a)}}function lT(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let o=t.root.elementFromPoint(s,a);if(!o||o==t.dom||!t.dom.contains(o))continue;let A=o.getBoundingClientRect();if(A.top>=n-20){r=o,i=A.top;break}}return{refDOM:r,refTop:i,stack:hB(t.dom)}}function hB(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Wo(r));return e}function cT({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;pB(n,r==0?0:r-e)}function pB(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let wo=null;function fT(t){if(t.setActive)return t.setActive();if(wo)return t.focus(wo);let e=hB(t);t.focus(wo==null?{get preventScroll(){return wo={preventScroll:!0},!0}}:void 0),wo||(wo=!1,pB(e,0))}function gB(t,e){let n,r=2e8,i,s=0,a=e.top,o=e.top,A,u;for(let l=t.firstChild,c=0;l;l=l.nextSibling,c++){let f;if(l.nodeType==1)f=l.getClientRects();else if(l.nodeType==3)f=Ns(l).getClientRects();else continue;for(let d=0;d<f.length;d++){let w=f[d];if(w.top<=a&&w.bottom>=o){a=Math.max(w.bottom,a),o=Math.min(w.top,o);let T=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(T<r){n=l,r=T,i=T&&n.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,l.nodeType==1&&T&&(s=c+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!A&&w.left<=e.left&&w.right>=e.left&&(A=l,u={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!n&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(s=c+1)}}return!n&&A&&(n=A,i=u,r=0),n&&n.nodeType==3?dT(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:gB(n,i)}function dT(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Gs(r,1);if(s.top!=s.bottom&&eg(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function eg(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function hT(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function pT(t,e,n){let{node:r,offset:i}=gB(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function gT(t,e,n,r){let i=-1;for(let s=e,a=!1;s!=t.dom;){let o=t.docView.nearestDesc(s,!0),A;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((A=o.dom.getBoundingClientRect()).width||A.height)&&(o.node.isBlock&&o.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(o.dom.nodeName)&&(!a&&A.left>r.left||A.top>r.top?i=o.posBefore:(!a&&A.right<r.left||A.bottom<r.top)&&(i=o.posAfter),a=!0),!o.contentDOM&&i<0&&!o.node.isText))return(o.node.isBlock?r.top<(A.top+A.bottom)/2:r.left<(A.left+A.right)/2)?o.posBefore:o.posAfter;s=o.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function mB(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let a=t.childNodes[s];if(a.nodeType==1){let o=a.getClientRects();for(let A=0;A<o.length;A++){let u=o[A];if(eg(e,u))return mB(a,e,u)}}if((s=(s+1)%r)==i)break}return t}function mT(t,e){let n=t.dom.ownerDocument,r,i=0,s=sT(n,e.left,e.top);s&&({node:r,offset:i}=s);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),o;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let u=t.dom.getBoundingClientRect();if(!eg(e,u)||(a=mB(t.dom,e,u),!a))return null}if(ti)for(let u=a;r&&u;u=Wo(u))u.draggable&&(r=void 0);if(a=hT(a,e),r){if($i&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let l=r.childNodes[i],c;l.nodeName=="IMG"&&(c=l.getBoundingClientRect()).right<=e.left&&c.bottom>e.top&&i++}let u;Yu&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?o=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(o=gT(t,r,i,e))}o==null&&(o=pT(t,a,e));let A=t.docView.nearestDesc(a,!0);return{pos:o,inside:A?A.posAtStart-A.border:-1}}function m1(t){return t.top<t.bottom||t.left<t.right}function Gs(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(m1(r))return r}return Array.prototype.find.call(n,m1)||t.getBoundingClientRect()}const bT=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function bB(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),a=Yu||$i;if(r.nodeType==3)if(a&&(bT.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let A=Gs(Ns(r,i,i),n);if($i&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Gs(Ns(r,i-1,i-1),-1);if(u.top==A.top){let l=Gs(Ns(r,i,i+1),-1);if(l.top!=A.top)return vA(l,l.left<u.left)}}return A}else{let A=i,u=i,l=n<0?1:-1;return n<0&&!i?(u++,l=-1):n>=0&&i==r.nodeValue.length?(A--,l=1):n<0?A--:u++,vA(Gs(Ns(r,A,u),l),l<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Ui(r))){let A=r.childNodes[i-1];if(A.nodeType==1)return Yd(A.getBoundingClientRect(),!1)}if(s==null&&i<Ui(r)){let A=r.childNodes[i];if(A.nodeType==1)return Yd(A.getBoundingClientRect(),!0)}return Yd(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Ui(r))){let A=r.childNodes[i-1],u=A.nodeType==3?Ns(A,Ui(A)-(a?0:1)):A.nodeType==1&&(A.nodeName!="BR"||!A.nextSibling)?A:null;if(u)return vA(Gs(u,1),!1)}if(s==null&&i<Ui(r)){let A=r.childNodes[i];for(;A.pmViewDesc&&A.pmViewDesc.ignoreForCoords;)A=A.nextSibling;let u=A?A.nodeType==3?Ns(A,0,a?0:1):A.nodeType==1?A:null:null;if(u)return vA(Gs(u,-1),!0)}return vA(Gs(r.nodeType==3?Ns(r):r,-n),n>=0)}function vA(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Yd(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function wB(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function wT(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return wB(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let o=t.docView.nearestDesc(s,!0);if(!o)break;if(o.node.isBlock){s=o.contentDOM||o.dom;break}s=o.dom.parentNode}let a=bB(t,i.pos,1);for(let o=s.firstChild;o;o=o.nextSibling){let A;if(o.nodeType==1)A=o.getClientRects();else if(o.nodeType==3)A=Ns(o,0,o.nodeValue.length).getClientRects();else continue;for(let u=0;u<A.length;u++){let l=A[u];if(l.bottom>l.top+1&&(n=="up"?a.top-l.top>(l.bottom-a.top)*2:l.bottom-a.bottom>(a.bottom-l.top)*2))return!1}}return!0})}const yT=/[\u0590-\u08ac]/;function BT(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,o=t.domSelection();return o?!yT.test(r.parent.textContent)||!o.modify?n=="left"||n=="backward"?s:a:wB(t,e,()=>{let{focusNode:A,focusOffset:u,anchorNode:l,anchorOffset:c}=t.domSelectionRange(),f=o.caretBidiLevel;o.modify("move",n,"character");let d=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:w,focusOffset:T}=t.domSelectionRange(),D=w&&!d.contains(w.nodeType==1?w:w.parentNode)||A==w&&u==T;try{o.collapse(l,c),A&&(A!=l||u!=c)&&o.extend&&o.extend(A,u)}catch(N){}return f!=null&&(o.caretBidiLevel=f),D}):r.pos==r.start()||r.pos==r.end()}let b1=null,w1=null,y1=!1;function xT(t,e,n){return b1==e&&w1==n?y1:(b1=e,w1=n,y1=n=="up"||n=="down"?wT(t,e,n):BT(t,e,n))}const _i=0,B1=1,Ha=2,hs=3;class Xu{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=_i,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Ur(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return(i==null?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let o=i.children[a];if(o.size){i=o;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],o=s+a.size;if(o>e||a instanceof BB){i=e-s;break}s=o}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof yB&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Ur(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Ur(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,o=0;;o++){let A=this.children[o],u=a+A.size;if(i==-1&&e<=u){let l=a+A.border;if(e>=l&&n<=u-A.border&&A.node&&A.contentDOM&&this.contentDOM.contains(A.contentDOM))return A.parseRange(e,n,l);e=a;for(let c=o;c>0;c--){let f=this.children[c-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=Ur(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(u>n||o==this.children.length-1)){n=u;for(let l=o+1;l<this.children.length;l++){let c=this.children[l];if(c.size&&c.dom.parentNode==this.contentDOM&&!c.emptyChildAt(-1)){s=Ur(c.dom);break}n+=c.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),a=Math.max(e,n);for(let d=0,w=0;d<this.children.length;d++){let T=this.children[d],D=w+T.size;if(s>w&&a<D)return T.setSelection(e-w-T.border,n-w-T.border,r,i);w=D}let o=this.domFromPos(e,e?-1:1),A=n==e?o:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),l=r.domSelectionRange(),c=!1;if(($i||ti)&&e==n){let{node:d,offset:w}=o;if(d.nodeType==3){if(c=!!(w&&d.nodeValue[w-1]==`
`),c&&w==d.nodeValue.length)for(let T=d,D;T;T=T.parentNode){if(D=T.nextSibling){D.nodeName=="BR"&&(o=A={node:D.parentNode,offset:Ur(D)+1});break}let N=T.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let T=d.childNodes[w-1];c=T&&(T.nodeName=="BR"||T.contentEditable=="false")}}if($i&&l.focusNode&&l.focusNode!=A.node&&l.focusNode.nodeType==1){let d=l.focusNode.childNodes[l.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||c&&ti)&&so(o.node,o.offset,l.anchorNode,l.anchorOffset)&&so(A.node,A.offset,l.focusNode,l.focusOffset))return;let f=!1;if((u.extend||e==n)&&!c){u.collapse(o.node,o.offset);try{e!=n&&u.extend(A.node,A.offset),f=!0}catch(d){}}if(!f){if(e>n){let w=o;o=A,A=w}let d=document.createRange();d.setEnd(A.node,A.offset),d.setStart(o.node,o.offset),u.removeAllRanges(),u.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let o=r+s.border,A=a-s.border;if(e>=o&&n<=A){this.dirty=e==r||n==a?Ha:B1,e==o&&n==A&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=hs:s.markDirty(e-o,n-o);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ha:hs}r=a}this.dirty=Ha}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Ha:B1;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class yB extends Xu{constructor(e,n,r,i){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let o=document.createElement("span");o.appendChild(a),a=o}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==_i&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class ET extends Xu{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ao extends Xu{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],a=s&&s(n,i,r);return(!a||!a.dom)&&(a=lo.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new ao(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&hs||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=hs&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=_i){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=_i}}slice(e,n,r){let i=ao.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=kp(s,n,a,r)),e>0&&(s=kp(s,0,e,r));for(let o=0;o<s.length;o++)s[o].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ha extends Xu{constructor(e,n,r,i,s,a,o,A,u){super(e,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=o}static create(e,n,r,i,s,a){let o=s.nodeViews[n.type.name],A,u=o&&o(n,s,()=>{if(!A)return a;if(A.parent)return A.parent.posBeforeChild(A)},r,i),l=u&&u.dom,c=u&&u.contentDOM;if(n.isText){if(!l)l=document.createTextNode(n.text);else if(l.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else l||({dom:l,contentDOM:c}=lo.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!c&&!n.isText&&l.nodeName!="BR"&&(l.hasAttribute("contenteditable")||(l.contentEditable="false"),n.type.spec.draggable&&(l.draggable=!0));let f=l;return l=CB(l,r,n),u?A=new CT(e,n,r,i,l,c||null,f,u,s,a+1):n.isText?new Zf(e,n,r,i,l,f,s):new ha(e,n,r,i,l,c||null,f,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ot.empty)}return e}matchesNode(e,n,r){return this.dirty==_i&&e.eq(this.node)&&jc(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,a=s&&s.pos>-1?s:null,o=s&&s.pos<0,A=new TT(this,a&&a.node,e);kT(this.node,this.innerDeco,(u,l,c)=>{u.spec.marks?A.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!c&&A.syncToMarks(l==this.node.childCount?_n.none:this.node.child(l).marks,r,e),A.placeWidget(u,e,i)},(u,l,c,f)=>{A.syncToMarks(u.marks,r,e);let d;A.findNodeMatch(u,l,c,f)||o&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(d=A.findIndexWithChild(s.node))>-1&&A.updateNodeAt(u,l,c,d,e)||A.updateNextNode(u,l,c,e,f,i)||A.addNode(u,l,c,e,i),i+=u.nodeSize}),A.syncToMarks([],r,e),this.node.isTextblock&&A.addTextblockHacks(),A.destroyRest(),(A.changed||this.dirty==Ha)&&(a&&this.protectLocalComposition(e,a),xB(this.contentDOM,this.children,e),$o&&FT(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Xt)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,o=NT(this.node.content,a,r-n,i-n);return o<0?null:{node:s,pos:o,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new ET(this,s,n,i);e.input.compositionNodes.push(a),this.children=kp(this.children,r,r+i.length,e,a)}update(e,n,r,i){return this.dirty==hs||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=_i}updateOuterDeco(e){if(jc(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=EB(this.dom,this.nodeDOM,Ip(this.outerDeco,this.node,n),Ip(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function x1(t,e,n,r,i){CB(r,e,t);let s=new ha(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Zf extends ha{constructor(e,n,r,i,s,a,o){super(e,n,r,i,s,null,a,o,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==hs||this.dirty!=_i&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=_i||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=_i,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Zf(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=hs)}get domAtom(){return!1}isText(e){return this.node.text==e}}class BB extends Xu{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==_i&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CT extends ha{constructor(e,n,r,i,s,a,o,A,u,l){super(e,n,r,i,s,a,o,u,l),this.spec=A}update(e,n,r,i){if(this.dirty==hs)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function xB(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let a=e[s],o=a.dom;if(o.parentNode==t){for(;o!=r;)r=E1(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(o,r);if(a instanceof ao){let A=r?r.previousSibling:t.lastChild;xB(a.contentDOM,a.children,n),r=A?A.nextSibling:t.firstChild}}for(;r;)r=E1(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const eu=function(t){t&&(this.nodeName=t)};eu.prototype=Object.create(null);const ja=[new eu];function Ip(t,e,n){if(t.length==0)return ja;let r=n?ja[0]:new eu,i=[r];for(let s=0;s<t.length;s++){let a=t[s].type.attrs;if(a){a.nodeName&&i.push(r=new eu(a.nodeName));for(let o in a){let A=a[o];A!=null&&(n&&i.length==1&&i.push(r=new eu(e.isInline?"span":"div")),o=="class"?r.class=(r.class?r.class+" ":"")+A:o=="style"?r.style=(r.style?r.style+";":"")+A:o!="nodeName"&&(r[o]=A))}}}return i}function EB(t,e,n,r){if(n==ja&&r==ja)return e;let i=e;for(let s=0;s<r.length;s++){let a=r[s],o=n[s];if(s){let A;o&&o.nodeName==a.nodeName&&i!=t&&(A=i.parentNode)&&A.nodeName.toLowerCase()==a.nodeName||(A=document.createElement(a.nodeName),A.pmIsDeco=!0,A.appendChild(i),o=ja[0]),i=A}vT(i,o||ja[0],a)}return i}function vT(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function CB(t,e,n){return EB(t,t,ja,Ip(e,n,t.nodeType!=1))}function jc(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function E1(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class TT{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=ST(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=_i,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let o=-1;for(let A=this.index;A<Math.min(this.index+3,this.top.children.length);A++){let u=this.top.children[A];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){o=A;break}}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let A=ao.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,A),this.top=A,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))s=this.top.children.indexOf(a,this.index);else for(let o=this.index,A=Math.min(this.top.children.length,o+5);o<A;o++){let u=this.top.children[o];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){s=o;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let a=this.top.children[i];return a.dirty==hs&&a.dom==a.contentDOM&&(a.dirty=Ha),a.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,a){for(let o=this.index;o<this.top.children.length;o++){let A=this.top.children[o];if(A instanceof ha){let u=this.preMatch.matched.get(A);if(u!=null&&u!=s)return!1;let l=A.dom,c,f=this.isLocked(l)&&!(e.isText&&A.node&&A.node.isText&&A.nodeDOM.nodeValue==e.text&&A.dirty!=hs&&jc(n,A.outerDeco));if(!f&&A.update(e,n,r,i))return this.destroyBetween(this.index,o),A.dom!=l&&(this.changed=!0),this.index++,!0;if(!f&&(c=this.recreateWrapper(A,e,n,r,i,a)))return this.destroyBetween(this.index,o),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=Ha,c.updateChildren(i,a+1),c.dirty=_i),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!jc(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let o=ha.create(this.top,n,r,i,s,a);if(o.contentDOM){o.children=e.children,e.children=[];for(let A of o.children)A.parent=o}return e.destroy(),o}addNode(e,n,r,i,s){let a=ha.create(this.top,e,n,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new yB(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof ao;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Zf)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ti||Hr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new BB(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function ST(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,a=[];e:for(;i>0;){let o;for(;;)if(r){let u=n.children[r-1];if(u instanceof ao)n=u,r=u.children.length;else{o=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let A=o.node;if(A){if(A!=t.child(i-1))break;--i,s.set(o,i),a.push(o)}}return{index:i,matched:s,matches:a.reverse()}}function IT(t,e){return t.type.side-e.type.side}function kT(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let l=t.child(u);r(l,i,e.forChild(s,l),u),s+=l.nodeSize}return}let a=0,o=[],A=null;for(let u=0;;){let l,c;for(;a<i.length&&i[a].to==s;){let D=i[a++];D.widget&&(l?(c||(c=[l])).push(D):l=D)}if(l)if(c){c.sort(IT);for(let D=0;D<c.length;D++)n(c[D],u,!!A)}else n(l,u,!!A);let f,d;if(A)d=-1,f=A,A=null;else if(u<t.childCount)d=u,f=t.child(u++);else break;for(let D=0;D<o.length;D++)o[D].to<=s&&o.splice(D--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)o.push(i[a++]);let w=s+f.nodeSize;if(f.isText){let D=w;a<i.length&&i[a].from<D&&(D=i[a].from);for(let N=0;N<o.length;N++)o[N].to<D&&(D=o[N].to);D<w&&(A=f.cut(D-s),f=f.cut(0,D-s),w=D,d=-1)}else for(;a<i.length&&i[a].to<w;)a++;let T=f.isInline&&!f.isLeaf?o.filter(D=>!D.inline):o.slice();r(f,T,e.forChild(s,f),d),s=w}}function FT(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function NT(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let a=t.child(i++),o=s;if(s+=a.nodeSize,!a.isText)continue;let A=a.text;for(;i<t.childCount;){let u=t.child(i++);if(s+=u.nodeSize,!u.isText)break;A+=u.text}if(s>=n){if(s>=r&&A.slice(r-e.length-o,r-o)==e)return r-e.length;let u=o<r?A.lastIndexOf(e,r-o-1):-1;if(u>=0&&u+e.length+o>=n)return o+u;if(n==r&&A.length>=r+e.length-o&&A.slice(r-o,r-o+e.length)==e)return r}}return-1}function kp(t,e,n,r,i){let s=[];for(let a=0,o=0;a<t.length;a++){let A=t[a],u=o,l=o+=A.size;u>=n||l<=e?s.push(A):(u<e&&s.push(A.slice(0,e-u,r)),i&&(s.push(i),i=void 0),l>n&&s.push(A.slice(n-u,A.size,r)))}return s}function tg(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let o=r.resolve(a),A,u;if(Jf(n)){for(A=a;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&jt.isSelectable(c)&&i.parent&&!(c.isInline&&rT(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;u=new jt(a==f?o:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let c=a,f=a;for(let d=0;d<n.rangeCount;d++){let w=n.getRangeAt(d);c=Math.min(c,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(c<0)return null;[A,a]=f==t.state.selection.anchor?[f,c]:[c,f],o=r.resolve(a)}else A=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(A<0)return null}let l=r.resolve(A);if(!u){let c=e=="pointer"||t.state.selection.head<o.pos&&!s?1:-1;u=ng(t,l,o,c)}return u}function vB(t){return t.editable?t.hasFocus():SB(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Rs(t,e=!1){let n=t.state.selection;if(TB(t,n),!!vB(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Hr){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&so(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)LT(t);else{let{anchor:r,head:i}=n,s,a;C1&&!(n instanceof Xt)&&(n.$from.parent.inlineContent||(s=v1(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=v1(t,n.to))),t.docView.setSelection(r,i,t,e),C1&&(s&&T1(s),a&&T1(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&UT(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const C1=ti||Hr&&dB<63;function v1(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(ti&&i&&i.contentEditable=="false")return Xd(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Xd(i);if(s)return Xd(s)}}function Xd(t){return t.contentEditable="true",ti&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function T1(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function UT(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!vB(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function LT(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,Ur(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&li&&da<=11&&(r.disabled=!0,r.disabled=!1)}function TB(t,e){if(e instanceof jt){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(S1(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else S1(t)}function S1(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function ng(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Xt.between(e,n,r)}function I1(t){return t.editable&&!t.hasFocus()?!1:SB(t)}function SB(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch(n){return!1}}function OT(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return so(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Fp(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&sn.findFrom(s,e)}function Js(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function k1(t,e,n){let r=t.state.selection;if(r instanceof Xt)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Js(t,new Xt(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Fp(t.state,e);return i&&i instanceof jt?Js(t,i):!1}else if(!(Ii&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let o=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=t.docView.descAt(o))&&!a.contentDOM?jt.isSelectable(s)?Js(t,new jt(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Yu?Js(t,new Xt(t.state.doc.resolve(e<0?o:o+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof jt&&r.node.isInline)return Js(t,new Xt(e>0?r.$to:r.$from));{let i=Fp(t.state,e);return i?Js(t,i):!1}}}function Kc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function tu(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function yo(t,e){return e<0?_T(t):DT(t)}function _T(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,a=!1;for($i&&n.nodeType==1&&r<Kc(n)&&tu(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let o=n.childNodes[r-1];if(tu(o,-1))i=n,s=--r;else if(o.nodeType==3)n=o,r=n.nodeValue.length;else break}}else{if(IB(n))break;{let o=n.previousSibling;for(;o&&tu(o,-1);)i=n.parentNode,s=Ur(o),o=o.previousSibling;if(o)n=o,r=Kc(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?Np(t,n,r):i&&Np(t,i,s)}function DT(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Kc(n),s,a;for(;;)if(r<i){if(n.nodeType!=1)break;let o=n.childNodes[r];if(tu(o,1))s=n,a=++r;else break}else{if(IB(n))break;{let o=n.nextSibling;for(;o&&tu(o,1);)s=o.parentNode,a=Ur(o)+1,o=o.nextSibling;if(o)n=o,r=0,i=Kc(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&Np(t,s,a)}function IB(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function QT(t,e){for(;t&&e==t.childNodes.length&&!$u(t);)e=Ur(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function RT(t,e){for(;t&&!e&&!$u(t);)e=Ur(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Np(t,e,n){if(e.nodeType!=3){let s,a;(a=QT(e,n))?(e=a,n=0):(s=RT(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Jf(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Rs(t)},50)}function F1(t,e){let n=t.state.doc.resolve(e);if(!(Hr||aT)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function N1(t,e,n){let r=t.state.selection;if(r instanceof Xt&&!r.empty||n.indexOf("s")>-1||Ii&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=Fp(t.state,e);if(a&&a instanceof jt)return Js(t,a)}if(!i.parent.inlineContent){let a=e<0?i:s,o=r instanceof Bi?sn.near(a,e):sn.findFrom(a,e);return o?Js(t,o):!1}return!1}function U1(t,e){if(!(t.state.selection instanceof Xt))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=t.state.tr;return e<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),t.dispatch(a),!0}return!1}function L1(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function MT(t){if(!ti||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;L1(t,r,"true"),setTimeout(()=>L1(t,r,"false"),20)}return!1}function PT(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function HT(t,e){let n=e.keyCode,r=PT(e);if(n==8||Ii&&n==72&&r=="c")return U1(t,-1)||yo(t,-1);if(n==46&&!e.shiftKey||Ii&&n==68&&r=="c")return U1(t,1)||yo(t,1);if(n==13||n==27)return!0;if(n==37||Ii&&n==66&&r=="c"){let i=n==37?F1(t,t.state.selection.from)=="ltr"?-1:1:-1;return k1(t,i,r)||yo(t,i)}else if(n==39||Ii&&n==70&&r=="c"){let i=n==39?F1(t,t.state.selection.from)=="ltr"?1:-1:1;return k1(t,i,r)||yo(t,i)}else{if(n==38||Ii&&n==80&&r=="c")return N1(t,-1,r)||yo(t,-1);if(n==40||Ii&&n==78&&r=="c")return MT(t)||N1(t,1,r)||yo(t,1);if(r==(Ii?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function rg(t,e){t.someProp("transformCopied",d=>{e=d(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let d=r.firstChild;n.push(d.type.name,d.attrs!=d.type.defaultAttrs?d.attrs:null),r=d.content}let a=t.someProp("clipboardSerializer")||lo.fromSchema(t.state.schema),o=OB(),A=o.createElement("div");A.appendChild(a.serializeFragment(r,{document:o}));let u=A.firstChild,l,c=0;for(;u&&u.nodeType==1&&(l=LB[u.nodeName.toLowerCase()]);){for(let d=l.length-1;d>=0;d--){let w=o.createElement(l[d]);for(;A.firstChild;)w.appendChild(A.firstChild);A.appendChild(w),c++}u=A.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${c?` -${c}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",d=>d(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:A,text:f,slice:e}}function kB(t,e,n,r,i){let s=i.parent.type.spec.code,a,o;if(!n&&!e)return null;let A=e&&(r||s||!n);if(A){if(t.someProp("transformPastedText",f=>{e=f(e,s||r,t)}),s)return e?new Ct(ot.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Ct.empty;let c=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(c)o=c;else{let f=i.marks(),{schema:d}=t.state,w=lo.fromSchema(d);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(T=>{let D=a.appendChild(document.createElement("p"));T&&D.appendChild(w.serializeNode(d.text(T,f)))})}}else t.someProp("transformPastedHTML",c=>{n=c(n,t)}),a=zT(n),Yu&&qT(a);let u=a&&a.querySelector("[data-pm-slice]"),l=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(l&&l[3])for(let c=+l[3];c>0;c--){let f=a.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;a=f}if(o||(o=(t.someProp("clipboardParser")||t.someProp("domParser")||JA.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(A||l),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!jT.test(f.parentNode.nodeName)?{ignore:!0}:null}})),l)o=GT(O1(o,+l[1],+l[2]),l[4]);else if(o=Ct.maxOpen(KT(o.content,i),!0),o.openStart||o.openEnd){let c=0,f=0;for(let d=o.content.firstChild;c<o.openStart&&!d.type.spec.isolating;c++,d=d.firstChild);for(let d=o.content.lastChild;f<o.openEnd&&!d.type.spec.isolating;f++,d=d.lastChild);o=O1(o,c,f)}return t.someProp("transformPasted",c=>{o=c(o,t)}),o}const jT=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function KT(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,a=[];if(t.forEach(o=>{if(!a)return;let A=i.findWrapping(o.type),u;if(!A)return a=null;if(u=a.length&&s.length&&NB(A,s,o,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=UB(a[a.length-1],s.length));let l=FB(o,A);a.push(l),i=i.matchType(l.type),s=A}}),a)return ot.from(a)}return t}function FB(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ot.from(t));return t}function NB(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=NB(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(ot.from(FB(n,t,i+1))))}}function UB(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,UB(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ot.empty,!0);return t.copy(n.append(r))}function Up(t,e,n,r,i,s){let a=e<0?t.firstChild:t.lastChild,o=a.content;return t.childCount>1&&(s=0),i<r-1&&(o=Up(o,e,n,r,i+1,s)),i>=n&&(o=e<0?a.contentMatchAt(0).fillBefore(o,s<=i).append(o):o.append(a.contentMatchAt(a.childCount).fillBefore(ot.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(o))}function O1(t,e,n){return e<t.openStart&&(t=new Ct(Up(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Ct(Up(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const LB={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _1=null;function OB(){return _1||(_1=document.implementation.createHTMLDocument("title"))}let Jd=null;function VT(t){let e=window.trustedTypes;return e?(Jd||(Jd=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Jd.createHTML(t)):t}function zT(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=OB().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&LB[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=VT(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function qT(t){let e=t.querySelectorAll(Hr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function GT(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch(o){return t}let{content:i,openStart:s,openEnd:a}=t;for(let o=r.length-2;o>=0;o-=2){let A=n.nodes[r[o]];if(!A||A.hasRequiredAttrs())break;i=ot.from(A.create(r[o+1],i)),s++,a++}return new Ct(i,s,a)}const ni={},ri={},WT={touchstart:!0,touchmove:!0};class $T{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function YT(t){for(let e in ni){let n=ni[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{JT(t,r)&&!ig(t,r)&&(t.editable||!(r.type in ri))&&n(t,r)},WT[e]?{passive:!0}:void 0)}ti&&t.dom.addEventListener("input",()=>null),Lp(t)}function oa(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function XT(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Lp(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>ig(t,r))})}function ig(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function JT(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function ZT(t,e){!ig(t,e)&&ni[e.type]&&(t.editable||!(e.type in ri))&&ni[e.type](t,e)}ri.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!DB(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(_s&&Hr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),$o&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,_a(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||HT(t,n)?n.preventDefault():oa(t,"key")};ri.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ri.keypress=(t,e)=>{let n=e;if(DB(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ii&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Xt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function ed(t){return{left:t.clientX,top:t.clientY}}function e6(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function sg(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(t.someProp(e,o=>a>s.depth?o(t,n,s.nodeAfter,s.before(a),i,!0):o(t,n,s.node(a),s.before(a),i,!1)))return!0;return!1}function Ko(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function t6(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&jt.isSelectable(r)?(Ko(t,new jt(n)),!0):!1}function n6(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof jt&&(r=n.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let o=a>s.depth?s.nodeAfter:s.node(a);if(jt.isSelectable(o)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(a);break}}return i!=null?(Ko(t,jt.create(t.state.doc,i)),!0):!1}function r6(t,e,n,r,i){return sg(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?n6(t,n):t6(t,n))}function i6(t,e,n,r){return sg(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function s6(t,e,n,r){return sg(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||a6(t,n,r)}function a6(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Ko(t,Xt.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),o=i.before(s);if(a.inlineContent)Ko(t,Xt.create(r,o+1,o+1+a.content.size));else if(jt.isSelectable(a))Ko(t,jt.create(r,o));else continue;return!0}}function ag(t){return Vc(t)}const _B=Ii?"metaKey":"ctrlKey";ni.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=ag(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&e6(n,t.input.lastClick)&&!n[_B]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let a=t.posAtCoords(ed(n));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new o6(t,a,n,!!r)):(s=="doubleClick"?i6:s6)(t,a.pos,a.inside,n)?n.preventDefault():oa(t,"pointer"))};class o6{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[_B],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),a=n.inside;else{let l=e.state.doc.resolve(n.pos);s=l.parent,a=l.depth?l.before():0}const o=i?null:r.target,A=o?e.docView.nearestDesc(o,!0):null;this.target=A&&A.dom.nodeType==1?A.dom:null;let{selection:u}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof jt&&u.from<=a&&u.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&$i&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),oa(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Rs(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(ed(e))),this.updateAllowDefault(e),this.allowDefault||!n?oa(this.view,"pointer"):r6(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ti&&this.mightDrag&&!this.mightDrag.node.isAtom||Hr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ko(this.view,sn.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):oa(this.view,"pointer")}move(e){this.updateAllowDefault(e),oa(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ni.touchstart=t=>{t.input.lastTouch=Date.now(),ag(t),oa(t,"pointer")};ni.touchmove=t=>{t.input.lastTouch=Date.now(),oa(t,"pointer")};ni.contextmenu=t=>ag(t);function DB(t,e){return t.composing?!0:ti&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const A6=_s?5e3:-1;ri.compositionstart=ri.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Xt&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Vc(t,!0),t.markCursor=null;else if(Vc(t,!e.selection.empty),$i&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let o=t.domSelection();o&&o.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}t.input.composing=!0}QB(t,A6)};ri.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,QB(t,20))};function QB(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Vc(t),e))}function RB(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=l6());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function u6(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=tT(e.focusNode,e.focusOffset),r=nT(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function l6(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Vc(t,e=!1){if(!(_s&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),RB(t),e||t.docView&&t.docView.dirty){let n=tg(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function c6(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Iu=li&&da<15||$o&&oT<604;ni.copy=ri.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Iu?null:n.clipboardData,a=r.content(),{dom:o,text:A}=rg(t,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",o.innerHTML),s.setData("text/plain",A)):c6(t,o),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function f6(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function d6(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?ku(t,r.value,null,i,e):ku(t,r.textContent,r.innerHTML,i,e)},50)}function ku(t,e,n,r,i){let s=kB(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",A=>A(t,i,s||Ct.empty)))return!0;if(!s)return!1;let a=f6(s),o=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(s);return t.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function MB(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ri.paste=(t,e)=>{let n=e;if(t.composing&&!_s)return;let r=Iu?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&ku(t,MB(r),r.getData("text/html"),i,n)?n.preventDefault():d6(t,n)};class PB{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const h6=Ii?"altKey":"ctrlKey";function HB(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n!=null?n:!e[h6]}ni.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(ed(n)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof jt?i.to-1:i.to))){if(r&&r.mightDrag)a=jt.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let c=t.docView.nearestDesc(n.target,!0);c&&c.node.type.spec.draggable&&c!=t.docView&&(a=jt.create(t.state.doc,c.posBefore))}}let o=(a||t.state.selection).content(),{dom:A,text:u,slice:l}=rg(t,o);(!n.dataTransfer.files.length||!Hr||dB>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Iu?"Text":"text/html",A.innerHTML),n.dataTransfer.effectAllowed="copyMove",Iu||n.dataTransfer.setData("text/plain",u),t.dragging=new PB(l,HB(t,n),a)};ni.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ri.dragover=ri.dragenter=(t,e)=>e.preventDefault();ri.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(ed(n));if(!i)return;let s=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",w=>{a=w(a,t)}):a=kB(t,MB(n.dataTransfer),Iu?null:n.dataTransfer.getData("text/html"),!1,s);let o=!!(r&&HB(t,n));if(t.someProp("handleDrop",w=>w(t,n,a||Ct.empty,o))){n.preventDefault();return}if(!a)return;n.preventDefault();let A=a?iB(t.state.doc,s.pos,a):s.pos;A==null&&(A=s.pos);let u=t.state.tr;if(o){let{node:w}=r;w?w.replace(u):u.deleteSelection()}let l=u.mapping.map(A),c=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,f=u.doc;if(c?u.replaceRangeWith(l,l,a.content.firstChild):u.replaceRange(l,l,a),u.doc.eq(f))return;let d=u.doc.resolve(l);if(c&&jt.isSelectable(a.content.firstChild)&&d.nodeAfter&&d.nodeAfter.sameMarkup(a.content.firstChild))u.setSelection(new jt(d));else{let w=u.mapping.map(A);u.mapping.maps[u.mapping.maps.length-1].forEach((T,D,N,M)=>w=M),u.setSelection(ng(t,d,u.doc.resolve(w)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};ni.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Rs(t)},20))};ni.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};ni.beforeinput=(t,e)=>{if(Hr&&_s&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,_a(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in ri)ni[t]=ri[t];function Fu(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class zc{constructor(e,n){this.toDOM=e,this.spec=n||Ya,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:a}=e.mapResult(n.from+i,this.side<0?-1:1);return a?null:new yi(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof zc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Fu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class pa{constructor(e,n){this.attrs=e,this.spec=n||Ya}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new yi(s,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof pa&&Fu(this.attrs,e.attrs)&&Fu(this.spec,e.spec)}static is(e){return e.type instanceof pa}destroy(){}}class og{constructor(e,n){this.attrs=e,this.spec=n||Ya}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let a=e.mapResult(n.to+i,-1);return a.deleted||a.pos<=s.pos?null:new yi(s.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof og&&Fu(this.attrs,e.attrs)&&Fu(this.spec,e.spec)}destroy(){}}class yi{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new yi(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new yi(e,e,new zc(n,r))}static inline(e,n,r,i){return new yi(e,n,new pa(r,i))}static node(e,n,r,i){return new yi(e,n,new og(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof pa}get widget(){return this.type instanceof zc}}const No=[],Ya={};class Ar{constructor(e,n){this.local=e.length?e:No,this.children=n.length?n:No}static create(e,n){return n.length?qc(n,e,0,Ya):Rr}find(e,n,r){let i=[];return this.findInner(e==null?0:e,n==null?1e9:n,i,0,r),i}findInner(e,n,r,i,s){for(let a=0;a<this.local.length;a++){let o=this.local[a];o.from<=n&&o.to>=e&&(!s||s(o.spec))&&r.push(o.copy(o.from+i,o.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let o=this.children[a]+1;this.children[a+2].findInner(e-o,n-o,r,i+o,s)}}map(e,n,r){return this==Rr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Ya)}mapInner(e,n,r,i,s){let a;for(let o=0;o<this.local.length;o++){let A=this.local[o].map(e,r,i);A&&A.type.valid(n,A)?(a||(a=[])).push(A):s.onRemove&&s.onRemove(this.local[o].spec)}return this.children.length?p6(this.children,a||[],e,n,r,i,s):a?new Ar(a.sort(Xa),No):Rr}add(e,n){return n.length?this==Rr?Ar.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((o,A)=>{let u=A+r,l;if(l=KB(n,o,u)){for(i||(i=this.children.slice());s<i.length&&i[s]<A;)s+=3;i[s]==A?i[s+2]=i[s+2].addInner(o,l,u+1):i.splice(s,0,A,A+o.nodeSize,qc(l,o,u+1,Ya)),s+=3}});let a=jB(s?VB(n):n,-r);for(let o=0;o<a.length;o++)a[o].type.valid(e,a[o])||a.splice(o--,1);return new Ar(a.length?this.local.concat(a).sort(Xa):this.local,i||this.children)}remove(e){return e.length==0||this==Rr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,o=r[s]+n,A=r[s+1]+n;for(let l=0,c;l<e.length;l++)(c=e[l])&&c.from>o&&c.to<A&&(e[l]=null,(a||(a=[])).push(c));if(!a)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(a,o+1);u!=Rr?r[s+2]=u:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let o=0;o<i.length;o++)i[o].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(o--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Ar(i,r):Rr}forChild(e,n){if(this==Rr)return this;if(n.isLeaf)return Ar.empty;let r,i;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(r=this.children[o+2]);break}let s=e+1,a=s+n.content.size;for(let o=0;o<this.local.length;o++){let A=this.local[o];if(A.from<a&&A.to>s&&A.type instanceof pa){let u=Math.max(s,A.from)-s,l=Math.min(a,A.to)-s;u<l&&(i||(i=[])).push(A.copy(u,l))}}if(i){let o=new Ar(i.sort(Xa),No);return r?new na([o,r]):o}return r||Rr}eq(e){if(this==e)return!0;if(!(e instanceof Ar)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Ag(this.localsInner(e))}localsInner(e){if(this==Rr)return No;if(e.inlineContent||!this.local.some(pa.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof pa||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Ar.empty=new Ar([],[]);Ar.removeOverlap=Ag;const Rr=Ar.empty;class na{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Ya));return na.from(r)}forChild(e,n){if(n.isLeaf)return Ar.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Rr&&(s instanceof na?r=r.concat(s.members):r.push(s))}return na.from(r)}eq(e){if(!(e instanceof na)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?Ag(r?n:n.sort(Xa)):No}static from(e){switch(e.length){case 0:return Rr;case 1:return e[0];default:return new na(e.every(n=>n instanceof Ar)?e:e.reduce((n,r)=>n.concat(r instanceof Ar?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function p6(t,e,n,r,i,s,a){let o=t.slice();for(let u=0,l=s;u<n.maps.length;u++){let c=0;n.maps[u].forEach((f,d,w,T)=>{let D=T-w-(d-f);for(let N=0;N<o.length;N+=3){let M=o[N+1];if(M<0||f>M+l-c)continue;let q=o[N]+l-c;d>=q?o[N+1]=f<=q?-2:-1:f>=l&&D&&(o[N]+=D,o[N+1]+=D)}c+=D}),l=n.maps[u].map(l,-1)}let A=!1;for(let u=0;u<o.length;u+=3)if(o[u+1]<0){if(o[u+1]==-2){A=!0,o[u+1]=-1;continue}let l=n.map(t[u]+s),c=l-i;if(c<0||c>=r.content.size){A=!0;continue}let f=n.map(t[u+1]+s,-1),d=f-i,{index:w,offset:T}=r.content.findIndex(c),D=r.maybeChild(w);if(D&&T==c&&T+D.nodeSize==d){let N=o[u+2].mapInner(n,D,l+1,t[u]+s+1,a);N!=Rr?(o[u]=c,o[u+1]=d,o[u+2]=N):(o[u+1]=-2,A=!0)}else A=!0}if(A){let u=g6(o,t,e,n,i,s,a),l=qc(u,r,0,a);e=l.local;for(let c=0;c<o.length;c+=3)o[c+1]<0&&(o.splice(c,3),c-=3);for(let c=0,f=0;c<l.children.length;c+=3){let d=l.children[c];for(;f<o.length&&o[f]<d;)f+=3;o.splice(f,0,l.children[c],l.children[c+1],l.children[c+2])}}return new Ar(e.sort(Xa),o)}function jB(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new yi(i.from+e,i.to+e,i.type))}return n}function g6(t,e,n,r,i,s,a){function o(A,u){for(let l=0;l<A.local.length;l++){let c=A.local[l].map(r,i,u);c?n.push(c):a.onRemove&&a.onRemove(A.local[l].spec)}for(let l=0;l<A.children.length;l+=3)o(A.children[l+2],A.children[l]+u+1)}for(let A=0;A<t.length;A+=3)t[A+1]==-1&&o(t[A+2],e[A]+s+1);return n}function KB(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,a;s<t.length;s++)(a=t[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),t[s]=null);return i}function VB(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function qc(t,e,n,r){let i=[],s=!1;e.forEach((o,A)=>{let u=KB(t,o,A+n);if(u){s=!0;let l=qc(u,o,n+A+1,r);l!=Rr&&i.push(A,A+o.nodeSize,l)}});let a=jB(s?VB(t):t,-n).sort(Xa);for(let o=0;o<a.length;o++)a[o].type.valid(e,a[o])||(r.onRemove&&r.onRemove(a[o].spec),a.splice(o--,1));return a.length||i.length?new Ar(a,i):Rr}function Xa(t,e){return t.from-e.from||t.to-e.to}function Ag(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),D1(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),D1(e,i,r.copy(s.from,r.to)));break}}}return e}function D1(t,e,n){for(;e<t.length&&Xa(n,t[e])>0;)e++;t.splice(e,0,n)}function Zd(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Rr&&e.push(r)}),t.cursorWrapper&&e.push(Ar.create(t.state.doc,[t.cursorWrapper.deco])),na.from(e)}const m6={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},b6=li&&da<=11;class w6{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class y6{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new w6,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);li&&da<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),b6&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,m6)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(I1(this.view)){if(this.suppressingSelectionUpdates)return Rs(this.view);if(li&&da<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&so(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Wo(s))n.add(s);for(let s=e.anchorNode;s;s=Wo(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&I1(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,o=!1,A=[];if(e.editable)for(let l=0;l<n.length;l++){let c=this.registerMutation(n[l],A);c&&(s=s<0?c.from:Math.min(c.from,s),a=a<0?c.to:Math.max(c.to,a),c.typeOver&&(o=!0))}if($i&&A.length){let l=A.filter(c=>c.nodeName=="BR");if(l.length==2){let[c,f]=l;c.parentNode&&c.parentNode.parentNode==f.parentNode?f.remove():c.remove()}else{let{focusNode:c}=this.currentSelection;for(let f of l){let d=f.parentNode;d&&d.nodeName=="LI"&&(!c||E6(e,c)!=d)&&f.remove()}}}let u=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Jf(r)&&(u=tg(e))&&u.eq(sn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Rs(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,a),B6(e)),this.handleDOMChange(s,a,o,A),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Rs(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let l=0;l<e.addedNodes.length;l++){let c=e.addedNodes[l];n.push(c),c.nodeType==3&&(this.lastChangedTextNode=c)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(li&&da<=11&&e.addedNodes.length)for(let l=0;l<e.addedNodes.length;l++){let{previousSibling:c,nextSibling:f}=e.addedNodes[l];(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(i=c),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f)}let a=i&&i.parentNode==e.target?Ur(i)+1:0,o=r.localPosFromDOM(e.target,a,-1),A=s&&s.parentNode==e.target?Ur(s):e.target.childNodes.length,u=r.localPosFromDOM(e.target,A,1);return{from:o,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Q1=new WeakMap,R1=!1;function B6(t){if(!Q1.has(t)&&(Q1.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=$i,R1)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),R1=!0}}function M1(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return so(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function x6(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return M1(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?M1(t,n):null}function E6(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function C6(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:a,to:o}=t.docView.parseRange(e,n),A=t.domSelectionRange(),u,l=A.anchorNode;if(l&&t.dom.contains(l.nodeType==1?l:l.parentNode)&&(u=[{node:l,offset:A.anchorOffset}],Jf(A)||u.push({node:A.focusNode,offset:A.focusOffset})),Hr&&t.input.lastKeyCode===8)for(let D=s;D>i;D--){let N=r.childNodes[D-1],M=N.pmViewDesc;if(N.nodeName=="BR"&&!M){s=D;break}if(!M||M.size)break}let c=t.state.doc,f=t.someProp("domParser")||JA.fromSchema(t.state.schema),d=c.resolve(a),w=null,T=f.parse(r,{topNode:d.parent,topMatch:d.parent.contentMatchAt(d.index()),topOpen:!0,from:i,to:s,preserveWhitespace:d.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:v6,context:d});if(u&&u[0].pos!=null){let D=u[0].pos,N=u[1]&&u[1].pos;N==null&&(N=D),w={anchor:D+a,head:N+a}}return{doc:T,sel:w,from:a,to:o}}function v6(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(ti&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||ti&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const T6=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function S6(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let De=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,Fe=tg(t,De);if(Fe&&!t.state.selection.eq(Fe)){if(Hr&&_s&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",qe=>qe(t,_a(13,"Enter"))))return;let me=t.state.tr.setSelection(Fe);De=="pointer"?me.setMeta("pointer",!0):De=="key"&&me.scrollIntoView(),s&&me.setMeta("composition",s),t.dispatch(me)}return}let a=t.state.doc.resolve(e),o=a.sharedDepth(n);e=a.before(o+1),n=t.state.doc.resolve(n).after(o+1);let A=t.state.selection,u=C6(t,e,n),l=t.state.doc,c=l.slice(u.from,u.to),f,d;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,d="end"):(f=t.state.selection.from,d="start"),t.input.lastKeyCode=null;let w=F6(c.content,u.doc.content,u.from,f,d);if(w&&t.input.domChangeCount++,($o&&t.input.lastIOSEnter>Date.now()-225||_s)&&i.some(De=>De.nodeType==1&&!T6.test(De.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",De=>De(t,_a(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(r&&A instanceof Xt&&!A.empty&&A.$head.sameParent(A.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))w={start:A.from,endA:A.to,endB:A.to};else{if(u.sel){let De=P1(t,t.state.doc,u.sel);if(De&&!De.eq(t.state.selection)){let Fe=t.state.tr.setSelection(De);s&&Fe.setMeta("composition",s),t.dispatch(Fe)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof Xt&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),li&&da<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>u.from&&u.doc.textBetween(w.start-u.from-1,w.start-u.from+1)==" "&&(w.start--,w.endA--,w.endB--);let T=u.doc.resolveNoCache(w.start-u.from),D=u.doc.resolveNoCache(w.endB-u.from),N=l.resolve(w.start),M=T.sameParent(D)&&T.parent.inlineContent&&N.end()>=w.endA,q;if(($o&&t.input.lastIOSEnter>Date.now()-225&&(!M||i.some(De=>De.nodeName=="DIV"||De.nodeName=="P"))||!M&&T.pos<u.doc.content.size&&(!T.sameParent(D)||!T.parent.inlineContent)&&!/\S/.test(u.doc.textBetween(T.pos,D.pos,"",""))&&(q=sn.findFrom(u.doc.resolve(T.pos+1),1,!0))&&q.head>T.pos)&&t.someProp("handleKeyDown",De=>De(t,_a(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&k6(l,w.start,w.endA,T,D)&&t.someProp("handleKeyDown",De=>De(t,_a(8,"Backspace")))){_s&&Hr&&t.domObserver.suppressSelectionUpdates();return}Hr&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),_s&&!M&&T.start()!=D.start()&&D.parentOffset==0&&T.depth==D.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==w.endA&&(w.endB-=2,D=u.doc.resolveNoCache(w.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(De){return De(t,_a(13,"Enter"))})},20));let j=w.start,J=w.endA,H=De=>{let Fe=De||t.state.tr.replace(j,J,u.doc.slice(w.start-u.from,w.endB-u.from));if(u.sel){let me=P1(t,Fe.doc,u.sel);me&&!(Hr&&t.composing&&me.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&(me.head==j||me.head==Fe.mapping.map(J)-1)||li&&me.empty&&me.head==j)&&Fe.setSelection(me)}return s&&Fe.setMeta("composition",s),Fe.scrollIntoView()},ve;if(M){if(T.pos==D.pos){li&&da<=11&&T.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Rs(t),20));let De=H(t.state.tr.delete(j,J)),Fe=l.resolve(w.start).marksAcross(l.resolve(w.endA));Fe&&De.ensureMarks(Fe),t.dispatch(De)}else if(w.endA==w.endB&&(ve=I6(T.parent.content.cut(T.parentOffset,D.parentOffset),N.parent.content.cut(N.parentOffset,w.endA-N.start())))){let De=H(t.state.tr);ve.type=="add"?De.addMark(j,J,ve.mark):De.removeMark(j,J,ve.mark),t.dispatch(De)}else if(T.parent.child(T.index()).isText&&T.index()==D.index()-(D.textOffset?0:1)){let De=T.parent.textBetween(T.parentOffset,D.parentOffset),Fe=()=>H(t.state.tr.insertText(De,j,J));t.someProp("handleTextInput",me=>me(t,j,J,De,Fe))||t.dispatch(Fe())}}else t.dispatch(H())}function P1(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:ng(t,e.resolve(n.anchor),e.resolve(n.head))}function I6(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,a,o,A;for(let l=0;l<r.length;l++)i=r[l].removeFromSet(i);for(let l=0;l<n.length;l++)s=n[l].removeFromSet(s);if(i.length==1&&s.length==0)o=i[0],a="add",A=l=>l.mark(o.addToSet(l.marks));else if(i.length==0&&s.length==1)o=s[0],a="remove",A=l=>l.mark(o.removeFromSet(l.marks));else return null;let u=[];for(let l=0;l<e.childCount;l++)u.push(A(e.child(l)));if(ot.from(u).eq(t))return{mark:o,type:a}}function k6(t,e,n,r,i){if(n-e<=i.pos-r.pos||eh(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let o=s.nodeAfter;return o!=null&&n==e+o.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=t.resolve(eh(s,!0,!0));return!a.parent.isTextblock||a.pos>n||eh(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function eh(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function F6(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a,b:o}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let A=Math.max(0,s-Math.min(a,o));r-=a+A-s}if(a<s&&t.size<e.size){let A=r<=s&&r>=a?s-r:0;s-=A,s&&s<e.size&&H1(e.textBetween(s-1,s+1))&&(s+=A?1:-1),o=s+(o-a),a=s}else if(o<s){let A=r<=s&&r>=o?s-r:0;s-=A,s&&s<t.size&&H1(t.textBetween(s-1,s+1))&&(s+=A?1:-1),a=s+(a-o),o=s}return{start:s,endA:a,endB:o}}function H1(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class zB{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new $T,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(q1),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=V1(this),K1(this),this.nodeViews=z1(this),this.docView=x1(this.state.doc,j1(this),Zd(this),this.dom,this),this.domObserver=new y6(this,(r,i,s,a)=>S6(this,r,i,s,a)),this.domObserver.start(),YT(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Lp(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(q1),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(RB(this),a=!0),this.state=e;let o=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(o||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let d=z1(this);U6(d,this.nodeViews)&&(this.nodeViews=d,s=!0)}(o||n.handleDOMEvents!=this._props.handleDOMEvents)&&Lp(this),this.editable=V1(this),K1(this);let A=Zd(this),u=j1(this),l=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",c=s||!this.docView.matchesNode(e.doc,u,A);(c||!e.selection.eq(i.selection))&&(a=!0);let f=l=="preserve"&&a&&this.dom.style.overflowAnchor==null&&lT(this);if(a){this.domObserver.stop();let d=c&&(li||Hr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&N6(i.selection,e.selection);if(c){let w=Hr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=u6(this)),(s||!this.docView.update(e.doc,u,A,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=x1(e.doc,u,A,this.dom,this)),w&&!this.trackWrites&&(d=!0)}d||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&OT(this))?Rs(this,d):(TB(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),l=="reset"?this.dom.scrollTop=0:l=="to selection"?this.scrollToSelection():f&&cT(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof jt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&g1(this,n.getBoundingClientRect(),e)}else g1(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new PB(e.slice,e.move,i<0?void 0:jt.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let o=this.directPlugins[a].props[e];if(o!=null&&(i=n?n(o):o))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let o=s[a].props[e];if(o!=null&&(i=n?n(o):o))return i}}hasFocus(){if(li){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&fT(this.dom),Rs(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return mT(this,e)}coordsAtPos(e,n=1){return bB(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return xT(this,n||this.state,e)}pasteHTML(e,n){return ku(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return ku(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return rg(this,e)}destroy(){this.docView&&(XT(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Zd(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Z5())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return ZT(this,e)}domSelectionRange(){let e=this.domSelection();return e?ti&&this.root.nodeType===11&&iT(this.dom.ownerDocument)==this.dom&&x6(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}zB.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function j1(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[yi.node(0,t.state.doc.content.size,e)]}function K1(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:yi.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function V1(t){return!t.someProp("editable",e=>e(t.state)===!1)}function N6(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function z1(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function U6(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function q1(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ba={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Gc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},L6=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),O6=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Lr=0;Lr<10;Lr++)ba[48+Lr]=ba[96+Lr]=String(Lr);for(var Lr=1;Lr<=24;Lr++)ba[Lr+111]="F"+Lr;for(var Lr=65;Lr<=90;Lr++)ba[Lr]=String.fromCharCode(Lr+32),Gc[Lr]=String.fromCharCode(Lr);for(var th in ba)Gc.hasOwnProperty(th)||(Gc[th]=ba[th]);function _6(t){var e=L6&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||O6&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Gc:ba)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const D6=typeof navigator!="undefined"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Q6=typeof navigator!="undefined"&&/Win/.test(navigator.platform);function R6(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,a;for(let o=0;o<e.length-1;o++){let A=e[o];if(/^(cmd|meta|m)$/i.test(A))a=!0;else if(/^a(lt)?$/i.test(A))r=!0;else if(/^(c|ctrl|control)$/i.test(A))i=!0;else if(/^s(hift)?$/i.test(A))s=!0;else if(/^mod$/i.test(A))D6?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+A)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function M6(t){let e=Object.create(null);for(let n in t)e[R6(n)]=t[n];return e}function nh(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function P6(t){return new gr({props:{handleKeyDown:qB(t)}})}function qB(t){let e=M6(t);return function(n,r){let i=_6(r),s,a=e[nh(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let o=e[nh(i,r,!1)];if(o&&o(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Q6&&r.ctrlKey&&r.altKey)&&(s=ba[r.keyCode])&&s!=i){let o=e[nh(s,r)];if(o&&o(n.state,n.dispatch,n))return!0}}return!1}}const ug=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function GB(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const WB=(t,e,n)=>{let r=GB(t,n);if(!r)return!1;let i=lg(r);if(!i){let a=r.blockRange(),o=a&&AA(a);return o==null?!1:(e&&e(t.tr.lift(a,o).scrollIntoView()),!0)}let s=i.nodeBefore;if(rx(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Yo(s,"end")||jt.isSelectable(s)))for(let a=r.depth;;a--){let o=Yf(t.doc,r.before(a),r.after(a),Ct.empty);if(o&&o.slice.size<o.to-o.from){if(e){let A=t.tr.step(o);A.setSelection(Yo(s,"end")?sn.findFrom(A.doc.resolve(A.mapping.map(i.pos,-1)),-1):jt.create(A.doc,i.pos-s.nodeSize)),e(A.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},H6=(t,e,n)=>{let r=GB(t,n);if(!r)return!1;let i=lg(r);return i?$B(t,i,e):!1},j6=(t,e,n)=>{let r=XB(t,n);if(!r)return!1;let i=cg(r);return i?$B(t,i,e):!1};function $B(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let l=i.lastChild;if(!l)return!1;i=l}let a=e.nodeAfter,o=a,A=e.pos+1;for(;!o.isTextblock;A++){if(o.type.spec.isolating)return!1;let l=o.firstChild;if(!l)return!1;o=l}let u=Yf(t.doc,s,A,Ct.empty);if(!u||u.from!=s||u instanceof yr&&u.slice.size>=A-s)return!1;if(n){let l=t.tr.step(u);l.setSelection(Xt.create(l.doc,s)),n(l.scrollIntoView())}return!0}function Yo(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const YB=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=lg(r)}let a=s&&s.nodeBefore;return!a||!jt.isSelectable(a)?!1:(e&&e(t.tr.setSelection(jt.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function lg(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function XB(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const JB=(t,e,n)=>{let r=XB(t,n);if(!r)return!1;let i=cg(r);if(!i)return!1;let s=i.nodeAfter;if(rx(t,i,e,1))return!0;if(r.parent.content.size==0&&(Yo(s,"start")||jt.isSelectable(s))){let a=Yf(t.doc,r.before(),r.after(),Ct.empty);if(a&&a.slice.size<a.to-a.from){if(e){let o=t.tr.step(a);o.setSelection(Yo(s,"start")?sn.findFrom(o.doc.resolve(o.mapping.map(i.pos)),1):jt.create(o.doc,o.mapping.map(i.pos))),e(o.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},ZB=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=cg(r)}let a=s&&s.nodeAfter;return!a||!jt.isSelectable(a)?!1:(e&&e(t.tr.setSelection(jt.create(t.doc,s.pos)).scrollIntoView()),!0)};function cg(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const K6=(t,e)=>{let n=t.selection,r=n instanceof jt,i;if(r){if(n.node.isTextblock||!ya(t.doc,n.from))return!1;i=n.from}else if(i=$f(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(jt.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},V6=(t,e)=>{let n=t.selection,r;if(n instanceof jt){if(n.node.isTextblock||!ya(t.doc,n.to))return!1;r=n.to}else if(r=$f(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},z6=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&AA(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},ex=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function fg(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const q6=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=fg(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let o=n.after(),A=t.tr.replaceWith(o,o,a.createAndFill());A.setSelection(sn.near(A.doc.resolve(o),1)),e(A.scrollIntoView())}return!0},tx=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Bi||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=fg(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,o=t.tr.insert(a,s.createAndFill());o.setSelection(Xt.create(o.doc,a+1)),e(o.scrollIntoView())}return!0},nx=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Qs(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&AA(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function G6(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof jt&&e.selection.node.isBlock)return!r.parentOffset||!Qs(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,o,A=!1,u=!1;for(let d=r.depth;;d--)if(r.node(d).isBlock){A=r.end(d)==r.pos+(r.depth-d),u=r.start(d)==r.pos-(r.depth-d),o=fg(r.node(d-1).contentMatchAt(r.indexAfter(d-1))),s.unshift(A&&o?{type:o}:null),a=d;break}else{if(d==1)return!1;s.unshift(null)}let l=e.tr;(e.selection instanceof Xt||e.selection instanceof Bi)&&l.deleteSelection();let c=l.mapping.map(r.pos),f=Qs(l.doc,c,s.length,s);if(f||(s[0]=o?{type:o}:null,f=Qs(l.doc,c,s.length,s)),!f)return!1;if(l.split(c,s.length,s),!A&&u&&r.node(a).type!=o){let d=l.mapping.map(r.before(a)),w=l.doc.resolve(d);o&&r.node(a-1).canReplaceWith(w.index(),w.index()+1,o)&&l.setNodeMarkup(l.mapping.map(r.before(a)),o)}return n&&n(l.scrollIntoView()),!0}}const W6=G6(),$6=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(jt.create(t.doc,i))),!0)};function Y6(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||ya(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function rx(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,a,o,A=i.type.spec.isolating||s.type.spec.isolating;if(!A&&Y6(t,e,n))return!0;let u=!A&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(a=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(a[0]||s.type).validEnd){if(n){let d=e.pos+s.nodeSize,w=ot.empty;for(let N=a.length-1;N>=0;N--)w=ot.from(a[N].create(null,w));w=ot.from(i.copy(w));let T=t.tr.step(new Er(e.pos-1,d,e.pos,d,new Ct(w,1,0),a.length,!0)),D=T.doc.resolve(d+2*a.length);D.nodeAfter&&D.nodeAfter.type==i.type&&ya(T.doc,D.pos)&&T.join(D.pos),n(T.scrollIntoView())}return!0}let l=s.type.spec.isolating||r>0&&A?null:sn.findFrom(e,1),c=l&&l.$from.blockRange(l.$to),f=c&&AA(c);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(c,f).scrollIntoView()),!0;if(u&&Yo(s,"start",!0)&&Yo(i,"end")){let d=i,w=[];for(;w.push(d),!d.isTextblock;)d=d.lastChild;let T=s,D=1;for(;!T.isTextblock;T=T.firstChild)D++;if(d.canReplace(d.childCount,d.childCount,T.content)){if(n){let N=ot.empty;for(let q=w.length-1;q>=0;q--)N=ot.from(w[q].copy(N));let M=t.tr.step(new Er(e.pos-w.length,e.pos+s.nodeSize,e.pos+D,e.pos+s.nodeSize-D,new Ct(N,w.length,0),0,!0));n(M.scrollIntoView())}return!0}}return!1}function ix(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(Xt.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const X6=ix(-1),J6=ix(1);function Z6(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),o=a&&J0(a,t,e);return o?(r&&r(n.tr.wrap(a,o).scrollIntoView()),!0):!1}}function G1(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:o}}=n.selection.ranges[s];n.doc.nodesBetween(a,o,(A,u)=>{if(i)return!1;if(!(!A.isTextblock||A.hasMarkup(t,e)))if(A.type==t)i=!0;else{let l=n.doc.resolve(u),c=l.index();i=l.parent.canReplaceWith(c,c+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:o},$to:{pos:A}}=n.selection.ranges[a];s.setBlockType(o,A,t,e)}r(s.scrollIntoView())}return!0}}function dg(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}dg(ug,WB,YB);dg(ug,JB,ZB);dg(ex,tx,nx,W6);typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform&&os.platform()=="darwin";function eS(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s);if(!a)return!1;let o=r?n.tr:null;return tS(o,a,t,e)?(r&&r(o.scrollIntoView()),!0):!1}}function tS(t,e,n,r=null){let i=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let A=a.resolve(e.start-2);s=new Pc(A,A,e.depth),e.endIndex<e.parent.childCount&&(e=new Pc(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let o=J0(s,n,r,e);return o?(t&&nS(t,e,o,i,n),!0):!1}function nS(t,e,n,r,i){let s=ot.empty;for(let l=n.length-1;l>=0;l--)s=ot.from(n[l].type.create(n[l].attrs,s));t.step(new Er(e.start-(r?2:0),e.end,e.start,e.end,new Ct(s,0,0),n.length,!0));let a=0;for(let l=0;l<n.length;l++)n[l].type==i&&(a=l+1);let o=n.length-a,A=e.start+n.length-(r?2:0),u=e.parent;for(let l=e.startIndex,c=e.endIndex,f=!0;l<c;l++,f=!1)!f&&Qs(t.doc,A,o)&&(t.split(A,o),A+=2*o),A+=u.child(l).nodeSize;return t}function rS(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?iS(e,n,t,s):sS(e,n,s):!0:!1}}function iS(t,e,n,r){let i=t.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new Er(s-1,a,s,a,new Ct(ot.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Pc(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const o=AA(r);if(o==null)return!1;i.lift(r,o);let A=i.doc.resolve(i.mapping.map(s,-1)-1);return ya(i.doc,A.pos)&&A.nodeBefore.type==A.nodeAfter.type&&i.join(A.pos),e(i.scrollIntoView()),!0}function sS(t,e,n){let r=t.tr,i=n.parent;for(let d=n.end,w=n.endIndex-1,T=n.startIndex;w>T;w--)d-=i.child(w).nodeSize,r.delete(d-1,d+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let o=n.startIndex==0,A=n.endIndex==i.childCount,u=s.node(-1),l=s.index(-1);if(!u.canReplace(l+(o?0:1),l+1,a.content.append(A?ot.empty:ot.from(i))))return!1;let c=s.pos,f=c+a.nodeSize;return r.step(new Er(c-(o?1:0),f+(A?1:0),c+1,f-1,new Ct((o?ot.empty:ot.from(i.copy(ot.empty))).append(A?ot.empty:ot.from(i.copy(ot.empty))),o?0:1,A?0:1),o?0:1)),e(r.scrollIntoView()),!0}function aS(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let o=s.parent,A=o.child(a-1);if(A.type!=t)return!1;if(n){let u=A.lastChild&&A.lastChild.type==o.type,l=ot.from(u?t.create():null),c=new Ct(ot.from(t.create(null,ot.from(o.type.create(null,l)))),u?3:1,0),f=s.start,d=s.end;n(e.tr.step(new Er(f-(u?3:1),d,f,d,c,1,!0)).scrollIntoView())}return!0}}function td(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return _t(Ie({},e),{apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}})}class nd{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([o,A])=>[o,(...l)=>{const c=A(...l)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),c}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:a}=i,o=[],A=!!e,u=e||s.tr,l=()=>(!A&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(u),o.every(f=>f===!0)),c=_t(Ie({},Object.fromEntries(Object.entries(r).map(([f,d])=>[f,(...T)=>{const D=this.buildProps(u,n),N=d(...T)(D);return o.push(N),c}]))),{run:l});return c}createCan(e){const{rawCommands:n,state:r}=this,i=!1,s=e||r.tr,a=this.buildProps(s,i),o=Object.fromEntries(Object.entries(n).map(([A,u])=>[A,(...l)=>u(...l)(_t(Ie({},a),{dispatch:void 0}))]));return _t(Ie({},o),{chain:()=>this.createChain(s,i)})}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:a}=i,o={tr:e,editor:i,view:a,state:td({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([A,u])=>[A,(...l)=>u(...l)(o)]))}};return o}}class oS{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}once(e,n){const r=(...i)=>{this.off(e,r),n.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function Ot(t,e,n){return t.config[e]===void 0&&t.parent?Ot(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind(_t(Ie({},n),{parent:t.parent?Ot(t.parent,e,n):null})):t.config[e]}function rd(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function sx(t){const e=[],{nodeExtensions:n,markExtensions:r}=rd(t),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const o={name:a.name,options:a.options,storage:a.storage,extensions:i},A=Ot(a,"addGlobalAttributes",o);if(!A)return;A().forEach(l=>{l.types.forEach(c=>{Object.entries(l.attributes).forEach(([f,d])=>{e.push({type:c,name:f,attribute:Ie(Ie({},s),d)})})})})}),i.forEach(a=>{const o={name:a.name,options:a.options,storage:a.storage},A=Ot(a,"addAttributes",o);if(!A)return;const u=A();Object.entries(u).forEach(([l,c])=>{const f=Ie(Ie({},s),c);typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:a.name,name:l,attribute:f})})}),e}function vr(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function pr(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r=Ie({},e);return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const o=s?String(s).split(" "):[],A=r[i]?r[i].split(" "):[],u=o.filter(l=>!A.includes(l));r[i]=[...A,...u].join(" ")}else if(i==="style"){const o=s?s.split(";").map(l=>l.trim()).filter(Boolean):[],A=r[i]?r[i].split(";").map(l=>l.trim()).filter(Boolean):[],u=new Map;A.forEach(l=>{const[c,f]=l.split(":").map(d=>d.trim());u.set(c,f)}),o.forEach(l=>{const[c,f]=l.split(":").map(d=>d.trim());u.set(c,f)}),r[i]=Array.from(u.entries()).map(([l,c])=>`${l}: ${c}`).join("; ")}else r[i]=s}),r},{})}function Op(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>pr(n,r),{})}function ax(t){return typeof t=="function"}function ln(t,e=void 0,...n){return ax(t)?e?t.bind(e)(...n):t(...n):t}function AS(t={}){return Object.keys(t).length===0&&t.constructor===Object}function uS(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function W1(t,e){return"style"in t?t:_t(Ie({},t),{getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,a)=>{const o=a.attribute.parseHTML?a.attribute.parseHTML(n):uS(n.getAttribute(a.name));return o==null?s:_t(Ie({},s),{[a.name]:o})},{});return Ie(Ie({},r),i)}})}function $1(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&AS(n)?!1:n!=null))}function lS(t,e){var n;const r=sx(t),{nodeExtensions:i,markExtensions:s}=rd(t),a=(n=i.find(u=>Ot(u,"topNode")))===null||n===void 0?void 0:n.name,o=Object.fromEntries(i.map(u=>{const l=r.filter(N=>N.type===u.name),c={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((N,M)=>{const q=Ot(M,"extendNodeSchema",c);return Ie(Ie({},N),q?q(u):{})},{}),d=$1(_t(Ie({},f),{content:ln(Ot(u,"content",c)),marks:ln(Ot(u,"marks",c)),group:ln(Ot(u,"group",c)),inline:ln(Ot(u,"inline",c)),atom:ln(Ot(u,"atom",c)),selectable:ln(Ot(u,"selectable",c)),draggable:ln(Ot(u,"draggable",c)),code:ln(Ot(u,"code",c)),whitespace:ln(Ot(u,"whitespace",c)),linebreakReplacement:ln(Ot(u,"linebreakReplacement",c)),defining:ln(Ot(u,"defining",c)),isolating:ln(Ot(u,"isolating",c)),attrs:Object.fromEntries(l.map(N=>{var M;return[N.name,{default:(M=N==null?void 0:N.attribute)===null||M===void 0?void 0:M.default}]}))})),w=ln(Ot(u,"parseHTML",c));w&&(d.parseDOM=w.map(N=>W1(N,l)));const T=Ot(u,"renderHTML",c);T&&(d.toDOM=N=>T({node:N,HTMLAttributes:Op(N,l)}));const D=Ot(u,"renderText",c);return D&&(d.toText=D),[u.name,d]})),A=Object.fromEntries(s.map(u=>{const l=r.filter(D=>D.type===u.name),c={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((D,N)=>{const M=Ot(N,"extendMarkSchema",c);return Ie(Ie({},D),M?M(u):{})},{}),d=$1(_t(Ie({},f),{inclusive:ln(Ot(u,"inclusive",c)),excludes:ln(Ot(u,"excludes",c)),group:ln(Ot(u,"group",c)),spanning:ln(Ot(u,"spanning",c)),code:ln(Ot(u,"code",c)),attrs:Object.fromEntries(l.map(D=>{var N;return[D.name,{default:(N=D==null?void 0:D.attribute)===null||N===void 0?void 0:N.default}]}))})),w=ln(Ot(u,"parseHTML",c));w&&(d.parseDOM=w.map(D=>W1(D,l)));const T=Ot(u,"renderHTML",c);return T&&(d.toDOM=D=>T({mark:D,HTMLAttributes:Op(D,l)})),[u.name,d]}));return new Gy({topNode:a,nodes:o,marks:A})}function rh(t,e){return e.nodes[t]||e.marks[t]||null}function Y1(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function hg(t,e){const n=lo.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}const cS=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,a,o)=>{var A,u;const l=((u=(A=i.type.spec).toText)===null||u===void 0?void 0:u.call(A,{node:i,pos:s,parent:a,index:o}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?l:l.slice(0,Math.max(0,r-s))}),n};function pg(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class id{constructor(e){this.find=e.find,this.handler=e.handler}}const fS=(t,e)=>{if(pg(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Il(t){var e;const{editor:n,from:r,to:i,text:s,rules:a,plugin:o}=t,{view:A}=n;if(A.composing)return!1;const u=A.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let l=!1;const c=cS(u)+s;return a.forEach(f=>{if(l)return;const d=fS(c,f.find);if(!d)return;const w=A.state.tr,T=td({state:A.state,transaction:w}),D={from:r-(d[0].length-s.length),to:i},{commands:N,chain:M,can:q}=new nd({editor:n,state:T});f.handler({state:T,range:D,match:d,commands:N,chain:M,can:q})===null||!w.steps.length||(w.setMeta(o,{transform:w,from:r,to:i,text:s}),A.dispatch(w),l=!0)}),l}function dS(t){const{editor:e,rules:n}=t,r=new gr({state:{init(){return null},apply(i,s,a){const o=i.getMeta(r);if(o)return o;const A=i.getMeta("applyInputRules");return!!A&&setTimeout(()=>{let{text:l}=A;typeof l=="string"?l=l:l=hg(ot.from(l),a.schema);const{from:c}=A,f=c+l.length;Il({editor:e,from:c,to:f,text:l,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,o){return Il({editor:e,from:s,to:a,text:o,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Il({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?Il({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function hS(t){return Object.prototype.toString.call(t).slice(8,-1)}function kl(t){return hS(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function sd(t,e){const n=Ie({},t);return kl(t)&&kl(e)&&Object.keys(e).forEach(r=>{kl(e[r])&&kl(t[r])?n[r]=sd(t[r],e[r]):n[r]=e[r]}),n}class ps{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=Ie(Ie({},this.config),e),this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ln(Ot(this,"addOptions",{name:this.name}))),this.storage=ln(Ot(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ps(e)}configure(e={}){const n=this.extend(_t(Ie({},this.config),{addOptions:()=>sd(this.options,e)}));return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new ps(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ln(Ot(n,"addOptions",{name:n.name})),n.storage=ln(Ot(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const A=a.find(u=>(u==null?void 0:u.type.name)===n.name);return A&&r.removeStoredMark(A),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function pS(t){return typeof t=="number"}class gS{constructor(e){this.find=e.find,this.handler=e.handler}}const mS=(t,e,n)=>{if(pg(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function bS(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:a,dropEvent:o}=t,{commands:A,chain:u,can:l}=new nd({editor:e,state:n}),c=[];return n.doc.nodesBetween(r,i,(d,w)=>{if(!d.isTextblock||d.type.spec.code)return;const T=Math.max(r,w),D=Math.min(i,w+d.content.size),N=d.textBetween(T-w,D-w,void 0,"");mS(N,s.find,a).forEach(q=>{if(q.index===void 0)return;const j=T+q.index+1,J=j+q[0].length,H={from:n.tr.mapping.map(j),to:n.tr.mapping.map(J)},ve=s.handler({state:n,range:H,match:q,commands:A,chain:u,can:l,pasteEvent:a,dropEvent:o});c.push(ve)})}),c.every(d=>d!==null)}let Fl=null;const wS=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function yS(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,a=typeof ClipboardEvent!="undefined"?new ClipboardEvent("paste"):null,o;try{o=typeof DragEvent!="undefined"?new DragEvent("drop"):null}catch(l){o=null}const A=({state:l,from:c,to:f,rule:d,pasteEvt:w})=>{const T=l.tr,D=td({state:l,transaction:T});if(!(!bS({editor:e,state:D,from:Math.max(c-1,0),to:f.b-1,rule:d,pasteEvent:w,dropEvent:o})||!T.steps.length)){try{o=typeof DragEvent!="undefined"?new DragEvent("drop"):null}catch(M){o=null}return a=typeof ClipboardEvent!="undefined"?new ClipboardEvent("paste"):null,T}};return n.map(l=>new gr({view(c){const f=w=>{var T;r=!((T=c.dom.parentElement)===null||T===void 0)&&T.contains(w.target)?c.dom.parentElement:null,r&&(Fl=e)},d=()=>{Fl&&(Fl=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",d),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",d)}}},props:{handleDOMEvents:{drop:(c,f)=>{if(s=r===c.dom.parentElement,o=f,!s){const d=Fl;d!=null&&d.isEditable&&setTimeout(()=>{const w=d.state.selection;w&&d.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(c,f)=>{var d;const w=(d=f.clipboardData)===null||d===void 0?void 0:d.getData("text/html");return a=f,i=!!(w!=null&&w.includes("data-pm-slice")),!1}}},appendTransaction:(c,f,d)=>{const w=c[0],T=w.getMeta("uiEvent")==="paste"&&!i,D=w.getMeta("uiEvent")==="drop"&&!s,N=w.getMeta("applyPasteRules"),M=!!N;if(!T&&!D&&!M)return;if(M){let{text:J}=N;typeof J=="string"?J=J:J=hg(ot.from(J),d.schema);const{from:H}=N,ve=H+J.length,De=wS(J);return A({rule:l,state:d,from:H,to:{b:ve},pasteEvt:De})}const q=f.doc.content.findDiffStart(d.doc.content),j=f.doc.content.findDiffEnd(d.doc.content);if(!(!pS(q)||!j||q===j.b))return A({rule:l,state:d,from:q,to:j,pasteEvt:a})}}))}function BS(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class Mo{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Mo.resolve(e),this.schema=lS(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Mo.sort(Mo.flatten(e)),r=BS(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=Ot(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=Ot(r,"priority")||100,a=Ot(i,"priority")||100;return s>a?-1:s<a?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:rh(n.name,this.schema)},i=Ot(n,"addCommands",r);return i?Ie(Ie({},e),i()):e},{})}get plugins(){const{editor:e}=this,n=Mo.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(a=>{const o={name:a.name,options:a.options,storage:a.storage,editor:e,type:rh(a.name,this.schema)},A=[],u=Ot(a,"addKeyboardShortcuts",o);let l={};if(a.type==="mark"&&Ot(a,"exitable",o)&&(l.ArrowRight=()=>ps.handleExit({editor:e,mark:a})),u){const T=Object.fromEntries(Object.entries(u()).map(([D,N])=>[D,()=>N({editor:e})]));l=Ie(Ie({},l),T)}const c=P6(l);A.push(c);const f=Ot(a,"addInputRules",o);Y1(a,e.options.enableInputRules)&&f&&r.push(...f());const d=Ot(a,"addPasteRules",o);Y1(a,e.options.enablePasteRules)&&d&&i.push(...d());const w=Ot(a,"addProseMirrorPlugins",o);if(w){const T=w();A.push(...T)}return A}).flat();return[dS({editor:e,rules:r}),...yS({editor:e,rules:i}),...s]}get attributes(){return sx(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=rd(this.extensions);return Object.fromEntries(n.filter(r=>!!Ot(r,"addNodeView")).map(r=>{const i=this.attributes.filter(A=>A.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:vr(r.name,this.schema)},a=Ot(r,"addNodeView",s);if(!a)return[];const o=(A,u,l,c,f)=>{const d=Op(A,i);return a()({node:A,view:u,getPos:l,decorations:c,innerDecorations:f,editor:e,extension:r,HTMLAttributes:d})};return[r.name,o]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:rh(e.name,this.schema)};e.type==="mark"&&(!((n=ln(Ot(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=Ot(e,"onBeforeCreate",r),s=Ot(e,"onCreate",r),a=Ot(e,"onUpdate",r),o=Ot(e,"onSelectionUpdate",r),A=Ot(e,"onTransaction",r),u=Ot(e,"onFocus",r),l=Ot(e,"onBlur",r),c=Ot(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),o&&this.editor.on("selectionUpdate",o),A&&this.editor.on("transaction",A),u&&this.editor.on("focus",u),l&&this.editor.on("blur",l),c&&this.editor.on("destroy",c)})}}class Tr{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=Ie(Ie({},this.config),e),this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ln(Ot(this,"addOptions",{name:this.name}))),this.storage=ln(Ot(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Tr(e)}configure(e={}){const n=this.extend(_t(Ie({},this.config),{addOptions:()=>sd(this.options,e)}));return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Tr(Ie(Ie({},this.config),e));return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ln(Ot(n,"addOptions",{name:n.name})),n.storage=ln(Ot(n,"addStorage",{name:n.name,options:n.options})),n}}function ox(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let o="";return t.nodesBetween(r,i,(A,u,l,c)=>{var f;A.isBlock&&u>r&&(o+=s);const d=a==null?void 0:a[A.type.name];if(d)return l&&(o+=d({node:A,pos:u,parent:l,index:c,range:e})),!1;A.isText&&(o+=(f=A==null?void 0:A.text)===null||f===void 0?void 0:f.slice(Math.max(r,u)-u,i-u))}),o}function Ax(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const xS=Tr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new gr({key:new ii("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,a=Math.min(...s.map(l=>l.$from.pos)),o=Math.max(...s.map(l=>l.$to.pos)),A=Ax(n);return ox(r,{from:a,to:o},_t(Ie({},this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{}),{textSerializers:A}))}}})]}}),ES=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),CS=(t=!1)=>({commands:e})=>e.setContent("",t),vS=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:a})=>{t.doc.nodesBetween(s.pos,a.pos,(o,A)=>{if(o.type.isText)return;const{doc:u,mapping:l}=e,c=u.resolve(l.map(A)),f=u.resolve(l.map(A+o.nodeSize)),d=c.blockRange(f);if(!d)return;const w=AA(d);if(o.type.isTextblock){const{defaultType:T}=c.parent.contentMatchAt(c.index());e.setNodeMarkup(d.start,T)}(w||w===0)&&e.lift(d,w)})}),!0},TS=t=>e=>t(e),SS=()=>({state:t,dispatch:e})=>tx(t,e),IS=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,s.content),r.setSelection(new Xt(r.doc.resolve(Math.max(a-1,0)))),!0},kS=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const o=i.before(s),A=i.after(s);t.delete(o,A).scrollIntoView()}return!0}return!1},FS=t=>({tr:e,state:n,dispatch:r})=>{const i=vr(t,n.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){const A=s.before(a),u=s.after(a);e.delete(A,u).scrollIntoView()}return!0}return!1},NS=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},US=()=>({state:t,dispatch:e})=>ug(t,e),LS=()=>({commands:t})=>t.keyboardShortcut("Enter"),OS=()=>({state:t,dispatch:e})=>q6(t,e);function Wc(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:pg(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function ux(t,e,n={}){return t.find(r=>r.type===e&&Wc(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function X1(t,e,n={}){return!!ux(t,e,n)}function gg(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(l=>l.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(l=>l.type===e)||(n=n||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!ux([...i.node.marks],e,n)))return;let a=i.index,o=t.start()+i.offset,A=a+1,u=o+i.node.nodeSize;for(;a>0&&X1([...t.parent.child(a-1).marks],e,n);)a-=1,o-=t.parent.child(a).nodeSize;for(;A<t.parent.childCount&&X1([...t.parent.child(A).marks],e,n);)u+=t.parent.child(A).nodeSize,A+=1;return{from:o,to:u}}function xa(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const _S=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=xa(t,r.schema),{doc:a,selection:o}=n,{$from:A,from:u,to:l}=o;if(i){const c=gg(A,s,e);if(c&&c.from<=u&&c.to>=l){const f=Xt.create(a,c.from,c.to);n.setSelection(f)}}return!0},DS=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function mg(t){return t instanceof Xt}function Ds(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function lx(t,e=null){if(!e)return null;const n=sn.atStart(t),r=sn.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?Xt.create(t,Ds(0,i,s),Ds(t.content.size,i,s)):Xt.create(t,Ds(e,i,s),Ds(e,i,s))}function QS(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function bg(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const RS=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e=Ie({scrollIntoView:!0},e);const a=()=>{(bg()||QS())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!mg(n.state.selection))return a(),!0;const o=lx(i.doc,t)||n.state.selection,A=n.state.selection.eq(o);return s&&(A||i.setSelection(o),A&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},MS=(t,e)=>n=>t.every((r,i)=>e(r,_t(Ie({},n),{index:i}))),PS=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),cx=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&cx(r)}return t};function Nl(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return cx(n)}function Nu(t,e,n){if(t instanceof fa||t instanceof ot)return t;n=Ie({slice:!0,parseOptions:{}},n);const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ot.fromArray(t.map(o=>e.nodeFromJSON(o)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),Nu("",e,n)}if(i){if(n.errorOnInvalidContent){let a=!1,o="";const A=new Gy({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(a=!0,o=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?JA.fromSchema(A).parseSlice(Nl(t),n.parseOptions):JA.fromSchema(A).parse(Nl(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const s=JA.fromSchema(e);return n.slice?s.parseSlice(Nl(t),n.parseOptions).content:s.parse(Nl(t),n.parseOptions)}return Nu("",e,n)}function HS(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof yr||i instanceof Er))return;const s=t.mapping.maps[r];let a=0;s.forEach((o,A,u,l)=>{a===0&&(a=l)}),t.setSelection(sn.near(t.doc.resolve(a),n))}const jS=t=>!("type"in t),KS=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var a;if(i){n=Ie({parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1},n);let o;const A=D=>{s.emit("contentError",{editor:s,error:D,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},u=Ie({preserveWhitespace:"full"},n.parseOptions);if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Nu(e,s.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(D){A(D)}try{o=Nu(e,s.schema,{parseOptions:u,errorOnInvalidContent:(a=n.errorOnInvalidContent)!==null&&a!==void 0?a:s.options.enableContentCheck})}catch(D){return A(D),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,d=!0;if((jS(o)?o:[o]).forEach(D=>{D.check(),f=f?D.isText&&D.marks.length===0:!1,d=d?D.isBlock:!1}),l===c&&d){const{parent:D}=r.doc.resolve(l);D.isTextblock&&!D.type.spec.code&&!D.childCount&&(l-=1,c+=1)}let T;if(f){if(Array.isArray(e))T=e.map(D=>D.text||"").join("");else if(e instanceof ot){let D="";e.forEach(N=>{N.text&&(D+=N.text)}),T=D}else typeof e=="object"&&e&&e.text?T=e.text:T=e;r.insertText(T,l,c)}else T=o,r.replaceWith(l,c,T);n.updateSelection&&HS(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:T}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:T})}return!0},VS=()=>({state:t,dispatch:e})=>K6(t,e),zS=()=>({state:t,dispatch:e})=>V6(t,e),qS=()=>({state:t,dispatch:e})=>WB(t,e),GS=()=>({state:t,dispatch:e})=>JB(t,e),WS=()=>({state:t,dispatch:e,tr:n})=>{try{const r=$f(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch(r){return!1}},$S=()=>({state:t,dispatch:e,tr:n})=>{try{const r=$f(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch(r){return!1}},YS=()=>({state:t,dispatch:e})=>H6(t,e),XS=()=>({state:t,dispatch:e})=>j6(t,e);function fx(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function JS(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,a;for(let o=0;o<e.length-1;o+=1){const A=e[o];if(/^(cmd|meta|m)$/i.test(A))a=!0;else if(/^a(lt)?$/i.test(A))r=!0;else if(/^(c|ctrl|control)$/i.test(A))i=!0;else if(/^s(hift)?$/i.test(A))s=!0;else if(/^mod$/i.test(A))bg()||fx()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${A}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const ZS=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=JS(t).split(/-(?!$)/),a=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),o=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),A=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,o))});return A==null||A.steps.forEach(u=>{const l=u.map(r.mapping);l&&i&&r.maybeStep(l)}),!0};function Uu(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,a=e?vr(e,t.schema):null,o=[];t.doc.nodesBetween(r,i,(c,f)=>{if(c.isText)return;const d=Math.max(r,f),w=Math.min(i,f+c.nodeSize);o.push({node:c,from:d,to:w})});const A=i-r,u=o.filter(c=>a?a.name===c.node.type.name:!0).filter(c=>Wc(c.node.attrs,n,{strict:!1}));return s?!!u.length:u.reduce((c,f)=>c+f.to-f.from,0)>=A}const eI=(t,e={})=>({state:n,dispatch:r})=>{const i=vr(t,n.schema);return Uu(n,i,e)?z6(n,r):!1},tI=()=>({state:t,dispatch:e})=>nx(t,e),nI=t=>({state:e,dispatch:n})=>{const r=vr(t,e.schema);return rS(r)(e,n)},rI=()=>({state:t,dispatch:e})=>ex(t,e);function ad(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function J1(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const iI=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const o=ad(typeof t=="string"?t:t.name,r.schema);return o?(o==="node"&&(s=vr(t,r.schema)),o==="mark"&&(a=xa(t,r.schema)),i&&n.selection.ranges.forEach(A=>{r.doc.nodesBetween(A.$from.pos,A.$to.pos,(u,l)=>{s&&s===u.type&&n.setNodeMarkup(l,void 0,J1(u.attrs,e)),a&&u.marks.length&&u.marks.forEach(c=>{a===c.type&&n.addMark(l,l+u.nodeSize,a.create(J1(c.attrs,e)))})})}),!0):!1},sI=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),aI=()=>({tr:t,dispatch:e})=>{if(e){const n=new Bi(t.doc);t.setSelection(n)}return!0},oI=()=>({state:t,dispatch:e})=>YB(t,e),AI=()=>({state:t,dispatch:e})=>ZB(t,e),uI=()=>({state:t,dispatch:e})=>$6(t,e),lI=()=>({state:t,dispatch:e})=>J6(t,e),cI=()=>({state:t,dispatch:e})=>X6(t,e);function _p(t,e,n={},r={}){return Nu(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const fI=(t,e=!1,n={},r={})=>({editor:i,tr:s,dispatch:a,commands:o})=>{var A,u;const{doc:l}=s;if(n.preserveWhitespace!=="full"){const c=_p(t,i.schema,n,{errorOnInvalidContent:(A=r.errorOnInvalidContent)!==null&&A!==void 0?A:i.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!e),!0}return a&&s.setMeta("preventUpdate",!e),o.insertContentAt({from:0,to:l.content.size},t,{parseOptions:n,errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck})};function dx(t,e){const n=xa(e,t.schema),{from:r,to:i,empty:s}=t.selection,a=[];s?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,A=>{a.push(...A.marks)});const o=a.find(A=>A.type.name===n.name);return o?Ie({},o.attrs):{}}function dI(t,e){const n=new uB(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function hI(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function pI(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function gI(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function wg(t){return e=>gI(e.$from,t)}function mI(t,e){const n={from:0,to:t.content.size};return ox(t,n,e)}function bI(t,e){const n=vr(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,o=>{s.push(o)});const a=s.reverse().find(o=>o.type.name===n.name);return a?Ie({},a.attrs):{}}function hx(t,e){const n=ad(typeof e=="string"?e:e.name,t.schema);return n==="node"?bI(t,e):n==="mark"?dx(t,e):{}}function wI(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function yI(t){const e=wI(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function BI(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const a=[];if(i.ranges.length)i.forEach((o,A)=>{a.push({from:o,to:A})});else{const{from:o,to:A}=n[s];if(o===void 0||A===void 0)return;a.push({from:o,to:A})}a.forEach(({from:o,to:A})=>{const u=e.slice(s).map(o,-1),l=e.slice(s).map(A),c=e.invert().map(u,-1),f=e.invert().map(l);r.push({oldRange:{from:c,to:f},newRange:{from:u,to:l}})})}),yI(r)}function yg(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),a=gg(s,i.type);a&&r.push(Ie({mark:i},a))}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}function bc(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function Dp(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?xa(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(c=>s?s.name===c.type.name:!0).find(c=>Wc(c.attrs,n,{strict:!1}));let a=0;const o=[];if(i.forEach(({$from:c,$to:f})=>{const d=c.pos,w=f.pos;t.doc.nodesBetween(d,w,(T,D)=>{if(!T.isText&&!T.marks.length)return;const N=Math.max(d,D),M=Math.min(w,D+T.nodeSize),q=M-N;a+=q,o.push(...T.marks.map(j=>({mark:j,from:N,to:M})))})}),a===0)return!1;const A=o.filter(c=>s?s.name===c.mark.type.name:!0).filter(c=>Wc(c.mark.attrs,n,{strict:!1})).reduce((c,f)=>c+f.to-f.from,0),u=o.filter(c=>s?c.mark.type!==s&&c.mark.type.excludes(s):!0).reduce((c,f)=>c+f.to-f.from,0);return(A>0?A+u:A)>=a}function xI(t,e,n={}){if(!e)return Uu(t,null,n)||Dp(t,null,n);const r=ad(e,t.schema);return r==="node"?Uu(t,e,n):r==="mark"?Dp(t,e,n):!1}function Z1(t,e){const{nodeExtensions:n}=rd(e),r=n.find(a=>a.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=ln(Ot(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Bg(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(Bg(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function px(t){return t instanceof jt}function EI(t,e,n){const i=t.state.doc.content.size,s=Ds(e,0,i),a=Ds(n,0,i),o=t.coordsAtPos(s),A=t.coordsAtPos(a,-1),u=Math.min(o.top,A.top),l=Math.max(o.bottom,A.bottom),c=Math.min(o.left,A.left),f=Math.max(o.right,A.right),d=f-c,w=l-u,N={top:u,bottom:l,left:c,right:f,width:d,height:w,x:c,y:u};return _t(Ie({},N),{toJSON:()=>N})}function CI(t,e,n){var r;const{selection:i}=e;let s=null;if(mg(i)&&(s=i.$cursor),s){const o=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(o)||!o.some(A=>A.type.excludes(n))}const{ranges:a}=i;return a.some(({$from:o,$to:A})=>{let u=o.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(o.pos,A.pos,(l,c,f)=>{if(u)return!1;if(l.isInline){const d=!f||f.type.allowsMarkType(n),w=!!n.isInSet(l.marks)||!l.marks.some(T=>T.type.excludes(n));u=d&&w}return!u}),u})}const vI=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:a,ranges:o}=s,A=xa(t,r.schema);if(i)if(a){const u=dx(r,A);n.addStoredMark(A.create(Ie(Ie({},u),e)))}else o.forEach(u=>{const l=u.$from.pos,c=u.$to.pos;r.doc.nodesBetween(l,c,(f,d)=>{const w=Math.max(d,l),T=Math.min(d+f.nodeSize,c);f.marks.find(N=>N.type===A)?f.marks.forEach(N=>{A===N.type&&n.addMark(w,T,A.create(Ie(Ie({},N.attrs),e)))}):n.addMark(w,T,A.create(e))})});return CI(r,n,A)},TI=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),SI=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=vr(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:o})=>G1(s,Ie(Ie({},a),e))(n)?!0:o.clearNodes()).command(({state:o})=>G1(s,Ie(Ie({},a),e))(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},II=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Ds(t,0,r.content.size),s=jt.create(r,i);e.setSelection(s)}return!0},kI=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,a=Xt.atStart(r).from,o=Xt.atEnd(r).to,A=Ds(i,a,o),u=Ds(s,a,o),l=Xt.create(r,A,u);e.setSelection(l)}return!0},FI=t=>({state:e,dispatch:n})=>{const r=vr(t,e.schema);return aS(r)(e,n)};function e2(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const NI=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:a}=e,{$from:o,$to:A}=s,u=i.extensionManager.attributes,l=bc(u,o.node().type.name,o.node().attrs);if(s instanceof jt&&s.node.isBlock)return!o.parentOffset||!Qs(a,o.pos)?!1:(r&&(t&&e2(n,i.extensionManager.splittableMarks),e.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;const c=A.parentOffset===A.parent.content.size,f=o.depth===0?void 0:hI(o.node(-1).contentMatchAt(o.indexAfter(-1)));let d=c&&f?[{type:f,attrs:l}]:void 0,w=Qs(e.doc,e.mapping.map(o.pos),1,d);if(!d&&!w&&Qs(e.doc,e.mapping.map(o.pos),1,f?[{type:f}]:void 0)&&(w=!0,d=f?[{type:f,attrs:l}]:void 0),r){if(w&&(s instanceof Xt&&e.deleteSelection(),e.split(e.mapping.map(o.pos),1,d),f&&!c&&!o.parentOffset&&o.parent.type!==f)){const T=e.mapping.map(o.before()),D=e.doc.resolve(T);o.node(-1).canReplaceWith(D.index(),D.index()+1,f)&&e.setNodeMarkup(e.mapping.map(o.before()),f)}t&&e2(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return w},UI=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var a;const o=vr(t,r.schema),{$from:A,$to:u}=r.selection,l=r.selection.node;if(l&&l.isBlock||A.depth<2||!A.sameParent(u))return!1;const c=A.node(-1);if(c.type!==o)return!1;const f=s.extensionManager.attributes;if(A.parent.content.size===0&&A.node(-1).childCount===A.indexAfter(-1)){if(A.depth===2||A.node(-3).type!==o||A.index(-2)!==A.node(-2).childCount-1)return!1;if(i){let N=ot.empty;const M=A.index(-1)?1:A.index(-2)?2:3;for(let De=A.depth-M;De>=A.depth-3;De-=1)N=ot.from(A.node(De).copy(N));const q=A.indexAfter(-1)<A.node(-2).childCount?1:A.indexAfter(-2)<A.node(-3).childCount?2:3,j=Ie(Ie({},bc(f,A.node().type.name,A.node().attrs)),e),J=((a=o.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(j))||void 0;N=N.append(ot.from(o.createAndFill(null,J)||void 0));const H=A.before(A.depth-(M-1));n.replace(H,A.after(-q),new Ct(N,4-M,0));let ve=-1;n.doc.nodesBetween(H,n.doc.content.size,(De,Fe)=>{if(ve>-1)return!1;De.isTextblock&&De.content.size===0&&(ve=Fe+1)}),ve>-1&&n.setSelection(Xt.near(n.doc.resolve(ve))),n.scrollIntoView()}return!0}const d=u.pos===A.end()?c.contentMatchAt(0).defaultType:null,w=Ie(Ie({},bc(f,c.type.name,c.attrs)),e),T=Ie(Ie({},bc(f,A.node().type.name,A.node().attrs)),e);n.delete(A.pos,u.pos);const D=d?[{type:o,attrs:w},{type:d,attrs:T}]:[{type:o,attrs:w}];if(!Qs(n.doc,A.pos,2))return!1;if(i){const{selection:N,storedMarks:M}=r,{splittableMarks:q}=s.extensionManager,j=M||N.$to.parentOffset&&N.$from.marks();if(n.split(A.pos,2,D).scrollIntoView(),!j||!i)return!0;const J=j.filter(H=>q.includes(H.type.name));n.ensureMarks(J)}return!0},ih=(t,e)=>{const n=wg(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&ya(t.doc,n.pos)&&t.join(n.pos),!0},sh=(t,e)=>{const n=wg(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&ya(t.doc,r)&&t.join(r),!0},LI=(t,e,n,r={})=>({editor:i,tr:s,state:a,dispatch:o,chain:A,commands:u,can:l})=>{const{extensions:c,splittableMarks:f}=i.extensionManager,d=vr(t,a.schema),w=vr(e,a.schema),{selection:T,storedMarks:D}=a,{$from:N,$to:M}=T,q=N.blockRange(M),j=D||T.$to.parentOffset&&T.$from.marks();if(!q)return!1;const J=wg(H=>Z1(H.type.name,c))(T);if(q.depth>=1&&J&&q.depth-J.depth<=1){if(J.node.type===d)return u.liftListItem(w);if(Z1(J.node.type.name,c)&&d.validContent(J.node.content)&&o)return A().command(()=>(s.setNodeMarkup(J.pos,d),!0)).command(()=>ih(s,d)).command(()=>sh(s,d)).run()}return!n||!j||!o?A().command(()=>l().wrapInList(d,r)?!0:u.clearNodes()).wrapInList(d,r).command(()=>ih(s,d)).command(()=>sh(s,d)).run():A().command(()=>{const H=l().wrapInList(d,r),ve=j.filter(De=>f.includes(De.type.name));return s.ensureMarks(ve),H?!0:u.clearNodes()}).wrapInList(d,r).command(()=>ih(s,d)).command(()=>sh(s,d)).run()},OI=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,a=xa(t,r.schema);return Dp(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,e)},_I=(t,e,n={})=>({state:r,commands:i})=>{const s=vr(t,r.schema),a=vr(e,r.schema),o=Uu(r,s,n);let A;return r.selection.$anchor.sameParent(r.selection.$head)&&(A=r.selection.$anchor.parent.attrs),o?i.setNode(a,A):i.setNode(s,Ie(Ie({},A),n))},DI=(t,e={})=>({state:n,commands:r})=>{const i=vr(t,n.schema);return Uu(n,i,e)?r.lift(i):r.wrapIn(i,e)},QI=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const a=t.tr,o=s.transform;for(let A=o.steps.length-1;A>=0;A-=1)a.step(o.steps[A].invert(o.docs[A]));if(s.text){const A=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,t.schema.text(s.text,A))}else a.delete(s.from,s.to)}return!0}}return!1},RI=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},MI=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:o}=n,A=xa(t,r.schema),{$from:u,empty:l,ranges:c}=o;if(!i)return!0;if(l&&a){let{from:f,to:d}=o;const w=(s=u.marks().find(D=>D.type===A))===null||s===void 0?void 0:s.attrs,T=gg(u,A,w);T&&(f=T.from,d=T.to),n.removeMark(f,d,A)}else c.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,A)});return n.removeStoredMark(A),!0},PI=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const o=ad(typeof t=="string"?t:t.name,r.schema);return o?(o==="node"&&(s=vr(t,r.schema)),o==="mark"&&(a=xa(t,r.schema)),i&&n.selection.ranges.forEach(A=>{const u=A.$from.pos,l=A.$to.pos;let c,f,d,w;n.selection.empty?r.doc.nodesBetween(u,l,(T,D)=>{s&&s===T.type&&(d=Math.max(D,u),w=Math.min(D+T.nodeSize,l),c=D,f=T)}):r.doc.nodesBetween(u,l,(T,D)=>{D<u&&s&&s===T.type&&(d=Math.max(D,u),w=Math.min(D+T.nodeSize,l),c=D,f=T),D>=u&&D<=l&&(s&&s===T.type&&n.setNodeMarkup(D,void 0,Ie(Ie({},T.attrs),e)),a&&T.marks.length&&T.marks.forEach(N=>{if(a===N.type){const M=Math.max(D,u),q=Math.min(D+T.nodeSize,l);n.addMark(M,q,a.create(Ie(Ie({},N.attrs),e)))}}))}),f&&(c!==void 0&&n.setNodeMarkup(c,void 0,Ie(Ie({},f.attrs),e)),a&&f.marks.length&&f.marks.forEach(T=>{a===T.type&&n.addMark(d,w,a.create(Ie(Ie({},T.attrs),e)))}))}),!0):!1},HI=(t,e={})=>({state:n,dispatch:r})=>{const i=vr(t,n.schema);return Z6(i,e)(n,r)},jI=(t,e={})=>({state:n,dispatch:r})=>{const i=vr(t,n.schema);return eS(i,e)(n,r)};var KI=Object.freeze({__proto__:null,blur:ES,clearContent:CS,clearNodes:vS,command:TS,createParagraphNear:SS,cut:IS,deleteCurrentNode:kS,deleteNode:FS,deleteRange:NS,deleteSelection:US,enter:LS,exitCode:OS,extendMarkRange:_S,first:DS,focus:RS,forEach:MS,insertContent:PS,insertContentAt:KS,joinBackward:qS,joinDown:zS,joinForward:GS,joinItemBackward:WS,joinItemForward:$S,joinTextblockBackward:YS,joinTextblockForward:XS,joinUp:VS,keyboardShortcut:ZS,lift:eI,liftEmptyBlock:tI,liftListItem:nI,newlineInCode:rI,resetAttributes:iI,scrollIntoView:sI,selectAll:aI,selectNodeBackward:oI,selectNodeForward:AI,selectParentNode:uI,selectTextblockEnd:lI,selectTextblockStart:cI,setContent:fI,setMark:vI,setMeta:TI,setNode:SI,setNodeSelection:II,setTextSelection:kI,sinkListItem:FI,splitBlock:NI,splitListItem:UI,toggleList:LI,toggleMark:OI,toggleNode:_I,toggleWrap:DI,undoInputRule:QI,unsetAllMarks:RI,unsetMark:MI,updateAttributes:PI,wrapIn:HI,wrapInList:jI});const VI=Tr.create({name:"commands",addCommands(){return Ie({},KI)}}),zI=Tr.create({name:"drop",addProseMirrorPlugins(){return[new gr({key:new ii("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),qI=Tr.create({name:"editable",addProseMirrorPlugins(){return[new gr({key:new ii("editable"),props:{editable:()=>this.editor.options.editable}})]}}),GI=new ii("focusEvents"),WI=Tr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new gr({key:GI,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),$I=Tr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:o})=>{const{selection:A,doc:u}=o,{empty:l,$anchor:c}=A,{pos:f,parent:d}=c,w=c.parent.isTextblock&&f>0?o.doc.resolve(f-1):c,T=w.parent.type.spec.isolating,D=c.pos-c.parentOffset,N=T&&w.parent.childCount===1?D===c.pos:sn.atStart(u).from===f;return!l||!d.type.isTextblock||d.textContent.length||!N||N&&c.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i=Ie({},r),s=_t(Ie({},r),{"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return bg()||fx()?s:i},addProseMirrorPlugins(){return[new gr({key:new ii("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(T=>T.getMeta("composition")))return;const r=t.some(T=>T.docChanged)&&!e.doc.eq(n.doc),i=t.some(T=>T.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:a,to:o}=e.selection,A=sn.atStart(e.doc).from,u=sn.atEnd(e.doc).to;if(s||!(a===A&&o===u)||!Bg(n.doc))return;const f=n.tr,d=td({state:n,transaction:f}),{commands:w}=new nd({editor:this.editor,state:d});if(w.clearNodes(),!!f.steps.length)return f}})]}}),YI=Tr.create({name:"paste",addProseMirrorPlugins(){return[new gr({key:new ii("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),XI=Tr.create({name:"tabindex",addProseMirrorPlugins(){return[new gr({key:new ii("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Da{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Da(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Da(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Da(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+r+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const o=this.resolvedPos.doc.resolve(a);if(!i&&o.depth<=this.depth)return;const A=new Da(o,this.editor,i,i?n:null);i&&(A.actualDepth=this.depth+1),e.push(new Da(o,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,a=Object.keys(n);for(let o=0;o<a.length;o+=1){const A=a[o];if(s[A]!==n[A])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===e&&s.every(A=>n[A]===a.node.attrs[A])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,Ie(Ie({},this.node.attrs),e)),this.editor.view.dispatch(n)}}const JI=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function ZI(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class ek extends oS{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=ZI(JI,this.options.injectNonce))}setOptions(e={}){this.options=Ie(Ie({},this.options),e),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=ax(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const a=typeof s=="string"?`${s}$`:s.key;r=r.filter(o=>!o.key.startsWith(a))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[qI,xS.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),VI,WI,$I,XI,zI,YI].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Mo(i,this)}createCommandManager(){this.commandManager=new nd({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=_p(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(o=>o.name!=="collaboration"),this.createExtensionManager()}}),n=_p(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=lx(n,this.options.autofocus);this.view=new zB(this.options.element,_t(Ie({},this.options.editorProps),{attributes:Ie({role:"textbox"},(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes),dispatchTransaction:this.dispatchTransaction.bind(this),state:Ro.create({doc:n,selection:r||void 0})}));const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var o;return(o=this.capturedTransaction)===null||o===void 0?void 0:o.step(a)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return hx(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return xI(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return hg(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return mI(this.state.doc,{blockSeparator:n,textSerializers:Ie(Ie({},Ax(this.schema)),r)})}get isEmpty(){return Bg(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Da(n,this)}get $doc(){return this.$pos(0)}}function Xo(t){return new id({find:t.find,handler:({state:e,range:n,match:r})=>{const i=ln(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],o=r[0];if(a){const A=o.search(/\S/),u=n.from+o.indexOf(a),l=u+a.length;if(yg(n.from,n.to,e.doc).filter(d=>d.mark.type.excluded.find(T=>T===t.type&&T!==d.mark.type)).filter(d=>d.to>u).length)return null;l<n.to&&s.delete(l,n.to),u>n.from&&s.delete(n.from+A,u);const f=n.from+A+a.length;s.addMark(n.from+A,f,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function gx(t){return new id({find:t.find,handler:({state:e,range:n,match:r})=>{const i=ln(t.getAttributes,void 0,r)||{},{tr:s}=e,a=n.from;let o=n.to;const A=t.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let l=a+u;l>o?l=o:o=l+r[1].length;const c=r[0][r[0].length-1];s.insertText(c,a+r[0].length-1),s.replaceWith(l,o,A)}else if(r[0]){const u=t.type.isInline?a:a-1;s.insert(u,t.type.create(i)).delete(s.mapping.map(a),s.mapping.map(o))}s.scrollIntoView()}})}function Qp(t){return new id({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=ln(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function Lu(t){return new id({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=ln(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),A=a.doc.resolve(n.from).blockRange(),u=A&&J0(A,t.type,s);if(!u)return null;if(a.wrap(A,u),t.keepMarks&&t.editor){const{selection:c,storedMarks:f}=e,{splittableMarks:d}=t.editor.extensionManager,w=f||c.$to.parentOffset&&c.$from.marks();if(w){const T=w.filter(D=>d.includes(D.type.name));a.ensureMarks(T)}}if(t.keepAttributes){const c=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(c,s).run()}const l=a.doc.resolve(n.from-1).nodeBefore;l&&l.type===t.type&&ya(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,l))&&a.join(n.from-1)}})}let Mi=class Rp{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=Ie(Ie({},this.config),e),this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ln(Ot(this,"addOptions",{name:this.name}))),this.storage=ln(Ot(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Rp(e)}configure(e={}){const n=this.extend(_t(Ie({},this.config),{addOptions:()=>sd(this.options,e)}));return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Rp(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ln(Ot(n,"addOptions",{name:n.name})),n.storage=ln(Ot(n,"addStorage",{name:n.name,options:n.options})),n}};function oo(t){return new gS({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=ln(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:a}=e,o=r[r.length-1],A=r[0];let u=n.to;if(o){const l=A.search(/\S/),c=n.from+A.indexOf(o),f=c+o.length;if(yg(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(D=>D===t.type&&D!==w.mark.type)).filter(w=>w.to>c).length)return null;f<n.to&&a.delete(f,n.to),c>n.from&&a.delete(n.from+l,c),u=n.from+l+o.length,a.addMark(n.from+l,u,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}function tk(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof jt){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var ci="top",Qi="bottom",Ri="right",fi="left",xg="auto",Ju=[ci,Qi,Ri,fi],Jo="start",Ou="end",nk="clippingParents",mx="viewport",TA="popper",rk="reference",t2=Ju.reduce(function(t,e){return t.concat([e+"-"+Jo,e+"-"+Ou])},[]),bx=[].concat(Ju,[xg]).reduce(function(t,e){return t.concat([e,e+"-"+Jo,e+"-"+Ou])},[]),ik="beforeRead",sk="read",ak="afterRead",ok="beforeMain",Ak="main",uk="afterMain",lk="beforeWrite",ck="write",fk="afterWrite",dk=[ik,sk,ak,ok,Ak,uk,lk,ck,fk];function gs(t){return t?(t.nodeName||"").toLowerCase():null}function Ei(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ao(t){var e=Ei(t).Element;return t instanceof e||t instanceof Element}function Di(t){var e=Ei(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Eg(t){if(typeof ShadowRoot=="undefined")return!1;var e=Ei(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function hk(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Di(s)||!gs(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var o=i[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function pk(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),o=a.reduce(function(A,u){return A[u]="",A},{});!Di(i)||!gs(i)||(Object.assign(i.style,o),Object.keys(s).forEach(function(A){i.removeAttribute(A)}))})}}const wx={name:"applyStyles",enabled:!0,phase:"write",fn:hk,effect:pk,requires:["computeStyles"]};function fs(t){return t.split("-")[0]}var Ja=Math.max,$c=Math.min,Zo=Math.round;function Mp(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function yx(){return!/^((?!chrome|android).)*safari/i.test(Mp())}function eA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Di(t)&&(i=t.offsetWidth>0&&Zo(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Zo(r.height)/t.offsetHeight||1);var a=Ao(t)?Ei(t):window,o=a.visualViewport,A=!yx()&&n,u=(r.left+(A&&o?o.offsetLeft:0))/i,l=(r.top+(A&&o?o.offsetTop:0))/s,c=r.width/i,f=r.height/s;return{width:c,height:f,top:l,right:u+c,bottom:l+f,left:u,x:u,y:l}}function Cg(t){var e=eA(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Bx(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Eg(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ps(t){return Ei(t).getComputedStyle(t)}function gk(t){return["table","td","th"].indexOf(gs(t))>=0}function Ea(t){return((Ao(t)?t.ownerDocument:t.document)||window.document).documentElement}function od(t){return gs(t)==="html"?t:t.assignedSlot||t.parentNode||(Eg(t)?t.host:null)||Ea(t)}function n2(t){return!Di(t)||Ps(t).position==="fixed"?null:t.offsetParent}function mk(t){var e=/firefox/i.test(Mp()),n=/Trident/i.test(Mp());if(n&&Di(t)){var r=Ps(t);if(r.position==="fixed")return null}var i=od(t);for(Eg(i)&&(i=i.host);Di(i)&&["html","body"].indexOf(gs(i))<0;){var s=Ps(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Zu(t){for(var e=Ei(t),n=n2(t);n&&gk(n)&&Ps(n).position==="static";)n=n2(n);return n&&(gs(n)==="html"||gs(n)==="body"&&Ps(n).position==="static")?e:n||mk(t)||e}function vg(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function nu(t,e,n){return Ja(t,$c(e,n))}function bk(t,e,n){var r=nu(t,e,n);return r>n?n:r}function xx(){return{top:0,right:0,bottom:0,left:0}}function Ex(t){return Object.assign({},xx(),t)}function Cx(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var wk=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Ex(typeof e!="number"?e:Cx(e,Ju))};function yk(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,o=fs(n.placement),A=vg(o),u=[fi,Ri].indexOf(o)>=0,l=u?"height":"width";if(!(!s||!a)){var c=wk(i.padding,n),f=Cg(s),d=A==="y"?ci:fi,w=A==="y"?Qi:Ri,T=n.rects.reference[l]+n.rects.reference[A]-a[A]-n.rects.popper[l],D=a[A]-n.rects.reference[A],N=Zu(s),M=N?A==="y"?N.clientHeight||0:N.clientWidth||0:0,q=T/2-D/2,j=c[d],J=M-f[l]-c[w],H=M/2-f[l]/2+q,ve=nu(j,H,J),De=A;n.modifiersData[r]=(e={},e[De]=ve,e.centerOffset=ve-H,e)}}function Bk(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Bx(e.elements.popper,i)&&(e.elements.arrow=i))}const xk={name:"arrow",enabled:!0,phase:"main",fn:yk,effect:Bk,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function tA(t){return t.split("-")[1]}var Ek={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ck(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Zo(n*i)/i||0,y:Zo(r*i)/i||0}}function r2(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,a=t.offsets,o=t.position,A=t.gpuAcceleration,u=t.adaptive,l=t.roundOffsets,c=t.isFixed,f=a.x,d=f===void 0?0:f,w=a.y,T=w===void 0?0:w,D=typeof l=="function"?l({x:d,y:T}):{x:d,y:T};d=D.x,T=D.y;var N=a.hasOwnProperty("x"),M=a.hasOwnProperty("y"),q=fi,j=ci,J=window;if(u){var H=Zu(n),ve="clientHeight",De="clientWidth";if(H===Ei(n)&&(H=Ea(n),Ps(H).position!=="static"&&o==="absolute"&&(ve="scrollHeight",De="scrollWidth")),H=H,i===ci||(i===fi||i===Ri)&&s===Ou){j=Qi;var Fe=c&&H===J&&J.visualViewport?J.visualViewport.height:H[ve];T-=Fe-r.height,T*=A?1:-1}if(i===fi||(i===ci||i===Qi)&&s===Ou){q=Ri;var me=c&&H===J&&J.visualViewport?J.visualViewport.width:H[De];d-=me-r.width,d*=A?1:-1}}var qe=Object.assign({position:o},u&&Ek),Me=l===!0?Ck({x:d,y:T},Ei(n)):{x:d,y:T};if(d=Me.x,T=Me.y,A){var Ke;return Object.assign({},qe,(Ke={},Ke[j]=M?"0":"",Ke[q]=N?"0":"",Ke.transform=(J.devicePixelRatio||1)<=1?"translate("+d+"px, "+T+"px)":"translate3d("+d+"px, "+T+"px, 0)",Ke))}return Object.assign({},qe,(e={},e[j]=M?T+"px":"",e[q]=N?d+"px":"",e.transform="",e))}function vk(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,a=s===void 0?!0:s,o=n.roundOffsets,A=o===void 0?!0:o,u={placement:fs(e.placement),variation:tA(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,r2(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:A})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,r2(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:A})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Tk={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:vk,data:{}};var Ul={passive:!0};function Sk(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,o=a===void 0?!0:a,A=Ei(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(l){l.addEventListener("scroll",n.update,Ul)}),o&&A.addEventListener("resize",n.update,Ul),function(){s&&u.forEach(function(l){l.removeEventListener("scroll",n.update,Ul)}),o&&A.removeEventListener("resize",n.update,Ul)}}const Ik={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Sk,data:{}};var kk={left:"right",right:"left",bottom:"top",top:"bottom"};function wc(t){return t.replace(/left|right|bottom|top/g,function(e){return kk[e]})}var Fk={start:"end",end:"start"};function i2(t){return t.replace(/start|end/g,function(e){return Fk[e]})}function Tg(t){var e=Ei(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Sg(t){return eA(Ea(t)).left+Tg(t).scrollLeft}function Nk(t,e){var n=Ei(t),r=Ea(t),i=n.visualViewport,s=r.clientWidth,a=r.clientHeight,o=0,A=0;if(i){s=i.width,a=i.height;var u=yx();(u||!u&&e==="fixed")&&(o=i.offsetLeft,A=i.offsetTop)}return{width:s,height:a,x:o+Sg(t),y:A}}function Uk(t){var e,n=Ea(t),r=Tg(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Ja(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Ja(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+Sg(t),A=-r.scrollTop;return Ps(i||n).direction==="rtl"&&(o+=Ja(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:A}}function Ig(t){var e=Ps(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function vx(t){return["html","body","#document"].indexOf(gs(t))>=0?t.ownerDocument.body:Di(t)&&Ig(t)?t:vx(od(t))}function ru(t,e){var n;e===void 0&&(e=[]);var r=vx(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Ei(r),a=i?[s].concat(s.visualViewport||[],Ig(r)?r:[]):r,o=e.concat(a);return i?o:o.concat(ru(od(a)))}function Pp(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Lk(t,e){var n=eA(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function s2(t,e,n){return e===mx?Pp(Nk(t,n)):Ao(e)?Lk(e,n):Pp(Uk(Ea(t)))}function Ok(t){var e=ru(od(t)),n=["absolute","fixed"].indexOf(Ps(t).position)>=0,r=n&&Di(t)?Zu(t):t;return Ao(r)?e.filter(function(i){return Ao(i)&&Bx(i,r)&&gs(i)!=="body"}):[]}function _k(t,e,n,r){var i=e==="clippingParents"?Ok(t):[].concat(e),s=[].concat(i,[n]),a=s[0],o=s.reduce(function(A,u){var l=s2(t,u,r);return A.top=Ja(l.top,A.top),A.right=$c(l.right,A.right),A.bottom=$c(l.bottom,A.bottom),A.left=Ja(l.left,A.left),A},s2(t,a,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Tx(t){var e=t.reference,n=t.element,r=t.placement,i=r?fs(r):null,s=r?tA(r):null,a=e.x+e.width/2-n.width/2,o=e.y+e.height/2-n.height/2,A;switch(i){case ci:A={x:a,y:e.y-n.height};break;case Qi:A={x:a,y:e.y+e.height};break;case Ri:A={x:e.x+e.width,y:o};break;case fi:A={x:e.x-n.width,y:o};break;default:A={x:e.x,y:e.y}}var u=i?vg(i):null;if(u!=null){var l=u==="y"?"height":"width";switch(s){case Jo:A[u]=A[u]-(e[l]/2-n[l]/2);break;case Ou:A[u]=A[u]+(e[l]/2-n[l]/2);break}}return A}function _u(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,a=s===void 0?t.strategy:s,o=n.boundary,A=o===void 0?nk:o,u=n.rootBoundary,l=u===void 0?mx:u,c=n.elementContext,f=c===void 0?TA:c,d=n.altBoundary,w=d===void 0?!1:d,T=n.padding,D=T===void 0?0:T,N=Ex(typeof D!="number"?D:Cx(D,Ju)),M=f===TA?rk:TA,q=t.rects.popper,j=t.elements[w?M:f],J=_k(Ao(j)?j:j.contextElement||Ea(t.elements.popper),A,l,a),H=eA(t.elements.reference),ve=Tx({reference:H,element:q,placement:i}),De=Pp(Object.assign({},q,ve)),Fe=f===TA?De:H,me={top:J.top-Fe.top+N.top,bottom:Fe.bottom-J.bottom+N.bottom,left:J.left-Fe.left+N.left,right:Fe.right-J.right+N.right},qe=t.modifiersData.offset;if(f===TA&&qe){var Me=qe[i];Object.keys(me).forEach(function(Ke){var tt=[Ri,Qi].indexOf(Ke)>=0?1:-1,st=[ci,Qi].indexOf(Ke)>=0?"y":"x";me[Ke]+=Me[st]*tt})}return me}function Dk(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,o=n.flipVariations,A=n.allowedAutoPlacements,u=A===void 0?bx:A,l=tA(r),c=l?o?t2:t2.filter(function(w){return tA(w)===l}):Ju,f=c.filter(function(w){return u.indexOf(w)>=0});f.length===0&&(f=c);var d=f.reduce(function(w,T){return w[T]=_u(t,{placement:T,boundary:i,rootBoundary:s,padding:a})[fs(T)],w},{});return Object.keys(d).sort(function(w,T){return d[w]-d[T]})}function Qk(t){if(fs(t)===xg)return[];var e=wc(t);return[i2(t),e,i2(e)]}function Rk(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,o=a===void 0?!0:a,A=n.fallbackPlacements,u=n.padding,l=n.boundary,c=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,w=d===void 0?!0:d,T=n.allowedAutoPlacements,D=e.options.placement,N=fs(D),M=N===D,q=A||(M||!w?[wc(D)]:Qk(D)),j=[D].concat(q).reduce(function(vt,Kt){return vt.concat(fs(Kt)===xg?Dk(e,{placement:Kt,boundary:l,rootBoundary:c,padding:u,flipVariations:w,allowedAutoPlacements:T}):Kt)},[]),J=e.rects.reference,H=e.rects.popper,ve=new Map,De=!0,Fe=j[0],me=0;me<j.length;me++){var qe=j[me],Me=fs(qe),Ke=tA(qe)===Jo,tt=[ci,Qi].indexOf(Me)>=0,st=tt?"width":"height",gt=_u(e,{placement:qe,boundary:l,rootBoundary:c,altBoundary:f,padding:u}),mt=tt?Ke?Ri:fi:Ke?Qi:ci;J[st]>H[st]&&(mt=wc(mt));var yt=wc(mt),Ge=[];if(s&&Ge.push(gt[Me]<=0),o&&Ge.push(gt[mt]<=0,gt[yt]<=0),Ge.every(function(vt){return vt})){Fe=qe,De=!1;break}ve.set(qe,Ge)}if(De)for(var ne=w?3:1,Ft=function(Kt){var Nt=j.find(function(Mt){var Rt=ve.get(Mt);if(Rt)return Rt.slice(0,Kt).every(function(xn){return xn})});if(Nt)return Fe=Nt,"break"},Lt=ne;Lt>0;Lt--){var pe=Ft(Lt);if(pe==="break")break}e.placement!==Fe&&(e.modifiersData[r]._skip=!0,e.placement=Fe,e.reset=!0)}}const Mk={name:"flip",enabled:!0,phase:"main",fn:Rk,requiresIfExists:["offset"],data:{_skip:!1}};function a2(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function o2(t){return[ci,Ri,Qi,fi].some(function(e){return t[e]>=0})}function Pk(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=_u(e,{elementContext:"reference"}),o=_u(e,{altBoundary:!0}),A=a2(a,r),u=a2(o,i,s),l=o2(A),c=o2(u);e.modifiersData[n]={referenceClippingOffsets:A,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:c},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":c})}const Hk={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Pk};function jk(t,e,n){var r=fs(t),i=[fi,ci].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[fi,Ri].indexOf(r)>=0?{x:o,y:a}:{x:a,y:o}}function Kk(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,a=bx.reduce(function(l,c){return l[c]=jk(c,e.rects,s),l},{}),o=a[e.placement],A=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=A,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=a}const Vk={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Kk};function zk(t){var e=t.state,n=t.name;e.modifiersData[n]=Tx({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const qk={name:"popperOffsets",enabled:!0,phase:"read",fn:zk,data:{}};function Gk(t){return t==="x"?"y":"x"}function Wk(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,o=a===void 0?!1:a,A=n.boundary,u=n.rootBoundary,l=n.altBoundary,c=n.padding,f=n.tether,d=f===void 0?!0:f,w=n.tetherOffset,T=w===void 0?0:w,D=_u(e,{boundary:A,rootBoundary:u,padding:c,altBoundary:l}),N=fs(e.placement),M=tA(e.placement),q=!M,j=vg(N),J=Gk(j),H=e.modifiersData.popperOffsets,ve=e.rects.reference,De=e.rects.popper,Fe=typeof T=="function"?T(Object.assign({},e.rects,{placement:e.placement})):T,me=typeof Fe=="number"?{mainAxis:Fe,altAxis:Fe}:Object.assign({mainAxis:0,altAxis:0},Fe),qe=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Me={x:0,y:0};if(H){if(s){var Ke,tt=j==="y"?ci:fi,st=j==="y"?Qi:Ri,gt=j==="y"?"height":"width",mt=H[j],yt=mt+D[tt],Ge=mt-D[st],ne=d?-De[gt]/2:0,Ft=M===Jo?ve[gt]:De[gt],Lt=M===Jo?-De[gt]:-ve[gt],pe=e.elements.arrow,vt=d&&pe?Cg(pe):{width:0,height:0},Kt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:xx(),Nt=Kt[tt],Mt=Kt[st],Rt=nu(0,ve[gt],vt[gt]),xn=q?ve[gt]/2-ne-Rt-Nt-me.mainAxis:Ft-Rt-Nt-me.mainAxis,En=q?-ve[gt]/2+ne+Rt+Mt+me.mainAxis:Lt+Rt+Mt+me.mainAxis,Jt=e.elements.arrow&&Zu(e.elements.arrow),mn=Jt?j==="y"?Jt.clientTop||0:Jt.clientLeft||0:0,Gn=(Ke=qe==null?void 0:qe[j])!=null?Ke:0,Zn=mt+xn-Gn-mn,fr=mt+En-Gn,On=nu(d?$c(yt,Zn):yt,mt,d?Ja(Ge,fr):Ge);H[j]=On,Me[j]=On-mt}if(o){var kn,Qn=j==="x"?ci:fi,an=j==="x"?Qi:Ri,Vt=H[J],Dt=J==="y"?"height":"width",Yt=Vt+D[Qn],bn=Vt-D[an],zt=[ci,fi].indexOf(N)!==-1,An=(kn=qe==null?void 0:qe[J])!=null?kn:0,se=zt?Yt:Vt-ve[Dt]-De[Dt]-An+me.altAxis,Oe=zt?Vt+ve[Dt]+De[Dt]-An-me.altAxis:bn,We=d&&zt?bk(se,Vt,Oe):nu(d?se:Yt,Vt,d?Oe:bn);H[J]=We,Me[J]=We-Vt}e.modifiersData[r]=Me}}const $k={name:"preventOverflow",enabled:!0,phase:"main",fn:Wk,requiresIfExists:["offset"]};function Yk(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Xk(t){return t===Ei(t)||!Di(t)?Tg(t):Yk(t)}function Jk(t){var e=t.getBoundingClientRect(),n=Zo(e.width)/t.offsetWidth||1,r=Zo(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Zk(t,e,n){n===void 0&&(n=!1);var r=Di(e),i=Di(e)&&Jk(e),s=Ea(e),a=eA(t,i,n),o={scrollLeft:0,scrollTop:0},A={x:0,y:0};return(r||!r&&!n)&&((gs(e)!=="body"||Ig(s))&&(o=Xk(e)),Di(e)?(A=eA(e,!0),A.x+=e.clientLeft,A.y+=e.clientTop):s&&(A.x=Sg(s))),{x:a.left+o.scrollLeft-A.x,y:a.top+o.scrollTop-A.y,width:a.width,height:a.height}}function eF(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!n.has(o)){var A=e.get(o);A&&i(A)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function tF(t){var e=eF(t);return dk.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function nF(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function rF(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var A2={placement:"bottom",modifiers:[],strategy:"absolute"};function u2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function iF(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?A2:i;return function(o,A,u){u===void 0&&(u=s);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},A2,s),modifiersData:{},elements:{reference:o,popper:A},attributes:{},styles:{}},c=[],f=!1,d={state:l,setOptions:function(N){var M=typeof N=="function"?N(l.options):N;T(),l.options=Object.assign({},s,l.options,M),l.scrollParents={reference:Ao(o)?ru(o):o.contextElement?ru(o.contextElement):[],popper:ru(A)};var q=tF(rF([].concat(r,l.options.modifiers)));return l.orderedModifiers=q.filter(function(j){return j.enabled}),w(),d.update()},forceUpdate:function(){if(!f){var N=l.elements,M=N.reference,q=N.popper;if(u2(M,q)){l.rects={reference:Zk(M,Zu(q),l.options.strategy==="fixed"),popper:Cg(q)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(me){return l.modifiersData[me.name]=Object.assign({},me.data)});for(var j=0;j<l.orderedModifiers.length;j++){if(l.reset===!0){l.reset=!1,j=-1;continue}var J=l.orderedModifiers[j],H=J.fn,ve=J.options,De=ve===void 0?{}:ve,Fe=J.name;typeof H=="function"&&(l=H({state:l,options:De,name:Fe,instance:d})||l)}}}},update:nF(function(){return new Promise(function(D){d.forceUpdate(),D(l)})}),destroy:function(){T(),f=!0}};if(!u2(o,A))return d;d.setOptions(u).then(function(D){!f&&u.onFirstUpdate&&u.onFirstUpdate(D)});function w(){l.orderedModifiers.forEach(function(D){var N=D.name,M=D.options,q=M===void 0?{}:M,j=D.effect;if(typeof j=="function"){var J=j({state:l,name:N,instance:d,options:q}),H=function(){};c.push(J||H)}})}function T(){c.forEach(function(D){return D()}),c=[]}return d}}var sF=[Ik,qk,Tk,wx,Vk,Mk,$k,xk,Hk],aF=iF({defaultModifiers:sF}),oF="tippy-box",Sx="tippy-content",AF="tippy-backdrop",Ix="tippy-arrow",kx="tippy-svg-arrow",La={passive:!0,capture:!0},Fx=function(){return document.body};function ah(t,e,n){if(Array.isArray(t)){var r=t[e];return r==null?Array.isArray(n)?n[e]:n:r}return t}function kg(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function Nx(t,e){return typeof t=="function"?t.apply(void 0,e):t}function l2(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function uF(t){return t.split(/\s+/).filter(Boolean)}function Uo(t){return[].concat(t)}function c2(t,e){t.indexOf(e)===-1&&t.push(e)}function lF(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function cF(t){return t.split("-")[0]}function Yc(t){return[].slice.call(t)}function f2(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function iu(){return document.createElement("div")}function Ad(t){return["Element","Fragment"].some(function(e){return kg(t,e)})}function fF(t){return kg(t,"NodeList")}function dF(t){return kg(t,"MouseEvent")}function hF(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function pF(t){return Ad(t)?[t]:fF(t)?Yc(t):Array.isArray(t)?t:Yc(document.querySelectorAll(t))}function oh(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function d2(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function gF(t){var e,n=Uo(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function mF(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var s=i.popperRect,a=i.popperState,o=i.props,A=o.interactiveBorder,u=cF(a.placement),l=a.modifiersData.offset;if(!l)return!0;var c=u==="bottom"?l.top.y:0,f=u==="top"?l.bottom.y:0,d=u==="right"?l.left.x:0,w=u==="left"?l.right.x:0,T=s.top-r+c>A,D=r-s.bottom-f>A,N=s.left-n+d>A,M=n-s.right-w>A;return T||D||N||M})}function Ah(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function h2(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var ss={isTouch:!1},p2=0;function bF(){ss.isTouch||(ss.isTouch=!0,window.performance&&document.addEventListener("mousemove",Ux))}function Ux(){var t=performance.now();t-p2<20&&(ss.isTouch=!1,document.removeEventListener("mousemove",Ux)),p2=t}function wF(){var t=document.activeElement;if(hF(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function yF(){document.addEventListener("touchstart",bF,La),window.addEventListener("blur",wF)}var BF=typeof window!="undefined"&&typeof document!="undefined",xF=BF?!!window.msCrypto:!1,EF={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},CF={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},zi=Object.assign({appendTo:Fx,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},EF,CF),vF=Object.keys(zi),TF=function(e){var n=Object.keys(e);n.forEach(function(r){zi[r]=e[r]})};function Lx(t){var e=t.plugins||[],n=e.reduce(function(r,i){var s=i.name,a=i.defaultValue;if(s){var o;r[s]=t[s]!==void 0?t[s]:(o=zi[s])!=null?o:a}return r},{});return Object.assign({},t,n)}function SF(t,e){var n=e?Object.keys(Lx(Object.assign({},zi,{plugins:e}))):vF,r=n.reduce(function(i,s){var a=(t.getAttribute("data-tippy-"+s)||"").trim();if(!a)return i;if(s==="content")i[s]=a;else try{i[s]=JSON.parse(a)}catch(o){i[s]=a}return i},{});return r}function g2(t,e){var n=Object.assign({},e,{content:Nx(e.content,[t])},e.ignoreAttributes?{}:SF(t,e.plugins));return n.aria=Object.assign({},zi.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var IF=function(){return"innerHTML"};function Hp(t,e){t[IF()]=e}function m2(t){var e=iu();return t===!0?e.className=Ix:(e.className=kx,Ad(t)?e.appendChild(t):Hp(e,t)),e}function b2(t,e){Ad(e.content)?(Hp(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Hp(t,e.content):t.textContent=e.content)}function jp(t){var e=t.firstElementChild,n=Yc(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(Sx)}),arrow:n.find(function(r){return r.classList.contains(Ix)||r.classList.contains(kx)}),backdrop:n.find(function(r){return r.classList.contains(AF)})}}function Ox(t){var e=iu(),n=iu();n.className=oF,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=iu();r.className=Sx,r.setAttribute("data-state","hidden"),b2(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(s,a){var o=jp(e),A=o.box,u=o.content,l=o.arrow;a.theme?A.setAttribute("data-theme",a.theme):A.removeAttribute("data-theme"),typeof a.animation=="string"?A.setAttribute("data-animation",a.animation):A.removeAttribute("data-animation"),a.inertia?A.setAttribute("data-inertia",""):A.removeAttribute("data-inertia"),A.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?A.setAttribute("role",a.role):A.removeAttribute("role"),(s.content!==a.content||s.allowHTML!==a.allowHTML)&&b2(u,t.props),a.arrow?l?s.arrow!==a.arrow&&(A.removeChild(l),A.appendChild(m2(a.arrow))):A.appendChild(m2(a.arrow)):l&&A.removeChild(l)}return{popper:e,onUpdate:i}}Ox.$$tippy=!0;var kF=1,Ll=[],uh=[];function FF(t,e){var n=g2(t,Object.assign({},zi,Lx(f2(e)))),r,i,s,a=!1,o=!1,A=!1,u=!1,l,c,f,d=[],w=l2(Zn,n.interactiveDebounce),T,D=kF++,N=null,M=lF(n.plugins),q={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},j={id:D,reference:t,popper:iu(),popperInstance:N,props:n,state:q,plugins:M,clearDelayTimeouts:se,setProps:Oe,setContent:We,show:nt,hide:pt,hideWithInteractivity:Bt,enable:zt,disable:An,unmount:fn,destroy:et};if(!n.render)return j;var J=n.render(j),H=J.popper,ve=J.onUpdate;H.setAttribute("data-tippy-root",""),H.id="tippy-"+j.id,j.popper=H,t._tippy=j,H._tippy=j;var De=M.map(function(Be){return Be.fn(j)}),Fe=t.hasAttribute("aria-expanded");return Jt(),ne(),mt(),yt("onCreate",[j]),n.showOnCreate&&Yt(),H.addEventListener("mouseenter",function(){j.props.interactive&&j.state.isVisible&&j.clearDelayTimeouts()}),H.addEventListener("mouseleave",function(){j.props.interactive&&j.props.trigger.indexOf("mouseenter")>=0&&tt().addEventListener("mousemove",w)}),j;function me(){var Be=j.props.touch;return Array.isArray(Be)?Be:[Be,0]}function qe(){return me()[0]==="hold"}function Me(){var Be;return!!((Be=j.props.render)!=null&&Be.$$tippy)}function Ke(){return T||t}function tt(){var Be=Ke().parentNode;return Be?gF(Be):document}function st(){return jp(H)}function gt(Be){return j.state.isMounted&&!j.state.isVisible||ss.isTouch||l&&l.type==="focus"?0:ah(j.props.delay,Be?0:1,zi.delay)}function mt(Be){Be===void 0&&(Be=!1),H.style.pointerEvents=j.props.interactive&&!Be?"":"none",H.style.zIndex=""+j.props.zIndex}function yt(Be,Ze,At){if(At===void 0&&(At=!0),De.forEach(function(It){It[Be]&&It[Be].apply(It,Ze)}),At){var bt;(bt=j.props)[Be].apply(bt,Ze)}}function Ge(){var Be=j.props.aria;if(Be.content){var Ze="aria-"+Be.content,At=H.id,bt=Uo(j.props.triggerTarget||t);bt.forEach(function(It){var Tt=It.getAttribute(Ze);if(j.state.isVisible)It.setAttribute(Ze,Tt?Tt+" "+At:At);else{var Fn=Tt&&Tt.replace(At,"").trim();Fn?It.setAttribute(Ze,Fn):It.removeAttribute(Ze)}})}}function ne(){if(!(Fe||!j.props.aria.expanded)){var Be=Uo(j.props.triggerTarget||t);Be.forEach(function(Ze){j.props.interactive?Ze.setAttribute("aria-expanded",j.state.isVisible&&Ze===Ke()?"true":"false"):Ze.removeAttribute("aria-expanded")})}}function Ft(){tt().removeEventListener("mousemove",w),Ll=Ll.filter(function(Be){return Be!==w})}function Lt(Be){if(!(ss.isTouch&&(A||Be.type==="mousedown"))){var Ze=Be.composedPath&&Be.composedPath()[0]||Be.target;if(!(j.props.interactive&&h2(H,Ze))){if(Uo(j.props.triggerTarget||t).some(function(At){return h2(At,Ze)})){if(ss.isTouch||j.state.isVisible&&j.props.trigger.indexOf("click")>=0)return}else yt("onClickOutside",[j,Be]);j.props.hideOnClick===!0&&(j.clearDelayTimeouts(),j.hide(),o=!0,setTimeout(function(){o=!1}),j.state.isMounted||Nt())}}}function pe(){A=!0}function vt(){A=!1}function Kt(){var Be=tt();Be.addEventListener("mousedown",Lt,!0),Be.addEventListener("touchend",Lt,La),Be.addEventListener("touchstart",vt,La),Be.addEventListener("touchmove",pe,La)}function Nt(){var Be=tt();Be.removeEventListener("mousedown",Lt,!0),Be.removeEventListener("touchend",Lt,La),Be.removeEventListener("touchstart",vt,La),Be.removeEventListener("touchmove",pe,La)}function Mt(Be,Ze){xn(Be,function(){!j.state.isVisible&&H.parentNode&&H.parentNode.contains(H)&&Ze()})}function Rt(Be,Ze){xn(Be,Ze)}function xn(Be,Ze){var At=st().box;function bt(It){It.target===At&&(Ah(At,"remove",bt),Ze())}if(Be===0)return Ze();Ah(At,"remove",c),Ah(At,"add",bt),c=bt}function En(Be,Ze,At){At===void 0&&(At=!1);var bt=Uo(j.props.triggerTarget||t);bt.forEach(function(It){It.addEventListener(Be,Ze,At),d.push({node:It,eventType:Be,handler:Ze,options:At})})}function Jt(){qe()&&(En("touchstart",Gn,{passive:!0}),En("touchend",fr,{passive:!0})),uF(j.props.trigger).forEach(function(Be){if(Be!=="manual")switch(En(Be,Gn),Be){case"mouseenter":En("mouseleave",fr);break;case"focus":En(xF?"focusout":"blur",On);break;case"focusin":En("focusout",On);break}})}function mn(){d.forEach(function(Be){var Ze=Be.node,At=Be.eventType,bt=Be.handler,It=Be.options;Ze.removeEventListener(At,bt,It)}),d=[]}function Gn(Be){var Ze,At=!1;if(!(!j.state.isEnabled||kn(Be)||o)){var bt=((Ze=l)==null?void 0:Ze.type)==="focus";l=Be,T=Be.currentTarget,ne(),!j.state.isVisible&&dF(Be)&&Ll.forEach(function(It){return It(Be)}),Be.type==="click"&&(j.props.trigger.indexOf("mouseenter")<0||a)&&j.props.hideOnClick!==!1&&j.state.isVisible?At=!0:Yt(Be),Be.type==="click"&&(a=!At),At&&!bt&&bn(Be)}}function Zn(Be){var Ze=Be.target,At=Ke().contains(Ze)||H.contains(Ze);if(!(Be.type==="mousemove"&&At)){var bt=Dt().concat(H).map(function(It){var Tt,Fn=It._tippy,Nn=(Tt=Fn.popperInstance)==null?void 0:Tt.state;return Nn?{popperRect:It.getBoundingClientRect(),popperState:Nn,props:n}:null}).filter(Boolean);mF(bt,Be)&&(Ft(),bn(Be))}}function fr(Be){var Ze=kn(Be)||j.props.trigger.indexOf("click")>=0&&a;if(!Ze){if(j.props.interactive){j.hideWithInteractivity(Be);return}bn(Be)}}function On(Be){j.props.trigger.indexOf("focusin")<0&&Be.target!==Ke()||j.props.interactive&&Be.relatedTarget&&H.contains(Be.relatedTarget)||bn(Be)}function kn(Be){return ss.isTouch?qe()!==Be.type.indexOf("touch")>=0:!1}function Qn(){an();var Be=j.props,Ze=Be.popperOptions,At=Be.placement,bt=Be.offset,It=Be.getReferenceClientRect,Tt=Be.moveTransition,Fn=Me()?jp(H).arrow:null,Nn=It?{getBoundingClientRect:It,contextElement:It.contextElement||Ke()}:t,Sr={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(F){var O=F.state;if(Me()){var m=st(),h=m.box;["placement","reference-hidden","escaped"].forEach(function(g){g==="placement"?h.setAttribute("data-placement",O.placement):O.attributes.popper["data-popper-"+g]?h.setAttribute("data-"+g,""):h.removeAttribute("data-"+g)}),O.attributes.popper={}}}},Wn=[{name:"offset",options:{offset:bt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Tt}},Sr];Me()&&Fn&&Wn.push({name:"arrow",options:{element:Fn,padding:3}}),Wn.push.apply(Wn,(Ze==null?void 0:Ze.modifiers)||[]),j.popperInstance=aF(Nn,H,Object.assign({},Ze,{placement:At,onFirstUpdate:f,modifiers:Wn}))}function an(){j.popperInstance&&(j.popperInstance.destroy(),j.popperInstance=null)}function Vt(){var Be=j.props.appendTo,Ze,At=Ke();j.props.interactive&&Be===Fx||Be==="parent"?Ze=At.parentNode:Ze=Nx(Be,[At]),Ze.contains(H)||Ze.appendChild(H),j.state.isMounted=!0,Qn()}function Dt(){return Yc(H.querySelectorAll("[data-tippy-root]"))}function Yt(Be){j.clearDelayTimeouts(),Be&&yt("onTrigger",[j,Be]),Kt();var Ze=gt(!0),At=me(),bt=At[0],It=At[1];ss.isTouch&&bt==="hold"&&It&&(Ze=It),Ze?r=setTimeout(function(){j.show()},Ze):j.show()}function bn(Be){if(j.clearDelayTimeouts(),yt("onUntrigger",[j,Be]),!j.state.isVisible){Nt();return}if(!(j.props.trigger.indexOf("mouseenter")>=0&&j.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Be.type)>=0&&a)){var Ze=gt(!1);Ze?i=setTimeout(function(){j.state.isVisible&&j.hide()},Ze):s=requestAnimationFrame(function(){j.hide()})}}function zt(){j.state.isEnabled=!0}function An(){j.hide(),j.state.isEnabled=!1}function se(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function Oe(Be){if(!j.state.isDestroyed){yt("onBeforeUpdate",[j,Be]),mn();var Ze=j.props,At=g2(t,Object.assign({},Ze,f2(Be),{ignoreAttributes:!0}));j.props=At,Jt(),Ze.interactiveDebounce!==At.interactiveDebounce&&(Ft(),w=l2(Zn,At.interactiveDebounce)),Ze.triggerTarget&&!At.triggerTarget?Uo(Ze.triggerTarget).forEach(function(bt){bt.removeAttribute("aria-expanded")}):At.triggerTarget&&t.removeAttribute("aria-expanded"),ne(),mt(),ve&&ve(Ze,At),j.popperInstance&&(Qn(),Dt().forEach(function(bt){requestAnimationFrame(bt._tippy.popperInstance.forceUpdate)})),yt("onAfterUpdate",[j,Be])}}function We(Be){j.setProps({content:Be})}function nt(){var Be=j.state.isVisible,Ze=j.state.isDestroyed,At=!j.state.isEnabled,bt=ss.isTouch&&!j.props.touch,It=ah(j.props.duration,0,zi.duration);if(!(Be||Ze||At||bt)&&!Ke().hasAttribute("disabled")&&(yt("onShow",[j],!1),j.props.onShow(j)!==!1)){if(j.state.isVisible=!0,Me()&&(H.style.visibility="visible"),mt(),Kt(),j.state.isMounted||(H.style.transition="none"),Me()){var Tt=st(),Fn=Tt.box,Nn=Tt.content;oh([Fn,Nn],0)}f=function(){var Wn;if(!(!j.state.isVisible||u)){if(u=!0,H.offsetHeight,H.style.transition=j.props.moveTransition,Me()&&j.props.animation){var b=st(),F=b.box,O=b.content;oh([F,O],It),d2([F,O],"visible")}Ge(),ne(),c2(uh,j),(Wn=j.popperInstance)==null||Wn.forceUpdate(),yt("onMount",[j]),j.props.animation&&Me()&&Rt(It,function(){j.state.isShown=!0,yt("onShown",[j])})}},Vt()}}function pt(){var Be=!j.state.isVisible,Ze=j.state.isDestroyed,At=!j.state.isEnabled,bt=ah(j.props.duration,1,zi.duration);if(!(Be||Ze||At)&&(yt("onHide",[j],!1),j.props.onHide(j)!==!1)){if(j.state.isVisible=!1,j.state.isShown=!1,u=!1,a=!1,Me()&&(H.style.visibility="hidden"),Ft(),Nt(),mt(!0),Me()){var It=st(),Tt=It.box,Fn=It.content;j.props.animation&&(oh([Tt,Fn],bt),d2([Tt,Fn],"hidden"))}Ge(),ne(),j.props.animation?Me()&&Mt(bt,j.unmount):j.unmount()}}function Bt(Be){tt().addEventListener("mousemove",w),c2(Ll,w),w(Be)}function fn(){j.state.isVisible&&j.hide(),j.state.isMounted&&(an(),Dt().forEach(function(Be){Be._tippy.unmount()}),H.parentNode&&H.parentNode.removeChild(H),uh=uh.filter(function(Be){return Be!==j}),j.state.isMounted=!1,yt("onHidden",[j]))}function et(){j.state.isDestroyed||(j.clearDelayTimeouts(),j.unmount(),mn(),delete t._tippy,j.state.isDestroyed=!0,yt("onDestroy",[j]))}}function el(t,e){e===void 0&&(e={});var n=zi.plugins.concat(e.plugins||[]);yF();var r=Object.assign({},e,{plugins:n}),i=pF(t),s=i.reduce(function(a,o){var A=o&&FF(o,r);return A&&a.push(A),a},[]);return Ad(t)?s[0]:s}el.defaultProps=zi;el.setDefaultProps=TF;el.currentInput=ss;Object.assign({},wx,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});el.setDefaultProps({render:Ox});class NF{constructor({editor:e,element:n,view:r,tippyOptions:i={},updateDelay:s=250,shouldShow:a}){this.preventHide=!1,this.shouldShow=({view:o,state:A,from:u,to:l})=>{const{doc:c,selection:f}=A,{empty:d}=f,w=!c.textBetween(u,l).length&&mg(A.selection),T=this.element.contains(document.activeElement);return!(!(o.hasFocus()||T)||d||w||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:o})=>{var A;if(this.preventHide){this.preventHide=!1;return}o!=null&&o.relatedTarget&&(!((A=this.element.parentNode)===null||A===void 0)&&A.contains(o.relatedTarget))||(o==null?void 0:o.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=o=>{this.blurHandler({event:o})},this.handleDebouncedUpdate=(o,A)=>{const u=!(A!=null&&A.selection.eq(o.state.selection)),l=!(A!=null&&A.doc.eq(o.state.doc));!u&&!l||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(o,u,l,A)},this.updateDelay))},this.updateHandler=(o,A,u,l)=>{var c,f,d;const{state:w,composing:T}=o,{selection:D}=w;if(T||!A&&!u)return;this.createTooltip();const{ranges:M}=D,q=Math.min(...M.map(H=>H.$from.pos)),j=Math.max(...M.map(H=>H.$to.pos));if(!((c=this.shouldShow)===null||c===void 0?void 0:c.call(this,{editor:this.editor,element:this.element,view:o,state:w,oldState:l,from:q,to:j}))){this.hide();return}(f=this.tippy)===null||f===void 0||f.setProps({getReferenceClientRect:((d=this.tippyOptions)===null||d===void 0?void 0:d.getReferenceClientRect)||(()=>{if(px(w.selection)){let H=o.nodeDOM(q);if(H){const ve=H.dataset.nodeViewWrapper?H:H.querySelector("[data-node-view-wrapper]");if(ve&&(H=ve.firstChild),H)return H.getBoundingClientRect()}}return EI(o,q,j)})}),this.show()},this.editor=e,this.element=n,this.view=r,this.updateDelay=s,a&&(this.shouldShow=a),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.element.tabIndex=0,!(this.tippy||!n)&&(this.tippy=el(e,Ie({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){const{state:r}=e,i=r.selection.from!==r.selection.to;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(e,n);return}const s=!(n!=null&&n.selection.eq(e.state.selection)),a=!(n!=null&&n.doc.eq(e.state.doc));this.updateHandler(e,s,a,n)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const _x=t=>new gr({key:typeof t.pluginKey=="string"?new ii(t.pluginKey):t.pluginKey,view:e=>new NF(Ie({view:e},t))});Tr.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[_x({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});function UF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dx={exports:{}},lh={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function LF(){if(w2)return lh;w2=1;var t=Nr;function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function o(c,f){var d=f(),w=r({inst:{value:d,getSnapshot:f}}),T=w[0].inst,D=w[1];return s(function(){T.value=d,T.getSnapshot=f,A(T)&&D({inst:T})},[c,d,f]),i(function(){return A(T)&&D({inst:T}),c(function(){A(T)&&D({inst:T})})},[c]),a(d),d}function A(c){var f=c.getSnapshot;c=c.value;try{var d=f();return!n(c,d)}catch(w){return!0}}function u(c,f){return f()}var l=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?u:o;return lh.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:l,lh}Dx.exports=LF();var Fg=Dx.exports;const OF=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},_F=({contentComponent:t})=>{const e=Fg.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return Nr.createElement(Nr.Fragment,null,Object.values(e))};function DF(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e=_t(Ie({},e),{[n]:X4.createPortal(r.reactElement,r.element,n)}),t.forEach(i=>i())},removeRenderer(n){const r=Ie({},e);delete r[n],e=r,t.forEach(i=>i())}}}class QF extends Nr.Component{constructor(e){var n;super(e),this.editorContentRef=Nr.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=DF(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const i=this.props,{editor:e,innerRef:n}=i,r=EA(i,["editor","innerRef"]);return Nr.createElement(Nr.Fragment,null,Nr.createElement("div",Ie({ref:OF(n,this.editorContentRef)},r)),(e==null?void 0:e.contentComponent)&&Nr.createElement(_F,{contentComponent:e.contentComponent}))}}const RF=Ve.forwardRef((t,e)=>{const n=Nr.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Nr.createElement(QF,Ie({key:n,innerRef:e},t))}),MF=Nr.memo(RF);var PF=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n},HF=UF(PF),Qx={exports:{}},ch={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2;function jF(){if(y2)return ch;y2=1;var t=Nr,e=Fg;function n(u,l){return u===l&&(u!==0||1/u===1/l)||u!==u&&l!==l}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,o=t.useMemo,A=t.useDebugValue;return ch.useSyncExternalStoreWithSelector=function(u,l,c,f,d){var w=s(null);if(w.current===null){var T={hasValue:!1,value:null};w.current=T}else T=w.current;w=o(function(){function N(H){if(!M){if(M=!0,q=H,H=f(H),d!==void 0&&T.hasValue){var ve=T.value;if(d(ve,H))return j=ve}return j=H}if(ve=j,r(q,H))return ve;var De=f(H);return d!==void 0&&d(ve,De)?ve:(q=H,j=De)}var M=!1,q,j,J=c===void 0?null:c;return[function(){return N(l())},J===null?void 0:function(){return N(J())}]},[l,c,f,d]);var D=i(u,w[0],w[1]);return a(function(){T.hasValue=!0,T.value=D},[D]),A(D),D},ch}Qx.exports=jF();var KF=Qx.exports;const VF=typeof window!="undefined"?Ve.useLayoutEffect:Ve.useEffect;class zF{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function qF(t){var e;const[n]=Ve.useState(()=>new zF(t.editor)),r=KF.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:HF);return VF(()=>n.watch(t.editor),[t.editor,n]),Ve.useDebugValue(r),r}const GF=!1,Kp=typeof window=="undefined",WF=Kp||!!(typeof window!="undefined"&&window.next);class Ng{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Kp||WF?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e=_t(Ie({},this.options.current),{onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}});return new ek(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var a;return i===((a=n.extensions)===null||a===void 0?void 0:a[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Ng.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions(_t(Ie({},this.options.current),{editable:this.editor.isEditable})):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function $F(t={},e=[]){const n=Ve.useRef(t);n.current=t;const[r]=Ve.useState(()=>new Ng(n)),i=Fg.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return Ve.useDebugValue(i),Ve.useEffect(r.onRender(e)),qF({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&s===0?0:s+1}),i}const Rx=Ve.createContext({editor:null});Rx.Consumer;const YF=()=>Ve.useContext(Rx),XF=t=>{const[e,n]=Ve.useState(null),{editor:r}=YF();return Ve.useEffect(()=>{var i;if(!e||!((i=t.editor)===null||i===void 0)&&i.isDestroyed||r!=null&&r.isDestroyed)return;const{pluginKey:s="bubbleMenu",editor:a,tippyOptions:o={},updateDelay:A,shouldShow:u=null}=t,l=a||r;if(!l){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const c=_x({updateDelay:A,editor:l,element:e,pluginKey:s,shouldShow:u,tippyOptions:o});return l.registerPlugin(c),()=>{l.unregisterPlugin(s)}},[t.editor,r,e]),Nr.createElement("div",{ref:n,className:t.className,style:{visibility:"hidden"}},t.children)},JF=Ve.createContext({onDragStart:void 0}),ZF=()=>Ve.useContext(JF);Nr.forwardRef((t,e)=>{const{onDragStart:n}=ZF(),r=t.as||"div";return Nr.createElement(r,_t(Ie({},t),{ref:e,"data-node-view-wrapper":"",onDragStart:n,style:Ie({whiteSpace:"normal"},t.style)}))});const eN=/^\s*>\s$/,tN=Mi.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",pr(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Lu({find:eN,type:this.type})]}}),nN=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,rN=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,iN=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,sN=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,aN=ps.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",pr(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Xo({find:nN,type:this.type}),Xo({find:iN,type:this.type})]},addPasteRules(){return[oo({find:rN,type:this.type}),oo({find:sN,type:this.type})]}}),oN="listItem",B2="textStyle",x2=/^\s*([-+*])\s$/,AN=Mi.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",pr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(oN,this.editor.getAttributes(B2)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Lu({find:x2,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Lu({find:x2,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(B2),editor:this.editor})),[t]}}),uN=/(^|[^`])`([^`]+)`(?!`)/,lN=/(^|[^`])`([^`]+)`(?!`)/g,cN=ps.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",pr(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Xo({find:uN,type:this.type})]},addPasteRules(){return[oo({find:lN,type:this.type})]}}),fN=/^```([a-z]+)?[\s\n]$/,dN=/^~~~([a-z]+)?[\s\n]$/,hN=Mi.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",pr(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:o})=>(o.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const o=i.after();return o===void 0?!1:r.nodeAt(o)?t.commands.command(({tr:u})=>(u.setSelection(sn.near(r.resolve(o))),!0)):t.commands.exitCode()}}},addInputRules(){return[Qp({find:fN,type:this.type,getAttributes:t=>({language:t[1]})}),Qp({find:dN,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new gr({key:new ii("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:a,schema:o}=t.state,A=o.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},A)),a.selection.$from.parent.type!==this.type&&a.setSelection(Xt.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),pN=Mi.create({name:"doc",topNode:!0,content:"block+"});function gN(t={}){return new gr({view(e){return new mN(e,t)}})}class mN{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,o=s.height/i.offsetHeight;if(n){let c=e.nodeBefore,f=e.nodeAfter;if(c||f){let d=this.editorView.nodeDOM(this.cursorPos-(c?c.nodeSize:0));if(d){let w=d.getBoundingClientRect(),T=c?w.bottom:w.top;c&&f&&(T=(T+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let D=this.width/2*o;r={left:w.left,right:w.right,top:T-D,bottom:T+D}}}}if(!r){let c=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*a;r={left:c.left-f,right:c.left+f,top:c.top,bottom:c.bottom}}let A=this.editorView.dom.offsetParent;this.element||(this.element=A.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,l;if(!A||A==document.body&&getComputedStyle(A).position=="static")u=-pageXOffset,l=-pageYOffset;else{let c=A.getBoundingClientRect(),f=c.width/A.offsetWidth,d=c.height/A.offsetHeight;u=c.left-A.scrollLeft*f,l=c.top-A.scrollTop*d}this.element.style.left=(r.left-u)/a+"px",this.element.style.top=(r.top-l)/o+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/o+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let o=iB(this.editorView.state.doc,a,this.editorView.dragging.slice);o!=null&&(a=o)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const bN=Tr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[gN(this.options)]}});class Jn extends sn{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Jn.valid(r)?new Jn(r):sn.near(r)}content(){return Ct.empty}eq(e){return e instanceof Jn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Jn(e.resolve(n.pos))}getBookmark(){return new Ug(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!wN(e)||!yN(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Jn.valid(e))return e;let i=e.pos,s=null;for(let a=e.depth;;a--){let o=e.node(a);if(n>0?e.indexAfter(a)<o.childCount:e.index(a)>0){s=o.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=n;let A=e.doc.resolve(i);if(Jn.valid(A))return A}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!jt.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=a,i+=n;let o=e.doc.resolve(i);if(Jn.valid(o))return o}return null}}}Jn.prototype.visible=!1;Jn.findFrom=Jn.findGapCursorFrom;sn.jsonID("gapcursor",Jn);class Ug{constructor(e){this.pos=e}map(e){return new Ug(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Jn.valid(n)?new Jn(n):sn.near(n)}}function wN(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function yN(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function BN(){return new gr({props:{decorations:vN,createSelectionBetween(t,e,n){return e.pos==n.pos&&Jn.valid(n)?new Jn(n):null},handleClick:EN,handleKeyDown:xN,handleDOMEvents:{beforeinput:CN}}})}const xN=qB({ArrowLeft:Ol("horiz",-1),ArrowRight:Ol("horiz",1),ArrowUp:Ol("vert",-1),ArrowDown:Ol("vert",1)});function Ol(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let a=r.selection,o=e>0?a.$to:a.$from,A=a.empty;if(a instanceof Xt){if(!s.endOfTextblock(n)||o.depth==0)return!1;A=!1,o=r.doc.resolve(e>0?o.after():o.before())}let u=Jn.findGapCursorFrom(o,e,A);return u?(i&&i(r.tr.setSelection(new Jn(u))),!0):!1}}function EN(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Jn.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&jt.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Jn(r))),!0)}function CN(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Jn))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=ot.empty;for(let a=r.length-1;a>=0;a--)i=ot.from(r[a].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new Ct(i,0,0));return s.setSelection(Xt.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function vN(t){if(!(t.selection instanceof Jn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ar.create(t.doc,[yi.widget(t.selection.head,e,{key:"gapcursor"})])}const TN=Tr.create({name:"gapCursor",addProseMirrorPlugins(){return[BN()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ln(Ot(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),SN=Mi.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",pr(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:o}=r.extensionManager,A=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:l})=>{if(l&&A&&a){const c=A.filter(f=>o.includes(f.type.name));u.ensureMarks(c)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),IN=Mi.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,pr(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>_t(Ie({},t),{[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Qp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Xc=200,Cr=function(){};Cr.prototype.append=function(e){return e.length?(e=Cr.from(e),!this.length&&e||e.length<Xc&&this.leafAppend(e)||this.length<Xc&&e.leafPrepend(this)||this.appendInner(e)):this};Cr.prototype.prepend=function(e){return e.length?Cr.from(e).append(this):this};Cr.prototype.appendInner=function(e){return new kN(this,e)};Cr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Cr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Cr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Cr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Cr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},n,r),i};Cr.from=function(e){return e instanceof Cr?e:e&&e.length?new Mx(e):Cr.empty};var Mx=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,o){for(var A=s;A<a;A++)if(i(this.values[A],o+A)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,o){for(var A=s-1;A>=a;A--)if(i(this.values[A],o+A)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Xc)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Xc)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Cr);Cr.empty=new Mx([]);var kN=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,a){var o=this.left.length;if(i<o&&this.left.forEachInner(r,i,Math.min(s,o),a)===!1||s>o&&this.right.forEachInner(r,Math.max(i-o,0),Math.min(this.length,s)-o,a+o)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,a){var o=this.left.length;if(i>o&&this.right.forEachInvertedInner(r,i-o,Math.max(s,o)-o,a+o)===!1||s<o&&this.left.forEachInvertedInner(r,Math.min(i,o),s,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Cr);const FN=500;class Vi{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=e.tr,o,A,u=[],l=[];return this.items.forEach((c,f)=>{if(!c.step){i||(i=this.remapping(r,f+1),s=i.maps.length),s--,l.push(c);return}if(i){l.push(new ts(c.map));let d=c.step.map(i.slice(s)),w;d&&a.maybeStep(d).doc&&(w=a.mapping.maps[a.mapping.maps.length-1],u.push(new ts(w,void 0,void 0,u.length+l.length))),s--,w&&i.appendMap(w,s)}else a.maybeStep(c.step);if(c.selection)return o=i?c.selection.map(i.slice(s)):c.selection,A=new Vi(this.items.slice(0,r).append(l.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:A,transform:a,selection:o}}addTransform(e,n,r,i){let s=[],a=this.eventCount,o=this.items,A=!i&&o.length?o.get(o.length-1):null;for(let l=0;l<e.steps.length;l++){let c=e.steps[l].invert(e.docs[l]),f=new ts(e.mapping.maps[l],c,n),d;(d=A&&A.merge(f))&&(f=d,l?s.pop():o=o.slice(0,o.length-1)),s.push(f),n&&(a++,n=void 0),i||(A=f)}let u=a-r.depth;return u>UN&&(o=NN(o,u),a-=u),new Vi(o.append(s),a)}remapping(e,n){let r=new Tu;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new Vi(this.items.append(e.map(n=>new ts(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,o=this.eventCount;this.items.forEach(f=>{f.selection&&o--},i);let A=n;this.items.forEach(f=>{let d=s.getMirror(--A);if(d==null)return;a=Math.min(a,d);let w=s.maps[d];if(f.step){let T=e.steps[d].invert(e.docs[d]),D=f.selection&&f.selection.map(s.slice(A+1,d));D&&o++,r.push(new ts(w,T,D))}else r.push(new ts(w))},i);let u=[];for(let f=n;f<a;f++)u.push(new ts(s.maps[f]));let l=this.items.slice(0,i).append(u).append(r),c=new Vi(l,o);return c.emptyItemCount()>FN&&(c=c.compress(this.items.length-r.length)),c}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((a,o)=>{if(o>=e)i.push(a),a.selection&&s++;else if(a.step){let A=a.step.map(n.slice(r)),u=A&&A.getMap();if(r--,u&&n.appendMap(u,r),A){let l=a.selection&&a.selection.map(n.slice(r));l&&s++;let c=new ts(u.invert(),A,l),f,d=i.length-1;(f=i.length&&i[d].merge(c))?i[d]=f:i.push(c)}}else a.map&&r--},this.items.length,0),new Vi(Cr.from(i.reverse()),s)}}Vi.empty=new Vi(Cr.empty,0);function NN(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class ts{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ts(n.getMap().invert(),n,this.selection)}}}class Zs{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const UN=20;function LN(t,e,n,r){let i=n.getMeta(Za),s;if(i)return i.historyState;n.getMeta(DN)&&(t=new Zs(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(Za))return a.getMeta(Za).redo?new Zs(t.done.addTransform(n,void 0,r,yc(e)),t.undone,E2(n.mapping.maps),t.prevTime,t.prevComposition):new Zs(t.done,t.undone.addTransform(n,void 0,r,yc(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let o=n.getMeta("composition"),A=t.prevTime==0||!a&&t.prevComposition!=o&&(t.prevTime<(n.time||0)-r.newGroupDelay||!ON(n,t.prevRanges)),u=a?fh(t.prevRanges,n.mapping):E2(n.mapping.maps);return new Zs(t.done.addTransform(n,A?e.selection.getBookmark():void 0,r,yc(e)),Vi.empty,u,n.time,o==null?t.prevComposition:o)}else return(s=n.getMeta("rebased"))?new Zs(t.done.rebased(n,s),t.undone.rebased(n,s),fh(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Zs(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),fh(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function ON(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function E2(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,a)=>e.push(s,a));return e}function fh(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function _N(t,e,n){let r=yc(e),i=Za.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),o=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),A=new Zs(n?o:s.remaining,n?s.remaining:o,null,0,-1);return s.transform.setSelection(a).setMeta(Za,{redo:n,historyState:A})}let dh=!1,C2=null;function yc(t){let e=t.plugins;if(C2!=e){dh=!1,C2=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){dh=!0;break}}return dh}const Za=new ii("history"),DN=new ii("closeHistory");function QN(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new gr({key:Za,state:{init(){return new Zs(Vi.empty,Vi.empty,null,0,-1)},apply(e,n,r){return LN(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?Hx:r=="historyRedo"?jx:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function Px(t,e){return(n,r)=>{let i=Za.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=_N(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const Hx=Px(!1,!0),jx=Px(!0,!0),RN=Tr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Hx(t,e),redo:()=>({state:t,dispatch:e})=>jx(t,e)}},addProseMirrorPlugins(){return[QN(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),MN=Mi.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",pr(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!tk(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$from:r,$to:i}=n,s=t();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):px(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:a,dispatch:o})=>{var A;if(o){const{$to:u}=a.selection,l=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?a.setSelection(Xt.create(a.doc,u.pos+1)):u.nodeAfter.isBlock?a.setSelection(jt.create(a.doc,u.pos)):a.setSelection(Xt.create(a.doc,u.pos));else{const c=(A=u.parent.type.contentMatch.defaultType)===null||A===void 0?void 0:A.create();c&&(a.insert(l,c),a.setSelection(Xt.create(a.doc,l+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[gx({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),PN=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,HN=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,jN=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,KN=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,VN=ps.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",pr(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Xo({find:PN,type:this.type}),Xo({find:jN,type:this.type})]},addPasteRules(){return[oo({find:HN,type:this.type}),oo({find:KN,type:this.type})]}}),zN=Mi.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",pr(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),qN="listItem",v2="textStyle",T2=/^(\d+)\.\s$/,GN=Mi.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const r=t,{start:e}=r,n=EA(r,["start"]);return e===1?["ol",pr(this.options.HTMLAttributes,n),0]:["ol",pr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(qN,this.editor.getAttributes(v2)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Lu({find:T2,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Lu({find:T2,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>Ie({start:+e[1]},this.editor.getAttributes(v2)),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),WN=Mi.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",pr(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),$N=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,YN=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,XN=ps.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",pr(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Xo({find:$N,type:this.type})]},addPasteRules(){return[oo({find:YN,type:this.type})]}}),JN=Mi.create({name:"text",group:"inline"}),ZN=Tr.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(aN.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(tN.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(AN.configure(this.options.bulletList)),this.options.code!==!1&&t.push(cN.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(hN.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(pN.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(bN.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(TN.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(SN.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(IN.configure(this.options.heading)),this.options.history!==!1&&t.push(RN.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(MN.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(VN.configure(this.options.italic)),this.options.listItem!==!1&&t.push(zN.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(GN.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(WN.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(XN.configure(this.options.strike)),this.options.text!==!1&&t.push(JN.configure(this.options.text)),t}}),eU="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",tU="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Vp="numeric",zp="ascii",qp="alpha",su="asciinumeric",HA="alphanumeric",Gp="domain",Kx="emoji",nU="scheme",rU="slashscheme",hh="whitespace";function iU(t,e){return t in e||(e[t]=[]),e[t]}function Ka(t,e,n){e[Vp]&&(e[su]=!0,e[HA]=!0),e[zp]&&(e[su]=!0,e[qp]=!0),e[su]&&(e[HA]=!0),e[qp]&&(e[HA]=!0),e[HA]&&(e[Gp]=!0),e[Kx]&&(e[Gp]=!0);for(const r in e){const i=iU(r,n);i.indexOf(t)<0&&i.push(t)}}function sU(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function ui(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}ui.groups={};ui.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||ui.groups;let i;return e&&e.j?i=e:(i=new ui(e),n&&r&&Ka(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(t[a]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||ui.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let a,o=i.go(t);if(o?(a=new ui,Object.assign(a.j,o.j),a.jr.push.apply(a.jr,o.jr),a.jd=o.jd,a.t=o.t):a=new ui,s){if(r)if(a.t&&typeof a.t=="string"){const A=Object.assign(sU(a.t,r),n);Ka(s,A,r)}else n&&Ka(s,n,r);a.t=s}return i.j[t]=a,a}};const on=(t,e,n,r,i)=>t.ta(e,n,r,i),Yn=(t,e,n,r,i)=>t.tr(e,n,r,i),S2=(t,e,n,r,i)=>t.ts(e,n,r,i),ct=(t,e,n,r,i)=>t.tt(e,n,r,i),ks="WORD",Wp="UWORD",Vx="ASCIINUMERICAL",zx="ALPHANUMERICAL",Du="LOCALHOST",$p="TLD",Yp="UTLD",Bc="SCHEME",Lo="SLASH_SCHEME",Lg="NUM",Xp="WS",Og="NL",au="OPENBRACE",ou="CLOSEBRACE",Jc="OPENBRACKET",Zc="CLOSEBRACKET",ef="OPENPAREN",tf="CLOSEPAREN",nf="OPENANGLEBRACKET",rf="CLOSEANGLEBRACKET",sf="FULLWIDTHLEFTPAREN",af="FULLWIDTHRIGHTPAREN",of="LEFTCORNERBRACKET",Af="RIGHTCORNERBRACKET",uf="LEFTWHITECORNERBRACKET",lf="RIGHTWHITECORNERBRACKET",cf="FULLWIDTHLESSTHAN",ff="FULLWIDTHGREATERTHAN",df="AMPERSAND",hf="APOSTROPHE",pf="ASTERISK",ea="AT",gf="BACKSLASH",mf="BACKTICK",bf="CARET",ra="COLON",_g="COMMA",wf="DOLLAR",ns="DOT",yf="EQUALS",Dg="EXCLAMATION",Ti="HYPHEN",Au="PERCENT",Bf="PIPE",xf="PLUS",Ef="POUND",uu="QUERY",Qg="QUOTE",qx="FULLWIDTHMIDDLEDOT",Rg="SEMI",rs="SLASH",lu="TILDE",Cf="UNDERSCORE",Gx="EMOJI",vf="SYM";var Wx=Object.freeze({__proto__:null,ALPHANUMERICAL:zx,AMPERSAND:df,APOSTROPHE:hf,ASCIINUMERICAL:Vx,ASTERISK:pf,AT:ea,BACKSLASH:gf,BACKTICK:mf,CARET:bf,CLOSEANGLEBRACKET:rf,CLOSEBRACE:ou,CLOSEBRACKET:Zc,CLOSEPAREN:tf,COLON:ra,COMMA:_g,DOLLAR:wf,DOT:ns,EMOJI:Gx,EQUALS:yf,EXCLAMATION:Dg,FULLWIDTHGREATERTHAN:ff,FULLWIDTHLEFTPAREN:sf,FULLWIDTHLESSTHAN:cf,FULLWIDTHMIDDLEDOT:qx,FULLWIDTHRIGHTPAREN:af,HYPHEN:Ti,LEFTCORNERBRACKET:of,LEFTWHITECORNERBRACKET:uf,LOCALHOST:Du,NL:Og,NUM:Lg,OPENANGLEBRACKET:nf,OPENBRACE:au,OPENBRACKET:Jc,OPENPAREN:ef,PERCENT:Au,PIPE:Bf,PLUS:xf,POUND:Ef,QUERY:uu,QUOTE:Qg,RIGHTCORNERBRACKET:Af,RIGHTWHITECORNERBRACKET:lf,SCHEME:Bc,SEMI:Rg,SLASH:rs,SLASH_SCHEME:Lo,SYM:vf,TILDE:lu,TLD:$p,UNDERSCORE:Cf,UTLD:Yp,UWORD:Wp,WORD:ks,WS:Xp});const vs=/[a-z]/,SA=new RegExp("\\p{L}","u"),ph=new RegExp("\\p{Emoji}","u"),Ts=/\d/,gh=/\s/,I2="\r",mh=`
`,aU="",oU="",bh="";let _l=null,Dl=null;function AU(t=[]){const e={};ui.groups=e;const n=new ui;_l==null&&(_l=k2(eU)),Dl==null&&(Dl=k2(tU)),ct(n,"'",hf),ct(n,"{",au),ct(n,"}",ou),ct(n,"[",Jc),ct(n,"]",Zc),ct(n,"(",ef),ct(n,")",tf),ct(n,"<",nf),ct(n,">",rf),ct(n,"",sf),ct(n,"",af),ct(n,"",of),ct(n,"",Af),ct(n,"",uf),ct(n,"",lf),ct(n,"",cf),ct(n,"",ff),ct(n,"&",df),ct(n,"*",pf),ct(n,"@",ea),ct(n,"`",mf),ct(n,"^",bf),ct(n,":",ra),ct(n,",",_g),ct(n,"$",wf),ct(n,".",ns),ct(n,"=",yf),ct(n,"!",Dg),ct(n,"-",Ti),ct(n,"%",Au),ct(n,"|",Bf),ct(n,"+",xf),ct(n,"#",Ef),ct(n,"?",uu),ct(n,'"',Qg),ct(n,"/",rs),ct(n,";",Rg),ct(n,"~",lu),ct(n,"_",Cf),ct(n,"\\",gf),ct(n,"",qx);const r=Yn(n,Ts,Lg,{[Vp]:!0});Yn(r,Ts,r);const i=Yn(r,vs,Vx,{[su]:!0}),s=Yn(r,SA,zx,{[HA]:!0}),a=Yn(n,vs,ks,{[zp]:!0});Yn(a,Ts,i),Yn(a,vs,a),Yn(i,Ts,i),Yn(i,vs,i);const o=Yn(n,SA,Wp,{[qp]:!0});Yn(o,vs),Yn(o,Ts,s),Yn(o,SA,o),Yn(s,Ts,s),Yn(s,vs),Yn(s,SA,s);const A=ct(n,mh,Og,{[hh]:!0}),u=ct(n,I2,Xp,{[hh]:!0}),l=Yn(n,gh,Xp,{[hh]:!0});ct(n,bh,l),ct(u,mh,A),ct(u,bh,l),Yn(u,gh,l),ct(l,I2),ct(l,mh),Yn(l,gh,l),ct(l,bh,l);const c=Yn(n,ph,Gx,{[Kx]:!0});ct(c,"#"),Yn(c,ph,c),ct(c,aU,c);const f=ct(c,oU);ct(f,"#"),Yn(f,ph,c);const d=[[vs,a],[Ts,i]],w=[[vs,null],[SA,o],[Ts,s]];for(let T=0;T<_l.length;T++)zs(n,_l[T],$p,ks,d);for(let T=0;T<Dl.length;T++)zs(n,Dl[T],Yp,Wp,w);Ka($p,{tld:!0,ascii:!0},e),Ka(Yp,{utld:!0,alpha:!0},e),zs(n,"file",Bc,ks,d),zs(n,"mailto",Bc,ks,d),zs(n,"http",Lo,ks,d),zs(n,"https",Lo,ks,d),zs(n,"ftp",Lo,ks,d),zs(n,"ftps",Lo,ks,d),Ka(Bc,{scheme:!0,ascii:!0},e),Ka(Lo,{slashscheme:!0,ascii:!0},e),t=t.sort((T,D)=>T[0]>D[0]?1:-1);for(let T=0;T<t.length;T++){const D=t[T][0],M=t[T][1]?{[nU]:!0}:{[rU]:!0};D.indexOf("-")>=0?M[Gp]=!0:vs.test(D)?Ts.test(D)?M[su]=!0:M[zp]=!0:M[Vp]=!0,S2(n,D,D,M)}return S2(n,"localhost",Du,{ascii:!0}),n.jd=new ui(vf),{start:n,tokens:Object.assign({groups:e},Wx)}}function $x(t,e){const n=uU(e.replace(/[A-Z]/g,o=>o.toLowerCase())),r=n.length,i=[];let s=0,a=0;for(;a<r;){let o=t,A=null,u=0,l=null,c=-1,f=-1;for(;a<r&&(A=o.go(n[a]));)o=A,o.accepts()?(c=0,f=0,l=o):c>=0&&(c+=n[a].length,f++),u+=n[a].length,s+=n[a].length,a++;s-=c,a-=f,u-=c,i.push({t:l.t,v:e.slice(s-u,s),s:s-u,e:s})}return i}function uU(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,a=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function zs(t,e,n,r,i){let s;const a=e.length;for(let o=0;o<a-1;o++){const A=e[o];t.j[A]?s=t.j[A]:(s=new ui(r),s.jr=i.slice(),t.j[A]=s),t=s}return s=new ui(n),s.jr=i.slice(),t.j[e[a-1]]=s,s}function k2(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(t[r]),r++}return e}const Qu={defaultProtocol:"http",events:null,format:F2,formatHref:F2,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Mg(t,e=null){let n=Object.assign({},Qu);t&&(n=Object.assign(n,t instanceof Mg?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}Mg.prototype={o:Qu,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Qu[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function F2(t){return t}function Yx(t,e){this.t="token",this.v=t,this.tk=e}Yx.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Qu.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),a={},o=t.get("className",n,e),A=t.get("target",n,e),u=t.get("rel",n,e),l=t.getObj("attributes",n,e),c=t.getObj("events",n,e);return a.href=r,o&&(a.class=o),A&&(a.target=A),u&&(a.rel=u),l&&Object.assign(a,l),{tagName:i,attributes:a,content:s,eventListeners:c}}};function ud(t,e){class n extends Yx{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const N2=ud("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),U2=ud("text"),lU=ud("nl"),Ql=ud("url",{isLink:!0,toHref(t=Qu.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Du&&t[1].t===ra}}),vi=t=>new ui(t);function cU({groups:t}){const e=t.domain.concat([df,pf,ea,gf,mf,bf,wf,yf,Ti,Lg,Au,Bf,xf,Ef,rs,vf,lu,Cf]),n=[hf,ra,_g,ns,Dg,Au,uu,Qg,Rg,nf,rf,au,ou,Zc,Jc,ef,tf,sf,af,of,Af,uf,lf,cf,ff],r=[df,hf,pf,gf,mf,bf,wf,yf,Ti,au,ou,Au,Bf,xf,Ef,uu,rs,vf,lu,Cf],i=vi(),s=ct(i,lu);on(s,r,s),on(s,t.domain,s);const a=vi(),o=vi(),A=vi();on(i,t.domain,a),on(i,t.scheme,o),on(i,t.slashscheme,A),on(a,r,s),on(a,t.domain,a);const u=ct(a,ea);ct(s,ea,u),ct(o,ea,u),ct(A,ea,u);const l=ct(s,ns);on(l,r,s),on(l,t.domain,s);const c=vi();on(u,t.domain,c),on(c,t.domain,c);const f=ct(c,ns);on(f,t.domain,c);const d=vi(N2);on(f,t.tld,d),on(f,t.utld,d),ct(u,Du,d);const w=ct(c,Ti);ct(w,Ti,w),on(w,t.domain,c),on(d,t.domain,c),ct(d,ns,f),ct(d,Ti,w);const T=ct(d,ra);on(T,t.numeric,N2);const D=ct(a,Ti),N=ct(a,ns);ct(D,Ti,D),on(D,t.domain,a),on(N,r,s),on(N,t.domain,a);const M=vi(Ql);on(N,t.tld,M),on(N,t.utld,M),on(M,t.domain,a),on(M,r,s),ct(M,ns,N),ct(M,Ti,D),ct(M,ea,u);const q=ct(M,ra),j=vi(Ql);on(q,t.numeric,j);const J=vi(Ql),H=vi();on(J,e,J),on(J,n,H),on(H,e,J),on(H,n,H),ct(M,rs,J),ct(j,rs,J);const ve=ct(o,ra),De=ct(A,ra),Fe=ct(De,rs),me=ct(Fe,rs);on(o,t.domain,a),ct(o,ns,N),ct(o,Ti,D),on(A,t.domain,a),ct(A,ns,N),ct(A,Ti,D),on(ve,t.domain,J),ct(ve,rs,J),ct(ve,uu,J),on(me,t.domain,J),on(me,e,J),ct(me,rs,J);const qe=[[au,ou],[Jc,Zc],[ef,tf],[nf,rf],[sf,af],[of,Af],[uf,lf],[cf,ff]];for(let Me=0;Me<qe.length;Me++){const[Ke,tt]=qe[Me],st=ct(J,Ke);ct(H,Ke,st),ct(st,tt,J);const gt=vi(Ql);on(st,e,gt);const mt=vi();on(st,n),on(gt,e,gt),on(gt,n,mt),on(mt,e,gt),on(mt,n,mt),ct(gt,tt,J),ct(mt,tt,J)}return ct(i,Du,M),ct(i,Og,lU),{start:i,tokens:Wx}}function fU(t,e,n){let r=n.length,i=0,s=[],a=[];for(;i<r;){let o=t,A=null,u=null,l=0,c=null,f=-1;for(;i<r&&!(A=o.go(n[i].t));)a.push(n[i++]);for(;i<r&&(u=A||o.go(n[i].t));)A=null,o=u,o.accepts()?(f=0,c=o):f>=0&&f++,i++,l++;if(f<0)i-=l,i<r&&(a.push(n[i]),i++);else{a.length>0&&(s.push(wh(U2,e,a)),a=[]),i-=f,l-=f;const d=c.t,w=n.slice(i-l,i);s.push(wh(d,e,w))}}return a.length>0&&s.push(wh(U2,e,a)),s}function wh(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const dU=typeof console!="undefined"&&console&&console.warn||(()=>{}),hU="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Kn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function pU(){return ui.groups={},Kn.scanner=null,Kn.parser=null,Kn.tokenQueue=[],Kn.pluginQueue=[],Kn.customSchemes=[],Kn.initialized=!1,Kn}function L2(t,e=!1){if(Kn.initialized&&dU(`linkifyjs: already initialized - will not register custom scheme "${t}" ${hU}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Kn.customSchemes.push([t,e])}function gU(){Kn.scanner=AU(Kn.customSchemes);for(let t=0;t<Kn.tokenQueue.length;t++)Kn.tokenQueue[t][1]({scanner:Kn.scanner});Kn.parser=cU(Kn.scanner.tokens);for(let t=0;t<Kn.pluginQueue.length;t++)Kn.pluginQueue[t][1]({scanner:Kn.scanner,parser:Kn.parser});return Kn.initialized=!0,Kn}function Pg(t){return Kn.initialized||gU(),fU(Kn.parser.start,t,$x(Kn.scanner.start,t))}Pg.scan=$x;function Xx(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new Mg(n),i=Pg(t),s=[];for(let a=0;a<i.length;a++){const o=i[a];o.isLink&&(!e||o.t===e)&&r.check(o)&&s.push(o.toFormattedObject(r))}return s}const Hg="[\0- -\u2029]",mU=new RegExp(Hg),bU=new RegExp(`${Hg}$`),wU=new RegExp(Hg,"g");function yU(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function BU(t){return new gr({key:new ii("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(u=>u.docChanged)&&!n.doc.eq(r.doc),s=e.some(u=>u.getMeta("preventAutolink"));if(!i||s)return;const{tr:a}=r,o=dI(n.doc,[...e]);if(BI(o).forEach(({newRange:u})=>{const l=pI(r.doc,u,d=>d.isTextblock);let c,f;if(l.length>1)c=l[0],f=r.doc.textBetween(c.pos,c.pos+c.node.nodeSize,void 0," ");else if(l.length){const d=r.doc.textBetween(u.from,u.to," "," ");if(!bU.test(d))return;c=l[0],f=r.doc.textBetween(c.pos,u.to,void 0," ")}if(c&&f){const d=f.split(mU).filter(Boolean);if(d.length<=0)return!1;const w=d[d.length-1],T=c.pos+f.lastIndexOf(w);if(!w)return!1;const D=Pg(w).map(N=>N.toObject(t.defaultProtocol));if(!yU(D))return!1;D.filter(N=>N.isLink).map(N=>_t(Ie({},N),{from:T+N.start+1,to:T+N.end+1})).filter(N=>r.schema.marks.code?!r.doc.rangeHasMark(N.from,N.to,r.schema.marks.code):!0).filter(N=>t.validate(N.value)).filter(N=>t.shouldAutoLink(N.value)).forEach(N=>{yg(N.from,N.to,r.doc).some(M=>M.mark.type===t.type)||a.addMark(N.from,N.to,t.type.create({href:N.href}))})}}),!!a.steps.length)return a}})}function xU(t){return new gr({key:new ii("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let a=r.target;const o=[];for(;a.nodeName!=="DIV";)o.push(a),a=a.parentNode;if(!o.find(f=>f.nodeName==="A"))return!1;const A=hx(e.state,t.type.name),u=r.target,l=(i=u==null?void 0:u.href)!==null&&i!==void 0?i:A.href,c=(s=u==null?void 0:u.target)!==null&&s!==void 0?s:A.target;return u&&l?(window.open(l,c),!0):!1}}})}function EU(t){return new gr({key:new ii("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:s}=i,{empty:a}=s;if(a)return!1;let o="";r.content.forEach(u=>{o+=u.textContent});const A=Xx(o,{defaultProtocol:t.defaultProtocol}).find(u=>u.isLink&&u.value===o);return!o||!A?!1:t.editor.commands.setMark(t.type,{href:A.href})}}})}function Fa(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(wU,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const CU=ps.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){L2(t);return}L2(t.scheme,t.optionalSlashes)})},onDestroy(){pU()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Fa(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Fa(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Fa(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",pr(this.options.HTMLAttributes,t),0]:["a",pr(this.options.HTMLAttributes,_t(Ie({},t),{href:""})),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Fa(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Fa(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[oo({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=Xx(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!Fa(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(BU({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Fa(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(xU({type:this.type})),this.options.linkOnPaste&&t.push(EU({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),vU=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,TU=Mi.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",pr(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[gx({find:vU,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),SU=ps.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",pr(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),IU=Tr.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}});function O2(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const a=n.slice(i,r).trim();(a||!s)&&e.push(a),i=r+1,r=n.indexOf(",",i)}return e}function Jx(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const kU=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,FU=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,NU={};function _2(t,e){return(NU.jsx?FU:kU).test(t)}const UU=/[ \t\n\f\r]/g;function LU(t){return typeof t=="object"?t.type==="text"?D2(t.value):!1:D2(t)}function D2(t){return t.replace(UU,"")===""}let tl=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};tl.prototype.normal={};tl.prototype.property={};tl.prototype.space=void 0;function Zx(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new tl(n,r,e)}function Ru(t){return t.toLowerCase()}let hi=class{constructor(e,n){this.attribute=n,this.property=e}};hi.prototype.attribute="";hi.prototype.booleanish=!1;hi.prototype.boolean=!1;hi.prototype.commaOrSpaceSeparated=!1;hi.prototype.commaSeparated=!1;hi.prototype.defined=!1;hi.prototype.mustUseProperty=!1;hi.prototype.number=!1;hi.prototype.overloadedBoolean=!1;hi.prototype.property="";hi.prototype.spaceSeparated=!1;hi.prototype.space=void 0;let OU=0;const rn=co(),ar=co(),Jp=co(),dt=co(),Rn=co(),Vo=co(),gi=co();function co(){return Md(2,++OU)}const Zp=Object.freeze(Object.defineProperty({__proto__:null,boolean:rn,booleanish:ar,commaOrSpaceSeparated:gi,commaSeparated:Vo,number:dt,overloadedBoolean:Jp,spaceSeparated:Rn},Symbol.toStringTag,{value:"Module"})),yh=Object.keys(Zp);let jg=class extends hi{constructor(e,n,r,i){let s=-1;if(super(e,n),Q2(this,"space",i),typeof r=="number")for(;++s<yh.length;){const a=yh[s];Q2(this,yh[s],(r&Zp[a])===Zp[a])}}};jg.prototype.defined=!0;function Q2(t,e,n){n&&(t[e]=n)}function uA(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new jg(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[Ru(r)]=r,n[Ru(s.attribute)]=r}return new tl(e,n,t.space)}const eE=uA({properties:{ariaActiveDescendant:null,ariaAtomic:ar,ariaAutoComplete:null,ariaBusy:ar,ariaChecked:ar,ariaColCount:dt,ariaColIndex:dt,ariaColSpan:dt,ariaControls:Rn,ariaCurrent:null,ariaDescribedBy:Rn,ariaDetails:null,ariaDisabled:ar,ariaDropEffect:Rn,ariaErrorMessage:null,ariaExpanded:ar,ariaFlowTo:Rn,ariaGrabbed:ar,ariaHasPopup:null,ariaHidden:ar,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Rn,ariaLevel:dt,ariaLive:null,ariaModal:ar,ariaMultiLine:ar,ariaMultiSelectable:ar,ariaOrientation:null,ariaOwns:Rn,ariaPlaceholder:null,ariaPosInSet:dt,ariaPressed:ar,ariaReadOnly:ar,ariaRelevant:null,ariaRequired:ar,ariaRoleDescription:Rn,ariaRowCount:dt,ariaRowIndex:dt,ariaRowSpan:dt,ariaSelected:ar,ariaSetSize:dt,ariaSort:null,ariaValueMax:dt,ariaValueMin:dt,ariaValueNow:dt,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function tE(t,e){return e in t?t[e]:e}function nE(t,e){return tE(t,e.toLowerCase())}const _U=uA({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Vo,acceptCharset:Rn,accessKey:Rn,action:null,allow:null,allowFullScreen:rn,allowPaymentRequest:rn,allowUserMedia:rn,alt:null,as:null,async:rn,autoCapitalize:null,autoComplete:Rn,autoFocus:rn,autoPlay:rn,blocking:Rn,capture:null,charSet:null,checked:rn,cite:null,className:Rn,cols:dt,colSpan:null,content:null,contentEditable:ar,controls:rn,controlsList:Rn,coords:dt|Vo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:rn,defer:rn,dir:null,dirName:null,disabled:rn,download:Jp,draggable:ar,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:rn,formTarget:null,headers:Rn,height:dt,hidden:Jp,high:dt,href:null,hrefLang:null,htmlFor:Rn,httpEquiv:Rn,id:null,imageSizes:null,imageSrcSet:null,inert:rn,inputMode:null,integrity:null,is:null,isMap:rn,itemId:null,itemProp:Rn,itemRef:Rn,itemScope:rn,itemType:Rn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:rn,low:dt,manifest:null,max:null,maxLength:dt,media:null,method:null,min:null,minLength:dt,multiple:rn,muted:rn,name:null,nonce:null,noModule:rn,noValidate:rn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:rn,optimum:dt,pattern:null,ping:Rn,placeholder:null,playsInline:rn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:rn,referrerPolicy:null,rel:Rn,required:rn,reversed:rn,rows:dt,rowSpan:dt,sandbox:Rn,scope:null,scoped:rn,seamless:rn,selected:rn,shadowRootClonable:rn,shadowRootDelegatesFocus:rn,shadowRootMode:null,shape:null,size:dt,sizes:null,slot:null,span:dt,spellCheck:ar,src:null,srcDoc:null,srcLang:null,srcSet:null,start:dt,step:null,style:null,tabIndex:dt,target:null,title:null,translate:null,type:null,typeMustMatch:rn,useMap:null,value:ar,width:dt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Rn,axis:null,background:null,bgColor:null,border:dt,borderColor:null,bottomMargin:dt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:rn,declare:rn,event:null,face:null,frame:null,frameBorder:null,hSpace:dt,leftMargin:dt,link:null,longDesc:null,lowSrc:null,marginHeight:dt,marginWidth:dt,noResize:rn,noHref:rn,noShade:rn,noWrap:rn,object:null,profile:null,prompt:null,rev:null,rightMargin:dt,rules:null,scheme:null,scrolling:ar,standby:null,summary:null,text:null,topMargin:dt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:dt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:rn,disableRemotePlayback:rn,prefix:null,property:null,results:dt,security:null,unselectable:null},space:"html",transform:nE}),DU=uA({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:gi,accentHeight:dt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:dt,amplitude:dt,arabicForm:null,ascent:dt,attributeName:null,attributeType:null,azimuth:dt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:dt,by:null,calcMode:null,capHeight:dt,className:Rn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:dt,diffuseConstant:dt,direction:null,display:null,dur:null,divisor:dt,dominantBaseline:null,download:rn,dx:null,dy:null,edgeMode:null,editable:null,elevation:dt,enableBackground:null,end:null,event:null,exponent:dt,externalResourcesRequired:null,fill:null,fillOpacity:dt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Vo,g2:Vo,glyphName:Vo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:dt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:dt,horizOriginX:dt,horizOriginY:dt,id:null,ideographic:dt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:dt,k:dt,k1:dt,k2:dt,k3:dt,k4:dt,kernelMatrix:gi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:dt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:dt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:dt,overlineThickness:dt,paintOrder:null,panose1:null,path:null,pathLength:dt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Rn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:dt,pointsAtY:dt,pointsAtZ:dt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:gi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:gi,rev:gi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:gi,requiredFeatures:gi,requiredFonts:gi,requiredFormats:gi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:dt,specularExponent:dt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:dt,strikethroughThickness:dt,string:null,stroke:null,strokeDashArray:gi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:dt,strokeOpacity:dt,strokeWidth:null,style:null,surfaceScale:dt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:gi,tabIndex:dt,tableValues:null,target:null,targetX:dt,targetY:dt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:gi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:dt,underlineThickness:dt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:dt,values:null,vAlphabetic:dt,vMathematical:dt,vectorEffect:null,vHanging:dt,vIdeographic:dt,version:null,vertAdvY:dt,vertOriginX:dt,vertOriginY:dt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:dt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:tE}),rE=uA({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),iE=uA({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:nE}),sE=uA({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),QU={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},RU=/[A-Z]/g,R2=/-[a-z]/g,MU=/^data[-\w.:]+$/i;function Kg(t,e){const n=Ru(e);let r=e,i=hi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&MU.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(R2,HU);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!R2.test(s)){let a=s.replace(RU,PU);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=jg}return new i(r,e)}function PU(t){return"-"+t.toLowerCase()}function HU(t){return t.charAt(1).toUpperCase()}const ld=Zx([eE,_U,rE,iE,sE],"html"),lA=Zx([eE,DU,rE,iE,sE],"svg");function M2(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function aE(t){return t.join(" ").trim()}var Bo={},Bh,P2;function jU(){if(P2)return Bh;P2=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,A=`
`,u="/",l="*",c="",f="comment",d="declaration";Bh=function(T,D){if(typeof T!="string")throw new TypeError("First argument must be a string");if(!T)return[];D=D||{};var N=1,M=1;function q(Ke){var tt=Ke.match(e);tt&&(N+=tt.length);var st=Ke.lastIndexOf(A);M=~st?Ke.length-st:M+Ke.length}function j(){var Ke={line:N,column:M};return function(tt){return tt.position=new J(Ke),De(),tt}}function J(Ke){this.start=Ke,this.end={line:N,column:M},this.source=D.source}J.prototype.content=T;function H(Ke){var tt=new Error(D.source+":"+N+":"+M+": "+Ke);if(tt.reason=Ke,tt.filename=D.source,tt.line=N,tt.column=M,tt.source=T,!D.silent)throw tt}function ve(Ke){var tt=Ke.exec(T);if(tt){var st=tt[0];return q(st),T=T.slice(st.length),tt}}function De(){ve(n)}function Fe(Ke){var tt;for(Ke=Ke||[];tt=me();)tt!==!1&&Ke.push(tt);return Ke}function me(){var Ke=j();if(!(u!=T.charAt(0)||l!=T.charAt(1))){for(var tt=2;c!=T.charAt(tt)&&(l!=T.charAt(tt)||u!=T.charAt(tt+1));)++tt;if(tt+=2,c===T.charAt(tt-1))return H("End of comment missing");var st=T.slice(2,tt-2);return M+=2,q(st),T=T.slice(tt),M+=2,Ke({type:f,comment:st})}}function qe(){var Ke=j(),tt=ve(r);if(tt){if(me(),!ve(i))return H("property missing ':'");var st=ve(s),gt=Ke({type:d,property:w(tt[0].replace(t,c)),value:st?w(st[0].replace(t,c)):c});return ve(a),gt}}function Me(){var Ke=[];Fe(Ke);for(var tt;tt=qe();)tt!==!1&&(Ke.push(tt),Fe(Ke));return Ke}return De(),Me()};function w(T){return T?T.replace(o,c):c}return Bh}var H2;function KU(){if(H2)return Bo;H2=1;var t=Bo&&Bo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.default=n;var e=t(jU());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var a=(0,e.default)(r),o=typeof i=="function";return a.forEach(function(A){if(A.type==="declaration"){var u=A.property,l=A.value;o?i(u,l,A):l&&(s=s||{},s[u]=l)}}),s}return Bo}var IA={},j2;function VU(){if(j2)return IA;j2=1,Object.defineProperty(IA,"__esModule",{value:!0}),IA.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(u){return!u||n.test(u)||t.test(u)},a=function(u,l){return l.toUpperCase()},o=function(u,l){return"".concat(l,"-")},A=function(u,l){return l===void 0&&(l={}),s(u)?u:(u=u.toLowerCase(),l.reactCompat?u=u.replace(i,o):u=u.replace(r,o),u.replace(e,a))};return IA.camelCase=A,IA}var kA,K2;function zU(){if(K2)return kA;K2=1;var t=kA&&kA.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(KU()),n=VU();function r(i,s){var a={};return!i||typeof i!="string"||(0,e.default)(i,function(o,A){o&&A&&(a[(0,n.camelCase)(o,s)]=A)}),a}return r.default=r,kA=r,kA}var qU=zU();const GU=Wu(qU),cd=oE("end"),ms=oE("start");function oE(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function WU(t){const e=ms(t),n=cd(t);if(e&&n)return{start:e,end:n}}function cu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?V2(t.position):"start"in t||"end"in t?V2(t):"line"in t||"column"in t?e0(t):""}function e0(t){return z2(t&&t.line)+":"+z2(t&&t.column)}function V2(t){return e0(t&&t.start)+"-"+e0(t&&t.end)}function z2(t){return t&&typeof t=="number"?t:1}class Vr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s=Ie({},n)),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const A=r.indexOf(":");A===-1?s.ruleId=r:(s.source=r.slice(0,A),s.ruleId=r.slice(A+1))}if(!s.place&&s.ancestors&&s.ancestors){const A=s.ancestors[s.ancestors.length-1];A&&(s.place=A.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=cu(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Vr.prototype.file="";Vr.prototype.name="";Vr.prototype.reason="";Vr.prototype.message="";Vr.prototype.stack="";Vr.prototype.column=void 0;Vr.prototype.line=void 0;Vr.prototype.ancestors=void 0;Vr.prototype.cause=void 0;Vr.prototype.fatal=void 0;Vr.prototype.place=void 0;Vr.prototype.ruleId=void 0;Vr.prototype.source=void 0;const Vg={}.hasOwnProperty,$U=new Map,YU=/[A-Z]/g,XU=new Set(["table","tbody","thead","tfoot","tr"]),JU=new Set(["td","th"]),AE="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function ZU(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=o8(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=a8(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?lA:ld,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=uE(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function uE(t,e,n){if(e.type==="element")return e8(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return t8(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return r8(t,e,n);if(e.type==="mdxjsEsm")return n8(t,e);if(e.type==="root")return i8(t,e,n);if(e.type==="text")return s8(t,e)}function e8(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=lA,t.schema=i),t.ancestors.push(e);const s=cE(t,e.tagName,!1),a=A8(t,e);let o=qg(t,e);return XU.has(e.tagName)&&(o=o.filter(function(A){return typeof A=="string"?!LU(A):!0})),lE(t,a,s,e),zg(a,o),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function t8(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Mu(t,e.position)}function n8(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Mu(t,e.position)}function r8(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=lA,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:cE(t,e.name,!0),a=u8(t,e),o=qg(t,e);return lE(t,a,s,e),zg(a,o),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function i8(t,e,n){const r={};return zg(r,qg(t,e)),t.create(e,t.Fragment,r,n)}function s8(t,e){return e.value}function lE(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function zg(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function a8(t,e,n){return r;function r(i,s,a,o){const u=Array.isArray(a.children)?n:e;return o?u(s,a,o):u(s,a)}}function o8(t,e){return n;function n(r,i,s,a){const o=Array.isArray(s.children),A=ms(r);return e(i,s,a,o,{columnNumber:A?A.column-1:void 0,fileName:t,lineNumber:A?A.line:void 0},void 0)}}function A8(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Vg.call(e.properties,i)){const s=l8(t,i,e.properties[i]);if(s){const[a,o]=s;t.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&JU.has(e.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function u8(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else Mu(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,s=t.evaluater.evaluateExpression(o.expression)}else Mu(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function qg(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:$U;for(;++r<e.children.length;){const s=e.children[r];let a;if(t.passKeys){const A=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(A){const u=i.get(A)||0;a=A+"-"+u,i.set(A,u+1)}}const o=uE(t,s,a);o!==void 0&&n.push(o)}return n}function l8(t,e,n){const r=Kg(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Jx(n):aE(n)),r.property==="style"){let i=typeof n=="object"?n:c8(t,String(n));return t.stylePropertyNameCase==="css"&&(i=f8(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?QU[r.property]||r.property:r.attribute,n]}}function c8(t,e){try{return GU(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Vr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=AE+"#cannot-parse-style-attribute",i}}function cE(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,a;for(;++s<i.length;){const o=_2(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=_2(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Vg.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Mu(t)}function Mu(t,e){const n=new Vr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=AE+"#cannot-handle-mdx-estrees-without-createevaluater",n}function f8(t){const e={};let n;for(n in t)Vg.call(t,n)&&(e[d8(n)]=t[n]);return e}function d8(t){let e=t.replace(YU,h8);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function h8(t){return"-"+t.toLowerCase()}const xh={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},p8={};function Gg(t,e){const n=p8,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return fE(t,r,i)}function fE(t,e,n){if(g8(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return q2(t.children,e,n)}return Array.isArray(t)?q2(t,e,n):""}function q2(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=fE(t[i],e,n);return r.join("")}function g8(t){return!!(t&&typeof t=="object")}const G2=document.createElement("i");function Wg(t){const e="&"+t+";";G2.innerHTML=e;const n=G2.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function xi(t,e,n,r){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function ki(t,e){return t.length>0?(xi(t,t.length,0,e),t):e}const W2={}.hasOwnProperty;function dE(t){const e={};let n=-1;for(;++n<t.length;)m8(e,t[n]);return e}function m8(t,e){let n;for(n in e){const i=(W2.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let a;if(s)for(a in s){W2.call(i,a)||(i[a]=[]);const o=s[a];b8(i[a],Array.isArray(o)?o:o?[o]:[])}}}function b8(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);xi(t,0,0,r)}function hE(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Wi(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Zr=Ca(/[A-Za-z]/),jr=Ca(/[\dA-Za-z]/),w8=Ca(/[#-'*+\--9=?A-Z^-~]/);function Tf(t){return t!==null&&(t<32||t===127)}const t0=Ca(/\d/),y8=Ca(/[\dA-Fa-f]/),B8=Ca(/[!-/:-@[-`{-~]/);function qt(t){return t!==null&&t<-2}function Dn(t){return t!==null&&(t<0||t===32)}function hn(t){return t===-2||t===-1||t===32}const fd=Ca(new RegExp("\\p{P}|\\p{S}","u")),uo=Ca(/\s/);function Ca(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function cA(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let a="";if(s===37&&jr(t.charCodeAt(n+1))&&jr(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=t.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function yn(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(A){return hn(A)?(t.enter(n),o(A)):e(A)}function o(A){return hn(A)&&s++<i?(t.consume(A),o):(t.exit(n),e(A))}}const x8={tokenize:E8};function E8(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),yn(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),s(o)}function s(o){const A=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=A),n=A,a(o)}function a(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return qt(o)?(t.consume(o),t.exit("chunkText"),s):(t.consume(o),a)}}const C8={tokenize:v8},$2={tokenize:T8};function v8(t){const e=this,n=[];let r=0,i,s,a;return o;function o(q){if(r<n.length){const j=n[r];return e.containerState=j[1],t.attempt(j[0].continuation,A,u)(q)}return u(q)}function A(q){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&M();const j=e.events.length;let J=j,H;for(;J--;)if(e.events[J][0]==="exit"&&e.events[J][1].type==="chunkFlow"){H=e.events[J][1].end;break}N(r);let ve=j;for(;ve<e.events.length;)e.events[ve][1].end=Ie({},H),ve++;return xi(e.events,J+1,0,e.events.slice(j)),e.events.length=ve,u(q)}return o(q)}function u(q){if(r===n.length){if(!i)return f(q);if(i.currentConstruct&&i.currentConstruct.concrete)return w(q);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check($2,l,c)(q)}function l(q){return i&&M(),N(r),f(q)}function c(q){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,w(q)}function f(q){return e.containerState={},t.attempt($2,d,w)(q)}function d(q){return r++,n.push([e.currentConstruct,e.containerState]),f(q)}function w(q){if(q===null){i&&M(),N(0),t.consume(q);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),T(q)}function T(q){if(q===null){D(t.exit("chunkFlow"),!0),N(0),t.consume(q);return}return qt(q)?(t.consume(q),D(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(q),T)}function D(q,j){const J=e.sliceStream(q);if(j&&J.push(null),q.previous=s,s&&(s.next=q),s=q,i.defineSkip(q.start),i.write(J),e.parser.lazy[q.start.line]){let H=i.events.length;for(;H--;)if(i.events[H][1].start.offset<a&&(!i.events[H][1].end||i.events[H][1].end.offset>a))return;const ve=e.events.length;let De=ve,Fe,me;for(;De--;)if(e.events[De][0]==="exit"&&e.events[De][1].type==="chunkFlow"){if(Fe){me=e.events[De][1].end;break}Fe=!0}for(N(r),H=ve;H<e.events.length;)e.events[H][1].end=Ie({},me),H++;xi(e.events,De+1,0,e.events.slice(ve)),e.events.length=H}}function N(q){let j=n.length;for(;j-- >q;){const J=n[j];e.containerState=J[1],J[0].exit.call(e,t)}n.length=q}function M(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function T8(t,e,n){return yn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function nA(t){if(t===null||Dn(t)||uo(t))return 1;if(fd(t))return 2}function dd(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const n0={name:"attention",resolveAll:S8,tokenize:I8};function S8(t,e){let n=-1,r,i,s,a,o,A,u,l;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;A=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const c=Ie({},t[r][1].end),f=Ie({},t[n][1].start);Y2(c,-A),Y2(f,A),a={type:A>1?"strongSequence":"emphasisSequence",start:c,end:Ie({},t[r][1].end)},o={type:A>1?"strongSequence":"emphasisSequence",start:Ie({},t[n][1].start),end:f},s={type:A>1?"strongText":"emphasisText",start:Ie({},t[r][1].end),end:Ie({},t[n][1].start)},i={type:A>1?"strong":"emphasis",start:Ie({},a.start),end:Ie({},o.end)},t[r][1].end=Ie({},a.start),t[n][1].start=Ie({},o.end),u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=ki(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=ki(u,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),u=ki(u,dd(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=ki(u,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(l=2,u=ki(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):l=0,xi(t,r-1,n-r+3,u),n=r+u.length-l-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function I8(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=nA(r);let s;return a;function a(A){return s=A,t.enter("attentionSequence"),o(A)}function o(A){if(A===s)return t.consume(A),o;const u=t.exit("attentionSequence"),l=nA(A),c=!l||l===2&&i||n.includes(A),f=!i||i===2&&l||n.includes(r);return u._open=!!(s===42?c:c&&(i||!f)),u._close=!!(s===42?f:f&&(l||!c)),e(A)}}function Y2(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const k8={name:"autolink",tokenize:F8};function F8(t,e,n){let r=0;return i;function i(d){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(d){return Zr(d)?(t.consume(d),a):d===64?n(d):u(d)}function a(d){return d===43||d===45||d===46||jr(d)?(r=1,o(d)):u(d)}function o(d){return d===58?(t.consume(d),r=0,A):(d===43||d===45||d===46||jr(d))&&r++<32?(t.consume(d),o):(r=0,u(d))}function A(d){return d===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.exit("autolink"),e):d===null||d===32||d===60||Tf(d)?n(d):(t.consume(d),A)}function u(d){return d===64?(t.consume(d),l):w8(d)?(t.consume(d),u):n(d)}function l(d){return jr(d)?c(d):n(d)}function c(d){return d===46?(t.consume(d),r=0,l):d===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.exit("autolink"),e):f(d)}function f(d){if((d===45||jr(d))&&r++<63){const w=d===45?f:c;return t.consume(d),w}return n(d)}}const nl={partial:!0,tokenize:N8};function N8(t,e,n){return r;function r(s){return hn(s)?yn(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||qt(s)?e(s):n(s)}}const pE={continuation:{tokenize:L8},exit:O8,name:"blockQuote",tokenize:U8};function U8(t,e,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return hn(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function L8(t,e,n){const r=this;return i;function i(a){return hn(a)?yn(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(pE,e,n)(a)}}function O8(t){t.exit("blockQuote")}const gE={name:"characterEscape",tokenize:_8};function _8(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return B8(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const mE={name:"characterReference",tokenize:D8};function D8(t,e,n){const r=this;let i=0,s,a;return o;function o(c){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(c),t.exit("characterReferenceMarker"),A}function A(c){return c===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(c),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,a=jr,l(c))}function u(c){return c===88||c===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(c),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=y8,l):(t.enter("characterReferenceValue"),s=7,a=t0,l(c))}function l(c){if(c===59&&i){const f=t.exit("characterReferenceValue");return a===jr&&!Wg(r.sliceSerialize(f))?n(c):(t.enter("characterReferenceMarker"),t.consume(c),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(c)&&i++<s?(t.consume(c),l):n(c)}}const X2={partial:!0,tokenize:R8},J2={concrete:!0,name:"codeFenced",tokenize:Q8};function Q8(t,e,n){const r=this,i={partial:!0,tokenize:J};let s=0,a=0,o;return A;function A(H){return u(H)}function u(H){const ve=r.events[r.events.length-1];return s=ve&&ve[1].type==="linePrefix"?ve[2].sliceSerialize(ve[1],!0).length:0,o=H,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),l(H)}function l(H){return H===o?(a++,t.consume(H),l):a<3?n(H):(t.exit("codeFencedFenceSequence"),hn(H)?yn(t,c,"whitespace")(H):c(H))}function c(H){return H===null||qt(H)?(t.exit("codeFencedFence"),r.interrupt?e(H):t.check(X2,T,j)(H)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(H))}function f(H){return H===null||qt(H)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),c(H)):hn(H)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),yn(t,d,"whitespace")(H)):H===96&&H===o?n(H):(t.consume(H),f)}function d(H){return H===null||qt(H)?c(H):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),w(H))}function w(H){return H===null||qt(H)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),c(H)):H===96&&H===o?n(H):(t.consume(H),w)}function T(H){return t.attempt(i,j,D)(H)}function D(H){return t.enter("lineEnding"),t.consume(H),t.exit("lineEnding"),N}function N(H){return s>0&&hn(H)?yn(t,M,"linePrefix",s+1)(H):M(H)}function M(H){return H===null||qt(H)?t.check(X2,T,j)(H):(t.enter("codeFlowValue"),q(H))}function q(H){return H===null||qt(H)?(t.exit("codeFlowValue"),M(H)):(t.consume(H),q)}function j(H){return t.exit("codeFenced"),e(H)}function J(H,ve,De){let Fe=0;return me;function me(st){return H.enter("lineEnding"),H.consume(st),H.exit("lineEnding"),qe}function qe(st){return H.enter("codeFencedFence"),hn(st)?yn(H,Me,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(st):Me(st)}function Me(st){return st===o?(H.enter("codeFencedFenceSequence"),Ke(st)):De(st)}function Ke(st){return st===o?(Fe++,H.consume(st),Ke):Fe>=a?(H.exit("codeFencedFenceSequence"),hn(st)?yn(H,tt,"whitespace")(st):tt(st)):De(st)}function tt(st){return st===null||qt(st)?(H.exit("codeFencedFence"),ve(st)):De(st)}}}function R8(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const Eh={name:"codeIndented",tokenize:P8},M8={partial:!0,tokenize:H8};function P8(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),yn(t,s,"linePrefix",5)(u)}function s(u){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?A(u):qt(u)?t.attempt(M8,a,A)(u):(t.enter("codeFlowValue"),o(u))}function o(u){return u===null||qt(u)?(t.exit("codeFlowValue"),a(u)):(t.consume(u),o)}function A(u){return t.exit("codeIndented"),e(u)}}function H8(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):qt(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):yn(t,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):qt(a)?i(a):n(a)}}const j8={name:"codeText",previous:V8,resolve:K8,tokenize:z8};function K8(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function V8(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function z8(t,e,n){let r=0,i,s;return a;function a(c){return t.enter("codeText"),t.enter("codeTextSequence"),o(c)}function o(c){return c===96?(t.consume(c),r++,o):(t.exit("codeTextSequence"),A(c))}function A(c){return c===null?n(c):c===32?(t.enter("space"),t.consume(c),t.exit("space"),A):c===96?(s=t.enter("codeTextSequence"),i=0,l(c)):qt(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),A):(t.enter("codeTextData"),u(c))}function u(c){return c===null||c===32||c===96||qt(c)?(t.exit("codeTextData"),A(c)):(t.consume(c),u)}function l(c){return c===96?(t.consume(c),i++,l):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(c)):(s.type="codeTextData",u(c))}}class q8{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n==null?Number.POSITIVE_INFINITY:n;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&FA(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),FA(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),FA(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);FA(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);FA(this.left,n.reverse())}}}function FA(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function bE(t){const e={};let n=-1,r,i,s,a,o,A,u;const l=new q8(t);for(;++n<l.length;){for(;n in e;)n=e[n];if(r=l.get(n),n&&r[1].type==="chunkFlow"&&l.get(n-1)[1].type==="listItemPrefix"&&(A=r[1]._tokenizer.events,s=0,s<A.length&&A[s][1].type==="lineEndingBlank"&&(s+=2),s<A.length&&A[s][1].type==="content"))for(;++s<A.length&&A[s][1].type!=="content";)A[s][1].type==="chunkText"&&(A[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,G8(l,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=l.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(l.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end=Ie({},l.get(i)[1].start),o=l.slice(i,n),o.unshift(r),l.splice(i,n-i+1,o))}}return xi(t,0,Number.POSITIVE_INFINITY,l.slice(0)),!u}function G8(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,A=[],u={};let l,c,f=-1,d=n,w=0,T=0;const D=[T];for(;d;){for(;t.get(++i)[1]!==d;);s.push(i),d._tokenizer||(l=r.sliceStream(d),d.next||l.push(null),c&&a.defineSkip(d.start),d._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(l),d._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),c=d,d=d.next}for(d=n;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(T=f+1,D.push(T),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(a.events=[],d?(d._tokenizer=void 0,d.previous=void 0):D.pop(),f=D.length;f--;){const N=o.slice(D[f],D[f+1]),M=s.pop();A.push([M,M+N.length-1]),t.splice(M,2,N)}for(A.reverse(),f=-1;++f<A.length;)u[w+A[f][0]]=w+A[f][1],w+=A[f][1]-A[f][0]-1;return u}const W8={resolve:Y8,tokenize:X8},$8={partial:!0,tokenize:J8};function Y8(t){return bE(t),t}function X8(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):qt(o)?t.check($8,a,s)(o):(t.consume(o),i)}function s(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function a(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function J8(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),yn(t,s,"linePrefix")}function s(a){if(a===null||qt(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function wE(t,e,n,r,i,s,a,o,A){const u=A||Number.POSITIVE_INFINITY;let l=0;return c;function c(N){return N===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(N),t.exit(s),f):N===null||N===32||N===41||Tf(N)?n(N):(t.enter(r),t.enter(a),t.enter(o),t.enter("chunkString",{contentType:"string"}),T(N))}function f(N){return N===62?(t.enter(s),t.consume(N),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),d(N))}function d(N){return N===62?(t.exit("chunkString"),t.exit(o),f(N)):N===null||N===60||qt(N)?n(N):(t.consume(N),N===92?w:d)}function w(N){return N===60||N===62||N===92?(t.consume(N),d):d(N)}function T(N){return!l&&(N===null||N===41||Dn(N))?(t.exit("chunkString"),t.exit(o),t.exit(a),t.exit(r),e(N)):l<u&&N===40?(t.consume(N),l++,T):N===41?(t.consume(N),l--,T):N===null||N===32||N===40||Tf(N)?n(N):(t.consume(N),N===92?D:T)}function D(N){return N===40||N===41||N===92?(t.consume(N),T):T(N)}}function yE(t,e,n,r,i,s){const a=this;let o=0,A;return u;function u(d){return t.enter(r),t.enter(i),t.consume(d),t.exit(i),t.enter(s),l}function l(d){return o>999||d===null||d===91||d===93&&!A||d===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(d):d===93?(t.exit(s),t.enter(i),t.consume(d),t.exit(i),t.exit(r),e):qt(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===null||d===91||d===93||qt(d)||o++>999?(t.exit("chunkString"),l(d)):(t.consume(d),A||(A=!hn(d)),d===92?f:c)}function f(d){return d===91||d===92||d===93?(t.consume(d),o++,c):c(d)}}function BE(t,e,n,r,i,s){let a;return o;function o(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),a=f===40?41:f,A):n(f)}function A(f){return f===a?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),u(f))}function u(f){return f===a?(t.exit(s),A(a)):f===null?n(f):qt(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),yn(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),l(f))}function l(f){return f===a||f===null||qt(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?c:l)}function c(f){return f===a||f===92?(t.consume(f),l):l(f)}}function fu(t,e){let n;return r;function r(i){return qt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):hn(i)?yn(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Z8={name:"definition",tokenize:tL},eL={partial:!0,tokenize:nL};function tL(t,e,n){const r=this;let i;return s;function s(d){return t.enter("definition"),a(d)}function a(d){return yE.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}function o(d){return i=Wi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),d===58?(t.enter("definitionMarker"),t.consume(d),t.exit("definitionMarker"),A):n(d)}function A(d){return Dn(d)?fu(t,u)(d):u(d)}function u(d){return wE(t,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function l(d){return t.attempt(eL,c,c)(d)}function c(d){return hn(d)?yn(t,f,"whitespace")(d):f(d)}function f(d){return d===null||qt(d)?(t.exit("definition"),r.parser.defined.push(i),e(d)):n(d)}}function nL(t,e,n){return r;function r(o){return Dn(o)?fu(t,i)(o):n(o)}function i(o){return BE(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return hn(o)?yn(t,a,"whitespace")(o):a(o)}function a(o){return o===null||qt(o)?e(o):n(o)}}const rL={name:"hardBreakEscape",tokenize:iL};function iL(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return qt(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const sL={name:"headingAtx",resolve:aL,tokenize:oL};function aL(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},xi(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function oL(t,e,n){let r=0;return i;function i(l){return t.enter("atxHeading"),s(l)}function s(l){return t.enter("atxHeadingSequence"),a(l)}function a(l){return l===35&&r++<6?(t.consume(l),a):l===null||Dn(l)?(t.exit("atxHeadingSequence"),o(l)):n(l)}function o(l){return l===35?(t.enter("atxHeadingSequence"),A(l)):l===null||qt(l)?(t.exit("atxHeading"),e(l)):hn(l)?yn(t,o,"whitespace")(l):(t.enter("atxHeadingText"),u(l))}function A(l){return l===35?(t.consume(l),A):(t.exit("atxHeadingSequence"),o(l))}function u(l){return l===null||l===35||Dn(l)?(t.exit("atxHeadingText"),o(l)):(t.consume(l),u)}}const AL=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Z2=["pre","script","style","textarea"],uL={concrete:!0,name:"htmlFlow",resolveTo:fL,tokenize:dL},lL={partial:!0,tokenize:pL},cL={partial:!0,tokenize:hL};function fL(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function dL(t,e,n){const r=this;let i,s,a,o,A;return u;function u(pe){return l(pe)}function l(pe){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(pe),c}function c(pe){return pe===33?(t.consume(pe),f):pe===47?(t.consume(pe),s=!0,T):pe===63?(t.consume(pe),i=3,r.interrupt?e:ne):Zr(pe)?(t.consume(pe),a=String.fromCharCode(pe),D):n(pe)}function f(pe){return pe===45?(t.consume(pe),i=2,d):pe===91?(t.consume(pe),i=5,o=0,w):Zr(pe)?(t.consume(pe),i=4,r.interrupt?e:ne):n(pe)}function d(pe){return pe===45?(t.consume(pe),r.interrupt?e:ne):n(pe)}function w(pe){const vt="CDATA[";return pe===vt.charCodeAt(o++)?(t.consume(pe),o===vt.length?r.interrupt?e:Me:w):n(pe)}function T(pe){return Zr(pe)?(t.consume(pe),a=String.fromCharCode(pe),D):n(pe)}function D(pe){if(pe===null||pe===47||pe===62||Dn(pe)){const vt=pe===47,Kt=a.toLowerCase();return!vt&&!s&&Z2.includes(Kt)?(i=1,r.interrupt?e(pe):Me(pe)):AL.includes(a.toLowerCase())?(i=6,vt?(t.consume(pe),N):r.interrupt?e(pe):Me(pe)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(pe):s?M(pe):q(pe))}return pe===45||jr(pe)?(t.consume(pe),a+=String.fromCharCode(pe),D):n(pe)}function N(pe){return pe===62?(t.consume(pe),r.interrupt?e:Me):n(pe)}function M(pe){return hn(pe)?(t.consume(pe),M):me(pe)}function q(pe){return pe===47?(t.consume(pe),me):pe===58||pe===95||Zr(pe)?(t.consume(pe),j):hn(pe)?(t.consume(pe),q):me(pe)}function j(pe){return pe===45||pe===46||pe===58||pe===95||jr(pe)?(t.consume(pe),j):J(pe)}function J(pe){return pe===61?(t.consume(pe),H):hn(pe)?(t.consume(pe),J):q(pe)}function H(pe){return pe===null||pe===60||pe===61||pe===62||pe===96?n(pe):pe===34||pe===39?(t.consume(pe),A=pe,ve):hn(pe)?(t.consume(pe),H):De(pe)}function ve(pe){return pe===A?(t.consume(pe),A=null,Fe):pe===null||qt(pe)?n(pe):(t.consume(pe),ve)}function De(pe){return pe===null||pe===34||pe===39||pe===47||pe===60||pe===61||pe===62||pe===96||Dn(pe)?J(pe):(t.consume(pe),De)}function Fe(pe){return pe===47||pe===62||hn(pe)?q(pe):n(pe)}function me(pe){return pe===62?(t.consume(pe),qe):n(pe)}function qe(pe){return pe===null||qt(pe)?Me(pe):hn(pe)?(t.consume(pe),qe):n(pe)}function Me(pe){return pe===45&&i===2?(t.consume(pe),gt):pe===60&&i===1?(t.consume(pe),mt):pe===62&&i===4?(t.consume(pe),Ft):pe===63&&i===3?(t.consume(pe),ne):pe===93&&i===5?(t.consume(pe),Ge):qt(pe)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(lL,Lt,Ke)(pe)):pe===null||qt(pe)?(t.exit("htmlFlowData"),Ke(pe)):(t.consume(pe),Me)}function Ke(pe){return t.check(cL,tt,Lt)(pe)}function tt(pe){return t.enter("lineEnding"),t.consume(pe),t.exit("lineEnding"),st}function st(pe){return pe===null||qt(pe)?Ke(pe):(t.enter("htmlFlowData"),Me(pe))}function gt(pe){return pe===45?(t.consume(pe),ne):Me(pe)}function mt(pe){return pe===47?(t.consume(pe),a="",yt):Me(pe)}function yt(pe){if(pe===62){const vt=a.toLowerCase();return Z2.includes(vt)?(t.consume(pe),Ft):Me(pe)}return Zr(pe)&&a.length<8?(t.consume(pe),a+=String.fromCharCode(pe),yt):Me(pe)}function Ge(pe){return pe===93?(t.consume(pe),ne):Me(pe)}function ne(pe){return pe===62?(t.consume(pe),Ft):pe===45&&i===2?(t.consume(pe),ne):Me(pe)}function Ft(pe){return pe===null||qt(pe)?(t.exit("htmlFlowData"),Lt(pe)):(t.consume(pe),Ft)}function Lt(pe){return t.exit("htmlFlow"),e(pe)}}function hL(t,e,n){const r=this;return i;function i(a){return qt(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function pL(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(nl,e,n)}}const gL={name:"htmlText",tokenize:mL};function mL(t,e,n){const r=this;let i,s,a;return o;function o(ne){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(ne),A}function A(ne){return ne===33?(t.consume(ne),u):ne===47?(t.consume(ne),J):ne===63?(t.consume(ne),q):Zr(ne)?(t.consume(ne),De):n(ne)}function u(ne){return ne===45?(t.consume(ne),l):ne===91?(t.consume(ne),s=0,w):Zr(ne)?(t.consume(ne),M):n(ne)}function l(ne){return ne===45?(t.consume(ne),d):n(ne)}function c(ne){return ne===null?n(ne):ne===45?(t.consume(ne),f):qt(ne)?(a=c,mt(ne)):(t.consume(ne),c)}function f(ne){return ne===45?(t.consume(ne),d):c(ne)}function d(ne){return ne===62?gt(ne):ne===45?f(ne):c(ne)}function w(ne){const Ft="CDATA[";return ne===Ft.charCodeAt(s++)?(t.consume(ne),s===Ft.length?T:w):n(ne)}function T(ne){return ne===null?n(ne):ne===93?(t.consume(ne),D):qt(ne)?(a=T,mt(ne)):(t.consume(ne),T)}function D(ne){return ne===93?(t.consume(ne),N):T(ne)}function N(ne){return ne===62?gt(ne):ne===93?(t.consume(ne),N):T(ne)}function M(ne){return ne===null||ne===62?gt(ne):qt(ne)?(a=M,mt(ne)):(t.consume(ne),M)}function q(ne){return ne===null?n(ne):ne===63?(t.consume(ne),j):qt(ne)?(a=q,mt(ne)):(t.consume(ne),q)}function j(ne){return ne===62?gt(ne):q(ne)}function J(ne){return Zr(ne)?(t.consume(ne),H):n(ne)}function H(ne){return ne===45||jr(ne)?(t.consume(ne),H):ve(ne)}function ve(ne){return qt(ne)?(a=ve,mt(ne)):hn(ne)?(t.consume(ne),ve):gt(ne)}function De(ne){return ne===45||jr(ne)?(t.consume(ne),De):ne===47||ne===62||Dn(ne)?Fe(ne):n(ne)}function Fe(ne){return ne===47?(t.consume(ne),gt):ne===58||ne===95||Zr(ne)?(t.consume(ne),me):qt(ne)?(a=Fe,mt(ne)):hn(ne)?(t.consume(ne),Fe):gt(ne)}function me(ne){return ne===45||ne===46||ne===58||ne===95||jr(ne)?(t.consume(ne),me):qe(ne)}function qe(ne){return ne===61?(t.consume(ne),Me):qt(ne)?(a=qe,mt(ne)):hn(ne)?(t.consume(ne),qe):Fe(ne)}function Me(ne){return ne===null||ne===60||ne===61||ne===62||ne===96?n(ne):ne===34||ne===39?(t.consume(ne),i=ne,Ke):qt(ne)?(a=Me,mt(ne)):hn(ne)?(t.consume(ne),Me):(t.consume(ne),tt)}function Ke(ne){return ne===i?(t.consume(ne),i=void 0,st):ne===null?n(ne):qt(ne)?(a=Ke,mt(ne)):(t.consume(ne),Ke)}function tt(ne){return ne===null||ne===34||ne===39||ne===60||ne===61||ne===96?n(ne):ne===47||ne===62||Dn(ne)?Fe(ne):(t.consume(ne),tt)}function st(ne){return ne===47||ne===62||Dn(ne)?Fe(ne):n(ne)}function gt(ne){return ne===62?(t.consume(ne),t.exit("htmlTextData"),t.exit("htmlText"),e):n(ne)}function mt(ne){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(ne),t.exit("lineEnding"),yt}function yt(ne){return hn(ne)?yn(t,Ge,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):Ge(ne)}function Ge(ne){return t.enter("htmlTextData"),a(ne)}}const $g={name:"labelEnd",resolveAll:BL,resolveTo:xL,tokenize:EL},bL={tokenize:CL},wL={tokenize:vL},yL={tokenize:TL};function BL(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&xi(t,0,t.length,n),t}function xL(t,e){let n=t.length,r=0,i,s,a,o;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const A={type:t[s][1].type==="labelLink"?"link":"image",start:Ie({},t[s][1].start),end:Ie({},t[t.length-1][1].end)},u={type:"label",start:Ie({},t[s][1].start),end:Ie({},t[a][1].end)},l={type:"labelText",start:Ie({},t[s+r+2][1].end),end:Ie({},t[a-2][1].start)};return o=[["enter",A,e],["enter",u,e]],o=ki(o,t.slice(s+1,s+r+3)),o=ki(o,[["enter",l,e]]),o=ki(o,dd(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),o=ki(o,[["exit",l,e],t[a-2],t[a-1],["exit",u,e]]),o=ki(o,t.slice(a+1)),o=ki(o,[["exit",A,e]]),xi(t,s,t.length,o),t}function EL(t,e,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(f){return s?s._inactive?c(f):(a=r.parser.defined.includes(Wi(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),A):n(f)}function A(f){return f===40?t.attempt(bL,l,a?l:c)(f):f===91?t.attempt(wL,l,a?u:c)(f):a?l(f):c(f)}function u(f){return t.attempt(yL,l,c)(f)}function l(f){return e(f)}function c(f){return s._balanced=!0,n(f)}}function CL(t,e,n){return r;function r(c){return t.enter("resource"),t.enter("resourceMarker"),t.consume(c),t.exit("resourceMarker"),i}function i(c){return Dn(c)?fu(t,s)(c):s(c)}function s(c){return c===41?l(c):wE(t,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(c)}function a(c){return Dn(c)?fu(t,A)(c):l(c)}function o(c){return n(c)}function A(c){return c===34||c===39||c===40?BE(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(c):l(c)}function u(c){return Dn(c)?fu(t,l)(c):l(c)}function l(c){return c===41?(t.enter("resourceMarker"),t.consume(c),t.exit("resourceMarker"),t.exit("resource"),e):n(c)}}function vL(t,e,n){const r=this;return i;function i(o){return yE.call(r,t,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Wi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function a(o){return n(o)}}function TL(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const SL={name:"labelStartImage",resolveAll:$g.resolveAll,tokenize:IL};function IL(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),s}function s(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const kL={name:"labelStartLink",resolveAll:$g.resolveAll,tokenize:FL};function FL(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const Ch={name:"lineEnding",tokenize:NL};function NL(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),yn(t,e,"linePrefix")}}const xc={name:"thematicBreak",tokenize:UL};function UL(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),a(u)}function a(u){return i=u,o(u)}function o(u){return u===i?(t.enter("thematicBreakSequence"),A(u)):r>=3&&(u===null||qt(u))?(t.exit("thematicBreak"),e(u)):n(u)}function A(u){return u===i?(t.consume(u),r++,A):(t.exit("thematicBreakSequence"),hn(u)?yn(t,o,"whitespace")(u):o(u))}}const oi={continuation:{tokenize:DL},exit:RL,name:"list",tokenize:_L},LL={partial:!0,tokenize:ML},OL={partial:!0,tokenize:QL};function _L(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(d){const w=r.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||d===r.containerState.marker:t0(d)){if(r.containerState.type||(r.containerState.type=w,t.enter(w,{_container:!0})),w==="listUnordered")return t.enter("listItemPrefix"),d===42||d===45?t.check(xc,n,u)(d):u(d);if(!r.interrupt||d===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),A(d)}return n(d)}function A(d){return t0(d)&&++a<10?(t.consume(d),A):(!r.interrupt||a<2)&&(r.containerState.marker?d===r.containerState.marker:d===41||d===46)?(t.exit("listItemValue"),u(d)):n(d)}function u(d){return t.enter("listItemMarker"),t.consume(d),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||d,t.check(nl,r.interrupt?n:l,t.attempt(LL,f,c))}function l(d){return r.containerState.initialBlankLine=!0,s++,f(d)}function c(d){return hn(d)?(t.enter("listItemPrefixWhitespace"),t.consume(d),t.exit("listItemPrefixWhitespace"),f):n(d)}function f(d){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(d)}}function DL(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(nl,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,yn(t,e,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!hn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(OL,e,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,yn(t,t.attempt(oi,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function QL(t,e,n){const r=this;return yn(t,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function RL(t){t.exit(this.containerState.type)}function ML(t,e,n){const r=this;return yn(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!hn(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const eb={name:"setextUnderline",resolveTo:PL,tokenize:HL};function PL(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:Ie({},t[r][1].start),end:Ie({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end=Ie({},t[s][1].end)):t[r][1]=a,t.push(["exit",a,e]),t}function HL(t,e,n){const r=this;let i;return s;function s(u){let l=r.events.length,c;for(;l--;)if(r.events[l][1].type!=="lineEnding"&&r.events[l][1].type!=="linePrefix"&&r.events[l][1].type!=="content"){c=r.events[l][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||c)?(t.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return t.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(t.consume(u),o):(t.exit("setextHeadingLineSequence"),hn(u)?yn(t,A,"lineSuffix")(u):A(u))}function A(u){return u===null||qt(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const jL={tokenize:KL};function KL(t){const e=this,n=t.attempt(nl,r,t.attempt(this.parser.constructs.flowInitial,i,yn(t,t.attempt(this.parser.constructs.flow,i,t.attempt(W8,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const VL={resolveAll:EE()},zL=xE("string"),qL=xE("text");function xE(t){return{resolveAll:EE(t==="text"?GL:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,a,o);return a;function a(l){return u(l)?s(l):o(l)}function o(l){if(l===null){n.consume(l);return}return n.enter("data"),n.consume(l),A}function A(l){return u(l)?(n.exit("data"),s(l)):(n.consume(l),A)}function u(l){if(l===null)return!0;const c=i[l];let f=-1;if(c)for(;++f<c.length;){const d=c[f];if(!d.previous||d.previous.call(r,r.previous))return!0}return!1}}}function EE(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function GL(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,a=-1,o=0,A;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)A=!0,o++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const u={type:n===t.length||A||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:Ie({},r.end)};r.end=Ie({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const WL={42:oi,43:oi,45:oi,48:oi,49:oi,50:oi,51:oi,52:oi,53:oi,54:oi,55:oi,56:oi,57:oi,62:pE},$L={91:Z8},YL={[-2]:Eh,[-1]:Eh,32:Eh},XL={35:sL,42:xc,45:[eb,xc],60:uL,61:eb,95:xc,96:J2,126:J2},JL={38:mE,92:gE},ZL={[-5]:Ch,[-4]:Ch,[-3]:Ch,33:SL,38:mE,42:n0,60:[k8,gL],91:kL,92:[rL,gE],93:$g,95:n0,96:j8},eO={null:[n0,VL]},tO={null:[42,95]},nO={null:[]},rO=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:tO,contentInitial:$L,disable:nO,document:WL,flow:XL,flowInitial:YL,insideSpan:eO,string:JL,text:ZL},Symbol.toStringTag,{value:"Module"}));function iO(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const A={attempt:ve(J),check:ve(H),consume:M,enter:q,exit:j,interrupt:ve(H,{interrupt:!0})},u={code:null,containerState:{},defineSkip:T,events:[],now:w,parser:t,previous:null,sliceSerialize:f,sliceStream:d,write:c};let l=e.tokenize.call(u,A);return e.resolveAll&&s.push(e),u;function c(qe){return a=ki(a,qe),D(),a[a.length-1]!==null?[]:(De(e,0),u.events=dd(s,u.events,u),u.events)}function f(qe,Me){return aO(d(qe),Me)}function d(qe){return sO(a,qe)}function w(){const{_bufferIndex:qe,_index:Me,line:Ke,column:tt,offset:st}=r;return{_bufferIndex:qe,_index:Me,line:Ke,column:tt,offset:st}}function T(qe){i[qe.line]=qe.column,me()}function D(){let qe;for(;r._index<a.length;){const Me=a[r._index];if(typeof Me=="string")for(qe=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===qe&&r._bufferIndex<Me.length;)N(Me.charCodeAt(r._bufferIndex));else N(Me)}}function N(qe){l=l(qe)}function M(qe){qt(qe)?(r.line++,r.column=1,r.offset+=qe===-3?2:1,me()):qe!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=qe}function q(qe,Me){const Ke=Me||{};return Ke.type=qe,Ke.start=w(),u.events.push(["enter",Ke,u]),o.push(Ke),Ke}function j(qe){const Me=o.pop();return Me.end=w(),u.events.push(["exit",Me,u]),Me}function J(qe,Me){De(qe,Me.from)}function H(qe,Me){Me.restore()}function ve(qe,Me){return Ke;function Ke(tt,st,gt){let mt,yt,Ge,ne;return Array.isArray(tt)?Lt(tt):"tokenize"in tt?Lt([tt]):Ft(tt);function Ft(Nt){return Mt;function Mt(Rt){const xn=Rt!==null&&Nt[Rt],En=Rt!==null&&Nt.null,Jt=[...Array.isArray(xn)?xn:xn?[xn]:[],...Array.isArray(En)?En:En?[En]:[]];return Lt(Jt)(Rt)}}function Lt(Nt){return mt=Nt,yt=0,Nt.length===0?gt:pe(Nt[yt])}function pe(Nt){return Mt;function Mt(Rt){return ne=Fe(),Ge=Nt,Nt.partial||(u.currentConstruct=Nt),Nt.name&&u.parser.constructs.disable.null.includes(Nt.name)?Kt():Nt.tokenize.call(Me?Object.assign(Object.create(u),Me):u,A,vt,Kt)(Rt)}}function vt(Nt){return qe(Ge,ne),st}function Kt(Nt){return ne.restore(),++yt<mt.length?pe(mt[yt]):gt}}}function De(qe,Me){qe.resolveAll&&!s.includes(qe)&&s.push(qe),qe.resolve&&xi(u.events,Me,u.events.length-Me,qe.resolve(u.events.slice(Me),u)),qe.resolveTo&&(u.events=qe.resolveTo(u.events,u))}function Fe(){const qe=w(),Me=u.previous,Ke=u.currentConstruct,tt=u.events.length,st=Array.from(o);return{from:tt,restore:gt};function gt(){r=qe,u.previous=Me,u.currentConstruct=Ke,u.events.length=tt,o=st,me()}}function me(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function sO(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function aO(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function oO(t){const r={constructs:dE([rO,...(t||{}).extensions||[]]),content:i(x8),defined:[],document:i(C8),flow:i(jL),lazy:{},string:i(zL),text:i(qL)};return r;function i(s){return a;function a(o){return iO(r,s,o)}}}function AO(t){for(;!bE(t););return t}const tb=/[\0\t\n\r]/g;function uO(){let t=1,e="",n=!0,r;return i;function i(s,a,o){const A=[];let u,l,c,f,d;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),c=0,e="",n&&(s.charCodeAt(0)===65279&&c++,n=void 0);c<s.length;){if(tb.lastIndex=c,u=tb.exec(s),f=u&&u.index!==void 0?u.index:s.length,d=s.charCodeAt(f),!u){e=s.slice(c);break}if(d===10&&c===f&&r)A.push(-3),r=void 0;else switch(r&&(A.push(-5),r=void 0),c<f&&(A.push(s.slice(c,f)),t+=f-c),d){case 0:{A.push(65533),t++;break}case 9:{for(l=Math.ceil(t/4)*4,A.push(-2);t++<l;)A.push(-1);break}case 10:{A.push(-4),t=1;break}default:r=!0,t=1}c=f+1}return o&&(r&&A.push(-5),e&&A.push(e),A.push(null)),A}}const lO=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function cO(t){return t.replace(lO,fO)}function fO(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return hE(n.slice(s?2:1),s?16:10)}return Wg(n)||t}const CE={}.hasOwnProperty;function dO(t,e,n){return typeof e!="string"&&(n=e,e=void 0),hO(n)(AO(oO(n).document().write(uO()(t,e,!0))))}function hO(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(an),autolinkProtocol:Fe,autolinkEmail:Fe,atxHeading:s(fr),blockQuote:s(En),characterEscape:Fe,characterReference:Fe,codeFenced:s(Jt),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Jt,a),codeText:s(mn,a),codeTextData:Fe,data:Fe,codeFlowValue:Fe,definition:s(Gn),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Zn),hardBreakEscape:s(On),hardBreakTrailing:s(On),htmlFlow:s(kn,a),htmlFlowData:Fe,htmlText:s(kn,a),htmlTextData:Fe,image:s(Qn),label:a,link:s(an),listItem:s(Dt),listItemValue:f,listOrdered:s(Vt,c),listUnordered:s(Vt),paragraph:s(Yt),reference:pe,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(fr),strong:s(bn),thematicBreak:s(An)},exit:{atxHeading:A(),atxHeadingSequence:J,autolink:A(),autolinkEmail:xn,autolinkProtocol:Rt,blockQuote:A(),characterEscapeValue:me,characterReferenceMarkerHexadecimal:Kt,characterReferenceMarkerNumeric:Kt,characterReferenceValue:Nt,characterReference:Mt,codeFenced:A(D),codeFencedFence:T,codeFencedFenceInfo:d,codeFencedFenceMeta:w,codeFlowValue:me,codeIndented:A(N),codeText:A(st),codeTextData:me,data:me,definition:A(),definitionDestinationString:j,definitionLabelString:M,definitionTitleString:q,emphasis:A(),hardBreakEscape:A(Me),hardBreakTrailing:A(Me),htmlFlow:A(Ke),htmlFlowData:me,htmlText:A(tt),htmlTextData:me,image:A(mt),label:Ge,labelText:yt,lineEnding:qe,link:A(gt),listItem:A(),listOrdered:A(),listUnordered:A(),paragraph:A(),referenceString:vt,resourceDestinationString:ne,resourceTitleString:Ft,resource:Lt,setextHeading:A(De),setextHeadingLineSequence:ve,setextHeadingText:H,strong:A(),thematicBreak:A()}};vE(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(se){let Oe={type:"root",children:[]};const We={stack:[Oe],tokenStack:[],config:e,enter:o,exit:u,buffer:a,resume:l,data:n},nt=[];let pt=-1;for(;++pt<se.length;)if(se[pt][1].type==="listOrdered"||se[pt][1].type==="listUnordered")if(se[pt][0]==="enter")nt.push(pt);else{const Bt=nt.pop();pt=i(se,Bt,pt)}for(pt=-1;++pt<se.length;){const Bt=e[se[pt][0]];CE.call(Bt,se[pt][1].type)&&Bt[se[pt][1].type].call(Object.assign({sliceSerialize:se[pt][2].sliceSerialize},We),se[pt][1])}if(We.tokenStack.length>0){const Bt=We.tokenStack[We.tokenStack.length-1];(Bt[1]||nb).call(We,void 0,Bt[0])}for(Oe.position={start:qs(se.length>0?se[0][1].start:{line:1,column:1,offset:0}),end:qs(se.length>0?se[se.length-2][1].end:{line:1,column:1,offset:0})},pt=-1;++pt<e.transforms.length;)Oe=e.transforms[pt](Oe)||Oe;return Oe}function i(se,Oe,We){let nt=Oe-1,pt=-1,Bt=!1,fn,et,Be,Ze;for(;++nt<=We;){const At=se[nt];switch(At[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{At[0]==="enter"?pt++:pt--,Ze=void 0;break}case"lineEndingBlank":{At[0]==="enter"&&(fn&&!Ze&&!pt&&!Be&&(Be=nt),Ze=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ze=void 0}if(!pt&&At[0]==="enter"&&At[1].type==="listItemPrefix"||pt===-1&&At[0]==="exit"&&(At[1].type==="listUnordered"||At[1].type==="listOrdered")){if(fn){let bt=nt;for(et=void 0;bt--;){const It=se[bt];if(It[1].type==="lineEnding"||It[1].type==="lineEndingBlank"){if(It[0]==="exit")continue;et&&(se[et][1].type="lineEndingBlank",Bt=!0),It[1].type="lineEnding",et=bt}else if(!(It[1].type==="linePrefix"||It[1].type==="blockQuotePrefix"||It[1].type==="blockQuotePrefixWhitespace"||It[1].type==="blockQuoteMarker"||It[1].type==="listItemIndent"))break}Be&&(!et||Be<et)&&(fn._spread=!0),fn.end=Object.assign({},et?se[et][1].start:At[1].end),se.splice(et||nt,0,["exit",fn,At[2]]),nt++,We++}if(At[1].type==="listItemPrefix"){const bt={type:"listItem",_spread:!1,start:Object.assign({},At[1].start),end:void 0};fn=bt,se.splice(nt,0,["enter",bt,At[2]]),nt++,We++,Be=void 0,Ze=!0}}}return se[Oe][1]._spread=Bt,We}function s(se,Oe){return We;function We(nt){o.call(this,se(nt),nt),Oe&&Oe.call(this,nt)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(se,Oe,We){this.stack[this.stack.length-1].children.push(se),this.stack.push(se),this.tokenStack.push([Oe,We||void 0]),se.position={start:qs(Oe.start),end:void 0}}function A(se){return Oe;function Oe(We){se&&se.call(this,We),u.call(this,We)}}function u(se,Oe){const We=this.stack.pop(),nt=this.tokenStack.pop();if(nt)nt[0].type!==se.type&&(Oe?Oe.call(this,se,nt[0]):(nt[1]||nb).call(this,se,nt[0]));else throw new Error("Cannot close `"+se.type+"` ("+cu({start:se.start,end:se.end})+"): its not open");We.position.end=qs(se.end)}function l(){return Gg(this.stack.pop())}function c(){this.data.expectingFirstListItemValue=!0}function f(se){if(this.data.expectingFirstListItemValue){const Oe=this.stack[this.stack.length-2];Oe.start=Number.parseInt(this.sliceSerialize(se),10),this.data.expectingFirstListItemValue=void 0}}function d(){const se=this.resume(),Oe=this.stack[this.stack.length-1];Oe.lang=se}function w(){const se=this.resume(),Oe=this.stack[this.stack.length-1];Oe.meta=se}function T(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function D(){const se=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const se=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=se.replace(/(\r?\n|\r)$/g,"")}function M(se){const Oe=this.resume(),We=this.stack[this.stack.length-1];We.label=Oe,We.identifier=Wi(this.sliceSerialize(se)).toLowerCase()}function q(){const se=this.resume(),Oe=this.stack[this.stack.length-1];Oe.title=se}function j(){const se=this.resume(),Oe=this.stack[this.stack.length-1];Oe.url=se}function J(se){const Oe=this.stack[this.stack.length-1];if(!Oe.depth){const We=this.sliceSerialize(se).length;Oe.depth=We}}function H(){this.data.setextHeadingSlurpLineEnding=!0}function ve(se){const Oe=this.stack[this.stack.length-1];Oe.depth=this.sliceSerialize(se).codePointAt(0)===61?1:2}function De(){this.data.setextHeadingSlurpLineEnding=void 0}function Fe(se){const We=this.stack[this.stack.length-1].children;let nt=We[We.length-1];(!nt||nt.type!=="text")&&(nt=zt(),nt.position={start:qs(se.start),end:void 0},We.push(nt)),this.stack.push(nt)}function me(se){const Oe=this.stack.pop();Oe.value+=this.sliceSerialize(se),Oe.position.end=qs(se.end)}function qe(se){const Oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const We=Oe.children[Oe.children.length-1];We.position.end=qs(se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Oe.type)&&(Fe.call(this,se),me.call(this,se))}function Me(){this.data.atHardBreak=!0}function Ke(){const se=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=se}function tt(){const se=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=se}function st(){const se=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=se}function gt(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const Oe=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=Oe,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function mt(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const Oe=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=Oe,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function yt(se){const Oe=this.sliceSerialize(se),We=this.stack[this.stack.length-2];We.label=cO(Oe),We.identifier=Wi(Oe).toLowerCase()}function Ge(){const se=this.stack[this.stack.length-1],Oe=this.resume(),We=this.stack[this.stack.length-1];if(this.data.inReference=!0,We.type==="link"){const nt=se.children;We.children=nt}else We.alt=Oe}function ne(){const se=this.resume(),Oe=this.stack[this.stack.length-1];Oe.url=se}function Ft(){const se=this.resume(),Oe=this.stack[this.stack.length-1];Oe.title=se}function Lt(){this.data.inReference=void 0}function pe(){this.data.referenceType="collapsed"}function vt(se){const Oe=this.resume(),We=this.stack[this.stack.length-1];We.label=Oe,We.identifier=Wi(this.sliceSerialize(se)).toLowerCase(),this.data.referenceType="full"}function Kt(se){this.data.characterReferenceType=se.type}function Nt(se){const Oe=this.sliceSerialize(se),We=this.data.characterReferenceType;let nt;We?(nt=hE(Oe,We==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):nt=Wg(Oe);const pt=this.stack[this.stack.length-1];pt.value+=nt}function Mt(se){const Oe=this.stack.pop();Oe.position.end=qs(se.end)}function Rt(se){me.call(this,se);const Oe=this.stack[this.stack.length-1];Oe.url=this.sliceSerialize(se)}function xn(se){me.call(this,se);const Oe=this.stack[this.stack.length-1];Oe.url="mailto:"+this.sliceSerialize(se)}function En(){return{type:"blockquote",children:[]}}function Jt(){return{type:"code",lang:null,meta:null,value:""}}function mn(){return{type:"inlineCode",value:""}}function Gn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Zn(){return{type:"emphasis",children:[]}}function fr(){return{type:"heading",depth:0,children:[]}}function On(){return{type:"break"}}function kn(){return{type:"html",value:""}}function Qn(){return{type:"image",title:null,url:"",alt:null}}function an(){return{type:"link",title:null,url:"",children:[]}}function Vt(se){return{type:"list",ordered:se.type==="listOrdered",start:null,spread:se._spread,children:[]}}function Dt(se){return{type:"listItem",spread:se._spread,checked:null,children:[]}}function Yt(){return{type:"paragraph",children:[]}}function bn(){return{type:"strong",children:[]}}function zt(){return{type:"text",value:""}}function An(){return{type:"thematicBreak"}}}function qs(t){return{line:t.line,column:t.column,offset:t.offset}}function vE(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?vE(t,r):pO(t,r)}}function pO(t,e){let n;for(n in e)if(CE.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function nb(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+cu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+cu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+cu({start:e.start,end:e.end})+") is still open")}function gO(t){const e=this;e.parser=n;function n(r){return dO(r,_t(Ie(Ie({},e.data("settings")),t),{extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]}))}}function mO(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function bO(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function wO(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function yO(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function BO(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function xO(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=cA(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let a,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=s+1,o+=1,t.footnoteCounts.set(r,o);const A={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,A);const u={type:"element",tagName:"sup",properties:{},children:[A]};return t.patch(e,u),t.applyData(e,u)}function EO(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function CO(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function TE(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function vO(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return TE(t,e);const i={src:cA(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function TO(t,e){const n={src:cA(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function SO(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function IO(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return TE(t,e);const i={href:cA(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function kO(t,e){const n={href:cA(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function FO(t,e,n){const r=t.all(e),i=n?NO(n):SE(e),s={},a=[];if(typeof e.checked=="boolean"){const l=r[0];let c;l&&l.type==="element"&&l.tagName==="p"?c=l:(c={type:"element",tagName:"p",properties:{},children:[]},r.unshift(c)),c.children.length>0&&c.children.unshift({type:"text",value:" "}),c.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const l=r[o];(i||o!==0||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`}),l.type==="element"&&l.tagName==="p"&&!i?a.push(...l.children):a.push(l)}const A=r[r.length-1];A&&(i||A.type!=="element"||A.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,u),t.applyData(e,u)}function NO(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=SE(n[r])}return e}function SE(t){const e=t.spread;return e==null?t.children.length>1:e}function UO(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function LO(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function OO(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function _O(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function DO(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=ms(e.children[1]),A=cd(e.children[e.children.length-1]);o&&A&&(a.position={start:o,end:A}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function QO(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:e.children.length;let A=-1;const u=[];for(;++A<o;){const c=e.children[A],f={},d=a?a[A]:void 0;d&&(f.align=d);let w={type:"element",tagName:s,properties:f,children:[]};c&&(w.children=t.all(c),t.patch(c,w),w=t.applyData(c,w)),u.push(w)}const l={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,l),t.applyData(e,l)}function RO(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const rb=9,ib=32;function MO(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(sb(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(sb(e.slice(i),i>0,!1)),s.join("")}function sb(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===rb||s===ib;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===rb||s===ib;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function PO(t,e){const n={type:"text",value:MO(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function HO(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const jO={blockquote:mO,break:bO,code:wO,delete:yO,emphasis:BO,footnoteReference:xO,heading:EO,html:CO,imageReference:vO,image:TO,inlineCode:SO,linkReference:IO,link:kO,listItem:FO,list:UO,paragraph:LO,root:OO,strong:_O,table:DO,tableCell:RO,tableRow:QO,text:PO,thematicBreak:HO,toml:Rl,yaml:Rl,definition:Rl,footnoteDefinition:Rl};function Rl(){}const IE=-1,hd=0,du=1,Sf=2,Yg=3,Xg=4,Jg=5,Zg=6,kE=7,FE=8,ab=typeof self=="object"?self:globalThis,KO=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,a]=e[i];switch(s){case hd:case IE:return n(a,i);case du:{const o=n([],i);for(const A of a)o.push(r(A));return o}case Sf:{const o=n({},i);for(const[A,u]of a)o[r(A)]=r(u);return o}case Yg:return n(new Date(a),i);case Xg:{const{source:o,flags:A}=a;return n(new RegExp(o,A),i)}case Jg:{const o=n(new Map,i);for(const[A,u]of a)o.set(r(A),r(u));return o}case Zg:{const o=n(new Set,i);for(const A of a)o.add(r(A));return o}case kE:{const{name:o,message:A}=a;return n(new ab[o](A),i)}case FE:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new ab[s](a),i)};return r},ob=t=>KO(new Map,t)(0),xo="",{toString:VO}={},{keys:zO}=Object,NA=t=>{const e=typeof t;if(e!=="object"||!t)return[hd,e];const n=VO.call(t).slice(8,-1);switch(n){case"Array":return[du,xo];case"Object":return[Sf,xo];case"Date":return[Yg,xo];case"RegExp":return[Xg,xo];case"Map":return[Jg,xo];case"Set":return[Zg,xo];case"DataView":return[du,n]}return n.includes("Array")?[du,n]:n.includes("Error")?[kE,n]:[Sf,n]},Ml=([t,e])=>t===hd&&(e==="function"||e==="symbol"),qO=(t,e,n,r)=>{const i=(a,o)=>{const A=r.push(a)-1;return n.set(o,A),A},s=a=>{if(n.has(a))return n.get(a);let[o,A]=NA(a);switch(o){case hd:{let l=a;switch(A){case"bigint":o=FE,l=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+A);l=null;break;case"undefined":return i([IE],a)}return i([o,l],a)}case du:{if(A){let f=a;return A==="DataView"?f=new Uint8Array(a.buffer):A==="ArrayBuffer"&&(f=new Uint8Array(a)),i([A,[...f]],a)}const l=[],c=i([o,l],a);for(const f of a)l.push(s(f));return c}case Sf:{if(A)switch(A){case"BigInt":return i([A,a.toString()],a);case"Boolean":case"Number":case"String":return i([A,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const l=[],c=i([o,l],a);for(const f of zO(a))(t||!Ml(NA(a[f])))&&l.push([s(f),s(a[f])]);return c}case Yg:return i([o,a.toISOString()],a);case Xg:{const{source:l,flags:c}=a;return i([o,{source:l,flags:c}],a)}case Jg:{const l=[],c=i([o,l],a);for(const[f,d]of a)(t||!(Ml(NA(f))||Ml(NA(d))))&&l.push([s(f),s(d)]);return c}case Zg:{const l=[],c=i([o,l],a);for(const f of a)(t||!Ml(NA(f)))&&l.push(s(f));return c}}const{message:u}=a;return i([o,{name:A,message:u}],a)};return s},Ab=(t,{json:e,lossy:n}={})=>{const r=[];return qO(!(e||n),!!e,new Map,r)(t),r},rA=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?ob(Ab(t,e)):structuredClone(t):(t,e)=>ob(Ab(t,e));function GO(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function WO(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function $O(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||GO,r=t.options.footnoteBackLabel||WO,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let A=-1;for(;++A<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[A]);if(!u)continue;const l=t.all(u),c=String(u.identifier).toUpperCase(),f=cA(c.toLowerCase());let d=0;const w=[],T=t.footnoteCounts.get(c);for(;T!==void 0&&++d<=T;){w.length>0&&w.push({type:"text",value:" "});let M=typeof n=="string"?n:n(A,d);typeof M=="string"&&(M={type:"text",value:M}),w.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(d>1?"-"+d:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(A,d),className:["data-footnote-backref"]},children:Array.isArray(M)?M:[M]})}const D=l[l.length-1];if(D&&D.type==="element"&&D.tagName==="p"){const M=D.children[D.children.length-1];M&&M.type==="text"?M.value+=" ":D.children.push({type:"text",value:" "}),D.children.push(...w)}else l.push(...w);const N={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(l,!0)};t.patch(u,N),o.push(N)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:_t(Ie({},rA(a)),{id:"footnote-label"}),children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const pd=function(t){if(t==null)return ZO;if(typeof t=="function")return gd(t);if(typeof t=="object")return Array.isArray(t)?YO(t):XO(t);if(typeof t=="string")return JO(t);throw new Error("Expected function, string, or object as test")};function YO(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=pd(t[n]);return gd(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function XO(t){const e=t;return gd(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function JO(t){return gd(e);function e(n){return n&&n.type===t}}function gd(t){return e;function e(n,r,i){return!!(e_(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function ZO(){return!0}function e_(t){return t!==null&&typeof t=="object"&&"type"in t}const NE=[],t_=!0,r0=!1,n_="skip";function UE(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=pd(i),a=r?-1:1;o(t,void 0,[])();function o(A,u,l){const c=A&&typeof A=="object"?A:{};if(typeof c.type=="string"){const d=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(A.type+(d?"<"+d+">":""))+")"})}return f;function f(){let d=NE,w,T,D;if((!e||s(A,u,l[l.length-1]||void 0))&&(d=r_(n(A,l)),d[0]===r0))return d;if("children"in A&&A.children){const N=A;if(N.children&&d[0]!==n_)for(T=(r?N.children.length:-1)+a,D=l.concat(N);T>-1&&T<N.children.length;){const M=N.children[T];if(w=o(M,T,D)(),w[0]===r0)return w;T=typeof w[1]=="number"?w[1]:T+a}}return d}}}function r_(t){return Array.isArray(t)?t:typeof t=="number"?[t_,t]:t==null?NE:[t]}function md(t,e,n,r){let i,s,a;typeof e=="function"&&typeof n!="function"?(s=void 0,a=e,i=n):(s=e,a=n,i=r),UE(t,s,o,i);function o(A,u){const l=u[u.length-1],c=l?l.children.indexOf(A):void 0;return a(A,c,l)}}const i0={}.hasOwnProperty,i_={};function s_(t,e){const n=e||i_,r=new Map,i=new Map,s=new Map,a=Ie(Ie({},jO),n.handlers),o={all:u,applyData:o_,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:A,options:n,patch:a_,wrap:u_};return md(t,function(l){if(l.type==="definition"||l.type==="footnoteDefinition"){const c=l.type==="definition"?r:i,f=String(l.identifier).toUpperCase();c.has(f)||c.set(f,l)}}),o;function A(l,c){const f=l.type,d=o.handlers[f];if(i0.call(o.handlers,f)&&d)return d(o,l,c);if(o.options.passThrough&&o.options.passThrough.includes(f)){if("children"in l){const T=l,{children:D}=T,N=EA(T,["children"]),M=rA(N);return M.children=o.all(l),M}return rA(l)}return(o.options.unknownHandler||A_)(o,l,c)}function u(l){const c=[];if("children"in l){const f=l.children;let d=-1;for(;++d<f.length;){const w=o.one(f[d],l);if(w){if(d&&f[d-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=ub(w.value)),!Array.isArray(w)&&w.type==="element")){const T=w.children[0];T&&T.type==="text"&&(T.value=ub(T.value))}Array.isArray(w)?c.push(...w):c.push(w)}}}return c}}function a_(t,e){t.position&&(e.position=WU(t))}function o_(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,rA(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function A_(t,e){const n=e.data||{},r="value"in e&&!(i0.call(n,"hProperties")||i0.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function u_(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function ub(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function lb(t,e){const n=s_(t,e),r=n.one(t,void 0),i=$O(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function l_(t,e){return t&&"run"in t?function(n,r){return Ci(this,null,function*(){const i=lb(n,Ie({file:r},e));yield t.run(i,r)})}:function(n,r){return lb(n,Ie({file:r},t||e))}}function cb(t){if(t)throw t}var vh,fb;function c_(){if(fb)return vh;fb=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):e.call(u)==="[object Array]"},s=function(u){if(!u||e.call(u)!=="[object Object]")return!1;var l=t.call(u,"constructor"),c=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!l&&!c)return!1;var f;for(f in u);return typeof f=="undefined"||t.call(u,f)},a=function(u,l){n&&l.name==="__proto__"?n(u,l.name,{enumerable:!0,configurable:!0,value:l.newValue,writable:!0}):u[l.name]=l.newValue},o=function(u,l){if(l==="__proto__")if(t.call(u,l)){if(r)return r(u,l).value}else return;return u[l]};return vh=function A(){var u,l,c,f,d,w,T=arguments[0],D=1,N=arguments.length,M=!1;for(typeof T=="boolean"&&(M=T,T=arguments[1]||{},D=2),(T==null||typeof T!="object"&&typeof T!="function")&&(T={});D<N;++D)if(u=arguments[D],u!=null)for(l in u)c=o(T,l),f=o(u,l),T!==f&&(M&&f&&(s(f)||(d=i(f)))?(d?(d=!1,w=c&&i(c)?c:[]):w=c&&s(c)?c:{},a(T,{name:l,newValue:A(M,w,f)})):typeof f!="undefined"&&a(T,{name:l,newValue:f}));return T},vh}var f_=c_();const Th=Wu(f_);function s0(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function d_(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(A,...u){const l=t[++s];let c=-1;if(A){a(A);return}for(;++c<i.length;)(u[c]===null||u[c]===void 0)&&(u[c]=i[c]);i=u,l?h_(l,o)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function h_(t,e){let n;return r;function r(...a){const o=t.length>a.length;let A;o&&a.push(i);try{A=t.apply(this,a)}catch(u){const l=u;if(o&&n)throw l;return i(l)}o||(A&&A.then&&typeof A.then=="function"?A.then(s,i):A instanceof Error?i(A):s(A))}function i(a,...o){n||(n=!0,e(a,...o))}function s(a){i(null,a)}}const is={basename:p_,dirname:g_,extname:m_,join:b_,sep:"/"};function p_(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');rl(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function g_(t){if(rl(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function m_(t){rl(t);let e=t.length,n=-1,r=0,i=-1,s=0,a;for(;e--;){const o=t.codePointAt(e);if(o===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),o===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function b_(...t){let e=-1,n;for(;++e<t.length;)rl(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":w_(n)}function w_(t){rl(t);const e=t.codePointAt(0)===47;let n=y_(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function y_(t,e){let n="",r=0,i=-1,s=0,a=-1,o,A;for(;++a<=t.length;){if(a<t.length)o=t.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(A=n.lastIndexOf("/"),A!==n.length-1){A<0?(n="",r=0):(n=n.slice(0,A),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function rl(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const B_={cwd:x_};function x_(){return"/"}function a0(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function E_(t){if(typeof t=="string")t=new URL(t);else if(!a0(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return C_(t)}function C_(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Sh=["history","path","basename","stem","extname","dirname"];class LE{constructor(e){let n;e?a0(e)?n={path:e}:typeof e=="string"||v_(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":B_.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Sh.length;){const s=Sh[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Sh.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?is.basename(this.path):void 0}set basename(e){kh(e,"basename"),Ih(e,"basename"),this.path=is.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?is.dirname(this.path):void 0}set dirname(e){db(this.basename,"dirname"),this.path=is.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?is.extname(this.path):void 0}set extname(e){if(Ih(e,"extname"),db(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=is.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){a0(e)&&(e=E_(e)),kh(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?is.basename(this.path,this.extname):void 0}set stem(e){kh(e,"stem"),Ih(e,"stem"),this.path=is.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Vr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Ih(t,e){if(t&&t.includes(is.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+is.sep+"`")}function kh(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function db(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function v_(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const T_=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},S_={}.hasOwnProperty;class em extends T_{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=d_()}copy(){const e=new em;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Th(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Uh("data",this.frozen),this.namespace[e]=n,this):S_.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Uh("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Pl(e),r=this.parser||this.Parser;return Fh("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Fh("process",this.parser||this.Parser),Nh("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=Pl(e),A=r.parse(o);r.run(A,o,function(l,c,f){if(l||!c||!f)return u(l);const d=c,w=r.stringify(d,f);F_(w)?f.value=w:f.result=w,u(l,f)});function u(l,c){l||!c?a(l):s?s(c):n(void 0,c)}}}processSync(e){let n=!1,r;return this.freeze(),Fh("processSync",this.parser||this.Parser),Nh("processSync",this.compiler||this.Compiler),this.process(e,i),pb("processSync","process",n),r;function i(s,a){n=!0,cb(s),r=a}}run(e,n,r){hb(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const A=Pl(n);i.run(e,A,u);function u(l,c,f){const d=c||e;l?o(l):a?a(d):r(void 0,d,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),pb("runSync","run",r),i;function s(a,o){cb(a),i=o,r=!0}}stringify(e,n){this.freeze();const r=Pl(n),i=this.compiler||this.Compiler;return Nh("stringify",i),hb(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Uh("use",this.frozen),e!=null)if(typeof e=="function")A(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")A(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[l,...c]=u;A(l,c)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=Th(!0,i.settings,u.settings))}function o(u){let l=-1;if(u!=null)if(Array.isArray(u))for(;++l<u.length;){const c=u[l];s(c)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function A(u,l){let c=-1,f=-1;for(;++c<r.length;)if(r[c][0]===u){f=c;break}if(f===-1)r.push([u,...l]);else if(l.length>0){let[d,...w]=l;const T=r[f][1];s0(T)&&s0(d)&&(d=Th(!0,T,d)),r[f]=[u,d,...w]}}}}const I_=new em().freeze();function Fh(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Nh(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Uh(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function hb(t){if(!s0(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function pb(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Pl(t){return k_(t)?t:new LE(t)}function k_(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function F_(t){return typeof t=="string"||N_(t)}function N_(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const U_="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",gb=[],mb={allowDangerousHtml:!0},L_=/^(https?|ircs?|mailto|xmpp)$/i,O_=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ec(t){const e=__(t),n=D_(t);return Q_(e.runSync(e.parse(n),n),t)}function __(t){const e=t.rehypePlugins||gb,n=t.remarkPlugins||gb,r=t.remarkRehypeOptions?Ie(Ie({},t.remarkRehypeOptions),mb):mb;return I_().use(gO).use(n).use(l_,r).use(e)}function D_(t){const e=t.children||"",n=new LE;return typeof e=="string"&&(n.value=e),n}function Q_(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,a=e.skipHtml,o=e.unwrapDisallowed,A=e.urlTransform||R_;for(const l of O_)Object.hasOwn(e,l.from)&&(""+l.from+(l.to?"use `"+l.to+"` instead":"remove it")+U_+l.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),md(t,u),ZU(t,{Fragment:I.Fragment,components:i,ignoreInvalidStyle:!0,jsx:I.jsx,jsxs:I.jsxs,passKeys:!0,passNode:!0});function u(l,c,f){if(l.type==="raw"&&f&&typeof c=="number")return a?f.children.splice(c,1):f.children[c]={type:"text",value:l.value},c;if(l.type==="element"){let d;for(d in xh)if(Object.hasOwn(xh,d)&&Object.hasOwn(l.properties,d)){const w=l.properties[d],T=xh[d];(T===null||T.includes(l.tagName))&&(l.properties[d]=A(String(w||""),d,l))}}if(l.type==="element"){let d=n?!n.includes(l.tagName):s?s.includes(l.tagName):!1;if(!d&&r&&typeof c=="number"&&(d=!r(l,c,f)),d&&f&&typeof c=="number")return o&&l.children?f.children.splice(c,1,...l.children):f.children.splice(c,1),c}}}function R_(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||L_.test(t.slice(0,e))?t:""}function bb(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function M_(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function P_(t,e,n){const i=pd((n||{}).ignore||[]),s=H_(e);let a=-1;for(;++a<s.length;)UE(t,"text",o);function o(u,l){let c=-1,f;for(;++c<l.length;){const d=l[c],w=f?f.children:void 0;if(i(d,w?w.indexOf(d):void 0,f))return;f=d}if(f)return A(u,l)}function A(u,l){const c=l[l.length-1],f=s[a][0],d=s[a][1];let w=0;const D=c.children.indexOf(u);let N=!1,M=[];f.lastIndex=0;let q=f.exec(u.value);for(;q;){const j=q.index,J={index:q.index,input:q.input,stack:[...l,u]};let H=d(...q,J);if(typeof H=="string"&&(H=H.length>0?{type:"text",value:H}:void 0),H===!1?f.lastIndex=j+1:(w!==j&&M.push({type:"text",value:u.value.slice(w,j)}),Array.isArray(H)?M.push(...H):H&&M.push(H),w=j+q[0].length,N=!0),!f.global)break;q=f.exec(u.value)}return N?(w<u.value.length&&M.push({type:"text",value:u.value.slice(w)}),c.children.splice(D,1,...M)):M=[u],D+M.length}}function H_(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([j_(i[0]),K_(i[1])])}return e}function j_(t){return typeof t=="string"?new RegExp(M_(t),"g"):t}function K_(t){return typeof t=="function"?t:function(){return t}}const Lh="phrasing",Oh=["autolink","link","image","label"];function V_(){return{transforms:[X_],enter:{literalAutolink:q_,literalAutolinkEmail:_h,literalAutolinkHttp:_h,literalAutolinkWww:_h},exit:{literalAutolink:Y_,literalAutolinkEmail:$_,literalAutolinkHttp:G_,literalAutolinkWww:W_}}}function z_(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Lh,notInConstruct:Oh},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Lh,notInConstruct:Oh},{character:":",before:"[ps]",after:"\\/",inConstruct:Lh,notInConstruct:Oh}]}}function q_(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function _h(t){this.config.enter.autolinkProtocol.call(this,t)}function G_(t){this.config.exit.autolinkProtocol.call(this,t)}function W_(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function $_(t){this.config.exit.autolinkEmail.call(this,t)}function Y_(t){this.exit(t)}function X_(t){P_(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,J_],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Z_]],{ignore:["link","linkReference"]})}function J_(t,e,n,r,i){let s="";if(!OE(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!eD(n)))return!1;const a=tD(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function Z_(t,e,n,r){return!OE(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function eD(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function tD(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=bb(t,"(");let s=bb(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function OE(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||uo(n)||fd(n))&&(!e||n!==47)}_E.peek=lD;function nD(){this.buffer()}function rD(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function iD(){this.buffer()}function sD(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function aD(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Wi(this.sliceSerialize(t)).toLowerCase(),n.label=e}function oD(t){this.exit(t)}function AD(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Wi(this.sliceSerialize(t)).toLowerCase(),n.label=e}function uD(t){this.exit(t)}function lD(){return"["}function _E(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function cD(){return{enter:{gfmFootnoteCallString:nD,gfmFootnoteCall:rD,gfmFootnoteDefinitionLabelString:iD,gfmFootnoteDefinition:sD},exit:{gfmFootnoteCallString:aD,gfmFootnoteCall:oD,gfmFootnoteDefinitionLabelString:AD,gfmFootnoteDefinition:uD}}}function fD(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:_E},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const o=s.createTracker(a);let A=o.move("[^");const u=s.enter("footnoteDefinition"),l=s.enter("label");return A+=o.move(s.safe(s.associationId(r),{before:A,after:"]"})),l(),A+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),A+=o.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),e?DE:dD))),u(),A}}function dD(t,e,n){return e===0?t:DE(t,e,n)}function DE(t,e,n){return(n?"":"    ")+t}const hD=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];QE.peek=wD;function pD(){return{canContainEols:["delete"],enter:{strikethrough:mD},exit:{strikethrough:bD}}}function gD(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:hD}],handlers:{delete:QE}}}function mD(t){this.enter({type:"delete",children:[]},t)}function bD(t){this.exit(t)}function QE(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(t,_t(Ie({},i.current()),{before:a,after:"~"})),a+=i.move("~~"),s(),a}function wD(){return"~"}function yD(t){return t.length}function BD(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||yD,s=[],a=[],o=[],A=[];let u=0,l=-1;for(;++l<t.length;){const T=[],D=[];let N=-1;for(t[l].length>u&&(u=t[l].length);++N<t[l].length;){const M=xD(t[l][N]);if(n.alignDelimiters!==!1){const q=i(M);D[N]=q,(A[N]===void 0||q>A[N])&&(A[N]=q)}T.push(M)}a[l]=T,o[l]=D}let c=-1;if(typeof r=="object"&&"length"in r)for(;++c<u;)s[c]=wb(r[c]);else{const T=wb(r);for(;++c<u;)s[c]=T}c=-1;const f=[],d=[];for(;++c<u;){const T=s[c];let D="",N="";T===99?(D=":",N=":"):T===108?D=":":T===114&&(N=":");let M=n.alignDelimiters===!1?1:Math.max(1,A[c]-D.length-N.length);const q=D+"-".repeat(M)+N;n.alignDelimiters!==!1&&(M=D.length+M+N.length,M>A[c]&&(A[c]=M),d[c]=M),f[c]=q}a.splice(1,0,f),o.splice(1,0,d),l=-1;const w=[];for(;++l<a.length;){const T=a[l],D=o[l];c=-1;const N=[];for(;++c<u;){const M=T[c]||"";let q="",j="";if(n.alignDelimiters!==!1){const J=A[c]-(D[c]||0),H=s[c];H===114?q=" ".repeat(J):H===99?J%2?(q=" ".repeat(J/2+.5),j=" ".repeat(J/2-.5)):(q=" ".repeat(J/2),j=q):j=" ".repeat(J)}n.delimiterStart!==!1&&!c&&N.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&M==="")&&(n.delimiterStart!==!1||c)&&N.push(" "),n.alignDelimiters!==!1&&N.push(q),N.push(M),n.alignDelimiters!==!1&&N.push(j),n.padding!==!1&&N.push(" "),(n.delimiterEnd!==!1||c!==u-1)&&N.push("|")}w.push(n.delimiterEnd===!1?N.join("").replace(/ +$/,""):N.join(""))}return w.join(`
`)}function xD(t){return t==null?"":String(t)}function wb(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const yb={}.hasOwnProperty;function RE(t,e){const n=e||{};function r(i,...s){let a=r.invalid;const o=r.handlers;if(i&&yb.call(i,t)){const A=String(i[t]);a=yb.call(o,A)?o[A]:r.unknown}if(a)return a.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function ED(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(t,s.current()),CD);return i(),a}function CD(t,e,n){return">"+(n?"":" ")+t}function vD(t,e){return Bb(t,e.inConstruct,!0)&&!Bb(t,e.notInConstruct,!1)}function Bb(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function xb(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&vD(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function TD(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+e.length,r=n.indexOf(e,i);return a}function SD(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function ID(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function kD(t,e,n,r){const i=ID(n),s=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(SD(t,n)){const c=n.enter("codeIndented"),f=n.indentLines(s,FD);return c(),f}const o=n.createTracker(r),A=i.repeat(Math.max(TD(s,i)+1,3)),u=n.enter("codeFenced");let l=o.move(A);if(t.lang){const c=n.enter(`codeFencedLang${a}`);l+=o.move(n.safe(t.lang,Ie({before:l,after:" ",encode:["`"]},o.current()))),c()}if(t.lang&&t.meta){const c=n.enter(`codeFencedMeta${a}`);l+=o.move(" "),l+=o.move(n.safe(t.meta,Ie({before:l,after:`
`,encode:["`"]},o.current()))),c()}return l+=o.move(`
`),s&&(l+=o.move(s+`
`)),l+=o.move(A),u(),l}function FD(t,e,n){return(n?"":"    ")+t}function tm(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function ND(t,e,n,r){const i=tm(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const A=n.createTracker(r);let u=A.move("[");return u+=A.move(n.safe(n.associationId(t),Ie({before:u,after:"]"},A.current()))),u+=A.move("]: "),o(),!t.url||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),u+=A.move("<"),u+=A.move(n.safe(t.url,Ie({before:u,after:">"},A.current()))),u+=A.move(">")):(o=n.enter("destinationRaw"),u+=A.move(n.safe(t.url,Ie({before:u,after:t.title?" ":`
`},A.current())))),o(),t.title&&(o=n.enter(`title${s}`),u+=A.move(" "+i),u+=A.move(n.safe(t.title,Ie({before:u,after:i},A.current()))),u+=A.move(i),o()),a(),u}function UD(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Pu(t){return"&#x"+t.toString(16).toUpperCase()+";"}function If(t,e,n){const r=nA(t),i=nA(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}ME.peek=LD;function ME(t,e,n,r){const i=UD(n),s=n.enter("emphasis"),a=n.createTracker(r),o=a.move(i);let A=a.move(n.containerPhrasing(t,Ie({after:i,before:o},a.current())));const u=A.charCodeAt(0),l=If(r.before.charCodeAt(r.before.length-1),u,i);l.inside&&(A=Pu(u)+A.slice(1));const c=A.charCodeAt(A.length-1),f=If(r.after.charCodeAt(0),c,i);f.inside&&(A=A.slice(0,-1)+Pu(c));const d=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:l.outside},o+A+d}function LD(t,e,n){return n.options.emphasis||"*"}function OD(t,e){let n=!1;return md(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,r0}),!!((!t.depth||t.depth<3)&&Gg(t)&&(e.options.setext||n))}function _D(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(OD(t,n)){const l=n.enter("headingSetext"),c=n.enter("phrasing"),f=n.containerPhrasing(t,_t(Ie({},s.current()),{before:`
`,after:`
`}));return c(),l(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),A=n.enter("phrasing");s.move(a+" ");let u=n.containerPhrasing(t,Ie({before:"# ",after:`
`},s.current()));return/^[\t ]/.test(u)&&(u=Pu(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),A(),o(),u}PE.peek=DD;function PE(t){return t.value||""}function DD(){return"<"}HE.peek=QD;function HE(t,e,n,r){const i=tm(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const A=n.createTracker(r);let u=A.move("![");return u+=A.move(n.safe(t.alt,Ie({before:u,after:"]"},A.current()))),u+=A.move("]("),o(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),u+=A.move("<"),u+=A.move(n.safe(t.url,Ie({before:u,after:">"},A.current()))),u+=A.move(">")):(o=n.enter("destinationRaw"),u+=A.move(n.safe(t.url,Ie({before:u,after:t.title?" ":")"},A.current())))),o(),t.title&&(o=n.enter(`title${s}`),u+=A.move(" "+i),u+=A.move(n.safe(t.title,Ie({before:u,after:i},A.current()))),u+=A.move(i),o()),u+=A.move(")"),a(),u}function QD(){return"!"}jE.peek=RD;function jE(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let A=o.move("![");const u=n.safe(t.alt,Ie({before:A,after:"]"},o.current()));A+=o.move(u+"]["),a();const l=n.stack;n.stack=[],a=n.enter("reference");const c=n.safe(n.associationId(t),Ie({before:A,after:"]"},o.current()));return a(),n.stack=l,s(),i==="full"||!u||u!==c?A+=o.move(c+"]"):i==="shortcut"?A=A.slice(0,-1):A+=o.move("]"),A}function RD(){return"!"}KE.peek=MD;function KE(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let A;if(a.atBreak)for(;A=o.exec(r);){let u=A.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(A.index+1)}}return i+r+i}function MD(){return"`"}function VE(t,e){const n=Gg(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}zE.peek=PD;function zE(t,e,n,r){const i=tm(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,A;if(VE(t,n)){const l=n.stack;n.stack=[],o=n.enter("autolink");let c=a.move("<");return c+=a.move(n.containerPhrasing(t,Ie({before:c,after:">"},a.current()))),c+=a.move(">"),o(),n.stack=l,c}o=n.enter("link"),A=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(t,Ie({before:u,after:"]("},a.current()))),u+=a.move("]("),A(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(A=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,Ie({before:u,after:">"},a.current()))),u+=a.move(">")):(A=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,Ie({before:u,after:t.title?" ":")"},a.current())))),A(),t.title&&(A=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(t.title,Ie({before:u,after:i},a.current()))),u+=a.move(i),A()),u+=a.move(")"),o(),u}function PD(t,e,n){return VE(t,n)?"<":"["}qE.peek=HD;function qE(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let A=o.move("[");const u=n.containerPhrasing(t,Ie({before:A,after:"]"},o.current()));A+=o.move(u+"]["),a();const l=n.stack;n.stack=[],a=n.enter("reference");const c=n.safe(n.associationId(t),Ie({before:A,after:"]"},o.current()));return a(),n.stack=l,s(),i==="full"||!u||u!==c?A+=o.move(c+"]"):i==="shortcut"?A=A.slice(0,-1):A+=o.move("]"),A}function HD(){return"["}function nm(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function jD(t){const e=nm(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function KD(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function GE(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function VD(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=t.ordered?KD(n):nm(n);const o=t.ordered?a==="."?")":".":jD(n);let A=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const l=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&l&&(!l.children||!l.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(A=!0),GE(n)===a&&l){let c=-1;for(;++c<t.children.length;){const f=t.children[c];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){A=!0;break}}}}A&&(a=o),n.bulletCurrent=a;const u=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),u}function zD(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function qD(t,e,n,r){const i=zD(n);let s=n.bulletCurrent||nm(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const A=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,o.current()),l);return A(),u;function l(c,f,d){return f?(d?"":" ".repeat(a))+c:(d?s:s+" ".repeat(a-s.length))+c}}function GD(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(t,r);return s(),i(),a}const WD=pd(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function $D(t,e,n,r){return(t.children.some(function(a){return WD(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function YD(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}WE.peek=XD;function WE(t,e,n,r){const i=YD(n),s=n.enter("strong"),a=n.createTracker(r),o=a.move(i+i);let A=a.move(n.containerPhrasing(t,Ie({after:i,before:o},a.current())));const u=A.charCodeAt(0),l=If(r.before.charCodeAt(r.before.length-1),u,i);l.inside&&(A=Pu(u)+A.slice(1));const c=A.charCodeAt(A.length-1),f=If(r.after.charCodeAt(0),c,i);f.inside&&(A=A.slice(0,-1)+Pu(c));const d=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:l.outside},o+A+d}function XD(t,e,n){return n.options.strong||"*"}function JD(t,e,n,r){return n.safe(t.value,r)}function ZD(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function e9(t,e,n){const r=(GE(n)+(n.options.ruleSpaces?" ":"")).repeat(ZD(n));return n.options.ruleSpaces?r.slice(0,-1):r}const $E={blockquote:ED,break:xb,code:kD,definition:ND,emphasis:ME,hardBreak:xb,heading:_D,html:PE,image:HE,imageReference:jE,inlineCode:KE,link:zE,linkReference:qE,list:VD,listItem:qD,paragraph:GD,root:$D,strong:WE,text:JD,thematicBreak:e9};function t9(){return{enter:{table:n9,tableData:Eb,tableHeader:Eb,tableRow:i9},exit:{codeText:s9,table:r9,tableData:Dh,tableHeader:Dh,tableRow:Dh}}}function n9(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function r9(t){this.exit(t),this.data.inTable=void 0}function i9(t){this.enter({type:"tableRow",children:[]},t)}function Dh(t){this.exit(t)}function Eb(t){this.enter({type:"tableCell",children:[]},t)}function s9(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,a9));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function a9(t,e){return e==="|"?e:t}function o9(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:a,tableCell:A,tableRow:o}};function a(d,w,T,D){return u(l(d,T,D),d.align)}function o(d,w,T,D){const N=c(d,T,D),M=u([N]);return M.slice(0,M.indexOf(`
`))}function A(d,w,T,D){const N=T.enter("tableCell"),M=T.enter("phrasing"),q=T.containerPhrasing(d,_t(Ie({},D),{before:s,after:s}));return M(),N(),q}function u(d,w){return BD(d,{align:w,alignDelimiters:r,padding:n,stringLength:i})}function l(d,w,T){const D=d.children;let N=-1;const M=[],q=w.enter("table");for(;++N<D.length;)M[N]=c(D[N],w,T);return q(),M}function c(d,w,T){const D=d.children;let N=-1;const M=[],q=w.enter("tableRow");for(;++N<D.length;)M[N]=A(D[N],d,w,T);return q(),M}function f(d,w,T){let D=$E.inlineCode(d,w,T);return T.stack.includes("tableCell")&&(D=D.replace(/\|/g,"\\$&")),D}}function A9(){return{exit:{taskListCheckValueChecked:Cb,taskListCheckValueUnchecked:Cb,paragraph:l9}}}function u9(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:c9}}}function Cb(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function l9(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function c9(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let A=$E.listItem(t,e,n,Ie(Ie({},r),o.current()));return s&&(A=A.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),A;function u(l){return l+a}}function f9(){return[V_(),cD(),pD(),t9(),A9()]}function d9(t){return{extensions:[z_(),fD(t),gD(),o9(t),u9()]}}const h9={tokenize:y9,partial:!0},YE={tokenize:B9,partial:!0},XE={tokenize:x9,partial:!0},JE={tokenize:E9,partial:!0},p9={tokenize:C9,partial:!0},ZE={name:"wwwAutolink",tokenize:b9,previous:tC},eC={name:"protocolAutolink",tokenize:w9,previous:nC},js={name:"emailAutolink",tokenize:m9,previous:rC},bs={};function g9(){return{text:bs}}let Na=48;for(;Na<123;)bs[Na]=js,Na++,Na===58?Na=65:Na===91&&(Na=97);bs[43]=js;bs[45]=js;bs[46]=js;bs[95]=js;bs[72]=[js,eC];bs[104]=[js,eC];bs[87]=[js,ZE];bs[119]=[js,ZE];function m9(t,e,n){const r=this;let i,s;return a;function a(c){return!o0(c)||!rC.call(r,r.previous)||rm(r.events)?n(c):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(c))}function o(c){return o0(c)?(t.consume(c),o):c===64?(t.consume(c),A):n(c)}function A(c){return c===46?t.check(p9,l,u)(c):c===45||c===95||jr(c)?(s=!0,t.consume(c),A):l(c)}function u(c){return t.consume(c),i=!0,A}function l(c){return s&&i&&Zr(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(c)):n(c)}}function b9(t,e,n){const r=this;return i;function i(a){return a!==87&&a!==119||!tC.call(r,r.previous)||rm(r.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(h9,t.attempt(YE,t.attempt(XE,s),n),n)(a))}function s(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function w9(t,e,n){const r=this;let i="",s=!1;return a;function a(c){return(c===72||c===104)&&nC.call(r,r.previous)&&!rm(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(c),t.consume(c),o):n(c)}function o(c){if(Zr(c)&&i.length<5)return i+=String.fromCodePoint(c),t.consume(c),o;if(c===58){const f=i.toLowerCase();if(f==="http"||f==="https")return t.consume(c),A}return n(c)}function A(c){return c===47?(t.consume(c),s?u:(s=!0,A)):n(c)}function u(c){return c===null||Tf(c)||Dn(c)||uo(c)||fd(c)?n(c):t.attempt(YE,t.attempt(XE,l),n)(c)}function l(c){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(c)}}function y9(t,e,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,t.consume(a),i):a===46&&r===3?(t.consume(a),s):n(a)}function s(a){return a===null?n(a):e(a)}}function B9(t,e,n){let r,i,s;return a;function a(u){return u===46||u===95?t.check(JE,A,o)(u):u===null||Dn(u)||uo(u)||u!==45&&fd(u)?A(u):(s=!0,t.consume(u),a)}function o(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),a}function A(u){return i||r||!s?n(u):e(u)}}function x9(t,e){let n=0,r=0;return i;function i(a){return a===40?(n++,t.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(JE,e,s)(a):a===null||Dn(a)||uo(a)?e(a):(t.consume(a),i)}function s(a){return a===41&&r++,t.consume(a),i}}function E9(t,e,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(t.consume(o),r):o===38?(t.consume(o),s):o===93?(t.consume(o),i):o===60||o===null||Dn(o)||uo(o)?e(o):n(o)}function i(o){return o===null||o===40||o===91||Dn(o)||uo(o)?e(o):r(o)}function s(o){return Zr(o)?a(o):n(o)}function a(o){return o===59?(t.consume(o),r):Zr(o)?(t.consume(o),a):n(o)}}function C9(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return jr(s)?n(s):e(s)}}function tC(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Dn(t)}function nC(t){return!Zr(t)}function rC(t){return!(t===47||o0(t))}function o0(t){return t===43||t===45||t===46||t===95||jr(t)}function rm(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const v9={tokenize:L9,partial:!0};function T9(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:F9,continuation:{tokenize:N9},exit:U9}},text:{91:{name:"gfmFootnoteCall",tokenize:k9},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:S9,resolveTo:I9}}}}function S9(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const A=r.events[i][1];if(A.type==="labelImage"){a=A;break}if(A.type==="gfmFootnoteCall"||A.type==="labelLink"||A.type==="label"||A.type==="image"||A.type==="link")break}return o;function o(A){if(!a||!a._balanced)return n(A);const u=Wi(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(A):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(A),t.exit("gfmFootnoteCallLabelMarker"),e(A))}}function I9(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...o),t}function k9(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(c){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),A}function A(c){return c!==94?n(c):(t.enter("gfmFootnoteCallMarker"),t.consume(c),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(c){if(s>999||c===93&&!a||c===null||c===91||Dn(c))return n(c);if(c===93){t.exit("chunkString");const f=t.exit("gfmFootnoteCallString");return i.includes(Wi(r.sliceSerialize(f)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(c)}return Dn(c)||(a=!0),s++,t.consume(c),c===92?l:u}function l(c){return c===91||c===92||c===93?(t.consume(c),s++,u):u(c)}}function F9(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return A;function A(w){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(w){return w===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",l):n(w)}function l(w){if(a>999||w===93&&!o||w===null||w===91||Dn(w))return n(w);if(w===93){t.exit("chunkString");const T=t.exit("gfmFootnoteDefinitionLabelString");return s=Wi(r.sliceSerialize(T)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),f}return Dn(w)||(o=!0),a++,t.consume(w),w===92?c:l}function c(w){return w===91||w===92||w===93?(t.consume(w),a++,l):l(w)}function f(w){return w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),i.includes(s)||i.push(s),yn(t,d,"gfmFootnoteDefinitionWhitespace")):n(w)}function d(w){return e(w)}}function N9(t,e,n){return t.check(nl,e,t.attempt(v9,e,n))}function U9(t){t.exit("gfmFootnoteDefinition")}function L9(t,e,n){const r=this;return yn(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(s):n(s)}}function O9(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let A=-1;for(;++A<a.length;)if(a[A][0]==="enter"&&a[A][1].type==="strikethroughSequenceTemporary"&&a[A][1]._close){let u=A;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[A][1].end.offset-a[A][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[A][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const l={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[A][1].end)},c={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[A][1].start)},f=[["enter",l,o],["enter",a[u][1],o],["exit",a[u][1],o],["enter",c,o]],d=o.parser.constructs.insideSpan.null;d&&xi(f,f.length,0,dd(d,a.slice(u+1,A),o)),xi(f,f.length,0,[["exit",c,o],["enter",a[A][1],o],["exit",a[A][1],o],["exit",l,o]]),xi(a,u-1,A-u+3,f),A=u+f.length-2;break}}for(A=-1;++A<a.length;)a[A][1].type==="strikethroughSequenceTemporary"&&(a[A][1].type="data");return a}function s(a,o,A){const u=this.previous,l=this.events;let c=0;return f;function f(w){return u===126&&l[l.length-1][1].type!=="characterEscape"?A(w):(a.enter("strikethroughSequenceTemporary"),d(w))}function d(w){const T=nA(u);if(w===126)return c>1?A(w):(a.consume(w),c++,d);if(c<2&&!n)return A(w);const D=a.exit("strikethroughSequenceTemporary"),N=nA(w);return D._open=!N||N===2&&!!T,D._close=!T||T===2&&!!N,o(w)}}}class _9{constructor(){this.map=[]}add(e,n,r){D9(this,e,n,r)}consume(e){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function D9(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function Q9(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function R9(){return{flow:{null:{name:"table",tokenize:M9,resolveAll:P9}}}}function M9(t,e,n){const r=this;let i=0,s=0,a;return o;function o(me){let qe=r.events.length-1;for(;qe>-1;){const tt=r.events[qe][1].type;if(tt==="lineEnding"||tt==="linePrefix")qe--;else break}const Me=qe>-1?r.events[qe][1].type:null,Ke=Me==="tableHead"||Me==="tableRow"?H:A;return Ke===H&&r.parser.lazy[r.now().line]?n(me):Ke(me)}function A(me){return t.enter("tableHead"),t.enter("tableRow"),u(me)}function u(me){return me===124||(a=!0,s+=1),l(me)}function l(me){return me===null?n(me):qt(me)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(me),t.exit("lineEnding"),d):n(me):hn(me)?yn(t,l,"whitespace")(me):(s+=1,a&&(a=!1,i+=1),me===124?(t.enter("tableCellDivider"),t.consume(me),t.exit("tableCellDivider"),a=!0,l):(t.enter("data"),c(me)))}function c(me){return me===null||me===124||Dn(me)?(t.exit("data"),l(me)):(t.consume(me),me===92?f:c)}function f(me){return me===92||me===124?(t.consume(me),c):c(me)}function d(me){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(me):(t.enter("tableDelimiterRow"),a=!1,hn(me)?yn(t,w,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):w(me))}function w(me){return me===45||me===58?D(me):me===124?(a=!0,t.enter("tableCellDivider"),t.consume(me),t.exit("tableCellDivider"),T):J(me)}function T(me){return hn(me)?yn(t,D,"whitespace")(me):D(me)}function D(me){return me===58?(s+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(me),t.exit("tableDelimiterMarker"),N):me===45?(s+=1,N(me)):me===null||qt(me)?j(me):J(me)}function N(me){return me===45?(t.enter("tableDelimiterFiller"),M(me)):J(me)}function M(me){return me===45?(t.consume(me),M):me===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(me),t.exit("tableDelimiterMarker"),q):(t.exit("tableDelimiterFiller"),q(me))}function q(me){return hn(me)?yn(t,j,"whitespace")(me):j(me)}function j(me){return me===124?w(me):me===null||qt(me)?!a||i!==s?J(me):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(me)):J(me)}function J(me){return n(me)}function H(me){return t.enter("tableRow"),ve(me)}function ve(me){return me===124?(t.enter("tableCellDivider"),t.consume(me),t.exit("tableCellDivider"),ve):me===null||qt(me)?(t.exit("tableRow"),e(me)):hn(me)?yn(t,ve,"whitespace")(me):(t.enter("data"),De(me))}function De(me){return me===null||me===124||Dn(me)?(t.exit("data"),ve(me)):(t.consume(me),me===92?Fe:De)}function Fe(me){return me===92||me===124?(t.consume(me),De):De(me)}}function P9(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,A=0,u,l,c;const f=new _9;for(;++n<t.length;){const d=t[n],w=d[1];d[0]==="enter"?w.type==="tableHead"?(o=!1,A!==0&&(vb(f,e,A,u,l),l=void 0,A=0),u={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},f.add(n,0,[["enter",u,e]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(r=!0,c=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,l={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},f.add(n,0,[["enter",l,e]])),i=w.type==="tableDelimiterRow"?2:l?3:1):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],c=Hl(f,e,s,i,void 0,c),s=[0,0,0,0]),a[2]=n)):w.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],c=Hl(f,e,s,i,void 0,c)),s=a,a=[s[1],n,0,0])):w.type==="tableHead"?(o=!0,A=n):w.type==="tableRow"||w.type==="tableDelimiterRow"?(A=n,s[1]!==0?(a[0]=a[1],c=Hl(f,e,s,i,n,c)):a[1]!==0&&(c=Hl(f,e,a,i,n,c)),i=0):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(a[3]=n)}for(A!==0&&vb(f,e,A,u,l),f.consume(e.events),n=-1;++n<e.events.length;){const d=e.events[n];d[0]==="enter"&&d[1].type==="table"&&(d[1]._align=Q9(e.events,n))}return t}function Hl(t,e,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},Oo(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const A=Oo(e.events,n[1]);if(s={type:a,start:Object.assign({},A),end:Object.assign({},A)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const u=Oo(e.events,n[2]),l=Oo(e.events,n[3]),c={type:o,start:Object.assign({},u),end:Object.assign({},l)};if(t.add(n[2],0,[["enter",c,e]]),r!==2){const f=e.events[n[2]],d=e.events[n[3]];if(f[1].end=Object.assign({},d[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const w=n[2]+1,T=n[3]-n[2]-1;t.add(w,T,[])}}t.add(n[3]+1,0,[["exit",c,e]])}return i!==void 0&&(s.end=Object.assign({},Oo(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function vb(t,e,n,r,i){const s=[],a=Oo(e.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,e])),r.end=Object.assign({},a),s.push(["exit",r,e]),t.add(n+1,0,s)}function Oo(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const H9={name:"tasklistCheck",tokenize:K9};function j9(){return{text:{91:H9}}}function K9(t,e,n){const r=this;return i;function i(A){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(A):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(A),t.exit("taskListCheckMarker"),s)}function s(A){return Dn(A)?(t.enter("taskListCheckValueUnchecked"),t.consume(A),t.exit("taskListCheckValueUnchecked"),a):A===88||A===120?(t.enter("taskListCheckValueChecked"),t.consume(A),t.exit("taskListCheckValueChecked"),a):n(A)}function a(A){return A===93?(t.enter("taskListCheckMarker"),t.consume(A),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),o):n(A)}function o(A){return qt(A)?e(A):hn(A)?t.check({tokenize:V9},e,n)(A):n(A)}}function V9(t,e,n){return yn(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function z9(t){return dE([g9(),T9(),O9(t),R9(),j9()])}const q9={};function Cc(t){const e=this,n=t||q9,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(z9(n)),s.push(f9()),a.push(d9(n))}const Tb=/[#.]/g;function G9(t,e){const n=t||"",r={};let i=0,s,a;for(;i<n.length;){Tb.lastIndex=i;const o=Tb.exec(n),A=n.slice(i,o?o.index:n.length);A&&(s?s==="#"?r.id=A:Array.isArray(r.className)?r.className.push(A):r.className=[A]:a=A,i+=A.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||e||"div",properties:r,children:[]}}function iC(t,e,n){const r=n?X9(n):void 0;function i(s,a,...o){let A;if(s==null){A={type:"root",children:[]};const u=a;o.unshift(u)}else{A=G9(s,e);const u=A.tagName.toLowerCase(),l=r?r.get(u):void 0;if(A.tagName=l||u,W9(a))o.unshift(a);else for(const[c,f]of Object.entries(a))$9(t,A.properties,c,f)}for(const u of o)A0(A.children,u);return A.type==="element"&&A.tagName==="template"&&(A.content={type:"root",children:A.children},A.children=[]),A}return i}function W9(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const i=e[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function $9(t,e,n,r){const i=Kg(t,n);let s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=M2(r):i.commaSeparated?s=O2(r):i.commaOrSpaceSeparated?s=M2(O2(r).join(" ")):s=Sb(i,i.property,r):Array.isArray(r)?s=[...r]:s=i.property==="style"?Y9(r):String(r);if(Array.isArray(s)){const a=[];for(const o of s)a.push(Sb(i,i.property,o));s=a}i.property==="className"&&Array.isArray(e.className)&&(s=e.className.concat(s)),e[i.property]=s}}function A0(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)A0(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?A0(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function Sb(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||Ru(n)===Ru(e)))return!0}return n}function Y9(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function X9(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const J9=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Z9=iC(ld,"div"),eQ=iC(lA,"g",J9);function tQ(t){const e=String(t),n=[];return{toOffset:i,toPoint:r};function r(s){if(typeof s=="number"&&s>-1&&s<=e.length){let a=0;for(;;){let o=n[a];if(o===void 0){const A=Ib(e,n[a-1]);o=A===-1?e.length+1:A+1,n[a]=o}if(o>s)return{line:a+1,column:s-(a>0?n[a-1]:0)+1,offset:s};a++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const o=n[n.length-1],A=Ib(e,o),u=A===-1?e.length+1:A+1;if(o===u)break;n.push(u)}const a=(s.line>1?n[s.line-2]:0)+s.column-1;if(a<n[s.line-1])return a}}}function Ib(t,e){const n=t.indexOf("\r",e),r=t.indexOf(`
`,e);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Va={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},sC={}.hasOwnProperty,nQ=Object.prototype;function rQ(t,e){const n=e||{};return im({file:n.file||void 0,location:!1,schema:n.space==="svg"?lA:ld,verbose:n.verbose||!1},t)}function im(t,e){let n;switch(e.nodeName){case"#comment":{const r=e;return n={type:"comment",value:r.data},vc(t,r,n),n}case"#document":case"#document-fragment":{const r=e,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:aC(t,e.childNodes),data:{quirksMode:i}},t.file&&t.location){const s=String(t.file),a=tQ(s),o=a.toPoint(0),A=a.toPoint(s.length);n.position={start:o,end:A}}return n}case"#documentType":{const r=e;return n={type:"doctype"},vc(t,r,n),n}case"#text":{const r=e;return n={type:"text",value:r.value},vc(t,r,n),n}default:return n=iQ(t,e),n}}function aC(t,e){let n=-1;const r=[];for(;++n<e.length;){const i=im(t,e[n]);r.push(i)}return r}function iQ(t,e){const n=t.schema;t.schema=e.namespaceURI===Va.svg?lA:ld;let r=-1;const i={};for(;++r<e.attrs.length;){const o=e.attrs[r],A=(o.prefix?o.prefix+":":"")+o.name;sC.call(nQ,A)||(i[A]=o.value)}const a=(t.schema.space==="svg"?eQ:Z9)(e.tagName,i,aC(t,e.childNodes));if(vc(t,e,a),a.tagName==="template"){const o=e,A=o.sourceCodeLocation,u=A&&A.startTag&&Po(A.startTag),l=A&&A.endTag&&Po(A.endTag),c=im(t,o.content);u&&l&&t.file&&(c.position={start:u.end,end:l.start}),a.content=c}return t.schema=n,a}function vc(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const r=sQ(t,n,e.sourceCodeLocation);r&&(t.location=!0,n.position=r)}}function sQ(t,e,n){const r=Po(n);if(e.type==="element"){const i=e.children[e.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),t.verbose){const s={};let a;if(n.attrs)for(a in n.attrs)sC.call(n.attrs,a)&&(s[Kg(t.schema,a).property]=Po(n.attrs[a]));n.startTag;const o=Po(n.startTag),A=n.endTag?Po(n.endTag):void 0,u={opening:o};A&&(u.closing=A),u.properties=s,e.data={position:u}}}return r}function Po(t){const e=kb({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=kb({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function kb(t){return t.line&&t.column?t:void 0}class il{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}il.prototype.property={};il.prototype.normal={};il.prototype.space=null;function oC(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new il(n,r,e)}function u0(t){return t.toLowerCase()}class Pi{constructor(e,n){this.property=e,this.attribute=n}}Pi.prototype.space=null;Pi.prototype.boolean=!1;Pi.prototype.booleanish=!1;Pi.prototype.overloadedBoolean=!1;Pi.prototype.number=!1;Pi.prototype.commaSeparated=!1;Pi.prototype.spaceSeparated=!1;Pi.prototype.commaOrSpaceSeparated=!1;Pi.prototype.mustUseProperty=!1;Pi.prototype.defined=!1;let aQ=0;const nn=fo(),or=fo(),AC=fo(),ht=fo(),Mn=fo(),zo=fo(),mi=fo();function fo(){return Md(2,++aQ)}const l0=Object.freeze(Object.defineProperty({__proto__:null,boolean:nn,booleanish:or,commaOrSpaceSeparated:mi,commaSeparated:zo,number:ht,overloadedBoolean:AC,spaceSeparated:Mn},Symbol.toStringTag,{value:"Module"})),Qh=Object.keys(l0);class sm extends Pi{constructor(e,n,r,i){let s=-1;if(super(e,n),Fb(this,"space",i),typeof r=="number")for(;++s<Qh.length;){const a=Qh[s];Fb(this,Qh[s],(r&l0[a])===l0[a])}}}sm.prototype.defined=!0;function Fb(t,e,n){n&&(t[e]=n)}const oQ={}.hasOwnProperty;function fA(t){const e={},n={};let r;for(r in t.properties)if(oQ.call(t.properties,r)){const i=t.properties[r],s=new sm(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[u0(r)]=r,n[u0(s.attribute)]=r}return new il(e,n,t.space)}const uC=fA({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),lC=fA({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function cC(t,e){return e in t?t[e]:e}function fC(t,e){return cC(t,e.toLowerCase())}const dC=fA({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:fC,properties:{xmlns:null,xmlnsXLink:null}}),hC=fA({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:or,ariaAutoComplete:null,ariaBusy:or,ariaChecked:or,ariaColCount:ht,ariaColIndex:ht,ariaColSpan:ht,ariaControls:Mn,ariaCurrent:null,ariaDescribedBy:Mn,ariaDetails:null,ariaDisabled:or,ariaDropEffect:Mn,ariaErrorMessage:null,ariaExpanded:or,ariaFlowTo:Mn,ariaGrabbed:or,ariaHasPopup:null,ariaHidden:or,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Mn,ariaLevel:ht,ariaLive:null,ariaModal:or,ariaMultiLine:or,ariaMultiSelectable:or,ariaOrientation:null,ariaOwns:Mn,ariaPlaceholder:null,ariaPosInSet:ht,ariaPressed:or,ariaReadOnly:or,ariaRelevant:null,ariaRequired:or,ariaRoleDescription:Mn,ariaRowCount:ht,ariaRowIndex:ht,ariaRowSpan:ht,ariaSelected:or,ariaSetSize:ht,ariaSort:null,ariaValueMax:ht,ariaValueMin:ht,ariaValueNow:ht,ariaValueText:null,role:null}}),AQ=fA({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:fC,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zo,acceptCharset:Mn,accessKey:Mn,action:null,allow:null,allowFullScreen:nn,allowPaymentRequest:nn,allowUserMedia:nn,alt:null,as:null,async:nn,autoCapitalize:null,autoComplete:Mn,autoFocus:nn,autoPlay:nn,blocking:Mn,capture:null,charSet:null,checked:nn,cite:null,className:Mn,cols:ht,colSpan:null,content:null,contentEditable:or,controls:nn,controlsList:Mn,coords:ht|zo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:nn,defer:nn,dir:null,dirName:null,disabled:nn,download:AC,draggable:or,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:nn,formTarget:null,headers:Mn,height:ht,hidden:nn,high:ht,href:null,hrefLang:null,htmlFor:Mn,httpEquiv:Mn,id:null,imageSizes:null,imageSrcSet:null,inert:nn,inputMode:null,integrity:null,is:null,isMap:nn,itemId:null,itemProp:Mn,itemRef:Mn,itemScope:nn,itemType:Mn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:nn,low:ht,manifest:null,max:null,maxLength:ht,media:null,method:null,min:null,minLength:ht,multiple:nn,muted:nn,name:null,nonce:null,noModule:nn,noValidate:nn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:nn,optimum:ht,pattern:null,ping:Mn,placeholder:null,playsInline:nn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:nn,referrerPolicy:null,rel:Mn,required:nn,reversed:nn,rows:ht,rowSpan:ht,sandbox:Mn,scope:null,scoped:nn,seamless:nn,selected:nn,shadowRootClonable:nn,shadowRootDelegatesFocus:nn,shadowRootMode:null,shape:null,size:ht,sizes:null,slot:null,span:ht,spellCheck:or,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ht,step:null,style:null,tabIndex:ht,target:null,title:null,translate:null,type:null,typeMustMatch:nn,useMap:null,value:or,width:ht,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Mn,axis:null,background:null,bgColor:null,border:ht,borderColor:null,bottomMargin:ht,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:nn,declare:nn,event:null,face:null,frame:null,frameBorder:null,hSpace:ht,leftMargin:ht,link:null,longDesc:null,lowSrc:null,marginHeight:ht,marginWidth:ht,noResize:nn,noHref:nn,noShade:nn,noWrap:nn,object:null,profile:null,prompt:null,rev:null,rightMargin:ht,rules:null,scheme:null,scrolling:or,standby:null,summary:null,text:null,topMargin:ht,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ht,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:nn,disableRemotePlayback:nn,prefix:null,property:null,results:ht,security:null,unselectable:null}}),uQ=fA({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:cC,properties:{about:mi,accentHeight:ht,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ht,amplitude:ht,arabicForm:null,ascent:ht,attributeName:null,attributeType:null,azimuth:ht,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ht,by:null,calcMode:null,capHeight:ht,className:Mn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ht,diffuseConstant:ht,direction:null,display:null,dur:null,divisor:ht,dominantBaseline:null,download:nn,dx:null,dy:null,edgeMode:null,editable:null,elevation:ht,enableBackground:null,end:null,event:null,exponent:ht,externalResourcesRequired:null,fill:null,fillOpacity:ht,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zo,g2:zo,glyphName:zo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ht,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ht,horizOriginX:ht,horizOriginY:ht,id:null,ideographic:ht,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ht,k:ht,k1:ht,k2:ht,k3:ht,k4:ht,kernelMatrix:mi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ht,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ht,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ht,overlineThickness:ht,paintOrder:null,panose1:null,path:null,pathLength:ht,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Mn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ht,pointsAtY:ht,pointsAtZ:ht,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:mi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:mi,rev:mi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:mi,requiredFeatures:mi,requiredFonts:mi,requiredFormats:mi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ht,specularExponent:ht,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ht,strikethroughThickness:ht,string:null,stroke:null,strokeDashArray:mi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ht,strokeOpacity:ht,strokeWidth:null,style:null,surfaceScale:ht,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:mi,tabIndex:ht,tableValues:null,target:null,targetX:ht,targetY:ht,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:mi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ht,underlineThickness:ht,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ht,values:null,vAlphabetic:ht,vMathematical:ht,vectorEffect:null,vHanging:ht,vIdeographic:ht,version:null,vertAdvY:ht,vertOriginX:ht,vertOriginY:ht,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ht,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),lQ=/^data[-\w.:]+$/i,Nb=/-[a-z]/g,cQ=/[A-Z]/g;function fQ(t,e){const n=u0(e);let r=e,i=Pi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&lQ.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Nb,hQ);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Nb.test(s)){let a=s.replace(cQ,dQ);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=sm}return new i(r,e)}function dQ(t){return"-"+t.toLowerCase()}function hQ(t){return t.charAt(1).toUpperCase()}const pQ=oC([lC,uC,dC,hC,AQ],"html"),pC=oC([lC,uC,dC,hC,uQ],"svg"),gQ={},mQ={}.hasOwnProperty,gC=RE("type",{handlers:{root:wQ,element:CQ,text:xQ,comment:EQ,doctype:BQ}});function bQ(t,e){const r=(e||gQ).space;return gC(t,r==="svg"?pC:pQ)}function wQ(t,e){const n={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=am(t.children,n,e),dA(t,n),n}function yQ(t,e){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=am(t.children,n,e),dA(t,n),n}function BQ(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return dA(t,e),e}function xQ(t){const e={nodeName:"#text",value:t.value,parentNode:null};return dA(t,e),e}function EQ(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return dA(t,e),e}function CQ(t,e){const n=e;let r=n;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=pC);const i=[];let s;if(t.properties){for(s in t.properties)if(s!=="children"&&mQ.call(t.properties,s)){const A=vQ(r,s,t.properties[s]);A&&i.push(A)}}const a=r.space,o={nodeName:t.tagName,tagName:t.tagName,attrs:i,namespaceURI:Va[a],childNodes:[],parentNode:null};return o.childNodes=am(t.children,o,r),dA(t,o),t.tagName==="template"&&t.content&&(o.content=yQ(t.content,r)),o}function vQ(t,e,n){const r=fQ(t,e);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?Jx(n):aE(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=Va[r.space]}return i}function am(t,e,n){let r=-1;const i=[];if(t)for(;++r<t.length;){const s=gC(t[r],n);s.parentNode=e,i.push(s)}return i}function dA(t,e){const n=t.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,e.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const TQ=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],SQ=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),zn="";var re;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(re||(re={}));const si={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function mC(t){return t>=55296&&t<=57343}function IQ(t){return t>=56320&&t<=57343}function kQ(t,e){return(t-55296)*1024+9216+e}function bC(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function wC(t){return t>=64976&&t<=65007||SQ.has(t)}var Ye;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Ye||(Ye={}));const FQ=65536;class NQ{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=FQ,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:r,col:i,offset:s}=this,a=i+n,o=s+n;return{code:e,startLine:r,endLine:r,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(IQ(n))return this.pos++,this._addGap(),kQ(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,re.EOF;return this._err(Ye.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,re.EOF;const r=this.html.charCodeAt(n);return r===re.CARRIAGE_RETURN?re.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,re.EOF;let e=this.html.charCodeAt(this.pos);return e===re.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,re.LINE_FEED):e===re.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,mC(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===re.LINE_FEED||e===re.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){bC(e)?this._err(Ye.controlCharacterInInputStream):wC(e)&&this._err(Ye.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var cn;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(cn||(cn={}));function yC(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const UQ=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),LQ=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function OQ(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=LQ.get(t))!==null&&e!==void 0?e:t}var Br;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Br||(Br={}));const _Q=32;var Aa;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Aa||(Aa={}));function c0(t){return t>=Br.ZERO&&t<=Br.NINE}function DQ(t){return t>=Br.UPPER_A&&t<=Br.UPPER_F||t>=Br.LOWER_A&&t<=Br.LOWER_F}function QQ(t){return t>=Br.UPPER_A&&t<=Br.UPPER_Z||t>=Br.LOWER_A&&t<=Br.LOWER_Z||c0(t)}function RQ(t){return t===Br.EQUALS||QQ(t)}var br;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(br||(br={}));var Ls;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Ls||(Ls={}));let MQ=class{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=br.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ls.Strict}startEntity(e){this.decodeMode=e,this.state=br.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case br.EntityStart:return e.charCodeAt(n)===Br.NUM?(this.state=br.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=br.NamedEntity,this.stateNamedEntity(e,n));case br.NumericStart:return this.stateNumericStart(e,n);case br.NumericDecimal:return this.stateNumericDecimal(e,n);case br.NumericHex:return this.stateNumericHex(e,n);case br.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|_Q)===Br.LOWER_X?(this.state=br.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=br.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+Number.parseInt(e.substr(n,s),i),this.consumed+=s}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(c0(i)||DQ(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(c0(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Br.SEMI)this.consumed+=1;else if(this.decodeMode===Ls.Strict)return 0;return this.emitCodePoint(OQ(this.result),this.consumed),this.errors&&(e!==Br.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Aa.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const a=e.charCodeAt(n);if(this.treeIndex=PQ(r,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===Ls.Attribute&&(s===0||RQ(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Aa.VALUE_LENGTH)>>14,s!==0){if(a===Br.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Ls.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&Aa.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~Aa.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case br.NamedEntity:return this.result!==0&&(this.decodeMode!==Ls.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case br.NumericDecimal:return this.emitNumericEntity(0,2);case br.NumericHex:return this.emitNumericEntity(0,3);case br.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case br.EntityStart:return 0}}};function PQ(t,e,n,r){const i=(e&Aa.BRANCH_LENGTH)>>7,s=e&Aa.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const A=r-s;return A<0||A>=i?-1:t[n+A]-1}let a=n,o=a+i-1;for(;a<=o;){const A=a+o>>>1,u=t[A];if(u<r)a=A+1;else if(u>r)o=A-1;else return t[A+i]}return-1}var at;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(at||(at={}));var eo;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(eo||(eo={}));var Fi;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(Fi||(Fi={}));var Pe;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(Pe||(Pe={}));var p;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(p||(p={}));const HQ=new Map([[Pe.A,p.A],[Pe.ADDRESS,p.ADDRESS],[Pe.ANNOTATION_XML,p.ANNOTATION_XML],[Pe.APPLET,p.APPLET],[Pe.AREA,p.AREA],[Pe.ARTICLE,p.ARTICLE],[Pe.ASIDE,p.ASIDE],[Pe.B,p.B],[Pe.BASE,p.BASE],[Pe.BASEFONT,p.BASEFONT],[Pe.BGSOUND,p.BGSOUND],[Pe.BIG,p.BIG],[Pe.BLOCKQUOTE,p.BLOCKQUOTE],[Pe.BODY,p.BODY],[Pe.BR,p.BR],[Pe.BUTTON,p.BUTTON],[Pe.CAPTION,p.CAPTION],[Pe.CENTER,p.CENTER],[Pe.CODE,p.CODE],[Pe.COL,p.COL],[Pe.COLGROUP,p.COLGROUP],[Pe.DD,p.DD],[Pe.DESC,p.DESC],[Pe.DETAILS,p.DETAILS],[Pe.DIALOG,p.DIALOG],[Pe.DIR,p.DIR],[Pe.DIV,p.DIV],[Pe.DL,p.DL],[Pe.DT,p.DT],[Pe.EM,p.EM],[Pe.EMBED,p.EMBED],[Pe.FIELDSET,p.FIELDSET],[Pe.FIGCAPTION,p.FIGCAPTION],[Pe.FIGURE,p.FIGURE],[Pe.FONT,p.FONT],[Pe.FOOTER,p.FOOTER],[Pe.FOREIGN_OBJECT,p.FOREIGN_OBJECT],[Pe.FORM,p.FORM],[Pe.FRAME,p.FRAME],[Pe.FRAMESET,p.FRAMESET],[Pe.H1,p.H1],[Pe.H2,p.H2],[Pe.H3,p.H3],[Pe.H4,p.H4],[Pe.H5,p.H5],[Pe.H6,p.H6],[Pe.HEAD,p.HEAD],[Pe.HEADER,p.HEADER],[Pe.HGROUP,p.HGROUP],[Pe.HR,p.HR],[Pe.HTML,p.HTML],[Pe.I,p.I],[Pe.IMG,p.IMG],[Pe.IMAGE,p.IMAGE],[Pe.INPUT,p.INPUT],[Pe.IFRAME,p.IFRAME],[Pe.KEYGEN,p.KEYGEN],[Pe.LABEL,p.LABEL],[Pe.LI,p.LI],[Pe.LINK,p.LINK],[Pe.LISTING,p.LISTING],[Pe.MAIN,p.MAIN],[Pe.MALIGNMARK,p.MALIGNMARK],[Pe.MARQUEE,p.MARQUEE],[Pe.MATH,p.MATH],[Pe.MENU,p.MENU],[Pe.META,p.META],[Pe.MGLYPH,p.MGLYPH],[Pe.MI,p.MI],[Pe.MO,p.MO],[Pe.MN,p.MN],[Pe.MS,p.MS],[Pe.MTEXT,p.MTEXT],[Pe.NAV,p.NAV],[Pe.NOBR,p.NOBR],[Pe.NOFRAMES,p.NOFRAMES],[Pe.NOEMBED,p.NOEMBED],[Pe.NOSCRIPT,p.NOSCRIPT],[Pe.OBJECT,p.OBJECT],[Pe.OL,p.OL],[Pe.OPTGROUP,p.OPTGROUP],[Pe.OPTION,p.OPTION],[Pe.P,p.P],[Pe.PARAM,p.PARAM],[Pe.PLAINTEXT,p.PLAINTEXT],[Pe.PRE,p.PRE],[Pe.RB,p.RB],[Pe.RP,p.RP],[Pe.RT,p.RT],[Pe.RTC,p.RTC],[Pe.RUBY,p.RUBY],[Pe.S,p.S],[Pe.SCRIPT,p.SCRIPT],[Pe.SEARCH,p.SEARCH],[Pe.SECTION,p.SECTION],[Pe.SELECT,p.SELECT],[Pe.SOURCE,p.SOURCE],[Pe.SMALL,p.SMALL],[Pe.SPAN,p.SPAN],[Pe.STRIKE,p.STRIKE],[Pe.STRONG,p.STRONG],[Pe.STYLE,p.STYLE],[Pe.SUB,p.SUB],[Pe.SUMMARY,p.SUMMARY],[Pe.SUP,p.SUP],[Pe.TABLE,p.TABLE],[Pe.TBODY,p.TBODY],[Pe.TEMPLATE,p.TEMPLATE],[Pe.TEXTAREA,p.TEXTAREA],[Pe.TFOOT,p.TFOOT],[Pe.TD,p.TD],[Pe.TH,p.TH],[Pe.THEAD,p.THEAD],[Pe.TITLE,p.TITLE],[Pe.TR,p.TR],[Pe.TRACK,p.TRACK],[Pe.TT,p.TT],[Pe.U,p.U],[Pe.UL,p.UL],[Pe.SVG,p.SVG],[Pe.VAR,p.VAR],[Pe.WBR,p.WBR],[Pe.XMP,p.XMP]]);function hA(t){var e;return(e=HQ.get(t))!==null&&e!==void 0?e:p.UNKNOWN}const lt=p,jQ={[at.HTML]:new Set([lt.ADDRESS,lt.APPLET,lt.AREA,lt.ARTICLE,lt.ASIDE,lt.BASE,lt.BASEFONT,lt.BGSOUND,lt.BLOCKQUOTE,lt.BODY,lt.BR,lt.BUTTON,lt.CAPTION,lt.CENTER,lt.COL,lt.COLGROUP,lt.DD,lt.DETAILS,lt.DIR,lt.DIV,lt.DL,lt.DT,lt.EMBED,lt.FIELDSET,lt.FIGCAPTION,lt.FIGURE,lt.FOOTER,lt.FORM,lt.FRAME,lt.FRAMESET,lt.H1,lt.H2,lt.H3,lt.H4,lt.H5,lt.H6,lt.HEAD,lt.HEADER,lt.HGROUP,lt.HR,lt.HTML,lt.IFRAME,lt.IMG,lt.INPUT,lt.LI,lt.LINK,lt.LISTING,lt.MAIN,lt.MARQUEE,lt.MENU,lt.META,lt.NAV,lt.NOEMBED,lt.NOFRAMES,lt.NOSCRIPT,lt.OBJECT,lt.OL,lt.P,lt.PARAM,lt.PLAINTEXT,lt.PRE,lt.SCRIPT,lt.SECTION,lt.SELECT,lt.SOURCE,lt.STYLE,lt.SUMMARY,lt.TABLE,lt.TBODY,lt.TD,lt.TEMPLATE,lt.TEXTAREA,lt.TFOOT,lt.TH,lt.THEAD,lt.TITLE,lt.TR,lt.TRACK,lt.UL,lt.WBR,lt.XMP]),[at.MATHML]:new Set([lt.MI,lt.MO,lt.MN,lt.MS,lt.MTEXT,lt.ANNOTATION_XML]),[at.SVG]:new Set([lt.TITLE,lt.FOREIGN_OBJECT,lt.DESC]),[at.XLINK]:new Set,[at.XML]:new Set,[at.XMLNS]:new Set},f0=new Set([lt.H1,lt.H2,lt.H3,lt.H4,lt.H5,lt.H6]);Pe.STYLE,Pe.SCRIPT,Pe.XMP,Pe.IFRAME,Pe.NOEMBED,Pe.NOFRAMES,Pe.PLAINTEXT;var fe;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(fe||(fe={}));const ir={DATA:fe.DATA,RCDATA:fe.RCDATA,RAWTEXT:fe.RAWTEXT,SCRIPT_DATA:fe.SCRIPT_DATA,PLAINTEXT:fe.PLAINTEXT,CDATA_SECTION:fe.CDATA_SECTION};function KQ(t){return t>=re.DIGIT_0&&t<=re.DIGIT_9}function jA(t){return t>=re.LATIN_CAPITAL_A&&t<=re.LATIN_CAPITAL_Z}function VQ(t){return t>=re.LATIN_SMALL_A&&t<=re.LATIN_SMALL_Z}function Ws(t){return VQ(t)||jA(t)}function Ub(t){return Ws(t)||KQ(t)}function jl(t){return t+32}function BC(t){return t===re.SPACE||t===re.LINE_FEED||t===re.TABULATION||t===re.FORM_FEED}function Lb(t){return BC(t)||t===re.SOLIDUS||t===re.GREATER_THAN_SIGN}function zQ(t){return t===re.NULL?Ye.nullCharacterReference:t>1114111?Ye.characterReferenceOutsideUnicodeRange:mC(t)?Ye.surrogateCharacterReference:wC(t)?Ye.noncharacterCharacterReference:bC(t)||t===re.CARRIAGE_RETURN?Ye.controlCharacterReference:null}let qQ=class{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=fe.DATA,this.returnState=fe.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new NQ(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new MQ(UQ,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(Ye.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(Ye.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=zQ(r);i&&this._err(i,1)}}:void 0)}_err(e,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e==null||e())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:cn.START_TAG,tagName:"",tagID:p.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:cn.END_TAG,tagName:"",tagID:p.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:cn.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:cn.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(yC(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Ye.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=hA(e.tagName),e.type===cn.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(Ye.endTagWithAttributes),e.selfClosing&&this._err(Ye.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case cn.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case cn.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case cn.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:cn.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=BC(e)?cn.WHITESPACE_CHARACTER:e===re.NULL?cn.NULL_CHARACTER:cn.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(cn.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=fe.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Ls.Attribute:Ls.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===fe.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===fe.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===fe.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case fe.DATA:{this._stateData(e);break}case fe.RCDATA:{this._stateRcdata(e);break}case fe.RAWTEXT:{this._stateRawtext(e);break}case fe.SCRIPT_DATA:{this._stateScriptData(e);break}case fe.PLAINTEXT:{this._statePlaintext(e);break}case fe.TAG_OPEN:{this._stateTagOpen(e);break}case fe.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case fe.TAG_NAME:{this._stateTagName(e);break}case fe.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case fe.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case fe.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case fe.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case fe.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case fe.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case fe.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case fe.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case fe.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case fe.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case fe.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case fe.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case fe.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case fe.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case fe.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case fe.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case fe.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case fe.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case fe.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case fe.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case fe.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case fe.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case fe.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case fe.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case fe.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case fe.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case fe.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case fe.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case fe.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case fe.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case fe.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case fe.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case fe.BOGUS_COMMENT:{this._stateBogusComment(e);break}case fe.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case fe.COMMENT_START:{this._stateCommentStart(e);break}case fe.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case fe.COMMENT:{this._stateComment(e);break}case fe.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case fe.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case fe.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case fe.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case fe.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case fe.COMMENT_END:{this._stateCommentEnd(e);break}case fe.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case fe.DOCTYPE:{this._stateDoctype(e);break}case fe.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case fe.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case fe.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case fe.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case fe.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case fe.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case fe.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case fe.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case fe.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case fe.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case fe.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case fe.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case fe.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case fe.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case fe.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case fe.CDATA_SECTION:{this._stateCdataSection(e);break}case fe.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case fe.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case fe.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case fe.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case re.LESS_THAN_SIGN:{this.state=fe.TAG_OPEN;break}case re.AMPERSAND:{this._startCharacterReference();break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),this._emitCodePoint(e);break}case re.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case re.AMPERSAND:{this._startCharacterReference();break}case re.LESS_THAN_SIGN:{this.state=fe.RCDATA_LESS_THAN_SIGN;break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),this._emitChars(zn);break}case re.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case re.LESS_THAN_SIGN:{this.state=fe.RAWTEXT_LESS_THAN_SIGN;break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),this._emitChars(zn);break}case re.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case re.LESS_THAN_SIGN:{this.state=fe.SCRIPT_DATA_LESS_THAN_SIGN;break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),this._emitChars(zn);break}case re.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case re.NULL:{this._err(Ye.unexpectedNullCharacter),this._emitChars(zn);break}case re.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Ws(e))this._createStartTagToken(),this.state=fe.TAG_NAME,this._stateTagName(e);else switch(e){case re.EXCLAMATION_MARK:{this.state=fe.MARKUP_DECLARATION_OPEN;break}case re.SOLIDUS:{this.state=fe.END_TAG_OPEN;break}case re.QUESTION_MARK:{this._err(Ye.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=fe.BOGUS_COMMENT,this._stateBogusComment(e);break}case re.EOF:{this._err(Ye.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Ye.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=fe.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Ws(e))this._createEndTagToken(),this.state=fe.TAG_NAME,this._stateTagName(e);else switch(e){case re.GREATER_THAN_SIGN:{this._err(Ye.missingEndTagName),this.state=fe.DATA;break}case re.EOF:{this._err(Ye.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Ye.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=fe.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this.state=fe.BEFORE_ATTRIBUTE_NAME;break}case re.SOLIDUS:{this.state=fe.SELF_CLOSING_START_TAG;break}case re.GREATER_THAN_SIGN:{this.state=fe.DATA,this.emitCurrentTagToken();break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),n.tagName+=zn;break}case re.EOF:{this._err(Ye.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(jA(e)?jl(e):e)}}_stateRcdataLessThanSign(e){e===re.SOLIDUS?this.state=fe.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=fe.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Ws(e)?(this.state=fe.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=fe.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=fe.BEFORE_ATTRIBUTE_NAME,!1;case re.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=fe.SELF_CLOSING_START_TAG,!1;case re.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=fe.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=fe.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===re.SOLIDUS?this.state=fe.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=fe.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Ws(e)?(this.state=fe.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=fe.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=fe.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case re.SOLIDUS:{this.state=fe.SCRIPT_DATA_END_TAG_OPEN;break}case re.EXCLAMATION_MARK:{this.state=fe.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=fe.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Ws(e)?(this.state=fe.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=fe.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=fe.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===re.HYPHEN_MINUS?(this.state=fe.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=fe.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===re.HYPHEN_MINUS?(this.state=fe.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=fe.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case re.HYPHEN_MINUS:{this.state=fe.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case re.LESS_THAN_SIGN:{this.state=fe.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),this._emitChars(zn);break}case re.EOF:{this._err(Ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case re.HYPHEN_MINUS:{this.state=fe.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case re.LESS_THAN_SIGN:{this.state=fe.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),this.state=fe.SCRIPT_DATA_ESCAPED,this._emitChars(zn);break}case re.EOF:{this._err(Ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=fe.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case re.HYPHEN_MINUS:{this._emitChars("-");break}case re.LESS_THAN_SIGN:{this.state=fe.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case re.GREATER_THAN_SIGN:{this.state=fe.SCRIPT_DATA,this._emitChars(">");break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),this.state=fe.SCRIPT_DATA_ESCAPED,this._emitChars(zn);break}case re.EOF:{this._err(Ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=fe.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===re.SOLIDUS?this.state=fe.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Ws(e)?(this._emitChars("<"),this.state=fe.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=fe.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Ws(e)?(this.state=fe.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=fe.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=fe.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(si.SCRIPT,!1)&&Lb(this.preprocessor.peek(si.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<si.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=fe.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=fe.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case re.HYPHEN_MINUS:{this.state=fe.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case re.LESS_THAN_SIGN:{this.state=fe.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),this._emitChars(zn);break}case re.EOF:{this._err(Ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case re.HYPHEN_MINUS:{this.state=fe.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case re.LESS_THAN_SIGN:{this.state=fe.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),this.state=fe.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(zn);break}case re.EOF:{this._err(Ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=fe.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case re.HYPHEN_MINUS:{this._emitChars("-");break}case re.LESS_THAN_SIGN:{this.state=fe.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case re.GREATER_THAN_SIGN:{this.state=fe.SCRIPT_DATA,this._emitChars(">");break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),this.state=fe.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(zn);break}case re.EOF:{this._err(Ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=fe.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===re.SOLIDUS?(this.state=fe.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=fe.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(si.SCRIPT,!1)&&Lb(this.preprocessor.peek(si.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<si.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=fe.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=fe.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.SOLIDUS:case re.GREATER_THAN_SIGN:case re.EOF:{this.state=fe.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case re.EQUALS_SIGN:{this._err(Ye.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=fe.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=fe.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:case re.SOLIDUS:case re.GREATER_THAN_SIGN:case re.EOF:{this._leaveAttrName(),this.state=fe.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case re.EQUALS_SIGN:{this._leaveAttrName(),this.state=fe.BEFORE_ATTRIBUTE_VALUE;break}case re.QUOTATION_MARK:case re.APOSTROPHE:case re.LESS_THAN_SIGN:{this._err(Ye.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),this.currentAttr.name+=zn;break}default:this.currentAttr.name+=String.fromCodePoint(jA(e)?jl(e):e)}}_stateAfterAttributeName(e){switch(e){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.SOLIDUS:{this.state=fe.SELF_CLOSING_START_TAG;break}case re.EQUALS_SIGN:{this.state=fe.BEFORE_ATTRIBUTE_VALUE;break}case re.GREATER_THAN_SIGN:{this.state=fe.DATA,this.emitCurrentTagToken();break}case re.EOF:{this._err(Ye.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=fe.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.QUOTATION_MARK:{this.state=fe.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case re.APOSTROPHE:{this.state=fe.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case re.GREATER_THAN_SIGN:{this._err(Ye.missingAttributeValue),this.state=fe.DATA,this.emitCurrentTagToken();break}default:this.state=fe.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case re.QUOTATION_MARK:{this.state=fe.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case re.AMPERSAND:{this._startCharacterReference();break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),this.currentAttr.value+=zn;break}case re.EOF:{this._err(Ye.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case re.APOSTROPHE:{this.state=fe.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case re.AMPERSAND:{this._startCharacterReference();break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),this.currentAttr.value+=zn;break}case re.EOF:{this._err(Ye.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this._leaveAttrValue(),this.state=fe.BEFORE_ATTRIBUTE_NAME;break}case re.AMPERSAND:{this._startCharacterReference();break}case re.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=fe.DATA,this.emitCurrentTagToken();break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),this.currentAttr.value+=zn;break}case re.QUOTATION_MARK:case re.APOSTROPHE:case re.LESS_THAN_SIGN:case re.EQUALS_SIGN:case re.GRAVE_ACCENT:{this._err(Ye.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case re.EOF:{this._err(Ye.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this._leaveAttrValue(),this.state=fe.BEFORE_ATTRIBUTE_NAME;break}case re.SOLIDUS:{this._leaveAttrValue(),this.state=fe.SELF_CLOSING_START_TAG;break}case re.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=fe.DATA,this.emitCurrentTagToken();break}case re.EOF:{this._err(Ye.eofInTag),this._emitEOFToken();break}default:this._err(Ye.missingWhitespaceBetweenAttributes),this.state=fe.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case re.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=fe.DATA,this.emitCurrentTagToken();break}case re.EOF:{this._err(Ye.eofInTag),this._emitEOFToken();break}default:this._err(Ye.unexpectedSolidusInTag),this.state=fe.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case re.GREATER_THAN_SIGN:{this.state=fe.DATA,this.emitCurrentComment(n);break}case re.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),n.data+=zn;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(si.DASH_DASH,!0)?(this._createCommentToken(si.DASH_DASH.length+1),this.state=fe.COMMENT_START):this._consumeSequenceIfMatch(si.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(si.DOCTYPE.length+1),this.state=fe.DOCTYPE):this._consumeSequenceIfMatch(si.CDATA_START,!0)?this.inForeignNode?this.state=fe.CDATA_SECTION:(this._err(Ye.cdataInHtmlContent),this._createCommentToken(si.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=fe.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Ye.incorrectlyOpenedComment),this._createCommentToken(2),this.state=fe.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case re.HYPHEN_MINUS:{this.state=fe.COMMENT_START_DASH;break}case re.GREATER_THAN_SIGN:{this._err(Ye.abruptClosingOfEmptyComment),this.state=fe.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=fe.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case re.HYPHEN_MINUS:{this.state=fe.COMMENT_END;break}case re.GREATER_THAN_SIGN:{this._err(Ye.abruptClosingOfEmptyComment),this.state=fe.DATA,this.emitCurrentComment(n);break}case re.EOF:{this._err(Ye.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=fe.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case re.HYPHEN_MINUS:{this.state=fe.COMMENT_END_DASH;break}case re.LESS_THAN_SIGN:{n.data+="<",this.state=fe.COMMENT_LESS_THAN_SIGN;break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),n.data+=zn;break}case re.EOF:{this._err(Ye.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case re.EXCLAMATION_MARK:{n.data+="!",this.state=fe.COMMENT_LESS_THAN_SIGN_BANG;break}case re.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=fe.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===re.HYPHEN_MINUS?this.state=fe.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=fe.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===re.HYPHEN_MINUS?this.state=fe.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=fe.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==re.GREATER_THAN_SIGN&&e!==re.EOF&&this._err(Ye.nestedComment),this.state=fe.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case re.HYPHEN_MINUS:{this.state=fe.COMMENT_END;break}case re.EOF:{this._err(Ye.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=fe.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case re.GREATER_THAN_SIGN:{this.state=fe.DATA,this.emitCurrentComment(n);break}case re.EXCLAMATION_MARK:{this.state=fe.COMMENT_END_BANG;break}case re.HYPHEN_MINUS:{n.data+="-";break}case re.EOF:{this._err(Ye.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=fe.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case re.HYPHEN_MINUS:{n.data+="--!",this.state=fe.COMMENT_END_DASH;break}case re.GREATER_THAN_SIGN:{this._err(Ye.incorrectlyClosedComment),this.state=fe.DATA,this.emitCurrentComment(n);break}case re.EOF:{this._err(Ye.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=fe.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this.state=fe.BEFORE_DOCTYPE_NAME;break}case re.GREATER_THAN_SIGN:{this.state=fe.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case re.EOF:{this._err(Ye.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ye.missingWhitespaceBeforeDoctypeName),this.state=fe.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(jA(e))this._createDoctypeToken(String.fromCharCode(jl(e))),this.state=fe.DOCTYPE_NAME;else switch(e){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.NULL:{this._err(Ye.unexpectedNullCharacter),this._createDoctypeToken(zn),this.state=fe.DOCTYPE_NAME;break}case re.GREATER_THAN_SIGN:{this._err(Ye.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=fe.DATA;break}case re.EOF:{this._err(Ye.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=fe.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this.state=fe.AFTER_DOCTYPE_NAME;break}case re.GREATER_THAN_SIGN:{this.state=fe.DATA,this.emitCurrentDoctype(n);break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),n.name+=zn;break}case re.EOF:{this._err(Ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(jA(e)?jl(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.GREATER_THAN_SIGN:{this.state=fe.DATA,this.emitCurrentDoctype(n);break}case re.EOF:{this._err(Ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(si.PUBLIC,!1)?this.state=fe.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(si.SYSTEM,!1)?this.state=fe.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Ye.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=fe.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this.state=fe.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case re.QUOTATION_MARK:{this._err(Ye.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=fe.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case re.APOSTROPHE:{this._err(Ye.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=fe.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case re.GREATER_THAN_SIGN:{this._err(Ye.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=fe.DATA,this.emitCurrentDoctype(n);break}case re.EOF:{this._err(Ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ye.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=fe.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.QUOTATION_MARK:{n.publicId="",this.state=fe.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case re.APOSTROPHE:{n.publicId="",this.state=fe.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case re.GREATER_THAN_SIGN:{this._err(Ye.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=fe.DATA,this.emitCurrentDoctype(n);break}case re.EOF:{this._err(Ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ye.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=fe.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case re.QUOTATION_MARK:{this.state=fe.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),n.publicId+=zn;break}case re.GREATER_THAN_SIGN:{this._err(Ye.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=fe.DATA;break}case re.EOF:{this._err(Ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case re.APOSTROPHE:{this.state=fe.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),n.publicId+=zn;break}case re.GREATER_THAN_SIGN:{this._err(Ye.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=fe.DATA;break}case re.EOF:{this._err(Ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this.state=fe.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case re.GREATER_THAN_SIGN:{this.state=fe.DATA,this.emitCurrentDoctype(n);break}case re.QUOTATION_MARK:{this._err(Ye.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=fe.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case re.APOSTROPHE:{this._err(Ye.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=fe.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case re.EOF:{this._err(Ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ye.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=fe.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=fe.DATA;break}case re.QUOTATION_MARK:{n.systemId="",this.state=fe.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case re.APOSTROPHE:{n.systemId="",this.state=fe.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case re.EOF:{this._err(Ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ye.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=fe.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:{this.state=fe.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case re.QUOTATION_MARK:{this._err(Ye.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=fe.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case re.APOSTROPHE:{this._err(Ye.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=fe.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case re.GREATER_THAN_SIGN:{this._err(Ye.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=fe.DATA,this.emitCurrentDoctype(n);break}case re.EOF:{this._err(Ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ye.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=fe.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.QUOTATION_MARK:{n.systemId="",this.state=fe.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case re.APOSTROPHE:{n.systemId="",this.state=fe.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case re.GREATER_THAN_SIGN:{this._err(Ye.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=fe.DATA,this.emitCurrentDoctype(n);break}case re.EOF:{this._err(Ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ye.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=fe.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case re.QUOTATION_MARK:{this.state=fe.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),n.systemId+=zn;break}case re.GREATER_THAN_SIGN:{this._err(Ye.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=fe.DATA;break}case re.EOF:{this._err(Ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case re.APOSTROPHE:{this.state=fe.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case re.NULL:{this._err(Ye.unexpectedNullCharacter),n.systemId+=zn;break}case re.GREATER_THAN_SIGN:{this._err(Ye.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=fe.DATA;break}case re.EOF:{this._err(Ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case re.SPACE:case re.LINE_FEED:case re.TABULATION:case re.FORM_FEED:break;case re.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=fe.DATA;break}case re.EOF:{this._err(Ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ye.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=fe.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case re.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=fe.DATA;break}case re.NULL:{this._err(Ye.unexpectedNullCharacter);break}case re.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case re.RIGHT_SQUARE_BRACKET:{this.state=fe.CDATA_SECTION_BRACKET;break}case re.EOF:{this._err(Ye.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===re.RIGHT_SQUARE_BRACKET?this.state=fe.CDATA_SECTION_END:(this._emitChars("]"),this.state=fe.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case re.GREATER_THAN_SIGN:{this.state=fe.DATA;break}case re.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=fe.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(re.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Ub(this.preprocessor.peek(1))?fe.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){Ub(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===re.SEMICOLON&&this._err(Ye.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}};const xC=new Set([p.DD,p.DT,p.LI,p.OPTGROUP,p.OPTION,p.P,p.RB,p.RP,p.RT,p.RTC]),Ob=new Set([...xC,p.CAPTION,p.COLGROUP,p.TBODY,p.TD,p.TFOOT,p.TH,p.THEAD,p.TR]),kf=new Set([p.APPLET,p.CAPTION,p.HTML,p.MARQUEE,p.OBJECT,p.TABLE,p.TD,p.TEMPLATE,p.TH]),GQ=new Set([...kf,p.OL,p.UL]),WQ=new Set([...kf,p.BUTTON]),_b=new Set([p.ANNOTATION_XML,p.MI,p.MN,p.MO,p.MS,p.MTEXT]),Db=new Set([p.DESC,p.FOREIGN_OBJECT,p.TITLE]),$Q=new Set([p.TR,p.TEMPLATE,p.HTML]),YQ=new Set([p.TBODY,p.TFOOT,p.THEAD,p.TEMPLATE,p.HTML]),XQ=new Set([p.TABLE,p.TEMPLATE,p.HTML]),JQ=new Set([p.TD,p.TH]);class ZQ{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=p.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===p.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===at.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const i=this._indexOf(e)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==at.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(f0,at.HTML)}popUntilTableCellPopped(){this.popUntilPopped(JQ,at.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(XQ,at.HTML)}clearBackToTableBodyContext(){this.clearBackTo(YQ,at.HTML)}clearBackToTableRowContext(){this.clearBackTo($Q,at.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===p.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===p.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case at.HTML:{if(i===e)return!0;if(n.has(i))return!1;break}case at.SVG:{if(Db.has(i))return!1;break}case at.MATHML:{if(_b.has(i))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,kf)}hasInListItemScope(e){return this.hasInDynamicScope(e,GQ)}hasInButtonScope(e){return this.hasInDynamicScope(e,WQ)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case at.HTML:{if(f0.has(n))return!0;if(kf.has(n))return!1;break}case at.SVG:{if(Db.has(n))return!1;break}case at.MATHML:{if(_b.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===at.HTML)switch(this.tagIDs[n]){case e:return!0;case p.TABLE:case p.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===at.HTML)switch(this.tagIDs[e]){case p.TBODY:case p.THEAD:case p.TFOOT:return!0;case p.TABLE:case p.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===at.HTML)switch(this.tagIDs[n]){case e:return!0;case p.OPTION:case p.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&xC.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&Ob.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&Ob.has(this.currentTagId);)this.pop()}}const Rh=3;var as;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(as||(as={}));const Qb={type:as.Marker};class eR{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(e),a=this.treeAdapter.getNamespaceURI(e);for(let o=0;o<this.entries.length;o++){const A=this.entries[o];if(A.type===as.Marker)break;const{element:u}=A;if(this.treeAdapter.getTagName(u)===s&&this.treeAdapter.getNamespaceURI(u)===a){const l=this.treeAdapter.getAttrList(u);l.length===i&&r.push({idx:o,attrs:l})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<Rh)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<Rh)return;const i=new Map(n.map(a=>[a.name,a.value]));let s=0;for(let a=0;a<r.length;a++){const o=r[a];o.attrs.every(A=>i.get(A.name)===A.value)&&(s+=1,s>=Rh&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(Qb)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:as.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:as.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(Qb);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===as.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===as.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===as.Element&&n.element===e)}}const $s={createDocument(){return{nodeName:"#document",mode:Fi.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const i=t.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=e,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};$s.appendChild(t,s)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if($s.isTextNode(n)){n.value+=e;return}}$s.appendChild(t,$s.createTextNode(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&$s.isTextNode(r)?r.value+=e:$s.insertBefore(t,$s.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation=Ie(Ie({},t.sourceCodeLocation),e)}},EC="html",tR="about:legacy-compat",nR="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",CC=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],rR=[...CC,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],iR=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),vC=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],sR=[...vC,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Rb(t,e){return e.some(n=>t.startsWith(n))}function aR(t){return t.name===EC&&t.publicId===null&&(t.systemId===null||t.systemId===tR)}function oR(t){if(t.name!==EC)return Fi.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===nR)return Fi.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),iR.has(n))return Fi.QUIRKS;let r=e===null?rR:CC;if(Rb(n,r))return Fi.QUIRKS;if(r=e===null?vC:sR,Rb(n,r))return Fi.LIMITED_QUIRKS}return Fi.NO_QUIRKS}const Mb={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},AR="definitionurl",uR="definitionURL",lR=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),cR=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:at.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:at.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:at.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:at.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:at.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:at.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:at.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:at.XML}],["xml:space",{prefix:"xml",name:"space",namespace:at.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:at.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:at.XMLNS}]]),fR=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),dR=new Set([p.B,p.BIG,p.BLOCKQUOTE,p.BODY,p.BR,p.CENTER,p.CODE,p.DD,p.DIV,p.DL,p.DT,p.EM,p.EMBED,p.H1,p.H2,p.H3,p.H4,p.H5,p.H6,p.HEAD,p.HR,p.I,p.IMG,p.LI,p.LISTING,p.MENU,p.META,p.NOBR,p.OL,p.P,p.PRE,p.RUBY,p.S,p.SMALL,p.SPAN,p.STRONG,p.STRIKE,p.SUB,p.SUP,p.TABLE,p.TT,p.U,p.UL,p.VAR]);function hR(t){const e=t.tagID;return e===p.FONT&&t.attrs.some(({name:r})=>r===eo.COLOR||r===eo.SIZE||r===eo.FACE)||dR.has(e)}function TC(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===AR){t.attrs[e].name=uR;break}}function SC(t){for(let e=0;e<t.attrs.length;e++){const n=lR.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function om(t){for(let e=0;e<t.attrs.length;e++){const n=cR.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function pR(t){const e=fR.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=hA(t.tagName))}function gR(t,e){return e===at.MATHML&&(t===p.MI||t===p.MO||t===p.MN||t===p.MS||t===p.MTEXT)}function mR(t,e,n){if(e===at.MATHML&&t===p.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===eo.ENCODING){const i=n[r].value.toLowerCase();return i===Mb.TEXT_HTML||i===Mb.APPLICATION_XML}}return e===at.SVG&&(t===p.FOREIGN_OBJECT||t===p.DESC||t===p.TITLE)}function bR(t,e,n,r){return(!r||r===at.HTML)&&mR(t,e,n)||(!r||r===at.MATHML)&&gR(t,e)}const wR="hidden",yR=8,BR=3;var we;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(we||(we={}));const xR={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},IC=new Set([p.TABLE,p.TBODY,p.TFOOT,p.THEAD,p.TR]),Pb={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:$s,onParseError:null};let Hb=class{constructor(e,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=we.INITIAL,this.originalInsertionMode=we.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=Ie(Ie({},Pb),e),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n!=null?n:this.treeAdapter.createDocument(),this.tokenizer=new qQ(this.options,this),this.activeFormattingElements=new eR(this.treeAdapter),this.fragmentContextID=r?hA(this.treeAdapter.getTagName(r)):p.UNKNOWN,this._setContextModes(r!=null?r:this.document,this.fragmentContextID),this.openElements=new ZQ(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r=Ie(Ie({},Pb),n);e!=null||(e=r.treeAdapter.createElement(Pe.TEMPLATE,at.HTML,[]));const i=r.treeAdapter.createElement("documentmock",at.HTML,[]),s=new this(r,i,e);return s.fragmentContextID===p.TEMPLATE&&s.tmplInsertionModeStack.unshift(we.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var i;if(!this.onParseError)return;const s=(i=e.location)!==null&&i!==void 0?i:xR,a={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(a)}onItemPush(e,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,e,this.openElements.current),n){let s,a;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,this._setContextModes(s,a)}}_setContextModes(e,n){const r=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===at.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,at.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=we.TEXT}switchToPlaintextParsing(){this.insertionMode=we.TEXT,this.originalInsertionMode=we.IN_BODY,this.tokenizer.state=ir.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===Pe.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==at.HTML))switch(this.fragmentContextID){case p.TITLE:case p.TEXTAREA:{this.tokenizer.state=ir.RCDATA;break}case p.STYLE:case p.XMP:case p.IFRAME:case p.NOEMBED:case p.NOFRAMES:case p.NOSCRIPT:{this.tokenizer.state=ir.RAWTEXT;break}case p.SCRIPT:{this.tokenizer.state=ir.SCRIPT_DATA;break}case p.PLAINTEXT:{this.tokenizer.state=ir.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),e.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&_t(Ie({},n),{startTag:n});this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r!=null?r:this.document,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,at.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,at.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(Pe.HTML,at.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,p.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,a=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:A,endCol:u,endOffset:l}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:A,endCol:u,endOffset:l})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(e),s=n.type===cn.END_TAG&&i===n.tagName?{endTag:Ie({},r),endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,s)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===p.SVG&&this.treeAdapter.getTagName(n)===Pe.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===at.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===p.MGLYPH||e.tagID===p.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,at.HTML)}_processToken(e){switch(e.type){case cn.CHARACTER:{this.onCharacter(e);break}case cn.NULL_CHARACTER:{this.onNullCharacter(e);break}case cn.COMMENT:{this.onComment(e);break}case cn.DOCTYPE:{this.onDoctype(e);break}case cn.START_TAG:{this._processStartTag(e);break}case cn.END_TAG:{this.onEndTag(e);break}case cn.EOF:{this.onEof(e);break}case cn.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return bR(e,i,s,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===as.Marker||this.openElements.contains(i.element)),r=n===-1?e-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=we.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(p.P),this.openElements.popUntilTagNamePopped(p.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case p.TR:{this.insertionMode=we.IN_ROW;return}case p.TBODY:case p.THEAD:case p.TFOOT:{this.insertionMode=we.IN_TABLE_BODY;return}case p.CAPTION:{this.insertionMode=we.IN_CAPTION;return}case p.COLGROUP:{this.insertionMode=we.IN_COLUMN_GROUP;return}case p.TABLE:{this.insertionMode=we.IN_TABLE;return}case p.BODY:{this.insertionMode=we.IN_BODY;return}case p.FRAMESET:{this.insertionMode=we.IN_FRAMESET;return}case p.SELECT:{this._resetInsertionModeForSelect(e);return}case p.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case p.HTML:{this.insertionMode=this.headElement?we.AFTER_HEAD:we.BEFORE_HEAD;return}case p.TD:case p.TH:{if(e>0){this.insertionMode=we.IN_CELL;return}break}case p.HEAD:{if(e>0){this.insertionMode=we.IN_HEAD;return}break}}this.insertionMode=we.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===p.TEMPLATE)break;if(r===p.TABLE){this.insertionMode=we.IN_SELECT_IN_TABLE;return}}this.insertionMode=we.IN_SELECT}_isElementCausesFosterParenting(e){return IC.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case p.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===at.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case p.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return jQ[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){JM(this,e);return}switch(this.insertionMode){case we.INITIAL:{UA(this,e);break}case we.BEFORE_HTML:{hu(this,e);break}case we.BEFORE_HEAD:{pu(this,e);break}case we.IN_HEAD:{gu(this,e);break}case we.IN_HEAD_NO_SCRIPT:{mu(this,e);break}case we.AFTER_HEAD:{bu(this,e);break}case we.IN_BODY:case we.IN_CAPTION:case we.IN_CELL:case we.IN_TEMPLATE:{FC(this,e);break}case we.TEXT:case we.IN_SELECT:case we.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case we.IN_TABLE:case we.IN_TABLE_BODY:case we.IN_ROW:{Mh(this,e);break}case we.IN_TABLE_TEXT:{DC(this,e);break}case we.IN_COLUMN_GROUP:{Ff(this,e);break}case we.AFTER_BODY:{Nf(this,e);break}case we.AFTER_AFTER_BODY:{Tc(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){XM(this,e);return}switch(this.insertionMode){case we.INITIAL:{UA(this,e);break}case we.BEFORE_HTML:{hu(this,e);break}case we.BEFORE_HEAD:{pu(this,e);break}case we.IN_HEAD:{gu(this,e);break}case we.IN_HEAD_NO_SCRIPT:{mu(this,e);break}case we.AFTER_HEAD:{bu(this,e);break}case we.TEXT:{this._insertCharacters(e);break}case we.IN_TABLE:case we.IN_TABLE_BODY:case we.IN_ROW:{Mh(this,e);break}case we.IN_COLUMN_GROUP:{Ff(this,e);break}case we.AFTER_BODY:{Nf(this,e);break}case we.AFTER_AFTER_BODY:{Tc(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){d0(this,e);return}switch(this.insertionMode){case we.INITIAL:case we.BEFORE_HTML:case we.BEFORE_HEAD:case we.IN_HEAD:case we.IN_HEAD_NO_SCRIPT:case we.AFTER_HEAD:case we.IN_BODY:case we.IN_TABLE:case we.IN_CAPTION:case we.IN_COLUMN_GROUP:case we.IN_TABLE_BODY:case we.IN_ROW:case we.IN_CELL:case we.IN_SELECT:case we.IN_SELECT_IN_TABLE:case we.IN_TEMPLATE:case we.IN_FRAMESET:case we.AFTER_FRAMESET:{d0(this,e);break}case we.IN_TABLE_TEXT:{LA(this,e);break}case we.AFTER_BODY:{kR(this,e);break}case we.AFTER_AFTER_BODY:case we.AFTER_AFTER_FRAMESET:{FR(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case we.INITIAL:{NR(this,e);break}case we.BEFORE_HEAD:case we.IN_HEAD:case we.IN_HEAD_NO_SCRIPT:case we.AFTER_HEAD:{this._err(e,Ye.misplacedDoctype);break}case we.IN_TABLE_TEXT:{LA(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,Ye.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?ZM(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case we.INITIAL:{UA(this,e);break}case we.BEFORE_HTML:{UR(this,e);break}case we.BEFORE_HEAD:{OR(this,e);break}case we.IN_HEAD:{Yi(this,e);break}case we.IN_HEAD_NO_SCRIPT:{QR(this,e);break}case we.AFTER_HEAD:{MR(this,e);break}case we.IN_BODY:{zr(this,e);break}case we.IN_TABLE:{iA(this,e);break}case we.IN_TABLE_TEXT:{LA(this,e);break}case we.IN_CAPTION:{_M(this,e);break}case we.IN_COLUMN_GROUP:{lm(this,e);break}case we.IN_TABLE_BODY:{yd(this,e);break}case we.IN_ROW:{Bd(this,e);break}case we.IN_CELL:{RM(this,e);break}case we.IN_SELECT:{MC(this,e);break}case we.IN_SELECT_IN_TABLE:{PM(this,e);break}case we.IN_TEMPLATE:{jM(this,e);break}case we.AFTER_BODY:{VM(this,e);break}case we.IN_FRAMESET:{zM(this,e);break}case we.AFTER_FRAMESET:{GM(this,e);break}case we.AFTER_AFTER_BODY:{$M(this,e);break}case we.AFTER_AFTER_FRAMESET:{YM(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?e7(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case we.INITIAL:{UA(this,e);break}case we.BEFORE_HTML:{LR(this,e);break}case we.BEFORE_HEAD:{_R(this,e);break}case we.IN_HEAD:{DR(this,e);break}case we.IN_HEAD_NO_SCRIPT:{RR(this,e);break}case we.AFTER_HEAD:{PR(this,e);break}case we.IN_BODY:{wd(this,e);break}case we.TEXT:{vM(this,e);break}case we.IN_TABLE:{Hu(this,e);break}case we.IN_TABLE_TEXT:{LA(this,e);break}case we.IN_CAPTION:{DM(this,e);break}case we.IN_COLUMN_GROUP:{QM(this,e);break}case we.IN_TABLE_BODY:{h0(this,e);break}case we.IN_ROW:{RC(this,e);break}case we.IN_CELL:{MM(this,e);break}case we.IN_SELECT:{PC(this,e);break}case we.IN_SELECT_IN_TABLE:{HM(this,e);break}case we.IN_TEMPLATE:{KM(this,e);break}case we.AFTER_BODY:{jC(this,e);break}case we.IN_FRAMESET:{qM(this,e);break}case we.AFTER_FRAMESET:{WM(this,e);break}case we.AFTER_AFTER_BODY:{Tc(this,e);break}}}onEof(e){switch(this.insertionMode){case we.INITIAL:{UA(this,e);break}case we.BEFORE_HTML:{hu(this,e);break}case we.BEFORE_HEAD:{pu(this,e);break}case we.IN_HEAD:{gu(this,e);break}case we.IN_HEAD_NO_SCRIPT:{mu(this,e);break}case we.AFTER_HEAD:{bu(this,e);break}case we.IN_BODY:case we.IN_TABLE:case we.IN_CAPTION:case we.IN_COLUMN_GROUP:case we.IN_TABLE_BODY:case we.IN_ROW:case we.IN_CELL:case we.IN_SELECT:case we.IN_SELECT_IN_TABLE:{OC(this,e);break}case we.TEXT:{TM(this,e);break}case we.IN_TABLE_TEXT:{LA(this,e);break}case we.IN_TEMPLATE:{HC(this,e);break}case we.AFTER_BODY:case we.IN_FRAMESET:case we.AFTER_FRAMESET:case we.AFTER_AFTER_BODY:case we.AFTER_AFTER_FRAMESET:{um(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===re.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case we.IN_HEAD:case we.IN_HEAD_NO_SCRIPT:case we.AFTER_HEAD:case we.TEXT:case we.IN_COLUMN_GROUP:case we.IN_SELECT:case we.IN_SELECT_IN_TABLE:case we.IN_FRAMESET:case we.AFTER_FRAMESET:{this._insertCharacters(e);break}case we.IN_BODY:case we.IN_CAPTION:case we.IN_CELL:case we.IN_TEMPLATE:case we.AFTER_BODY:case we.AFTER_AFTER_BODY:case we.AFTER_AFTER_FRAMESET:{kC(this,e);break}case we.IN_TABLE:case we.IN_TABLE_BODY:case we.IN_ROW:{Mh(this,e);break}case we.IN_TABLE_TEXT:{_C(this,e);break}}}};function ER(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):LC(t,e),n}function CR(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const i=t.openElements.items[r];if(i===e.element)break;t._isSpecialElement(i,t.openElements.tagIDs[r])&&(n=i)}return n||(t.openElements.shortenToLength(Math.max(r,0)),t.activeFormattingElements.removeEntry(e)),n}function vR(t,e,n){let r=e,i=t.openElements.getCommonAncestor(e);for(let s=0,a=i;a!==n;s++,a=i){i=t.openElements.getCommonAncestor(a);const o=t.activeFormattingElements.getElementEntry(a),A=o&&s>=BR;!o||A?(A&&t.activeFormattingElements.removeEntry(o),t.openElements.remove(a)):(a=TR(t,o),r===e&&(t.activeFormattingElements.bookmark=o),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(a,r),r=a)}return r}function TR(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function SR(t,e,n){const r=t.treeAdapter.getTagName(e),i=hA(r);if(t._isElementCausesFosterParenting(i))t._fosterParentElement(n);else{const s=t.treeAdapter.getNamespaceURI(e);i===p.TEMPLATE&&s===at.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function IR(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=t.treeAdapter.createElement(i.tagName,r,i.attrs);t._adoptNodes(e,s),t.treeAdapter.appendChild(e,s),t.activeFormattingElements.insertElementAfterBookmark(s,i),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,s,i.tagID)}function Am(t,e){for(let n=0;n<yR;n++){const r=ER(t,e);if(!r)break;const i=CR(t,r);if(!i)break;t.activeFormattingElements.bookmark=r;const s=vR(t,i,r.element),a=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(s),a&&SR(t,a,s),IR(t,i,r)}}function d0(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function kR(t,e){t._appendCommentNode(e,t.openElements.items[0])}function FR(t,e){t._appendCommentNode(e,t.document)}function um(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],i=t.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const s=t.openElements.items[1],a=t.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&t._setEndLocation(s,e)}}}}function NR(t,e){t._setDocumentType(e);const n=e.forceQuirks?Fi.QUIRKS:oR(e);aR(e)||t._err(e,Ye.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=we.BEFORE_HTML}function UA(t,e){t._err(e,Ye.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,Fi.QUIRKS),t.insertionMode=we.BEFORE_HTML,t._processToken(e)}function UR(t,e){e.tagID===p.HTML?(t._insertElement(e,at.HTML),t.insertionMode=we.BEFORE_HEAD):hu(t,e)}function LR(t,e){const n=e.tagID;(n===p.HTML||n===p.HEAD||n===p.BODY||n===p.BR)&&hu(t,e)}function hu(t,e){t._insertFakeRootElement(),t.insertionMode=we.BEFORE_HEAD,t._processToken(e)}function OR(t,e){switch(e.tagID){case p.HTML:{zr(t,e);break}case p.HEAD:{t._insertElement(e,at.HTML),t.headElement=t.openElements.current,t.insertionMode=we.IN_HEAD;break}default:pu(t,e)}}function _R(t,e){const n=e.tagID;n===p.HEAD||n===p.BODY||n===p.HTML||n===p.BR?pu(t,e):t._err(e,Ye.endTagWithoutMatchingOpenElement)}function pu(t,e){t._insertFakeElement(Pe.HEAD,p.HEAD),t.headElement=t.openElements.current,t.insertionMode=we.IN_HEAD,t._processToken(e)}function Yi(t,e){switch(e.tagID){case p.HTML:{zr(t,e);break}case p.BASE:case p.BASEFONT:case p.BGSOUND:case p.LINK:case p.META:{t._appendElement(e,at.HTML),e.ackSelfClosing=!0;break}case p.TITLE:{t._switchToTextParsing(e,ir.RCDATA);break}case p.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,ir.RAWTEXT):(t._insertElement(e,at.HTML),t.insertionMode=we.IN_HEAD_NO_SCRIPT);break}case p.NOFRAMES:case p.STYLE:{t._switchToTextParsing(e,ir.RAWTEXT);break}case p.SCRIPT:{t._switchToTextParsing(e,ir.SCRIPT_DATA);break}case p.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=we.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(we.IN_TEMPLATE);break}case p.HEAD:{t._err(e,Ye.misplacedStartTagForHeadElement);break}default:gu(t,e)}}function DR(t,e){switch(e.tagID){case p.HEAD:{t.openElements.pop(),t.insertionMode=we.AFTER_HEAD;break}case p.BODY:case p.BR:case p.HTML:{gu(t,e);break}case p.TEMPLATE:{ho(t,e);break}default:t._err(e,Ye.endTagWithoutMatchingOpenElement)}}function ho(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==p.TEMPLATE&&t._err(e,Ye.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(p.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,Ye.endTagWithoutMatchingOpenElement)}function gu(t,e){t.openElements.pop(),t.insertionMode=we.AFTER_HEAD,t._processToken(e)}function QR(t,e){switch(e.tagID){case p.HTML:{zr(t,e);break}case p.BASEFONT:case p.BGSOUND:case p.HEAD:case p.LINK:case p.META:case p.NOFRAMES:case p.STYLE:{Yi(t,e);break}case p.NOSCRIPT:{t._err(e,Ye.nestedNoscriptInHead);break}default:mu(t,e)}}function RR(t,e){switch(e.tagID){case p.NOSCRIPT:{t.openElements.pop(),t.insertionMode=we.IN_HEAD;break}case p.BR:{mu(t,e);break}default:t._err(e,Ye.endTagWithoutMatchingOpenElement)}}function mu(t,e){const n=e.type===cn.EOF?Ye.openElementsLeftAfterEof:Ye.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=we.IN_HEAD,t._processToken(e)}function MR(t,e){switch(e.tagID){case p.HTML:{zr(t,e);break}case p.BODY:{t._insertElement(e,at.HTML),t.framesetOk=!1,t.insertionMode=we.IN_BODY;break}case p.FRAMESET:{t._insertElement(e,at.HTML),t.insertionMode=we.IN_FRAMESET;break}case p.BASE:case p.BASEFONT:case p.BGSOUND:case p.LINK:case p.META:case p.NOFRAMES:case p.SCRIPT:case p.STYLE:case p.TEMPLATE:case p.TITLE:{t._err(e,Ye.abandonedHeadElementChild),t.openElements.push(t.headElement,p.HEAD),Yi(t,e),t.openElements.remove(t.headElement);break}case p.HEAD:{t._err(e,Ye.misplacedStartTagForHeadElement);break}default:bu(t,e)}}function PR(t,e){switch(e.tagID){case p.BODY:case p.HTML:case p.BR:{bu(t,e);break}case p.TEMPLATE:{ho(t,e);break}default:t._err(e,Ye.endTagWithoutMatchingOpenElement)}}function bu(t,e){t._insertFakeElement(Pe.BODY,p.BODY),t.insertionMode=we.IN_BODY,bd(t,e)}function bd(t,e){switch(e.type){case cn.CHARACTER:{FC(t,e);break}case cn.WHITESPACE_CHARACTER:{kC(t,e);break}case cn.COMMENT:{d0(t,e);break}case cn.START_TAG:{zr(t,e);break}case cn.END_TAG:{wd(t,e);break}case cn.EOF:{OC(t,e);break}}}function kC(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function FC(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function HR(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function jR(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function KR(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,at.HTML),t.insertionMode=we.IN_FRAMESET)}function VR(t,e){t.openElements.hasInButtonScope(p.P)&&t._closePElement(),t._insertElement(e,at.HTML)}function zR(t,e){t.openElements.hasInButtonScope(p.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&f0.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,at.HTML)}function qR(t,e){t.openElements.hasInButtonScope(p.P)&&t._closePElement(),t._insertElement(e,at.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function GR(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(p.P)&&t._closePElement(),t._insertElement(e,at.HTML),n||(t.formElement=t.openElements.current))}function WR(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const i=t.openElements.tagIDs[r];if(n===p.LI&&i===p.LI||(n===p.DD||n===p.DT)&&(i===p.DD||i===p.DT)){t.openElements.generateImpliedEndTagsWithExclusion(i),t.openElements.popUntilTagNamePopped(i);break}if(i!==p.ADDRESS&&i!==p.DIV&&i!==p.P&&t._isSpecialElement(t.openElements.items[r],i))break}t.openElements.hasInButtonScope(p.P)&&t._closePElement(),t._insertElement(e,at.HTML)}function $R(t,e){t.openElements.hasInButtonScope(p.P)&&t._closePElement(),t._insertElement(e,at.HTML),t.tokenizer.state=ir.PLAINTEXT}function YR(t,e){t.openElements.hasInScope(p.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(p.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,at.HTML),t.framesetOk=!1}function XR(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(Pe.A);n&&(Am(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,at.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function JR(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,at.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function ZR(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(p.NOBR)&&(Am(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,at.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function eM(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,at.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function tM(t,e){t.treeAdapter.getDocumentMode(t.document)!==Fi.QUIRKS&&t.openElements.hasInButtonScope(p.P)&&t._closePElement(),t._insertElement(e,at.HTML),t.framesetOk=!1,t.insertionMode=we.IN_TABLE}function NC(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,at.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function UC(t){const e=yC(t,eo.TYPE);return e!=null&&e.toLowerCase()===wR}function nM(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,at.HTML),UC(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function rM(t,e){t._appendElement(e,at.HTML),e.ackSelfClosing=!0}function iM(t,e){t.openElements.hasInButtonScope(p.P)&&t._closePElement(),t._appendElement(e,at.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function sM(t,e){e.tagName=Pe.IMG,e.tagID=p.IMG,NC(t,e)}function aM(t,e){t._insertElement(e,at.HTML),t.skipNextNewLine=!0,t.tokenizer.state=ir.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=we.TEXT}function oM(t,e){t.openElements.hasInButtonScope(p.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,ir.RAWTEXT)}function AM(t,e){t.framesetOk=!1,t._switchToTextParsing(e,ir.RAWTEXT)}function jb(t,e){t._switchToTextParsing(e,ir.RAWTEXT)}function uM(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,at.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===we.IN_TABLE||t.insertionMode===we.IN_CAPTION||t.insertionMode===we.IN_TABLE_BODY||t.insertionMode===we.IN_ROW||t.insertionMode===we.IN_CELL?we.IN_SELECT_IN_TABLE:we.IN_SELECT}function lM(t,e){t.openElements.currentTagId===p.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,at.HTML)}function cM(t,e){t.openElements.hasInScope(p.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,at.HTML)}function fM(t,e){t.openElements.hasInScope(p.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(p.RTC),t._insertElement(e,at.HTML)}function dM(t,e){t._reconstructActiveFormattingElements(),TC(e),om(e),e.selfClosing?t._appendElement(e,at.MATHML):t._insertElement(e,at.MATHML),e.ackSelfClosing=!0}function hM(t,e){t._reconstructActiveFormattingElements(),SC(e),om(e),e.selfClosing?t._appendElement(e,at.SVG):t._insertElement(e,at.SVG),e.ackSelfClosing=!0}function Kb(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,at.HTML)}function zr(t,e){switch(e.tagID){case p.I:case p.S:case p.B:case p.U:case p.EM:case p.TT:case p.BIG:case p.CODE:case p.FONT:case p.SMALL:case p.STRIKE:case p.STRONG:{JR(t,e);break}case p.A:{XR(t,e);break}case p.H1:case p.H2:case p.H3:case p.H4:case p.H5:case p.H6:{zR(t,e);break}case p.P:case p.DL:case p.OL:case p.UL:case p.DIV:case p.DIR:case p.NAV:case p.MAIN:case p.MENU:case p.ASIDE:case p.CENTER:case p.FIGURE:case p.FOOTER:case p.HEADER:case p.HGROUP:case p.DIALOG:case p.DETAILS:case p.ADDRESS:case p.ARTICLE:case p.SEARCH:case p.SECTION:case p.SUMMARY:case p.FIELDSET:case p.BLOCKQUOTE:case p.FIGCAPTION:{VR(t,e);break}case p.LI:case p.DD:case p.DT:{WR(t,e);break}case p.BR:case p.IMG:case p.WBR:case p.AREA:case p.EMBED:case p.KEYGEN:{NC(t,e);break}case p.HR:{iM(t,e);break}case p.RB:case p.RTC:{cM(t,e);break}case p.RT:case p.RP:{fM(t,e);break}case p.PRE:case p.LISTING:{qR(t,e);break}case p.XMP:{oM(t,e);break}case p.SVG:{hM(t,e);break}case p.HTML:{HR(t,e);break}case p.BASE:case p.LINK:case p.META:case p.STYLE:case p.TITLE:case p.SCRIPT:case p.BGSOUND:case p.BASEFONT:case p.TEMPLATE:{Yi(t,e);break}case p.BODY:{jR(t,e);break}case p.FORM:{GR(t,e);break}case p.NOBR:{ZR(t,e);break}case p.MATH:{dM(t,e);break}case p.TABLE:{tM(t,e);break}case p.INPUT:{nM(t,e);break}case p.PARAM:case p.TRACK:case p.SOURCE:{rM(t,e);break}case p.IMAGE:{sM(t,e);break}case p.BUTTON:{YR(t,e);break}case p.APPLET:case p.OBJECT:case p.MARQUEE:{eM(t,e);break}case p.IFRAME:{AM(t,e);break}case p.SELECT:{uM(t,e);break}case p.OPTION:case p.OPTGROUP:{lM(t,e);break}case p.NOEMBED:case p.NOFRAMES:{jb(t,e);break}case p.FRAMESET:{KR(t,e);break}case p.TEXTAREA:{aM(t,e);break}case p.NOSCRIPT:{t.options.scriptingEnabled?jb(t,e):Kb(t,e);break}case p.PLAINTEXT:{$R(t,e);break}case p.COL:case p.TH:case p.TD:case p.TR:case p.HEAD:case p.FRAME:case p.TBODY:case p.TFOOT:case p.THEAD:case p.CAPTION:case p.COLGROUP:break;default:Kb(t,e)}}function pM(t,e){if(t.openElements.hasInScope(p.BODY)&&(t.insertionMode=we.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function gM(t,e){t.openElements.hasInScope(p.BODY)&&(t.insertionMode=we.AFTER_BODY,jC(t,e))}function mM(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function bM(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(p.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(p.FORM):n&&t.openElements.remove(n))}function wM(t){t.openElements.hasInButtonScope(p.P)||t._insertFakeElement(Pe.P,p.P),t._closePElement()}function yM(t){t.openElements.hasInListItemScope(p.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(p.LI),t.openElements.popUntilTagNamePopped(p.LI))}function BM(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function xM(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function EM(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function CM(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(Pe.BR,p.BR),t.openElements.pop(),t.framesetOk=!1}function LC(t,e){const n=e.tagName,r=e.tagID;for(let i=t.openElements.stackTop;i>0;i--){const s=t.openElements.items[i],a=t.openElements.tagIDs[i];if(r===a&&(r!==p.UNKNOWN||t.treeAdapter.getTagName(s)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=i&&t.openElements.shortenToLength(i);break}if(t._isSpecialElement(s,a))break}}function wd(t,e){switch(e.tagID){case p.A:case p.B:case p.I:case p.S:case p.U:case p.EM:case p.TT:case p.BIG:case p.CODE:case p.FONT:case p.NOBR:case p.SMALL:case p.STRIKE:case p.STRONG:{Am(t,e);break}case p.P:{wM(t);break}case p.DL:case p.UL:case p.OL:case p.DIR:case p.DIV:case p.NAV:case p.PRE:case p.MAIN:case p.MENU:case p.ASIDE:case p.BUTTON:case p.CENTER:case p.FIGURE:case p.FOOTER:case p.HEADER:case p.HGROUP:case p.DIALOG:case p.ADDRESS:case p.ARTICLE:case p.DETAILS:case p.SEARCH:case p.SECTION:case p.SUMMARY:case p.LISTING:case p.FIELDSET:case p.BLOCKQUOTE:case p.FIGCAPTION:{mM(t,e);break}case p.LI:{yM(t);break}case p.DD:case p.DT:{BM(t,e);break}case p.H1:case p.H2:case p.H3:case p.H4:case p.H5:case p.H6:{xM(t);break}case p.BR:{CM(t);break}case p.BODY:{pM(t,e);break}case p.HTML:{gM(t,e);break}case p.FORM:{bM(t);break}case p.APPLET:case p.OBJECT:case p.MARQUEE:{EM(t,e);break}case p.TEMPLATE:{ho(t,e);break}default:LC(t,e)}}function OC(t,e){t.tmplInsertionModeStack.length>0?HC(t,e):um(t,e)}function vM(t,e){var n;e.tagID===p.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function TM(t,e){t._err(e,Ye.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function Mh(t,e){if(t.openElements.currentTagId!==void 0&&IC.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=we.IN_TABLE_TEXT,e.type){case cn.CHARACTER:{DC(t,e);break}case cn.WHITESPACE_CHARACTER:{_C(t,e);break}}else sl(t,e)}function SM(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,at.HTML),t.insertionMode=we.IN_CAPTION}function IM(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,at.HTML),t.insertionMode=we.IN_COLUMN_GROUP}function kM(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(Pe.COLGROUP,p.COLGROUP),t.insertionMode=we.IN_COLUMN_GROUP,lm(t,e)}function FM(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,at.HTML),t.insertionMode=we.IN_TABLE_BODY}function NM(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(Pe.TBODY,p.TBODY),t.insertionMode=we.IN_TABLE_BODY,yd(t,e)}function UM(t,e){t.openElements.hasInTableScope(p.TABLE)&&(t.openElements.popUntilTagNamePopped(p.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function LM(t,e){UC(e)?t._appendElement(e,at.HTML):sl(t,e),e.ackSelfClosing=!0}function OM(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,at.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function iA(t,e){switch(e.tagID){case p.TD:case p.TH:case p.TR:{NM(t,e);break}case p.STYLE:case p.SCRIPT:case p.TEMPLATE:{Yi(t,e);break}case p.COL:{kM(t,e);break}case p.FORM:{OM(t,e);break}case p.TABLE:{UM(t,e);break}case p.TBODY:case p.TFOOT:case p.THEAD:{FM(t,e);break}case p.INPUT:{LM(t,e);break}case p.CAPTION:{SM(t,e);break}case p.COLGROUP:{IM(t,e);break}default:sl(t,e)}}function Hu(t,e){switch(e.tagID){case p.TABLE:{t.openElements.hasInTableScope(p.TABLE)&&(t.openElements.popUntilTagNamePopped(p.TABLE),t._resetInsertionMode());break}case p.TEMPLATE:{ho(t,e);break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:case p.TBODY:case p.TD:case p.TFOOT:case p.TH:case p.THEAD:case p.TR:break;default:sl(t,e)}}function sl(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,bd(t,e),t.fosterParentingEnabled=n}function _C(t,e){t.pendingCharacterTokens.push(e)}function DC(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function LA(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)sl(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const QC=new Set([p.CAPTION,p.COL,p.COLGROUP,p.TBODY,p.TD,p.TFOOT,p.TH,p.THEAD,p.TR]);function _M(t,e){const n=e.tagID;QC.has(n)?t.openElements.hasInTableScope(p.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(p.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=we.IN_TABLE,iA(t,e)):zr(t,e)}function DM(t,e){const n=e.tagID;switch(n){case p.CAPTION:case p.TABLE:{t.openElements.hasInTableScope(p.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(p.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=we.IN_TABLE,n===p.TABLE&&Hu(t,e));break}case p.BODY:case p.COL:case p.COLGROUP:case p.HTML:case p.TBODY:case p.TD:case p.TFOOT:case p.TH:case p.THEAD:case p.TR:break;default:wd(t,e)}}function lm(t,e){switch(e.tagID){case p.HTML:{zr(t,e);break}case p.COL:{t._appendElement(e,at.HTML),e.ackSelfClosing=!0;break}case p.TEMPLATE:{Yi(t,e);break}default:Ff(t,e)}}function QM(t,e){switch(e.tagID){case p.COLGROUP:{t.openElements.currentTagId===p.COLGROUP&&(t.openElements.pop(),t.insertionMode=we.IN_TABLE);break}case p.TEMPLATE:{ho(t,e);break}case p.COL:break;default:Ff(t,e)}}function Ff(t,e){t.openElements.currentTagId===p.COLGROUP&&(t.openElements.pop(),t.insertionMode=we.IN_TABLE,t._processToken(e))}function yd(t,e){switch(e.tagID){case p.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,at.HTML),t.insertionMode=we.IN_ROW;break}case p.TH:case p.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(Pe.TR,p.TR),t.insertionMode=we.IN_ROW,Bd(t,e);break}case p.CAPTION:case p.COL:case p.COLGROUP:case p.TBODY:case p.TFOOT:case p.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=we.IN_TABLE,iA(t,e));break}default:iA(t,e)}}function h0(t,e){const n=e.tagID;switch(e.tagID){case p.TBODY:case p.TFOOT:case p.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=we.IN_TABLE);break}case p.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=we.IN_TABLE,Hu(t,e));break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:case p.TD:case p.TH:case p.TR:break;default:Hu(t,e)}}function Bd(t,e){switch(e.tagID){case p.TH:case p.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,at.HTML),t.insertionMode=we.IN_CELL,t.activeFormattingElements.insertMarker();break}case p.CAPTION:case p.COL:case p.COLGROUP:case p.TBODY:case p.TFOOT:case p.THEAD:case p.TR:{t.openElements.hasInTableScope(p.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=we.IN_TABLE_BODY,yd(t,e));break}default:iA(t,e)}}function RC(t,e){switch(e.tagID){case p.TR:{t.openElements.hasInTableScope(p.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=we.IN_TABLE_BODY);break}case p.TABLE:{t.openElements.hasInTableScope(p.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=we.IN_TABLE_BODY,h0(t,e));break}case p.TBODY:case p.TFOOT:case p.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(p.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=we.IN_TABLE_BODY,h0(t,e));break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:case p.TD:case p.TH:break;default:Hu(t,e)}}function RM(t,e){const n=e.tagID;QC.has(n)?(t.openElements.hasInTableScope(p.TD)||t.openElements.hasInTableScope(p.TH))&&(t._closeTableCell(),Bd(t,e)):zr(t,e)}function MM(t,e){const n=e.tagID;switch(n){case p.TD:case p.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=we.IN_ROW);break}case p.TABLE:case p.TBODY:case p.TFOOT:case p.THEAD:case p.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),RC(t,e));break}case p.BODY:case p.CAPTION:case p.COL:case p.COLGROUP:case p.HTML:break;default:wd(t,e)}}function MC(t,e){switch(e.tagID){case p.HTML:{zr(t,e);break}case p.OPTION:{t.openElements.currentTagId===p.OPTION&&t.openElements.pop(),t._insertElement(e,at.HTML);break}case p.OPTGROUP:{t.openElements.currentTagId===p.OPTION&&t.openElements.pop(),t.openElements.currentTagId===p.OPTGROUP&&t.openElements.pop(),t._insertElement(e,at.HTML);break}case p.HR:{t.openElements.currentTagId===p.OPTION&&t.openElements.pop(),t.openElements.currentTagId===p.OPTGROUP&&t.openElements.pop(),t._appendElement(e,at.HTML),e.ackSelfClosing=!0;break}case p.INPUT:case p.KEYGEN:case p.TEXTAREA:case p.SELECT:{t.openElements.hasInSelectScope(p.SELECT)&&(t.openElements.popUntilTagNamePopped(p.SELECT),t._resetInsertionMode(),e.tagID!==p.SELECT&&t._processStartTag(e));break}case p.SCRIPT:case p.TEMPLATE:{Yi(t,e);break}}}function PC(t,e){switch(e.tagID){case p.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===p.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===p.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===p.OPTGROUP&&t.openElements.pop();break}case p.OPTION:{t.openElements.currentTagId===p.OPTION&&t.openElements.pop();break}case p.SELECT:{t.openElements.hasInSelectScope(p.SELECT)&&(t.openElements.popUntilTagNamePopped(p.SELECT),t._resetInsertionMode());break}case p.TEMPLATE:{ho(t,e);break}}}function PM(t,e){const n=e.tagID;n===p.CAPTION||n===p.TABLE||n===p.TBODY||n===p.TFOOT||n===p.THEAD||n===p.TR||n===p.TD||n===p.TH?(t.openElements.popUntilTagNamePopped(p.SELECT),t._resetInsertionMode(),t._processStartTag(e)):MC(t,e)}function HM(t,e){const n=e.tagID;n===p.CAPTION||n===p.TABLE||n===p.TBODY||n===p.TFOOT||n===p.THEAD||n===p.TR||n===p.TD||n===p.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(p.SELECT),t._resetInsertionMode(),t.onEndTag(e)):PC(t,e)}function jM(t,e){switch(e.tagID){case p.BASE:case p.BASEFONT:case p.BGSOUND:case p.LINK:case p.META:case p.NOFRAMES:case p.SCRIPT:case p.STYLE:case p.TEMPLATE:case p.TITLE:{Yi(t,e);break}case p.CAPTION:case p.COLGROUP:case p.TBODY:case p.TFOOT:case p.THEAD:{t.tmplInsertionModeStack[0]=we.IN_TABLE,t.insertionMode=we.IN_TABLE,iA(t,e);break}case p.COL:{t.tmplInsertionModeStack[0]=we.IN_COLUMN_GROUP,t.insertionMode=we.IN_COLUMN_GROUP,lm(t,e);break}case p.TR:{t.tmplInsertionModeStack[0]=we.IN_TABLE_BODY,t.insertionMode=we.IN_TABLE_BODY,yd(t,e);break}case p.TD:case p.TH:{t.tmplInsertionModeStack[0]=we.IN_ROW,t.insertionMode=we.IN_ROW,Bd(t,e);break}default:t.tmplInsertionModeStack[0]=we.IN_BODY,t.insertionMode=we.IN_BODY,zr(t,e)}}function KM(t,e){e.tagID===p.TEMPLATE&&ho(t,e)}function HC(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(p.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):um(t,e)}function VM(t,e){e.tagID===p.HTML?zr(t,e):Nf(t,e)}function jC(t,e){var n;if(e.tagID===p.HTML){if(t.fragmentContext||(t.insertionMode=we.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===p.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else Nf(t,e)}function Nf(t,e){t.insertionMode=we.IN_BODY,bd(t,e)}function zM(t,e){switch(e.tagID){case p.HTML:{zr(t,e);break}case p.FRAMESET:{t._insertElement(e,at.HTML);break}case p.FRAME:{t._appendElement(e,at.HTML),e.ackSelfClosing=!0;break}case p.NOFRAMES:{Yi(t,e);break}}}function qM(t,e){e.tagID===p.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==p.FRAMESET&&(t.insertionMode=we.AFTER_FRAMESET))}function GM(t,e){switch(e.tagID){case p.HTML:{zr(t,e);break}case p.NOFRAMES:{Yi(t,e);break}}}function WM(t,e){e.tagID===p.HTML&&(t.insertionMode=we.AFTER_AFTER_FRAMESET)}function $M(t,e){e.tagID===p.HTML?zr(t,e):Tc(t,e)}function Tc(t,e){t.insertionMode=we.IN_BODY,bd(t,e)}function YM(t,e){switch(e.tagID){case p.HTML:{zr(t,e);break}case p.NOFRAMES:{Yi(t,e);break}}}function XM(t,e){e.chars=zn,t._insertCharacters(e)}function JM(t,e){t._insertCharacters(e),t.framesetOk=!1}function KC(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==at.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function ZM(t,e){if(hR(e))KC(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===at.MATHML?TC(e):r===at.SVG&&(pR(e),SC(e)),om(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function e7(t,e){if(e.tagID===p.P||e.tagID===p.BR){KC(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===at.HTML){t._endTagOutsideForeignContent(e);break}const i=t.treeAdapter.getTagName(r);if(i.toLowerCase()===e.tagName){e.tagName=i,t.openElements.shortenToLength(n);break}}}Pe.AREA,Pe.BASE,Pe.BASEFONT,Pe.BGSOUND,Pe.BR,Pe.COL,Pe.EMBED,Pe.FRAME,Pe.HR,Pe.IMG,Pe.INPUT,Pe.KEYGEN,Pe.LINK,Pe.META,Pe.PARAM,Pe.SOURCE,Pe.TRACK,Pe.WBR;const t7=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,n7=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Vb={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function VC(t,e){const n=f7(t),r=RE("type",{handlers:{root:r7,element:i7,text:s7,comment:qC,doctype:a7,raw:A7},unknown:u7}),i={parser:n?new Hb(Vb):Hb.getFragmentParser(void 0,Vb),handle(o){r(o,i)},stitches:!1,options:e||{}};r(t,i),pA(i,ms());const s=n?i.parser.document:i.parser.getFragment(),a=rQ(s,{file:i.options.file});return i.stitches&&md(a,"comment",function(o,A,u){const l=o;if(l.value.stitch&&u&&A!==void 0){const c=u.children;return c[A]=l.value.stitch,A}}),a.type==="root"&&a.children.length===1&&a.children[0].type===t.type?a.children[0]:a}function zC(t,e){let n=-1;if(t)for(;++n<t.length;)e.handle(t[n])}function r7(t,e){zC(t.children,e)}function i7(t,e){l7(t,e),zC(t.children,e),c7(t,e)}function s7(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const n={type:cn.CHARACTER,chars:t.value,location:al(t)};pA(e,ms(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function a7(t,e){const n={type:cn.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:al(t)};pA(e,ms(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function o7(t,e){e.stitches=!0;const n=d7(t);if("children"in t&&"children"in n){const r=VC({type:"root",children:t.children},e.options);n.children=r.children}qC({type:"comment",value:{stitch:n}},e)}function qC(t,e){const n=t.value,r={type:cn.COMMENT,data:n,location:al(t)};pA(e,ms(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function A7(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,GC(e,ms(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace(t7,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=e.parser.tokenizer._consume();e.parser.tokenizer._callState(n)}}function u7(t,e){const n=t;if(e.options.passThrough&&e.options.passThrough.includes(n.type))o7(n,e);else{let r="";throw n7.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function pA(t,e){GC(t,e);const n=t.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=t.parser.tokenizer.preprocessor.line,n.location.endCol=t.parser.tokenizer.preprocessor.col+1,n.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=ir.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function GC(t,e){if(e&&e.offset!==void 0){const n={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=n}}function l7(t,e){const n=t.tagName.toLowerCase();if(e.parser.tokenizer.state===ir.PLAINTEXT)return;pA(e,ms(t));const r=e.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:Va.html;i===Va.html&&n==="svg"&&(i=Va.svg);const s=bQ(_t(Ie({},t),{children:[]}),{space:i===Va.svg?"svg":"html"}),a={type:cn.START_TAG,tagName:n,tagID:hA(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:al(t)};e.parser.currentToken=a,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=n}function c7(t,e){const n=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&TQ.includes(n)||e.parser.tokenizer.state===ir.PLAINTEXT)return;pA(e,cd(t));const r={type:cn.END_TAG,tagName:n,tagID:hA(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:al(t)};e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken),n===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===ir.RCDATA||e.parser.tokenizer.state===ir.RAWTEXT||e.parser.tokenizer.state===ir.SCRIPT_DATA)&&(e.parser.tokenizer.state=ir.DATA)}function f7(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function al(t){const e=ms(t)||{line:void 0,column:void 0,offset:void 0},n=cd(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function d7(t){return"children"in t?rA(_t(Ie({},t),{children:[]})):rA(t)}function Sc(t){return function(e,n){return VC(e,_t(Ie({},t),{file:n}))}}var Ph={exports:{}},zb;function h7(){return zb||(zb=1,function(t){var e=typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,a={},o={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function M(q){return q instanceof A?new A(q.type,M(q.content),q.alias):Array.isArray(q)?q.map(M):q.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(M){return Object.prototype.toString.call(M).slice(8,-1)},objId:function(M){return M.__id||Object.defineProperty(M,"__id",{value:++s}),M.__id},clone:function M(q,j){j=j||{};var J,H;switch(o.util.type(q)){case"Object":if(H=o.util.objId(q),j[H])return j[H];J={},j[H]=J;for(var ve in q)q.hasOwnProperty(ve)&&(J[ve]=M(q[ve],j));return J;case"Array":return H=o.util.objId(q),j[H]?j[H]:(J=[],j[H]=J,q.forEach(function(De,Fe){J[Fe]=M(De,j)}),J);default:return q}},getLanguage:function(M){for(;M;){var q=i.exec(M.className);if(q)return q[1].toLowerCase();M=M.parentElement}return"none"},setLanguage:function(M,q){M.className=M.className.replace(RegExp(i,"gi"),""),M.classList.add("language-"+q)},currentScript:function(){if(typeof document=="undefined")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(J){var M=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(J.stack)||[])[1];if(M){var q=document.getElementsByTagName("script");for(var j in q)if(q[j].src==M)return q[j]}return null}},isActive:function(M,q,j){for(var J="no-"+q;M;){var H=M.classList;if(H.contains(q))return!0;if(H.contains(J))return!1;M=M.parentElement}return!!j}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function(M,q){var j=o.util.clone(o.languages[M]);for(var J in q)j[J]=q[J];return j},insertBefore:function(M,q,j,J){J=J||o.languages;var H=J[M],ve={};for(var De in H)if(H.hasOwnProperty(De)){if(De==q)for(var Fe in j)j.hasOwnProperty(Fe)&&(ve[Fe]=j[Fe]);j.hasOwnProperty(De)||(ve[De]=H[De])}var me=J[M];return J[M]=ve,o.languages.DFS(o.languages,function(qe,Me){Me===me&&qe!=M&&(this[qe]=ve)}),ve},DFS:function M(q,j,J,H){H=H||{};var ve=o.util.objId;for(var De in q)if(q.hasOwnProperty(De)){j.call(q,De,q[De],J||De);var Fe=q[De],me=o.util.type(Fe);me==="Object"&&!H[ve(Fe)]?(H[ve(Fe)]=!0,M(Fe,j,null,H)):me==="Array"&&!H[ve(Fe)]&&(H[ve(Fe)]=!0,M(Fe,j,De,H))}}},plugins:{},highlightAll:function(M,q){o.highlightAllUnder(document,M,q)},highlightAllUnder:function(M,q,j){var J={callback:j,container:M,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",J),J.elements=Array.prototype.slice.apply(J.container.querySelectorAll(J.selector)),o.hooks.run("before-all-elements-highlight",J);for(var H=0,ve;ve=J.elements[H++];)o.highlightElement(ve,q===!0,J.callback)},highlightElement:function(M,q,j){var J=o.util.getLanguage(M),H=o.languages[J];o.util.setLanguage(M,J);var ve=M.parentElement;ve&&ve.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(ve,J);var De=M.textContent,Fe={element:M,language:J,grammar:H,code:De};function me(Me){Fe.highlightedCode=Me,o.hooks.run("before-insert",Fe),Fe.element.innerHTML=Fe.highlightedCode,o.hooks.run("after-highlight",Fe),o.hooks.run("complete",Fe),j&&j.call(Fe.element)}if(o.hooks.run("before-sanity-check",Fe),ve=Fe.element.parentElement,ve&&ve.nodeName.toLowerCase()==="pre"&&!ve.hasAttribute("tabindex")&&ve.setAttribute("tabindex","0"),!Fe.code){o.hooks.run("complete",Fe),j&&j.call(Fe.element);return}if(o.hooks.run("before-highlight",Fe),!Fe.grammar){me(o.util.encode(Fe.code));return}if(q&&r.Worker){var qe=new Worker(o.filename);qe.onmessage=function(Me){me(Me.data)},qe.postMessage(JSON.stringify({language:Fe.language,code:Fe.code,immediateClose:!0}))}else me(o.highlight(Fe.code,Fe.grammar,Fe.language))},highlight:function(M,q,j){var J={code:M,grammar:q,language:j};if(o.hooks.run("before-tokenize",J),!J.grammar)throw new Error('The language "'+J.language+'" has no grammar.');return J.tokens=o.tokenize(J.code,J.grammar),o.hooks.run("after-tokenize",J),A.stringify(o.util.encode(J.tokens),J.language)},tokenize:function(M,q){var j=q.rest;if(j){for(var J in j)q[J]=j[J];delete q.rest}var H=new c;return f(H,H.head,M),l(M,H,q,H.head,0),w(H)},hooks:{all:{},add:function(M,q){var j=o.hooks.all;j[M]=j[M]||[],j[M].push(q)},run:function(M,q){var j=o.hooks.all[M];if(!(!j||!j.length))for(var J=0,H;H=j[J++];)H(q)}},Token:A};r.Prism=o;function A(M,q,j,J){this.type=M,this.content=q,this.alias=j,this.length=(J||"").length|0}A.stringify=function M(q,j){if(typeof q=="string")return q;if(Array.isArray(q)){var J="";return q.forEach(function(me){J+=M(me,j)}),J}var H={type:q.type,content:M(q.content,j),tag:"span",classes:["token",q.type],attributes:{},language:j},ve=q.alias;ve&&(Array.isArray(ve)?Array.prototype.push.apply(H.classes,ve):H.classes.push(ve)),o.hooks.run("wrap",H);var De="";for(var Fe in H.attributes)De+=" "+Fe+'="'+(H.attributes[Fe]||"").replace(/"/g,"&quot;")+'"';return"<"+H.tag+' class="'+H.classes.join(" ")+'"'+De+">"+H.content+"</"+H.tag+">"};function u(M,q,j,J){M.lastIndex=q;var H=M.exec(j);if(H&&J&&H[1]){var ve=H[1].length;H.index+=ve,H[0]=H[0].slice(ve)}return H}function l(M,q,j,J,H,ve){for(var De in j)if(!(!j.hasOwnProperty(De)||!j[De])){var Fe=j[De];Fe=Array.isArray(Fe)?Fe:[Fe];for(var me=0;me<Fe.length;++me){if(ve&&ve.cause==De+","+me)return;var qe=Fe[me],Me=qe.inside,Ke=!!qe.lookbehind,tt=!!qe.greedy,st=qe.alias;if(tt&&!qe.pattern.global){var gt=qe.pattern.toString().match(/[imsuy]*$/)[0];qe.pattern=RegExp(qe.pattern.source,gt+"g")}for(var mt=qe.pattern||qe,yt=J.next,Ge=H;yt!==q.tail&&!(ve&&Ge>=ve.reach);Ge+=yt.value.length,yt=yt.next){var ne=yt.value;if(q.length>M.length)return;if(!(ne instanceof A)){var Ft=1,Lt;if(tt){if(Lt=u(mt,Ge,M,Ke),!Lt||Lt.index>=M.length)break;var Nt=Lt.index,pe=Lt.index+Lt[0].length,vt=Ge;for(vt+=yt.value.length;Nt>=vt;)yt=yt.next,vt+=yt.value.length;if(vt-=yt.value.length,Ge=vt,yt.value instanceof A)continue;for(var Kt=yt;Kt!==q.tail&&(vt<pe||typeof Kt.value=="string");Kt=Kt.next)Ft++,vt+=Kt.value.length;Ft--,ne=M.slice(Ge,vt),Lt.index-=Ge}else if(Lt=u(mt,0,ne,Ke),!Lt)continue;var Nt=Lt.index,Mt=Lt[0],Rt=ne.slice(0,Nt),xn=ne.slice(Nt+Mt.length),En=Ge+ne.length;ve&&En>ve.reach&&(ve.reach=En);var Jt=yt.prev;Rt&&(Jt=f(q,Jt,Rt),Ge+=Rt.length),d(q,Jt,Ft);var mn=new A(De,Me?o.tokenize(Mt,Me):Mt,st,Mt);if(yt=f(q,Jt,mn),xn&&f(q,yt,xn),Ft>1){var Gn={cause:De+","+me,reach:En};l(M,q,j,yt.prev,Ge,Gn),ve&&Gn.reach>ve.reach&&(ve.reach=Gn.reach)}}}}}}function c(){var M={value:null,prev:null,next:null},q={value:null,prev:M,next:null};M.next=q,this.head=M,this.tail=q,this.length=0}function f(M,q,j){var J=q.next,H={value:j,prev:q,next:J};return q.next=H,J.prev=H,M.length++,H}function d(M,q,j){for(var J=q.next,H=0;H<j&&J!==M.tail;H++)J=J.next;q.next=J,J.prev=q,M.length-=H}function w(M){for(var q=[],j=M.head.next;j!==M.tail;)q.push(j.value),j=j.next;return q}if(!r.document)return r.addEventListener&&(o.disableWorkerMessageHandler||r.addEventListener("message",function(M){var q=JSON.parse(M.data),j=q.language,J=q.code,H=q.immediateClose;r.postMessage(o.highlight(J,o.languages[j],j)),H&&r.close()},!1)),o;var T=o.util.currentScript();T&&(o.filename=T.src,T.hasAttribute("data-manual")&&(o.manual=!0));function D(){o.manual||o.highlightAll()}if(!o.manual){var N=document.readyState;N==="loading"||N==="interactive"&&T&&T.defer?document.addEventListener("DOMContentLoaded",D):window.requestAnimationFrame?window.requestAnimationFrame(D):window.setTimeout(D,16)}return o}(e);t.exports&&(t.exports=n),typeof Xn!="undefined"&&(Xn.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(i,s){var a={};a["language-"+s]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[s]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};o["language-"+s]={pattern:/[\s\S]+/,inside:n.languages[s]};var A={};A[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:o},n.languages.insertBefore("markup","cdata",A)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(r,i){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:n.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,function(r){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var s=r.languages.markup;s&&(s.tag.addInlined("style","css"),s.tag.addAttribute("style","css"))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,function(){if(typeof n=="undefined"||typeof document=="undefined")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading",i=function(T,D){return" Error "+T+" while fetching file: "+D},s=" Error: File does not exist or is empty",a={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},o="data-src-status",A="loading",u="loaded",l="failed",c="pre[data-src]:not(["+o+'="'+u+'"]):not(['+o+'="'+A+'"])';function f(T,D,N){var M=new XMLHttpRequest;M.open("GET",T,!0),M.onreadystatechange=function(){M.readyState==4&&(M.status<400&&M.responseText?D(M.responseText):M.status>=400?N(i(M.status,M.statusText)):N(s))},M.send(null)}function d(T){var D=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(T||"");if(D){var N=Number(D[1]),M=D[2],q=D[3];return M?q?[N,Number(q)]:[N,void 0]:[N,N]}}n.hooks.add("before-highlightall",function(T){T.selector+=", "+c}),n.hooks.add("before-sanity-check",function(T){var D=T.element;if(D.matches(c)){T.code="",D.setAttribute(o,A);var N=D.appendChild(document.createElement("CODE"));N.textContent=r;var M=D.getAttribute("data-src"),q=T.language;if(q==="none"){var j=(/\.(\w+)$/.exec(M)||[,"none"])[1];q=a[j]||j}n.util.setLanguage(N,q),n.util.setLanguage(D,q);var J=n.plugins.autoloader;J&&J.loadLanguages(q),f(M,function(H){D.setAttribute(o,u);var ve=d(D.getAttribute("data-range"));if(ve){var De=H.split(/\r\n?|\n/g),Fe=ve[0],me=ve[1]==null?De.length:ve[1];Fe<0&&(Fe+=De.length),Fe=Math.max(0,Math.min(Fe-1,De.length)),me<0&&(me+=De.length),me=Math.max(0,Math.min(me,De.length)),H=De.slice(Fe,me).join(`
`),D.hasAttribute("data-start")||D.setAttribute("data-start",String(Fe+1))}N.textContent=H,n.highlightElement(N)},function(H){D.setAttribute(o,l),N.textContent=H})}}),n.plugins.fileHighlight={highlight:function(D){for(var N=(D||document).querySelectorAll(c),M=0,q;q=N[M++];)n.highlightElement(q)}};var w=!1;n.fileHighlight=function(){w||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),w=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}}()}(Ph)),Ph.exports}var p7=h7();const g7=Wu(p7);function m7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}function p0(t,e){return Array(e+1).join(t)}function b7(t){return t.replace(/^\n*/,"")}function w7(t){for(var e=t.length;e>0&&t[e-1]===`
`;)e--;return t.substring(0,e)}var y7=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function cm(t){return fm(t,y7)}var WC=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function $C(t){return fm(t,WC)}function B7(t){return XC(t,WC)}var YC=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function x7(t){return fm(t,YC)}function E7(t){return XC(t,YC)}function fm(t,e){return e.indexOf(t.nodeName)>=0}function XC(t,e){return t.getElementsByTagName&&e.some(function(n){return t.getElementsByTagName(n).length})}var qr={};qr.paragraph={filter:"p",replacement:function(t){return`

`+t+`

`}};qr.lineBreak={filter:"br",replacement:function(t,e,n){return n.br+`
`}};qr.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(t,e,n){var r=Number(e.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var i=p0(r===1?"=":"-",t.length);return`

`+t+`
`+i+`

`}else return`

`+p0("#",r)+" "+t+`

`}};qr.blockquote={filter:"blockquote",replacement:function(t){return t=t.replace(/^\n+|\n+$/g,""),t=t.replace(/^/gm,"> "),`

`+t+`

`}};qr.list={filter:["ul","ol"],replacement:function(t,e){var n=e.parentNode;return n.nodeName==="LI"&&n.lastElementChild===e?`
`+t:`

`+t+`

`}};qr.listItem={filter:"li",replacement:function(t,e,n){t=t.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var r=n.bulletListMarker+"   ",i=e.parentNode;if(i.nodeName==="OL"){var s=i.getAttribute("start"),a=Array.prototype.indexOf.call(i.children,e);r=(s?Number(s)+a:a+1)+".  "}return r+t+(e.nextSibling&&!/\n$/.test(t)?`
`:"")}};qr.indentedCodeBlock={filter:function(t,e){return e.codeBlockStyle==="indented"&&t.nodeName==="PRE"&&t.firstChild&&t.firstChild.nodeName==="CODE"},replacement:function(t,e,n){return`

    `+e.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};qr.fencedCodeBlock={filter:function(t,e){return e.codeBlockStyle==="fenced"&&t.nodeName==="PRE"&&t.firstChild&&t.firstChild.nodeName==="CODE"},replacement:function(t,e,n){for(var r=e.firstChild.getAttribute("class")||"",i=(r.match(/language-(\S+)/)||[null,""])[1],s=e.firstChild.textContent,a=n.fence.charAt(0),o=3,A=new RegExp("^"+a+"{3,}","gm"),u;u=A.exec(s);)u[0].length>=o&&(o=u[0].length+1);var l=p0(a,o);return`

`+l+i+`
`+s.replace(/\n$/,"")+`
`+l+`

`}};qr.horizontalRule={filter:"hr",replacement:function(t,e,n){return`

`+n.hr+`

`}};qr.inlineLink={filter:function(t,e){return e.linkStyle==="inlined"&&t.nodeName==="A"&&t.getAttribute("href")},replacement:function(t,e){var n=e.getAttribute("href");n&&(n=n.replace(/([()])/g,"\\$1"));var r=Uf(e.getAttribute("title"));return r&&(r=' "'+r.replace(/"/g,'\\"')+'"'),"["+t+"]("+n+r+")"}};qr.referenceLink={filter:function(t,e){return e.linkStyle==="referenced"&&t.nodeName==="A"&&t.getAttribute("href")},replacement:function(t,e,n){var r=e.getAttribute("href"),i=Uf(e.getAttribute("title"));i&&(i=' "'+i+'"');var s,a;switch(n.linkReferenceStyle){case"collapsed":s="["+t+"][]",a="["+t+"]: "+r+i;break;case"shortcut":s="["+t+"]",a="["+t+"]: "+r+i;break;default:var o=this.references.length+1;s="["+t+"]["+o+"]",a="["+o+"]: "+r+i}return this.references.push(a),s},references:[],append:function(t){var e="";return this.references.length&&(e=`

`+this.references.join(`
`)+`

`,this.references=[]),e}};qr.emphasis={filter:["em","i"],replacement:function(t,e,n){return t.trim()?n.emDelimiter+t+n.emDelimiter:""}};qr.strong={filter:["strong","b"],replacement:function(t,e,n){return t.trim()?n.strongDelimiter+t+n.strongDelimiter:""}};qr.code={filter:function(t){var e=t.previousSibling||t.nextSibling,n=t.parentNode.nodeName==="PRE"&&!e;return t.nodeName==="CODE"&&!n},replacement:function(t){if(!t)return"";t=t.replace(/\r?\n|\r/g," ");for(var e=/^`|^ .*?[^ ].* $|`$/.test(t)?" ":"",n="`",r=t.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+e+t+e+n}};qr.image={filter:"img",replacement:function(t,e){var n=Uf(e.getAttribute("alt")),r=e.getAttribute("src")||"",i=Uf(e.getAttribute("title")),s=i?' "'+i+'"':"";return r?"!["+n+"]("+r+s+")":""}};function Uf(t){return t?t.replace(/(\n+\s*)+/g,`
`):""}function JC(t){this.options=t,this._keep=[],this._remove=[],this.blankRule={replacement:t.blankReplacement},this.keepReplacement=t.keepReplacement,this.defaultRule={replacement:t.defaultReplacement},this.array=[];for(var e in t.rules)this.array.push(t.rules[e])}JC.prototype={add:function(t,e){this.array.unshift(e)},keep:function(t){this._keep.unshift({filter:t,replacement:this.keepReplacement})},remove:function(t){this._remove.unshift({filter:t,replacement:function(){return""}})},forNode:function(t){if(t.isBlank)return this.blankRule;var e;return(e=Hh(this.array,t,this.options))||(e=Hh(this._keep,t,this.options))||(e=Hh(this._remove,t,this.options))?e:this.defaultRule},forEach:function(t){for(var e=0;e<this.array.length;e++)t(this.array[e],e)}};function Hh(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if(C7(i,e,n))return i}}function C7(t,e,n){var r=t.filter;if(typeof r=="string"){if(r===e.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(e.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(t,e,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function v7(t){var e=t.element,n=t.isBlock,r=t.isVoid,i=t.isPre||function(c){return c.nodeName==="PRE"};if(!(!e.firstChild||i(e))){for(var s=null,a=!1,o=null,A=qb(o,e,i);A!==e;){if(A.nodeType===3||A.nodeType===4){var u=A.data.replace(/[ \r\n\t]+/g," ");if((!s||/ $/.test(s.data))&&!a&&u[0]===" "&&(u=u.substr(1)),!u){A=jh(A);continue}A.data=u,s=A}else if(A.nodeType===1)n(A)||A.nodeName==="BR"?(s&&(s.data=s.data.replace(/ $/,"")),s=null,a=!1):r(A)||i(A)?(s=null,a=!0):s&&(a=!1);else{A=jh(A);continue}var l=qb(o,A,i);o=A,A=l}s&&(s.data=s.data.replace(/ $/,""),s.data||jh(s))}}function jh(t){var e=t.nextSibling||t.parentNode;return t.parentNode.removeChild(t),e}function qb(t,e,n){return t&&t.parentNode===e||n(e)?e.nextSibling||e.parentNode:e.firstChild||e.nextSibling||e.parentNode}var dm=typeof window!="undefined"?window:{};function T7(){var t=dm.DOMParser,e=!1;try{new t().parseFromString("","text/html")&&(e=!0)}catch(n){}return e}function S7(){var t=function(){};return I7()?t.prototype.parseFromString=function(e){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(e),n.close(),n}:t.prototype.parseFromString=function(e){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(e),n.close(),n},t}function I7(){var t=!1;try{document.implementation.createHTMLDocument("").open()}catch(e){dm.ActiveXObject&&(t=!0)}return t}var k7=T7()?dm.DOMParser:S7();function F7(t,e){var n;if(typeof t=="string"){var r=N7().parseFromString('<x-turndown id="turndown-root">'+t+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=t.cloneNode(!0);return v7({element:n,isBlock:cm,isVoid:$C,isPre:e.preformattedCode?U7:null}),n}var Kh;function N7(){return Kh=Kh||new k7,Kh}function U7(t){return t.nodeName==="PRE"||t.nodeName==="CODE"}function L7(t,e){return t.isBlock=cm(t),t.isCode=t.nodeName==="CODE"||t.parentNode.isCode,t.isBlank=O7(t),t.flankingWhitespace=_7(t,e),t}function O7(t){return!$C(t)&&!x7(t)&&/^\s*$/i.test(t.textContent)&&!B7(t)&&!E7(t)}function _7(t,e){if(t.isBlock||e.preformattedCode&&t.isCode)return{leading:"",trailing:""};var n=D7(t.textContent);return n.leadingAscii&&Gb("left",t,e)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&Gb("right",t,e)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function D7(t){var e=t.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:e[1],leadingAscii:e[2],leadingNonAscii:e[3],trailing:e[4],trailingNonAscii:e[5],trailingAscii:e[6]}}function Gb(t,e,n){var r,i,s;return t==="left"?(r=e.previousSibling,i=/ $/):(r=e.nextSibling,i=/^ /),r&&(r.nodeType===3?s=i.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?s=!1:r.nodeType===1&&!cm(r)&&(s=i.test(r.textContent))),s}var Q7=Array.prototype.reduce,R7=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function Lf(t){if(!(this instanceof Lf))return new Lf(t);var e={rules:qr,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=m7({},e,t),this.rules=new JC(this.options)}Lf.prototype={turndown:function(t){if(!H7(t))throw new TypeError(t+" is not a string, or an element/document/fragment node.");if(t==="")return"";var e=ZC.call(this,new F7(t,this.options));return M7.call(this,e)},use:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.use(t[e]);else if(typeof t=="function")t(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(t,e){return this.rules.add(t,e),this},keep:function(t){return this.rules.keep(t),this},remove:function(t){return this.rules.remove(t),this},escape:function(t){return R7.reduce(function(e,n){return e.replace(n[0],n[1])},t)}};function ZC(t){var e=this;return Q7.call(t.childNodes,function(n,r){r=new L7(r,e.options);var i="";return r.nodeType===3?i=r.isCode?r.nodeValue:e.escape(r.nodeValue):r.nodeType===1&&(i=P7.call(e,r)),e3(n,i)},"")}function M7(t){var e=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(t=e3(t,n.append(e.options)))}),t.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function P7(t){var e=this.rules.forNode(t),n=ZC.call(this,t),r=t.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+e.replacement(n,t,this.options)+r.trailing}function e3(t,e){var n=w7(t),r=b7(e),i=Math.max(t.length-n.length,e.length-r.length),s=`

`.substring(0,i);return n+s+r}function H7(t){return t!=null&&(typeof t=="string"||t.nodeType&&(t.nodeType===1||t.nodeType===9||t.nodeType===11))}const j7=new ii("proofreading"),K7=Tr.create({name:"proofreadingDecoration",addOptions(){return{suggestions:[]}},addProseMirrorPlugins(){return[new gr({key:j7,props:{decorations:t=>{const e=[],{doc:n}=t,r=this.options.suggestions;return n.descendants((i,s)=>{if(!i.isText)return;const a=i.text||"";r.forEach(({original:o,change:A})=>{let u=0;for(;u<a.length;){const l=a.indexOf(o,u);if(l===-1)break;const c=s+l,f=c+o.length;e.push(yi.inline(c,f,{class:"proofreading-mark",nodeName:"span","data-original":o,"data-suggestion":A,"data-from":c,"data-to":f})),u=l+o.length}})}),Ar.create(n,e)}}})]}});function V7(t){const[e,n]=Ve.useState(null),r=Ve.useRef(null);return Ve.useEffect(()=>{if(!t)return;const a=o=>{const A=o.target.closest(".proofreading-mark");A&&A.dataset.suggestion?n(A):n(null)};return t.view.dom.addEventListener("mousedown",a),()=>t.view.dom.removeEventListener("mousedown",a)},[t]),{activeSpan:e,bubbleRef:r,applyChange:()=>{var l,c,f;if(!e||!t){console.error("Cannot apply change: activeSpan or editor is null");return}const a=Number(e.dataset.from),o=Number(e.dataset.to),A=e.dataset.suggestion,u=e.dataset.original;if(!A||isNaN(a)||isNaN(o)){console.error("Invalid data attributes:",{from:a,to:o,suggestion:A,original:u});return}try{t.chain().focus().deleteRange({from:a,to:o}).insertContent(A).run();const d=((f=(c=(l=t.extensionManager.extensions.find(T=>T.name==="proofreadingDecoration"))==null?void 0:l.options)==null?void 0:c.suggestions)==null?void 0:f.filter(T=>T.original!==u))||[],w=t.extensionManager.extensions.find(T=>T.name==="proofreadingDecoration");w&&(w.options.suggestions=d,t.view.dispatch(t.state.tr)),n(null)}catch(d){console.error("Error applying change:",d)}},rejectChange:()=>{var o,A,u;if(!e||!t){console.error("Cannot reject change: activeSpan or editor is null");return}const a=e.dataset.original;if(!a){console.error("No original data attribute found");return}try{const l=((u=(A=(o=t.extensionManager.extensions.find(f=>f.name==="proofreadingDecoration"))==null?void 0:o.options)==null?void 0:A.suggestions)==null?void 0:u.filter(f=>f.original!==a))||[],c=t.extensionManager.extensions.find(f=>f.name==="proofreadingDecoration");c&&(c.options.suggestions=l,t.view.dispatch(t.state.tr)),n(null)}catch(l){console.error("Error rejecting change:",l)}}}}Ga.setOptions({gfm:!0,breaks:!0,headerIds:!1,mangle:!1});const Wb=[{label:"Arial",value:"font-arial"},{label:"Georgia",value:"font-georgia"},{label:"Mono",value:"font-mono"},{label:"Comic Sans",value:"font-comic"}],z7=({blog:t,activeTab:e,setActiveTab:n,content:r,setContent:i,title:s,proofreadingResults:a,handleReplace:o,isSavingKeyword:A})=>{var xe,ge,le;const[u,l]=Ve.useState(!0),[c,f]=Ve.useState(Wb[0].value),[d,w]=Ve.useState(!1),[T,D]=Ve.useState(!1),[N,M]=Ve.useState(""),[q,j]=Ve.useState(""),[J,H]=Ve.useState(""),[ve,De]=Ve.useState(!1),[Fe,me]=Ve.useState(!1),[qe,Me]=Ve.useState(null),[Ke,tt]=Ve.useState(!1),[st,gt]=Ve.useState(null),[mt,yt]=Ve.useState(null),[Ge,ne]=Ve.useState({from:0,to:0}),[Ft,Lt]=Ve.useState(!1),[pe,vt]=Ve.useState(null),[Kt,Nt]=Ve.useState(!1),[Mt,Rt]=Ve.useState(null),[xn,En]=Ve.useState(""),Jt=Ve.useRef(null),mn=Ve.useRef(null),Gn=Ve.useRef(null),[Zn,fr]=Ve.useState({top:0,left:0}),On=W0(),{handlePopup:kn}=vy(),Qn=qa(x=>x.auth.user),an=(ge=Qn==null?void 0:Qn.plan)!=null?ge:(xe=Qn==null?void 0:Qn.subscription)==null?void 0:xe.plan,Vt=Ve.useRef(!1),Dt=Ty(),Yt=Ve.useRef(null),bn=Dt.pathname===`/blog-editor/${t==null?void 0:t._id}`,[zt,An]=Ve.useState(!1),[se,Oe]=Ve.useState(null),We=Gf(),nt=(le=r!=null?r:t==null?void 0:t.content)!=null?le:"",pt=Ve.useCallback(x=>{if(!x)return"<p></p>";try{const G=Ga.parse(x),ce=new DOMParser().parseFromString(G,"text/html");return ce.querySelectorAll("script").forEach(de=>de.remove()),ce.body.innerHTML}catch(G){return console.warn("Failed to parse markdown:",G),`<p>${x}</p>`}},[]),Bt=Ve.useCallback(x=>{if(!x)return"";try{const W=new DOMParser().parseFromString(x,"text/html");W.querySelectorAll("script").forEach(ye=>ye.remove());const ce=W.body.innerHTML,de=new Lf({strongDelimiter:"**",emDelimiter:"*",headingStyle:"atx",bulletListMarker:"-",codeDelimiter:"```",fence:"```",hr:"---"});return de.addRule("heading",{filter:["h1","h2","h3","h4","h5","h6"],replacement:function(ye,X){const Q=parseInt(X.nodeName.charAt(1));return`
`+"#".repeat(Q)+" "+ye+`

`}}),de.addRule("list",{filter:["ul","ol"],replacement:function(ye,X){return`
`+ye+`
`}}),de.addRule("listItem",{filter:"li",replacement:function(ye,X){return(X.parentNode.nodeName==="OL"?"1. ":"- ")+ye.trim()+`
`}}),de.turndown(x)}catch(G){return console.warn("Failed to convert HTML to markdown:",G),x}},[]),fn=Ve.useMemo(()=>nt?Ga.parse(nt,{gfm:!0}):"<p></p>",[nt]),et=$F({extensions:[ZN.configure({heading:{levels:[1,2,3]},bold:{HTMLAttributes:{class:"font-bold"}}}),CU.configure({HTMLAttributes:{class:"text-blue-600 underline"}}),TU.configure({HTMLAttributes:{class:"rounded-lg mx-auto w-3/4 h-auto object-contain",style:"display: block;;"}}),SU,IU.configure({types:["heading","paragraph"]}),K7.configure({suggestions:a})],content:fn,onUpdate:({editor:x})=>{const G=x.getHTML(),W=Bt(G);W!==nt&&(i(W),Nt(!0))},editorProps:{attributes:{class:`prose max-w-none focus:outline-none p-4 min-h-[400px] opacity-100 ${c} blog-content editor-container`}},onSelectionUpdate:({editor:x})=>{const{from:G,to:W}=x.state.selection;ne({from:G,to:W})}},[c,a,Bt,i]),{activeSpan:Be,bubbleRef:Ze,applyChange:At,rejectChange:bt}=V7(et);Ve.useEffect(()=>{(()=>{if(e==="Normal"&&et){const G=et.view.dom;G&&(G.scrollTop=0)}else if(e==="Markdown"){const G=mn.current;G&&(G.scrollTop=0)}else if(e==="HTML"){const G=Jt.current;G&&(G.scrollTop=0)}})()},[e,et]),Ve.useEffect(()=>{l(!0);const x=setTimeout(()=>{l(!1),et&&e==="Normal"&&et.commands.focus()},300);return()=>clearTimeout(x)},[e,et]),Ve.useEffect(()=>{(t==null?void 0:t.status)==="failed"&&!Vt.current&&(wt.error("Your blog generation failed. You can write blog manually."),Vt.current=!0)},[t==null?void 0:t.status]),Ve.useEffect(()=>{const x=document.createElement("style");return x.id="text-editor-styles",x.textContent=`
      .font-arial { font-family: Arial, sans-serif; }
      .font-georgia { font-family: Georgia, serif; }
      .font-mono { font-family: 'SF Mono', monospace; }
      .font-comic { font-family: "Comic Sans MS", cursive; }
      .bubble-menu {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        padding: 0.25rem;
        display: flex;
        gap: 0.25rem;
        z-index: 50;
      }
      .suggestion-highlight {
        background: #fefcbf;
        cursor: pointer;
      }
      .editor-container {
        width: 100% !important;
        background: white;
      }
      .editor-container h1 {
        font-size: 1.5rem;
      }
      .editor-container h2 {
        font-size: 1.25rem;
      }
      .editor-container h3 {
        font-size: 1rem;
      }
      .editor-container ul, .editor-container ol {
        margin: 1rem 0;
        padding-left: 1.5rem;
      }
      .editor-container ul {
        list-style-type: disc;
      }
      .editor-container ol {
        list-style-type: decimal;
      }
      .editor-container li {
        margin: 0.5rem 0;
      }
      .editor-container p {
        color: #374151;
      }
      .editor-container strong {
        font-weight: bold;
        color: #1f2937;
      }
      .editor-container em {
        font-style: italic;
      }
      .editor-container a {
        color: #2563eb;
        text-decoration: underline;
        position: relative;
      }
      .editor-container a:hover {
        color: #1d4ed8;
      }
      .editor-container img {
        display: block;
        margin: 1.5rem auto;
        max-width: 100%;
        height: auto;
        border-radius: 0.5rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }
      .editor-tab {
        padding: 0.75rem 1.5rem;
        font-weight: 500;
        border-bottom: 2px solid transparent;
        color: #6b7280;
        transition: all 0.2s ease;
        cursor: pointer;
      }
      .editor-tab:hover {
        color: #3b82f6;
        background: #f8fafc;
      }
      .editor-tab.active {
        color: #3b82f6;
        border-bottom-color: #3b82f6;
        background: white;
      }
      .code-textarea {
        font-family: 'SF Mono', monospace;
        font-size: 14px;
        border: none;
        outline: none;
        resize: none;
        background: #f8fafc;
        color: #1f2937;
        padding: 1.5rem;
        border-radius: 0.5rem;
        white-space: pre-wrap;
      }
      .code-textarea:focus {
        background: white;
        box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
      }
      .suggestion-tooltip {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
        padding: 0.75rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        z-index: 60;
        max-width: 300px;
        font-size: 0.875rem;
      }
      .proof-ui-bubble {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
        padding: 0.5rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        z-index: 60;
      }
    `,document.head.appendChild(x),()=>{const G=document.getElementById("text-editor-styles");G&&G.parentNode&&G.parentNode.removeChild(G)}},[]),Ve.useEffect(()=>{if(et&&e==="Normal"&&!et.isDestroyed){const x=et.getHTML(),G=pt(nt);if(x!==G){const{from:W,to:ce}=et.state.selection;et.commands.setContent(G,!1),et.commands.setTextSelection({from:W,to:ce})}}},[nt,e,et,pt]),Ve.useEffect(()=>{if(et){const x=et.extensionManager.extensions.find(G=>G.name==="proofreadingDecoration");x&&(x.options.suggestions=a,et.view.dispatch(et.view.state.tr))}},[a,et]),Ve.useEffect(()=>{if(et)return me(!0),()=>{et.isDestroyed||et.destroy()}},[et]),Ve.useEffect(()=>{e==="HTML"&&!ve&&requestAnimationFrame(()=>g7.highlightAll())},[nt,e,ve]),Ve.useEffect(()=>{var G;const x=(G=t==null?void 0:t.content)!=null?G:"";if(nt!==x&&i(x),et&&!et.isDestroyed&&e==="Normal"){const W=x?Ga.parse(x,{gfm:!0}):"<p></p>";if(et.getHTML()!==W){const{from:ce,to:de}=et.state.selection;et.commands.setContent(W,!1),et.commands.setTextSelection({from:ce,to:de})}}},[t,et,e,i]),Ve.useEffect(()=>{e==="HTML"&&En(pt(nt).replace(/>\s*</g,`>
<`))},[nt,e,pt]),Ve.useEffect(()=>{const x=G=>{Gn.current&&!Gn.current.contains(G.target)&&setShowModelDropdown(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),Ve.useLayoutEffect(()=>{if(Be instanceof HTMLElement&&Ze.current){const x=Be.getBoundingClientRect(),G=Ze.current.offsetHeight,W=x.top+window.scrollY-G-8,ce=x.left+window.scrollX;fr({top:W,left:ce})}},[Be]);const It=()=>{kn({title:"Upgrade Required",description:I.jsxs(I.Fragment,{children:[I.jsx("span",{children:"Editing blogs is only available for Pro and Enterprise users."}),I.jsx("br",{}),I.jsx("span",{children:"Upgrade your plan to unlock this feature."})]}),confirmText:"Buy Now",cancelText:"Cancel",onConfirm:()=>On("/pricing")})},Tt=Ve.useCallback(x=>{if(an==="free"||an==="basic"){It();return}x()},[an,kn,On]),Fn=Ve.useCallback(()=>{if(!et||et.state.selection.empty){wt.error("Select text to link.");return}Tt(()=>{M(""),w(!0)})},[et,Tt]),Nn=Ve.useCallback(()=>{Tt(()=>{j(""),H(""),D(!0)})},[Tt]),Sr=()=>{kn(an==="free"||an==="basic"?{title:"Upgrade Required",description:"Rewrite is only available for Pro and Enterprise users.",confirmText:"Buy Now",cancelText:"Cancel",onConfirm:()=>On("/pricing")}:{title:"Retry Blog Generation",description:`Are you sure you want to retry generating this blog?
It will be of 10 credits`,onConfirm:h})},Wn=Ve.useCallback(()=>{if(!N||!/https?:\/\//i.test(N)){wt.error("Enter a valid URL.");return}if(et){const{from:x,to:G}=et.state.selection;et.chain().focus().setLink({href:N,target:"_blank",rel:"noopener noreferrer"}).setTextSelection({from:x,to:G}).run(),w(!1),wt.success("Link added.")}},[N,et]),b=Ve.useCallback((x,G,W)=>{const ce=W.current;if(!ce)return;const de=ce.selectionStart,_e=ce.selectionEnd,ye=ce.value.substring(de,_e),X=`${x}${ye}${G}`,Q=ce.value.substring(0,de)+X+ce.value.substring(_e);i(Q),Nt(!0),requestAnimationFrame(()=>{const ie=de+x.length+ye.length;ce.setSelectionRange(ie,ie),ce.focus()})},[i]),F=Ve.useCallback(()=>{if(!q||!/https?:\/\//i.test(q)){wt.error("Enter a valid image URL.");return}if(q.includes("<script")||q.includes("<\/script")){wt.error("Script tags are not allowed in image URLs.");return}if(e==="Normal"&&et){const{from:x}=et.state.selection;et.chain().focus().setImage({src:q,alt:J}).setTextSelection(x).run(),D(!1),wt.success("Image added.")}else if(e==="Markdown"){const x=`![${J}](${q})`;b(x,"",mn),D(!1),wt.success("Image added.")}else if(e==="HTML"){const x=`<img src="${q}" alt="${J}" />`;b(x,"",Jt),D(!1),wt.success("Image added.")}},[q,J,et,e,b]),O=Ve.useCallback(x=>{const G=x.target;if(G.selectionStart!==G.selectionEnd){const W=G.getBoundingClientRect(),ce=window.pageYOffset||document.documentElement.scrollTop;Me({top:W.top+ce-40,left:W.left+10})}else Me(null)},[]),m=()=>Ci(null,null,function*(){if(!(t!=null&&t._id)){wt.error("Blog ID is missing.");return}if(!et&&e==="Normal"){wt.error("Editor is not initialized.");return}let x,G,W;if(e==="Normal"){const de=et.state.selection;if(G=de.from,W=de.to,G===W){wt.error("Please select some text to retry.");return}x=et.state.doc.textBetween(G,W,`
`)}else{const _e=(e==="Markdown"?mn:Jt).current;if(!_e){wt.error("Editor is not initialized.");return}if(G=_e.selectionStart,W=_e.selectionEnd,G===W){wt.error("Please select some text to retry.");return}x=_e.value.substring(G,W)}yt(x),ne({from:G,to:W});const ce={contentPart:x.trim()};et&&et.commands.blur();try{tt(!0);const de=yield Sy(t._id,ce);de.data?(gt(de.data),Lt(!0)):wt.error("No content received from retry.")}catch(de){console.error("Retry failed:",de),wt.error(de.message||"Retry failed.")}finally{tt(!1)}}),h=()=>Ci(null,null,function*(){if(!(t!=null&&t._id)){wt.error("Blog ID is missing.");return}const x={createNew:!0};try{yield We(J4({id:t._id,payload:x})),On("/blogs")}catch(G){console.error("Retry failed:",G),wt.error(G.message||"Retry failed.")}}),g=()=>{if(st){if(e==="Normal"&&et){const x=pt(st);et.chain().focus().deleteRange({from:Ge.from,to:Ge.to}).insertContentAt(Ge.from,x).setTextSelection({from:Ge.from,to:Ge.from+x.length}).run()}else{const G=(e==="Markdown"?mn:Jt).current;i(W=>{const ce=W.substring(0,Ge.from)+st+W.substring(Ge.to);return G&&requestAnimationFrame(()=>{G.setSelectionRange(Ge.from,Ge.from+st.length),G.focus()}),ce})}wt.success("Selected lines replaced successfully!"),Lt(!1),gt(null),yt(null),ne({from:0,to:0}),Nt(!0)}},y=()=>{Lt(!1),gt(null),yt(null),ne({from:0,to:0}),wt.info("Retry content discarded.")},B=Ve.useCallback(x=>{if(x.target.tagName==="IMG"){const{src:G,alt:W}=x.target;Oe({src:G,alt:W||""}),H(W||""),An(!0)}},[]);Ve.useEffect(()=>{var x;if(((x=t==null?void 0:t.images)==null?void 0:x.length)>0){let G=nt;(nt.match(/{Image:.*?}/g)||[]).forEach((ce,de)=>{const _e=t.images[de];_e!=null&&_e.url&&(G=G.replace(ce,`![${_e.alt||"Image"}](${_e.url})`))}),i(G)}},[t,nt,i]);const E=Ve.useCallback(()=>{if(se){if(e==="Normal"&&et){let x=!1;et.state.doc.descendants((G,W)=>{G.type.name==="image"&&G.attrs.src===se.src&&(et.chain().focus().deleteRange({from:W,to:W+1}).run(),x=!0)}),x?(wt.success("Image deleted."),An(!1),Oe(null),H(""),Nt(!0)):wt.error("Failed to delete image.")}else if(e==="Markdown"){const x=new RegExp(`!\\[${U(se.alt||"")}\\]\\(${U(se.src)}\\)`,"g");i(G=>{const W=G.replace(x,"");return Nt(!0),W}),wt.success("Image deleted."),An(!1),Oe(null),H("")}else if(e==="HTML"){const x=new RegExp(`<img\\s+src="${U(se.src)}"\\s+alt="${U(se.alt||"")}"\\s*/>`,"g");i(G=>{const ce=pt(G).replace(x,""),de=Bt(ce);return Nt(!0),de}),wt.success("Image deleted."),An(!1),Oe(null),H("")}}},[se,et,e,i,pt,Bt]);Ve.useEffect(()=>{if(et&&e==="Normal"){const x=et.view.dom;return x.addEventListener("click",B),()=>{x.removeEventListener("click",B)}}},[et,e,B]);const k=Ve.useCallback(()=>{if(!se||!J){wt.error("Alt text is required.");return}if(e==="Normal"&&et){let x=!1;et.state.doc.descendants((G,W)=>{G.type.name==="image"&&G.attrs.src===se.src&&(et.chain().focus().setNodeSelection(W).setImage({src:se.src,alt:J}).run(),x=!0)}),x?(wt.success("Image alt text updated."),An(!1),Oe(null),H(""),Nt(!0)):wt.error("Failed to update image alt text.")}else if(e==="Markdown"){const x=new RegExp(`!\\[${U(se.alt||"")}\\]\\(${U(se.src)}\\)`,"g"),G=`![${J}](${se.src})`;i(W=>{const ce=W.replace(x,G);return Nt(!0),ce}),wt.success("Image alt text updated."),An(!1),Oe(null),H("")}else if(e==="HTML"){const x=new RegExp(`<img\\s+src="${U(se.src)}"\\s+alt="${U(se.alt||"")}"\\s*/>`,"g"),G=`<img src="${se.src}" alt="${J}" />`;i(W=>{const de=pt(W).replace(x,G),_e=Bt(de);return Nt(!0),_e}),wt.success("Image alt text updated."),An(!1),Oe(null),H("")}},[se,J,et,e,i,pt,Bt]),U=x=>x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),v=Ve.useCallback(x=>{Kt?Rt(x):n(x)},[Kt,n]),S=Ve.useCallback(()=>{Nt(!1),n(Mt),Rt(null)},[Mt,n]),_=Ve.useCallback(()=>{Rt(null)},[]),L=x=>!!new DOMParser().parseFromString(x,"text/html").querySelector("script"),R=Ve.useCallback(x=>{const G=x.target.files[0];if(!G)return;const W=e==="Markdown"&&G.name.endsWith(".md"),ce=e==="HTML"&&G.name.endsWith(".html");if(!W&&!ce){wt.error(`Please upload a ${e==="Markdown"?".md":".html"} file.`);return}const de=new FileReader;de.onload=_e=>{let ye=_e.target.result;if(ce&&L(ye)){wt.error("Script tags are not allowed in imported HTML content for security reasons.");return}i(ye),Nt(!0),wt.success(`${G.name} imported successfully!`)},de.onerror=()=>{wt.error("Failed to read the file.")},de.readAsText(G),x.target.value=null},[e,i]),K=({editorRef:x,mode:G})=>{if(!qe||!x.current)return null;const W={Markdown:[{icon:I.jsx(xl,{className:"w-4 h-4"}),action:()=>Tt(()=>b("**","**",x))},{icon:I.jsx(El,{className:"w-4 h-4"}),action:()=>Tt(()=>b("*","*",x))},{icon:I.jsx(CA,{className:"w-4 h-4"}),action:()=>Tt(()=>b("[","](url)",x))},{icon:I.jsx(ka,{className:"w-4 h-4"}),action:Nn}],HTML:[{icon:I.jsx(xl,{className:"w-4 h-4"}),action:()=>Tt(()=>b("<strong>","</strong>",x))},{icon:I.jsx(El,{className:"w-4 h-4"}),action:()=>Tt(()=>b("<em>","</em>",x))},{icon:I.jsx(CA,{className:"w-4 h-4"}),action:()=>Tt(()=>b('<a href="url">',"</a>",x))},{icon:I.jsx(ka,{className:"w-4 h-4"}),action:Nn}]};return I.jsx(jn.div,{className:"absolute flex gap-2 bg-white shadow-lg p-2 rounded border z-50",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:qe,children:W[G].map((ce,de)=>I.jsx(Tn,{title:ce.icon.type.name,children:I.jsx("button",{onClick:ce.action,className:"p-1 rounded hover:bg-gray-100",children:ce.icon})},de))})},$=Ve.useCallback(x=>x.trim().startsWith("<!DOCTYPE html>")||x.trim().startsWith("<html"),[]),Z=()=>{kn(an==="free"||an==="basic"?{title:"Upgrade Required",description:"Rewrite is only available for Pro and Enterprise users.",confirmText:"Buy Now",cancelText:"Cancel",onConfirm:()=>On("/pricing")}:{title:"Rewrite Selected Lines",description:"Do you want to rewrite the selected lines? You can rewrite only 3 times.",onConfirm:m})},Ae=()=>I.jsxs("div",{className:"bg-white border-x border-gray-200 shadow-sm px-4 py-2 flex items-center",children:[I.jsx("div",{className:"flex gap-1",children:[1,2,3].map(x=>I.jsx(Tn,{title:`Heading ${x}`,children:I.jsxs("button",{onClick:()=>Tt(()=>{e==="Normal"?et.chain().focus().toggleHeading({level:x}).run():e==="HTML"?b(`<h${x}>`,`</h${x}>`,Jt):b(`${"#".repeat(x)} `,"",mn)}),className:`p-2 rounded-md transition-colors duration-150 flex items-center justify-center ${e==="Normal"&&(et!=null&&et.isActive("heading",{level:x}))?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,"aria-label":`Heading ${x}`,type:"button",children:[x===1&&I.jsx(Uv,{className:"w-4 h-4"}),x===2&&I.jsx(Wm,{className:"w-4 h-4"}),x===3&&I.jsx(_v,{className:"w-4 h-4"})]})},x))}),I.jsx("div",{className:"w-px h-6 bg-gray-200 mx-2"}),I.jsxs("div",{className:"flex gap-1",children:[I.jsx(Tn,{title:"Bold",children:I.jsx("button",{onClick:()=>Tt(()=>{e==="Normal"?et.chain().focus().toggleBold().run():e==="HTML"?b("<strong>","</strong>",Jt):b("**","**",mn)}),className:`p-2 rounded-md transition-colors duration-150 flex items-center justify-center ${e==="Normal"&&(et!=null&&et.isActive("bold"))?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,"aria-label":"Bold",type:"button",children:I.jsx(xl,{className:"w-4 h-4"})})}),I.jsx(Tn,{title:"Italic",children:I.jsx("button",{onClick:()=>Tt(()=>{e==="Normal"?et.chain().focus().toggleItalic().run():e==="HTML"?b("<em>","</em>",Jt):b("*","*",mn)}),className:`p-2 rounded-md transition-colors duration-150 flex items-center justify-center ${e==="Normal"&&(et!=null&&et.isActive("italic"))?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,"aria-label":"Italic",type:"button",children:I.jsx(El,{className:"w-4 h-4"})})}),I.jsx(Tn,{title:"Underline",children:I.jsx("button",{onClick:()=>Tt(()=>{e==="Normal"?et.chain().focus().toggleUnderline().run():e==="HTML"?b("<u>","</u>",Jt):b("<u>","</u>",mn)}),className:`p-2 rounded-md transition-colors duration-150 flex items-center justify-center ${e==="Normal"&&(et!=null&&et.isActive("underline"))?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,"aria-label":"Underline",type:"button",children:I.jsx(t5,{className:"w-4 h-4"})})})]}),I.jsx("div",{className:"w-px h-6 bg-gray-200 mx-2"}),I.jsx("div",{className:"flex gap-1",children:["left","center"," personally"].map(x=>I.jsx(Tn,{title:`Align ${x}`,children:I.jsxs("button",{onClick:()=>Tt(()=>{e==="Normal"?et.chain().focus().setTextAlign(x).run():b(`<div style="text-align: ${x};">`,"</div>",e==="HTML"?Jt:mn)}),className:`p-2 rounded-md transition-colors duration-150 flex items-center justify-center ${e==="Normal"&&(et!=null&&et.isActive({textAlign:x}))?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,"aria-label":`Align ${x}`,type:"button",children:[x==="left"&&I.jsx(Sv,{className:"w-4 h-4"}),x==="center"&&I.jsx(vv,{className:"w-4 h-4"}),x==="right"&&I.jsx(kv,{className:"w-4 h-4"})]})},x))}),I.jsx("div",{className:"w-px h-6 bg-gray-200 mx-2"}),I.jsxs("div",{className:"flex gap-1",children:[I.jsx(Tn,{title:"Bullet List",children:I.jsx("button",{onClick:()=>Tt(()=>{e==="Normal"?et.chain().focus().toggleBulletList().run():e==="HTML"?b(`<ul>
<li>`,`</li>
</ul>`,Jt):b("- ","",mn)}),className:`p-2 rounded-md transition-colors duration-150 flex items-center justify-center ${e==="Normal"&&(et!=null&&et.isActive("bulletList"))?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,"aria-label":"Bullet List",type:"button",children:I.jsx(jv,{className:"w-4 h-4"})})}),I.jsx(Tn,{title:"Ordered List",children:I.jsx("button",{onClick:()=>Tt(()=>{e==="Normal"?et.chain().focus().toggleOrderedList().run():e==="HTML"?b(`<ol>
<li>`,`</li>
</ol>`,Jt):b("1. ","",mn)}),className:`p-2 rounded-md transition-colors duration-150 flex items-center justify-center ${e==="Normal"&&(et!=null&&et.isActive("orderedList"))?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,"aria-label":"Ordered List",type:"button",children:I.jsx(Pv,{className:"w-4 h-4"})})})]}),I.jsx("div",{className:"w-px h-6 bg-gray-200 mx-2"}),I.jsxs("div",{className:"flex gap-1",children:[I.jsx(Tn,{title:"Link",children:I.jsx("button",{onClick:Fn,className:"p-2 rounded-md hover:bg-gray-100 transition-colors duration-150 flex items-center justify-center","aria-label":"Link",type:"button",children:I.jsx(CA,{className:"w-4 h-4"})})}),I.jsx(Tn,{title:"Image",children:I.jsx("button",{onClick:Nn,className:"p-2 rounded-md hover:bg-gray-100 transition-colors duration-150 flex items-center justify-center","aria-label":"Image",type:"button",children:I.jsx(ka,{className:"w-4 h-4"})})}),I.jsx(Tn,{title:"Undo",children:I.jsx("button",{onClick:()=>Tt(()=>et==null?void 0:et.chain().focus().undo().run()),className:"p-2 rounded-md hover:bg-gray-100 transition-colors duration-150 flex items-center justify-center","aria-label":"Undo",type:"button",children:I.jsx(r5,{className:"w-4 h-4"})})}),I.jsx(Tn,{title:"Redo",children:I.jsx("button",{onClick:()=>Tt(()=>et==null?void 0:et.chain().focus().redo().run()),className:"p-2 rounded-md hover:bg-gray-100 transition-colors duration-150 flex items-center justify-center","aria-label":"Redo",type:"button",children:I.jsx(Wv,{className:"w-4 h-4"})})}),!bn&&I.jsx(Tn,{title:"Rewrite",children:I.jsx("button",{onClick:()=>Tt(()=>{kn({title:"Rewrite Selected Lines",description:"Do you want to rewrite the selected lines? You can rewrite only 3 times.",onConfirm:m})}),className:"p-2 rounded-md hover:bg-gray-100 transition-colors duration-150 flex items-center justify-center","aria-label":"Rewrite",type:"button",children:I.jsx(Km,{className:"w-4 h-4"})})}),I.jsx(Tn,{title:"Copy",children:I.jsx("button",{onClick:()=>Tt(()=>{navigator.clipboard.writeText(e==="HTML"?xn:nt),wt.success("Content copied to clipboard!")}),className:"p-2 rounded-md hover:bg-gray-100 transition-colors duration-150 flex items-center justify-center","aria-label":"Copy",type:"button",children:I.jsx(Av,{className:"w-4 h-4"})})}),!bn&&I.jsx(Tn,{title:"Regenerate Content",children:I.jsx("button",{onClick:Sr,className:"p-2 rounded-md hover:bg-gray-100 transition-colors duration-150 flex items-center justify-center","aria-label":"Regenerate",type:"button",children:I.jsx(uv,{className:"w-4 h-4"})})}),(e==="Markdown"||e==="HTML")&&I.jsx(Tn,{title:`Import ${e==="Markdown"?".md":".html"} File`,children:I.jsx("button",{onClick:()=>{var x;return(x=Yt.current)==null?void 0:x.click()},className:"p-2 rounded-md hover:bg-gray-100 transition-colors duration-150 flex items-center justify-center","aria-label":"Import File",type:"button",children:I.jsx(lv,{className:"w-4 h-4"})})})]}),(e==="Markdown"||e==="HTML")&&I.jsx("input",{type:"file",ref:Yt,style:{display:"none"},accept:e==="Markdown"?".md":".html",onChange:R}),I.jsx("div",{className:"w-px h-6 bg-gray-200 mx-2"}),I.jsx(Us,{value:c,onChange:x=>Tt(()=>f(x)),className:"w-32","aria-label":"Font",children:Wb.map(x=>I.jsx(Us.Option,{value:x.value,children:x.label},x.value))}),(e==="Markdown"||e==="HTML")&&I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"w-px h-6 bg-gray-200 mx-2"}),I.jsx(Tn,{title:ve?"Hide Preview":"Show Preview",children:I.jsx("button",{onClick:()=>De(!ve),className:`p-2 rounded-md transition-colors duration-150 flex items-center justify-center ${ve?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,"aria-label":"Toggle Preview",type:"button",children:ve?I.jsx(cv,{className:"w-4 h-4"}):I.jsx($0,{className:"w-4 h-4"})})})]})]}),he=()=>{if(u||!Fe||(t==null?void 0:t.status)==="pending")return I.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-300px)] bg-white border rounded-lg",children:I.jsx(gp,{})});if(ve&&(e==="Markdown"||e==="HTML")){if(e==="HTML"&&$(xn)){const x=Iy.sanitize(xn,{USE_PROFILES:{html:!0},ADD_TAGS:["style"],ADD_ATTR:["target"]});return I.jsx("div",{className:`p-8 rounded-lg rounded-t-none overflow-y-auto custom-scroll h-screen border border-gray-200 ${c}`,children:I.jsx("iframe",{srcDoc:x,title:"HTML Preview",sandbox:"allow-same-origin"})})}return I.jsx("div",{className:`p-8 rounded-lg rounded-t-none overflow-y-auto custom-scroll h-screen border border-gray-200 bg-white ${c}`,children:I.jsx(Ec,{remarkPlugins:[Cc],rehypePlugins:[Sc],components:{a:({href:x,children:G})=>I.jsx(Tn,{title:x,placement:"top",children:I.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:G})}),img:({src:x,alt:G})=>I.jsx("img",{src:x,alt:G,className:"rounded-lg mx-auto my-3 w-3/4 h-auto shadow-sm"}),h1:({children:x})=>I.jsx("h1",{className:"text-2xl font-bold",children:x}),h2:({children:x})=>I.jsx("h2",{className:"text-xl font-semibold",children:x}),h3:({children:x})=>I.jsx("h3",{className:"text-lg font-medium",children:x}),p:({children:x})=>I.jsx("p",{className:"mb-4 leading-relaxed text-gray-700",children:Nr.Children.map(x,(G,W)=>{if(typeof G=="string"){let ce=G,de=[],_e=0;const ye=[...a].sort((X,Q)=>Q.original.length-X.original.length);for(;ce.length>0;){let X=!1;for(const Q of ye){const ie=new RegExp(Q.original.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),z=ce.match(ie);if(z&&z.index===0){de.push(I.jsxs("span",{className:"suggestion-highlight",onMouseEnter:()=>vt(Q),onMouseLeave:()=>vt(null),children:[z[0],pe===Q&&I.jsxs("div",{className:"suggestion-tooltip",style:{top:"100%",left:0},children:[I.jsxs("p",{className:"text-sm mb-2",children:[I.jsx("strong",{children:"Suggested:"})," ",Q.change]}),I.jsx("button",{className:"bg-blue-600 text-white px-2 py-1 rounded",onClick:()=>o(Q.original,Q.change),children:"Replace"})]})]},`${W}-${_e++}`)),ce=ce.slice(z[0].length),X=!0;break}}if(!X){let Q=ce.length;for(const ie of ye){const z=new RegExp(ie.original.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),ue=ce.match(z);ue&&ue.index<Q&&(Q=ue.index)}Q===ce.length?(de.push(I.jsx("span",{children:ce},`${W}-${_e++}`)),ce=""):(de.push(I.jsx("span",{children:ce.slice(0,Q)},`${W}-${_e++}`)),ce=ce.slice(Q))}}return de}return G})}),ul:({children:x})=>I.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2 text-gray-700",children:x}),ol:({children:x})=>I.jsx("ol",{className:"list-decimal list-inside mb-4 space-y-2 text-gray-700",children:x}),li:({children:x})=>I.jsx("li",{className:"leading-relaxed",children:x}),code:_e=>{var ye=_e,{node:x,inline:G,className:W,children:ce}=ye,de=EA(ye,["node","inline","className","children"]);const X=/language-(\w+)/.exec(W||"");return!G&&X?I.jsx("pre",{className:"bg-gray-800 text-white p-4 rounded-lg",children:I.jsx("code",_t(Ie({className:W},de),{children:ce}))}):I.jsx("code",_t(Ie({className:"bg-gray-100 text-red-600 px-1 rounded"},de),{children:ce}))}},children:nt})})}return I.jsxs("div",{className:"bg-white border rounded-lg rounded-t-none shadow-sm",children:[e==="Normal"&&I.jsxs("div",{className:"h-screen overflow-auto custom-scroll",children:[et&&I.jsxs(XF,{editor:et,tippyOptions:{duration:100},className:"flex gap-2 bg-white shadow-lg p-2 rounded-lg border border-gray-200",children:[I.jsx(Tn,{title:"Bold",placement:"top",children:I.jsx("button",{className:"p-2 rounded hover:bg-gray-200 text-gray-600",onClick:()=>{Tt(()=>{et.chain().focus().toggleBold().run()})},children:I.jsx(xl,{className:"w-5 h-5"})})}),I.jsx(Tn,{title:"Italic",placement:"top",children:I.jsx("button",{className:"p-2 rounded hover:bg-gray-200 text-gray-600",onClick:()=>{Tt(()=>{et.chain().focus().toggleItalic().run()})},children:I.jsx(El,{className:"w-5 h-5"})})}),I.jsx(Tn,{title:"Heading",placement:"top",children:I.jsx("button",{className:"p-2 rounded hover:bg-gray-200 text-gray-600",onClick:()=>{Tt(()=>{et.chain().focus().toggleHeading({level:2}).run()})},children:I.jsx(Wm,{className:"w-5 h-5"})})}),I.jsx(Tn,{title:"Link",placement:"top",children:I.jsx("button",{className:"p-2 rounded hover:bg-gray-200 text-gray-600",onClick:Fn,children:I.jsx(CA,{className:"w-5 h-5"})})}),I.jsx(Tn,{title:"Image",placement:"top",children:I.jsx("button",{className:"p-2 rounded hover:bg-gray-200 text-gray-600",onClick:Nn,children:I.jsx(ka,{className:"w-5 h-5"})})}),!bn&&I.jsx(Tn,{title:"Rewrite",placement:"top",children:I.jsx("button",{className:"p-2 rounded hover:bg-gray-200 text-gray-600",onClick:Z,children:I.jsx(Km,{className:"w-4 h-4"})})})]}),I.jsx(MF,{editor:et}),Be instanceof HTMLElement&&I.jsxs("div",{className:"proof-ui-bubble",ref:Ze,style:{position:"absolute",top:Zn.top,left:Zn.left},children:[I.jsxs("div",{style:{marginBottom:4},children:["Replace with: ",I.jsx("strong",{children:Be.dataset.suggestion})]}),I.jsx("button",{onClick:At,children:" Accept"}),I.jsx("button",{onClick:bt,style:{marginLeft:6},children:" Reject"})]})]}),e==="Markdown"&&I.jsxs("div",{className:"h-screen",children:[I.jsx("textarea",{ref:mn,value:nt,onChange:x=>{i(x.target.value),Nt(!0)},onMouseUp:O,onKeyUp:O,className:`w-full h-full p-4 text-sm focus:outline-none resize-none bg-white code-textarea custom-scroll ${c}`,placeholder:"Enter Markdown here...\\nUse # for headings, **bold**, *italic*, - for lists",style:{whiteSpace:"pre-wrap",lineHeight:"1.5"}}),I.jsx(K,{editorRef:mn,mode:"Markdown"})]}),e==="HTML"&&I.jsxs("div",{className:"h-screen",children:[I.jsx("textarea",{ref:Jt,value:xn,onChange:x=>{i(x.target.value),Nt(!0)},onMouseUp:O,onKeyUp:O,className:"w-full h-full font-mono text-sm p-4 focus:outline-none resize-none bg-white code-textarea custom-scroll",placeholder:"<h1>HTML Title</h1>\\n<p>Paragraph with <a href='https://example.com'>link</a></p>\\n<img src='image.jpg' alt='description' />",style:{whiteSpace:"pre-wrap",lineHeight:"1.5"}}),I.jsx(K,{editorRef:Jt,mode:"HTML"})]})]})};return I.jsxs(jn.div,{className:"flex-1 bg-gray-50",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[(Ke||A)&&I.jsx(jn.div,{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},children:I.jsx(gp,{})}),Ft&&I.jsx(jn.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:I.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[I.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Generated Content"}),I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Original Text"}),I.jsx("div",{className:"p-4 bg-gray-100 rounded-md",children:I.jsx(Ec,{remarkPlugins:[Cc],rehypePlugins:[Sc],className:"prose",components:{a:({href:x,children:G})=>I.jsx(Tn,{title:x,placement:"top",children:I.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:G})}),strong:({children:x})=>I.jsx("strong",{className:"font-bold",children:x})},children:mt||"No text selected"})})]}),I.jsxs("div",{children:[I.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Improved Text"}),I.jsx("div",{className:"p-4 bg-gray-50 rounded-md",children:I.jsx(Ec,{remarkPlugins:[Cc],rehypePlugins:[Sc],className:"prose",components:{a:({href:x,children:G})=>I.jsx(Tn,{title:x,placement:"top",children:I.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:G})}),strong:({children:x})=>I.jsx("strong",{className:"font-bold",children:x})},children:st})})]})]}),I.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[I.jsx("button",{onClick:y,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Reject"}),I.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Accept"})]})]})}),Mt&&I.jsx(Os,{title:"Unsaved Changes",open:!0,onOk:S,onCancel:_,okText:"Continue without Saving",cancelText:"Cancel",centered:!0,children:I.jsx("p",{className:"text-sm text-gray-600",children:"You have unsaved changes. Switching tabs may cause you to lose your work. Are you sure you want to continue?"})}),!bn&&I.jsx("div",{className:"flex border-b bg-white shadow-sm border-x",children:["Normal","Markdown","HTML"].map(x=>I.jsx("button",{onClick:()=>v(x),className:`editor-tab ${e===x?"active":""}`,children:x},x))}),Ae(),he(),I.jsxs(Os,{title:"Insert Link",open:d,onOk:Wn,onCancel:()=>w(!1),okText:"Insert Link",cancelText:"Cancel",centered:!0,children:[I.jsx(ia,{value:N,onChange:x=>M(x.target.value),placeholder:"https://example.com",className:"w-full mt-4",prefix:I.jsx(CA,{className:"w-4 h-4 text-gray-400"})}),I.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Include http:// or https://"})]}),I.jsxs(Os,{title:"Edit Image Alt Text",open:zt,onOk:k,onCancel:()=>{An(!1),Oe(null),H("")},okText:"Update Alt Text",cancelText:"Cancel",footer:[I.jsx(Mr,{onClick:E,danger:!0,icon:I.jsx(ov,{className:"w-4 h-4"}),children:"Delete Image"},"delete"),I.jsx(Mr,{onClick:()=>{An(!1),Oe(null),H("")},children:"Cancel"},"cancel"),I.jsx(Mr,{type:"primary",onClick:k,children:"Update Alt Text"},"ok")],centered:!0,children:[I.jsx(ia,{value:J,onChange:x=>H(x.target.value),placeholder:"Image description",className:"w-full mt-4",prefix:I.jsx(ka,{className:"w-4 h-4 text-gray-400"})}),I.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Provide alt text for accessibility"}),se&&I.jsx("div",{className:"mt-4",children:I.jsx("img",{src:se.src,alt:J||se.alt,className:"max-w-full h-auto rounded-lg"})})]}),I.jsxs(Os,{title:"Insert Image",open:T,onOk:F,onCancel:()=>D(!1),okText:"Insert Image",cancelText:"Cancel",centered:!0,children:[I.jsx(ia,{value:q,onChange:x=>j(x.target.value),placeholder:"https://example.com/image.jpg",className:"w-full mt-4",prefix:I.jsx(ka,{className:"w-4 h-4 text-gray-400"})}),I.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Include http:// or https://"}),I.jsx(ia,{value:J,onChange:x=>H(x.target.value),placeholder:"Image description",className:"w-full mt-4",prefix:I.jsx(ka,{className:"w-4 h-4 text-gray-400"})}),I.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Provide alt text for accessibility"})]})]})},q7=["Blogging","Technology","Lifestyle","Travel","Food & Drink","Health & Wellness","Fashion","Business","Education","Entertainment","Photography","Fitness","Marketing","Finance","DIY & Crafts"],G7=({isCategoryModalOpen:t,setIsCategoryModalOpen:e,onSubmit:n,initialCategory:r="",initialIncludeTableOfContents:i=!1})=>{const[s,a]=Ve.useState(""),[o,A]=Ve.useState(r),[u,l]=Ve.useState(i),[c,f]=Ve.useState(!1),{categories:d,error:w}=qa(J=>J.wordpress),T=Ve.useCallback(J=>{if(o){wt.error("Only one category can be selected.");return}A(J),f(!1)},[o]),D=Ve.useCallback(()=>{A(""),f(!1)},[]);Ve.useCallback(()=>{if(s.trim()){if(o===s.trim()){wt.error("Category already selected.");return}A(s.trim()),a(""),f(!1)}},[s,o]);const N=Ve.useCallback(J=>{l(J.target.checked)},[]),M=Ve.useCallback(()=>{if(!o){f(!0),wt.error("Please select a category.");return}n({category:o,includeTableOfContents:u}),e(!1),A(""),l(!1),a(""),f(!1)},[o,u,n,e]),q=Ve.useCallback(()=>{e(!1),A(""),l(!1),a(""),f(!1)},[e]),j=Ve.useCallback(J=>{if(J.length>1){wt.error("Only one category can be selected.");return}const H=J.length>0?J[0]:"";A(H),f(!1)},[]);return I.jsx(Os,{title:"Select Category",open:t,onCancel:q,footer:I.jsxs("div",{className:"flex justify-end gap-3",children:[I.jsx(Mr,{onClick:q,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-200 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-label":"Cancel category selection",children:"Cancel"}),I.jsx(Mr,{type:"primary",onClick:M,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-label":"Confirm category selection",children:"Confirm"})]}),centered:!0,width:600,children:I.jsxs("div",{className:"p-3 space-y-4",children:[I.jsx(Oc,{children:o&&I.jsxs(jn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-2 px-3 py-1.5 bg-blue-500 text-white rounded-full text-sm w-fit",children:[I.jsx("span",{className:"truncate max-w-[150px]",children:o}),I.jsx(jn.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:D,className:"text-white hover:text-gray-200","aria-label":`Remove category ${o}`,children:I.jsx(_c,{size:15})})]})}),!w&&(d==null?void 0:d.length)>0&&I.jsxs("div",{children:[I.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Auto-Generated Categories"}),I.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 overflow-y-auto p-3 rounded-md border border-indigo-200 bg-indigo-50 max-h-96",children:d.map(J=>I.jsxs(jn.div,{onClick:()=>T(J.name),whileHover:{scale:1.02,backgroundColor:"#e0e7ff"},className:`flex items-center justify-between p-3 rounded-md bg-white border ${c&&!o?"border-red-500":"border-indigo-200"} text-sm font-medium cursor-pointer transition-all duration-200 ${o===J.name?"bg-indigo-100 border-indigo-400":o?"opacity-50 cursor-not-allowed":""}`,children:[I.jsx("span",{className:"truncate",children:J.name}),!o&&I.jsx(jn.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"text-indigo-600 hover:text-indigo-700","aria-label":`Add category ${J.name}`,children:I.jsx(Dc,{size:16})})]},J.id||J.name))})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Select or Add Category"}),I.jsx(Us,{mode:"tags",placeholder:"Select or type a category",value:o?[o]:[],onChange:j,className:"w-full",allowClear:!0,showSearch:!0,filterOption:(J,H)=>H.label.toLowerCase().includes(J.toLowerCase()),options:q7.map(J=>({value:J,label:J})),dropdownStyle:{borderRadius:"8px"},popupClassName:"rounded-lg","aria-label":"Select or add a category"}),c&&!o&&I.jsx(jn.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-2 text-sm text-red-500",children:"Please select a category"})]}),I.jsxs("div",{className:"flex items-center justify-between py-2",children:[I.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Table of Contents",I.jsx("p",{className:"text-xs text-gray-500",children:"Generate a table of contents for each blog."})]}),I.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[I.jsx("input",{type:"checkbox",name:"includeTableOfContents",checked:u,onChange:N,className:"sr-only peer","aria-label":"Toggle table of contents"}),I.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})})};var KA={exports:{}},W7=KA.exports,$b;function $7(){return $b||($b=1,function(t,e){(function(n,r){t.exports=r()})(W7,function(){var n,r,i,s,a,o,A,u,l,c,f,d,w,T,D,N,M,q,j,J,H,ve,De,Fe,me,qe,Me,Ke,tt,st,gt,mt,yt,Ge,ne,Ft,Lt,pe,vt,Kt,Nt,Mt,Rt,xn,En,Jt,mn,Gn,Zn,fr,On,kn,Qn,an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},Vt=function(b){var F="1.3",O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};function m(g){var y={};this.subscribe=function(B,E,k){if(typeof E!="function")return!1;y.hasOwnProperty(B)||(y[B]={});var U=Math.random().toString(35);return y[B][U]=[E,!!k],U},this.unsubscribe=function(B){for(var E in y)if(y[E][B])return delete y[E][B],!0;return!1},this.publish=function(B){if(y.hasOwnProperty(B)){var E=Array.prototype.slice.call(arguments,1),k=[];for(var U in y[B]){var v=y[B][U];try{v[0].apply(g,E)}catch(S){b.console&&console.error("jsPDF PubSub Error",S.message,S)}v[1]&&k.push(U)}k.length&&k.forEach(this.unsubscribe)}}}function h(g,y,B,E){var k={};(g===void 0?"undefined":an(g))==="object"&&(g=(k=g).orientation,y=k.unit||y,B=k.format||B,E=k.compress||k.compressPdf||E),y=y||"mm",B=B||"a4",g=(""+(g||"P")).toLowerCase(),(""+B).toLowerCase();var U,v,S,_,L,R,K,$,Z,Ae,he,xe=!!E&&typeof Uint8Array=="function",ge=k.textColor||"0 g",le=k.drawColor||"0 G",x=k.fontSize||16,G=k.charSpace||0,W=k.R2L||!1,ce=k.lineHeight||1.15,de=k.lineWidth||.200025,_e="00000000000000000000000000000000",ye=2,X=!1,Q=[],ie={},z={},ue=0,oe=[],Ne=[],be=[],Qe=[],Te=[],V=0,ee=0,C=0,P={title:"",subject:"",author:"",keywords:"",creator:""},Y={},ae=new m(Y),ke=k.hotfixes||[],Le=function(te){var Ue,He=te.ch1,Ee=te.ch2,Ce=te.ch3,Re=te.ch4,$e=(te.precision,te.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"]);if(typeof He=="string"&&He.charAt(0)!=="#"){var Je=new RGBColor(He);Je.ok&&(He=Je.toHex())}if(typeof He=="string"&&/^#[0-9A-Fa-f]{3}$/.test(He)&&(He="#"+He[1]+He[1]+He[2]+He[2]+He[3]+He[3]),typeof He=="string"&&/^#[0-9A-Fa-f]{6}$/.test(He)){var ut=parseInt(He.substr(1),16);He=ut>>16&255,Ee=ut>>8&255,Ce=255&ut}if(Ee===void 0||Re===void 0&&He===Ee&&Ee===Ce)if(typeof He=="string")Ue=He+" "+$e[0];else switch(te.precision){case 2:Ue=rt(He/255)+" "+$e[0];break;case 3:default:Ue=Et(He/255)+" "+$e[0]}else if(Re===void 0||(Re===void 0?"undefined":an(Re))==="object"){if(typeof He=="string")Ue=[He,Ee,Ce,$e[1]].join(" ");else switch(te.precision){case 2:Ue=[rt(He/255),rt(Ee/255),rt(Ce/255),$e[1]].join(" ");break;default:case 3:Ue=[Et(He/255),Et(Ee/255),Et(Ce/255),$e[1]].join(" ")}Re&&Re.a===0&&(Ue=["255","255","255",$e[1]].join(" "))}else if(typeof He=="string")Ue=[He,Ee,Ce,Re,$e[2]].join(" ");else switch(te.precision){case 2:Ue=[rt(He),rt(Ee),rt(Ce),rt(Re),$e[2]].join(" ");break;case 3:default:Ue=[Et(He),Et(Ee),Et(Ce),Et(Re),$e[2]].join(" ")}return Ue},je=function(te){var Ue=function(Je){return("0"+parseInt(Je)).slice(-2)},He=te.getTimezoneOffset(),Ee=He<0?"+":"-",Ce=Math.floor(Math.abs(He/60)),Re=Math.abs(He%60),$e=[Ee,Ue(Ce),"'",Ue(Re),"'"].join("");return["D:",te.getFullYear(),Ue(te.getMonth()+1),Ue(te.getDate()),Ue(te.getHours()),Ue(te.getMinutes()),Ue(te.getSeconds()),$e].join("")},Xe=function(te){var Ue;return(te===void 0?"undefined":an(te))===void 0&&(te=new Date),Ue=(te===void 0?"undefined":an(te))==="object"&&Object.prototype.toString.call(te)==="[object Date]"?je(te):/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|\-0[0-9]|\-1[0-1])\'(0[0-9]|[1-5][0-9])\'?$/.test(te)?te:je(new Date),Ae=Ue},ze=function(te){var Ue=Ae;return te==="jsDate"&&(Ue=function(He){var Ee=parseInt(He.substr(2,4),10),Ce=parseInt(He.substr(6,2),10)-1,Re=parseInt(He.substr(8,2),10),$e=parseInt(He.substr(10,2),10),Je=parseInt(He.substr(12,2),10),ut=parseInt(He.substr(14,2),10);return parseInt(He.substr(16,2),10),parseInt(He.substr(20,2),10),new Date(Ee,Ce,Re,$e,Je,ut,0)}(Ae)),Ue},ft=function(te){return te=te||"12345678901234567890123456789012".split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),_e=te},rt=function(te){return te.toFixed(2)},Et=function(te){return te.toFixed(3)},Se=function(te){te=typeof te=="string"?te:te.toString(),X?oe[_].push(te):(C+=te.length+1,Qe.push(te))},Bn=function(){return Q[++ye]=C,Se(ye+" 0 obj"),ye},en=function(te){Se("stream"),Se(te),Se("endstream")},tn=function(){for(var te in Se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Se("/Font <<"),ie)ie.hasOwnProperty(te)&&Se("/"+te+" "+ie[te].objectNumber+" 0 R");Se(">>"),Se("/XObject <<"),ae.publish("putXobjectDict"),Se(">>")},Hn=function(){(function(){for(var te in ie)ie.hasOwnProperty(te)&&(Ue=ie[te],ae.publish("putFont",{font:Ue,out:Se,newObject:Bn}),Ue.isAlreadyPutted!==!0&&(Ue.objectNumber=Bn(),Se("<<"),Se("/Type /Font"),Se("/BaseFont /"+Ue.postScriptName),Se("/Subtype /Type1"),typeof Ue.encoding=="string"&&Se("/Encoding /"+Ue.encoding),Se("/FirstChar 32"),Se("/LastChar 255"),Se(">>"),Se("endobj")));var Ue})(),ae.publish("putResources"),Q[2]=C,Se("2 0 obj"),Se("<<"),tn(),Se(">>"),Se("endobj"),ae.publish("postPutResources")},Ht=function(te,Ue,He){z.hasOwnProperty(Ue)||(z[Ue]={}),z[Ue][He]=te},pn=function(te,Ue,He,Ee){var Ce="F"+(Object.keys(ie).length+1).toString(10),Re=ie[Ce]={id:Ce,postScriptName:te,fontName:Ue,fontStyle:He,encoding:Ee,metadata:{}};return Ht(Ce,Ue,He),ae.publish("addFont",Re),Ce},Cn=function(te,Ue){return function(He,Ee){var Ce,Re,$e,Je,ut,St,Wt,Qt,$t;if($e=(Ee=Ee||{}).sourceEncoding||"Unicode",ut=Ee.outputEncoding,(Ee.autoencode||ut)&&ie[U].metadata&&ie[U].metadata[$e]&&ie[U].metadata[$e].encoding&&(Je=ie[U].metadata[$e].encoding,!ut&&ie[U].encoding&&(ut=ie[U].encoding),!ut&&Je.codePages&&(ut=Je.codePages[0]),typeof ut=="string"&&(ut=Je[ut]),ut)){for(Wt=!1,St=[],Ce=0,Re=He.length;Ce<Re;Ce++)(Qt=ut[He.charCodeAt(Ce)])?St.push(String.fromCharCode(Qt)):St.push(He[Ce]),St[Ce].charCodeAt(0)>>8&&(Wt=!0);He=St.join("")}for(Ce=He.length;Wt===void 0&&Ce!==0;)He.charCodeAt(Ce-1)>>8&&(Wt=!0),Ce--;if(!Wt)return He;for(St=Ee.noBOM?[]:[254,255],Ce=0,Re=He.length;Ce<Re;Ce++){if(($t=(Qt=He.charCodeAt(Ce))>>8)>>8)throw new Error("Character at position "+Ce+" of string '"+He+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");St.push($t),St.push(Qt-($t<<8))}return String.fromCharCode.apply(void 0,St)}(te,Ue).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},dn=function(){(function(te,Ue){var He=typeof Ue=="string"&&Ue.toLowerCase();if(typeof te=="string"){var Ee=te.toLowerCase();O.hasOwnProperty(Ee)&&(te=O[Ee][0]/v,Ue=O[Ee][1]/v)}if(Array.isArray(te)&&(Ue=te[1],te=te[0]),He){switch(He.substr(0,1)){case"l":te<Ue&&(He="s");break;case"p":Ue<te&&(He="s")}He==="s"&&(S=te,te=Ue,Ue=S)}X=!0,oe[++ue]=[],be[ue]={width:Number(te)||L,height:Number(Ue)||R},Ne[ue]={},un(ue)}).apply(this,arguments),Se(rt(de*v)+" w"),Se(le),V!==0&&Se(V+" J"),ee!==0&&Se(ee+" j"),ae.publish("addPage",{pageNumber:ue})},un=function(te){0<te&&te<=ue&&(L=be[_=te].width,R=be[te].height)},vn=function(te,Ue,He){var Ee,Ce=void 0;return He=He||{},te=te!==void 0?te:ie[U].fontName,Ue=Ue!==void 0?Ue:ie[U].fontStyle,Ee=te.toLowerCase(),z[Ee]!==void 0&&z[Ee][Ue]!==void 0?Ce=z[Ee][Ue]:z[te]!==void 0&&z[te][Ue]!==void 0?Ce=z[te][Ue]:He.disableWarning===!1&&console.warn("Unable to look up font label for font '"+te+"', '"+Ue+"'. Refer to getFontList() for available fonts."),Ce||He.noFallback||(Ce=z.times[Ue])==null&&(Ce=z.times.normal),Ce},er=function(){X=!1,ye=2,C=0,Qe=[],Q=[],Te=[],ae.publish("buildDocument"),Se("%PDF-"+F),Se("%"),function(){var Ce,Re,$e,Je,ut,St,Wt,Qt,$t,wn=[];for(Wt=b.adler32cs||h.API.adler32cs,xe&&Wt===void 0&&(xe=!1),Ce=1;Ce<=ue;Ce++){if(wn.push(Bn()),Qt=(L=be[Ce].width)*v,$t=(R=be[Ce].height)*v,Se("<</Type /Page"),Se("/Parent 1 0 R"),Se("/Resources 2 0 R"),Se("/MediaBox [0 0 "+rt(Qt)+" "+rt($t)+"]"),ae.publish("putPage",{pageNumber:Ce,page:oe[Ce]}),Se("/Contents "+(ye+1)+" 0 R"),Se(">>"),Se("endobj"),Re=oe[Ce].join(`
`),Bn(),xe){for($e=[],Je=Re.length;Je--;)$e[Je]=Re.charCodeAt(Je);St=Wt.from(Re),(ut=new Deflater(6)).append(new Uint8Array($e)),Re=ut.flush(),($e=new Uint8Array(Re.length+6)).set(new Uint8Array([120,156])),$e.set(Re,2),$e.set(new Uint8Array([255&St,St>>8&255,St>>16&255,St>>24&255]),Re.length+2),Re=String.fromCharCode.apply(null,$e),Se("<</Length "+Re.length+" /Filter [/FlateDecode]>>")}else Se("<</Length "+Re.length+">>");en(Re),Se("endobj")}Q[1]=C,Se("1 0 obj"),Se("<</Type /Pages");var tr="/Kids [";for(Je=0;Je<ue;Je++)tr+=wn[Je]+" 0 R ";Se(tr+"]"),Se("/Count "+ue),Se(">>"),Se("endobj"),ae.publish("postPutPages")}(),function(){ae.publish("putAdditionalObjects");for(var Ce=0;Ce<Te.length;Ce++){var Re=Te[Ce];Q[Re.objId]=C,Se(Re.objId+" 0 obj"),Se(Re.content),Se("endobj")}ye+=Te.length,ae.publish("postPutAdditionalObjects")}(),Hn(),Bn(),Se("<<"),function(){for(var Ce in Se("/Producer (jsPDF "+h.version+")"),P)P.hasOwnProperty(Ce)&&P[Ce]&&Se("/"+Ce.substr(0,1).toUpperCase()+Ce.substr(1)+" ("+Cn(P[Ce])+")");Se("/CreationDate ("+Ae+")")}(),Se(">>"),Se("endobj"),Bn(),Se("<<"),function(){switch(Se("/Type /Catalog"),Se("/Pages 1 0 R"),$||($="fullwidth"),$){case"fullwidth":Se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Se("/OpenAction [3 0 R /Fit]");break;case"original":Se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ce=""+$;Ce.substr(Ce.length-1)==="%"&&($=parseInt($)/100),typeof $=="number"&&Se("/OpenAction [3 0 R /XYZ null null "+rt($)+"]")}switch(Z||(Z="continuous"),Z){case"continuous":Se("/PageLayout /OneColumn");break;case"single":Se("/PageLayout /SinglePage");break;case"two":case"twoleft":Se("/PageLayout /TwoColumnLeft");break;case"tworight":Se("/PageLayout /TwoColumnRight")}K&&Se("/PageMode /"+K),ae.publish("putCatalog")}(),Se(">>"),Se("endobj");var te,Ue=C,He="0000000000";for(Se("xref"),Se("0 "+(ye+1)),Se(He+" 65535 f "),te=1;te<=ye;te++){var Ee=Q[te];Se(typeof Ee=="function"?(He+Q[te]()).slice(-10)+" 00000 n ":(He+Q[te]).slice(-10)+" 00000 n ")}return Se("trailer"),Se("<<"),Se("/Size "+(ye+1)),Se("/Root "+ye+" 0 R"),Se("/Info "+(ye-1)+" 0 R"),Se("/ID [ <"+_e+"> <"+_e+"> ]"),Se(">>"),Se("startxref"),Se(""+Ue),Se("%%EOF"),X=!0,Qe.join(`
`)},Pt=function(te){var Ue="S";return te==="F"?Ue="f":te==="FD"||te==="DF"?Ue="B":te!=="f"&&te!=="f*"&&te!=="B"&&te!=="B*"||(Ue=te),Ue},pi=function(){for(var te=er(),Ue=te.length,He=new ArrayBuffer(Ue),Ee=new Uint8Array(He);Ue--;)Ee[Ue]=te.charCodeAt(Ue);return He},Gr=function(){return new Blob([pi()],{type:"application/pdf"})},Hi=((he=function(te,Ue){var He=(""+te).substr(0,6)==="dataur"?"data:application/pdf;base64,"+btoa(er()):0;switch(te){case void 0:return er();case"save":if((typeof navigator=="undefined"?"undefined":an(navigator))==="object"&&navigator.getUserMedia&&(b.URL===void 0||b.URL.createObjectURL===void 0))return Y.output("dataurlnewwindow");bt(Gr(),Ue),typeof bt.unload=="function"&&b.setTimeout&&setTimeout(bt.unload,911);break;case"arraybuffer":return pi();case"blob":return Gr();case"bloburi":case"bloburl":return b.URL&&b.URL.createObjectURL(Gr())||void 0;case"datauristring":case"dataurlstring":return He;case"dataurlnewwindow":var Ee=b.open(He);if(Ee||typeof safari=="undefined")return Ee;case"datauri":case"dataurl":return b.document.location.href=He;default:throw new Error('Output type "'+te+'" is not supported.')}}).foo=function(){try{return he.apply(this,arguments)}catch(He){var te=He.stack||"";~te.indexOf(" at ")&&(te=te.split(" at ")[1]);var Ue="Error in function "+te.split(`
`)[0].split("<")[0]+": "+He.message;if(!b.console)throw new Error(Ue);b.console.error(Ue,He),b.alert&&alert(Ue)}},(he.foo.bar=he).foo),Ji=function(te){return Array.isArray(ke)===!0&&-1<ke.indexOf(te)};switch(y){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=Ji("px_scaling")==1?.75:96/72;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+y}for(var dr in Xe(),ft(),Y.internal={pdfEscape:Cn,getStyle:Pt,getFont:function(){return ie[vn.apply(Y,arguments)]},getFontSize:function(){return x},getCharSpace:function(){return G},getTextColor:function(){var te=ge.split(" ");if(te.length===2&&te[1]==="g"){var Ue=parseFloat(te[0]);te=[Ue,Ue,Ue,"r"]}for(var He="#",Ee=0;Ee<3;Ee++)He+=("0"+Math.floor(255*parseFloat(te[Ee])).toString(16)).slice(-2);return He},getLineHeight:function(){return x*ce},write:function(te){Se(arguments.length===1?te:Array.prototype.join.call(arguments," "))},getCoordinateString:function(te){return rt(te*v)},getVerticalCoordinateString:function(te){return rt((R-te)*v)},collections:{},newObject:Bn,newAdditionalObject:function(){var te=2*oe.length+1,Ue={objId:te+=Te.length,content:""};return Te.push(Ue),Ue},newObjectDeferred:function(){return Q[++ye]=function(){return C},ye},newObjectDeferredBegin:function(te){Q[te]=C},putStream:en,events:ae,scaleFactor:v,pageSize:{getWidth:function(){return L},getHeight:function(){return R}},output:function(te,Ue){return Hi(te,Ue)},getNumberOfPages:function(){return oe.length-1},pages:oe,out:Se,f2:rt,getPageInfo:function(te){return{objId:2*(te-1)+3,pageNumber:te,pageContext:Ne[te]}},getCurrentPageInfo:function(){return{objId:2*(_-1)+3,pageNumber:_,pageContext:Ne[_]}},getPDFVersion:function(){return F},hasHotfix:Ji},Y.addPage=function(){return dn.apply(this,arguments),this},Y.setPage=function(){return un.apply(this,arguments),this},Y.insertPage=function(te){return this.addPage(),this.movePage(_,te),this},Y.movePage=function(te,Ue){if(Ue<te){for(var He=oe[te],Ee=be[te],Ce=Ne[te],Re=te;Ue<Re;Re--)oe[Re]=oe[Re-1],be[Re]=be[Re-1],Ne[Re]=Ne[Re-1];oe[Ue]=He,be[Ue]=Ee,Ne[Ue]=Ce,this.setPage(Ue)}else if(te<Ue){for(He=oe[te],Ee=be[te],Ce=Ne[te],Re=te;Re<Ue;Re++)oe[Re]=oe[Re+1],be[Re]=be[Re+1],Ne[Re]=Ne[Re+1];oe[Ue]=He,be[Ue]=Ee,Ne[Ue]=Ce,this.setPage(Ue)}return this},Y.deletePage=function(){return function(te){0<te&&te<=ue&&(oe.splice(te,1),be.splice(te,1),--ue<_&&(_=ue),this.setPage(_))}.apply(this,arguments),this},Y.setCreationDate=function(te){return Xe(te),this},Y.getCreationDate=function(te){return ze(te)},Y.setFileId=function(te){return ft(te),this},Y.getFileId=function(){return _e},Y.setDisplayMode=function(te,Ue,He){if($=te,Z=Ue,[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(K=He)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+He+'" is not recognized.');return this},Y.text=function(te,Ue,He,Ee){var Ce,Re,$e="",Je=ce,ut=this;function St(Yr){for(var Xr,Zi=Yr.concat(),Ir=[],bo=Zi.length;bo--;)typeof(Xr=Zi.shift())=="string"?Ir.push(Xr):Object.prototype.toString.call(Yr)==="[object Array]"&&Xr.length===1?Ir.push(Xr[0]):Ir.push([Xr[0],Xr[1],Xr[2]]);return Ir}function Wt(Yr,Xr){var Zi;if(typeof Yr=="string")Zi=Xr(Yr)[0];else if(Object.prototype.toString.call(Yr)==="[object Array]"){for(var Ir,bo,_m=Yr.concat(),Rd=[],G4=_m.length;G4--;)typeof(Ir=_m.shift())=="string"?Rd.push(Xr(Ir)[0]):Object.prototype.toString.call(Ir)==="[object Array]"&&Ir[0]==="string"&&(bo=Xr(Ir[0],Ir[1],Ir[2]),Rd.push([bo[0],bo[1],bo[2]]));Zi=Rd}return Zi}typeof te=="number"&&(Re=He,He=Ue,Ue=te,te=Re);var Qt=Ee,$t=arguments[4],wn=arguments[5];(Qt===void 0?"undefined":an(Qt))==="object"&&Qt!==null||(typeof $t=="string"&&(wn=$t,$t=null),typeof Qt=="string"&&(wn=Qt,Qt=null),typeof Qt=="number"&&($t=Qt,Qt=null),Ee={flags:Qt,angle:$t,align:wn});var tr=!1,_r=!0;if(typeof te=="string")tr=!0;else if(Object.prototype.toString.call(te)==="[object Array]"){for(var Dr,bA=te.concat(),$n=[],Wr=bA.length;Wr--;)(typeof(Dr=bA.shift())!="string"||Object.prototype.toString.call(Dr)==="[object Array]"&&typeof Dr[0]!="string")&&(_r=!1);tr=_r}if(tr===!1)throw new Error('Type of text must be string or Array. "'+te+'" is not recognized.');var wA=ie[U].encoding;wA!=="WinAnsiEncoding"&&wA!=="StandardEncoding"||(te=Wt(te,function(Yr,Xr,Zi){return[(Ir=Yr,Ir=Ir.split("	").join(Array(Ee.TabLen||9).join(" ")),Cn(Ir,Qt)),Xr,Zi];var Ir})),typeof te=="string"&&(te=te.match(/[\r?\n]/)?te.split(/\r\n|\r|\n/g):[te]),0<(Ia=Ee.maxWidth||0)&&(typeof te=="string"?te=ut.splitTextToSize(te,Ia):Object.prototype.toString.call(te)==="[object Array]"&&(te=ut.splitTextToSize(te.join(" "),Ia)));var Bs={text:te,x:Ue,y:He,options:Ee,mutex:{pdfEscape:Cn,activeFontKey:U,fonts:ie,activeFontSize:x}};ae.publish("preProcessText",Bs),te=Bs.text,$t=(Ee=Bs.options).angle;var sr=ut.internal.scaleFactor,va=(ut.internal.pageSize.getHeight(),[]);if($t){$t*=Math.PI/180;var go=Math.cos($t),mo=Math.sin($t),Ta=function(Yr){return Yr.toFixed(2)};va=[Ta(go),Ta(mo),Ta(-1*mo),Ta(go)]}(Dd=Ee.charSpace)!==void 0&&($e+=Dd+` Tc
`),Ee.lang;var $r=-1,fl=Ee.renderingMode||Ee.stroke,yA=ut.internal.getCurrentPageInfo().pageContext;switch(fl){case 0:case!1:case"fill":$r=0;break;case 1:case!0:case"stroke":$r=1;break;case 2:case"fillThenStroke":$r=2;break;case 3:case"invisible":$r=3;break;case 4:case"fillAndAddForClipping":$r=4;break;case 5:case"strokeAndAddPathForClipping":$r=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$r=6;break;case 7:case"addToPathForClipping":$r=7}var dl=yA.usedRenderingMode||-1;$r!==-1?$e+=$r+` Tr
`:dl!==-1&&($e+=`0 Tr
`),$r!==-1&&(yA.usedRenderingMode=$r),wn=Ee.align||"left";var Sa=x*Je,Vs=ut.internal.pageSize.getHeight(),z4=ut.internal.pageSize.getWidth(),q4=(sr=ut.internal.scaleFactor,ie[U]),Dd=Ee.charSpace||G,Ia=Ee.maxWidth||0,hl=(Qt={},[]);if(Object.prototype.toString.call(te)==="[object Array]"){var xs,ji;$n=St(te),wn!=="left"&&(ji=$n.map(function(Yr){return ut.getStringUnitWidth(Yr,{font:q4,charSpace:Dd,fontSize:x})*x/sr}));var Es,Om=Math.max.apply(Math,ji),pl=0;if(wn==="right"){Ue-=ji[0],te=[];var Zt=0;for(Wr=$n.length;Zt<Wr;Zt++)Om-ji[Zt],Zt===0?(Es=Ue*sr,xs=(Vs-He)*sr):(Es=(pl-ji[Zt])*sr,xs=-Sa),te.push([$n[Zt],Es,xs]),pl=ji[Zt]}else if(wn==="center")for(Ue-=ji[0]/2,te=[],Zt=0,Wr=$n.length;Zt<Wr;Zt++)(Om-ji[Zt])/2,Zt===0?(Es=Ue*sr,xs=(Vs-He)*sr):(Es=(pl-ji[Zt])/2*sr,xs=-Sa),te.push([$n[Zt],Es,xs]),pl=ji[Zt];else if(wn==="left")for(te=[],Zt=0,Wr=$n.length;Zt<Wr;Zt++)xs=Zt===0?(Vs-He)*sr:-Sa,Es=Zt===0?Ue*sr:0,te.push($n[Zt]);else{if(wn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(te=[],Ia=Ia!==0?Ia:z4,Zt=0,Wr=$n.length;Zt<Wr;Zt++)xs=Zt===0?(Vs-He)*sr:-Sa,Es=Zt===0?Ue*sr:0,Zt<Wr-1&&hl.push(((Ia-ji[Zt])/($n[Zt].split(" ").length-1)*sr).toFixed(2)),te.push([$n[Zt],Es,xs])}}(typeof Ee.R2L=="boolean"?Ee.R2L:W)===!0&&(te=Wt(te,function(Yr,Xr,Zi){return[Yr.split("").reverse().join(""),Xr,Zi]})),Bs={text:te,x:Ue,y:He,options:Ee,mutex:{pdfEscape:Cn,activeFontKey:U,fonts:ie,activeFontSize:x}},ae.publish("postProcessText",Bs),te=Bs.text,Ce=Bs.mutex.isHex,$n=St(te),te=[];var gl,ml,BA,bl=0,xA=(Wr=$n.length,"");for(Zt=0;Zt<Wr;Zt++)xA="",Object.prototype.toString.call($n[Zt])!=="[object Array]"?(gl=parseFloat(Ue*sr).toFixed(2),ml=parseFloat((Vs-He)*sr).toFixed(2),BA=(Ce?"<":"(")+$n[Zt]+(Ce?">":")")):Object.prototype.toString.call($n[Zt])==="[object Array]"&&(gl=parseFloat($n[Zt][1]).toFixed(2),ml=parseFloat($n[Zt][2]).toFixed(2),BA=(Ce?"<":"(")+$n[Zt][0]+(Ce?">":")"),bl=1),hl!==void 0&&hl[Zt]!==void 0&&(xA=hl[Zt]+` Tw
`),va.length!==0&&Zt===0?te.push(xA+va.join(" ")+" "+gl+" "+ml+` Tm
`+BA):bl===1||bl===0&&Zt===0?te.push(xA+gl+" "+ml+` Td
`+BA):te.push(xA+BA);te=bl===0?te.join(` Tj
T* `):te.join(` Tj
`),te+=` Tj
`;var Qd=`BT
/`+U+" "+x+` Tf
`+(x*Je).toFixed(2)+` TL
`+ge+`
`;return Qd+=$e,Qd+=te,Se(Qd+="ET"),ut},Y.lstext=function(te,Ue,He,Ee){console.warn("jsPDF.lstext is deprecated");for(var Ce=0,Re=te.length;Ce<Re;Ce++,Ue+=Ee)this.text(te[Ce],Ue,He);return this},Y.line=function(te,Ue,He,Ee){return this.lines([[He-te,Ee-Ue]],te,Ue)},Y.clip=function(){Se("W"),Se("S")},Y.clip_fixed=function(te){Se(te==="evenodd"?"W*":"W"),Se("n")},Y.lines=function(te,Ue,He,Ee,Ce,Re){var $e,Je,ut,St,Wt,Qt,$t,wn,tr,_r,Dr;for(typeof te=="number"&&(S=He,He=Ue,Ue=te,te=S),Ee=Ee||[1,1],Se(Et(Ue*v)+" "+Et((R-He)*v)+" m "),$e=Ee[0],Je=Ee[1],St=te.length,_r=Ue,Dr=He,ut=0;ut<St;ut++)(Wt=te[ut]).length===2?(_r=Wt[0]*$e+_r,Dr=Wt[1]*Je+Dr,Se(Et(_r*v)+" "+Et((R-Dr)*v)+" l")):(Qt=Wt[0]*$e+_r,$t=Wt[1]*Je+Dr,wn=Wt[2]*$e+_r,tr=Wt[3]*Je+Dr,_r=Wt[4]*$e+_r,Dr=Wt[5]*Je+Dr,Se(Et(Qt*v)+" "+Et((R-$t)*v)+" "+Et(wn*v)+" "+Et((R-tr)*v)+" "+Et(_r*v)+" "+Et((R-Dr)*v)+" c"));return Re&&Se(" h"),Ce!==null&&Se(Pt(Ce)),this},Y.rect=function(te,Ue,He,Ee,Ce){return Pt(Ce),Se([rt(te*v),rt((R-Ue)*v),rt(He*v),rt(-Ee*v),"re"].join(" ")),Ce!==null&&Se(Pt(Ce)),this},Y.triangle=function(te,Ue,He,Ee,Ce,Re,$e){return this.lines([[He-te,Ee-Ue],[Ce-He,Re-Ee],[te-Ce,Ue-Re]],te,Ue,[1,1],$e,!0),this},Y.roundedRect=function(te,Ue,He,Ee,Ce,Re,$e){var Je=1.3333333333333333*(Math.SQRT2-1);return this.lines([[He-2*Ce,0],[Ce*Je,0,Ce,Re-Re*Je,Ce,Re],[0,Ee-2*Re],[0,Re*Je,-Ce*Je,Re,-Ce,Re],[2*Ce-He,0],[-Ce*Je,0,-Ce,-Re*Je,-Ce,-Re],[0,2*Re-Ee],[0,-Re*Je,Ce*Je,-Re,Ce,-Re]],te+Ce,Ue,[1,1],$e),this},Y.ellipse=function(te,Ue,He,Ee,Ce){var Re=1.3333333333333333*(Math.SQRT2-1)*He,$e=4/3*(Math.SQRT2-1)*Ee;return Se([rt((te+He)*v),rt((R-Ue)*v),"m",rt((te+He)*v),rt((R-(Ue-$e))*v),rt((te+Re)*v),rt((R-(Ue-Ee))*v),rt(te*v),rt((R-(Ue-Ee))*v),"c"].join(" ")),Se([rt((te-Re)*v),rt((R-(Ue-Ee))*v),rt((te-He)*v),rt((R-(Ue-$e))*v),rt((te-He)*v),rt((R-Ue)*v),"c"].join(" ")),Se([rt((te-He)*v),rt((R-(Ue+$e))*v),rt((te-Re)*v),rt((R-(Ue+Ee))*v),rt(te*v),rt((R-(Ue+Ee))*v),"c"].join(" ")),Se([rt((te+Re)*v),rt((R-(Ue+Ee))*v),rt((te+He)*v),rt((R-(Ue+$e))*v),rt((te+He)*v),rt((R-Ue)*v),"c"].join(" ")),Ce!==null&&Se(Pt(Ce)),this},Y.circle=function(te,Ue,He,Ee){return this.ellipse(te,Ue,He,He,Ee)},Y.setProperties=function(te){for(var Ue in P)P.hasOwnProperty(Ue)&&te[Ue]&&(P[Ue]=te[Ue]);return this},Y.setFontSize=function(te){return x=te,this},Y.setFont=function(te,Ue){return U=vn(te,Ue),this},Y.setFontStyle=Y.setFontType=function(te){return U=vn(void 0,te),this},Y.getFontList=function(){var te,Ue,He,Ee={};for(te in z)if(z.hasOwnProperty(te))for(Ue in Ee[te]=He=[],z[te])z[te].hasOwnProperty(Ue)&&He.push(Ue);return Ee},Y.addFont=function(te,Ue,He,Ee){pn(te,Ue,He,Ee=Ee||"Identity-H")},Y.setLineWidth=function(te){return Se((te*v).toFixed(2)+" w"),this},Y.setDrawColor=function(te,Ue,He,Ee){return Se(Le({ch1:te,ch2:Ue,ch3:He,ch4:Ee,pdfColorType:"draw",precision:2})),this},Y.setFillColor=function(te,Ue,He,Ee){return Se(Le({ch1:te,ch2:Ue,ch3:He,ch4:Ee,pdfColorType:"fill",precision:2})),this},Y.setTextColor=function(te,Ue,He,Ee){return ge=Le({ch1:te,ch2:Ue,ch3:He,ch4:Ee,pdfColorType:"text",precision:3}),this},Y.setCharSpace=function(te){return G=te,this},Y.setR2L=function(te){return W=te,this},Y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Y.setLineCap=function(te){var Ue=this.CapJoinStyles[te];if(Ue===void 0)throw new Error("Line cap style of '"+te+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Se((V=Ue)+" J"),this},Y.setLineJoin=function(te){var Ue=this.CapJoinStyles[te];if(Ue===void 0)throw new Error("Line join style of '"+te+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Se((ee=Ue)+" j"),this},Y.output=Hi,Y.save=function(te){Y.output("save",te)},h.API)h.API.hasOwnProperty(dr)&&(dr==="events"&&h.API.events.length?function(te,Ue){var He,Ee,Ce;for(Ce=Ue.length-1;Ce!==-1;Ce--)He=Ue[Ce][0],Ee=Ue[Ce][1],te.subscribe.apply(te,[He].concat(typeof Ee=="function"?[Ee]:Ee))}(ae,h.API.events):Y[dr]=h.API[dr]);return function(){for(var te="helvetica",Ue="times",He="courier",Ee="normal",Ce="bold",Re="italic",$e="bolditalic",Je=[["Helvetica",te,Ee,"WinAnsiEncoding"],["Helvetica-Bold",te,Ce,"WinAnsiEncoding"],["Helvetica-Oblique",te,Re,"WinAnsiEncoding"],["Helvetica-BoldOblique",te,$e,"WinAnsiEncoding"],["Courier",He,Ee,"WinAnsiEncoding"],["Courier-Bold",He,Ce,"WinAnsiEncoding"],["Courier-Oblique",He,Re,"WinAnsiEncoding"],["Courier-BoldOblique",He,$e,"WinAnsiEncoding"],["Times-Roman",Ue,Ee,"WinAnsiEncoding"],["Times-Bold",Ue,Ce,"WinAnsiEncoding"],["Times-Italic",Ue,Re,"WinAnsiEncoding"],["Times-BoldItalic",Ue,$e,"WinAnsiEncoding"],["ZapfDingbats","zapfdingbats",Ee,null],["Symbol","symbol",Ee,null]],ut=0,St=Je.length;ut<St;ut++){var Wt=pn(Je[ut][0],Je[ut][1],Je[ut][2],Je[ut][3]),Qt=Je[ut][0].split("-");Ht(Wt,Qt[0],Qt[1]||"")}ae.publish("addFonts",{fonts:ie,dictionary:z})}(),U="F1",dn(B,g),ae.publish("initialized"),Y}return h.API={events:[]},h.version="0.0.0",t.exports?(t.exports=h,t.exports.jsPDF=h):b.jsPDF=h,h}(typeof self!="undefined"&&self||typeof window!="undefined"&&window||typeof Xn!="undefined"&&Xn||Function('return typeof this === "object" && this.content')()||Function("return this")());/** @preserve
   * jsPDF - PDF Document creation from JavaScript
   * Version 1.4.1 Built on 2018-06-06T07:49:34.040Z
   *                           CommitID 3233f44044
   *
   * Copyright (c) 2010-2016 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
   *               2010 Aaron Spike, https://github.com/acspike
   *               2012 Willow Systems Corporation, willow-systems.com
   *               2012 Pablo Hess, https://github.com/pablohess
   *               2012 Florian Jenett, https://github.com/fjenett
   *               2013 Warren Weckesser, https://github.com/warrenweckesser
   *               2013 Youssef Beddad, https://github.com/lifof
   *               2013 Lee Driscoll, https://github.com/lsdriscoll
   *               2013 Stefan Slonevskiy, https://github.com/stefslon
   *               2013 Jeremy Morel, https://github.com/jmorel
   *               2013 Christoph Hartmann, https://github.com/chris-rock
   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
   *               2014 James Makes, https://github.com/dollaruw
   *               2014 Diego Casorran, https://github.com/diegocr
   *               2014 Steven Spungin, https://github.com/Flamenco
   *               2014 Kenneth Glassey, https://github.com/Gavvers
   *
   * Licensed under the MIT License
   *
   * Contributor(s):
   *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
   *    kim3er, mfo, alnorth, Flamenco
   */(function(b,F){var O,m,h=1,g=function(V,ee){V.prototype=Object.create(ee.prototype),V.prototype.constructor=V},y=function(V){return V*(h/1)},B=function(V){var ee=new W,C=Te.internal.getHeight(V)||0,P=Te.internal.getWidth(V)||0;return ee.BBox=[0,0,P.toFixed(2),C.toFixed(2)],ee},E=function(V,ee,C){V=V||0;var P=1;return P<<=ee-1,(C=C||1)==1?V=V|P:V=V&~P,V},k=function(V,ee,C){return C=C||1.3,V=V||0,ee.readOnly==1&&(V=E(V,1)),ee.required==1&&(V=E(V,2)),ee.noExport==1&&(V=E(V,3)),ee.multiline==1&&(V=E(V,13)),ee.password&&(V=E(V,14)),ee.noToggleToOff&&(V=E(V,15)),ee.radio&&(V=E(V,16)),ee.pushbutton&&(V=E(V,17)),ee.combo&&(V=E(V,18)),ee.edit&&(V=E(V,19)),ee.sort&&(V=E(V,20)),ee.fileSelect&&1.4<=C&&(V=E(V,21)),ee.multiSelect&&1.4<=C&&(V=E(V,22)),ee.doNotSpellCheck&&1.4<=C&&(V=E(V,23)),ee.doNotScroll==1&&1.4<=C&&(V=E(V,24)),ee.richText&&1.4<=C&&(V=E(V,25)),V},U=function(V){var ee=V[0],C=V[1],P=V[2],Y=V[3],ae={};return Array.isArray(ee)?(ee[0]=y(ee[0]),ee[1]=y(ee[1]),ee[2]=y(ee[2]),ee[3]=y(ee[3])):(ee=y(ee),C=y(C),P=y(P),Y=y(Y)),ae.lowerLeft_X=ee||0,ae.lowerLeft_Y=y(m)-C-Y||0,ae.upperRight_X=ee+P||0,ae.upperRight_Y=y(m)-C||0,[ae.lowerLeft_X.toFixed(2),ae.lowerLeft_Y.toFixed(2),ae.upperRight_X.toFixed(2),ae.upperRight_Y.toFixed(2)]},v=function(V){if(V.appearanceStreamContent)return V.appearanceStreamContent;if(V.V||V.DV){var ee=[],C=V.V||V.DV,P=S(V,C);ee.push("/Tx BMC"),ee.push("q"),ee.push("/F1 "+P.fontSize.toFixed(2)+" Tf"),ee.push("1 0 0 1 0 0 Tm"),ee.push("BT"),ee.push(P.text),ee.push("ET"),ee.push("Q"),ee.push("EMC");var Y=new B(V);return Y.stream=ee.join(`
`),Y}},S=function(V,ee,C,P){P=P||12,C=C||"helvetica";var Y={text:"",fontSize:""},ae=(ee=(ee=ee.substr(0,1)=="("?ee.substr(1):ee).substr(ee.length-1)==")"?ee.substr(0,ee.length-1):ee).split(" "),ke=P,Le=Te.internal.getHeight(V)||0;Le=Le<0?-Le:Le;var je=Te.internal.getWidth(V)||0;je=je<0?-je:je;var Xe=function(er,Pt,pi){if(er+1<ae.length){var Gr=Pt+" "+ae[er+1];return _(Gr,pi+"px",C).width<=je-4}return!1};ke++;e:for(;;){ee="";var ze=_("3",--ke+"px",C).height,ft=V.multiline?Le-ke:(Le-ze)/2,rt=-2,Et=ft+=2,Se=0,Bn=0,en=0;if(ke<=0){ke=12,ee=`(...) Tj
`,ee+="% Width of Text: "+_(ee,"1px").width+", FieldWidth:"+je+`
`;break}en=_(ae[0]+" ",ke+"px",C).width;var tn="",Hn=0;for(var Ht in ae){tn=(tn+=ae[Ht]+" ").substr(tn.length-1)==" "?tn.substr(0,tn.length-1):tn;var pn=parseInt(Ht);en=_(tn+" ",ke+"px",C).width;var Cn=Xe(pn,tn,ke),dn=Ht>=ae.length-1;if(!Cn||dn){if(Cn||dn){if(dn)Bn=pn;else if(V.multiline&&Le<(ze+2)*(Hn+2)+2)continue e}else{if(!V.multiline||Le<(ze+2)*(Hn+2)+2)continue e;Bn=pn}for(var un="",vn=Se;vn<=Bn;vn++)un+=ae[vn]+" ";switch(un=un.substr(un.length-1)==" "?un.substr(0,un.length-1):un,en=_(un,ke+"px",C).width,V.Q){case 2:rt=je-en-2;break;case 1:rt=(je-en)/2;break;case 0:default:rt=2}ee+=rt.toFixed(2)+" "+Et.toFixed(2)+` Td
`,ee+="("+un+`) Tj
`,ee+=-rt.toFixed(2)+` 0 Td
`,Et=-(ke+2),en=0,Se=Bn+1,Hn++,tn=""}else tn+=" "}break}return Y.text=ee,Y.fontSize=ke,Y},_=function(V,ee,C){C=C||"helvetica";var P=O.internal.getFont(C),Y=O.getStringUnitWidth(V,{font:P,fontSize:parseFloat(ee),charSpace:0})*parseFloat(ee);return{height:O.getStringUnitWidth("3",{font:P,fontSize:parseFloat(ee),charSpace:0})*parseFloat(ee)*1.5,width:Y}},L={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},R=function(){for(var V in O.internal.acroformPlugin.acroFormDictionaryRoot.Fields){var ee=O.internal.acroformPlugin.acroFormDictionaryRoot.Fields[V];ee.hasAnnotation&&$.call(O,ee)}},K=function(V){O.internal.acroformPlugin.printedOut&&(O.internal.acroformPlugin.printedOut=!1,O.internal.acroformPlugin.acroFormDictionaryRoot=null),O.internal.acroformPlugin.acroFormDictionaryRoot||ge.call(O),O.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(V)},$=function(V){var ee={type:"reference",object:V};O.annotationPlugin.annotations[O.internal.getPageInfo(V.page).pageNumber].push(ee)},Z=function(){O.internal.acroformPlugin.acroFormDictionaryRoot!==void 0?O.internal.write("/AcroForm "+O.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R"):console.log("Root missing...")},Ae=function(){O.internal.events.unsubscribe(O.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete O.internal.acroformPlugin.acroFormDictionaryRoot._eventID,O.internal.acroformPlugin.printedOut=!0},he=function(V){var ee=!V;V||(O.internal.newObjectDeferredBegin(O.internal.acroformPlugin.acroFormDictionaryRoot.objId),O.internal.out(O.internal.acroformPlugin.acroFormDictionaryRoot.getString())),V=V||O.internal.acroformPlugin.acroFormDictionaryRoot.Kids;for(var C in V){var P=V[C],Y=P.Rect;P.Rect&&(P.Rect=U.call(this,P.Rect)),O.internal.newObjectDeferredBegin(P.objId);var ae=P.objId+` 0 obj
<<
`;if((P===void 0?"undefined":an(P))==="object"&&typeof P.getContent=="function"&&(ae+=P.getContent()),P.Rect=Y,P.hasAppearanceStream&&!P.appearanceStreamContent){var ke=v.call(this,P);ae+="/AP << /N "+ke+` >>
`,O.internal.acroformPlugin.xForms.push(ke)}if(P.appearanceStreamContent){for(var Le in ae+="/AP << ",P.appearanceStreamContent){var je=P.appearanceStreamContent[Le];if(ae+="/"+Le+" ",ae+="<< ",1<=Object.keys(je).length||Array.isArray(je))for(var C in je){var Xe;typeof(Xe=je[C])=="function"&&(Xe=Xe.call(this,P)),ae+="/"+C+" "+Xe+" ",0<=O.internal.acroformPlugin.xForms.indexOf(Xe)||O.internal.acroformPlugin.xForms.push(Xe)}else typeof(Xe=je)=="function"&&(Xe=Xe.call(this,P)),ae+="/"+C+" "+Xe+` 
`,0<=O.internal.acroformPlugin.xForms.indexOf(Xe)||O.internal.acroformPlugin.xForms.push(Xe);ae+=` >>
`}ae+=`>>
`}ae+=`>>
endobj
`,O.internal.out(ae)}ee&&xe.call(this,O.internal.acroformPlugin.xForms)},xe=function(V){for(var ee in V){var C=ee,P=V[ee];O.internal.newObjectDeferredBegin(P&&P.objId);var Y="";(P===void 0?"undefined":an(P))==="object"&&typeof P.getString=="function"&&(Y=P.getString()),O.internal.out(Y),delete V[C]}},ge=function(){if(this.internal!==void 0&&(this.internal.acroformPlugin===void 0||this.internal.acroformPlugin.isInitialized===!1)){if(O=this,de.FieldNum=0,this.internal.acroformPlugin=JSON.parse(JSON.stringify(L)),this.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");h=O.internal.scaleFactor,m=O.internal.pageSize.getHeight(),O.internal.acroformPlugin.acroFormDictionaryRoot=new ce,O.internal.acroformPlugin.acroFormDictionaryRoot._eventID=O.internal.events.subscribe("postPutResources",Ae),O.internal.events.subscribe("buildDocument",R),O.internal.events.subscribe("putCatalog",Z),O.internal.events.subscribe("postPutPages",he),O.internal.acroformPlugin.isInitialized=!0}},le=function(V){if(Array.isArray(V)){var ee=" [";for(var C in V)ee+=V[C].toString(),ee+=C<V.length-1?" ":"";return ee+="]"}},x=function(V){return(V=V||"").indexOf("(")!==0&&(V="("+V),V.substring(V.length-1)!=")"&&(V+=")"),V},G=function(){var V;Object.defineProperty(this,"objId",{get:function(){return V||(V=O.internal.newObjectDeferred()),V||console.log("Couldn't create Object ID"),V},configurable:!1})};G.prototype.toString=function(){return this.objId+" 0 R"},G.prototype.getString=function(){var V=this.objId+` 0 obj
<<`;return V+=this.getContent()+`>>
`,this.stream&&(V+=`stream
`,V+=this.stream,V+=`
endstream
`),V+=`endobj
`},G.prototype.getContent=function(){var V="";return V+=function(ee){var C="",P=Object.keys(ee).filter(function(Le){return Le!="content"&&Le!="appearanceStreamContent"&&Le.substring(0,1)!="_"});for(var Y in P){var ae=P[Y],ke=ee[ae];ke&&(Array.isArray(ke)?C+="/"+ae+" "+le(ke)+`
`:C+=ke instanceof G?"/"+ae+" "+ke.objId+` 0 R
`:"/"+ae+" "+ke+`
`)}return C}(this)};var W=function(){var V;G.call(this),this.Type="/XObject",this.Subtype="/Form",this.FormType=1,this.BBox,this.Matrix,this.Resources="2 0 R",this.PieceInfo,Object.defineProperty(this,"Length",{enumerable:!0,get:function(){return V!==void 0?V.length:0}}),Object.defineProperty(this,"stream",{enumerable:!1,set:function(ee){V=ee.trim()},get:function(){return V||null}})};g(W,G);var ce=function(){G.call(this);var V=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return 0<V.length?V:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!0,configurable:!0,get:function(){return V}}),this.DA};g(ce,G);var de=function V(){var ee;G.call(this),Object.defineProperty(this,"Rect",{enumerable:!0,configurable:!1,get:function(){if(ee)return ee},set:function(Le){ee=Le}});var C,P,Y,ae,ke="";Object.defineProperty(this,"FT",{enumerable:!0,set:function(Le){ke=Le},get:function(){return ke}}),Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,set:function(Le){C=Le},get:function(){return!C||C.length<1?this instanceof oe?void 0:"(FieldObject"+V.FieldNum+++")":C.substring(0,1)=="("&&C.substring(C.length-1)?C:"("+C+")"}}),Object.defineProperty(this,"DA",{enumerable:!0,get:function(){if(P)return"("+P+")"},set:function(Le){P=Le}}),Object.defineProperty(this,"DV",{enumerable:!0,configurable:!0,get:function(){if(Y)return Y},set:function(Le){Y=Le}}),Object.defineProperty(this,"V",{enumerable:!0,configurable:!0,get:function(){if(ae)return ae},set:function(Le){ae=Le}}),Object.defineProperty(this,"Type",{enumerable:!0,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,get:function(){return this.hasAnnotation?"/Widget":null}}),this.BG,Object.defineProperty(this,"hasAnnotation",{enumerable:!1,get:function(){return!!(this.Rect||this.BC||this.BG)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(this,"page",{enumerable:!1,configurable:!0,writable:!0})};g(de,G);var _e=function(){de.call(this),this.FT="/Ch",this.Opt=[],this.V="()",this.TI=0;var V=!1;Object.defineProperty(this,"combo",{enumerable:!1,get:function(){return V},set:function(ee){V=ee}}),Object.defineProperty(this,"edit",{enumerable:!0,set:function(ee){ee==1?(this._edit=!0,this.combo=!0):this._edit=!1},get:function(){return!!this._edit&&this._edit},configurable:!1}),this.hasAppearanceStream=!0};g(_e,de);var ye=function(){_e.call(this),this.combo=!1};g(ye,_e);var X=function(){ye.call(this),this.combo=!0};g(X,ye);var Q=function(){X.call(this),this.edit=!0};g(Q,X);var ie=function(){de.call(this),this.FT="/Btn"};g(ie,de);var z=function(){ie.call(this);var V=!0;Object.defineProperty(this,"pushbutton",{enumerable:!1,get:function(){return V},set:function(ee){V=ee}})};g(z,ie);var ue=function(){ie.call(this);var V=!0;Object.defineProperty(this,"radio",{enumerable:!1,get:function(){return V},set:function(P){V=P}});var ee,C=[];Object.defineProperty(this,"Kids",{enumerable:!0,get:function(){if(0<C.length)return C}}),Object.defineProperty(this,"__Kids",{get:function(){return C}}),Object.defineProperty(this,"noToggleToOff",{enumerable:!1,get:function(){return ee},set:function(P){ee=P}})};g(ue,ie);var oe=function(V,ee){de.call(this),this.Parent=V,this._AppearanceType=Te.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(ee),this.F=E(this.F,3,1),this.MK=this._AppearanceType.createMK(),this.AS="/Off",this._Name=ee};g(oe,de),ue.prototype.setAppearance=function(V){if("createAppearanceStream"in V&&"createMK"in V)for(var ee in this.__Kids){var C=this.__Kids[ee];C.appearanceStreamContent=V.createAppearanceStream(C._Name),C.MK=V.createMK()}else console.log("Couldn't assign Appearance to RadioButton. Appearance was Invalid!")},ue.prototype.createOption=function(V){this.__Kids.length;var ee=new oe(this,V);return this.__Kids.push(ee),b.addField(ee),ee};var Ne=function(){ie.call(this),this.appearanceStreamContent=Te.CheckBox.createAppearanceStream(),this.MK=Te.CheckBox.createMK(),this.AS="/On",this.V="/On"};g(Ne,ie);var be=function(){var V,ee;de.call(this),this.DA=Te.createDefaultAppearanceStream(),this.F=4,Object.defineProperty(this,"V",{get:function(){return V&&x(V)},enumerable:!0,set:function(Le){V=Le}}),Object.defineProperty(this,"DV",{get:function(){return ee&&x(ee)},enumerable:!0,set:function(Le){ee=Le}});var C=!1;Object.defineProperty(this,"multiline",{enumerable:!1,get:function(){return C},set:function(Le){C=Le}});var P=!1;Object.defineProperty(this,"fileSelect",{enumerable:!1,get:function(){return P},set:function(Le){P=Le}});var Y=!1;Object.defineProperty(this,"doNotSpellCheck",{enumerable:!1,get:function(){return Y},set:function(Le){Y=Le}});var ae=!1;Object.defineProperty(this,"doNotScroll",{enumerable:!1,get:function(){return ae},set:function(Le){ae=Le}});var ke=!1;Object.defineProperty(this,"MaxLen",{enumerable:!0,get:function(){return ke},set:function(Le){ke=Le}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,get:function(){return this.V||this.DV}})};g(be,de);var Qe=function(){be.call(this);var V=!0;Object.defineProperty(this,"password",{enumerable:!1,get:function(){return V},set:function(ee){V=ee}})};g(Qe,be);var Te={CheckBox:{createAppearanceStream:function(){return{N:{On:Te.CheckBox.YesNormal},D:{On:Te.CheckBox.YesPushDown,Off:Te.CheckBox.OffPushDown}}},createMK:function(){return"<< /CA (3)>>"},YesPushDown:function(V){var ee=B(V),C=[],P=O.internal.getFont("zapfdingbats","normal").id;V.Q=1;var Y=S(V,"3","ZapfDingbats",50);return C.push("0.749023 g"),C.push("0 0 "+Te.internal.getWidth(V).toFixed(2)+" "+Te.internal.getHeight(V).toFixed(2)+" re"),C.push("f"),C.push("BMC"),C.push("q"),C.push("0 0 1 rg"),C.push("/"+P+" "+Y.fontSize.toFixed(2)+" Tf 0 g"),C.push("BT"),C.push(Y.text),C.push("ET"),C.push("Q"),C.push("EMC"),ee.stream=C.join(`
`),ee},YesNormal:function(V){var ee=B(V),C=O.internal.getFont("zapfdingbats","normal").id,P=[];V.Q=1;var Y=Te.internal.getHeight(V),ae=Te.internal.getWidth(V),ke=S(V,"3","ZapfDingbats",.9*Y);return P.push("1 g"),P.push("0 0 "+ae.toFixed(2)+" "+Y.toFixed(2)+" re"),P.push("f"),P.push("q"),P.push("0 0 1 rg"),P.push("0 0 "+(ae-1).toFixed(2)+" "+(Y-1).toFixed(2)+" re"),P.push("W"),P.push("n"),P.push("0 g"),P.push("BT"),P.push("/"+C+" "+ke.fontSize.toFixed(2)+" Tf 0 g"),P.push(ke.text),P.push("ET"),P.push("Q"),ee.stream=P.join(`
`),ee},OffPushDown:function(V){var ee=B(V),C=[];return C.push("0.749023 g"),C.push("0 0 "+Te.internal.getWidth(V).toFixed(2)+" "+Te.internal.getHeight(V).toFixed(2)+" re"),C.push("f"),ee.stream=C.join(`
`),ee}},RadioButton:{Circle:{createAppearanceStream:function(V){var ee={D:{Off:Te.RadioButton.Circle.OffPushDown},N:{}};return ee.N[V]=Te.RadioButton.Circle.YesNormal,ee.D[V]=Te.RadioButton.Circle.YesPushDown,ee},createMK:function(){return"<< /CA (l)>>"},YesNormal:function(V){var ee=B(V),C=[],P=Te.internal.getWidth(V)<=Te.internal.getHeight(V)?Te.internal.getWidth(V)/4:Te.internal.getHeight(V)/4;P*=.9;var Y=Te.internal.Bezier_C;return C.push("q"),C.push("1 0 0 1 "+Te.internal.getWidth(V)/2+" "+Te.internal.getHeight(V)/2+" cm"),C.push(P+" 0 m"),C.push(P+" "+P*Y+" "+P*Y+" "+P+" 0 "+P+" c"),C.push("-"+P*Y+" "+P+" -"+P+" "+P*Y+" -"+P+" 0 c"),C.push("-"+P+" -"+P*Y+" -"+P*Y+" -"+P+" 0 -"+P+" c"),C.push(P*Y+" -"+P+" "+P+" -"+P*Y+" "+P+" 0 c"),C.push("f"),C.push("Q"),ee.stream=C.join(`
`),ee},YesPushDown:function(V){var ee=B(V),C=[],P=Te.internal.getWidth(V)<=Te.internal.getHeight(V)?Te.internal.getWidth(V)/4:Te.internal.getHeight(V)/4,Y=2*(P*=.9),ae=Y*Te.internal.Bezier_C,ke=P*Te.internal.Bezier_C;return C.push("0.749023 g"),C.push("q"),C.push("1 0 0 1 "+(Te.internal.getWidth(V)/2).toFixed(2)+" "+(Te.internal.getHeight(V)/2).toFixed(2)+" cm"),C.push(Y+" 0 m"),C.push(Y+" "+ae+" "+ae+" "+Y+" 0 "+Y+" c"),C.push("-"+ae+" "+Y+" -"+Y+" "+ae+" -"+Y+" 0 c"),C.push("-"+Y+" -"+ae+" -"+ae+" -"+Y+" 0 -"+Y+" c"),C.push(ae+" -"+Y+" "+Y+" -"+ae+" "+Y+" 0 c"),C.push("f"),C.push("Q"),C.push("0 g"),C.push("q"),C.push("1 0 0 1 "+(Te.internal.getWidth(V)/2).toFixed(2)+" "+(Te.internal.getHeight(V)/2).toFixed(2)+" cm"),C.push(P+" 0 m"),C.push(P+" "+ke+" "+ke+" "+P+" 0 "+P+" c"),C.push("-"+ke+" "+P+" -"+P+" "+ke+" -"+P+" 0 c"),C.push("-"+P+" -"+ke+" -"+ke+" -"+P+" 0 -"+P+" c"),C.push(ke+" -"+P+" "+P+" -"+ke+" "+P+" 0 c"),C.push("f"),C.push("Q"),ee.stream=C.join(`
`),ee},OffPushDown:function(V){var ee=B(V),C=[],P=Te.internal.getWidth(V)<=Te.internal.getHeight(V)?Te.internal.getWidth(V)/4:Te.internal.getHeight(V)/4,Y=2*(P*=.9),ae=Y*Te.internal.Bezier_C;return C.push("0.749023 g"),C.push("q"),C.push("1 0 0 1 "+(Te.internal.getWidth(V)/2).toFixed(2)+" "+(Te.internal.getHeight(V)/2).toFixed(2)+" cm"),C.push(Y+" 0 m"),C.push(Y+" "+ae+" "+ae+" "+Y+" 0 "+Y+" c"),C.push("-"+ae+" "+Y+" -"+Y+" "+ae+" -"+Y+" 0 c"),C.push("-"+Y+" -"+ae+" -"+ae+" -"+Y+" 0 -"+Y+" c"),C.push(ae+" -"+Y+" "+Y+" -"+ae+" "+Y+" 0 c"),C.push("f"),C.push("Q"),ee.stream=C.join(`
`),ee}},Cross:{createAppearanceStream:function(V){var ee={D:{Off:Te.RadioButton.Cross.OffPushDown},N:{}};return ee.N[V]=Te.RadioButton.Cross.YesNormal,ee.D[V]=Te.RadioButton.Cross.YesPushDown,ee},createMK:function(){return"<< /CA (8)>>"},YesNormal:function(V){var ee=B(V),C=[],P=Te.internal.calculateCross(V);return C.push("q"),C.push("1 1 "+(Te.internal.getWidth(V)-2).toFixed(2)+" "+(Te.internal.getHeight(V)-2).toFixed(2)+" re"),C.push("W"),C.push("n"),C.push(P.x1.x.toFixed(2)+" "+P.x1.y.toFixed(2)+" m"),C.push(P.x2.x.toFixed(2)+" "+P.x2.y.toFixed(2)+" l"),C.push(P.x4.x.toFixed(2)+" "+P.x4.y.toFixed(2)+" m"),C.push(P.x3.x.toFixed(2)+" "+P.x3.y.toFixed(2)+" l"),C.push("s"),C.push("Q"),ee.stream=C.join(`
`),ee},YesPushDown:function(V){var ee=B(V),C=Te.internal.calculateCross(V),P=[];return P.push("0.749023 g"),P.push("0 0 "+Te.internal.getWidth(V).toFixed(2)+" "+Te.internal.getHeight(V).toFixed(2)+" re"),P.push("f"),P.push("q"),P.push("1 1 "+(Te.internal.getWidth(V)-2).toFixed(2)+" "+(Te.internal.getHeight(V)-2).toFixed(2)+" re"),P.push("W"),P.push("n"),P.push(C.x1.x.toFixed(2)+" "+C.x1.y.toFixed(2)+" m"),P.push(C.x2.x.toFixed(2)+" "+C.x2.y.toFixed(2)+" l"),P.push(C.x4.x.toFixed(2)+" "+C.x4.y.toFixed(2)+" m"),P.push(C.x3.x.toFixed(2)+" "+C.x3.y.toFixed(2)+" l"),P.push("s"),P.push("Q"),ee.stream=P.join(`
`),ee},OffPushDown:function(V){var ee=B(V),C=[];return C.push("0.749023 g"),C.push("0 0 "+Te.internal.getWidth(V).toFixed(2)+" "+Te.internal.getHeight(V).toFixed(2)+" re"),C.push("f"),ee.stream=C.join(`
`),ee}}},createDefaultAppearanceStream:function(V){return"/F1 0 Tf 0 g"}};Te.internal={Bezier_C:.551915024494,calculateCross:function(V){var ee,C,P=Te.internal.getWidth(V),Y=Te.internal.getHeight(V),ae=(C=Y)<(ee=P)?C:ee;return{x1:{x:(P-ae)/2,y:(Y-ae)/2+ae},x2:{x:(P-ae)/2+ae,y:(Y-ae)/2},x3:{x:(P-ae)/2,y:(Y-ae)/2},x4:{x:(P-ae)/2+ae,y:(Y-ae)/2+ae}}}},Te.internal.getWidth=function(V){var ee=0;return(V===void 0?"undefined":an(V))==="object"&&(ee=y(V.Rect[2])),ee},Te.internal.getHeight=function(V){var ee=0;return(V===void 0?"undefined":an(V))==="object"&&(ee=y(V.Rect[3])),ee},b.addField=function(V){return ge.call(this),V instanceof be?this.addTextField.call(this,V):V instanceof _e?this.addChoiceField.call(this,V):V instanceof ie?this.addButton.call(this,V):V instanceof oe?K.call(this,V):V&&K.call(this,V),V.page=O.internal.getCurrentPageInfo().pageNumber,this},b.addButton=function(V){ge.call(this);var ee=V||new de;ee.FT="/Btn",ee.Ff=k(ee.Ff,V,O.internal.getPDFVersion()),K.call(this,ee)},b.addTextField=function(V){ge.call(this);var ee=V||new de;ee.FT="/Tx",ee.Ff=k(ee.Ff,V,O.internal.getPDFVersion()),K.call(this,ee)},b.addChoiceField=function(V){ge.call(this);var ee=V||new de;ee.FT="/Ch",ee.Ff=k(ee.Ff,V,O.internal.getPDFVersion()),K.call(this,ee)},(F===void 0?"undefined":an(F))=="object"&&(F.ChoiceField=_e,F.ListBox=ye,F.ComboBox=X,F.EditBox=Q,F.Button=ie,F.PushButton=z,F.RadioButton=ue,F.CheckBox=Ne,F.TextField=be,F.PasswordField=Qe,F.AcroForm={Appearance:Te}),b.AcroFormChoiceField=_e,b.AcroFormListBox=ye,b.AcroFormComboBox=X,b.AcroFormEditBox=Q,b.AcroFormButton=ie,b.AcroFormPushButton=z,b.AcroFormRadioButton=ue,b.AcroFormCheckBox=Ne,b.AcroFormTextField=be,b.AcroFormPasswordField=Qe,b.AcroForm={ChoiceField:_e,ListBox:ye,ComboBox:X,EditBox:Q,Button:ie,PushButton:z,RadioButton:ue,CheckBox:Ne,TextField:be,PasswordField:Qe}})(Vt.API,typeof window!="undefined"&&window||typeof Xn!="undefined"&&Xn),Vt.API.addHTML=function(b,F,O,m,h){if(typeof html2canvas=="undefined"&&typeof rasterizeHTML=="undefined")throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");typeof F!="number"&&(m=F,h=O),typeof m=="function"&&(h=m,m=null),typeof h!="function"&&(h=function(){});var g=this.internal,y=g.scaleFactor,B=g.pageSize.getWidth(),E=g.pageSize.getHeight();if((m=m||{}).onrendered=function(U){F=parseInt(F)||0,O=parseInt(O)||0;var v=m.dim||{},S=Object.assign({top:0,right:0,bottom:0,left:0,useFor:"content"},m.margin),_=v.h||Math.min(E,U.height/y),L=v.w||Math.min(B,U.width/y)-F,R=m.format||"JPEG",K=m.imageCompression||"SLOW";if(U.height>E-S.top-S.bottom&&m.pagesplit){var $=function(ge,le,x,G,W){var ce=document.createElement("canvas");ce.height=W,ce.width=G;var de=ce.getContext("2d");return de.mozImageSmoothingEnabled=!1,de.webkitImageSmoothingEnabled=!1,de.msImageSmoothingEnabled=!1,de.imageSmoothingEnabled=!1,de.fillStyle=m.backgroundColor||"#ffffff",de.fillRect(0,0,G,W),de.drawImage(ge,le,x,G,W,0,0,G,W),ce},Z=function(){for(var ge,le,x=0,G=0,W={},ce=!1;;){var de;if(G=0,W.top=x!==0?S.top:O,W.left=x!==0?S.left:F,ce=(B-S.left-S.right)*y<U.width,S.useFor==="content"?x===0?(ge=Math.min((B-S.left)*y,U.width),le=Math.min((E-S.top)*y,U.height-x)):(ge=Math.min(B*y,U.width),le=Math.min(E*y,U.height-x),W.top=0):(ge=Math.min((B-S.left-S.right)*y,U.width),le=Math.min((E-S.bottom-S.top)*y,U.height-x)),ce)for(;;){S.useFor==="content"&&(G===0?ge=Math.min((B-S.left)*y,U.width):(ge=Math.min(B*y,U.width-G),W.left=0));var _e=[de=$(U,G,x,ge,le),W.left,W.top,de.width/y,de.height/y,R,null,K];if(this.addImage.apply(this,_e),(G+=ge)>=U.width)break;this.addPage()}else _e=[de=$(U,0,x,ge,le),W.left,W.top,de.width/y,de.height/y,R,null,K],this.addImage.apply(this,_e);if((x+=le)>=U.height)break;this.addPage()}h(L,x,null,_e)}.bind(this);if(U.nodeName==="CANVAS"){var Ae=new Image;Ae.onload=Z,Ae.src=U.toDataURL("image/png"),U=Ae}else Z()}else{var he=Math.random().toString(35),xe=[U,F,O,L,_,R,he,K];this.addImage.apply(this,xe),h(L,_,he,xe)}}.bind(this),typeof html2canvas!="undefined"&&!m.rstz)return html2canvas(b,m);if(typeof rasterizeHTML!="undefined"){var k="drawDocument";return typeof b=="string"&&(k=/^http/.test(b)?"drawURL":"drawHTML"),m.width=m.width||B*y,rasterizeHTML[k](b,void 0,m).then(function(U){m.onrendered(U.image)},function(U){h(null,U)})}return null},function(b){var F="addImage_",O={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]};b.getImageFileTypeByImageData=function(v,S){var _,L;S=S||"UNKNOWN";var R,K,$,Z="UNKNOWN";for($ in O)for(R=O[$],_=0;_<R.length;_+=1){for(K=!0,L=0;L<R[_].length;L+=1)if(R[_][L]!==void 0&&R[_][L]!==v.charCodeAt(L)){K=!1;break}if(K===!0){Z=$;break}}return Z==="UNKOWN"&&S!=="UNKNOWN"&&(console.warn('FileType of Image not recognized. Processing image as "'+S+'".'),Z=S),Z};var m=function v(S){var _=this.internal.newObject(),L=this.internal.write,R=this.internal.putStream;if(S.n=_,L("<</Type /XObject"),L("/Subtype /Image"),L("/Width "+S.w),L("/Height "+S.h),S.cs===this.color_spaces.INDEXED?L("/ColorSpace [/Indexed /DeviceRGB "+(S.pal.length/3-1)+" "+("smask"in S?_+2:_+1)+" 0 R]"):(L("/ColorSpace /"+S.cs),S.cs===this.color_spaces.DEVICE_CMYK&&L("/Decode [1 0 1 0 1 0 1 0]")),L("/BitsPerComponent "+S.bpc),"f"in S&&L("/Filter /"+S.f),"dp"in S&&L("/DecodeParms <<"+S.dp+">>"),"trns"in S&&S.trns.constructor==Array){for(var K="",$=0,Z=S.trns.length;$<Z;$++)K+=S.trns[$]+" "+S.trns[$]+" ";L("/Mask ["+K+"]")}if("smask"in S&&L("/SMask "+(_+1)+" 0 R"),L("/Length "+S.data.length+">>"),R(S.data),L("endobj"),"smask"in S){var Ae="/Predictor "+S.p+" /Colors 1 /BitsPerComponent "+S.bpc+" /Columns "+S.w,he={w:S.w,h:S.h,cs:"DeviceGray",bpc:S.bpc,dp:Ae,data:S.smask};"f"in S&&(he.f=S.f),v.call(this,he)}S.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),L("<< /Length "+S.pal.length+">>"),R(this.arrayBufferToBinaryString(new Uint8Array(S.pal))),L("endobj"))},h=function(){var v=this.internal.collections[F+"images"];for(var S in v)m.call(this,v[S])},g=function(){var v,S=this.internal.collections[F+"images"],_=this.internal.write;for(var L in S)_("/I"+(v=S[L]).i,v.n,"0","R")},y=function(v){return typeof b["process"+v.toUpperCase()]=="function"},B=function(v){return(v===void 0?"undefined":an(v))==="object"&&v.nodeType===1},E=function(v,S){if(v.nodeName==="IMG"&&v.hasAttribute("src")){var _=""+v.getAttribute("src");if(_.indexOf("data:image/")===0)return _;!S&&/\.png(?:[?#].*)?$/i.test(_)&&(S="png")}if(v.nodeName==="CANVAS")var L=v;else{(L=document.createElement("canvas")).width=v.clientWidth||v.width,L.height=v.clientHeight||v.height;var R=L.getContext("2d");if(!R)throw"addImage requires canvas to be supported by browser.";R.drawImage(v,0,0,L.width,L.height)}return L.toDataURL((""+S).toLowerCase()=="png"?"image/png":"image/jpeg")},k=function(v,S){var _;if(S){for(var L in S)if(v===S[L].alias){_=S[L];break}}return _};b.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},b.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},b.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b.sHashCode=function(v){return v=v||"",Array.prototype.reduce&&v.split("").reduce(function(S,_){return(S=(S<<5)-S+_.charCodeAt(0))&S},0)},b.isString=function(v){return typeof v=="string"},b.validateStringAsBase64=function(v){var S=!0;return(v=v||"").length%4!=0&&(S=!1),/[A-Za-z0-9\/]+/.test(v.substr(0,v.length-2))===!1&&(S=!1),/[A-Za-z0-9\/][A-Za-z0-9+\/]|[A-Za-z0-9+\/]=|==/.test(v.substr(-2))===!1&&(S=!1),S},b.extractInfoFromBase64DataURI=function(v){return/^data:([\w]+?\/([\w]+?));base64,(.+)$/g.exec(v)},b.supportsArrayBuffer=function(){return typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"},b.isArrayBuffer=function(v){return!!this.supportsArrayBuffer()&&v instanceof ArrayBuffer},b.isArrayBufferView=function(v){return!!this.supportsArrayBuffer()&&typeof Uint32Array!="undefined"&&(v instanceof Int8Array||v instanceof Uint8Array||typeof Uint8ClampedArray!="undefined"&&v instanceof Uint8ClampedArray||v instanceof Int16Array||v instanceof Uint16Array||v instanceof Int32Array||v instanceof Uint32Array||v instanceof Float32Array||v instanceof Float64Array)},b.binaryStringToUint8Array=function(v){for(var S=v.length,_=new Uint8Array(S),L=0;L<S;L++)_[L]=v.charCodeAt(L);return _},b.arrayBufferToBinaryString=function(v){if(typeof atob=="function")return atob(this.arrayBufferToBase64(v));if(typeof TextDecoder=="function"){var S=new TextDecoder("ascii");if(S.encoding==="ascii")return S.decode(v)}for(var _=this.isArrayBuffer(v)?v:new Uint8Array(v),L=20480,R="",K=Math.ceil(_.byteLength/L),$=0;$<K;$++)R+=String.fromCharCode.apply(null,_.slice($*L,$*L+L));return R},b.arrayBufferToBase64=function(v){for(var S,_="",L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=new Uint8Array(v),K=R.byteLength,$=K%3,Z=K-$,Ae=0;Ae<Z;Ae+=3)_+=L[(16515072&(S=R[Ae]<<16|R[Ae+1]<<8|R[Ae+2]))>>18]+L[(258048&S)>>12]+L[(4032&S)>>6]+L[63&S];return $==1?_+=L[(252&(S=R[Z]))>>2]+L[(3&S)<<4]+"==":$==2&&(_+=L[(64512&(S=R[Z]<<8|R[Z+1]))>>10]+L[(1008&S)>>4]+L[(15&S)<<2]+"="),_},b.createImageInfo=function(v,S,_,L,R,K,$,Z,Ae,he,xe,ge,le){var x={alias:Z,w:S,h:_,cs:L,bpc:R,i:$,data:v};return K&&(x.f=K),Ae&&(x.dp=Ae),he&&(x.trns=he),xe&&(x.pal=xe),ge&&(x.smask=ge),le&&(x.p=le),x},b.addImage=function(v,S,_,L,R,K,$,Z,Ae){var he="";if(typeof S!="string"){var xe=K;K=R,R=L,L=_,_=S,S=xe}if((v===void 0?"undefined":an(v))==="object"&&!B(v)&&"imageData"in v){var ge=v;v=ge.imageData,S=ge.format||S,_=ge.x||_||0,L=ge.y||L||0,R=ge.w||R,K=ge.h||K,$=ge.alias||$,Z=ge.compression||Z,Ae=ge.rotation||ge.angle||Ae}if(isNaN(_)||isNaN(L))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var le,x,G,W,ce,de,_e,ye=function(){var X=this.internal.collections[F+"images"];return X||(this.internal.collections[F+"images"]=X={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",g)),X}.call(this);if(!(le=k(v,ye))&&(B(v)&&(v=E(v,S)),((_e=$)==null||_e.length===0)&&($=typeof(de=v)=="string"&&b.sHashCode(de)),!(le=k($,ye)))){if(this.isString(v)&&((he=this.convertStringToImageData(v))!==""||(he=this.loadImageFile(v))!==void 0)&&(v=he),S=this.getImageFileTypeByImageData(v,S),!y(S))throw new Error("addImage does not support files of type '"+S+"', please ensure that a plugin for '"+S+"' support is added.");if(this.supportsArrayBuffer()&&(v instanceof Uint8Array||(x=v,v=this.binaryStringToUint8Array(v))),!(le=this["process"+S.toUpperCase()](v,(ce=0,(W=ye)&&(ce=Object.keys?Object.keys(W).length:function(X){var Q=0;for(var ie in X)X.hasOwnProperty(ie)&&Q++;return Q}(W)),ce),$,((G=Z)&&typeof G=="string"&&(G=G.toUpperCase()),G in b.image_compression?G:b.image_compression.NONE),x)))throw new Error("An unkwown error occurred whilst processing the image")}return function(X,Q,ie,z,ue,oe,Ne,be){var Qe=function(ae,ke,Le){return ae||ke||(ke=ae=-96),ae<0&&(ae=-1*Le.w*72/ae/this.internal.scaleFactor),ke<0&&(ke=-1*Le.h*72/ke/this.internal.scaleFactor),ae===0&&(ae=ke*Le.w/Le.h),ke===0&&(ke=ae*Le.h/Le.w),[ae,ke]}.call(this,ie,z,ue),Te=this.internal.getCoordinateString,V=this.internal.getVerticalCoordinateString;if(ie=Qe[0],z=Qe[1],Ne[oe]=ue,be){be*=Math.PI/180;var ee=Math.cos(be),C=Math.sin(be),P=function(ae){return ae.toFixed(4)},Y=[P(ee),P(C),P(-1*C),P(ee),0,0,"cm"]}this.internal.write("q"),be?(this.internal.write([1,"0","0",1,Te(X),V(Q+z),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([Te(ie),"0","0",Te(z),"0","0","cm"].join(" "))):this.internal.write([Te(ie),"0","0",Te(z),Te(X),V(Q+z),"cm"].join(" ")),this.internal.write("/I"+ue.i+" Do"),this.internal.write("Q")}.call(this,_,L,R,K,le,le.i,ye,Ae),this},b.convertStringToImageData=function(v){var S,_="";return this.isString(v)&&((S=this.extractInfoFromBase64DataURI(v))!==null?b.validateStringAsBase64(S[3])&&(_=atob(S[3])):b.validateStringAsBase64(v)&&(_=atob(v))),_};var U=function(v,S){return v.subarray(S,S+5)};b.processJPEG=function(v,S,_,L,R,K){var $,Z=this.decode.DCT_DECODE;if(!this.isString(v)&&!this.isArrayBuffer(v)&&!this.isArrayBufferView(v))return null;if(this.isString(v)&&($=function(Ae){var he;if(!Ae.charCodeAt(0)===255||!Ae.charCodeAt(1)===216||!Ae.charCodeAt(2)===255||!Ae.charCodeAt(3)===224||!Ae.charCodeAt(6)===74||!Ae.charCodeAt(7)===70||!Ae.charCodeAt(8)===73||!Ae.charCodeAt(9)===70||!Ae.charCodeAt(10)===0)throw new Error("getJpegSize requires a binary string jpeg file");for(var xe=256*Ae.charCodeAt(4)+Ae.charCodeAt(5),ge=4,le=Ae.length;ge<le;){if(ge+=xe,Ae.charCodeAt(ge)!==255)throw new Error("getJpegSize could not find the size of the image");if(Ae.charCodeAt(ge+1)===192||Ae.charCodeAt(ge+1)===193||Ae.charCodeAt(ge+1)===194||Ae.charCodeAt(ge+1)===195||Ae.charCodeAt(ge+1)===196||Ae.charCodeAt(ge+1)===197||Ae.charCodeAt(ge+1)===198||Ae.charCodeAt(ge+1)===199)return he=256*Ae.charCodeAt(ge+5)+Ae.charCodeAt(ge+6),[256*Ae.charCodeAt(ge+7)+Ae.charCodeAt(ge+8),he,Ae.charCodeAt(ge+9)];ge+=2,xe=256*Ae.charCodeAt(ge)+Ae.charCodeAt(ge+1)}}(v)),this.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.isArrayBufferView(v)&&($=function(Ae){if((Ae[0]<<8|Ae[1])!=65496)throw new Error("Supplied data is not a JPEG");for(var he,xe=Ae.length,ge=(Ae[4]<<8)+Ae[5],le=4;le<xe;){if(ge=((he=U(Ae,le+=ge))[2]<<8)+he[3],(he[1]===192||he[1]===194)&&he[0]===255&&7<ge)return{width:((he=U(Ae,le+5))[2]<<8)+he[3],height:(he[0]<<8)+he[1],numcomponents:he[4]};le+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")}(v),v=R||this.arrayBufferToBinaryString(v)),K===void 0)switch($.numcomponents){case 1:K=this.color_spaces.DEVICE_GRAY;break;case 4:K=this.color_spaces.DEVICE_CMYK;break;default:case 3:K=this.color_spaces.DEVICE_RGB}return this.createImageInfo(v,$.width,$.height,K,8,Z,S,_)},b.processJPG=function(){return this.processJPEG.apply(this,arguments)},b.loadImageFile=function(v,S,_){if(S=S||!0,Object.prototype.toString.call(typeof process!="undefined"?process:0),(typeof window=="undefined"?"undefined":an(window))!==void 0&&(typeof location=="undefined"?"undefined":an(location))==="object"&&location.protocol.substr(0,4)==="http")return function(L,R,K){var $=new XMLHttpRequest,Z=[],Ae=0,he=function(xe){var ge=xe.length,le=String.fromCharCode;for(Ae=0;Ae<ge;Ae+=1)Z.push(le(255&xe.charCodeAt(Ae)));return Z.join("")};if($.open("GET",L,!R),$.overrideMimeType("text/plain; charset=x-user-defined"),R===!1&&($.onload=function(){return he(this.responseText)}),$.send(null),$.status===200)return R?he($.responseText):void 0;console.warn('Unable to load file "'+L+'"')}(v,S)},b.getImageProperties=function(v){var S,_,L="";if(B(v)&&(v=E(v)),this.isString(v)&&((L=this.convertStringToImageData(v))!==""||(L=this.loadImageFile(v))!==void 0)&&(v=L),_=this.getImageFileTypeByImageData(v),!y(_))throw new Error("addImage does not support files of type '"+_+"', please ensure that a plugin for '"+_+"' support is added.");if(this.supportsArrayBuffer()&&(v instanceof Uint8Array||(v=this.binaryStringToUint8Array(v))),!(S=this["process"+_.toUpperCase()](v)))throw new Error("An unkwown error occurred whilst processing the image");return{fileType:_,width:S.w,height:S.h,colorSpace:S.cs,compressionMode:S.f,bitsPerComponent:S.bpc}}}(Vt.API),n=Vt.API,r={annotations:[],f2:function(b){return b.toFixed(2)},notEmpty:function(b){if(b!==void 0&&b!="")return!0}},Vt.API.annotationPlugin=r,Vt.API.events.push(["addPage",function(b){this.annotationPlugin.annotations[b.pageNumber]=[]}]),n.events.push(["putPage",function(b){for(var F=this.annotationPlugin.annotations[b.pageNumber],O=!1,m=0;m<F.length&&!O;m++)switch((E=F[m]).type){case"link":if(r.notEmpty(E.options.url)||r.notEmpty(E.options.pageNumber)){O=!0;break}case"reference":case"text":case"freetext":O=!0}if(O!=0){this.internal.write("/Annots [");var h=this.annotationPlugin.f2,g=this.internal.scaleFactor,y=this.internal.pageSize.getHeight(),B=this.internal.getPageInfo(b.pageNumber);for(m=0;m<F.length;m++){var E;switch((E=F[m]).type){case"reference":this.internal.write(" "+E.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),U=this.internal.newAdditionalObject(),v=E.title||"Note";K="<</Type /Annot /Subtype /Text "+(_="/Rect ["+h(E.bounds.x*g)+" "+h(y-(E.bounds.y+E.bounds.h)*g)+" "+h((E.bounds.x+E.bounds.w)*g)+" "+h((y-E.bounds.y)*g)+"] ")+"/Contents ("+E.contents+")",K+=" /Popup "+U.objId+" 0 R",K+=" /P "+B.objId+" 0 R",K+=" /T ("+v+") >>",k.content=K;var S=k.objId+" 0 R";K="<</Type /Annot /Subtype /Popup "+(_="/Rect ["+h((E.bounds.x+30)*g)+" "+h(y-(E.bounds.y+E.bounds.h)*g)+" "+h((E.bounds.x+E.bounds.w+30)*g)+" "+h((y-E.bounds.y)*g)+"] ")+" /Parent "+S,E.open&&(K+=" /Open true"),K+=" >>",U.content=K,this.internal.write(k.objId,"0 R",U.objId,"0 R");break;case"freetext":var _="/Rect ["+h(E.bounds.x*g)+" "+h((y-E.bounds.y)*g)+" "+h(E.bounds.x+E.bounds.w*g)+" "+h(y-(E.bounds.y+E.bounds.h)*g)+"] ",L=E.color||"#000000";K="<</Type /Annot /Subtype /FreeText "+_+"/Contents ("+E.contents+")",K+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",K+=" /Border [0 0 0]",K+=" >>",this.internal.write(K);break;case"link":if(E.options.name){var R=this.annotations._nameMap[E.options.name];E.options.pageNumber=R.page,E.options.top=R.y}else E.options.top||(E.options.top=0);_="/Rect ["+h(E.x*g)+" "+h((y-E.y)*g)+" "+h((E.x+E.w)*g)+" "+h((y-(E.y+E.h))*g)+"] ";var K="";if(E.options.url)K="<</Type /Annot /Subtype /Link "+_+"/Border [0 0 0] /A <</S /URI /URI ("+E.options.url+") >>";else if(E.options.pageNumber)switch(K="<</Type /Annot /Subtype /Link "+_+"/Border [0 0 0] /Dest ["+(b=this.internal.getPageInfo(E.options.pageNumber)).objId+" 0 R",E.options.magFactor=E.options.magFactor||"XYZ",E.options.magFactor){case"Fit":K+=" /Fit]";break;case"FitH":K+=" /FitH "+E.options.top+"]";break;case"FitV":E.options.left=E.options.left||0,K+=" /FitV "+E.options.left+"]";break;case"XYZ":default:var $=h((y-E.options.top)*g);E.options.left=E.options.left||0,E.options.zoom===void 0&&(E.options.zoom=0),K+=" /XYZ "+E.options.left+" "+$+" "+E.options.zoom+"]"}K!=""&&(K+=" >>",this.internal.write(K))}}this.internal.write("]")}}]),n.createAnnotation=function(b){switch(b.type){case"link":this.link(b.bounds.x,b.bounds.y,b.bounds.w,b.bounds.h,b);break;case"text":case"freetext":this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push(b)}},n.link=function(b,F,O,m,h){this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({x:b,y:F,w:O,h:m,options:h,type:"link"})},n.textWithLink=function(b,F,O,m){var h=this.getTextWidth(b),g=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(b,F,O),O+=.2*g,this.link(F,O-g,h,g,m),h},n.getTextWidth=function(b){var F=this.internal.getFontSize();return this.getStringUnitWidth(b)*F/this.internal.scaleFactor},n.getLineHeight=function(){return this.internal.getLineHeight()},function(b){var F=Object.keys({ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",fa:"Persian","fa-IR":"Persian/Iran",ur:"Urdu"}),O={1569:[65152],1570:[65153,65154,65153,65154],1571:[65155,65156,65155,65156],1572:[65157,65158],1573:[65159,65160,65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166,65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194,65193],1584:[65195,65196,65195],1585:[65197,65198,65197],1586:[65199,65200,65199],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262,65261],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395,64394],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},m={1570:[65269,65270,65269,65270],1571:[65271,65272,65271,65272],1573:[65273,65274,65273,65274],1575:[65275,65276,65275,65276]},h={1570:[65153,65154,65153,65154],1571:[65155,65156,65155,65156],1573:[65159,65160,65159,65160],1575:[65165,65166,65165,65166]},g={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},y=[1570,1571,1573,1575],B=[1569,1570,1571,1572,1573,1575,1577,1583,1584,1585,1586,1608,1688],E=0,k=1,U=2,v=3;function S(Z){return Z!==void 0&&O[Z.charCodeAt(0)]!==void 0}function _(Z){return Z!==void 0&&0<=B.indexOf(Z.charCodeAt(0))}function L(Z){return Z!==void 0&&0<=y.indexOf(Z.charCodeAt(0))}function R(Z){return S(Z)&&2<=O[Z.charCodeAt(0)].length}function K(Z,Ae,he,xe){return S(Z)?(xe=xe||{},O=Object.assign(O,xe),!R(Z)||!S(Ae)&&!S(he)||!S(he)&&_(Ae)||_(Z)&&!S(Ae)||_(Z)&&L(Ae)||_(Z)&&_(Ae)?(O=Object.assign(O,h),E):S(ge=Z)&&O[ge.charCodeAt(0)].length==4&&S(Ae)&&!_(Ae)&&S(he)&&R(he)?(O=Object.assign(O,h),v):_(Z)||!S(he)?(O=Object.assign(O,h),k):(O=Object.assign(O,h),U)):-1;var ge}var $=b.processArabic=function(Z,Ae){Z=Z||"",Ae=Ae||!1;var he,xe,ge,le="",x=0,G=0,W="",ce="",de="";for(x=0;x<Z.length;x+=1)W=Z[x],ce=Z[x-1],de=Z[x+1],S(W)?ce!==void 0&&ce.charCodeAt(0)===1604&&L(W)?(G=K(W,Z[x-2],Z[x+1],m),he=String.fromCharCode(m[W.charCodeAt(0)][G]),le=le.substr(0,le.length-1)+he):ce!==void 0&&ce.charCodeAt(0)===1617&&(xe=W)!==void 0&&g[xe.charCodeAt(0)]!==void 0?(G=K(W,Z[x-2],Z[x+1],h),he=String.fromCharCode(g[W.charCodeAt(0)][G]),le=le.substr(0,le.length-1)+he):(G=K(W,ce,de,h),le+=String.fromCharCode(O[W.charCodeAt(0)][G])):le+=Ae?{"(":")",")":"("}[ge=W]||ge:W;return Ae?le.split("").reverse().join(""):le};b.events.push(["preProcessText",function(Z){var Ae=Z.text,he=(Z.x,Z.y,Z.options||{}),xe=(Z.mutex,he.lang),ge=[];if(0<=F.indexOf(xe)){if(Object.prototype.toString.call(Ae)==="[object Array]"){var le=0;for(ge=[],le=0;le<Ae.length;le+=1)Object.prototype.toString.call(Ae[le])==="[object Array]"?ge.push([$(Ae[le][0],!0),Ae[le][1],Ae[le][2]]):ge.push([$(Ae[le],!0)]);Z.text=ge}else Z.text=$(Ae,!0);he.charSpace===void 0&&(Z.options.charSpace=0),he.R2L===!0&&(Z.options.R2L=!1)}}])}(Vt.API),Vt.API.autoPrint=function(b){var F;switch((b=b||{}).variant=b.variant||"non-conform",b.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){F=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+F+" 0 R")})}return this},(i=Vt.API).events.push(["initialized",function(){this.canvas.pdf=this}]),i.canvas={getContext:function(b){return(this.pdf.context2d._canvas=this).pdf.context2d},childNodes:[]},Object.defineProperty(i.canvas,"width",{get:function(){return this._width},set:function(b){this._width=b,this.getContext("2d").pageWrapX=b+1}}),Object.defineProperty(i.canvas,"height",{get:function(){return this._height},set:function(b){this._height=b,this.getContext("2d").pageWrapY=b+1}}),s=Vt.API,l={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},c=1,f=function(b,F,O,m,h){l={x:b,y:F,w:O,h:m,ln:h}},d=function(){return l},w={left:0,top:0,bottom:0},s.setHeaderFunction=function(b){u=b},s.getTextDimensions=function(b){a=this.internal.getFont().fontName,o=this.table_font_size||this.internal.getFontSize(),A=this.internal.getFont().fontStyle;var F,O,m=19.049976/25.4;(O=document.createElement("font")).id="jsPDFCell";try{O.style.fontStyle=A}catch(h){O.style.fontWeight=A}O.style.fontSize=o+"pt",O.style.fontFamily=a;try{O.textContent=b}catch(h){O.innerText=b}return document.body.appendChild(O),F={w:(O.offsetWidth+1)*m,h:(O.offsetHeight+1)*m},document.body.removeChild(O),F},s.cellAddPage=function(){var b=this.margins||w;this.addPage(),f(b.left,b.top,void 0,void 0),c+=1},s.cellInitialize=function(){l={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},c=1},s.cell=function(b,F,O,m,h,g,y){var B=d(),E=!1;if(B.ln!==void 0)if(B.ln===g)b=B.x+B.w,F=B.y;else{var k=this.margins||w;B.y+B.h+m+13>=this.internal.pageSize.getHeight()-k.bottom&&(this.cellAddPage(),E=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(g,!0)),F=d().y+d().h,E&&(F=23)}if(h[0]!==void 0)if(this.printingHeaderRow?this.rect(b,F,O,m,"FD"):this.rect(b,F,O,m),y==="right"){h instanceof Array||(h=[h]);for(var U=0;U<h.length;U++){var v=h[U],S=this.getStringUnitWidth(v)*this.internal.getFontSize();this.text(v,b+O-S-3,F+this.internal.getLineHeight()*(U+1))}}else this.text(h,b+3,F+this.internal.getLineHeight());return f(b,F,O,m,g),this},s.arrayMax=function(b,F){var O,m,h,g=b[0];for(O=0,m=b.length;O<m;O+=1)h=b[O],F?F(g,h)===-1&&(g=h):g<h&&(g=h);return g},s.table=function(b,F,O,m,h){if(!O)throw"No data for PDF table";var g,y,B,E,k,U,v,S,_,L,R=[],K=[],$={},Z={},Ae=[],he=[],xe=!1,ge=!0,le=12,x=w;if(x.width=this.internal.pageSize.getWidth(),h&&(h.autoSize===!0&&(xe=!0),h.printHeaders===!1&&(ge=!1),h.fontSize&&(le=h.fontSize),h.css&&h.css["font-size"]!==void 0&&(le=16*h.css["font-size"]),h.margins&&(x=h.margins)),this.lnMod=0,l={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},c=1,this.printHeaders=ge,this.margins=x,this.setFontSize(le),this.table_font_size=le,m==null)R=Object.keys(O[0]);else if(m[0]&&typeof m[0]!="string")for(y=0,B=m.length;y<B;y+=1)g=m[y],R.push(g.name),K.push(g.prompt),Z[g.name]=g.width*(19.049976/25.4);else R=m;if(xe)for(L=function(W){return W[g]},y=0,B=R.length;y<B;y+=1){for($[g=R[y]]=O.map(L),Ae.push(this.getTextDimensions(K[y]||g).w),v=0,E=(U=$[g]).length;v<E;v+=1)k=U[v],Ae.push(this.getTextDimensions(k).w);Z[g]=s.arrayMax(Ae),Ae=[]}if(ge){var G=this.calculateLineHeight(R,Z,K.length?K:R);for(y=0,B=R.length;y<B;y+=1)g=R[y],he.push([b,F,Z[g],G,String(K.length?K[y]:g)]);this.setTableHeaderRow(he),this.printHeaderRow(1,!1)}for(y=0,B=O.length;y<B;y+=1)for(S=O[y],G=this.calculateLineHeight(R,Z,S),v=0,_=R.length;v<_;v+=1)g=R[v],this.cell(b,F,Z[g],G,S[g],y+2,g.align);return this.lastCellPos=l,this.table_x=b,this.table_y=F,this},s.calculateLineHeight=function(b,F,O){for(var m,h=0,g=0;g<b.length;g++){O[m=b[g]]=this.splitTextToSize(String(O[m]),F[m]-3);var y=this.internal.getLineHeight()*O[m].length+3;h<y&&(h=y)}return h},s.setTableHeaderRow=function(b){this.tableHeaderRow=b},s.printHeaderRow=function(b,F){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var O,m,h,g;if(this.printingHeaderRow=!0,u!==void 0){var y=u(this,c);f(y[0],y[1],y[2],y[3],-1)}this.setFontStyle("bold");var B=[];for(h=0,g=this.tableHeaderRow.length;h<g;h+=1)this.setFillColor(200,200,200),O=this.tableHeaderRow[h],F&&(this.margins.top=13,O[1]=this.margins&&this.margins.top||0,B.push(O)),m=[].concat(O),this.cell.apply(this,m.concat(b));0<B.length&&this.setTableHeaderRow(B),this.setFontStyle("normal"),this.printingHeaderRow=!1},function(b){b.events.push(["initialized",function(){((this.context2d.pdf=this).context2d.internal.pdf=this).context2d.ctx=new O,this.context2d.ctxStack=[],this.context2d.path=[]}]),b.context2d={pageWrapXEnabled:!1,pageWrapYEnabled:!1,pageWrapX:9999999,pageWrapY:9999999,ctx:new O,f2:function(m){return m.toFixed(2)},fillRect:function(m,h,g,y){if(!this._isFillTransparent()){m=this._wrapX(m),h=this._wrapY(h);var B=this._matrix_map_rect(this.ctx._transform,{x:m,y:h,w:g,h:y});this.pdf.rect(B.x,B.y,B.w,B.h,"f")}},strokeRect:function(m,h,g,y){if(!this._isStrokeTransparent()){m=this._wrapX(m),h=this._wrapY(h);var B=this._matrix_map_rect(this.ctx._transform,{x:m,y:h,w:g,h:y});this.pdf.rect(B.x,B.y,B.w,B.h,"s")}},clearRect:function(m,h,g,y){if(!this.ctx.ignoreClearRect){m=this._wrapX(m),h=this._wrapY(h);var B=this._matrix_map_rect(this.ctx._transform,{x:m,y:h,w:g,h:y});this.save(),this.setFillStyle("#ffffff"),this.pdf.rect(B.x,B.y,B.w,B.h,"f"),this.restore()}},save:function(){this.ctx._fontSize=this.pdf.internal.getFontSize();var m=new O;m.copy(this.ctx),this.ctxStack.push(this.ctx),this.ctx=m},restore:function(){this.ctx=this.ctxStack.pop(),this.setFillStyle(this.ctx.fillStyle),this.setStrokeStyle(this.ctx.strokeStyle),this.setFont(this.ctx.font),this.pdf.setFontSize(this.ctx._fontSize),this.setLineCap(this.ctx.lineCap),this.setLineWidth(this.ctx.lineWidth),this.setLineJoin(this.ctx.lineJoin)},rect:function(m,h,g,y){this.moveTo(m,h),this.lineTo(m+g,h),this.lineTo(m+g,h+y),this.lineTo(m,h+y),this.lineTo(m,h),this.closePath()},beginPath:function(){this.path=[]},closePath:function(){this.path.push({type:"close"})},_getRGBA:function(m){var h,g,y,B,E=new RGBColor(m);if(!m)return{r:0,g:0,b:0,a:0,style:m};if(this.internal.rxTransparent.test(m))B=y=g=h=0;else{var k=this.internal.rxRgb.exec(m);k!=null?(h=parseInt(k[1]),g=parseInt(k[2]),y=parseInt(k[3]),B=1):(k=this.internal.rxRgba.exec(m))!=null?(h=parseInt(k[1]),g=parseInt(k[2]),y=parseInt(k[3]),B=parseFloat(k[4])):(B=1,m.charAt(0)!="#"&&(m=E.ok?E.toHex():"#000000"),m.length===4?(h=m.substring(1,2),h+=h,g=m.substring(2,3),g+=g,y=m.substring(3,4),y+=y):(h=m.substring(1,3),g=m.substring(3,5),y=m.substring(5,7)),h=parseInt(h,16),g=parseInt(g,16),y=parseInt(y,16))}return{r:h,g,b:y,a:B,style:m}},setFillStyle:function(m){var h=this._getRGBA(m);this.ctx.fillStyle=m,this.ctx._isFillTransparent=h.a===0,this.ctx._fillOpacity=h.a,this.pdf.setFillColor(h.r,h.g,h.b,{a:h.a}),this.pdf.setTextColor(h.r,h.g,h.b,{a:h.a})},setStrokeStyle:function(m){var h=this._getRGBA(m);this.ctx.strokeStyle=h.style,this.ctx._isStrokeTransparent=h.a===0,this.ctx._strokeOpacity=h.a,h.a===0?this.pdf.setDrawColor(255,255,255):(h.a,this.pdf.setDrawColor(h.r,h.g,h.b))},fillText:function(m,h,g,y){if(!this._isFillTransparent()){h=this._wrapX(h),g=this._wrapY(g);var B=this._matrix_map_point(this.ctx._transform,[h,g]);h=B[0],g=B[1];var E=57.2958*this._matrix_rotation(this.ctx._transform);if(0<this.ctx._clip_path.length){var k;(k=window.outIntercept?window.outIntercept.type==="group"?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var U=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(null,!0),this.ctx._clip_path=this.path,this.path=U}var v=1;try{v=this._matrix_decompose(this._getTransform()).scale[0]}catch(_){console.warn(_)}if(v<.01)this.pdf.text(m,h,this._getBaseline(g),null,E);else{var S=this.pdf.internal.getFontSize();this.pdf.setFontSize(S*v),this.pdf.text(m,h,this._getBaseline(g),null,E),this.pdf.setFontSize(S)}0<this.ctx._clip_path.length&&k.push("Q")}},strokeText:function(m,h,g,y){if(!this._isStrokeTransparent()){h=this._wrapX(h),g=this._wrapY(g);var B=this._matrix_map_point(this.ctx._transform,[h,g]);h=B[0],g=B[1];var E=57.2958*this._matrix_rotation(this.ctx._transform);if(0<this.ctx._clip_path.length){var k;(k=window.outIntercept?window.outIntercept.type==="group"?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var U=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(null,!0),this.ctx._clip_path=this.path,this.path=U}var v=1;try{v=this._matrix_decompose(this._getTransform()).scale[0]}catch(_){console.warn(_)}if(v===1)this.pdf.text(m,h,this._getBaseline(g),{stroke:!0},E);else{var S=this.pdf.internal.getFontSize();this.pdf.setFontSize(S*v),this.pdf.text(m,h,this._getBaseline(g),{stroke:!0},E),this.pdf.setFontSize(S)}0<this.ctx._clip_path.length&&k.push("Q")}},setFont:function(m){if(this.ctx.font=m,(S=/\s*(\w+)\s+(\w+)\s+(\w+)\s+([\d\.]+)(px|pt|em)\s+(.*)?/.exec(m))!=null){var h=S[1],g=(S[2],S[3]),y=S[4],B=S[5],E=S[6];y=Math.floor(B==="px"?parseFloat(y):B==="em"?parseFloat(y)*this.pdf.getFontSize():parseFloat(y)),this.pdf.setFontSize(y),g==="bold"||g==="700"?this.pdf.setFontStyle("bold"):h==="italic"?this.pdf.setFontStyle("italic"):this.pdf.setFontStyle("normal"),_=g==="bold"||g==="700"?h==="italic"?"bolditalic":"bold":h==="italic"?"italic":"normal";for(var k=E.toLowerCase().split(/\s*,\s*/),U="Times",v=0;v<k.length;v++){if(this.pdf.internal.getFont(k[v],_,{noFallback:!0,disableWarning:!0})!==void 0){U=k[v];break}if(_==="bolditalic"&&this.pdf.internal.getFont(k[v],"bold",{noFallback:!0,disableWarning:!0})!==void 0)U=k[v],_="bold";else if(this.pdf.internal.getFont(k[v],"normal",{noFallback:!0,disableWarning:!0})!==void 0){U=k[v],_="normal";break}}this.pdf.setFont(U,_)}else{var S=/\s*(\d+)(pt|px|em)\s+([\w "]+)\s*([\w "]+)?/.exec(m);if(S!=null){var _,L=S[1],R=(S[2],S[3]);(_=S[4])||(_="normal"),L=Math.floor(B==="em"?parseFloat(y)*this.pdf.getFontSize():parseFloat(L)),this.pdf.setFontSize(L),this.pdf.setFont(R,_)}}},setTextBaseline:function(m){this.ctx.textBaseline=m},getTextBaseline:function(){return this.ctx.textBaseline},setTextAlign:function(m){this.ctx.textAlign=m},getTextAlign:function(){return this.ctx.textAlign},setLineWidth:function(m){this.ctx.lineWidth=m,this.pdf.setLineWidth(m)},setLineCap:function(m){this.ctx.lineCap=m,this.pdf.setLineCap(m)},setLineJoin:function(m){this.ctx.lineJoin=m,this.pdf.setLineJoin(m)},moveTo:function(m,h){m=this._wrapX(m),h=this._wrapY(h);var g=this._matrix_map_point(this.ctx._transform,[m,h]),y={type:"mt",x:m=g[0],y:h=g[1]};this.path.push(y)},_wrapX:function(m){return this.pageWrapXEnabled?m%this.pageWrapX:m},_wrapY:function(m){return this.pageWrapYEnabled?(this._gotoPage(this._page(m)),(m-this.lastBreak)%this.pageWrapY):m},transform:function(m,h,g,y,B,E){this.ctx._transform=this._matrix_multiply(this.ctx._transform,[m,h,g,y,B,E])},setTransform:function(m,h,g,y,B,E){this.ctx._transform=[m,h,g,y,B,E]},_getTransform:function(){return this.ctx._transform},lastBreak:0,pageBreaks:[],_page:function(m){if(this.pageWrapYEnabled){for(var h=this.lastBreak=0,g=0,y=0;y<this.pageBreaks.length;y++)if(m>=this.pageBreaks[y]){h++,this.lastBreak===0&&g++;var B=this.pageBreaks[y]-this.lastBreak;this.lastBreak=this.pageBreaks[y],g+=Math.floor(B/this.pageWrapY)}return this.lastBreak===0&&(g+=Math.floor(m/this.pageWrapY)+1),g+h}return this.pdf.internal.getCurrentPageInfo().pageNumber},_gotoPage:function(m){},lineTo:function(m,h){m=this._wrapX(m),h=this._wrapY(h);var g=this._matrix_map_point(this.ctx._transform,[m,h]),y={type:"lt",x:m=g[0],y:h=g[1]};this.path.push(y)},bezierCurveTo:function(m,h,g,y,B,E){var k;m=this._wrapX(m),h=this._wrapY(h),g=this._wrapX(g),y=this._wrapY(y),B=this._wrapX(B),E=this._wrapY(E),B=(k=this._matrix_map_point(this.ctx._transform,[B,E]))[0],E=k[1];var U={type:"bct",x1:m=(k=this._matrix_map_point(this.ctx._transform,[m,h]))[0],y1:h=k[1],x2:g=(k=this._matrix_map_point(this.ctx._transform,[g,y]))[0],y2:y=k[1],x:B,y:E};this.path.push(U)},quadraticCurveTo:function(m,h,g,y){var B;m=this._wrapX(m),h=this._wrapY(h),g=this._wrapX(g),y=this._wrapY(y),g=(B=this._matrix_map_point(this.ctx._transform,[g,y]))[0],y=B[1];var E={type:"qct",x1:m=(B=this._matrix_map_point(this.ctx._transform,[m,h]))[0],y1:h=B[1],x:g,y};this.path.push(E)},arc:function(m,h,g,y,B,E){if(m=this._wrapX(m),h=this._wrapY(h),!this._matrix_is_identity(this.ctx._transform)){var k=this._matrix_map_point(this.ctx._transform,[m,h]);m=k[0],h=k[1];var U=this._matrix_map_point(this.ctx._transform,[0,0]),v=this._matrix_map_point(this.ctx._transform,[0,g]);g=Math.sqrt(Math.pow(v[0]-U[0],2)+Math.pow(v[1]-U[1],2))}var S={type:"arc",x:m,y:h,radius:g,startAngle:y,endAngle:B,anticlockwise:E};this.path.push(S)},drawImage:function(m,h,g,y,B,E,k,U,v){E!==void 0&&(h=E,g=k,y=U,B=v),h=this._wrapX(h),g=this._wrapY(g);var S,_=this._matrix_map_rect(this.ctx._transform,{x:h,y:g,w:y,h:B}),L=(this._matrix_map_rect(this.ctx._transform,{x:E,y:k,w:U,h:v}),/data:image\/(\w+).*/i.exec(m));S=L!=null?L[1]:"png",this.pdf.addImage(m,S,_.x,_.y,_.w,_.h)},_matrix_multiply:function(m,h){var g=h[0],y=h[1],B=h[2],E=h[3],k=h[4],U=h[5],v=g*m[0]+y*m[2],S=B*m[0]+E*m[2],_=k*m[0]+U*m[2]+m[4];return y=g*m[1]+y*m[3],E=B*m[1]+E*m[3],U=k*m[1]+U*m[3]+m[5],[g=v,y,B=S,E,k=_,U]},_matrix_rotation:function(m){return Math.atan2(m[2],m[0])},_matrix_decompose:function(m){var h=m[0],g=m[1],y=m[2],B=m[3],E=Math.sqrt(h*h+g*g),k=(h/=E)*y+(g/=E)*B;y-=h*k,B-=g*k;var U=Math.sqrt(y*y+B*B);return k/=U,h*(B/=U)<g*(y/=U)&&(h=-h,g=-g,k=-k,E=-E),{scale:[E,0,0,U,0,0],translate:[1,0,0,1,m[4],m[5]],rotate:[h,g,-g,h,0,0],skew:[1,0,k,1,0,0]}},_matrix_map_point:function(m,h){var g=m[0],y=m[1],B=m[2],E=m[3],k=m[4],U=m[5],v=h[0],S=h[1];return[v*g+S*B+k,v*y+S*E+U]},_matrix_map_point_obj:function(m,h){var g=this._matrix_map_point(m,[h.x,h.y]);return{x:g[0],y:g[1]}},_matrix_map_rect:function(m,h){var g=this._matrix_map_point(m,[h.x,h.y]),y=this._matrix_map_point(m,[h.x+h.w,h.y+h.h]);return{x:g[0],y:g[1],w:y[0]-g[0],h:y[1]-g[1]}},_matrix_is_identity:function(m){return m[0]==1&&m[1]==0&&m[2]==0&&m[3]==1&&m[4]==0&&m[5]==0},rotate:function(m){var h=[Math.cos(m),Math.sin(m),-Math.sin(m),Math.cos(m),0,0];this.ctx._transform=this._matrix_multiply(this.ctx._transform,h)},scale:function(m,h){var g=[m,0,0,h,0,0];this.ctx._transform=this._matrix_multiply(this.ctx._transform,g)},translate:function(m,h){var g=[1,0,0,1,m,h];this.ctx._transform=this._matrix_multiply(this.ctx._transform,g)},stroke:function(){if(0<this.ctx._clip_path.length){var m;(m=window.outIntercept?window.outIntercept.type==="group"?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var h=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._stroke(!0),this.ctx._clip_path=this.path,this.path=h,this._stroke(!1),m.push("Q")}else this._stroke(!1)},_stroke:function(m){if(m||!this._isStrokeTransparent()){for(var h=[],g=this.path,y=0;y<g.length;y++){var B=g[y];switch(B.type){case"mt":h.push({start:B,deltas:[],abs:[]});break;case"lt":var E=[B.x-g[y-1].x,B.y-g[y-1].y];h[h.length-1].deltas.push(E),h[h.length-1].abs.push(B);break;case"bct":E=[B.x1-g[y-1].x,B.y1-g[y-1].y,B.x2-g[y-1].x,B.y2-g[y-1].y,B.x-g[y-1].x,B.y-g[y-1].y],h[h.length-1].deltas.push(E);break;case"qct":var k=g[y-1].x+2/3*(B.x1-g[y-1].x),U=g[y-1].y+2/3*(B.y1-g[y-1].y),v=B.x+2/3*(B.x1-B.x),S=B.y+2/3*(B.y1-B.y),_=B.x,L=B.y;E=[k-g[y-1].x,U-g[y-1].y,v-g[y-1].x,S-g[y-1].y,_-g[y-1].x,L-g[y-1].y],h[h.length-1].deltas.push(E);break;case"arc":h.length==0&&h.push({start:{x:0,y:0},deltas:[],abs:[]}),h[h.length-1].arc=!0,Array.isArray(h[h.length-1].abs)&&h[h.length-1].abs.push(B)}}for(y=0;y<h.length;y++){var R;if(R=y==h.length-1?"s":null,h[y].arc)for(var K=h[y].abs,$=0;$<K.length;$++){var Z=K[$],Ae=360*Z.startAngle/(2*Math.PI),he=360*Z.endAngle/(2*Math.PI),xe=Z.x,ge=Z.y;this.internal.arc2(this,xe,ge,Z.radius,Ae,he,Z.anticlockwise,R,m)}else xe=h[y].start.x,ge=h[y].start.y,m?(this.pdf.lines(h[y].deltas,xe,ge,null,null),this.pdf.clip_fixed()):this.pdf.lines(h[y].deltas,xe,ge,null,R)}}},_isFillTransparent:function(){return this.ctx._isFillTransparent||this.globalAlpha==0},_isStrokeTransparent:function(){return this.ctx._isStrokeTransparent||this.globalAlpha==0},fill:function(m){if(0<this.ctx._clip_path.length){var h;(h=window.outIntercept?window.outIntercept.type==="group"?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var g=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(m,!0),this.ctx._clip_path=this.path,this.path=g,this._fill(m,!1),h.push("Q")}else this._fill(m,!1)},_fill:function(m,h){if(!this._isFillTransparent()){var g,y=typeof this.pdf.internal.newObject2=="function";g=window.outIntercept?window.outIntercept.type==="group"?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();var B=[],E=window.outIntercept;if(y)switch(this.ctx.globalCompositeOperation){case"normal":case"source-over":break;case"destination-in":case"destination-out":var k=this.pdf.internal.newStreamObject(),U=this.pdf.internal.newObject2();U.push("<</Type /ExtGState"),U.push("/SMask <</S /Alpha /G "+k.objId+" 0 R>>"),U.push(">>");var v="MASK"+U.objId;this.pdf.internal.addGraphicsState(v,U.objId);var S="/"+v+" gs";g.splice(0,0,"q"),g.splice(1,0,S),g.push("Q"),window.outIntercept=k;break;default:var _="/"+this.pdf.internal.blendModeMap[this.ctx.globalCompositeOperation.toUpperCase()];_&&this.pdf.internal.out(_+" gs")}var L=this.ctx.globalAlpha;if(this.ctx._fillOpacity<1&&(L=this.ctx._fillOpacity),y){var R=this.pdf.internal.newObject2();R.push("<</Type /ExtGState"),R.push("/CA "+L),R.push("/ca "+L),R.push(">>"),v="GS_O_"+R.objId,this.pdf.internal.addGraphicsState(v,R.objId),this.pdf.internal.out("/"+v+" gs")}for(var K=this.path,$=0;$<K.length;$++){var Z=K[$];switch(Z.type){case"mt":B.push({start:Z,deltas:[],abs:[]});break;case"lt":var Ae=[Z.x-K[$-1].x,Z.y-K[$-1].y];B[B.length-1].deltas.push(Ae),B[B.length-1].abs.push(Z);break;case"bct":Ae=[Z.x1-K[$-1].x,Z.y1-K[$-1].y,Z.x2-K[$-1].x,Z.y2-K[$-1].y,Z.x-K[$-1].x,Z.y-K[$-1].y],B[B.length-1].deltas.push(Ae);break;case"qct":var he=K[$-1].x+2/3*(Z.x1-K[$-1].x),xe=K[$-1].y+2/3*(Z.y1-K[$-1].y),ge=Z.x+2/3*(Z.x1-Z.x),le=Z.y+2/3*(Z.y1-Z.y),x=Z.x,G=Z.y;Ae=[he-K[$-1].x,xe-K[$-1].y,ge-K[$-1].x,le-K[$-1].y,x-K[$-1].x,G-K[$-1].y],B[B.length-1].deltas.push(Ae);break;case"arc":B.length===0&&B.push({deltas:[],abs:[]}),B[B.length-1].arc=!0,Array.isArray(B[B.length-1].abs)&&B[B.length-1].abs.push(Z);break;case"close":B.push({close:!0})}}for($=0;$<B.length;$++){var W;if($==B.length-1?(W="f",m==="evenodd"&&(W+="*")):W=null,B[$].close)this.pdf.internal.out("h"),W&&this.pdf.internal.out(W);else if(B[$].arc){B[$].start&&this.internal.move2(this,B[$].start.x,B[$].start.y);for(var ce=B[$].abs,de=0;de<ce.length;de++){var _e=ce[de];if(_e.startAngle!==void 0){var ye=360*_e.startAngle/(2*Math.PI),X=360*_e.endAngle/(2*Math.PI),Q=_e.x,ie=_e.y;de===0&&this.internal.move2(this,Q,ie),this.internal.arc2(this,Q,ie,_e.radius,ye,X,_e.anticlockwise,null,h),de===ce.length-1&&B[$].start&&(Q=B[$].start.x,ie=B[$].start.y,this.internal.line2(F,Q,ie))}else this.internal.line2(F,_e.x,_e.y)}}else Q=B[$].start.x,ie=B[$].start.y,h?(this.pdf.lines(B[$].deltas,Q,ie,null,null),this.pdf.clip_fixed()):this.pdf.lines(B[$].deltas,Q,ie,null,W)}window.outIntercept=E}},pushMask:function(){if(typeof this.pdf.internal.newObject2=="function"){var m=this.pdf.internal.newStreamObject(),h=this.pdf.internal.newObject2();h.push("<</Type /ExtGState"),h.push("/SMask <</S /Alpha /G "+m.objId+" 0 R>>"),h.push(">>");var g="MASK"+h.objId;this.pdf.internal.addGraphicsState(g,h.objId);var y="/"+g+" gs";this.pdf.internal.out(y)}else console.log("jsPDF v2 not enabled")},clip:function(){if(0<this.ctx._clip_path.length)for(var m=0;m<this.path.length;m++)this.ctx._clip_path.push(this.path[m]);else this.ctx._clip_path=this.path;this.path=[]},measureText:function(m){var h=this.pdf;return{getWidth:function(){var g=h.internal.getFontSize(),y=h.getStringUnitWidth(m)*g/h.internal.scaleFactor;return y*=1.3333},get width(){return this.getWidth(m)}}},_getBaseline:function(m){var h=parseInt(this.pdf.internal.getFontSize()),g=.25*h;switch(this.ctx.textBaseline){case"bottom":return m-g;case"top":return m+h;case"hanging":return m+h-g;case"middle":return m+h/2-g;case"ideographic":return m;case"alphabetic":default:return m}}};var F=b.context2d;function O(){this._isStrokeTransparent=!1,this._strokeOpacity=1,this.strokeStyle="#000000",this.fillStyle="#000000",this._isFillTransparent=!1,this._fillOpacity=1,this.font="12pt times",this.textBaseline="alphabetic",this.textAlign="start",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this._transform=[1,0,0,1,0,0],this.globalCompositeOperation="normal",this.globalAlpha=1,this._clip_path=[],this.ignoreClearRect=!1,this.copy=function(m){this._isStrokeTransparent=m._isStrokeTransparent,this._strokeOpacity=m._strokeOpacity,this.strokeStyle=m.strokeStyle,this._isFillTransparent=m._isFillTransparent,this._fillOpacity=m._fillOpacity,this.fillStyle=m.fillStyle,this.font=m.font,this.lineWidth=m.lineWidth,this.lineJoin=m.lineJoin,this.lineCap=m.lineCap,this.textBaseline=m.textBaseline,this.textAlign=m.textAlign,this._fontSize=m._fontSize,this._transform=m._transform.slice(0),this.globalCompositeOperation=m.globalCompositeOperation,this.globalAlpha=m.globalAlpha,this._clip_path=m._clip_path.slice(0),this.ignoreClearRect=m.ignoreClearRect}}Object.defineProperty(F,"fillStyle",{set:function(m){this.setFillStyle(m)},get:function(){return this.ctx.fillStyle}}),Object.defineProperty(F,"strokeStyle",{set:function(m){this.setStrokeStyle(m)},get:function(){return this.ctx.strokeStyle}}),Object.defineProperty(F,"lineWidth",{set:function(m){this.setLineWidth(m)},get:function(){return this.ctx.lineWidth}}),Object.defineProperty(F,"lineCap",{set:function(m){this.setLineCap(m)},get:function(){return this.ctx.lineCap}}),Object.defineProperty(F,"lineJoin",{set:function(m){this.setLineJoin(m)},get:function(){return this.ctx.lineJoin}}),Object.defineProperty(F,"miterLimit",{set:function(m){this.ctx.miterLimit=m},get:function(){return this.ctx.miterLimit}}),Object.defineProperty(F,"textBaseline",{set:function(m){this.setTextBaseline(m)},get:function(){return this.getTextBaseline()}}),Object.defineProperty(F,"textAlign",{set:function(m){this.setTextAlign(m)},get:function(){return this.getTextAlign()}}),Object.defineProperty(F,"font",{set:function(m){this.setFont(m)},get:function(){return this.ctx.font}}),Object.defineProperty(F,"globalCompositeOperation",{set:function(m){this.ctx.globalCompositeOperation=m},get:function(){return this.ctx.globalCompositeOperation}}),Object.defineProperty(F,"globalAlpha",{set:function(m){this.ctx.globalAlpha=m},get:function(){return this.ctx.globalAlpha}}),Object.defineProperty(F,"canvas",{get:function(){return{parentNode:!1,style:!1}}}),Object.defineProperty(F,"ignoreClearRect",{set:function(m){this.ctx.ignoreClearRect=m},get:function(){return this.ctx.ignoreClearRect}}),F.internal={},F.internal.rxRgb=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,F.internal.rxRgba=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/,F.internal.rxTransparent=/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/,F.internal.arc=function(m,h,g,y,B,E,k,U){for(var v=this.pdf.internal.scaleFactor,S=this.pdf.internal.pageSize.getHeight(),_=this.pdf.internal.f2,L=B*(Math.PI/180),R=E*(Math.PI/180),K=this.createArc(y,L,R,k),$=0;$<K.length;$++){var Z=K[$];$===0?this.pdf.internal.out([_((Z.x1+h)*v),_((S-(Z.y1+g))*v),"m",_((Z.x2+h)*v),_((S-(Z.y2+g))*v),_((Z.x3+h)*v),_((S-(Z.y3+g))*v),_((Z.x4+h)*v),_((S-(Z.y4+g))*v),"c"].join(" ")):this.pdf.internal.out([_((Z.x2+h)*v),_((S-(Z.y2+g))*v),_((Z.x3+h)*v),_((S-(Z.y3+g))*v),_((Z.x4+h)*v),_((S-(Z.y4+g))*v),"c"].join(" ")),m._lastPoint={x:h,y:g}}U!==null&&this.pdf.internal.out(this.pdf.internal.getStyle(U))},F.internal.arc2=function(m,h,g,y,B,E,k,U,v){var S=h,_=g;v?(this.arc(m,S,_,y,B,E,k,null),this.pdf.clip_fixed()):this.arc(m,S,_,y,B,E,k,U)},F.internal.move2=function(m,h,g){var y=this.pdf.internal.scaleFactor,B=this.pdf.internal.pageSize.getHeight(),E=this.pdf.internal.f2;this.pdf.internal.out([E(h*y),E((B-g)*y),"m"].join(" ")),m._lastPoint={x:h,y:g}},F.internal.line2=function(m,h,g){var y=this.pdf.internal.scaleFactor,B=this.pdf.internal.pageSize.getHeight(),E=this.pdf.internal.f2,k={x:h,y:g};this.pdf.internal.out([E(k.x*y),E((B-k.y)*y),"l"].join(" ")),m._lastPoint=k},F.internal.createArc=function(m,h,g,y){var B=2*Math.PI,E=Math.PI/2,k=h;for((k<B||B<k)&&(k%=B),k<0&&(k=B+k);g<h;)h-=B;var U=Math.abs(g-h);U<B&&y&&(U=B-U);for(var v=[],S=y?-1:1,_=k;1e-5<U;){var L=_+S*Math.min(U,E);v.push(this.createSmallArc(m,_,L)),U-=Math.abs(L-_),_=L}return v},F.internal.getCurrentPage=function(){return this.pdf.internal.pages[this.pdf.internal.getCurrentPageInfo().pageNumber]},F.internal.createSmallArc=function(m,h,g){var y=(g-h)/2,B=m*Math.cos(y),E=m*Math.sin(y),k=B,U=-E,v=k*k+U*U,S=v+k*B+U*E,_=4/3*(Math.sqrt(2*v*S)-S)/(k*E-U*B),L=k-_*U,R=U+_*k,K=L,$=-R,Z=y+h,Ae=Math.cos(Z),he=Math.sin(Z);return{x1:m*Math.cos(h),y1:m*Math.sin(h),x2:L*Ae-R*he,y2:L*he+R*Ae,x3:K*Ae-$*he,y3:K*he+$*Ae,x4:m*Math.cos(g),y4:m*Math.sin(g)}}}(Vt.API,typeof self!="undefined"&&self||typeof window!="undefined"&&window||typeof Xn!="undefined"&&Xn||Function('return typeof this === "object" && this.content')()||Function("return this")()),function(b){var F,O,m,h,g,y,B,E,k,U,v,S,_,L,R,K,$,Z,Ae,he;F=function(){return function(x){return le.prototype=x,new le};function le(){}}(),U=function(le){var x,G,W,ce,de,_e,ye;for(G=0,W=le.length,x=void 0,_e=ce=!1;!ce&&G!==W;)(x=le[G]=le[G].trimLeft())&&(ce=!0),G++;for(G=W-1;W&&!_e&&G!==-1;)(x=le[G]=le[G].trimRight())&&(_e=!0),G--;for(de=/\s+$/g,ye=!0,G=0;G!==W;)le[G]!="\u2028"&&(x=le[G].replace(/\s+/g," "),ye&&(x=x.trimLeft()),x&&(ye=de.test(x)),le[G]=x),G++;return le},S=function(le){var x,G,W;for(x=void 0,G=(W=le.split(",")).shift();!x&&G;)x=m[G.trim().toLowerCase()],G=W.shift();return x},_=function(le){var x;return-1<(le=le==="auto"?"0px":le).indexOf("em")&&!isNaN(Number(le.replace("em","")))&&(le=18.719*Number(le.replace("em",""))+"px"),-1<le.indexOf("pt")&&!isNaN(Number(le.replace("pt","")))&&(le=1.333*Number(le.replace("pt",""))+"px"),(x=L[le])?x:(x={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[le])!==void 0||(x=parseFloat(le))?L[le]=x/16:(x=le.match(/([\d\.]+)(px)/),Array.isArray(x)&&x.length===3?L[le]=parseFloat(x[1])/16:L[le]=1)},k=function(le){var x,G,W,ce,de;return de=le,ce=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(de,null):de.currentStyle?de.currentStyle:de.style,G=void 0,(x={})["font-family"]=S((W=function(_e){return _e=_e.replace(/-\D/g,function(ye){return ye.charAt(1).toUpperCase()}),ce[_e]})("font-family"))||"times",x["font-style"]=h[W("font-style")]||"normal",x["text-align"]=g[W("text-align")]||"left",(G=y[W("font-weight")]||"normal")==="bold"&&(x["font-style"]==="normal"?x["font-style"]=G:x["font-style"]=G+x["font-style"]),x["font-size"]=_(W("font-size"))||1,x["line-height"]=_(W("line-height"))||1,x.display=W("display")==="inline"?"inline":"block",G=x.display==="block",x["margin-top"]=G&&_(W("margin-top"))||0,x["margin-bottom"]=G&&_(W("margin-bottom"))||0,x["padding-top"]=G&&_(W("padding-top"))||0,x["padding-bottom"]=G&&_(W("padding-bottom"))||0,x["margin-left"]=G&&_(W("margin-left"))||0,x["margin-right"]=G&&_(W("margin-right"))||0,x["padding-left"]=G&&_(W("padding-left"))||0,x["padding-right"]=G&&_(W("padding-right"))||0,x["page-break-before"]=W("page-break-before")||"auto",x.float=B[W("cssFloat")]||"none",x.clear=E[W("clear")]||"none",x.color=W("color"),x},R=function(le,x,G){var W,ce,de,_e,ye;if(de=!1,_e=ce=void 0,W=G["#"+le.id])if(typeof W=="function")de=W(le,x);else for(ce=0,_e=W.length;!de&&ce!==_e;)de=W[ce](le,x),ce++;if(W=G[le.nodeName],!de&&W)if(typeof W=="function")de=W(le,x);else for(ce=0,_e=W.length;!de&&ce!==_e;)de=W[ce](le,x),ce++;for(ye=typeof le.className=="string"?le.className.split(" "):[],ce=0;ce<ye.length;ce++)if(W=G["."+ye[ce]],!de&&W)if(typeof W=="function")de=W(le,x);else for(ce=0,_e=W.length;!de&&ce!==_e;)de=W[ce](le,x),ce++;return de},he=function(le,x){var G,W,ce,de,_e,ye,X,Q,ie;for(G=[],W=[],ce=0,ie=le.rows[0].cells.length,X=le.clientWidth;ce<ie;)Q=le.rows[0].cells[ce],W[ce]={name:Q.textContent.toLowerCase().replace(/\s+/g,""),prompt:Q.textContent.replace(/\r?\n/g,""),width:Q.clientWidth/X*x.pdf.internal.pageSize.getWidth()},ce++;for(ce=1;ce<le.rows.length;){for(ye=le.rows[ce],_e={},de=0;de<ye.cells.length;)_e[W[de].name]=ye.cells[de].textContent.replace(/\r?\n/g,""),de++;G.push(_e),ce++}return{rows:G,headers:W}};var xe={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},ge=1;O=function(le,x,G){var W,ce,de,_e,ye,X,Q,ie;for(ce=le.childNodes,W=void 0,(ye=(de=k(le)).display==="block")&&(x.setBlockBoundary(),x.setBlockStyle(de)),_e=0,X=ce.length;_e<X;){if(((W=ce[_e])===void 0?"undefined":an(W))==="object"){if(x.executeWatchFunctions(W),W.nodeType===1&&W.nodeName==="HEADER"){var z=W,ue=x.pdf.margins_doc.top;x.pdf.internal.events.subscribe("addPage",function(ze){x.y=ue,O(z,x,G),x.pdf.margins_doc.top=x.y+10,x.y+=10},!1)}if(W.nodeType===8&&W.nodeName==="#comment")~W.textContent.indexOf("ADD_PAGE")&&(x.pdf.addPage(),x.y=x.pdf.margins_doc.top);else if(W.nodeType!==1||xe[W.nodeName])if(W.nodeType===3){var oe=W.nodeValue;if(W.nodeValue&&W.parentNode.nodeName==="LI")if(W.parentNode.parentNode.nodeName==="OL")oe=ge+++". "+oe;else{var Ne=de["font-size"],be=(3-.75*Ne)*x.pdf.internal.scaleFactor,Qe=.75*Ne*x.pdf.internal.scaleFactor,Te=1.74*Ne/x.pdf.internal.scaleFactor;ie=function(ze,ft){this.pdf.circle(ze+be,ft+Qe,Te,"FD")}}16&W.ownerDocument.body.compareDocumentPosition(W)&&x.addText(oe,de)}else typeof W=="string"&&x.addText(W,de);else{var V;if(W.nodeName==="IMG"){var ee=W.getAttribute("src");V=K[x.pdf.sHashCode(ee)||ee]}if(V){x.pdf.internal.pageSize.getHeight()-x.pdf.margins_doc.bottom<x.y+W.height&&x.y>x.pdf.margins_doc.top&&(x.pdf.addPage(),x.y=x.pdf.margins_doc.top,x.executeWatchFunctions(W));var C=k(W),P=x.x,Y=12/x.pdf.internal.scaleFactor,ae=(C["margin-left"]+C["padding-left"])*Y,ke=(C["margin-right"]+C["padding-right"])*Y,Le=(C["margin-top"]+C["padding-top"])*Y,je=(C["margin-bottom"]+C["padding-bottom"])*Y;C.float!==void 0&&C.float==="right"?P+=x.settings.width-W.width-ke:P+=ae,x.pdf.addImage(V,P,x.y+Le,W.width,W.height),V=void 0,C.float==="right"||C.float==="left"?(x.watchFunctions.push(function(ze,ft,rt,Et){return x.y>=ft?(x.x+=ze,x.settings.width+=rt,!0):!!(Et&&Et.nodeType===1&&!xe[Et.nodeName]&&x.x+Et.width>x.pdf.margins_doc.left+x.pdf.margins_doc.width)&&(x.x+=ze,x.y=ft,x.settings.width+=rt,!0)}.bind(this,C.float==="left"?-W.width-ae-ke:0,x.y+W.height+Le+je,W.width)),x.watchFunctions.push(function(ze,ft,rt){return!(x.y<ze&&ft===x.pdf.internal.getNumberOfPages())||rt.nodeType===1&&k(rt).clear==="both"&&(x.y=ze,!0)}.bind(this,x.y+W.height,x.pdf.internal.getNumberOfPages())),x.settings.width-=W.width+ae+ke,C.float==="left"&&(x.x+=W.width+ae+ke)):x.y+=W.height+Le+je}else if(W.nodeName==="TABLE")Q=he(W,x),x.y+=10,x.pdf.table(x.x,x.y,Q.rows,Q.headers,{autoSize:!1,printHeaders:G.printHeaders,margins:x.pdf.margins_doc,css:k(W)}),x.y=x.pdf.lastCellPos.y+x.pdf.lastCellPos.h+20;else if(W.nodeName==="OL"||W.nodeName==="UL")ge=1,R(W,x,G)||O(W,x,G),x.y+=10;else if(W.nodeName==="LI"){var Xe=x.x;x.x+=20/x.pdf.internal.scaleFactor,x.y+=3,R(W,x,G)||O(W,x,G),x.x=Xe}else W.nodeName==="BR"?(x.y+=de["font-size"]*x.pdf.internal.scaleFactor,x.addText("\u2028",F(de))):R(W,x,G)||O(W,x,G)}}_e++}if(G.outY=x.y,ye)return x.setBlockBoundary(ie)},K={},$=function(le,x,G,W){var ce,de=le.getElementsByTagName("img"),_e=de.length,ye=0;function X(){x.pdf.internal.events.publish("imagesLoaded"),W(ce)}function Q(ie,z,ue){if(ie){var oe=new Image;ce=++ye,oe.crossOrigin="",oe.onerror=oe.onload=function(){if(oe.complete&&(oe.src.indexOf("data:image/")===0&&(oe.width=z||oe.width||0,oe.height=ue||oe.height||0),oe.width+oe.height)){var Ne=x.pdf.sHashCode(ie)||ie;K[Ne]=K[Ne]||oe}--ye||X()},oe.src=ie}}for(;_e--;)Q(de[_e].getAttribute("src"),de[_e].width,de[_e].height);return ye||X()},Z=function(le,x,G){var W=le.getElementsByTagName("footer");if(0<W.length){W=W[0];var ce=x.pdf.internal.write,de=x.y;x.pdf.internal.write=function(){},O(W,x,G);var _e=Math.ceil(x.y-de)+5;x.y=de,x.pdf.internal.write=ce,x.pdf.margins_doc.bottom+=_e;for(var ye=function(ie){var z=ie!==void 0?ie.pageNumber:1,ue=x.y;x.y=x.pdf.internal.pageSize.getHeight()-x.pdf.margins_doc.bottom,x.pdf.margins_doc.bottom-=_e;for(var oe=W.getElementsByTagName("span"),Ne=0;Ne<oe.length;++Ne)-1<(" "+oe[Ne].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(oe[Ne].innerHTML=z),-1<(" "+oe[Ne].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(oe[Ne].innerHTML="###jsPDFVarTotalPages###");O(W,x,G),x.pdf.margins_doc.bottom+=_e,x.y=ue},X=W.getElementsByTagName("span"),Q=0;Q<X.length;++Q)-1<(" "+X[Q].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&x.pdf.internal.events.subscribe("htmlRenderingFinished",x.pdf.putTotalPages.bind(x.pdf,"###jsPDFVarTotalPages###"),!0);x.pdf.internal.events.subscribe("addPage",ye,!1),ye(),xe.FOOTER=1}},Ae=function(le,x,G,W,ce,de){if(!x)return!1;var _e,ye,X,Q;typeof x=="string"||x.parentNode||(x=""+x.innerHTML),typeof x=="string"&&(_e=x.replace(/<\/?script[^>]*?>/gi,""),Q="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),(X=document.createElement("div")).style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",X.innerHTML='<iframe style="height:1px;width:1px" name="'+Q+'" />',document.body.appendChild(X),(ye=window.frames[Q]).document.open(),ye.document.writeln(_e),ye.document.close(),x=ye.document.body);var ie,z=new v(le,G,W,ce);return $.call(this,x,z,ce.elementHandlers,function(ue){Z(x,z,ce.elementHandlers),O(x,z,ce.elementHandlers),z.pdf.internal.events.publish("htmlRenderingFinished"),ie=z.dispose(),typeof de=="function"?de(ie):ue&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),ie||{x:z.x,y:z.y}},(v=function(le,x,G,W){return this.pdf=le,this.x=x,this.y=G,this.settings=W,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},v.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},v.prototype.executeWatchFunctions=function(le){var x=!1,G=[];if(0<this.watchFunctions.length){for(var W=0;W<this.watchFunctions.length;++W)this.watchFunctions[W](le)===!0?x=!0:G.push(this.watchFunctions[W]);this.watchFunctions=G}return x},v.prototype.splitFragmentsIntoLines=function(le,x){var G,W,ce,de,_e,ye,X,Q,ie,z,ue,oe,Ne,be;for(z=this.pdf.internal.scaleFactor,de={},ye=X=Q=be=_e=ce=ie=W=void 0,oe=[ue=[]],G=0,Ne=this.settings.width;le.length;)if(_e=le.shift(),be=x.shift(),_e)if((ce=de[(W=be["font-family"])+(ie=be["font-style"])])||(ce=this.pdf.internal.getFont(W,ie).metadata.Unicode,de[W+ie]=ce),Q={widths:ce.widths,kerning:ce.kerning,fontSize:12*be["font-size"],textIndent:G},X=this.pdf.getStringUnitWidth(_e,Q)*Q.fontSize/z,_e=="\u2028")ue=[],oe.push(ue);else if(Ne<G+X){for(ye=this.pdf.splitTextToSize(_e,Ne,Q),ue.push([ye.shift(),be]);ye.length;)ue=[[ye.shift(),be]],oe.push(ue);G=this.pdf.getStringUnitWidth(ue[0][0],Q)*Q.fontSize/z}else ue.push([_e,be]),G+=X;if(be["text-align"]!==void 0&&(be["text-align"]==="center"||be["text-align"]==="right"||be["text-align"]==="justify"))for(var Qe=0;Qe<oe.length;++Qe){var Te=this.pdf.getStringUnitWidth(oe[Qe][0][0],Q)*Q.fontSize/z;0<Qe&&(oe[Qe][0][1]=F(oe[Qe][0][1]));var V=Ne-Te;if(be["text-align"]==="right")oe[Qe][0][1]["margin-left"]=V;else if(be["text-align"]==="center")oe[Qe][0][1]["margin-left"]=V/2;else if(be["text-align"]==="justify"){var ee=oe[Qe][0][0].split(" ").length-1;oe[Qe][0][1]["word-spacing"]=V/ee,Qe===oe.length-1&&(oe[Qe][0][1]["word-spacing"]=0)}}return oe},v.prototype.RenderTextFragment=function(le,x){var G,W;W=0,this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT",this.getPdfColor(x.color),this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),W=Math.max(W,x["line-height"],x["font-size"]),this.pdf.internal.write(0,(-12*W).toFixed(2),"Td")),G=this.pdf.internal.getFont(x["font-family"],x["font-style"]);var ce=this.getPdfColor(x.color);ce!==this.lastTextColor&&(this.pdf.internal.write(ce),this.lastTextColor=ce),x["word-spacing"]!==void 0&&0<x["word-spacing"]&&this.pdf.internal.write(x["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+G.id,(12*x["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(le)+") Tj"),x["word-spacing"]!==void 0&&this.pdf.internal.write(0,"Tw")},v.prototype.getPdfColor=function(le){var x,G,W,ce=new RGBColor(le),de=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(le);if(de!=null?(x=parseInt(de[1]),G=parseInt(de[2]),W=parseInt(de[3])):(le.charAt(0)!="#"&&(le=ce.ok?ce.toHex():"#000000"),x=le.substring(1,3),x=parseInt(x,16),G=le.substring(3,5),G=parseInt(G,16),W=le.substring(5,7),W=parseInt(W,16)),typeof x=="string"&&/^#[0-9A-Fa-f]{6}$/.test(x)){var _e=parseInt(x.substr(1),16);x=_e>>16&255,G=_e>>8&255,W=255&_e}var ye=this.f3;return x===0&&G===0&&W===0||G===void 0?ye(x/255)+" g":[ye(x/255),ye(G/255),ye(W/255),"rg"].join(" ")},v.prototype.f3=function(le){return le.toFixed(3)},v.prototype.renderParagraph=function(le){var x,G,W,ce,de,_e,ye,X,Q,ie,z,ue,oe;if(W=U(this.paragraph.text),ue=this.paragraph.style,x=this.paragraph.blockstyle,this.paragraph.priorblockstyle,this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:x},W.join("").trim()){ye=this.splitFragmentsIntoLines(W,ue),X=_e=void 0,G=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,z=(Math.max((x["margin-top"]||0)-this.priorMarginBottom,0)+(x["padding-top"]||0))*G,ie=((x["margin-bottom"]||0)+(x["padding-bottom"]||0))*G,this.priorMarginBottom=x["margin-bottom"]||0,x["page-break-before"]==="always"&&(this.pdf.addPage(),this.y=0,z=((x["margin-top"]||0)+(x["padding-top"]||0))*G),Q=this.pdf.internal.write,de=ce=void 0,this.y+=z,Q("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var Ne=0;ye.length;){for(ce=X=0,de=(_e=ye.shift()).length;ce!==de;)_e[ce][0].trim()&&(X=Math.max(X,_e[ce][1]["line-height"],_e[ce][1]["font-size"]),oe=7*_e[ce][1]["font-size"]),ce++;var be=0,Qe=0;for(_e[0][1]["margin-left"]!==void 0&&0<_e[0][1]["margin-left"]&&(be=(Qe=this.pdf.internal.getCoordinateString(_e[0][1]["margin-left"]))-Ne,Ne=Qe),Q(be+Math.max(x["margin-left"]||0,0)*G,(-12*X).toFixed(2),"Td"),ce=0,de=_e.length;ce!==de;)_e[ce][0]&&this.RenderTextFragment(_e[ce][0],_e[ce][1]),ce++;if(this.y+=X*G,this.executeWatchFunctions(_e[0][1])&&0<ye.length){var Te=[],V=[];ye.forEach(function(ee){for(var C=0,P=ee.length;C!==P;)ee[C][0]&&(Te.push(ee[C][0]+" "),V.push(ee[C][1])),++C}),ye=this.splitFragmentsIntoLines(U(Te),V),Q("ET","Q"),Q("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return le&&typeof le=="function"&&le.call(this,this.x-9,this.y-oe/2),Q("ET","Q"),this.y+=ie}},v.prototype.setBlockBoundary=function(le){return this.renderParagraph(le)},v.prototype.setBlockStyle=function(le){return this.paragraph.blockstyle=le},v.prototype.addText=function(le,x){return this.paragraph.text.push(le),this.paragraph.style.push(x)},m={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},y={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},h={normal:"normal",italic:"italic",oblique:"italic"},g={left:"left",right:"right",center:"center",justify:"justify"},B={none:"none",right:"right",left:"left"},E={none:"none",both:"both"},L={normal:1},b.fromHTML=function(le,x,G,W,ce,de){return this.margins_doc=de||{top:0,bottom:0},W||(W={}),W.elementHandlers||(W.elementHandlers={}),Ae(this,le,isNaN(x)?4:x,isNaN(G)?4:G,W,ce)}}(Vt.API),Vt.API.addJS=function(b){return N=b,this.internal.events.subscribe("postPutResources",function(F){T=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(T+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),D=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+N+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){T!==void 0&&D!==void 0&&this.internal.out("/Names <</JavaScript "+T+" 0 R>>")}),this},(M=Vt.API).events.push(["postPutResources",function(){var b=this,F=/^(\d+) 0 obj$/;if(0<this.outline.root.children.length)for(var O=b.outline.render().split(/\r\n/),m=0;m<O.length;m++){var h=O[m],g=F.exec(h);if(g!=null){var y=g[1];b.internal.newObjectDeferredBegin(y)}b.internal.write(h)}if(this.outline.createNamedDestinations){var B=this.internal.pages.length,E=[];for(m=0;m<B;m++){var k=b.internal.newObject();E.push(k);var U=b.internal.getPageInfo(m+1);b.internal.write("<< /D["+U.objId+" 0 R /XYZ null null null]>> endobj")}var v=b.internal.newObject();for(b.internal.write("<< /Names [ "),m=0;m<E.length;m++)b.internal.write("(page_"+(m+1)+")"+E[m]+" 0 R");b.internal.write(" ] >>","endobj"),b.internal.newObject(),b.internal.write("<< /Dests "+v+" 0 R"),b.internal.write(">>","endobj")}}]),M.events.push(["putCatalog",function(){0<this.outline.root.children.length&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+namesOid+" 0 R"))}]),M.events.push(["initialized",function(){var b=this;b.outline={createNamedDestinations:!1,root:{children:[]}},b.outline.add=function(F,O,m){var h={title:O,options:m,children:[]};return F==null&&(F=this.root),F.children.push(h),h},b.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=b,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},b.outline.genIds_r=function(F){F.id=b.internal.newObjectDeferred();for(var O=0;O<F.children.length;O++)this.genIds_r(F.children[O])},b.outline.renderRoot=function(F){this.objStart(F),this.line("/Type /Outlines"),0<F.children.length&&(this.line("/First "+this.makeRef(F.children[0])),this.line("/Last "+this.makeRef(F.children[F.children.length-1]))),this.line("/Count "+this.count_r({count:0},F)),this.objEnd()},b.outline.renderItems=function(F){for(var O=0;O<F.children.length;O++){var m=F.children[O];this.objStart(m),this.line("/Title "+this.makeString(m.title)),this.line("/Parent "+this.makeRef(F)),0<O&&this.line("/Prev "+this.makeRef(F.children[O-1])),O<F.children.length-1&&this.line("/Next "+this.makeRef(F.children[O+1])),0<m.children.length&&(this.line("/First "+this.makeRef(m.children[0])),this.line("/Last "+this.makeRef(m.children[m.children.length-1])));var h=this.count=this.count_r({count:0},m);if(0<h&&this.line("/Count "+h),m.options&&m.options.pageNumber){var g=b.internal.getPageInfo(m.options.pageNumber);this.line("/Dest ["+g.objId+" 0 R /XYZ 0 "+this.ctx.pdf.internal.pageSize.getHeight()*this.ctx.pdf.internal.scaleFactor+" 0]")}this.objEnd()}for(O=0;O<F.children.length;O++)m=F.children[O],this.renderItems(m)},b.outline.line=function(F){this.ctx.val+=F+`\r
`},b.outline.makeRef=function(F){return F.id+" 0 R"},b.outline.makeString=function(F){return"("+b.internal.pdfEscape(F)+")"},b.outline.objStart=function(F){this.ctx.val+=`\r
`+F.id+` 0 obj\r
<<\r
`},b.outline.objEnd=function(F){this.ctx.val+=`>> \r
endobj\r
`},b.outline.count_r=function(F,O){for(var m=0;m<O.children.length;m++)F.count++,this.count_r(F,O.children[m]);return F.count}}]),q=Vt.API,j=function(){var b=typeof Deflater=="function";if(!b)throw new Error("requires deflate.js for compression");return b},J=function(b,F,O,m){var h=5,g=qe;switch(m){case q.image_compression.FAST:h=3,g=me;break;case q.image_compression.MEDIUM:h=6,g=Me;break;case q.image_compression.SLOW:h=9,g=Ke}b=De(b,F,O,g);var y=new Uint8Array(H(h)),B=ve(b),E=new Deflater(h),k=E.append(b),U=E.flush(),v=y.length+k.length+U.length,S=new Uint8Array(v+4);return S.set(y),S.set(k,y.length),S.set(U,y.length+k.length),S[v++]=B>>>24&255,S[v++]=B>>>16&255,S[v++]=B>>>8&255,S[v++]=255&B,q.arrayBufferToBinaryString(S)},H=function(b,F){var O=Math.LOG2E*Math.log(32768)-8<<4|8,m=O<<8;return m|=Math.min(3,(F-1&255)>>1)<<6,m|=0,[O,255&(m+=31-m%31)]},ve=function(b,F){for(var O,m=1,h=0,g=b.length,y=0;0<g;){for(g-=O=F<g?F:g;h+=m+=b[y++],--O;);m%=65521,h%=65521}return(h<<16|m)>>>0},De=function(b,F,O,m){for(var h,g,y,B=b.length/F,E=new Uint8Array(b.length+B),k=st(),U=0;U<B;U++){if(y=U*F,h=b.subarray(y,y+F),m)E.set(m(h,O,g),y+U);else{for(var v=0,S=k.length,_=[];v<S;v++)_[v]=k[v](h,O,g);var L=gt(_.concat());E.set(_[L],y+U)}g=h}return E},Fe=function(b,F,O){var m=Array.apply([],b);return m.unshift(0),m},me=function(b,F,O){var m,h=[],g=0,y=b.length;for(h[0]=1;g<y;g++)m=b[g-F]||0,h[g+1]=b[g]-m+256&255;return h},qe=function(b,F,O){var m,h=[],g=0,y=b.length;for(h[0]=2;g<y;g++)m=O&&O[g]||0,h[g+1]=b[g]-m+256&255;return h},Me=function(b,F,O){var m,h,g=[],y=0,B=b.length;for(g[0]=3;y<B;y++)m=b[y-F]||0,h=O&&O[y]||0,g[y+1]=b[y]+256-(m+h>>>1)&255;return g},Ke=function(b,F,O){var m,h,g,y,B=[],E=0,k=b.length;for(B[0]=4;E<k;E++)m=b[E-F]||0,h=O&&O[E]||0,g=O&&O[E-F]||0,y=tt(m,h,g),B[E+1]=b[E]-y+256&255;return B},tt=function(b,F,O){var m=b+F-O,h=Math.abs(m-b),g=Math.abs(m-F),y=Math.abs(m-O);return h<=g&&h<=y?b:g<=y?F:O},st=function(){return[Fe,me,qe,Me,Ke]},gt=function(b){for(var F,O,m,h=0,g=b.length;h<g;)((F=mt(b[h].slice(1)))<O||!O)&&(O=F,m=h),h++;return m},mt=function(b){for(var F=0,O=b.length,m=0;F<O;)m+=Math.abs(b[F++]);return m},q.processPNG=function(b,F,O,m,h){var g,y,B,E,k,U,v=this.color_spaces.DEVICE_RGB,S=this.decode.FLATE_DECODE,_=8;if(this.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.isArrayBufferView(b)){if(typeof PNG!="function"||typeof Wn!="function")throw new Error("PNG support requires png.js and zlib.js");if(b=(g=new PNG(b)).imgData,_=g.bits,v=g.colorSpace,E=g.colors,[4,6].indexOf(g.colorType)!==-1){if(g.bits===8)for(var L,R=(W=g.pixelBitlength==32?new Uint32Array(g.decodePixels().buffer):g.pixelBitlength==16?new Uint16Array(g.decodePixels().buffer):new Uint8Array(g.decodePixels().buffer)).length,K=new Uint8Array(R*g.colors),$=new Uint8Array(R),Z=g.pixelBitlength-g.bits,Ae=0,he=0;Ae<R;Ae++){for(xe=W[Ae],L=0;L<Z;)K[he++]=xe>>>L&255,L+=g.bits;$[Ae]=xe>>>L&255}if(g.bits===16){R=(W=new Uint32Array(g.decodePixels().buffer)).length,K=new Uint8Array(R*(32/g.pixelBitlength)*g.colors),$=new Uint8Array(R*(32/g.pixelBitlength));for(var xe,ge=1<g.colors,le=he=Ae=0;Ae<R;)xe=W[Ae++],K[he++]=xe>>>0&255,ge&&(K[he++]=xe>>>16&255,xe=W[Ae++],K[he++]=xe>>>0&255),$[le++]=xe>>>16&255;_=8}m!==q.image_compression.NONE&&j()?(b=J(K,g.width*g.colors,g.colors,m),U=J($,g.width,1,m)):(b=K,U=$,S=null)}if(g.colorType===3&&(v=this.color_spaces.INDEXED,k=g.palette,g.transparency.indexed)){var x=g.transparency.indexed,G=0;for(Ae=0,R=x.length;Ae<R;++Ae)G+=x[Ae];if((G/=255)==R-1&&x.indexOf(0)!==-1)B=[x.indexOf(0)];else if(G!==R){var W=g.decodePixels();for($=new Uint8Array(W.length),Ae=0,R=W.length;Ae<R;Ae++)$[Ae]=x[W[Ae]];U=J($,g.width,1)}}var ce=function(de){var _e;switch(de){case q.image_compression.FAST:_e=11;break;case q.image_compression.MEDIUM:_e=13;break;case q.image_compression.SLOW:_e=14;break;default:_e=12}return _e}(m);return y=S===this.decode.FLATE_DECODE?"/Predictor "+ce+" /Colors "+E+" /BitsPerComponent "+_+" /Columns "+g.width:"/Colors "+E+" /BitsPerComponent "+_+" /Columns "+g.width,(this.isArrayBuffer(b)||this.isArrayBufferView(b))&&(b=this.arrayBufferToBinaryString(b)),(U&&this.isArrayBuffer(U)||this.isArrayBufferView(U))&&(U=this.arrayBufferToBinaryString(U)),this.createImageInfo(b,g.width,g.height,v,_,S,F,O,y,B,k,U,ce)}throw new Error("Unsupported PNG image data, try using JPEG instead.")},(yt=Vt.API).processGIF89A=function(b,F,O,m,h){var g=new It(b),y=g.width,B=g.height,E=[];g.decodeAndBlitFrameRGBA(0,E);var k={data:E,width:y,height:B},U=new Fn(100).encode(k,100);return yt.processJPEG.call(this,U,F,O,m)},yt.processGIF87A=yt.processGIF89A,(Ge=Vt.API).processBMP=function(b,F,O,m,h){var g=new Nn(b,!1),y=g.width,B=g.height,E={data:g.getData(),width:y,height:B},k=new Fn(100).encode(E,100);return Ge.processJPEG.call(this,k,F,O,m)},Vt.API.setLanguage=function(b){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"FYRO Macedonian",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[b]!==void 0&&(this.internal.languageSettings.languageCode=b,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ne=Vt.API,Ft=ne.getCharWidthsArray=function(b,F){var O,m,h,g=(F=F||{}).font||this.internal.getFont(),y=F.fontSize||this.internal.getFontSize(),B=F.charSpace||this.internal.getCharSpace(),E=F.widths?F.widths:g.metadata.Unicode.widths,k=E.fof?E.fof:1,U=F.kerning?F.kerning:g.metadata.Unicode.kerning,v=U.fof?U.fof:1,S=0,_=E[0]||k,L=[];for(O=0,m=b.length;O<m;O++)h=b.charCodeAt(O),typeof g.metadata.widthOfString=="function"?L.push((g.metadata.widthOfGlyph(g.metadata.characterToGlyph(h))+B*(1e3/y)||0)/1e3):L.push((E[h]||_)/k+(U[h]&&U[h][S]||0)/v),S=h;return L},Lt=ne.getArraySum=function(b){for(var F=b.length,O=0;F;)O+=b[--F];return O},pe=ne.getStringUnitWidth=function(b,F){var O=(F=F||{}).fontSize||this.internal.getFontSize(),m=F.font||this.internal.getFont(),h=F.charSpace||this.internal.getCharSpace();return typeof m.metadata.widthOfString=="function"?m.metadata.widthOfString(b,O,h)/O:Lt(Ft.apply(this,arguments))},vt=function(b,F,O,m){for(var h=[],g=0,y=b.length,B=0;g!==y&&B+F[g]<O;)B+=F[g],g++;h.push(b.slice(0,g));var E=g;for(B=0;g!==y;)B+F[g]>m&&(h.push(b.slice(E,g)),B=0,E=g),B+=F[g],g++;return E!==g&&h.push(b.slice(E,g)),h},Kt=function(b,F,O){O||(O={});var m,h,g,y,B,E,k=[],U=[k],v=O.textIndent||0,S=0,_=0,L=b.split(" "),R=Ft.apply(this,[" ",O])[0];if(E=O.lineIndent===-1?L[0].length+2:O.lineIndent||0){var K=Array(E).join(" "),$=[];L.map(function(he){1<(he=he.split(/\s*\n/)).length?$=$.concat(he.map(function(xe,ge){return(ge&&xe.length?`
`:"")+xe})):$.push(he[0])}),L=$,E=pe.apply(this,[K,O])}for(g=0,y=L.length;g<y;g++){var Z=0;if(m=L[g],E&&m[0]==`
`&&(m=m.substr(1),Z=1),h=Ft.apply(this,[m,O]),F<v+S+(_=Lt(h))||Z){if(F<_){for(B=vt.apply(this,[m,h,F-(v+S),F]),k.push(B.shift()),k=[B.pop()];B.length;)U.push([B.shift()]);_=Lt(h.slice(m.length-(k[0]?k[0].length:0)))}else k=[m];U.push(k),v=_+E,S=R}else k.push(m),v+=S+_,S=R}if(E)var Ae=function(he,xe){return(xe?K:"")+he.join(" ")};else Ae=function(he){return he.join(" ")};return U.map(Ae)},ne.splitTextToSize=function(b,F,O){var m,h=(O=O||{}).fontSize||this.internal.getFontSize(),g=function(U){var v={0:1},S={};if(U.widths&&U.kerning)return{widths:U.widths,kerning:U.kerning};var _=this.internal.getFont(U.fontName,U.fontStyle),L="Unicode";return _.metadata[L]?{widths:_.metadata[L].widths||v,kerning:_.metadata[L].kerning||S}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,O);m=Array.isArray(b)?b:b.split(/\r?\n/);var y=1*this.internal.scaleFactor*F/h;g.textIndent=O.textIndent?1*O.textIndent*this.internal.scaleFactor/h:0,g.lineIndent=O.lineIndent;var B,E,k=[];for(B=0,E=m.length;B<E;B++)k=k.concat(Kt.apply(this,[m[B],y,g]));return k},Nt=Vt.API,Rt={codePages:["WinAnsiEncoding"],WinAnsiEncoding:(Mt=function(b){for(var F="klmnopqrstuvwxyz",O={},m=0;m<F.length;m++)O[F[m]]="0123456789abcdef"[m];var h,g,y,B,E,k={},U=1,v=k,S=[],_="",L="",R=b.length-1;for(m=1;m!=R;)E=b[m],m+=1,E=="'"?g?(B=g.join(""),g=h):g=[]:g?g.push(E):E=="{"?(S.push([v,B]),v={},B=h):E=="}"?((y=S.pop())[0][y[1]]=v,B=h,v=y[0]):E=="-"?U=-1:B===h?O.hasOwnProperty(E)?(_+=O[E],B=parseInt(_,16)*U,U=1,_=""):_+=E:O.hasOwnProperty(E)?(L+=O[E],v[B]=parseInt(L,16)*U,U=1,B=h,L=""):L+=E;return k})("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},xn={Unicode:{Courier:Rt,"Courier-Bold":Rt,"Courier-BoldOblique":Rt,"Courier-Oblique":Rt,Helvetica:Rt,"Helvetica-Bold":Rt,"Helvetica-BoldOblique":Rt,"Helvetica-Oblique":Rt,"Times-Roman":Rt,"Times-Bold":Rt,"Times-BoldItalic":Rt,"Times-Italic":Rt}},En={Unicode:{"Courier-Oblique":Mt("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Mt("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Mt("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Mt("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Mt("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Mt("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Mt("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Mt("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Mt("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Mt("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Mt("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Mt("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Mt("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Mt("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}},Nt.events.push(["addFont",function(b){var F,O,m,h="Unicode";(F=En[h][b.postScriptName])&&((O=b.metadata[h]?b.metadata[h]:b.metadata[h]={}).widths=F.widths,O.kerning=F.kerning),(m=xn[h][b.postScriptName])&&((O=b.metadata[h]?b.metadata[h]:b.metadata[h]={}).encoding=m).codePages&&m.codePages.length&&(b.encoding=m.codePages[0])}]),Jt=Vt,typeof self!="undefined"&&self||typeof Xn!="undefined"&&Xn||typeof window!="undefined"&&window||Function("return this")(),Jt.API.events.push(["addFont",function(b){Jt.API.existsFileInVFS(b.postScriptName)?(b.metadata=Jt.API.TTFFont.open(b.postScriptName,b.fontName,Jt.API.getFileFromVFS(b.postScriptName),b.encoding),b.metadata.Unicode=b.metadata.Unicode||{encoding:{},kerning:{},widths:[]}):14<b.id.slice(1)&&console.error("Font does not exist in FileInVFS, import fonts or remove declaration doc.addFont('"+b.postScriptName+"').")}]),(mn=Vt.API).addSvg=function(b,F,O,m,h){if(F===void 0||O===void 0)throw new Error("addSVG needs values for 'x' and 'y'");function g(x){for(var G=parseFloat(x[1]),W=parseFloat(x[2]),ce=[],de=3,_e=x.length;de<_e;)x[de]==="c"?(ce.push([parseFloat(x[de+1]),parseFloat(x[de+2]),parseFloat(x[de+3]),parseFloat(x[de+4]),parseFloat(x[de+5]),parseFloat(x[de+6])]),de+=7):x[de]==="l"?(ce.push([parseFloat(x[de+1]),parseFloat(x[de+2])]),de+=3):de+=1;return[G,W,ce]}var y,B,E,k,U,v,S,_,L=(k=document,_=k.createElement("iframe"),U=".jsPDF_sillysvg_iframe {display:none;position:absolute;}",(S=(v=k).createElement("style")).type="text/css",S.styleSheet?S.styleSheet.cssText=U:S.appendChild(v.createTextNode(U)),v.getElementsByTagName("head")[0].appendChild(S),_.name="childframe",_.setAttribute("width",0),_.setAttribute("height",0),_.setAttribute("frameborder","0"),_.setAttribute("scrolling","no"),_.setAttribute("seamless","seamless"),_.setAttribute("class","jsPDF_sillysvg_iframe"),k.body.appendChild(_),_),R=(y=b,(E=((B=L).contentWindow||B.contentDocument).document).write(y),E.close(),E.getElementsByTagName("svg")[0]),K=[1,1],$=parseFloat(R.getAttribute("width")),Z=parseFloat(R.getAttribute("height"));$&&Z&&(m&&h?K=[m/$,h/Z]:m?K=[m/$,m/$]:h&&(K=[h/Z,h/Z]));var Ae,he,xe,ge,le=R.childNodes;for(Ae=0,he=le.length;Ae<he;Ae++)(xe=le[Ae]).tagName&&xe.tagName.toUpperCase()==="PATH"&&((ge=g(xe.getAttribute("d").split(" ")))[0]=ge[0]*K[0]+F,ge[1]=ge[1]*K[1]+O,this.lines.call(this,ge[2],ge[0],ge[1],K));return this},mn.addSVG=mn.addSvg,mn.addSvgAsImage=function(b,F,O,m,h,g,y,B){if(isNaN(F)||isNaN(O))throw console.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(m)||isNaN(h))throw console.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var E=document.createElement("canvas");E.width=m,E.height=h;var k=E.getContext("2d");return k.fillStyle="#fff",k.fillRect(0,0,E.width,E.height),canvg(E,b,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0}),this.addImage(E.toDataURL("image/jpeg",1),F,O,m,h,y,B),this},Vt.API.putTotalPages=function(b){for(var F=new RegExp(b,"g"),O=1;O<=this.internal.getNumberOfPages();O++)for(var m=0;m<this.internal.pages[O].length;m++)this.internal.pages[O][m]=this.internal.pages[O][m].replace(F,this.internal.getNumberOfPages());return this},Vt.API.viewerPreferences=function(b,F){var O;b=b||{},F=F||!1;var m,h,g={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},y=Object.keys(g),B=[],E=0,k=0,U=0,v=!0;function S(L,R){var K,$=!1;for(K=0;K<L.length;K+=1)L[K]===R&&($=!0);return $}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(g)),this.internal.viewerpreferences.isSubscribed=!1),O=this.internal.viewerpreferences.configuration,b==="reset"||F===!0){var _=y.length;for(U=0;U<_;U+=1)O[y[U]].value=O[y[U]].defaultValue,O[y[U]].explicitSet=!1}if((b===void 0?"undefined":an(b))==="object"){for(m in b)if(h=b[m],S(y,m)&&h!==void 0){if(O[m].type==="boolean"&&typeof h=="boolean")O[m].value=h;else if(O[m].type==="name"&&S(O[m].valueSet,h))O[m].value=h;else if(O[m].type==="integer"&&Number.isInteger(h))O[m].value=h;else if(O[m].type==="array"){for(E=0;E<h.length;E+=1)if(v=!0,h[E].length===1&&typeof h[E][0]=="number")B.push(String(h[E]));else if(1<h[E].length){for(k=0;k<h[E].length;k+=1)typeof h[E][k]!="number"&&(v=!1);v===!0&&B.push(String(h[E].join("-")))}O[m].value=String(B)}else O[m].value=O[m].defaultValue;O[m].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var L,R=[];for(L in O)O[L].explicitSet===!0&&(O[L].type==="name"?R.push("/"+L+" /"+O[L].value):R.push("/"+L+" "+O[L].value));R.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+R.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=O,this},Gn=Vt.API,On=fr=Zn="",Gn.addMetadata=function(b,F){return fr=F||"http://jspdf.default.namespaceuri/",Zn=b,this.internal.events.subscribe("postPutResources",function(){if(Zn){var O='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+fr+'"><jspdf:metadata>',m=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),h=unescape(encodeURIComponent(O)),g=unescape(encodeURIComponent(Zn)),y=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),B=unescape(encodeURIComponent("</x:xmpmeta>")),E=h.length+g.length+y.length+m.length+B.length;On=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+E+" >>"),this.internal.write("stream"),this.internal.write(m+h+g+y+B),this.internal.write("endstream"),this.internal.write("endobj")}else On=""}),this.internal.events.subscribe("putCatalog",function(){On&&this.internal.write("/Metadata "+On+" 0 R")}),this},function(b,F){var O=b.API,m=[0];O.events.push(["putFont",function(g){(function(y,B,E){if(y.metadata instanceof b.API.TTFFont&&y.encoding==="Identity-H"){for(var k=y.metadata.Unicode.widths,U=y.metadata.subset.encode(m),v="",S=0;S<U.length;S++)v+=String.fromCharCode(U[S]);var _=E();B("<<"),B("/Length "+v.length),B("/Length1 "+v.length),B(">>"),B("stream"),B(v),B("endstream"),B("endobj");var L=E();B("<<"),B("/Type /FontDescriptor"),B("/FontName /"+y.fontName),B("/FontFile2 "+_+" 0 R"),B("/FontBBox "+b.API.PDFObject.convert(y.metadata.bbox)),B("/Flags "+y.metadata.flags),B("/StemV "+y.metadata.stemV),B("/ItalicAngle "+y.metadata.italicAngle),B("/Ascent "+y.metadata.ascender),B("/Descent "+y.metadata.decender),B("/CapHeight "+y.metadata.capHeight),B(">>"),B("endobj");var R=E();B("<<"),B("/Type /Font"),B("/BaseFont /"+y.fontName),B("/FontDescriptor "+L+" 0 R"),B("/W "+b.API.PDFObject.convert(k)),B("/CIDToGIDMap /Identity"),B("/DW 1000"),B("/Subtype /CIDFontType2"),B("/CIDSystemInfo"),B("<<"),B("/Supplement 0"),B("/Registry (Adobe)"),B("/Ordering ("+y.encoding+")"),B(">>"),B(">>"),B("endobj"),y.objectNumber=E(),B("<<"),B("/Type /Font"),B("/Subtype /Type0"),B("/BaseFont /"+y.fontName),B("/Encoding /"+y.encoding),B("/DescendantFonts ["+R+" 0 R]"),B(">>"),B("endobj"),y.isAlreadyPutted=!0}})(g.font,g.out,g.newObject)}]),O.events.push(["putFont",function(g){(function(y,B,E){if(y.metadata instanceof b.API.TTFFont&&y.encoding==="WinAnsiEncoding"){y.metadata.Unicode.widths;for(var k=y.metadata.rawData,U="",v=0;v<k.length;v++)U+=String.fromCharCode(k[v]);var S=E();B("<<"),B("/Length "+U.length),B("/Length1 "+U.length),B(">>"),B("stream"),B(U),B("endstream"),B("endobj");var _=E();for(B("<<"),B("/Descent "+y.metadata.decender),B("/CapHeight "+y.metadata.capHeight),B("/StemV "+y.metadata.stemV),B("/Type /FontDescriptor"),B("/FontFile2 "+S+" 0 R"),B("/Flags 96"),B("/FontBBox "+b.API.PDFObject.convert(y.metadata.bbox)),B("/FontName /"+y.fontName),B("/ItalicAngle "+y.metadata.italicAngle),B("/Ascent "+y.metadata.ascender),B(">>"),B("endobj"),y.objectNumber=E(),v=0;v<y.metadata.hmtx.widths.length;v++)y.metadata.hmtx.widths[v]=parseInt(y.metadata.hmtx.widths[v]*(1e3/y.metadata.head.unitsPerEm));B("<</Subtype/TrueType/Type/Font/BaseFont/"+y.fontName+"/FontDescriptor "+_+" 0 R/Encoding/"+y.encoding+" /FirstChar 29 /LastChar 255 /Widths "+b.API.PDFObject.convert(y.metadata.hmtx.widths)+">>"),B("endobj"),y.isAlreadyPutted=!0}})(g.font,g.out,g.newObject)}]);var h=function(g){var y,B,E=g.text||"",k=g.x,U=g.y,v=g.options||{},S=g.mutex||{},_=S.pdfEscape,L=S.activeFontKey,R=S.fonts,K=(S.activeFontSize,""),$=0,Z="",Ae=R[B=L].encoding;if(R[B].encoding!=="Identity-H")return{text:E,x:k,y:U,options:v,mutex:S};for(Z=E,B=L,Object.prototype.toString.call(E)==="[object Array]"&&(Z=E[0]),$=0;$<Z.length;$+=1)R[B].metadata.hasOwnProperty("cmap")&&(y=R[B].metadata.cmap.unicode.codeMap[Z[$].charCodeAt(0)]),y||Z[$].charCodeAt(0)<256&&R[B].metadata.hasOwnProperty("Unicode")?K+=Z[$]:K+="";var he="";return parseInt(B.slice(1))<14||Ae==="WinAnsiEncoding"?he=function(xe){for(var ge="",le=0;le<xe.length;le++)ge+=""+xe.charCodeAt(le).toString(16);return ge}(_(K,B)):Ae==="Identity-H"&&(he=function(xe,ge){for(var le,x=ge.metadata.Unicode.widths,G=["","0","00","000","0000"],W=[""],ce=0,de=xe.length;ce<de;++ce){if(le=ge.metadata.characterToGlyph(xe.charCodeAt(ce)),m.push(le),x.indexOf(le)==-1&&(x.push(le),x.push([parseInt(ge.metadata.widthOfGlyph(le),10)])),le=="0")return W.join("");le=le.toString(16),W.push(G[4-le.length],le)}return W.join("")}(K,R[B])),S.isHex=!0,{text:he,x:k,y:U,options:v,mutex:S}};O.events.push(["postProcessText",function(g){var y=g.text||"",B=g.x,E=g.y,k=g.options,U=g.mutex,v=(k.lang,[]),S={text:y,x:B,y:E,options:k,mutex:U};if(Object.prototype.toString.call(y)==="[object Array]"){var _=0;for(_=0;_<y.length;_+=1)Object.prototype.toString.call(y[_])==="[object Array]"&&y[_].length===3?v.push([h(Object.assign({},S,{text:y[_][0]})).text,y[_][1],y[_][2]]):v.push(h(Object.assign({},S,{text:y[_]})).text);g.text=v}else g.text=h(Object.assign({},S,{text:y})).text}])}(Vt,typeof self!="undefined"&&self||typeof Xn!="undefined"&&Xn||typeof window!="undefined"&&window||Function("return this")()),kn=Vt.API,Qn={},kn.existsFileInVFS=function(b){return Qn.hasOwnProperty(b)},kn.addFileToVFS=function(b,F){return Qn[b]=F,this},kn.getFileFromVFS=function(b){return Qn.hasOwnProperty(b)?Qn[b]:null},function(b){if(b.URL=b.URL||b.webkitURL,b.Blob&&b.URL)try{return new Blob}catch(m){}var F=b.BlobBuilder||b.WebKitBlobBuilder||b.MozBlobBuilder||function(m){var h=function(ge){return Object.prototype.toString.call(ge).match(/^\[object\s(.*)\]$/)[1]},g=function(){this.data=[]},y=function(ge,le,x){this.data=ge,this.size=ge.length,this.type=le,this.encoding=x},B=g.prototype,E=y.prototype,k=m.FileReaderSync,U=function(ge){this.code=this[this.name=ge]},v="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),S=v.length,_=m.URL||m.webkitURL||m,L=_.createObjectURL,R=_.revokeObjectURL,K=_,$=m.btoa,Z=m.atob,Ae=m.ArrayBuffer,he=m.Uint8Array,xe=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(y.fake=E.fake=!0;S--;)U.prototype[v[S]]=S+1;return _.createObjectURL||(K=m.URL=function(ge){var le,x=document.createElementNS("http://www.w3.org/1999/xhtml","a");return x.href=ge,"origin"in x||(x.protocol.toLowerCase()==="data:"?x.origin=null:(le=ge.match(xe),x.origin=le&&le[1])),x}),K.createObjectURL=function(ge){var le,x=ge.type;return x===null&&(x="application/octet-stream"),ge instanceof y?(le="data:"+x,ge.encoding==="base64"?le+";base64,"+ge.data:ge.encoding==="URI"?le+","+decodeURIComponent(ge.data):$?le+";base64,"+$(ge.data):le+","+encodeURIComponent(ge.data)):L?L.call(_,ge):void 0},K.revokeObjectURL=function(ge){ge.substring(0,5)!=="data:"&&R&&R.call(_,ge)},B.append=function(ge){var le=this.data;if(he&&(ge instanceof Ae||ge instanceof he)){for(var x="",G=new he(ge),W=0,ce=G.length;W<ce;W++)x+=String.fromCharCode(G[W]);le.push(x)}else if(h(ge)==="Blob"||h(ge)==="File"){if(!k)throw new U("NOT_READABLE_ERR");var de=new k;le.push(de.readAsBinaryString(ge))}else ge instanceof y?ge.encoding==="base64"&&Z?le.push(Z(ge.data)):ge.encoding==="URI"?le.push(decodeURIComponent(ge.data)):ge.encoding==="raw"&&le.push(ge.data):(typeof ge!="string"&&(ge+=""),le.push(unescape(encodeURIComponent(ge))))},B.getBlob=function(ge){return arguments.length||(ge=null),new y(this.data.join(""),ge,"raw")},B.toString=function(){return"[object BlobBuilder]"},E.slice=function(ge,le,x){var G=arguments.length;return G<3&&(x=null),new y(this.data.slice(ge,1<G?le:this.data.length),x,this.encoding)},E.toString=function(){return"[object Blob]"},E.close=function(){this.size=0,delete this.data},g}(b);b.Blob=function(m,h){var g=h&&h.type||"",y=new F;if(m)for(var B=0,E=m.length;B<E;B++)Uint8Array&&m[B]instanceof Uint8Array?y.append(m[B].buffer):y.append(m[B]);var k=y.getBlob(g);return!k.slice&&k.webkitSlice&&(k.slice=k.webkitSlice),k};var O=Object.getPrototypeOf||function(m){return m.__proto__};b.Blob.prototype=O(new b.Blob)}(typeof self!="undefined"&&self||typeof window!="undefined"&&window||window.content||window);var Dt,Yt,bn,zt,An,se,Oe,We,nt,pt,Bt,fn,et,Be,Ze,At,bt=bt||function(b){if(!(b===void 0||typeof navigator!="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent))){var F=b.document,O=function(){return b.URL||b.webkitURL||b},m=F.createElementNS("http://www.w3.org/1999/xhtml","a"),h="download"in m,g=/constructor/i.test(b.HTMLElement)||b.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent),B=function(S){(b.setImmediate||b.setTimeout)(function(){throw S},0)},E=function(S){setTimeout(function(){typeof S=="string"?O().revokeObjectURL(S):S.remove()},4e4)},k=function(S){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(S.type)?new Blob(["\uFEFF",S],{type:S.type}):S},U=function(S,_,L){L||(S=k(S));var R,K=this,$=S.type==="application/octet-stream",Z=function(){(function(Ae,he,xe){for(var ge=(he=[].concat(he)).length;ge--;){var le=Ae["on"+he[ge]];if(typeof le=="function")try{le.call(Ae,xe||Ae)}catch(x){B(x)}}})(K,"writestart progress write writeend".split(" "))};if(K.readyState=K.INIT,h)return R=O().createObjectURL(S),void setTimeout(function(){var Ae,he;m.href=R,m.download=_,Ae=m,he=new MouseEvent("click"),Ae.dispatchEvent(he),Z(),E(R),K.readyState=K.DONE});(function(){if((y||$&&g)&&b.FileReader){var Ae=new FileReader;return Ae.onloadend=function(){var he=y?Ae.result:Ae.result.replace(/^data:[^;]*;/,"data:attachment/file;");b.open(he,"_blank")||(b.location.href=he),he=void 0,K.readyState=K.DONE,Z()},Ae.readAsDataURL(S),K.readyState=K.INIT}R||(R=O().createObjectURL(S)),$?b.location.href=R:b.open(R,"_blank")||(b.location.href=R),K.readyState=K.DONE,Z(),E(R)})()},v=U.prototype;return typeof navigator!="undefined"&&navigator.msSaveOrOpenBlob?function(S,_,L){return _=_||S.name||"download",L||(S=k(S)),navigator.msSaveOrOpenBlob(S,_)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,function(S,_,L){return new U(S,_||S.name||"download",L)})}}(typeof self!="undefined"&&self||typeof window!="undefined"&&window||window.content);function It(b){var F=0;if(b[F++]!==71||b[F++]!==73||b[F++]!==70||b[F++]!==56||(b[F++]+1&253)!=56||b[F++]!==97)throw"Invalid GIF 87a/89a header.";var O=b[F++]|b[F++]<<8,m=b[F++]|b[F++]<<8,h=b[F++],g=h>>7,y=1<<(7&h)+1;b[F++],b[F++];var B=null;g&&(B=F,F+=3*y);var E=!0,k=[],U=0,v=null,S=0,_=null;for(this.width=O,this.height=m;E&&F<b.length;)switch(b[F++]){case 33:switch(b[F++]){case 255:if(b[F]!==11||b[F+1]==78&&b[F+2]==69&&b[F+3]==84&&b[F+4]==83&&b[F+5]==67&&b[F+6]==65&&b[F+7]==80&&b[F+8]==69&&b[F+9]==50&&b[F+10]==46&&b[F+11]==48&&b[F+12]==3&&b[F+13]==1&&b[F+16]==0)F+=14,_=b[F++]|b[F++]<<8,F++;else for(F+=12;(x=b[F++])!==0;)F+=x;break;case 249:if(b[F++]!==4||b[F+4]!==0)throw"Invalid graphics extension block.";var L=b[F++];U=b[F++]|b[F++]<<8,v=b[F++],(1&L)==0&&(v=null),S=L>>2&7,F++;break;case 254:for(;(x=b[F++])!==0;)F+=x;break;default:throw"Unknown graphic control label: 0x"+b[F-1].toString(16)}break;case 44:var R=b[F++]|b[F++]<<8,K=b[F++]|b[F++]<<8,$=b[F++]|b[F++]<<8,Z=b[F++]|b[F++]<<8,Ae=b[F++],he=Ae>>6&1,xe=B,ge=!1;Ae>>7&&(ge=!0,xe=F,F+=3*(1<<(7&Ae)+1));var le=F;for(F++;;){var x;if((x=b[F++])===0)break;F+=x}k.push({x:R,y:K,width:$,height:Z,has_local_palette:ge,palette_offset:xe,data_offset:le,data_length:F-le,transparent_index:v,interlaced:!!he,delay:U,disposal:S});break;case 59:E=!1;break;default:throw"Unknown gif block: 0x"+b[F-1].toString(16)}this.numFrames=function(){return k.length},this.loopCount=function(){return _},this.frameInfo=function(G){if(G<0||G>=k.length)throw"Frame index out of range.";return k[G]},this.decodeAndBlitFrameBGRA=function(G,W){var ce=this.frameInfo(G),de=ce.width*ce.height,_e=new Uint8Array(de);Tt(b,ce.data_offset,_e,de);var ye=ce.palette_offset,X=ce.transparent_index;X===null&&(X=256);var Q=ce.width,ie=O-Q,z=Q,ue=4*(ce.y*O+ce.x),oe=4*((ce.y+ce.height)*O+ce.x),Ne=ue,be=4*ie;ce.interlaced===!0&&(be+=4*(Q+ie)*7);for(var Qe=8,Te=0,V=_e.length;Te<V;++Te){var ee=_e[Te];if(z===0&&(z=Q,oe<=(Ne+=be)&&(be=ie+4*(Q+ie)*(Qe-1),Ne=ue+(Q+ie)*(Qe<<1),Qe>>=1)),ee===X)Ne+=4;else{var C=b[ye+3*ee],P=b[ye+3*ee+1],Y=b[ye+3*ee+2];W[Ne++]=Y,W[Ne++]=P,W[Ne++]=C,W[Ne++]=255}--z}},this.decodeAndBlitFrameRGBA=function(G,W){var ce=this.frameInfo(G),de=ce.width*ce.height,_e=new Uint8Array(de);Tt(b,ce.data_offset,_e,de);var ye=ce.palette_offset,X=ce.transparent_index;X===null&&(X=256);var Q=ce.width,ie=O-Q,z=Q,ue=4*(ce.y*O+ce.x),oe=4*((ce.y+ce.height)*O+ce.x),Ne=ue,be=4*ie;ce.interlaced===!0&&(be+=4*(Q+ie)*7);for(var Qe=8,Te=0,V=_e.length;Te<V;++Te){var ee=_e[Te];if(z===0&&(z=Q,oe<=(Ne+=be)&&(be=ie+4*(Q+ie)*(Qe-1),Ne=ue+(Q+ie)*(Qe<<1),Qe>>=1)),ee===X)Ne+=4;else{var C=b[ye+3*ee],P=b[ye+3*ee+1],Y=b[ye+3*ee+2];W[Ne++]=C,W[Ne++]=P,W[Ne++]=Y,W[Ne++]=255}--z}}}function Tt(b,F,O,m){for(var h=b[F++],g=1<<h,y=g+1,B=y+1,E=h+1,k=(1<<E)-1,U=0,v=0,S=0,_=b[F++],L=new Int32Array(4096),R=null;;){for(;U<16&&_!==0;)v|=b[F++]<<U,U+=8,_===1?_=b[F++]:--_;if(U<E)break;var K=v&k;if(v>>=E,U-=E,K!==g){if(K===y)break;for(var $=K<B?K:R,Z=0,Ae=$;g<Ae;)Ae=L[Ae]>>8,++Z;var he=Ae;if(m<S+Z+($!==K?1:0))return void console.log("Warning, gif stream longer than expected.");O[S++]=he;var xe=S+=Z;for($!==K&&(O[S++]=he),Ae=$;Z--;)Ae=L[Ae],O[--xe]=255&Ae,Ae>>=8;R!==null&&B<4096&&(L[B++]=R<<8|he,k+1<=B&&E<12&&(++E,k=k<<1|1)),R=K}else B=y+1,k=(1<<(E=h+1))-1,R=null}return S!==m&&console.log("Warning, gif stream shorter than expected."),O}t.exports&&(t.exports.saveAs=bt),Vt.API.adler32cs=(se=typeof ArrayBuffer=="function"&&typeof Uint8Array=="function",Oe=null,We=function(){if(!se)return function(){return!1};try{var b={};typeof b.Buffer=="function"&&(Oe=b.Buffer)}catch(F){}return function(F){return F instanceof ArrayBuffer||Oe!==null&&F instanceof Oe}}(),nt=Oe!==null?function(b){return new Oe(b,"utf8").toString("binary")}:function(b){return unescape(encodeURIComponent(b))},pt=65521,Bt=function(b,F){for(var O=65535&b,m=b>>>16,h=0,g=F.length;h<g;h++)O=(O+(255&F.charCodeAt(h)))%pt,m=(m+O)%pt;return(m<<16|O)>>>0},fn=function(b,F){for(var O=65535&b,m=b>>>16,h=0,g=F.length;h<g;h++)O=(O+F[h])%pt,m=(m+O)%pt;return(m<<16|O)>>>0},Be=(et={}).Adler32=(((An=(zt=function(b){if(!(this instanceof zt))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(b=b==null?1:+b))throw new Error("First arguments needs to be a finite number.");this.checksum=b>>>0}).prototype={}).constructor=zt).from=((Dt=function(b){if(!(this instanceof zt))throw new TypeError("Constructor cannot called be as a function.");if(b==null)throw new Error("First argument needs to be a string.");this.checksum=Bt(1,b.toString())}).prototype=An,Dt),zt.fromUtf8=((Yt=function(b){if(!(this instanceof zt))throw new TypeError("Constructor cannot called be as a function.");if(b==null)throw new Error("First argument needs to be a string.");var F=nt(b.toString());this.checksum=Bt(1,F)}).prototype=An,Yt),se&&(zt.fromBuffer=((bn=function(b){if(!(this instanceof zt))throw new TypeError("Constructor cannot called be as a function.");if(!We(b))throw new Error("First argument needs to be ArrayBuffer.");var F=new Uint8Array(b);return this.checksum=fn(1,F)}).prototype=An,bn)),An.update=function(b){if(b==null)throw new Error("First argument needs to be a string.");return b=b.toString(),this.checksum=Bt(this.checksum,b)},An.updateUtf8=function(b){if(b==null)throw new Error("First argument needs to be a string.");var F=nt(b.toString());return this.checksum=Bt(this.checksum,F)},se&&(An.updateBuffer=function(b){if(!We(b))throw new Error("First argument needs to be ArrayBuffer.");var F=new Uint8Array(b);return this.checksum=fn(this.checksum,F)}),An.clone=function(){return new Be(this.checksum)},zt),et.from=function(b){if(b==null)throw new Error("First argument needs to be a string.");return Bt(1,b.toString())},et.fromUtf8=function(b){if(b==null)throw new Error("First argument needs to be a string.");var F=nt(b.toString());return Bt(1,F)},se&&(et.fromBuffer=function(b){if(!We(b))throw new Error("First argument need to be ArrayBuffer.");var F=new Uint8Array(b);return fn(1,F)}),et);try{e.GifWriter=function(b,F,O,m){var h=0,g=(m=m===void 0?{}:m).loop===void 0?null:m.loop,y=m.palette===void 0?null:m.palette;if(F<=0||O<=0||65535<F||65535<O)throw"Width/Height invalid.";function B(R){var K=R.length;if(K<2||256<K||K&K-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return K}b[h++]=71,b[h++]=73,b[h++]=70,b[h++]=56,b[h++]=57,b[h++]=97;var E=0,k=0;if(y!==null){for(var U=B(y);U>>=1;)++E;if(U=1<<E,--E,m.background!==void 0){if(U<=(k=m.background))throw"Background index out of range.";if(k===0)throw"Background index explicitly passed as 0."}}if(b[h++]=255&F,b[h++]=F>>8&255,b[h++]=255&O,b[h++]=O>>8&255,b[h++]=(y!==null?128:0)|E,b[h++]=k,b[h++]=0,y!==null)for(var v=0,S=y.length;v<S;++v){var _=y[v];b[h++]=_>>16&255,b[h++]=_>>8&255,b[h++]=255&_}if(g!==null){if(g<0||65535<g)throw"Loop count invalid.";b[h++]=33,b[h++]=255,b[h++]=11,b[h++]=78,b[h++]=69,b[h++]=84,b[h++]=83,b[h++]=67,b[h++]=65,b[h++]=80,b[h++]=69,b[h++]=50,b[h++]=46,b[h++]=48,b[h++]=3,b[h++]=1,b[h++]=255&g,b[h++]=g>>8&255,b[h++]=0}var L=!1;this.addFrame=function(R,K,$,Z,Ae,he){if(L===!0&&(--h,L=!1),he=he===void 0?{}:he,R<0||K<0||65535<R||65535<K)throw"x/y invalid.";if($<=0||Z<=0||65535<$||65535<Z)throw"Width/Height invalid.";if(Ae.length<$*Z)throw"Not enough pixels for the frame size.";var xe=!0,ge=he.palette;if(ge==null&&(xe=!1,ge=y),ge==null)throw"Must supply either a local or global palette.";for(var le=B(ge),x=0;le>>=1;)++x;le=1<<x;var G=he.delay===void 0?0:he.delay,W=he.disposal===void 0?0:he.disposal;if(W<0||3<W)throw"Disposal out of range.";var ce=!1,de=0;if(he.transparent!==void 0&&he.transparent!==null&&(ce=!0,(de=he.transparent)<0||le<=de))throw"Transparent color index.";if((W!==0||ce||G!==0)&&(b[h++]=33,b[h++]=249,b[h++]=4,b[h++]=W<<2|(ce===!0?1:0),b[h++]=255&G,b[h++]=G>>8&255,b[h++]=de,b[h++]=0),b[h++]=44,b[h++]=255&R,b[h++]=R>>8&255,b[h++]=255&K,b[h++]=K>>8&255,b[h++]=255&$,b[h++]=$>>8&255,b[h++]=255&Z,b[h++]=Z>>8&255,b[h++]=xe===!0?128|x-1:0,xe===!0)for(var _e=0,ye=ge.length;_e<ye;++_e){var X=ge[_e];b[h++]=X>>16&255,b[h++]=X>>8&255,b[h++]=255&X}h=function(Q,ie,z,ue){Q[ie++]=z;var oe=ie++,Ne=1<<z,be=Ne-1,Qe=Ne+1,Te=Qe+1,V=z+1,ee=0,C=0;function P(rt){for(;rt<=ee;)Q[ie++]=255&C,C>>=8,ee-=8,ie===oe+256&&(Q[oe]=255,oe=ie++)}function Y(rt){C|=rt<<ee,ee+=V,P(8)}var ae=ue[0]&be,ke={};Y(Ne);for(var Le=1,je=ue.length;Le<je;++Le){var Xe=ue[Le]&be,ze=ae<<8|Xe,ft=ke[ze];if(ft===void 0){for(C|=ae<<ee,ee+=V;8<=ee;)Q[ie++]=255&C,C>>=8,ee-=8,ie===oe+256&&(Q[oe]=255,oe=ie++);Te===4096?(Y(Ne),Te=Qe+1,V=z+1,ke={}):(1<<V<=Te&&++V,ke[ze]=Te++),ae=Xe}else ae=ft}return Y(ae),Y(Qe),P(1),oe+1===ie?Q[oe]=0:(Q[oe]=ie-oe-1,Q[ie++]=0),ie}(b,h,x<2?2:x,Ae)},this.end=function(){return L===!1&&(b[h++]=59,L=!0),h}},e.GifReader=It}catch(b){}function Fn(b){var F,O,m,h,g,y=Math.floor,B=new Array(64),E=new Array(64),k=new Array(64),U=new Array(64),v=new Array(65535),S=new Array(65535),_=new Array(64),L=new Array(64),R=[],K=0,$=7,Z=new Array(64),Ae=new Array(64),he=new Array(64),xe=new Array(256),ge=new Array(2048),le=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ce=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],de=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],_e=[0,1,2,3,4,5,6,7,8,9,10,11],ye=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(be,Qe){for(var Te=0,V=0,ee=new Array,C=1;C<=16;C++){for(var P=1;P<=be[C];P++)ee[Qe[V]]=[],ee[Qe[V]][0]=Te,ee[Qe[V]][1]=C,V++,Te++;Te*=2}return ee}function ie(be){for(var Qe=be[0],Te=be[1]-1;0<=Te;)Qe&1<<Te&&(K|=1<<$),Te--,--$<0&&(K==255?(z(255),z(0)):z(K),$=7,K=0)}function z(be){R.push(be)}function ue(be){z(be>>8&255),z(255&be)}function oe(be,Qe,Te,V,ee){for(var C,P=ee[0],Y=ee[240],ae=function(Se,Bn){var en,tn,Hn,Ht,pn,Cn,dn,un,vn,er,Pt=0;for(vn=0;vn<8;++vn){en=Se[Pt],tn=Se[Pt+1],Hn=Se[Pt+2],Ht=Se[Pt+3],pn=Se[Pt+4],Cn=Se[Pt+5],dn=Se[Pt+6];var pi=en+(un=Se[Pt+7]),Gr=en-un,Hi=tn+dn,Ji=tn-dn,dr=Hn+Cn,te=Hn-Cn,Ue=Ht+pn,He=Ht-pn,Ee=pi+Ue,Ce=pi-Ue,Re=Hi+dr,$e=Hi-dr;Se[Pt]=Ee+Re,Se[Pt+4]=Ee-Re;var Je=.707106781*($e+Ce);Se[Pt+2]=Ce+Je,Se[Pt+6]=Ce-Je;var ut=.382683433*((Ee=He+te)-($e=Ji+Gr)),St=.5411961*Ee+ut,Wt=1.306562965*$e+ut,Qt=.707106781*(Re=te+Ji),$t=Gr+Qt,wn=Gr-Qt;Se[Pt+5]=wn+St,Se[Pt+3]=wn-St,Se[Pt+1]=$t+Wt,Se[Pt+7]=$t-Wt,Pt+=8}for(vn=Pt=0;vn<8;++vn){en=Se[Pt],tn=Se[Pt+8],Hn=Se[Pt+16],Ht=Se[Pt+24],pn=Se[Pt+32],Cn=Se[Pt+40],dn=Se[Pt+48];var tr=en+(un=Se[Pt+56]),_r=en-un,Dr=tn+dn,bA=tn-dn,$n=Hn+Cn,Wr=Hn-Cn,wA=Ht+pn,Bs=Ht-pn,sr=tr+wA,va=tr-wA,go=Dr+$n,mo=Dr-$n;Se[Pt]=sr+go,Se[Pt+32]=sr-go;var Ta=.707106781*(mo+va);Se[Pt+16]=va+Ta,Se[Pt+48]=va-Ta;var $r=.382683433*((sr=Bs+Wr)-(mo=bA+_r)),fl=.5411961*sr+$r,yA=1.306562965*mo+$r,dl=.707106781*(go=Wr+bA),Sa=_r+dl,Vs=_r-dl;Se[Pt+40]=Vs+fl,Se[Pt+24]=Vs-fl,Se[Pt+8]=Sa+yA,Se[Pt+56]=Sa-yA,Pt++}for(vn=0;vn<64;++vn)er=Se[vn]*Bn[vn],_[vn]=0<er?er+.5|0:er-.5|0;return _}(be,Qe),ke=0;ke<64;++ke)L[le[ke]]=ae[ke];var Le=L[0]-Te;Te=L[0],Le==0?ie(V[0]):(ie(V[S[C=32767+Le]]),ie(v[C]));for(var je=63;0<je&&L[je]==0;je--);if(je==0)return ie(P),Te;for(var Xe,ze=1;ze<=je;){for(var ft=ze;L[ze]==0&&ze<=je;++ze);var rt=ze-ft;if(16<=rt){Xe=rt>>4;for(var Et=1;Et<=Xe;++Et)ie(Y);rt&=15}C=32767+L[ze],ie(ee[(rt<<4)+S[C]]),ie(v[C]),ze++}return je!=63&&ie(P),Te}function Ne(be){be<=0&&(be=1),100<be&&(be=100),g!=be&&(function(Qe){for(var Te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],V=0;V<64;V++){var ee=y((Te[V]*Qe+50)/100);ee<1?ee=1:255<ee&&(ee=255),B[le[V]]=ee}for(var C=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],P=0;P<64;P++){var Y=y((C[P]*Qe+50)/100);Y<1?Y=1:255<Y&&(Y=255),E[le[P]]=Y}for(var ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Le=0;Le<8;Le++)for(var je=0;je<8;je++)k[ke]=1/(B[le[ke]]*ae[Le]*ae[je]*8),U[ke]=1/(E[le[ke]]*ae[Le]*ae[je]*8),ke++}(be<50?Math.floor(5e3/be):Math.floor(200-2*be)),g=be)}this.encode=function(be,Qe){var Te,V;new Date().getTime(),Qe&&Ne(Qe),R=new Array,K=0,$=7,ue(65496),ue(65504),ue(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),ue(1),ue(1),z(0),z(0),function(){ue(65499),ue(132),z(0);for(var Ht=0;Ht<64;Ht++)z(B[Ht]);z(1);for(var pn=0;pn<64;pn++)z(E[pn])}(),Te=be.width,V=be.height,ue(65472),ue(17),z(8),ue(V),ue(Te),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1),function(){ue(65476),ue(418),z(0);for(var Ht=0;Ht<16;Ht++)z(x[Ht+1]);for(var pn=0;pn<=11;pn++)z(G[pn]);z(16);for(var Cn=0;Cn<16;Cn++)z(W[Cn+1]);for(var dn=0;dn<=161;dn++)z(ce[dn]);z(1);for(var un=0;un<16;un++)z(de[un+1]);for(var vn=0;vn<=11;vn++)z(_e[vn]);z(17);for(var er=0;er<16;er++)z(ye[er+1]);for(var Pt=0;Pt<=161;Pt++)z(X[Pt])}(),ue(65498),ue(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var ee=0,C=0,P=0;K=0,$=7,this.encode.displayName="_encode_";for(var Y,ae,ke,Le,je,Xe,ze,ft,rt,Et=be.data,Se=be.width,Bn=be.height,en=4*Se,tn=0;tn<Bn;){for(Y=0;Y<en;){for(Xe=je=en*tn+Y,ze=-1,rt=ft=0;rt<64;rt++)Xe=je+(ft=rt>>3)*en+(ze=4*(7&rt)),Bn<=tn+ft&&(Xe-=en*(tn+1+ft-Bn)),en<=Y+ze&&(Xe-=Y+ze-en+4),ae=Et[Xe++],ke=Et[Xe++],Le=Et[Xe++],Z[rt]=(ge[ae]+ge[ke+256>>0]+ge[Le+512>>0]>>16)-128,Ae[rt]=(ge[ae+768>>0]+ge[ke+1024>>0]+ge[Le+1280>>0]>>16)-128,he[rt]=(ge[ae+1280>>0]+ge[ke+1536>>0]+ge[Le+1792>>0]>>16)-128;ee=oe(Z,k,ee,F,m),C=oe(Ae,U,C,O,h),P=oe(he,U,P,O,h),Y+=32}tn+=8}if(0<=$){var Hn=[];Hn[1]=$+1,Hn[0]=(1<<$+1)-1,ie(Hn)}return ue(65497),new Uint8Array(R)},function(){new Date().getTime(),b||(b=50),function(){for(var be=String.fromCharCode,Qe=0;Qe<256;Qe++)xe[Qe]=be(Qe)}(),F=Q(x,G),O=Q(de,_e),m=Q(W,ce),h=Q(ye,X),function(){for(var be=1,Qe=2,Te=1;Te<=15;Te++){for(var V=be;V<Qe;V++)S[32767+V]=Te,v[32767+V]=[],v[32767+V][1]=Te,v[32767+V][0]=V;for(var ee=-(Qe-1);ee<=-be;ee++)S[32767+ee]=Te,v[32767+ee]=[],v[32767+ee][1]=Te,v[32767+ee][0]=Qe-1+ee;be<<=1,Qe<<=1}}(),function(){for(var be=0;be<256;be++)ge[be]=19595*be,ge[be+256>>0]=38470*be,ge[be+512>>0]=7471*be+32768,ge[be+768>>0]=-11059*be,ge[be+1024>>0]=-21709*be,ge[be+1280>>0]=32768*be+8421375,ge[be+1536>>0]=-27439*be,ge[be+1792>>0]=-5329*be}(),Ne(b),new Date().getTime()}()}try{t.exports=Fn}catch(b){}function Nn(b,F){if(this.pos=0,this.buffer=b,this.datav=new DataView(b.buffer),this.is_with_alpha=!!F,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}Nn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var b=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(b);for(var F=0;F<b;F++){var O=this.datav.getUint8(this.pos++,!0),m=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),g=this.datav.getUint8(this.pos++,!0);this.palette[F]={red:h,green:m,blue:O,quad:g}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Nn.prototype.parseBGR=function(){this.pos=this.offset;try{var b="bit"+this.bitPP,F=this.width*this.height*4;this.data=new Uint8Array(F),this[b]()}catch(O){console.log("bit decode error:"+O)}},Nn.prototype.bit1=function(){var b=Math.ceil(this.width/8),F=b%4,O=0<=this.height?this.height-1:-this.height;for(O=this.height-1;0<=O;O--){for(var m=this.bottom_up?O:this.height-1-O,h=0;h<b;h++)for(var g=this.datav.getUint8(this.pos++,!0),y=m*this.width*4+8*h*4,B=0;B<8&&8*h+B<this.width;B++){var E=this.palette[g>>7-B&1];this.data[y+4*B]=E.blue,this.data[y+4*B+1]=E.green,this.data[y+4*B+2]=E.red,this.data[y+4*B+3]=255}F!=0&&(this.pos+=4-F)}},Nn.prototype.bit4=function(){for(var b=Math.ceil(this.width/2),F=b%4,O=this.height-1;0<=O;O--){for(var m=this.bottom_up?O:this.height-1-O,h=0;h<b;h++){var g=this.datav.getUint8(this.pos++,!0),y=m*this.width*4+2*h*4,B=g>>4,E=15&g,k=this.palette[B];if(this.data[y]=k.blue,this.data[y+1]=k.green,this.data[y+2]=k.red,this.data[y+3]=255,2*h+1>=this.width)break;k=this.palette[E],this.data[y+4]=k.blue,this.data[y+4+1]=k.green,this.data[y+4+2]=k.red,this.data[y+4+3]=255}F!=0&&(this.pos+=4-F)}},Nn.prototype.bit8=function(){for(var b=this.width%4,F=this.height-1;0<=F;F--){for(var O=this.bottom_up?F:this.height-1-F,m=0;m<this.width;m++){var h=this.datav.getUint8(this.pos++,!0),g=O*this.width*4+4*m;if(h<this.palette.length){var y=this.palette[h];this.data[g]=y.red,this.data[g+1]=y.green,this.data[g+2]=y.blue,this.data[g+3]=255}else this.data[g]=255,this.data[g+1]=255,this.data[g+2]=255,this.data[g+3]=255}b!=0&&(this.pos+=4-b)}},Nn.prototype.bit15=function(){for(var b=this.width%3,F=parseInt("11111",2),O=this.height-1;0<=O;O--){for(var m=this.bottom_up?O:this.height-1-O,h=0;h<this.width;h++){var g=this.datav.getUint16(this.pos,!0);this.pos+=2;var y=(g&F)/F*255|0,B=(g>>5&F)/F*255|0,E=(g>>10&F)/F*255|0,k=g>>15?255:0,U=m*this.width*4+4*h;this.data[U]=E,this.data[U+1]=B,this.data[U+2]=y,this.data[U+3]=k}this.pos+=b}},Nn.prototype.bit16=function(){for(var b=this.width%3,F=parseInt("11111",2),O=parseInt("111111",2),m=this.height-1;0<=m;m--){for(var h=this.bottom_up?m:this.height-1-m,g=0;g<this.width;g++){var y=this.datav.getUint16(this.pos,!0);this.pos+=2;var B=(y&F)/F*255|0,E=(y>>5&O)/O*255|0,k=(y>>11)/F*255|0,U=h*this.width*4+4*g;this.data[U]=k,this.data[U+1]=E,this.data[U+2]=B,this.data[U+3]=255}this.pos+=b}},Nn.prototype.bit24=function(){for(var b=this.height-1;0<=b;b--){for(var F=this.bottom_up?b:this.height-1-b,O=0;O<this.width;O++){var m=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),g=this.datav.getUint8(this.pos++,!0),y=F*this.width*4+4*O;this.data[y]=g,this.data[y+1]=h,this.data[y+2]=m,this.data[y+3]=255}this.pos+=this.width%4}},Nn.prototype.bit32=function(){for(var b=this.height-1;0<=b;b--)for(var F=this.bottom_up?b:this.height-1-b,O=0;O<this.width;O++){var m=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),g=this.datav.getUint8(this.pos++,!0),y=this.datav.getUint8(this.pos++,!0),B=F*this.width*4+4*O;this.data[B]=g,this.data[B+1]=h,this.data[B+2]=m,this.data[B+3]=y}},Nn.prototype.getData=function(){return this.data};try{t.exports=function(b){var F=new Nn(b);return{data:F.getData(),width:F.width,height:F.height}}}catch(b){}(function(b){var F=15,O=573,m=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function h(){var L=this;function R(K,$){for(var Z=0;Z|=1&K,K>>>=1,Z<<=1,0<--$;);return Z>>>1}L.build_tree=function(K){var $,Z,Ae,he=L.dyn_tree,xe=L.stat_desc.static_tree,ge=L.stat_desc.elems,le=-1;for(K.heap_len=0,K.heap_max=O,$=0;$<ge;$++)he[2*$]!==0?(K.heap[++K.heap_len]=le=$,K.depth[$]=0):he[2*$+1]=0;for(;K.heap_len<2;)he[2*(Ae=K.heap[++K.heap_len]=le<2?++le:0)]=1,K.depth[Ae]=0,K.opt_len--,xe&&(K.static_len-=xe[2*Ae+1]);for(L.max_code=le,$=Math.floor(K.heap_len/2);1<=$;$--)K.pqdownheap(he,$);for(Ae=ge;$=K.heap[1],K.heap[1]=K.heap[K.heap_len--],K.pqdownheap(he,1),Z=K.heap[1],K.heap[--K.heap_max]=$,K.heap[--K.heap_max]=Z,he[2*Ae]=he[2*$]+he[2*Z],K.depth[Ae]=Math.max(K.depth[$],K.depth[Z])+1,he[2*$+1]=he[2*Z+1]=Ae,K.heap[1]=Ae++,K.pqdownheap(he,1),2<=K.heap_len;);K.heap[--K.heap_max]=K.heap[1],function(x){var G,W,ce,de,_e,ye,X=L.dyn_tree,Q=L.stat_desc.static_tree,ie=L.stat_desc.extra_bits,z=L.stat_desc.extra_base,ue=L.stat_desc.max_length,oe=0;for(de=0;de<=F;de++)x.bl_count[de]=0;for(X[2*x.heap[x.heap_max]+1]=0,G=x.heap_max+1;G<O;G++)ue<(de=X[2*X[2*(W=x.heap[G])+1]+1]+1)&&(de=ue,oe++),X[2*W+1]=de,W>L.max_code||(x.bl_count[de]++,_e=0,z<=W&&(_e=ie[W-z]),ye=X[2*W],x.opt_len+=ye*(de+_e),Q&&(x.static_len+=ye*(Q[2*W+1]+_e)));if(oe!==0){do{for(de=ue-1;x.bl_count[de]===0;)de--;x.bl_count[de]--,x.bl_count[de+1]+=2,x.bl_count[ue]--,oe-=2}while(0<oe);for(de=ue;de!==0;de--)for(W=x.bl_count[de];W!==0;)(ce=x.heap[--G])>L.max_code||(X[2*ce+1]!=de&&(x.opt_len+=(de-X[2*ce+1])*X[2*ce],X[2*ce+1]=de),W--)}}(K),function(x,G,W){var ce,de,_e,ye=[],X=0;for(ce=1;ce<=F;ce++)ye[ce]=X=X+W[ce-1]<<1;for(de=0;de<=G;de++)(_e=x[2*de+1])!==0&&(x[2*de]=R(ye[_e]++,_e))}(he,L.max_code,K.bl_count)}}function g(L,R,K,$,Z){var Ae=this;Ae.static_tree=L,Ae.extra_bits=R,Ae.extra_base=K,Ae.elems=$,Ae.max_length=Z}h._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],h.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],h.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],h.d_code=function(L){return L<256?m[L]:m[256+(L>>>7)]},h.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],h.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],g.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],g.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],g.static_l_desc=new g(g.static_ltree,h.extra_lbits,257,286,F),g.static_d_desc=new g(g.static_dtree,h.extra_dbits,0,30,F),g.static_bl_desc=new g(null,h.extra_blbits,0,19,7);function y(L,R,K,$,Z){var Ae=this;Ae.good_length=L,Ae.max_lazy=R,Ae.nice_length=K,Ae.max_chain=$,Ae.func=Z}var B=[new y(0,0,0,0,0),new y(4,4,8,4,1),new y(4,5,16,8,1),new y(4,6,32,32,1),new y(4,4,16,16,2),new y(8,16,32,32,2),new y(8,16,128,128,2),new y(8,32,128,256,2),new y(32,128,258,1024,2),new y(32,258,258,4096,2)],E=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],k=262;function U(L,R,K,$){var Z=L[2*R],Ae=L[2*K];return Z<Ae||Z==Ae&&$[R]<=$[K]}function v(){var L,R,K,$,Z,Ae,he,xe,ge,le,x,G,W,ce,de,_e,ye,X,Q,ie,z,ue,oe,Ne,be,Qe,Te,V,ee,C,P,Y,ae,ke,Le,je,Xe,ze,ft,rt,Et,Se=this,Bn=new h,en=new h,tn=new h;function Hn(){var Ee;for(Ee=0;Ee<286;Ee++)P[2*Ee]=0;for(Ee=0;Ee<30;Ee++)Y[2*Ee]=0;for(Ee=0;Ee<19;Ee++)ae[2*Ee]=0;P[512]=1,Se.opt_len=Se.static_len=0,je=ze=0}function Ht(Ee,Ce){var Re,$e,Je=-1,ut=Ee[1],St=0,Wt=7,Qt=4;for(ut===0&&(Wt=138,Qt=3),Ee[2*(Ce+1)+1]=65535,Re=0;Re<=Ce;Re++)$e=ut,ut=Ee[2*(Re+1)+1],++St<Wt&&$e==ut||(St<Qt?ae[2*$e]+=St:$e!==0?($e!=Je&&ae[2*$e]++,ae[32]++):St<=10?ae[34]++:ae[36]++,Je=$e,(St=0)===ut?(Wt=138,Qt=3):$e==ut?(Wt=6,Qt=3):(Wt=7,Qt=4))}function pn(Ee){Se.pending_buf[Se.pending++]=Ee}function Cn(Ee){pn(255&Ee),pn(Ee>>>8&255)}function dn(Ee,Ce){var Re,$e=Ce;16-$e<Et?(Cn(rt|=(Re=Ee)<<Et&65535),rt=Re>>>16-Et,Et+=$e-16):(rt|=Ee<<Et&65535,Et+=$e)}function un(Ee,Ce){var Re=2*Ee;dn(65535&Ce[Re],65535&Ce[Re+1])}function vn(Ee,Ce){var Re,$e,Je=-1,ut=Ee[1],St=0,Wt=7,Qt=4;for(ut===0&&(Wt=138,Qt=3),Re=0;Re<=Ce;Re++)if($e=ut,ut=Ee[2*(Re+1)+1],!(++St<Wt&&$e==ut)){if(St<Qt)for(;un($e,ae),--St!=0;);else $e!==0?($e!=Je&&(un($e,ae),St--),un(16,ae),dn(St-3,2)):St<=10?(un(17,ae),dn(St-3,3)):(un(18,ae),dn(St-11,7));Je=$e,(St=0)===ut?(Wt=138,Qt=3):$e==ut?(Wt=6,Qt=3):(Wt=7,Qt=4)}}function er(){Et==16?(Cn(rt),Et=rt=0):8<=Et&&(pn(255&rt),rt>>>=8,Et-=8)}function Pt(Ee,Ce){var Re,$e,Je;if(Se.pending_buf[Xe+2*je]=Ee>>>8&255,Se.pending_buf[Xe+2*je+1]=255&Ee,Se.pending_buf[ke+je]=255&Ce,je++,Ee===0?P[2*Ce]++:(ze++,Ee--,P[2*(h._length_code[Ce]+256+1)]++,Y[2*h.d_code(Ee)]++),(8191&je)==0&&2<Te){for(Re=8*je,$e=z-ye,Je=0;Je<30;Je++)Re+=Y[2*Je]*(5+h.extra_dbits[Je]);if(Re>>>=3,ze<Math.floor(je/2)&&Re<Math.floor($e/2))return!0}return je==Le-1}function pi(Ee,Ce){var Re,$e,Je,ut,St=0;if(je!==0)for(;Re=Se.pending_buf[Xe+2*St]<<8&65280|255&Se.pending_buf[Xe+2*St+1],$e=255&Se.pending_buf[ke+St],St++,Re===0?un($e,Ee):(un((Je=h._length_code[$e])+256+1,Ee),(ut=h.extra_lbits[Je])!==0&&dn($e-=h.base_length[Je],ut),un(Je=h.d_code(--Re),Ce),(ut=h.extra_dbits[Je])!==0&&dn(Re-=h.base_dist[Je],ut)),St<je;);un(256,Ee),ft=Ee[513]}function Gr(){8<Et?Cn(rt):0<Et&&pn(255&rt),Et=rt=0}function Hi(Ee,Ce,Re){var $e,Je,ut;dn(0+(Re?1:0),3),$e=Ee,Je=Ce,ut=!0,Gr(),ft=8,ut&&(Cn(Je),Cn(~Je)),Se.pending_buf.set(xe.subarray($e,$e+Je),Se.pending),Se.pending+=Je}function Ji(Ee,Ce,Re){var $e,Je,ut=0;0<Te?(Bn.build_tree(Se),en.build_tree(Se),ut=function(){var St;for(Ht(P,Bn.max_code),Ht(Y,en.max_code),tn.build_tree(Se),St=18;3<=St&&ae[2*h.bl_order[St]+1]===0;St--);return Se.opt_len+=3*(St+1)+5+5+4,St}(),$e=Se.opt_len+3+7>>>3,(Je=Se.static_len+3+7>>>3)<=$e&&($e=Je)):$e=Je=Ce+5,Ce+4<=$e&&Ee!=-1?Hi(Ee,Ce,Re):Je==$e?(dn(2+(Re?1:0),3),pi(g.static_ltree,g.static_dtree)):(dn(4+(Re?1:0),3),function(St,Wt,Qt){var $t;for(dn(St-257,5),dn(Wt-1,5),dn(Qt-4,4),$t=0;$t<Qt;$t++)dn(ae[2*h.bl_order[$t]+1],3);vn(P,St-1),vn(Y,Wt-1)}(Bn.max_code+1,en.max_code+1,ut+1),pi(P,Y)),Hn(),Re&&Gr()}function dr(Ee){Ji(0<=ye?ye:-1,z-ye,Ee),ye=z,L.flush_pending()}function te(){var Ee,Ce,Re,$e;do{if(($e=ge-oe-z)===0&&z===0&&oe===0)$e=Z;else if($e==-1)$e--;else if(Z+Z-k<=z){for(xe.set(xe.subarray(Z,Z+Z),0),ue-=Z,z-=Z,ye-=Z,Re=Ee=W;Ce=65535&x[--Re],x[Re]=Z<=Ce?Ce-Z:0,--Ee!=0;);for(Re=Ee=Z;Ce=65535&le[--Re],le[Re]=Z<=Ce?Ce-Z:0,--Ee!=0;);$e+=Z}if(L.avail_in===0)return;Ee=L.read_buf(xe,z+oe,$e),3<=(oe+=Ee)&&(G=((G=255&xe[z])<<_e^255&xe[z+1])&de)}while(oe<k&&L.avail_in!==0)}function Ue(Ee){var Ce,Re,$e=be,Je=z,ut=Ne,St=Z-k<z?z-(Z-k):0,Wt=C,Qt=he,$t=z+258,wn=xe[Je+ut-1],tr=xe[Je+ut];ee<=Ne&&($e>>=2),oe<Wt&&(Wt=oe);do if(xe[(Ce=Ee)+ut]==tr&&xe[Ce+ut-1]==wn&&xe[Ce]==xe[Je]&&xe[++Ce]==xe[Je+1]){Je+=2,Ce++;do;while(xe[++Je]==xe[++Ce]&&xe[++Je]==xe[++Ce]&&xe[++Je]==xe[++Ce]&&xe[++Je]==xe[++Ce]&&xe[++Je]==xe[++Ce]&&xe[++Je]==xe[++Ce]&&xe[++Je]==xe[++Ce]&&xe[++Je]==xe[++Ce]&&Je<$t);if(Re=258-($t-Je),Je=$t-258,ut<Re){if(ue=Ee,Wt<=(ut=Re))break;wn=xe[Je+ut-1],tr=xe[Je+ut]}}while((Ee=65535&le[Ee&Qt])>St&&--$e!=0);return ut<=oe?ut:oe}function He(Ee){return Ee.total_in=Ee.total_out=0,Ee.msg=null,Se.pending=0,Se.pending_out=0,R=113,$=0,Bn.dyn_tree=P,Bn.stat_desc=g.static_l_desc,en.dyn_tree=Y,en.stat_desc=g.static_d_desc,tn.dyn_tree=ae,tn.stat_desc=g.static_bl_desc,Et=rt=0,ft=8,Hn(),function(){var Ce;for(ge=2*Z,Ce=x[W-1]=0;Ce<W-1;Ce++)x[Ce]=0;Qe=B[Te].max_lazy,ee=B[Te].good_length,C=B[Te].nice_length,be=B[Te].max_chain,X=Ne=2,G=ie=oe=ye=z=0}(),0}Se.depth=[],Se.bl_count=[],Se.heap=[],P=[],Y=[],ae=[],Se.pqdownheap=function(Ee,Ce){for(var Re=Se.heap,$e=Re[Ce],Je=Ce<<1;Je<=Se.heap_len&&(Je<Se.heap_len&&U(Ee,Re[Je+1],Re[Je],Se.depth)&&Je++,!U(Ee,$e,Re[Je],Se.depth));)Re[Ce]=Re[Je],Ce=Je,Je<<=1;Re[Ce]=$e},Se.deflateInit=function(Ee,Ce,Re,$e,Je,ut){return $e||($e=8),Je||(Je=8),ut||(ut=0),Ee.msg=null,Ce==-1&&(Ce=6),Je<1||9<Je||$e!=8||Re<9||15<Re||Ce<0||9<Ce||ut<0||2<ut?-2:(Ee.dstate=Se,he=(Z=1<<(Ae=Re))-1,de=(W=1<<(ce=Je+7))-1,_e=Math.floor((ce+3-1)/3),xe=new Uint8Array(2*Z),le=[],x=[],Le=1<<Je+6,Se.pending_buf=new Uint8Array(4*Le),K=4*Le,Xe=Math.floor(Le/2),ke=3*Le,Te=Ce,V=ut,He(Ee))},Se.deflateEnd=function(){return R!=42&&R!=113&&R!=666?-2:(Se.pending_buf=null,xe=le=x=null,Se.dstate=null,R==113?-3:0)},Se.deflateParams=function(Ee,Ce,Re){var $e=0;return Ce==-1&&(Ce=6),Ce<0||9<Ce||Re<0||2<Re?-2:(B[Te].func!=B[Ce].func&&Ee.total_in!==0&&($e=Ee.deflate(1)),Te!=Ce&&(Qe=B[Te=Ce].max_lazy,ee=B[Te].good_length,C=B[Te].nice_length,be=B[Te].max_chain),V=Re,$e)},Se.deflateSetDictionary=function(Ee,Ce,Re){var $e,Je=Re,ut=0;if(!Ce||R!=42)return-2;if(Je<3)return 0;for(Z-k<Je&&(ut=Re-(Je=Z-k)),xe.set(Ce.subarray(ut,ut+Je),0),ye=z=Je,G=((G=255&xe[0])<<_e^255&xe[1])&de,$e=0;$e<=Je-3;$e++)G=(G<<_e^255&xe[$e+2])&de,le[$e&he]=x[G],x[G]=$e;return 0},Se.deflate=function(Ee,Ce){var Re,$e,Je,ut,St,Wt;if(4<Ce||Ce<0)return-2;if(!Ee.next_out||!Ee.next_in&&Ee.avail_in!==0||R==666&&Ce!=4)return Ee.msg=E[4],-2;if(Ee.avail_out===0)return Ee.msg=E[7],-5;if(L=Ee,ut=$,$=Ce,R==42&&($e=8+(Ae-8<<4)<<8,3<(Je=(Te-1&255)>>1)&&(Je=3),$e|=Je<<6,z!==0&&($e|=32),R=113,pn((Wt=$e+=31-$e%31)>>8&255),pn(255&Wt)),Se.pending!==0){if(L.flush_pending(),L.avail_out===0)return $=-1,0}else if(L.avail_in===0&&Ce<=ut&&Ce!=4)return L.msg=E[7],-5;if(R==666&&L.avail_in!==0)return Ee.msg=E[7],-5;if(L.avail_in!==0||oe!==0||Ce!=0&&R!=666){switch(St=-1,B[Te].func){case 0:St=function(Qt){var $t,wn=65535;for(K-5<wn&&(wn=K-5);;){if(oe<=1){if(te(),oe===0&&Qt==0)return 0;if(oe===0)break}if(z+=oe,$t=ye+wn,((oe=0)===z||$t<=z)&&(oe=z-$t,z=$t,dr(!1),L.avail_out===0)||Z-k<=z-ye&&(dr(!1),L.avail_out===0))return 0}return dr(Qt==4),L.avail_out===0?Qt==4?2:0:Qt==4?3:1}(Ce);break;case 1:St=function(Qt){for(var $t,wn=0;;){if(oe<k){if(te(),oe<k&&Qt==0)return 0;if(oe===0)break}if(3<=oe&&(G=(G<<_e^255&xe[z+2])&de,wn=65535&x[G],le[z&he]=x[G],x[G]=z),wn!==0&&(z-wn&65535)<=Z-k&&V!=2&&(X=Ue(wn)),3<=X)if($t=Pt(z-ue,X-3),oe-=X,X<=Qe&&3<=oe){for(X--;G=(G<<_e^255&xe[++z+2])&de,wn=65535&x[G],le[z&he]=x[G],x[G]=z,--X!=0;);z++}else z+=X,X=0,G=((G=255&xe[z])<<_e^255&xe[z+1])&de;else $t=Pt(0,255&xe[z]),oe--,z++;if($t&&(dr(!1),L.avail_out===0))return 0}return dr(Qt==4),L.avail_out===0?Qt==4?2:0:Qt==4?3:1}(Ce);break;case 2:St=function(Qt){for(var $t,wn,tr=0;;){if(oe<k){if(te(),oe<k&&Qt==0)return 0;if(oe===0)break}if(3<=oe&&(G=(G<<_e^255&xe[z+2])&de,tr=65535&x[G],le[z&he]=x[G],x[G]=z),Ne=X,Q=ue,X=2,tr!==0&&Ne<Qe&&(z-tr&65535)<=Z-k&&(V!=2&&(X=Ue(tr)),X<=5&&(V==1||X==3&&4096<z-ue)&&(X=2)),3<=Ne&&X<=Ne){for(wn=z+oe-3,$t=Pt(z-1-Q,Ne-3),oe-=Ne-1,Ne-=2;++z<=wn&&(G=(G<<_e^255&xe[z+2])&de,tr=65535&x[G],le[z&he]=x[G],x[G]=z),--Ne!=0;);if(ie=0,X=2,z++,$t&&(dr(!1),L.avail_out===0))return 0}else if(ie!==0){if(($t=Pt(0,255&xe[z-1]))&&dr(!1),z++,oe--,L.avail_out===0)return 0}else ie=1,z++,oe--}return ie!==0&&($t=Pt(0,255&xe[z-1]),ie=0),dr(Qt==4),L.avail_out===0?Qt==4?2:0:Qt==4?3:1}(Ce)}if(St!=2&&St!=3||(R=666),St==0||St==2)return L.avail_out===0&&($=-1),0;if(St==1){if(Ce==1)dn(2,3),un(256,g.static_ltree),er(),1+ft+10-Et<9&&(dn(2,3),un(256,g.static_ltree),er()),ft=7;else if(Hi(0,0,!1),Ce==3)for(Re=0;Re<W;Re++)x[Re]=0;if(L.flush_pending(),L.avail_out===0)return $=-1,0}}return Ce!=4?0:1}}function S(){var L=this;L.next_in_index=0,L.next_out_index=0,L.avail_in=0,L.total_in=0,L.avail_out=0,L.total_out=0}S.prototype={deflateInit:function(L,R){return this.dstate=new v,R||(R=F),this.dstate.deflateInit(this,L,R)},deflate:function(L){return this.dstate?this.dstate.deflate(this,L):-2},deflateEnd:function(){if(!this.dstate)return-2;var L=this.dstate.deflateEnd();return this.dstate=null,L},deflateParams:function(L,R){return this.dstate?this.dstate.deflateParams(this,L,R):-2},deflateSetDictionary:function(L,R){return this.dstate?this.dstate.deflateSetDictionary(this,L,R):-2},read_buf:function(L,R,K){var $=this,Z=$.avail_in;return K<Z&&(Z=K),Z===0?0:($.avail_in-=Z,L.set($.next_in.subarray($.next_in_index,$.next_in_index+Z),R),$.next_in_index+=Z,$.total_in+=Z,Z)},flush_pending:function(){var L=this,R=L.dstate.pending;R>L.avail_out&&(R=L.avail_out),R!==0&&(L.next_out.set(L.dstate.pending_buf.subarray(L.dstate.pending_out,L.dstate.pending_out+R),L.next_out_index),L.next_out_index+=R,L.dstate.pending_out+=R,L.total_out+=R,L.avail_out-=R,L.dstate.pending-=R,L.dstate.pending===0&&(L.dstate.pending_out=0))}};var _=b.zip||b;_.Deflater=_._jzlib_Deflater=function(L){var R=new S,K=new Uint8Array(512),$=L?L.level:-1;$===void 0&&($=-1),R.deflateInit($),R.next_out=K,this.append=function(Z,Ae){var he,xe=[],ge=0,le=0,x=0;if(Z.length){R.next_in_index=0,R.next_in=Z,R.avail_in=Z.length;do{if(R.next_out_index=0,R.avail_out=512,R.deflate(0)!=0)throw new Error("deflating: "+R.msg);R.next_out_index&&(R.next_out_index==512?xe.push(new Uint8Array(K)):xe.push(new Uint8Array(K.subarray(0,R.next_out_index)))),x+=R.next_out_index,Ae&&0<R.next_in_index&&R.next_in_index!=ge&&(Ae(R.next_in_index),ge=R.next_in_index)}while(0<R.avail_in||R.avail_out===0);return he=new Uint8Array(x),xe.forEach(function(G){he.set(G,le),le+=G.length}),he}},this.flush=function(){var Z,Ae,he=[],xe=0,ge=0;do{if(R.next_out_index=0,R.avail_out=512,(Z=R.deflate(4))!=1&&Z!=0)throw new Error("deflating: "+R.msg);0<512-R.avail_out&&he.push(new Uint8Array(K.subarray(0,R.next_out_index))),ge+=R.next_out_index}while(0<R.avail_in||R.avail_out===0);return R.deflateEnd(),Ae=new Uint8Array(ge),he.forEach(function(le){Ae.set(le,xe),xe+=le.length}),Ae}}})(typeof self!="undefined"&&self||typeof window!="undefined"&&window||typeof Xn!="undefined"&&Xn||Function('return typeof this === "object" && this.content')()||Function("return this")()),function(b){function F(O){var m;this.ok=!1,O.charAt(0)=="#"&&(O=O.substr(1,6)),O=(O=O.replace(/ /g,"")).toLowerCase();var h={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var g in h)O==g&&(O=h[g]);for(var y=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(v){return[parseInt(v[1]),parseInt(v[2]),parseInt(v[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(v){return[parseInt(v[1],16),parseInt(v[2],16),parseInt(v[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(v){return[parseInt(v[1]+v[1],16),parseInt(v[2]+v[2],16),parseInt(v[3]+v[3],16)]}}],B=0;B<y.length;B++){var E=y[B].re,k=y[B].process,U=E.exec(O);U&&(m=k(U),this.r=m[0],this.g=m[1],this.b=m[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var v=this.r.toString(16),S=this.g.toString(16),_=this.b.toString(16);return v.length==1&&(v="0"+v),S.length==1&&(S="0"+S),_.length==1&&(_="0"+_),"#"+v+S+_},this.getHelpXML=function(){for(var v=new Array,S=0;S<y.length;S++)for(var _=y[S].example,L=0;L<_.length;L++)v[v.length]=_[L];for(var R in h)v[v.length]=R;var K=document.createElement("ul");for(K.setAttribute("id","rgbcolor-examples"),S=0;S<v.length;S++)try{var $=document.createElement("li"),Z=new F(v[S]),Ae=document.createElement("div");Ae.style.cssText="margin: 3px; border: 1px solid black; background:"+Z.toHex()+"; color:"+Z.toHex(),Ae.appendChild(document.createTextNode("test"));var he=document.createTextNode(" "+v[S]+" -> "+Z.toRGB()+" -> "+Z.toHex());$.appendChild(Ae),$.appendChild(he),K.appendChild($)}catch(xe){}return K}}t.exports&&(t.exports=F),b.RGBColor=F}(typeof self!="undefined"&&self||typeof window!="undefined"&&window||typeof Xn!="undefined"&&Xn||Function('return typeof this === "object" && this.content')()||Function("return this")()),function(b){t.exports=b()}(function(){return function b(F,O,m){function h(B,E){if(!O[B]){if(!F[B]){var k=typeof yl=="function"&&yl;if(!E&&k)return k(B,!0);if(g)return g(B,!0);var U=new Error("Cannot find module '"+B+"'");throw U.code="MODULE_NOT_FOUND",U}var v=O[B]={exports:{}};F[B][0].call(v.exports,function(S){var _=F[B][1][S];return h(_||S)},v,v.exports,b,F,O,m)}return O[B].exports}for(var g=typeof yl=="function"&&yl,y=0;y<m.length;y++)h(m[y]);return h}({1:[function(b,F,O){(function(m){(function(h){var g=typeof O=="object"&&O,y=typeof F=="object"&&F&&F.exports==g&&F,B=typeof m=="object"&&m;B.global!==B&&B.window!==B||(h=B);var E,k,U=2147483647,v=36,S=1,_=26,L=38,R=700,K=72,$=128,Z="-",Ae=/^xn--/,he=/[^ -~]/,xe=/\x2E|\u3002|\uFF0E|\uFF61/g,ge={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},le=v-S,x=Math.floor,G=String.fromCharCode;function W(ue){throw RangeError(ge[ue])}function ce(ue,oe){for(var Ne=ue.length;Ne--;)ue[Ne]=oe(ue[Ne]);return ue}function de(ue,oe){return ce(ue.split(xe),oe).join(".")}function _e(ue){for(var oe,Ne,be=[],Qe=0,Te=ue.length;Qe<Te;)55296<=(oe=ue.charCodeAt(Qe++))&&oe<=56319&&Qe<Te?(64512&(Ne=ue.charCodeAt(Qe++)))==56320?be.push(((1023&oe)<<10)+(1023&Ne)+65536):(be.push(oe),Qe--):be.push(oe);return be}function ye(ue){return ce(ue,function(oe){var Ne="";return 65535<oe&&(Ne+=G((oe-=65536)>>>10&1023|55296),oe=56320|1023&oe),Ne+=G(oe)}).join("")}function X(ue,oe){return ue+22+75*(ue<26)-((oe!=0)<<5)}function Q(ue,oe,Ne){var be=0;for(ue=Ne?x(ue/R):ue>>1,ue+=x(ue/oe);le*_>>1<ue;be+=v)ue=x(ue/le);return x(be+(le+1)*ue/(ue+L))}function ie(ue){var oe,Ne,be,Qe,Te,V,ee,C,P,Y,ae,ke=[],Le=ue.length,je=0,Xe=$,ze=K;for((Ne=ue.lastIndexOf(Z))<0&&(Ne=0),be=0;be<Ne;++be)128<=ue.charCodeAt(be)&&W("not-basic"),ke.push(ue.charCodeAt(be));for(Qe=0<Ne?Ne+1:0;Qe<Le;){for(Te=je,V=1,ee=v;Le<=Qe&&W("invalid-input"),ae=ue.charCodeAt(Qe++),(v<=(C=ae-48<10?ae-22:ae-65<26?ae-65:ae-97<26?ae-97:v)||C>x((U-je)/V))&&W("overflow"),je+=C*V,!(C<(P=ee<=ze?S:ze+_<=ee?_:ee-ze));ee+=v)V>x(U/(Y=v-P))&&W("overflow"),V*=Y;ze=Q(je-Te,oe=ke.length+1,Te==0),x(je/oe)>U-Xe&&W("overflow"),Xe+=x(je/oe),je%=oe,ke.splice(je++,0,Xe)}return ye(ke)}function z(ue){var oe,Ne,be,Qe,Te,V,ee,C,P,Y,ae,ke,Le,je,Xe,ze=[];for(ke=(ue=_e(ue)).length,oe=$,Te=K,V=Ne=0;V<ke;++V)(ae=ue[V])<128&&ze.push(G(ae));for(be=Qe=ze.length,Qe&&ze.push(Z);be<ke;){for(ee=U,V=0;V<ke;++V)oe<=(ae=ue[V])&&ae<ee&&(ee=ae);for(ee-oe>x((U-Ne)/(Le=be+1))&&W("overflow"),Ne+=(ee-oe)*Le,oe=ee,V=0;V<ke;++V)if((ae=ue[V])<oe&&++Ne>U&&W("overflow"),ae==oe){for(C=Ne,P=v;!(C<(Y=P<=Te?S:Te+_<=P?_:P-Te));P+=v)Xe=C-Y,je=v-Y,ze.push(G(X(Y+Xe%je,0))),C=x(Xe/je);ze.push(G(X(C,0))),Te=Q(Ne,Le,be==Qe),Ne=0,++be}++Ne,++oe}return ze.join("")}if(E={version:"1.2.4",ucs2:{decode:_e,encode:ye},decode:ie,encode:z,toASCII:function(ue){return de(ue,function(oe){return he.test(oe)?"xn--"+z(oe):oe})},toUnicode:function(ue){return de(ue,function(oe){return Ae.test(oe)?ie(oe.slice(4).toLowerCase()):oe})}},g&&!g.nodeType)if(y)y.exports=E;else for(k in E)E.hasOwnProperty(k)&&(g[k]=E[k]);else h.punycode=E})(this)}).call(this,typeof Xn!="undefined"?Xn:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(b,F,O){var m=b("./log");function h(g,y){for(var B=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),E=g.firstChild;E;)y!==!0&&E.nodeType===1&&E.nodeName==="SCRIPT"||B.appendChild(h(E,y)),E=E.nextSibling;return g.nodeType===1&&(B._scrollTop=g.scrollTop,B._scrollLeft=g.scrollLeft,g.nodeName==="CANVAS"?function(k,U){try{U&&(U.width=k.width,U.height=k.height,U.getContext("2d").putImageData(k.getContext("2d").getImageData(0,0,k.width,k.height),0,0))}catch(v){m("Unable to copy canvas content from",k,v)}}(g,B):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(B.value=g.value)),B}F.exports=function(g,y,B,E,k,U,v){var S=h(g.documentElement,k.javascriptEnabled),_=y.createElement("iframe");return _.className="html2canvas-container",_.style.visibility="hidden",_.style.position="fixed",_.style.left="-10000px",_.style.top="0px",_.style.border="0",_.width=B,_.height=E,_.scrolling="no",y.body.appendChild(_),new Promise(function(L){var R,K,$,Z=_.contentWindow.document;_.contentWindow.onload=_.onload=function(){var Ae=setInterval(function(){0<Z.body.childNodes.length&&(function he(xe){if(xe.nodeType===1){xe.scrollTop=xe._scrollTop,xe.scrollLeft=xe._scrollLeft;for(var ge=xe.firstChild;ge;)he(ge),ge=ge.nextSibling}}(Z.documentElement),clearInterval(Ae),k.type==="view"&&(_.contentWindow.scrollTo(U,v),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||_.contentWindow.scrollY===v&&_.contentWindow.scrollX===U||(Z.documentElement.style.top=-v+"px",Z.documentElement.style.left=-U+"px",Z.documentElement.style.position="absolute")),L(_))},50)},Z.open(),Z.write("<!DOCTYPE html><html></html>"),K=U,$=v,!(R=g).defaultView||K===R.defaultView.pageXOffset&&$===R.defaultView.pageYOffset||R.defaultView.scrollTo(K,$),Z.replaceChild(Z.adoptNode(S),Z.documentElement),Z.close()})}},{"./log":13}],3:[function(b,F,O){function m(k){this.r=0,this.g=0,this.b=0,this.a=null,this.fromArray(k)||this.namedColor(k)||this.rgb(k)||this.rgba(k)||this.hex6(k)||this.hex3(k)}m.prototype.darken=function(k){var U=1-k;return new m([Math.round(this.r*U),Math.round(this.g*U),Math.round(this.b*U),this.a])},m.prototype.isTransparent=function(){return this.a===0},m.prototype.isBlack=function(){return this.r===0&&this.g===0&&this.b===0},m.prototype.fromArray=function(k){return Array.isArray(k)&&(this.r=Math.min(k[0],255),this.g=Math.min(k[1],255),this.b=Math.min(k[2],255),3<k.length&&(this.a=k[3])),Array.isArray(k)};var h=/^#([a-f0-9]{3})$/i;m.prototype.hex3=function(k){var U;return(U=k.match(h))!==null&&(this.r=parseInt(U[1][0]+U[1][0],16),this.g=parseInt(U[1][1]+U[1][1],16),this.b=parseInt(U[1][2]+U[1][2],16)),U!==null};var g=/^#([a-f0-9]{6})$/i;m.prototype.hex6=function(k){var U=null;return(U=k.match(g))!==null&&(this.r=parseInt(U[1].substring(0,2),16),this.g=parseInt(U[1].substring(2,4),16),this.b=parseInt(U[1].substring(4,6),16)),U!==null};var y=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;m.prototype.rgb=function(k){var U;return(U=k.match(y))!==null&&(this.r=Number(U[1]),this.g=Number(U[2]),this.b=Number(U[3])),U!==null};var B=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;m.prototype.rgba=function(k){var U;return(U=k.match(B))!==null&&(this.r=Number(U[1]),this.g=Number(U[2]),this.b=Number(U[3]),this.a=Number(U[4])),U!==null},m.prototype.toString=function(){return this.a!==null&&this.a!==1?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},m.prototype.namedColor=function(k){k=k.toLowerCase();var U=E[k];if(U)this.r=U[0],this.g=U[1],this.b=U[2];else if(k==="transparent")return this.r=this.g=this.b=this.a=0,!0;return!!U},m.prototype.isColor=!0;var E={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};F.exports=m},{}],4:[function(b,F,O){var m=b("./support"),h=b("./renderers/canvas"),g=b("./imageloader"),y=b("./nodeparser"),B=b("./nodecontainer"),E=b("./log"),k=b("./utils"),U=b("./clone"),v=b("./proxy").loadUrlDocument,S=k.getBounds,_="data-html2canvas-node",L=0;function R(Ae,he){var xe,ge,le=L++;if((he=he||{}).logging&&(E.options.logging=!0,E.options.start=Date.now()),he.async=he.async===void 0||he.async,he.allowTaint=he.allowTaint!==void 0&&he.allowTaint,he.removeContainer=he.removeContainer===void 0||he.removeContainer,he.javascriptEnabled=he.javascriptEnabled!==void 0&&he.javascriptEnabled,he.imageTimeout=he.imageTimeout===void 0?1e4:he.imageTimeout,he.renderer=typeof he.renderer=="function"?he.renderer:h,he.strict=!!he.strict,typeof Ae=="string"){if(typeof he.proxy!="string")return Promise.reject("Proxy must be used when rendering url");var x=he.width!=null?he.width:window.innerWidth,G=he.height!=null?he.height:window.innerHeight;return v((xe=Ae,ge=document.createElement("a"),ge.href=xe,ge.href=ge.href,ge),he.proxy,document,x,G,he).then(function(Q){return $(Q.contentWindow.document.documentElement,Q,he,x,G)})}var W,ce,de,_e,ye,X=(Ae===void 0?[document.documentElement]:Ae.length?Ae:[Ae])[0];return X.setAttribute(_+le,le),(W=X.ownerDocument,ce=he,de=X.ownerDocument.defaultView.innerWidth,_e=X.ownerDocument.defaultView.innerHeight,ye=le,U(W,W,de,_e,ce,W.defaultView.pageXOffset,W.defaultView.pageYOffset).then(function(Q){E("Document cloned");var ie=_+ye,z="["+ie+"='"+ye+"']";W.querySelector(z).removeAttribute(ie);var ue=Q.contentWindow,oe=ue.document.querySelector(z),Ne=typeof ce.onclone=="function"?Promise.resolve(ce.onclone(ue.document)):Promise.resolve(!0);return Ne.then(function(){return $(oe,Q,ce,de,_e)})})).then(function(Q){return typeof he.onrendered=="function"&&(E("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),he.onrendered(Q)),Q})}R.CanvasRenderer=h,R.NodeContainer=B,R.log=E,R.utils=k;var K=typeof document=="undefined"||typeof Object.create!="function"||typeof document.createElement("canvas").getContext!="function"?function(){return Promise.reject("No canvas support")}:R;function $(Ae,he,xe,ge,le){var x,G,W=he.contentWindow,ce=new m(W.document),de=new g(xe,ce),_e=S(Ae),ye=xe.type==="view"?ge:(x=W.document,Math.max(Math.max(x.body.scrollWidth,x.documentElement.scrollWidth),Math.max(x.body.offsetWidth,x.documentElement.offsetWidth),Math.max(x.body.clientWidth,x.documentElement.clientWidth))),X=xe.type==="view"?le:(G=W.document,Math.max(Math.max(G.body.scrollHeight,G.documentElement.scrollHeight),Math.max(G.body.offsetHeight,G.documentElement.offsetHeight),Math.max(G.body.clientHeight,G.documentElement.clientHeight))),Q=new xe.renderer(ye,X,de,xe,document);return new y(Ae,Q,ce,de,xe).ready.then(function(){var ie,z;return E("Finished rendering"),ie=xe.type==="view"?Z(Q.canvas,{width:Q.canvas.width,height:Q.canvas.height,top:0,left:0,x:0,y:0}):Ae===W.document.body||Ae===W.document.documentElement||xe.canvas!=null?Q.canvas:Z(Q.canvas,{width:xe.width!=null?xe.width:_e.width,height:xe.height!=null?xe.height:_e.height,top:_e.top,left:_e.left,x:0,y:0}),z=he,xe.removeContainer&&(z.parentNode.removeChild(z),E("Cleaned up container")),ie})}function Z(Ae,he){var xe=document.createElement("canvas"),ge=Math.min(Ae.width-1,Math.max(0,he.left)),le=Math.min(Ae.width,Math.max(1,he.left+he.width)),x=Math.min(Ae.height-1,Math.max(0,he.top)),G=Math.min(Ae.height,Math.max(1,he.top+he.height));xe.width=he.width,xe.height=he.height;var W=le-ge,ce=G-x;return E("Cropping canvas at:","left:",he.left,"top:",he.top,"width:",W,"height:",ce),E("Resulting crop with width",he.width,"and height",he.height,"with x",ge,"and y",x),xe.getContext("2d").drawImage(Ae,ge,x,W,ce,he.x,he.y,W,ce),xe}F.exports=K},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(b,F,O){var m=b("./log"),h=b("./utils").smallImage;F.exports=function g(y){if(this.src=y,m("DummyImageContainer for",y),!this.promise||!this.image){m("Initiating DummyImageContainer"),g.prototype.image=new Image;var B=this.image;g.prototype.promise=new Promise(function(E,k){B.onload=E,B.onerror=k,B.src=h(),B.complete===!0&&E(B)})}}},{"./log":13,"./utils":26}],6:[function(b,F,O){var m=b("./utils").smallImage;F.exports=function(h,g){var y,B,E=document.createElement("div"),k=document.createElement("img"),U=document.createElement("span"),v="Hidden Text";E.style.visibility="hidden",E.style.fontFamily=h,E.style.fontSize=g,E.style.margin=0,E.style.padding=0,document.body.appendChild(E),k.src=m(),k.width=1,k.height=1,k.style.margin=0,k.style.padding=0,k.style.verticalAlign="baseline",U.style.fontFamily=h,U.style.fontSize=g,U.style.margin=0,U.style.padding=0,U.appendChild(document.createTextNode(v)),E.appendChild(U),E.appendChild(k),y=k.offsetTop-U.offsetTop+1,E.removeChild(U),E.appendChild(document.createTextNode(v)),E.style.lineHeight="normal",k.style.verticalAlign="super",B=k.offsetTop-E.offsetTop+1,document.body.removeChild(E),this.baseline=y,this.lineWidth=1,this.middle=B}},{"./utils":26}],7:[function(b,F,O){var m=b("./font");function h(){this.data={}}h.prototype.getMetrics=function(g,y){return this.data[g+"-"+y]===void 0&&(this.data[g+"-"+y]=new m(g,y)),this.data[g+"-"+y]},F.exports=h},{"./font":6}],8:[function(b,F,O){var m=b("./utils").getBounds,h=b("./proxy").loadUrlDocument;function g(y,B,E){this.image=null,this.src=y;var k=this,U=m(y);this.promise=(B?new Promise(function(v){y.contentWindow.document.URL==="about:blank"||y.contentWindow.document.documentElement==null?y.contentWindow.onload=y.onload=function(){v(y)}:v(y)}):this.proxyLoad(E.proxy,U,E)).then(function(v){return b("./core")(v.contentWindow.document.documentElement,{type:"view",width:v.width,height:v.height,proxy:E.proxy,javascriptEnabled:E.javascriptEnabled,removeContainer:E.removeContainer,allowTaint:E.allowTaint,imageTimeout:E.imageTimeout/2})}).then(function(v){return k.image=v})}g.prototype.proxyLoad=function(y,B,E){var k=this.src;return h(k.src,y,k.ownerDocument,B.width,B.height,E)},F.exports=g},{"./core":4,"./proxy":16,"./utils":26}],9:[function(b,F,O){function m(h){this.src=h.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}m.TYPES={LINEAR:1,RADIAL:2},m.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,F.exports=m},{}],10:[function(b,F,O){F.exports=function(m,h){this.src=m,this.image=new Image;var g=this;this.tainted=null,this.promise=new Promise(function(y,B){g.image.onload=y,g.image.onerror=B,h&&(g.image.crossOrigin="anonymous"),g.image.src=m,g.image.complete===!0&&y(g.image)})}},{}],11:[function(b,F,O){var m=b("./log"),h=b("./imagecontainer"),g=b("./dummyimagecontainer"),y=b("./proxyimagecontainer"),B=b("./framecontainer"),E=b("./svgcontainer"),k=b("./svgnodecontainer"),U=b("./lineargradientcontainer"),v=b("./webkitgradientcontainer"),S=b("./utils").bind;function _(L,R){this.link=null,this.options=L,this.support=R,this.origin=this.getOrigin(window.location.href)}_.prototype.findImages=function(L){var R=[];return L.reduce(function(K,$){switch($.node.nodeName){case"IMG":return K.concat([{args:[$.node.src],method:"url"}]);case"svg":case"IFRAME":return K.concat([{args:[$.node],method:$.node.nodeName}])}return K},[]).forEach(this.addImage(R,this.loadImage),this),R},_.prototype.findBackgroundImage=function(L,R){return R.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(L,this.loadImage),this),L},_.prototype.addImage=function(L,R){return function(K){K.args.forEach(function($){this.imageExists(L,$)||(L.splice(0,0,R.call(this,K)),m("Added image #"+L.length,typeof $=="string"?$.substring(0,100):$))},this)}},_.prototype.hasImageBackground=function(L){return L.method!=="none"},_.prototype.loadImage=function(L){if(L.method==="url"){var R=L.args[0];return!this.isSVG(R)||this.support.svg||this.options.allowTaint?R.match(/data:image\/.*;base64,/i)?new h(R.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(R)||this.options.allowTaint===!0||this.isSVG(R)?new h(R,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new h(R,!0):this.options.proxy?new y(R,this.options.proxy):new g(R):new E(R)}return L.method==="linear-gradient"?new U(L):L.method==="gradient"?new v(L):L.method==="svg"?new k(L.args[0],this.support.svg):L.method==="IFRAME"?new B(L.args[0],this.isSameOrigin(L.args[0].src),this.options):new g(L)},_.prototype.isSVG=function(L){return L.substring(L.length-3).toLowerCase()==="svg"||E.prototype.isInline(L)},_.prototype.imageExists=function(L,R){return L.some(function(K){return K.src===R})},_.prototype.isSameOrigin=function(L){return this.getOrigin(L)===this.origin},_.prototype.getOrigin=function(L){var R=this.link||(this.link=document.createElement("a"));return R.href=L,R.href=R.href,R.protocol+R.hostname+R.port},_.prototype.getPromise=function(L){return this.timeout(L,this.options.imageTimeout).catch(function(){return new g(L.src).promise.then(function(R){L.image=R})})},_.prototype.get=function(L){var R=null;return this.images.some(function(K){return(R=K).src===L})?R:null},_.prototype.fetch=function(L){return this.images=L.reduce(S(this.findBackgroundImage,this),this.findImages(L)),this.images.forEach(function(R,K){R.promise.then(function(){m("Succesfully loaded image #"+(K+1),R)},function($){m("Failed loading image #"+(K+1),R,$)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),m("Finished searching images"),this},_.prototype.timeout=function(L,R){var K,$=Promise.race([L.promise,new Promise(function(Z,Ae){K=setTimeout(function(){m("Timed out loading image",L),Ae(L)},R)})]).then(function(Z){return clearTimeout(K),Z});return $.catch(function(){clearTimeout(K)}),$},F.exports=_},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(b,F,O){var m=b("./gradientcontainer"),h=b("./color");function g(y){m.apply(this,arguments),this.type=m.TYPES.LINEAR;var B=g.REGEXP_DIRECTION.test(y.args[0])||!m.REGEXP_COLORSTOP.test(y.args[0]);B?y.args[0].split(/\s+/).reverse().forEach(function(E,k){switch(E){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var U=this.y0,v=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=v,this.y1=U;break;case"center":break;default:var S=.01*parseFloat(E,10);if(isNaN(S))break;k===0?(this.y0=S,this.y1=1-this.y0):(this.x0=S,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=y.args.slice(B?1:0).map(function(E){var k=E.match(m.REGEXP_COLORSTOP),U=+k[2],v=U===0?"%":k[3];return{color:new h(k[1]),stop:v==="%"?U/100:null}}),this.colorStops[0].stop===null&&(this.colorStops[0].stop=0),this.colorStops[this.colorStops.length-1].stop===null&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(E,k){E.stop===null&&this.colorStops.slice(k).some(function(U,v){return U.stop!==null&&(E.stop=(U.stop-this.colorStops[k-1].stop)/(v+1)+this.colorStops[k-1].stop,!0)},this)},this)}g.prototype=Object.create(m.prototype),g.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,F.exports=g},{"./color":3,"./gradientcontainer":9}],13:[function(b,F,O){var m=function(){m.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-m.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};m.options={logging:!1},F.exports=m},{}],14:[function(b,F,O){var m=b("./color"),h=b("./utils"),g=h.getBounds,y=h.parseBackgrounds,B=h.offsetBounds;function E(S,_){this.node=S,this.parent=_,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function k(S){return S.toString().indexOf("%")!==-1}function U(S){return S.replace("px","")}function v(S){return parseFloat(S)}E.prototype.cloneTo=function(S){S.visible=this.visible,S.borders=this.borders,S.bounds=this.bounds,S.clip=this.clip,S.backgroundClip=this.backgroundClip,S.computedStyles=this.computedStyles,S.styles=this.styles,S.backgroundImages=this.backgroundImages,S.opacity=this.opacity},E.prototype.getOpacity=function(){return this.opacity===null?this.opacity=this.cssFloat("opacity"):this.opacity},E.prototype.assignStack=function(S){(this.stack=S).children.push(this)},E.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:this.css("display")!=="none"&&this.css("visibility")!=="hidden"&&!this.node.hasAttribute("data-html2canvas-ignore")&&(this.node.nodeName!=="INPUT"||this.node.getAttribute("type")!=="hidden")},E.prototype.css=function(S){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[S]||(this.styles[S]=this.computedStyles[S])},E.prototype.prefixedCss=function(S){var _=this.css(S);return _===void 0&&["webkit","moz","ms","o"].some(function(L){return(_=this.css(L+S.substr(0,1).toUpperCase()+S.substr(1)))!==void 0},this),_===void 0?null:_},E.prototype.computedStyle=function(S){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,S)},E.prototype.cssInt=function(S){var _=parseInt(this.css(S),10);return isNaN(_)?0:_},E.prototype.color=function(S){return this.colors[S]||(this.colors[S]=new m(this.css(S)))},E.prototype.cssFloat=function(S){var _=parseFloat(this.css(S));return isNaN(_)?0:_},E.prototype.fontWeight=function(){var S=this.css("fontWeight");switch(parseInt(S,10)){case 401:S="bold";break;case 400:S="normal"}return S},E.prototype.parseClip=function(){var S=this.css("clip").match(this.CLIP);return S?{top:parseInt(S[1],10),right:parseInt(S[2],10),bottom:parseInt(S[3],10),left:parseInt(S[4],10)}:null},E.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=y(this.css("backgroundImage")))},E.prototype.cssList=function(S,_){var L=(this.css(S)||"").split(",");return(L=(L=L[_||0]||L[0]||"auto").trim().split(" ")).length===1&&(L=[L[0],k(L[0])?"auto":L[0]]),L},E.prototype.parseBackgroundSize=function(S,_,L){var R,K,$=this.cssList("backgroundSize",L);if(k($[0]))R=S.width*parseFloat($[0])/100;else{if(/contain|cover/.test($[0])){var Z=S.width/S.height,Ae=_.width/_.height;return Z<Ae^$[0]==="contain"?{width:S.height*Ae,height:S.height}:{width:S.width,height:S.width/Ae}}R=parseInt($[0],10)}return K=$[0]==="auto"&&$[1]==="auto"?_.height:$[1]==="auto"?R/_.width*_.height:k($[1])?S.height*parseFloat($[1])/100:parseInt($[1],10),$[0]==="auto"&&(R=K/_.height*_.width),{width:R,height:K}},E.prototype.parseBackgroundPosition=function(S,_,L,R){var K,$,Z=this.cssList("backgroundPosition",L);return K=k(Z[0])?(S.width-(R||_).width)*(parseFloat(Z[0])/100):parseInt(Z[0],10),$=Z[1]==="auto"?K/_.width*_.height:k(Z[1])?(S.height-(R||_).height)*parseFloat(Z[1])/100:parseInt(Z[1],10),Z[0]==="auto"&&(K=$/_.height*_.width),{left:K,top:$}},E.prototype.parseBackgroundRepeat=function(S){return this.cssList("backgroundRepeat",S)[0]},E.prototype.parseTextShadows=function(){var S=this.css("textShadow"),_=[];if(S&&S!=="none")for(var L=S.match(this.TEXT_SHADOW_PROPERTY),R=0;L&&R<L.length;R++){var K=L[R].match(this.TEXT_SHADOW_VALUES);_.push({color:new m(K[0]),offsetX:K[1]?parseFloat(K[1].replace("px","")):0,offsetY:K[2]?parseFloat(K[2].replace("px","")):0,blur:K[3]?K[3].replace("px",""):0})}return _},E.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var S=this.parseBounds(),_=this.prefixedCss("transformOrigin").split(" ").map(U).map(v);_[0]+=S.left,_[1]+=S.top,this.transformData={origin:_,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},E.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var S=this.prefixedCss("transform"),_=S?function(L){{if(L&&L[1]==="matrix")return L[2].split(",").map(function(K){return parseFloat(K.trim())});if(L&&L[1]==="matrix3d"){var R=L[2].split(",").map(function(K){return parseFloat(K.trim())});return[R[0],R[1],R[4],R[5],R[12],R[13]]}}}(S.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=_||[1,0,0,1,0,0]}return this.transformMatrix},E.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?B(this.node):g(this.node))},E.prototype.hasTransform=function(){return this.parseTransformMatrix().join(",")!=="1,0,0,1,0,0"||this.parent&&this.parent.hasTransform()},E.prototype.getValue=function(){var S,_,L=this.node.value||"";return this.node.tagName==="SELECT"?(S=this.node,L=(_=S.options[S.selectedIndex||0])&&_.text||""):this.node.type==="password"&&(L=Array(L.length+1).join("")),L.length===0?this.node.placeholder||"":L},E.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,E.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,E.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,E.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,F.exports=E},{"./color":3,"./utils":26}],15:[function(b,F,O){var m=b("./log"),h=b("punycode"),g=b("./nodecontainer"),y=b("./textcontainer"),B=b("./pseudoelementcontainer"),E=b("./fontmetrics"),k=b("./color"),U=b("./stackingcontext"),v=b("./utils"),S=v.bind,_=v.getBounds,L=v.parseBackgrounds,R=v.offsetBounds;function K(C,P,Y,ae,ke){m("Starting NodeParser"),this.renderer=P,this.options=ke,this.range=null,this.support=Y,this.renderQueue=[],this.stack=new U(!0,1,C.ownerDocument,null);var Le=new g(C,null);if(ke.background&&P.rectangle(0,0,P.width,P.height,new k(ke.background)),C===C.ownerDocument.documentElement){var je=new g(Le.color("backgroundColor").isTransparent()?C.ownerDocument.body:C.ownerDocument.documentElement,null);P.rectangle(0,0,P.width,P.height,je.color("backgroundColor"))}Le.visibile=Le.isElementVisible(),this.createPseudoHideStyles(C.ownerDocument),this.disableAnimations(C.ownerDocument),this.nodes=ee([Le].concat(this.getChildren(Le)).filter(function(Xe){return Xe.visible=Xe.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new E,m("Fetched nodes, total:",this.nodes.length),m("Calculate overflow clips"),this.calculateOverflowClips(),m("Start fetching images"),this.images=ae.fetch(this.nodes.filter(oe)),this.ready=this.images.ready.then(S(function(){return m("Images loaded, starting parsing"),m("Creating stacking contexts"),this.createStackingContexts(),m("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),m("Render queue created with "+this.renderQueue.length+" items"),new Promise(S(function(Xe){ke.async?typeof ke.async=="function"?ke.async.call(this,this.renderQueue,Xe):0<this.renderQueue.length?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,Xe)):Xe():(this.renderQueue.forEach(this.paint,this),Xe())},this))},this))}function $(C){return C.parent&&C.parent.clip.length}function Z(){}K.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(C){if(oe(C)){Ne(C)&&C.appendToDOM(),C.borders=this.parseBorders(C);var P=C.css("overflow")==="hidden"?[C.borders.clip]:[],Y=C.parseClip();Y&&["absolute","fixed"].indexOf(C.css("position"))!==-1&&P.push([["rect",C.bounds.left+Y.left,C.bounds.top+Y.top,Y.right-Y.left,Y.bottom-Y.top]]),C.clip=$(C)?C.parent.clip.concat(P):P,C.backgroundClip=C.css("overflow")!=="hidden"?C.clip.concat([C.borders.clip]):C.clip,Ne(C)&&C.cleanDOM()}else be(C)&&(C.clip=$(C)?C.parent.clip:[]);Ne(C)||(C.bounds=null)},this)},K.prototype.asyncRenderer=function(C,P,Y){Y=Y||Date.now(),this.paint(C[this.renderIndex++]),C.length===this.renderIndex?P():Y+20>Date.now()?this.asyncRenderer(C,P,Y):setTimeout(S(function(){this.asyncRenderer(C,P)},this),0)},K.prototype.createPseudoHideStyles=function(C){this.createStyles(C,"."+B.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+B.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},K.prototype.disableAnimations=function(C){this.createStyles(C,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},K.prototype.createStyles=function(C,P){var Y=C.createElement("style");Y.innerHTML=P,C.body.appendChild(Y)},K.prototype.getPseudoElements=function(C){var P=[[C]];if(C.node.nodeType===Node.ELEMENT_NODE){var Y=this.getPseudoElement(C,":before"),ae=this.getPseudoElement(C,":after");Y&&P.push(Y),ae&&P.push(ae)}return ee(P)},K.prototype.getPseudoElement=function(C,P){var Y=C.computedStyle(P);if(!Y||!Y.content||Y.content==="none"||Y.content==="-moz-alt-content"||Y.display==="none")return null;for(var ae,ke,Le=(ae=Y.content,(ke=ae.substr(0,1))===ae.substr(ae.length-1)&&ke.match(/'|"/)?ae.substr(1,ae.length-2):ae),je=Le.substr(0,3)==="url",Xe=document.createElement(je?"img":"html2canvaspseudoelement"),ze=new B(Xe,C,P),ft=Y.length-1;0<=ft;ft--){var rt=Y.item(ft).replace(/(\-[a-z])/g,function(Se){return Se.toUpperCase().replace("-","")});Xe.style[rt]=Y[rt]}if(Xe.className=B.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+B.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,je)return Xe.src=L(Le)[0].args[0],[ze];var Et=document.createTextNode(Le);return Xe.appendChild(Et),[ze,new y(Et,ze)]},K.prototype.getChildren=function(C){return ee([].filter.call(C.node.childNodes,Q).map(function(P){var Y=[P.nodeType===Node.TEXT_NODE?new y(P,C):new g(P,C)].filter(V);return P.nodeType===Node.ELEMENT_NODE&&Y.length&&P.tagName!=="TEXTAREA"?Y[0].isElementVisible()?Y.concat(this.getChildren(Y[0])):[]:Y},this))},K.prototype.newStackingContext=function(C,P){var Y=new U(P,C.getOpacity(),C.node,C.parent);C.cloneTo(Y),(P?Y.getParentStack(this):Y.parent.stack).contexts.push(Y),C.stack=Y},K.prototype.createStackingContexts=function(){this.nodes.forEach(function(C){var P,Y;oe(C)&&(this.isRootElement(C)||C.getOpacity()<1||(Y=(P=C).css("position"),(["absolute","relative","fixed"].indexOf(Y)!==-1?P.css("zIndex"):"auto")!=="auto")||this.isBodyWithTransparentRoot(C)||C.hasTransform())?this.newStackingContext(C,!0):oe(C)&&(ie(C)&&de(C)||["inline-block","inline-table"].indexOf(C.css("display"))!==-1||z(C))?this.newStackingContext(C,!1):C.assignStack(C.parent.stack)},this)},K.prototype.isBodyWithTransparentRoot=function(C){return C.node.nodeName==="BODY"&&C.parent.color("backgroundColor").isTransparent()},K.prototype.isRootElement=function(C){return C.parent===null},K.prototype.sortStackingContexts=function(C){var P;C.contexts.sort((P=C.contexts.slice(0),function(Y,ae){return Y.cssInt("zIndex")+P.indexOf(Y)/P.length-(ae.cssInt("zIndex")+P.indexOf(ae)/P.length)})),C.contexts.forEach(this.sortStackingContexts,this)},K.prototype.parseTextBounds=function(C){return function(P,Y,ae){if(C.parent.css("textDecoration").substr(0,4)!=="none"||P.trim().length!==0){if(this.support.rangeBounds&&!C.parent.hasTransform()){var ke=ae.slice(0,Y).join("").length;return this.getRangeBounds(C.node,ke,P.length)}if(C.node&&typeof C.node.data=="string"){var Le=C.node.splitText(P.length),je=this.getWrapperBounds(C.node,C.parent.hasTransform());return C.node=Le,je}}else this.support.rangeBounds&&!C.parent.hasTransform()||(C.node=C.node.splitText(P.length));return{}}},K.prototype.getWrapperBounds=function(C,P){var Y=C.ownerDocument.createElement("html2canvaswrapper"),ae=C.parentNode,ke=C.cloneNode(!0);Y.appendChild(C.cloneNode(!0)),ae.replaceChild(Y,C);var Le=P?R(Y):_(Y);return ae.replaceChild(ke,Y),Le},K.prototype.getRangeBounds=function(C,P,Y){var ae=this.range||(this.range=C.ownerDocument.createRange());return ae.setStart(C,P),ae.setEnd(C,P+Y),ae.getBoundingClientRect()},K.prototype.parse=function(C){var P=C.contexts.filter(W),Y=C.children.filter(oe),ae=Y.filter(ue(z)),ke=ae.filter(ue(ie)).filter(ue(_e)),Le=Y.filter(ue(ie)).filter(z),je=ae.filter(ue(ie)).filter(_e),Xe=C.contexts.concat(ae.filter(ie)).filter(de),ze=C.children.filter(be).filter(X),ft=C.contexts.filter(ce);P.concat(ke).concat(Le).concat(je).concat(Xe).concat(ze).concat(ft).forEach(function(rt){this.renderQueue.push(rt),ye(rt)&&(this.parse(rt),this.renderQueue.push(new Z))},this)},K.prototype.paint=function(C){try{C instanceof Z?this.renderer.ctx.restore():be(C)?(Ne(C.parent)&&C.parent.appendToDOM(),this.paintText(C),Ne(C.parent)&&C.parent.cleanDOM()):this.paintNode(C)}catch(P){if(m(P),this.options.strict)throw P}},K.prototype.paintNode=function(C){ye(C)&&(this.renderer.setOpacity(C.opacity),this.renderer.ctx.save(),C.hasTransform()&&this.renderer.setTransform(C.parseTransform())),C.node.nodeName==="INPUT"&&C.node.type==="checkbox"?this.paintCheckbox(C):C.node.nodeName==="INPUT"&&C.node.type==="radio"?this.paintRadio(C):this.paintElement(C)},K.prototype.paintElement=function(C){var P=C.parseBounds();this.renderer.clip(C.backgroundClip,function(){this.renderer.renderBackground(C,P,C.borders.borders.map(Te))},this),this.renderer.clip(C.clip,function(){this.renderer.renderBorders(C.borders.borders)},this),this.renderer.clip(C.backgroundClip,function(){switch(C.node.nodeName){case"svg":case"IFRAME":var Y=this.images.get(C.node);Y?this.renderer.renderImage(C,P,C.borders,Y):m("Error loading <"+C.node.nodeName+">",C.node);break;case"IMG":var ae=this.images.get(C.node.src);ae?this.renderer.renderImage(C,P,C.borders,ae):m("Error loading <img>",C.node.src);break;case"CANVAS":this.renderer.renderImage(C,P,C.borders,{image:C.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(C)}},this)},K.prototype.paintCheckbox=function(C){var P=C.parseBounds(),Y=Math.min(P.width,P.height),ae={width:Y-1,height:Y-1,top:P.top,left:P.left},ke=[3,3],Le=[ke,ke,ke,ke],je=[1,1,1,1].map(function(ze){return{color:new k("#A5A5A5"),width:ze}}),Xe=ge(ae,Le,je);this.renderer.clip(C.backgroundClip,function(){this.renderer.rectangle(ae.left+1,ae.top+1,ae.width-2,ae.height-2,new k("#DEDEDE")),this.renderer.renderBorders(he(je,ae,Xe,Le)),C.node.checked&&(this.renderer.font(new k("#424242"),"normal","normal","bold",Y-3+"px","arial"),this.renderer.text("",ae.left+Y/6,ae.top+Y-1))},this)},K.prototype.paintRadio=function(C){var P=C.parseBounds(),Y=Math.min(P.width,P.height)-2;this.renderer.clip(C.backgroundClip,function(){this.renderer.circleStroke(P.left+1,P.top+1,Y,new k("#DEDEDE"),1,new k("#A5A5A5")),C.node.checked&&this.renderer.circle(Math.ceil(P.left+Y/4)+1,Math.ceil(P.top+Y/4)+1,Math.floor(Y/2),new k("#424242"))},this)},K.prototype.paintFormValue=function(C){var P=C.getValue();if(0<P.length){var Y=C.node.ownerDocument,ae=Y.createElement("html2canvaswrapper");["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"].forEach(function(Le){try{ae.style[Le]=C.css(Le)}catch(je){m("html2canvas: Parse: Exception caught in renderFormValue: "+je.message)}});var ke=C.parseBounds();ae.style.position="fixed",ae.style.left=ke.left+"px",ae.style.top=ke.top+"px",ae.textContent=P,Y.body.appendChild(ae),this.paintText(new y(ae.firstChild,C)),Y.body.removeChild(ae)}},K.prototype.paintText=function(C){C.applyTextTransform();var P,Y=h.ucs2.decode(C.node.data),ae=this.options.letterRendering&&!/^(normal|none|0px)$/.test(C.parent.css("letterSpacing"))||(P=C.node.data,/[^\u0000-\u00ff]/.test(P))?Y.map(function(ze){return h.ucs2.encode([ze])}):function(ze){for(var ft,rt=[],Et=0,Se=!1;ze.length;)Bn=ze[Et],[32,13,10,9,45].indexOf(Bn)!==-1===Se?((ft=ze.splice(0,Et)).length&&rt.push(h.ucs2.encode(ft)),Se=!Se,Et=0):Et++,Et>=ze.length&&(ft=ze.splice(0,Et)).length&&rt.push(h.ucs2.encode(ft));var Bn;return rt}(Y),ke=C.parent.fontWeight(),Le=C.parent.css("fontSize"),je=C.parent.css("fontFamily"),Xe=C.parent.parseTextShadows();this.renderer.font(C.parent.color("color"),C.parent.css("fontStyle"),C.parent.css("fontVariant"),ke,Le,je),Xe.length?this.renderer.fontShadow(Xe[0].color,Xe[0].offsetX,Xe[0].offsetY,Xe[0].blur):this.renderer.clearShadow(),this.renderer.clip(C.parent.clip,function(){ae.map(this.parseTextBounds(C),this).forEach(function(ze,ft){ze&&/^\s*$/.test(ae[ft])===!1&&(this.renderer.text(ae[ft],ze.left,ze.bottom),this.renderTextDecoration(C.parent,ze,this.fontMetrics.getMetrics(je,Le)))},this)},this)},K.prototype.renderTextDecoration=function(C,P,Y){switch(C.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(P.left,Math.round(P.top+Y.baseline+Y.lineWidth),P.width,1,C.color("color"));break;case"overline":this.renderer.rectangle(P.left,Math.round(P.top),P.width,1,C.color("color"));break;case"line-through":this.renderer.rectangle(P.left,Math.ceil(P.top+Y.middle+Y.lineWidth),P.width,1,C.color("color"))}};var Ae={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};function he(C,P,Y,ae){return C.map(function(ke,Le){if(0<ke.width){var je=P.left,Xe=P.top,ze=P.width,ft=P.height-C[2].width;switch(Le){case 0:ft=C[0].width,ke.args=x({c1:[je,Xe],c2:[je+ze,Xe],c3:[je+ze-C[1].width,Xe+ft],c4:[je+C[3].width,Xe+ft]},ae[0],ae[1],Y.topLeftOuter,Y.topLeftInner,Y.topRightOuter,Y.topRightInner);break;case 1:je=P.left+P.width-C[1].width,ze=C[1].width,ke.args=x({c1:[je+ze,Xe],c2:[je+ze,Xe+ft+C[2].width],c3:[je,Xe+ft],c4:[je,Xe+C[0].width]},ae[1],ae[2],Y.topRightOuter,Y.topRightInner,Y.bottomRightOuter,Y.bottomRightInner);break;case 2:Xe=Xe+P.height-C[2].width,ft=C[2].width,ke.args=x({c1:[je+ze,Xe+ft],c2:[je,Xe+ft],c3:[je+C[3].width,Xe],c4:[je+ze-C[3].width,Xe]},ae[2],ae[3],Y.bottomRightOuter,Y.bottomRightInner,Y.bottomLeftOuter,Y.bottomLeftInner);break;case 3:ze=C[3].width,ke.args=x({c1:[je,Xe+ft+C[2].width],c2:[je,Xe],c3:[je+ze,Xe+C[0].width],c4:[je+ze,Xe+ft]},ae[3],ae[0],Y.bottomLeftOuter,Y.bottomLeftInner,Y.topLeftOuter,Y.topLeftInner)}}return ke})}function xe(C,P,Y,ae){var ke=(Math.sqrt(2)-1)/3*4,Le=Y*ke,je=ae*ke,Xe=C+Y,ze=P+ae;return{topLeft:le({x:C,y:ze},{x:C,y:ze-je},{x:Xe-Le,y:P},{x:Xe,y:P}),topRight:le({x:C,y:P},{x:C+Le,y:P},{x:Xe,y:ze-je},{x:Xe,y:ze}),bottomRight:le({x:Xe,y:P},{x:Xe,y:P+je},{x:C+Le,y:ze},{x:C,y:ze}),bottomLeft:le({x:Xe,y:ze},{x:Xe-Le,y:ze},{x:C,y:P+je},{x:C,y:P})}}function ge(C,P,Y){var ae=C.left,ke=C.top,Le=C.width,je=C.height,Xe=P[0][0]<Le/2?P[0][0]:Le/2,ze=P[0][1]<je/2?P[0][1]:je/2,ft=P[1][0]<Le/2?P[1][0]:Le/2,rt=P[1][1]<je/2?P[1][1]:je/2,Et=P[2][0]<Le/2?P[2][0]:Le/2,Se=P[2][1]<je/2?P[2][1]:je/2,Bn=P[3][0]<Le/2?P[3][0]:Le/2,en=P[3][1]<je/2?P[3][1]:je/2,tn=Le-ft,Hn=je-Se,Ht=Le-Et,pn=je-en;return{topLeftOuter:xe(ae,ke,Xe,ze).topLeft.subdivide(.5),topLeftInner:xe(ae+Y[3].width,ke+Y[0].width,Math.max(0,Xe-Y[3].width),Math.max(0,ze-Y[0].width)).topLeft.subdivide(.5),topRightOuter:xe(ae+tn,ke,ft,rt).topRight.subdivide(.5),topRightInner:xe(ae+Math.min(tn,Le+Y[3].width),ke+Y[0].width,tn>Le+Y[3].width?0:ft-Y[3].width,rt-Y[0].width).topRight.subdivide(.5),bottomRightOuter:xe(ae+Ht,ke+Hn,Et,Se).bottomRight.subdivide(.5),bottomRightInner:xe(ae+Math.min(Ht,Le-Y[3].width),ke+Math.min(Hn,je+Y[0].width),Math.max(0,Et-Y[1].width),Se-Y[2].width).bottomRight.subdivide(.5),bottomLeftOuter:xe(ae,ke+pn,Bn,en).bottomLeft.subdivide(.5),bottomLeftInner:xe(ae+Y[3].width,ke+pn,Math.max(0,Bn-Y[3].width),en-Y[2].width).bottomLeft.subdivide(.5)}}function le(C,P,Y,ae){var ke=function(Le,je,Xe){return{x:Le.x+(je.x-Le.x)*Xe,y:Le.y+(je.y-Le.y)*Xe}};return{start:C,startControl:P,endControl:Y,end:ae,subdivide:function(Le){var je=ke(C,P,Le),Xe=ke(P,Y,Le),ze=ke(Y,ae,Le),ft=ke(je,Xe,Le),rt=ke(Xe,ze,Le),Et=ke(ft,rt,Le);return[le(C,je,ft,Et),le(Et,rt,ze,ae)]},curveTo:function(Le){Le.push(["bezierCurve",P.x,P.y,Y.x,Y.y,ae.x,ae.y])},curveToReversed:function(Le){Le.push(["bezierCurve",Y.x,Y.y,P.x,P.y,C.x,C.y])}}}function x(C,P,Y,ae,ke,Le,je){var Xe=[];return 0<P[0]||0<P[1]?(Xe.push(["line",ae[1].start.x,ae[1].start.y]),ae[1].curveTo(Xe)):Xe.push(["line",C.c1[0],C.c1[1]]),0<Y[0]||0<Y[1]?(Xe.push(["line",Le[0].start.x,Le[0].start.y]),Le[0].curveTo(Xe),Xe.push(["line",je[0].end.x,je[0].end.y]),je[0].curveToReversed(Xe)):(Xe.push(["line",C.c2[0],C.c2[1]]),Xe.push(["line",C.c3[0],C.c3[1]])),0<P[0]||0<P[1]?(Xe.push(["line",ke[1].end.x,ke[1].end.y]),ke[1].curveToReversed(Xe)):Xe.push(["line",C.c4[0],C.c4[1]]),Xe}function G(C,P,Y,ae,ke,Le,je){0<P[0]||0<P[1]?(C.push(["line",ae[0].start.x,ae[0].start.y]),ae[0].curveTo(C),ae[1].curveTo(C)):C.push(["line",Le,je]),(0<Y[0]||0<Y[1])&&C.push(["line",ke[0].start.x,ke[0].start.y])}function W(C){return C.cssInt("zIndex")<0}function ce(C){return 0<C.cssInt("zIndex")}function de(C){return C.cssInt("zIndex")===0}function _e(C){return["inline","inline-block","inline-table"].indexOf(C.css("display"))!==-1}function ye(C){return C instanceof U}function X(C){return 0<C.node.data.trim().length}function Q(C){return C.nodeType===Node.TEXT_NODE||C.nodeType===Node.ELEMENT_NODE}function ie(C){return C.css("position")!=="static"}function z(C){return C.css("float")!=="none"}function ue(C){var P=this;return function(){return!C.apply(P,arguments)}}function oe(C){return C.node.nodeType===Node.ELEMENT_NODE}function Ne(C){return C.isPseudoElement===!0}function be(C){return C.node.nodeType===Node.TEXT_NODE}function Qe(C){return parseInt(C,10)}function Te(C){return C.width}function V(C){return C.node.nodeType!==Node.ELEMENT_NODE||["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(C.node.nodeName)===-1}function ee(C){return[].concat.apply([],C)}K.prototype.parseBorders=function(C){var P,Y=C.parseBounds(),ae=(P=C,["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(je){var Xe=P.css("border"+je+"Radius"),ze=Xe.split(" ");return ze.length<=1&&(ze[1]=ze[0]),ze.map(Qe)})),ke=["Top","Right","Bottom","Left"].map(function(je,Xe){var ze=C.css("border"+je+"Style"),ft=C.color("border"+je+"Color");ze==="inset"&&ft.isBlack()&&(ft=new k([255,255,255,ft.a]));var rt=Ae[ze]?Ae[ze][Xe]:null;return{width:C.cssInt("border"+je+"Width"),color:rt?ft[rt[0]](rt[1]):ft,args:null}}),Le=ge(Y,ae,ke);return{clip:this.parseBackgroundClip(C,Le,ke,ae,Y),borders:he(ke,Y,Le,ae)}},K.prototype.parseBackgroundClip=function(C,P,Y,ae,ke){var Le=[];switch(C.css("backgroundClip")){case"content-box":case"padding-box":G(Le,ae[0],ae[1],P.topLeftInner,P.topRightInner,ke.left+Y[3].width,ke.top+Y[0].width),G(Le,ae[1],ae[2],P.topRightInner,P.bottomRightInner,ke.left+ke.width-Y[1].width,ke.top+Y[0].width),G(Le,ae[2],ae[3],P.bottomRightInner,P.bottomLeftInner,ke.left+ke.width-Y[1].width,ke.top+ke.height-Y[2].width),G(Le,ae[3],ae[0],P.bottomLeftInner,P.topLeftInner,ke.left+Y[3].width,ke.top+ke.height-Y[2].width);break;default:G(Le,ae[0],ae[1],P.topLeftOuter,P.topRightOuter,ke.left,ke.top),G(Le,ae[1],ae[2],P.topRightOuter,P.bottomRightOuter,ke.left+ke.width,ke.top),G(Le,ae[2],ae[3],P.bottomRightOuter,P.bottomLeftOuter,ke.left+ke.width,ke.top+ke.height),G(Le,ae[3],ae[0],P.bottomLeftOuter,P.topLeftOuter,ke.left,ke.top+ke.height)}return Le},F.exports=K},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(b,F,O){var m=b("./xhr"),h=b("./utils"),g=b("./log"),y=b("./clone"),B=h.decode64;function E(_,L,R){var K="withCredentials"in new XMLHttpRequest;if(!L)return Promise.reject("No proxy configured");var $=v(K),Z=S(L,_,$);return K?m(Z):U(R,Z,$).then(function(Ae){return B(Ae.content)})}var k=0;function U(_,L,R){return new Promise(function(K,$){var Z=_.createElement("script"),Ae=function(){delete window.html2canvas.proxy[R],_.body.removeChild(Z)};window.html2canvas.proxy[R]=function(he){Ae(),K(he)},Z.src=L,Z.onerror=function(he){Ae(),$(he)},_.body.appendChild(Z)})}function v(_){return _?"":"html2canvas_"+Date.now()+"_"+ ++k+"_"+Math.round(1e5*Math.random())}function S(_,L,R){return _+"?url="+encodeURIComponent(L)+(R.length?"&callback=html2canvas.proxy."+R:"")}O.Proxy=E,O.ProxyURL=function(_,L,R){var K="crossOrigin"in new Image,$=v(K),Z=S(L,_,$);return K?Promise.resolve(Z):U(R,Z,$).then(function(Ae){return"data:"+Ae.type+";base64,"+Ae.content})},O.loadUrlDocument=function(_,L,R,K,$,Z){return new E(_,L,window.document).then((Ae=_,function(he){var xe,ge=new DOMParser;try{xe=ge.parseFromString(he,"text/html")}catch(G){g("DOMParser not supported, falling back to createHTMLDocument"),xe=document.implementation.createHTMLDocument("");try{xe.open(),xe.write(he),xe.close()}catch(W){g("createHTMLDocument write not supported, falling back to document.body.innerHTML"),xe.body.innerHTML=he}}var le=xe.querySelector("base");if(!le||!le.href.host){var x=xe.createElement("base");x.href=Ae,xe.head.insertBefore(x,xe.head.firstChild)}return xe})).then(function(he){return y(he,R,K,$,Z,0,0)});var Ae}},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(b,F,O){var m=b("./proxy").ProxyURL;F.exports=function(h,g){var y=document.createElement("a");y.href=h,h=y.href,this.src=h,this.image=new Image;var B=this;this.promise=new Promise(function(E,k){B.image.crossOrigin="Anonymous",B.image.onload=E,B.image.onerror=k,new m(h,g,document).then(function(U){B.image.src=U}).catch(k)})}},{"./proxy":16}],18:[function(b,F,O){var m=b("./nodecontainer");function h(g,y,B){m.call(this,g,y),this.isPseudoElement=!0,this.before=B===":before"}h.prototype.cloneTo=function(g){h.prototype.cloneTo.call(this,g),g.isPseudoElement=!0,g.before=this.before},(h.prototype=Object.create(m.prototype)).appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},h.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},h.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},h.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",h.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",F.exports=h},{"./nodecontainer":14}],19:[function(b,F,O){var m=b("./log");function h(g,y,B,E,k){this.width=g,this.height=y,this.images=B,this.options=E,this.document=k}h.prototype.renderImage=function(g,y,B,E){var k=g.cssInt("paddingLeft"),U=g.cssInt("paddingTop"),v=g.cssInt("paddingRight"),S=g.cssInt("paddingBottom"),_=B.borders,L=y.width-(_[1].width+_[3].width+k+v),R=y.height-(_[0].width+_[2].width+U+S);this.drawImage(E,0,0,E.image.width||L,E.image.height||R,y.left+k+_[3].width,y.top+U+_[0].width,L,R)},h.prototype.renderBackground=function(g,y,B){0<y.height&&0<y.width&&(this.renderBackgroundColor(g,y),this.renderBackgroundImage(g,y,B))},h.prototype.renderBackgroundColor=function(g,y){var B=g.color("backgroundColor");B.isTransparent()||this.rectangle(y.left,y.top,y.width,y.height,B)},h.prototype.renderBorders=function(g){g.forEach(this.renderBorder,this)},h.prototype.renderBorder=function(g){g.color.isTransparent()||g.args===null||this.drawShape(g.args,g.color)},h.prototype.renderBackgroundImage=function(g,y,B){g.parseBackgroundImages().reverse().forEach(function(E,k,U){switch(E.method){case"url":var v=this.images.get(E.args[0]);v?this.renderBackgroundRepeating(g,y,v,U.length-(k+1),B):m("Error loading background-image",E.args[0]);break;case"linear-gradient":case"gradient":var S=this.images.get(E.value);S?this.renderBackgroundGradient(S,y,B):m("Error loading background-image",E.args[0]);break;case"none":break;default:m("Unknown background-image type",E.args[0])}},this)},h.prototype.renderBackgroundRepeating=function(g,y,B,E,k){var U=g.parseBackgroundSize(y,B.image,E),v=g.parseBackgroundPosition(y,B.image,E,U);switch(g.parseBackgroundRepeat(E)){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(B,v,U,y,y.left+k[3],y.top+v.top+k[0],99999,U.height,k);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(B,v,U,y,y.left+v.left+k[3],y.top+k[0],U.width,99999,k);break;case"no-repeat":this.backgroundRepeatShape(B,v,U,y,y.left+v.left+k[3],y.top+v.top+k[0],U.width,U.height,k);break;default:this.renderBackgroundRepeat(B,v,U,{top:y.top,left:y.left},k[3],k[0])}},F.exports=h},{"./log":13}],20:[function(b,F,O){var m=b("../renderer"),h=b("../lineargradientcontainer"),g=b("../log");function y(E,k){m.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=E,this.canvas.height=k),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},g("Initialized CanvasRenderer with size",E,"x",k)}function B(E){return 0<E.length}(y.prototype=Object.create(m.prototype)).setFillStyle=function(E){return this.ctx.fillStyle=typeof E=="object"&&E.isColor?E.toString():E,this.ctx},y.prototype.rectangle=function(E,k,U,v,S){this.setFillStyle(S).fillRect(E,k,U,v)},y.prototype.circle=function(E,k,U,v){this.setFillStyle(v),this.ctx.beginPath(),this.ctx.arc(E+U/2,k+U/2,U/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},y.prototype.circleStroke=function(E,k,U,v,S,_){this.circle(E,k,U,v),this.ctx.strokeStyle=_.toString(),this.ctx.stroke()},y.prototype.drawShape=function(E,k){this.shape(E),this.setFillStyle(k).fill()},y.prototype.taints=function(E){if(E.tainted===null){this.taintCtx.drawImage(E.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),E.tainted=!1}catch(k){this.taintCtx=document.createElement("canvas").getContext("2d"),E.tainted=!0}}return E.tainted},y.prototype.drawImage=function(E,k,U,v,S,_,L,R,K){this.taints(E)&&!this.options.allowTaint||this.ctx.drawImage(E.image,k,U,v,S,_,L,R,K)},y.prototype.clip=function(E,k,U){this.ctx.save(),E.filter(B).forEach(function(v){this.shape(v).clip()},this),k.call(U),this.ctx.restore()},y.prototype.shape=function(E){return this.ctx.beginPath(),E.forEach(function(k,U){k[0]==="rect"?this.ctx.rect.apply(this.ctx,k.slice(1)):this.ctx[U===0?"moveTo":k[0]+"To"].apply(this.ctx,k.slice(1))},this),this.ctx.closePath(),this.ctx},y.prototype.font=function(E,k,U,v,S,_){this.setFillStyle(E).font=[k,U,v,S,_].join(" ").split(",")[0]},y.prototype.fontShadow=function(E,k,U,v){this.setVariable("shadowColor",E.toString()).setVariable("shadowOffsetY",k).setVariable("shadowOffsetX",U).setVariable("shadowBlur",v)},y.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},y.prototype.setOpacity=function(E){this.ctx.globalAlpha=E},y.prototype.setTransform=function(E){this.ctx.translate(E.origin[0],E.origin[1]),this.ctx.transform.apply(this.ctx,E.matrix),this.ctx.translate(-E.origin[0],-E.origin[1])},y.prototype.setVariable=function(E,k){return this.variables[E]!==k&&(this.variables[E]=this.ctx[E]=k),this},y.prototype.text=function(E,k,U){this.ctx.fillText(E,k,U)},y.prototype.backgroundRepeatShape=function(E,k,U,v,S,_,L,R,K){var $=[["line",Math.round(S),Math.round(_)],["line",Math.round(S+L),Math.round(_)],["line",Math.round(S+L),Math.round(R+_)],["line",Math.round(S),Math.round(R+_)]];this.clip([$],function(){this.renderBackgroundRepeat(E,k,U,v,K[3],K[0])},this)},y.prototype.renderBackgroundRepeat=function(E,k,U,v,S,_){var L=Math.round(v.left+k.left+S),R=Math.round(v.top+k.top+_);this.setFillStyle(this.ctx.createPattern(this.resizeImage(E,U),"repeat")),this.ctx.translate(L,R),this.ctx.fill(),this.ctx.translate(-L,-R)},y.prototype.renderBackgroundGradient=function(E,k){if(E instanceof h){var U=this.ctx.createLinearGradient(k.left+k.width*E.x0,k.top+k.height*E.y0,k.left+k.width*E.x1,k.top+k.height*E.y1);E.colorStops.forEach(function(v){U.addColorStop(v.stop,v.color.toString())}),this.rectangle(k.left,k.top,k.width,k.height,U)}},y.prototype.resizeImage=function(E,k){var U=E.image;if(U.width===k.width&&U.height===k.height)return U;var v=document.createElement("canvas");return v.width=k.width,v.height=k.height,v.getContext("2d").drawImage(U,0,0,U.width,U.height,0,0,k.width,k.height),v},F.exports=y},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(b,F,O){var m=b("./nodecontainer");function h(g,y,B,E){m.call(this,B,E),this.ownStacking=g,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*y}(h.prototype=Object.create(m.prototype)).getParentStack=function(g){var y=this.parent?this.parent.stack:null;return y?y.ownStacking?y:y.getParentStack(g):g.stack},F.exports=h},{"./nodecontainer":14}],22:[function(b,F,O){function m(h){this.rangeBounds=this.testRangeBounds(h),this.cors=this.testCORS(),this.svg=this.testSVG()}m.prototype.testRangeBounds=function(h){var g,y,B=!1;return h.createRange&&(g=h.createRange()).getBoundingClientRect&&((y=h.createElement("boundtest")).style.height="123px",y.style.display="block",h.body.appendChild(y),g.selectNode(y),g.getBoundingClientRect().height===123&&(B=!0),h.body.removeChild(y)),B},m.prototype.testCORS=function(){return new Image().crossOrigin!==void 0},m.prototype.testSVG=function(){var h=new Image,g=document.createElement("canvas"),y=g.getContext("2d");h.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{y.drawImage(h,0,0),g.toDataURL()}catch(B){return!1}return!0},F.exports=m},{}],23:[function(b,F,O){var m=b("./xhr"),h=b("./utils").decode64;function g(y){this.src=y,this.image=null;var B=this;this.promise=this.hasFabric().then(function(){return B.isInline(y)?Promise.resolve(B.inlineFormatting(y)):m(y)}).then(function(E){return new Promise(function(k){window.html2canvas.svg.fabric.loadSVGFromString(E,B.createCanvas.call(B,k))})})}g.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},g.prototype.inlineFormatting=function(y){return/^data:image\/svg\+xml;base64,/.test(y)?this.decode64(this.removeContentType(y)):this.removeContentType(y)},g.prototype.removeContentType=function(y){return y.replace(/^data:image\/svg\+xml(;base64)?,/,"")},g.prototype.isInline=function(y){return/^data:image\/svg\+xml/i.test(y)},g.prototype.createCanvas=function(y){var B=this;return function(E,k){var U=new window.html2canvas.svg.fabric.StaticCanvas("c");B.image=U.lowerCanvasEl,U.setWidth(k.width).setHeight(k.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(E,k)).renderAll(),y(U.lowerCanvasEl)}},g.prototype.decode64=function(y){return typeof window.atob=="function"?window.atob(y):h(y)},F.exports=g},{"./utils":26,"./xhr":28}],24:[function(b,F,O){var m=b("./svgcontainer");function h(g,y){this.src=g,this.image=null;var B=this;this.promise=y?new Promise(function(E,k){B.image=new Image,B.image.onload=E,B.image.onerror=k,B.image.src="data:image/svg+xml,"+new XMLSerializer().serializeToString(g),B.image.complete===!0&&E(B.image)}):this.hasFabric().then(function(){return new Promise(function(E){window.html2canvas.svg.fabric.parseSVGDocument(g,B.createCanvas.call(B,E))})})}h.prototype=Object.create(m.prototype),F.exports=h},{"./svgcontainer":23}],25:[function(b,F,O){var m=b("./nodecontainer");function h(y,B){m.call(this,y,B)}function g(y,B,E){if(0<y.length)return B+E.toUpperCase()}(h.prototype=Object.create(m.prototype)).applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},h.prototype.transform=function(y){var B=this.node.data;switch(y){case"lowercase":return B.toLowerCase();case"capitalize":return B.replace(/(^|\s|:|-|\(|\))([a-z])/g,g);case"uppercase":return B.toUpperCase();default:return B}},F.exports=h},{"./nodecontainer":14}],26:[function(b,F,O){O.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},O.bind=function(m,h){return function(){return m.apply(h,arguments)}},O.decode64=function(m){var h,g,y,B,E,k,U,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=m.length,_="";for(h=0;h<S;h+=4)E=v.indexOf(m[h])<<2|(g=v.indexOf(m[h+1]))>>4,k=(15&g)<<4|(y=v.indexOf(m[h+2]))>>2,U=(3&y)<<6|(B=v.indexOf(m[h+3])),_+=y===64?String.fromCharCode(E):B===64||B===-1?String.fromCharCode(E,k):String.fromCharCode(E,k,U);return _},O.getBounds=function(m){if(m.getBoundingClientRect){var h=m.getBoundingClientRect(),g=m.offsetWidth==null?h.width:m.offsetWidth;return{top:h.top,bottom:h.bottom||h.top+h.height,right:h.left+g,left:h.left,width:g,height:m.offsetHeight==null?h.height:m.offsetHeight}}return{}},O.offsetBounds=function(m){var h=m.offsetParent?O.offsetBounds(m.offsetParent):{top:0,left:0};return{top:m.offsetTop+h.top,bottom:m.offsetTop+m.offsetHeight+h.top,right:m.offsetLeft+h.left+m.offsetWidth,left:m.offsetLeft+h.left,width:m.offsetWidth,height:m.offsetHeight}},O.parseBackgrounds=function(m){var h,g,y,B,E,k,U,v=[],S=0,_=0,L=function(){h&&(g.substr(0,1)==='"'&&(g=g.substr(1,g.length-2)),g&&U.push(g),h.substr(0,1)==="-"&&0<(B=h.indexOf("-",1)+1)&&(y=h.substr(0,B),h=h.substr(B)),v.push({prefix:y,method:h.toLowerCase(),value:E,args:U,image:null})),U=[],h=y=g=E=""};return U=[],h=y=g=E="",m.split("").forEach(function(R){if(!(S===0&&-1<` \r
	`.indexOf(R))){switch(R){case'"':k?k===R&&(k=null):k=R;break;case"(":if(k)break;if(S===0)return S=1,void(E+=R);_++;break;case")":if(k)break;if(S===1){if(_===0)return S=0,E+=R,void L();_--}break;case",":if(k)break;if(S===0)return void L();if(S===1&&_===0&&!h.match(/^url$/i))return U.push(g),g="",void(E+=R)}E+=R,S===0?h+=R:g+=R}}),L(),v}},{}],27:[function(b,F,O){var m=b("./gradientcontainer");function h(g){m.apply(this,arguments),this.type=g.args[0]==="linear"?m.TYPES.LINEAR:m.TYPES.RADIAL}h.prototype=Object.create(m.prototype),F.exports=h},{"./gradientcontainer":9}],28:[function(b,F,O){F.exports=function(m){return new Promise(function(h,g){var y=new XMLHttpRequest;y.open("GET",m),y.onload=function(){y.status===200?h(y.responseText):g(new Error(y.statusText))},y.onerror=function(){g(new Error("Network Error"))},y.send()})}},{}]},{},[4])(4)}),function(b){var F=43,O=47,m=48,h=97,g=65,y=45,B=95,E=function(ye){var X=ye.charCodeAt(0);return X===F||X===y?62:X===O||X===B?63:X<m?-1:X<m+10?X-m+26+26:X<g+26?X-g:X<h+26?X-h+26:void 0};b.API.TTFFont=function(){function ye(X,Q,ie){var z;if(this.rawData=X,z=this.contents=new U(X),this.contents.pos=4,z.readString(4)==="ttcf")throw Q?new Error("Font "+Q+" not found in TTC file."):new Error("Must specify a font name for TTC files.");z.pos=0,this.parse(),this.subset=new _e(this),this.registerTTF()}return ye.open=function(X,Q,ie,z){return new ye(function(ue){var oe,Ne,be,Qe,Te,V;if(0<ue.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var ee=ue.length;Te=ue.charAt(ee-2)==="="?2:ue.charAt(ee-1)==="="?1:0,V=new Uint8Array(3*ue.length/4-Te),be=0<Te?ue.length-4:ue.length;var C=0;function P(Y){V[C++]=Y}for(Ne=oe=0;oe<be;oe+=4,Ne+=3)P((16711680&(Qe=E(ue.charAt(oe))<<18|E(ue.charAt(oe+1))<<12|E(ue.charAt(oe+2))<<6|E(ue.charAt(oe+3))))>>16),P((65280&Qe)>>8),P(255&Qe);return Te===2?P(255&(Qe=E(ue.charAt(oe))<<2|E(ue.charAt(oe+1))>>4)):Te===1&&(P((Qe=E(ue.charAt(oe))<<10|E(ue.charAt(oe+1))<<4|E(ue.charAt(oe+2))>>2)>>8&255),P(255&Qe)),V}(ie),Q)},ye.prototype.parse=function(){return this.directory=new v(this.contents),this.head=new L(this),this.name=new xe(this),this.cmap=new K(this),this.hhea=new $(this),this.maxp=new ge(this),this.hmtx=new le(this),this.post=new Ae(this),this.os2=new Z(this),this.loca=new de(this),this.glyf=new G(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},ye.prototype.registerTTF=function(){var X,Q,ie,z,ue;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var oe,Ne,be,Qe;for(Qe=[],oe=0,Ne=(be=this.bbox).length;oe<Ne;oe++)X=be[oe],Qe.push(Math.round(X*this.scaleFactor));return Qe}.call(this),this.stemV=0,this.post.exists?(ie=255&(z=this.post.italic_angle),!0&(Q=z>>16)&&(Q=-(1+(65535^Q))),this.italicAngle=+(Q+"."+ie)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(ue=this.familyClass)===1||ue===2||ue===3||ue===4||ue===5||ue===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},ye.prototype.characterToGlyph=function(X){var Q;return((Q=this.cmap.unicode)!=null?Q.codeMap[X]:void 0)||0},ye.prototype.widthOfGlyph=function(X){var Q;return Q=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(X).advance*Q},ye.prototype.widthOfString=function(X,Q,ie){var z,ue,oe,Ne,be;for(ue=Ne=oe=0,be=(X=""+X).length;0<=be?Ne<be:be<Ne;ue=0<=be?++Ne:--Ne)z=X.charCodeAt(ue),oe+=this.widthOfGlyph(this.characterToGlyph(z))+ie*(1e3/Q)||0;return oe*(Q/1e3)},ye.prototype.lineHeight=function(X,Q){var ie;return Q==null&&(Q=!1),ie=Q?this.lineGap:0,(this.ascender+ie-this.decender)/1e3*X},ye}();var k,U=function(){function ye(X){this.data=X!=null?X:[],this.pos=0,this.length=this.data.length}return ye.prototype.readByte=function(){return this.data[this.pos++]},ye.prototype.writeByte=function(X){return this.data[this.pos++]=X},ye.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},ye.prototype.writeUInt32=function(X){return this.writeByte(X>>>24&255),this.writeByte(X>>16&255),this.writeByte(X>>8&255),this.writeByte(255&X)},ye.prototype.readInt32=function(){var X;return 2147483648<=(X=this.readUInt32())?X-4294967296:X},ye.prototype.writeInt32=function(X){return X<0&&(X+=4294967296),this.writeUInt32(X)},ye.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},ye.prototype.writeUInt16=function(X){return this.writeByte(X>>8&255),this.writeByte(255&X)},ye.prototype.readInt16=function(){var X;return 32768<=(X=this.readUInt16())?X-65536:X},ye.prototype.writeInt16=function(X){return X<0&&(X+=65536),this.writeUInt16(X)},ye.prototype.readString=function(X){var Q,ie,z;for(ie=[],Q=z=0;0<=X?z<X:X<z;Q=0<=X?++z:--z)ie[Q]=String.fromCharCode(this.readByte());return ie.join("")},ye.prototype.writeString=function(X){var Q,ie,z,ue;for(ue=[],Q=ie=0,z=X.length;0<=z?ie<z:z<ie;Q=0<=z?++ie:--ie)ue.push(this.writeByte(X.charCodeAt(Q)));return ue},ye.prototype.readShort=function(){return this.readInt16()},ye.prototype.writeShort=function(X){return this.writeInt16(X)},ye.prototype.readLongLong=function(){var X,Q,ie,z,ue,oe,Ne,be;return X=this.readByte(),Q=this.readByte(),ie=this.readByte(),z=this.readByte(),ue=this.readByte(),oe=this.readByte(),Ne=this.readByte(),be=this.readByte(),128&X?-1*(72057594037927940*(255^X)+281474976710656*(255^Q)+1099511627776*(255^ie)+4294967296*(255^z)+16777216*(255^ue)+65536*(255^oe)+256*(255^Ne)+(255^be)+1):72057594037927940*X+281474976710656*Q+1099511627776*ie+4294967296*z+16777216*ue+65536*oe+256*Ne+be},ye.prototype.readInt=function(){return this.readInt32()},ye.prototype.writeInt=function(X){return this.writeInt32(X)},ye.prototype.read=function(X){var Q,ie;for(Q=[],ie=0;0<=X?ie<X:X<ie;0<=X?++ie:--ie)Q.push(this.readByte());return Q},ye.prototype.write=function(X){var Q,ie,z,ue;for(ue=[],ie=0,z=X.length;ie<z;ie++)Q=X[ie],ue.push(this.writeByte(Q));return ue},ye}(),v=function(){var ye;function X(Q){var ie,z,ue;for(this.scalarType=Q.readInt(),this.tableCount=Q.readShort(),this.searchRange=Q.readShort(),this.entrySelector=Q.readShort(),this.rangeShift=Q.readShort(),this.tables={},z=0,ue=this.tableCount;0<=ue?z<ue:ue<z;0<=ue?++z:--z)ie={tag:Q.readString(4),checksum:Q.readInt(),offset:Q.readInt(),length:Q.readInt()},this.tables[ie.tag]=ie}return X.prototype.encode=function(Q){var ie,z,ue,oe,Ne,be,Qe,Te,V,ee,C,P,Y;for(Y in C=Object.keys(Q).length,be=Math.log(2),V=16*Math.floor(Math.log(C)/be),oe=Math.floor(V/be),Te=16*C-V,(z=new U).writeInt(this.scalarType),z.writeShort(C),z.writeShort(V),z.writeShort(oe),z.writeShort(Te),ue=16*C,Qe=z.pos+ue,Ne=null,P=[],Q)for(ee=Q[Y],z.writeString(Y),z.writeInt(ye(ee)),z.writeInt(Qe),z.writeInt(ee.length),P=P.concat(ee),Y==="head"&&(Ne=Qe),Qe+=ee.length;Qe%4;)P.push(0),Qe++;return z.write(P),ie=2981146554-ye(z.data),z.pos=Ne+8,z.writeUInt32(ie),z.data},ye=function(Q){var ie,z,ue,oe;for(Q=x.call(Q);Q.length%4;)Q.push(0);for(z=new U(Q),ue=ie=0,oe=Q.length;ue<oe;ue+=4)ie+=z.readUInt32();return 4294967295&ie},X}(),S={}.hasOwnProperty,_=function(ye,X){for(var Q in X)S.call(X,Q)&&(ye[Q]=X[Q]);function ie(){this.constructor=ye}return ie.prototype=X.prototype,ye.prototype=new ie,ye.__super__=X.prototype,ye};k=function(){function ye(X){var Q;this.file=X,Q=this.file.directory.tables[this.tag],this.exists=!!Q,Q&&(this.offset=Q.offset,this.length=Q.length,this.parse(this.file.contents))}return ye.prototype.parse=function(){},ye.prototype.encode=function(){},ye.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},ye}();var L=function(ye){function X(){return X.__super__.constructor.apply(this,arguments)}return _(X,k),X.prototype.tag="head",X.prototype.parse=function(Q){return Q.pos=this.offset,this.version=Q.readInt(),this.revision=Q.readInt(),this.checkSumAdjustment=Q.readInt(),this.magicNumber=Q.readInt(),this.flags=Q.readShort(),this.unitsPerEm=Q.readShort(),this.created=Q.readLongLong(),this.modified=Q.readLongLong(),this.xMin=Q.readShort(),this.yMin=Q.readShort(),this.xMax=Q.readShort(),this.yMax=Q.readShort(),this.macStyle=Q.readShort(),this.lowestRecPPEM=Q.readShort(),this.fontDirectionHint=Q.readShort(),this.indexToLocFormat=Q.readShort(),this.glyphDataFormat=Q.readShort()},X}(),R=function(){function ye(X,Q){var ie,z,ue,oe,Ne,be,Qe,Te,V,ee,C,P,Y,ae,ke,Le,je,Xe;switch(this.platformID=X.readUInt16(),this.encodingID=X.readShort(),this.offset=Q+X.readInt(),V=X.pos,X.pos=this.offset,this.format=X.readUInt16(),this.length=X.readUInt16(),this.language=X.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(be=ke=0;ke<256;be=++ke)this.codeMap[be]=X.readByte();break;case 4:for(C=X.readUInt16(),ee=C/2,X.pos+=6,ue=function(){var ze,ft;for(ft=[],be=ze=0;0<=ee?ze<ee:ee<ze;be=0<=ee?++ze:--ze)ft.push(X.readUInt16());return ft}(),X.pos+=2,Y=function(){var ze,ft;for(ft=[],be=ze=0;0<=ee?ze<ee:ee<ze;be=0<=ee?++ze:--ze)ft.push(X.readUInt16());return ft}(),Qe=function(){var ze,ft;for(ft=[],be=ze=0;0<=ee?ze<ee:ee<ze;be=0<=ee?++ze:--ze)ft.push(X.readUInt16());return ft}(),Te=function(){var ze,ft;for(ft=[],be=ze=0;0<=ee?ze<ee:ee<ze;be=0<=ee?++ze:--ze)ft.push(X.readUInt16());return ft}(),z=(this.length-X.pos+this.offset)/2,Ne=function(){var ze,ft;for(ft=[],be=ze=0;0<=z?ze<z:z<ze;be=0<=z?++ze:--ze)ft.push(X.readUInt16());return ft}(),be=Le=0,Xe=ue.length;Le<Xe;be=++Le)for(ae=ue[be],ie=je=P=Y[be];P<=ae?je<=ae:ae<=je;ie=P<=ae?++je:--je)Te[be]===0?oe=ie+Qe[be]:(oe=Ne[Te[be]/2+(ie-P)-(ee-be)]||0)!==0&&(oe+=Qe[be]),this.codeMap[ie]=65535&oe}X.pos=V}return ye.encode=function(X,Q){var ie,z,ue,oe,Ne,be,Qe,Te,V,ee,C,P,Y,ae,ke,Le,je,Xe,ze,ft,rt,Et,Se,Bn,en,tn,Hn,Ht,pn,Cn,dn,un,vn,er,Pt,pi,Gr,Hi,Ji,dr,te,Ue,He,Ee,Ce,Re;switch(Ht=new U,oe=Object.keys(X).sort(function($e,Je){return $e-Je}),Q){case"macroman":for(Y=0,ae=function(){var $e,Je;for(Je=[],P=$e=0;$e<256;P=++$e)Je.push(0);return Je}(),Le={0:0},ue={},pn=0,vn=oe.length;pn<vn;pn++)Le[He=X[z=oe[pn]]]==null&&(Le[He]=++Y),ue[z]={old:X[z],new:Le[X[z]]},ae[z]=Le[X[z]];return Ht.writeUInt16(1),Ht.writeUInt16(0),Ht.writeUInt32(12),Ht.writeUInt16(0),Ht.writeUInt16(262),Ht.writeUInt16(0),Ht.write(ae),{charMap:ue,subtable:Ht.data,maxGlyphID:Y+1};case"unicode":for(tn=[],V=[],Le={},ie={},ke=Qe=null,Cn=je=0,er=oe.length;Cn<er;Cn++)Le[ze=X[z=oe[Cn]]]==null&&(Le[ze]=++je),ie[z]={old:ze,new:Le[ze]},Ne=Le[ze]-z,ke!=null&&Ne===Qe||(ke&&V.push(ke),tn.push(z),Qe=Ne),ke=z;for(ke&&V.push(ke),V.push(65535),tn.push(65535),Bn=2*(Se=tn.length),Et=2*Math.pow(Math.log(Se)/Math.LN2,2),ee=Math.log(Et/2)/Math.LN2,rt=2*Se-Et,be=[],ft=[],C=[],P=dn=0,Pt=tn.length;dn<Pt;P=++dn){if(en=tn[P],Te=V[P],en===65535){be.push(0),ft.push(0);break}if(32768<=en-(Hn=ie[en].new))for(be.push(0),ft.push(2*(C.length+Se-P)),z=un=en;en<=Te?un<=Te:Te<=un;z=en<=Te?++un:--un)C.push(ie[z].new);else be.push(Hn-en),ft.push(0)}for(Ht.writeUInt16(3),Ht.writeUInt16(1),Ht.writeUInt32(12),Ht.writeUInt16(4),Ht.writeUInt16(16+8*Se+2*C.length),Ht.writeUInt16(0),Ht.writeUInt16(Bn),Ht.writeUInt16(Et),Ht.writeUInt16(ee),Ht.writeUInt16(rt),te=0,pi=V.length;te<pi;te++)z=V[te],Ht.writeUInt16(z);for(Ht.writeUInt16(0),Ue=0,Gr=tn.length;Ue<Gr;Ue++)z=tn[Ue],Ht.writeUInt16(z);for(Ee=0,Hi=be.length;Ee<Hi;Ee++)Ne=be[Ee],Ht.writeUInt16(Ne);for(Ce=0,Ji=ft.length;Ce<Ji;Ce++)Xe=ft[Ce],Ht.writeUInt16(Xe);for(Re=0,dr=C.length;Re<dr;Re++)Y=C[Re],Ht.writeUInt16(Y);return{charMap:ie,subtable:Ht.data,maxGlyphID:je+1}}},ye}(),K=function(ye){function X(){return X.__super__.constructor.apply(this,arguments)}return _(X,k),X.prototype.tag="cmap",X.prototype.parse=function(Q){var ie,z,ue;for(Q.pos=this.offset,this.version=Q.readUInt16(),z=Q.readUInt16(),this.tables=[],this.unicode=null,ue=0;0<=z?ue<z:z<ue;0<=z?++ue:--ue)ie=new R(Q,this.offset),this.tables.push(ie),ie.isUnicode&&this.unicode==null&&(this.unicode=ie);return!0},X.encode=function(Q,ie){var z,ue;return ie==null&&(ie="macroman"),z=R.encode(Q,ie),(ue=new U).writeUInt16(0),ue.writeUInt16(1),z.table=ue.data.concat(z.subtable),z},X}(),$=function(ye){function X(){return X.__super__.constructor.apply(this,arguments)}return _(X,k),X.prototype.tag="hhea",X.prototype.parse=function(Q){return Q.pos=this.offset,this.version=Q.readInt(),this.ascender=Q.readShort(),this.decender=Q.readShort(),this.lineGap=Q.readShort(),this.advanceWidthMax=Q.readShort(),this.minLeftSideBearing=Q.readShort(),this.minRightSideBearing=Q.readShort(),this.xMaxExtent=Q.readShort(),this.caretSlopeRise=Q.readShort(),this.caretSlopeRun=Q.readShort(),this.caretOffset=Q.readShort(),Q.pos+=8,this.metricDataFormat=Q.readShort(),this.numberOfMetrics=Q.readUInt16()},X}(),Z=function(ye){function X(){return X.__super__.constructor.apply(this,arguments)}return _(X,k),X.prototype.tag="OS/2",X.prototype.parse=function(Q){if(Q.pos=this.offset,this.version=Q.readUInt16(),this.averageCharWidth=Q.readShort(),this.weightClass=Q.readUInt16(),this.widthClass=Q.readUInt16(),this.type=Q.readShort(),this.ySubscriptXSize=Q.readShort(),this.ySubscriptYSize=Q.readShort(),this.ySubscriptXOffset=Q.readShort(),this.ySubscriptYOffset=Q.readShort(),this.ySuperscriptXSize=Q.readShort(),this.ySuperscriptYSize=Q.readShort(),this.ySuperscriptXOffset=Q.readShort(),this.ySuperscriptYOffset=Q.readShort(),this.yStrikeoutSize=Q.readShort(),this.yStrikeoutPosition=Q.readShort(),this.familyClass=Q.readShort(),this.panose=function(){var ie,z;for(z=[],ie=0;ie<10;++ie)z.push(Q.readByte());return z}(),this.charRange=function(){var ie,z;for(z=[],ie=0;ie<4;++ie)z.push(Q.readInt());return z}(),this.vendorID=Q.readString(4),this.selection=Q.readShort(),this.firstCharIndex=Q.readShort(),this.lastCharIndex=Q.readShort(),0<this.version&&(this.ascent=Q.readShort(),this.descent=Q.readShort(),this.lineGap=Q.readShort(),this.winAscent=Q.readShort(),this.winDescent=Q.readShort(),this.codePageRange=function(){var ie,z;for(z=[],ie=0;ie<2;++ie)z.push(Q.readInt());return z}(),1<this.version))return this.xHeight=Q.readShort(),this.capHeight=Q.readShort(),this.defaultChar=Q.readShort(),this.breakChar=Q.readShort(),this.maxContext=Q.readShort()},X}(),Ae=function(ye){function X(){return X.__super__.constructor.apply(this,arguments)}return _(X,k),X.prototype.tag="post",X.prototype.parse=function(Q){var ie,z,ue,oe;switch(Q.pos=this.offset,this.format=Q.readInt(),this.italicAngle=Q.readInt(),this.underlinePosition=Q.readShort(),this.underlineThickness=Q.readShort(),this.isFixedPitch=Q.readInt(),this.minMemType42=Q.readInt(),this.maxMemType42=Q.readInt(),this.minMemType1=Q.readInt(),this.maxMemType1=Q.readInt(),this.format){case 65536:break;case 131072:for(z=Q.readUInt16(),this.glyphNameIndex=[],ue=0;0<=z?ue<z:z<ue;0<=z?++ue:--ue)this.glyphNameIndex.push(Q.readUInt16());for(this.names=[],oe=[];Q.pos<this.offset+this.length;)ie=Q.readByte(),oe.push(this.names.push(Q.readString(ie)));return oe;case 151552:return z=Q.readUInt16(),this.offsets=Q.read(z);case 196608:break;case 262144:return this.map=function(){var Ne,be,Qe;for(Qe=[],Ne=0,be=this.file.maxp.numGlyphs;0<=be?Ne<be:be<Ne;0<=be?++Ne:--Ne)Qe.push(Q.readUInt32());return Qe}.call(this)}},X}(),he=function(ye,X){this.raw=ye,this.length=ye.length,this.platformID=X.platformID,this.encodingID=X.encodingID,this.languageID=X.languageID},xe=function(ye){function X(){return X.__super__.constructor.apply(this,arguments)}return _(X,k),X.prototype.tag="name",X.prototype.parse=function(Q){var ie,z,ue,oe,Ne,be,Qe,Te,V,ee,C,P;for(Q.pos=this.offset,Q.readShort(),ie=Q.readShort(),be=Q.readShort(),z=[],oe=V=0;0<=ie?V<ie:ie<V;oe=0<=ie?++V:--V)z.push({platformID:Q.readShort(),encodingID:Q.readShort(),languageID:Q.readShort(),nameID:Q.readShort(),length:Q.readShort(),offset:this.offset+be+Q.readShort()});for(Qe={},oe=ee=0,C=z.length;ee<C;oe=++ee)ue=z[oe],Q.pos=ue.offset,Te=Q.readString(ue.length),Ne=new he(Te,ue),Qe[P=ue.nameID]==null&&(Qe[P]=[]),Qe[ue.nameID].push(Ne);return this.strings=Qe,this.copyright=Qe[0],this.fontFamily=Qe[1],this.fontSubfamily=Qe[2],this.uniqueSubfamily=Qe[3],this.fontName=Qe[4],this.version=Qe[5],this.postscriptName=Qe[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,""),this.trademark=Qe[7],this.manufacturer=Qe[8],this.designer=Qe[9],this.description=Qe[10],this.vendorUrl=Qe[11],this.designerUrl=Qe[12],this.license=Qe[13],this.licenseUrl=Qe[14],this.preferredFamily=Qe[15],this.preferredSubfamily=Qe[17],this.compatibleFull=Qe[18],this.sampleText=Qe[19]},X}(),ge=function(ye){function X(){return X.__super__.constructor.apply(this,arguments)}return _(X,k),X.prototype.tag="maxp",X.prototype.parse=function(Q){return Q.pos=this.offset,this.version=Q.readInt(),this.numGlyphs=Q.readUInt16(),this.maxPoints=Q.readUInt16(),this.maxContours=Q.readUInt16(),this.maxCompositePoints=Q.readUInt16(),this.maxComponentContours=Q.readUInt16(),this.maxZones=Q.readUInt16(),this.maxTwilightPoints=Q.readUInt16(),this.maxStorage=Q.readUInt16(),this.maxFunctionDefs=Q.readUInt16(),this.maxInstructionDefs=Q.readUInt16(),this.maxStackElements=Q.readUInt16(),this.maxSizeOfInstructions=Q.readUInt16(),this.maxComponentElements=Q.readUInt16(),this.maxComponentDepth=Q.readUInt16()},X}(),le=function(ye){function X(){return X.__super__.constructor.apply(this,arguments)}return _(X,k),X.prototype.tag="hmtx",X.prototype.parse=function(Q){var ie,z,ue,oe,Ne,be,Qe;for(Q.pos=this.offset,this.metrics=[],oe=0,be=this.file.hhea.numberOfMetrics;0<=be?oe<be:be<oe;0<=be?++oe:--oe)this.metrics.push({advance:Q.readUInt16(),lsb:Q.readInt16()});for(z=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var Te,V;for(V=[],Te=0;0<=z?Te<z:z<Te;0<=z?++Te:--Te)V.push(Q.readInt16());return V}(),this.widths=function(){var Te,V,ee,C;for(C=[],Te=0,V=(ee=this.metrics).length;Te<V;Te++)ue=ee[Te],C.push(ue.advance);return C}.call(this),ie=this.widths[this.widths.length-1],Qe=[],Ne=0;0<=z?Ne<z:z<Ne;0<=z?++Ne:--Ne)Qe.push(this.widths.push(ie));return Qe},X.prototype.forGlyph=function(Q){return Q in this.metrics?this.metrics[Q]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[Q-this.metrics.length]}},X}(),x=[].slice,G=function(ye){function X(){return X.__super__.constructor.apply(this,arguments)}return _(X,k),X.prototype.tag="glyf",X.prototype.parse=function(Q){return this.cache={}},X.prototype.glyphFor=function(Q){var ie,z,ue,oe,Ne,be,Qe,Te,V,ee;return(Q=Q)in this.cache?this.cache[Q]:(oe=this.file.loca,ie=this.file.contents,z=oe.indexOf(Q),(ue=oe.lengthOf(Q))===0?this.cache[Q]=null:(ie.pos=this.offset+z,Ne=(be=new U(ie.read(ue))).readShort(),Te=be.readShort(),ee=be.readShort(),Qe=be.readShort(),V=be.readShort(),this.cache[Q]=Ne===-1?new ce(be,Te,ee,Qe,V):new W(be,Ne,Te,ee,Qe,V),this.cache[Q]))},X.prototype.encode=function(Q,ie,z){var ue,oe,Ne,be,Qe;for(Ne=[],oe=[],be=0,Qe=ie.length;be<Qe;be++)ue=Q[ie[be]],oe.push(Ne.length),ue&&(Ne=Ne.concat(ue.encode(z)));return oe.push(Ne.length),{table:Ne,offsets:oe}},X}(),W=function(){function ye(X,Q,ie,z,ue,oe){this.raw=X,this.numberOfContours=Q,this.xMin=ie,this.yMin=z,this.xMax=ue,this.yMax=oe,this.compound=!1}return ye.prototype.encode=function(){return this.raw.data},ye}(),ce=function(){function ye(X,Q,ie,z,ue){var oe,Ne;for(this.raw=X,this.xMin=Q,this.yMin=ie,this.xMax=z,this.yMax=ue,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],oe=this.raw;Ne=oe.readShort(),this.glyphOffsets.push(oe.pos),this.glyphIDs.push(oe.readShort()),32&Ne;)oe.pos+=1&Ne?4:2,128&Ne?oe.pos+=8:64&Ne?oe.pos+=4:8&Ne&&(oe.pos+=2)}return ye.prototype.encode=function(X){var Q,ie,z,ue,oe;for(ie=new U(x.call(this.raw.data)),Q=z=0,ue=(oe=this.glyphIDs).length;z<ue;Q=++z)oe[Q],ie.pos=this.glyphOffsets[Q];return ie.data},ye}(),de=function(ye){function X(){return X.__super__.constructor.apply(this,arguments)}return _(X,k),X.prototype.tag="loca",X.prototype.parse=function(Q){var ie;return Q.pos=this.offset,ie=this.file.head.indexToLocFormat,this.offsets=ie===0?function(){var z,ue,oe;for(oe=[],z=0,ue=this.length;z<ue;z+=2)oe.push(2*Q.readUInt16());return oe}.call(this):function(){var z,ue,oe;for(oe=[],z=0,ue=this.length;z<ue;z+=4)oe.push(Q.readUInt32());return oe}.call(this)},X.prototype.indexOf=function(Q){return this.offsets[Q]},X.prototype.lengthOf=function(Q){return this.offsets[Q+1]-this.offsets[Q]},X.prototype.encode=function(Q,ie){for(var z=new Uint32Array(this.offsets.length),ue=0,oe=0,Ne=0;Ne<z.length;++Ne)if(z[Ne]=ue,oe<ie.length&&ie[oe]==Ne){++oe,z[Ne]=ue;var be=this.offsets[Ne],Qe=this.offsets[Ne+1]-be;0<Qe&&(ue+=Qe)}for(var Te=new Array(4*z.length),V=0;V<z.length;++V)Te[4*V+3]=255&z[V],Te[4*V+2]=(65280&z[V])>>8,Te[4*V+1]=(16711680&z[V])>>16,Te[4*V]=(4278190080&z[V])>>24;return Te},X}(),_e=function(){function ye(X){this.font=X,this.subset={},this.unicodes={},this.next=33}return ye.prototype.generateCmap=function(){var X,Q,ie,z,ue;for(Q in z=this.font.cmap.tables[0].codeMap,X={},ue=this.subset)ie=ue[Q],X[Q]=z[ie];return X},ye.prototype.glyphsFor=function(X){var Q,ie,z,ue,oe,Ne,be;for(z={},oe=0,Ne=X.length;oe<Ne;oe++)z[ue=X[oe]]=this.font.glyf.glyphFor(ue);for(ue in Q=[],z)(ie=z[ue])!=null&&ie.compound&&Q.push.apply(Q,ie.glyphIDs);if(0<Q.length)for(ue in be=this.glyphsFor(Q))ie=be[ue],z[ue]=ie;return z},ye.prototype.encode=function(X){var Q,ie,z,ue,oe,Ne,be,Qe,Te,V,ee,C,P,Y,ae;for(ie in Q=K.encode(this.generateCmap(),"unicode"),ue=this.glyphsFor(X),ee={0:0},ae=Q.charMap)ee[(Ne=ae[ie]).old]=Ne.new;for(C in V=Q.maxGlyphID,ue)C in ee||(ee[C]=V++);return Qe=function(ke){var Le,je;for(Le in je={},ke)je[ke[Le]]=Le;return je}(ee),Te=Object.keys(Qe).sort(function(ke,Le){return ke-Le}),P=function(){var ke,Le,je;for(je=[],ke=0,Le=Te.length;ke<Le;ke++)oe=Te[ke],je.push(Qe[oe]);return je}(),z=this.font.glyf.encode(ue,P,ee),be=this.font.loca.encode(z.offsets,P),Y={cmap:this.font.cmap.raw(),glyf:z.table,loca:be,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.raw()},this.font.os2.exists&&(Y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Y)},ye}();b.API.PDFObject=function(){var ye;function X(){}return ye=function(Q,ie){return(Array(ie+1).join("0")+Q).slice(-ie)},X.convert=function(Q){var ie,z,ue,oe;if(Array.isArray(Q))return"["+function(){var Ne,be,Qe;for(Qe=[],Ne=0,be=Q.length;Ne<be;Ne++)ie=Q[Ne],Qe.push(X.convert(ie));return Qe}().join(" ")+"]";if(typeof Q=="string")return"/"+Q;if(Q!=null&&Q.isString)return"("+Q+")";if(Q instanceof Date)return"(D:"+ye(Q.getUTCFullYear(),4)+ye(Q.getUTCMonth(),2)+ye(Q.getUTCDate(),2)+ye(Q.getUTCHours(),2)+ye(Q.getUTCMinutes(),2)+ye(Q.getUTCSeconds(),2)+"Z)";if({}.toString.call(Q)==="[object Object]"){for(z in ue=["<<"],Q)oe=Q[z],ue.push("/"+z+" "+X.convert(oe));return ue.push(">>"),ue.join(`
`)}return""+Q},X}()}(Vt),Ze=typeof self!="undefined"&&self||typeof window!="undefined"&&window||typeof Xn!="undefined"&&Xn||Function('return typeof this === "object" && this.content')()||Function("return this")(),At=function(){var b,F,O;function m(h){var g,y,B,E,k,U,v,S,_,L,R,K,$,Z;for(this.data=h,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},U=null;;){switch(g=this.readUInt32(),_=function(){var Ae,he;for(he=[],Ae=0;Ae<4;++Ae)he.push(String.fromCharCode(this.data[this.pos++]));return he}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(g);break;case"fcTL":U&&this.animation.frames.push(U),this.pos+=4,U={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},k=this.readUInt16(),E=this.readUInt16()||100,U.delay=1e3*k/E,U.disposeOp=this.data[this.pos++],U.blendOp=this.data[this.pos++],U.data=[];break;case"IDAT":case"fdAT":for(_==="fdAT"&&(this.pos+=4,g-=4),h=(U!=null?U.data:void 0)||this.imgData,K=0;0<=g?K<g:g<K;0<=g?++K:--K)h.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(B=this.palette.length/3,this.transparency.indexed=this.read(g),this.transparency.indexed.length>B)throw new Error("More transparent colors than palette size");if(0<(L=B-this.transparency.indexed.length))for($=0;0<=L?$<L:L<$;0<=L?++$:--$)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(g)[0];break;case 2:this.transparency.rgb=this.read(g)}break;case"tEXt":v=(R=this.read(g)).indexOf(0),S=String.fromCharCode.apply(String,R.slice(0,v)),this.text[S]=String.fromCharCode.apply(String,R.slice(v+1));break;case"IEND":return U&&this.animation.frames.push(U),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(Z=this.colorType)===4||Z===6,y=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*y,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=g}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}m.load=function(h,g,y){var B;return typeof g=="function"&&(y=g),(B=new XMLHttpRequest).open("GET",h,!0),B.responseType="arraybuffer",B.onload=function(){var E;return E=new m(new Uint8Array(B.response||B.mozResponseArrayBuffer)),typeof(g!=null?g.getContext:void 0)=="function"&&E.render(g),typeof y=="function"?y(E):void 0},B.send(null)},m.prototype.read=function(h){var g,y;for(y=[],g=0;0<=h?g<h:h<g;0<=h?++g:--g)y.push(this.data[this.pos++]);return y},m.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},m.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},m.prototype.decodePixels=function(h){var g=this.pixelBitlength/8,y=new Uint8Array(this.width*this.height*g),B=0,E=this;if(h==null&&(h=this.imgData),h.length===0)return new Uint8Array(0);function k(U,v,S,_){var L,R,K,$,Z,Ae,he,xe,ge,le,x,G,W,ce,de,_e,ye,X,Q,ie,z,ue=Math.ceil((E.width-U)/S),oe=Math.ceil((E.height-v)/_),Ne=E.width==ue&&E.height==oe;for(ce=g*ue,G=Ne?y:new Uint8Array(ce*oe),Ae=h.length,R=W=0;W<oe&&B<Ae;){switch(h[B++]){case 0:for($=ye=0;ye<ce;$=ye+=1)G[R++]=h[B++];break;case 1:for($=X=0;X<ce;$=X+=1)L=h[B++],Z=$<g?0:G[R-g],G[R++]=(L+Z)%256;break;case 2:for($=Q=0;Q<ce;$=Q+=1)L=h[B++],K=($-$%g)/g,de=W&&G[(W-1)*ce+K*g+$%g],G[R++]=(de+L)%256;break;case 3:for($=ie=0;ie<ce;$=ie+=1)L=h[B++],K=($-$%g)/g,Z=$<g?0:G[R-g],de=W&&G[(W-1)*ce+K*g+$%g],G[R++]=(L+Math.floor((Z+de)/2))%256;break;case 4:for($=z=0;z<ce;$=z+=1)L=h[B++],K=($-$%g)/g,Z=$<g?0:G[R-g],W===0?de=_e=0:(de=G[(W-1)*ce+K*g+$%g],_e=K&&G[(W-1)*ce+(K-1)*g+$%g]),he=Z+de-_e,xe=Math.abs(he-Z),le=Math.abs(he-de),x=Math.abs(he-_e),ge=xe<=le&&xe<=x?Z:le<=x?de:_e,G[R++]=(L+ge)%256;break;default:throw new Error("Invalid filter algorithm: "+h[B-1])}if(!Ne){var be=((v+W*_)*E.width+U)*g,Qe=W*ce;for($=0;$<ue;$+=1){for(var Te=0;Te<g;Te+=1)y[be++]=G[Qe++];be+=(S-1)*g}}W++}}return h=(h=new Wn(h)).getBytes(),E.interlaceMethod==1?(k(0,0,8,8),k(4,0,8,8),k(0,4,4,8),k(2,0,4,4),k(0,2,2,4),k(1,0,2,2),k(0,1,1,2)):k(0,0,1,1),y},m.prototype.decodePalette=function(){var h,g,y,B,E,k,U,v,S;for(y=this.palette,k=this.transparency.indexed||[],E=new Uint8Array((k.length||0)+y.length),B=0,y.length,g=U=h=0,v=y.length;U<v;g=U+=3)E[B++]=y[g],E[B++]=y[g+1],E[B++]=y[g+2],E[B++]=(S=k[h++])!=null?S:255;return E},m.prototype.copyToImageData=function(h,g){var y,B,E,k,U,v,S,_,L,R,K;if(B=this.colors,L=null,y=this.hasAlphaChannel,this.palette.length&&(L=(K=this._decodedPalette)!=null?K:this._decodedPalette=this.decodePalette(),B=4,y=!0),_=(E=h.data||h).length,U=L||g,k=v=0,B===1)for(;k<_;)S=L?4*g[k/4]:v,R=U[S++],E[k++]=R,E[k++]=R,E[k++]=R,E[k++]=y?U[S++]:255,v=S;else for(;k<_;)S=L?4*g[k/4]:v,E[k++]=U[S++],E[k++]=U[S++],E[k++]=U[S++],E[k++]=y?U[S++]:255,v=S},m.prototype.decode=function(){var h;return h=new Uint8Array(this.width*this.height*4),this.copyToImageData(h,this.decodePixels()),h};try{F=Ze.document.createElement("canvas"),O=F.getContext("2d")}catch(h){return-1}return b=function(h){var g;return O.width=h.width,O.height=h.height,O.clearRect(0,0,h.width,h.height),O.putImageData(h,0,0),(g=new Image).src=F.toDataURL(),g},m.prototype.decodeFrames=function(h){var g,y,B,E,k,U,v,S;if(this.animation){for(S=[],y=k=0,U=(v=this.animation.frames).length;k<U;y=++k)g=v[y],B=h.createImageData(g.width,g.height),E=this.decodePixels(new Uint8Array(g.data)),this.copyToImageData(B,E),g.imageData=B,S.push(g.image=b(B));return S}},m.prototype.renderFrame=function(h,g){var y,B,E;return y=(B=this.animation.frames)[g],E=B[g-1],g===0&&h.clearRect(0,0,this.width,this.height),(E!=null?E.disposeOp:void 0)===1?h.clearRect(E.xOffset,E.yOffset,E.width,E.height):(E!=null?E.disposeOp:void 0)===2&&h.putImageData(E.imageData,E.xOffset,E.yOffset),y.blendOp===0&&h.clearRect(y.xOffset,y.yOffset,y.width,y.height),h.drawImage(y.image,y.xOffset,y.yOffset)},m.prototype.animate=function(h){var g,y,B,E,k,U,v=this;return y=0,U=this.animation,E=U.numFrames,B=U.frames,k=U.numPlays,(g=function(){var S,_;if(S=y++%E,_=B[S],v.renderFrame(h,S),1<E&&y/E<k)return v.animation._timeout=setTimeout(g,_.delay)})()},m.prototype.stopAnimation=function(){var h;return clearTimeout((h=this.animation)!=null?h._timeout:void 0)},m.prototype.render=function(h){var g,y;return h._png&&h._png.stopAnimation(),h._png=this,h.width=this.width,h.height=this.height,g=h.getContext("2d"),this.animation?(this.decodeFrames(g),this.animate(g)):(y=g.createImageData(this.width,this.height),this.copyToImageData(y,this.decodePixels()),g.putImageData(y,0,0))},m}(),Ze.PNG=At;var Sr=function(){function b(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return b.prototype={ensureBuffer:function(F){var O=this.buffer,m=O?O.byteLength:0;if(F<m)return O;for(var h=512;h<F;)h<<=1;for(var g=new Uint8Array(h),y=0;y<m;++y)g[y]=O[y];return this.buffer=g},getByte:function(){for(var F=this.pos;this.bufferLength<=F;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(F){var O=this.pos;if(F){this.ensureBuffer(O+F);for(var m=O+F;!this.eof&&this.bufferLength<m;)this.readBlock();var h=this.bufferLength;h<m&&(m=h)}else{for(;!this.eof;)this.readBlock();m=this.bufferLength}return this.pos=m,this.buffer.subarray(O,m)},lookChar:function(){for(var F=this.pos;this.bufferLength<=F;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var F=this.pos;this.bufferLength<=F;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(F,O,m){for(var h=F+O;this.bufferLength<=h&&!this.eof;)this.readBlock();return new Stream(this.buffer,F,O,m)},skip:function(F){F||(F=1),this.pos+=F},reset:function(){this.pos=0}},b}(),Wn=function(){if(typeof Uint32Array!="undefined"){var b=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),F=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),O=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),m=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],h=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return(y.prototype=Object.create(Sr.prototype)).getBits=function(B){for(var E,k=this.codeSize,U=this.codeBuf,v=this.bytes,S=this.bytesPos;k<B;)(E=v[S++])===void 0&&g("Bad encoding in flate stream"),U|=E<<k,k+=8;return E=U&(1<<B)-1,this.codeBuf=U>>B,this.codeSize=k-=B,this.bytesPos=S,E},y.prototype.getCode=function(B){for(var E=B[0],k=B[1],U=this.codeSize,v=this.codeBuf,S=this.bytes,_=this.bytesPos;U<k;){var L;(L=S[_++])===void 0&&g("Bad encoding in flate stream"),v|=L<<U,U+=8}var R=E[v&(1<<k)-1],K=R>>16,$=65535&R;return(U==0||U<K||K==0)&&g("Bad encoding in flate stream"),this.codeBuf=v>>K,this.codeSize=U-K,this.bytesPos=_,$},y.prototype.generateHuffmanTable=function(B){for(var E=B.length,k=0,U=0;U<E;++U)B[U]>k&&(k=B[U]);for(var v=1<<k,S=new Uint32Array(v),_=1,L=0,R=2;_<=k;++_,L<<=1,R<<=1)for(var K=0;K<E;++K)if(B[K]==_){var $=0,Z=L;for(U=0;U<_;++U)$=$<<1|1&Z,Z>>=1;for(U=$;U<v;U+=R)S[U]=_<<16|K;++L}return[S,k]},y.prototype.readBlock=function(){function B(oe,Ne,be,Qe,Te){for(var V=oe.getBits(be)+Qe;0<V--;)Ne[R++]=Te}var E=this.getBits(3);if(1&E&&(this.eof=!0),(E>>=1)!=0){var k,U;if(E==1)k=m,U=h;else if(E==2){for(var v=this.getBits(5)+257,S=this.getBits(5)+1,_=this.getBits(4)+4,L=Array(b.length),R=0;R<_;)L[b[R++]]=this.getBits(3);for(var K=this.generateHuffmanTable(L),$=0,Z=(R=0,v+S),Ae=new Array(Z);R<Z;){var he=this.getCode(K);he==16?B(this,Ae,2,3,$):he==17?B(this,Ae,3,3,$=0):he==18?B(this,Ae,7,11,$=0):Ae[R++]=$=he}k=this.generateHuffmanTable(Ae.slice(0,v)),U=this.generateHuffmanTable(Ae.slice(v,Z))}else g("Unknown block type in flate stream");for(var xe=(ie=this.buffer)?ie.length:0,ge=this.bufferLength;;){var le=this.getCode(k);if(le<256)xe<=ge+1&&(xe=(ie=this.ensureBuffer(ge+1)).length),ie[ge++]=le;else{if(le==256)return void(this.bufferLength=ge);var x=(le=F[le-=257])>>16;0<x&&(x=this.getBits(x)),$=(65535&le)+x,le=this.getCode(U),0<(x=(le=O[le])>>16)&&(x=this.getBits(x));var G=(65535&le)+x;xe<=ge+$&&(xe=(ie=this.ensureBuffer(ge+$)).length);for(var W=0;W<$;++W,++ge)ie[ge]=ie[ge-G]}}}else{var ce,de=this.bytes,_e=this.bytesPos;(ce=de[_e++])===void 0&&g("Bad block header in flate stream");var ye=ce;(ce=de[_e++])===void 0&&g("Bad block header in flate stream"),ye|=ce<<8,(ce=de[_e++])===void 0&&g("Bad block header in flate stream");var X=ce;(ce=de[_e++])===void 0&&g("Bad block header in flate stream"),(X|=ce<<8)!=(65535&~ye)&&g("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var Q=this.bufferLength,ie=this.ensureBuffer(Q+ye),z=Q+ye;this.bufferLength=z;for(var ue=Q;ue<z;++ue){if((ce=de[_e++])===void 0){this.eof=!0;break}ie[ue]=ce}this.bytesPos=_e}},y}function g(B){throw new Error(B)}function y(B){var E=0,k=B[E++],U=B[E++];k!=-1&&U!=-1||g("Invalid header in flate stream"),(15&k)!=8&&g("Unknown compression method in flate stream"),((k<<8)+U)%31!=0&&g("Bad FCHECK in flate stream"),32&U&&g("FDICT bit set in flate stream"),this.bytes=B,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,Sr.call(this)}}();return function(b){if(typeof b.console!="object"){b.console={};for(var F,O,m=b.console,h=function(){},g=["memory"],y="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");F=g.pop();)m[F]||(m[F]={});for(;O=y.pop();)m[O]||(m[O]=h)}var B,E,k,U,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";b.btoa===void 0&&(b.btoa=function(S){var _,L,R,K,$,Z=0,Ae=0,he="",xe=[];if(!S)return S;for(;_=($=S.charCodeAt(Z++)<<16|S.charCodeAt(Z++)<<8|S.charCodeAt(Z++))>>18&63,L=$>>12&63,R=$>>6&63,K=63&$,xe[Ae++]=v.charAt(_)+v.charAt(L)+v.charAt(R)+v.charAt(K),Z<S.length;);he=xe.join("");var ge=S.length%3;return(ge?he.slice(0,ge-3):he)+"===".slice(ge||3)}),b.atob===void 0&&(b.atob=function(S){var _,L,R,K,$,Z,Ae=0,he=0,xe=[];if(!S)return S;for(S+="";_=(Z=v.indexOf(S.charAt(Ae++))<<18|v.indexOf(S.charAt(Ae++))<<12|(K=v.indexOf(S.charAt(Ae++)))<<6|($=v.indexOf(S.charAt(Ae++))))>>16&255,L=Z>>8&255,R=255&Z,xe[he++]=K==64?String.fromCharCode(_):$==64?String.fromCharCode(_,L):String.fromCharCode(_,L,R),Ae<S.length;);return xe.join("")}),Array.prototype.map||(Array.prototype.map=function(S){if(this==null||typeof S!="function")throw new TypeError;for(var _=Object(this),L=_.length>>>0,R=new Array(L),K=1<arguments.length?arguments[1]:void 0,$=0;$<L;$++)$ in _&&(R[$]=S.call(K,_[$],$,_));return R}),Array.isArray||(Array.isArray=function(S){return Object.prototype.toString.call(S)==="[object Array]"}),Array.prototype.forEach||(Array.prototype.forEach=function(S,_){if(this==null||typeof S!="function")throw new TypeError;for(var L=Object(this),R=L.length>>>0,K=0;K<R;K++)K in L&&S.call(_,L[K],K,L)}),Object.keys||(Object.keys=(B=Object.prototype.hasOwnProperty,E=!{toString:null}.propertyIsEnumerable("toString"),U=(k=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(S){if(typeof S!="object"&&(typeof S!="function"||S===null))throw new TypeError;var _,L,R=[];for(_ in S)B.call(S,_)&&R.push(_);if(E)for(L=0;L<U;L++)B.call(S,k[L])&&R.push(k[L]);return R})),typeof Object.assign!="function"&&(Object.assign=function(S){if(S==null)throw new TypeError("Cannot convert undefined or null to object");S=Object(S);for(var _=1;_<arguments.length;_++){var L=arguments[_];if(L!=null)for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&(S[R]=L[R])}return S}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")})}(typeof self!="undefined"&&self||typeof window!="undefined"&&window||typeof Xn!="undefined"&&Xn||Function('return typeof this === "object" && this.content')()||Function("return this")()),Vt})}(KA,KA.exports)),KA.exports}var Y7=$7();const hm=Wu(Y7);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var g0=function(t,e){return g0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},g0(t,e)};function Xi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");g0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var m0=function(){return m0=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},m0.apply(this,arguments)};function Jr(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(l){try{u(r.next(l))}catch(c){a(c)}}function A(l){try{u(r.throw(l))}catch(c){a(c)}}function u(l){l.done?s(l.value):i(l.value).then(o,A)}u((r=r.apply(t,[])).next())})}function Qr(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(l){return A([u,l])}}function A(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Kl(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||e)}var Hs=function(){function t(e,n,r,i){this.left=e,this.top=n,this.width=r,this.height=i}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),xd=function(t,e){return Hs.fromClientRect(t,e.getBoundingClientRect())},X7=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new Hs(0,0,r,i)},Ed=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},rr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var a=t[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},Yb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J7=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var Vl=0;Vl<Yb.length;Vl++)J7[Yb.charCodeAt(Vl)]=Vl;var Xb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",VA=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var zl=0;zl<Xb.length;zl++)VA[Xb.charCodeAt(zl)]=zl;var Z7=function(t){var e=t.length*.75,n=t.length,r,i=0,s,a,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(e):new Array(e),l=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)s=VA[t.charCodeAt(r)],a=VA[t.charCodeAt(r+1)],o=VA[t.charCodeAt(r+2)],A=VA[t.charCodeAt(r+3)],l[i++]=s<<2|a>>4,l[i++]=(a&15)<<4|o>>2,l[i++]=(o&3)<<6|A&63;return u},eP=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},tP=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},to=5,pm=11,Vh=2,nP=pm-to,t3=65536>>to,rP=1<<to,zh=rP-1,iP=1024>>to,sP=t3+iP,aP=sP,oP=32,AP=aP+oP,uP=65536>>pm,lP=1<<nP,cP=lP-1,Jb=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},fP=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},dP=function(t,e){var n=Z7(t),r=Array.isArray(n)?tP(n):new Uint32Array(n),i=Array.isArray(n)?eP(n):new Uint16Array(n),s=24,a=Jb(i,s/2,r[4]/2),o=r[5]===2?Jb(i,(s+r[4])/2):fP(r,Math.ceil((s+r[4])/4));return new hP(r[0],r[1],r[2],r[3],a,o)},hP=function(){function t(e,n,r,i,s,a){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>to],n=(n<<Vh)+(e&zh),this.data[n];if(e<=65535)return n=this.index[t3+(e-55296>>to)],n=(n<<Vh)+(e&zh),this.data[n];if(e<this.highStart)return n=AP-uP+(e>>pm),n=this.index[n],n+=e>>to&cP,n=this.index[n],n=(n<<Vh)+(e&zh),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Zb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pP=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var ql=0;ql<Zb.length;ql++)pP[Zb.charCodeAt(ql)]=ql;var gP="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",ew=50,mP=1,n3=2,r3=3,bP=4,wP=5,tw=7,i3=8,nw=9,ua=10,b0=11,rw=12,w0=13,yP=14,zA=15,y0=16,Gl=17,OA=18,BP=19,iw=20,B0=21,_A=22,qh=23,Eo=24,bi=25,qA=26,GA=27,Co=28,xP=29,Qa=30,EP=31,Wl=32,$l=33,x0=34,E0=35,C0=36,ju=37,v0=38,Ic=39,kc=40,Gh=41,s3=42,CP=43,vP=[9001,65288],a3="!",gn="",Yl="",T0=dP(gP),Ss=[Qa,C0],S0=[mP,n3,r3,wP],o3=[ua,i3],sw=[GA,qA],TP=S0.concat(o3),aw=[v0,Ic,kc,x0,E0],SP=[zA,w0],IP=function(t,e){e===void 0&&(e="strict");var n=[],r=[],i=[];return t.forEach(function(s,a){var o=T0.get(s);if(o>ew?(i.push(!0),o-=ew):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(a),n.push(y0);if(o===bP||o===b0){if(a===0)return r.push(a),n.push(Qa);var A=n[a-1];return TP.indexOf(A)===-1?(r.push(r[a-1]),n.push(A)):(r.push(a),n.push(Qa))}if(r.push(a),o===EP)return n.push(e==="strict"?B0:ju);if(o===s3||o===xP)return n.push(Qa);if(o===CP)return s>=131072&&s<=196605||s>=196608&&s<=262141?n.push(ju):n.push(Qa);n.push(o)}),[r,n,i]},Wh=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=n;s<=r.length;){s++;var a=r[s];if(a===e)return!0;if(a!==ua)break}if(i===ua)for(var s=n;s>0;){s--;var o=r[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var A=n;A<=r.length;){A++;var a=r[A];if(a===e)return!0;if(a!==ua)break}if(o!==ua)break}return!1},ow=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===ua)n--;else return r}return 0},kP=function(t,e,n,r,i){if(n[r]===0)return gn;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return gn;var a=s-1,o=s+1,A=e[s],u=a>=0?e[a]:0,l=e[o];if(A===n3&&l===r3)return gn;if(S0.indexOf(A)!==-1)return a3;if(S0.indexOf(l)!==-1||o3.indexOf(l)!==-1)return gn;if(ow(s,e)===i3)return Yl;if(T0.get(t[s])===b0||(A===Wl||A===$l)&&T0.get(t[o])===b0||A===tw||l===tw||A===nw||[ua,w0,zA].indexOf(A)===-1&&l===nw||[Gl,OA,BP,Eo,Co].indexOf(l)!==-1||ow(s,e)===_A||Wh(qh,_A,s,e)||Wh([Gl,OA],B0,s,e)||Wh(rw,rw,s,e))return gn;if(A===ua)return Yl;if(A===qh||l===qh)return gn;if(l===y0||A===y0)return Yl;if([w0,zA,B0].indexOf(l)!==-1||A===yP||u===C0&&SP.indexOf(A)!==-1||A===Co&&l===C0||l===iw||Ss.indexOf(l)!==-1&&A===bi||Ss.indexOf(A)!==-1&&l===bi||A===GA&&[ju,Wl,$l].indexOf(l)!==-1||[ju,Wl,$l].indexOf(A)!==-1&&l===qA||Ss.indexOf(A)!==-1&&sw.indexOf(l)!==-1||sw.indexOf(A)!==-1&&Ss.indexOf(l)!==-1||[GA,qA].indexOf(A)!==-1&&(l===bi||[_A,zA].indexOf(l)!==-1&&e[o+1]===bi)||[_A,zA].indexOf(A)!==-1&&l===bi||A===bi&&[bi,Co,Eo].indexOf(l)!==-1)return gn;if([bi,Co,Eo,Gl,OA].indexOf(l)!==-1)for(var c=s;c>=0;){var f=e[c];if(f===bi)return gn;if([Co,Eo].indexOf(f)!==-1)c--;else break}if([GA,qA].indexOf(l)!==-1)for(var c=[Gl,OA].indexOf(A)!==-1?a:s;c>=0;){var f=e[c];if(f===bi)return gn;if([Co,Eo].indexOf(f)!==-1)c--;else break}if(v0===A&&[v0,Ic,x0,E0].indexOf(l)!==-1||[Ic,x0].indexOf(A)!==-1&&[Ic,kc].indexOf(l)!==-1||[kc,E0].indexOf(A)!==-1&&l===kc||aw.indexOf(A)!==-1&&[iw,qA].indexOf(l)!==-1||aw.indexOf(l)!==-1&&A===GA||Ss.indexOf(A)!==-1&&Ss.indexOf(l)!==-1||A===Eo&&Ss.indexOf(l)!==-1||Ss.concat(bi).indexOf(A)!==-1&&l===_A&&vP.indexOf(t[o])===-1||Ss.concat(bi).indexOf(l)!==-1&&A===OA)return gn;if(A===Gh&&l===Gh){for(var d=n[s],w=1;d>0&&(d--,e[d]===Gh);)w++;if(w%2!==0)return gn}return A===Wl&&l===$l?gn:Yl},FP=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=IP(t,e.lineBreak),r=n[0],i=n[1],s=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[bi,Qa,s3].indexOf(o)!==-1?ju:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,A){return o&&t[A]>=19968&&t[A]<=40959}):void 0;return[r,i,a]},NP=function(){function t(e,n,r,i){this.codePoints=e,this.required=n===a3,this.start=r,this.end=i}return t.prototype.slice=function(){return rr.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),UP=function(t,e){var n=Ed(t),r=FP(n,e),i=r[0],s=r[1],a=r[2],o=n.length,A=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var l=gn;u<o&&(l=kP(n,s,i,++u,a))===gn;);if(l!==gn||u===o){var c=new NP(n,l,A,u);return A=u,{value:c,done:!1}}return{done:!0,value:null}}}},LP=1,OP=2,ol=4,Aw=8,Of=10,uw=47,wu=92,_P=9,DP=32,Xl=34,DA=61,QP=35,RP=36,MP=37,Jl=39,Zl=40,QA=41,PP=95,Ai=45,HP=33,jP=60,KP=62,VP=64,zP=91,qP=93,GP=61,WP=123,ec=63,$P=125,lw=124,YP=126,XP=128,cw=65533,$h=42,za=43,JP=44,ZP=58,eH=59,Ku=46,tH=0,nH=8,rH=11,iH=14,sH=31,aH=127,es=-1,A3=48,u3=97,l3=101,oH=102,AH=117,uH=122,c3=65,f3=69,d3=70,lH=85,cH=90,Pr=function(t){return t>=A3&&t<=57},fH=function(t){return t>=55296&&t<=57343},vo=function(t){return Pr(t)||t>=c3&&t<=d3||t>=u3&&t<=oH},dH=function(t){return t>=u3&&t<=uH},hH=function(t){return t>=c3&&t<=cH},pH=function(t){return dH(t)||hH(t)},gH=function(t){return t>=XP},tc=function(t){return t===Of||t===_P||t===DP},_f=function(t){return pH(t)||gH(t)||t===PP},fw=function(t){return _f(t)||Pr(t)||t===Ai},mH=function(t){return t>=tH&&t<=nH||t===rH||t>=iH&&t<=sH||t===aH},ta=function(t,e){return t!==wu?!1:e!==Of},nc=function(t,e,n){return t===Ai?_f(e)||ta(e,n):_f(t)?!0:!!(t===wu&&ta(t,e))},Yh=function(t,e,n){return t===za||t===Ai?Pr(e)?!0:e===Ku&&Pr(n):Pr(t===Ku?e:t)},bH=function(t){var e=0,n=1;(t[e]===za||t[e]===Ai)&&(t[e]===Ai&&(n=-1),e++);for(var r=[];Pr(t[e]);)r.push(t[e++]);var i=r.length?parseInt(rr.apply(void 0,r),10):0;t[e]===Ku&&e++;for(var s=[];Pr(t[e]);)s.push(t[e++]);var a=s.length,o=a?parseInt(rr.apply(void 0,s),10):0;(t[e]===f3||t[e]===l3)&&e++;var A=1;(t[e]===za||t[e]===Ai)&&(t[e]===Ai&&(A=-1),e++);for(var u=[];Pr(t[e]);)u.push(t[e++]);var l=u.length?parseInt(rr.apply(void 0,u),10):0;return n*(i+o*Math.pow(10,-a))*Math.pow(10,A*l)},wH={type:2},yH={type:3},BH={type:4},xH={type:13},EH={type:8},CH={type:21},vH={type:9},TH={type:10},SH={type:11},IH={type:12},kH={type:14},rc={type:23},FH={type:1},NH={type:25},UH={type:24},LH={type:26},OH={type:27},_H={type:28},DH={type:29},QH={type:31},I0={type:32},h3=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Ed(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==I0;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Xl:return this.consumeStringToken(Xl);case QP:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(fw(n)||ta(r,i)){var s=nc(n,r,i)?OP:LP,a=this.consumeName();return{type:5,value:a,flags:s}}break;case RP:if(this.peekCodePoint(0)===DA)return this.consumeCodePoint(),xH;break;case Jl:return this.consumeStringToken(Jl);case Zl:return wH;case QA:return yH;case $h:if(this.peekCodePoint(0)===DA)return this.consumeCodePoint(),kH;break;case za:if(Yh(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case JP:return BH;case Ai:var o=e,A=this.peekCodePoint(0),u=this.peekCodePoint(1);if(Yh(o,A,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(nc(o,A,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===Ai&&u===KP)return this.consumeCodePoint(),this.consumeCodePoint(),UH;break;case Ku:if(Yh(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case uw:if(this.peekCodePoint(0)===$h)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===$h&&(l=this.consumeCodePoint(),l===uw))return this.consumeToken();if(l===es)return this.consumeToken()}break;case ZP:return LH;case eH:return OH;case jP:if(this.peekCodePoint(0)===HP&&this.peekCodePoint(1)===Ai&&this.peekCodePoint(2)===Ai)return this.consumeCodePoint(),this.consumeCodePoint(),NH;break;case VP:var c=this.peekCodePoint(0),f=this.peekCodePoint(1),d=this.peekCodePoint(2);if(nc(c,f,d)){var a=this.consumeName();return{type:7,value:a}}break;case zP:return _H;case wu:if(ta(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case qP:return DH;case GP:if(this.peekCodePoint(0)===DA)return this.consumeCodePoint(),EH;break;case WP:return SH;case $P:return IH;case AH:case lH:var w=this.peekCodePoint(0),T=this.peekCodePoint(1);return w===za&&(vo(T)||T===ec)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case lw:if(this.peekCodePoint(0)===DA)return this.consumeCodePoint(),vH;if(this.peekCodePoint(0)===lw)return this.consumeCodePoint(),CH;break;case YP:if(this.peekCodePoint(0)===DA)return this.consumeCodePoint(),TH;break;case es:return I0}return tc(e)?(this.consumeWhiteSpace(),QH):Pr(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):_f(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:rr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e=="undefined"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();vo(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===ec&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(rr.apply(void 0,e.map(function(A){return A===ec?A3:A})),16),s=parseInt(rr.apply(void 0,e.map(function(A){return A===ec?d3:A})),16);return{type:30,start:i,end:s}}var a=parseInt(rr.apply(void 0,e),16);if(this.peekCodePoint(0)===Ai&&vo(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var o=[];vo(n)&&o.length<6;)o.push(n),n=this.consumeCodePoint();var s=parseInt(rr.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Zl?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Zl?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===es)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===Jl||n===Xl){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===es||this.peekCodePoint(0)===QA)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),rc)}for(;;){var i=this.consumeCodePoint();if(i===es||i===QA)return{type:22,value:rr.apply(void 0,e)};if(tc(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===es||this.peekCodePoint(0)===QA?(this.consumeCodePoint(),{type:22,value:rr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),rc);if(i===Xl||i===Jl||i===Zl||mH(i))return this.consumeBadUrlRemnants(),rc;if(i===wu)if(ta(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),rc;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;tc(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===QA||e===es)return;ta(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var i=Math.min(n,e);r+=rr.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var i=this._value[r];if(i===es||i===void 0||i===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===Of)return this._value.splice(0,r),FH;if(i===wu){var s=this._value[r+1];s!==es&&s!==void 0&&(s===Of?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):ta(i,s)&&(n+=this.consumeStringSlice(r),n+=rr(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=ol,r=this.peekCodePoint(0);for((r===za||r===Ai)&&e.push(this.consumeCodePoint());Pr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Ku&&Pr(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=Aw;Pr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===f3||r===l3)&&((i===za||i===Ai)&&Pr(s)||Pr(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=Aw;Pr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[bH(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(nc(i,s,a)){var o=this.consumeName();return{type:15,number:n,flags:r,unit:o}}return i===MP?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(vo(e)){for(var n=rr(e);vo(this.peekCodePoint(0))&&n.length<6;)n+=rr(this.consumeCodePoint());tc(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||fH(r)||r>1114111?cw:r}return e===es?cw:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(fw(n))e+=rr(n);else if(ta(n,this.peekCodePoint(0)))e+=rr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),p3=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new h3;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||MH(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e=="undefined"?I0:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Al=function(t){return t.type===15},gA=function(t){return t.type===17},Ln=function(t){return t.type===20},RH=function(t){return t.type===0},k0=function(t,e){return Ln(t)&&t.value===e},g3=function(t){return t.type!==31},sA=function(t){return t.type!==31&&t.type!==4},ws=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},MH=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},wa=function(t){return t.type===17||t.type===15},ur=function(t){return t.type===16||wa(t)},m3=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Or={type:17,number:0,flags:ol},gm={type:16,number:50,flags:ol},la={type:16,number:100,flags:ol},WA=function(t,e,n){var r=t[0],i=t[1];return[Pn(r,e),Pn(typeof i!="undefined"?i:r,n)]},Pn=function(t,e){if(t.type===16)return t.number/100*e;if(Al(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},b3="deg",w3="grad",y3="rad",B3="turn",Cd={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case b3:return Math.PI*e.number/180;case w3:return Math.PI/200*e.number;case y3:return e.number;case B3:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},x3=function(t){return t.type===15&&(t.unit===b3||t.unit===w3||t.unit===y3||t.unit===B3)},E3=function(t){var e=t.filter(Ln).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Or,Or];case"to top":case"bottom":return Li(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Or,la];case"to right":case"left":return Li(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[la,la];case"to bottom":case"top":return Li(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[la,Or];case"to left":case"right":return Li(270)}return 0},Li=function(t){return Math.PI*t/180},ga={name:"color",parse:function(t,e){if(e.type===18){var n=PH[e.name];if(typeof n=="undefined")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return ca(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return ca(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return ca(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return ca(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=Ms[e.value.toUpperCase()];if(typeof o!="undefined")return o}return Ms.TRANSPARENT}},ma=function(t){return(255&t)===0},mr=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},ca=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},dw=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},hw=function(t,e){var n=e.filter(sA);if(n.length===3){var r=n.map(dw),i=r[0],s=r[1],a=r[2];return ca(i,s,a,1)}if(n.length===4){var o=n.map(dw),i=o[0],s=o[1],a=o[2],A=o[3];return ca(i,s,a,A)}return 0};function Xh(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var pw=function(t,e){var n=e.filter(sA),r=n[0],i=n[1],s=n[2],a=n[3],o=(r.type===17?Li(r.number):Cd.parse(t,r))/(Math.PI*2),A=ur(i)?i.number/100:0,u=ur(s)?s.number/100:0,l=typeof a!="undefined"&&ur(a)?Pn(a,1):1;if(A===0)return ca(u*255,u*255,u*255,1);var c=u<=.5?u*(A+1):u+A-u*A,f=u*2-c,d=Xh(f,c,o+1/3),w=Xh(f,c,o),T=Xh(f,c,o-1/3);return ca(d*255,w*255,T*255,l)},PH={hsl:pw,hsla:pw,rgb:hw,rgba:hw},yu=function(t,e){return ga.parse(t,p3.create(e).parseComponentValue())},Ms={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},HH={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Ln(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},jH={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vd=function(t,e){var n=ga.parse(t,e[0]),r=e[1];return r&&ur(r)?{color:n,stop:r}:{color:n,stop:null}},gw=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=Or),r.stop===null&&(r.stop=la);for(var i=[],s=0,a=0;a<t.length;a++){var o=t[a].stop;if(o!==null){var A=Pn(o,e);A>s?i.push(A):i.push(s),s=A}else i.push(null)}for(var u=null,a=0;a<i.length;a++){var l=i[a];if(l===null)u===null&&(u=a);else if(u!==null){for(var c=a-u,f=i[u-1],d=(l-f)/(c+1),w=1;w<=c;w++)i[u+w-1]=d*w;u=null}}return t.map(function(T,D){var N=T.color;return{color:N,stop:Math.max(Math.min(1,i[D]/e),0)}})},KH=function(t,e,n){var r=e/2,i=n/2,s=Pn(t[0],e)-r,a=i-Pn(t[1],n);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},VH=function(t,e,n){var r=typeof t=="number"?t:KH(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),s=e/2,a=n/2,o=i/2,A=Math.sin(r-Math.PI/2)*o,u=Math.cos(r-Math.PI/2)*o;return[i,s-u,s+u,a-A,a+A]},Ki=function(t,e){return Math.sqrt(t*t+e*e)},mw=function(t,e,n,r,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(a,o){var A=o[0],u=o[1],l=Ki(n-A,r-u);return(i?l<a.optimumDistance:l>a.optimumDistance)?{optimumCorner:o,optimumDistance:l}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},zH=function(t,e,n,r,i){var s=0,a=0;switch(t.size){case 0:t.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),a=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(t.shape===0)s=a=Math.min(Ki(e,n),Ki(e,n-i),Ki(e-r,n),Ki(e-r,n-i));else if(t.shape===1){var o=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),A=mw(r,i,e,n,!0),u=A[0],l=A[1];s=Ki(u-e,(l-n)/o),a=o*s}break;case 1:t.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),a=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(t.shape===0)s=a=Math.max(Ki(e,n),Ki(e,n-i),Ki(e-r,n),Ki(e-r,n-i));else if(t.shape===1){var o=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r)),c=mw(r,i,e,n,!1),u=c[0],l=c[1];s=Ki(u-e,(l-n)/o),a=o*s}break}return Array.isArray(t.size)&&(s=Pn(t.size[0],r),a=t.size.length===2?Pn(t.size[1],i):s),[s,a]},qH=function(t,e){var n=Li(180),r=[];return ws(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){n=E3(i);return}else if(x3(a)){n=Cd.parse(t,a);return}}var o=vd(t,i);r.push(o)}),{angle:n,stops:r,type:1}},ic=function(t,e){var n=Li(180),r=[];return ws(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){n=E3(i);return}else if(x3(a)){n=(Cd.parse(t,a)+Li(270))%Li(360);return}}var o=vd(t,i);r.push(o)}),{angle:n,stops:r,type:1}},GH=function(t,e){var n=Li(180),r=[],i=1,s=0,a=3,o=[];return ws(e).forEach(function(A,u){var l=A[0];if(u===0){if(Ln(l)&&l.value==="linear"){i=1;return}else if(Ln(l)&&l.value==="radial"){i=2;return}}if(l.type===18){if(l.name==="from"){var c=ga.parse(t,l.values[0]);r.push({stop:Or,color:c})}else if(l.name==="to"){var c=ga.parse(t,l.values[0]);r.push({stop:la,color:c})}else if(l.name==="color-stop"){var f=l.values.filter(sA);if(f.length===2){var c=ga.parse(t,f[1]),d=f[0];gA(d)&&r.push({stop:{type:16,number:d.number*100,flags:d.flags},color:c})}}}}),i===1?{angle:(n+Li(180))%Li(360),stops:r,type:i}:{size:a,shape:s,stops:r,position:o,type:i}},C3="closest-side",v3="farthest-side",T3="closest-corner",S3="farthest-corner",I3="circle",k3="ellipse",F3="cover",N3="contain",WH=function(t,e){var n=0,r=3,i=[],s=[];return ws(e).forEach(function(a,o){var A=!0;if(o===0){var u=!1;A=a.reduce(function(c,f){if(u)if(Ln(f))switch(f.value){case"center":return s.push(gm),c;case"top":case"left":return s.push(Or),c;case"right":case"bottom":return s.push(la),c}else(ur(f)||wa(f))&&s.push(f);else if(Ln(f))switch(f.value){case I3:return n=0,!1;case k3:return n=1,!1;case"at":return u=!0,!1;case C3:return r=0,!1;case F3:case v3:return r=1,!1;case N3:case T3:return r=2,!1;case S3:return r=3,!1}else if(wa(f)||ur(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return c},A)}if(A){var l=vd(t,a);i.push(l)}}),{size:r,shape:n,stops:i,position:s,type:2}},sc=function(t,e){var n=0,r=3,i=[],s=[];return ws(e).forEach(function(a,o){var A=!0;if(o===0?A=a.reduce(function(l,c){if(Ln(c))switch(c.value){case"center":return s.push(gm),!1;case"top":case"left":return s.push(Or),!1;case"right":case"bottom":return s.push(la),!1}else if(ur(c)||wa(c))return s.push(c),!1;return l},A):o===1&&(A=a.reduce(function(l,c){if(Ln(c))switch(c.value){case I3:return n=0,!1;case k3:return n=1,!1;case N3:case C3:return r=0,!1;case v3:return r=1,!1;case T3:return r=2,!1;case F3:case S3:return r=3,!1}else if(wa(c)||ur(c))return Array.isArray(r)||(r=[]),r.push(c),!1;return l},A)),A){var u=vd(t,a);i.push(u)}}),{size:r,shape:n,stops:i,position:s,type:2}},$H=function(t){return t.type===1},YH=function(t){return t.type===2},mm={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=U3[e.name];if(typeof r=="undefined")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function XH(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!U3[t.name])}var U3={"linear-gradient":qH,"-moz-linear-gradient":ic,"-ms-linear-gradient":ic,"-o-linear-gradient":ic,"-webkit-linear-gradient":ic,"radial-gradient":WH,"-moz-radial-gradient":sc,"-ms-radial-gradient":sc,"-o-radial-gradient":sc,"-webkit-radial-gradient":sc,"-webkit-gradient":GH},JH={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return sA(r)&&XH(r)}).map(function(r){return mm.parse(t,r)})}},ZH={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Ln(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ej={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return ws(e).map(function(n){return n.filter(ur)}).map(m3)}},tj={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return ws(e).map(function(n){return n.filter(Ln).map(function(r){return r.value}).join(" ")}).map(nj)}},nj=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},qo;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(qo||(qo={}));var rj={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return ws(e).map(function(n){return n.filter(ij)})}},ij=function(t){return Ln(t)||ur(t)},Td=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},sj=Td("top"),aj=Td("right"),oj=Td("bottom"),Aj=Td("left"),Sd=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return m3(n.filter(ur))}}},uj=Sd("top-left"),lj=Sd("top-right"),cj=Sd("bottom-right"),fj=Sd("bottom-left"),Id=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},dj=Id("top"),hj=Id("right"),pj=Id("bottom"),gj=Id("left"),kd=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return Al(n)?n.number:0}}},mj=kd("top"),bj=kd("right"),wj=kd("bottom"),yj=kd("left"),Bj={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},xj={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Ej={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Ln).reduce(function(n,r){return n|Cj(r.value)},0)}},Cj=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},vj={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Tj={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Df;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Df||(Df={}));var Sj={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Df.STRICT;case"normal":default:return Df.NORMAL}}},Ij={name:"line-height",initialValue:"normal",prefix:!1,type:4},bw=function(t,e){return Ln(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:ur(t)?Pn(t,e):e},kj={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:mm.parse(t,e)}},Fj={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},F0={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Fd=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Nj=Fd("top"),Uj=Fd("right"),Lj=Fd("bottom"),Oj=Fd("left"),_j={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Ln).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Dj={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Nd=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Qj=Nd("top"),Rj=Nd("right"),Mj=Nd("bottom"),Pj=Nd("left"),Hj={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},jj={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Kj={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&k0(e[0],"none")?[]:ws(e).map(function(n){for(var r={color:Ms.TRANSPARENT,offsetX:Or,offsetY:Or,blur:Or},i=0,s=0;s<n.length;s++){var a=n[s];wa(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:r.blur=a,i++):r.color=ga.parse(t,a)}return r})}},Vj={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},zj={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=Wj[e.name];if(typeof n=="undefined")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},qj=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},Gj=function(t){var e=t.filter(function(A){return A.type===17}).map(function(A){return A.number}),n=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[n,r,i,s,a,o]:null},Wj={matrix:qj,matrix3d:Gj},ww={type:16,number:50,flags:ol},$j=[ww,ww],Yj={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(ur);return n.length!==2?$j:[n[0],n[1]]}},Xj={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Bu;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Bu||(Bu={}));var Jj={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Bu.BREAK_ALL;case"keep-all":return Bu.KEEP_ALL;case"normal":default:return Bu.NORMAL}}},Zj={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(gA(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},L3={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},eK={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return gA(e)?e.number:1}},tK={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},nK={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Ln).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},rK={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},iK={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},sK={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(gA(e))return e.number;if(Ln(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},aK={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Ln).map(function(n){return n.value})}},oK={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},hr=function(t,e){return(t&e)!==0},AK={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},uK={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=e.filter(g3),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var A=o&&gA(o)?o.number:1;r.push({counter:a.value,increment:A})}}return r}},lK={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(g3),i=0;i<r.length;i++){var s=r[i],a=r[i+1];if(Ln(s)&&s.value!=="none"){var o=a&&gA(a)?a.number:0;n.push({counter:s.value,reset:o})}}return n}},cK={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Al).map(function(n){return L3.parse(t,n)})}},fK={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],i=e.filter(RH);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;r.push({open:a,close:o})}return r}},yw=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},dK={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&k0(e[0],"none")?[]:ws(e).map(function(n){for(var r={color:255,offsetX:Or,offsetY:Or,blur:Or,spread:Or,inset:!1},i=0,s=0;s<n.length;s++){var a=n[s];k0(a,"inset")?r.inset=!0:wa(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:i===2?r.blur=a:r.spread=a,i++):r.color=ga.parse(t,a)}return r})}},hK={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(Ln).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},pK={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},gK={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Al(e)?e.number:0}},mK=function(){function t(e,n){var r,i;this.animationDuration=kt(e,cK,n.animationDuration),this.backgroundClip=kt(e,HH,n.backgroundClip),this.backgroundColor=kt(e,jH,n.backgroundColor),this.backgroundImage=kt(e,JH,n.backgroundImage),this.backgroundOrigin=kt(e,ZH,n.backgroundOrigin),this.backgroundPosition=kt(e,ej,n.backgroundPosition),this.backgroundRepeat=kt(e,tj,n.backgroundRepeat),this.backgroundSize=kt(e,rj,n.backgroundSize),this.borderTopColor=kt(e,sj,n.borderTopColor),this.borderRightColor=kt(e,aj,n.borderRightColor),this.borderBottomColor=kt(e,oj,n.borderBottomColor),this.borderLeftColor=kt(e,Aj,n.borderLeftColor),this.borderTopLeftRadius=kt(e,uj,n.borderTopLeftRadius),this.borderTopRightRadius=kt(e,lj,n.borderTopRightRadius),this.borderBottomRightRadius=kt(e,cj,n.borderBottomRightRadius),this.borderBottomLeftRadius=kt(e,fj,n.borderBottomLeftRadius),this.borderTopStyle=kt(e,dj,n.borderTopStyle),this.borderRightStyle=kt(e,hj,n.borderRightStyle),this.borderBottomStyle=kt(e,pj,n.borderBottomStyle),this.borderLeftStyle=kt(e,gj,n.borderLeftStyle),this.borderTopWidth=kt(e,mj,n.borderTopWidth),this.borderRightWidth=kt(e,bj,n.borderRightWidth),this.borderBottomWidth=kt(e,wj,n.borderBottomWidth),this.borderLeftWidth=kt(e,yj,n.borderLeftWidth),this.boxShadow=kt(e,dK,n.boxShadow),this.color=kt(e,Bj,n.color),this.direction=kt(e,xj,n.direction),this.display=kt(e,Ej,n.display),this.float=kt(e,vj,n.cssFloat),this.fontFamily=kt(e,rK,n.fontFamily),this.fontSize=kt(e,iK,n.fontSize),this.fontStyle=kt(e,oK,n.fontStyle),this.fontVariant=kt(e,aK,n.fontVariant),this.fontWeight=kt(e,sK,n.fontWeight),this.letterSpacing=kt(e,Tj,n.letterSpacing),this.lineBreak=kt(e,Sj,n.lineBreak),this.lineHeight=kt(e,Ij,n.lineHeight),this.listStyleImage=kt(e,kj,n.listStyleImage),this.listStylePosition=kt(e,Fj,n.listStylePosition),this.listStyleType=kt(e,F0,n.listStyleType),this.marginTop=kt(e,Nj,n.marginTop),this.marginRight=kt(e,Uj,n.marginRight),this.marginBottom=kt(e,Lj,n.marginBottom),this.marginLeft=kt(e,Oj,n.marginLeft),this.opacity=kt(e,eK,n.opacity);var s=kt(e,_j,n.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=kt(e,Dj,n.overflowWrap),this.paddingTop=kt(e,Qj,n.paddingTop),this.paddingRight=kt(e,Rj,n.paddingRight),this.paddingBottom=kt(e,Mj,n.paddingBottom),this.paddingLeft=kt(e,Pj,n.paddingLeft),this.paintOrder=kt(e,hK,n.paintOrder),this.position=kt(e,jj,n.position),this.textAlign=kt(e,Hj,n.textAlign),this.textDecorationColor=kt(e,tK,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=kt(e,nK,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=kt(e,Kj,n.textShadow),this.textTransform=kt(e,Vj,n.textTransform),this.transform=kt(e,zj,n.transform),this.transformOrigin=kt(e,Yj,n.transformOrigin),this.visibility=kt(e,Xj,n.visibility),this.webkitTextStrokeColor=kt(e,pK,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=kt(e,gK,n.webkitTextStrokeWidth),this.wordBreak=kt(e,Jj,n.wordBreak),this.zIndex=kt(e,Zj,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return ma(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return hr(this.display,4)||hr(this.display,33554432)||hr(this.display,268435456)||hr(this.display,536870912)||hr(this.display,67108864)||hr(this.display,134217728)},t}(),bK=function(){function t(e,n){this.content=kt(e,AK,n.content),this.quotes=kt(e,fK,n.quotes)}return t}(),Bw=function(){function t(e,n){this.counterIncrement=kt(e,uK,n.counterIncrement),this.counterReset=kt(e,lK,n.counterReset)}return t}(),kt=function(t,e,n){var r=new h3,i=n!==null&&typeof n!="undefined"?n.toString():e.initialValue;r.write(i);var s=new p3(r.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(t,Ln(a)?a.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Cd.parse(t,s.parseComponentValue());case"color":return ga.parse(t,s.parseComponentValue());case"image":return mm.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return wa(o)?o:Or;case"length-percentage":var A=s.parseComponentValue();return ur(A)?A:Or;case"time":return L3.parse(t,s.parseComponentValue())}break}},wK="data-html2canvas-debug",yK=function(t){var e=t.getAttribute(wK);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},N0=function(t,e){var n=yK(t);return n===1||e===n},ys=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,N0(n,3))debugger;this.styles=new mK(e,window.getComputedStyle(n,null)),O0(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=xd(this.context,n),N0(n,4)&&(this.flags|=16)}return t}(),BK="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",xw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$A=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var ac=0;ac<xw.length;ac++)$A[xw.charCodeAt(ac)]=ac;var xK=function(t){var e=t.length*.75,n=t.length,r,i=0,s,a,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(e):new Array(e),l=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)s=$A[t.charCodeAt(r)],a=$A[t.charCodeAt(r+1)],o=$A[t.charCodeAt(r+2)],A=$A[t.charCodeAt(r+3)],l[i++]=s<<2|a>>4,l[i++]=(a&15)<<4|o>>2,l[i++]=(o&3)<<6|A&63;return u},EK=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},CK=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},no=5,bm=11,Jh=2,vK=bm-no,O3=65536>>no,TK=1<<no,Zh=TK-1,SK=1024>>no,IK=O3+SK,kK=IK,FK=32,NK=kK+FK,UK=65536>>bm,LK=1<<vK,OK=LK-1,Ew=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},_K=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},DK=function(t,e){var n=xK(t),r=Array.isArray(n)?CK(n):new Uint32Array(n),i=Array.isArray(n)?EK(n):new Uint16Array(n),s=24,a=Ew(i,s/2,r[4]/2),o=r[5]===2?Ew(i,(s+r[4])/2):_K(r,Math.ceil((s+r[4])/4));return new QK(r[0],r[1],r[2],r[3],a,o)},QK=function(){function t(e,n,r,i,s,a){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>no],n=(n<<Jh)+(e&Zh),this.data[n];if(e<=65535)return n=this.index[O3+(e-55296>>no)],n=(n<<Jh)+(e&Zh),this.data[n];if(e<this.highStart)return n=NK-UK+(e>>bm),n=this.index[n],n+=e>>no&OK,n=this.index[n],n=(n<<Jh)+(e&Zh),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Cw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",RK=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var oc=0;oc<Cw.length;oc++)RK[Cw.charCodeAt(oc)]=oc;var MK=1,ep=2,tp=3,vw=4,Tw=5,PK=7,Sw=8,np=9,rp=10,Iw=11,kw=12,Fw=13,Nw=14,ip=15,HK=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},jK=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var a=t[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},KK=DK(BK),Si="",sp="",VK=function(t){return KK.get(t)},zK=function(t,e,n){var r=n-2,i=e[r],s=e[n-1],a=e[n];if(s===ep&&a===tp)return Si;if(s===ep||s===tp||s===vw||a===ep||a===tp||a===vw)return sp;if(s===Sw&&[Sw,np,Iw,kw].indexOf(a)!==-1||(s===Iw||s===np)&&(a===np||a===rp)||(s===kw||s===rp)&&a===rp||a===Fw||a===Tw||a===PK||s===MK)return Si;if(s===Fw&&a===Nw){for(;i===Tw;)i=e[--r];if(i===Nw)return Si}if(s===ip&&a===ip){for(var o=0;i===ip;)o++,i=e[--r];if(o%2===0)return Si}return sp},qK=function(t){var e=HK(t),n=e.length,r=0,i=0,s=e.map(VK);return{next:function(){if(r>=n)return{done:!0,value:null};for(var a=Si;r<n&&(a=zK(e,s,++r))===Si;);if(a!==Si||r===n){var o=jK.apply(null,e.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},GK=function(t){for(var e=qK(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},WK=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(r),s===e)return!0}}return!1},$K=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=Ed(r.data).map(function(A){return rr(A)}),s=0,a={},o=i.every(function(A,u){n.setStart(r,s),n.setEnd(r,s+A.length);var l=n.getBoundingClientRect();s+=A.length;var c=l.x>a.x||l.y>a.y;return a=l,u===0?!0:c});return t.body.removeChild(e),o},YK=function(){return typeof new Image().crossOrigin!="undefined"},XK=function(){return typeof new XMLHttpRequest().responseType=="string"},JK=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch(i){return!1}return!0},Uw=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},ZK=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,s=e.toDataURL();i.src=s;var a=U0(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),Lw(a).then(function(o){r.drawImage(o,0,0);var A=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var u=t.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=n+"px",Uw(A)?Lw(U0(n,n,0,0,u)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),Uw(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},U0=function(t,e,n,r,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},Lw=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Fr={get SUPPORT_RANGE_BOUNDS(){var t=WK(document);return Object.defineProperty(Fr,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Fr.SUPPORT_RANGE_BOUNDS&&$K(document);return Object.defineProperty(Fr,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=JK(document);return Object.defineProperty(Fr,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?ZK(document):Promise.resolve(!1);return Object.defineProperty(Fr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=YK();return Object.defineProperty(Fr,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=XK();return Object.defineProperty(Fr,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Fr,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl!="undefined"&&Intl.Segmenter);return Object.defineProperty(Fr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},xu=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),eV=function(t,e,n,r){var i=rV(e,n),s=[],a=0;return i.forEach(function(o){if(n.textDecorationLine.length||o.trim().length>0)if(Fr.SUPPORT_RANGE_BOUNDS){var A=Ow(r,a,o.length).getClientRects();if(A.length>1){var u=wm(o),l=0;u.forEach(function(f){s.push(new xu(f,Hs.fromDOMRectList(t,Ow(r,l+a,f.length).getClientRects()))),l+=f.length})}else s.push(new xu(o,Hs.fromDOMRectList(t,A)))}else{var c=r.splitText(o.length);s.push(new xu(o,tV(t,r))),r=c}else Fr.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));a+=o.length}),s},tV=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=xd(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return Hs.EMPTY},Ow=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},wm=function(t){if(Fr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return GK(t)},nV=function(t,e){if(Fr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return sV(t,e)},rV=function(t,e){return e.letterSpacing!==0?wm(t):nV(t,e)},iV=[32,160,4961,65792,65793,4153,4241],sV=function(t,e){for(var n=UP(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var a=i.value.slice(),o=Ed(a),A="";o.forEach(function(u){iV.indexOf(u)===-1?A+=rr(u):(A.length&&r.push(A),r.push(rr(u)),A="")}),A.length&&r.push(A)}};!(i=n.next()).done;)s();return r},aV=function(){function t(e,n,r){this.text=oV(n.data,r.textTransform),this.textBounds=eV(e,this.text,r,n)}return t}(),oV=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(AV,uV);case 2:return t.toUpperCase();default:return t}},AV=/(^|\s|:|-|\(|\))([a-z])/g,uV=function(t,e,n){return t.length>0?e+n.toUpperCase():t},_3=function(t){Xi(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e}(ys),D3=function(t){Xi(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e}(ys),Q3=function(t){Xi(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=new XMLSerializer,a=xd(n,r);return r.setAttribute("width",a.width+"px"),r.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(ys),R3=function(t){Xi(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(ys),L0=function(t){Xi(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e}(ys),lV=[{type:15,flags:0,unit:"px",number:3}],cV=[{type:16,flags:0,number:50}],fV=function(t){return t.width>t.height?new Hs(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Hs(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},dV=function(t){var e=t.type===hV?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Qf="checkbox",Rf="radio",hV="password",_w=707406591,ym=function(t){Xi(e,t);function e(n,r){var i=t.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=dV(r),(i.type===Qf||i.type===Rf)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=fV(i.bounds)),i.type){case Qf:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=lV;break;case Rf:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=cV;break}return i}return e}(ys),M3=function(t){Xi(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(ys),P3=function(t){Xi(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(ys),H3=function(t){Xi(e,t);function e(n,r){var i=t.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=K3(n,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?yu(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Ms.TRANSPARENT,a=r.contentWindow.document.body?yu(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):Ms.TRANSPARENT;i.backgroundColor=ma(s)?ma(a)?i.styles.backgroundColor:a:s}}catch(o){}return i}return e}(ys),pV=["OL","UL","MENU"],Fc=function(t,e,n,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,V3(i)&&i.data.trim().length>0)n.textNodes.push(new aV(t,i,n.styles));else if(Ho(i))if(W3(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return Fc(t,o,n,r)});else{var a=j3(t,i);a.styles.isVisible()&&(gV(i,a,r)?a.flags|=4:mV(a.styles)&&(a.flags|=2),pV.indexOf(i.tagName)!==-1&&(a.flags|=8),n.elements.push(a),i.slot,i.shadowRoot?Fc(t,i.shadowRoot,a,r):!Mf(i)&&!z3(i)&&!Pf(i)&&Fc(t,i,a,r))}},j3=function(t,e){return _0(e)?new _3(t,e):q3(e)?new D3(t,e):z3(e)?new Q3(t,e):bV(e)?new R3(t,e):wV(e)?new L0(t,e):yV(e)?new ym(t,e):Pf(e)?new M3(t,e):Mf(e)?new P3(t,e):G3(e)?new H3(t,e):new ys(t,e)},K3=function(t,e){var n=j3(t,e);return n.flags|=4,Fc(t,e,n,n),n},gV=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Bm(t)&&n.styles.isTransparent()},mV=function(t){return t.isPositioned()||t.isFloating()},V3=function(t){return t.nodeType===Node.TEXT_NODE},Ho=function(t){return t.nodeType===Node.ELEMENT_NODE},O0=function(t){return Ho(t)&&typeof t.style!="undefined"&&!Nc(t)},Nc=function(t){return typeof t.className=="object"},bV=function(t){return t.tagName==="LI"},wV=function(t){return t.tagName==="OL"},yV=function(t){return t.tagName==="INPUT"},BV=function(t){return t.tagName==="HTML"},z3=function(t){return t.tagName==="svg"},Bm=function(t){return t.tagName==="BODY"},q3=function(t){return t.tagName==="CANVAS"},Dw=function(t){return t.tagName==="VIDEO"},_0=function(t){return t.tagName==="IMG"},G3=function(t){return t.tagName==="IFRAME"},Qw=function(t){return t.tagName==="STYLE"},xV=function(t){return t.tagName==="SCRIPT"},Mf=function(t){return t.tagName==="TEXTAREA"},Pf=function(t){return t.tagName==="SELECT"},W3=function(t){return t.tagName==="SLOT"},Rw=function(t){return t.tagName.indexOf("-")>0},EV=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(o){var A=n.counters[o.counter];A&&o.increment!==0&&(s=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var A=n.counters[o.counter];a.push(o.counter),A||(A=n.counters[o.counter]=[]),A.push(o.reset)}),a},t}(),Mw={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Pw={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},CV={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},vV={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},To=function(t,e,n,r,i,s){return t<e||t>n?Vu(t,i,s.length>0):r.integers.reduce(function(a,o,A){for(;t>=o;)t-=o,a+=r.values[A];return a},"")+s},$3=function(t,e,n,r){var i="";do n||t--,i=r(t)+i,t/=e;while(t*e>=e);return i},nr=function(t,e,n,r,i){var s=n-e+1;return(t<0?"-":"")+($3(Math.abs(t),s,r,function(a){return rr(Math.floor(a%s)+e)})+i)},Ua=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return $3(Math.abs(t),r,!1,function(i){return e[Math.floor(i%r)]})+n},_o=1,Ys=2,Xs=4,YA=8,Is=function(t,e,n,r,i,s){if(t<-9999||t>9999)return Vu(t,4,i.length>0);var a=Math.abs(t),o=i;if(a===0)return e[0]+o;for(var A=0;a>0&&A<=4;A++){var u=a%10;u===0&&hr(s,_o)&&o!==""?o=e[u]+o:u>1||u===1&&A===0||u===1&&A===1&&hr(s,Ys)||u===1&&A===1&&hr(s,Xs)&&t>100||u===1&&A>1&&hr(s,YA)?o=e[u]+(A>0?n[A-1]:"")+o:u===1&&A>0&&(o=n[A-1]+o),a=Math.floor(a/10)}return(t<0?r:"")+o},Hw="",jw="",Kw="",ap="",Vu=function(t,e,n){var r=n?". ":"",i=n?"":"",s=n?", ":"",a=n?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=nr(t,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Ua(t,"",i);case 6:return To(t,1,3999,Mw,3,r).toLowerCase();case 7:return To(t,1,3999,Mw,3,r);case 8:return nr(t,945,969,!1,r);case 9:return nr(t,97,122,!1,r);case 10:return nr(t,65,90,!1,r);case 11:return nr(t,1632,1641,!0,r);case 12:case 49:return To(t,1,9999,Pw,3,r);case 35:return To(t,1,9999,Pw,3,r).toLowerCase();case 13:return nr(t,2534,2543,!0,r);case 14:case 30:return nr(t,6112,6121,!0,r);case 15:return Ua(t,"",i);case 16:return Ua(t,"",i);case 17:case 48:return Is(t,"",Hw,"",i,Ys|Xs|YA);case 47:return Is(t,"",jw,"",i,_o|Ys|Xs|YA);case 42:return Is(t,"",Hw,"",i,Ys|Xs|YA);case 41:return Is(t,"",jw,"",i,_o|Ys|Xs|YA);case 26:return Is(t,"","",Kw,i,0);case 25:return Is(t,"","",Kw,i,_o|Ys|Xs);case 31:return Is(t,"","",ap,s,_o|Ys|Xs);case 33:return Is(t,"","",ap,s,0);case 32:return Is(t,"","",ap,s,_o|Ys|Xs);case 18:return nr(t,2406,2415,!0,r);case 20:return To(t,1,19999,vV,3,r);case 21:return nr(t,2790,2799,!0,r);case 22:return nr(t,2662,2671,!0,r);case 22:return To(t,1,10999,CV,3,r);case 23:return Ua(t,"");case 24:return Ua(t,"");case 27:return nr(t,3302,3311,!0,r);case 28:return Ua(t,"",i);case 29:return Ua(t,"",i);case 34:return nr(t,3792,3801,!0,r);case 37:return nr(t,6160,6169,!0,r);case 38:return nr(t,4160,4169,!0,r);case 39:return nr(t,2918,2927,!0,r);case 40:return nr(t,1776,1785,!0,r);case 43:return nr(t,3046,3055,!0,r);case 44:return nr(t,3174,3183,!0,r);case 45:return nr(t,3664,3673,!0,r);case 46:return nr(t,3872,3881,!0,r);case 3:default:return nr(t,48,57,!0,r)}},Y3="data-html2canvas-ignore",Vw=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new EV,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,i=TV(e,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,A=o.document,u=kV(i).then(function(){return Jr(r,void 0,void 0,function(){var l,c;return Qr(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(LV),o&&(o.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==n.top||o.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-n.left,o.scrollY-n.top,0,0))),l=this.options.onclone,c=this.clonedReferenceElement,typeof c=="undefined"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,IV(A)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof l=="function"?[2,Promise.resolve().then(function(){return l(A,c)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(NV(document.doctype)+"<html></html>"),UV(this.referenceElement.ownerDocument,s,a),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),u},t.prototype.createElementClone=function(e){if(N0(e,2))debugger;if(q3(e))return this.createCanvasClone(e);if(Dw(e))return this.createVideoClone(e);if(Qw(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return _0(n)&&(_0(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),Rw(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return op(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch(u){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(o){var A=o.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch(u){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch(s){this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,n,r){(!Ho(n)||!xV(n)&&!n.hasAttribute(Y3)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!Ho(n)||!Qw(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Ho(s)&&W3(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(n,o,r)})}else this.appendChildNode(n,s,r)},t.prototype.cloneNode=function(e,n){if(V3(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&Ho(e)&&(O0(e)||Nc(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),a=r.getComputedStyle(e,":before"),o=r.getComputedStyle(e,":after");this.referenceElement===e&&O0(i)&&(this.clonedReferenceElement=i),Bm(i)&&DV(i);var A=this.counters.parse(new Bw(this.context,s)),u=this.resolvePseudoContent(e,i,a,Eu.BEFORE);Rw(e)&&(n=!0),Dw(e)||this.cloneChildNodes(e,i,n),u&&i.insertBefore(u,i.firstChild);var l=this.resolvePseudoContent(e,i,o,Eu.AFTER);return l&&i.appendChild(l),this.counters.pop(A),(s&&(this.options.copyStyles||Nc(e))&&!G3(e)||n)&&op(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(Mf(e)||Pf(e))&&(Mf(i)||Pf(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,i){var s=this;if(r){var a=r.content,o=n.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||r.display==="none")){this.counters.parse(new Bw(this.context,r));var A=new bK(this.context,r),u=o.createElement("html2canvaspseudoelement");op(r,u),A.content.forEach(function(c){if(c.type===0)u.appendChild(o.createTextNode(c.value));else if(c.type===22){var f=o.createElement("img");f.src=c.value,f.style.opacity="1",u.appendChild(f)}else if(c.type===18){if(c.name==="attr"){var d=c.values.filter(Ln);d.length&&u.appendChild(o.createTextNode(e.getAttribute(d[0].value)||""))}else if(c.name==="counter"){var w=c.values.filter(sA),T=w[0],D=w[1];if(T&&Ln(T)){var N=s.counters.getCounterValue(T.value),M=D&&Ln(D)?F0.parse(s.context,D.value):3;u.appendChild(o.createTextNode(Vu(N,M,!1)))}}else if(c.name==="counters"){var q=c.values.filter(sA),T=q[0],j=q[1],D=q[2];if(T&&Ln(T)){var J=s.counters.getCounterValues(T.value),H=D&&Ln(D)?F0.parse(s.context,D.value):3,ve=j&&j.type===0?j.value:"",De=J.map(function(qe){return Vu(qe,H,!1)}).join(ve);u.appendChild(o.createTextNode(De))}}}else if(c.type===20)switch(c.value){case"open-quote":u.appendChild(o.createTextNode(yw(A.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(yw(A.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(c.value))}}),u.className=D0+" "+Q0;var l=i===Eu.BEFORE?" "+D0:" "+Q0;return Nc(n)?n.className.baseValue+=l:n.className+=l,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Eu;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Eu||(Eu={}));var TV=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(Y3,"true"),t.body.appendChild(n),n},SV=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},IV=function(t){return Promise.all([].slice.call(t.images,0).map(SV))},kV=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},FV=["all","d","content"],op=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);FV.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},NV=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},UV=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},LV=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},OV=":before",_V=":after",D0="___html2canvas___pseudoelement_before",Q0="___html2canvas___pseudoelement_after",zw=`{
    content: "" !important;
    display: none !important;
}`,DV=function(t){QV(t,"."+D0+OV+zw+`
         .`+Q0+_V+zw)},QV=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},X3=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),RV=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(up(e)||jV(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Jr(this,void 0,void 0,function(){var n,r,i,s,a=this;return Qr(this,function(o){switch(o.label){case 0:return n=X3.isSameOrigin(e),r=!Ap(e)&&this._options.useCORS===!0&&Fr.SUPPORT_CORS_IMAGES&&!n,i=!Ap(e)&&!n&&!up(e)&&typeof this._options.proxy=="string"&&Fr.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!Ap(e)&&!up(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,u){var l=new Image;l.onload=function(){return A(l)},l.onerror=u,(KV(s)||r)&&(l.crossOrigin="anonymous"),l.src=s,l.complete===!0&&setTimeout(function(){return A(l)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]!="undefined"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=Fr.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(o==="text")s(A.response);else{var c=new FileReader;c.addEventListener("load",function(){return s(c.result)},!1),c.addEventListener("error",function(f){return a(f)},!1),c.readAsDataURL(A.response)}else a("Failed to proxy resource "+i+" with status code "+A.status)},A.onerror=a;var u=r.indexOf("?")>-1?"&":"?";if(A.open("GET",""+r+u+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=o),n._options.imageTimeout){var l=n._options.imageTimeout;A.timeout=l,A.ontimeout=function(){return a("Timed out ("+l+"ms) proxying "+i)}}A.send()})},t}(),MV=/^data:image\/svg\+xml/i,PV=/^data:image\/.*;base64,/i,HV=/^data:image\/.*/i,jV=function(t){return Fr.SUPPORT_SVG_DRAWING||!VV(t)},Ap=function(t){return HV.test(t)},KV=function(t){return PV.test(t)},up=function(t){return t.substr(0,4)==="blob"},VV=function(t){return t.substr(-3).toLowerCase()==="svg"||MV.test(t)},xt=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),So=function(t,e,n){return new xt(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},Ac=function(){function t(e,n,r,i){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=i}return t.prototype.subdivide=function(e,n){var r=So(this.start,this.startControl,e),i=So(this.startControl,this.endControl,e),s=So(this.endControl,this.end,e),a=So(r,i,e),o=So(i,s,e),A=So(a,o,e);return n?new t(this.start,r,a,A):new t(A,o,s,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Ni=function(t){return t.type===1},zV=function(){function t(e){var n=e.styles,r=e.bounds,i=WA(n.borderTopLeftRadius,r.width,r.height),s=i[0],a=i[1],o=WA(n.borderTopRightRadius,r.width,r.height),A=o[0],u=o[1],l=WA(n.borderBottomRightRadius,r.width,r.height),c=l[0],f=l[1],d=WA(n.borderBottomLeftRadius,r.width,r.height),w=d[0],T=d[1],D=[];D.push((s+A)/r.width),D.push((w+c)/r.width),D.push((a+T)/r.height),D.push((u+f)/r.height);var N=Math.max.apply(Math,D);N>1&&(s/=N,a/=N,A/=N,u/=N,c/=N,f/=N,w/=N,T/=N);var M=r.width-A,q=r.height-f,j=r.width-c,J=r.height-T,H=n.borderTopWidth,ve=n.borderRightWidth,De=n.borderBottomWidth,Fe=n.borderLeftWidth,me=Pn(n.paddingTop,e.bounds.width),qe=Pn(n.paddingRight,e.bounds.width),Me=Pn(n.paddingBottom,e.bounds.width),Ke=Pn(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?Vn(r.left+Fe/3,r.top+H/3,s-Fe/3,a-H/3,Sn.TOP_LEFT):new xt(r.left+Fe/3,r.top+H/3),this.topRightBorderDoubleOuterBox=s>0||a>0?Vn(r.left+M,r.top+H/3,A-ve/3,u-H/3,Sn.TOP_RIGHT):new xt(r.left+r.width-ve/3,r.top+H/3),this.bottomRightBorderDoubleOuterBox=c>0||f>0?Vn(r.left+j,r.top+q,c-ve/3,f-De/3,Sn.BOTTOM_RIGHT):new xt(r.left+r.width-ve/3,r.top+r.height-De/3),this.bottomLeftBorderDoubleOuterBox=w>0||T>0?Vn(r.left+Fe/3,r.top+J,w-Fe/3,T-De/3,Sn.BOTTOM_LEFT):new xt(r.left+Fe/3,r.top+r.height-De/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?Vn(r.left+Fe*2/3,r.top+H*2/3,s-Fe*2/3,a-H*2/3,Sn.TOP_LEFT):new xt(r.left+Fe*2/3,r.top+H*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?Vn(r.left+M,r.top+H*2/3,A-ve*2/3,u-H*2/3,Sn.TOP_RIGHT):new xt(r.left+r.width-ve*2/3,r.top+H*2/3),this.bottomRightBorderDoubleInnerBox=c>0||f>0?Vn(r.left+j,r.top+q,c-ve*2/3,f-De*2/3,Sn.BOTTOM_RIGHT):new xt(r.left+r.width-ve*2/3,r.top+r.height-De*2/3),this.bottomLeftBorderDoubleInnerBox=w>0||T>0?Vn(r.left+Fe*2/3,r.top+J,w-Fe*2/3,T-De*2/3,Sn.BOTTOM_LEFT):new xt(r.left+Fe*2/3,r.top+r.height-De*2/3),this.topLeftBorderStroke=s>0||a>0?Vn(r.left+Fe/2,r.top+H/2,s-Fe/2,a-H/2,Sn.TOP_LEFT):new xt(r.left+Fe/2,r.top+H/2),this.topRightBorderStroke=s>0||a>0?Vn(r.left+M,r.top+H/2,A-ve/2,u-H/2,Sn.TOP_RIGHT):new xt(r.left+r.width-ve/2,r.top+H/2),this.bottomRightBorderStroke=c>0||f>0?Vn(r.left+j,r.top+q,c-ve/2,f-De/2,Sn.BOTTOM_RIGHT):new xt(r.left+r.width-ve/2,r.top+r.height-De/2),this.bottomLeftBorderStroke=w>0||T>0?Vn(r.left+Fe/2,r.top+J,w-Fe/2,T-De/2,Sn.BOTTOM_LEFT):new xt(r.left+Fe/2,r.top+r.height-De/2),this.topLeftBorderBox=s>0||a>0?Vn(r.left,r.top,s,a,Sn.TOP_LEFT):new xt(r.left,r.top),this.topRightBorderBox=A>0||u>0?Vn(r.left+M,r.top,A,u,Sn.TOP_RIGHT):new xt(r.left+r.width,r.top),this.bottomRightBorderBox=c>0||f>0?Vn(r.left+j,r.top+q,c,f,Sn.BOTTOM_RIGHT):new xt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=w>0||T>0?Vn(r.left,r.top+J,w,T,Sn.BOTTOM_LEFT):new xt(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||a>0?Vn(r.left+Fe,r.top+H,Math.max(0,s-Fe),Math.max(0,a-H),Sn.TOP_LEFT):new xt(r.left+Fe,r.top+H),this.topRightPaddingBox=A>0||u>0?Vn(r.left+Math.min(M,r.width-ve),r.top+H,M>r.width+ve?0:Math.max(0,A-ve),Math.max(0,u-H),Sn.TOP_RIGHT):new xt(r.left+r.width-ve,r.top+H),this.bottomRightPaddingBox=c>0||f>0?Vn(r.left+Math.min(j,r.width-Fe),r.top+Math.min(q,r.height-De),Math.max(0,c-ve),Math.max(0,f-De),Sn.BOTTOM_RIGHT):new xt(r.left+r.width-ve,r.top+r.height-De),this.bottomLeftPaddingBox=w>0||T>0?Vn(r.left+Fe,r.top+Math.min(J,r.height-De),Math.max(0,w-Fe),Math.max(0,T-De),Sn.BOTTOM_LEFT):new xt(r.left+Fe,r.top+r.height-De),this.topLeftContentBox=s>0||a>0?Vn(r.left+Fe+Ke,r.top+H+me,Math.max(0,s-(Fe+Ke)),Math.max(0,a-(H+me)),Sn.TOP_LEFT):new xt(r.left+Fe+Ke,r.top+H+me),this.topRightContentBox=A>0||u>0?Vn(r.left+Math.min(M,r.width+Fe+Ke),r.top+H+me,M>r.width+Fe+Ke?0:A-Fe+Ke,u-(H+me),Sn.TOP_RIGHT):new xt(r.left+r.width-(ve+qe),r.top+H+me),this.bottomRightContentBox=c>0||f>0?Vn(r.left+Math.min(j,r.width-(Fe+Ke)),r.top+Math.min(q,r.height+H+me),Math.max(0,c-(ve+qe)),f-(De+Me),Sn.BOTTOM_RIGHT):new xt(r.left+r.width-(ve+qe),r.top+r.height-(De+Me)),this.bottomLeftContentBox=w>0||T>0?Vn(r.left+Fe+Ke,r.top+J,Math.max(0,w-(Fe+Ke)),T-(De+Me),Sn.BOTTOM_LEFT):new xt(r.left+Fe+Ke,r.top+r.height-(De+Me))}return t}(),Sn;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Sn||(Sn={}));var Vn=function(t,e,n,r,i){var s=4*((Math.sqrt(2)-1)/3),a=n*s,o=r*s,A=t+n,u=e+r;switch(i){case Sn.TOP_LEFT:return new Ac(new xt(t,u),new xt(t,u-o),new xt(A-a,e),new xt(A,e));case Sn.TOP_RIGHT:return new Ac(new xt(t,e),new xt(t+a,e),new xt(A,u-o),new xt(A,u));case Sn.BOTTOM_RIGHT:return new Ac(new xt(A,e),new xt(A,e+o),new xt(t+a,u),new xt(t,u));case Sn.BOTTOM_LEFT:default:return new Ac(new xt(A,u),new xt(A-a,u),new xt(t,e+o),new xt(t,e))}},Hf=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},qV=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},jf=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},GV=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),uc=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),WV=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),$V=function(t){return t.type===0},J3=function(t){return t.type===1},YV=function(t){return t.type===2},qw=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},XV=function(t,e,n,r,i){return t.map(function(s,a){switch(a){case 0:return s.add(e,n);case 1:return s.add(e+r,n);case 2:return s.add(e+r,n+i);case 3:return s.add(e,n+i)}return s})},Z3=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),e4=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new zV(this.container),this.container.styles.opacity<1&&this.effects.push(new WV(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new GV(r,i,s))}if(this.container.styles.overflowX!==0){var a=Hf(this.curves),o=jf(this.curves);qw(a,o)?this.effects.push(new uc(a,6)):(this.effects.push(new uc(a,2)),this.effects.push(new uc(o,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(A){return!J3(A)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var a=Hf(r.curves),o=jf(r.curves);qw(a,o)||i.unshift(new uc(o,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(A){return hr(A.target,e)})},t}(),R0=function(t,e,n,r){t.container.elements.forEach(function(i){var s=hr(i.flags,4),a=hr(i.flags,2),o=new e4(i,t);hr(i.styles.display,2048)&&r.push(o);var A=hr(i.flags,8)?[]:r;if(s||a){var u=s||i.styles.isPositioned()?n:e,l=new Z3(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var c=i.styles.zIndex.order;if(c<0){var f=0;u.negativeZIndex.some(function(w,T){return c>w.element.container.styles.zIndex.order?(f=T,!1):f>0}),u.negativeZIndex.splice(f,0,l)}else if(c>0){var d=0;u.positiveZIndex.some(function(w,T){return c>=w.element.container.styles.zIndex.order?(d=T+1,!1):d>0}),u.positiveZIndex.splice(d,0,l)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else i.styles.isFloating()?u.nonPositionedFloats.push(l):u.nonPositionedInlineLevel.push(l);R0(o,l,s?l:n,A)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),R0(o,e,n,A);hr(i.flags,8)&&t4(i,A)})},t4=function(t,e){for(var n=t instanceof L0?t.start:1,r=t instanceof L0?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof R3&&typeof s.container.value=="number"&&s.container.value!==0&&(n=s.container.value),s.listValue=Vu(n,s.container.styles.listStyleType,!0),n+=r?-1:1}},JV=function(t){var e=new e4(t,null),n=new Z3(e),r=[];return R0(e,n,n,r),t4(e.container,r),n},Gw=function(t,e){switch(e){case 0:return Oi(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Oi(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Oi(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Oi(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},ZV=function(t,e){switch(e){case 0:return Oi(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Oi(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Oi(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Oi(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},ez=function(t,e){switch(e){case 0:return Oi(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Oi(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Oi(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Oi(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},tz=function(t,e){switch(e){case 0:return lc(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return lc(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return lc(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return lc(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},lc=function(t,e){var n=[];return Ni(t)?n.push(t.subdivide(.5,!1)):n.push(t),Ni(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},Oi=function(t,e,n,r){var i=[];return Ni(t)?i.push(t.subdivide(.5,!1)):i.push(t),Ni(n)?i.push(n.subdivide(.5,!0)):i.push(n),Ni(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Ni(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},n4=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Kf=function(t){var e=t.styles,n=t.bounds,r=Pn(e.paddingLeft,n.width),i=Pn(e.paddingRight,n.width),s=Pn(e.paddingTop,n.width),a=Pn(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},nz=function(t,e){return t===0?e.bounds:t===2?Kf(e):n4(e)},rz=function(t,e){return t===0?e.bounds:t===2?Kf(e):n4(e)},lp=function(t,e,n){var r=nz(Do(t.styles.backgroundOrigin,e),t),i=rz(Do(t.styles.backgroundClip,e),t),s=iz(Do(t.styles.backgroundSize,e),n,r),a=s[0],o=s[1],A=WA(Do(t.styles.backgroundPosition,e),r.width-a,r.height-o),u=sz(Do(t.styles.backgroundRepeat,e),A,s,r,i),l=Math.round(r.left+A[0]),c=Math.round(r.top+A[1]);return[u,l,c,a,o]},Io=function(t){return Ln(t)&&t.value===qo.AUTO},cc=function(t){return typeof t=="number"},iz=function(t,e,n){var r=e[0],i=e[1],s=e[2],a=t[0],o=t[1];if(!a)return[0,0];if(ur(a)&&o&&ur(o))return[Pn(a,n.width),Pn(o,n.height)];var A=cc(s);if(Ln(a)&&(a.value===qo.CONTAIN||a.value===qo.COVER)){if(cc(s)){var u=n.width/n.height;return u<s!=(a.value===qo.COVER)?[n.width,n.width/s]:[n.height*s,n.height]}return[n.width,n.height]}var l=cc(r),c=cc(i),f=l||c;if(Io(a)&&(!o||Io(o))){if(l&&c)return[r,i];if(!A&&!f)return[n.width,n.height];if(f&&A){var d=l?r:i*s,w=c?i:r/s;return[d,w]}var T=l?r:n.width,D=c?i:n.height;return[T,D]}if(A){var N=0,M=0;return ur(a)?N=Pn(a,n.width):ur(o)&&(M=Pn(o,n.height)),Io(a)?N=M*s:(!o||Io(o))&&(M=N/s),[N,M]}var q=null,j=null;if(ur(a)?q=Pn(a,n.width):o&&ur(o)&&(j=Pn(o,n.height)),q!==null&&(!o||Io(o))&&(j=l&&c?q/r*i:n.height),j!==null&&Io(a)&&(q=l&&c?j/i*r:n.width),q!==null&&j!==null)return[q,j];throw new Error("Unable to calculate background-size for element")},Do=function(t,e){var n=t[e];return typeof n=="undefined"?t[0]:n},sz=function(t,e,n,r,i){var s=e[0],a=e[1],o=n[0],A=n[1];switch(t){case 2:return[new xt(Math.round(r.left),Math.round(r.top+a)),new xt(Math.round(r.left+r.width),Math.round(r.top+a)),new xt(Math.round(r.left+r.width),Math.round(A+r.top+a)),new xt(Math.round(r.left),Math.round(A+r.top+a))];case 3:return[new xt(Math.round(r.left+s),Math.round(r.top)),new xt(Math.round(r.left+s+o),Math.round(r.top)),new xt(Math.round(r.left+s+o),Math.round(r.height+r.top)),new xt(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new xt(Math.round(r.left+s),Math.round(r.top+a)),new xt(Math.round(r.left+s+o),Math.round(r.top+a)),new xt(Math.round(r.left+s+o),Math.round(r.top+a+A)),new xt(Math.round(r.left+s),Math.round(r.top+a+A))];default:return[new xt(Math.round(i.left),Math.round(i.top)),new xt(Math.round(i.left+i.width),Math.round(i.top)),new xt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new xt(Math.round(i.left),Math.round(i.height+i.top))]}},az="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Ww="Hidden Text",oz=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",a.appendChild(r),i.src=az,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(Ww)),r.appendChild(s),r.appendChild(i);var o=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(Ww)),r.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-r.offsetTop+2;return a.removeChild(r),{baseline:o,middle:A}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]=="undefined"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),r4=function(){function t(e,n){this.context=e,this.options=n}return t}(),Az=1e4,uz=function(t){Xi(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new oz(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(n){this.ctx.save(),YV(n)&&(this.ctx.globalAlpha=n.opacity),$V(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),J3(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return Jr(this,void 0,void 0,function(){var r;return Qr(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return Jr(this,void 0,void 0,function(){return Qr(this,function(r){switch(r.label){case 0:if(hr(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,i){var s=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var a=wm(n.text);a.reduce(function(o,A){return s.ctx.fillText(A,o,n.bounds.top+i),o+s.ctx.measureText(A).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=hz(n.fontFamily).join(", "),s=Al(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(n,r){return Jr(this,void 0,void 0,function(){var i,s,a,o,A,u,l,c,f=this;return Qr(this,function(d){return i=this.createFontStyle(r),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(a,o),u=A.baseline,l=A.middle,c=r.paintOrder,n.textBounds.forEach(function(w){c.forEach(function(T){switch(T){case 0:f.ctx.fillStyle=mr(r.color),f.renderTextWithLetterSpacing(w,r.letterSpacing,u);var D=r.textShadow;D.length&&w.text.trim().length&&(D.slice(0).reverse().forEach(function(N){f.ctx.shadowColor=mr(N.color),f.ctx.shadowOffsetX=N.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=N.offsetY.number*f.options.scale,f.ctx.shadowBlur=N.blur.number,f.renderTextWithLetterSpacing(w,r.letterSpacing,u)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),r.textDecorationLine.length&&(f.ctx.fillStyle=mr(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(N){switch(N){case 1:f.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top+u),w.bounds.width,1);break;case 2:f.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top),w.bounds.width,1);break;case 3:f.ctx.fillRect(w.bounds.left,Math.ceil(w.bounds.top+l),w.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&w.text.trim().length&&(f.ctx.strokeStyle=mr(r.webkitTextStrokeColor),f.ctx.lineWidth=r.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(w.text,w.bounds.left,w.bounds.top+u)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var s=Kf(n),a=jf(r);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return Jr(this,void 0,void 0,function(){var r,i,s,a,o,A,M,M,u,l,c,f,j,d,w,J,T,D,N,M,q,j,J;return Qr(this,function(H){switch(H.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,s=r.styles,a=0,o=r.textNodes,H.label=1;case 1:return a<o.length?(A=o[a],[4,this.renderTextNode(A,s)]):[3,4];case 2:H.sent(),H.label=3;case 3:return a++,[3,1];case 4:if(!(r instanceof _3))return[3,8];H.label=5;case 5:return H.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return M=H.sent(),this.renderReplacedElement(r,i,M),[3,8];case 7:return H.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof D3&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof Q3))return[3,12];H.label=9;case 9:return H.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return M=H.sent(),this.renderReplacedElement(r,i,M),[3,12];case 11:return H.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof H3&&r.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,u.render(r.tree)]):[3,14];case 13:l=H.sent(),r.width&&r.height&&this.ctx.drawImage(l,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),H.label=14;case 14:if(r instanceof ym&&(c=Math.min(r.bounds.width,r.bounds.height),r.type===Qf?r.checked&&(this.ctx.save(),this.path([new xt(r.bounds.left+c*.39363,r.bounds.top+c*.79),new xt(r.bounds.left+c*.16,r.bounds.top+c*.5549),new xt(r.bounds.left+c*.27347,r.bounds.top+c*.44071),new xt(r.bounds.left+c*.39694,r.bounds.top+c*.5649),new xt(r.bounds.left+c*.72983,r.bounds.top+c*.23),new xt(r.bounds.left+c*.84,r.bounds.top+c*.34085),new xt(r.bounds.left+c*.39363,r.bounds.top+c*.79)]),this.ctx.fillStyle=mr(_w),this.ctx.fill(),this.ctx.restore()):r.type===Rf&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+c/2,r.bounds.top+c/2,c/4,0,Math.PI*2,!0),this.ctx.fillStyle=mr(_w),this.ctx.fill(),this.ctx.restore())),lz(r)&&r.value.length){switch(f=this.createFontStyle(s),j=f[0],d=f[1],w=this.fontMetrics.getMetrics(j,d).baseline,this.ctx.font=j,this.ctx.fillStyle=mr(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=fz(r.styles.textAlign),J=Kf(r),T=0,r.styles.textAlign){case 1:T+=J.width/2;break;case 2:T+=J.width;break}D=J.add(T,0,0,-J.height/2+1),this.ctx.save(),this.path([new xt(J.left,J.top),new xt(J.left+J.width,J.top),new xt(J.left+J.width,J.top+J.height),new xt(J.left,J.top+J.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new xu(r.value,D),s.letterSpacing,w),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!hr(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(N=r.styles.listStyleImage,N.type!==0)return[3,18];M=void 0,q=N.url,H.label=15;case 15:return H.trys.push([15,17,,18]),[4,this.context.cache.match(q)];case 16:return M=H.sent(),this.ctx.drawImage(M,r.bounds.left-(M.width+10),r.bounds.top),[3,18];case 17:return H.sent(),this.context.logger.error("Error loading list-style-image "+q),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(j=this.createFontStyle(s)[0],this.ctx.font=j,this.ctx.fillStyle=mr(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",J=new Hs(r.bounds.left,r.bounds.top+Pn(r.styles.paddingTop,r.bounds.width),r.bounds.width,bw(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new xu(n.listValue,J),s.letterSpacing,bw(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),H.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return Jr(this,void 0,void 0,function(){var r,i,N,s,a,N,o,A,N,u,l,N,c,f,N,d,w,N,T,D,N;return Qr(this,function(M){switch(M.label){case 0:if(hr(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:M.sent(),r=0,i=n.negativeZIndex,M.label=2;case 2:return r<i.length?(N=i[r],[4,this.renderStack(N)]):[3,5];case 3:M.sent(),M.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:M.sent(),s=0,a=n.nonInlineLevel,M.label=7;case 7:return s<a.length?(N=a[s],[4,this.renderNode(N)]):[3,10];case 8:M.sent(),M.label=9;case 9:return s++,[3,7];case 10:o=0,A=n.nonPositionedFloats,M.label=11;case 11:return o<A.length?(N=A[o],[4,this.renderStack(N)]):[3,14];case 12:M.sent(),M.label=13;case 13:return o++,[3,11];case 14:u=0,l=n.nonPositionedInlineLevel,M.label=15;case 15:return u<l.length?(N=l[u],[4,this.renderStack(N)]):[3,18];case 16:M.sent(),M.label=17;case 17:return u++,[3,15];case 18:c=0,f=n.inlineLevel,M.label=19;case 19:return c<f.length?(N=f[c],[4,this.renderNode(N)]):[3,22];case 20:M.sent(),M.label=21;case 21:return c++,[3,19];case 22:d=0,w=n.zeroOrAutoZIndexOrTransformedOrOpacity,M.label=23;case 23:return d<w.length?(N=w[d],[4,this.renderStack(N)]):[3,26];case 24:M.sent(),M.label=25;case 25:return d++,[3,23];case 26:T=0,D=n.positiveZIndex,M.label=27;case 27:return T<D.length?(N=D[T],[4,this.renderStack(N)]):[3,30];case 28:M.sent(),M.label=29;case 29:return T++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(i,s){var a=Ni(i)?i.start:i;s===0?r.ctx.moveTo(a.x,a.y):r.ctx.lineTo(a.x,a.y),Ni(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(n,r,i,s){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(n,r,i){var s;if(n.width===r&&n.height===i)return n;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,i);var A=o.getContext("2d");return A.drawImage(n,0,0,n.width,n.height,0,0,r,i),o},e.prototype.renderBackgroundImage=function(n){return Jr(this,void 0,void 0,function(){var r,i,s,a,o,A;return Qr(this,function(u){switch(u.label){case 0:r=n.styles.backgroundImage.length-1,i=function(l){var c,f,d,me,gt,mt,Ke,tt,De,w,me,gt,mt,Ke,tt,T,D,N,M,q,j,J,H,ve,De,Fe,me,qe,Me,Ke,tt,st,gt,mt,yt,Ge,ne,Ft,Lt,pe,vt,Kt;return Qr(this,function(Nt){switch(Nt.label){case 0:if(l.type!==0)return[3,5];c=void 0,f=l.url,Nt.label=1;case 1:return Nt.trys.push([1,3,,4]),[4,s.context.cache.match(f)];case 2:return c=Nt.sent(),[3,4];case 3:return Nt.sent(),s.context.logger.error("Error loading background-image "+f),[3,4];case 4:return c&&(d=lp(n,r,[c.width,c.height,c.width/c.height]),me=d[0],gt=d[1],mt=d[2],Ke=d[3],tt=d[4],De=s.ctx.createPattern(s.resizeImage(c,Ke,tt),"repeat"),s.renderRepeat(me,De,gt,mt)),[3,6];case 5:$H(l)?(w=lp(n,r,[null,null,null]),me=w[0],gt=w[1],mt=w[2],Ke=w[3],tt=w[4],T=VH(l.angle,Ke,tt),D=T[0],N=T[1],M=T[2],q=T[3],j=T[4],J=document.createElement("canvas"),J.width=Ke,J.height=tt,H=J.getContext("2d"),ve=H.createLinearGradient(N,q,M,j),gw(l.stops,D).forEach(function(Mt){return ve.addColorStop(Mt.stop,mr(Mt.color))}),H.fillStyle=ve,H.fillRect(0,0,Ke,tt),Ke>0&&tt>0&&(De=s.ctx.createPattern(J,"repeat"),s.renderRepeat(me,De,gt,mt))):YH(l)&&(Fe=lp(n,r,[null,null,null]),me=Fe[0],qe=Fe[1],Me=Fe[2],Ke=Fe[3],tt=Fe[4],st=l.position.length===0?[gm]:l.position,gt=Pn(st[0],Ke),mt=Pn(st[st.length-1],tt),yt=zH(l,gt,mt,Ke,tt),Ge=yt[0],ne=yt[1],Ge>0&&ne>0&&(Ft=s.ctx.createRadialGradient(qe+gt,Me+mt,0,qe+gt,Me+mt,Ge),gw(l.stops,Ge*2).forEach(function(Mt){return Ft.addColorStop(Mt.stop,mr(Mt.color))}),s.path(me),s.ctx.fillStyle=Ft,Ge!==ne?(Lt=n.bounds.left+.5*n.bounds.width,pe=n.bounds.top+.5*n.bounds.height,vt=ne/Ge,Kt=1/vt,s.ctx.save(),s.ctx.translate(Lt,pe),s.ctx.transform(1,0,0,vt,0,0),s.ctx.translate(-Lt,-pe),s.ctx.fillRect(qe,Kt*(Me-pe)+pe,Ke,tt*Kt),s.ctx.restore()):s.ctx.fill())),Nt.label=6;case 6:return r--,[2]}})},s=this,a=0,o=n.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<o.length?(A=o[a],[5,i(A)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,i){return Jr(this,void 0,void 0,function(){return Qr(this,function(s){return this.path(Gw(i,r)),this.ctx.fillStyle=mr(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,i,s){return Jr(this,void 0,void 0,function(){var a,o;return Qr(this,function(A){switch(A.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,s)]:[3,2];case 1:return A.sent(),[2];case 2:return a=ZV(s,i),this.path(a),this.ctx.fillStyle=mr(n),this.ctx.fill(),o=ez(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return Jr(this,void 0,void 0,function(){var r,i,s,a,o,A,u,l,c=this;return Qr(this,function(f){switch(f.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!ma(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],a=cz(Do(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),ma(r.backgroundColor)||(this.ctx.fillStyle=mr(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(d){c.ctx.save();var w=Hf(n.curves),T=d.inset?0:Az,D=XV(w,-T+(d.inset?1:-1)*d.spread.number,(d.inset?1:-1)*d.spread.number,d.spread.number*(d.inset?-2:2),d.spread.number*(d.inset?-2:2));d.inset?(c.path(w),c.ctx.clip(),c.mask(D)):(c.mask(w),c.ctx.clip(),c.path(D)),c.ctx.shadowOffsetX=d.offsetX.number+T,c.ctx.shadowOffsetY=d.offsetY.number,c.ctx.shadowColor=mr(d.color),c.ctx.shadowBlur=d.blur.number,c.ctx.fillStyle=d.inset?mr(d.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),f.label=2;case 2:o=0,A=0,u=s,f.label=3;case 3:return A<u.length?(l=u[A],l.style!==0&&!ma(l.color)&&l.width>0?l.style!==2?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,o,n.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return l.style!==3?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,o,n.curves,3)];case 6:return f.sent(),[3,11];case 7:return l.style!==4?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,o,n.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,o,n.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,i,s,a){return Jr(this,void 0,void 0,function(){var o,A,u,l,c,f,d,w,T,D,N,M,q,j,J,H,J,H;return Qr(this,function(ve){return this.ctx.save(),o=tz(s,i),A=Gw(s,i),a===2&&(this.path(A),this.ctx.clip()),Ni(A[0])?(u=A[0].start.x,l=A[0].start.y):(u=A[0].x,l=A[0].y),Ni(A[1])?(c=A[1].end.x,f=A[1].end.y):(c=A[1].x,f=A[1].y),i===0||i===2?d=Math.abs(u-c):d=Math.abs(l-f),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(A.slice(0,2)),w=r<3?r*3:r*2,T=r<3?r*2:r,a===3&&(w=r,T=r),D=!0,d<=w*2?D=!1:d<=w*2+T?(N=d/(2*w+T),w*=N,T*=N):(M=Math.floor((d+T)/(w+T)),q=(d-M*w)/(M-1),j=(d-(M+1)*w)/M,T=j<=0||Math.abs(T-q)<Math.abs(T-j)?q:j),D&&(a===3?this.ctx.setLineDash([0,w+T]):this.ctx.setLineDash([w,T])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=mr(n),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Ni(A[0])&&(J=A[3],H=A[0],this.ctx.beginPath(),this.formatPath([new xt(J.end.x,J.end.y),new xt(H.start.x,H.start.y)]),this.ctx.stroke()),Ni(A[1])&&(J=A[1],H=A[2],this.ctx.beginPath(),this.formatPath([new xt(J.end.x,J.end.y),new xt(H.start.x,H.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return Jr(this,void 0,void 0,function(){var r;return Qr(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=mr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=JV(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(r4),lz=function(t){return t instanceof P3||t instanceof M3?!0:t instanceof ym&&t.type!==Rf&&t.type!==Qf},cz=function(t,e){switch(t){case 0:return Hf(e);case 2:return qV(e);case 1:default:return jf(e)}},fz=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},dz=["-apple-system","system-ui"],hz=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return dz.indexOf(e)===-1}):t},pz=function(t){Xi(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(n){return Jr(this,void 0,void 0,function(){var r,i;return Qr(this,function(s){switch(s.label){case 0:return r=U0(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,gz(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=mr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(r4),gz=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},mz=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Kl([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window!="undefined"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Kl([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Kl([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.error=="function"?console.error.apply(console,Kl([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),bz=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new mz({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new RV(this,e)}return t.instanceCount=1,t}(),wz=function(t,e){return e===void 0&&(e={}),yz(t,e)};typeof window!="undefined"&&X3.setContext(window);var yz=function(t,e){return Jr(void 0,void 0,void 0,function(){var n,r,i,s,a,o,A,u,l,c,f,d,w,T,D,N,M,q,j,J,ve,H,ve,De,Fe,me,qe,Me,Ke,tt,st,gt,mt,yt,Ge,ne,Ft,Lt,pe,vt;return Qr(this,function(Kt){switch(Kt.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(De=e.allowTaint)!==null&&De!==void 0?De:!1,imageTimeout:(Fe=e.imageTimeout)!==null&&Fe!==void 0?Fe:15e3,proxy:e.proxy,useCORS:(me=e.useCORS)!==null&&me!==void 0?me:!1},s=m0({logging:(qe=e.logging)!==null&&qe!==void 0?qe:!0,cache:e.cache},i),a={windowWidth:(Me=e.windowWidth)!==null&&Me!==void 0?Me:r.innerWidth,windowHeight:(Ke=e.windowHeight)!==null&&Ke!==void 0?Ke:r.innerHeight,scrollX:(tt=e.scrollX)!==null&&tt!==void 0?tt:r.pageXOffset,scrollY:(st=e.scrollY)!==null&&st!==void 0?st:r.pageYOffset},o=new Hs(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),A=new bz(s,o),u=(gt=e.foreignObjectRendering)!==null&&gt!==void 0?gt:!1,l={allowTaint:(mt=e.allowTaint)!==null&&mt!==void 0?mt:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},A.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),c=new Vw(A,t,l),f=c.clonedReferenceElement,f?[4,c.toIFrame(n,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return d=Kt.sent(),w=Bm(f)||BV(f)?X7(f.ownerDocument):xd(A,f),T=w.width,D=w.height,N=w.left,M=w.top,q=Bz(A,f,e.backgroundColor),j={canvas:e.canvas,backgroundColor:q,scale:(Ge=(yt=e.scale)!==null&&yt!==void 0?yt:r.devicePixelRatio)!==null&&Ge!==void 0?Ge:1,x:((ne=e.x)!==null&&ne!==void 0?ne:0)+N,y:((Ft=e.y)!==null&&Ft!==void 0?Ft:0)+M,width:(Lt=e.width)!==null&&Lt!==void 0?Lt:Math.ceil(T),height:(pe=e.height)!==null&&pe!==void 0?pe:Math.ceil(D)},u?(A.logger.debug("Document cloned, using foreign object rendering"),ve=new pz(A,j),[4,ve.render(f)]):[3,3];case 2:return J=Kt.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+N+","+M+" with size "+T+"x"+D+" using computed rendering"),A.logger.debug("Starting DOM parsing"),H=K3(A,f),q===H.styles.backgroundColor&&(H.styles.backgroundColor=Ms.TRANSPARENT),A.logger.debug("Starting renderer for element at "+j.x+","+j.y+" with size "+j.width+"x"+j.height),ve=new uz(A,j),[4,ve.render(H)];case 4:J=Kt.sent(),Kt.label=5;case 5:return(!((vt=e.removeContainer)!==null&&vt!==void 0)||vt)&&(Vw.destroy(d)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,J]}})})},Bz=function(t,e,n){var r=e.ownerDocument,i=r.documentElement?yu(t,getComputedStyle(r.documentElement).backgroundColor):Ms.TRANSPARENT,s=r.body?yu(t,getComputedStyle(r.body).backgroundColor):Ms.TRANSPARENT,a=typeof n=="string"?yu(t,n):n===null?Ms.TRANSPARENT:4294967295;return e===r.documentElement?ma(i)?ma(s)?a:s:i:a},i4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ud=function(e){var n=typeof e=="undefined"?"undefined":i4(e);return n==="undefined"?"undefined":n==="string"||e instanceof String?"string":n==="number"||e instanceof Number?"number":n==="function"||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&e.nodeType===1?"element":n==="object"?"object":"unknown"},zu=function(e,n){var r=document.createElement(e);if(n.className&&(r.className=n.className),n.innerHTML){r.innerHTML=n.innerHTML;for(var i=r.getElementsByTagName("script"),s=i.length;s-- >0;null)i[s].parentNode.removeChild(i[s])}for(var a in n.style)r.style[a]=n.style[a];return r},xz=function t(e,n){for(var r=e.nodeType===3?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;i=i.nextSibling)(n===!0||i.nodeType!==1||i.nodeName!=="SCRIPT")&&r.appendChild(t(i,n));return e.nodeType===1&&(e.nodeName==="CANVAS"?(r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(e,0,0)):(e.nodeName==="TEXTAREA"||e.nodeName==="SELECT")&&(r.value=e.value),r.addEventListener("load",function(){r.scrollTop=e.scrollTop,r.scrollLeft=e.scrollLeft},!0)),r},$w=function(e,n){if(Ud(e)==="number")return e*72/96/n;var r={};for(var i in e)r[i]=e[i]*72/96/n;return r},Yw=function(e,n){return Math.floor(e*n/72*96)},cp=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ez(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function Cz(t,e){return e={exports:{}},t(e,e.exports),e.exports}var vz=Cz(function(t,e){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.5+7f2b526d
 */(function(n,r){t.exports=r()})(cp,function(){function n(se){var Oe=typeof se;return se!==null&&(Oe==="object"||Oe==="function")}function r(se){return typeof se=="function"}var i=void 0;Array.isArray?i=Array.isArray:i=function(se){return Object.prototype.toString.call(se)==="[object Array]"};var s=i,a=0,o=void 0,A=void 0,u=function(Oe,We){H[a]=Oe,H[a+1]=We,a+=2,a===2&&(A?A(ve):Fe())};function l(se){A=se}function c(se){u=se}var f=typeof window!="undefined"?window:void 0,d=f||{},w=d.MutationObserver||d.WebKitMutationObserver,T=typeof self=="undefined"&&typeof process!="undefined"&&{}.toString.call(process)==="[object process]",D=typeof Uint8ClampedArray!="undefined"&&typeof importScripts!="undefined"&&typeof MessageChannel!="undefined";function N(){return function(){return process.nextTick(ve)}}function M(){return typeof o!="undefined"?function(){o(ve)}:J()}function q(){var se=0,Oe=new w(ve),We=document.createTextNode("");return Oe.observe(We,{characterData:!0}),function(){We.data=se=++se%2}}function j(){var se=new MessageChannel;return se.port1.onmessage=ve,function(){return se.port2.postMessage(0)}}function J(){var se=setTimeout;return function(){return se(ve,1)}}var H=new Array(1e3);function ve(){for(var se=0;se<a;se+=2){var Oe=H[se],We=H[se+1];Oe(We),H[se]=void 0,H[se+1]=void 0}a=0}function De(){try{var se=Function("return this")().require("vertx");return o=se.runOnLoop||se.runOnContext,M()}catch(Oe){return J()}}var Fe=void 0;T?Fe=N():w?Fe=q():D?Fe=j():f===void 0&&typeof Ez=="function"?Fe=De():Fe=J();function me(se,Oe){var We=this,nt=new this.constructor(Ke);nt[Me]===void 0&&On(nt);var pt=We._state;if(pt){var Bt=arguments[pt-1];u(function(){return mn(pt,nt,Bt,We._result)})}else xn(We,nt,se,Oe);return nt}function qe(se){var Oe=this;if(se&&typeof se=="object"&&se.constructor===Oe)return se;var We=new Oe(Ke);return Kt(We,se),We}var Me=Math.random().toString(36).substring(2);function Ke(){}var tt=void 0,st=1,gt=2,mt={error:null};function yt(){return new TypeError("You cannot resolve a promise with itself")}function Ge(){return new TypeError("A promises callback cannot return that same promise.")}function ne(se){try{return se.then}catch(Oe){return mt.error=Oe,mt}}function Ft(se,Oe,We,nt){try{se.call(Oe,We,nt)}catch(pt){return pt}}function Lt(se,Oe,We){u(function(nt){var pt=!1,Bt=Ft(We,Oe,function(fn){pt||(pt=!0,Oe!==fn?Kt(nt,fn):Mt(nt,fn))},function(fn){pt||(pt=!0,Rt(nt,fn))},"Settle: "+(nt._label||" unknown promise"));!pt&&Bt&&(pt=!0,Rt(nt,Bt))},se)}function pe(se,Oe){Oe._state===st?Mt(se,Oe._result):Oe._state===gt?Rt(se,Oe._result):xn(Oe,void 0,function(We){return Kt(se,We)},function(We){return Rt(se,We)})}function vt(se,Oe,We){Oe.constructor===se.constructor&&We===me&&Oe.constructor.resolve===qe?pe(se,Oe):We===mt?(Rt(se,mt.error),mt.error=null):We===void 0?Mt(se,Oe):r(We)?Lt(se,Oe,We):Mt(se,Oe)}function Kt(se,Oe){se===Oe?Rt(se,yt()):n(Oe)?vt(se,Oe,ne(Oe)):Mt(se,Oe)}function Nt(se){se._onerror&&se._onerror(se._result),En(se)}function Mt(se,Oe){se._state===tt&&(se._result=Oe,se._state=st,se._subscribers.length!==0&&u(En,se))}function Rt(se,Oe){se._state===tt&&(se._state=gt,se._result=Oe,u(Nt,se))}function xn(se,Oe,We,nt){var pt=se._subscribers,Bt=pt.length;se._onerror=null,pt[Bt]=Oe,pt[Bt+st]=We,pt[Bt+gt]=nt,Bt===0&&se._state&&u(En,se)}function En(se){var Oe=se._subscribers,We=se._state;if(Oe.length!==0){for(var nt=void 0,pt=void 0,Bt=se._result,fn=0;fn<Oe.length;fn+=3)nt=Oe[fn],pt=Oe[fn+We],nt?mn(We,nt,pt,Bt):pt(Bt);se._subscribers.length=0}}function Jt(se,Oe){try{return se(Oe)}catch(We){return mt.error=We,mt}}function mn(se,Oe,We,nt){var pt=r(We),Bt=void 0,fn=void 0,et=void 0,Be=void 0;if(pt){if(Bt=Jt(We,nt),Bt===mt?(Be=!0,fn=Bt.error,Bt.error=null):et=!0,Oe===Bt){Rt(Oe,Ge());return}}else Bt=nt,et=!0;Oe._state!==tt||(pt&&et?Kt(Oe,Bt):Be?Rt(Oe,fn):se===st?Mt(Oe,Bt):se===gt&&Rt(Oe,Bt))}function Gn(se,Oe){try{Oe(function(nt){Kt(se,nt)},function(nt){Rt(se,nt)})}catch(We){Rt(se,We)}}var Zn=0;function fr(){return Zn++}function On(se){se[Me]=Zn++,se._state=void 0,se._result=void 0,se._subscribers=[]}function kn(){return new Error("Array Methods must be provided an Array")}var Qn=function(){function se(Oe,We){this._instanceConstructor=Oe,this.promise=new Oe(Ke),this.promise[Me]||On(this.promise),s(We)?(this.length=We.length,this._remaining=We.length,this._result=new Array(this.length),this.length===0?Mt(this.promise,this._result):(this.length=this.length||0,this._enumerate(We),this._remaining===0&&Mt(this.promise,this._result))):Rt(this.promise,kn())}return se.prototype._enumerate=function(We){for(var nt=0;this._state===tt&&nt<We.length;nt++)this._eachEntry(We[nt],nt)},se.prototype._eachEntry=function(We,nt){var pt=this._instanceConstructor,Bt=pt.resolve;if(Bt===qe){var fn=ne(We);if(fn===me&&We._state!==tt)this._settledAt(We._state,nt,We._result);else if(typeof fn!="function")this._remaining--,this._result[nt]=We;else if(pt===zt){var et=new pt(Ke);vt(et,We,fn),this._willSettleAt(et,nt)}else this._willSettleAt(new pt(function(Be){return Be(We)}),nt)}else this._willSettleAt(Bt(We),nt)},se.prototype._settledAt=function(We,nt,pt){var Bt=this.promise;Bt._state===tt&&(this._remaining--,We===gt?Rt(Bt,pt):this._result[nt]=pt),this._remaining===0&&Mt(Bt,this._result)},se.prototype._willSettleAt=function(We,nt){var pt=this;xn(We,void 0,function(Bt){return pt._settledAt(st,nt,Bt)},function(Bt){return pt._settledAt(gt,nt,Bt)})},se}();function an(se){return new Qn(this,se).promise}function Vt(se){var Oe=this;return s(se)?new Oe(function(We,nt){for(var pt=se.length,Bt=0;Bt<pt;Bt++)Oe.resolve(se[Bt]).then(We,nt)}):new Oe(function(We,nt){return nt(new TypeError("You must pass an array to race."))})}function Dt(se){var Oe=this,We=new Oe(Ke);return Rt(We,se),We}function Yt(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function bn(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var zt=function(){function se(Oe){this[Me]=fr(),this._result=this._state=void 0,this._subscribers=[],Ke!==Oe&&(typeof Oe!="function"&&Yt(),this instanceof se?Gn(this,Oe):bn())}return se.prototype.catch=function(We){return this.then(null,We)},se.prototype.finally=function(We){var nt=this,pt=nt.constructor;return r(We)?nt.then(function(Bt){return pt.resolve(We()).then(function(){return Bt})},function(Bt){return pt.resolve(We()).then(function(){throw Bt})}):nt.then(We,We)},se}();zt.prototype.then=me,zt.all=an,zt.race=Vt,zt.resolve=qe,zt.reject=Dt,zt._setScheduler=l,zt._setAsap=c,zt._asap=u;function An(){var se=void 0;if(typeof cp!="undefined")se=cp;else if(typeof self!="undefined")se=self;else try{se=Function("return this")()}catch(nt){throw new Error("polyfill failed because global object is unavailable in this environment")}var Oe=se.Promise;if(Oe){var We=null;try{We=Object.prototype.toString.call(Oe.resolve())}catch(nt){}if(We==="[object Promise]"&&!Oe.cast)return}se.Promise=zt}return zt.polyfill=An,zt.Promise=zt,zt})}),qi=vz.Promise,Gt=function t(e){var n=xm(t.convert(qi.resolve()),JSON.parse(JSON.stringify(t.template))),r=t.convert(qi.resolve(),n);return r=r.setProgress(1,t,1,[t]),r=r.set(e),r};Gt.prototype=Object.create(qi.prototype);Gt.prototype.constructor=Gt;Gt.convert=function(e,n){return e.__proto__=n||Gt.prototype,e};Gt.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}};Gt.prototype.from=function(e,n){function r(i){switch(Ud(i)){case"string":return"string";case"element":return i.nodeName.toLowerCase==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(n=n||r(e),n){case"string":return this.set({src:zu("div",{innerHTML:e})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})};Gt.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}};Gt.prototype.toContainer=function(){var e=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(e).then(function(){var r={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},i={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};r.opacity=0;var s=xz(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=zu("div",{className:"html2pdf__overlay",style:r}),this.prop.container=zu("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(s),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})};Gt.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(function(){var r=xm({},this.opt.html2canvas);return delete r.onrendered,wz(this.prop.container,r)}).then(function(r){var i=this.opt.html2canvas.onrendered||function(){};i(r),this.prop.canvas=r,document.body.removeChild(this.prop.overlay)})};Gt.prototype.toImg=function(){var e=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(e).then(function(){var r=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=r})};Gt.prototype.toPdf=function(){var e=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(e).then(function(){var r=this.prop.canvas,i=this.opt,s=r.height,a=Math.floor(r.width*this.prop.pageSize.inner.ratio),o=Math.ceil(s/a),A=this.prop.pageSize.inner.height,u=document.createElement("canvas"),l=u.getContext("2d");u.width=r.width,u.height=a,this.prop.pdf=this.prop.pdf||new hm(i.jsPDF);for(var c=0;c<o;c++){c===o-1&&s%a!==0&&(u.height=s%a,A=u.height*this.prop.pageSize.inner.width/u.width);var f=u.width,d=u.height;l.fillStyle="white",l.fillRect(0,0,f,d),l.drawImage(r,0,c*a,f,d,0,0,f,d),c&&this.prop.pdf.addPage();var w=u.toDataURL("image/"+i.image.type,i.image.quality);this.prop.pdf.addImage(w,i.image.type,i.margin[1],i.margin[0],this.prop.pageSize.inner.width,A)}})};Gt.prototype.output=function(e,n,r){return r=r||"pdf",r.toLowerCase()==="img"||r.toLowerCase()==="image"?this.outputImg(e,n):this.outputPdf(e,n)};Gt.prototype.outputPdf=function(e,n){var r=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(r).then(function(){return this.prop.pdf.output(e,n)})};Gt.prototype.outputImg=function(e,n){var r=[function(){return this.prop.img||this.toImg()}];return this.thenList(r).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})};Gt.prototype.save=function(e){var n=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(n).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})};Gt.prototype.set=function(e){if(Ud(e)!=="object")return this;var n=Object.keys(e||{}).map(function(r){if(r in Gt.template.prop)return function(){this.prop[r]=e[r]};switch(r){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[r]=e[r]}}},this);return this.then(function(){return this.thenList(n)})};Gt.prototype.get=function(e,n){return this.then(function(){var i=e in Gt.template.prop?this.prop[e]:this.opt[e];return n?n(i):i})};Gt.prototype.setMargin=function(e){return this.then(function(){switch(Ud(e)){case"number":e=[e,e,e,e];case"array":if(e.length===2&&(e=[e[0],e[1],e[0],e[1]]),e.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)};Gt.prototype.setPageSize=function(e){return this.then(function(){e=e||hm.getPageSize(this.opt.jsPDF),e.hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:Yw(e.inner.width,e.k),height:Yw(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})};Gt.prototype.setProgress=function(e,n,r,i){return e!=null&&(this.progress.val=e),n!=null&&(this.progress.state=n),r!=null&&(this.progress.n=r),i!=null&&(this.progress.stack=i),this.progress.ratio=this.progress.val/this.progress.state,this};Gt.prototype.updateProgress=function(e,n,r,i){return this.setProgress(e?this.progress.val+e:null,n||null,r?this.progress.n+r:null,i?this.progress.stack.concat(i):null)};Gt.prototype.then=function(e,n){var r=this;return this.thenCore(e,n,function(s,a){return r.updateProgress(null,null,1,[s]),qi.prototype.then.call(this,function(A){return r.updateProgress(null,s),A}).then(s,a).then(function(A){return r.updateProgress(1),A})})};Gt.prototype.thenCore=function(e,n,r){r=r||qi.prototype.then;var i=this;e&&(e=e.bind(i)),n&&(n=n.bind(i));var s=qi.toString().indexOf("[native code]")!==-1&&qi.name==="Promise",a=s?i:Gt.convert(xm({},i),qi.prototype),o=r.call(a,e,n);return Gt.convert(o,i.__proto__)};Gt.prototype.thenExternal=function(e,n){return qi.prototype.then.call(this,e,n)};Gt.prototype.thenList=function(e){var n=this;return e.forEach(function(i){n=n.thenCore(i)}),n};Gt.prototype.catch=function(t){t&&(t=t.bind(this));var e=qi.prototype.catch.call(this,t);return Gt.convert(e,this)};Gt.prototype.catchExternal=function(e){return qi.prototype.catch.call(this,e)};Gt.prototype.error=function(e){return this.then(function(){throw new Error(e)})};Gt.prototype.using=Gt.prototype.set;Gt.prototype.saveAs=Gt.prototype.save;Gt.prototype.export=Gt.prototype.output;Gt.prototype.run=Gt.prototype.then;hm.getPageSize=function(t,e,n){if((typeof t=="undefined"?"undefined":i4(t))==="object"){var r=t;t=r.orientation,e=r.unit||e,n=r.format||n}e=e||"mm",n=n||"a4",t=(""+(t||"P")).toLowerCase();var i=(""+n).toLowerCase(),s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(e){case"pt":var a=1;break;case"mm":var a=72/25.4;break;case"cm":var a=72/2.54;break;case"in":var a=72;break;case"px":var a=72/96;break;case"pc":var a=12;break;case"em":var a=12;break;case"ex":var a=6;break;default:throw"Invalid unit: "+e}if(s.hasOwnProperty(i))var o=s[i][1]/a,A=s[i][0]/a;else try{var o=n[1],A=n[0]}catch(c){throw new Error("Invalid format: "+n)}if(t==="p"||t==="portrait"){if(t="p",A>o){var u=A;A=o,o=u}}else if(t==="l"||t==="landscape"){if(t="l",o>A){var u=A;A=o,o=u}}else throw"Invalid orientation: "+t;var l={width:A,height:o,unit:e,k:a};return l};var Tz={toContainer:Gt.prototype.toContainer};Gt.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]};Gt.prototype.toContainer=function(){return Tz.toContainer.call(this).then(function(){var n=this.prop.container,r=this.prop.pageSize.inner.px.height,i=[].concat(this.opt.pagebreak.mode),s={avoidAll:i.indexOf("avoid-all")!==-1,css:i.indexOf("css")!==-1,legacy:i.indexOf("legacy")!==-1},a={},o=this;["before","after","avoid"].forEach(function(l){var c=s.avoidAll&&l==="avoid";a[l]=c?[]:[].concat(o.opt.pagebreak[l]||[]),a[l].length>0&&(a[l]=Array.prototype.slice.call(n.querySelectorAll(a[l].join(", "))))});var A=n.querySelectorAll(".html2pdf__page-break");A=Array.prototype.slice.call(A);var u=n.querySelectorAll("*");Array.prototype.forEach.call(u,function(c){var f={before:!1,after:s.legacy&&A.indexOf(c)!==-1,avoid:s.avoidAll};if(s.css){var d=window.getComputedStyle(c),w=["always","page","left","right"],T=["avoid","avoid-page"];f={before:f.before||w.indexOf(d.breakBefore||d.pageBreakBefore)!==-1,after:f.after||w.indexOf(d.breakAfter||d.pageBreakAfter)!==-1,avoid:f.avoid||T.indexOf(d.breakInside||d.pageBreakInside)!==-1}}Object.keys(f).forEach(function(J){f[J]=f[J]||a[J].indexOf(c)!==-1});var D=c.getBoundingClientRect();if(f.avoid&&!f.before){var N=Math.floor(D.top/r),M=Math.floor(D.bottom/r),q=Math.abs(D.bottom-D.top)/r;M!==N&&q<=1&&(f.before=!0)}if(f.before){var j=zu("div",{style:{display:"block",height:r-D.top%r+"px"}});c.parentNode.insertBefore(j,c)}if(f.after){var j=zu("div",{style:{display:"block",height:r-D.bottom%r+"px"}});c.parentNode.insertBefore(j,c.nextSibling)}})})};var M0=[],s4={toContainer:Gt.prototype.toContainer,toPdf:Gt.prototype.toPdf};Gt.prototype.toContainer=function(){return s4.toContainer.call(this).then(function(){if(this.opt.enableLinks){var n=this.prop.container,r=n.querySelectorAll("a"),i=$w(n.getBoundingClientRect(),this.prop.pageSize.k);M0=[],Array.prototype.forEach.call(r,function(s){for(var a=s.getClientRects(),o=0;o<a.length;o++){var A=$w(a[o],this.prop.pageSize.k);A.left-=i.left,A.top-=i.top;var u=Math.floor(A.top/this.prop.pageSize.inner.height)+1,l=this.opt.margin[0]+A.top%this.prop.pageSize.inner.height,c=this.opt.margin[1]+A.left;M0.push({page:u,top:l,left:c,clientRect:A,link:s})}},this)}})};Gt.prototype.toPdf=function(){return s4.toPdf.call(this).then(function(){if(this.opt.enableLinks){M0.forEach(function(r){this.prop.pdf.setPage(r.page),this.prop.pdf.link(r.left,r.top,r.clientRect.width,r.clientRect.height,{url:r.link.href})},this);var n=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(n)}})};var a4=function t(e,n){var r=new t.Worker(n);return e?r.from(e).save():r};a4.Worker=Gt;const{Panel:Xw}=ky,Sz=({blog:t,keywords:e,setKeywords:n,onPost:r,activeTab:i,handleReplace:s,setProofreadingResults:a,proofreadingResults:o,handleSave:A,posted:u,isPosting:l,formData:c,editorContent:f})=>{var Yt,bn,zt,An,se,Oe,We,nt,pt,Bt,fn,et;const[d,w]=Ve.useState(""),[T,D]=Ve.useState(!1),[N,M]=Ve.useState(null),[q,j]=Ve.useState(!1),[J,H]=Ve.useState(!1),[ve,De]=Ve.useState(!1),[Fe,me]=Ve.useState("overview"),qe=qa(Be=>Be.auth.user),Me=(bn=qe==null?void 0:qe.plan)!=null?bn:(Yt=qe==null?void 0:qe.subscription)==null?void 0:Yt.plan,Ke=W0(),tt=Gf(),{handlePopup:st}=vy(),{loading:gt}=qa(Be=>Be.analysis),[mt,yt]=Ve.useState(!1),{analysisResult:Ge}=qa(Be=>Be.analysis),ne=t==null?void 0:t._id,Ft=Ge==null?void 0:Ge[ne];Ga.setOptions({gfm:!0,breaks:!0,headerIds:!1,mangle:!1});const Lt=Be=>Be?Be.trim().split(/\s+/).filter(Ze=>Ze.length>0).length:0;Ve.useEffect(()=>{tt(Z4()).unwrap()},[tt]),Ve.useEffect(()=>{M(null)},[t==null?void 0:t._id]);const pe=Ve.useCallback(()=>Ci(null,null,function*(){if(!t||!t.title||!t.content){wt.error("Blog title or content is missing for analysis.");return}const Be=e&&e.length>0?e:(t==null?void 0:t.focusKeywords)||t.keywords;try{const Ze=yield tt(ev({blogId:t._id,title:t.title,content:t.content,keywords:Be})).unwrap();M(Ze),me("analysis")}catch(Ze){console.error("Failed to fetch competitive analysis:",{error:Ze.message,status:Ze.status,response:Ze.response}),wt.error("Failed to perform competitive analysis.")}}),[t,e,tt]);Ve.useEffect(()=>{q&&(pe(),j(!1))},[q,pe]),Ve.useEffect(()=>{var Be,Ze;(t!=null&&t.seoScore||(Be=t==null?void 0:t.generatedMetadata)!=null&&Be.competitorsAnalysis)&&M(Ie({blogScore:t.seoScore},(Ze=t==null?void 0:t.generatedMetadata)==null?void 0:Ze.competitorsAnalysis))},[t]);const vt=Ve.useCallback(Be=>{n(Ze=>Ze.filter(At=>At!==Be))},[n]),Kt=Ve.useCallback(()=>{if(d.trim()){const Be=d.split(",").map(Ze=>Ze.trim().toLowerCase()).filter(Ze=>Ze&&!e.map(At=>At.toLowerCase()).includes(Ze));Be.length>0&&n(Ze=>[...Ze,...Be]),w("")}},[d,e,n]),Nt=Ve.useCallback(Be=>{Be.key==="Enter"&&(Be.preventDefault(),Kt())},[Kt]),Mt=Ve.useCallback(()=>Ci(null,null,function*(){if(!t||!t.content){wt.error("Blog content is required for proofreading.");return}if(gt){wt.error("Please wait for Competitive Analysis to complete before starting Proofreading.");return}D(!0);try{const Be=yield tt(tv({id:t._id})).unwrap();a(Be),me("suggestions"),wt.success("Proofreading suggestions loaded successfully!")}catch(Be){console.error("Error fetching proofreading suggestions:",{error:Be.message,status:Be.status,response:Be.response}),wt.error("Failed to fetch proofreading suggestions.")}finally{D(!1)}}),[t,tt,gt,a]),Rt=Ve.useCallback(()=>{if(o.length===0){wt.info("No suggestions available to apply.");return}o.forEach(Be=>{s(Be.original,Be.change)}),a([]),wt.success("All proofreading suggestions applied successfully!")},[o,s,a]),xn=Ve.useCallback(()=>{var Tt,Fn;if(["free","basic"].includes((Tt=Me==null?void 0:Me.toLowerCase)==null?void 0:Tt.call(Me)))return st({title:"Upgrade Required",description:"Competitor Analysis is only available for Pro and Enterprise users.",confirmText:"Buy Now",cancelText:"Cancel",onConfirm:()=>Ke("/pricing")});const Be=t==null?void 0:t.seoScore,Ze=(Fn=t==null?void 0:t.generatedMetadata)==null?void 0:Fn.competitors,At=typeof Be=="number"&&Be>=0,bt=Array.isArray(Ze)&&Ze.length>0;return st(!At&&!bt&&!!!N?{title:"Competitive Analysis",description:"Do you really want to run competitive analysis? It will cost 10 credits.",confirmText:"Run",cancelText:"Cancel",onConfirm:()=>pe()}:{title:"Run Competitive Analysis Again?",description:"You have already performed a competitive analysis for this blog. Would you like to run it again? This will cost 10 credits.",confirmText:"Run",cancelText:"Cancel",onConfirm:()=>pe()})},[Me,t,st,Ke,N,pe]),En=Ve.useCallback(()=>{var Be;["free","basic"].includes((Be=Me==null?void 0:Me.toLowerCase)==null?void 0:Be.call(Me))?st({title:"Upgrade Required",description:"AI Proofreading is only available for Pro and Enterprise users.",confirmText:"Buy Now",cancelText:"Cancel",onConfirm:()=>Ke("/pricing")}):st({title:"AI Proofreading",description:`Do you really want to proofread the blog? 
It will cost ${fv("blog.proofread")} credits.`,onConfirm:Mt})},[Me,st,Ke,Mt]),Jt=Ve.useCallback(()=>{st({title:"Rewrite Keywords",description:"Do you want to rewrite the entire content with added keywords? You can rewrite only 3 times.",onConfirm:A})},[st,A]),mn=Ve.useCallback(Be=>Ci(null,null,function*(){if(!f){wt.error("No content to export.");return}const Ze=(t==null?void 0:t.title)||"Untitled Blog";if(Be==="markdown"){const At=new Blob([f],{type:"text/markdown"}),bt=URL.createObjectURL(At),It=document.createElement("a");It.href=bt,It.download=`${Ze}.md`,It.click(),URL.revokeObjectURL(bt),wt.success("Markdown exported successfully!")}else if(Be==="html"){const At=Ga.parse(f,{gfm:!0}),bt=new Blob([At],{type:"text/html"}),It=URL.createObjectURL(bt),Tt=document.createElement("a");Tt.href=It,Tt.download=`${Ze}.html`,Tt.click(),URL.revokeObjectURL(It),wt.success("HTML exported successfully!")}}),[f,t]);Ve.useCallback(()=>{if(!f){wt.error("No content to export.");return}const Be=(t==null?void 0:t.title)||"Untitled_Blog",Ze=Ga(f,{gfm:!0}),At=Iy.sanitize(Ze),bt=document.createElement("div");bt.innerHTML=At,bt.style.padding="20px",bt.style.fontFamily="Arial, sans-serif",bt.style.lineHeight="1.6",bt.style.maxWidth="800px",bt.style.color="#000",bt.style.backgroundColor="#fff",Array.from(bt.querySelectorAll("*")).forEach(Tt=>{var Nn,Sr;const Fn=window.getComputedStyle(Tt);(Nn=Fn.color)!=null&&Nn.includes("oklch")&&(Tt.style.color="#000"),(Sr=Fn.backgroundColor)!=null&&Sr.includes("oklch")&&(Tt.style.backgroundColor="#fff")}),document.body.appendChild(bt);const It={margin:.5,filename:`${Be}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};a4().set(It).from(bt).save().then(()=>{wt.success("PDF exported successfully!"),document.body.removeChild(bt)}).catch(Tt=>{console.error("Error exporting PDF:",Tt),wt.error("Failed to export PDF."),document.body.removeChild(bt)})},[f,t]);const Gn=I.jsxs(Hd,{children:[I.jsx(Hd.Item,{onClick:()=>mn("markdown"),children:"Export as Markdown"},"markdown"),I.jsx(Hd.Item,{onClick:()=>mn("html"),children:"Export as HTML"},"html")]}),Zn=Ve.useCallback(Be=>Be>=80?"bg-green-100 text-green-700 border-green-200":Be>=60?"bg-yellow-100 text-yellow-700 border-yellow-200":"bg-red-100 text-red-700 border-red-200",[]),fr=Ve.useCallback(({category:Be,includeTableOfContents:Ze})=>{try{r(_t(Ie({},c),{categories:Be,includeTableOfContents:Ze}))}catch(At){console.error("Failed to post blog:",{error:At.message,status:At.status,response:At.response}),wt.error("Failed to post blog. Please try again.")}},[c,r]),On=Ve.useCallback(()=>{H(!0)},[]);if(gt)return I.jsx("div",{className:"flex items-center",children:I.jsx(gp,{message:"Running Competitive Analysis"})});const kn=({title:Be,description:Ze,isPro:At,isLoading:bt,onClick:It,buttonText:Tt,icon:Fn})=>I.jsxs(jn.div,{whileHover:{scale:1.02},transition:{duration:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-all duration-300",children:[I.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[I.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:I.jsx(Fn,{className:"w-4 h-4 text-blue-600"})}),I.jsxs("div",{className:"flex-1",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[I.jsx("h3",{className:"font-semibold text-gray-900",children:Be}),At&&I.jsx(jm,{count:I.jsx(zm,{size:10}),style:{backgroundColor:"#fbbf24"},size:"small"})]}),I.jsx("p",{className:"text-sm text-gray-600",children:Ze})]})]}),I.jsx(Mr,{onClick:It,loading:bt,disabled:bt,type:"primary",className:"w-full py-2 text-sm px-4 rounded-lg font-medium transition-all duration-200 bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:shadow-lg",ghost:At,children:bt?"Processing...":Tt})]}),Qn=({title:Be,score:Ze,icon:At})=>I.jsxs("div",{className:`p-3 rounded-lg border ${Zn(Ze||0)}`,children:[I.jsxs("div",{className:"flex items-center justify-between mb-2",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(At,{className:"w-4 h-4"}),I.jsx("span",{className:"text-sm font-medium",children:Be})]}),Ze>0&&I.jsxs("span",{className:"text-lg font-bold",children:[Ze,I.jsx("span",{className:"text-xs ml-1",children:"/100"})]})]}),(Ze||0)===0?I.jsx("p",{className:"text-xs text-gray-500 text-center p-2 bg-gray-50 rounded-lg",children:"Run Competitive Analysis to get score"}):I.jsx("div",{className:"w-full bg-white/50 rounded-full h-2",children:I.jsx("div",{style:{width:`${Ze}%`,transition:"width 0.5s ease"},className:`h-2 rounded-full ${Ze>=80?"bg-green-500":Ze>=60?"bg-yellow-500":"bg-red-500"}`})})]}),an=({competitors:Be})=>{const[Ze,At]=Ve.useState(!1),bt=Ze?Be:Be==null?void 0:Be.slice(0,5);return I.jsxs("div",{className:"space-y-2 relative",children:[(Be==null?void 0:Be.length)>5&&I.jsx("span",{className:"absolute top-0 right-0 text-[10px] bg-blue-100 text-blue-600 px-2 py-0.5 rounded-full",children:Be.length}),bt==null?void 0:bt.map((It,Tt)=>I.jsxs(jn.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:Tt*.05},className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[I.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:I.jsx("span",{className:"text-xs font-medium text-blue-600",children:Tt+1})}),I.jsxs("div",{className:"flex-1 min-w-0",children:[I.jsx("p",{className:"text-sm font-medium mb-1 text-gray-900 truncate",children:It.title}),I.jsxs("a",{href:It.link||It.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[It.score&&I.jsxs(Gm,{color:"blue",children:[(It.score*100).toFixed(2),"%"]}),"Visit ",I.jsx(qm,{className:"w-3 h-3"})]})]})]},Tt)),(Be==null?void 0:Be.length)>5&&!Ze&&I.jsxs("button",{onClick:()=>At(!0),className:"text-xs text-blue-600 hover:text-blue-700 text-center w-full",children:["+",Be.length-5," more competitors"]})]})},Vt=({insights:Be})=>{const[Ze,At]=Ve.useState(!1),[bt,It]=Ve.useState(new Set),Tt=Object.entries(Be||{}),Fn=Ze?Tt:Tt.slice(0,3),Nn=Sr=>{const Wn=new Set(bt);Wn.has(Sr)?Wn.delete(Sr):Wn.add(Sr),It(Wn)};return I.jsxs("div",{className:"space-y-3",children:[Fn.map(([Sr,Wn],b)=>{const F=bt.has(b),O=typeof Wn=="object"?"Multiple insights available":Wn==null?void 0:Wn.toString(),m=(O==null?void 0:O.length)>120&&!F,h=m?O.slice(0,120)+"...":O,g=Wn.match(/\((\d+\/\d+)\)$/),y=g?g[1]:null;return I.jsx(jn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:b*.05},className:"p-3 bg-blue-50 rounded-lg border border-blue-100",children:I.jsxs("div",{className:"flex items-start gap-2",children:[I.jsx(Cl,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),I.jsxs("div",{className:"flex-1",children:[I.jsxs("div",{className:"flex justify-between",children:[I.jsx("p",{className:"font-medium text-blue-900 text-sm mb-1",children:Sr.replace(/([A-Z])/g," $1").trim()}),I.jsxs("p",{children:[" ",y&&I.jsx(Gm,{color:"blue",children:y.replace("/"," / ")})]})]}),I.jsxs("p",{className:"text-xs text-blue-700 leading-relaxed cursor-pointer select-none",onClick:()=>Nn(b),children:[h,m&&I.jsx("span",{className:"text-blue-500 ml-1",children:"(more)"})]})]})]})},Sr)}),Tt.length>5&&I.jsx("button",{onClick:()=>At(!Ze),className:"text-xs text-blue-600 hover:text-blue-700 text-center w-full",children:Ze?"Show less":`+${Tt.length-5} more insights`})]})},Dt=({suggestion:Be,index:Ze,onApply:At})=>I.jsx(jn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Ze*.05},className:"border border-gray-200 rounded-lg p-3 bg-white hover:shadow-sm transition-shadow",children:I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"space-y-2",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(wv,{className:"w-4 h-4 text-orange-500"}),I.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Original"})]}),I.jsx("div",{className:"p-2 bg-red-50 border border-red-100 rounded text-xs text-gray-700 leading-relaxed",children:Be.original})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(yv,{className:"w-4 h-4 text-green-500"}),I.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Suggested"})]}),I.jsx("div",{className:"p-2 bg-green-50 border border-green-100 rounded text-xs text-gray-700 leading-relaxed",children:Be.change})]}),I.jsx(Mr,{size:"small",type:"primary",ghost:!0,onClick:()=>{s(Be.original,Be.change),At(Ze)},className:"w-full",children:"Apply This Change"})]})});return ve?I.jsx(jn.div,{initial:{x:"100%"},animate:{x:"calc(100% - 60px)"},className:"fixed top-[17.5rem] right-0 transform -translate-y-1/2 z-50",children:I.jsx(Tn,{title:"Maximize Sidebar",placement:"left",children:I.jsx(Mr,{onClick:()=>De(!1),className:"h-12 rounded-lg",icon:I.jsx(Vv,{className:"w-4 h-4"})})})}):I.jsxs(I.Fragment,{children:[I.jsxs(jn.div,{initial:{x:"100%"},animate:{x:0},transition:{type:"spring",stiffness:300,damping:30},className:"w-96 bg-white shadow-xl flex flex-col",children:[I.jsxs("div",{className:"p-4 border border-l-0 bg-gradient-to-r rounded-tr-md from-blue-50 to-purple-50",children:[I.jsxs("div",{className:"flex items-center justify-between mb-2",children:[I.jsxs("div",{children:[I.jsx("h2",{className:"text-lg font-bold",children:"Content Analysis"}),I.jsx("p",{className:"text-xs text-gray-600",children:"Optimize your content performance"})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[!["free","basic"].includes((zt=Me==null?void 0:Me.toLowerCase)==null?void 0:zt.call(Me))&&I.jsx(Tn,{title:"Export Content",placement:"left",children:I.jsx(pv,{overlay:Gn,trigger:["click"],children:I.jsx(Mr,{size:"small",icon:I.jsx(mv,{className:"w-4 h-4"})})})}),I.jsx(Tn,{title:"Minimize sidebar",placement:"left",children:I.jsx(Mr,{size:"small",icon:I.jsx(qv,{className:"w-4 h-4"}),onClick:()=>De(!0)})}),I.jsx(Tn,{title:"Content settings",children:I.jsx(Mr,{size:"small",icon:I.jsx(Ny,{className:"w-4 h-4"}),onClick:()=>yt(!0)})})]})]}),I.jsx("div",{className:"flex justify-between items-center mt-6 px-2",children:[{key:"overview",label:"Overview",icon:Vm},{key:"analysis",label:"Analysis",icon:Bl},{key:"suggestions",label:"Suggestions",icon:Cl,badge:o.length}].map(({key:Be,label:Ze,icon:At,badge:bt})=>I.jsxs("button",{onClick:()=>me(Be),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-150
        ${Fe===Be?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[I.jsx(At,{className:"w-4 h-4"}),Ze,bt>0&&I.jsx("span",{className:"ml-1 inline-flex items-center justify-center w-5 h-5 text-xs font-semibold text-white bg-red-500 rounded-full",children:bt})]},Be))})]}),I.jsx("div",{className:"flex-1 max-h-screen overflow-y-auto custom-scroll border-r",children:I.jsxs(Oc,{mode:"wait",children:[Fe==="overview"&&I.jsxs(jn.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"p-4 space-y-6",children:[I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{className:"flex items-center justify-between mt-2",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(Zv,{className:"w-4 h-4 text-blue-600"}),I.jsx("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:"Keywords"})]}),e.length>0&&I.jsxs("button",{type:"text",onClick:()=>{var Be;["free"].includes((Be=Me==null?void 0:Me.toLowerCase)==null?void 0:Be.call(Me))?dv({featureName:"Keyword Optimization",navigate:Ke}):Jt()},className:`flex items-center gap-2 px-3 py-1.5 rounded-lg hover:bg-opacity-80 transition-colors text-sm font-medium\r
                    bg-green-50 text-green-600 border-green-300 border hover:bg-green-100`,children:[["free"].includes((An=Me==null?void 0:Me.toLowerCase)==null?void 0:An.call(Me))?I.jsx(zm,{className:"w-3 h-3"}):I.jsx(Fy,{className:"w-3 h-3"}),"Optimize"]})]}),I.jsx("div",{className:"flex flex-wrap gap-2",children:I.jsx(Oc,{children:e.map((Be,Ze)=>I.jsxs(jn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full border border-blue-200",children:[I.jsx("span",{className:"truncate max-w-[120px]",children:Be}),I.jsx("button",{onClick:()=>vt(Be),className:"ml-1 text-blue-600 hover:text-blue-800",children:I.jsx(_c,{className:"w-3 h-3"})})]},Be))})}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("input",{type:"text",value:d,onChange:Be=>w(Be.target.value),onKeyDown:Nt,placeholder:"Add keywords...",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),I.jsx(Mr,{size:"small",type:"primary",onClick:Kt,icon:I.jsx(Dc,{className:"w-4 h-4"})})]}),e.length===0&&I.jsx("p",{className:"text-xs text-gray-500 text-center py-2",children:"No keywords added yet"})]}),I.jsxs("div",{className:"space-y-7",children:[I.jsxs("div",{className:"flex items-center gap-2 ",children:[I.jsx(Vm,{className:"w-4 h-4 text-blue-600"}),I.jsx("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:"Performance Metrics"})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[I.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 text-center",children:[I.jsx("div",{className:"text-lg font-bold text-blue-600",children:Lt(f)}),I.jsx("div",{className:"text-xs text-blue-600",children:"Words"})]}),I.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 text-center",children:[I.jsx("div",{className:"text-lg font-bold text-purple-600",children:e==null?void 0:e.length}),I.jsx("div",{className:"text-xs text-purple-600",children:"Keywords"})]})]}),I.jsxs("div",{className:"space-y-5",children:[I.jsx(Qn,{title:"Content Score",score:t==null?void 0:t.blogScore,icon:pc}),I.jsx(Qn,{title:"SEO Score",score:((se=Ft==null?void 0:Ft.insights)==null?void 0:se.blogScore)||(t==null?void 0:t.seoScore),icon:Bl})]})]}),I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(bv,{className:"w-4 h-4 text-blue-600"}),I.jsx("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:"AI Tools"})]}),I.jsxs("div",{className:"space-y-3",children:[I.jsx(kn,{title:"Competitive Analysis",description:"Compare with top competitors",isPro:["free","basic"].includes((Oe=Me==null?void 0:Me.toLowerCase)==null?void 0:Oe.call(Me)),isLoading:gt,onClick:xn,buttonText:"Run Analysis",icon:Bl}),i==="Normal"&&I.jsx(kn,{title:"AI Proofreading",description:"Grammar and style improvements",isPro:["free","basic"].includes((We=Me==null?void 0:Me.toLowerCase)==null?void 0:We.call(Me)),isLoading:T,onClick:En,buttonText:"Proofread Content",icon:pc})]})]})]},"overview"),Fe==="analysis"&&I.jsx(jn.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"p-4 space-y-4",children:N||Ft?I.jsxs(ky,{defaultActiveKey:["1"],ghost:!0,expandIconPosition:"end",children:[((pt=(Ft==null?void 0:Ft.competitors)||((nt=t==null?void 0:t.generatedMetadata)==null?void 0:nt.competitors))==null?void 0:pt.length)>0&&I.jsx(Xw,{header:I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx($0,{className:"w-4 h-4 text-blue-600"}),I.jsx("span",{className:"font-medium",children:"Top Competitors"})]}),children:I.jsx(an,{competitors:(Ft==null?void 0:Ft.competitors)||((Bt=t==null?void 0:t.generatedMetadata)==null?void 0:Bt.competitors)})},"1"),(((fn=N==null?void 0:N.insights)==null?void 0:fn.analysis)||(N==null?void 0:N.analysis))&&I.jsx(Xw,{header:I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(Cl,{className:"w-4 h-4 text-orange-500"}),I.jsx("span",{className:"font-medium",children:"Key Insights"})]}),children:I.jsx(Vt,{insights:((et=N==null?void 0:N.insights)==null?void 0:et.analysis)||(N==null?void 0:N.analysis)})},"2")]}):I.jsxs("div",{className:"text-center py-8",children:[I.jsx(Bl,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),I.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"No analysis results yet"}),I.jsx("p",{className:"text-xs text-gray-500",children:"Run competitive analysis to see insights"})]})},"analysis"),Fe==="suggestions"&&I.jsx(jn.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"p-4 space-y-4",children:T?I.jsxs("div",{className:"text-center py-8",children:[I.jsx(jn.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full mx-auto mb-3"}),I.jsx("p",{className:"text-sm text-gray-600",children:"Analyzing content..."})]}):o.length>0?I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"flex items-center justify-between mb-4",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(Cl,{className:"w-4 h-4 text-orange-500"}),I.jsx("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:"Suggestions"}),I.jsx(jm,{count:o.length})]}),I.jsx(Mr,{size:"small",type:"primary",onClick:Rt,disabled:o.length===0,className:"text-xs",children:"Apply All"})]}),I.jsx("div",{className:"space-y-3 max-h-screen overflow-y-auto",children:o.map((Be,Ze)=>I.jsx(Dt,{suggestion:Be,index:Ze,onApply:At=>{const bt=o.filter((It,Tt)=>Tt!==At);a(bt)}},Ze))})]}):I.jsxs("div",{className:"text-center py-8",children:[I.jsx(pc,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),I.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"No suggestions available"}),I.jsx("p",{className:"text-xs text-gray-500",children:"Run AI proofreading to get suggestions"})]})},"suggestions")]})}),I.jsxs("div",{className:"p-4 border border-l-0 rounded-br-md border-gray-200 bg-gray-50",children:[I.jsx(jn.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:I.jsx(Mr,{type:"primary",size:"large",onClick:On,loading:l,disabled:l,className:"w-full h-12 text-base font-semibold bg-gradient-to-r from-green-600 to-emerald-600 border-0 hover:shadow-lg",children:l?"Posting...":t!=null&&t.wordpress?"Re-Post":"Post Blog"})}),(u==null?void 0:u.link)&&I.jsx(jn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-3 text-center",children:I.jsxs("a",{href:u.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-blue-600 text-sm hover:text-blue-700 font-medium",children:["View Published Post",I.jsx(qm,{className:"w-4 h-4"})]})})]})]}),I.jsx(Os,{title:"Content Enhancement Summary",open:mt,onCancel:()=>yt(!1),footer:null,centered:!0,width:480,children:I.jsx(Iz,{features:(t==null?void 0:t.options)||{}})}),I.jsx(G7,{isCategoryModalOpen:J,setIsCategoryModalOpen:H,onSubmit:fr,initialCategory:c.category,initialIncludeTableOfContents:c.includeTableOfContents})]})},Iz=({features:t})=>I.jsxs(jn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-3",children:[I.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Here are the content enhancement features currently applied to your blog:"}),I.jsx("div",{className:"grid grid-cols-1 gap-3",children:Object.entries(t||{}).length>0?Object.entries(t).map(([e,n])=>{const r=!!n;return I.jsxs(jn.div,{whileHover:{backgroundColor:"#f8fafc"},className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100 transition-colors duration-150",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-green-500":"bg-gray-400"}`}),I.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:e.replace(/([A-Z])/g," $1").trim()})]}),I.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${r?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:r?"Enabled":"Disabled"})]},e)}):I.jsxs("div",{className:"text-center py-6",children:[I.jsx(Ny,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),I.jsx("p",{className:"text-sm text-gray-500",children:"No enhancement features configured"})]})})]});var In;(function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"})(In||(In={}));function kz(t){return t.type===In.Tag||t.type===In.Script||t.type===In.Style}const Fz=In.Root,Nz=In.Text,Uz=In.Directive,Lz=In.Comment,Oz=In.Script,_z=In.Style,Dz=In.Tag,Qz=In.CDATA,Rz=In.Doctype;let o4=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(e=!1){return f4(this,e)}};class Em extends o4{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}}class P0 extends Em{constructor(){super(...arguments),this.type=In.Text}get nodeType(){return 3}}class A4 extends Em{constructor(){super(...arguments),this.type=In.Comment}get nodeType(){return 8}}class u4 extends Em{constructor(e,n){super(n),this.name=e,this.type=In.Directive}get nodeType(){return 1}}class Cm extends o4{constructor(e){super(),this.children=e}get firstChild(){var e;return(e=this.children[0])!==null&&e!==void 0?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}}class l4 extends Cm{constructor(){super(...arguments),this.type=In.CDATA}get nodeType(){return 4}}class H0 extends Cm{constructor(){super(...arguments),this.type=In.Root}get nodeType(){return 9}}let c4=class extends Cm{constructor(e,n,r=[],i=e==="script"?In.Script:e==="style"?In.Style:In.Tag){super(r),this.name=e,this.attribs=n,this.type=i}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map(e=>{var n,r;return{name:e,value:this.attribs[e],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[e],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[e]}})}};function vm(t){return kz(t)}function Mz(t){return t.type===In.CDATA}function Pz(t){return t.type===In.Text}function Hz(t){return t.type===In.Comment}function jz(t){return t.type===In.Directive}function Kz(t){return t.type===In.Root}function f4(t,e=!1){let n;if(Pz(t))n=new P0(t.data);else if(Hz(t))n=new A4(t.data);else if(vm(t)){const r=e?fp(t.children):[],i=new c4(t.name,Ie({},t.attribs),r);r.forEach(s=>s.parent=i),t.namespace!=null&&(i.namespace=t.namespace),t["x-attribsNamespace"]&&(i["x-attribsNamespace"]=Ie({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(i["x-attribsPrefix"]=Ie({},t["x-attribsPrefix"])),n=i}else if(Mz(t)){const r=e?fp(t.children):[],i=new l4(r);r.forEach(s=>s.parent=i),n=i}else if(Kz(t)){const r=e?fp(t.children):[],i=new H0(r);r.forEach(s=>s.parent=i),t["x-mode"]&&(i["x-mode"]=t["x-mode"]),n=i}else if(jz(t)){const r=new u4(t.name,t.data);t["x-name"]!=null&&(r["x-name"]=t["x-name"],r["x-publicId"]=t["x-publicId"],r["x-systemId"]=t["x-systemId"]),n=r}else throw new Error(`Not implemented yet: ${t.type}`);return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}function fp(t){const e=t.map(n=>f4(n,!0));for(let n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}const Jw={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class Vz{constructor(e,n,r){this.dom=[],this.root=new H0(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(r=n,n=Jw),typeof e=="object"&&(n=e,e=void 0),this.callback=e!=null?e:null,this.options=n!=null?n:Jw,this.elementCB=r!=null?r:null}onparserinit(e){this.parser=e}onreset(){this.dom=[],this.root=new H0(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(e){this.handleCallback(e)}onclosetag(){this.lastNode=null;const e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)}onopentag(e,n){const r=this.options.xmlMode?In.Tag:void 0,i=new c4(e,n,void 0,r);this.addNode(i),this.tagStack.push(i)}ontext(e){const{lastNode:n}=this;if(n&&n.type===In.Text)n.data+=e,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const r=new P0(e);this.addNode(r),this.lastNode=r}}oncomment(e){if(this.lastNode&&this.lastNode.type===In.Comment){this.lastNode.data+=e;return}const n=new A4(e);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const e=new P0(""),n=new l4([e]);this.addNode(n),e.parent=n,this.lastNode=e}oncdataend(){this.lastNode=null}onprocessinginstruction(e,n){const r=new u4(e,n);this.addNode(r)}handleCallback(e){if(typeof this.callback=="function")this.callback(e,this.dom);else if(e)throw e}addNode(e){const n=this.tagStack[this.tagStack.length-1],r=n.children[n.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),n.children.push(e),r&&(e.prev=r,r.next=e),e.parent=n,this.lastNode=null}}const zz=/\n/g;function qz(t){const e=[...t.matchAll(zz)].map(r=>r.index||0);e.unshift(-1);const n=j0(e,0,e.length);return r=>d4(n,r)}function j0(t,e,n){if(n-e==1)return{offset:t[e],index:e+1};const r=Math.ceil((e+n)/2),i=j0(t,e,r),s=j0(t,r,n);return{offset:i.offset,low:i,high:s}}function d4(t,e){return function(n){return Object.prototype.hasOwnProperty.call(n,"index")}(t)?{line:t.index,column:e-t.offset}:d4(t.high.offset<e?t.high:t.low,e)}function h4(t,e="",n={}){const r=typeof e!="string"?e:n,i=typeof e=="string"?e:"",s=t.map(Gz),a=!!r.lineNumbers;return function(o,A=0){const u=a?qz(o):()=>({line:0,column:0});let l=A;const c=[];e:for(;l<o.length;){let f=!1;for(const d of s){d.regex.lastIndex=l;const w=d.regex.exec(o);if(w&&w[0].length>0){if(!d.discard){const T=u(l),D=typeof d.replace=="string"?w[0].replace(new RegExp(d.regex.source,d.regex.flags),d.replace):w[0];c.push({state:i,name:d.name,text:D,offset:l,len:w[0].length,line:T.line,column:T.column})}if(l=d.regex.lastIndex,f=!0,d.push){const T=d.push(o,l);c.push(...T.tokens),l=T.offset}if(d.pop)break e;break}}if(!f)break}return{tokens:c,offset:l,complete:o.length<=l}}}function Gz(t,e){return _t(Ie({},t),{regex:Wz(t,e)})}function Wz(t,e){if(t.name.length===0)throw new Error(`Rule #${e} has empty name, which is not allowed.`);if(function(n){return Object.prototype.hasOwnProperty.call(n,"regex")}(t))return function(n){if(n.global)throw new Error(`Regular expression /${n.source}/${n.flags} contains the global flag, which is not allowed.`);return n.sticky?n:new RegExp(n.source,n.flags+"y")}(t.regex);if(function(n){return Object.prototype.hasOwnProperty.call(n,"str")}(t)){if(t.str.length===0)throw new Error(`Rule #${e} ("${t.name}") has empty "str" property, which is not allowed.`);return new RegExp(Zw(t.str),"y")}return new RegExp(Zw(t.name),"y")}function Zw(t){return t.replace(/[-[\]{}()*+!<=:?./\\^$|#\s,]/g,"\\$&")}function Ks(t,e){return(n,r)=>{let i=r,s;return r<n.tokens.length&&(s=t(n.tokens[r],n,r),s!==void 0&&i++),s===void 0?{matched:!1}:{matched:!0,position:i,value:s}}}function Tm(t,e){return t.matched?{matched:!0,position:t.position,value:e(t.value,t.position)}:t}function Vf(t,e){return t.matched?e(t):t}function di(t,e){return(n,r)=>Tm(t(n,r),(i,s)=>e(i,n,r,s))}function zf(t,e){return(n,r)=>{const i=t(n,r);return i.matched?i:{matched:!0,position:r,value:e}}}function Ld(...t){return(e,n)=>{for(const r of t){const i=r(e,n);if(i.matched)return i}return{matched:!1}}}function po(t,e){return(n,r)=>{const i=t(n,r);return i.matched?i:e(n,r)}}function $z(t,e){return(n,r)=>{const i=[];let s=!0;do{const a=t(n,r);a.matched&&e(a.value,i.length+1,n,r,a.position)?(i.push(a.value),r=a.position):s=!1}while(s);return{matched:!0,position:r,value:i}}}function Sm(t){return $z(t,()=>!0)}function Yz(t){return ei(t,Sm(t),(e,n)=>[e,...n])}function ei(t,e,n){return(r,i)=>Vf(t(r,i),s=>Tm(e(r,s.position),(a,o)=>n(s.value,a,r,i,o)))}function Xz(t,e){return ei(t,e,n=>n)}function ey(t,e){return ei(t,e,(n,r)=>r)}function Im(t,e,n,r){return(i,s)=>Vf(t(i,s),a=>Vf(e(i,a.position),o=>Tm(n(i,o.position),(A,u)=>r(a.value,o.value,A,i,s,u))))}function p4(t,e,n){return Im(t,e,n,(r,i)=>i)}function Jz(...t){return(e,n)=>{const r=[];let i=n;for(const s of t){const a=s(e,i);if(a.matched)r.push(a.value),i=a.position;else return{matched:!1}}return{matched:!0,position:i,value:r}}}function Zz(...t){return eq(Jz(...t))}function eq(t){return di(t,e=>e.flatMap(n=>n))}function tq(t,e){return(n,r)=>{let i=!0,s=t,a=r;do{const o=e(s,n,a)(n,a);o.matched?(s=o.value,a=o.position):i=!1}while(i);return{matched:!0,position:a,value:s}}}function nq(t,e,n){return tq(t,r=>di(e,(i,s,a,o)=>n(r,i,s,a,o)))}function rq(t,e,n){return iq(t,r=>nq(r,ei(e,n,(i,s)=>[i,s]),(i,[s,a])=>s(i,a)))}function iq(t,e){return(n,r)=>Vf(t(n,r),i=>e(i.value,n,r,i.position)(n,i.position))}const sq="(?:[ \\t\\r\\n\\f]*)",g4="(?:\\n|\\r\\n|\\r|\\f)",Od="[^\\x00-\\x7F]",ul="(?:\\\\[0-9a-f]{1,6}(?:\\r\\n|[ \\n\\r\\t\\f])?)",ll="(?:\\\\[^\\n\\r\\f0-9a-f])",aq=`(?:[_a-z]|${Od}|${ul}|${ll})`,m4=`(?:[_a-z0-9-]|${Od}|${ul}|${ll})`,oq=`(?:${m4}+)`,Aq=`(?:[-]?${aq}${m4}*)`,uq=`'([^\\n\\r\\f\\\\']|\\\\${g4}|${Od}|${ul}|${ll})*'`,lq=`"([^\\n\\r\\f\\\\"]|\\\\${g4}|${Od}|${ul}|${ll})*"`,cq=h4([{name:"ws",regex:new RegExp(sq)},{name:"hash",regex:new RegExp(`#${oq}`,"i")},{name:"ident",regex:new RegExp(Aq,"i")},{name:"str1",regex:new RegExp(uq,"i")},{name:"str2",regex:new RegExp(lq,"i")},{name:"*"},{name:"."},{name:","},{name:"["},{name:"]"},{name:"="},{name:">"},{name:"|"},{name:"+"},{name:"~"},{name:"^"},{name:"$"}]),fq=h4([{name:"unicode",regex:new RegExp(ul,"i")},{name:"escape",regex:new RegExp(ll,"i")},{name:"any",regex:new RegExp("[\\s\\S]","i")}]);function b4([t,e,n],[r,i,s]){return[t+r,e+i,n+s]}function dq(t){return t.reduce(b4,[0,0,0])}const hq=Ks(t=>t.name==="unicode"?String.fromCodePoint(parseInt(t.text.slice(1),16)):void 0),pq=Ks(t=>t.name==="escape"?t.text.slice(1):void 0),gq=Ks(t=>t.name==="any"?t.text:void 0),mq=di(Sm(Ld(hq,pq,gq)),t=>t.join(""));function km(t){const e=fq(t);return mq({tokens:e.tokens,options:void 0},0).value}function qn(t){return Ks(e=>e.name===t?!0:void 0)}const Fm=Ks(t=>t.name==="ws"?null:void 0),K0=zf(Fm,null);function qu(t){return p4(K0,t,K0)}const Gu=Ks(t=>t.name==="ident"?km(t.text):void 0),bq=Ks(t=>t.name==="hash"?km(t.text.slice(1)):void 0),wq=Ks(t=>t.name.startsWith("str")?km(t.text.slice(1,-1)):void 0),w4=Xz(zf(Gu,""),qn("|")),Nm=po(ei(w4,Gu,(t,e)=>({name:e,namespace:t})),di(Gu,t=>({name:t,namespace:null}))),yq=po(ei(w4,qn("*"),t=>({type:"universal",namespace:t,specificity:[0,0,0]})),di(qn("*"),()=>({type:"universal",namespace:null,specificity:[0,0,0]}))),Bq=di(Nm,({name:t,namespace:e})=>({type:"tag",name:t,namespace:e,specificity:[0,0,1]})),xq=ei(qn("."),Gu,(t,e)=>({type:"class",name:e,specificity:[0,1,0]})),Eq=di(bq,t=>({type:"id",name:t,specificity:[1,0,0]})),ty=Ks(t=>{if(t.name==="ident"){if(t.text==="i"||t.text==="I")return"i";if(t.text==="s"||t.text==="S")return"s"}}),Cq=po(ei(wq,zf(ey(K0,ty),null),(t,e)=>({value:t,modifier:e})),ei(Gu,zf(ey(Fm,ty),null),(t,e)=>({value:t,modifier:e}))),vq=Ld(di(qn("="),()=>"="),ei(qn("~"),qn("="),()=>"~="),ei(qn("|"),qn("="),()=>"|="),ei(qn("^"),qn("="),()=>"^="),ei(qn("$"),qn("="),()=>"$="),ei(qn("*"),qn("="),()=>"*=")),Tq=Im(qn("["),qu(Nm),qn("]"),(t,{name:e,namespace:n})=>({type:"attrPresence",name:e,namespace:n,specificity:[0,1,0]})),Sq=p4(qn("["),Im(qu(Nm),vq,qu(Cq),({name:t,namespace:e},n,{value:r,modifier:i})=>({type:"attrValue",name:t,namespace:e,matcher:n,value:r,modifier:i,specificity:[0,1,0]})),qn("]")),Iq=po(Tq,Sq),kq=po(yq,Bq),ny=Ld(Eq,xq,Iq),ry=di(po(Zz(kq,Sm(ny)),Yz(ny)),t=>({type:"compound",list:t,specificity:dq(t.map(e=>e.specificity))})),Fq=Ld(di(qn(">"),()=>">"),di(qn("+"),()=>"+"),di(qn("~"),()=>"~"),ei(qn("|"),qn("|"),()=>"||")),Nq=po(qu(Fq),di(Fm,()=>" ")),Uq=rq(ry,di(Nq,t=>(e,n)=>({type:"compound",list:[...n.list,{type:"combinator",combinator:t,left:e,specificity:e.specificity}],specificity:b4(e.specificity,n.specificity)})),ry);function Lq(t,e){if(!(typeof e=="string"||e instanceof String))throw new Error("Expected a selector string. Actual input is not a string!");const n=cq(e);if(!n.complete)throw new Error(`The input "${e}" was only partially tokenized, stopped at offset ${n.offset}!
`+iy(e,n.offset));const r=qu(t)({tokens:n.tokens,options:void 0},0);if(!r.matched)throw new Error(`No match for "${e}" input!`);if(r.position<n.tokens.length){const i=n.tokens[r.position];throw new Error(`The input "${e}" was only partially parsed, stopped at offset ${i.offset}!
`+iy(e,i.offset,i.len))}return r.value}function iy(t,e,n=1){return`${t.replace(/(\t)|(\r)|(\n)/g,(r,i,s)=>i?"":s?"":"")}
${"".padEnd(e)}${"^".repeat(n)}`}function Oq(t){return Lq(Uq,t)}function cs(t){if(!t.type)throw new Error("This is not an AST node.");switch(t.type){case"universal":return fc(t.namespace)+"*";case"tag":return fc(t.namespace)+Qo(t.name);case"class":return"."+Qo(t.name);case"id":return"#"+Qo(t.name);case"attrPresence":return`[${fc(t.namespace)}${Qo(t.name)}]`;case"attrValue":return`[${fc(t.namespace)}${Qo(t.name)}${t.matcher}"${_q(t.value)}"${t.modifier?t.modifier:""}]`;case"combinator":return cs(t.left)+t.combinator;case"compound":return t.list.reduce((e,n)=>n.type==="combinator"?cs(n)+e:e+cs(n),"");case"list":return t.list.map(cs).join(",")}}function fc(t){return t||t===""?Qo(t)+"|":""}function Uc(t){return`\\${t.codePointAt(0).toString(16)} `}function Qo(t){return t.replace(/(^[0-9])|(^-[0-9])|(^-$)|([-0-9a-zA-Z_]|[^\x00-\x7F])|(\x00)|([\x01-\x1f]|\x7f)|([\s\S])/g,(e,n,r,i,s,a,o,A)=>n?Uc(n):r?"-"+Uc(r.slice(1)):i?"\\-":s||(a?"":o?Uc(o):"\\"+A))}function _q(t){return t.replace(/(")|(\\)|(\x00)|([\x01-\x1f]|\x7f)/g,(e,n,r,i,s)=>n?'\\"':r?"\\\\":i?"":Uc(s))}function Lc(t){if(!t.type)throw new Error("This is not an AST node.");switch(t.type){case"compound":{t.list.forEach(Lc),t.list.sort((e,n)=>B4(sy(e),sy(n)));break}case"combinator":{Lc(t.left);break}case"list":{t.list.forEach(Lc),t.list.sort((e,n)=>cs(e)<cs(n)?-1:1);break}}return t}function sy(t){switch(t.type){case"universal":return[1];case"tag":return[1];case"id":return[2];case"class":return[3,t.name];case"attrPresence":return[4,cs(t)];case"attrValue":return[5,cs(t)];case"combinator":return[15,cs(t)]}}function y4(t,e){return B4(t,e)}function B4(t,e){if(!Array.isArray(t)||!Array.isArray(e))throw new Error("Arguments must be arrays.");const n=t.length<e.length?t.length:e.length;for(let r=0;r<n;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return t.length-e.length}class ay{constructor(e){this.branches=aA(Dq(e))}build(e){return e(this.branches)}}function Dq(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r++){const[i,s]=t[r],a=Qq(Oq(i));n[r]={ast:a,terminal:{type:"terminal",valueContainer:{index:r,value:s,specificity:a.specificity}}}}return n}function Qq(t){return x4(t),Lc(t),t}function x4(t){const e=[];t.list.forEach(n=>{switch(n.type){case"class":e.push({matcher:"~=",modifier:null,name:"class",namespace:null,specificity:n.specificity,type:"attrValue",value:n.name});break;case"id":e.push({matcher:"=",modifier:null,name:"id",namespace:null,specificity:n.specificity,type:"attrValue",value:n.name});break;case"combinator":x4(n.left),e.push(n);break;case"universal":break;default:e.push(n);break}}),t.list=e}function aA(t){const e=[];for(;t.length;){const n=v4(t,a=>!0,E4),{matches:r,nonmatches:i,empty:s}=Mq(t,n);t=i,r.length&&e.push(Pq(n,r)),s.length&&e.push(...Rq(s))}return e}function Rq(t){const e=[];for(const n of t){const r=n.terminal;if(r.type==="terminal")e.push(r);else{const{matches:i,rest:s}=zq(r.cont,a=>a.type==="terminal");i.forEach(a=>e.push(a)),s.length&&(r.cont=s,e.push(r))}}return e}function Mq(t,e){const n=[],r=[],i=[];for(const s of t){const a=s.ast.list;a.length?(a.some(A=>E4(A)===e)?n:r).push(s):i.push(s)}return{matches:n,nonmatches:r,empty:i}}function E4(t){switch(t.type){case"attrPresence":return`attrPresence ${t.name}`;case"attrValue":return`attrValue ${t.name}`;case"combinator":return`combinator ${t.combinator}`;default:return t.type}}function Pq(t,e){if(t==="tag")return Hq(e);if(t.startsWith("attrValue "))return Kq(t.substring(10),e);if(t.startsWith("attrPresence "))return jq(t.substring(13),e);if(t==="combinator >")return oy(">",e);if(t==="combinator +")return oy("+",e);throw new Error(`Unsupported selector kind: ${t}`)}function Hq(t){const e=Um(t,r=>r.type==="tag",r=>r.name);return{type:"tagName",variants:Object.entries(e).map(([r,i])=>({type:"variant",value:r,cont:aA(i.items)}))}}function jq(t,e){for(const n of e)C4(n,r=>r.type==="attrPresence"&&r.name===t);return{type:"attrPresence",name:t,cont:aA(e)}}function Kq(t,e){const n=Um(e,i=>i.type==="attrValue"&&i.name===t,i=>`${i.matcher} ${i.modifier||""} ${i.value}`),r=[];for(const i of Object.values(n)){const s=i.oneSimpleSelector,a=Vq(s),o=aA(i.items);r.push({type:"matcher",matcher:s.matcher,modifier:s.modifier,value:s.value,predicate:a,cont:o})}return{type:"attrValue",name:t,matchers:r}}function Vq(t){if(t.modifier==="i"){const e=t.value.toLowerCase();switch(t.matcher){case"=":return n=>e===n.toLowerCase();case"~=":return n=>n.toLowerCase().split(/[ \t]+/).includes(e);case"^=":return n=>n.toLowerCase().startsWith(e);case"$=":return n=>n.toLowerCase().endsWith(e);case"*=":return n=>n.toLowerCase().includes(e);case"|=":return n=>{const r=n.toLowerCase();return e===r||r.startsWith(e)&&r[e.length]==="-"}}}else{const e=t.value;switch(t.matcher){case"=":return n=>e===n;case"~=":return n=>n.split(/[ \t]+/).includes(e);case"^=":return n=>n.startsWith(e);case"$=":return n=>n.endsWith(e);case"*=":return n=>n.includes(e);case"|=":return n=>e===n||n.startsWith(e)&&n[e.length]==="-"}}}function oy(t,e){const n=Um(e,i=>i.type==="combinator"&&i.combinator===t,i=>cs(i.left)),r=[];for(const i of Object.values(n)){const s=aA(i.items),a=i.oneSimpleSelector.left;r.push({ast:a,terminal:{type:"popElement",cont:s}})}return{type:"pushElement",combinator:t,cont:aA(r)}}function Um(t,e,n){const r={};for(;t.length;){const i=v4(t,e,n),s=l=>e(l)&&n(l)===i,a=l=>l.ast.list.some(s),{matches:o,rest:A}=qq(t,a);let u=null;for(const l of o){const c=C4(l,s);u||(u=c)}if(u==null)throw new Error("No simple selector is found.");r[i]={oneSimpleSelector:u,items:o},t=A}return r}function C4(t,e){const n=t.ast.list,r=new Array(n.length);let i=-1;for(let a=n.length;a-- >0;)e(n[a])&&(r[a]=!0,i=a);if(i==-1)throw new Error("Couldn't find the required simple selector.");const s=n[i];return t.ast.list=n.filter((a,o)=>!r[o]),s}function v4(t,e,n){const r={};for(const a of t){const o={};for(const A of a.ast.list.filter(e))o[n(A)]=!0;for(const A of Object.keys(o))r[A]?r[A]++:r[A]=1}let i="",s=0;for(const a of Object.entries(r))a[1]>s&&(i=a[0],s=a[1]);return i}function zq(t,e){const n=[],r=[];for(const i of t)e(i)?n.push(i):r.push(i);return{matches:n,rest:r}}function qq(t,e){const n=[],r=[];for(const i of t)e(i)?n.push(i):r.push(i);return{matches:n,rest:r}}class Gq{constructor(e){this.f=e}pickAll(e){return this.f(e)}pick1(e,n=!1){const r=this.f(e),i=r.length;if(i===0)return null;if(i===1)return r[0].value;const s=n?Wq:$q;let a=r[0];for(let o=1;o<i;o++){const A=r[o];s(a,A)&&(a=A)}return a.value}}function Wq(t,e){const n=y4(e.specificity,t.specificity);return n>0||n===0&&e.index<t.index}function $q(t,e){const n=y4(e.specificity,t.specificity);return n>0||n===0&&e.index>t.index}function Ay(t){return new Gq(mA(t))}function mA(t){const e=t.map(Yq);return(n,...r)=>e.flatMap(i=>i(n,...r))}function Yq(t){switch(t.type){case"terminal":{const e=[t.valueContainer];return(n,...r)=>e}case"tagName":return Xq(t);case"attrValue":return Zq(t);case"attrPresence":return Jq(t);case"pushElement":return eG(t);case"popElement":return nG(t)}}function Xq(t){const e={};for(const n of t.variants)e[n.value]=mA(n.cont);return(n,...r)=>{const i=e[n.name];return i?i(n,...r):[]}}function Jq(t){const e=t.name,n=mA(t.cont);return(r,...i)=>Object.prototype.hasOwnProperty.call(r.attribs,e)?n(r,...i):[]}function Zq(t){const e=[];for(const r of t.matchers){const i=r.predicate,s=mA(r.cont);e.push((a,o,...A)=>i(a)?s(o,...A):[])}const n=t.name;return(r,...i)=>{const s=r.attribs[n];return s||s===""?e.flatMap(a=>a(s,r,...i)):[]}}function eG(t){const e=mA(t.cont),n=t.combinator==="+"?T4:tG;return(r,...i)=>{const s=n(r);return s===null?[]:e(s,r,...i)}}const T4=t=>{const e=t.prev;return e===null?null:vm(e)?e:T4(e)},tG=t=>{const e=t.parent;return e&&vm(e)?e:null};function nG(t){const e=mA(t.cont);return(n,r,...i)=>e(r,...i)}const S4=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),I4=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var dp;const rG=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),V0=(dp=String.fromCodePoint)!==null&&dp!==void 0?dp:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function k4(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=rG.get(t))!==null&&e!==void 0?e:t}var xr;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(xr||(xr={}));const iG=32;var Gi;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Gi||(Gi={}));function z0(t){return t>=xr.ZERO&&t<=xr.NINE}function sG(t){return t>=xr.UPPER_A&&t<=xr.UPPER_F||t>=xr.LOWER_A&&t<=xr.LOWER_F}function aG(t){return t>=xr.UPPER_A&&t<=xr.UPPER_Z||t>=xr.LOWER_A&&t<=xr.LOWER_Z||z0(t)}function oG(t){return t===xr.EQUALS||aG(t)}var wr;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(wr||(wr={}));var Ra;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Ra||(Ra={}));class AG{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=wr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ra.Strict}startEntity(e){this.decodeMode=e,this.state=wr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case wr.EntityStart:return e.charCodeAt(n)===xr.NUM?(this.state=wr.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=wr.NamedEntity,this.stateNamedEntity(e,n));case wr.NumericStart:return this.stateNumericStart(e,n);case wr.NumericDecimal:return this.stateNumericDecimal(e,n);case wr.NumericHex:return this.stateNumericHex(e,n);case wr.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|iG)===xr.LOWER_X?(this.state=wr.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=wr.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(e.substr(n,s),i),this.consumed+=s}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(z0(i)||sG(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(z0(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===xr.SEMI)this.consumed+=1;else if(this.decodeMode===Ra.Strict)return 0;return this.emitCodePoint(k4(this.result),this.consumed),this.errors&&(e!==xr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Gi.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const a=e.charCodeAt(n);if(this.treeIndex=N4(r,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===Ra.Attribute&&(s===0||oG(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Gi.VALUE_LENGTH)>>14,s!==0){if(a===xr.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Ra.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&Gi.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~Gi.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case wr.NamedEntity:return this.result!==0&&(this.decodeMode!==Ra.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case wr.NumericDecimal:return this.emitNumericEntity(0,2);case wr.NumericHex:return this.emitNumericEntity(0,3);case wr.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case wr.EntityStart:return 0}}}function F4(t){let e="";const n=new AG(t,r=>e+=V0(r));return function(i,s){let a=0,o=0;for(;(o=i.indexOf("&",o))>=0;){e+=i.slice(a,o),n.startEntity(s);const u=n.write(i,o+1);if(u<0){a=o+n.end();break}a=o+u,o=u===0?a+1:a}const A=e+i.slice(a);return e="",A}}function N4(t,e,n,r){const i=(e&Gi.BRANCH_LENGTH)>>7,s=e&Gi.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const A=r-s;return A<0||A>=i?-1:t[n+A]-1}let a=n,o=a+i-1;for(;a<=o;){const A=a+o>>>1,u=t[A];if(u<r)a=A+1;else if(u>r)o=A-1;else return t[A+i]}return-1}F4(S4);F4(I4);var Ut;(function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"})(Ut||(Ut={}));var it;(function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.SpecialStartSequence=23]="SpecialStartSequence",t[t.InSpecialTag=24]="InSpecialTag",t[t.BeforeEntity=25]="BeforeEntity",t[t.BeforeNumericEntity=26]="BeforeNumericEntity",t[t.InNamedEntity=27]="InNamedEntity",t[t.InNumericEntity=28]="InNumericEntity",t[t.InHexEntity=29]="InHexEntity"})(it||(it={}));function Fs(t){return t===Ut.Space||t===Ut.NewLine||t===Ut.Tab||t===Ut.FormFeed||t===Ut.CarriageReturn}function dc(t){return t===Ut.Slash||t===Ut.Gt||Fs(t)}function uy(t){return t>=Ut.Zero&&t<=Ut.Nine}function uG(t){return t>=Ut.LowerA&&t<=Ut.LowerZ||t>=Ut.UpperA&&t<=Ut.UpperZ}function lG(t){return t>=Ut.UpperA&&t<=Ut.UpperF||t>=Ut.LowerA&&t<=Ut.LowerF}var us;(function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"})(us||(us={}));const ai={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])};class cG{constructor({xmlMode:e=!1,decodeEntities:n=!0},r){this.cbs=r,this.state=it.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=it.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=e,this.decodeEntities=n,this.entityTrie=e?I4:S4}reset(){this.state=it.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=it.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}getIndex(){return this.index}getSectionStart(){return this.sectionStart}stateText(e){e===Ut.Lt||!this.decodeEntities&&this.fastForwardTo(Ut.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=it.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===Ut.Amp&&(this.state=it.BeforeEntity)}stateSpecialStartSequence(e){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?dc(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=it.InTagName,this.stateInTagName(e)}stateInSpecialTag(e){if(this.sequenceIndex===this.currentSequence.length){if(e===Ut.Gt||Fs(e)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(e);return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===ai.TitleEnd?this.decodeEntities&&e===Ut.Amp&&(this.state=it.BeforeEntity):this.fastForwardTo(Ut.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===Ut.Lt)}stateCDATASequence(e){e===ai.Cdata[this.sequenceIndex]?++this.sequenceIndex===ai.Cdata.length&&(this.state=it.InCommentLike,this.currentSequence=ai.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=it.InDeclaration,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===ai.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=it.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(e){return this.xmlMode?!dc(e):uG(e)}startSpecial(e,n){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=n,this.state=it.SpecialStartSequence}stateBeforeTagName(e){if(e===Ut.ExclamationMark)this.state=it.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===Ut.Questionmark)this.state=it.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){const n=e|32;this.sectionStart=this.index,!this.xmlMode&&n===ai.TitleEnd[2]?this.startSpecial(ai.TitleEnd,3):this.state=!this.xmlMode&&n===ai.ScriptEnd[2]?it.BeforeSpecialS:it.InTagName}else e===Ut.Slash?this.state=it.BeforeClosingTagName:(this.state=it.Text,this.stateText(e))}stateInTagName(e){dc(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=it.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateBeforeClosingTagName(e){Fs(e)||(e===Ut.Gt?this.state=it.Text:(this.state=this.isTagStartChar(e)?it.InClosingTagName:it.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(e){(e===Ut.Gt||Fs(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=it.AfterClosingTagName,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){(e===Ut.Gt||this.fastForwardTo(Ut.Gt))&&(this.state=it.Text,this.baseState=it.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(e){e===Ut.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=it.InSpecialTag,this.sequenceIndex=0):this.state=it.Text,this.baseState=this.state,this.sectionStart=this.index+1):e===Ut.Slash?this.state=it.InSelfClosingTag:Fs(e)||(this.state=it.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===Ut.Gt?(this.cbs.onselfclosingtag(this.index),this.state=it.Text,this.baseState=it.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Fs(e)||(this.state=it.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateInAttributeName(e){(e===Ut.Eq||dc(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=it.AfterAttributeName,this.stateAfterAttributeName(e))}stateAfterAttributeName(e){e===Ut.Eq?this.state=it.BeforeAttributeValue:e===Ut.Slash||e===Ut.Gt?(this.cbs.onattribend(us.NoValue,this.index),this.state=it.BeforeAttributeName,this.stateBeforeAttributeName(e)):Fs(e)||(this.cbs.onattribend(us.NoValue,this.index),this.state=it.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(e){e===Ut.DoubleQuote?(this.state=it.InAttributeValueDq,this.sectionStart=this.index+1):e===Ut.SingleQuote?(this.state=it.InAttributeValueSq,this.sectionStart=this.index+1):Fs(e)||(this.sectionStart=this.index,this.state=it.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))}handleInAttributeValue(e,n){e===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===Ut.DoubleQuote?us.Double:us.Single,this.index),this.state=it.BeforeAttributeName):this.decodeEntities&&e===Ut.Amp&&(this.baseState=this.state,this.state=it.BeforeEntity)}stateInAttributeValueDoubleQuotes(e){this.handleInAttributeValue(e,Ut.DoubleQuote)}stateInAttributeValueSingleQuotes(e){this.handleInAttributeValue(e,Ut.SingleQuote)}stateInAttributeValueNoQuotes(e){Fs(e)||e===Ut.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(us.Unquoted,this.index),this.state=it.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===Ut.Amp&&(this.baseState=this.state,this.state=it.BeforeEntity)}stateBeforeDeclaration(e){e===Ut.OpeningSquareBracket?(this.state=it.CDATASequence,this.sequenceIndex=0):this.state=e===Ut.Dash?it.BeforeComment:it.InDeclaration}stateInDeclaration(e){(e===Ut.Gt||this.fastForwardTo(Ut.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=it.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===Ut.Gt||this.fastForwardTo(Ut.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=it.Text,this.sectionStart=this.index+1)}stateBeforeComment(e){e===Ut.Dash?(this.state=it.InCommentLike,this.currentSequence=ai.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=it.InDeclaration}stateInSpecialComment(e){(e===Ut.Gt||this.fastForwardTo(Ut.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=it.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){const n=e|32;n===ai.ScriptEnd[3]?this.startSpecial(ai.ScriptEnd,4):n===ai.StyleEnd[3]?this.startSpecial(ai.StyleEnd,4):(this.state=it.InTagName,this.stateInTagName(e))}stateBeforeEntity(e){this.entityExcess=1,this.entityResult=0,e===Ut.Number?this.state=it.BeforeNumericEntity:e===Ut.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=it.InNamedEntity,this.stateInNamedEntity(e))}stateInNamedEntity(e){if(this.entityExcess+=1,this.trieIndex=N4(this.entityTrie,this.trieCurrent,this.trieIndex+1,e),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];const n=this.trieCurrent&Gi.VALUE_LENGTH;if(n){const r=(n>>14)-1;if(!this.allowLegacyEntity()&&e!==Ut.Semi)this.trieIndex+=r;else{const i=this.index-this.entityExcess+1;i>this.sectionStart&&this.emitPartial(this.sectionStart,i),this.entityResult=this.trieIndex,this.trieIndex+=r,this.entityExcess=0,this.sectionStart=this.index+1,r===0&&this.emitNamedEntity()}}}emitNamedEntity(){if(this.state=this.baseState,this.entityResult===0)return;switch((this.entityTrie[this.entityResult]&Gi.VALUE_LENGTH)>>14){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~Gi.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}stateBeforeNumericEntity(e){(e|32)===Ut.LowerX?(this.entityExcess++,this.state=it.InHexEntity):(this.state=it.InNumericEntity,this.stateInNumericEntity(e))}emitNumericEntity(e){const n=this.index-this.entityExcess-1;n+2+ +(this.state===it.InHexEntity)!==this.index&&(n>this.sectionStart&&this.emitPartial(this.sectionStart,n),this.sectionStart=this.index+Number(e),this.emitCodePoint(k4(this.entityResult))),this.state=this.baseState}stateInNumericEntity(e){e===Ut.Semi?this.emitNumericEntity(!0):uy(e)?(this.entityResult=this.entityResult*10+(e-Ut.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}stateInHexEntity(e){e===Ut.Semi?this.emitNumericEntity(!0):uy(e)?(this.entityResult=this.entityResult*16+(e-Ut.Zero),this.entityExcess++):lG(e)?(this.entityResult=this.entityResult*16+((e|32)-Ut.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}allowLegacyEntity(){return!this.xmlMode&&(this.baseState===it.Text||this.baseState===it.InSpecialTag)}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===it.Text||this.state===it.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===it.InAttributeValueDq||this.state===it.InAttributeValueSq||this.state===it.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case it.Text:{this.stateText(e);break}case it.SpecialStartSequence:{this.stateSpecialStartSequence(e);break}case it.InSpecialTag:{this.stateInSpecialTag(e);break}case it.CDATASequence:{this.stateCDATASequence(e);break}case it.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(e);break}case it.InAttributeName:{this.stateInAttributeName(e);break}case it.InCommentLike:{this.stateInCommentLike(e);break}case it.InSpecialComment:{this.stateInSpecialComment(e);break}case it.BeforeAttributeName:{this.stateBeforeAttributeName(e);break}case it.InTagName:{this.stateInTagName(e);break}case it.InClosingTagName:{this.stateInClosingTagName(e);break}case it.BeforeTagName:{this.stateBeforeTagName(e);break}case it.AfterAttributeName:{this.stateAfterAttributeName(e);break}case it.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(e);break}case it.BeforeAttributeValue:{this.stateBeforeAttributeValue(e);break}case it.BeforeClosingTagName:{this.stateBeforeClosingTagName(e);break}case it.AfterClosingTagName:{this.stateAfterClosingTagName(e);break}case it.BeforeSpecialS:{this.stateBeforeSpecialS(e);break}case it.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(e);break}case it.InSelfClosingTag:{this.stateInSelfClosingTag(e);break}case it.InDeclaration:{this.stateInDeclaration(e);break}case it.BeforeDeclaration:{this.stateBeforeDeclaration(e);break}case it.BeforeComment:{this.stateBeforeComment(e);break}case it.InProcessingInstruction:{this.stateInProcessingInstruction(e);break}case it.InNamedEntity:{this.stateInNamedEntity(e);break}case it.BeforeEntity:{this.stateBeforeEntity(e);break}case it.InHexEntity:{this.stateInHexEntity(e);break}case it.InNumericEntity:{this.stateInNumericEntity(e);break}default:this.stateBeforeNumericEntity(e)}this.index++}this.cleanup()}finish(){this.state===it.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length+this.offset;this.state===it.InCommentLike?this.currentSequence===ai.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===it.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===it.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===it.InTagName||this.state===it.BeforeAttributeName||this.state===it.BeforeAttributeValue||this.state===it.AfterAttributeName||this.state===it.InAttributeName||this.state===it.InAttributeValueSq||this.state===it.InAttributeValueDq||this.state===it.InAttributeValueNq||this.state===it.InClosingTagName||this.cbs.ontext(this.sectionStart,e)}emitPartial(e,n){this.baseState!==it.Text&&this.baseState!==it.InSpecialTag?this.cbs.onattribdata(e,n):this.cbs.ontext(e,n)}emitCodePoint(e){this.baseState!==it.Text&&this.baseState!==it.InSpecialTag?this.cbs.onattribentity(e):this.cbs.ontextentity(e)}}const ko=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Un=new Set(["p"]),ly=new Set(["thead","tbody"]),cy=new Set(["dd","dt"]),fy=new Set(["rt","rp"]),fG=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Un],["h1",Un],["h2",Un],["h3",Un],["h4",Un],["h5",Un],["h6",Un],["select",ko],["input",ko],["output",ko],["button",ko],["datalist",ko],["textarea",ko],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",cy],["dt",cy],["address",Un],["article",Un],["aside",Un],["blockquote",Un],["details",Un],["div",Un],["dl",Un],["fieldset",Un],["figcaption",Un],["figure",Un],["footer",Un],["form",Un],["header",Un],["hr",Un],["main",Un],["nav",Un],["ol",Un],["pre",Un],["section",Un],["table",Un],["ul",Un],["rt",fy],["rp",fy],["tbody",ly],["tfoot",ly]]),dG=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),dy=new Set(["math","svg"]),hy=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),hG=/\s|\//;class pG{constructor(e,n={}){var r,i,s,a,o;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e!=null?e:{},this.lowerCaseTagNames=(r=n.lowerCaseTags)!==null&&r!==void 0?r:!n.xmlMode,this.lowerCaseAttributeNames=(i=n.lowerCaseAttributeNames)!==null&&i!==void 0?i:!n.xmlMode,this.tokenizer=new((s=n.Tokenizer)!==null&&s!==void 0?s:cG)(this.options,this),(o=(a=this.cbs).onparserinit)===null||o===void 0||o.call(a,this)}ontext(e,n){var r,i;const s=this.getSlice(e,n);this.endIndex=n-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,s),this.startIndex=n}ontextentity(e){var n,r;const i=this.tokenizer.getSectionStart();this.endIndex=i-1,(r=(n=this.cbs).ontext)===null||r===void 0||r.call(n,V0(e)),this.startIndex=i}isVoidElement(e){return!this.options.xmlMode&&dG.has(e)}onopentagname(e,n){this.endIndex=n;let r=this.getSlice(e,n);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(e){var n,r,i,s;this.openTagStart=this.startIndex,this.tagname=e;const a=!this.options.xmlMode&&fG.get(e);if(a)for(;this.stack.length>0&&a.has(this.stack[this.stack.length-1]);){const o=this.stack.pop();(r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,o,!0)}this.isVoidElement(e)||(this.stack.push(e),dy.has(e)?this.foreignContext.push(!0):hy.has(e)&&this.foreignContext.push(!1)),(s=(i=this.cbs).onopentagname)===null||s===void 0||s.call(i,e),this.cbs.onopentag&&(this.attribs={})}endOpenTag(e){var n,r;this.startIndex=this.openTagStart,this.attribs&&((r=(n=this.cbs).onopentag)===null||r===void 0||r.call(n,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1}onclosetag(e,n){var r,i,s,a,o,A;this.endIndex=n;let u=this.getSlice(e,n);if(this.lowerCaseTagNames&&(u=u.toLowerCase()),(dy.has(u)||hy.has(u))&&this.foreignContext.pop(),this.isVoidElement(u))!this.options.xmlMode&&u==="br"&&((i=(r=this.cbs).onopentagname)===null||i===void 0||i.call(r,"br"),(a=(s=this.cbs).onopentag)===null||a===void 0||a.call(s,"br",{},!0),(A=(o=this.cbs).onclosetag)===null||A===void 0||A.call(o,"br",!1));else{const l=this.stack.lastIndexOf(u);if(l!==-1)if(this.cbs.onclosetag){let c=this.stack.length-l;for(;c--;)this.cbs.onclosetag(this.stack.pop(),c!==0)}else this.stack.length=l;else!this.options.xmlMode&&u==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)}closeCurrentTag(e){var n,r;const i=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===i&&((r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,i,!e),this.stack.pop())}onattribname(e,n){this.startIndex=e;const r=this.getSlice(e,n);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(e,n){this.attribvalue+=this.getSlice(e,n)}onattribentity(e){this.attribvalue+=V0(e)}onattribend(e,n){var r,i;this.endIndex=n,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,e===us.Double?'"':e===us.Single?"'":e===us.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(e){const n=e.search(hG);let r=n<0?e:e.substr(0,n);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(e,n){this.endIndex=n;const r=this.getSlice(e,n);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${i}`,`!${r}`)}this.startIndex=n+1}onprocessinginstruction(e,n){this.endIndex=n;const r=this.getSlice(e,n);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${i}`,`?${r}`)}this.startIndex=n+1}oncomment(e,n,r){var i,s,a,o;this.endIndex=n,(s=(i=this.cbs).oncomment)===null||s===void 0||s.call(i,this.getSlice(e,n-r)),(o=(a=this.cbs).oncommentend)===null||o===void 0||o.call(a),this.startIndex=n+1}oncdata(e,n,r){var i,s,a,o,A,u,l,c,f,d;this.endIndex=n;const w=this.getSlice(e,n-r);this.options.xmlMode||this.options.recognizeCDATA?((s=(i=this.cbs).oncdatastart)===null||s===void 0||s.call(i),(o=(a=this.cbs).ontext)===null||o===void 0||o.call(a,w),(u=(A=this.cbs).oncdataend)===null||u===void 0||u.call(A)):((c=(l=this.cbs).oncomment)===null||c===void 0||c.call(l,`[CDATA[${w}]]`),(d=(f=this.cbs).oncommentend)===null||d===void 0||d.call(f)),this.startIndex=n+1}onend(){var e,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=this.stack.length;r>0;this.cbs.onclosetag(this.stack[--r],!0));}(n=(e=this.cbs).onend)===null||n===void 0||n.call(e)}reset(){var e,n,r,i;(n=(e=this.cbs).onreset)===null||n===void 0||n.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(e){this.reset(),this.end(e)}getSlice(e,n){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(e-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,n-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(e){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)}end(e){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(e){this.write(e)}done(e){this.end(e)}}const py=/["&'<>$\x80-\uFFFF]/g,gG=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),mG=String.prototype.codePointAt!=null?(t,e)=>t.codePointAt(e):(t,e)=>(t.charCodeAt(e)&64512)===55296?(t.charCodeAt(e)-55296)*1024+t.charCodeAt(e+1)-56320+65536:t.charCodeAt(e);function U4(t){let e="",n=0,r;for(;(r=py.exec(t))!==null;){const i=r.index,s=t.charCodeAt(i),a=gG.get(s);a!==void 0?(e+=t.substring(n,i)+a,n=i+1):(e+=`${t.substring(n,i)}&#x${mG(t,i).toString(16)};`,n=py.lastIndex+=+((s&64512)===55296))}return e+t.substr(n)}function L4(t,e){return function(r){let i,s=0,a="";for(;i=t.exec(r);)s!==i.index&&(a+=r.substring(s,i.index)),a+=e.get(i[0].charCodeAt(0)),s=i.index+1;return a+r.substring(s)}}const bG=L4(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),wG=L4(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),yG=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),BG=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),xG=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function EG(t){return t.replace(/"/g,"&quot;")}function CG(t,e){var n;if(!t)return;const r=((n=e.encodeEntities)!==null&&n!==void 0?n:e.decodeEntities)===!1?EG:e.xmlMode||e.encodeEntities!=="utf8"?U4:bG;return Object.keys(t).map(i=>{var s,a;const o=(s=t[i])!==null&&s!==void 0?s:"";return e.xmlMode==="foreign"&&(i=(a=BG.get(i))!==null&&a!==void 0?a:i),!e.emptyAttrs&&!e.xmlMode&&o===""?i:`${i}="${r(o)}"`}).join(" ")}const gy=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function _d(t,e={}){const n="length"in t?t:[t];let r="";for(let i=0;i<n.length;i++)r+=vG(n[i],e);return r}function vG(t,e){switch(t.type){case Fz:return _d(t.children,e);case Rz:case Uz:return kG(t);case Lz:return UG(t);case Qz:return NG(t);case Oz:case _z:case Dz:return IG(t,e);case Nz:return FG(t,e)}}const TG=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),SG=new Set(["svg","math"]);function IG(t,e){var n;e.xmlMode==="foreign"&&(t.name=(n=yG.get(t.name))!==null&&n!==void 0?n:t.name,t.parent&&TG.has(t.parent.name)&&(e=_t(Ie({},e),{xmlMode:!1}))),!e.xmlMode&&SG.has(t.name)&&(e=_t(Ie({},e),{xmlMode:"foreign"}));let r=`<${t.name}`;const i=CG(t.attribs,e);return i&&(r+=` ${i}`),t.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&gy.has(t.name))?(e.xmlMode||(r+=" "),r+="/>"):(r+=">",t.children.length>0&&(r+=_d(t.children,e)),(e.xmlMode||!gy.has(t.name))&&(r+=`</${t.name}>`)),r}function kG(t){return`<${t.data}>`}function FG(t,e){var n;let r=t.data||"";return((n=e.encodeEntities)!==null&&n!==void 0?n:e.decodeEntities)!==!1&&!(!e.xmlMode&&t.parent&&xG.has(t.parent.name))&&(r=e.xmlMode||e.encodeEntities!=="utf8"?U4(r):wG(r)),r}function NG(t){return`<![CDATA[${t.children[0].data}]]>`}function UG(t){return`<!--${t.data}-->`}function LG(t,e){const n=new Vz(void 0,e);return new pG(n,e).end(t),n.root}var hp,my;function OG(){if(my)return hp;my=1;var t=function(M){return e(M)&&!n(M)};function e(N){return!!N&&typeof N=="object"}function n(N){var M=Object.prototype.toString.call(N);return M==="[object RegExp]"||M==="[object Date]"||s(N)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(N){return N.$$typeof===i}function a(N){return Array.isArray(N)?[]:{}}function o(N,M){return M.clone!==!1&&M.isMergeableObject(N)?T(a(N),N,M):N}function A(N,M,q){return N.concat(M).map(function(j){return o(j,q)})}function u(N,M){if(!M.customMerge)return T;var q=M.customMerge(N);return typeof q=="function"?q:T}function l(N){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(N).filter(function(M){return Object.propertyIsEnumerable.call(N,M)}):[]}function c(N){return Object.keys(N).concat(l(N))}function f(N,M){try{return M in N}catch(q){return!1}}function d(N,M){return f(N,M)&&!(Object.hasOwnProperty.call(N,M)&&Object.propertyIsEnumerable.call(N,M))}function w(N,M,q){var j={};return q.isMergeableObject(N)&&c(N).forEach(function(J){j[J]=o(N[J],q)}),c(M).forEach(function(J){d(N,J)||(f(N,J)&&q.isMergeableObject(M[J])?j[J]=u(J,q)(N[J],M[J],q):j[J]=o(M[J],q))}),j}function T(N,M,q){q=q||{},q.arrayMerge=q.arrayMerge||A,q.isMergeableObject=q.isMergeableObject||t,q.cloneUnlessOtherwiseSpecified=o;var j=Array.isArray(M),J=Array.isArray(N),H=j===J;return H?j?q.arrayMerge(N,M,q):w(N,M,q):o(M,q)}T.all=function(M,q){if(!Array.isArray(M))throw new Error("first argument should be an array");return M.reduce(function(j,J){return T(j,J,q)},{})};var D=T;return hp=D,hp}var _G=OG();const O4=Wu(_G);function Lm(t,e,n=()=>{}){if(t===void 0){const r=function(...i){return e(r,...i)};return r}return t>=0?function(...r){return e(Lm(t-1,e,n),...r)}:n}function _4(t,e){let n=0,r=t.length;for(;n<r&&t[n]===e;)++n;for(;r>n&&t[r-1]===e;)--r;return n>0||r<t.length?t.substring(n,r):t}function DG(t,e){let n=t.length;for(;n>0&&t[n-1]===e;)--n;return n<t.length?t.substring(0,n):t}function QG(t){return t.replace(/[\s\S]/g,e=>"\\u"+e.charCodeAt().toString(16).padStart(4,"0"))}function D4(t,e){const n=new Map;for(let r=t.length;r-- >0;){const i=t[r],s=e(i);n.set(s,n.has(s)?O4(i,n.get(s),{arrayMerge:RG}):i)}return[...n.values()].reverse()}const RG=(t,e,n)=>[...e];function oA(t,e){for(const n of e){if(!t)return;t=t[n]}return t}function by(t,e="a",n=26){const r=[];do t-=1,r.push(t%n),t=t/n>>0;while(t>0);const i=e.charCodeAt(0);return r.reverse().map(s=>String.fromCharCode(i+s)).join("")}const pp=["I","X","C","M"],wy=["V","L","D"];function yy(t){return[...t+""].map(e=>+e).reverse().map((e,n)=>e%5<4?(e<5?"":wy[n])+pp[n].repeat(e%5):pp[n]+(e<5?wy[n]:pp[n+1])).reverse().join("")}class Q4{constructor(e,n=void 0){this.lines=[],this.nextLineWords=[],this.maxLineLength=n||e.wordwrap||Number.MAX_VALUE,this.nextLineAvailableChars=this.maxLineLength,this.wrapCharacters=oA(e,["longWordSplit","wrapCharacters"])||[],this.forceWrapOnLimit=oA(e,["longWordSplit","forceWrapOnLimit"])||!1,this.stashedSpace=!1,this.wordBreakOpportunity=!1}pushWord(e,n=!1){this.nextLineAvailableChars<=0&&!n&&this.startNewLine();const r=this.nextLineWords.length===0,i=e.length+(r?0:1);if(i<=this.nextLineAvailableChars||n)this.nextLineWords.push(e),this.nextLineAvailableChars-=i;else{const[s,...a]=this.splitLongWord(e);r||this.startNewLine(),this.nextLineWords.push(s),this.nextLineAvailableChars-=s.length;for(const o of a)this.startNewLine(),this.nextLineWords.push(o),this.nextLineAvailableChars-=o.length}}popWord(){const e=this.nextLineWords.pop();if(e!==void 0){const n=this.nextLineWords.length===0,r=e.length+(n?0:1);this.nextLineAvailableChars+=r}return e}concatWord(e,n=!1){if(this.wordBreakOpportunity&&e.length>this.nextLineAvailableChars)this.pushWord(e,n),this.wordBreakOpportunity=!1;else{const r=this.popWord();this.pushWord(r?r.concat(e):e,n)}}startNewLine(e=1){this.lines.push(this.nextLineWords),e>1&&this.lines.push(...Array.from({length:e-1},()=>[])),this.nextLineWords=[],this.nextLineAvailableChars=this.maxLineLength}isEmpty(){return this.lines.length===0&&this.nextLineWords.length===0}clear(){this.lines.length=0,this.nextLineWords.length=0,this.nextLineAvailableChars=this.maxLineLength}toString(){return[...this.lines,this.nextLineWords].map(e=>e.join(" ")).join(`
`)}splitLongWord(e){const n=[];let r=0;for(;e.length>this.maxLineLength;){const i=e.substring(0,this.maxLineLength),s=e.substring(this.maxLineLength),a=i.lastIndexOf(this.wrapCharacters[r]);if(a>-1)e=i.substring(a+1)+s,n.push(i.substring(0,a+1));else if(r++,r<this.wrapCharacters.length)e=i+s;else{if(this.forceWrapOnLimit){if(n.push(i),e=s,e.length>this.maxLineLength)continue}else e=i+s;break}}return n.push(e),n}}class cl{constructor(e=null){this.next=e}getRoot(){return this.next?this.next:this}}class As extends cl{constructor(e,n=null,r=1,i=void 0){super(n),this.leadingLineBreaks=r,this.inlineTextBuilder=new Q4(e,i),this.rawText="",this.stashedLineBreaks=0,this.isPre=n&&n.isPre,this.isNoWrap=n&&n.isNoWrap}}class By extends As{constructor(e,n=null,{interRowLineBreaks:r=1,leadingLineBreaks:i=2,maxLineLength:s=void 0,maxPrefixLength:a=0,prefixAlign:o="left"}={}){super(e,n,i,s),this.maxPrefixLength=a,this.prefixAlign=o,this.interRowLineBreaks=r}}class Ma extends As{constructor(e,n=null,{leadingLineBreaks:r=1,maxLineLength:i=void 0,prefix:s=""}={}){super(e,n,r,i),this.prefix=s}}class xy extends cl{constructor(e=null){super(e),this.rows=[],this.isPre=e&&e.isPre,this.isNoWrap=e&&e.isNoWrap}}class Ey extends cl{constructor(e=null){super(e),this.cells=[],this.isPre=e&&e.isPre,this.isNoWrap=e&&e.isNoWrap}}class Pa extends cl{constructor(e,n=null,r=void 0){super(n),this.inlineTextBuilder=new Q4(e,r),this.rawText="",this.stashedLineBreaks=0,this.isPre=n&&n.isPre,this.isNoWrap=n&&n.isNoWrap}}class MG extends cl{constructor(e=null,n){super(e),this.transform=n}}function PG(t){return[...t].map(e=>"\\u"+e.charCodeAt(0).toString(16).padStart(4,"0")).join("")}class HG{constructor(e){this.whitespaceChars=e.preserveNewlines?e.whitespaceCharacters.replace(/\n/g,""):e.whitespaceCharacters;const n=PG(this.whitespaceChars);if(this.leadingWhitespaceRe=new RegExp(`^[${n}]`),this.trailingWhitespaceRe=new RegExp(`[${n}]$`),this.allWhitespaceOrEmptyRe=new RegExp(`^[${n}]*$`),this.newlineOrNonWhitespaceRe=new RegExp(`(\\n|[^\\n${n}])`,"g"),this.newlineOrNonNewlineStringRe=new RegExp("(\\n|[^\\n]+)","g"),e.preserveNewlines){const r=new RegExp(`\\n|[^\\n${n}]+`,"gm");this.shrinkWrapAdd=function(i,s,a=A=>A,o=!1){if(!i)return;const A=s.stashedSpace;let u=!1,l=r.exec(i);if(l)for(u=!0,l[0]===`
`?s.startNewLine():A||this.testLeadingWhitespace(i)?s.pushWord(a(l[0]),o):s.concatWord(a(l[0]),o);(l=r.exec(i))!==null;)l[0]===`
`?s.startNewLine():s.pushWord(a(l[0]),o);s.stashedSpace=A&&!u||this.testTrailingWhitespace(i)}}else{const r=new RegExp(`[^${n}]+`,"g");this.shrinkWrapAdd=function(i,s,a=A=>A,o=!1){if(!i)return;const A=s.stashedSpace;let u=!1,l=r.exec(i);if(l)for(u=!0,A||this.testLeadingWhitespace(i)?s.pushWord(a(l[0]),o):s.concatWord(a(l[0]),o);(l=r.exec(i))!==null;)s.pushWord(a(l[0]),o);s.stashedSpace=A&&!u||this.testTrailingWhitespace(i)}}}addLiteral(e,n,r=!0){if(!e)return;const i=n.stashedSpace;let s=!1,a=this.newlineOrNonNewlineStringRe.exec(e);if(a)for(s=!0,a[0]===`
`?n.startNewLine():i?n.pushWord(a[0],r):n.concatWord(a[0],r);(a=this.newlineOrNonNewlineStringRe.exec(e))!==null;)a[0]===`
`?n.startNewLine():n.pushWord(a[0],r);n.stashedSpace=i&&!s}testLeadingWhitespace(e){return this.leadingWhitespaceRe.test(e)}testTrailingWhitespace(e){return this.trailingWhitespaceRe.test(e)}testContainsWords(e){return!this.allWhitespaceOrEmptyRe.test(e)}countNewlinesNoWords(e){this.newlineOrNonWhitespaceRe.lastIndex=0;let n=0,r;for(;(r=this.newlineOrNonWhitespaceRe.exec(e))!==null;)if(r[0]===`
`)n++;else return 0;return n}}class jG{constructor(e,n,r=void 0){this.options=e,this.picker=n,this.metadata=r,this.whitespaceProcessor=new HG(e),this._stackItem=new As(e),this._wordTransformer=void 0}pushWordTransform(e){this._wordTransformer=new MG(this._wordTransformer,e)}popWordTransform(){if(!this._wordTransformer)return;const e=this._wordTransformer.transform;return this._wordTransformer=this._wordTransformer.next,e}startNoWrap(){this._stackItem.isNoWrap=!0}stopNoWrap(){this._stackItem.isNoWrap=!1}_getCombinedWordTransformer(){const e=this._wordTransformer?r=>R4(r,this._wordTransformer):void 0,n=this.options.encodeCharacters;return e?n?r=>n(e(r)):e:n}_popStackItem(){const e=this._stackItem;return this._stackItem=e.next,e}addLineBreak(){(this._stackItem instanceof As||this._stackItem instanceof Ma||this._stackItem instanceof Pa)&&(this._stackItem.isPre?this._stackItem.rawText+=`
`:this._stackItem.inlineTextBuilder.startNewLine())}addWordBreakOpportunity(){(this._stackItem instanceof As||this._stackItem instanceof Ma||this._stackItem instanceof Pa)&&(this._stackItem.inlineTextBuilder.wordBreakOpportunity=!0)}addInline(e,{noWordTransform:n=!1}={}){if(this._stackItem instanceof As||this._stackItem instanceof Ma||this._stackItem instanceof Pa){if(this._stackItem.isPre){this._stackItem.rawText+=e;return}if(!(e.length===0||this._stackItem.stashedLineBreaks&&!this.whitespaceProcessor.testContainsWords(e))){if(this.options.preserveNewlines){const r=this.whitespaceProcessor.countNewlinesNoWords(e);if(r>0){this._stackItem.inlineTextBuilder.startNewLine(r);return}}this._stackItem.stashedLineBreaks&&this._stackItem.inlineTextBuilder.startNewLine(this._stackItem.stashedLineBreaks),this.whitespaceProcessor.shrinkWrapAdd(e,this._stackItem.inlineTextBuilder,n?void 0:this._getCombinedWordTransformer(),this._stackItem.isNoWrap),this._stackItem.stashedLineBreaks=0}}}addLiteral(e){if((this._stackItem instanceof As||this._stackItem instanceof Ma||this._stackItem instanceof Pa)&&e.length!==0){if(this._stackItem.isPre){this._stackItem.rawText+=e;return}this._stackItem.stashedLineBreaks&&this._stackItem.inlineTextBuilder.startNewLine(this._stackItem.stashedLineBreaks),this.whitespaceProcessor.addLiteral(e,this._stackItem.inlineTextBuilder,this._stackItem.isNoWrap),this._stackItem.stashedLineBreaks=0}}openBlock({leadingLineBreaks:e=1,reservedLineLength:n=0,isPre:r=!1}={}){const i=Math.max(20,this._stackItem.inlineTextBuilder.maxLineLength-n);this._stackItem=new As(this.options,this._stackItem,e,i),r&&(this._stackItem.isPre=!0)}closeBlock({trailingLineBreaks:e=1,blockTransform:n=void 0}={}){const r=this._popStackItem(),i=n?n(Oa(r)):Oa(r);hc(this._stackItem,i,r.leadingLineBreaks,Math.max(r.stashedLineBreaks,e))}openList({maxPrefixLength:e=0,prefixAlign:n="left",interRowLineBreaks:r=1,leadingLineBreaks:i=2}={}){this._stackItem=new By(this.options,this._stackItem,{interRowLineBreaks:r,leadingLineBreaks:i,maxLineLength:this._stackItem.inlineTextBuilder.maxLineLength,maxPrefixLength:e,prefixAlign:n})}openListItem({prefix:e=""}={}){if(!(this._stackItem instanceof By))throw new Error("Can't add a list item to something that is not a list! Check the formatter.");const n=this._stackItem,r=Math.max(e.length,n.maxPrefixLength),i=Math.max(20,n.inlineTextBuilder.maxLineLength-r);this._stackItem=new Ma(this.options,n,{prefix:e,maxLineLength:i,leadingLineBreaks:n.interRowLineBreaks})}closeListItem(){const e=this._popStackItem(),n=e.next,r=Math.max(e.prefix.length,n.maxPrefixLength),i=`
`+" ".repeat(r),a=(n.prefixAlign==="right"?e.prefix.padStart(r):e.prefix.padEnd(r))+Oa(e).replace(/\n/g,i);hc(n,a,e.leadingLineBreaks,Math.max(e.stashedLineBreaks,n.interRowLineBreaks))}closeList({trailingLineBreaks:e=2}={}){const n=this._popStackItem(),r=Oa(n);r&&hc(this._stackItem,r,n.leadingLineBreaks,e)}openTable(){this._stackItem=new xy(this._stackItem)}openTableRow(){if(!(this._stackItem instanceof xy))throw new Error("Can't add a table row to something that is not a table! Check the formatter.");this._stackItem=new Ey(this._stackItem)}openTableCell({maxColumnWidth:e=void 0}={}){if(!(this._stackItem instanceof Ey))throw new Error("Can't add a table cell to something that is not a table row! Check the formatter.");this._stackItem=new Pa(this.options,this._stackItem,e)}closeTableCell({colspan:e=1,rowspan:n=1}={}){const r=this._popStackItem(),i=_4(Oa(r),`
`);r.next.cells.push({colspan:e,rowspan:n,text:i})}closeTableRow(){const e=this._popStackItem();e.next.rows.push(e.cells)}closeTable({tableToString:e,leadingLineBreaks:n=2,trailingLineBreaks:r=2}){const i=this._popStackItem(),s=e(i.rows);s&&hc(this._stackItem,s,n,r)}toString(){return Oa(this._stackItem.getRoot())}}function Oa(t){if(!(t instanceof As||t instanceof Ma||t instanceof Pa))throw new Error("Only blocks, list items and table cells can be requested for text contents.");return t.inlineTextBuilder.isEmpty()?t.rawText:t.rawText+t.inlineTextBuilder.toString()}function hc(t,e,n,r){if(!(t instanceof As||t instanceof Ma||t instanceof Pa))throw new Error("Only blocks, list items and table cells can contain text.");const i=Oa(t),s=Math.max(t.stashedLineBreaks,n);t.inlineTextBuilder.clear(),i?t.rawText=i+`
`.repeat(s)+e:(t.rawText=e,t.leadingLineBreaks=s),t.stashedLineBreaks=r}function R4(t,e){return e?R4(e.transform(t),e.next):t}function KG(t={}){const e=t.selectors.filter(a=>!a.format);if(e.length)throw new Error("Following selectors have no specified format: "+e.map(a=>`\`${a.selector}\``).join(", "));const n=new ay(t.selectors.map(a=>[a.selector,a])).build(Ay);typeof t.encodeCharacters!="function"&&(t.encodeCharacters=GG(t.encodeCharacters));const r=new ay(t.baseElements.selectors.map((a,o)=>[a,o+1])).build(Ay);function i(a){return zG(a,t,r)}const s=Lm(t.limits.maxDepth,qG,function(a,o){o.addInline(t.limits.ellipsis||"")});return function(a,o=void 0){return VG(a,o,t,n,i,s)}}function VG(t,e,n,r,i,s){const a=n.limits.maxInputLength;a&&t&&t.length>a&&(console.warn(`Input length ${t.length} is above allowed limit of ${a}. Truncating without ellipsis.`),t=t.substring(0,a));const o=LG(t,{decodeEntities:n.decodeEntities}),A=i(o.children),u=new jG(n,r,e);return s(A,u),u.toString()}function zG(t,e,n){const r=[];function i(a,o){o=o.slice(0,e.limits.maxChildNodes);for(const A of o){if(A.type!=="tag")continue;const u=n.pick1(A);if(u>0?r.push({selectorIndex:u,element:A}):A.children&&a(A.children),r.length>=e.limits.maxBaseElements)return}}return Lm(e.limits.maxDepth,i)(t),e.baseElements.orderBy!=="occurrence"&&r.sort((a,o)=>a.selectorIndex-o.selectorIndex),e.baseElements.returnDomByDefault&&r.length===0?t:r.map(a=>a.element)}function qG(t,e,n){if(!e)return;const r=n.options;e.length>r.limits.maxChildNodes&&(e=e.slice(0,r.limits.maxChildNodes),e.push({data:r.limits.ellipsis,type:"text"}));for(const s of e)switch(s.type){case"text":{n.addInline(s.data);break}case"tag":{const a=n.picker.pick1(s),o=r.formatters[a.format];o(s,t,n,a.options||{});break}}}function GG(t){if(!t||Object.keys(t).length===0)return;const e=Object.entries(t).filter(([,s])=>s!==!1),n=new RegExp(e.map(([s])=>`(${QG([...s][0])})`).join("|"),"g"),r=e.map(([,s])=>s),i=(s,...a)=>r[a.findIndex(o=>o)];return s=>s.replace(n,i)}function WG(t,e,n,r){}function $G(t,e,n,r){n.addLiteral(r.string||"")}function YG(t,e,n,r){n.openBlock({leadingLineBreaks:r.leadingLineBreaks||2}),n.addLiteral(r.string||""),n.closeBlock({trailingLineBreaks:r.trailingLineBreaks||2})}function XG(t,e,n,r){e(t.children,n)}function JG(t,e,n,r){n.openBlock({leadingLineBreaks:r.leadingLineBreaks||2}),e(t.children,n),n.closeBlock({trailingLineBreaks:r.trailingLineBreaks||2})}function M4(t){const e=t.attribs&&t.attribs.length?" "+Object.entries(t.attribs).map(([n,r])=>r===""?n:`${n}=${r.replace(/"/g,"&quot;")}`).join(" "):"";return`<${t.name}${e}>`}function P4(t){return`</${t.name}>`}function ZG(t,e,n,r){n.startNoWrap(),n.addLiteral(M4(t)),n.stopNoWrap(),e(t.children,n),n.startNoWrap(),n.addLiteral(P4(t)),n.stopNoWrap()}function eW(t,e,n,r){n.openBlock({leadingLineBreaks:r.leadingLineBreaks||2}),n.startNoWrap(),n.addLiteral(M4(t)),n.stopNoWrap(),e(t.children,n),n.startNoWrap(),n.addLiteral(P4(t)),n.stopNoWrap(),n.closeBlock({trailingLineBreaks:r.trailingLineBreaks||2})}function tW(t,e,n,r){n.startNoWrap(),n.addLiteral(_d(t,{decodeEntities:n.options.decodeEntities})),n.stopNoWrap()}function nW(t,e,n,r){n.openBlock({leadingLineBreaks:r.leadingLineBreaks||2}),n.startNoWrap(),n.addLiteral(_d(t,{decodeEntities:n.options.decodeEntities})),n.stopNoWrap(),n.closeBlock({trailingLineBreaks:r.trailingLineBreaks||2})}function rW(t,e,n,r){n.addLiteral(r.prefix||""),e(t.children,n),n.addLiteral(r.suffix||"")}var iW=Object.freeze({__proto__:null,block:JG,blockHtml:nW,blockString:YG,blockTag:eW,inline:XG,inlineHtml:tW,inlineString:$G,inlineSurround:rW,inlineTag:ZG,skip:WG});function qf(t,e){return t[e]||(t[e]=[]),t[e]}function sW(t,e=0){for(;t[e];)e++;return e}function aW(t,e){for(let n=0;n<e;n++){const r=qf(t,n);for(let i=0;i<n;i++){const s=qf(t,i);if(r[i]||s[n]){const a=r[i];r[i]=s[n],s[n]=a}}}}function oW(t,e,n,r){for(let i=0;i<t.rowspan;i++){const s=qf(e,n+i);for(let a=0;a<t.colspan;a++)s[r+a]=t}}function q0(t,e){return t[e]===void 0&&(t[e]=e===0?0:1+q0(t,e-1)),t[e]}function Cy(t,e,n,r){t[e+n]=Math.max(q0(t,e+n),q0(t,e)+r)}function AW(t,e,n){const r=[];let i=0;const s=t.length,a=[0];for(let u=0;u<s;u++){const l=qf(r,u),c=t[u];let f=0;for(let d=0;d<c.length;d++){const w=c[d];f=sW(l,f),oW(w,r,u,f),f+=w.colspan,w.lines=w.text.split(`
`);const T=w.lines.length;Cy(a,u,w.rowspan,T+e)}i=l.length>i?l.length:i}aW(r,s>i?s:i);const o=[],A=[0];for(let u=0;u<i;u++){let l=0,c;const f=Math.min(s,r[u].length);for(;l<f;)if(c=r[u][l],c){if(!c.rendered){let d=0;for(let w=0;w<c.lines.length;w++){const T=c.lines[w],D=a[l]+w;o[D]=(o[D]||"").padEnd(A[u])+T,d=T.length>d?T.length:d}Cy(A,u,c.colspan,d+n),c.rendered=!0}l+=c.rowspan}else{const d=a[l];o[d]=o[d]||"",l++}}return o.join(`
`)}function uW(t,e,n,r){n.addLineBreak()}function lW(t,e,n,r){n.addWordBreakOpportunity()}function cW(t,e,n,r){n.openBlock({leadingLineBreaks:r.leadingLineBreaks||2}),n.addInline("-".repeat(r.length||n.options.wordwrap||40)),n.closeBlock({trailingLineBreaks:r.trailingLineBreaks||2})}function fW(t,e,n,r){n.openBlock({leadingLineBreaks:r.leadingLineBreaks||2}),e(t.children,n),n.closeBlock({trailingLineBreaks:r.trailingLineBreaks||2})}function dW(t,e,n,r){n.openBlock({isPre:!0,leadingLineBreaks:r.leadingLineBreaks||2}),e(t.children,n),n.closeBlock({trailingLineBreaks:r.trailingLineBreaks||2})}function hW(t,e,n,r){n.openBlock({leadingLineBreaks:r.leadingLineBreaks||2}),r.uppercase!==!1?(n.pushWordTransform(i=>i.toUpperCase()),e(t.children,n),n.popWordTransform()):e(t.children,n),n.closeBlock({trailingLineBreaks:r.trailingLineBreaks||2})}function pW(t,e,n,r){n.openBlock({leadingLineBreaks:r.leadingLineBreaks||2,reservedLineLength:2}),e(t.children,n),n.closeBlock({trailingLineBreaks:r.trailingLineBreaks||2,blockTransform:i=>(r.trimEmptyLines!==!1?_4(i,`
`):i).split(`
`).map(s=>"> "+s).join(`
`)})}function G0(t,e){if(!e)return t;const n=typeof e[0]=="string"?e[0]:"[",r=typeof e[1]=="string"?e[1]:"]";return n+t+r}function H4(t,e,n,r,i){const s=typeof e=="function"?e(t,r,i):t;return s[0]==="/"&&n?DG(n,"/")+s:s}function gW(t,e,n,r){const i=t.attribs||{},s=i.alt?i.alt:"",a=i.src?H4(i.src,r.pathRewrite,r.baseUrl,n.metadata,t):"",o=a?s?s+" "+G0(a,r.linkBrackets):G0(a,r.linkBrackets):s;n.addInline(o,{noWordTransform:!0})}function mW(t,e,n,r){function i(){if(r.ignoreHref||!t.attribs||!t.attribs.href)return"";let a=t.attribs.href.replace(/^mailto:/,"");return r.noAnchorUrl&&a[0]==="#"?"":(a=H4(a,r.pathRewrite,r.baseUrl,n.metadata,t),a)}const s=i();if(!s)e(t.children,n);else{let a="";n.pushWordTransform(A=>(A&&(a+=A),A)),e(t.children,n),n.popWordTransform(),r.hideLinkHrefIfSameAsText&&s===a||n.addInline(a?" "+G0(s,r.linkBrackets):s,{noWordTransform:!0})}}function j4(t,e,n,r,i){const s=oA(t,["parent","name"])==="li";let a=0;const o=(t.children||[]).filter(A=>A.type!=="text"||!/^\s*$/.test(A.data)).map(function(A){if(A.name!=="li")return{node:A,prefix:""};const u=s?i().trimStart():i();return u.length>a&&(a=u.length),{node:A,prefix:u}});if(o.length){n.openList({interRowLineBreaks:1,leadingLineBreaks:s?1:r.leadingLineBreaks||2,maxPrefixLength:a,prefixAlign:"left"});for(const{node:A,prefix:u}of o)n.openListItem({prefix:u}),e([A],n),n.closeListItem();n.closeList({trailingLineBreaks:s?1:r.trailingLineBreaks||2})}}function bW(t,e,n,r){const i=r.itemPrefix||" * ";return j4(t,e,n,r,()=>i)}function wW(t,e,n,r){let i=Number(t.attribs.start||"1");const s=yW(t.attribs.type);return j4(t,e,n,r,()=>" "+s(i++)+". ")}function yW(t="1"){switch(t){case"a":return e=>by(e,"a");case"A":return e=>by(e,"A");case"i":return e=>yy(e).toLowerCase();case"I":return e=>yy(e);case"1":default:return e=>e.toString()}}function BW(t){const e=[],n=[];for(const r of t)r.startsWith(".")?e.push(r.substring(1)):r.startsWith("#")&&n.push(r.substring(1));return{classes:e,ids:n}}function xW(t,e){if(e===!0)return!0;if(!t)return!1;const{classes:n,ids:r}=BW(e),i=(t.class||"").split(" "),s=(t.id||"").split(" ");return i.some(a=>n.includes(a))||s.some(a=>r.includes(a))}function EW(t,e,n,r){return xW(t.attribs,n.options.tables)?K4(t,e,n,r):CW(t,e,n,r)}function CW(t,e,n,r){n.openBlock({leadingLineBreaks:r.leadingLineBreaks}),e(t.children,n),n.closeBlock({trailingLineBreaks:r.trailingLineBreaks})}function K4(t,e,n,r){n.openTable(),t.children.forEach(s),n.closeTable({tableToString:a=>{var o,A;return AW(a,(o=r.rowSpacing)!=null?o:0,(A=r.colSpacing)!=null?A:3)},leadingLineBreaks:r.leadingLineBreaks,trailingLineBreaks:r.trailingLineBreaks});function i(a){const o=+oA(a,["attribs","colspan"])||1,A=+oA(a,["attribs","rowspan"])||1;n.openTableCell({maxColumnWidth:r.maxColumnWidth}),e(a.children,n),n.closeTableCell({colspan:o,rowspan:A})}function s(a){if(a.type!=="tag")return;const o=r.uppercaseHeaderCells!==!1?A=>{n.pushWordTransform(u=>u.toUpperCase()),i(A),n.popWordTransform()}:i;switch(a.name){case"thead":case"tbody":case"tfoot":case"center":a.children.forEach(s);return;case"tr":{n.openTableRow();for(const A of a.children)if(A.type==="tag")switch(A.name){case"th":{o(A);break}case"td":{i(A);break}}n.closeTableRow();break}}}}var vW=Object.freeze({__proto__:null,anchor:mW,blockquote:pW,dataTable:K4,heading:hW,horizontalLine:cW,image:gW,lineBreak:uW,orderedList:wW,paragraph:fW,pre:dW,table:EW,unorderedList:bW,wbr:lW});const TW={baseElements:{selectors:["body"],orderBy:"selectors",returnDomByDefault:!0},decodeEntities:!0,encodeCharacters:{},formatters:{},limits:{ellipsis:"...",maxBaseElements:void 0,maxChildNodes:void 0,maxDepth:void 0,maxInputLength:1<<24},longWordSplit:{forceWrapOnLimit:!1,wrapCharacters:[]},preserveNewlines:!1,selectors:[{selector:"*",format:"inline"},{selector:"a",format:"anchor",options:{baseUrl:null,hideLinkHrefIfSameAsText:!1,ignoreHref:!1,linkBrackets:["[","]"],noAnchorUrl:!0}},{selector:"article",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"aside",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"blockquote",format:"blockquote",options:{leadingLineBreaks:2,trailingLineBreaks:2,trimEmptyLines:!0}},{selector:"br",format:"lineBreak"},{selector:"div",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"footer",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"form",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"h1",format:"heading",options:{leadingLineBreaks:3,trailingLineBreaks:2,uppercase:!0}},{selector:"h2",format:"heading",options:{leadingLineBreaks:3,trailingLineBreaks:2,uppercase:!0}},{selector:"h3",format:"heading",options:{leadingLineBreaks:3,trailingLineBreaks:2,uppercase:!0}},{selector:"h4",format:"heading",options:{leadingLineBreaks:2,trailingLineBreaks:2,uppercase:!0}},{selector:"h5",format:"heading",options:{leadingLineBreaks:2,trailingLineBreaks:2,uppercase:!0}},{selector:"h6",format:"heading",options:{leadingLineBreaks:2,trailingLineBreaks:2,uppercase:!0}},{selector:"header",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"hr",format:"horizontalLine",options:{leadingLineBreaks:2,length:void 0,trailingLineBreaks:2}},{selector:"img",format:"image",options:{baseUrl:null,linkBrackets:["[","]"]}},{selector:"main",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"nav",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"ol",format:"orderedList",options:{leadingLineBreaks:2,trailingLineBreaks:2}},{selector:"p",format:"paragraph",options:{leadingLineBreaks:2,trailingLineBreaks:2}},{selector:"pre",format:"pre",options:{leadingLineBreaks:2,trailingLineBreaks:2}},{selector:"section",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"table",format:"table",options:{colSpacing:3,leadingLineBreaks:2,maxColumnWidth:60,rowSpacing:0,trailingLineBreaks:2,uppercaseHeaderCells:!0}},{selector:"ul",format:"unorderedList",options:{itemPrefix:" * ",leadingLineBreaks:2,trailingLineBreaks:2}},{selector:"wbr",format:"wbr"}],tables:[],whitespaceCharacters:` 	\r
\f`,wordwrap:80},SW=(t,e,n)=>[...t,...e],V4=(t,e,n)=>[...e],IW=(t,e,n)=>t.some(r=>typeof r=="object")?SW(t,e):V4(t,e);function kW(t={}){return t=O4(TW,t,{arrayMerge:V4,customMerge:e=>e==="selectors"?IW:void 0}),t.formatters=Object.assign({},iW,vW,t.formatters),t.selectors=D4(t.selectors,e=>e.selector),NW(t),KG(t)}function FW(t,e={},n=void 0){return kW(e)(t,n)}function NW(t){if(t.tags){const n=Object.entries(t.tags).map(([r,i])=>_t(Ie({},i),{selector:r||"*"}));t.selectors.push(...n),t.selectors=D4(t.selectors,r=>r.selector)}function e(n,r,i){const s=r.pop();for(const a of r){let o=n[a];o||(o={},n[a]=o),n=o}n[s]=i}if(t.baseElement){const n=t.baseElement;e(t,["baseElements","selectors"],Array.isArray(n)?n:[n])}t.returnDomByDefault!==void 0&&e(t,["baseElements","returnDomByDefault"],t.returnDomByDefault);for(const n of t.selectors)n.format==="anchor"&&oA(n,["options","noLinkBrackets"])&&e(n,["options","linkBrackets"],!1)}const UW=({closeFnc:t,isOpen:e,handleSubmit:n,errors:r,setErrors:i,formData:s,setFormData:a})=>{var gt,mt,yt;const[o,A]=Ve.useState(0),[u,l]=Ve.useState(null),[c,f]=Ve.useState(!1),[d,w]=Ve.useState([]),[T,D]=Ve.useState(!1),[N,M]=Ve.useState(!1),q=N?s.keywords:s.keywords.slice(0,18),j=Gf();Ve.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[e]);const J=()=>{if(o===0&&!u){i(Ge=>_t(Ie({},Ge),{template:!0})),wt.error("Please select a template before proceeding.");return}i(Ge=>_t(Ie({},Ge),{template:!1})),A(1)},H=()=>A(0),ve=()=>t(),De=Ge=>{l(Pd[Ge].name),a(ne=>_t(Ie({},ne),{template:Pd[Ge].name})),i(ne=>_t(Ie({},ne),{template:!1}))},Fe=(Ge,ne)=>{a(Ft=>_t(Ie({},Ft),{[ne]:Ge.target.value})),i(Ft=>_t(Ie({},Ft),{[ne]:!1}))},me=Ge=>{a(ne=>_t(Ie({},ne),{tone:Ge})),i(ne=>_t(Ie({},ne),{tone:!1}))},qe=(Ge,ne)=>{const Ft=ne==="keywords"?"keywordInput":"focusKeywordInput";a(Lt=>_t(Ie({},Lt),{[Ft]:Ge.target.value})),i(Lt=>_t(Ie({},Lt),{[ne]:!1}))},Me=Ge=>{const ne=Ge==="keywords"?"keywordInput":"focusKeywordInput",Ft=s[ne].trim();if(!Ft){i(vt=>_t(Ie({},vt),{[Ge]:!0})),wt.error("Please enter a keyword.");return}const Lt=new Set(s[Ge].map(vt=>vt.trim().toLowerCase())),pe=Ft.split(",").map(vt=>vt.trim()).filter(vt=>vt&&!Lt.has(vt.toLowerCase()));if(pe.length===0){i(vt=>_t(Ie({},vt),{[Ge]:!0})),wt.error("Please enter valid, non-duplicate keywords separated by commas.");return}if(Ge==="focusKeywords"&&s[Ge].length+pe.length>3){i(vt=>_t(Ie({},vt),{[Ge]:!0})),wt.error("You can only add up to 3 focus keywords.");return}a(vt=>_t(Ie({},vt),{[Ge]:[...vt[Ge],...pe],[ne]:""})),i(vt=>_t(Ie({},vt),{[Ge]:!1}))},Ke=(Ge,ne)=>{const Ft=[...s[ne]];Ft.splice(Ge,1),a(_t(Ie({},s),{[ne]:Ft}))},tt=(Ge,ne)=>{Ge.key==="Enter"&&(Ge.preventDefault(),Me(ne))},st=()=>Ci(null,null,function*(){if(!s.topic.trim()){i(Ge=>_t(Ie({},Ge),{topic:!0})),wt.error("Please enter a topic before generating titles.");return}if(s.focusKeywords.length<1&&s.keywords.length<1){i(Ge=>_t(Ie({},Ge),{focusKeywords:!0,keywords:!0})),wt.error("Please add at least one focus keyword or secondary keyword.");return}f(!0);try{const Ge=yield j(nv(Ie({keywords:s.focusKeywords,focusKeywords:s.keywords,topic:s.topic,template:u},T&&{oldTitles:d}))).unwrap();w(Ge),D(!0),wt.success("Titles generated successfully!")}catch(Ge){console.error("Failed to generate titles:",Ge),wt.error((Ge==null?void 0:Ge.message)||"Failed to generate titles. Please try again.")}finally{f(!1)}});return Ve.useEffect(()=>{D(!1),w([])},[]),I.jsx(Os,{title:o===0?"Select Template":"Create Simple Blog",open:e,onCancel:ve,footer:o===0?[I.jsx("button",{onClick:J,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90","aria-label":"Proceed to next step",children:"Next"},"next")]:[I.jsx("button",{onClick:H,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300","aria-label":"Go to previous step",children:"Previous"},"previous"),I.jsx("button",{onClick:n,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3","aria-label":"Submit blog",children:"Submit"},"submit")],width:800,centered:!0,children:I.jsxs("div",{className:"p-2",children:[o===0&&I.jsxs("div",{className:"p-3",children:[I.jsx(hv,{children:Pd.map((Ge,ne)=>I.jsx("div",{className:`cursor-pointer transition-all duration-200 ${u===Ge.name?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>De(ne),children:I.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[I.jsx("div",{className:"relative",children:I.jsx("img",{src:Ge.imgSrc||"/placeholder.svg",alt:Ge.name,className:"w-full h-full object-cover"})}),I.jsxs("div",{className:"p-2 mt-2",children:[I.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:Ge.name}),I.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:Ge.description})]})]})},ne))}),r.template&&I.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Please select a template."})]}),o===1&&I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{children:[I.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Topic ",I.jsx("span",{className:"text-red-500",children:"*"})]}),I.jsx(ia,{value:s.topic,onChange:Ge=>Fe(Ge,"topic"),placeholder:"Enter blog topic...",className:`w-full px-3 py-2 border ${r.topic?"border-red-500":"border-gray-200"} rounded-md text-sm focus:ring-2 focus:ring-blue-600`,"aria-label":"Blog topic"}),r.topic&&I.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Topic cannot be empty."})]}),I.jsxs("div",{children:[I.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tone ",I.jsx("span",{className:"text-red-500",children:"*"})]}),I.jsxs(Us,{value:s.tone,onChange:me,className:`w-full ${r.tone?"border-red-500":""}`,"aria-label":"Blog tone",children:[I.jsx(Us.Option,{value:"Informative",children:"Informative"}),I.jsx(Us.Option,{value:"Casual",children:"Casual"}),I.jsx(Us.Option,{value:"Professional",children:"Professional"}),I.jsx(Us.Option,{value:"Persuasive",children:"Persuasive"}),I.jsx(Us.Option,{value:"Humorous",children:"Humorous"})]}),r.tone&&I.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Tone cannot be empty."})]}),I.jsxs("div",{children:[I.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Focus Keywords (max 3) ",I.jsx("span",{className:"text-red-500",children:"*"})]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx(ia,{value:s.focusKeywordInput,onChange:Ge=>qe(Ge,"focusKeywords"),onKeyDown:Ge=>tt(Ge,"focusKeywords"),placeholder:"Enter focus keywords, separated by commas",className:`flex-1 px-3 py-2 border ${r.focusKeywords?"border-red-500":"border-gray-200"} rounded-md text-sm focus:ring-2 focus:ring-blue-600`,"aria-label":"Focus keywords"}),I.jsx("button",{onClick:()=>Me("focusKeywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center","aria-label":"Add focus keyword",children:I.jsx(Dc,{size:16})})]}),I.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.focusKeywords.map((Ge,ne)=>I.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[Ge,I.jsx("button",{onClick:()=>Ke(ne,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove focus keyword ${Ge}`,children:I.jsx(_c,{size:16})})]},ne))})]}),I.jsxs("div",{children:[I.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Keywords ",I.jsx("span",{className:"text-red-500",children:"*"})]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx(ia,{value:s.keywordInput,onChange:Ge=>qe(Ge,"keywords"),onKeyDown:Ge=>tt(Ge,"keywords"),placeholder:"Enter secondary keywords, separated by commas",className:`flex-1 px-3 py-2 border ${r.keywords?"border-red-500":"border-gray-200"} rounded-md text-sm focus:ring-2 focus:ring-blue-600`,"aria-label":"Secondary keywords"}),I.jsx("button",{onClick:()=>Me("keywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center","aria-label":"Add keyword",children:I.jsx(Dc,{size:16})})]}),I.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[q.map((Ge,ne)=>I.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[Ge,I.jsx("button",{onClick:()=>Ke(ne,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove keyword ${Ge}`,children:I.jsx(_c,{size:16})})]},`${Ge}-${ne}`)),s.keywords.length>18&&I.jsx("span",{onClick:()=>M(Ge=>!Ge),className:"text-xs font-medium text-blue-600 self-center cursor-pointer flex items-center gap-1",children:N?I.jsx(I.Fragment,{children:"Show less"}):I.jsxs(I.Fragment,{children:["+",s.keywords.length-18," more"]})})]})]}),I.jsxs("div",{children:[I.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",I.jsx("span",{className:"text-red-500",children:"*"})]}),I.jsxs("div",{className:"flex gap-4",children:[I.jsx(ia,{value:s.title,onChange:Ge=>Fe(Ge,"title"),placeholder:"Enter blog title...",className:`w-full px-3 flex-1 py-2 border ${r.title?"border-red-500":"border-gray-200"} rounded-md text-sm focus:ring-2 focus:ring-blue-600`,"aria-label":"Blog title"}),I.jsx("button",{onClick:st,disabled:c,className:`px-4 py-2 bg-gradient-to-r from-[#1B6FC9] to-[#4C9FE8] text-white rounded-lg flex items-center ${c?"opacity-50 cursor-not-allowed":"hover:from-[#1B6FC9]/90 hover:to-[#4C9FE8]/90"}`,children:c?I.jsx(gv,{size:"small"}):T?I.jsxs(I.Fragment,{children:[I.jsx(Bv,{size:16,className:"mr-2"}),"Generate More"]}):I.jsxs(I.Fragment,{children:[I.jsx(Fy,{size:16,className:"mr-2"}),"Generate Titles"]})})]}),d.length>0&&I.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:d.map((Ge,ne)=>{const Ft=Ge===s.title;return I.jsx("div",{className:"relative group",children:I.jsx("button",{type:"button",onClick:()=>{a(Lt=>_t(Ie({},Lt),{title:Ge})),i(Lt=>_t(Ie({},Lt),{title:!1}))},className:`px-3 py-1 rounded-full text-sm border transition truncate max-w-[200px] sm:max-w-[300px] ${Ft?"bg-[#1B6FC9] text-white border-[#1B6FC9]":"bg-gray-100 text-gray-700 border-gray-300 opacity-60 hover:opacity-100 hover:bg-gray-200"}`,"aria-label":`Select title: ${Ge}`,children:Ge})},ne)})})]}),I.jsxs("div",{children:[I.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Choose length of Blog ",I.jsx("span",{className:"text-red-500",children:"*"})]}),I.jsx("input",{type:"range",min:"500",max:"5000",value:(gt=s.userDefinedLength)!=null?gt:1e3,onChange:Ge=>Fe(Ge,"userDefinedLength"),placeholder:"Enter desired word count...",className:"w-full h-1 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${(((mt=s==null?void 0:s.userDefinedLength)!=null?mt:1e3)-500)/45}%, #e5e7eb 0%)`},"aria-label":"Desired word count"}),I.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[(yt=s==null?void 0:s.userDefinedLength)!=null?yt:1e3," words"]})]})]})]})})},T$=()=>{var an,Vt;const{id:t}=rv(),e=Gf(),n=qa(Dt=>Dt.blog.selectedBlog),[r,i]=Ve.useState("Normal"),[s,a]=Ve.useState(!0),[o,A]=Ve.useState([]),[u,l]=Ve.useState(""),[c,f]=Ve.useState(""),[d,w]=Ve.useState([]),[T,D]=Ve.useState(!1),[N,M]=Ve.useState(null),[q,j]=Ve.useState(!1),[J,H]=Ve.useState(null),[ve,De]=Ve.useState(!1),[Fe,me]=Ve.useState({category:"",includeTableOfContents:!1}),[qe,Me]=Ve.useState(!t),Ke=qa(Dt=>Dt.auth.user),tt=(Vt=Ke==null?void 0:Ke.plan)!=null?Vt:(an=Ke==null?void 0:Ke.subscription)==null?void 0:an.plan,st=W0(),mt=Ty().pathname===`/blog-editor/${n==null?void 0:n._id}`,[yt,Ge]=Ve.useState(!1),[ne,Ft]=Ve.useState({title:"",topic:"",tone:"Informative",focusKeywords:[],keywords:[],userDefinedLength:1200,focusKeywordInput:"",keywordInput:"",template:""}),[Lt,pe]=Ve.useState({title:!1,topic:!1,tone:!1,focusKeywords:!1,keywords:!1,userDefinedLength:!1,template:!1});Ve.useEffect(()=>{t&&(a(!0),e(Mm(t)).unwrap().catch(()=>wt.error("Failed to load blog.")).finally(()=>a(!1)))},[t,e]),Ve.useEffect(()=>{n&&(A(n.keywords||[]),f(n.title||""),l(n.content?FW(n.content,{wordwrap:!1,selectors:[{selector:"a",options:{baseUrl:""}},{selector:"img",format:"skip"}]}):""),H(n.wordpress||null),me({category:n.category||"",includeTableOfContents:n.includeTableOfContents||!1,title:n.title||""}))},[n]);const vt=(Dt,Yt)=>{if(typeof Dt!="string"||typeof Yt!="string"){wt.error("Invalid suggestion format.");return}const bn=new RegExp(Dt.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");l(zt=>zt.replace(bn,Yt)),w(zt=>zt.filter(An=>An.original!==Dt))},Kt=Dt=>Ci(null,null,function*(){var Yt,bn;if(De(!0),!c){wt.error("Blog title is missing."),De(!1);return}if(!u.trim()){wt.error("Blog content is empty."),De(!1);return}if(!Dt.categories){wt.error("Please select a category."),De(!1);return}try{const zt={blogId:n._id,title:c,content:u,categories:Dt.categories,includeTableOfContents:Dt.includeTableOfContents},An=J?yield Hm.put("/wordpress",zt):yield Hm.post("/wordpress",zt);H(An==null?void 0:An.data),wt.success(`Blog ${J?"updated":"posted"} successfully!`)}catch(zt){wt.error(((bn=(Yt=zt.response)==null?void 0:Yt.data)==null?void 0:bn.message)||`Failed to ${J?"update":"post to"} WordPress.`)}finally{De(!1)}}),Nt=Dt=>Dt.trim().split(/\s+/).filter(Yt=>Yt.length>0).length,Mt=()=>Ci(null,null,function*(){if(tt==="free"||tt==="basic"){showUpgradePopup();return}if(!c.trim()){wt.error("Blog title is required.");return}j(!0);try{const Dt=yield e(Pm({id:n._id,title:c,content:u,published:n==null?void 0:n.published,focusKeywords:n==null?void 0:n.focusKeywords,keywords:o})).unwrap();return wt.success("Blog updated successfully"),a(!0),setTimeout(()=>{e(Mm(t)).unwrap().finally(()=>a(!1))},2e3),Dt}catch(Dt){console.error("Error updating the blog:",Dt),wt.error("Failed to save blog.")}finally{j(!1)}}),Rt=()=>Ci(null,null,function*(){j(!0);try{yield e(Pm({id:n._id,title:c,content:u,published:n==null?void 0:n.published,focusKeywords:n==null?void 0:n.focusKeywords,keywords:o})).unwrap();const Dt=yield Sy(n._id);Dt.data?(M(Dt.data),D(!0),wt.success("Review the suggested content.")):wt.error("No content received from retry.")}catch(Dt){console.error("Error updating the blog:",Dt),wt.error("Failed to save blog.")}finally{j(!1)}}),{Title:xn}=iv,En=()=>{N&&(l(N),wt.success("Content updated successfully!")),D(!1),M(null)},Jt=()=>{D(!1),M(null),wt.info("Changes discarded.")},mn={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},Gn=()=>{var Yt,bn,zt;(!((Yt=ne.title)!=null&&Yt.trim())||!((bn=ne.topic)!=null&&bn.trim())||!((zt=ne.tone)!=null&&zt.trim())||!ne.template||!ne.userDefinedLength||ne.userDefinedLength<=0||!ne.focusKeywords||ne.focusKeywords.length===0||!ne.keywords||ne.keywords.length===0)&&!t&&st("/blogs"),Me(!1)},Zn=()=>Ci(null,null,function*(){var bn,zt,An;const Dt={title:(bn=ne.title)==null?void 0:bn.trim(),topic:(zt=ne.topic)==null?void 0:zt.trim(),tone:(An=ne.tone)==null?void 0:An.trim(),focusKeywords:ne.focusKeywords,keywords:ne.keywords,userDefinedLength:Number(ne.userDefinedLength),template:ne.template},Yt={};if(Dt.title||(Yt.title=!0),Dt.topic||(Yt.topic=!0),Dt.tone||(Yt.tone=!0),Dt.template||(Yt.template=!0),(!Dt.userDefinedLength||Dt.userDefinedLength<=0)&&(Yt.userDefinedLength=!0),(!Dt.focusKeywords||Dt.focusKeywords.length===0)&&(Yt.focusKeywords=!0),(!Dt.keywords||Dt.keywords.length===0)&&(Yt.keywords=!0),Object.keys(Yt).length>0){pe(se=>Ie(Ie({},se),Yt)),wt.error("Please fill all required fields correctly.");return}try{const se=yield e(av(Dt)).unwrap();Me(!1),st(`/blog-editor/${se._id}`)}catch(se){console.error("Failed to create blog:",se),wt.error((se==null?void 0:se.message)||"Failed to create blog")}}),fr=Dt=>{const Yt=Dt.target.value;Nt(Yt)<=60?(f(Yt),me(bn=>_t(Ie({},bn),{title:Yt}))):wt.error("Title exceeds 60 words.")},On=()=>{if(!u.trim()){wt.error("Please write some content to preview.");return}Ge(!0)},kn=()=>Ge(!1),Qn=()=>u.trim()?`<div class="prose prose-lg"><h1>${c||topic||"Your Blog Title"}</h1>${u}</div>`:`<h1>${c||"Preview Title"}</h1><p>No content available for preview.</p>`;return I.jsxs(I.Fragment,{children:[I.jsx(sv,{children:I.jsx("title",{children:"Blog Editor | GenWrite"})}),I.jsxs("div",{className:`h-screen flex flex-col ${qe?"blur-sm":""}`,children:[I.jsxs(Os,{open:T,centered:!0,footer:[I.jsx(Mr,{onClick:Jt,style:{background:"#f5f5f5",color:"#595959"},children:"Reject"},"reject"),I.jsx(Mr,{type:"primary",onClick:En,children:"Accept"},"accept")],onCancel:Jt,width:700,className:"rounded-lg",children:[I.jsx(xn,{level:3,style:{marginBottom:"16px"},children:"Suggested Content"}),I.jsx("div",{style:{padding:"16px",background:"#f5f5f5",borderRadius:"4px",marginBottom:"16px"},children:I.jsx(Ec,{remarkPlugins:[Cc],rehypePlugins:[Sc],className:"prose",components:{a:({href:Dt,children:Yt})=>I.jsx("a",{href:Dt,target:"_blank",rel:"noopener noreferrer",style:{color:"#1890ff"},children:Yt}),strong:({children:Dt})=>I.jsx("strong",{style:{fontWeight:"bold"},children:Dt})},children:N})})]}),I.jsx(Os,{title:"Blog Preview",open:yt,onCancel:kn,footer:[I.jsx("button",{onClick:kn,className:"px-4 py-2 bg-gray-400 text-white rounded-md hover:bg-gray-500 focus:outline-none focus:bg-gray-500","aria-label":"Close preview",children:"Close"},"close")],width:800,centered:!0,children:I.jsx("div",{className:"prose prose-lg max-w-none p-4",dangerouslySetInnerHTML:{__html:Qn()}})}),I.jsxs("div",{className:"flex mt-5 pb-5",children:[I.jsxs("div",{className:"flex-1 flex flex-col",children:[I.jsxs("header",{className:"bg-white shadow-lg border rounded-tl-lg border-gray-200 p-6",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{className:"flex items-center gap-4",children:[I.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:I.jsx(pc,{className:"w-5 h-5 text-white"})}),I.jsxs("div",{children:[I.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t?"Edit Blog":"Create New Blog"}),I.jsx("p",{className:"text-gray-600 text-sm",children:"Write and optimize your content"})]})]}),I.jsxs("div",{className:"flex gap-2",children:[mt&&I.jsxs("button",{onClick:On,className:"px-4 py-2 bg-gradient-to-r from-[#1B6FC9] to-[#4C9FE8] text-white rounded-lg hover:from-[#1B6FC9]/90 hover:to-[#4C9FE8]/90 flex items-center","aria-label":"Preview blog",children:[I.jsx($0,{size:16,className:"mr-2"}),"Preview"]}),I.jsx("button",{onClick:Mt,className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all duration-300 ${q||!c.trim()||!u.trim()||Nt(c)>60?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:shadow-lg hover:scale-105"}`,disabled:q||!c.trim()||!u.trim()||Nt(c)>60,"aria-label":"Save blog",children:q?I.jsxs(I.Fragment,{children:[I.jsx(xv,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):I.jsxs(I.Fragment,{children:[I.jsx(Yv,{className:"w-4 h-4"}),"Save Blog"]})})]})]}),mt&&I.jsxs("div",{className:"mt-4",children:[I.jsx("div",{className:"flex gap-2 flex-col sm:flex-row",children:I.jsx("input",{type:"text",value:c,onChange:fr,placeholder:"Enter your blog title...",className:`flex-1 text-2xl sm:text-3xl font-bold text-gray-900 placeholder-gray-400 border-none outline-none resize-none ${Nt(c)>60?"text-red-600":""}`,"aria-label":"Blog title"})}),I.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[Nt(c),"/60 words (optimal for SEO)",Nt(c)>60&&I.jsx("span",{className:"text-red-600 ml-2",children:"Title exceeds 60 words"})]})]})]}),I.jsx(Oc,{children:I.jsx(jn.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:mn,transition:{duration:.3},className:"flex-grow",children:s?I.jsx("div",{className:"flex justify-center items-center h-[calc(100vh-120px)]",children:I.jsx(Ev,{className:"animate-spin h-8 w-8 text-blue-600"})}):I.jsx(z7,{keywords:o,setKeywords:A,blog:n,activeTab:r,setActiveTab:i,proofreadingResults:d,handleReplace:vt,content:u,setContent:l,title:c,setTitle:f,isSavingKeyword:q})},r)})]}),I.jsx(Sz,{blog:n,keywords:o,setKeywords:A,onPost:Kt,activeTab:r,handleReplace:vt,proofreadingResults:d,setProofreadingResults:w,handleSave:Rt,posted:J,isPosting:ve,formData:Fe,title:c,editorContent:u})]})]}),I.jsx(UW,{closeFnc:Gn,isOpen:qe,handleSubmit:Zn,errors:Lt,setErrors:pe,formData:ne,setFormData:Ft})]})};export{T$ as default};
//# sourceMappingURL=ToolBox-ZDfJud8H.js.map
