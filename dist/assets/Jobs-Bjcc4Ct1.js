var Rn=Object.defineProperty,Wn=Object.defineProperties;var Bn=Object.getOwnPropertyDescriptors;var mn=Object.getOwnPropertySymbols;var Vn=Object.prototype.hasOwnProperty,$n=Object.prototype.propertyIsEnumerable;var hn=(o,a,c)=>a in o?Rn(o,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):o[a]=c,v=(o,a)=>{for(var c in a||(a={}))Vn.call(a,c)&&hn(o,c,a[c]);if(mn)for(var c of mn(a))$n.call(a,c)&&hn(o,c,a[c]);return o},w=(o,a)=>Wn(o,Bn(a));var Hr=(o,a,c)=>new Promise((t,s)=>{var n=Y=>{try{j(c.next(Y))}catch(g){s(g)}},L=Y=>{try{j(c.throw(Y))}catch(g){s(g)}},j=Y=>Y.done?t(Y.value):Promise.resolve(Y.value).then(n,L);j((c=c.apply(o,a)).next())});import{aA as _n,a7 as Mn,aB as zn,G as Hn,u as Xr,r as Ie,a as zr,b as Dn,a0 as Un,j as r,m as rr,T as en,ak as qn,Q as ht,$ as un,U as tn,M as Gn,aC as rn,aD as Kn,aE as Qn,J as Xn,V as In,aF as Zn,aG as Jn,z as ea,H as ta,B as ra,aH as na}from"./index-OAyIAbyC.js";import{a as Ur,b as qr,c as aa,d as oa,e as ia}from"./index-CdMtFwBs.js";import{b as sa}from"./SkeletonLoader-C5EgA2UA.js";import{U as la}from"./UpgradeModal-BrRGE-uX.js";import{o as ln}from"./UpgardePopUp-jHV0tHXU.js";import{T as da}from"./TemplateSelection-BAAFy3dk.js";import{B as ca}from"./BrandVoiceSelector-LgBg0UyM.js";import{S as Kr}from"./index-BT22kxM0.js";import{T as dn}from"./triangle-alert-BsaHwsR-.js";import{X as nn}from"./x-ClGTZ3tv.js";import{C as pn}from"./crown-BdjDKnM1.js";import{I as gn,U as yn}from"./upload-Cj1eg2yf.js";import{P as bn}from"./plus-7I268gBz.js";import{u as xn}from"./useMutation-Bj1lvRQU.js";import{u as ua}from"./useQuery-3R-bdUby.js";import{g as fa}from"./socket-CwN7lExh.js";import{R as ma}from"./refresh-ccw-CS6G8mL3.js";import{P as ha}from"./Pagination-pM9swQlQ.js";import"./iconBase-DJ_7XAvb.js";import"./lock-CWSsRc3b.js";import"./createLucideIcon-92gSr42f.js";import"./arrow-left-BpMaHvHX.js";import"./index-DV3fy8oQ.js";import"./gapSize-U1swVQyS.js";import"./index-BI2T-6xf.js";import"./Input-ClKIy5iD.js";import"./SearchOutlined-BOrKUqXv.js";import"./search-FTrYbEy6.js";import"./index-ASDjRKdO.js";import"./index-CjFvbASl.js";import"./Brand.query-rUKEiDM0.js";import"./useInfiniteQuery-D9EtHXLO.js";import"./useBaseQuery-sVQBrIjS.js";import"./index-Cm3VBOrL.js";import"./useForm-B34Y-4ck.js";import"./index-DNHgYwiZ.js";import"./move-CSaw_zvU.js";import"./useIcons-CjHiLreA.js";import"./DownOutlined-DjtrtNXg.js";import"./LeftOutlined-BNrMuic7.js";import"./RightOutlined-B2NJ_j3J.js";import"./useBreakpoint-Bit0SjT1.js";import"./useForceUpdate-EX0uea4D.js";var an={},Qr={exports:{}},pa=Qr.exports,vn;function ga(){return vn||(vn=1,(function(o,a){(function(c,t){o.exports=t(_n(),Mn())})(pa,(function(c,t){function s(h){return h&&typeof h=="object"&&"default"in h?h:{default:h}}var n=s(t);function L(h,A){var p=Object.keys(h);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(h);A&&(E=E.filter((function(X){return Object.getOwnPropertyDescriptor(h,X).enumerable}))),p.push.apply(p,E)}return p}function j(h){for(var A=1;A<arguments.length;A++){var p=arguments[A]!=null?arguments[A]:{};A%2?L(Object(p),!0).forEach((function(E){Y(h,E,p[E])})):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(p)):L(Object(p)).forEach((function(E){Object.defineProperty(h,E,Object.getOwnPropertyDescriptor(p,E))}))}return h}function Y(h,A,p){return A in h?Object.defineProperty(h,A,{value:p,enumerable:!0,configurable:!0,writable:!0}):h[A]=p,h}function g(h,A){return(function(p){if(Array.isArray(p))return p})(h)||(function(p,E){var X=p==null?null:typeof Symbol!="undefined"&&p[Symbol.iterator]||p["@@iterator"];if(X!=null){var Ce,q,ve=[],Le=!0,W=!1;try{for(X=X.call(p);!(Le=(Ce=X.next()).done)&&(ve.push(Ce.value),!E||ve.length!==E);Le=!0);}catch(Oe){W=!0,q=Oe}finally{try{Le||X.return==null||X.return()}finally{if(W)throw q}}return ve}})(h,A)||(function(p,E){if(p){if(typeof p=="string")return ue(p,E);var X=Object.prototype.toString.call(p).slice(8,-1);if(X==="Object"&&p.constructor&&(X=p.constructor.name),X==="Map"||X==="Set")return Array.from(p);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return ue(p,E)}})(h,A)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function ue(h,A){(A==null||A>h.length)&&(A=h.length);for(var p=0,E=new Array(A);p<A;p++)E[p]=h[p];return E}function R(h,A){var p=h.element,E=h.popper,X=h.position,Ce=X===void 0?"bottom-center":X,q=h.containerStyle,ve=h.containerClassName,Le=ve===void 0?"":ve,W=h.arrow,Oe=h.arrowStyle,be=Oe===void 0?{}:Oe,ct=h.arrowClassName,tt=ct===void 0?"":ct,te=h.fixMainPosition,Z=h.fixRelativePosition,Ue=h.offsetY,at=h.offsetX,ot=h.animations,Mt=h.zIndex,pt=Mt===void 0?0:Mt,Dt=h.popperShadow,It=h.onChange,Pt=h.active,Yt=Pt===void 0||Pt,ze=h.portal,yt=h.portalTarget,He=typeof window!="undefined",Ve=He&&yt instanceof HTMLElement,At=W===!0,Nt=E&&Yt===!0,l=t.useRef(),f=t.useRef(),k=t.useRef(),S=t.useRef(),K=t.useMemo((function(){return{position:Ce,fixMainPosition:te,fixRelativePosition:Z,offsetY:Ue,offsetX:at,defaultArrow:At,animations:ot,zIndex:pt,onChange:It}}),[Ce,te,Z,Ue,at,At,ot,It,pt]),Ae=t.useCallback((function(){k.current&&(k.current.style.transition=""),f.current&&(f.current.parentNode.style.transition="")}),[]),le={element:j({display:"inline-block",height:"max-content"},q),arrow:j({visibility:"hidden",left:"0",top:"0",position:"absolute"},be),popper:{position:"absolute",left:"0",top:"0",willChange:"transform",visibility:"hidden",zIndex:pt}};He&&!S.current&&(S.current=document.createElement("div"),S.current.data={portal:ze,isValidPortalTarget:Ve}),t.useEffect((function(){if(ze&&!Ve){var je=S.current;return document.body.appendChild(je),function(){document.body.contains(je)&&document.body.removeChild(je)}}}),[ze,Ve]),t.useEffect((function(){if(!Nt)return Ae(),f.current.parentNode.style.visibility="hidden",void(k.current&&(k.current.style.visibility="hidden"));function je(xt){xt&&xt.type!=="resize"&&!xt.target.contains(l.current)||(xt&&Ae(),ne(l,f,k,K,xt))}return je(),document.addEventListener("scroll",je,!0),window.addEventListener("resize",je),function(){document.removeEventListener("scroll",je,!0),window.removeEventListener("resize",je)}}),[Nt,K,Ae]),t.useEffect((function(){var je={portal:ze,isValidPortalTarget:Ve},xt=S.current.data;JSON.stringify(je)!==JSON.stringify(xt)&&(S.current.data=je,l.current.refreshPosition())}),[ze,Ve]);var bt=n.default.createElement(n.default.Fragment,null,(function(){if(!W||!Nt)return null;var je=n.default.createElement("div",{ref:k,style:le.arrow}),xt=t.isValidElement(W)?{children:W}:{className:"ep-arrow ".concat(Dt?"ep-shadow":""," ").concat(tt)};return t.cloneElement(je,xt)})(),n.default.createElement("div",{className:Dt?"ep-popper-shadow":"",style:le.popper},n.default.createElement("div",{ref:f},E)));return n.default.createElement("div",{ref:function(je){if(je&&(je.removeTransition=Ae,je.refreshPosition=function(){return setTimeout((function(){return ne(l,f,k,K,{})}),10)}),l.current=je,A instanceof Function)return A(je);A&&(A.current=je)},className:Le,style:le.element},p,ze&&He?c.createPortal(bt,Ve?yt:S.current):bt)}function ne(h,A,p,E,X){var Ce=E.position,q=E.fixMainPosition,ve=E.fixRelativePosition,Le=E.offsetY,W=Le===void 0?0:Le,Oe=E.offsetX,be=Oe===void 0?0:Oe,ct=E.defaultArrow,tt=E.animations,te=tt===void 0?[]:tt,Z=E.zIndex,Ue=E.onChange;if(h.current&&A.current){var at,ot,Mt,pt,Dt=(ot=window.pageXOffset!==void 0,Mt=(document.compatMode||"")==="CSS1Compat",{scrollLeft:ot?window.pageXOffset:Mt?document.documentElement.scrollLeft:document.body.scrollLeft,scrollTop:ot?window.pageYOffset:Mt?document.documentElement.scrollTop:document.body.scrollTop}),It=Dt.scrollLeft,Pt=Dt.scrollTop,Yt=D(h.current,It,Pt),ze=Yt.top,yt=Yt.left,He=Yt.height,Ve=Yt.width,At=Yt.right,Nt=Yt.bottom,l=D(A.current,It,Pt),f=l.top,k=l.left,S=l.height,K=l.width,Ae=document.documentElement,le=Ae.clientHeight,bt=Ae.clientWidth,je=A.current.parentNode,xt=(function(re){if(!re)return[0,0];var U=g((re.style.transform.match(/translate\((.*?)px,\s(.*?)px\)/)||[]).map((function(ce){return Number(ce)})),3),V=U[1],Q=V===void 0?0:V,se=U[2];return[Q,se===void 0?0:se]})(je),kr=g(xt,2),jr=kr[0],Ft=kr[1],fr=(function(re){var U=g(re.split("-"),2),V=U[0],Q=V===void 0?"bottom":V,se=U[1],ce=se===void 0?"center":se;Q==="auto"&&(Q="bottom"),ce==="auto"&&(ce="center");var it=Q==="top"||Q==="bottom",Qe=Q==="left"||Q==="right";return Qe&&(ce==="start"&&(ce="top"),ce==="end"&&(ce="bottom")),it&&(ce==="start"&&(ce="left"),ce==="end"&&(ce="right")),[Q,ce,it,Qe]})(Ce),e=g(fr,4),i=e[0],d=e[1],m=e[2],b=e[3],y=i,I=function(re,U){return"translate(".concat(re,"px, ").concat(U,"px)")},P=Ve-K,T=He-S,F=d==="left"?0:d==="right"?P:P/2,N=P-F,$=d==="top"?0:d==="bottom"?T:T/2,C=T-$,G=yt-k+jr,fe=ze-f+Ft,ie=0,ae=0,me=ke(h.current),Me=[],Se=p.current,Ye=D(Se,It,Pt)||{},De=Ye.height,oe=De===void 0?0:De,Fe=Ye.width,he=Fe===void 0?0:Fe,_=G,B=fe,z={top:"bottom",bottom:"top",left:"right",right:"left"};for(m&&(G+=F,fe+=i==="top"?-S:He,ct&&(oe=11,he=20)),b&&(G+=i==="left"?-K:Ve,fe+=$,ct&&(oe=20,he=11));me;)Me.push(me),de(D(me,It,Pt)),me=ke(me.parentNode);de({top:Pt,bottom:Pt+le,left:It,right:It+bt,height:le,width:bt}),m&&(fe+=y==="bottom"?W:-W),b&&(G+=y==="right"?be:-be),G-=ie,fe-=ae,at=z[y],Se&&(m&&((pt=Ve<K)?_+=Ve/2:_=G+K/2,_-=he/2,y==="bottom"&&(B=fe,fe+=oe),y==="top"&&(B=(fe-=oe)+S),ie<0&&ie-F<0&&(pt?_+=(F-ie)/2:Ve-F+ie<K&&(_+=(Ve-F+ie-K)/2)),ie>0&&ie+N>0&&(pt?_-=(ie+N)/2:Ve-ie-N<K&&(_-=(Ve-ie-N-K)/2))),b&&((pt=He<S)?B+=He/2:B=fe+S/2,B-=oe/2,y==="left"&&(_=(G-=he)+K),y==="right"&&(_=G,G+=he),ae<0&&ae-$<0&&(pt?B+=($-ae)/2:He-$+ae<S&&(B+=(He-$+ae-S)/2)),ae>0&&ae+C>0&&(pt?B-=(ae+C)/2:He-ae-C<S&&(B-=(He-ae-C-S)/2))),Se.setAttribute("direction",at),Se.style.height=oe+"px",Se.style.width=he+"px",Se.style.transform=I(_,B),Se.style.visibility="visible",Se.style.zIndex=Z+1),je.style.transform=I(G,fe);var H={popper:{top:fe,bottom:fe+S,left:G,right:G+K,height:S,width:K},element:{top:ze,bottom:Nt,left:yt,right:At,height:He,width:Ve},arrow:{top:B,bottom:B+oe,left:_,right:_+he,height:oe,width:he,direction:at},position:y+"-"+(ie!==0?"auto":d),scroll:{scrollLeft:It,scrollTop:Pt},scrollableParents:Me,event:X};X||te.forEach((function(re){re({popper:je,arrow:Se,data:j(j({},H),{},{getTransform:I,mirror:z})})})),je.style.visibility="visible",typeof Ue=="function"&&Ue(H)}function de(re){var U=re.top,V=re.bottom,Q=re.left,se=re.right,ce=re.height,it=re.width;if(m){var Qe=Math.round(ze-U+He/2),$t=Math.round(ce/2);q||(ze-(S+W+oe)<U&&Qe<=$t&&y==="top"?(fe+=S+He,y="bottom"):Nt+S+W+oe>ce+U&&Qe>=$t&&y==="bottom"&&(fe-=S+He,y="top")),ve||(yt+F<Q&&(ie=ee(At-he>Q?yt+F-Q:-Ve+F+he,ie)),At-N>se&&(ie=ee(yt+he<se?At-N-se:Ve-N-he,ie)))}if(b){var ye=Math.round(yt-Q+Ve/2),we=Math.round(it/2);q||(yt-(K+be+he)<Q&&ye<we&&y==="left"?(G+=Ve+K,y="right"):At+K+be+he>se&&ye>we&&y==="right"&&(G-=Ve+K,y="left")),ve||(ze+$<U&&(ae=ee(Nt-oe>U?ze+$-U:-He+$+oe,ae)),Nt-C>V&&(ae=ee(ze+oe<V?Nt-C-V:He-C-oe,ae)))}}}function D(h,A,p){if(h){var E=h.getBoundingClientRect(),X=E.top,Ce=E.left,q=E.width,ve=E.height,Le=X+p,W=Ce+A;return{top:Le,bottom:Le+ve,left:W,right:W+q,width:q,height:ve}}}function ke(h){if(h&&h.tagName!=="HTML"){var A=window.getComputedStyle(h),p=function(E){return["auto","scroll"].includes(E)};return h.clientHeight<h.scrollHeight&&p(A.overflowX)||h.clientWidth<h.scrollWidth&&p(A.overflowY)?h:ke(h.parentNode)}}function ee(h,A){return Math.round(Math.abs(h))>Math.round(Math.abs(A))?h:A}return t.forwardRef(R)}))})(Qr)),Qr.exports}function Ir(o){return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ir(o)}function ya(o){return(function(a){if(Array.isArray(a))return cn(a)})(o)||Pn(o)||Zr(o)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Pn(o){if(typeof Symbol!="undefined"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function wn(o,a){var c=typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!c){if(Array.isArray(o)||(c=Zr(o))||a){c&&(o=c);var t=0,s=function(){};return{s,n:function(){return t>=o.length?{done:!0}:{done:!1,value:o[t++]}},e:function(Y){throw Y},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,L=!0,j=!1;return{s:function(){c=c.call(o)},n:function(){var Y=c.next();return L=Y.done,Y},e:function(Y){j=!0,n=Y},f:function(){try{L||c.return==null||c.return()}finally{if(j)throw n}}}}function kn(o,a){var c=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);a&&(t=t.filter((function(s){return Object.getOwnPropertyDescriptor(o,s).enumerable}))),c.push.apply(c,t)}return c}function jn(o){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?kn(Object(c),!0).forEach((function(t){ba(o,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(c)):kn(Object(c)).forEach((function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(c,t))}))}return o}function ba(o,a,c){return(a=Tn(a))in o?Object.defineProperty(o,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[a]=c,o}function vr(o,a){return En(o)||(function(c,t){var s=c==null?null:typeof Symbol!="undefined"&&c[Symbol.iterator]||c["@@iterator"];if(s!=null){var n,L,j,Y,g=[],ue=!0,R=!1;try{if(j=(s=s.call(c)).next,t===0){if(Object(s)!==s)return;ue=!1}else for(;!(ue=(n=j.call(s)).done)&&(g.push(n.value),g.length!==t);ue=!0);}catch(ne){R=!0,L=ne}finally{try{if(!ue&&s.return!=null&&(Y=s.return(),Object(Y)!==Y))return}finally{if(R)throw L}}return g}})(o,a)||Zr(o,a)||Yn()}function Yn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zr(o,a){if(o){if(typeof o=="string")return cn(o,a);var c=Object.prototype.toString.call(o).slice(8,-1);return c==="Object"&&o.constructor&&(c=o.constructor.name),c==="Map"||c==="Set"?Array.from(o):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?cn(o,a):void 0}}function cn(o,a){(a==null||a>o.length)&&(a=o.length);for(var c=0,t=new Array(a);c<a;c++)t[c]=o[c];return t}function En(o){if(Array.isArray(o))return o}function xa(o,a){for(var c=0;c<a.length;c++){var t=a[c];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(o,Tn(t.key),t)}}function Tn(o){var a=(function(c,t){if(Ir(c)!=="object"||c===null)return c;var s=c[Symbol.toPrimitive];if(s!==void 0){var n=s.call(c,t);if(Ir(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)})(o,"string");return Ir(a)==="symbol"?a:String(a)}function lt(o,a,c){(function(t,s){if(s.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(o,a),a.set(o,c)}function u(o,a){return(function(c,t){return t.get?t.get.call(c):t.value})(o,Ln(o,a,"get"))}function O(o,a,c){return(function(t,s,n){if(s.set)s.set.call(t,n);else{if(!s.writable)throw new TypeError("attempted to set read only private field");s.value=n}})(o,Ln(o,a,"set"),c),c}function Ln(o,a,c){if(!a.has(o))throw new TypeError("attempted to "+c+" private field on non-instance");return a.get(o)}function va(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function wa(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Nn={name:"gregorian_en",months:[["January","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May","May"],["June","Jun"],["July","Jul"],["August","Aug"],["September","Sep"],["October","Oct"],["November","Nov"],["December","Dec"]],weekDays:[["Saturday","Sat"],["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"]],digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]},Gr={name:"gregorian",startYear:1,yearLength:365,epoch:1721424,century:20,weekStartDayIndex:1,getMonthLengths:function(o){return[31,o?29:28,31,30,31,30,31,31,30,31,30,31]},isLeap:function(o){return o%4==0&&o%100!=0||o%400==0},getLeaps:function(o){if(o!==0){for(var a=o>0?1:-1,c=[];o>0?a<=o:o<=a;)this.isLeap(a)&&c.push(a),o>0?a++:a--;return c}},getDayOfYear:function(o){for(var a=o.year,c=o.month,t=o.day,s=this.getMonthLengths(this.isLeap(a)),n=0;n<c.index;n++)t+=s[n];return t},getAllDays:function(o){var a=o.year;return this.yearLength*(a-1)+this.leapsLength(a)+this.getDayOfYear(o)},leapsLength:function(o){return((o-1)/4|0)+(-(o-1)/100|0)+((o-1)/400|0)},guessYear:function(o,a){return~~(o/365.24)+(a>0?1:-1)}};function gr(o){return o&&o.constructor===Object}function Ut(o){if(!isNaN(o))return parseInt(o)}function wr(o){return Array.isArray(o)}function Cr(o,a,c){return o===void 0||o<a||o>c}var dt=new WeakMap,Ge=new WeakMap,_e=new WeakMap,qt=new WeakMap,dr=new WeakMap,cr=new WeakMap,et=new WeakMap,ur=new WeakMap,gt=new WeakMap,Ke=new WeakMap,Or=new WeakMap,Gt=new WeakMap,Sn=new WeakMap,Mr=new WeakMap,Dr=new WeakMap,Cn=new WeakMap,on=new WeakMap,Kt=new WeakMap,sn=new WeakMap,ka=(function(){function o(t){var s=this;(function(Y,g){if(!(Y instanceof g))throw new TypeError("Cannot call a class as a function")})(this,o),lt(this,dt,{writable:!0,value:void 0}),lt(this,Ge,{writable:!0,value:void 0}),lt(this,_e,{writable:!0,value:void 0}),lt(this,qt,{writable:!0,value:void 0}),lt(this,dr,{writable:!0,value:void 0}),lt(this,cr,{writable:!0,value:void 0}),lt(this,et,{writable:!0,value:void 0}),lt(this,ur,{writable:!0,value:void 0}),lt(this,gt,{writable:!0,value:Nn}),lt(this,Ke,{writable:!0,value:Gr}),lt(this,Or,{writable:!0,value:!1}),lt(this,Gt,{writable:!0,value:{}}),lt(this,Sn,{writable:!0,value:/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d\.\d\d\dZ$/}),lt(this,Mr,{writable:!0,value:[]}),lt(this,Dr,{writable:!0,value:!0}),lt(this,Cn,{writable:!0,value:function(Y,g){switch(Y){case"YYYY":return["year",g];case"YY":return["year","".concat(u(s,Ke).century).concat(g)];case"MMMM":case"MMM":return["month",s.months.findIndex((function(R){var ne=R.name,D=R.shortName;return new RegExp(g,"i").test(ne+D)}))+1];case"MM":case"M":return["month",g];case"DD":case"D":return["day",g];case"HH":case"H":return["hour",g];case"hh":case"h":var ue=Ut(g);return["hour",ue>12?ue-12:ue];case"mm":case"m":return["minute",g];case"ss":case"s":return["second",g];case"SSS":case"SS":case"S":return["millisecond",g];default:return[]}}}),lt(this,on,{writable:!0,value:function(){return u(s,dt)===0&&u(s,Ke).startYear!==0}}),lt(this,Kt,{writable:!0,value:function(){if(u(s,Dr)&&s.isValid){var Y=Math.floor,g=function(ee,h){return[(E=ee,(E<0?-1:1)*Math.abs(Y(ee/h))),(A=ee,p=h,(A<0&&Y(A%p)!==-0?p:0)+Y(ee%h))];var A,p,E},ue=function(){if(u(s,Ge)<0||u(s,Ge)>11){var ee=u(s,Ge)<0?-1:1,h=vr(g(u(s,Ge),12),2),A=h[0],p=h[1];O(s,dt,u(s,dt)+A),O(s,Ge,p),u(s,on).call(s)&&O(s,dt,ee)}};for(O(s,Dr,!1),[["millisecond","second",1e3],["second","minute",60],["minute","hour",60],["hour","day",24]].forEach((function(ee){var h=vr(ee,3),A=h[0],p=h[1],E=h[2];if((function(ve,Le){return ve>=Le||ve<0})(s[A],E)){var X=vr(g(s[A],E),2),Ce=X[0],q=X[1];s[p]+=Ce,s[A]=q}})),O(s,Dr,!0),ue();u(s,_e)<-u(s,Ke).yearLength||u(s,_e)>u(s,Ke).yearLength;){if(u(s,Ge)>0){for(var R=u(s,Ke).getMonthLengths(s.isLeap),ne=0;ne<u(s,Ge);ne++)O(s,_e,u(s,_e)+R[ne]);O(s,Ge,0)}var D=s.isLeap?s.calendar.yearLength+1:s.calendar.yearLength;O(s,_e,u(s,_e)+D*(u(s,_e)<0?1:-1)),O(s,dt,u(s,dt)+(u(s,_e)<0?-1:1))}for(;;){var ke;for(ue();u(s,_e)<1;)O(s,Ge,u(s,Ge)-1),ue(),O(s,_e,s.month.length+u(s,_e));if(u(s,_e)<=s.month.length||isNaN(u(s,_e)))break;O(s,_e,u(s,_e)-s.month.length),O(s,Ge,(ke=u(s,Ge),ke++,ke))}u(s,qt)||O(s,qt,0),u(s,dr)||O(s,dr,0),u(s,cr)||O(s,cr,0),u(s,et)||O(s,et,0)}}}),lt(this,sn,{writable:!0,value:function(){return(u(s,Gt).weekDays||u(s,gt).weekDays).map((function(Y,g){var ue=vr(Y,2),R=ue[0],ne=ue[1],D=g-s.weekStartDayIndex;return D<0&&(D+=7),{name:R,shortName:ne,index:D,number:D+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}}))}});var n=gr(t)?jn({},t):t,L=!0;if(n&&typeof n!="boolean"||(n={date:new Date}),gr(n)||(n={date:n}),Object.keys(n).length!==0){for(var j in gr(n.calendar)&&O(this,Ke,n.calendar),gr(n.locale)&&O(this,gt,n.locale),isNaN(n.year)&&isNaN(n.month)&&isNaN(n.day)&&!n.date&&(n.date=new Date),n.date&&(typeof n.date=="string"&&n.format&&O(this,ur,n.format),this.setDate(n.date),n.calendar&&this.convert(n.calendar),L=!1),delete n.calendar,delete n.locale,delete n.date,n)this.set(j,n[j]);u(this,on).call(this)&&O(this,dt,-1),L&&u(this,Kt).call(this)}}var a,c;return a=o,c=[{key:"parse",value:function(t){if(!t)return this;var s,n,L=u(this,ur),j=u(this,gt).digits,Y=wn(j);try{for(Y.s();!(s=Y.n()).done;){var g=s.value;t=t.replace(new RegExp(g,"g"),j.indexOf(g))}}catch(be){Y.e(be)}finally{Y.f()}if(L)for(var ue=L.split(/[^\w\u0600-\u06FF]/),R=t.split(/[^\w\u0600-\u06FF]/),ne=0;ne<ue.length;ne++)this.set.apply(this,ya(u(this,Cn).call(this,ue[ne],R[ne])));else{var D=t.match(/(-?\d{2,4})?\W?([A-z]{3,9}|\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,3})?\W?(am|pm)?/),ke=(En(n=D)||Pn(n)||Zr(n)||Yn()).slice(1),ee=ke[1];ee&&(ee=/\d+/.test(ee)?Ut(ee)-1:this.months.findIndex((function(be){return new RegExp(ee,"i").test(be.name)}))),ke[1]=ee;var h=vr(ke.map(Ut),7),A=h[0],p=h[1],E=h[2],X=h[3],Ce=h[4],q=h[5],ve=h[6];O(this,dt,A),O(this,Ge,p),O(this,_e,E),O(this,qt,X),O(this,dr,Ce),O(this,cr,q),O(this,et,ve)}var Le=vr(u(this,gt).meridiems[1],2),W=Le[0],Oe=Le[1];return u(this,qt)<12&&(t.includes(W)||t.includes(Oe))&&O(this,qt,u(this,qt)+12),u(this,Kt).call(this),this}},{key:"convert",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gr,s=arguments.length>1?arguments[1]:void 0;if(gr(s)&&O(this,gt,s),!gr(t)||t.name===u(this,Ke).name)return this;var n=this.toJulianDay()-t.epoch,L=new o({calendar:t,year:t.guessYear(n,u(this,dt)),month:1,day:1});return L.day+=n-L.toDays(),O(this,dt,L.year),O(this,Ge,L.month.index),O(this,_e,L.day),O(this,Ke,t),this}},{key:"format",value:function(t,s){if(!this.isValid||t&&typeof t!="string")return"";t||(t=u(this,ur)||"YYYY/MM/DD"),wr(s)||(s=[]),s=(s=s.concat(u(this,Mr))).filter((function(ne){return typeof ne=="string"||(console.warn("type of all items in the ignore list must be string, found",Ir(ne)),!1)})).map((function(ne){return ne.replace(/[*/+\-()[\]{}\s$^]/g,(function(D){return"\\"+D}))}));var n,L=new RegExp("".concat(s.join("|")).concat(s.length>0?"|":"","YYYY|YY|MMMM|MMM|MM|M|WW|W|DDDD|DDD|DD|D|dddd|ddd|dd|d|HH|H|hh|h|mm|m|ss|s|SSS|SS|S|A|a|."),"g"),j="",Y=wn(t.match(L)||[]);try{for(Y.s();!(n=Y.n()).done;){var g=n.value,ue=this.getValue(g);j+=s.includes(g)?g:ue===0?ue:ue||g}}catch(ne){Y.e(ne)}finally{Y.f()}var R=this.digits;return j.replace(/[0-9]/g,(function(ne){return R[ne]}))}},{key:"getProperty",value:function(t){return this.getValue(t)}},{key:"getValue",value:function(t){var s=function(n){return n<10?"0"+n:n};switch(t){case"YYYY":return this.year;case"YY":return this.year.toString().substring(2,4);case"MMMM":return this.month.name;case"MMM":return this.month.shortName;case"MM":return s(this.month.number);case"M":return this.month.number;case"WW":return s(this.weekOfYear);case"W":return this.weekOfYear;case"DDDD":case"DDD":return this.dayOfYear;case"DD":return s(this.day);case"D":return this.day;case"HH":return s(this.hour);case"H":return this.hour;case"dddd":return this.weekDay.name;case"ddd":return this.weekDay.shortName;case"dd":return s(this.weekDay.number);case"d":return this.weekDay.number;case"hh":return s(this.hour>12?this.hour-12:this.hour||12);case"h":return this.hour>12?this.hour-12:this.hour||12;case"mm":return s(this.minute);case"m":return this.minute;case"ss":return s(this.second);case"s":return this.second;case"SSS":return u(this,et)<10?"00".concat(u(this,et)):u(this,et)<100?"0".concat(u(this,et)):u(this,et);case"SS":return u(this,et)<10?"00":u(this,et)<100?("0"+u(this,et)).substring(2,0):u(this,et).toString().substring(0,2);case"S":return u(this,et)<10||u(this,et)<100?"0":u(this,et).toString().substring(0,1);case"a":return this.hour>=12?u(this,gt).meridiems[1][1]:u(this,gt).meridiems[0][1];case"A":return this.hour>=12?u(this,gt).meridiems[1][0]:u(this,gt).meridiems[0][0];default:return""}}},{key:"setYear",value:function(t){return this.year=t,this}},{key:"setMonths",value:function(t){return this.months=t,this}},{key:"setMonth",value:function(t){return this.month=t,this}},{key:"setWeekDays",value:function(t){return this.weekDays=t,this}},{key:"setDigits",value:function(t){return this.digits=t,this}},{key:"setDay",value:function(t){return this.day=t,this}},{key:"setHour",value:function(t){return this.hour=t,this}},{key:"setMinute",value:function(t){return this.minute=t,this}},{key:"setSecond",value:function(t){return this.second=t,this}},{key:"setMillisecond",value:function(t){return this.millisecond=t,this}},{key:"setFormat",value:function(t){return O(this,ur,t),this}},{key:"setLocale",value:function(t){return this.locale=t,this}},{key:"setCalendar",value:function(t){return this.calendar=t,this}},{key:"setDate",value:function(t){if(typeof t=="string"){if(!u(this,Sn).test(t))return this.parse(t);t=new Date(t)}return typeof t=="number"&&(t=new Date(t)),t instanceof Date&&(O(this,Ke,Gr),O(this,dt,t.getFullYear()),O(this,Ge,t.getMonth()),O(this,_e,t.getDate()),O(this,qt,t.getHours()),O(this,dr,t.getMinutes()),O(this,cr,t.getSeconds()),O(this,et,t.getMilliseconds()),O(this,Or,!1)),t instanceof o&&(O(this,dt,t.year),O(this,Ge,t.month.index),O(this,_e,t.day),O(this,qt,t.hour),O(this,dr,t.minute),O(this,cr,t.second),O(this,et,t.millisecond),O(this,gt,t.locale),O(this,ur,t._format),O(this,Ke,t.calendar),O(this,Or,t.isUTC),O(this,Mr,t.ignoreList),O(this,Gt,t.custom)),this}},{key:"setIgnoreList",value:function(t){return this.ignoreList=t,this}},{key:"set",value:function(t,s){if(t==null)return this;if(gr(t)){var n=jn({},t);for(var L in n.date&&(this.setDate(n.date),delete n.date),n.calendar&&(this.convert(n.calendar),delete n.calendar),n.locale&&(this.setLocale(n.locale),delete n.locale),O(this,Dr,!1),n)this.set(L,n[L]);return O(this,Dr,!0),u(this,Kt).call(this),this}t==="format"&&(t="_format");try{this[t]=s}catch(j){}return this}},{key:"add",value:function(t,s){if(!(t=Ut(t))||!s)return this;switch(s){case"years":case"y":s="year";break;case"months":case"M":s="month";break;case"days":case"d":s="day";break;case"hours":case"h":s="hour";break;case"minutes":case"m":s="minute";break;case"seconds":case"s":s="second";break;case"milliseconds":case"ms":s="millisecond"}return this[s]+=t,this}},{key:"subtract",value:function(t,s){return this.add(-t,s)}},{key:"toFirstOfYear",value:function(){return this.month=1,this.day=1,this}},{key:"toLastOfYear",value:function(){return this.day>=29&&(this.day=29),this.month=12,this.toLastOfMonth(),this}},{key:"toFirstOfMonth",value:function(){return O(this,_e,1),this}},{key:"toLastOfMonth",value:function(){return O(this,_e,0),O(this,Ge,u(this,Ge)+1),u(this,Kt).call(this),this}},{key:"toFirstOfWeek",value:function(){return this.day-=this.weekDay.index,this}},{key:"toLastOfWeek",value:function(){return this.day+=6-this.weekDay.index,this}},{key:"toFirstWeekOfYear",value:function(){return this.toFirstOfYear(),this.weekDay.index===0?this:this.toLastOfWeek().setDay(this.day+1)}},{key:"toLastWeekOfYear",value:function(){return this.toLastOfYear().toFirstOfWeek()}},{key:"toString",value:function(){return this.format()}},{key:"toDate",value:function(){var t=new o(this);return u(this,Ke).name!=="gregorian"&&t.convert(Gr),new Date(t.year,t.month.index,t.day,t.hour,t.minute,t.second,t.millisecond)}},{key:"toUTC",value:function(){return u(this,Or)||(this.minute+=this.toDate().getTimezoneOffset(),O(this,Or,!0)),this}},{key:"toUnix",value:function(){return this.unix}},{key:"toJulianDay",value:function(){return this.toDays()+u(this,Ke).epoch}},{key:"toObject",value:function(){return{year:u(this,dt),month:this.month,day:u(this,_e),weekDay:this.weekDay,hour:u(this,qt),minute:u(this,dr),second:u(this,cr),millisecond:u(this,et),weekOfYear:this.weekOfYear,dayOfYear:this.dayOfYear,daysLeft:this.daysLeft,calendar:u(this,Ke),locale:u(this,gt),format:u(this,ur)||"YYYY/MM/DD",ignoreList:u(this,Mr)}}},{key:"toJSON",value:function(){return this.valueOf()}},{key:"valueOf",value:function(){return this.toDate().valueOf()}},{key:"toDays",value:function(){if(this.isValid)return u(this,Ke).getAllDays(this)}},{key:"dayOfBeginning",get:function(){return this.toDays()}},{key:"dayOfYear",get:function(){if(this.isValid)return u(this,Ke).getDayOfYear(this)}},{key:"weekOfYear",get:function(){if(this.isValid)return 1+~~(this.dayOfYear/7)}},{key:"daysLeft",get:function(){if(this.isValid){var t=u(this,Ke).yearLength;return(this.isLeap?t+1:t)-this.dayOfYear}}},{key:"year",get:function(){return u(this,dt)},set:function(t){O(this,dt,Ut(t)),u(this,Kt).call(this)}},{key:"month",get:function(){return this.months[u(this,Ge)]||{}},set:function(t){var s;t=(s=Ut(t.valueOf())-1)!==null&&s!==void 0?s:void 0,O(this,Ge,t),Cr(t,0,11)&&u(this,Kt).call(this)}},{key:"monthIndex",get:function(){return u(this,Ge)}},{key:"day",get:function(){return u(this,_e)},set:function(t){t=Ut(t),O(this,_e,t),Cr(t,1,28)&&u(this,Kt).call(this)}},{key:"weekDay",get:function(){if(!this.isValid)return{};var t=(this.toJulianDay()+3)%7;return u(this,sn).call(this)[t]}},{key:"hour",get:function(){return u(this,qt)},set:function(t){t=Ut(t),O(this,qt,t),Cr(t,0,23)&&u(this,Kt).call(this)}},{key:"minute",get:function(){return u(this,dr)},set:function(t){t=Ut(t),O(this,dr,t),Cr(t,0,59)&&u(this,Kt).call(this)}},{key:"second",get:function(){return u(this,cr)},set:function(t){t=Ut(t),O(this,cr,t),Cr(t,0,59)&&u(this,Kt).call(this)}},{key:"millisecond",get:function(){return u(this,et)},set:function(t){t=Ut(t),O(this,et,t),Cr(t,0,999)&&u(this,Kt).call(this)}},{key:"months",get:function(){var t=u(this,Ke).getMonthLengths(this.isLeap),s=(u(this,Gt).months||u(this,gt).months).map((function(n,L){var j=vr(n,2);return{name:j[0],shortName:j[1],length:t[L],index:L,number:L+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}}));return s},set:function(t){if(!t)return delete u(this,Gt).months;wr(t)&&t.length===12&&t.every((function(s){return wr(s)&&s.length===2&&s.every((function(n){return typeof n=="string"}))}))&&(u(this,Gt).months=t)}},{key:"weekDays",get:function(){return u(this,sn).call(this).sort((function(t,s){return t.index-s.index}))},set:function(t){if(!t)return delete u(this,Gt).weekDays;wr(t)&&t.length===7&&t.every((function(s){return wr(s)&&s.length===2&&s.every((function(n){return typeof n=="string"}))}))&&(u(this,Gt).weekDays=t)}},{key:"leaps",get:function(){return u(this,Ke).getLeaps(u(this,dt))}},{key:"calendar",get:function(){return u(this,Ke)},set:function(t){this.convert(t)}},{key:"locale",get:function(){return u(this,gt)},set:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nn;gr(t)&&O(this,gt,t)}},{key:"custom",get:function(){return u(this,Gt)}},{key:"meridiems",get:function(){return u(this,gt).meridiems}},{key:"digits",get:function(){return u(this,Gt).digits||u(this,gt).digits},set:function(t){if(!t)return delete u(this,Gt).digits;wr(t)&&t.length===10&&(u(this,Gt).digits=t)}},{key:"_format",get:function(){return u(this,ur)},set:function(t){typeof t=="string"&&O(this,ur,t)}},{key:"isLeap",get:function(){return u(this,Ke).isLeap(u(this,dt))}},{key:"isValid",get:function(){return!isNaN(u(this,dt))&&!isNaN(u(this,Ge))&&!isNaN(u(this,_e))}},{key:"isUTC",get:function(){return u(this,Or)}},{key:"unix",get:function(){return(this.valueOf()-this.millisecond)/1e3}},{key:"ignoreList",get:function(){return u(this,Mr)},set:function(t){wr(t)&&O(this,Mr,t)}},{key:"weekStartDayIndex",get:function(){return u(this,Ke).weekStartDayIndex},set:function(t){(t=Ut(t))!==void 0&&(u(this,Ke).weekStartDayIndex=Math.abs(t)%7)}},{key:"date",set:function(t){this.setDate(t)}}],c&&xa(a.prototype,c),Object.defineProperty(a,"prototype",{writable:!1}),o})(),ja=va(wa(ka));const Na=Object.freeze(Object.defineProperty({__proto__:null,default:ja},Symbol.toStringTag,{value:"Module"})),Sa=zn(Na);var On;function Ca(){return On||(On=1,(function(o){Object.defineProperty(o,"__esModule",{value:!0});var a=Mn(),c=ga(),t=Sa;function s(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var n=s(a),L=s(c),j=s(t);function Y(e,i){var d=Object.keys(e);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);i&&(m=m.filter((function(b){return Object.getOwnPropertyDescriptor(e,b).enumerable}))),d.push.apply(d,m)}return d}function g(e){for(var i=1;i<arguments.length;i++){var d=arguments[i]!=null?arguments[i]:{};i%2?Y(Object(d),!0).forEach((function(m){ue(e,m,d[m])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(d)):Y(Object(d)).forEach((function(m){Object.defineProperty(e,m,Object.getOwnPropertyDescriptor(d,m))}))}return e}function ue(e,i,d){return(i=(function(m){var b=(function(y,I){if(typeof y!="object"||y===null)return y;var P=y[Symbol.toPrimitive];if(P!==void 0){var T=P.call(y,I);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(y)})(m,"string");return typeof b=="symbol"?b:String(b)})(i))in e?Object.defineProperty(e,i,{value:d,enumerable:!0,configurable:!0,writable:!0}):e[i]=d,e}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var d=arguments[i];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(e[m]=d[m])}return e},R.apply(this,arguments)}function ne(e,i){if(e==null)return{};var d,m,b=(function(I,P){if(I==null)return{};var T,F,N={},$=Object.keys(I);for(F=0;F<$.length;F++)T=$[F],P.indexOf(T)>=0||(N[T]=I[T]);return N})(e,i);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(e);for(m=0;m<y.length;m++)d=y[m],i.indexOf(d)>=0||Object.prototype.propertyIsEnumerable.call(e,d)&&(b[d]=e[d])}return b}function D(e,i){return(function(d){if(Array.isArray(d))return d})(e)||(function(d,m){var b=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(b!=null){var y,I,P,T,F=[],N=!0,$=!1;try{if(P=(b=b.call(d)).next,m===0){if(Object(b)!==b)return;N=!1}else for(;!(N=(y=P.call(b)).done)&&(F.push(y.value),F.length!==m);N=!0);}catch(C){$=!0,I=C}finally{try{if(!N&&b.return!=null&&(T=b.return(),Object(T)!==T))return}finally{if($)throw I}}return F}})(e,i)||ee(e,i)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function ke(e){return(function(i){if(Array.isArray(i))return h(i)})(e)||(function(i){if(typeof Symbol!="undefined"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)})(e)||ee(e)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function ee(e,i){if(e){if(typeof e=="string")return h(e,i);var d=Object.prototype.toString.call(e).slice(8,-1);return d==="Object"&&e.constructor&&(d=e.constructor.name),d==="Map"||d==="Set"?Array.from(e):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?h(e,i):void 0}}function h(e,i){(i==null||i>e.length)&&(i=e.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=e[d];return m}function A(e,i){var d=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!d){if(Array.isArray(e)||(d=ee(e))||i){d&&(e=d);var m=0,b=function(){};return{s:b,n:function(){return m>=e.length?{done:!0}:{done:!1,value:e[m++]}},e:function(T){throw T},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,I=!0,P=!1;return{s:function(){d=d.call(e)},n:function(){var T=d.next();return I=T.done,T},e:function(T){P=!0,y=T},f:function(){try{I||d.return==null||d.return()}finally{if(P)throw y}}}}function p(e){return Array.isArray(e)}function E(e){var i=e.state.date,d=i.calendar,m=i.locale,b=e.customWeekDays,y=e.weekStartDayIndex,I=e.displayWeekNumbers,P=e.weekNumber,T=a.useMemo((function(){var F=b;return p(F)&&F.length>=7?(F.length=7,F=F.map((function(N){return p(N)&N.length>1?N=N[1]:p(N)&&(N=N[0]),N}))):F=new j.default({year:1,calendar:d,locale:m}).weekDays.map((function(N){return N.shortName})),F}),[d,m,b]);return T=ke(T).slice(y).concat(ke(T).splice(0,y)),n.default.createElement("div",{className:"rmdp-week"},I&&n.default.createElement("div",{className:"rmdp-week-day"},P),T.map((function(F,N){return n.default.createElement("div",{key:N,className:"rmdp-week-day"},F)})))}function X(e,i){var d=arguments.length>2&&arguments[2]!==void 0&&arguments[2],m=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!e||!i)return!1;if(e.year===i.year){if(m)return!0;if(e.monthIndex===i.monthIndex)return!!d||e.day===i.day}}function Ce(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY/MM/DD";return e.format(i)}function q(e,i,d){var m=d.multiple,b=d.range,y=d.selectedDate,I=d.onlyMonthPicker,P=d.onlyYearPicker,T=d.format,F=d.focused,N=d.weekPicker;e.setFormat(T);var $=new j.default(e);return y=m&&b?(function(){var C=!0;p(y)||(y=[[y]]);var G=y.find((function(me){return me.length===1})),fe=I?"YYYY/MM":"YYYY/MM/DD",ie=y;if(G){var ae=G[0];ie=ie.filter((function(me){if(me.length===1)return!0;var Me=D(me,2),Se=Me[0],Ye=Me[1],De=D([ae,$].sort((function(H,de){return H-de})),2),oe=[Se,Ye,De[0],De[1]].map((function(H){return Ce(H,fe)})),Fe=D(oe,4),he=Fe[0],_=Fe[1],B=Fe[2],z=Fe[3];return!(B<=he&&z>=_||B>=he&&z>=_&&B<=_||B<=he&&z<=_&&z>=he)}))}else ie=ie.filter((function(me){if(!p(me))return!0;if(me.length===0)return!1;var Me=D(me,2),Se=[Me[0],Me[1],$].map((function(he){return Ce(he,fe)})),Ye=D(Se,3),De=Ye[0],oe=Ye[1],Fe=Ye[2];return!(Fe>=De&&Fe<=oe)}));return ie=ie.map((function(me){var Me;return p(me)?me.length===1?(C=!1,Me=me.concat($)):Me=me:(C=!1,Me=[me,$]),Me.sort((function(Se,Ye){return Se-Ye}))})),C&&(ie=[].concat(ke(ie),[[$]])),ie})():m?(function(){var C=y.filter((function(G){return!X(e,G,I,P)}));return C.length===y.length?C.push($):$=C.find((function(G){return X(G,F)})),i&&C.sort((function(G,fe){return G-fe})),C})():b?(function(){if(N)return[new j.default($).toFirstOfWeek(),new j.default($).toLastOfWeek()];if(y.length===2||y.length===0)return[$];if(y.length===1)return[y[0],$].sort((function(C,G){return C-G}))})():$,[y,$]}function ve(e,i,d,m){var b=[],y=d?"YYYY/MM":"YYYY/MM/DD",I=Ce(e,y);function P(T){var F=T[0],N=T[1];if(T.length===1)X(e,F,d)&&b.push("rmdp-range");else if(T.length===2){var $=[F,N].map((function(ie){return Ce(ie,y)})),C=D($,2),G=C[0],fe=C[1];I>=G&&I<=fe&&b.push("rmdp-range"),I===G&&b.push("start"),I===fe&&b.push("end")}}return m?(p(i)?i:[[i]]).forEach(P):P(i),b.join(" ")}function Le(e,i,d,m){var b=arguments.length>5?arguments[5]:void 0,y=[];if(m&&d){var I,P=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:"day")==="day"?"YYYY/MM/DD":"YYYY/MM",T=d.format(P),F=e.format(P);if(b||(i==null?void 0:i.length)!==1){if(b&&p(i)){var N,$=A(i);try{for($.s();!(N=$.n()).done;){var C=N.value;if(p(C)&&C.length===1){I=C[0].format(P);break}}}catch(G){$.e(G)}finally{$.f()}}}else I=i[0].format(P);(F>I&&F<=T||F<I&&F>=T)&&(y.push("rmdp-range-hover"),F===T&&y.push(T>I?"end":"start"),p(i)&&i.flat().some((function(G){return G.format(P)===F}))&&y.push("force"))}return y}function W(e,i,d){if(e){var m=Oe(e);return d?Array.from(m.querySelectorAll(i)):m.querySelector(i)}}function Oe(e){return e.closest(".rmdp-calendar")}var be=["selected","today","day:not(.rmdp-day-hidden):not(.rmdp-disabled)"];function ct(e,i,d){var m=d.type,b=m===void 0?"day":m,y=d.format;e.preventDefault();var I=e.currentTarget,P=e.key,T=e.code,F=b==="day"?7:3,N=Oe(I),$=N&&N.classList.contains("rmdp-rtl"),C={ArrowRight:$?-1:1,ArrowLeft:$?1:-1,ArrowUp:-F,ArrowDown:F};if(T==="Space"||P===" ")I.click();else if(Object.keys(C).includes(P)){var G=function(){if(b==="month")return tt(N,[be[2]]);var me=W(I,fe<0?".rmdp-left":".rmdp-right");me&&(me.click(),tt(N))},fe=C[P],ie=new j.default(i.date).add(fe,b);(function(me){if(!me)return G();var Me=me.getAttribute("class");Me.includes("hidden")||Me.includes("disabled")?ct(e,g(g({},i),{},{date:ie}),{type:b,format:y}):me.focus()})(W(I,'[aria-label*="'.concat(i.year?"year ".concat(i.year+fe):ie.format(y),'"]')))}else{var ae=W(I,".rmdp-arrow-container");ae&&ae.focus()}}function tt(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:be,d=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],m="[data-active='true']";e.querySelectorAll("".concat(m," [tabindex='0']")).forEach((function(b){return b.setAttribute("tabindex","-1")})),setTimeout((function(){var b,y=A(i);try{for(y.s();!(b=y.n()).done;){var I=b.value,P=e.querySelector("".concat(m," .rmdp-").concat(I));if(P){P.setAttribute("tabindex","0"),d&&P.focus();break}}}catch(T){y.e(T)}finally{y.f()}}),10)}var te="dddd MMMM DD of YYYY";function Z(e){var i=e.state,d=e.onChange,m=e.showOtherDays,b=m!==void 0&&m,y=e.mapDays,I=e.onlyShowInRangeDates,P=e.customWeekDays,T=e.sort,F=e.numberOfMonths,N=e.isRTL,$=e.weekStartDayIndex,C=e.handleFocusedDate,G=e.hideWeekDays,fe=e.fullYear,ie=D(e.monthAndYears,1)[0],ae=e.displayWeekNumbers,me=e.weekNumber,Me=me===void 0?"":me,Se=e.rangeHover,Ye=e.highlightToday,De=a.useRef({}),oe=a.useRef(),Fe=i.today,he=i.minDate,_=i.maxDate,B=i.range,z=i.multiple,H=i.date,de=i.selectedDate,re=i.onlyMonthPicker,U=i.onlyYearPicker,V=i.mustShowMonthPicker,Q=i.mustShowYearPicker,se=!re&&!U,ce=D(a.useState(),2),it=ce[0],Qe=ce[1];De.current.date=H;var $t=a.useMemo((function(){return se?(function(we,qe,$e,St){if(!we)return[];for(var Ee=[],_t=0;_t<$e;_t++){var vt=(we=new j.default(we).toFirstOfMonth()).monthIndex,Et=[];we.toFirstOfWeek().add(St,"day"),we.monthIndex===vt&&we.day>1&&we.subtract(7,"days");for(var ut=0;ut<6;ut++){for(var wt=[],rt=0;rt<7;rt++)wt.push({date:new j.default(we),day:we.format("D"),current:we.monthIndex===vt}),we.day+=1;if(Et.push(wt),ut>2&&we.monthIndex!==vt)break}Ee.push(Et)}return Ee})(De.current.date,0,F,$):[]}),[H.monthIndex,H.year,H.calendar,H.locale,se,b,F,$]);return se&&n.default.createElement("div",{ref:oe,className:"rmdp-day-picker ".concat(fe?"rmdp-full-year":""),style:{display:fe?"grid":"flex"},onMouseLeave:function(){return Se&&Qe()},"data-active":se&&!V&&!Q},$t.map((function(we,qe){return n.default.createElement("div",{key:qe,style:ue({},N?"marginLeft":"marginRight",qe+(fe?0:1)<F?"10px":"")},fe&&n.default.createElement("div",{className:"rmdp-month-name"},ie[qe]),!G&&n.default.createElement(E,{state:i,customWeekDays:P,weekStartDayIndex:$,displayWeekNumbers:ae,weekNumber:Me}),we.map((function($e,St){return n.default.createElement("div",{key:St,className:"rmdp-week"},ae&&n.default.createElement("div",{className:"rmdp-day rmdp-disabled"},n.default.createElement("span",null,$e[0].date.format("WW"))),$e.map((function(Ee,_t){var vt=(function(Te){if(!Te.current&&!b)return{};var Re={};return y.forEach((function(Ze){var st,Je=Ze({date:Te.date,today:Fe,currentMonth:i.date.month,selectedDate:i.selectedDate,isSameDate:X});((st=Je)===null||st===void 0?void 0:st.constructor)!==Object&&(Je={}),(Je.disabled||Je.hidden)&&(Te.disabled=!0),Je.hidden&&(Te.hidden=!0),Re=g(g({},Re),Je)})),delete Re.disabled,delete Re.hidden,Re})(Ee={date:Ee.date,day:Ee.day,current:Ee.current}),Et=ye(Ee)&&!Ee.disabled,ut="".concat(Et?"sd":""),wt=vt.children;Et&&(ut="".concat(ut," ").concat(vt.className||"")),delete vt.className,delete vt.children;var rt=(function(Te,Re){var Ze=["rmdp-day"],st=Te.date,Je=Te.hidden,Qt=Te.current;if(!ye(Te)||Je)Ze.push("rmdp-day-hidden");else{(he&&st<he||_&&st>_||Te.disabled)&&(Ze.push("rmdp-disabled"),Te.disabled||(Te.disabled=!0)),Qt||Ze.push("rmdp-deactive");var zt=Re>1&&Qt||Re===1;Te.disabled&&I||(X(st,Fe)&&Ye&&Ze.push("rmdp-today"),Ht=st,[].concat(de).some((function(Rt){return X(Rt,Ht)}))&&zt&&!B&&Ze.push("rmdp-selected")),B&&!Te.disabled&&zt&&(Ze.push(ve(st,de,void 0,z)),Ze=Ze.concat(Le(st,de,it,Se,void 0,z)))}var Ht;return Ze.join(" ")})(Ee,F);return(Ee.hidden||Ee.disabled)&&(ut=ut.replace("sd","")),n.default.createElement("div",{key:_t,tabIndex:-1,"aria-label":"Choose ".concat(Ee.date.format(te)),className:rt,onMouseEnter:function(){return Se&&Qe(Ee.date)},onKeyDown:function(Te){return ct(Te,Ee,{format:te})},onClick:function(){ye(Ee)&&!Ee.disabled&&(function(Te,Re,Ze){var st,Je,Qt,zt=Te.date,Ht=Te.current,Rt=i.selectedDate,mr=i.focused,Tt=i.date,hr=Tt,yr=hr.hour,Pr=hr.minute,br=hr.second;zt.set({hour:((st=Rt)===null||st===void 0?void 0:st.hour)||yr,minute:((Je=Rt)===null||Je===void 0?void 0:Je.minute)||Pr,second:((Qt=Rt)===null||Qt===void 0?void 0:Qt.second)||br}),Ze!==1||Ht?Ze>1&&!Ht&&(Re===0&&zt<Tt&&(Tt=new j.default(Tt).toFirstOfMonth()),Re>0&&zt.monthIndex>Tt.monthIndex+Re&&Re+1===Ze&&(Tt=new j.default(Tt).toFirstOfMonth().add(1,"month"))):Tt=new j.default(Tt).toFirstOfMonth();var pr=D(q(zt,T,i),2);Rt=pr[0],mr=pr[1],d(Rt,g(g({},i),{},{date:Tt,focused:mr,selectedDate:Rt})),C(mr,zt)})(Ee,qe,F)}},n.default.createElement("span",R({className:ut},vt),ye(Ee)&&!Ee.hidden?wt!=null?wt:Ee.day:""))})))})))})));function ye(we){return!!we.current||b}}function Ue(e){var i=e.direction,d=e.onClick,m=e.disabled,b=e.onKeyDown;return n.default.createElement("button",{type:"button",className:"rmdp-arrow-container ".concat(i," ").concat(m?"disabled":""),onClick:d,onKeyDown:b,"aria-roledescription":"button to navigate ".concat(i.replace("rmdp-",""))},n.default.createElement("i",{className:"rmdp-arrow"}))}function at(e){var i=e.state,d=e.setState,m=e.disableYearPicker,b=e.disableMonthPicker,y=e.buttons,I=e.renderButton,P=e.handleMonthChange,T=e.disabled,F=e.hideMonth,N=e.hideYear,$=e.isRTL,C=e.fullYear,G=D(e.monthAndYears,2),fe=G[0],ie=G[1],ae=e.monthYearSeparator,me=e.formatMonth,Me=e.formatYear,Se=e.headerOrder,Ye=e.onYearChange,De={},oe=i.date,Fe=i.onlyMonthPicker,he=i.onlyYearPicker,_=i.mustShowYearPicker,B=i.minDate,z=i.maxDate,H=i.year,de=i.today,re=B&&oe.year<=B.year&&B.monthIndex>oe.monthIndex-1,U=z&&oe.year>=z.year&&z.monthIndex<oe.monthIndex+1,V=de.year+7;if(V-=12*Math.floor((V-H)/12),(F||C)&&N&&!y)return null;if((Fe||C)&&(B&&B.year>=oe.year&&(re=!0),z&&z.year<=oe.year&&(U=!0)),_||he){var Q=V-11;re=B&&B.year>Q,U=z&&z.year<V}return T&&(re=!0,U=!0),n.default.createElement("div",{className:"rmdp-header"},n.default.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},Array.from(new Set(Se)).map((function(ye,we){return n.default.createElement(a.Fragment,{key:we},(function(qe){switch(qe){case"LEFT_BUTTON":return y&&it("left");case"RIGHT_BUTTON":return y&&it("right");case"MONTH_YEAR":case"YEAR_MONTH":if(C)return n.default.createElement("div",{className:"rmdp-header-values",style:De},!N&&oe.format("YYYY"));var $e=qe.split("_").filter((function(St){return St==="MONTH"&&!F||St==="YEAR"&&!N}));return $e.length>1&&($e=[$e[0],ce(),$e[1]]),fe.map((function(St,Ee){return n.default.createElement("div",{key:Ee,className:"rmdp-header-values",style:De},$e.map((function(_t,vt){return n.default.createElement(a.Fragment,{key:vt},(function(Et,ut,wt){switch(Et){case"MONTH":return n.default.createElement("span",{tabIndex:0,onKeyDown:se,style:{cursor:T||b||Fe?"default":"pointer"},onClick:function(rt){return!b&&$t("mustShowMonthPicker",rt)}},(function(rt,Te){return typeof me=="function"?me(rt,Te):rt})(ut,ie[wt]));case"YEAR":return n.default.createElement("span",{tabIndex:0,onKeyDown:se,style:{cursor:T||m||he?"default":"pointer"},onClick:function(rt){return!m&&$t("mustShowYearPicker",rt)}},(function(rt,Te){return typeof me=="function"?Me(rt,Te):rt})(ie[wt],ut));default:return Et}})(_t,St,Ee))})))}));default:return}})(ye))}))));function se(ye){var we=ye.currentTarget,qe=ye.key,$e=ye.code;$e==="Space"||qe===" "?(ye.preventDefault(),we.click()):$e==="ArrowDown"&&(ye.preventDefault(),tt(Oe(ye.target)))}function ce(){return ae?n.default.createElement("span",null,ae):$?"ØŒ":","}function it(ye){var we=function($e){$e.preventDefault(),Qe(ye==="right"?1:-1,$e)},qe=ye==="left"&&re||ye==="right"&&U;return I instanceof Function?I(ye,we,qe,se):a.isValidElement(I)?a.cloneElement(I,{direction:ye,handleClick:we,disabled:qe,onKeyDown:se}):n.default.createElement(Ue,{direction:"rmdp-".concat(ye),onClick:we,onKeyDown:se,disabled:qe})}function Qe(ye,we){T||ye<0&&re||ye>0&&U||(C?(oe.year+=ye,Ye==null||Ye(new j.default(oe))):_||he?(H+=12*ye,ye<0&&B&&H<B.year&&(H=B.year),ye>0&&z&&H>z.year&&(H=z.year)):(oe.toFirstOfMonth(),Fe?oe.year+=ye:(oe.month+=ye,P(oe))),d(g(g({},i),{},{date:oe,year:H})),tt(Oe(we.target),void 0,!1))}function $t(ye,we){if(!T){var qe={mustShowMonthPicker:!1,mustShowYearPicker:!1};qe[ye]=!i[ye],d(g(g({},i),qe)),tt(Oe(we.target),void 0,!1)}}}function ot(e){return p(e)||(e=[]),JSON.stringify(e)}var Mt="MMMM of YYYY";function pt(e){var i=e.state,d=e.onChange,m=e.customMonths,b=e.sort,y=e.handleMonthChange,I=e.handleFocusedDate,P=e.rangeHover,T=e.highlightToday,F=e.numberOfMonths,N=i.date,$=i.today,C=i.minDate,G=i.maxDate,fe=i.calendar,ie=i.locale,ae=i.onlyMonthPicker,me=i.onlyYearPicker,Me=i.range,Se=i.onlyShowInRangeDates,Ye=(i.mustShowMonthPicker||ae)&&!me,De=D(a.useState(),2),oe=De[0],Fe=De[1];m=m&&ot(m);var he=a.useMemo((function(){var z=[],H=ae?F:1,de=m&&JSON.parse(m),re=new j.default({calendar:fe,locale:ie,format:i.date._format,year:i.date.year,month:1,day:1});p(de)&&de.length>=12?(de.length=12,de=de.map((function(Qe){return p(Qe)?Qe[0]:Qe}))):de=re.locale.months.map((function(Qe){return D(Qe,1)[0]}));for(var U=0;U<H;U++){for(var V=[],Q=0,se=0;se<4;se++){for(var ce=[],it=0;it<3;it++)ce.push({date:new j.default(re),name:de[Q]}),Q++,re.add(1,"month");V.push(ce)}z.push(V)}return z}),[fe,ie,m,i.date.year,i.date._format,F,ae]);return n.default.createElement("div",{className:"".concat(ae?"only ":"","rmdp-month-picker"),style:{display:Ye?"flex":"none"},"data-active":Ye,onMouseLeave:function(){return P&&Fe()}},he.map((function(z,H){return n.default.createElement("div",{key:H,style:{margin:"0 5px",flex:1}},z.map((function(de,re){return n.default.createElement("div",{key:re,className:"rmdp-ym"},de.map((function(U,V){var Q=U.date,se=U.name;return n.default.createElement("div",{key:V,"aria-label":"Select ".concat(Q.format(Mt)),tabIndex:-1,onKeyDown:function(ce){return ct(ce,{date:Q},{format:Mt,type:"month"})},className:B(Q),onClick:function(ce){return _(Q,ce)},onMouseEnter:function(){return P&&Fe(Q)}},n.default.createElement("span",{className:ae?"sd":""},se))})))})))})));function _(z,H){var de=i.selectedDate,re=i.focused,U=z.year,V=z.monthIndex;if(!(C&&U<=C.year&&V<C.monthIndex||G&&U>=G.year&&V>G.monthIndex)){if(N.setMonth(V+1),ae){var Q=D(q(z,b,i),2);de=Q[0],re=Q[1]}else y(N),tt(Oe(H.target));d(ae?de:void 0,g(g({},i),{},{date:N,focused:re,selectedDate:de,mustShowMonthPicker:!1})),ae&&I(re,z)}}function B(z){var H=["rmdp-day"],de=z.year,re=z.monthIndex,U=i.selectedDate,V=i.multiple;if((C&&(de<C.year||de===C.year&&re<C.monthIndex)||G&&(de>G.year||de===G.year&&re>G.monthIndex))&&H.push("rmdp-disabled"),!H.includes("rmdp-disabled")||!Se)return X($,z,!0)&&T&&H.push("rmdp-today"),ae?Me?(H.push(ve(z,U,!0,V)),H=H.concat(Le(z,U,oe,P,"month",V))):[].concat(U).some((function(Q){return X(Q,z,!0)}))&&H.push("rmdp-selected"):N.monthIndex===re&&H.push("rmdp-selected"),H.join(" ")}}function Dt(e,i){return e.replace(/[0-9]/g,(function(d){return i[d]}))}var It="YYYY";function Pt(e){var i=e.state,d=e.onChange,m=e.sort,b=e.handleFocusedDate,y=e.onYearChange,I=e.rangeHover,P=e.highlightToday,T=i.date,F=i.today,N=i.minDate,$=i.maxDate,C=i.onlyYearPicker,G=i.range,fe=i.onlyShowInRangeDates,ie=i.year,ae=i.mustShowYearPicker||C,me=T.digits,Me=D(a.useState(),2),Se=Me[0],Ye=Me[1],De=F.year-4;De-=12*Math.ceil((De-ie)/12);var oe=a.useMemo((function(){for(var _=[],B=De,z=0;z<4;z++){for(var H=[],de=0;de<3;de++)H.push(B),B++;_.push(H)}return _}),[De]);return n.default.createElement("div",{className:"".concat(C?"only ":"","rmdp-year-picker"),style:{display:ae?"block":"none"},"data-active":ae},oe.map((function(_,B){return n.default.createElement("div",{key:B,className:"rmdp-ym",onMouseLeave:function(){return I&&Ye()}},_.map((function(z,H){return n.default.createElement("div",{key:H,"aria-label":"Select year ".concat(z),tabIndex:-1,onKeyDown:function(de){return ct(de,{year:z,date:T},{format:It,type:"year"})},className:Fe(z),onClick:function(de){return(function(re,U){if(!he(re)){var V=new j.default(i.date).setYear(re),Q=i.selectedDate,se=i.focused;if(C){var ce=D(q(V,m,i),2);Q=ce[0],se=ce[1]}else N&&V.monthIndex<N.monthIndex?V=V.setMonth(N.monthIndex+1):$&&V.monthIndex>$.monthIndex&&(V=V.setMonth($.monthIndex+1)),y==null||y(V),tt(Oe(U.target));d(C?Q:void 0,g(g({},i),{},{date:V,focused:se,selectedDate:Q,mustShowYearPicker:!1})),C&&b(se,V)}})(z,de)},onMouseEnter:function(){return I&&Ye(z)}},n.default.createElement("span",{className:C?"sd":""},Dt(z.toString(),me)))})))})));function Fe(_){var B=["rmdp-day"],z=i.date,H=i.selectedDate,de=i.multiple;if(he(_)&&B.push("rmdp-disabled"),!B.includes("rmdp-disabled")||!fe){if(F.year===_&&P&&B.push("rmdp-today"),C)if(G){var re=function(U){var V=U[0],Q=U[1];if(U.length===1){if(_===V.year&&B.push("rmdp-range"),I){var se=U[0].year;(_>se&&_<=Se||_<se&&_>=Se)&&(B.push("rmdp-range-hover"),_===Se&&B.push(Se>se?"end":"start"))}}else U.length===2&&(_>=V.year&&_<=Q.year&&B.push("rmdp-range"),_===V.year&&B.push("start"),_===Q.year&&B.push("end"))};de?(p(H)?H:[[H]]).forEach((function(U){return re(U)})):re(H)}else[].concat(H).some((function(U){return U&&U.year===_}))&&B.push("rmdp-selected");else _===z.year&&B.push("rmdp-selected");return B.join(" ")}}function he(_){return N&&_<N.year||$&&_>$.year}}function Yt(e,i,d){return d||(e?"MM/YYYY":i?"YYYY":"YYYY/MM/DD")}function ze(e,i){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"YYYY/MM/DD";return e instanceof j.default?e.set({calendar:i,format:d}):e=new j.default({date:e,calendar:i,format:d}),e}function yt(e){"_self"in n.default.createElement("div")&&console.warn(e.join(`
`))}var He=new j.default,Ve=He.calendar,At=He.locale;function Nt(e,i){return e&&e.constructor!==Object&&(yt(l("calendar")),e=void 0),i&&i.constructor!==Object&&(yt(l("locale")),i=void 0),[e||Ve,i||At]}function l(e){return["".concat(e," must be an object"),"https://shahabyazdi.github.io/react-multi-date-picker/calendars/"]}function f(e){return e&&e.name?e.name.split("_")[1]:""}function k(e){return["fa","ar"].includes(f(e))}function S(e,i){i===void 0&&(i={});var d=i.insertAt;if(e&&typeof document!="undefined"){var m=document.head||document.getElementsByTagName("head")[0],b=document.createElement("style");b.type="text/css",d==="top"&&m.firstChild?m.insertBefore(b,m.firstChild):m.appendChild(b),b.styleSheet?b.styleSheet.cssText=e:b.appendChild(document.createTextNode(e))}}S(".rmdp-wrapper{background-color:#fff;border-radius:5px;direction:ltr;text-align:center;width:max-content}.rmdp-shadow{box-shadow:0 0 5px #8798ad}.rmdp-border{border:1px solid #cfd8e2}.rmdp-calendar{height:max-content;padding:4px}.rmdp-border-top{border-top:1px solid #cfd8e2}.rmdp-border-bottom{border-bottom:1px solid #cfd8e2}.rmdp-border-left{border-left:1px solid #cfd8e2}.rmdp-border-right{border-right:1px solid #cfd8e2}.rmdp-week,.rmdp-ym{display:flex;justify-content:space-between}.rmdp-ym{height:25%}.rmdp-day,.rmdp-week-day{color:#000;cursor:pointer;height:34px;position:relative;width:34px}.rmdp-calendar :focus{outline-color:#00539c}.rmdp-day:not(.rmdp-range):focus{border-radius:50%}.rmdp-ym .rmdp-day:not(.rmdp-range):focus{border-radius:15px}.rmdp-week-day{color:#0074d9;cursor:default;font-size:13px;font-weight:500}.rmdp-day span,.rmdp-week-day{display:flex;flex-direction:column;justify-content:center}.rmdp-day span{border-radius:50%;bottom:3px;font-size:14px;left:3px;position:absolute;right:3px;top:3px}.rmdp-day.rmdp-today span{background-color:#7fdbff;color:#fff}.rmdp-day.rmdp-selected span:not(.highlight){background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-day.rmdp-deactive,.rmdp-day.rmdp-disabled{color:#8798ad}.rmdp-day.rmdp-deactive.rmdp-selected span{background-color:#4ca6f5;box-shadow:0 0 3px #bac5d3}.rmdp-ym .rmdp-day{flex:1;margin:auto}.rmdp-ym .rmdp-day span{border-radius:12px;padding:2px 0}.rmdp-range{background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-range-hover{background-color:#7ea6f0;color:#fff}.rmdp-range-hover.start:not(.force),.rmdp-range.start:not(.force){border-bottom-left-radius:50%;border-top-left-radius:50%}.rmdp-range-hover.end:not(.force),.rmdp-range.end:not(.force){border-bottom-right-radius:50%;border-top-right-radius:50%}.rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-ym .rmdp-range.start:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-ym .rmdp-range.end:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}@media (hover:hover){.rmdp-day:not(.rmdp-disabled,.rmdp-day-hidden) span:hover{background-color:#7ea6f0;color:#fff}}.rmdp-day-picker{padding:5px}.rmdp-header{font-size:14px;margin-top:5px;padding:9px 0}.rmdp-month-picker,.rmdp-year-picker{background-color:#fff;border-radius:0 0 5px 5px;bottom:2px;left:2px;position:absolute;right:2px;top:2px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:240px;position:static;width:240px}.rmdp-header-values{color:#000;margin:auto}.rmdp-header-values span{padding:0 0 0 5px}.rmdp-arrow{border:solid #0074d9;border-width:0 2px 2px 0;display:inline-block;height:3px;margin-top:5px;padding:2px;width:3px}.rmdp-right i{margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-left i{margin-left:3px;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-left{left:0}.rmdp-right{right:0}.rmdp-arrow-container{background:transparent;border:none;border-radius:50%;cursor:pointer;display:flex;height:20px;justify-content:center;margin:0 5px;padding:0;width:20px}.rmdp-arrow-container:hover{background-color:#0074d9;box-shadow:0 0 3px #8798ad}.rmdp-arrow-container:hover .rmdp-arrow{border:solid #fff;border-width:0 2px 2px 0}.rmdp-arrow-container.disabled{cursor:default}.rmdp-arrow-container.disabled:hover{background-color:inherit;box-shadow:inherit}.rmdp-arrow-container.disabled .rmdp-arrow,.rmdp-arrow-container.disabled:hover .rmdp-arrow{border:solid gray;border-width:0 2px 2px 0}.rmdp-rtl{direction:rtl}.rmdp-rtl .rmdp-left i{margin-left:0;margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-rtl .rmdp-right i{margin-left:3px;margin-right:0;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-rtl .rmdp-right{left:0;right:auto}.rmdp-rtl .rmdp-left{left:auto;right:0}.rmdp-rtl .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-range.start:not(.force){border-bottom-left-radius:unset;border-bottom-right-radius:50%;border-top-left-radius:unset;border-top-right-radius:50%}.rmdp-rtl .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-range.end:not(.force){border-bottom-left-radius:50%;border-bottom-right-radius:unset;border-top-left-radius:50%;border-top-right-radius:unset}.rmdp-rtl .rmdp-range.start.end:not(.force){border-radius:50%}.rmdp-rtl .rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.start:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}.rmdp-rtl .rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.end:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-day-hidden,.rmdp-day.rmdp-disabled{cursor:default}.rmdp-selected .highlight{box-shadow:0 0 3px #8798ad}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-red:hover{background-color:#ff6687}.rmdp-day:not(.rmdp-deactive) .highlight-red{color:#cc0303}.rmdp-day.rmdp-deactive .highlight-red{color:#e08e8e}.rmdp-day.rmdp-selected .highlight-red{background-color:#ea0034;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-red{background-color:#e4b0ba;color:#fff}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-green:hover{background-color:#4db6ac}.rmdp-day:not(.rmdp-deactive) .highlight-green{color:#00796b}.rmdp-day.rmdp-deactive .highlight-green{color:#7ab3ac}.rmdp-day.rmdp-selected .highlight-green{background-color:#009688;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-green{background-color:#749c98;color:#fff}.rmdp-day-hidden,.rmdp-day-hidden:hover span{background-color:unset;color:transparent}.rmdp-month-name{cursor:default;font-size:14px;margin:3px 0}.rmdp-full-year{grid-template-columns:1fr 1fr 1fr}@media (max-height:450px),(max-width:450px){.rmdp-day,.rmdp-week-day{height:28px;width:28px}.rmdp-day span{font-size:12px;padding-left:.5px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:200px;width:230px}.rmdp-header{padding:3px 0 0}.rmdp-header,.rmdp-month-name{font-size:12px}.rmdp-full-year{grid-template-columns:1fr 1fr}}");var K=["datePickerProps","DatePicker"];function Ae(e,i){var d,m=e.value,b=e.calendar,y=e.locale,I=e.format,P=e.onlyMonthPicker,T=e.onlyYearPicker,F=e.range,N=F!==void 0&&F,$=e.multiple,C=$!==void 0&&$,G=e.className,fe=e.role,ie=e.weekDays,ae=e.months,me=e.children,Me=e.onChange,Se=e.showOtherDays,Ye=e.minDate,De=e.maxDate,oe=e.mapDays,Fe=e.disableMonthPicker,he=e.disableYearPicker,_=e.formattingIgnoreList,B=e.onReady,z=e.onlyShowInRangeDates,H=z===void 0||z,de=e.zIndex,re=de===void 0?100:de,U=e.plugins,V=U===void 0?[]:U,Q=e.sort,se=e.numberOfMonths,ce=se===void 0?1:se,it=e.currentDate,Qe=e.digits,$t=e.buttons,ye=$t===void 0||$t,we=e.renderButton,qe=e.weekStartDayIndex,$e=qe===void 0?0:qe,St=e.disableDayPicker,Ee=e.onPropsChange,_t=e.onMonthChange,vt=e.onYearChange,Et=e.onFocusedDateChange,ut=e.readOnly,wt=e.disabled,rt=e.hideMonth,Te=e.hideYear,Re=e.hideWeekDays,Ze=e.shadow,st=Ze===void 0||Ze,Je=e.fullYear,Qt=e.displayWeekNumbers,zt=e.weekNumber,Ht=e.weekPicker,Rt=e.rangeHover,mr=e.monthYearSeparator,Tt=e.formatMonth,hr=e.formatYear,yr=e.highlightToday,Pr=yr===void 0||yr,br=e.headerOrder,pr=br===void 0?["LEFT_BUTTON","MONTH_YEAR","RIGHT_BUTTON"]:br,Yr=e.style,Jr=Yr===void 0?{}:Yr,Er=e.autoFocus,Tr=Er!==void 0&&Er;!it||it instanceof j.default||(console.warn("currentDate must be instance of DateObject"),it=void 0),(typeof $e!="number"||$e<0||$e>6)&&($e=0),(typeof ce!="number"||ce<1||T)&&(ce=1),!(C||N||p(m))||N||C||(C=!0),Ht&&(N=!0,C=!1),Je&&(ce=12,P=!1,T=!1),T&&!rt&&(rt=!0);var xr=D(Nt(b,y),2);b=xr[0],y=xr[1],I=Yt(P,T,I),_=ot(_),oe=[].concat(oe).filter(Boolean),V=[].concat.apply([],V);var Lr=D(a.useState({}),2),Lt=Lr[0],Xt=Lr[1],nr={},Ct=a.useRef({mustCallOnReady:!0,currentDate:it});a.useEffect((function(){Xt((function(M){var xe=Ct.current.currentDate,ge=M.date,pe=M.selectedDate,nt=M.initialValue,Xe=M.focused,We=M.mustSortDates;function ft(x){if(x)return x.calendar.name!==b.name&&x.setCalendar(b),x.locale.name!==y.name&&x.setLocale(y),x._format!==I&&x.setFormat(I),x.digits=Qe,x.ignoreList=JSON.parse(_),x}function Ot(x){return new j.default(xe||x)}if(m)if(p(pe=bt(m,b,y,I)))ge||(ge=Ot(pe.flat()[0]));else if(ge&&ce!==1){var er=new j.default(ge).toFirstOfMonth(),or=new j.default(ge).add(ce-1,P?"years":"months").toLastOfMonth();(pe<er||pe>or)&&(ge=new j.default(pe))}else ge=Ot(pe);else ge||(ge=Ot({calendar:b,locale:y,format:I})),nt&&(pe=void 0);if([].concat(pe).flat().forEach(ft),ft(ge),C||N||p(m)){if(pe||(pe=[]),p(pe)||(pe=C&&N?[[pe]]:[pe]),N&&!C&&pe.length>2){var tr=pe[pe.length-1];pe=[pe[0],tr],Xe=tr}C&&!N&&Q&&!We?(We=!0,pe.sort((function(x,J){return x-J}))):N&&!C&&pe.sort((function(x,J){return x-J}))}else p(pe)&&(pe=pe.flat()[pe.length-1]);return Je&&ge.toFirstOfYear(),delete Ct.current.currentDate,g(g({},M),{},{date:ge,selectedDate:pe,multiple:C,range:N,onlyMonthPicker:P,onlyYearPicker:T,initialValue:M.initialValue||m,value:m,focused:Xe,calendar:b,locale:y,format:I,mustSortDates:We,year:ge.year,today:ft(M.today)||new j.default({calendar:b}),weekPicker:Ht})}))}),[m,b,y,I,P,T,N,C,Q,ce,Qe,_,Je,Ht]),a.useEffect((function(){(Ye||De)&&Xt((function(M){var xe=M.calendar,ge=M.locale,pe=M.format,nt=(function(er,or,tr,x,J){return or&&(or=ze(or,x,J).set({hour:0,minute:0,second:0,millisecond:0})),tr&&(tr=ze(tr,x,J).set({hour:23,minute:59,second:59,millisecond:999})),p(er)&&(er=er.filter((function(Pe){return!(or&&Pe<or)&&!(tr&&Pe>tr)}))),[er,or,tr]})(bt(m,xe,ge,pe),Ye,De,xe,pe),Xe=D(nt,3),We=Xe[0],ft=Xe[1],Ot=Xe[2];return g(g({},M),{},{inRangeDates:H?We:M.selectedDate,minDate:ft,maxDate:Ot})}))}),[Ye,De,H,m]),Lt.today&&!Ct.current.isReady&&(Ct.current.isReady=!0),a.useEffect((function(){Ct.current.isReady&&Ct.current.mustCallOnReady&&B instanceof Function&&(Ct.current.mustCallOnReady=!1,B())}),[Ct.current.isReady,B]);var ir="rmdp-top-class "+Jt(["top","bottom"]),Wt={top:[],bottom:[],left:[],right:[]},Ar=k((d=Lt.date)===null||d===void 0?void 0:d.locale),Zt={state:Lt,setState:Xt,onChange:sr,sort:Q,handleFocusedDate:lr,isRTL:Ar,fullYear:Je,monthAndYears:(function(){var M=Lt.date;if(!M)return[];for(var xe=[],ge=[],pe=M.digits,nt=0;nt<ce;nt++){var Xe=void 0,We=M.year,ft=M.monthIndex+nt;if(P&&(We+=nt),ft>11&&(ft-=12,P||We++),p(ae)&&ae.length>=12){var Ot=ae[ft];Xe=p(Ot)?Ot[0]:Ot}else Xe=M.months[ft].name;We=Dt(We.toString(),pe),xe.push(Xe),ge.push(We)}return[xe,ge]})(),rangeHover:Rt,highlightToday:Pr,numberOfMonths:ce},Nr=arguments[0],Fr=Nr.datePickerProps,Sr=Nr.DatePicker,Rr=ne(Nr,K);return a.useEffect((function(){var M=Ct.current.Calendar;M&&tt(M,void 0,Tr&&!Sr)}),[Tr,Lt.today,Sr]),(function(){if(!(!Ct.current.isReady||!p(V))){var M={state:Lt,setState:Xt,registerListener:Wr,calendarProps:Rr,datePickerProps:Fr,handleChange:sr,Calendar:Ct.current.Calendar,DatePicker:Sr,handlePropsChange:ar,handleFocusedDate:function(ge){return lr(ge)},minDate:Ye,maxDate:De},xe=function(ge){return St?"bottom":ge.props.position||"right"};V.forEach((function(ge,pe){if(typeof ge.type!="string"){var nt={},Xe=xe(ge);if(Wt[Xe]&&!ge.props.disabled){for(var We=0;We<V.length;We++)if(typeof V[We].type!="string"&&!V[We].props.disabled){if(Object.keys(nt).length===4)break;var ft=xe(V[We]);["top","bottom"].includes(Xe)?(ft===Xe&&We>pe&&(nt.bottom=!0),ft===Xe&&We<pe&&(nt.top=!0)):(ir.includes("border-top")&&(nt.top=!0),ir.includes("border-bottom")&&(nt.bottom=!0),ft===Xe&&We>pe&&(nt.right=!0),ft===Xe&&We<pe&&(nt.left=!0))}Wt[Xe].push(a.cloneElement(ge,g({key:pe,position:Xe,nodes:nt},M)))}}else ge.type==="mapDays"&&oe.push(ge.fn(M))}))}})(),Lt.today?n.default.createElement("div",{ref:function(M){if(M&&(M.date=Lt.date,M.set=function(xe,ge){wt||Xt(g(g({},Lt),{},{date:new j.default(Lt.date.set(xe,ge))}))}),Ct.current.Calendar=M,i instanceof Function)return i(M);i&&(i.current=M)},role:fe||"dialog",className:"rmdp-wrapper rmdp-".concat(st?"shadow":"border"," ").concat(G||""),style:g({zIndex:re},Jr)},Wt.top,n.default.createElement("div",{style:{display:"flex"},className:ir},Wt.left,!St&&n.default.createElement("div",{className:"rmdp-calendar ".concat(Ar?"rmdp-rtl":""," ").concat(Jt(["left","right"]))},n.default.createElement(at,g(g({},Zt),{},{disableYearPicker:he,disableMonthPicker:Fe,buttons:ye,renderButton:we,handleMonthChange:Ne,disabled:wt,hideMonth:rt,hideYear:Te,monthYearSeparator:mr,formatMonth:Tt,formatYear:hr,headerOrder:pr,onYearChange:vt})),n.default.createElement("div",{style:{position:"relative"}},n.default.createElement(Z,g(g({},Zt),{},{showOtherDays:Se,mapDays:oe,onlyShowInRangeDates:H,customWeekDays:ie,weekStartDayIndex:$e,hideWeekDays:Re,displayWeekNumbers:Qt,weekNumber:zt})),!Je&&n.default.createElement(n.default.Fragment,null,!Fe&&n.default.createElement(pt,R({},Zt,{customMonths:ae,handleMonthChange:Ne})),!he&&n.default.createElement(Pt,R({},Zt,{onYearChange:vt}))))),Wt.right),Wt.bottom,me):null;function sr(M,xe){if(M instanceof j.default&&(M=new j.default(M)),!wt){if(M||M===null){if(ut)return;nr.change&&nr.change.forEach((function(pe){return pe(M)}))}if(M||M===null){var ge=Me==null?void 0:Me(M);xe&&ge!==!1&&Xt(xe)}else xe&&Xt(xe);ar({value:M})}}function ar(){var M,xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!ut&&!wt){var ge=g(g(g(g({},Rr),Fr),xe),{},{value:(M=xe.value)!==null&&M!==void 0?M:Lt.selectedDate});delete ge.onPropsChange,Ee==null||Ee(ge)}}function lr(M,xe){ut||wt||Et==null||Et(M,xe)}function Ne(M){_t==null||_t(M)}function Jt(M){return St||!p(V)?"":Array.from(new Set(V.map((function(xe){if(!xe.props)return"";var ge=xe.props.position||"right";return M.includes(ge)&&!xe.props.disabled?"rmdp-border-"+ge:""})))).join(" ")}function Wr(M,xe){nr[M]||(nr[M]=[]),nr[M].push(xe)}}var le=a.forwardRef(Ae);function bt(e,i,d,m){var b=[].concat(e).map((function(P){return p(P)?P.map(y).filter(I):y(P)})).filter(I);return p(e)?b:b.flat()[0];function y(P){return P?P instanceof j.default?P:new j.default({date:P,calendar:i,locale:d,format:m}):{}}function I(P){return p(P)||P.isValid}}S('.rmdp-visible{visibility:visible}.rmdp-invisible{visibility:hidden}.rmdp-input{border:1px solid #c0c4d6;border-radius:5px;height:22px;margin:1px 0;padding:2px 5px}.rmdp-input:focus{border:1px solid #a4b3c5;box-shadow:0 0 2px #a4b3c5;outline:none!important}.rmdp-button{background-color:#0074d9;border:none;border-radius:5px;color:#fff;cursor:pointer;display:inline-block;padding:7px 16px;text-align:center;text-decoration:none;transition:.3s}.rmdp-button:hover{background-color:#143ac5;transition:.4s}.rmdp-button:disabled{background-color:#8798ad}.rmdp-action-button{border-radius:unset;color:#2682d3;float:right;font-weight:700;margin:15px 10px 15px 0}.rmdp-action-button,.rmdp-action-button:hover{background-color:transparent}.rmdp-ep-arrow{overflow:hidden;will-change:transform}.rmdp-ep-arrow:after{background-color:#fff;content:"";height:12px;position:absolute;transform:rotate(45deg);width:12px}.rmdp-ep-shadow:after{box-shadow:0 0 6px #8798ad}.rmdp-ep-border:after{border:1px solid #cfd8e2}.rmdp-ep-arrow[direction=top]{border-bottom:1px solid #fff}.rmdp-ep-arrow[direction=left]{border-right:1px solid #fff}.rmdp-ep-arrow[direction=right]{border-left:1px solid #fff;margin-left:-1px}.rmdp-ep-arrow[direction=bottom]{border-top:1px solid #fff;margin-top:-1.5px}.rmdp-ep-arrow[direction=top]:after{left:4px;top:5px}.rmdp-ep-arrow[direction=bottom]:after{left:4px;top:-6px}.rmdp-ep-arrow[direction=left]:after{left:5px;top:3px}.rmdp-ep-arrow[direction=right]:after{left:-6px;top:3px}');var je=["value","calendar","locale","format","onlyMonthPicker","onlyYearPicker","onChange","range","multiple","name","id","title","placeholder","required","style","className","inputClass","disabled","render","weekDays","months","children","inputMode","scrollSensitive","hideOnScroll","minDate","maxDate","formattingIgnoreList","containerClassName","calendarPosition","editable","onOpen","onClose","arrowClassName","zIndex","arrow","fixMainPosition","onPositionChange","onPropsChange","digits","readOnly","shadow","onFocusedDateChange","type","weekPicker","mobileLabels","onOpenPickNewDate","mobileButtons","dateSeparator","multipleRangeSeparator","typingTimeout"],xt=["label"];function kr(e,i){var d=e.value,m=e.calendar,b=e.locale,y=e.format,I=e.onlyMonthPicker,P=e.onlyYearPicker,T=e.onChange,F=e.range,N=F!==void 0&&F,$=e.multiple,C=$!==void 0&&$,G=e.name,fe=e.id,ie=e.title,ae=e.placeholder,me=e.required,Me=e.style,Se=Me===void 0?{}:Me,Ye=e.className,De=Ye===void 0?"":Ye,oe=e.inputClass,Fe=e.disabled,he=e.render,_=e.weekDays,B=e.months,z=e.children,H=e.inputMode,de=e.scrollSensitive,re=de===void 0||de,U=e.hideOnScroll,V=e.minDate,Q=e.maxDate,se=e.formattingIgnoreList,ce=e.containerClassName,it=ce===void 0?"":ce,Qe=e.calendarPosition,$t=Qe===void 0?"bottom-left":Qe,ye=e.editable,we=ye===void 0||ye,qe=e.onOpen,$e=e.onClose,St=e.arrowClassName,Ee=St===void 0?"":St,_t=e.zIndex,vt=_t===void 0?100:_t,Et=e.arrow,ut=Et===void 0||Et,wt=e.fixMainPosition,rt=e.onPositionChange,Te=e.onPropsChange,Re=e.digits,Ze=e.readOnly,st=e.shadow,Je=st===void 0||st,Qt=e.onFocusedDateChange,zt=e.type,Ht=e.weekPicker,Rt=e.mobileLabels,mr=e.onOpenPickNewDate,Tt=mr===void 0||mr,hr=e.mobileButtons,yr=hr===void 0?[]:hr,Pr=e.dateSeparator,br=e.multipleRangeSeparator,pr=br===void 0?",":br,Yr=e.typingTimeout,Jr=Yr===void 0?700:Yr,Er=ne(e,je),Tr=D(a.useState(),2),xr=Tr[0],Lr=Tr[1],Lt=D(a.useState(),2),Xt=Lt[0],nr=Lt[1],Ct=D(a.useState(""),2),ir=Ct[0],Wt=Ct[1],Ar=D(a.useState(!1),2),Zt=Ar[0],Nr=Ar[1],Fr=D(a.useState(!1),2),Sr=Fr[0],Rr=Fr[1],sr=a.useRef(),ar=a.useRef(),lr=a.useRef(),Ne=a.useRef({isTyping:!1}),Jt=Pr||(N||Ht?" ~ ":", "),Wr=arguments[0],M=typeof De=="string"&&De.includes("rmdp-mobile"),xe=a.useCallback((function(){if(($e==null?void 0:$e())!==!1){var x=fr(ar);if(x&&x.forEach((function(Pe){return Pe.blur()})),Ne.current.mobile){var J=lr.current.parentNode.parentNode;J.classList.remove("rmdp-calendar-container-mobile"),J.style.position="absolute",J.style.visibility="hidden"}Ne.current.validInputValue!==void 0&&(Wt(Ne.current.validInputValue),Ne.current.validInputValue=void 0),Nr(!1),Rr(!1)}}),[$e]),ge=[{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){nr(void 0),xe()},label:Xe("CANCEL")},{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){Xt&&(Ot(Xt,!0),nr(void 0)),xe()},label:Xe("OK")}];M&&!Ne.current.mobile&&(Ne.current=g(g({},Ne.current),{},{mobile:!0})),!M&&Ne.current.mobile&&(Ne.current=g(g({},Ne.current),{},{mobile:!1})),se=ot(se),y=Yt(I,P,y);var pe,nt=D(Nt(m,b),2);return m=nt[0],b=nt[1],a.useEffect((function(){function x(Pe){if(Zt&&!Ne.current.mobile){var kt=[];if([ar.current,lr.current].forEach((function(Bt){var mt,Vt;!Bt||Bt.contains(Pe.target)||Pe.target.classList.contains("b-deselect")||(mt=Pe.target.parentNode)!==null&&mt!==void 0&&(mt=mt.classList)!==null&&mt!==void 0&&(Vt=mt.contains)!==null&&Vt!==void 0&&Vt.call(mt,"b-deselect")||kt.push(Bt)})),kt.length===2)return xe();lr.current&&lr.current.contains(Pe.target)&&(sr.current.removeTransition(),sr.current.refreshPosition())}}function J(){U&&Zt&&xe()}return document.addEventListener("click",x,!1),document.addEventListener("scroll",J,!0),function(){document.removeEventListener("click",x,!1),document.removeEventListener("scroll",J,!0)}}),[xe,i,Zt,U]),a.useEffect((function(){var x=d,J=Ne.current,Pe=J.date,kt=J.initialValue,Bt=function(){return x[x.length-1]};function mt(Be){if(Be)return Be instanceof j.default||(Be=new j.default({date:Be,calendar:m,locale:b,format:y})),Be.calendar!==m&&Be.setCalendar(m),Be.set({weekDays:_,months:B,digits:Re,locale:b,format:y,ignoreList:JSON.parse(se)}),Be}d||kt||!Pe?kt&&!d&&(kt=void 0):x=Pe;var Vt="";if(N||C||p(x)){var Br=function(Be){return Be=Be.map(mt).filter((function($r){return $r!==void 0})),N&&Be.length>2&&(Be=[Be[0],Bt()]),[Be,Ft(Be,Jt)]};if(p(x)||(x=N&&C?x?[[x]]:[]:[x]),C&&N)x=x.map((function(Be,$r){var fn=D(Br(p(Be)?Be:[Be]),2),An=fn[0],Fn=fn[1];return Vt+=Fn+($r<x.length-1?" ".concat(pr," "):""),An}));else{var Vr=D(Br(x),2);x=Vr[0],Vt=Vr[1]}Vt=Vt.toString().replace(/\s,\s$/,"")}else p(x)&&(x=Bt()),(x=mt(x))&&(Vt=x.format());Ne.current.isTyping||Wt(Vt),Ne.current=g(g({},Ne.current),{},{date:x,separator:Jt,initialValue:kt||d}),Ne.current.mobile&&sr.current.isOpen?nr(x):(Ne.current.validInputValue=void 0,Lr(x))}),[d,m,b,y,N,C,Jt,I,P,_,B,Re,se]),a.useEffect((function(){var x=Ne.current.selection;if(x){var J=fr(ar);J.length!==0&&(J.forEach((function(Pe){document.activeElement===Pe&&(Pe.setSelectionRange(x,x),Ne.current.selection=void 0)})),sr.current.refreshPosition())}}),[ir]),(C||N||p(xr)||!we)&&(H="none"),n.default.createElement(L.default,R({ref:function(x){if(x&&(x.openCalendar=function(){return setTimeout((function(){return We()}),10)},x.closeCalendar=xe,x.isOpen=Zt&&Sr),sr.current=x,i instanceof Function)return i(x);i&&(i.current=x)},element:he?n.default.createElement("div",{ref:ar},a.isValidElement(he)?a.cloneElement(he,{value:ir,openCalendar:We,onFocus:We,handleValueChange:er,onChange:er,locale:b,separator:Jt}):he instanceof Function?he(ir,We,er,b,Jt):null):n.default.createElement("input",{ref:ar,type:zt||"text",name:G,id:fe,title:ie,required:me,onFocus:We,className:oe||"rmdp-input",placeholder:ae,value:ir,onChange:er,style:Se,autoComplete:"off",disabled:!!Fe,inputMode:H||(M?"none":void 0),readOnly:Ze}),popper:Zt&&n.default.createElement(le,R({ref:lr,value:Xt||xr,onChange:Ot,range:N,multiple:C,calendar:m,locale:b,format:y,onlyMonthPicker:I,onlyYearPicker:P,className:De+(M?" rmdp-mobile":""),weekDays:_,months:B,digits:Re,minDate:V,maxDate:Q,formattingIgnoreList:JSON.parse(se),onPropsChange:Te,shadow:Je,onReady:or,DatePicker:sr.current,datePickerProps:Wr,onFocusedDateChange:tr,weekPicker:Ht},Er),z,M&&(pe=[].concat.apply([],Wr.plugins||[]).some((function(x){var J=x.props;return!(J===void 0?{}:J).disabled})),p(yr)&&n.default.createElement("div",{className:"rmdp-action-buttons ".concat(k(b)?"rmdp-rtl":""," ").concat(pe?"rmdp-border-top":"")},yr.concat(ge).map((function(x,J){var Pe=x.label,kt=ne(x,xt);return n.default.createElement("button",R({key:J},kt),Pe)}))))),active:!M&&Sr,position:$t,arrow:!M&&ut,fixMainPosition:!re||wt,zIndex:vt,onChange:!M&&rt,containerClassName:"rmdp-container ".concat(it),arrowClassName:["rmdp-ep-arrow","rmdp-ep-".concat(Je?"shadow":"border"),De,Ee].join(" ")},Er));function Xe(x){var J,Pe=b||new j.default().locale;return typeof Pe.name!="string"?x:(Rt==null?void 0:Rt[x])||((J={en:{OK:"OK",CANCEL:"CANCEL"},fa:{OK:"ØªØ£ÛŒÛŒØ¯",CANCEL:"Ù„ØºÙˆ"},ar:{OK:"ØªØ£ÙƒÙŠØ¯",CANCEL:"Ø§Ù„ØºØ§Ø¡"},hi:{OK:"à¤ªà¥à¤·à¥à¤Ÿà¤¿",CANCEL:"à¤°à¤¦à¥à¤¦ à¤•à¤°à¥‡à¤‚"}}[f(Pe)])===null||J===void 0?void 0:J[x])||x}function We(){if(!Fe&&!Ze&&(qe==null?void 0:qe())!==!1){if(Tt&&!d&&!Ne.current.date&&!N&&!C&&!M){var x=new j.default({calendar:m,locale:b,format:y,months:B,weekDays:_,digits:Re,ignoreList:JSON.parse(se)});(!V||x>ze(V,m,y))&&(!Q||x<ze(Q,m,y))&&(Ot(x),Te==null||Te(g(g({},Wr),{},{value:x})),Ne.current.date=x)}var J=fr(ar);M&&J.length>0&&J.forEach((function(Pe){return Pe.blur()})),J.length>0||!Zt?Nr(!0):xe()}}function ft(x){var J="";return x&&(J=C&&N&&p(x)?x.map((function(Pe){return Ft(Pe,Jt)})).join(" ".concat(pr," ")):Ft(x,Jt)),J}function Ot(x,J,Pe){if(M&&!J)return nr(x);var kt=ft(x),Bt=Pe||kt.toString().replace(/\s,\s$/,"");return x&&[].concat(x).flat().some((function(mt){return V&&mt<ze(V,m,y)||Q&&mt>ze(Q,m,y)}))?(Ne.current.validInputValue=ft(d||Ne.current.date),Wt(Bt)):(Ne.current.validInputValue=kt,(T==null?void 0:T(x,{validatedValue:kt,input:ar.current,isTyping:!!Pe}))===!1?(Wt(ir),!1):(Lr(x),Wt(Bt),void(Ne.current=g(g({},Ne.current),{},{date:x}))))}function er(x){if(we){Ne.current.isTyping=!0,setTimeout((function(){Ne.current.isTyping=!1}),Jr),Ne.current.selection=x.target.selectionStart;var J=x.target.value,Pe={calendar:m,locale:b,format:y,ignoreList:JSON.parse(se)};if(Re=p(Re)?Re:b.digits,!J)return Wt(""),Ot(null);if(Re){var kt,Bt,mt=A(Re);try{for(mt.s();!(kt=mt.n()).done;){var Vt=kt.value;J=J.replace(new RegExp(Vt,"g"),Re.indexOf(Vt))}}catch(Be){mt.e(Be)}finally{mt.f()}Bt=p(xr)?C&&N?(J||"").split(pr).filter(Boolean).map(Vr):Vr(J):Br(J),Ot(p(xr)||Bt.isValid?Bt:null,void 0,Dt(J,Re))}}function Br(Be){return/(?=.*Y)(?=.*M)(?=.*D)/.test(y)?new j.default(g(g({},Pe),{},{date:Be})):new j.default(Pe).parse(Be)}function Vr(Be){return(Be||"").split(Jt).filter(Boolean).map((function($r){return Br($r.trim())}))}}function or(){if(Rr(!0),M){var x=lr.current.parentNode.parentNode;x.className="rmdp-calendar-container-mobile",x.style.position="fixed",x.style.transform="",setTimeout((function(){x.style.visibility="visible"}),50)}}function tr(x,J){p(Ne.current.date)||!J||M||xe(),Qt==null||Qt(x,J)}}var jr=a.forwardRef(kr);function Ft(e,i){var d=[].concat(e).map((function(m){return m!=null&&m.isValid?m.format():""}));return d.toString=function(){return this.filter(Boolean).join(i)},d}function fr(e){return e.current?e.current.tagName==="INPUT"?[e.current]:Array.from(e.current.querySelectorAll("input")):[]}Object.defineProperty(o,"DateObject",{enumerable:!0,get:function(){return j.default}}),o.Calendar=le,o.default=jr,o.getAllDatesInRange=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(e))return[];var d=e[0],m=e[e.length-1],b=[];if(!(d instanceof j.default&&m instanceof j.default&&d.isValid&&m.isValid&&!(d>m)))return[];for(d=new j.default(d),m=new j.default(m);d<=m;d.day++)b.push(i?d.toDate():new j.default(d));return b},o.toDateObject=ze})(an)),an}var Oa=Ca();const Ma=Hn(Oa),{Option:jt}=Kr,Da=({currentStep:o,newJob:a,setNewJob:c,formData:t,setFormData:s,errors:n,setErrors:L,recentlyUploadedTopicsCount:j,setRecentlyUploadedTopicsCount:Y,recentlyUploadedKeywordsCount:g,setRecentlyUploadedKeywordsCount:ue,showAllTopics:R,setShowAllTopics:ne,showAllKeywords:D,setShowAllKeywords:ke,user:ee,userPlan:h})=>{var Yt,ze,yt,He,Ve,At,Nt;const A=Xr(),p=Ie.useRef(null);(Yt=ee==null?void 0:ee.subscription)==null||Yt.plan;const{data:E}=zr(l=>l.wordpress);Ie.useEffect(()=>{var l;(l=E==null?void 0:E.integrations)!=null&&l.size&&s(f=>w(v({},f),{postingType:E.integrations.key().next().value}))},[E]);const X=10,Ce=((ze=ee==null?void 0:ee.usage)==null?void 0:ze.aiImages)>=((yt=ee==null?void 0:ee.usageLimits)==null?void 0:yt.aiImages),q=Dn();Ie.useEffect(()=>{A(Un())},[A]),Ie.useEffect(()=>()=>{var l,f;(f=(l=a==null?void 0:a.blogs)==null?void 0:l.blogImages)==null||f.forEach(k=>{k instanceof File&&URL.revokeObjectURL(URL.createObjectURL(k))})},[a.blogs.blogImages]),Ie.useEffect(()=>{Ce&&a.blogs.isCheckedGeneratedImages&&c(l=>w(v({},l),{blogs:w(v({},l.blogs),{isCheckedGeneratedImages:!1,imageSource:"unsplash"})}))},[Ce,a.blogs.isCheckedGeneratedImages]);const ve=[{id:"unsplash",label:"Stock Images",value:"unsplash",restricted:!1},{id:"ai-generated",label:"AI-Generated Images",value:"ai-generated",restricted:h==="free",featureName:"AI-Generated Images",isAiImagesLimitReached:Ce}],Le=l=>{s(f=>w(v({},f),{postingType:l})),L(f=>w(v({},f),{postingType:!1}))},W=(l,f)=>{const k=l.trim();if(!k)return;const S=f==="topics"?a.blogs.topics.map(le=>le.toLowerCase().trim()):t.keywords.map(le=>le.toLowerCase().trim()),K=new Set,Ae=k.split(",").map(le=>le.trim()).filter(le=>{const bt=le.toLowerCase();return!le||K.has(bt)||S.includes(bt)?!1:(K.add(bt),!0)});Ae.length!==0&&(f==="topics"?(s(le=>w(v({},le),{topicInput:""})),c(le=>w(v({},le),{blogs:w(v({},le.blogs),{topics:[...le.blogs.topics,...Ae]})})),L(le=>w(v({},le),{topics:!1}))):(s(le=>w(v({},le),{keywords:[...le.keywords,...Ae],keywordInput:""})),c(le=>w(v({},le),{blogs:w(v({},le.blogs),{keywords:[...le.blogs.keywords,...Ae]})})),L(le=>w(v({},le),{keywords:!1}))))},Oe=l=>{const{name:f,value:k,type:S}=l.target;let K;S==="tel"?k===""?K="":(K=parseInt(k,10),K<0&&(K=0),K>20&&(K=20)):K=k,c(Ae=>w(v({},Ae),{blogs:w(v({},Ae.blogs),{[f]:K})}))},be=(l,f)=>{var Ae;const k=(Ae=l.target.files)==null?void 0:Ae[0];if(!k){ht.error("No file selected. Please choose a valid CSV file.");return}if(!k.name.toLowerCase().endsWith(".csv")){ht.error("Invalid file type. Please upload a .csv file."),l.target.value=null;return}const S=20*1024;if(k.size>S){ht.error("File size exceeds 20KB limit. Please upload a smaller file."),l.target.value=null;return}const K=new FileReader;K.onload=le=>{var fr;const bt=(fr=le.target)==null?void 0:fr.result;if(!bt||typeof bt!="string"){ht.error("Failed to read the CSV file. Please ensure it is valid.");return}let je=bt.trim().split(/\r?\n/);if(je.length===0){ht.error("The CSV file is empty. Please provide a valid CSV with topics or keywords.");return}f.charAt(0).toUpperCase()+f.slice(1),je[0].toLowerCase().includes(f)&&(je=je.slice(1));const xt=je.map(e=>e.split(",").map(d=>d.trim()).find(d=>d)||null).filter(e=>e&&e.trim().length>0);if(xt.length===0){ht.warning(`No valid ${f} found in the CSV file.`);return}const kr=f==="topics"?a.blogs.topics.map(e=>e.toLowerCase().trim()):t.keywords.map(e=>e.toLowerCase().trim()),jr=new Set,Ft=xt.filter(e=>{const i=e.toLowerCase().trim();return!e||jr.has(i)||kr.includes(i)?!1:(jr.add(i),!0)});if(Ft.length===0){ht.warning(`No new ${f} found in the CSV. All provided items are either duplicates or already exist.`);return}f==="topics"?(c(e=>w(v({},e),{blogs:w(v({},e.blogs),{topics:[...e.blogs.topics,...Ft]})})),L(e=>w(v({},e),{topics:!1}))):(s(e=>w(v({},e),{keywords:[...e.keywords,...Ft]})),c(e=>w(v({},e),{blogs:w(v({},e.blogs),{keywords:[...e.blogs.keywords,...Ft]})})),L(e=>w(v({},e),{keywords:!1}))),ht.success(`${Ft.length} new ${f} added from CSV.`),f==="topics"?(Y(Ft.length),setTimeout(()=>Y(null),5e3)):(ue(Ft.length),setTimeout(()=>ue(null),5e3))},K.onerror=()=>{ht.error("An error occurred while reading the CSV file.")},K.readAsText(k),l.target.value=null},ct=l=>{const{name:f,checked:k}=l.target;if(f==="wordpressPosting"&&k&&!(Object.keys((E==null?void 0:E.integrations)||{}).length>0)){ht.error("Please connect your account in plugins.");return}c(S=>w(v({},S),{options:w(v({},S.options),{[f]:k})})),f==="performKeywordResearch"&&(s(S=>w(v({},S),{performKeywordResearch:k})),L(S=>w(v({},S),{keywords:!1})))},tt=l=>{const{value:f}=l.target;let k;f===""?k="":(k=parseInt(f,10),isNaN(k)&&(k=""),k>X&&(k=X),k<0&&(k=0)),c(S=>w(v({},S),{blogs:w(v({},S.blogs),{numberOfBlogs:k})})),L(S=>w(v({},S),{numberOfBlogs:!1}))},te=D?t.keywords.slice().reverse():t.keywords.slice().reverse().slice(0,18),Z=R?a.blogs.topics.slice().reverse():a.blogs.topics.slice().reverse().slice(0,18),Ue=l=>{c(f=>w(v({},f),{blogs:w(v({},f.blogs),{imageSource:l,isUnsplashActive:l==="unsplash"})})),L(f=>w(v({},f),{imageSource:!1}))},at=l=>{const S=["image/jpeg","image/png","image/webp"];if(!l||l.length===0)return[];const K=Array.from(l).filter(le=>S.includes(le.type)?le.size>5242880?(ht.error(`"${le.name}" exceeds the 5 MB size limit.`),!1):!0:(ht.error(`"${le.name}" is not a valid image type. Only PNG, JPEG, and WebP are allowed.`),!1));return a.blogs.blogImages.length+K.length>15?(ht.error("Cannot upload more than 15 images."),K.slice(0,15-a.blogs.blogImages.length)):K},ot=l=>{const f=l.target.files;if(!f||f.length===0)return;const k=at(f);k.length>0&&(c(S=>w(v({},S),{blogs:w(v({},S.blogs),{blogImages:[...S.blogs.blogImages,...k]})})),ht.success(`${k.length} image(s) added successfully!`)),p.current&&(p.current.value="")},Mt=l=>{l.preventDefault(),l.stopPropagation(),s(S=>w(v({},S),{isDragging:!1}));const f=l.dataTransfer.files;if(!f||f.length===0)return;const k=at(f);k.length>0&&c(S=>w(v({},S),{blogs:w(v({},S.blogs),{blogImages:[...S.blogs.blogImages,...k]})}))},pt=l=>{l.preventDefault(),l.stopPropagation(),s(f=>w(v({},f),{isDragging:!0}))},Dt=l=>{l.preventDefault(),l.stopPropagation(),s(f=>w(v({},f),{isDragging:!1}))},It=l=>{c(f=>w(v({},f),{blogs:w(v({},f.blogs),{blogImages:f.blogs.blogImages.filter((k,S)=>S!==l)})}))},Pt=Ie.useCallback(l=>{c(f=>w(v({},f),{blogs:w(v({},f.blogs),{templates:l.map(k=>k.name)}),templateIds:l.map(k=>k.id)})),L(f=>w(v({},f),{templates:!1}))},[]);switch(o){case 1:return r.jsxs(rr.div,{initial:{opacity:0},animate:{opacity:1},className:`space-y-4 sm:space-y-6 ${qn(n.templates&&"border-2 border-red-500 rounded-lg")}`,children:[r.jsx(da,{numberOfSelection:3,userSubscriptionPlan:h!=null?h:"free",preSelectedIds:(Ve=(He=a==null?void 0:a.blogs)==null?void 0:He.templates)!=null?Ve:[],onClick:Pt}),r.jsx("p",{className:`text-sm ${n!=null&&n.templates?"text-red-500":"text-gray-600"}  my-3 sm:mb-4 px-4`,children:n!=null&&n.templates?n.templates:"Select up to 3 templates for the types of blogs you want to generate."})]});case 2:return r.jsx(rr.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Name"}),r.jsx("input",{type:"text",value:a.name,placeholder:"Enter job name",onChange:l=>{c(w(v({},a),{name:l.target.value})),L(f=>w(v({},f),{name:!1}))},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${n.name?"border-red-500":"border-gray-200"}`,"aria-label":"Job name"}),n.name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-2 flex gap-2 items-center",children:["Topics",r.jsx(en,{title:"Upload a .csv file in the format: `Topics` as header",children:r.jsx(gn,{size:16,className:"text-blue-500 cursor-pointer"})})]}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:t.topicInput||"",onKeyDown:l=>l.key==="Enter"&&W(t.topicInput,"topics"),onChange:l=>s(f=>w(v({},f),{topicInput:l.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${n.topics?"border-red-500":"border-gray-200"}`,placeholder:"Add a topic...","aria-label":"Add topic"}),r.jsx(rr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(t.topicInput,"topics"),className:"px-4 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-lg","aria-label":"Add topic",children:r.jsx(bn,{})}),r.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[r.jsx(yn,{size:16}),r.jsx("input",{type:"file",accept:".csv",onChange:l=>be(l,"topics"),hidden:!0}),r.jsx("span",{className:"sr-only",children:"Upload CSV for topics"})]})]}),n.topics&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.topics}),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[Z.map((l,f)=>{const k=a.blogs.topics.length-1-f;return r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[l,r.jsx("button",{type:"button",onClick:()=>c(S=>w(v({},S),{blogs:w(v({},S.blogs),{topics:S.blogs.topics.filter((K,Ae)=>Ae!==k)})})),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none","aria-label":`Remove topic ${l}`,children:r.jsx(nn,{className:"w-3 h-3"})})]},`${l}-${k}`)}),(a.blogs.topics.length>18||j)&&r.jsx("span",{onClick:()=>ne(l=>!l),className:"text-xs font-medium text-blue-600 self-center cursor-pointer flex items-center gap-1",children:R?r.jsx(r.Fragment,{children:"Show less"}):r.jsxs(r.Fragment,{children:[a.blogs.topics.length>18&&`+${a.blogs.topics.length-18} more`,j&&` (+${j} uploaded)`]})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Perform Keyword Research?",r.jsx("p",{className:"text-xs text-gray-500",children:"Allow AI to find relevant keywords for the topics."})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",name:"performKeywordResearch",checked:t.performKeywordResearch,onChange:ct,className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),!t.performKeywordResearch&&r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-2 flex gap-2 items-center",children:["Keywords",r.jsx(en,{title:"Upload a .csv file in the format: `Keywords` as header",children:r.jsx(gn,{size:16,className:"text-blue-500 cursor-pointer"})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:t.keywordInput,onChange:l=>s(f=>w(v({},f),{keywordInput:l.target.value})),onKeyDown:l=>l.key==="Enter"&&W(t.keywordInput,"keywords"),className:`flex-1 px-3 py-2 border rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 ${n.keywords?"border-red-500":"border-gray-300"}`,placeholder:"e.g., digital marketing trends, AI in business"}),r.jsx("button",{onClick:()=>W(t.keywordInput,"keywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:r.jsx(bn,{})}),r.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[r.jsx(yn,{size:16}),r.jsx("input",{type:"file",accept:".csv",onChange:l=>be(l,"keywords"),hidden:!0}),r.jsx("span",{className:"sr-only",children:"Upload CSV"})]})]}),n.keywords&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.keywords}),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[te.map((l,f)=>{const k=t.keywords.length-1-f;return r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[l,r.jsx("button",{type:"button",onClick:()=>{const S=[...t.keywords];S.splice(k,1),s(K=>w(v({},K),{keywords:S})),c(K=>w(v({},K),{blogs:w(v({},K.blogs),{keywords:S})}))},className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:r.jsx(nn,{className:"w-3 h-3"})})]},`${l}-${k}`)}),(t.keywords.length>18||g)&&r.jsx("span",{onClick:()=>ke(l=>!l),className:"text-xs font-medium text-blue-600 self-center cursor-pointer flex items-center gap-1",children:D?r.jsx(r.Fragment,{children:"Show less"}):r.jsxs(r.Fragment,{children:[t.keywords.length>18&&`+${t.keywords.length-18} more`,g&&` (+${g} uploaded)`]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"tone",className:"block text-sm font-medium text-gray-700 mb-2",children:["Tone of Voice ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs(Kr,{className:"w-full",value:a.blogs.tone,onChange:l=>{c(w(v({},a),{blogs:w(v({},a.blogs),{tone:l})})),L(f=>w(v({},f),{tone:!1}))},placeholder:"Select tone",status:n.tone?"error":"",children:[r.jsx(jt,{value:"",children:"Select Tone"}),r.jsx(jt,{value:"professional",children:"Professional"}),r.jsx(jt,{value:"casual",children:"Casual"}),r.jsx(jt,{value:"friendly",children:"Friendly"}),r.jsx(jt,{value:"formal",children:"Formal"}),r.jsx(jt,{value:"conversational",children:"Conversational"}),r.jsx(jt,{value:"witty",children:"Witty"}),r.jsx(jt,{value:"informative",children:"Informative"}),r.jsx(jt,{value:"inspirational",children:"Inspirational"}),r.jsx(jt,{value:"persuasive",children:"Persuasive"}),r.jsx(jt,{value:"empathetic",children:"Empathetic"})]}),n.tone&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.tone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approx. Blog Length (Words)"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"range",min:"500",max:"5000",value:a.blogs.userDefinedLength,className:"w-full h-1 rounded-lg appearance-none cursor-pointer bg-gradient-to-r from-[#1B6FC9] to-gray-100 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${(a.blogs.userDefinedLength-500)/4500*100}%, #E5E7EB ${(a.blogs.userDefinedLength-500)/4500*100}%)`},onChange:l=>c(w(v({},a),{blogs:w(v({},a.blogs),{userDefinedLength:parseInt(l.target.value)})}))}),r.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[a.blogs.userDefinedLength," words"]})]})]})]})]})});case 3:return r.jsxs(rr.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Add Image"}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs("label",{htmlFor:"add-image-toggle",className:"relative inline-block w-12 h-6",children:[r.jsx("input",{type:"checkbox",id:"add-image-toggle",className:"sr-only peer",checked:a.blogs.isCheckedGeneratedImages,onChange:l=>{const f=l.target.checked;c(k=>w(v({},k),{blogs:w(v({},k.blogs),{isCheckedGeneratedImages:f,imageSource:f?k.blogs.imageSource:"unsplash"})}))}}),r.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${a.blogs.isCheckedGeneratedImages?"bg-[#1B6FC9]":"bg-gray-300"}`}),r.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 ${a.blogs.isCheckedGeneratedImages?"translate-x-6":""}`})]}),a.blogs.isCheckedGeneratedImages&&Ce&&r.jsx(en,{title:"You've reached your AI image generation limit. It'll reset in the next billing cycle.",overlayInnerStyle:{backgroundColor:"#FEF9C3",border:"1px solid #FACC15",color:"#78350F"},children:r.jsx(dn,{className:"text-yellow-400 ml-4",size:15})})]})]}),a.blogs.isCheckedCustomImages&&r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Upload Custom Images (Max 15, each 5MB)"}),r.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${t.isDragging?"border-blue-600 bg-blue-50":"border-gray-300 bg-gray-50"}`,onDragOver:pt,onDragLeave:Dt,onDrop:Mt,children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drag and drop images here or click to select"}),r.jsx("button",{className:"px-4 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md text-sm",onClick:()=>{var l;return(l=p.current)==null?void 0:l.click()},children:"Select Images"}),r.jsx("input",{type:"file",ref:p,onChange:ot,accept:"image/jpeg,image/png,image/webp",multiple:!0,className:"hidden"})]}),a.blogs.blogImages.length>0&&r.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 gap-4",children:a.blogs.blogImages.map((l,f)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:l instanceof File?URL.createObjectURL(l):l,alt:l instanceof File?l.name:`Image ${f+1}`,className:"w-full h-24 object-cover rounded-md"}),r.jsx("button",{onClick:()=>It(f),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(nn,{className:"w-4 h-4"})}),r.jsx("p",{className:"text-xs text-gray-600 truncate mt-1",children:l instanceof File?l.name:`Image ${f+1}`})]},f))})]}),a.blogs.isCheckedGeneratedImages&&!a.blogs.isCheckedCustomImages&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Image Source"}),r.jsx("div",{className:`grid grid-cols-2 gap-4 mx-auto w-full ${n.imageSource?"border-2 border-red-500 rounded-lg p-2":""}`,children:ve.map(l=>{const f=l.value==="ai-generated"&&l.isAiImagesLimitReached,k=l.restricted||f;return r.jsxs("label",{htmlFor:l.id,className:`relative border rounded-lg px-4 py-3 flex items-center gap-3 justify-center cursor-pointer transition-all duration-150
              ${a.blogs.imageSource===l.value?"border-blue-600 bg-blue-50":"border-gray-300"}
              hover:shadow-sm w-full
              ${k?"opacity-50 cursor-not-allowed":""}
            `,onClick:S=>{k&&(S.preventDefault(),ln({featureName:l.featureName||"AI-Generated Images",navigate:q}))},children:[r.jsx("input",{type:"radio",id:l.id,name:"imageSource",value:l.value,checked:a.blogs.imageSource===l.value,onChange:()=>{k||Ue(l.value)},className:"hidden",disabled:k}),r.jsx("span",{className:"text-sm font-medium text-gray-800",children:l.label}),(l.restricted||f)&&r.jsx(pn,{className:"w-4 h-4 text-yellow-500 absolute top-2 right-2"})]},l.id)})}),n.imageSource&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.imageSource})]}),r.jsxs("div",{className:"w-full",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Number of Images"}),r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the number of images (0 = AI will decide)"}),r.jsx("input",{type:"tel",inputMode:"numeric",name:"numberOfImages",min:"0",max:"15",value:(At=a.blogs.numberOfImages)!=null?At:"",onChange:Oe,onWheel:l=>l.currentTarget.blur(),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm placeholder-gray-400 transition",placeholder:"e.g., 5"}),n.numberOfImages&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.numberOfImages})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select AI Model"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[{id:"gemini",label:"Gemini",logo:"/Images/gemini.png",restricted:!1},{id:"chatgpt",label:"ChatGPT",logo:"/Images/chatgpt.png"},{id:"claude",label:"Claude",logo:"/Images/claude.png"}].map(l=>r.jsxs("label",{htmlFor:l.id,className:`relative border rounded-lg px-4 py-3 flex items-center gap-3 cursor-pointer transition-all duration-150
      ${t.aiModel===l.id?"border-blue-600 bg-blue-50":"border-gray-300"}
      hover:shadow-sm w-full`,onClick:f=>{l.restricted&&(f.preventDefault(),ln({featureName:l.label,navigate:q}))},children:[r.jsx("input",{type:"radio",id:l.id,name:"aiModel",value:l.id,checked:t.aiModel===l.id,onChange:f=>{l.restricted||s(k=>w(v({},k),{aiModel:f.target.value}))},className:"hidden"}),r.jsx("img",{src:l.logo,alt:l.label,className:"w-6 h-6 object-contain"}),r.jsx("span",{className:"text-sm font-medium text-gray-800",children:l.label}),l.restricted&&r.jsx(pn,{className:"w-4 h-4 text-yellow-500 absolute top-2 right-2"})]},l.id))})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule Type"}),r.jsxs(Kr,{value:a.schedule.type,onChange:l=>{c(w(v({},a),{schedule:w(v({},a.schedule),{type:l,daysOfWeek:l==="weekly"?[]:a.schedule.daysOfWeek,daysOfMonth:l==="monthly"?[]:a.schedule.daysOfMonth,customDates:l==="custom"?[]:a.schedule.customDates})})),L(f=>w(v({},f),{daysOfWeek:!1,daysOfMonth:!1,customDates:!1}))},className:"w-full",children:[r.jsx(jt,{value:"daily",children:"Daily"}),r.jsx(jt,{value:"weekly",children:"Weekly"}),r.jsx(jt,{value:"monthly",children:"Monthly"}),r.jsx(jt,{value:"custom",children:"Custom"})]})]}),a.schedule.type==="weekly"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Days of Week"}),r.jsx("div",{className:`flex gap-2 flex-wrap ${n.daysOfWeek?"border-red-500 border-2 p-2 rounded":""}`,children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((l,f)=>{var k;return r.jsx("button",{type:"button",className:`px-2 py-1 rounded ${(k=a.schedule.daysOfWeek)!=null&&k.includes(f)?"bg-[#1B6FC9] text-white":"bg-gray-200 text-gray-700"}`,onClick:()=>{c(S=>{var Ae;const K=(Ae=S.schedule.daysOfWeek)!=null&&Ae.includes(f)?S.schedule.daysOfWeek.filter(le=>le!==f):[...S.schedule.daysOfWeek||[],f];return w(v({},S),{schedule:w(v({},S.schedule),{daysOfWeek:K})})}),L(S=>w(v({},S),{daysOfWeek:!1}))},children:l},f)})}),n.daysOfWeek&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.daysOfWeek})]}),a.schedule.type==="monthly"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Dates of Month"}),r.jsx("div",{className:`flex gap-2 flex-wrap ${n.daysOfMonth?"border-red-500 border-2 p-2 rounded":""}`,children:Array.from({length:31},(l,f)=>f+1).map(l=>{var f;return r.jsx("button",{type:"button",className:`px-2 py-1 rounded ${(f=a.schedule.daysOfMonth)!=null&&f.includes(l)?"bg-[#1B6FC9] text-white":"bg-gray-200 text-gray-700"}`,onClick:()=>{c(k=>{var K;const S=(K=k.schedule.daysOfMonth)!=null&&K.includes(l)?k.schedule.daysOfMonth.filter(Ae=>Ae!==l):[...k.schedule.daysOfMonth||[],l];return w(v({},k),{schedule:w(v({},k.schedule),{daysOfMonth:S})})}),L(k=>w(v({},k),{daysOfMonth:!1}))},children:l},l)})}),n.daysOfMonth&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.daysOfMonth})]}),a.schedule.type==="custom"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Dates"}),r.jsx("div",{className:n.customDates?"border-2 border-red-500 rounded-lg":"",children:r.jsx(Ma,{value:a.schedule.customDates,onChange:l=>{c(w(v({},a),{schedule:w(v({},a.schedule),{customDates:l,daysOfWeek:[],daysOfMonth:[]})})),L(f=>w(v({},f),{customDates:!1}))},multiple:!0,format:"YYYY-MM-DD",className:"w-full",inputClass:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"})}),n.customDates&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.customDates})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Blogs"}),r.jsx("input",{type:"tel",inputMode:"numeric",name:"numberOfBlogs",min:"1",max:X,value:(Nt=a.blogs.numberOfBlogs)!=null?Nt:"",onChange:tt,onWheel:l=>l.currentTarget.blur(),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${n.numberOfBlogs?"border-red-500":"border-gray-200"}`,placeholder:"Enter the number of blogs"}),n.numberOfBlogs&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.numberOfBlogs})]})]})]});case 4:return r.jsxs("div",{children:[r.jsxs("div",{className:"mt-0",children:[[{label:"Add FAQ",name:"includeFaqs",desc:"Include frequently asked questions at the end of the blog."},{label:"Add Competitive Research",name:"includeCompetitorResearch",desc:"Analyze competitors to improve blog quality."},...a.options.includeCompetitorResearch?[{label:"Show Outbound Links",name:"addOutBoundLinks",desc:"Add outbound links, references of other websites"}]:[],{label:"Add InterLinks",name:"includeInterlinks",desc:"Add internal links between your blogs for better SEO."},{label:"Enable Automatic Posting",name:"wordpressPosting",desc:"Automatically post the blog to your connected plugins."},...a.options.wordpressPosting?[{label:"Table of Content",name:"includeTableOfContents",desc:"Display a table of contents for easier navigation."}]:[]].map(({label:l,name:f,desc:k})=>r.jsxs("div",{className:"flex items-start justify-between py-2 mt-3",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[l,r.jsx("p",{className:"text-xs text-gray-500",children:k})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.options[f],onChange:ct,name:f}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]},f)),a.options.wordpressPosting&&Object.keys((E==null?void 0:E.integrations)||{}).length>0&&r.jsxs("div",{className:"my-5",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Select Your Publishing Platform",r.jsx("p",{className:"text-xs text-gray-500",children:"Post your blog automatically to connected platforms only."})]}),r.jsx(Kr,{className:"w-full mt-2",placeholder:"Select platform",value:t.postingType,onChange:Le,status:n.postingType?"error":"",children:Object.entries(E.integrations).map(([l,f])=>r.jsx(jt,{value:l,children:l},l))}),n.postingType&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.postingType})]})]}),r.jsx("div",{className:"my-5",children:r.jsx(ca,{label:"Write with Brand Voice",labelClass:"text-sm font-medium text-gray-700",errorText:n.brandId,value:{isCheckedBrand:a.blogs.useBrandVoice,brandId:a.blogs.brandId,addCTA:a.blogs.addCTA},onChange:l=>{c(f=>w(v({},f),{blogs:w(v({},f.blogs),{useBrandVoice:l.isCheckedBrand,brandId:l.brandId,addCTA:l.addCTA})})),l.brandId&&L(f=>w(v({},f),{brandId:!1}))}})})]});default:return null}},Ia=({showJobModal:o,selectedKeywords:a,user:c,userPlan:t,isUserLoaded:s})=>{const n={name:"",schedule:{type:"daily",customDates:[],daysOfWeek:[],daysOfMonth:[]},blogs:{numberOfBlogs:1,topics:[],keywords:[],templates:[],tone:"Professional",userDefinedLength:1e3,imageSource:"unsplash",aiModel:"gemini",brandId:null,useBrandVoice:!1,isCheckedGeneratedImages:!0,isCheckedCustomImages:!1,addCTA:!0,numberOfImages:0,blogImages:[],postingType:null},options:{wordpressPosting:!1,includeFaqs:!1,includeCompetitorResearch:!1,includeInterlinks:!1,performKeywordResearch:!1,includeTableOfContents:!1,addOutBoundLinks:!1},status:"active",templateIds:[]},L=Xr(),j=un(),{selectedJob:Y}=zr(te=>te.jobs),[g,ue]=Ie.useState(1),[R,ne]=Ie.useState(n),[D,ke]=Ie.useState({keywords:n.blogs.keywords||[],keywordInput:"",performKeywordResearch:n.options.performKeywordResearch,aiModel:n.blogs.aiModel,postingType:n.blogs.postingType}),[ee,h]=Ie.useState({}),[A,p]=Ie.useState(null),[E,X]=Ie.useState(null),[Ce,q]=Ie.useState(!1),[ve,Le]=Ie.useState(!1),W=10;Ie.useEffect(()=>{o||(ne(te=>n),ke({keywords:[],keywordInput:"",performKeywordResearch:!1,postingType:"WORDPRESS",aiModel:"gemini"}),ue(1),h({}),L(tn()))},[o]),Ie.useEffect(()=>{Y?(ke(te=>{var Z,Ue,at,ot,Mt,pt,Dt;return w(v({},te),{aiModel:((Z=Y.blogs)==null?void 0:Z.aiModel)||n.blogs.aiModel,performKeywordResearch:(at=(Ue=Y.options)==null?void 0:Ue.performKeywordResearch)!=null?at:n.options.performKeywordResearch,keywords:(Mt=(ot=Y.blogs)==null?void 0:ot.keywords)!=null?Mt:n.blogs.keywords,postingType:((pt=Y.blogs)==null?void 0:pt.postingType)||n.blogs.postingType,templates:((Dt=Y.blogs)==null?void 0:Dt.templates)||n.blogs.templates})}),ne(Y)):ne(n)},[Y]),Ie.useEffect(()=>{let te=Y?v({},Y):n,Z=[...te.blogs.topics||[],...(a==null?void 0:a.allKeywords)||[]],Ue=[...te.blogs.keywords||[],...(a==null?void 0:a.focusKeywords)||[],...(a==null?void 0:a.allKeywords)||[]];ne(w(v({},te),{blogs:w(v({},te.blogs),{topics:[...new Set(Z)],keywords:[...new Set(Ue)]})})),ke(at=>w(v({},at),{keywords:[...new Set([...at.keywords||[],...(a==null?void 0:a.focusKeywords)||[],...(a==null?void 0:a.allKeywords)||[]])]}))},[a,Y]),Ie.useEffect(()=>{const te=[...new Set([...(a==null?void 0:a.focusKeywords)||[],...(a==null?void 0:a.allKeywords)||[]])];te.length>0&&(ke(Z=>w(v({},Z),{keywords:[...new Set([...Z.keywords,...te])]})),ne(Z=>w(v({},Z),{blogs:w(v({},Z.blogs),{keywords:[...new Set([...Z.blogs.keywords,...te])]})})))},[a]);const Oe=te=>{const Z={};return(te===1||te==="all")&&R.blogs.templates.length===0&&(Z.templates="Please select at least one template."),(te===2||te==="all")&&(R.name||(Z.name="Please enter a job name."),R.blogs.topics.length===0&&(Z.topics="Please add at least one topic."),R.blogs.tone||(Z.tone="Please select a tone."),!D.performKeywordResearch&&D.keywords.length===0&&(Z.keywords="Please add at least one keyword or enable keyword research.")),(te===3||te==="all")&&((R.blogs.numberOfBlogs<1||R.blogs.numberOfBlogs>W)&&(Z.numberOfBlogs=`Number of blogs must be between 1 and ${W}.`),(R.blogs.numberOfImages<0||R.blogs.numberOfImages>W)&&(Z.numberOfImages="Number of images must be between 0 and 20."),R.blogs.useBrandVoice&&!R.blogs.brandId&&(Z.brandId="Please select a brand voice."),R.schedule.type==="weekly"&&R.schedule.daysOfWeek.length===0&&(Z.daysOfWeek="Please select at least one day of the week."),R.schedule.type==="monthly"&&R.schedule.daysOfMonth.length===0&&(Z.daysOfMonth="Please select at least one day of the month."),R.schedule.type==="custom"&&R.schedule.customDates.length===0&&(Z.customDates="Please select at least one custom date."),R.blogs.isCheckedGeneratedImages&&!R.blogs.imageSource&&(Z.imageSource="Please select an image source.")),(te===4||te==="all")&&R.options.wordpressPosting&&!D.postingType&&(Z.postingType="Please select a posting platform."),h(Z),Object.keys(Z).length===0},be=()=>Hr(null,null,function*(){if(!Oe("all"))return;const te=w(v({},R),{blogs:w(v({},R.blogs),{keywords:D.keywords,aiModel:D.aiModel,postingType:D.postingType}),options:w(v({},R.options),{performKeywordResearch:D.performKeywordResearch,brandId:R.blogs.useBrandVoice?R.blogs.brandId:null})});try{const Z=yield L(Qn({jobPayload:te,user:c})).unwrap();j.setQueryData(["jobs",c.id],(Ue=[])=>[Z,...Ue]),L(rn()),ne(n),ke({keywords:[],keywordInput:"",performKeywordResearch:!1,postingType:"WORDPRESS",aiModel:"gemini"}),ue(1),h({}),L(tn())}catch(Z){console.error("Failed to create job. Please try again.",Z)}}),ct=te=>Hr(null,null,function*(){if(!s){ht.error("User data is still loading. Please try again.");return}if(!Oe("all"))return;const Z=w(v({},R),{blogs:w(v({},R.blogs),{keywords:D.keywords,aiModel:D.aiModel,postingType:D.postingType}),options:w(v({},R.options),{performKeywordResearch:D.performKeywordResearch,brandId:R.blogs.useBrandVoice?R.blogs.brandId:null})});try{const Ue=yield L(Kn({jobId:te,jobPayload:Z})).unwrap();j.setQueryData(["jobs",c.id],(at=[])=>at.map(ot=>ot._id===te?v(v({},ot),Ue):ot)),L(rn()),ne(n),ke({keywords:[],keywordInput:"",performKeywordResearch:!1,postingType:"WORDPRESS",aiModel:"gemini"}),ue(1),h({}),L(tn())}catch(Ue){console.error(Ue)}}),tt=[g>1&&r.jsx("button",{onClick:()=>ue(g-1),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg mr-3 hover:bg-gray-300","aria-label":"Previous step",children:"Previous"},"previous"),g<3&&r.jsx("button",{onClick:()=>{Oe(g)&&ue(g+1)},className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90","aria-label":"Next step",children:"Next"},"next"),g===3&&r.jsx("button",{onClick:()=>{Oe(g)&&ue(4)},className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90","aria-label":"Next step",children:"Next"},"next-step-4"),g===4&&r.jsxs("button",{onClick:Y?()=>ct(Y._id):be,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90","aria-label":Y?"Update job":"Create job",children:[Y?"Update":"Create"," Job"]},"submit")];return r.jsx(Gn,{title:`Step ${g}: ${g===1?"Select Templates":g===2?"Job Details":g===3?"Schedule Settings":"Blog Options"}`,open:o,onCancel:()=>{L(rn())},footer:tt,width:800,centered:!0,className:"custom-modal",children:r.jsx("div",{className:"p-2 md:p-4 max-h-[80vh] overflow-y-auto",children:r.jsx(Da,{currentStep:g,newJob:R,setNewJob:ne,formData:D,setFormData:ke,errors:ee,setErrors:h,recentlyUploadedTopicsCount:A,setRecentlyUploadedTopicsCount:p,recentlyUploadedKeywordsCount:E,setRecentlyUploadedKeywordsCount:X,showAllTopics:Ce,setShowAllTopics:q,showAllKeywords:ve,setShowAllKeywords:Le,user:c,userPlan:t})})})},Pa=Ie.memo(({job:o,setCurrentPage:a,paginatedJobs:c})=>{var D,ke,ee,h,A,p,E,X,Ce;const t=Xr(),s=un(),{handlePopup:n}=Xn(),[L,j]=Ie.useState(!1),Y=xn({mutationFn:({jobId:q,currentStatus:ve})=>t(Zn({jobId:q,currentStatus:ve})).unwrap(),onSuccess:()=>{s.invalidateQueries({queryKey:["jobs"],exact:!1})},onError:q=>{console.error("Failed to toggle job status:",q)}}),g=xn({mutationFn:q=>t(Jn(q)).unwrap(),onSuccess:()=>{s.invalidateQueries({queryKey:["jobs"],exact:!1}),c.length===1&&currentPage>1&&a(q=>q-1)},onError:q=>{console.error("Failed to delete job:",q)}}),ue=q=>{const ve=c.find(Le=>Le._id===q);if(!ve){ht.error("Job not found.");return}Y.mutate({jobId:q,currentStatus:ve.status})},R=q=>{g.mutate(q)},ne=q=>{if(!(q!=null&&q._id)){ht.error("Invalid job ID.");return}if(q.status==="active"){ht.warning("Please pause the job before editing.");return}t(In(q))};return r.jsxs(rr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.4,ease:"easeOut"},className:"bg-white rounded-xl shadow-lg hover:shadow-xl p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 capitalize",children:o.name}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["ID: ",(o._id||"").toString().slice(-6)||"N/A"]})]}),r.jsx(rr.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>ue(o._id),className:`px-3 py-1 rounded-full text-sm font-medium ${o.status==="active"?"bg-red-100 text-red-600 hover:bg-red-200":"bg-green-100 text-green-600 hover:bg-green-200"}`,"aria-label":o.status==="active"?"Stop job":"Start job",children:o.status==="active"?"Stop":"Start"})]}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2 capitalize",children:[r.jsx(Ur,{className:"w-4 h-4 text-blue-500"}),r.jsxs("span",{children:["Scheduling: ",(D=o==null?void 0:o.schedule)==null?void 0:D.type]})]}),r.jsxs("div",{className:"flex items-center gap-2 capitalize",children:[r.jsx(qr,{className:"w-4 h-4 text-purple-500"}),r.jsxs("span",{children:["Daily Blogs: ",(ke=o==null?void 0:o.blogs)==null?void 0:ke.numberOfBlogs]})]}),r.jsxs("div",{className:"flex items-center gap-2 capitalize",children:[r.jsx(aa,{className:"w-4 h-4 text-green-500"}),r.jsxs("span",{children:["Model: ",(ee=o==null?void 0:o.blogs)==null?void 0:ee.aiModel]})]}),r.jsxs("div",{className:"flex items-center gap-2 capitalize",children:[r.jsx(Ur,{className:"w-4 h-4 text-red-500"}),r.jsxs("span",{children:["Status: ",o==null?void 0:o.status]})]}),((A=(h=o==null?void 0:o.blogs)==null?void 0:h.topics)==null?void 0:A.length)>0&&r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(qr,{className:"w-4 h-4 text-purple-500 mt-0.5"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Topics:"}),(L?o.blogs.topics:o.blogs.topics.slice(0,6)).map((q,ve)=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-md text-xs",children:q},ve)),o.blogs.topics.length>6&&r.jsx("button",{onClick:()=>j(q=>!q),className:"text-xs text-blue-600 hover:underline",children:L?"Show less":`+${o.blogs.topics.length-6} more`})]})]}),((E=(p=o==null?void 0:o.blogs)==null?void 0:p.keywords)==null?void 0:E.length)>0&&r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(qr,{className:"w-4 h-4 text-indigo-500 mt-0.5"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Keywords:"}),(Ce=(X=o==null?void 0:o.blogs)==null?void 0:X.keywords)==null?void 0:Ce.map((q,ve)=>r.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-600 rounded-md text-xs",children:q},ve))]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qr,{className:"w-4 h-4 text-purple-500"}),r.jsxs("span",{children:["Generated Blogs: ",((o==null?void 0:o.createdBlogs)||[]).length]})]}),(o==null?void 0:o.lastRun)&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ur,{className:"w-4 h-4 text-yellow-500"}),r.jsxs("span",{children:["Last Run:"," ",new Date(o==null?void 0:o.lastRun).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ur,{className:"w-4 h-4 text-yellow-500"}),r.jsxs("span",{children:["Created:"," ",o!=null&&o.createdAt?new Date(o==null?void 0:o.createdAt).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"}):"N/A"]})]})]}),r.jsxs("div",{className:"flex gap-2 mt-6",children:[r.jsxs(rr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ne(o),className:"px-4 py-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 flex items-center gap-2","aria-label":"Edit job",children:[r.jsx(oa,{}),"Edit"]}),r.jsx(rr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200","aria-label":"Delete job",onClick:()=>n({title:"Delete Job",description:r.jsxs("span",{className:"my-2",children:["Are you sure you want to delete ",r.jsx("b",{className:"capitalize",children:o.name})," job?"]}),confirmText:"Delete",onConfirm:()=>{R(o._id)},confirmProps:{type:"text",className:"border-red-500 hover:bg-red-500 bg-red-100 text-red-600"},cancelProps:{danger:!1}}),children:"Delete"})]})]})}),_r=15,jo=()=>{var q,ve,Le;const o=Xr(),a=Dn(),c=un(),{showJobModal:t}=zr(W=>W.jobs),{selectedKeywords:s}=zr(W=>W.analysis),n=zr(ea),L=((n==null?void 0:n.plan)||((q=n==null?void 0:n.subscription)==null?void 0:q.plan)||"free").toLowerCase(),[j,Y]=Ie.useState(1),[g,ue]=Ie.useState(!1),[R,ne]=Ie.useState(!1),D=(ve=n==null?void 0:n.usage)==null?void 0:ve.createdJobs,ke=(Le=n==null?void 0:n.usageLimits)==null?void 0:Le.createdJobs,{data:ee=[],isLoading:h}=ua({queryKey:["jobs",n==null?void 0:n.id],queryFn:()=>Hr(null,null,function*(){return(yield o(na()).unwrap())||[]}),staleTime:1/0,gcTime:1/0,refetchOnMount:"always",refetchOnWindowFocus:!1,enabled:!!n});Ie.useEffect(()=>{const W=fa();if(!W||!n){console.debug("Socket or user not available, skipping WebSocket setup");return}console.debug("Setting up WebSocket listeners for user:",n.id);const Oe=(be,ct)=>{console.debug(`Received ${ct}:`,be);const tt=["jobs",n.id];ct==="job:deleted"?(c.setQueryData(tt,(te=[])=>te.filter(Z=>Z._id!==be.jobId)),c.removeQueries({queryKey:["job",be.jobId]})):(c.setQueryData(tt,(te=[])=>{const Z=te.findIndex(Ue=>Ue._id===be.jobId||Ue._id===be._id);return Z>-1?(te[Z]=v(v({},te[Z]),be),[...te]):[be,...te]}),c.setQueryData(["job",be.jobId||be._id],te=>v(v({},te),be)))};return W.on("job:statusChanged",be=>Oe(be,"job:statusChanged")),W.on("job:updated",be=>Oe(be,"job:updated")),W.on("job:created",be=>Oe(be,"job:created")),W.on("job:deleted",be=>Oe(be,"job:deleted")),W.on("connect",()=>console.debug("Socket connected")),W.on("disconnect",()=>console.debug("Socket disconnected")),()=>{console.debug("Cleaning up WebSocket listeners"),W.off("job:statusChanged"),W.off("job:updated"),W.off("job:created"),W.off("job:deleted"),W.off("connect"),W.off("disconnect")}},[c,n]),Ie.useEffect(()=>{n?ne(!!(n!=null&&n.name||n!=null&&n.credits)):(c.removeQueries({queryKey:["jobs"]}),Y(1),ue(!1),ne(!1))},[n,c]);const A=Ie.useCallback(()=>D>=ke?(ln({featureName:"Additional Jobs",navigate:a}),!1):!0,[D,ke,a]),p=Ie.useCallback(()=>{A()&&o(In(null))},[o,A]),E=Ie.useCallback(()=>{c.invalidateQueries({queryKey:["jobs",n==null?void 0:n.id]})},[c,n]);Ie.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[j]);const X=Ie.useMemo(()=>Math.ceil(ee.length/_r),[ee]),Ce=Ie.useMemo(()=>{const W=(j-1)*_r;return ee.slice(W,W+_r)},[ee,j]);return L==="free"?r.jsx(la,{featureName:"Content Agent"}):r.jsxs(r.Fragment,{children:[r.jsx(ta,{children:r.jsx("title",{children:"Content Agent | GenWrite"})}),r.jsxs("div",{className:"min-h-screen p-6 lg:p-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mt-5 md:mt-0",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx(rr.h1,{initial:{y:-20},animate:{y:0},className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Jobs Automation"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your automated content generation jobs"})]}),r.jsxs("div",{className:"flex gap-2",children:[D>=ke&&r.jsx("button",{onClick:()=>ue(W=>!W),className:"text-yellow-500 hover:text-yellow-600 transition",title:"View usage warning",children:r.jsx(dn,{className:"w-6 h-6"})}),r.jsx(rr.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsx(ra,{type:"default",icon:r.jsx(ma,{className:"w-4 sm:w-5 h-4 sm:h-5"}),onClick:E,disabled:h,className:"text-xs sm:text-sm px-4 py-2",children:"Refresh"})})]})]}),g&&D>=ke&&r.jsxs("div",{className:"flex items-start mb-10 gap-3 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg shadow-sm text-sm",children:[r.jsx("div",{className:"pt-1 text-yellow-500",children:r.jsx(dn,{className:"w-5 h-5"})}),r.jsxs("div",{className:"text-yellow-900",children:[r.jsx("p",{className:"font-semibold mb-1",children:"Monthly Job Creation Limit Reached"}),r.jsxs("p",{className:"mb-1",children:["You've created ",r.jsx("span",{className:"font-bold text-black",children:D})," out of"," ",r.jsx("span",{className:"font-bold text-black",children:ke})," allowed jobs this month. You can't create any more jobs until your next billing cycle."]}),r.jsx("p",{className:"text-red-400 text-xs font-semibold",children:"Tip: Update your current job instead of deleting and recreating."})]})]}),r.jsxs(rr.div,{className:"w-full md:w-1/2 lg:w-1/3 h-52 p-6 bg-white rounded-2xl shadow-lg hover:shadow-xl cursor-pointer mb-8 transition-all duration-300 border border-gray-100",onClick:p,children:[r.jsx("div",{className:"flex items-center justify-between gap-4",children:r.jsx("span",{className:"bg-blue-50 rounded-2xl p-4 shadow-inner",children:r.jsx(ia,{className:"w-7 h-7 text-blue-600"})})}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 tracking-wide",children:"Create New Job"}),r.jsx("p",{className:"text-gray-500 mt-2 text-sm leading-relaxed",children:"Automate content generation with custom templates and scheduling."})]})]}),ee.length>0&&r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Active Jobs"}),h?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(_r)].map((W,Oe)=>r.jsx(sa,{},Oe))}):ee.length===0?r.jsx("div",{className:"flex flex-col justify-center items-center",style:{minHeight:"calc(100vh - 250px)"},children:r.jsx("p",{className:"text-xl text-gray-600",children:"No jobs available."})}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[" ",Ce.map(W=>r.jsx(Pa,{job:W,setCurrentPage:Y,paginatedJobs:Ce},W._id))]}),X>1&&r.jsx("div",{className:"flex justify-center mt-6",children:r.jsx(ha,{current:j,pageSize:_r,total:ee.length,onChange:W=>Y(W),showSizeChanger:!1,responsive:!0})})]}),r.jsx(Ia,{showJobModal:t,selectedKeywords:s,user:n,userPlan:L,isUserLoaded:R})]})]})};export{jo as default};
