<<<<<<<< HEAD:dist/assets/Transactions-B0zdqLIh.js
import{j as t,H as x,Q as m,m as u,T as f,b as h}from"./index-CAPh2Lvr.js";import{b as a}from"./chunk-tiptap-DryasWDK.js";import{R as y}from"./ReloadOutlined-HBY3wnkB.js";import{F as g}from"./Table-88BUpJsG.js";import{T as n}from"./index-B9ljbu5x.js";import"./index-2g_kiAkJ.js";import"./Overflow-D6JRL7Wg.js";import"./useIcons-ClPJVRe7.js";import"./SearchOutlined-D4l4Fnsg.js";import"./index-DMAcQJMo.js";import"./collapse-axAZgP94.js";import"./EllipsisOutlined-h6bdANdY.js";import"./Input-Clp1XCKJ.js";const D=()=>{const[d,l]=a.useState([]),[c,s]=a.useState(!1),o=async()=>{s(!0);try{const e=await h.get("/user/transactions");l(e.data||[])}catch(e){console.error("Failed to fetch transactions:",e),toast.error("Failed to fetch transactions")}finally{s(!1)}};a.useEffect(()=>{o()},[]);const p=[{title:"Date",dataIndex:"createdAt",key:"createdAt",render:e=>new Date(e).toLocaleString("en-US",{dateStyle:"medium",timeStyle:"short"}),sorter:(e,r)=>new Date(e.createdAt)-new Date(r.createdAt),defaultSortOrder:"descend"},{title:"Type",dataIndex:"type",key:"type",render:e=>t.jsx(n,{color:e==="subscription"?"blue":"gold",children:e.toUpperCase()})},{title:"Plan",dataIndex:"plan",key:"plan",render:e=>e?t.jsx(n,{color:"purple",children:e.toUpperCase()}):"-"},{title:"Credits",dataIndex:"creditsAdded",key:"creditsAdded",render:e=>t.jsx("span",{children:e||0})},{title:"Amount",dataIndex:"amount",key:"amount",render:(e,r)=>{var i;return`$${(e/100).toFixed(2)} ${(i=r.currency)==null?void 0:i.toUpperCase()}`}},{title:"Payment Method",dataIndex:"paymentMethod",key:"paymentMethod",render:e=>(e==null?void 0:e.toUpperCase())||"-"},{title:"Status",dataIndex:"status",key:"status",render:e=>{let r="default";return e==="success"?r="green":e==="failed"?r="red":e==="pending"&&(r="orange"),t.jsx(n,{color:r,children:e.toUpperCase()})},filters:[{text:"Success",value:"success"},{text:"Pending",value:"pending"},{text:"Failed",value:"failed"}],onFilter:(e,r)=>r.status===e},{title:"Invoice",dataIndex:"invoiceUrl",key:"invoiceUrl",render:e=>e?t.jsx("a",{href:e,target:"_blank",rel:"noreferrer",className:"text-blue-500 underline hover:text-blue-700",children:"View Invoice"}):"-"}];return t.jsxs(t.Fragment,{children:[t.jsx(x,{children:t.jsx("title",{children:"Transactions | GenWrite"})}),t.jsx(m,{}),t.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"p-6 bg-white rounded-xl shadow-md",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Your Transactions"}),t.jsx(f,{title:"Refresh",children:t.jsx("button",{onClick:o,className:"px-3 py-2 bg-gray-100 rounded-full hover:bg-gray-200 transition",children:t.jsx(y,{})})})]}),t.jsx(g,{rowKey:"_id",loading:c,dataSource:d,columns:p,pagination:{pageSize:10},className:"custom-table rounded-lg overflow-hidden"})]})]})};export{D as default};
========
import{j as t,H as x,Q as m,m as u,T as f,b as h}from"./index-ONXMzj6x.js";import{b as a}from"./chunk-tiptap-CHS2hqlU.js";import{R as y}from"./ReloadOutlined-B5LRpj3p.js";import{F as g}from"./Table-CiVGD8oP.js";import{T as n}from"./index-C6h_MXzU.js";import"./index-BzaCfD_A.js";import"./Overflow-8OYKOMJy.js";import"./useIcons-hpaupy6s.js";import"./SearchOutlined-Dxc7fvyl.js";import"./index-QZP83iu2.js";import"./collapse-CR7y8RoA.js";import"./EllipsisOutlined-XX3jtbbt.js";import"./Input-iWe_afgF.js";const D=()=>{const[d,l]=a.useState([]),[c,s]=a.useState(!1),o=async()=>{s(!0);try{const e=await h.get("/user/transactions");l(e.data||[])}catch(e){console.error("Failed to fetch transactions:",e),toast.error("Failed to fetch transactions")}finally{s(!1)}};a.useEffect(()=>{o()},[]);const p=[{title:"Date",dataIndex:"createdAt",key:"createdAt",render:e=>new Date(e).toLocaleString("en-US",{dateStyle:"medium",timeStyle:"short"}),sorter:(e,r)=>new Date(e.createdAt)-new Date(r.createdAt),defaultSortOrder:"descend"},{title:"Type",dataIndex:"type",key:"type",render:e=>t.jsx(n,{color:e==="subscription"?"blue":"gold",children:e.toUpperCase()})},{title:"Plan",dataIndex:"plan",key:"plan",render:e=>e?t.jsx(n,{color:"purple",children:e.toUpperCase()}):"-"},{title:"Credits",dataIndex:"creditsAdded",key:"creditsAdded",render:e=>t.jsx("span",{children:e||0})},{title:"Amount",dataIndex:"amount",key:"amount",render:(e,r)=>{var i;return`$${(e/100).toFixed(2)} ${(i=r.currency)==null?void 0:i.toUpperCase()}`}},{title:"Payment Method",dataIndex:"paymentMethod",key:"paymentMethod",render:e=>(e==null?void 0:e.toUpperCase())||"-"},{title:"Status",dataIndex:"status",key:"status",render:e=>{let r="default";return e==="success"?r="green":e==="failed"?r="red":e==="pending"&&(r="orange"),t.jsx(n,{color:r,children:e.toUpperCase()})},filters:[{text:"Success",value:"success"},{text:"Pending",value:"pending"},{text:"Failed",value:"failed"}],onFilter:(e,r)=>r.status===e},{title:"Invoice",dataIndex:"invoiceUrl",key:"invoiceUrl",render:e=>e?t.jsx("a",{href:e,target:"_blank",rel:"noreferrer",className:"text-blue-500 underline hover:text-blue-700",children:"View Invoice"}):"-"}];return t.jsxs(t.Fragment,{children:[t.jsx(x,{children:t.jsx("title",{children:"Transactions | GenWrite"})}),t.jsx(m,{}),t.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"p-6 bg-white rounded-xl shadow-md",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Your Transactions"}),t.jsx(f,{title:"Refresh",children:t.jsx("button",{onClick:o,className:"px-3 py-2 bg-gray-100 rounded-full hover:bg-gray-200 transition",children:t.jsx(y,{})})})]}),t.jsx(g,{rowKey:"_id",loading:c,dataSource:d,columns:p,pagination:{pageSize:10},className:"custom-table rounded-lg overflow-hidden"})]})]})};export{D as default};
>>>>>>>> 7496981f6fa6838b98fb4867cc3c24f19dab0e3d:dist/assets/Transactions-DLbEmPoM.js
