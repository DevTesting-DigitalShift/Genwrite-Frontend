var ye=Object.defineProperty,we=Object.defineProperties;var ve=Object.getOwnPropertyDescriptors;var ne=Object.getOwnPropertySymbols;var ke=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable;var ie=(d,i,o)=>i in d?ye(d,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):d[i]=o,T=(d,i)=>{for(var o in i||(i={}))ke.call(i,o)&&ie(d,o,i[o]);if(ne)for(var o of ne(i))Ne.call(i,o)&&ie(d,o,i[o]);return d},Q=(d,i)=>we(d,ve(i));var Z=(d,i,o)=>new Promise((h,b)=>{var r=N=>{try{B(o.next(N))}catch(C){b(C)}},w=N=>{try{B(o.throw(N))}catch(C){b(C)}},B=N=>N.done?h(N.value):Promise.resolve(N.value).then(r,w);B((o=o.apply(d,i)).next())});import{j as e}from"./tiptap-Cw5itmsP.js";import{T as Ce}from"./TemplateSelection-BA3PfyFo.js";import{I as he,u as Ie,a as de,s as Se,k as Te,j as Be,b5 as Fe,b7 as Le,S as O,X as Oe,b8 as Re,r as Ee}from"./index-6Wzook5W.js";import{r as u,j as Pe}from"./vendor-D8zynvq1.js";import{a as R,A as J,L as Ae,T as Ge,I as Ke}from"./blogData-CJbviKBa.js";import{I as Me}from"./ImageGalleryPicker-CmxuE8oG.js";import{X as Ue,Y as De,m as g,B as $,V as ee,Z as ce,C as Ve,u as _e,s as F,M as $e,E as ze,j as A,y,J as W,i as qe,c as Qe,T as We,k as Ye,b as _,I as te,a as He,U as Xe}from"./antd-CNZYc_MN.js";import{R as Ze}from"./PictureOutlined-BZ7T9fiR.js";import{B as Je}from"./BrandVoiceSelector-C7ap-O8r.js";import{c as et}from"./pricingConfig-DUMy0XHk.js";import{c as tt}from"./forms.schemas-CD2FqGeC.js";import{C as st}from"./crown-qT7ltu9N.js";import{S as at}from"./sparkles-hNCoECeV.js";import"./search-BgpHSq5n.js";import"./utils-Djmlt6HM.js";import"./imageGalleryApi-DzIX2fFL.js";import"./DebouncedSearchInput-CGLdmxC0.js";import"./image-DKRDUIsx.js";import"./check-CFZJ2KWs.js";import"./Brand.query-OwI8p7Ey.js";import"./useQuery-le9Y4dQq.js";import"./useInfiniteQuery-DnSVOttl.js";function se(){return se=Object.assign?Object.assign.bind():function(d){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(d[h]=o[h])}return d},se.apply(this,arguments)}const rt=(d,i)=>u.createElement(he,se({},d,{ref:i,icon:Ue})),lt=u.forwardRef(rt);var ot={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};function ae(){return ae=Object.assign?Object.assign.bind():function(d){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(d[h]=o[h])}return d},ae.apply(this,arguments)}const nt=(d,i)=>u.createElement(he,ae({},d,{ref:i,icon:ot})),it=u.forwardRef(nt),dt=(d,i)=>i.split(".").reduce((o,h)=>o&&o[h],d),ct=(d,i,o)=>{const h=i.pop(),b=structuredClone(d);let r=b;for(const w of i)r[w]||(r[w]={}),r=r[w];return r[h]=o,b},me=["image/png","image/jpeg","image/webp"],ue=1,mt=6,ge=9,ut=({id:d,label:i,initialFiles:o=[],maxCount:h=15,onChange:b})=>{const[r,w]=u.useState(o),[B,N]=u.useState(!1),[C,z]=u.useState(1),[f,D]=u.useState(ge),t=De.useBreakpoint();u.useEffect(()=>{D(t.sm?ge:mt)},[t.sm]),u.useEffect(()=>{(o.length!==r.length||o.some((n,x)=>{var P;return n.uid!==((P=r[x])==null?void 0:P.uid)}))&&w(o)},[o]),u.useEffect(()=>{const n=Math.ceil(r.length/f);C>n&&n>0&&z(n)},[r.length,f,C]);const G=n=>me.includes(n.type)?n.size/1024/1024>ue?(F.error(`${n.name} exceeds 1MB limit.`),ee.LIST_IGNORE):!1:(F.error(`${n.name} is not a valid image type.`),ee.LIST_IGNORE),c=({fileList:n})=>{const x=n.slice(0,h);w(x),b==null||b(x)},q=n=>{const x=r.filter(P=>P.uid!==n.uid);w(x),b==null||b(x)},I=(n,x)=>{if(r.length>=h){F.warning(`Maximum ${h} images allowed`);return}if(r.some(M=>M.url===n)){F.info("This image is already added");return}const K={uid:`gallery-${Date.now()}-${Math.random()}`,name:x||"Gallery Image",status:"done",url:n,thumbUrl:n},V=[...r,K];w(V),b==null||b(V),F.success("Image added from gallery")},Y=u.useMemo(()=>{const n=(C-1)*f,x=n+f;return r.slice(n,x)},[r,C,f]);return e.jsx(e.Fragment,{children:e.jsxs(g,{vertical:!0,gap:12,children:[e.jsxs(g,{justify:"space-between",align:"center",className:"w-full flex-col sm:flex-row gap-2",children:[e.jsxs("label",{htmlFor:d,style:{fontWeight:500},className:"text-sm sm:text-base",children:[i," (Max ",h,", each ",ue,"MB)"]}),e.jsxs(g,{gap:8,className:"w-full sm:w-auto",children:[e.jsx($,{icon:e.jsx(Ze,{}),onClick:()=>N(n=>!n),type:B?"primary":"default",className:"flex-1 sm:flex-none text-xs sm:text-sm",children:B?"Hide Gallery":"Browse Gallery"}),e.jsx(ee,{id:d,accept:me.join(","),multiple:!0,fileList:r,onChange:c,beforeUpload:G,showUploadList:!1,maxCount:h,className:"flex-1 sm:flex-none",children:r.length>=h?null:e.jsx($,{icon:e.jsx(it,{className:"text-base sm:text-lg"}),block:!0,className:"!border-2 hover:ring-1 hover:ring-violet-500 !border-blue-500 hover:!bg-violet-50 hover:!text-gray-700 text-xs sm:text-sm font-medium",children:"Upload from Device"})})]})]}),B&&e.jsx("div",{className:"border-2 border-blue-200 rounded-lg p-3 sm:p-4 bg-gray-50 h-[400px] sm:h-[500px]",children:e.jsx(Me,{onSelect:I,selectedImageUrl:""})}),r.length>0&&e.jsxs(g,{vertical:!0,gap:12,className:"mt-2",children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-2.5 border border-violet-200 rounded-lg p-2 min-h-[220px]",children:e.jsx(ce.PreviewGroup,{children:Y.map(n=>{const x=n.thumbUrl||(n.originFileObj?URL.createObjectURL(n.originFileObj):n.url);return e.jsx(Ve,{size:"small",hoverable:!0,style:{padding:6,display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid #abd"},cover:e.jsx(ce,{src:x,alt:n.name,width:"100%",height:100,style:{objectFit:"cover",borderRadius:6}}),actions:[e.jsx(lt,{onClick:()=>q(n)},"delete")]},n.uid)})})}),r.length>f&&e.jsx(g,{justify:"center",children:e.jsx(_e,{current:C,total:r.length,pageSize:f,onChange:n=>z(n),showSizeChanger:!1,size:"small",showTotal:(n,x)=>e.jsxs("span",{className:"text-xs text-gray-600",children:[x[0],"-",x[1]," of ",n]}),className:"text-sm"})})]})]})})},{Text:E}=We,At=({closeFnc:d})=>{const i=["Template Selection","Basic Information","Customization","Blog Options"],o={templateIds:[],template:"",topic:"",focusKeywords:[],keywords:[],title:"",tone:"",userDefinedLength:1e3,brief:"",aiModel:J[0].id,isCheckedGeneratedImages:!1,imageSource:R[0].id,numberOfImages:0,blogImages:[],referenceLinks:[],isCheckedQuick:!1,isCheckedBrand:!1,brandId:"",languageToWrite:"English",costCutter:!0,options:{exactTitle:!1,performKeywordResearch:!1,includeFaqs:!1,includeInterlinks:!1,includeCompetitorResearch:!1,addOutBoundLinks:!1,addCTA:!1,easyToUnderstand:!1,embedYouTubeVideos:!1}},h=[{key:"isCheckedQuick",label:"Add a Quick Summary"},{key:"options.includeFaqs",label:"Add FAQs (Frequently Asked Questions)"},{key:"options.includeInterlinks",label:"Include Interlinks"},{key:"options.includeCompetitorResearch",label:"Perform Competitive Research"},{key:"options.addOutBoundLinks",label:"Show Outbound Links"}],b=Ie(),r=de(Se),w=Pe(),B=Te(),{handlePopup:N}=Be(),{showLoading:C,hideLoading:z}=Fe(),[f,D]=u.useState(0),[t,G]=u.useState(o),[c,q]=u.useState({}),[I,Y]=u.useState([]),[n,x]=u.useState(!1),P=()=>Z(null,null,function*(){try{if(x(!0),!t.topic.trim()||t.focusKeywords.length===0||t.keywords.length===0){U({topic:t.topic.trim()?"":"Please enter a topic name",focusKeywords:t.focusKeywords.length===0?"Please enter at least 1 focus keyword":"",keywords:t.keywords.length===0?"Please enter at least 1 keyword":""}),F.error("Please enter a topic and at least one focus keyword and keyword before generating titles.");return}const s=T({template:t.template,topic:t.topic,focusKeywords:t.focusKeywords,keywords:t.keywords},(I==null?void 0:I.length)>0&&{oldTitles:I}),m=yield b(Ee(s)).unwrap();Y(m)}catch(s){console.error("Error generating titles:",s),F.error("Failed to generate titles. Please try again later.")}finally{x(!1)}}),K=de(Le);u.useEffect(()=>{K&&G(s=>Q(T({},s),{focusKeywords:K.focusKeywords||s.focusKeywords,keywords:K.keywords||s.keywords}))},[K]);const V=u.useMemo(()=>{var v;const s=[];t.isCheckedBrand&&s.push("brandVoice"),t.options.includeCompetitorResearch&&s.push("competitorResearch"),t.options.performKeywordResearch&&s.push("keywordResearch"),t.options.includeInterlinks&&s.push("internalLinking"),t.options.includeFaqs&&s.push("faqGeneration"),t.isCheckedQuick&&s.push("quickSummary"),t.options.addOutBoundLinks&&s.push("outboundLinks");let m=et({wordCount:t.userDefinedLength,features:s,aiModel:t.aiModel||"gemini",includeImages:t.isCheckedGeneratedImages,imageSource:t.imageSource,numberOfImages:t.imageSource===((v=R.at(-1))==null?void 0:v.id)?t.blogImages.length:t.numberOfImages});return t.costCutter&&(m=Math.round(m*.75)),m},[t.isCheckedBrand,t.options.includeCompetitorResearch,t.options.performKeywordResearch,t.options.includeInterlinks,t.options.includeFaqs,t.isCheckedQuick,t.options.addOutBoundLinks,t.userDefinedLength,t.aiModel,t.isCheckedGeneratedImages,t.imageSource,t.numberOfImages,t.blogImages.length,t.costCutter]),M=u.useCallback(s=>{G(m=>T(T({},m),s))},[]),U=u.useCallback(s=>{q(m=>T(T({},m),s))},[]),H=u.useCallback(()=>{var m;const s={};switch(f){case 0:t.templateIds.length!==1&&(s.template="Please select at least 1 template");break;case 1:t.topic.length||(s.topic="Please enter a topic name"),t.options.performKeywordResearch||(t.focusKeywords.length||(s.focusKeywords="Please enter at least 1 focus keyword"),t.keywords.length||(s.keywords="Please enter at least 1 keyword"),t.title.length||(s.title="Please enter a title")),t.tone.trim()||(s.tone="Please select a tone of voice");break;case 2:t.isCheckedGeneratedImages&&t.imageSource===((m=R.at(-1))==null?void 0:m.id)&&t.blogImages.length==0&&(s.blogImages="Please upload at least 1 image.");break;case 3:t.isCheckedBrand&&!t.brandId.trim()&&(s.brandId="Please select a Brand Voice")}return Object.keys(s).length?(U(s),!1):!0},[t,f,U]),pe=u.useCallback(()=>{H()&&D(s=>s+1)},[H]),fe=u.useCallback(()=>D(s=>s-1),[]),X=()=>{G(o),q({}),D(0),d==null||d()},xe=()=>Z(null,null,function*(){var s,m,v;if(H()){const L=V,l=(((s=r==null?void 0:r.credits)==null?void 0:s.base)||0)+(((m=r==null?void 0:r.credits)==null?void 0:m.extra)||0);if(l<L){N({title:"Insufficient Credits",description:e.jsxs("div",{children:[e.jsx("p",{children:"You don't have enough credits to generate this blog."}),e.jsxs("p",{className:"mt-1",children:[e.jsx("strong",{children:"Required:"})," ",L," credits"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Available:"})," ",l," credits"]})]}),okText:"Buy Credits",onConfirm:()=>{w("/pricing"),X()}});return}console.debug("Advanced Modal Form Data : ",t);const a=Q(T({},t),{options:T({},t.options)});t.isCheckedGeneratedImages||(a.imageSource=Ke.NONE),(!t.isCheckedGeneratedImages||t.imageSource!==((v=R.at(-1))==null?void 0:v.id))&&delete a.blogImages,t.isCheckedBrand||delete a.brandId,t.options.performKeywordResearch&&(delete a.title,delete a.keywords,delete a.focusKeywords);const j=tt(a),S=C("Creating your blog...");try{yield b(Re({blogData:j,user:r,navigate:w,queryClient:B})).unwrap(),X()}catch(k){F.error((k==null?void 0:k.message)||"Failed to create blog. Please try again.")}finally{z(S)}}}),be=u.useCallback(s=>{var m;M({template:((m=s==null?void 0:s[0])==null?void 0:m.name)||"",templateIds:s==null?void 0:s.map(v=>v.id)}),U({template:""})},[]),p=u.useCallback(s=>{const{name:m,value:v}=s.target;if(!m)throw new Error("Advanced blog form component error");const L=m.split(".");L.length>1?G(l=>ct(l,L,v)):(M({[m]:v}),U({[m]:""}))},[]),je=()=>{var s,m,v,L;switch(f){case 0:return e.jsxs(g,{vertical:!0,gap:8,className:O("rounded-md !p-2",(c==null?void 0:c.template)&&"border-2 border-red-500"),children:[e.jsx("label",{className:O("text-base mb-2",(c==null?void 0:c.template)&&"text-red-500"),children:c!=null&&c.template?c.template:e.jsxs(e.Fragment,{children:["Select Template:"," ",e.jsx("span",{className:"font-semibold uppercase text-violet-800 underline",children:t.template})]})}),e.jsx(Ce,{userSubscriptionPlan:((s=r==null?void 0:r.subscription)==null?void 0:s.plan)||"free",preSelectedIds:t.templateIds,onClick:be})]});case 1:return e.jsxs(g,{vertical:!0,gap:4,justify:"space-evenly",className:"p-2",children:[e.jsxs(y,{direction:"vertical",className:"form-item-wrapper",children:[e.jsxs("label",{htmlFor:"blog-topic",children:["Topic ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(te,{id:"blog-topic",name:"topic",placeholder:"e.g., Tech Blog",value:t.topic,onChange:p,className:O("!bg-gray-50 antd-placeholder",c.topic&&"ring-1 !ring-[#ef4444]","rounded-lg focus:!outline-none focus:!ring-0 focus:!ring-[#1B6FC9]")}),c.topic&&e.jsx(E,{className:"error-text",children:c.topic})]}),e.jsxs("label",{htmlFor:"blog-language",children:["Language ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(_,{id:"blog-language",placeholder:"Select a language",value:t.languageToWrite,onChange:l=>p({target:{name:"languageToWrite",value:l}}),options:Ae,className:"custom-placeholder"}),e.jsxs(g,{justify:"space-between",className:"mt-3 form-item-wrapper",children:[e.jsx("label",{htmlFor:"blog-auto-generate-title-keywords",children:"Auto Generate Title & Keywords"}),e.jsx(A,{id:"blog-auto-generate-title-keywords",value:t.options.performKeywordResearch,onChange:l=>p({target:{name:"options.performKeywordResearch",value:l}})})]}),e.jsxs(y,{direction:"vertical",hidden:t.options.performKeywordResearch,className:"form-item-wrapper",children:[e.jsxs("label",{htmlFor:"blog-focus-keywords",children:["Focus Keywords (max 3) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(_,{id:"blog-focus-keywords",mode:"tags",placeholder:"Add Focus keywords",value:t.focusKeywords,open:!1,onChange:l=>p({target:{name:"focusKeywords",value:l}}),maxCount:3,tokenSeparators:[","],className:O(" !bg-gray-50 custom-placeholder [&>.ant-select-arrow]:hidden border",c.focusKeywords&&"!border-red-500","rounded-lg focus:border-[#1B6FC9] hover:!border-[#1B6FC9]"),style:{width:"100%"}}),c.focusKeywords&&e.jsx(E,{className:"error-text",children:c.focusKeywords})]}),e.jsxs(y,{direction:"vertical",hidden:t.options.performKeywordResearch,className:"form-item-wrapper",children:[e.jsxs("label",{htmlFor:"blog-keywords",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(_,{id:"blog-keywords",mode:"tags",placeholder:"Add Keywords",value:t.keywords,open:!1,onChange:l=>p({target:{name:"keywords",value:l}}),tokenSeparators:[","],className:O(" !bg-gray-50 custom-placeholder [&>.ant-select-arrow]:hidden border",c.keywords&&"!border-red-500","rounded-lg focus:border-[#1B6FC9] hover:!border-[#1B6FC9]"),style:{width:"100%"}}),c.keywords&&e.jsx(E,{className:"error-text",children:c.keywords})]}),e.jsxs(g,{vertical:!0,gap:8,hidden:t.options.performKeywordResearch,className:"form-item-wrapper !mb-4",children:[e.jsxs("label",{htmlFor:"blog-title",children:["Blog Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(y.Compact,{block:!0,children:[e.jsx(te,{id:"blog-title",name:"title",placeholder:"e.g., How to create a blog",value:t.title,onChange:p,className:O(" !bg-gray-50 antd-placeholder",c.title&&"ring-1 !ring-[#ef4444]","focus:!outline-none focus:!ring-0 focus:!ring-[#1B6FC9]")}),e.jsxs($,{type:"primary",title:"AI Generated Titles",icon:e.jsx(at,{className:"size-5"}),block:!0,loading:n,onClick:P,className:"!w-1/4 h-full text-[length:1rem] py-1 px-3 tracking-wide",children:["Generate ",I!=null&&I.length?"More":"Titles"]})]}),c.title&&e.jsx(E,{className:"error-text",children:c.title}),I.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:I.map((l,a)=>e.jsx(He,{color:"geekblue",className:O("cursor-pointer text-[length:1rem] bg-black",t.title===l&&"!bg-blue-500 !text-white","hover:!bg-blue-400 hover:!text-black p-1"),onClick:()=>{p({target:{name:"title",value:l}})},children:l},a))})]}),e.jsxs(g,{justify:"space-between",className:"mt-3 form-item-wrapper",hidden:t.options.performKeywordResearch,children:[e.jsx("label",{htmlFor:"blog-use-exact-title",children:"Use Exact Title for Blog"}),e.jsx(A,{id:"blog-use-exact-title",value:t.options.exactTitle,onChange:l=>p({target:{name:"options.exactTitle",value:l}})})]}),e.jsx(y,{direction:"vertical",className:"form-item-wrapper",children:e.jsxs(g,{justify:"space-around",gap:20,children:[e.jsxs(g,{vertical:!0,className:"w-full",gap:8,children:[e.jsxs("label",{htmlFor:"blog-tone",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(_,{id:"blog-tone",placeholder:"Select a tone",value:t.tone||void 0,onChange:l=>p({target:{name:"tone",value:l}}),options:Ge.map(l=>({label:l,value:l})),className:"custom-placeholder"}),c.tone&&e.jsx(E,{className:"error-text",children:c.tone})]}),e.jsxs(g,{vertical:!0,className:"w-full",gap:8,children:[e.jsxs("label",{children:["Blog Words Length :"," ",e.jsxs(E,{strong:!0,underline:!0,className:"text-[length:16px] px-2",children:[t.userDefinedLength," words"]})]}),e.jsx(Xe,{id:"blog-word-length",value:t.userDefinedLength,onChange:l=>p({target:{name:"userDefinedLength",value:l}}),min:500,max:5e3,tooltip:{formatter:l=>`${l} words`,placement:"bottom"},classNames:{rail:"!bg-gray-400",track:"!bg-gradient-to-tr !from-blue-600 !via-violet-500 !to-purple-500",handle:"hover:!ring-1 hover:!ring-purple-400"}})]})]})}),e.jsxs(y,{direction:"vertical",className:"form-item-wrapper",children:[e.jsx("label",{htmlFor:"blog-brief",children:"Add Brief Section"}),e.jsx(te.TextArea,{id:"blog-brief",name:"brief",autoSize:{minRows:1,maxRows:3},value:t.brief,onChange:p,placeholder:"Enter the brief info or instructions",className:"antd-placeholder"})]})]});case 2:{const l=a=>{try{const j=new URL(a);return j.protocol==="http:"||j.protocol==="https:"}catch(j){return!1}};return e.jsxs(g,{vertical:!0,gap:20,className:"p-2",children:[e.jsxs(y,{direction:"vertical",className:"form-item-wrapper",children:[e.jsx("label",{children:"Select AI Model"}),e.jsx(W.Group,{name:"aiModel",value:t.aiModel,onChange:p,defaultValue:(m=J[0])==null?void 0:m.id,block:!0,className:"p-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 w-full",children:J.map(a=>e.jsxs(W.Button,{value:a.id,className:"rounded-lg !px-4 !py-3 !border-[3px] hover:border-blue-400 hover:bg-purple-50 min-h-fit",children:[e.jsx("img",{src:a.logo,alt:a.label,className:"size-6 object-contain"}),e.jsx("span",{className:"text-[length:15px] font-medium text-gray-800",children:a.label})]},a.id))})]}),e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4 shadow-sm",children:e.jsxs(g,{justify:"space-between",align:"center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-green-900 mb-1",children:"ðŸ’° Cost Cutter"}),e.jsx("p",{className:"text-xs text-green-700",children:"Use AI Flash model for 25% savings"})]}),e.jsx(A,{checked:t.costCutter,onChange:a=>M({costCutter:a})})]})}),e.jsx(y,{direction:"vertical",className:"form-item-wrapper",children:e.jsxs(g,{justify:"space-between",children:[e.jsx("label",{htmlFor:"easy-to-understand-toggle",children:"Easy to Understand"}),e.jsx(A,{id:"easy-to-understand-toggle",checked:t.options.easyToUnderstand,onChange:a=>p({target:{name:"options.easyToUnderstand",value:a}})})]})}),e.jsx(y,{direction:"vertical",className:"form-item-wrapper",children:e.jsxs(g,{justify:"space-between",children:[e.jsx("label",{htmlFor:"embed-youtube-toggle",children:"Embed YouTube Videos"}),e.jsx(A,{id:"embed-youtube-toggle",checked:t.options.embedYouTubeVideos,onChange:a=>p({target:{name:"options.embedYouTubeVideos",value:a}})})]})}),e.jsx(y,{direction:"vertical",className:"form-item-wrapper",children:e.jsxs(g,{justify:"space-between",children:[e.jsx("label",{htmlFor:"add-image-toggle",children:"Add Images"}),e.jsx(A,{id:"add-image-toggle",value:t.isCheckedGeneratedImages,onChange:a=>{[{name:"isCheckedGeneratedImages",value:a},{name:"blogImages",value:[]}].map(j=>p({target:j}))}})]})}),e.jsxs(y,{direction:"vertical",hidden:!t.isCheckedGeneratedImages,className:"form-item-wrapper",children:[e.jsx("label",{children:"Select Image Mode"}),e.jsx(W.Group,{name:"imageSource",value:t.imageSource,onChange:a=>{var j;p(a),a.target.value!=((j=R.at(-1))==null?void 0:j.id)&&p({target:{name:"blogImages",value:[]}})},defaultValue:(v=R[0])==null?void 0:v.id,block:!0,className:"p-2 !grid grid-cols-1 sm:!grid-cols-2 md:!grid-cols-3 !gap-4 w-full",children:R.map((a,j)=>{var re,le,oe;const S=a.restrict&&((re=r==null?void 0:r.subscription)==null?void 0:re.plan)=="free",k=j==1&&((le=r==null?void 0:r.usage)==null?void 0:le.aiImages)>=((oe=r==null?void 0:r.usageLimits)==null?void 0:oe.aiImages);return e.jsx(qe.Ribbon,{text:S?e.jsx(st,{className:"p-1"}):k?e.jsx(Oe,{className:"p-0.5"}):"",className:O("absolute -top-2 z-10",(j==0||!(S||k))&&"hidden"),color:S?"#8b5cf6":k?"#dc2626":"#3b82f6",children:e.jsx(Qe,{title:e.jsx(E,{strong:!0,className:"text-[length:15px] text-gray-200 font-montserrat tracking-wide",children:S?"Only For Subscribed Users":k?"AI Image Limit Reached":a.label}),className:"w-full",autoAdjustOverflow:!0,color:S?"#8b5cf6":k?"#dc2626":"#3b82f6",placement:j==0?"left":"top",showArrow:!0,children:e.jsx(W.Button,{value:a.id,disabled:S||k,className:"rounded-lg !px-4 !py-3 !border-[3px] text-red-600 hover:border-blue-400 hover:bg-violet-50 min-h-fit min-w-fit",children:e.jsx("span",{className:"text-[length:15px] font-medium text-gray-800",children:a.label})})})},a.id+j)})})]}),e.jsx(y,{direction:"vertical",hidden:!t.isCheckedGeneratedImages,className:"form-item-wrapper",children:t.imageSource!=((L=R.at(-1))==null?void 0:L.id)?e.jsxs(g,{align:"center",justify:"space-between",children:[e.jsx("label",{htmlFor:"blog-img-count",children:"Number of Images (0 = Decided by AI) : "}),e.jsx(Ye,{id:"blog-img-count",name:"numberOfImages",min:0,max:15,value:t.numberOfImages,defaultValue:0,onChange:a=>p({target:{name:"numberOfImages",value:a||0}}),className:"w-1/3 !text-base"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ut,{id:"blog-upload-images",label:"Upload Custom Images",maxCount:15,initialFiles:t.blogImages,onChange:a=>p({target:{name:"blogImages",value:a}})}),c.blogImages&&e.jsx(E,{className:"error-text",children:c.blogImages})]})}),e.jsxs(y,{direction:"vertical",className:"form-item-wrapper",children:[e.jsx("label",{htmlFor:"blog-references",children:"Reference Links (max 3)"}),e.jsx(_,{id:"blog-references",mode:"tags",placeholder:"Add Reference Links",value:t.referenceLinks,open:!1,onChange:a=>{a.filter(k=>!l(k.trim())).length>0&&F.warning("Only valid URLs starting from http:// or https:// are allowed.");const S=a.filter(l);p({target:{name:"referenceLinks",value:S}})},maxCount:3,tokenSeparators:[","," "],className:"!w-full !bg-gray-50 [&>.ant-select-arrow]:hidden custom-placeholder border rounded-lg focus:border-[#1B6FC9] hover:!border-[#1B6FC9]"})]})]})}case 3:return e.jsxs(g,{vertical:!0,gap:"middle",className:"p-2",children:[h.map((l,a)=>e.jsxs(g,{justify:"space-between",className:"form-item-wrapper",children:[e.jsx("label",{htmlFor:`blog-${l.key}`,children:l.label}),e.jsx(A,{id:`blog-${l.key}`,value:dt(t,l.key),onChange:j=>p({target:{name:l.key,value:j}})})]},l.key+a)),e.jsx(y,{direction:"vertical",className:"form-item-wrapper",children:e.jsx(Je,{label:"Write with Brand Voice",value:{isCheckedBrand:t.isCheckedBrand,brandId:t.brandId,addCTA:t.options.addCTA},size:"default",onChange:l=>{const a=t.options;M({isCheckedBrand:l.isCheckedBrand,brandId:l.brandId,options:Q(T({},a),{addCTA:l.addCTA})}),U({brandId:""})},errorText:c.brandId})})]});default:return e.jsx(ze,{})}};return e.jsxs(e.Fragment,{children:[" ",e.jsx($e,{title:`Generate Advanced Blog | Step ${f+1} : ${i[f]}`,open:!0,onCancel:X,footer:e.jsxs(g,{justify:"space-between",align:"center",gap:12,className:"mt-2",children:[(f===2||f===3)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Estimated Cost:"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[V," credits"]}),t.costCutter&&e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(-25% off)"})]}),e.jsxs(g,{justify:"end",gap:12,className:f<2?"w-full":"",children:[f>0&&e.jsx($,{onClick:fe,type:"default",className:"h-10 px-6 text-[length:1rem] font-medium !text-gray-700 bg-white border border-gray-300 rounded-md hover:!bg-gray-50",children:"Previous"}),e.jsx($,{onClick:f===3?xe:pe,type:"default",className:"h-10 px-6 text-[length:1rem] font-medium !text-white bg-[#1B6FC9] rounded-md hover:!bg-[#1B6FC9]/90",children:f===3?"Generate Blog":"Next"})]})]}),width:700,centered:!0,transitionName:"",maskTransitionName:"",destroyOnHidden:!0,className:"m-2",children:e.jsx("div",{className:"h-full !max-h-[80vh] overflow-auto",style:{scrollbarWidth:"none"},children:je()})})]})};export{At as default};
