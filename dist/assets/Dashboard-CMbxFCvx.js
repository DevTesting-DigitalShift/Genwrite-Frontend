import{I as Ke,j as e,P as se,s as E,a as J,Q as Fe,b as q,u as le,S as Pe,G as ne,m as z,T as de,U as Ee,V as De,W as Le,X as pe,Y as ce,D as ve,Z as Ne,$ as Te,E as ze,H as Re,A as he,J as ke,a0 as $e,a1 as _e,a2 as Oe}from"./index-651b9dXw.js";import{b as B}from"./chunk-tiptap-Diw-eXXG.js";import{C as ye}from"./Carousel-Cd7WxbF6.js";import{P as ee}from"./plus-CyxAP8n0.js";import{S as Ge}from"./index-Bd2valwc.js";import{S as Ie}from"./sparkles-B-mEaFlZ.js";import{S as me}from"./Pagination-DYQZMT76.js";import{o as ue}from"./UpgardePopUp-DyoAli1w.js";import{C as ge}from"./crown-CgIJuwts.js";import{X as Q}from"./x-CRSOVgfR.js";import{P as We}from"./pen-tool-CvOnkxLM.js";import{Z as Ue}from"./zap-aeIAaMTM.js";import{c as oe}from"./createLucideIcon-C5jW9RxN.js";import{S as He}from"./search-D9LAgYQh.js";import{U as Ve}from"./users-DPOxn49H.js";import{h as Qe}from"./moment-C5S46NFB.js";import{A as Me}from"./arrow-right-BSwhHR0B.js";import{E as qe}from"./eye-CNo1tKaf.js";import{p as xe}from"./templates-Bxc_B2TQ.js";import{g as ae}from"./getEstimatedCost-C7zpUDMg.js";import{I as Ce,U as Se}from"./upload-Do5G6uA7.js";import{R as Ye,C as Ze}from"./CompetitiveAnalysisModal-DQ6mbsM-.js";import{F as je,T as Je}from"./index-CJlX-wrO.js";import{C as Xe}from"./index-BoQoPIWW.js";import{I as es}from"./index-DPmWXUj2.js";import{S as ss,a as Be}from"./SkeletonLoader-CFxUwTQo.js";import{C as ts}from"./clock-BIXxGrxt.js";import"./LeftOutlined-CLClSuz_.js";import"./Overflow-CSiCfy6H.js";import"./move-WUSsgncA.js";import"./useIcons-GsfX7OdZ.js";import"./index-DQ7QI2Yd.js";import"./EllipsisOutlined-CO5-qNFo.js";import"./Input-4sL8Wdad.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],as=oe("activity",rs);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],fe=oe("gem",ls);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],os=oe("grid-3x3",ns);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],cs=oe("tag",is);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],ms=oe("tags",ds);var xs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function be(){return be=Object.assign?Object.assign.bind():function(T){for(var N=1;N<arguments.length;N++){var p=arguments[N];for(var r in p)Object.prototype.hasOwnProperty.call(p,r)&&(T[r]=p[r])}return T},be.apply(this,arguments)}const hs=(T,N)=>B.createElement(Ke,be({},T,{ref:N,icon:xs})),Ae=B.forwardRef(hs),us=({title:T,visible:N,onCancel:p,children:r})=>N?e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e.jsx("div",{className:"modal-overlay absolute inset-0 bg-gray-800 opacity-50"}),e.jsxs("div",{className:"modal-container bgwhi w-96 rounded-lg shadow-lg z-50 overflow-y-auto",children:[e.jsxs("div",{className:"modal-header p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold ",children:T}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:p,children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"modal-content p-4",children:r})]})]}):null,gs=({handleNext:T,handleClose:N,data:p,setData:r})=>{const[L,b]=B.useState(null),[A,K]=B.useState({userDefinedLength:0,tone:"",includeInterlink:!1,includeMetaHeadlines:!1,wordpressStatus:!0,numberOfBlogs:0,postFrequency:0,randomisedFrequency:0,template:[],focusKeywords:[],keywords:[],focusKeywordInput:"",keywordInput:""}),k=[{imgSrc:"./Images/Classic.png",name:"Classic",description:"Timeless elegance for your classic blog journey",author:"Author 1"},{imgSrc:"./Images/Listicle.png",name:"Listicle",description:"Tips for actionable success in list format.",author:"Author 2"},{imgSrc:"./Images/ProductReview.png",name:"Product Review",description:"Product insights: pros, cons, and more.",author:"Author 3"},{imgSrc:"./Images/HowTo.png",name:"How to....",description:"Step-by-step guides for practical how-to solutions.",author:"Author 4"},{imgSrc:"./Images/NewsArticle.png",name:"News Article",description:"Latest updates and breaking news coverage."},{imgSrc:"./Images/OpinionPiece.png",name:"Opinion Piece",description:"Expert insights and analytical perspectives."},{imgSrc:"./Images/CaseStudy.png",name:"Case Study",description:"In-depth analysis and real-world examples."},{imgSrc:"./Images/Interview.png",name:"Interview",description:"Engaging conversations with industry experts."}],x=h=>{b(h),r({...p,template:k[h]}),K({...A,template:[k[h].name]})},v=()=>{if(L!==null){const h=k[L],t={...p,selectedTemplate:h};r(t),T()}else E.error("Please select a template before proceeding.")};return e.jsx(se,{title:"Step 1: Select Template",open:!0,onCancel:N,footer:[e.jsx("button",{onClick:v,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")],centered:!0,width:800,transitionName:"",maskTransitionName:"",children:e.jsx("div",{children:e.jsx("div",{className:"p-3",children:e.jsx(ye,{children:k.map((h,t)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${A.template.includes(h.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>x(t),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:h.imgSrc||"/placeholder.svg",alt:h.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:h.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:h.description})]})]})},t))})})})})},ps=B.memo(gs),{Option:V}=me,fs=({handleNext:T,handleClose:N,handlePrevious:p,data:r,setData:L})=>{var $;const[b,A]=B.useState((r==null?void 0:r.topic)||""),K=J(),[k,x]=B.useState({title:!1,topic:!1,tone:!1,focusKeyword:!1,keyword:!1}),[v,h]=B.useState({focusKeywords:r.focusKeywords||[],keywords:r.keywords||[]}),[t,y]=B.useState([]),[C,o]=B.useState(!1),w=(d,I)=>{h(a=>({...a,[`${I}Input`]:d.target.value}))},R=d=>{const I=v[`${d}Input`].trim(),a=d==="focusKeywords"?"focusKeyword":"keyword";if(!I){x(F=>({...F,[a]:!0})),E.error("Please enter a keyword.");return}const g=v[d].map(F=>F.toLowerCase().trim()),l=new Set,M=I.split(",").map(F=>F.trim()).filter(F=>{const f=F.toLowerCase();return!F||l.has(f)||g.includes(f)?!1:(l.add(f),!0)});if(M.length===0){x(F=>({...F,[a]:!0})),E.error("Please enter valid, non-duplicate keywords separated by commas.");return}if(d==="focusKeywords"&&v[d].length+M.length>3){x(f=>({...f,[a]:!0})),E.error("You can only add up to 3 focus keywords.");return}h(F=>({...F,[d]:[...F[d],...M],[`${d}Input`]:""})),x(F=>({...F,[a]:!1}))},u=(d,I)=>{const a=[...v[I]];a.splice(d,1),h(g=>({...g,[I]:a,[`${I}Input`]:a.join(", ")}))},c=(d,I)=>{d.key==="Enter"&&(d.preventDefault(),R(I))},j=d=>{L(I=>({...I,tone:d})),x(I=>({...I,tone:!1}))},i=async()=>{if(!b.trim()){E.error("Please enter a topic before generating titles.");return}o(!0);try{const d=await K(Fe({keywords:v.keywords,focusKeywords:v.focusKeywords,topic:b,template:"default"})).unwrap();y(d)}catch{}finally{o(!1)}},S=()=>{var a;const d={title:!((a=r==null?void 0:r.title)!=null&&a.trim()),topic:!(b!=null&&b.trim()),tone:!(r!=null&&r.tone),focusKeyword:v.focusKeywords.length===0,keyword:v.keywords.length===0};if(x(d),Object.values(d).some(g=>g)){E.error("Please fill in all required fields.");return}const I={...r,topic:b,focusKeywords:v.focusKeywords,keywords:v.keywords};L(I),T()};return B.useEffect(()=>{r&&!r.isCheckedGeneratedImages&&L(d=>({...d,isCheckedGeneratedImages:!0,isUnsplashActive:!0}))},[r,L]),e.jsx(se,{title:"Step 2: Crucial Details",open:!0,onCancel:N,footer:[e.jsx("button",{onClick:p,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Back"},"back"),e.jsx("button",{onClick:S,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")],width:800,centered:!0,bodyStyle:{maxHeight:"80vh",overflowY:"auto"},transitionName:"",maskTransitionName:"",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Topic ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:`w-full px-3 py-2 bg-gray-50 border ${k.topic?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., Tech Blog",value:b,onChange:d=>{A(d.target.value),x(I=>({...I,topic:!1}))}})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Focus Keywords (up to 3)",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:v.focusKeyword,onChange:d=>w(d,"focusKeywords"),onKeyDown:d=>c(d,"focusKeywords"),className:`flex-1 px-3 py-2 bg-gray-50 border ${k.focusKeyword?"border-red-500":"border-gray-200"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 text-sm`,placeholder:"Enter focus keywords, separated by commas"}),e.jsx("button",{onClick:()=>R("focusKeywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 text slim flex items-center",children:e.jsx(ee,{size:16})})]}),v.focusKeywords.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:v.focusKeywords.map((d,I)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[d,e.jsx("button",{onClick:()=>u(I,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},I))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Keywords",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:v.keyword,onChange:d=>w(d,"keywords"),onKeyDown:d=>c(d,"keywords"),className:`flex-1 px-3 py-2 bg-gray-50 border ${k.keyword?"border-red-500":"border-gray-200"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 text-sm`,placeholder:"Enter secondary keywords, separated by commas"}),e.jsx("button",{onClick:()=>R("keywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 text-sm flex items-center",children:e.jsx(ee,{size:16})})]}),v.keywords.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:v.keywords.map((d,I)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[d,e.jsx("button",{onClick:()=>u(I,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},I))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:`flex-1 px-3 py-2 bg-gray-50 border ${k.title?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., How to Create a Tech Blog",value:(r==null?void 0:r.title)||"",onChange:d=>{L(I=>({...I,title:d.target.value})),x(I=>({...I,title:!1}))}}),e.jsxs("button",{onClick:i,disabled:C,className:"px-4 py-2 bg-gradient-to-r from-[#1B6FC9] to-[#4C9FE8] text-white rounded-lg hover:from-[#1B6FC9]/90 hover:to-[#4C9FE8]/90 flex items-center",children:[C?e.jsx(Ge,{size:"small"}):e.jsx(Ie,{size:16,className:"mr-2"}),"Generate Titles"]})]}),t.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.map((d,I)=>{const a=r.title===d;return e.jsx("div",{className:"relative group",children:e.jsx("button",{type:"button",onClick:()=>{L(g=>({...g,title:d})),x(g=>({...g,title:!1}))},className:`px-3 py-1 rounded-full text-sm border transition w-full truncate
              ${a?"bg-[#1B6FC9] text-white border-[#1B6FC9]":"bg-gray-100 text-gray-700 border-gray-300 opacity-60 hover:opacity-100 hover:bg-gray-200"}
            `,children:d})},I)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(me,{className:"w-full",value:(r==null?void 0:r.tone)||void 0,onChange:j,placeholder:"Select tone",status:k.tone?"error":"",children:[e.jsx(V,{value:"professional",children:"Professional"}),e.jsx(V,{value:"casual",children:"Casual"}),e.jsx(V,{value:"friendly",children:"Friendly"}),e.jsx(V,{value:"formal",children:"Formal"}),e.jsx(V,{value:"conversational",children:"Conversational"}),e.jsx(V,{value:"witty",children:"Witty"}),e.jsx(V,{value:"informative",children:"Informative"}),e.jsx(V,{value:"inspirational",children:"Inspirational"}),e.jsx(V,{value:"persuasive",children:"Persuasive"}),e.jsx(V,{value:"empathetic",children:"Empathetic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Choose length of Blog"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:(r==null?void 0:r.userDefinedLength)??1e3,className:`w-full h-1 rounded-lg appearance-none cursor-pointer \r
             [&::-webkit-slider-thumb]:appearance-none \r
             [&::-webkit-slider-thumb]:h-4 \r
             [&::-webkit-slider-thumb]:w-4 \r
             [&::-webkit-slider-thumb]:rounded-full \r
             [&::-webkit-slider-thumb]:bg-[#1B6FC9]`,onChange:d=>{L(I=>({...I,userDefinedLength:parseInt(d.target.value,10)}))},style:{background:`linear-gradient(to right, #1B6FC9 ${(((r==null?void 0:r.userDefinedLength)??1e3)-500)/45}%, #e5e7eb 0%)`}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[(r==null?void 0:r.userDefinedLength)??1e3," words"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add Brief Section (Optional)"}),e.jsx("textarea",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]",rows:3,placeholder:"Enter brief section",value:(r==null?void 0:r.brief)||"",onChange:d=>L(I=>({...I,brief:d.target.value}))}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-xs text-gray-500",children:[(($=r==null?void 0:r.brief)==null?void 0:$.length)||0,"/2000 characters"]})})]})]})})})},bs=B.memo(fs),ys=({handlePrevious:T,handleClose:N,data:p,setData:r,handleSubmit:L})=>{var j;const b=J(),{user:A}=q(i=>i.auth),{brands:K,loading:k,error:x}=q(i=>i.brand),v=le(),h=((j=A==null?void 0:A.subscription)==null?void 0:j.plan)||(A==null?void 0:A.plan),[t,y]=B.useState({isCheckedQuick:p.isCheckedQuick||!1,isCheckedBrand:p.isCheckedBrand||!1,aiModel:p.aiModel||"gemini",brandId:p.brandId||null,isFAQEnabled:p.isFAQEnabled||!1,imageSource:p.imageSource||"unsplash",isCompetitiveResearchEnabled:p.isCompetitiveResearchEnabled||!1,isCheckedGeneratedImages:p.isCheckedGeneratedImages||!1,referenceLinks:p.referenceLinks||[]}),[C,o]=B.useState({newLink:""});B.useEffect(()=>{t.isCheckedBrand&&b(Pe())},[t.isCheckedBrand,b]);const w=()=>{const i=C.newLink.trim();if(!i)return;const S=t.referenceLinks.map(a=>a.toLowerCase().trim()),$=a=>{try{return new URL(a),!0}catch{return!1}},d=new Set,I=i.split(",").map(a=>a.trim()).filter(a=>{const g=a.toLowerCase();return!d.has(g)&&$(a)&&!S.includes(g)&&d.add(g)});if(I.length===0){E.error("Please enter valid, non-duplicate URLs separated by commas.");return}y(a=>({...a,referenceLinks:[...a.referenceLinks,...I]})),o(a=>({...a,newLink:""})),E.success("Reference link added!")},R=i=>{y(S=>({...S,referenceLinks:S.referenceLinks.filter(($,d)=>d!==i)}))},u=()=>{const i={...p,...t};L(i)},c=i=>{r(S=>({...S,isCheckedGeneratedImages:!0,isUnsplashActive:i==="unsplash"})),setErrors(S=>({...S,imageSource:!1}))};return e.jsx(se,{title:"Final Step: Content Enhancements",open:!0,onCancel:N,footer:[e.jsx("button",{onClick:T,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Previous"},"previous"),e.jsx("button",{onClick:u,className:"px-6 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md ml-3",children:"Submit"},"next")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select AI Model ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-wrap gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"gemini",name:"aiModel",value:"gemini",checked:t.aiModel==="gemini",onChange:i=>y(S=>({...S,aiModel:i.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300"}),e.jsx("label",{htmlFor:"gemini",className:"text-sm text-gray-700",children:"Gemini"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"chatgpt",name:"aiModel",value:"chatgpt",checked:t.aiModel==="chatgpt",onChange:i=>{h!=="free"&&y(S=>({...S,aiModel:i.target.value}))},className:"h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300"}),e.jsxs("label",{htmlFor:"chatgpt",onClick:i=>{h==="free"&&(i.preventDefault(),ue({featureName:"ChatGPT",navigate:v}))},className:"text-sm cursor-pointer flex items-center gap-1 text-gray-700",children:["ChatGPT",h==="free"&&e.jsx(ge,{className:"w-4 h-4 text-yellow-500"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"claude",name:"aiModel",value:"claude",checked:t.aiModel==="claude",onChange:i=>{h!=="free"&&h!=="basic"&&y(S=>({...S,aiModel:i.target.value}))},className:"h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300"}),e.jsxs("label",{htmlFor:"claude",onClick:i=>{(h==="free"||h==="basic")&&(i.preventDefault(),ue({featureName:"Claude",navigate:v}))},className:"text-sm cursor-pointer flex items-center gap-1 text-gray-700",children:["Claude",(h==="free"||h==="basic")&&e.jsx(ge,{className:"w-4 h-4 text-yellow-500"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Image Source ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"unsplash",name:"imageSource",checked:p==null?void 0:p.isUnsplashActive,onChange:()=>c("unsplash"),className:"h-4 w-4 text-[#1B6FC9] focus:ring-[#1B6FC9] border-gray-300"}),e.jsx("label",{htmlFor:"unsplash",className:"text-sm text-gray-700 whitespace-nowrap",children:"Stock Images"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"ai-generated",name:"imageSource",checked:!(p!=null&&p.isUnsplashActive),onChange:()=>{h!=="free"&&c("ai")},className:"h-4 w-4 text-[#1B6FC9] focus:ring-[#1B6FC9] border-gray-300"}),e.jsxs("label",{htmlFor:"ai-generated",onClick:i=>{h==="free"&&(i.preventDefault(),ue({featureName:"AI-Generated Images",navigate:v}))},className:"text-sm cursor-pointer flex items-center gap-1 text-gray-700",children:["AI-Generated Images",h==="free"&&e.jsx(ge,{className:"w-4 h-4 text-yellow-500"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add a Quick Summary"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.isCheckedQuick,onChange:()=>y(i=>({...i,isCheckedQuick:!i.isCheckedQuick})),className:"sr-only peer","aria-checked":t.isCheckedQuick}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Write with Brand Voice"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.isCheckedBrand,onChange:()=>y(i=>({...i,isCheckedBrand:!i.isCheckedBrand,brandId:i.isCheckedBrand?null:i.brandId})),className:"sr-only peer","aria-checked":t.isCheckedBrand}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),t.isCheckedBrand&&e.jsx("div",{className:"mt-3 p-4 rounded-md border border-gray-200 bg-gray-50",children:k?e.jsx("div",{className:"text-gray-500 text-sm",children:"Loading brand voices..."}):x?e.jsx("div",{className:"text-red-500 text-sm font-medium",children:x}):(K==null?void 0:K.length)>0?e.jsx("div",{className:"max-h-48 overflow-y-auto pr-1",children:e.jsx("div",{className:"grid gap-3",children:K.map(i=>e.jsxs("label",{className:`flex items-start gap-2 p-3 rounded-md cursor-pointer ${t.brandId===i._id?"bg-blue-100 border-blue-300":"bg-white border border-gray-200"}`,children:[e.jsx("input",{type:"radio",name:"selectedBrandVoice",value:i._id,checked:t.brandId===i._id,onChange:()=>y(S=>({...S,brandId:i._id})),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-700",children:i.nameOfVoice}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i.describeBrand})]})]},i._id))})}):e.jsx("div",{className:"text-gray-500 text-sm italic",children:"No brand voices available. Create one to get started."})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add FAQ"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.isFAQEnabled,onChange:()=>y(i=>({...i,isFAQEnabled:!i.isFAQEnabled})),className:"sr-only peer","aria-checked":t.isFAQEnabled}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add Competitive Research"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.isCompetitiveResearchEnabled,onChange:()=>y(i=>({...i,isCompetitiveResearchEnabled:!i.isCompetitiveResearchEnabled})),className:"sr-only peer","aria-checked":t.isCompetitiveResearchEnabled}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Reference Links (Helps make blog more compelling)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600",placeholder:"https://example.com",onKeyDown:i=>{i.key==="Enter"&&(i.preventDefault(),w())},value:C.newLink,onChange:i=>o(S=>({...S,newLink:i.target.value}))}),e.jsx("button",{onClick:w,className:"px-3 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md",children:e.jsx(ee,{className:"w-4 h-4"})})]}),t.referenceLinks.length>0&&e.jsx("div",{className:"mt-2 space-y-2",children:t.referenceLinks.map((i,S)=>e.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-50 rounded-md",children:[e.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 truncate",children:i}),e.jsx("button",{onClick:()=>R(S),className:"text-gray-500 hover:text-red-500",children:e.jsx(Q,{className:"w-4 h-4"})})]},S))})]})]})})})},js=[{id:1,imageUrl:"./Images/createnew.png",title:"Create New Blog",icon:e.jsx(We,{className:"w-6 h-6"}),content:"Generate blogs, email, product, description, etc.",hoverGradient:"from-blue-600 to-blue-700"},{id:"A",imageUrl:"./Images/quickblog.png",title:"Generate Quick Blog",icon:e.jsx(Ue,{className:"w-6 h-6"}),content:"With few inputs you are good to go to create Awesome blogs!",hoverGradient:"from-purple-600 to-purple-700"},{id:"B",imageUrl:"./Images/createmultipleblog.png",title:"Create Multiple Blogs",icon:e.jsx(os,{className:"w-6 h-6"}),content:"Ellipse draft overflow arrange pen",hoverGradient:"from-emerald-600 to-emerald-700"}],ws=[{id:1,imageUrl:"./Images/keyword.png",title:"Keyword Research",content:"Fill bold reesizing vector create group inspect effect.",icon:e.jsx(He,{className:"w-8 h-8"}),color:"text-blue-600",bgColor:"bg-blue-50",hoverBg:"hover:bg-blue-100"},{id:3,imageUrl:"./Images/performancemonitoring.png",title:"Performance Monitoring",content:"Generate blogs, emails , product description etc.",icon:e.jsx(as,{className:"w-8 h-8"}),color:"text-orange-600",bgColor:"bg-orange-50",hoverBg:"hover:bg-orange-100"},{id:4,imageUrl:"./Images/competitor.png",title:"Competitor Analysis",content:"Analyze your competitors' content and strategies",icon:e.jsx(Ve,{className:"w-8 h-8"}),color:"text-purple-600",bgColor:"bg-purple-50",hoverBg:"hover:bg-purple-100"}],vs=({title:T,content:N,id:p,functions:r,icon:L,gradient:b})=>{var h,t;const A=q(y=>y.auth.user),K=(A==null?void 0:A.plan)??((h=A==null?void 0:A.subscription)==null?void 0:h.plan),{handlePopup:k}=ne(),x=()=>{k({title:"Upgrade Required",description:"Bulk blog generation is only available for Pro and Enterprise users.",confirmText:"Buy Now",cancelText:"Cancel",icon:e.jsx(fe,{style:{fontSize:50,color:"#a47dab"}}),onConfirm:()=>navigate("/upgrade")})},v=()=>{var y,C,o,w,R;if(p==="A")(y=r.showQuickBlogModal)==null||y.call(r);else if(p===1)(C=r.showModal)==null||C.call(r);else if(p==="B"){if(["free","basic"].includes(K==null?void 0:K.toLowerCase())){x();return}(o=r.showMultiStepModal)==null||o.call(r)}else p===4?(w=r.showCompetitiveAnalysis)==null||w.call(r):p===3&&((R=r.showPerformanceMonitoring)==null||R.call(r))};return e.jsxs("div",{onClick:v,className:"group relative bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-xl hover:scale-[1.02] transition-all duration-300 cursor-pointer overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-5 transition-opacity duration-300 from-blue-500 to-purple-500"}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-r ${b} text-white mb-6 transition-transform duration-300`,children:L}),["free","basic"].includes((t=K==null?void 0:K.toLowerCase)==null?void 0:t.call(K))&&p==="B"&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(fe,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:T}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:N}),e.jsxs("div",{className:"flex items-center text-blue-600 font-medium text-sm group-hover:gap-2 transition-all",children:["Get Started",e.jsx(Me,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})},Ns=({icon:T,title:N,content:p,id:r,functions:L,bgColor:b,hoverBg:A,color:K})=>{var y,C;const k=q(o=>o.auth.user),x=(k==null?void 0:k.plan)??((y=k==null?void 0:k.subscription)==null?void 0:y.plan),{handlePopup:v}=ne(),h=()=>{v({title:"Upgrade Required",description:"Competitor Analysis is only available for Pro and Enterprise users.",confirmText:"Buy Now",cancelText:"Cancel",onConfirm:()=>navigate("/upgrade")})},t=()=>{if(r===4&&(L!=null&&L.showCompetitiveAnalysis)){if(["free","basic"].includes(x==null?void 0:x.toLowerCase())){h();return}L.showCompetitiveAnalysis()}else r===3&&(L!=null&&L.showPerformanceMonitoring)?L.showPerformanceMonitoring():r===2&&(L!=null&&L.showSeoAnalysis)?L.showSeoAnalysis():r===1&&(L!=null&&L.showKeywordResearch)&&L.showKeywordResearch()};return e.jsxs("div",{onClick:t,className:`group p-6 rounded-xl ${b} ${A} border border-transparent hover:border-gray-200 hover:shadow-md transition-all duration-300 cursor-pointer`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(z.div,{whileHover:{scale:1.15,rotate:8},transition:{type:"spring",stiffness:300},className:`inline-flex items-center justify-center w-12 h-12 rounded-xl bg-white ${K} mb-4 group-hover:scale-110 transition-transform duration-300 shadow-sm`,children:T}),["free","basic"].includes((C=x==null?void 0:x.toLowerCase)==null?void 0:C.call(x))&&r===4&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(fe,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors text-[18px]",children:N}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:p})]})},ks=({title:T,content:N,tags:p,item:r,time:L})=>{var x,v,h,t,y;const b=le(),A=(y=(t=(h=(v=(x=N==null?void 0:N.replace(/^#+\s*/gm,""))==null?void 0:x.replace(/#[^\s#]+/g,""))==null?void 0:v.replace(/[*_~`>\\=|-]+/g,""))==null?void 0:h.replace(/\n+/g," "))==null?void 0:t.replace(/\s+/g," "))==null?void 0:y.trim(),K=A&&A.length>40?`${A.substring(0,80)}...`:A||"",k=()=>{r&&r._id&&b(`/toolbox/${r._id}`,{state:{blog:r}})};return e.jsx("div",{onClick:k,className:"group p-6 rounded-xl border border-gray-200 hover:border-blue-200 hover:shadow-md transition-all duration-300 cursor-pointer mb-4",children:e.jsxs("div",{className:"flex lg:items-start lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h3",{className:"font-bold capitalize text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-1",children:T}),e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full capitalize",children:(r==null?void 0:r.aiModel)||"Gemini"}),e.jsx("span",{className:`px-2 py-1 capitalize text-xs font-medium rounded-full ${(r==null?void 0:r.status)==="complete"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:(r==null?void 0:r.status)||""})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:K}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p==null?void 0:p.map((C,o)=>e.jsx("span",{className:"px-3 py-1 capitalize bg-gray-100 text-gray-700 text-xs rounded-full hover:bg-gray-200 transition-colors",children:C},o))})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(qe,{className:"w-4 h-4"}),e.jsx("span",{children:"View"})]}),e.jsx("span",{children:Qe(L).fromNow()}),e.jsx(Me,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})})},Cs=({closeFnc:T})=>{const N=J(),p=le(),{handlePopup:r}=ne(),L=q(s=>s.auth.user),[b,A]=B.useState(0),[K,k]=B.useState(null),{Option:x}=me,[v,h]=B.useState({topics:!1,keywords:!1,tone:!1}),[t,y]=B.useState({templates:[],topics:[],keywords:[],topicInput:"",keywordInput:"",performKeywordResearch:!0,tone:"",numberOfCounts:5,userDefinedLength:1e3,imageSource:"unsplash",useBrandVoice:!0,useCompetitors:!1,includeInterlinks:!0,includeMetaHeadlines:!0,includeFaqs:!0,numberOfBlogs:1,wordpressPostStatus:!1,postFrequency:10*60,selectedDates:null,aiModel:"gemini",includeTableOfContents:!1}),C=()=>{if(b===0&&t.templates.length===0){E.error("Please add at least one template.");return}if(b===1){const s={topics:t.topics.length===0&&t.topicInput.trim()==="",keywords:!t.performKeywordResearch&&t.keywords.length===0&&t.keywordInput.trim()==="",tone:!t.tone};if(h(s),Object.values(s).some(n=>n)){E.error("Please fill all required fields in this step.");return}}A(s=>s+1)},o=()=>{A(s=>s>0?s-1:s)},w=()=>{T()},R=()=>{const s={topics:t.topics.length===0&&t.topicInput.trim()==="",keywords:!t.performKeywordResearch&&t.keywords.length===0&&t.keywordInput.trim()==="",tone:!t.tone};if(h(s),Object.values(s).some(n=>n)){E.error("Please fill all required fields.");return}if(t.numberOfBlogs<1){E.error("Number of blogs must be at least 1.");return}if(t.numberOfBlogs>10){E.error("Number of blogs must be at most 10.");return}r({title:"Bulk Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Estimated Cost for bulk blogs :"," ",e.jsxs("b",{children:[t.numberOfBlogs*(ae("blog.single")+(t.imageSource==="unsplash"?0:ae("aiImages")))," ","credits"]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue ? "})]}),onConfirm:()=>{N(Ee({blogData:t,navigate:p})),w()}})},u=s=>{const n=xe[s].name;t.templates.includes(n)?y(m=>({...m,templates:m.templates.filter(W=>W!==n)})):t.templates.length<3?y(m=>({...m,templates:[...m.templates,n]})):E.error("You can select a maximum of 3 templates.")},c=s=>{const{name:n,value:P,type:m}=s.target,W=m==="number"?parseInt(P,10)||0:P;y({...t,[n]:W})},j=async s=>{const{name:n,checked:P}=s.target;if(n==="wordpressPostStatus"&&P)try{if(!(L!=null&&L.wordpressLink)){E.error("Please connect your WordPress account in your profile before enabling automatic posting."),p("/profile");return}}catch{E.error("Failed to check profile. Please try again.");return}y({...t,[n]:P}),n==="performKeywordResearch"&&h(m=>({...m,keywords:!1}))},i=s=>{y(n=>({...n,topicInput:s.target.value})),h(n=>({...n,topics:!1}))},S=s=>{y(n=>({...n,keywordInput:s.target.value})),h(n=>({...n,keywords:!1}))},$=()=>{const s=t.topicInput;if(s.trim()==="")return h(m=>({...m,topics:!0})),E.error("Please enter a topic."),!1;const n=t.topics.map(m=>m.toLowerCase().trim()),P=s.split(",").map(m=>m.trim()).filter(m=>m!==""&&!n.includes(m.toLowerCase()));return P.length===0?(h(m=>({...m,topics:!0})),E.error("Please enter valid, non-duplicate topics separated by commas."),y(m=>({...m,topicInput:""})),!1):(y(m=>({...m,topics:[...m.topics,...P],topicInput:""})),h(m=>({...m,topics:!1})),!0)},d=s=>{y(n=>({...n,topics:n.topics.filter((P,m)=>m!==s)}))},I=()=>{const s=t.keywordInput;if(s.trim()==="")return h(m=>({...m,keywords:!0})),E.error("Please enter a keyword."),!1;const n=t.keywords.map(m=>m.toLowerCase().trim()),P=s.split(",").map(m=>m.trim()).filter(m=>m!==""&&!n.includes(m.toLowerCase()));return P.length===0?(h(m=>({...m,keywords:!0})),E.error("Please enter valid, non-duplicate keywords separated by commas."),y(m=>({...m,keywordInput:""})),!1):(y(m=>({...m,keywords:[...m.keywords,...P],keywordInput:""})),h(m=>({...m,keywords:!1})),!0)},a=s=>{y(n=>({...n,keywords:n.keywords.filter((P,m)=>m!==s)}))},g=s=>{if(s.key==="Enter"){s.preventDefault();const n=$();!t.performKeywordResearch&&n&&I()}},l=s=>{y(n=>({...n,imageSource:s}))},M=s=>{var W;const n=(W=s.target.files)==null?void 0:W[0];if(!n)return;if(!n.name.toLowerCase().endsWith(".csv")){E.error("Invalid file type. Please upload a .csv file."),s.target.value=null;return}const P=20*1024;if(n.size>P){E.error("File size exceeds 20KB limit. Please upload a smaller file."),s.target.value=null;return}const m=new FileReader;m.onload=U=>{var O;const te=(O=U.target)==null?void 0:O.result;if(!te)return;const re=te.trim().split(/\r?\n/).slice(1).map(G=>{const D=G.split(",");return D.length>=2?D[1].trim():null}).filter(Boolean),Y=t.topics.map(G=>G.toLowerCase().trim()),H=re.filter(G=>!Y.includes(G.toLowerCase().trim()));if(H.length===0){E.error("No new topics found in the CSV.");return}y(G=>({...G,topics:[...G.topics,...H]})),h(G=>({...G,topics:!1})),H.length>8&&(k(H.length),setTimeout(()=>k(null),5e3))},m.readAsText(n),s.target.value=null},F=s=>{var m;const n=(m=s.target.files)==null?void 0:m[0];if(!n)return;const P=new FileReader;P.onload=W=>{var H;const U=(H=W.target)==null?void 0:H.result;if(!U)return;const ie=U.trim().split(/\r?\n/).slice(1).map(O=>{const G=O.split(",");return G.length>=2?G[1].trim():null}).filter(Boolean),re=t.keywords.map(O=>O.toLowerCase().trim()),Y=ie.filter(O=>!re.includes(O.toLowerCase().trim()));if(Y.length===0){E.error("No new keywords found in the CSV.");return}y(O=>({...O,keywords:[...O.keywords,...Y]})),h(O=>({...O,keywords:!1})),Y.length>8&&(k(Y.length),setTimeout(()=>k(null),5e3))},P.readAsText(n),s.target.value=null},f=["Select Template's","Add Details","Configure Output"];return e.jsx(se,{title:`Step ${b+1} | ${f[b]}`,open:!0,onCancel:w,footer:e.jsxs("div",{className:"flex justify-end gap-3",children:[b>0&&e.jsx("button",{onClick:o,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Previous"}),e.jsx("button",{onClick:b===2?R:C,className:"px-4 py-2 text-sm font-medium text-white bg-[#1B6FC9] rounded-md hover:bg-[#1B6FC9]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:b===2?"Generate Blogs":"Next"})]}),width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"p-4",children:[b===0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select up to 3 templates for the types of blogs you want to generate."}),e.jsx(ye,{children:xe.map((s,n)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${t.templates.includes(s.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>u(n),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:s.imgSrc||"/placeholder.svg",alt:s.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:s.description})]})]})},s.name))})]}),b===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Topics ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(de,{title:"Upload a .csv file in the format: `S.No., Keyword`",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(Ce,{size:16,className:"text-blue-500"})})})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the main topics for your blogs."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:t.topicInput,onChange:i,onKeyDown:g,className:`flex-1 px-3 py-2 border ${v.topics?"border-red-500":"border-gray-300"} rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 bg-gray-50`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:$,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(Se,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:M,hidden:!0})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[t.topics.slice().reverse().slice(0,18).map((s,n)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[s,e.jsx("button",{type:"button",onClick:()=>d(t.topics.length-1-n),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(Q,{className:"w-3 h-3"})})]},`${s}-${n}`)),(t.topics.length>18||K)&&e.jsxs("span",{className:"text-xs font-medium text-blue-600 self-center",children:[t.topics.length>18&&`+${t.topics.length-18} more `,K&&`(+${K} uploaded)`]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Perform Keyword Research?",e.jsx("p",{className:"text-xs text-gray-500",children:"Allow AI to find relevant keywords for the topics."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"performKeywordResearch",checked:t.performKeywordResearch,onChange:j,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),!t.performKeywordResearch&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(de,{title:"Upload a .csv file in the format: `S.No., Keyword`",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(Ce,{size:16,className:"text-blue-500"})})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:t.keywordInput,onChange:S,onKeyDown:g,className:`flex-1 px-3 py-2 border ${v.keywords?"border-red-500":"border-gray-300"} rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 bg-gray-50`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:I,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(Se,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:F,hidden:!0})]})]}),v.keywords&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Please add at least one keyword"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[t.keywords.slice().reverse().slice(0,18).map((s,n)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[s,e.jsx("button",{type:"button",onClick:()=>a(t.keywords.length-1-n),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(Q,{className:"w-3 h-3"})})]},`${s}-${n}`)),(t.keywords.length>18||K)&&e.jsxs("span",{className:"text-xs font-medium text-blue-600 self-center",children:[t.keywords.length>18&&`+${t.keywords.length-18} more `,K&&`(+${K} uploaded)`]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"tone",className:"block text-sm font-medium text-gray-700 mb-1",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(me,{className:"w-full",value:t.tone,onChange:s=>{y(n=>({...n,tone:s})),h(n=>({...n,tone:!1}))},placeholder:"Select tone",status:v.tone?"error":"",children:[e.jsx(x,{value:"",children:"Select Tone"}),e.jsx(x,{value:"professional",children:"Professional"}),e.jsx(x,{value:"casual",children:"Casual"}),e.jsx(x,{value:"friendly",children:"Friendly"}),e.jsx(x,{value:"formal",children:"Formal"}),e.jsx(x,{value:"conversational",children:"Conversational"}),e.jsx(x,{value:"witty",children:"Witty"}),e.jsx(x,{value:"informative",children:"Informative"}),e.jsx(x,{value:"inspirational",children:"Inspirational"}),e.jsx(x,{value:"persuasive",children:"Persuasive"}),e.jsx(x,{value:"empathetic",children:"Empathetic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approx. Blog Length (Words)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:t.userDefinedLength,className:"w-full h-1 rounded-lg appearance-none cursor-pointer bg-gradient-to-r from-[#1B6FC9] to-gray-100 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${(t.userDefinedLength-500)/4500*100}%, #E5E7EB ${(t.userDefinedLength-500)/4500*100}%)`},onChange:s=>{y(n=>({...n,userDefinedLength:parseInt(s.target.value,10)}))}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[t.userDefinedLength," words"]})]})]})]})]}),b===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select AI Model"}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"aiModel",value:"gemini",checked:t.aiModel==="gemini",onChange:s=>y(n=>({...n,aiModel:s.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsx("span",{className:"block text-sm font-medium leading-6 text-gray-900 ml-2",children:"Gemini"})]}),e.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"aiModel",value:"chatgpt",checked:t.aiModel==="chatgpt",onChange:s=>y(n=>({...n,aiModel:s.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsx("span",{className:"block text-sm font-medium leading-6 text-gray-900 ml-2",children:"ChatGPT"})]}),e.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"aiModel",value:"claude",checked:t.aiModel==="claude",onChange:s=>y(n=>({...n,aiModel:s.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsx("span",{className:"block text-sm font-medium leading-6 text-gray-900 ml-2",children:"Claude"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Source"}),e.jsxs("fieldset",{className:"mt-2",children:[e.jsx("legend",{className:"sr-only",children:"Image source selection"}),e.jsxs("div",{className:"flex items-center gap-x-6",children:[e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("input",{id:"image-source-unsplash",name:"image-source",type:"radio",value:"unsplash",checked:t.imageSource==="unsplash",onChange:()=>l("unsplash"),className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"image-source-unsplash",className:"block text-sm font-medium leading-6 text-gray-900",children:"Stock Images"})]}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("input",{id:"image-source-ai",name:"image-source",type:"radio",value:"ai",checked:t.imageSource==="ai",onChange:()=>l("ai"),className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"image-source-ai",className:"block text-sm font-medium leading-6 text-gray-900",children:"AI Generated Images"})]})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Interlinks",e.jsx("p",{className:"text-xs text-gray-500",children:"Attempt to link between generated blogs if relevant."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeInterlinks",checked:t.includeInterlinks,onChange:j,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include FAQ Section",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate relevant FAQ questions and answers for the blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeFaqs",checked:t.includeFaqs,onChange:j,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Competitive Research",e.jsx("p",{className:"text-xs text-gray-500",children:"Perform competitive research to analyze similar blogs."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"useCompetitors",checked:t.useCompetitors,onChange:j,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Blogs"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"How many blogs to generate based on the topics provided."}),e.jsx("input",{type:"number",name:"numberOfBlogs",min:"1",max:"10",value:t.numberOfBlogs,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 5"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Automatic Posting",e.jsx("p",{className:"text-xs text-gray-500",children:"Automatically post blogs on the selected dates."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"wordpressPostStatus",checked:t.wordpressPostStatus,onChange:j,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),t.wordpressPostStatus&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Table of Contents",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate a table of contents for each blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeTableOfContents",checked:t.includeTableOfContents,onChange:j,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]})]})]})})},Ss=({closeFnc:T})=>{const[N,p]=B.useState(1),r=()=>p(N+1),L=()=>p(N-1);return e.jsxs("div",{className:"border-8 border-teal-700",children:[e.jsx("input",{type:"checkbox",id:"my-modal",className:"modal-toggle"}),e.jsx("div",{className:"modal",children:e.jsxs("div",{className:"modal-box",children:[N===1&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 1"}),e.jsx("p",{className:"py-4",children:"Content for step 1 goes here."}),e.jsx("div",{className:"modal-action",children:e.jsx("button",{className:"btn border-8 border-teal-700",onClick:r,children:"Next"})})]}),N===2&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 2"}),e.jsx("p",{className:"py-4",children:"Content for step 2 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:L,children:"Previous"}),e.jsx("button",{className:"btn",onClick:r,children:"Next"})]})]}),N===3&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 3"}),e.jsx("p",{className:"py-4",children:"Content for step 3 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:T,children:"Previous"}),e.jsx("label",{htmlFor:"my-modal",className:"btn",children:"Finish"})]})]})]})})]})},Bs=({closeFnc:T})=>{const[N,p]=B.useState(0),[r,L]=B.useState(null),[b,A]=B.useState([]),[K,k]=B.useState({template:!1,focusKeywords:!1,keywords:!1,videoLinks:!1}),[x,v]=B.useState({template:null,keywords:[],focusKeywords:[],videoLinks:[],keywordInput:"",focusKeywordInput:"",videoLinkInput:""}),h=J(),t=le(),{handlePopup:y}=ne(),C=()=>{if(N===0&&!x.template){k(a=>({...a,template:!0})),E.error("Please select a template before proceeding.");return}k(a=>({...a,template:!1})),p(N+1)},o=()=>{p(N-1)},w=()=>{T()},R=()=>{const a={template:!x.template,focusKeywords:x.focusKeywords.length===0,keywords:x.keywords.length===0,videoLinks:b.length===0};if(k(a),Object.values(a).some(l=>l)){E.error("Please fill all the fields");return}const g={...x,videoLinks:b};y({title:"Quick Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Quick blog generation is ",e.jsxs("b",{children:[ae("blog.quick")," credits."]})]}),e.jsx("br",{}),e.jsx("span",{children:"Are you sure ?"})]}),onConfirm:()=>{h(De({blogData:g,navigate:t})),w()}})},u=a=>{L(a),v({...x,template:xe[a].name}),k(g=>({...g,template:!1}))},c=(a,g)=>{const l=g==="keywords"?"keywordInput":"focusKeywordInput";v(M=>({...M,[l]:a.target.value})),k(M=>({...M,[g]:!1}))},j=a=>{const g=a==="keywords"?"keywordInput":"focusKeywordInput",l=x[g].trim();if(!l){k(f=>({...f,[a]:!0})),E.error("Please enter a keyword.");return}const M=new Set(x[a].map(f=>f.trim().toLowerCase())),F=l.split(",").map(f=>f.trim()).filter(f=>f!==""&&!M.has(f.toLowerCase()));if(F.length===0){k(f=>({...f,[a]:!0})),E.error("Please enter valid, non-duplicate keywords separated by commas.");return}if(a==="focusKeywords"&&x[a].length+F.length>3){k(f=>({...f,[a]:!0})),E.error("You can only add up to 3 focus keywords.");return}v(f=>({...f,[a]:[...f[a],...F],[g]:""})),k(f=>({...f,[a]:!1}))},i=(a,g)=>{const l=[...x[g]];l.splice(a,1),v({...x,[g]:l})},S=(a,g)=>{a.key==="Enter"&&(a.preventDefault(),j(g))},$=()=>{var F;const a=(F=x.videoLinkInput)==null?void 0:F.trim();if(!a){k(f=>({...f,videoLinks:!0})),E.error("Please enter at least one link.");return}const g=a.split(",").map(f=>f.trim()).filter(f=>f!==""),l=[];for(let f of g){let s=f;/^https?:\/\//i.test(s)||(s=`https://${s}`);try{const n=new URL(s);!b.includes(s)&&!l.includes(s)&&l.push(s)}catch{}}if(l.length===0){k(f=>({...f,videoLinks:!0})),E.error("No valid, unique URLs found.");return}if(b.length+l.length>3){k(f=>({...f,videoLinks:!0})),E.error("You can only add up to 3 links in total.");return}A([...b,...l]),v(f=>({...f,videoLinkInput:""})),k(f=>({...f,videoLinks:!1}))},d=a=>{a.key==="Enter"&&(a.preventDefault(),$())},I=a=>{const g=[...b];g.splice(a,1),A(g)};return e.jsx(se,{title:"Generate Quick Blog",open:!0,onCancel:w,footer:N===0?[e.jsx("button",{onClick:C,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")]:[e.jsx("button",{onClick:o,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none",children:"Previous"},"previous"),e.jsx("button",{onClick:R,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Submit"},"submit")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"p-4",children:[N===0&&e.jsx("div",{children:e.jsx("div",{className:"p-3",children:e.jsx(ye,{children:xe.map((a,g)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${x.template===a.name?"border-gray-300 border-2 rounded-md":""}`,onClick:()=>u(g),children:e.jsxs("div",{className:"bg-white rounded-md overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:a.imgSrc||"/placeholder.svg",alt:a.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:a.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:a.description})]})]})},g))})})}),N===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Focus Keywords ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:x.focusKeywordInput,onChange:a=>c(a,"focusKeywords"),onKeyDown:a=>S(a,"focusKeywords"),className:`flex-1 px-3 py-2 border ${K.focusKeywords?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter focus keywords, separated by commas"}),e.jsx("button",{onClick:()=>j("focusKeywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center",children:e.jsx(ee,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:x.focusKeywords.map((a,g)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[a,e.jsx("button",{onClick:()=>i(g,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:e.jsx(Q,{size:16})})]},g))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:x.keywordInput,onChange:a=>c(a,"keywords"),onKeyDown:a=>S(a,"keywords"),className:`flex-1 px-3 py-2 border ${K.keywords?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter secondary keywords, separated by commas"}),e.jsx("button",{onClick:()=>j("keywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center",children:e.jsx(ee,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:x.keywords.map((a,g)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[a,e.jsx("button",{onClick:()=>i(g,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:e.jsx(Q,{size:16})})]},g))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Add Links (max 3) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:x.videoLinkInput||"",onChange:a=>v(g=>({...g,videoLinkInput:a.target.value})),onKeyDown:d,className:`flex-1 px-3 py-2 border ${K.videoLinks?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter links, separated by commas"}),e.jsx("button",{onClick:$,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center",children:e.jsx(ee,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:b.map((a,g)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[a,e.jsx("button",{onClick:()=>I(g),className:"ml-1 text-blue-400 hover:text-blue-600",children:e.jsx(Q,{size:16})})]},g))})]})]})]})})},Ls=({closeFnc:T})=>{var y;const[N,p]=B.useState({selectedBlog:null,title:"",content:""}),[r,L]=B.useState(null),b=J(),{blogs:A}=q(C=>C.blog);B.useEffect(()=>{b(Le())},[b]);const K=async C=>{p({selectedBlog:C,title:C.title,content:C.content}),L(null);try{b(pe(C._id)).unwrap().then(({stats:o})=>L(o))}catch{E.error("Failed to load blog performance stats.")}},k={flesch:"📘 Flesch Reading Ease (0–100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"📗 SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"📙 ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"📈 Blog Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},x=({type:C="seo"})=>e.jsx(de,{title:k[C],trigger:["hover","click"],placement:"top",children:e.jsx(Ae,{className:"ml-2 text-gray-500 hover:text-blue-500 cursor-pointer"})}),v=({icon:C,label:o,value:w,color:R,delay:u=0,suffix:c="",description:j=""})=>e.jsx(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:u*.1,duration:.3},className:`p-5 bg-white rounded-xl border ${R} shadow-sm hover:shadow-md transition-shadow`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[C&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-500",children:C}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:o}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:[w,c]}),j&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j})]})]})}),h=({score:C,max:o,label:w,level:R,color:u})=>e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600 flex items-center gap-2",children:[w,e.jsx(x,{type:/seo/gi.test(w)?"seo":"flesch"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:R})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full ${u} transition-all duration-500`,style:{width:`${C/o*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-2",children:e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[C," / ",o]})})]})]}),t=({stats:C})=>{var d,I,a,g,l,M,F,f;if(!C)return null;const{readabililty:o={},seo:w={},engagement:R={},metadata:u={}}=C,c=(w==null?void 0:w.keywordDensity)||{},j=Object.keys(c).filter(s=>s.split(" ").length<=2).length,i=Object.keys(c).filter(s=>s.split(" ").length>2).length,S=Object.entries(c).map(([s,{count:n,density:P}],m)=>({key:s,keyword:s,count:n,density:P,animationDelay:m*.1})),$=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(s,n)=>s.density-n.density,render:s=>`${s.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 mt-6",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-8 capitalize",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(u==null?void 0:u.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(u==null?void 0:u.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(u==null?void 0:u.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(u==null?void 0:u.aiModel)||"-"})]})]}),(u==null?void 0:u.generatedAt)&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border normal-case border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(u.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[!!(w!=null&&w.score)&&e.jsx(h,{score:(w==null?void 0:w.score)||0,max:100,label:"Blog Score",level:`${(w==null?void 0:w.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(v,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(w==null?void 0:w.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(v,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(w==null?void 0:w.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(v,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(w==null?void 0:w.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(d=w==null?void 0:w.focusKeywords)==null?void 0:d.map((s,n)=>e.jsx(z.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"px-3 py-1 bg-blue-50 rounded-full text-sm text-blue-700 border border-blue-100 hover:bg-blue-100 transition-colors",children:s},s))})]}),(w==null?void 0:w.keywords.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Other Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(I=w==null?void 0:w.keywords)==null?void 0:I.map((s,n)=>e.jsx(z.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-700 border border-gray-200 hover:bg-gray-200 transition-colors",children:s},s))})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Keyword Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx(v,{icon:e.jsx(cs,{className:"w-5 h-5"}),label:"Short-Tail Keywords",value:j,color:"border-blue-100",delay:0}),e.jsx(v,{icon:e.jsx(ms,{className:"w-5 h-5"}),label:"Long-Tail Keywords",value:i,color:"border-blue-100",delay:.1})]}),e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Keyword Densities"}),e.jsx(z.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:e.jsx(je,{dataSource:S,columns:$,pagination:!1,components:{body:{row:({children:s,...n})=>{var m;const P=((m=S[n["data-row-key"]])==null?void 0:m.animationDelay)||0;return e.jsx(z.tr,{...n,initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:P},children:s})}}},className:"rounded-md overflow-hidden capitalize"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(h,{score:((a=o==null?void 0:o.fleschEase)==null?void 0:a.score)||0,max:100,label:"Flesch Ease",level:((g=o==null?void 0:o.fleschEase)==null?void 0:g.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:["SMOG Index",e.jsx(x,{type:"smog"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:((l=o==null?void 0:o.smogIndex)==null?void 0:l.level)||"-"})]}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:[((M=o==null?void 0:o.smogIndex)==null?void 0:M.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:["ARI ",e.jsx(x,{type:"ari"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:((F=o==null?void 0:o.ari)==null?void 0:F.level)||"-"})]}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:[((f=o==null?void 0:o.ari)==null?void 0:f.score)||0," grade"]})]}),e.jsx(v,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(o==null?void 0:o.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(v,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(o==null?void 0:o.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(o==null?void 0:o.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(o==null?void 0:o.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(o==null?void 0:o.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(o==null?void 0:o.syllableCount)||0})]})]})]})]})};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50 h-[100vh]",children:e.jsxs(z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-3xl bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gray-50",children:[e.jsxs(z.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Performance Dashboard"})]}),e.jsx("button",{onClick:T,className:"p-2 rounded-full hover:bg-gray-200 transition-all",children:e.jsx(Q,{className:"h-6 w-6 text-gray-600 hover:text-gray-800"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[85vh]",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Blog"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 appearance-none shadow-sm",onChange:C=>{const o=A.find(w=>w._id===C.target.value);o&&K(o)},value:((y=N.selectedBlog)==null?void 0:y._id)||"",children:[e.jsx("option",{value:"",className:"bg-gray-50",children:"Select a blog"}),A==null?void 0:A.filter(C=>C.status==="complete"&&C.isArchived===!1).map(C=>e.jsx("option",{value:C._id,className:"bg-gray-50",children:C.title},C._id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),N.selectedBlog&&e.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Preview"})}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2 truncate",children:N.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3",children:(N.content||"").replace(/[#>*=_`~-]+/g,"").replace(/\n+/g," ").replace(/\s+/g," ").trim()})]})]}),e.jsx(t,{stats:r})]})})]})})},Is=({closeFnc:T})=>{var R;const[N,p]=B.useState({selectedBlog:null,title:"",content:""}),[r,L]=B.useState(!1),[b,A]=B.useState(null),K=J(),{blogs:k,error:x}=q(u=>u.blog);B.useEffect(()=>{K(Le())},[K]),B.useEffect(()=>{x&&E.error(x)},[x]);const v=u=>{p({selectedBlog:u,title:u.title,content:u.content}),A(null)},h=async()=>{if(!N.selectedBlog){E.error("Please select a blog");return}L(!0);try{const u=await K(pe(N.selectedBlog._id));if(pe.fulfilled.match(u)){const{stats:c}=u.payload;A(c),E.success("Performance analysis completed!")}else E.error("Something went wrong during stats fetching.")}catch{E.error("Unexpected error occurred.")}finally{L(!1)}},t={flesch:"📘 Flesch Reading Ease (0–100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"📗 SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"📙 ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"📈 SEO Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},y=({type:u="seo"})=>e.jsx(de,{title:t[u],trigger:["hover","click"],placement:"top",children:e.jsx(Ae,{className:"ml-2 text-black size-8 hover:text-blue-500 cursor-pointer"})}),C=({icon:u,label:c,value:j,color:i,delay:S=0,suffix:$="",description:d=""})=>e.jsx(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:S*.1,duration:.3},className:`p-4 bg-white rounded-xl border ${i} shadow-sm`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[u&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-500",children:u}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:c}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-1",children:[j,$]}),d&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:d})]})]})}),o=({score:u,max:c,label:j,level:i,color:S})=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[j,e.jsx(y,{type:/seo/gi.test(j)?"seo":"flesch"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:i})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${S}`,style:{width:`${u/c*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[u," / ",c]})})]})]}),w=({stats:u})=>{var a,g,l,M,F,f,s,n;if(!u)return null;const{readabililty:c={},seo:j={},engagement:i={},metadata:S={}}=u,$=(j==null?void 0:j.keywordDensity)||{},d=Object.entries($).map(([P,{count:m,density:W}],U)=>({key:P,keyword:P,count:m,density:W,animationDelay:U*.1})),I=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(P,m)=>P.density-m.density,render:P=>`${P.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-5 mt-4",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(S==null?void 0:S.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(S==null?void 0:S.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(S==null?void 0:S.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(S==null?void 0:S.aiModel)||"-"})]})]}),(S==null?void 0:S.generatedAt)&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(S.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-green-100 rounded text-green-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 11.5V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1.4"}),e.jsx("path",{d:"M14 10V8a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2"}),e.jsx("path",{d:"M10 9.9V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v5"}),e.jsx("path",{d:"M6 14v0a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0"}),e.jsx("path",{d:"M18 11v0a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-4a8 8 0 0 1-8-8 2 2 0 1 1 4 0"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Engagement"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(C,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),label:"GenWrite Views",value:(i==null?void 0:i.views)||0,color:"border-green-100",delay:0}),e.jsx(C,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),label:"WordPress Views",value:(i==null?void 0:i.wordpressViews)||0,color:"border-green-100",delay:1})]}),e.jsx("div",{className:"mt-4 bg-gray-50 p-4 rounded-xl border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Public Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${i!=null&&i.isPublic?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:i!=null&&i.isPublic?"✅ Public":"❌ Private"})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(o,{score:(j==null?void 0:j.score)||0,max:100,label:"SEO Score",level:`${(j==null?void 0:j.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(C,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(j==null?void 0:j.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(C,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(j==null?void 0:j.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(C,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(j==null?void 0:j.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(a=j==null?void 0:j.focusKeywords)==null?void 0:a.map((P,m)=>e.jsx(z.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:m*.1},className:"px-3 py-1 bg-blue-50 rounded-full text-sm text-blue-700 border border-blue-100",children:P},P))})]}),(j==null?void 0:j.keywords.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Other Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(g=j==null?void 0:j.keywords)==null?void 0:g.map((P,m)=>e.jsx(z.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:m*.1},className:"px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-700 border border-gray-200",children:P},P))})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Keyword Densities"}),e.jsx(z.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:e.jsx(je,{dataSource:d,columns:I,pagination:!1,components:{body:{row:({children:P,...m})=>{var U;const W=((U=d[m["data-row-key"]])==null?void 0:U.animationDelay)||0;return e.jsx(z.tr,{...m,initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:W},children:P})}}},className:"rounded-md overflow-hidden"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(o,{score:((l=c==null?void 0:c.fleschEase)==null?void 0:l.score)||0,max:100,label:"Flesch Ease",level:((M=c==null?void 0:c.fleschEase)==null?void 0:M.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["SMOG Index",e.jsx(y,{type:"smog"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((F=c==null?void 0:c.smogIndex)==null?void 0:F.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((f=c==null?void 0:c.smogIndex)==null?void 0:f.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["ARI ",e.jsx(y,{type:"ari"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((s=c==null?void 0:c.ari)==null?void 0:s.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((n=c==null?void 0:c.ari)==null?void 0:n.score)||0," grade"]})]}),e.jsx(C,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(c==null?void 0:c.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(C,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(c==null?void 0:c.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(c==null?void 0:c.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(c==null?void 0:c.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(c==null?void 0:c.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(c==null?void 0:c.syllableCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paragraphs"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(c==null?void 0:c.paragraphCount)||0})]})]})]})]})};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs(z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-4xl bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[e.jsxs(z.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Seo Analysis Dashboard"})]}),e.jsx("button",{onClick:T,className:"p-2 rounded-full hover:bg-gray-100 transition-all",children:e.jsx(Q,{className:"h-6 w-6 text-gray-500 hover:text-gray-700"})})]}),e.jsx("div",{className:"p-5 overflow-y-auto max-h-[80vh]",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Blog"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 appearance-none",onChange:u=>{const c=k.find(j=>j._id===u.target.value);c&&v(c)},value:((R=N.selectedBlog)==null?void 0:R._id)||"",children:[e.jsx("option",{value:"",className:"bg-gray-50",children:"Select a blog"}),k.map(u=>e.jsx("option",{value:u._id,className:"bg-gray-50 capitalize",children:u.title},u._id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),N.selectedBlog&&e.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"font-medium text-gray-700",children:"Preview"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 truncate capitalize",children:N.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3",children:N.content})]})]}),e.jsx(z.div,{className:"flex justify-end pt-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(z.button,{onClick:h,className:`px-5 py-2.5 rounded-lg font-medium flex items-center gap-2 ${r?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"} transition-all duration-300 shadow`,disabled:r||!N.selectedBlog,whileHover:{scale:!r&&N.selectedBlog?1.03:1},whileTap:{scale:.97},children:r?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),"Analyze Performance"]})})}),r&&!b&&e.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-4",children:[...Array(6)].map((u,c)=>e.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:c*.1},className:"h-32 bg-gray-100 rounded-xl animate-pulse"},c))}),e.jsx(w,{stats:b})]})}),e.jsx("div",{className:"flex justify-end gap-3 p-5 border-t border-gray-100",children:e.jsx(z.button,{onClick:T,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-300",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close Dashboard"})})]})})},Ms=({closeFnc:T,openSecondStepModal:N,openJobModal:p})=>{const[r,L]=B.useState(""),[b,A]=B.useState([]),[K,k]=B.useState(1),[x,v]=B.useState([]),h=J(),{keywordAnalysis:t,loading:y,error:C,selectedKeywords:o}=q(l=>l.analysis);B.useEffect(()=>{b.length===0&&(h(ce()),v([]),k(1))},[b,h]);const w=()=>{const l=r.trim();if(!l)return;const M=b.map(s=>s.toLowerCase()),F=new Set,f=l.split(",").map(s=>s.trim()).filter(s=>s&&!M.includes(s.toLowerCase())&&!F.has(s.toLowerCase())&&F.add(s.toLowerCase()));f.length>0&&(A([...b,...f]),L(""))},R=l=>{const M=b.filter((F,f)=>f!==l);A(M),M.length===0&&(h(ce()),v([]),k(1))},u=l=>{l.key==="Enter"&&(l.preventDefault(),w())},c=()=>{b.length>0&&(h(Te(b)),k(1))},j=()=>{const l={LOW:[],MEDIUM:[],HIGH:[]};t==null||t.forEach(s=>{l[s.competition]&&l[s.competition].push({keyword:s.keyword,competition_index:s.competition_index})});const M=l.LOW.sort((s,n)=>s.competition_index-n.competition_index).slice(0,2),F=l.MEDIUM.sort((s,n)=>s.competition_index-n.competition_index).slice(0,2),f=l.HIGH.sort((s,n)=>s.competition_index-n.competition_index).slice(0,2);return[...M.map(s=>s.keyword),...F.map(s=>s.keyword),...f.map(s=>s.keyword)]},i=l=>{const M=j();v(M);const F=se.info({icon:null,title:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Auto-Selected Keywords"}),e.jsx("button",{onClick:()=>F.destroy(),className:"text-gray-500 hover:text-red-500","aria-label":"Close modal",children:e.jsx(Q,{className:"h-5 w-5"})})]}),content:e.jsxs("div",{children:[e.jsx("p",{children:"We selected these keywords automatically based on competition index:"}),e.jsx("ul",{className:"list-disc ml-5 mt-2",children:M.map(f=>e.jsx("li",{className:"capitalize",children:f},f))}),e.jsx("p",{className:"mt-3",children:"Do you want to proceed with these?"})]}),okText:"Accept",cancelText:"Decline",closable:!0,onOk(){const f=[...(o==null?void 0:o.focusKeywords)||[],...M.filter(s=>{var n;return!((n=o==null?void 0:o.focusKeywords)!=null&&n.includes(s))})].slice(0,6);d(f,l)},onCancel(){const f=(o==null?void 0:o.focusKeywords)||[];d(f,l)},okButtonProps:{className:"bg-blue-600 text-white"}})},S=()=>{i("blog")},$=()=>{i("job")},d=async(l,M)=>{await h(Ne({focusKeywords:l,allKeywords:l})),setTimeout(()=>{M==="blog"?N():p(),T()},100)},I=[{title:"Keyword",dataIndex:"keyword",key:"keyword",sorter:(l,M)=>l.keyword.localeCompare(M.keyword),render:l=>e.jsx("span",{className:"font-medium capitalize",children:l})},{title:"Monthly Searches",dataIndex:"avgMonthlySearches",key:"avgMonthlySearches",sorter:(l,M)=>l.avgMonthlySearches-M.avgMonthlySearches,render:l=>new Intl.NumberFormat().format(l)},{title:"Competition",dataIndex:"competition",key:"competition",sorter:(l,M)=>l.competition_index-M.competition_index,render:l=>e.jsx(Je,{color:l==="LOW"?"green":l==="MEDIUM"?"orange":l==="HIGH"?"red":"gray",children:l})},{title:"Competition Index",dataIndex:"competition_index",key:"competition_index",sorter:(l,M)=>l.competition_index-M.competition_index,render:l=>l||"-"}],a=(t==null?void 0:t.map((l,M)=>({key:M,keyword:l.keyword,avgMonthlySearches:l.avgMonthlySearches,competition:l.competition,competition_index:l.competition_index,avgCpc:l.avgCpc,lowBid:l.lowBid,highBid:l.highBid})))||[],g=l=>k(l);return B.useEffect(()=>()=>{h(ce()),A([]),L(""),v([]),k(1)},[h]),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-4xl rounded-2xl overflow-hidden border",children:e.jsxs(Xe,{title:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Keyword Research"}),e.jsx("button",{onClick:T,className:"p-2 rounded-full hover:bg-gray-100","aria-label":"Close keyword research modal",children:e.jsx(Q,{className:"h-6 w-6 text-gray-500 hover:text-gray-700"})})]}),className:"rounded-xl shadow-lg border-0",children:[e.jsx("p",{className:"mb-4 text-gray-600",children:"Find and analyze keywords for your blog"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx(es,{placeholder:"Enter a keyword",value:r,onChange:l=>L(l.target.value),onKeyPress:u,className:"flex-1","aria-label":"Enter keyword"}),e.jsx(z.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(ve,{type:"primary",onClick:w,children:"Add"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:b.map((l,M)=>e.jsxs(z.div,{initial:{opacity:0,scale:.8},animate:{opacity:1},className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full flex items-center",children:[e.jsx("span",{children:l}),e.jsx(z.div,{whileHover:{scale:1.2},whileTap:{scale:.8},className:"ml-2 cursor-pointer",onClick:()=>R(M),children:e.jsx(Ye,{className:"text-blue-800 text-xs"})})]},M))}),e.jsx(z.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(ve,{block:!0,type:"primary",onClick:c,loading:y,disabled:b.length===0,children:"Analyze Keywords"})}),b.length>0&&t&&Array.isArray(t)&&e.jsx("div",{className:"mt-6",children:e.jsx(je,{columns:I,dataSource:a,pagination:{current:K,pageSize:4,showSizeChanger:!1,onChange:g,total:a.length},rowSelection:{selectedRowKeys:(o==null?void 0:o.focusKeywords)||[],onChange:l=>{h(Ne({focusKeywords:l,allKeywords:l}))},getCheckboxProps:l=>({name:l.keyword})},rowKey:l=>l.keyword,scroll:{x:!0}})}),e.jsxs("div",{className:"flex justify-end gap-3 mt-5 border-t border-gray-100 pt-4",children:[e.jsx(z.button,{onClick:S,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:!t||y||b.length===0,children:"Create Blog"}),e.jsx(z.button,{onClick:$,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:!t||y||b.length===0,children:"Create New Job"}),e.jsx(z.button,{onClick:T,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close"})]})]})})})},mt=()=>{const[T,N]=B.useState(!1),[p,r]=B.useState(0),[L,b]=B.useState(!1),[A,K]=B.useState(!1),[k,x]=B.useState(!1),[v,h]=B.useState(!1),[t,y]=B.useState(!1),[C,o]=B.useState(!1),[w,R]=B.useState(!1),[u,c]=B.useState({}),[j,i]=B.useState([]),[S,$]=B.useState([]),[d,I]=B.useState(!0),a=J(),g=le(),l=q(ze),{handlePopup:M}=ne();B.useEffect(()=>{const D=setTimeout(()=>{I(!1)},1200);return()=>clearTimeout(D)},[]),B.useEffect(()=>{(async()=>{if(!localStorage.getItem("token")){g("/login");return}try{const Z=await a(ke());ke.rejected.match(Z)&&(console.warn("Failed to load user, redirecting..."),g("/login"))}catch(Z){console.error("User init failed:",Z)}})()},[a,g]),B.useEffect(()=>{(async()=>{try{const Z=(await $e()).filter(X=>X.status==="complete"&&X.isArchived===!1).slice(-3);i(Z)}catch(_){console.error("Error fetching blogs:",_.message)}})()},[]);const F=()=>N(!0),f=()=>b(!0),s=()=>b(!1),n=()=>K(!0),P=()=>K(!1),m=()=>x(!0),W=()=>x(!1),U=()=>h(!0),te=()=>h(!1),ie=()=>{o(!1),N(!0),r(0)},re=()=>{o(!1),a(Oe()),g("/jobs")},Y=async D=>{var _,Z;try{const X=(((_=l==null?void 0:l.credits)==null?void 0:_.base)||0)+(((Z=l==null?void 0:l.credits)==null?void 0:Z.extra)||0),we=ae("blog.single",u.aiModel)+(u.isUnsplashActive?0:ae("aiImages"));M({title:"Confirm Blog Creation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Single Blog generation cost: ",e.jsxs("b",{children:[we," credits."]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue?"})]}),onConfirm:()=>{if(we>X){E.error("You do not have enough credits to generate this blog."),M(!1);return}else a(_e({blogData:D,navigate:g})),N(!1),r(0)}})}catch(X){console.error("Error submitting form:",X)}},H=()=>{N(!1),r(0),c({})},O=()=>r(p+1),G=()=>r(p-1);return e.jsxs(e.Fragment,{children:[e.jsx(Re,{children:e.jsx("title",{children:"Home | GenWrite"})}),e.jsxs(us,{title:`Step ${p}/3`,visible:T,onCancel:H,className:"max-h-[90vh] overflow-scroll",children:[p===0&&e.jsx(ps,{handleNext:O,handleClose:H,data:u,setData:c}),p===1&&e.jsx(bs,{handleNext:O,handleClose:H,handlePrevious:G,data:u,setData:c}),p===2&&e.jsx(ys,{handleNext:O,handlePrevious:G,handleClose:H,data:u,setData:c,handleSubmit:Y}),e.jsx("div",{className:"flex items-center justify-center mt-4",children:e.jsx("progress",{className:"w-full max-w-md",max:"3",value:p})})]}),L&&e.jsx(Ss,{closeFnc:s}),A&&e.jsx(Cs,{closeFnc:P}),k&&e.jsx(Bs,{closeFnc:W}),v&&e.jsx(Ze,{closeFnc:te}),t&&e.jsx(Ls,{closeFnc:()=>y(!1)}),C&&e.jsx(Ms,{closeFnc:()=>{o(!1),a(ce())},openSecondStepModal:ie,openJobModal:re}),w&&e.jsx(Is,{closeFnc:()=>R(!1)}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/50 p-6",children:e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"gap-6",children:e.jsxs("div",{children:[e.jsxs(z.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:["Let's Begin",e.jsx("span",{className:"ml-2 text-2xl text-yellow-400",children:"✨"})]}),e.jsxs("p",{className:"text-gray-600 text-lg mt-2",children:["Welcome back ",e.jsx("b",{children:l==null?void 0:l.name}),"! Ready to create something amazing today?"]})]})}),e.jsx("div",{className:"grid lg:grid-cols-3 gap-6",children:e.jsx(he,{children:d?Array.from({length:3}).map((D,_)=>e.jsx(ss,{},_)):js.map((D,_)=>e.jsx(vs,{icon:D.icon,title:D.title,content:D.content,id:D.id,gradient:D.hoverGradient,functions:{showModal:F,setModelData:c,showDaisy:f,showMultiStepModal:n,showQuickBlogModal:m,showCompetitiveAnalysis:U}},_))})}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center",children:e.jsx(Ie,{className:"w-5 h-5 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Quick Tools"})]}),e.jsx("div",{className:"grid gap-6 sm:grid-cols-1 md:grid-cols- lg:grid-cols-3",children:e.jsx(he,{children:d?Array.from({length:3}).map((D,_)=>e.jsx(Be,{},_)):ws.map((D,_)=>e.jsx(Ns,{imageUrl:D.imageUrl,title:D.title,content:D.content,id:D.id,color:D.color,icon:D.icon,bgColor:D.bgColor,hoverBg:D.hoverBg,functions:{...D.id===3?{showPerformanceMonitoring:()=>y(!0)}:{},...D.id===2?{showSeoAnalysis:()=>R(!0)}:{},...D.id===1?{showKeywordResearch:()=>o(!0)}:{},...D.id===4?{showCompetitiveAnalysis:U}:{}}},_))})})]}),j.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 mt-10",children:[e.jsx("div",{className:"mb-8 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-emerald-500 to-teal-500 flex items-center justify-center",children:e.jsx(ts,{className:"w-5 h-5 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recent Projects"})]})}),e.jsxs("div",{children:[e.jsx(he,{children:d?Array.from({length:3}).map((D,_)=>e.jsx(Be,{},_)):j.map((D,_)=>e.jsx(ks,{title:D.title,content:D.content,tags:D.focusKeywords,item:D,time:D.updatedAt},_))}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{className:"px-6 py-3 text-blue-600 hover:text-blue-700 font-medium hover:bg-blue-50 rounded-lg transition-colors",onClick:()=>g("/blogs"),children:"View All Projects"})})]})]})]})})]})};export{mt as default};
