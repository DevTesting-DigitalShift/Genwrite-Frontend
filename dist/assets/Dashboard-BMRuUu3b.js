import{I as Be,j as e,s as T,b as U,u as ee,a as J,P as de,G as te,m as A,T as le,Q as Ie,S as Me,U as Ne,V as xe,W as ae,D as fe,X as be,Y as Ae,Z as Ke,E as Fe,H as Pe,A as ce,J as ye,$ as De,a0 as Ee,a1 as Te}from"./index-BdWRp6Sl.js";import{b as w}from"./chunk-tiptap-Diw-eXXG.js";import{C as ue,p as ne}from"./templates-Dk579XE2.js";import{o as ke}from"./UpgardePopUp-CJIFjxa9.js";import{C as Ce}from"./crown-CgIJuwts.js";import{P as ze}from"./pen-tool-CvOnkxLM.js";import{Z as Re}from"./zap-aeIAaMTM.js";import{c as re}from"./createLucideIcon-C5jW9RxN.js";import{S as $e}from"./search-D9LAgYQh.js";import{U as _e}from"./users-DPOxn49H.js";import{h as We}from"./moment-C5S46NFB.js";import{A as Se}from"./arrow-right-BSwhHR0B.js";import{E as Oe}from"./eye-CNo1tKaf.js";import{g as se,R as Ue}from"./getEstimatedCost-BgMKny1D.js";import{I as je,U as we}from"./upload-Do5G6uA7.js";import{X}from"./x-CRSOVgfR.js";import{C as He}from"./CompetitiveAnalysisModal-B1Bd9vWx.js";import{F as ge,T as Ge}from"./index-DwPc4F_X.js";import{C as Ve}from"./index-DB0zgTWx.js";import{I as Qe}from"./index-Agr2J9La.js";import{S as qe,a as ve}from"./SkeletonLoader-DWfWCvOU.js";import{S as Ze}from"./sparkles-B-mEaFlZ.js";import{C as Je}from"./clock-BIXxGrxt.js";import"./Pagination-Dd4ySrTY.js";import"./Overflow-Bt3YLX3p.js";import"./useIcons-syMCbNuW.js";import"./index-CaJnHL1y.js";import"./EllipsisOutlined-DjqG_1Jd.js";import"./Input-C0_otyvs.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Xe=re("activity",Ye);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],me=re("gem",es);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],ts=re("grid-3x3",ss);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],as=re("tag",rs);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],ns=re("tags",ls);var os={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function he(){return he=Object.assign?Object.assign.bind():function(M){for(var b=1;b<arguments.length;b++){var N=arguments[b];for(var s in N)Object.prototype.hasOwnProperty.call(N,s)&&(M[s]=N[s])}return M},he.apply(this,arguments)}const is=(M,b)=>w.createElement(Be,he({},M,{ref:b,icon:os})),Le=w.forwardRef(is),cs=({title:M,visible:b,onCancel:N,children:s})=>b?e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e.jsx("div",{className:"modal-overlay absolute inset-0 bg-gray-800 opacity-50"}),e.jsxs("div",{className:"modal-container bgwhi w-96 rounded-lg shadow-lg z-50 overflow-y-auto",children:[e.jsxs("div",{className:"modal-header p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold ",children:M}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:N,children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"modal-content p-4",children:s})]})]}):null,ds=({handleNext:M,handleClose:b,data:N,setData:s})=>{const[j,u]=w.useState(null),[y,h]=w.useState({userDefinedLength:0,tone:"",includeInterlink:!1,includeMetaHeadlines:!1,wordpressStatus:!0,numberOfBlogs:0,postFrequency:0,randomisedFrequency:0,template:[],focusKeywords:[],keywords:[],focusKeywordInput:"",keywordInput:""}),C=[{imgSrc:"./Images/Classic.png",name:"Classic",description:"Timeless elegance for your classic blog journey",author:"Author 1"},{imgSrc:"./Images/Listicle.png",name:"Listicle",description:"Tips for actionable success in list format.",author:"Author 2"},{imgSrc:"./Images/ProductReview.png",name:"Product Review",description:"Product insights: pros, cons, and more.",author:"Author 3"},{imgSrc:"./Images/HowTo.png",name:"How to....",description:"Step-by-step guides for practical how-to solutions.",author:"Author 4"},{imgSrc:"./Images/NewsArticle.png",name:"News Article",description:"Latest updates and breaking news coverage."},{imgSrc:"./Images/OpinionPiece.png",name:"Opinion Piece",description:"Expert insights and analytical perspectives."},{imgSrc:"./Images/CaseStudy.png",name:"Case Study",description:"In-depth analysis and real-world examples."},{imgSrc:"./Images/Interview.png",name:"Interview",description:"Engaging conversations with industry experts."}],a=v=>{u(v),s({...N,template:C[v]}),h({...y,template:[C[v].name]})},m=()=>{if(j!==null){const v=C[j],B={...N,selectedTemplate:v};s(B),M()}else T.error("Please select a template before proceeding.")};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:" w-[800px] bg-white rounded-lg shadow-xl",children:[e.jsx("div",{className:"flex items-center relative justify-between p-6",children:e.jsxs("div",{className:"flex items-center gap-2 ",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Select Template"}),e.jsx("button",{onClick:b,className:"ml-4 text-4xl absolute right-10 top-5 text-gray-400 hover:text-gray-600",children:"×"})]})}),e.jsx("div",{className:"p-6",children:e.jsx(ue,{children:C.map((v,B)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${y.template.includes(v.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>a(B),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:v.imgSrc||"/placeholder.svg",alt:v.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:v.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:v.description})]})]})},B))})}),e.jsx("div",{className:"flex justify-end p-6 border-t",children:e.jsx("button",{onClick:m,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-colors duration-300",children:"Next"})})]})})},xs=w.memo(ds),ms=({handleNext:M,handleClose:b,handlePrevious:N,data:s,setData:j})=>{var f,i;const[u,y]=w.useState((s==null?void 0:s.topic)||""),{user:h}=U(d=>d.auth),C=ee(),a=((f=h==null?void 0:h.subscription)==null?void 0:f.plan)||(h==null?void 0:h.plan),[m,v]=w.useState({title:!1,topic:!1,tone:!1,imageSource:!1}),B=()=>{var t;const d={title:!((t=s==null?void 0:s.title)!=null&&t.trim()),topic:!(u!=null&&u.trim()),tone:!(s!=null&&s.tone),imageSource:!(s!=null&&s.isCheckedGeneratedImages)};if(v(d),Object.values(d).some(l=>l))return;const c={...s,topic:u};j(c),M()},I=d=>{j(c=>({...c,isCheckedGeneratedImages:!0,isUnsplashActive:d==="unsplash"}))};return w.useEffect(()=>{s&&!s.isCheckedGeneratedImages&&j(d=>({...d,isCheckedGeneratedImages:!0,isUnsplashActive:!0}))},[s]),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"w-[800px] bg-white rounded-lg shadow-xl overflow-y-auto ",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h2",{className:"text-lg font-medium",children:"Step 1: Let's get started"}),e.jsx("button",{onClick:b,className:"ml-4 text-4xl text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-sm text-gray-600",children:"Step 1 of 3"})}),e.jsx("div",{className:"h-1 w-full bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full w-1/3 bg-[#1B6FC9] rounded-full"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:`w-full px-3 py-2 bg-gray-50 border ${m.title?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., How to get",value:(s==null?void 0:s.title)||"",onChange:d=>{j(c=>({...c,title:d.target.value})),v(c=>({...c,title:!1}))}}),m.title&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Please enter a title"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Topic ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:`w-full px-3 py-2 bg-gray-50 border ${m.topic?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., Tech Blog",value:u,onChange:d=>{y(d.target.value),v(c=>({...c,topic:!1}))}}),m.topic&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Please enter a topic"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("label",{className:"block text-sm font-medium",children:["Image Source ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"unsplash",name:"imageSource",checked:s==null?void 0:s.isUnsplashActive,onChange:()=>I("unsplash"),className:"h-4 w-4 text-[#1B6FC9] focus:ring-[#1B6FC9] border-gray-300"}),e.jsx("label",{htmlFor:"unsplash",className:"text-sm text-gray-700 whitespace-nowrap",children:"Stock Images"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"ai-generated",name:"imageSource",checked:!(s!=null&&s.isUnsplashActive),onChange:()=>{a!=="free"&&I("ai")},className:"h-4 w-4 text-[#1B6FC9] focus:ring-[#1B6FC9] border-gray-300"}),e.jsxs("label",{htmlFor:"ai-generated",name:"imageSource",onClick:d=>{a==="free"&&(d.preventDefault(),ke({featureName:"AI-Generated Images",navigate:C}))},className:"text-sm cursor-pointer flex items-center gap-1 text-gray-700",children:["AI-Generated Images",a==="free"&&e.jsx(Ce,{className:"w-4 h-4 text-yellow-500"})]})]})]})]}),m.imageSource&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Please select an image source"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Choose length of Blog"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:(s==null?void 0:s.userDefinedLength)??1e3,className:`w-full h-1 rounded-lg appearance-none cursor-pointer 
          bg-gradient-to-r from-[#1B6FC9] to-gray-100
          [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]`,style:{background:`linear-gradient(to right, #1B6FC9 ${(s.userDefinedLength-500)/4500*100}%, #E5E7EB ${(s.userDefinedLength-500)/4500*100}%)`},onChange:d=>{j(c=>({...c,userDefinedLength:d.target.value}))}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[(s==null?void 0:s.userDefinedLength)??1e3," words "]}),m.length&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Please select the number of words"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:`w-full px-3 py-2 bg-gray-50 border ${m.tone?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,value:(s==null?void 0:s.tone)||"",onChange:d=>{j(c=>({...c,tone:d.target.value})),v(c=>({...c,tone:!1}))},children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"professional",children:"Professional"}),e.jsx("option",{value:"casual",children:"Casual"}),e.jsx("option",{value:"friendly",children:"Friendly"}),e.jsx("option",{value:"formal",children:"Formal"})]}),m.tone&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Please select a tone of voice"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add Brief Section (Optional)"}),e.jsx("textarea",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]",rows:3,placeholder:"Enter brief section",value:(s==null?void 0:s.brief)||"",onChange:d=>j(c=>({...c,brief:d.target.value}))}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-xs text-gray-500",children:[((i=s==null?void 0:s.brief)==null?void 0:i.length)||0,"/2000 characters"]})})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[e.jsx("button",{onClick:N,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Back"}),e.jsx("button",{onClick:B,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90",children:"Next"})]})]})]})})},hs=w.memo(ms),us=({handleNext:M,handlePrevious:b,handleClose:N,data:s,setData:j})=>{var c;const u=J(),{selectedKeywords:y}=U(t=>t.analysis),{user:h}=U(t=>t.auth),C=ee(),a=((c=h==null?void 0:h.subscription)==null?void 0:c.plan)||(h==null?void 0:h.plan),[m,v]=w.useState({focusKeywords:(y==null?void 0:y.focusKeywords)||s.focusKeywords||[],keywords:(y==null?void 0:y.allKeywords)||s.keywords||[],focusKeywordInput:"",keywordInput:"",isCheckedQuick:s.isCheckedQuick||!1,isCheckedBrand:s.isCheckedBrand||!1,aiModel:s.aiModel||"gemini"}),B=(t,l)=>{v(g=>({...g,[`${l}Input`]:t.target.value}))},I=t=>{const l=m[`${t}Input`].trim();if(!l)return;const g=m[t].map(x=>x.toLowerCase().trim()),K=new Set,S=l.split(",").map(x=>x.trim()).filter(x=>{const k=x.toLowerCase();return!x||K.has(k)||g.includes(k)?!1:(K.add(k),!0)});if(t==="focusKeywords"&&m[t].length+S.length>3){T.error("You can only add up to 3 focus keywords.");return}v(x=>({...x,[t]:[...x[t],...S],[`${t}Input`]:""}))},f=(t,l)=>{const g=[...m[l]];g.splice(t,1),v({...m,[l]:g})},i=(t,l)=>{t.key==="Enter"&&(t.preventDefault(),I(l))},d=()=>{j(t=>({...t,...m})),M()};return w.useEffect(()=>{m.isCheckedBrand&&u(de())},[m.isCheckedBrand,u]),w.useEffect(()=>{v(t=>({...t,focusKeywords:[...new Set([...t.focusKeywords,...(y==null?void 0:y.focusKeywords)||[]])].slice(0,3),keywords:[...new Set([...t.keywords,...(y==null?void 0:y.allKeywords)||[]])]}))},[y]),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"w-[800px] bg-white rounded-lg shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h2",{className:"text-lg font-medium",children:"Step 2: Let's make it Compelling"}),e.jsx("button",{onClick:N,className:"ml-4 text-4xl text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-sm text-gray-600",children:"Step 2 of 3"})}),e.jsx("div",{className:"h-1 w-full bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full w-2/3 bg-[#1B6FC9] rounded-full"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select AI Model"}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"gemini",name:"aiModel",value:"gemini",checked:m.aiModel==="gemini",onChange:t=>v(l=>({...l,aiModel:t.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300"}),e.jsx("label",{htmlFor:"gemini",className:"text-sm text-gray-700",children:"Gemini"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"chatgpt",name:"aiModel",value:"chatgpt",checked:m.aiModel==="chatgpt",onChange:t=>{a!=="free"&&v(l=>({...l,aiModel:t.target.value}))},className:"h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300"}),e.jsxs("label",{htmlFor:"chatgpt",onClick:t=>{a==="free"&&(t.preventDefault(),ke({featureName:"ChatGPT",navigate:C}))},className:"text-sm cursor-pointer flex items-center gap-1 text-gray-700",children:["ChatGPT",a==="free"&&e.jsx(Ce,{className:"w-4 h-4 text-yellow-500"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Focus Keywords"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:m.focusKeywordInput,onChange:t=>B(t,"focusKeywords"),onKeyDown:t=>i(t,"focusKeywords"),className:"flex-1 px-3 py-2 border border-gray-200 rounded-md text-sm",placeholder:"Enter focus keywords"}),e.jsx("button",{onClick:()=>I("focusKeywords"),className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:m.focusKeywords.map((t,l)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[t,e.jsx("button",{onClick:()=>f(l,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},l))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Keywords"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:m.keywordInput,onChange:t=>B(t,"keywords"),onKeyDown:t=>i(t,"keywords"),className:"flex-1 px-3 py-2 border border-gray-200 rounded-md text-sm",placeholder:"Enter keywords"}),e.jsx("button",{onClick:()=>I("keywords"),className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:m.keywords.map((t,l)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[t,e.jsx("button",{onClick:()=>f(l,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},l))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Add a Quick Summary"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.isCheckedQuick,onChange:()=>v(t=>({...t,isCheckedQuick:!t.isCheckedQuick})),className:"sr-only peer"}),e.jsx("div",{className:"w-14 h-8 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate | x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-[4px] after:left-[4px] after:bg-white after:rounded-full after:h-6 after:w-6 after:transition-all"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[e.jsx("button",{onClick:b,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Previous"}),e.jsx("button",{onClick:d,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90",children:"Next"})]})]})]})})},gs=({handleSubmit:M,handlePrevious:b,handleClose:N,data:s,setData:j})=>{const{brands:u}=U(c=>c.brand),y=J();w.useEffect(()=>{y(de())},[y]);const[h,C]=w.useState({isCheckedBrand:s.isCheckedBrand||!1,brandId:s.brandId||null,...s}),[a,m]=w.useState({images:[],currentImageIndex:0,referenceLinks:[],newLink:""}),{items:v,loading:B,error:I}=U(c=>c.brand);w.useEffect(()=>{h.isCheckedBrand&&y(de())},[h.isCheckedBrand,y]);const f=()=>{const c=a.newLink.trim();if(!c)return;const t=a.referenceLinks.map(S=>S.toLowerCase().trim()),l=S=>{try{return new URL(S),!0}catch{return!1}},g=new Set,K=c.split(",").map(S=>S.trim()).filter(S=>{const x=S.toLowerCase();return!g.has(x)&&l(S)&&!t.includes(x)&&g.add(x)});if(K.length===0){T.error("Please enter valid, non-duplicate URLs separated by commas.");return}m(S=>({...S,referenceLinks:[...S.referenceLinks,...K],newLink:""}))},i=c=>{m(t=>({...t,referenceLinks:t.referenceLinks.filter((l,g)=>g!==c)}))},d=()=>{const c={...s,brandId:h.isCheckedBrand?h.brandId:null,images:[...s.images||[],...a.images],referenceLinks:[...s.referenceLinks||[],...a.referenceLinks]};M(c)};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"w-[800px] bg-white rounded-xl shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Step 3: Final Details"}),e.jsx("button",{onClick:N,className:"text-2xl text-gray-400 hover:text-gray-600 transition-colors",children:"×"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-sm text-gray-600",children:"Step 3 of 3"})}),e.jsx("div",{className:"h-1 w-full bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full w-full bg-[#1B6FC9] rounded-full"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Write with Brand Voice"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:h.isCheckedBrand,onChange:()=>C(c=>({...c,isCheckedBrand:!c.isCheckedBrand})),className:"sr-only peer"}),e.jsx("div",{className:"w-14 h-8 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-[4px] after:left-[4px] after:bg-white after:rounded-full after:h-6 after:w-6 after:transition-all"})]})]}),h.isCheckedBrand&&e.jsx("div",{className:"mt-4 p-6 rounded-lg border border-indigo-100 bg-indigo-50/50 shadow-sm",children:B?e.jsx("div",{className:"text-gray-500 text-sm animate-pulse",children:"Loading brand voices..."}):I?e.jsx("div",{className:"text-red-500 text-sm font-medium",children:I}):(u==null?void 0:u.length)>0?e.jsx("div",{className:"max-h-64 overflow-y-auto pr-1",children:e.jsx("div",{className:"grid gap-4",children:u.map(c=>e.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-lg cursor-pointer transition-all duration-200 ${h.brandId===c._id?"bg-indigo-100 border-indigo-300 shadow-md":"bg-white border border-gray-200 hover:bg-indigo-50"}`,children:[e.jsx("input",{type:"radio",name:"selectedBrandVoice",value:c._id,checked:h.brandId===c._id,onChange:()=>C(t=>({...t,brandId:c._id})),className:"mt-1 form-radio text-indigo-600 focus:ring-indigo-500 h-5 w-5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-indigo-800 text-base",children:c.nameOfVoice}),e.jsx("p",{className:"text-gray-600 text-sm mt-1 leading-relaxed",children:c.describeBrand})]})]},c._id))})}):e.jsx("div",{className:"text-gray-500 text-sm italic",children:"No brand voices available. Create one to get started."})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Add FAQ"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:!!s.isFAQEnabled,onChange:()=>j(c=>({...c,isFAQEnabled:!c.isFAQEnabled})),className:"sr-only peer"}),e.jsx("div",{className:"w-14 h-8 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-[4px] after:left-[4px] after:bg-white after:rounded-full after:h-6 after:w-6 after:transition-all"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("span",{className:"text-sm font-medium",children:"Add Competitive Research"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:!!s.isCompetitiveResearchEnabled,onChange:()=>j(c=>({...c,isCompetitiveResearchEnabled:!c.isCompetitiveResearchEnabled})),className:"sr-only peer"}),e.jsx("div",{className:"w-14 h-8 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-[4px] after:left-[4px] after:bg-white after:rounded-full after:h-6 after:w-6 after:transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add Reference Links (Helps to make blog more compelling)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]",placeholder:"https://thedigitalshift.co/blog-standard/",onKeyDown:c=>{c.key==="Enter"&&(c.preventDefault(),f())},value:a.newLink,onChange:c=>m(t=>({...t,newLink:c.target.value}))}),e.jsx("button",{onClick:f,className:"px-3 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90",children:"Add"})]}),e.jsx("div",{className:"mt-2 space-y-2",children:a.referenceLinks.map((c,t)=>e.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-50 rounded-lg",children:[e.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate",children:c}),e.jsx("button",{onClick:()=>i(t),className:"ml-4 text-4xl text-gray-400 hover:text-gray-600",children:"×"})]},t))})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[e.jsx("button",{onClick:b,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Previous"}),e.jsx("button",{onClick:d,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90",children:"Submit"})]})]})]})})},ps=[{id:1,imageUrl:"./Images/createnew.png",title:"Create New Blog",icon:e.jsx(ze,{className:"w-6 h-6"}),content:"Generate blogs, email, product, description, etc.",hoverGradient:"from-blue-600 to-blue-700"},{id:"A",imageUrl:"./Images/quickblog.png",title:"Generate Quick Blog",icon:e.jsx(Re,{className:"w-6 h-6"}),content:"With few inputs you are good to go to create Awesome blogs!",hoverGradient:"from-purple-600 to-purple-700"},{id:"B",imageUrl:"./Images/createmultipleblog.png",title:"Create Multiple Blogs",icon:e.jsx(ts,{className:"w-6 h-6"}),content:"Ellipse draft overflow arrange pen",hoverGradient:"from-emerald-600 to-emerald-700"}],fs=[{id:1,imageUrl:"./Images/keyword.png",title:"Keyword Research",content:"Fill bold reesizing vector create group inspect effect.",icon:e.jsx($e,{className:"w-8 h-8"}),color:"text-blue-600",bgColor:"bg-blue-50",hoverBg:"hover:bg-blue-100"},{id:3,imageUrl:"./Images/performancemonitoring.png",title:"Performance Monitoring",content:"Generate blogs, emails , product description etc.",icon:e.jsx(Xe,{className:"w-8 h-8"}),color:"text-orange-600",bgColor:"bg-orange-50",hoverBg:"hover:bg-orange-100"},{id:4,imageUrl:"./Images/competitor.png",title:"Competitor Analysis",content:"Analyze your competitors' content and strategies",icon:e.jsx(_e,{className:"w-8 h-8"}),color:"text-purple-600",bgColor:"bg-purple-50",hoverBg:"hover:bg-purple-100"}],bs=({title:M,content:b,id:N,functions:s,icon:j,gradient:u})=>{var v,B;const y=U(I=>I.auth.user),h=(y==null?void 0:y.plan)??((v=y==null?void 0:y.subscription)==null?void 0:v.plan),{handlePopup:C}=te(),a=()=>{C({title:"Upgrade Required",description:"Bulk blog generation is only available for Pro and Enterprise users.",confirmText:"Buy Now",cancelText:"Cancel",icon:e.jsx(me,{style:{fontSize:50,color:"#a47dab"}}),onConfirm:()=>navigate("/upgrade")})},m=()=>{var I,f,i,d,c;if(N==="A")(I=s.showQuickBlogModal)==null||I.call(s);else if(N===1)(f=s.showModal)==null||f.call(s);else if(N==="B"){if(["free","basic"].includes(h==null?void 0:h.toLowerCase())){a();return}(i=s.showMultiStepModal)==null||i.call(s)}else N===4?(d=s.showCompetitiveAnalysis)==null||d.call(s):N===3&&((c=s.showPerformanceMonitoring)==null||c.call(s))};return e.jsxs("div",{onClick:m,className:"group relative bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-xl hover:scale-[1.02] transition-all duration-300 cursor-pointer overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-5 transition-opacity duration-300 from-blue-500 to-purple-500"}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-r ${u} text-white mb-6 transition-transform duration-300`,children:j}),["free","basic"].includes((B=h==null?void 0:h.toLowerCase)==null?void 0:B.call(h))&&N==="B"&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(me,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:M}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:b}),e.jsxs("div",{className:"flex items-center text-blue-600 font-medium text-sm group-hover:gap-2 transition-all",children:["Get Started",e.jsx(Se,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})},ys=({icon:M,title:b,content:N,id:s,functions:j,bgColor:u,hoverBg:y,color:h})=>{var I,f;const C=U(i=>i.auth.user),a=(C==null?void 0:C.plan)??((I=C==null?void 0:C.subscription)==null?void 0:I.plan),{handlePopup:m}=te(),v=()=>{m({title:"Upgrade Required",description:"Competitor Analysis is only available for Pro and Enterprise users.",confirmText:"Buy Now",cancelText:"Cancel",onConfirm:()=>navigate("/upgrade")})},B=()=>{if(s===4&&(j!=null&&j.showCompetitiveAnalysis)){if(["free","basic"].includes(a==null?void 0:a.toLowerCase())){v();return}j.showCompetitiveAnalysis()}else s===3&&(j!=null&&j.showPerformanceMonitoring)?j.showPerformanceMonitoring():s===2&&(j!=null&&j.showSeoAnalysis)?j.showSeoAnalysis():s===1&&(j!=null&&j.showKeywordResearch)&&j.showKeywordResearch()};return e.jsxs("div",{onClick:B,className:`group p-6 rounded-xl ${u} ${y} border border-transparent hover:border-gray-200 hover:shadow-md transition-all duration-300 cursor-pointer`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(A.div,{whileHover:{scale:1.15,rotate:8},transition:{type:"spring",stiffness:300},className:`inline-flex items-center justify-center w-12 h-12 rounded-xl bg-white ${h} mb-4 group-hover:scale-110 transition-transform duration-300 shadow-sm`,children:M}),["free","basic"].includes((f=a==null?void 0:a.toLowerCase)==null?void 0:f.call(a))&&s===4&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(me,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors text-[18px]",children:b}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:N})]})},js=({title:M,content:b,tags:N,item:s,time:j})=>{var a,m,v,B,I;const u=ee(),y=(I=(B=(v=(m=(a=b==null?void 0:b.replace(/^#+\s*/gm,""))==null?void 0:a.replace(/#[^\s#]+/g,""))==null?void 0:m.replace(/[*_~`>\\=|-]+/g,""))==null?void 0:v.replace(/\n+/g," "))==null?void 0:B.replace(/\s+/g," "))==null?void 0:I.trim(),h=y&&y.length>40?`${y.substring(0,80)}...`:y||"",C=()=>{s&&s._id&&u(`/toolbox/${s._id}`,{state:{blog:s}})};return e.jsx("div",{onClick:C,className:"group p-6 rounded-xl border border-gray-200 hover:border-blue-200 hover:shadow-md transition-all duration-300 cursor-pointer mb-4",children:e.jsxs("div",{className:"flex lg:items-start lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h3",{className:"font-bold capitalize text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-1",children:M}),e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full capitalize",children:(s==null?void 0:s.aiModel)||"Gemini"}),e.jsx("span",{className:`px-2 py-1 capitalize text-xs font-medium rounded-full ${(s==null?void 0:s.status)==="complete"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:(s==null?void 0:s.status)||""})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:h}),e.jsx("div",{className:"flex flex-wrap gap-2",children:N==null?void 0:N.map((f,i)=>e.jsx("span",{className:"px-3 py-1 capitalize bg-gray-100 text-gray-700 text-xs rounded-full hover:bg-gray-200 transition-colors",children:f},i))})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Oe,{className:"w-4 h-4"}),e.jsx("span",{children:"View"})]}),e.jsx("span",{children:We(j).fromNow()}),e.jsx(Se,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})})},ws=({closeFnc:M})=>{const b=J(),N=ee(),{handlePopup:s}=te(),j=U(r=>r.auth.user),[u,y]=w.useState(0),[h,C]=w.useState(null),[a,m]=w.useState({templates:[],topics:[],keywords:[],topicInput:"",keywordInput:"",performKeywordResearch:!0,tone:"",numberOfCounts:5,userDefinedLength:1e3,imageSource:"unsplash",useBrandVoice:!0,useCompetitors:!1,includeInterlinks:!0,includeMetaHeadlines:!0,includeFaqs:!0,numberOfBlogs:1,wordpressPostStatus:!1,postFrequency:10*60,selectedDates:null,aiModel:"gemini",includeTableOfContents:!1}),v=()=>{if(u===0&&a.templates.length===0){T.error("Please add at least one topic.");return}if(u===1){if(a.topics.length===0&&a.topicInput.trim()===""){T.error("Please add at least one topic.");return}if(!a.tone){T.error("Please select a Tone of Voice.");return}}y(r=>r+1)},B=()=>{y(r=>r>0?r-1:r)},I=()=>{M()},f=()=>{if(a.topics.length===0&&a.topicInput.trim()===""){T.error("Please add at least one topic.");return}if(!a.tone){T.error("Please select a Tone of Voice.");return}if(a.numberOfBlogs<1){T.error("Number of blogs must be at least 1.");return}if(a.numberOfBlogs>10){T.error("Number of blogs must be at most 10.");return}s({title:"Bulk Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Estimated Cost for bulk blogs :"," ",e.jsxs("b",{children:[a.numberOfBlogs*(se("blog.single")+(a.imageSource==="unsplash"?0:se("aiImages")))," ","credits"]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue ? "})]}),onConfirm:()=>{b(Ie({blogData:a,navigate:N}))}})},i=r=>{const p=ne[r].name;a.templates.includes(p)?m(n=>({...n,templates:n.templates.filter(F=>F!==p)})):a.templates.length<3?m(n=>({...n,templates:[...n.templates,p]})):T.error("You can select a maximum of 3 templates.")},d=r=>{const{name:p,value:L,type:n}=r.target,F=n==="number"?parseInt(L,10)||0:L;m({...a,[p]:F})},c=async r=>{const{name:p,checked:L}=r.target;if(p==="wordpressPostStatus"&&L)try{if(!(j!=null&&j.wordpressLink)){T.error("Please connect your WordPress account in your profile before enabling automatic posting."),N("/profile");return}}catch{T.error("Failed to check profile. Please try again.");return}m({...a,[p]:L})},t=r=>{m(p=>({...p,topicInput:r.target.value}))},l=r=>{m(p=>({...p,keywordInput:r.target.value}))},g=()=>{const r=a.topicInput;if(r.trim()!==""){const p=a.topics.map(n=>n.toLowerCase().trim()),L=r.split(",").map(n=>n.trim()).filter(n=>n!==""&&!p.includes(n.toLowerCase()));return L.length>0?(m(n=>({...n,topics:[...n.topics,...L],topicInput:""})),!0):(m(n=>({...n,topicInput:""})),!1)}return!1},K=r=>{m(p=>({...p,topics:p.topics.filter((L,n)=>n!==r)}))},S=()=>{const r=a.keywordInput;if(r.trim()!==""){const p=a.keywords.map(n=>n.toLowerCase().trim()),L=r.split(",").map(n=>n.trim()).filter(n=>n!==""&&!p.includes(n.toLowerCase()));return L.length>0?(m(n=>({...n,keywords:[...n.keywords,...L],keywordInput:""})),!0):(m(n=>({...n,keywordInput:""})),!1)}return!1},x=r=>{m(p=>({...p,keywords:p.keywords.filter((L,n)=>n!==r)}))},k=r=>{r.key==="Enter"&&(r.preventDefault(),g(),S())},E=r=>{m(p=>({...p,imageSource:r}))},R=r=>{var F;const p=(F=r.target.files)==null?void 0:F[0];if(!p)return;if(!p.name.toLowerCase().endsWith(".csv")){T.error("Invalid file type. Please upload a .csv file."),r.target.value=null;return}const L=20*1024;if(p.size>L){T.error("File size exceeds 20KB limit. Please upload a smaller file."),r.target.value=null;return}const n=new FileReader;n.onload=z=>{var O;const $=(O=z.target)==null?void 0:O.result;if(!$)return;const H=$.trim().split(/\r?\n/).slice(1).map(W=>{const G=W.split(",");return G.length>=2?G[1].trim():null}).filter(Boolean),q=a.topics.map(W=>W.toLowerCase().trim()),V=H.filter(W=>{const G=W.toLowerCase().trim();return!q.includes(G)});if(V.length===0){T.warning("No new topics found in the CSV.");return}m(W=>({...W,topics:[...W.topics,...V]})),V.length>8&&(C(V.length),setTimeout(()=>C(null),5e3))},n.readAsText(p),r.target.value=null},D=r=>{var n;const p=(n=r.target.files)==null?void 0:n[0];if(!p)return;const L=new FileReader;L.onload=F=>{var V;const z=(V=F.target)==null?void 0:V.result;if(!z)return;const Q=z.trim().split(/\r?\n/).slice(1).map(O=>{const W=O.split(",");return W.length>=2?W[1].trim():null}).filter(Boolean),H=a.keywords.map(O=>O.toLowerCase().trim()),q=Q.filter(O=>{const W=O.toLowerCase().trim();return!H.includes(W)});if(q.length===0){T.warning("No new topics found in the CSV.");return}m(O=>({...O,keywords:[...O.keywords,...q]})),q.length>8&&(C(q.length),setTimeout(()=>C(null),5e3))},L.readAsText(p),r.target.value=null},o=["Select Template's","Add Details","Configure Output"];return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"w-[800px] bg-white rounded-lg shadow-xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center relative justify-between p-6 border-b",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("h2",{className:"text-lg font-semibold",children:["Step ",u+1," | ",o[u]]})}),e.jsx("button",{onClick:I,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"px-6 pb-2 overflow-y-auto",children:[e.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full my-6",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(u+1)/o.length*100}%`}})}),u===0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select up to 3 templates for the types of blogs you want to generate."}),e.jsx(ue,{children:ne.map((r,p)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${a.templates.includes(r.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>i(p),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:r.imgSrc||"/placeholder.svg",alt:r.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:r.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:r.description})]})]})},r.name))})]}),u===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Topics ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(le,{title:"Upload a .csv file in the format: `S.No., Keyword`",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(je,{size:16,className:"text-blue-500"})})})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the main topics for your blogs."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:a.topicInput,onChange:t,onKeyDown:k,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700",children:"Add"}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(we,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:R,hidden:!0})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[a.topics.slice().reverse().slice(0,18).map((r,p)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[r,e.jsx("button",{type:"button",onClick:()=>K(a.topics.length-1-p),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(X,{className:"w-3 h-3"})})]},`${r}-${p}`)),(a.topics.length>18||h)&&e.jsxs("span",{className:"text-xs font-medium text-blue-600 self-center",children:[a.topics.length>18&&`+${a.topics.length-18} more `,h&&`(+${h} uploaded)`]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Perform Keyword Research?",e.jsx("p",{className:"text-xs text-gray-500",children:"Allow AI to find relevant keywords for the topics."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"performKeywordResearch",checked:a.performKeywordResearch,onChange:c,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),!a.performKeywordResearch&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Keywords",e.jsx(le,{title:"Upload a .csv file in the format: `S.No., Keyword`",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(je,{size:16,className:"text-blue-500"})})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:a.keywordInput,onChange:l,onKeyDown:k,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:S,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700",children:"Add"}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(we,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:D,hidden:!0})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[a.keywords.slice().reverse().slice(0,18).map((r,p)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[r,e.jsx("button",{type:"button",onClick:()=>x(a.keywords.length-1-p),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(X,{className:"w-3 h-3"})})]},`${r}-${p}`)),(a.keywords.length>18||h)&&e.jsxs("span",{className:"text-xs font-medium text-blue-600 self-center",children:[a.keywords.length>18&&`+${a.keywords.length-18} more `,h&&`(+${h} uploaded)`]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"tone",className:"block text-sm font-medium text-gray-700 mb-1",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"tone",name:"tone",value:a.tone,onChange:d,required:!0,className:`w-full px-3 py-2 border rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 ${a.tone?"border-gray-300":"border-red-300 text-gray-500"}`,children:[e.jsx("option",{disabled:!0,value:"",children:"-- Select a Tone --"}),e.jsx("option",{value:"professional",children:"Professional"}),e.jsx("option",{value:"friendly",children:"Friendly"}),e.jsx("option",{value:"casual",children:"Casual"}),e.jsx("option",{value:"formal",children:"Formal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approx. Blog Length (Words)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:a.userDefinedLength,className:`w-full h-1 rounded-lg appearance-none cursor-pointer 
      bg-gradient-to-r from-[#1B6FC9] to-gray-100
      [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]`,style:{background:`linear-gradient(to right, #1B6FC9 ${(a.userDefinedLength-500)/4500*100}%, #E5E7EB ${(a.userDefinedLength-500)/4500*100}%)`},onChange:r=>{m(p=>({...p,userDefinedLength:r.target.value}))}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[a.userDefinedLength," words"]})]})]})]})]}),u===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select AI Model"}),e.jsxs("select",{value:a.aiModel,onChange:r=>m(p=>({...p,aiModel:r.target.value})),className:"w-full px-3 py-2 border border-gray-200 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"gemini",children:"Gemini"}),e.jsx("option",{value:"chatgpt",children:"Chatgpt"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Source"}),e.jsxs("fieldset",{className:"mt-2",children:[e.jsx("legend",{className:"sr-only",children:"Image source selection"}),e.jsxs("div",{className:"flex items-center gap-x-6",children:[e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("input",{id:"image-source-ai",name:"image-source",type:"radio",value:"ai",checked:a.imageSource==="ai",onChange:()=>E("ai"),className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"image-source-ai",className:"block text-sm font-medium leading-6 text-gray-900",children:"AI Generated Images"})]}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("input",{id:"image-source-unsplash",name:"image-source",type:"radio",value:"unsplash",checked:a.imageSource==="unsplash",onChange:()=>E("unsplash"),className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"image-source-unsplash",className:"block text-sm font-medium leading-6 text-gray-900",children:"Stock Images"})]})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Interlinks",e.jsx("p",{className:"text-xs text-gray-500",children:"Attempt to link between generated blogs if relevant."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeInterlinks",checked:a.includeInterlinks,onChange:c,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include FAQ Section",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate relevant FAQ questions and answers for the blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeFaqs",checked:a.includeFaqs,onChange:c,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Competitive Research",e.jsx("p",{className:"text-xs text-gray-500",children:"Perform competitive research to analyze similar blogs."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"useCompetitors",checked:a.useCompetitors,onChange:c,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Blogs"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"How many blogs to generate based on the topics provided."}),e.jsx("input",{type:"number",name:"numberOfBlogs",min:"1",max:"10",value:a.numberOfBlogs,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 5"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Automatic Posting",e.jsx("p",{className:"text-xs text-gray-500",children:"Automatically post blogs on the selected dates."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"wordpressPostStatus",checked:a.wordpressPostStatus,onChange:c,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.wordpressPostStatus&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Table of Contents",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate a table of contents for each blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeTableOfContents",checked:a.includeTableOfContents,onChange:c,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-100 mt-auto",children:[u>0&&e.jsx("button",{onClick:B,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Previous"}),e.jsx("button",{onClick:u===2?f:v,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:u===2?"Generate Blogs":"Next"})]})]})})},vs=({closeFnc:M})=>{const[b,N]=w.useState(1),s=()=>N(b+1),j=()=>N(b-1);return e.jsxs("div",{className:"border-8 border-teal-700",children:[e.jsx("input",{type:"checkbox",id:"my-modal",className:"modal-toggle"}),e.jsx("div",{className:"modal",children:e.jsxs("div",{className:"modal-box",children:[b===1&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 1"}),e.jsx("p",{className:"py-4",children:"Content for step 1 goes here."}),e.jsx("div",{className:"modal-action",children:e.jsx("button",{className:"btn border-8 border-teal-700",onClick:s,children:"Next"})})]}),b===2&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 2"}),e.jsx("p",{className:"py-4",children:"Content for step 2 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:j,children:"Previous"}),e.jsx("button",{className:"btn",onClick:s,children:"Next"})]})]}),b===3&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 3"}),e.jsx("p",{className:"py-4",children:"Content for step 3 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:M,children:"Previous"}),e.jsx("label",{htmlFor:"my-modal",className:"btn",children:"Finish"})]})]})]})})]})},Ns=({closeFnc:M})=>{const[b,N]=w.useState(0),[s,j]=w.useState(null),[u,y]=w.useState([]),[h,C]=w.useState({template:null,keywords:[],focusKeywords:[],videoLinks:[],keywordInput:"",focusKeywordInput:""}),a=J(),m=ee(),{handlePopup:v}=te(),B=()=>{N(b+1)},I=()=>{N(b-1)},f=()=>{M()},i=()=>{if(!(h.focusKeywords.length&&h.keywords.length&&u.length))T.error("Please fill all the fields");else{const x={...h,videoLinks:u};v({title:"Quick Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Quick blog generation is ",e.jsxs("b",{children:[se("blog.quick")," credits."]})]}),e.jsx("br",{}),e.jsx("span",{children:"Are you sure ?"})]}),onConfirm:()=>{a(Me({blogData:x,navigate:m})),f()}})}},d=x=>{j(x),C({...h,template:ne[x].name})},c=(x,k)=>{C(k==="keywords"?E=>({...E,[`${k}Input`]:x.target.value,keywordInput:x.target.value}):E=>({...E,[`${k}Input`]:x.target.value,focusKeywordInput:x.target.value}))},t=x=>{const k=h[`${x}Input`];if(k.trim()!==""){const E=new Set(h[x].map(D=>D.trim().toLowerCase())),R=k.split(",").map(D=>D.trim()).filter(D=>D!==""&&!E.has(D.toLowerCase()));if(x==="focusKeywords"&&h[x].length+R.length>3){T.error("You can only add up to 3 focus keywords.");return}R.length>0?C(D=>({...D,[x]:[...D[x],...R],[`${x}Input`]:""})):C(D=>({...D,[`${x}Input`]:""}))}},l=(x,k)=>{const E=[...h[k]];E.splice(x,1),C({...h,[k]:E})},g=(x,k)=>{x.key==="Enter"&&(x.preventDefault(),t(k))},K=()=>{var D;const x=(D=h.videoLinkInput)==null?void 0:D.trim();if(!x){T.error("Please enter at least one link.");return}const k=x.split(",").map(o=>o.trim()).filter(o=>o!==""),E=[];for(let o of k){let r=o;/^https?:\/\//i.test(r)||(r=`https://${r}`);try{const p=new URL(r);!u.includes(r)&&!E.includes(r)&&E.push(r)}catch{}}if(E.length===0){T.error("No valid, unique URLs found.");return}if(u.length+E.length>3){T.error("You can only add up to 3 links in total.");return}y([...u,...E]),C(o=>({...o,videoLinkInput:""}))},S=x=>{x.key==="Enter"&&(x.preventDefault(),K())};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx("div",{className:"w-[800px] bg-white rounded-lg shadow-xl",children:e.jsxs("div",{className:"p-6",children:[b===0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-montserrat font-semibold",children:"Create Quick Blog"}),e.jsx("button",{onClick:f,className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-3",children:e.jsx(ue,{children:ne.map((x,k)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${h.template===x.name?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>d(k),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:x.imgSrc||"/placeholder.svg",alt:x.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:x.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:x.description})]})]})},k))})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:B,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:bg-blue-700",children:"Next"})})]}),b===1&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-montserrat font-semibold",children:"Create Quick Blog"}),e.jsx("button",{onClick:f,className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Focus Keywords"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:h.focusKeywordInput,onChange:x=>c(x,"focusKeywords"),onKeyDown:x=>g(x,"focusKeywords"),className:"flex-1 px-3 py-2 border border-gray-200 rounded-md text-sm",placeholder:"Enter focus keywords"}),e.jsx("button",{onClick:()=>t("focusKeywords"),className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:h.focusKeywords.map((x,k)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[x,e.jsx("button",{onClick:()=>l(k,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},k))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Keywords"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:h.keywordInput,onChange:x=>c(x,"keywords"),onKeyDown:x=>g(x,"keywords"),className:"flex-1 px-3 py-2 border border-gray-200 rounded-md text-sm",placeholder:"Enter keywords"}),e.jsx("button",{onClick:()=>t("keywords"),className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:h.keywords.map((x,k)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[x,e.jsx("button",{onClick:()=>l(k,"keywords"),className:"ml-1 text-gray-400 hover:text-gray-600",children:"×"})]},k))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-hind font-normal mb-2",children:"Add Links (max 3)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:h.videoLinkInput||"",onChange:x=>C(k=>({...k,videoLinkInput:x.target.value})),onKeyDown:S,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Enter link"}),e.jsx("button",{onClick:K,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:u.map((x,k)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[x,e.jsx("button",{onClick:()=>{const E=[...u];E.splice(k,1),y(E)},className:"ml-1 text-gray-400 hover:text-gray-600",children:"×"})]},k))})]})]}),e.jsxs("div",{className:"flex justify-end mt-6 space-x-4",children:[e.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none",onClick:I,children:"Previous"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:bg-blue-700",onClick:i,children:"Submit"})]})]})]})})})},ks=({closeFnc:M})=>{var I;const[b,N]=w.useState({selectedBlog:null,title:"",content:""}),[s,j]=w.useState(null),u=J(),{blogs:y}=U(f=>f.blog);w.useEffect(()=>{u(Ne())},[u]);const h=async f=>{N({selectedBlog:f,title:f.title,content:f.content}),j(null);try{u(xe(f._id)).unwrap().then(({stats:i})=>j(i))}catch{T.error("Failed to load blog performance stats.")}},C={flesch:"📘 Flesch Reading Ease (0–100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"📗 SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"📙 ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"📈 Blog Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},a=({type:f="seo"})=>e.jsx(le,{title:C[f],trigger:["hover","click"],placement:"top",children:e.jsx(Le,{className:"ml-2 text-gray-500 hover:text-blue-500 cursor-pointer"})}),m=({icon:f,label:i,value:d,color:c,delay:t=0,suffix:l="",description:g=""})=>e.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:t*.1,duration:.3},className:`p-5 bg-white rounded-xl border ${c} shadow-sm hover:shadow-md transition-shadow`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[f&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-500",children:f}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:i}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:[d,l]}),g&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g})]})]})}),v=({score:f,max:i,label:d,level:c,color:t})=>e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600 flex items-center gap-2",children:[d,e.jsx(a,{type:/seo/gi.test(d)?"seo":"flesch"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:c})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full ${t} transition-all duration-500`,style:{width:`${f/i*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-2",children:e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[f," / ",i]})})]})]}),B=({stats:f})=>{var k,E,R,D,o,r,p,L;if(!f)return null;const{readabililty:i={},seo:d={},engagement:c={},metadata:t={}}=f,l=(d==null?void 0:d.keywordDensity)||{},g=Object.keys(l).filter(n=>n.split(" ").length<=2).length,K=Object.keys(l).filter(n=>n.split(" ").length>2).length,S=Object.entries(l).map(([n,{count:F,density:z}],$)=>({key:n,keyword:n,count:F,density:z,animationDelay:$*.1})),x=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(n,F)=>n.density-F.density,render:n=>`${n.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 mt-6",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-8 capitalize",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(t==null?void 0:t.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(t==null?void 0:t.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(t==null?void 0:t.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(t==null?void 0:t.aiModel)||"-"})]})]}),(t==null?void 0:t.generatedAt)&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border normal-case border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(t.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[!!(d!=null&&d.score)&&e.jsx(v,{score:(d==null?void 0:d.score)||0,max:100,label:"Blog Score",level:`${(d==null?void 0:d.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(m,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(d==null?void 0:d.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(m,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(d==null?void 0:d.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(m,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(d==null?void 0:d.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(k=d==null?void 0:d.focusKeywords)==null?void 0:k.map((n,F)=>e.jsx(A.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:F*.1},className:"px-3 py-1 bg-blue-50 rounded-full text-sm text-blue-700 border border-blue-100 hover:bg-blue-100 transition-colors",children:n},n))})]}),(d==null?void 0:d.keywords.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Other Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(E=d==null?void 0:d.keywords)==null?void 0:E.map((n,F)=>e.jsx(A.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:F*.1},className:"px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-700 border border-gray-200 hover:bg-gray-200 transition-colors",children:n},n))})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Keyword Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx(m,{icon:e.jsx(as,{className:"w-5 h-5"}),label:"Short-Tail Keywords",value:g,color:"border-blue-100",delay:0}),e.jsx(m,{icon:e.jsx(ns,{className:"w-5 h-5"}),label:"Long-Tail Keywords",value:K,color:"border-blue-100",delay:.1})]}),e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Keyword Densities"}),e.jsx(A.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:e.jsx(ge,{dataSource:S,columns:x,pagination:!1,components:{body:{row:({children:n,...F})=>{var $;const z=(($=S[F["data-row-key"]])==null?void 0:$.animationDelay)||0;return e.jsx(A.tr,{...F,initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:z},children:n})}}},className:"rounded-md overflow-hidden capitalize"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(v,{score:((R=i==null?void 0:i.fleschEase)==null?void 0:R.score)||0,max:100,label:"Flesch Ease",level:((D=i==null?void 0:i.fleschEase)==null?void 0:D.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:["SMOG Index",e.jsx(a,{type:"smog"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:((o=i==null?void 0:i.smogIndex)==null?void 0:o.level)||"-"})]}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:[((r=i==null?void 0:i.smogIndex)==null?void 0:r.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:["ARI ",e.jsx(a,{type:"ari"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:((p=i==null?void 0:i.ari)==null?void 0:p.level)||"-"})]}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:[((L=i==null?void 0:i.ari)==null?void 0:L.score)||0," grade"]})]}),e.jsx(m,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(i==null?void 0:i.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(m,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(i==null?void 0:i.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(i==null?void 0:i.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(i==null?void 0:i.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(i==null?void 0:i.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(i==null?void 0:i.syllableCount)||0})]})]})]})]})};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50 h-[100vh]",children:e.jsxs(A.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-3xl bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gray-50",children:[e.jsxs(A.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Performance Dashboard"})]}),e.jsx("button",{onClick:M,className:"p-2 rounded-full hover:bg-gray-200 transition-all",children:e.jsx(X,{className:"h-6 w-6 text-gray-600 hover:text-gray-800"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[85vh]",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Blog"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 appearance-none shadow-sm",onChange:f=>{const i=y.find(d=>d._id===f.target.value);i&&h(i)},value:((I=b.selectedBlog)==null?void 0:I._id)||"",children:[e.jsx("option",{value:"",className:"bg-gray-50",children:"Select a blog"}),y==null?void 0:y.filter(f=>f.status==="complete"&&f.isArchived===!1).map(f=>e.jsx("option",{value:f._id,className:"bg-gray-50",children:f.title},f._id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),b.selectedBlog&&e.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Preview"})}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2 truncate",children:b.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3",children:(b.content||"").replace(/[#>*=_`~-]+/g,"").replace(/\n+/g," ").replace(/\s+/g," ").trim()})]})]}),e.jsx(B,{stats:s})]})})]})})},Cs=({closeFnc:M})=>{var c;const[b,N]=w.useState({selectedBlog:null,title:"",content:""}),[s,j]=w.useState(!1),[u,y]=w.useState(null),h=J(),{blogs:C,error:a}=U(t=>t.blog);w.useEffect(()=>{h(Ne())},[h]),w.useEffect(()=>{a&&T.error(a)},[a]);const m=t=>{N({selectedBlog:t,title:t.title,content:t.content}),y(null)},v=async()=>{if(!b.selectedBlog){T.error("Please select a blog");return}j(!0);try{const t=await h(xe(b.selectedBlog._id));if(xe.fulfilled.match(t)){const{stats:l}=t.payload;y(l),T.success("Performance analysis completed!")}else T.error("Something went wrong during stats fetching.")}catch{T.error("Unexpected error occurred.")}finally{j(!1)}},B={flesch:"📘 Flesch Reading Ease (0–100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"📗 SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"📙 ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"📈 SEO Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},I=({type:t="seo"})=>e.jsx(le,{title:B[t],trigger:["hover","click"],placement:"top",children:e.jsx(Le,{className:"ml-2 text-black size-8 hover:text-blue-500 cursor-pointer"})}),f=({icon:t,label:l,value:g,color:K,delay:S=0,suffix:x="",description:k=""})=>e.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:S*.1,duration:.3},className:`p-4 bg-white rounded-xl border ${K} shadow-sm`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[t&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-500",children:t}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:l}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-1",children:[g,x]}),k&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:k})]})]})}),i=({score:t,max:l,label:g,level:K,color:S})=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[g,e.jsx(I,{type:/seo/gi.test(g)?"seo":"flesch"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:K})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${S}`,style:{width:`${t/l*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[t," / ",l]})})]})]}),d=({stats:t})=>{var R,D,o,r,p,L,n,F;if(!t)return null;const{readabililty:l={},seo:g={},engagement:K={},metadata:S={}}=t,x=(g==null?void 0:g.keywordDensity)||{},k=Object.entries(x).map(([z,{count:$,density:Q}],H)=>({key:z,keyword:z,count:$,density:Q,animationDelay:H*.1})),E=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(z,$)=>z.density-$.density,render:z=>`${z.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-5 mt-4",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(S==null?void 0:S.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(S==null?void 0:S.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(S==null?void 0:S.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(S==null?void 0:S.aiModel)||"-"})]})]}),(S==null?void 0:S.generatedAt)&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(S.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-green-100 rounded text-green-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 11.5V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1.4"}),e.jsx("path",{d:"M14 10V8a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2"}),e.jsx("path",{d:"M10 9.9V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v5"}),e.jsx("path",{d:"M6 14v0a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0"}),e.jsx("path",{d:"M18 11v0a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-4a8 8 0 0 1-8-8 2 2 0 1 1 4 0"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Engagement"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(f,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),label:"GenWrite Views",value:(K==null?void 0:K.views)||0,color:"border-green-100",delay:0}),e.jsx(f,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),label:"WordPress Views",value:(K==null?void 0:K.wordpressViews)||0,color:"border-green-100",delay:1})]}),e.jsx("div",{className:"mt-4 bg-gray-50 p-4 rounded-xl border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Public Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${K!=null&&K.isPublic?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:K!=null&&K.isPublic?"✅ Public":"❌ Private"})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(i,{score:(g==null?void 0:g.score)||0,max:100,label:"SEO Score",level:`${(g==null?void 0:g.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(f,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(g==null?void 0:g.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(f,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(g==null?void 0:g.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(f,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(g==null?void 0:g.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(R=g==null?void 0:g.focusKeywords)==null?void 0:R.map((z,$)=>e.jsx(A.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:$*.1},className:"px-3 py-1 bg-blue-50 rounded-full text-sm text-blue-700 border border-blue-100",children:z},z))})]}),(g==null?void 0:g.keywords.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Other Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(D=g==null?void 0:g.keywords)==null?void 0:D.map((z,$)=>e.jsx(A.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:$*.1},className:"px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-700 border border-gray-200",children:z},z))})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Keyword Densities"}),e.jsx(A.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:e.jsx(ge,{dataSource:k,columns:E,pagination:!1,components:{body:{row:({children:z,...$})=>{var H;const Q=((H=k[$["data-row-key"]])==null?void 0:H.animationDelay)||0;return e.jsx(A.tr,{...$,initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:Q},children:z})}}},className:"rounded-md overflow-hidden"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(i,{score:((o=l==null?void 0:l.fleschEase)==null?void 0:o.score)||0,max:100,label:"Flesch Ease",level:((r=l==null?void 0:l.fleschEase)==null?void 0:r.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["SMOG Index",e.jsx(I,{type:"smog"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((p=l==null?void 0:l.smogIndex)==null?void 0:p.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((L=l==null?void 0:l.smogIndex)==null?void 0:L.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["ARI ",e.jsx(I,{type:"ari"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((n=l==null?void 0:l.ari)==null?void 0:n.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((F=l==null?void 0:l.ari)==null?void 0:F.score)||0," grade"]})]}),e.jsx(f,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(l==null?void 0:l.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(f,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(l==null?void 0:l.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(l==null?void 0:l.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(l==null?void 0:l.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(l==null?void 0:l.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(l==null?void 0:l.syllableCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paragraphs"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(l==null?void 0:l.paragraphCount)||0})]})]})]})]})};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs(A.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-4xl bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[e.jsxs(A.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Seo Analysis Dashboard"})]}),e.jsx("button",{onClick:M,className:"p-2 rounded-full hover:bg-gray-100 transition-all",children:e.jsx(X,{className:"h-6 w-6 text-gray-500 hover:text-gray-700"})})]}),e.jsx("div",{className:"p-5 overflow-y-auto max-h-[80vh]",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Blog"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 appearance-none",onChange:t=>{const l=C.find(g=>g._id===t.target.value);l&&m(l)},value:((c=b.selectedBlog)==null?void 0:c._id)||"",children:[e.jsx("option",{value:"",className:"bg-gray-50",children:"Select a blog"}),C.map(t=>e.jsx("option",{value:t._id,className:"bg-gray-50 capitalize",children:t.title},t._id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),b.selectedBlog&&e.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"font-medium text-gray-700",children:"Preview"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 truncate capitalize",children:b.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3",children:b.content})]})]}),e.jsx(A.div,{className:"flex justify-end pt-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(A.button,{onClick:v,className:`px-5 py-2.5 rounded-lg font-medium flex items-center gap-2 ${s?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"} transition-all duration-300 shadow`,disabled:s||!b.selectedBlog,whileHover:{scale:!s&&b.selectedBlog?1.03:1},whileTap:{scale:.97},children:s?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),"Analyze Performance"]})})}),s&&!u&&e.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-4",children:[...Array(6)].map((t,l)=>e.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:l*.1},className:"h-32 bg-gray-100 rounded-xl animate-pulse"},l))}),e.jsx(d,{stats:u})]})}),e.jsx("div",{className:"flex justify-end gap-3 p-5 border-t border-gray-100",children:e.jsx(A.button,{onClick:M,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-300",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close Dashboard"})})]})})},Ss=({closeFnc:M,openSecondStepModal:b,openJobModal:N})=>{const[s,j]=w.useState(""),[u,y]=w.useState([]),[h,C]=w.useState(1),[a,m]=w.useState([]),v=J(),{keywordAnalysis:B,loading:I,error:f,selectedKeywords:i}=U(o=>o.analysis);w.useEffect(()=>{console.log("KeywordResearchModel: Current selectedKeywords in Redux:",i)},[i]),w.useEffect(()=>{u.length===0&&(v(ae()),m([]),C(1))},[u,v]);const d=()=>{const o=s.trim();if(!o)return;const r=u.map(n=>n.toLowerCase()),p=new Set,L=o.split(",").map(n=>n.trim()).filter(n=>n&&!r.includes(n.toLowerCase())&&!p.has(n.toLowerCase())&&p.add(n.toLowerCase()));L.length>0&&(y([...u,...L]),j(""))},c=o=>{const r=u.filter((p,L)=>L!==o);y(r),r.length===0&&(v(ae()),m([]),C(1))},t=o=>{o.key==="Enter"&&(o.preventDefault(),d())},l=()=>{u.length>0&&(v(Ae(u)),C(1))},g=()=>{const o={LOW:[],MEDIUM:[],HIGH:[]};B==null||B.forEach(n=>{o[n.competition]&&o[n.competition].push({keyword:n.keyword,competition_index:n.competition_index})});const r=o.LOW.sort((n,F)=>n.competition_index-F.competition_index).slice(0,2),p=o.MEDIUM.sort((n,F)=>n.competition_index-F.competition_index).slice(0,2),L=o.HIGH.sort((n,F)=>n.competition_index-F.competition_index).slice(0,2);return[...r.map(n=>n.keyword),...p.map(n=>n.keyword),...L.map(n=>n.keyword)]},K=o=>{const r=g();m(r);const p=Ke.info({icon:null,title:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Auto-Selected Keywords"}),e.jsx("button",{onClick:()=>p.destroy(),className:"text-gray-500 hover:text-red-500","aria-label":"Close modal",children:e.jsx(X,{className:"h-5 w-5"})})]}),content:e.jsxs("div",{children:[e.jsx("p",{children:"We selected these keywords automatically based on competition index:"}),e.jsx("ul",{className:"list-disc ml-5 mt-2",children:r.map(L=>e.jsx("li",{className:"capitalize",children:L},L))}),e.jsx("p",{className:"mt-3",children:"Do you want to proceed with these?"})]}),okText:"Accept",cancelText:"Decline",closable:!0,onOk(){const L=[...(i==null?void 0:i.focusKeywords)||[],...r.filter(n=>{var F;return!((F=i==null?void 0:i.focusKeywords)!=null&&F.includes(n))})].slice(0,6);k(L,o)},onCancel(){const L=(i==null?void 0:i.focusKeywords)||[];k(L,o)},okButtonProps:{className:"bg-blue-600 text-white"}})},S=()=>{K("blog")},x=()=>{K("job")},k=async(o,r)=>{console.log("KeywordResearchModel: Dispatching finalSelectedKeywords:",o),await v(be({focusKeywords:o,allKeywords:o})),setTimeout(()=>{r==="blog"?b():N(),M()},100)},E=[{title:"Keyword",dataIndex:"keyword",key:"keyword",sorter:(o,r)=>o.keyword.localeCompare(r.keyword),render:o=>e.jsx("span",{className:"font-medium capitalize",children:o})},{title:"Monthly Searches",dataIndex:"avgMonthlySearches",key:"avgMonthlySearches",sorter:(o,r)=>o.avgMonthlySearches-r.avgMonthlySearches,render:o=>new Intl.NumberFormat().format(o)},{title:"Competition",dataIndex:"competition",key:"competition",sorter:(o,r)=>o.competition_index-r.competition_index,render:o=>e.jsx(Ge,{color:o==="LOW"?"green":o==="MEDIUM"?"orange":o==="HIGH"?"red":"gray",children:o})},{title:"Competition Index",dataIndex:"competition_index",key:"competition_index",sorter:(o,r)=>o.competition_index-r.competition_index,render:o=>o||"-"}],R=(B==null?void 0:B.map((o,r)=>({key:r,keyword:o.keyword,avgMonthlySearches:o.avgMonthlySearches,competition:o.competition,competition_index:o.competition_index,avgCpc:o.avgCpc,lowBid:o.lowBid,highBid:o.highBid})))||[],D=o=>C(o);return w.useEffect(()=>()=>{console.log("KeywordResearchModel: Unmounting, clearing keywordAnalysis only"),v(ae()),y([]),j(""),m([]),C(1)},[v]),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(A.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-4xl rounded-2xl overflow-hidden border",children:e.jsxs(Ve,{title:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Keyword Research"}),e.jsx("button",{onClick:M,className:"p-2 rounded-full hover:bg-gray-100","aria-label":"Close keyword research modal",children:e.jsx(X,{className:"h-6 w-6 text-gray-500 hover:text-gray-700"})})]}),className:"rounded-xl shadow-lg border-0",children:[e.jsx("p",{className:"mb-4 text-gray-600",children:"Find and analyze keywords for your blog"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx(Qe,{placeholder:"Enter a keyword",value:s,onChange:o=>j(o.target.value),onKeyPress:t,className:"flex-1","aria-label":"Enter keyword"}),e.jsx(A.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(fe,{type:"primary",onClick:d,children:"Add"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:u.map((o,r)=>e.jsxs(A.div,{initial:{opacity:0,scale:.8},animate:{opacity:1},className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full flex items-center",children:[e.jsx("span",{children:o}),e.jsx(A.div,{whileHover:{scale:1.2},whileTap:{scale:.8},className:"ml-2 cursor-pointer",onClick:()=>c(r),children:e.jsx(Ue,{className:"text-blue-800 text-xs"})})]},r))}),e.jsx(A.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(fe,{block:!0,type:"primary",onClick:l,loading:I,disabled:u.length===0,children:"Analyze Keywords"})}),u.length>0&&B&&Array.isArray(B)&&e.jsx("div",{className:"mt-6",children:e.jsx(ge,{columns:E,dataSource:R,pagination:{current:h,pageSize:4,showSizeChanger:!1,onChange:D,total:R.length},rowSelection:{selectedRowKeys:(i==null?void 0:i.focusKeywords)||[],onChange:o=>{v(be({focusKeywords:o,allKeywords:o})),console.log("Table selected keywords:",o)},getCheckboxProps:o=>({name:o.keyword})},rowKey:o=>o.keyword,scroll:{x:!0}})}),e.jsxs("div",{className:"flex justify-end gap-3 mt-5 border-t border-gray-100 pt-4",children:[e.jsx(A.button,{onClick:S,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:!B||I||u.length===0,children:"Create Blog"}),e.jsx(A.button,{onClick:x,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:!B||I||u.length===0,children:"Create New Job"}),e.jsx(A.button,{onClick:M,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close"})]})]})})})},tt=()=>{const[M,b]=w.useState(!1),[N,s]=w.useState(0),[j,u]=w.useState(!1),[y,h]=w.useState(!1),[C,a]=w.useState(!1),[m,v]=w.useState(!1),[B,I]=w.useState(!1),[f,i]=w.useState(!1),[d,c]=w.useState(!1),[t,l]=w.useState({}),[g,K]=w.useState([]),[S,x]=w.useState([]),[k,E]=w.useState(!0),R=J(),D=ee(),o=U(Fe),{handlePopup:r}=te();w.useEffect(()=>{const P=setTimeout(()=>{E(!1)},1200);return()=>clearTimeout(P)},[]),w.useEffect(()=>{(async()=>{if(!localStorage.getItem("token")){D("/login");return}try{const Z=await R(ye());ye.rejected.match(Z)&&(console.warn("Failed to load user, redirecting..."),D("/login"))}catch(Z){console.error("User init failed:",Z)}})()},[R,D]),w.useEffect(()=>{(async()=>{try{const Z=(await De()).filter(Y=>Y.status==="complete"&&Y.isArchived===!1).slice(-3);K(Z)}catch(_){console.error("Error fetching blogs:",_.message)}})()},[]);const p=()=>b(!0),L=()=>u(!0),n=()=>u(!1),F=()=>h(!0),z=()=>h(!1),$=()=>a(!0),Q=()=>a(!1),H=()=>v(!0),q=()=>v(!1),V=()=>{i(!1),b(!0),s(0)},O=()=>{i(!1),R(Te()),D("/jobs")},W=async P=>{var _,Z;try{const Y=(((_=o==null?void 0:o.credits)==null?void 0:_.base)||0)+(((Z=o==null?void 0:o.credits)==null?void 0:Z.extra)||0),pe=se("blog.single",t.aiModel)+(t.isUnsplashActive?0:se("aiImages"));r({title:"Confirm Blog Creation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Single Blog generation cost: ",e.jsxs("b",{children:[pe," credits."]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue?"})]}),onConfirm:()=>{if(pe>Y){T.error("You do not have enough credits to generate this blog."),r(!1);return}else R(Ee({blogData:P,navigate:D})),b(!1),s(0)}})}catch(Y){console.error("Error submitting form:",Y)}},G=()=>{b(!1),s(0),l({})},oe=()=>s(N+1),ie=()=>s(N-1);return e.jsxs(e.Fragment,{children:[e.jsx(Pe,{children:e.jsx("title",{children:"Home | GenWrite"})}),e.jsxs(cs,{title:`Step ${N}/3`,visible:M,onCancel:G,className:"max-h-[90vh] overflow-scroll",children:[N===0&&e.jsx(xs,{handleNext:oe,handleClose:G,data:t,setData:l}),N===1&&e.jsx(hs,{handleNext:oe,handleClose:G,handlePrevious:ie,data:t,setData:l}),N===2&&e.jsx(us,{handleNext:oe,handlePrevious:ie,handleClose:G,data:t,setData:l}),N===3&&e.jsx(gs,{handlePrevious:ie,handleSubmit:W,handleClose:G,data:t,setData:l}),e.jsx("div",{className:"flex items-center justify-center mt-4",children:e.jsx("progress",{className:"w-full max-w-md",max:"3",value:N})})]}),j&&e.jsx(vs,{closeFnc:n}),y&&e.jsx(ws,{closeFnc:z}),C&&e.jsx(Ns,{closeFnc:Q}),m&&e.jsx(He,{closeFnc:q}),B&&e.jsx(ks,{closeFnc:()=>I(!1)}),f&&e.jsx(Ss,{closeFnc:()=>{i(!1),R(ae())},openSecondStepModal:V,openJobModal:O}),d&&e.jsx(Cs,{closeFnc:()=>c(!1)}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/50 p-6",children:e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"gap-6",children:e.jsxs("div",{children:[e.jsxs(A.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:["Let's Begin",e.jsx("span",{className:"ml-2 text-2xl text-yellow-400",children:"✨"})]}),e.jsxs("p",{className:"text-gray-600 text-lg mt-2",children:["Welcome back ",e.jsx("b",{children:o==null?void 0:o.name}),"! Ready to create something amazing today?"]})]})}),e.jsx("div",{className:"grid lg:grid-cols-3 gap-6",children:e.jsx(ce,{children:k?Array.from({length:3}).map((P,_)=>e.jsx(qe,{},_)):ps.map((P,_)=>e.jsx(bs,{icon:P.icon,title:P.title,content:P.content,id:P.id,gradient:P.hoverGradient,functions:{showModal:p,setModelData:l,showDaisy:L,showMultiStepModal:F,showQuickBlogModal:$,showCompetitiveAnalysis:H}},_))})}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center",children:e.jsx(Ze,{className:"w-5 h-5 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Quick Tools"})]}),e.jsx("div",{className:"grid gap-6 sm:grid-cols-1 md:grid-cols- lg:grid-cols-3",children:e.jsx(ce,{children:k?Array.from({length:3}).map((P,_)=>e.jsx(ve,{},_)):fs.map((P,_)=>e.jsx(ys,{imageUrl:P.imageUrl,title:P.title,content:P.content,id:P.id,color:P.color,icon:P.icon,bgColor:P.bgColor,hoverBg:P.hoverBg,functions:{...P.id===3?{showPerformanceMonitoring:()=>I(!0)}:{},...P.id===2?{showSeoAnalysis:()=>c(!0)}:{},...P.id===1?{showKeywordResearch:()=>i(!0)}:{},...P.id===4?{showCompetitiveAnalysis:H}:{}}},_))})})]}),g.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 mt-10",children:[e.jsx("div",{className:"mb-8 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-emerald-500 to-teal-500 flex items-center justify-center",children:e.jsx(Je,{className:"w-5 h-5 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recent Projects"})]})}),e.jsxs("div",{children:[e.jsx(ce,{children:k?Array.from({length:3}).map((P,_)=>e.jsx(ve,{},_)):g.map((P,_)=>e.jsx(js,{title:P.title,content:P.content,tags:P.focusKeywords,item:P,time:P.updatedAt},_))}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{className:"px-6 py-3 text-blue-600 hover:text-blue-700 font-medium hover:bg-blue-50 rounded-lg transition-colors",onClick:()=>D("/blogs"),children:"View All Projects"})})]})]})]})})]})};export{tt as default};
