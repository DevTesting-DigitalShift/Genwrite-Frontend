var p=(i,n,a)=>new Promise((m,t)=>{var l=s=>{try{o(a.next(s))}catch(c){t(c)}},r=s=>{try{o(a.throw(s))}catch(c){t(c)}},o=s=>s.done?m(s.value):Promise.resolve(s.value).then(l,r);o((a=a.apply(i,n)).next())});import{u as x,b as f,aW as g,a as v,r as h,dn as y,Q as u,j as e,dp as j,x as N,B as b,dq as w}from"./index-DuVGJ3NY.js";import{c as k}from"./createLucideIcon-BNZq4Tlu.js";import{S}from"./index-B1nprn5x.js";import"./gapSize-U1swVQyS.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M22 15V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"fuxbkv"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M16 19h6",key:"xwg31i"}]],M=k("mail-minus",E),{Title:P,Paragraph:T,Text:U}=N,W=()=>{const i=x(),n=f(),[a]=g(),{loading:m,successMessage:t,error:l}=v(d=>d.wordpress),r=a.get("email");h.useEffect(()=>()=>{i(y())},[i]),h.useEffect(()=>{t&&(u.success(t),setTimeout(()=>n("/"),2e3)),l&&u.error(l)},[t,l,n]);const o=d=>d&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d),s=()=>p(null,null,function*(){if(!r){u.error("Email not provided in the URL. Please check the link and try again.");return}if(!o(r)){u.error("Invalid email format. Please provide a valid email address.");return}try{yield i(w(r)).unwrap()}catch(d){}}),c=()=>{n("/dashboard")};return e.jsx(j,{theme:{token:{fontFamily:"Inter, sans-serif"},components:{Button:{primaryColor:"#fff"}}},children:e.jsx("main",{className:"bg-gradient-to-br from-blue-50 via-purple-50 to-white flex items-center justify-center min-h-screen p-4 font-sans",children:e.jsxs("div",{className:"max-w-xl w-full text-center p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx(M,{className:"h-16 w-16 text-purple-500 mx-auto",strokeWidth:1.5})}),e.jsx(P,{level:2,className:"!text-4xl !font-bold !text-slate-900 !mb-3",children:"Weâ€™re sad to see you go ðŸ˜”"}),e.jsx(T,{className:"!text-slate-600 !mb-10 !text-lg",children:"Youâ€™re about to unsubscribe from our emails. Are you sure?"}),e.jsxs(S,{direction:"vertical",className:"w-full sm:w-auto sm:!flex-row",size:"middle",children:[e.jsx(b,{type:"primary",size:"large",shape:"round",className:"!bg-gradient-to-r !from-purple-600 !to-blue-600 hover:!from-purple-700 hover:!to-blue-700 !h-12 !px-8 !text-base !font-semibold !shadow-lg !border-none transform hover:scale-105 transition-transform",onClick:c,disabled:m,children:"Stay Subscribed"}),e.jsx(b,{size:"large",shape:"round",className:"!bg-transparent !h-12 !px-8 !text-base !font-semibold !text-purple-800 !border-purple-300 hover:!bg-purple-100 hover:!border-purple-400",onClick:s,disabled:m||!r||!o(r),children:"Unsubscribe"})]}),e.jsx("div",{className:"mt-16",children:e.jsx(U,{className:"!text-sm !text-slate-500",children:"You can resubscribe anytime from your account settings."})})]})})})};export{W as default};
