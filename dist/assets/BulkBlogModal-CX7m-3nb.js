var Be=Object.defineProperty,Pe=Object.defineProperties;var Oe=Object.getOwnPropertyDescriptors;var ne=Object.getOwnPropertySymbols;var Ve=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable;var oe=(j,x,g)=>x in j?Be(j,x,{enumerable:!0,configurable:!0,writable:!0,value:g}):j[x]=g,a=(j,x)=>{for(var g in x||(x={}))Ve.call(x,g)&&oe(j,g,x[g]);if(ne)for(var g of ne(x))Fe.call(x,g)&&oe(j,g,x[g]);return j},l=(j,x)=>Pe(j,Oe(x));var ie=(j,x,g)=>new Promise(($,A)=>{var K=k=>{try{y(g.next(k))}catch(V){A(V)}},p=k=>{try{y(g.throw(k))}catch(V){A(V)}},y=k=>k.done?$(k.value):Promise.resolve(k.value).then(K,p);y((g=g.apply(j,x)).next())});import{j as e}from"./tiptap-Cw5itmsP.js";import{j as Te,r as v}from"./vendor-D8zynvq1.js";import{u as Ae,j as Le,b5 as $e,a as de,x as Ke,X as Ee,b9 as Me,aJ as De}from"./index-6Wzook5W.js";import{c as Re}from"./pricingConfig-DUMy0XHk.js";import{T as Ge}from"./TemplateSelection-BA3PfyFo.js";import{B as Ue}from"./BrandVoiceSelector-C7ap-O8r.js";import{I as z}from"./blogData-CJbviKBa.js";import{d as ze}from"./forms.schemas-CD2FqGeC.js";import{b as L,M as qe,c as q,s as We}from"./antd-CNZYc_MN.js";import{I as ce}from"./info-kRmRIQLP.js";import{U as me}from"./upload-D9enDbXO.js";import{X as ue}from"./x-BV2ZTW0R.js";import"./utils-Djmlt6HM.js";import"./search-BgpHSq5n.js";import"./crown-qT7ltu9N.js";import"./Brand.query-OwI8p7Ey.js";import"./useQuery-le9Y4dQq.js";import"./useInfiniteQuery-DnSVOttl.js";const ut=({closeFnc:j})=>{var te,se,re,ae,le;const x=Ae(),g=Te(),{handlePopup:$}=Le(),{showLoading:A,hideLoading:K}=$e(),p=de(t=>t.auth.user),{data:y}=de(t=>t.wordpress),k=((te=p==null?void 0:p.subscription)==null?void 0:te.plan)||(p==null?void 0:p.plan),[V,pe]=v.useState(!1),[W,ge]=v.useState(!1),I=((se=p==null?void 0:p.usage)==null?void 0:se.aiImages)>=((re=p==null?void 0:p.usageLimits)==null?void 0:re.aiImages);v.useRef(null);const[C,E]=v.useState(0),[M,Y]=v.useState(null),[D,J]=v.useState(null),{Option:h}=L,_={templates:[],templateIds:[],topics:[],keywords:[],topicInput:"",keywordInput:"",performKeywordResearch:!0,tone:"",languageToWrite:"English",userDefinedLength:1e3,imageSource:z.STOCK,isCheckedBrand:!1,useCompetitors:!1,includeInterlinks:!0,includeFaqs:!0,numberOfBlogs:1,numberOfImages:0,wordpressPostStatus:!1,postFrequency:600,aiModel:"gemini",includeTableOfContents:!1,isCheckedGeneratedImages:!0,addOutBoundLinks:!1,blogImages:[],postingType:null,brandId:null,addCTA:!1,isDragging:!1,costCutter:!0,easyToUnderstand:!1,embedYouTubeVideos:!1},R={templates:"",topics:"",topicsCSV:"",keywords:"",keywordsCSV:"",tone:"",integration:"",aiModel:"",numberOfBlogs:"",numberOfImages:"",blogImages:"",brandId:""},[c,o]=v.useState(R),[s,u]=v.useState(_);v.useEffect(()=>{x(Ke())},[x]),v.useEffect(()=>{I&&s.isCheckedGeneratedImages&&(u(t=>l(a({},t),{isCheckedGeneratedImages:!1,imageSource:z.STOCK})),o(t=>l(a({},t),{numberOfImages:!1,blogImages:!1})))},[I]);const Q=v.useMemo(()=>{const t=[];s.isCheckedBrand&&t.push("brandVoice"),s.useCompetitors&&t.push("competitorResearch"),s.performKeywordResearch&&t.push("keywordResearch"),s.includeInterlinks&&t.push("internalLinking"),s.includeFaqs&&t.push("faqGeneration"),s.wordpressPostStatus&&t.push("automaticPosting"),s.addOutBoundLinks&&t.push("outboundLinks");const r=Re({wordCount:s.userDefinedLength,features:t,aiModel:s.aiModel||"gemini",includeImages:s.isCheckedGeneratedImages,imageSource:s.imageSource,numberOfImages:s.imageSource==="customImage"?s.blogImages.length:s.numberOfImages});let i=s.numberOfBlogs*r;return s.costCutter&&(i=Math.round(i*.75)),i},[s.isCheckedBrand,s.useCompetitors,s.performKeywordResearch,s.includeInterlinks,s.includeFaqs,s.wordpressPostStatus,s.addOutBoundLinks,s.userDefinedLength,s.aiModel,s.isCheckedGeneratedImages,s.imageSource,s.numberOfImages,s.blogImages.length,s.numberOfBlogs,s.costCutter]),he=()=>{if(C===0){if(s.templates.length===0){o(t=>l(a({},t),{templates:"Please select at least one template."}));return}o(t=>l(a({},t),{templates:""}))}if(C===1){const t={topics:s.topics.length===0&&s.topicInput.trim()===""?"Please add at least one topic.":"",keywords:!s.performKeywordResearch&&s.keywords.length===0&&s.keywordInput.trim()===""?"Please add at least one keyword.":"",tone:s.tone?"":"Please select a tone of voice."};if(o(r=>a(a({},r),t)),Object.values(t).some(r=>r))return}E(t=>t+1)},fe=()=>{E(t=>t>0?t-1:t),o(t=>a(a({},t),R))},G=()=>{u(_),o(R),j()},xe=()=>ie(null,null,function*(){var N,b;const t={templates:s.templates.length===0?"Please select at least one template.":"",topics:s.topics.length===0&&s.topicInput.trim()===""?"Please add at least one topic.":"",keywords:!s.performKeywordResearch&&s.keywords.length===0&&s.keywordInput.trim()===""?"Please add at least one keyword.":"",tone:s.tone?"":"Please select a tone of voice.",integration:s.wordpressPostStatus&&Object.keys((y==null?void 0:y.integrations)||{}).length>0&&!s.postingType?"Please select a publishing platform.":"",aiModel:s.aiModel?"":"Please select an AI model.",numberOfBlogs:s.numberOfBlogs<1||s.numberOfBlogs>10?"Number of blogs must be between 1 and 10.":"",numberOfImages:s.numberOfImages===""||s.numberOfImages<0||s.numberOfImages>20?"Number of images must be between 0 and 20.":"",blogImages:s.isCheckedGeneratedImages&&s.imageSource==="customImage"&&s.blogImages.length===0?"Please upload at least one custom image.":"",brandId:s.isCheckedBrand&&!s.brandId?"Please select a brand voice.":""};if(o(w=>a(a({},w),t)),Object.values(t).some(w=>w)){const w=t.templates?0:t.topics||t.keywords||t.tone?1:2;E(w);return}s.aiModel;const r=Q,i=(((N=p==null?void 0:p.credits)==null?void 0:N.base)||0)+(((b=p==null?void 0:p.credits)==null?void 0:b.extra)||0);if(i<r){$({title:"Insufficient Credits",description:e.jsxs("div",{children:[e.jsxs("p",{children:["You don't have enough credits to generate ",s.numberOfBlogs," blog",s.numberOfBlogs>1?"s":"","."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Required:"})," ",r," credits"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Available:"})," ",i," credits"]})]}),okText:"Buy Credits",onConfirm:()=>{g("/pricing"),G()}});return}const n=l(a({},s),{imageSource:s.isCheckedGeneratedImages?s.imageSource:z.NONE}),f=ze(n),m=A(`Creating ${s.numberOfBlogs} blog${s.numberOfBlogs>1?"s":""}...`);try{yield x(Me({blogData:f,user:p,navigate:g,queryClient:De})).unwrap(),G()}catch(w){We.error((w==null?void 0:w.message)||"Failed to create blogs. Please try again.")}finally{K(m)}}),be=v.useCallback(t=>{u(r=>l(a({},r),{templates:t.map(i=>i.name),templateIds:t.map(i=>i.id)})),o(r=>l(a({},r),{templates:""}))},[]),X=t=>{const{name:r,value:i,type:n}=t.target;let f;if(n==="tel")if(i==="")f="";else{const m=parseInt(i,10);isNaN(m)?f="":(f=m,f<0&&(f=0),r==="numberOfBlogs"&&f>10&&(f=10),r==="numberOfImages"&&f>20&&(f=20))}else f=i;u(m=>l(a({},m),{[r]:f})),o(m=>l(a({},m),{[r]:""}))},B=t=>{const{name:r,checked:i}=t.target;if(r==="wordpressPostStatus"&&i&&!(Object.keys((y==null?void 0:y.integrations)||{}).length>0)){o(f=>l(a({},f),{integration:"Please connect your account in plugins."}));return}u(n=>l(a({},n),{[r]:i,postingType:r==="wordpressPostStatus"&&!i?null:n.postingType})),r==="performKeywordResearch"&&o(n=>l(a({},n),{keywords:"",keywordsCSV:""})),r==="wordpressPostStatus"&&o(n=>l(a({},n),{integration:""}))},ye=t=>{u(r=>l(a({},r),{topicInput:t.target.value})),o(r=>l(a({},r),{topics:"",topicsCSV:""}))},we=t=>{u(r=>l(a({},r),{keywordInput:t.target.value})),o(r=>l(a({},r),{keywords:"",keywordsCSV:""}))},H=()=>{const t=s.topicInput.trim();if(t==="")return o(n=>l(a({},n),{topics:"Please enter a topic."})),!1;const r=s.topics.map(n=>n.toLowerCase().trim()),i=t.split(",").map(n=>n.trim()).filter(n=>n!==""&&!r.includes(n.toLowerCase()));return i.length===0?(o(n=>l(a({},n),{topics:"Please enter valid, non-duplicate topics separated by commas."})),u(n=>l(a({},n),{topicInput:""})),!1):(u(n=>l(a({},n),{topics:[...n.topics,...i],topicInput:""})),o(n=>l(a({},n),{topics:"",topicsCSV:""})),!0)},je=t=>{u(r=>l(a({},r),{topics:r.topics.filter((i,n)=>n!==t)})),o(r=>l(a({},r),{topics:"",topicsCSV:""}))},Z=()=>{const t=s.keywordInput.trim();if(t==="")return o(n=>l(a({},n),{keywords:"Please enter a keyword."})),!1;const r=s.keywords.map(n=>n.toLowerCase().trim()),i=t.split(",").map(n=>n.trim()).filter(n=>n!==""&&!r.includes(n.toLowerCase()));return i.length===0?(o(n=>l(a({},n),{keywords:"Please enter valid, non-duplicate keywords separated by commas."})),u(n=>l(a({},n),{keywordInput:""})),!1):(u(n=>l(a({},n),{keywords:[...n.keywords,...i],keywordInput:""})),o(n=>l(a({},n),{keywords:"",keywordsCSV:""})),!0)},ke=t=>{u(r=>l(a({},r),{keywords:r.keywords.filter((i,n)=>n!==t)})),o(r=>l(a({},r),{keywords:"",keywordsCSV:""}))},ee=t=>{if(t.key==="Enter"){t.preventDefault();const r=H();!s.performKeywordResearch&&r&&Z()}},Ce=t=>{u(r=>l(a({},r),{imageSource:t})),o(r=>l(a({},r),{blogImages:"",numberOfImages:""}))},ve=t=>{u(r=>l(a({},r),{postingType:t})),o(r=>l(a({},r),{integration:""}))},Ne=t=>{var f;const r=(f=t.target.files)==null?void 0:f[0];if(!r){o(m=>l(a({},m),{topicsCSV:"No file selected. Please choose a valid CSV file."})),t.target.value=null;return}if(!r.name.toLowerCase().endsWith(".csv")){o(m=>l(a({},m),{topicsCSV:"Invalid file type. Please upload a .csv file."})),t.target.value=null;return}const i=20*1024;if(r.size>i){o(m=>l(a({},m),{topicsCSV:"File size exceeds 20KB limit. Please upload a smaller file."})),t.target.value=null;return}const n=new FileReader;n.onload=m=>{var T;const N=(T=m.target)==null?void 0:T.result;if(!N||typeof N!="string"){o(d=>l(a({},d),{topicsCSV:"Failed to read the CSV file. Please ensure it is valid."}));return}let b=N.trim().split(/\r?\n/);if(b.length===0){o(d=>l(a({},d),{topicsCSV:"The CSV file is empty. Please provide a valid CSV with topics."}));return}(b[0].toLowerCase().includes("topics")||b[0].toLowerCase().includes("keyword"))&&(b=b.slice(1));const w=b.map(d=>d.split(",").map(O=>O.trim()).find(O=>O)||null).filter(d=>d&&d.trim().length>0);if(w.length===0){o(d=>l(a({},d),{topicsCSV:"No valid topics found in the CSV file."}));return}const U=s.topics.map(d=>d.toLowerCase().trim()),F=new Set,P=w.filter(d=>{const S=d.toLowerCase().trim();return!d||F.has(S)||U.includes(S)?!1:(F.add(S),!0)});if(P.length===0){o(d=>l(a({},d),{topicsCSV:"No new topics found in the CSV. All provided items are either duplicates or already exist."}));return}u(d=>l(a({},d),{topics:[...d.topics,...P]})),o(d=>l(a({},d),{topics:"",topicsCSV:""})),Y(P.length),setTimeout(()=>Y(null),5e3)},n.onerror=()=>{o(m=>l(a({},m),{topicsCSV:"An error occurred while reading the CSV file."}))},n.readAsText(r),t.target.value=null},Ie=t=>{var f;const r=(f=t.target.files)==null?void 0:f[0];if(!r){o(m=>l(a({},m),{keywordsCSV:"No file selected. Please choose a valid CSV file."})),t.target.value=null;return}if(!r.name.toLowerCase().endsWith(".csv")){o(m=>l(a({},m),{keywordsCSV:"Invalid file type. Please upload a .csv file."})),t.target.value=null;return}const i=20*1024;if(r.size>i){o(m=>l(a({},m),{keywordsCSV:"File size exceeds 20KB limit. Please upload a smaller file."})),t.target.value=null;return}const n=new FileReader;n.onload=m=>{var T;const N=(T=m.target)==null?void 0:T.result;if(!N||typeof N!="string"){o(d=>l(a({},d),{keywordsCSV:"Failed to read the CSV file. Please ensure it is valid."}));return}let b=N.trim().split(/\r?\n/);if(b.length===0){o(d=>l(a({},d),{keywordsCSV:"The CSV file is empty. Please provide a valid CSV with keywords."}));return}(b[0].toLowerCase().includes("keywords")||b[0].toLowerCase().includes("keyword"))&&(b=b.slice(1));const w=b.map(d=>d.split(",").map(O=>O.trim()).find(O=>O)||null).filter(d=>d&&d.trim().length>0);if(w.length===0){o(d=>l(a({},d),{keywordsCSV:"No valid keywords found in the CSV file."}));return}const U=s.keywords.map(d=>d.toLowerCase().trim()),F=new Set,P=w.filter(d=>{const S=d.toLowerCase().trim();return!d||F.has(S)||U.includes(S)?!1:(F.add(S),!0)});if(P.length===0){o(d=>l(a({},d),{keywordsCSV:"No new keywords found in the CSV. All provided items are either duplicates or already exist."}));return}u(d=>l(a({},d),{keywords:[...d.keywords,...P]})),o(d=>l(a({},d),{keywords:"",keywordsCSV:""})),J(P.length),setTimeout(()=>J(null),5e3)},n.onerror=()=>{o(m=>l(a({},m),{keywordsCSV:"An error occurred while reading the CSV file."}))},n.readAsText(r),t.target.value=null},Se=["Select Templates","Add Details","Blog Options"];return e.jsxs(e.Fragment,{children:[" ",e.jsx(qe,{title:`Step ${C+1}: ${Se[C]}`,open:!0,onCancel:G,footer:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[C===2&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Estimated Cost:"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Q," credits"]}),s.costCutter&&e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(-25% off)"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",s.numberOfBlogs," blog",s.numberOfBlogs>1?"s":"",")"]})]}),e.jsxs("div",{className:`flex gap-3 ${C!==2?"w-full justify-end":""}`,children:[C>0&&e.jsx("button",{onClick:fe,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none",children:"Previous"}),e.jsx("button",{onClick:C===2?xe:he,className:"px-4 py-2 text-sm font-medium text-white bg-[#1B6FC9] rounded-md hover:bg-[#1B6FC9]/90 focus:outline-none",children:C===2?"Generate Blogs":"Next"})]})]}),width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"p-2 md:p-4 max-h-[80vh] overflow-y-auto",children:[C===0&&e.jsxs("div",{className:`p-3 md:p-0 ${c.templates?"border-2 border-red-500 rounded-lg":""}`,children:[e.jsx(Ge,{numberOfSelection:3,userSubscriptionPlan:(le=(ae=p==null?void 0:p.subscription)==null?void 0:ae.plan)!=null?le:"free",preSelectedIds:s.templateIds,onClick:be}),e.jsx("p",{className:`text-sm ${c!=null&&c.templates?"text-red-500":"text-gray-600"}  my-3 sm:mb-4 px-4`,children:c!=null&&c.templates?c.templates:"Select up to 3 templates for the types of blogs you want to generate."})]}),C===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Topics ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(q,{title:"Upload a .csv file in the format: `Topics` as header",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(ce,{size:16,className:"text-blue-500"})})})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the main topics for your blogs."}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("input",{type:"text",value:s.topicInput,onChange:ye,onKeyDown:ee,className:`w-full px-3 py-2 border rounded-md text-sm bg-gray-50 ${c.topics?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-blue-500`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:H,className:"flex-1 sm:flex-none px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:`flex-1 sm:flex-none px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center justify-center gap-1 hover:bg-gray-200 ${c.topicsCSV?"border-red-500":"border-gray-300"}`,children:[e.jsx(me,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:Ne,hidden:!0})]})]}),c.topics&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.topics}),c.topicsCSV&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.topicsCSV}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[(V?s.topics.slice().reverse():s.topics.slice().reverse().slice(0,18)).map((t,r)=>{const i=s.topics.length-1-r;return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[t,e.jsx("button",{type:"button",onClick:()=>je(i),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(ue,{className:"w-3 h-3"})})]},`${t}-${i}`)}),(s.topics.length>18||M)&&e.jsx("span",{onClick:()=>pe(t=>!t),className:"cursor-pointer text-xs font-medium text-blue-600 self-center flex items-center gap-1",children:V?e.jsx(e.Fragment,{children:"Show less"}):e.jsxs(e.Fragment,{children:[s.topics.length>18&&`+${s.topics.length-18} more`,M&&` (+${M} uploaded)`]})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Perform Keyword Research?",e.jsx("p",{className:"text-xs text-gray-500",children:"Allow AI to find relevant keywords for the topics."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"performKeywordResearch",checked:s.performKeywordResearch,onChange:B,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),!s.performKeywordResearch&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(q,{title:"Upload a .csv file in the format: `Keywords` as header",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(ce,{size:16,className:"text-blue-500"})})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s.keywordInput,onChange:we,onKeyDown:ee,className:`flex-1 px-3 py-2 border rounded-md text-sm bg-gray-50 ${c.keywords?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-blue-500`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:Z,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:`px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200 ${c.keywordsCSV?"border-red-500":"border-gray-300"}`,children:[e.jsx(me,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:Ie,hidden:!0})]})]}),c.keywords&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.keywords}),c.keywordsCSV&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.keywordsCSV}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[(W?s.keywords.slice().reverse():s.keywords.slice().reverse().slice(0,18)).map((t,r)=>{const i=s.keywords.length-1-r;return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[t,e.jsx("button",{type:"button",onClick:()=>ke(i),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(ue,{className:"w-3 h-3"})})]},`${t}-${i}`)}),(s.keywords.length>18||D)&&e.jsx("span",{onClick:()=>ge(t=>!t),className:"cursor-pointer text-xs font-medium text-blue-600 self-center flex items-center gap-1",children:W?e.jsx(e.Fragment,{children:"Show less"}):e.jsxs(e.Fragment,{children:[s.keywords.length>18&&`+${s.keywords.length-18} more`,D&&` (+${D} uploaded)`]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"tone",className:"block text-sm font-medium text-gray-700 mb-2",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(L,{className:"w-full",value:s.tone,onChange:t=>{u(r=>l(a({},r),{tone:t})),o(r=>l(a({},r),{tone:""}))},placeholder:"Select tone",status:c.tone?"error":"",children:[e.jsx(h,{value:"",children:"Select Tone"}),e.jsx(h,{value:"professional",children:"Professional"}),e.jsx(h,{value:"casual",children:"Casual"}),e.jsx(h,{value:"friendly",children:"Friendly"}),e.jsx(h,{value:"formal",children:"Formal"}),e.jsx(h,{value:"conversational",children:"Conversational"}),e.jsx(h,{value:"witty",children:"Witty"}),e.jsx(h,{value:"informative",children:"Informative"}),e.jsx(h,{value:"inspirational",children:"Inspirational"}),e.jsx(h,{value:"persuasive",children:"Persuasive"}),e.jsx(h,{value:"empathetic",children:"Empathetic"})]}),c.tone&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.tone})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"language",className:"block text-sm font-medium text-gray-700 mb-2",children:["Language ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(L,{className:"w-full",value:s.languageToWrite,onChange:t=>{u(r=>l(a({},r),{languageToWrite:t}))},placeholder:"Select language",children:[e.jsx(h,{value:"English",children:"English"}),e.jsx(h,{value:"Spanish",children:"Spanish"}),e.jsx(h,{value:"German",children:"German"}),e.jsx(h,{value:"French",children:"French"}),e.jsx(h,{value:"Italian",children:"Italian"}),e.jsx(h,{value:"Portuguese",children:"Portuguese"}),e.jsx(h,{value:"Dutch",children:"Dutch"}),e.jsx(h,{value:"Japanese",children:"Japanese"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approx. Blog Length (Words)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:s.userDefinedLength,className:"w-full h-1 rounded-lg appearance-none cursor-pointer bg-gradient-to-r from-[#1B6FC9] to-gray-100 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${(s.userDefinedLength-500)/4500*100}%, #E5E7EB ${(s.userDefinedLength-500)/4500*100}%)`},onChange:t=>{u(r=>l(a({},r),{userDefinedLength:parseInt(t.target.value,10)}))}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[s.userDefinedLength," words"]})]})]})]})]}),C===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Select AI Model ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 ${c.aiModel?"border-2 border-red-500 rounded-lg p-2":""}`,children:[{id:"gemini",label:"Gemini",logo:"/Images/gemini.webp",restricted:!1},{id:"openai",label:"ChatGPT",logo:"/Images/chatgpt.webp",restricted:k==="free"},{id:"claude",label:"Claude",logo:"/Images/claude.webp",restricted:k==="free"||k==="basic"}].map(t=>e.jsxs("label",{htmlFor:t.id,className:`relative border rounded-lg px-4 py-3 flex items-center gap-3 cursor-pointer transition-all duration-150 ${s.aiModel===t.id?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm ${t.restricted?"opacity-50 cursor-not-allowed":""}`,onClick:r=>{t.restricted&&(r.preventDefault(),openUpgradePopup({featureName:t.label,navigate:g}))},children:[e.jsx("input",{type:"radio",id:t.id,name:"aiModel",value:t.id,checked:s.aiModel===t.id,onChange:r=>{t.restricted||(u(i=>l(a({},i),{aiModel:r.target.value})),o(i=>l(a({},i),{aiModel:""})))},className:"hidden",disabled:t.restricted}),e.jsx("img",{src:t.logo,alt:t.label,className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:t.label})]},t.id))}),c.aiModel&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.aiModel})]}),e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-green-900 mb-1",children:"ðŸ’° Cost Cutter"}),e.jsx("p",{className:"text-xs text-green-700",children:"Use AI Flash model for 25% savings"})]}),e.jsxs("label",{htmlFor:"bulk-cost-cutter-toggle",className:"relative inline-block w-12 h-6",children:[e.jsx("input",{type:"checkbox",id:"bulk-cost-cutter-toggle",className:"sr-only peer",checked:s.costCutter||!1,onChange:t=>{u(r=>l(a({},r),{costCutter:t.target.checked}))}}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${s.costCutter?"bg-green-500":"bg-gray-300"}`}),e.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 shadow-md ${s.costCutter?"translate-x-6":""}`})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Easy to Understand"}),e.jsxs("label",{htmlFor:"bulk-easy-understand-toggle",className:"relative inline-block w-11 h-6 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"bulk-easy-understand-toggle",className:"sr-only peer",checked:s.easyToUnderstand||!1,onChange:t=>{u(r=>l(a({},r),{easyToUnderstand:t.target.checked}))}}),e.jsx("div",{className:"absolute inset-0 bg-gray-200 rounded-full transition-colors duration-200 peer-checked:bg-[#1B6FC9]"}),e.jsx("div",{className:"absolute top-[2px] left-[2px] h-5 w-5 bg-white rounded-full border border-gray-300 transition-transform duration-200 peer-checked:translate-x-5"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Embed YouTube Videos"}),e.jsxs("label",{htmlFor:"bulk-embed-youtube-toggle",className:"relative inline-block w-11 h-6 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"bulk-embed-youtube-toggle",className:"sr-only peer",checked:s.embedYouTubeVideos||!1,onChange:t=>{u(r=>l(a({},r),{embedYouTubeVideos:t.target.checked}))}}),e.jsx("div",{className:"absolute inset-0 bg-gray-200 rounded-full transition-colors duration-200 peer-checked:bg-[#1B6FC9]"}),e.jsx("div",{className:"absolute top-[2px] left-[2px] h-5 w-5 bg-white rounded-full border border-gray-300 transition-transform duration-200 peer-checked:translate-x-5"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Add Image"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{htmlFor:"add-image-toggle",className:`relative inline-block w-12 h-6 ${I?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("input",{type:"checkbox",id:"add-image-toggle",className:"sr-only peer",checked:s.isCheckedGeneratedImages,disabled:I,onChange:t=>{if(I){openUpgradePopup({featureName:"AI-Generated Images",navigate:g});return}const r=t.target.checked;u(i=>l(a({},i),{isCheckedGeneratedImages:r,imageSource:r?i.imageSource:"unsplash"})),o(i=>l(a({},i),{numberOfImages:"",blogImages:""}))}}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${s.isCheckedGeneratedImages&&!I?"bg-[#1B6FC9]":"bg-gray-300"}`}),e.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 ${s.isCheckedGeneratedImages&&!I?"translate-x-6":""}`})]}),I&&e.jsx(q,{title:"You've reached your AI image generation limit. It'll reset in the next billing cycle.",overlayInnerStyle:{backgroundColor:"#FEF9C3",border:"1px solid #FACC15",color:"#78350F"},children:e.jsx(Ee,{className:"text-yellow-400 ml-4",size:15})})]})]}),s.isCheckedGeneratedImages&&!I&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Image Source"}),e.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 gap-3 ${c.blogImages&&s.imageSource==="customImage"?"border-2 border-red-500 rounded-lg p-2":""}`,children:[{id:"unsplash",label:"Stock Images",value:"unsplash",restricted:!1},{id:"ai",label:"AI Generated",value:"ai",restricted:k==="free"}].map(t=>e.jsxs("label",{htmlFor:t.id,className:`border rounded-lg px-4 py-3 flex items-center justify-center gap-3 cursor-pointer transition-all duration-150 ${s.imageSource===t.value?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm ${t.restricted?"opacity-50 cursor-not-allowed":""}`,onClick:r=>{t.restricted&&(r.preventDefault(),openUpgradePopup({featureName:t.label,navigate:g}))},children:[e.jsx("input",{type:"radio",id:t.id,name:"imageSource",value:t.value,checked:s.imageSource===t.value,onChange:()=>{t.restricted||Ce(t.value)},className:"hidden",disabled:t.restricted}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:t.label})]},t.id))}),e.jsxs("div",{className:"pt-4 w-full",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Number of Images"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the number of images (0 = AI will decide)"}),e.jsx("input",{type:"tel",inputMode:"numeric",name:"numberOfImages",min:"0",max:"15",value:s.numberOfImages,onChange:X,onWheel:t=>t.currentTarget.blur(),className:`w-full px-4 py-2 border rounded-lg text-sm placeholder-gray-400 transition ${c.numberOfImages?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-blue-500`,placeholder:"e.g., 5"}),c.numberOfImages&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.numberOfImages})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[e.jsx(Ue,{label:"Write with Brand Voice",size:"large",labelClass:"text-sm font-medium text-gray-700",value:{isCheckedBrand:s.isCheckedBrand,brandId:s.brandId,addCTA:s.addCTA},onChange:t=>{u(r=>l(a({},r),{isCheckedBrand:t.isCheckedBrand,brandId:t.brandId,addCTA:t.addCTA})),o(r=>l(a({},r),{brandId:""}))},errorText:c.brandId}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Interlinks",e.jsx("p",{className:"text-xs text-gray-500",children:"Attempt to link between generated blogs if relevant."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeInterlinks",checked:s.includeInterlinks,onChange:B,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include FAQ Section",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate relevant FAQ questions and answers for the blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeFaqs",checked:s.includeFaqs,onChange:B,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Automatic Posting",e.jsx("p",{className:"text-xs text-gray-500",children:"Automatically post blogs on the selected dates."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"wordpressPostStatus",checked:s.wordpressPostStatus,onChange:B,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),s.wordpressPostStatus&&(y==null?void 0:y.integrations)&&Object.keys(y.integrations).length>0&&e.jsxs("div",{className:`${c.integration?"border-2 border-red-500 rounded-lg p-2":""}`,children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Select Your Publishing Platform ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Post your blog automatically to connected platforms only."})]}),e.jsxs(L,{className:"w-full mt-2",placeholder:"Select platform",value:s.postingType,onChange:ve,status:c.integration?"error":"",children:[e.jsx(h,{value:null,children:"Select Platform"}),Object.entries(y.integrations).map(([t])=>e.jsx(h,{value:t,children:t},t))]}),c.integration&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.integration})]}),s.wordpressPostStatus&&e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Table of Contents",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate a table of contents for each blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeTableOfContents",checked:s.includeTableOfContents,onChange:B,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Competitive Research",e.jsx("p",{className:"text-xs text-gray-500",children:"Perform competitive research to analyze similar blogs."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"useCompetitors",checked:s.useCompetitors,onChange:B,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),s.useCompetitors&&e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Show Outbound Links",e.jsx("p",{className:"text-xs text-gray-500",children:"Display outbound links found during competitor analysis."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"addOutBoundLinks",checked:s.addOutBoundLinks,onChange:B,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Number of Blogs ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"How many blogs to generate based on the topics provided."}),e.jsx("input",{type:"tel",inputMode:"numeric",name:"numberOfBlogs",min:"1",max:"10",value:s.numberOfBlogs===0?"":s.numberOfBlogs,onChange:X,onWheel:t=>t.currentTarget.blur(),className:`w-full px-3 py-2 border rounded-md text-sm ${c.numberOfBlogs?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-blue-500`,placeholder:"e.g., 5"}),c.numberOfBlogs&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.numberOfBlogs})]})})]})]})})]})};export{ut as default};
