var Ns=Object.defineProperty,ks=Object.defineProperties;var Cs=Object.getOwnPropertyDescriptors;var Te=Object.getOwnPropertySymbols;var es=Object.prototype.hasOwnProperty,ss=Object.prototype.propertyIsEnumerable;var ts=Math.pow,Je=(m,h,i)=>h in m?Ns(m,h,{enumerable:!0,configurable:!0,writable:!0,value:i}):m[h]=i,r=(m,h)=>{for(var i in h||(h={}))es.call(h,i)&&Je(m,i,h[i]);if(Te)for(var i of Te(h))ss.call(h,i)&&Je(m,i,h[i]);return m},n=(m,h)=>ks(m,Cs(h));var ze=(m,h)=>{var i={};for(var t in m)es.call(m,t)&&h.indexOf(t)<0&&(i[t]=m[t]);if(m!=null&&Te)for(var t of Te(m))h.indexOf(t)<0&&ss.call(m,t)&&(i[t]=m[t]);return i};var ce=(m,h,i)=>new Promise((t,p)=>{var C=S=>{try{v(i.next(S))}catch(k){p(k)}},K=S=>{try{v(i.throw(S))}catch(k){p(k)}},v=S=>S.done?t(S.value):Promise.resolve(S.value).then(C,K);v((i=i.apply(m,h)).next())});import{r as j,_ as Is,G as xs,J as Ss,s as us,K as rs,L as Ls,M as as,e as Bs,h as Ms,k as $s,n as we,P as As,Q as Ks,C as Fs,S as Ps,p as Ts,W as Es,U as Os,I as Ds,j as e,V as fe,B as De,X as Y,u as ve,a as ue,T as Le,Y as _e,Z as zs,c as Be,$ as Ke,m as H,a0 as Vs,a1 as Rs,a2 as _s,a3 as gs,a4 as Ge,a5 as Gs,a6 as Ws,a7 as We,a8 as Ae,a9 as Us,z as ps,aa as Hs,ab as qs,H as Qs,A as Ve,l as ns,ac as ls,ad as Ys,ae as Xs}from"./index-BfeyGnjQ.js";import{p as ie,C as He}from"./templates-Da8Uisvf.js";import{u as qe}from"./useQuery-0UMyHWNC.js";import{o as os}from"./UpgardePopUp-Ctg90pN6.js";import{C as is}from"./crown-BGLcxOSH.js";import{T as Qe}from"./triangle-alert-BXSr5qTQ.js";import{X as xe}from"./x-BZaPzgNC.js";import{P as Ce}from"./plus-DGZbrRz6.js";import{d as he}from"./dayjs.min-CphpKeRY.js";import{u as fs}from"./useProAction-CeShLDF8.js";import{c as Me}from"./createLucideIcon-Du2VtDl2.js";import{A as bs}from"./arrow-right-C7S1lxWJ.js";import{g as Ye}from"./getEstimatedCost-C5kDNgKm.js";import{S as je}from"./index-Doobf1FC.js";import{I as ds}from"./info-ByLdNyYb.js";import{U as cs}from"./upload-D9LP6T87.js";import{S as Re,a as Ee}from"./SkeletonLoader-CxOfGrrw.js";import{C as Zs,A as Js,L as et,a as st,b as tt,P as rt,p as at,c as nt,d as lt}from"./chart-BkHIec8n.js";import{P as ot}from"./pen-tool-Cj-Z9K8a.js";import{Z as it}from"./zap-B2K9zBtV.js";import{S as dt}from"./search-1_uhvDx2.js";import{A as ct,R as mt,a as ht,C as xt}from"./CompetitiveAnalysisModal-D3cwJZDf.js";import{U as ut}from"./users-Doj8PZrt.js";import{F as Xe}from"./Table-BZKwDEmS.js";import{E as gt}from"./index-LbqWIOYv.js";import{T as pt}from"./tag-BFw4LpXq.js";import{S as ft}from"./index-COEGd8S0.js";import{R as bt}from"./refresh-cw-DaiYNpsB.js";import{S as ys}from"./sparkles-BNEOT_WO.js";import{I as yt}from"./index-BWkdPHIK.js";import{T as wt}from"./index-DbH3HqFQ.js";import{M as jt}from"./megaphone-Da9Eoa7X.js";import{C as vt}from"./clock-DUKfz4lF.js";import"./LeftOutlined-1YE7jqPf.js";import"./index-4SD8mXtQ.js";import"./EllipsisOutlined-BdJ4zMo4.js";import"./Overflow-BI5d6IgA.js";import"./index-DojsHTig.js";import"./gapSize-U1swVQyS.js";import"./SearchOutlined-DSAR1FJr.js";import"./clsx-B-dksMZM.js";import"./index-HVAfQlNt.js";import"./progress-WLpBdYfK.js";import"./useBreakpoint-DgU8dFnG.js";import"./Pagination-BrZ9KWc9.js";import"./Input-BiR41ZWi.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],kt=Me("chart-no-axes-column",Nt);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],ws=Me("gem",Ct);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],St=Me("grid-3x3",It);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],Bt=Me("puzzle",Lt);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],$t=Me("tags",Mt);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Kt=Me("wand-sparkles",At);var Ft=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],js=j.forwardRef(function(m,h){var i,t=m.prefixCls,p=t===void 0?"rc-switch":t,C=m.className,K=m.checked,v=m.defaultChecked,S=m.disabled,k=m.loadingIcon,u=m.checkedChildren,M=m.unCheckedChildren,F=m.onClick,L=m.onChange,x=m.onKeyDown,b=Is(m,Ft),E=xs(!1,{value:K,defaultValue:v}),O=Ss(E,2),A=O[0],I=O[1];function T(y,X){var D=A;return S||(D=y,I(D),L==null||L(D,X)),D}function B(y){y.which===as.LEFT?T(!1,y):y.which===as.RIGHT&&T(!0,y),x==null||x(y)}function c(y){var X=T(!A,y);F==null||F(X,y)}var a=us(p,C,(i={},rs(i,"".concat(p,"-checked"),A),rs(i,"".concat(p,"-disabled"),S),i));return j.createElement("button",Ls({},b,{type:"button",role:"switch","aria-checked":A,disabled:S,className:a,ref:h,onKeyDown:B,onClick:c}),k,j.createElement("span",{className:"".concat(p,"-inner")},j.createElement("span",{className:"".concat(p,"-inner-checked")},u),j.createElement("span",{className:"".concat(p,"-inner-unchecked")},M)))});js.displayName="Switch";const Pt=m=>{const{componentCls:h,trackHeightSM:i,trackPadding:t,trackMinWidthSM:p,innerMinMarginSM:C,innerMaxMarginSM:K,handleSizeSM:v,calc:S}=m,k=`${h}-inner`,u=we(S(v).add(S(t).mul(2)).equal()),M=we(S(K).mul(2).equal());return{[h]:{[`&${h}-small`]:{minWidth:p,height:i,lineHeight:we(i),[`${h}-inner`]:{paddingInlineStart:K,paddingInlineEnd:C,[`${k}-checked, ${k}-unchecked`]:{minHeight:i},[`${k}-checked`]:{marginInlineStart:`calc(-100% + ${u} - ${M})`,marginInlineEnd:`calc(100% - ${u} + ${M})`},[`${k}-unchecked`]:{marginTop:S(i).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${h}-handle`]:{width:v,height:v},[`${h}-loading-icon`]:{top:S(S(v).sub(m.switchLoadingIconSize)).div(2).equal(),fontSize:m.switchLoadingIconSize},[`&${h}-checked`]:{[`${h}-inner`]:{paddingInlineStart:C,paddingInlineEnd:K,[`${k}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${k}-unchecked`]:{marginInlineStart:`calc(100% - ${u} + ${M})`,marginInlineEnd:`calc(-100% + ${u} - ${M})`}},[`${h}-handle`]:{insetInlineStart:`calc(100% - ${we(S(v).add(t).equal())})`}},[`&:not(${h}-disabled):active`]:{[`&:not(${h}-checked) ${k}`]:{[`${k}-unchecked`]:{marginInlineStart:S(m.marginXXS).div(2).equal(),marginInlineEnd:S(m.marginXXS).mul(-1).div(2).equal()}},[`&${h}-checked ${k}`]:{[`${k}-checked`]:{marginInlineStart:S(m.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:S(m.marginXXS).div(2).equal()}}}}}}},Tt=m=>{const{componentCls:h,handleSize:i,calc:t}=m;return{[h]:{[`${h}-loading-icon${m.iconCls}`]:{position:"relative",top:t(t(i).sub(m.fontSize)).div(2).equal(),color:m.switchLoadingIconColor,verticalAlign:"top"},[`&${h}-checked ${h}-loading-icon`]:{color:m.switchColor}}}},Et=m=>{const{componentCls:h,trackPadding:i,handleBg:t,handleShadow:p,handleSize:C,calc:K}=m,v=`${h}-handle`;return{[h]:{[v]:{position:"absolute",top:i,insetInlineStart:i,width:C,height:C,transition:`all ${m.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:t,borderRadius:K(C).div(2).equal(),boxShadow:p,transition:`all ${m.switchDuration} ease-in-out`,content:'""'}},[`&${h}-checked ${v}`]:{insetInlineStart:`calc(100% - ${we(K(C).add(i).equal())})`},[`&:not(${h}-disabled):active`]:{[`${v}::before`]:{insetInlineEnd:m.switchHandleActiveInset,insetInlineStart:0},[`&${h}-checked ${v}::before`]:{insetInlineEnd:0,insetInlineStart:m.switchHandleActiveInset}}}}},Ot=m=>{const{componentCls:h,trackHeight:i,trackPadding:t,innerMinMargin:p,innerMaxMargin:C,handleSize:K,calc:v}=m,S=`${h}-inner`,k=we(v(K).add(v(t).mul(2)).equal()),u=we(v(C).mul(2).equal());return{[h]:{[S]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:C,paddingInlineEnd:p,transition:`padding-inline-start ${m.switchDuration} ease-in-out, padding-inline-end ${m.switchDuration} ease-in-out`,[`${S}-checked, ${S}-unchecked`]:{display:"block",color:m.colorTextLightSolid,fontSize:m.fontSizeSM,transition:`margin-inline-start ${m.switchDuration} ease-in-out, margin-inline-end ${m.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:i},[`${S}-checked`]:{marginInlineStart:`calc(-100% + ${k} - ${u})`,marginInlineEnd:`calc(100% - ${k} + ${u})`},[`${S}-unchecked`]:{marginTop:v(i).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${h}-checked ${S}`]:{paddingInlineStart:p,paddingInlineEnd:C,[`${S}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${S}-unchecked`]:{marginInlineStart:`calc(100% - ${k} + ${u})`,marginInlineEnd:`calc(-100% + ${k} - ${u})`}},[`&:not(${h}-disabled):active`]:{[`&:not(${h}-checked) ${S}`]:{[`${S}-unchecked`]:{marginInlineStart:v(t).mul(2).equal(),marginInlineEnd:v(t).mul(-1).mul(2).equal()}},[`&${h}-checked ${S}`]:{[`${S}-checked`]:{marginInlineStart:v(t).mul(-1).mul(2).equal(),marginInlineEnd:v(t).mul(2).equal()}}}}}},Dt=m=>{const{componentCls:h,trackHeight:i,trackMinWidth:t}=m;return{[h]:Object.assign(Object.assign(Object.assign(Object.assign({},$s(m)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:t,height:i,lineHeight:we(i),verticalAlign:"middle",background:m.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${m.motionDurationMid}`,userSelect:"none",[`&:hover:not(${h}-disabled)`]:{background:m.colorTextTertiary}}),As(m)),{[`&${h}-checked`]:{background:m.switchColor,[`&:hover:not(${h}-disabled)`]:{background:m.colorPrimaryHover}},[`&${h}-loading, &${h}-disabled`]:{cursor:"not-allowed",opacity:m.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${h}-rtl`]:{direction:"rtl"}})}},zt=m=>{const{fontSize:h,lineHeight:i,controlHeight:t,colorWhite:p}=m,C=h*i,K=t/2,v=2,S=C-v*2,k=K-v*2;return{trackHeight:C,trackHeightSM:K,trackMinWidth:S*2+v*4,trackMinWidthSM:k*2+v*2,trackPadding:v,handleBg:p,handleSize:S,handleSizeSM:k,handleShadow:`0 2px 4px 0 ${new Ks("#00230b").setA(.2).toRgbString()}`,innerMinMargin:S/2,innerMaxMargin:S+v+v*2,innerMinMarginSM:k/2,innerMaxMarginSM:k+v+v*2}},Vt=Bs("Switch",m=>{const h=Ms(m,{switchDuration:m.motionDurationMid,switchColor:m.colorPrimary,switchDisabledOpacity:m.opacityLoading,switchLoadingIconSize:m.calc(m.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${m.opacityLoading})`,switchHandleActiveInset:"-30%"});return[Dt(h),Ot(h),Et(h),Tt(h),Pt(h)]},zt);var Rt=function(m,h){var i={};for(var t in m)Object.prototype.hasOwnProperty.call(m,t)&&h.indexOf(t)<0&&(i[t]=m[t]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,t=Object.getOwnPropertySymbols(m);p<t.length;p++)h.indexOf(t[p])<0&&Object.prototype.propertyIsEnumerable.call(m,t[p])&&(i[t[p]]=m[t[p]]);return i};const _t=j.forwardRef((m,h)=>{const{prefixCls:i,size:t,disabled:p,loading:C,className:K,rootClassName:v,style:S,checked:k,value:u,defaultChecked:M,defaultValue:F,onChange:L}=m,x=Rt(m,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[b,E]=xs(!1,{value:k!=null?k:u,defaultValue:M!=null?M:F}),{getPrefixCls:O,direction:A,switch:I}=j.useContext(Fs),T=j.useContext(Ps),B=(p!=null?p:T)||C,c=O("switch",i),a=j.createElement("div",{className:`${c}-handle`},C&&j.createElement(Os,{className:`${c}-loading-icon`})),[y,X,D]=Vt(c),ee=Ts(t),se=us(I==null?void 0:I.className,{[`${c}-small`]:ee==="small",[`${c}-loading`]:C,[`${c}-rtl`]:A==="rtl"},K,v,X,D),J=Object.assign(Object.assign({},I==null?void 0:I.style),S),re=(...w)=>{E(w[0]),L==null||L.apply(void 0,w)};return y(j.createElement(Es,{component:"Switch"},j.createElement(js,Object.assign({},x,{checked:b,onChange:re,prefixCls:c,className:se,style:J,disabled:B,ref:h,loadingIcon:a}))))}),Ze=_t;Ze.__ANT_SWITCH=!0;var Gt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function Ue(){return Ue=Object.assign?Object.assign.bind():function(m){for(var h=1;h<arguments.length;h++){var i=arguments[h];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(m[t]=i[t])}return m},Ue.apply(this,arguments)}const Wt=(m,h)=>j.createElement(Ds,Ue({},m,{ref:h,icon:Gt})),vs=j.forwardRef(Wt),Ut=({handleNext:m,handleClose:h,data:i,setData:t,isModalVisible:p})=>{const[C,K]=j.useState(null),[v,S]=j.useState({userDefinedLength:0,tone:"",includeInterlink:!1,includeMetaHeadlines:!1,wordpressStatus:!0,numberOfBlogs:0,postFrequency:0,randomisedFrequency:0,template:[],focusKeywords:[],keywords:[],focusKeywordInput:"",keywordInput:""}),[k,u]=j.useState("");j.useEffect(()=>{if(p&&i.template){const x=ie.findIndex(b=>b.name===i.template.name);x!==-1&&(K(x),S(b=>n(r({},b),{template:[i.template.name]})))}},[p,i.template]);const M=()=>{K(null),S(x=>n(r({},x),{template:[]})),u(""),h()},F=x=>{K(x),t(n(r({},i),{template:ie[x]})),S(n(r({},v),{template:[ie[x].name]})),u("")},L=()=>{if(C!==null){const x=ie[C],b=n(r({},i),{selectedTemplate:x});t(b),m()}else u("Please select a template before proceeding."),Y.error("Please select a template before proceeding.")};return e.jsx(fe,{title:"Step 1: Select Template",open:p,onCancel:M,footer:e.jsx("div",{className:"flex justify-end w-full gap-2",children:e.jsx(De,{onClick:L,className:"px-4 sm:px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-2 sm:ml-3 text-sm sm:text-base",children:"Next"})}),centered:!0,width:"90vw",styles:{content:{maxWidth:"800px",margin:"0 auto"},body:{padding:"16px"}},className:"rounded-lg sm:rounded-xl",transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"max-h-[80vh] overflow-y-auto",children:[e.jsx("div",{className:`sm:hidden grid grid-cols-2 gap-4 ${k?"border-2 border-red-500 rounded-lg p-2":""}`,children:ie.map((x,b)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${C===b?"border-gray-200 border-2 rounded-lg":""}`,onClick:()=>F(b),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:x.imgSrc||"/placeholder.svg",alt:x.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:x.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:x.description})]})]})},b))}),k&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:k}),e.jsx("div",{className:`hidden sm:block ${k?"border-2 border-red-500 rounded-lg p-2":""}`,children:e.jsx(He,{className:"flex flex-row gap-4",children:ie.map((x,b)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 w-full h-full ${C===b?"border-gray-200 border-2 rounded-lg":""}`,onClick:()=>F(b),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:x.imgSrc||"/placeholder.svg",alt:x.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:x.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:x.description})]})]})},b))})}),k&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:k})]})})},Ht=j.memo(Ut),ke="border-red-500 focus:ring-red-500",qt=({handlePrevious:m,handleClose:h,data:i,setData:t,handleSubmit:p,navigate:C})=>{var g,l,d;const K=ve(),{user:v}=ue(s=>s.auth),S=((g=v==null?void 0:v.subscription)==null?void 0:g.plan)||(v==null?void 0:v.plan)||"free",k=((l=v==null?void 0:v.usage)==null?void 0:l.aiImages)>=((d=v==null?void 0:v.usageLimits)==null?void 0:d.aiImages),[u,M]=j.useState({isCheckedQuick:(i==null?void 0:i.isCheckedQuick)||!1,isCheckedBrand:(i==null?void 0:i.isCheckedBrand)||!1,aiModel:(i==null?void 0:i.aiModel)||"gemini",brandId:(i==null?void 0:i.brandId)||null,isFAQEnabled:(i==null?void 0:i.isFAQEnabled)||!1,imageSource:(i==null?void 0:i.imageSource)||"unsplash",isCheckedGeneratedImages:(i==null?void 0:i.isCheckedGeneratedImages)||!1,isCheckedblogImages:(i==null?void 0:i.isCheckedblogImages)||!1,blogImages:Array.isArray(i==null?void 0:i.blogImages)?i.blogImages:[],referenceLinks:Array.isArray(i==null?void 0:i.referenceLinks)?i.referenceLinks:[],includeInterlinks:(i==null?void 0:i.includeInterlinks)||!1,addOutBoundLinks:(i==null?void 0:i.addOutBoundLinks)||!1,addCTA:(i==null?void 0:i.addCTA)||!0,numberOfImages:(i==null?void 0:i.numberOfImages)||0,isDragging:!1,areImagesUploaded:!1}),[F,L]=j.useState({newLink:""}),[x,b]=j.useState({aiModel:"",numberOfImages:"",brandId:"",blogImages:""}),E=j.useRef(null);j.useEffect(()=>()=>{u.blogImages.forEach(s=>{s instanceof File&&URL.revokeObjectURL(URL.createObjectURL(s))})},[u.blogImages]);const{data:O=[],isLoading:A,error:I}=qe({queryKey:["brands"],queryFn:()=>ce(null,null,function*(){return yield K(_e()).unwrap()}),enabled:u.isCheckedBrand}),T=s=>{const{name:f,value:z,type:P}=s.target;let _;if(P==="number")if(z==="")_="";else{const U=parseInt(z,20);isNaN(U)?_="":(_=U,_<0&&(_=0),_>20&&(_=20))}else _=z;M(n(r({},u),{[f]:_}))},B=()=>{const s=F.newLink.trim();if(!s){b(U=>n(r({},U),{newLink:"Please enter a valid URL."}));return}const f=u.referenceLinks.map(U=>U.toLowerCase().trim()),z=U=>{try{return new URL(U),!0}catch(ae){return!1}},P=new Set,_=s.split(",").map(U=>U.trim()).filter(U=>{const ae=U.toLowerCase();return!P.has(ae)&&z(U)&&!f.includes(ae)&&P.add(ae)});if(_.length===0){b(U=>n(r({},U),{newLink:"Please enter valid, non-duplicate URLs separated by commas."}));return}M(U=>n(r({},U),{referenceLinks:[...U.referenceLinks,..._]})),L(U=>n(r({},U),{newLink:""})),b(U=>n(r({},U),{newLink:""}))},c=s=>{M(f=>n(r({},f),{referenceLinks:(f.referenceLinks||[]).filter((z,P)=>P!==s)})),t(f=>n(r({},f),{referenceLinks:(f.referenceLinks||[]).filter((z,P)=>P!==s)}))},a=s=>{M(f=>n(r({},f),{imageSource:s,areImagesUploaded:s==="customImage"})),t(f=>n(r({},f),{imageSource:s,areImagesUploaded:s==="customImage",isUnsplashActive:s==="unsplash"})),b(f=>n(r({},f),{blogImages:"",numberOfImages:""}))},y=s=>{const P=["image/jpeg","image/png","image/webp"];if(!s||s.length===0)return[];const _=Array.from(s).filter(ae=>P.includes(ae.type)?ae.size>1048576?(b(ne=>n(r({},ne),{blogImages:`"${ae.name}" exceeds the 1 MB size limit.`})),!1):!0:(b(ne=>n(r({},ne),{blogImages:`"${ae.name}" is not a valid image type. Only PNG, JPEG, and WebP are allowed.`})),!1));return u.blogImages.length+_.length>15?(b(ae=>n(r({},ae),{blogImages:"Cannot upload more than 15 images."})),_.slice(0,15-u.blogImages.length)):_},X=s=>{const f=s.target.files;if(!f||f.length===0)return;const z=y(f);z.length>0&&(M(P=>n(r({},P),{blogImages:[...P.blogImages,...z]})),t(P=>n(r({},P),{blogImages:[...Array.isArray(P.blogImages)?P.blogImages:[],...z]}))),E.current&&(E.current.value=""),b(P=>n(r({},P),{blogImages:""}))},D=s=>{s.preventDefault(),s.stopPropagation(),M(P=>n(r({},P),{isDragging:!1}));const f=s.dataTransfer.files;if(!f||f.length===0)return;const z=y(f);z.length>0&&(M(P=>n(r({},P),{blogImages:[...P.blogImages,...z]})),t(P=>n(r({},P),{blogImages:[...P.blogImages,...z]}))),b(P=>n(r({},P),{blogImages:""}))},ee=s=>{s.preventDefault(),s.stopPropagation(),M(f=>n(r({},f),{isDragging:!0}))},se=s=>{s.preventDefault(),s.stopPropagation(),M(f=>n(r({},f),{isDragging:!1}))},J=s=>{M(f=>{const z=f.blogImages.filter((P,_)=>_!==s);return n(r({},f),{blogImages:z})}),t(f=>n(r({},f),{blogImages:f.blogImages.filter((z,P)=>P!==s)})),u.imageSource==="customImage"&&u.blogImages.length===1&&b(f=>n(r({},f),{blogImages:"At least one custom image is required."}))},re=()=>{const s={aiModel:"",numberOfImages:"",brandId:"",blogImages:""};let f=!0;return u.aiModel||(s.aiModel="Please select an AI model.",f=!1),u.isCheckedGeneratedImages&&(u.numberOfImages===""||u.numberOfImages<0)&&(s.numberOfImages="Please enter a valid number of images (0â€“20).",f=!1),u.isCheckedBrand&&!u.brandId&&(s.brandId="Please select a brand voice.",f=!1),u.isCheckedGeneratedImages&&u.imageSource==="customImage"&&u.blogImages.length===0&&(s.blogImages="At least one custom image is required.",f=!1),b(s),f},w=()=>{if(!re())return;const s=r(r({},i),u);p(s)};return e.jsx(fe,{title:"Final Step: Content Enhancements",open:!0,onCancel:h,footer:[e.jsx("button",{onClick:m,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Previous"},"previous"),e.jsx("button",{onClick:w,className:"px-6 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md ml-3",children:"Submit"},"next")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select AI Model"}),e.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 w-full ${x.aiModel?"border border-red-500 rounded-lg p-2":""}`,children:[{id:"gemini",label:"Gemini",logo:"/Images/gemini.png",restricted:!1},{id:"chatgpt",label:"ChatGPT",logo:"/Images/chatgpt.png"},{id:"claude",label:"Claude",logo:"/Images/claude.png"}].map(s=>e.jsxs("label",{htmlFor:s.id,className:`relative border rounded-lg px-4 py-3 flex items-center gap-3 cursor-pointer transition-all duration-150
                    ${u.aiModel===s.id?"border-blue-600 bg-blue-50":"border-gray-300"}
                    hover:shadow-sm w-full ${x.aiModel?ke:""}`,onClick:f=>{s.restricted&&(f.preventDefault(),os({featureName:s.label,navigate:C}))},children:[e.jsx("input",{type:"radio",id:s.id,name:"aiModel",value:s.id,checked:u.aiModel===s.id,onChange:f=>{s.restricted||(M(z=>n(r({},z),{aiModel:f.target.value})),t(z=>n(r({},z),{aiModel:f.target.value})),b(z=>n(r({},z),{aiModel:""})))},className:"hidden"}),e.jsx("img",{src:s.logo,alt:s.label,className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:s.label}),s.restricted&&e.jsx(is,{className:"w-4 h-4 text-yellow-500 absolute top-2 right-2"})]},s.id))}),x.aiModel&&e.jsx("p",{className:"text-red-500 text-xs mb-t",children:x.aiModel})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Add Image"}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{htmlFor:"add-image-toggle",className:"relative inline-block w-12 h-6",children:[e.jsx("input",{type:"checkbox",id:"add-image-toggle",className:"sr-only peer",checked:u.isCheckedGeneratedImages,onChange:s=>{const f=s.target.checked;M(z=>n(r({},z),{isCheckedGeneratedImages:f,imageSource:f?z.imageSource:"unsplash"})),t(z=>n(r({},z),{isCheckedGeneratedImages:f,imageSource:f?z.imageSource:"unsplash",isUnsplashActive:f?z.isUnsplashActive:!0})),b(z=>n(r({},z),{numberOfImages:"",blogImages:""}))}}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${u.isCheckedGeneratedImages?"bg-[#1B6FC9]":"bg-gray-300"}`}),e.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 ${u.isCheckedGeneratedImages?"translate-x-6":""}`})]})})]}),u.isCheckedGeneratedImages&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Image Source"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 w-full",children:[e.jsxs("label",{htmlFor:"unsplash",className:`border rounded-lg px-4 py-3 flex items-center justify-center gap-3 cursor-pointer transition-all duration-150
                        ${u.imageSource==="unsplash"?"border-blue-600 bg-blue-50":"border-gray-300"}
                        hover:shadow-sm w-full ${x.blogImages?ke:""}`,children:[e.jsx("input",{type:"radio",id:"unsplash",name:"imageSource",checked:u.imageSource==="unsplash",onChange:()=>a("unsplash"),className:"hidden"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Stock Images"})]}),e.jsxs("label",{htmlFor:"ai-generated",className:`relative border rounded-lg px-4 py-3 flex items-center justify-center gap-3 cursor-pointer transition-all duration-150
                        ${u.imageSource==="ai"?"border-blue-600 bg-blue-50":"border-gray-300"}
                        hover:shadow-sm w-full ${x.blogImages?ke:""}`,onClick:s=>{S==="free"&&(s.preventDefault(),os({featureName:"AI-Generated Images",navigate:C}))},children:[e.jsx("input",{type:"radio",id:"ai-generated",name:"imageSource",checked:u.imageSource==="ai",onChange:()=>a("ai"),className:"hidden",disabled:S==="free"||k}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:"AI-Generated Images"}),S==="free"?e.jsx(is,{className:"w-4 h-4 text-yellow-500 absolute top-2 right-2"}):k&&e.jsx(Le,{title:"You've reached your AI image generation limit. It'll reset in the next billing cycle.",styles:{body:{backgroundColor:"#FEF9C3",border:"1px solid #FACC15",color:"#78350F"}},children:e.jsx(Qe,{className:"text-yellow-400 ml-2",size:15})})]}),e.jsxs("label",{htmlFor:"customImage",className:`border rounded-lg px-4 py-3 flex items-center justify-center gap-3 cursor-pointer transition-all duration-150
                        ${u.imageSource==="customImage"?"border-blue-600 bg-blue-50":"border-gray-300"}
                        hover:shadow-sm w-full ${x.blogImages?ke:""}`,children:[e.jsx("input",{type:"radio",id:"customImage",name:"imageSource",checked:u.imageSource==="customImage",onChange:()=>a("customImage"),className:"hidden"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Use Custom Image"})]})]})]}),(u==null?void 0:u.imageSource)==="customImage"?e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Upload Custom Images (Max 15, each 1MB max size)"}),e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${u.isDragging?"border-blue-600 bg-blue-50":x.blogImages?"border-red-500 bg-red-50":"border-gray-300 bg-gray-50"}`,onDragOver:ee,onDragLeave:se,onDrop:D,children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drag and drop images here or click to select"}),e.jsx("button",{className:"px-4 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md text-sm",onClick:()=>{var s;return(s=E.current)==null?void 0:s.click()},children:"Select Images"}),e.jsx("input",{type:"file",ref:E,onChange:X,accept:"image/jpeg,image/png,image/gif,image/webp",multiple:!0,className:"hidden"})]}),x.blogImages&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:x.blogImages}),u.blogImages.length>0&&e.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 gap-4",children:u.blogImages.map((s,f)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:s instanceof File?URL.createObjectURL(s):s,alt:s instanceof File?s.name:`Image ${f+1}`,className:"w-full h-24 object-cover rounded-md"}),e.jsx("button",{onClick:()=>J(f),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(xe,{className:"w-4 h-4"})}),e.jsx("p",{className:"text-xs text-gray-600 truncate mt-1",children:s instanceof File?s.name:`Image ${f+1}`})]},f))})]}):e.jsxs("div",{className:"pt-4 w-full",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Number of Images"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the number of images (0 = AI will decide)"}),e.jsx("input",{type:"number",name:"numberOfImages",min:"0",max:"15",value:u.numberOfImages,onChange:T,onWheel:s=>s.currentTarget.blur(),inputMode:"numeric",pattern:"[0-9]*",className:`w-full px-4 py-2 border rounded-lg text-sm placeholder-gray-400 transition ${x.numberOfImages?ke:"border-gray-300"}`,placeholder:"e.g., 5"}),x.numberOfImages&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:x.numberOfImages})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add a Quick Summary"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.isCheckedQuick,onChange:()=>{M(s=>n(r({},s),{isCheckedQuick:!s.isCheckedQuick})),t(s=>n(r({},s),{isCheckedQuick:!s.isCheckedQuick}))},className:"sr-only peer","aria-checked":u.isCheckedQuick}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Write with Brand Voice"}),e.jsxs("label",{className:`relative inline-flex items-center ${!O||O.length===0?"cursor-not-allowed opacity-60":"cursor-pointer"}`,children:[e.jsx("input",{type:"checkbox",checked:u.isCheckedBrand,onChange:()=>{if(!O||O.length===0){Y.warning("No brand voices available. Create one to enable this option."),M(s=>n(r({},s),{isCheckedBrand:!1,brandId:null})),t(s=>n(r({},s),{isCheckedBrand:!1,brandId:null}));return}M(s=>n(r({},s),{isCheckedBrand:!s.isCheckedBrand,brandId:s.isCheckedBrand?null:s.brandId})),t(s=>n(r({},s),{isCheckedBrand:!s.isCheckedBrand,brandId:s.isCheckedBrand?null:s.brandId})),b(s=>n(r({},s),{brandId:""}))},className:"sr-only peer","aria-checked":u.isCheckedBrand}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-colors duration-300 ease-in-out
      ${u.isCheckedBrand?"bg-[#1B6FC9]":"bg-gray-300"}
    `,children:e.jsx("div",{className:`absolute top-0.5 left-0.5 h-5 w-5 bg-white rounded-full transition-transform duration-300 ease-in-out
        ${u.isCheckedBrand?"translate-x-6":"translate-x-0"}
      `})})]})]}),u.isCheckedBrand&&e.jsxs("div",{className:"mt-3 p-3 sm:p-4 rounded-md border border-gray-200 bg-gray-50",children:[A?e.jsx("div",{className:"text-gray-500 text-sm",children:"Loading brand voices..."}):I?e.jsx("div",{className:"text-red-500 text-sm font-medium",children:I}):(O==null?void 0:O.length)>0?e.jsx("div",{className:"max-h-48 overflow-y-auto pr-1",children:e.jsx("div",{children:O.map(s=>e.jsxs("label",{className:`flex flex-col sm:flex-row sm:items-start mb-3 gap-2 p-3 rounded-md cursor-pointer transition ${u.brandId===s._id?"bg-blue-100 border-blue-300":"bg-white border border-gray-200"} ${x.brandId?ke:""}`,children:[e.jsx("input",{type:"radio",name:"selectedBrandVoice",value:s._id,checked:u.brandId===s._id,onChange:()=>{M(f=>n(r({},f),{brandId:s._id})),t(f=>n(r({},f),{brandId:s._id})),b(f=>n(r({},f),{brandId:""}))},className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-700",children:s.nameOfVoice}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.describeBrand})]})]},s._id))})}):e.jsx("div",{className:"text-gray-500 text-sm italic",children:"No brand voices available. Create one to get started."}),x.brandId&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:x.brandId})]}),u.isCheckedBrand&&e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add CTA at the End"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.addCTA,onChange:()=>{M(s=>n(r({},s),{addCTA:!s.addCTA})),t(s=>n(r({},s),{addCTA:!s.addCTA}))},className:"sr-only peer","aria-checked":u.addCTA}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Add FAQ"}),e.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Generate frequently asked questions for your blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.isFAQEnabled,onChange:()=>{M(s=>n(r({},s),{isFAQEnabled:!s.isFAQEnabled})),t(s=>n(r({},s),{isFAQEnabled:!s.isFAQEnabled}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Interlinks",e.jsx("p",{className:"text-xs text-gray-500",children:"Auto-link to other blogs within your content."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer self-end",children:[e.jsx("input",{type:"checkbox",checked:u.includeInterlinks,onChange:s=>{M(f=>n(r({},f),{includeInterlinks:s.target.checked})),t(f=>n(r({},f),{includeInterlinks:s.target.checked}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Add Competitive Research",e.jsx("p",{className:"text-xs text-gray-500",children:"Analyze similar blogs to find strategic insights."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer self-end",children:[e.jsx("input",{type:"checkbox",checked:u.isCompetitiveResearchEnabled,onChange:()=>{M(s=>n(r({},s),{isCompetitiveResearchEnabled:!s.isCompetitiveResearchEnabled})),t(s=>n(r({},s),{isCompetitiveResearchEnabled:!s.isCompetitiveResearchEnabled}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),u.isCompetitiveResearchEnabled&&e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Show Outbound Links",e.jsx("p",{className:"text-xs text-gray-500",children:"Display reference links from competitor analysis."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer self-end",children:[e.jsx("input",{type:"checkbox",checked:u.addOutBoundLinks,onChange:()=>{M(s=>n(r({},s),{addOutBoundLinks:!s.addOutBoundLinks})),t(s=>n(r({},s),{addOutBoundLinks:!s.addOutBoundLinks}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Reference Links (Helps make blog more compelling)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:`flex-1 px-3 py-2 bg-gray-50 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 ${x.newLink?ke:"border-gray-200"}`,placeholder:"https://example.com",onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),B())},value:F.newLink,onChange:s=>L(f=>n(r({},f),{newLink:s.target.value}))}),e.jsx("button",{onClick:B,className:"px-3 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md",children:e.jsx(Ce,{className:"w-4 h-4"})})]}),x.newLink&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:x.newLink}),u.referenceLinks.length>0&&e.jsx("div",{className:"mt-2 space-y-2",children:u.referenceLinks.map((s,f)=>e.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-50 rounded-md",children:[e.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 truncate",children:s}),e.jsx("button",{onClick:()=>c(f),className:"text-gray-500 hover:text-red-500",children:e.jsx(xe,{className:"w-4 h-4"})})]},f))})]})]})})})};var Oe={exports:{}},Qt=Oe.exports,ms;function Yt(){return ms||(ms=1,(function(m,h){(function(i,t){m.exports=t()})(Qt,(function(){return function(i,t,p){i=i||{};var C=t.prototype,K={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function v(k,u,M,F){return C.fromToBase(k,u,M,F)}p.en.relativeTime=K,C.fromToBase=function(k,u,M,F,L){for(var x,b,E,O=M.$locale().relativeTime||K,A=i.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],I=A.length,T=0;T<I;T+=1){var B=A[T];B.d&&(x=F?p(k).diff(M,B.d,!0):M.diff(k,B.d,!0));var c=(i.rounding||Math.round)(Math.abs(x));if(E=x>0,c<=B.r||!B.r){c<=1&&T>0&&(B=A[T-1]);var a=O[B.l];L&&(c=L(""+c)),b=typeof a=="string"?a.replace("%d",c):a(c,u,B.l,E);break}}if(u)return b;var y=E?O.future:O.past;return typeof y=="function"?y(b):y.replace("%s",b)},C.to=function(k,u){return v(k,u,this,!0)},C.from=function(k,u){return v(k,u,this)};var S=function(k){return k.$u?p.utc():p()};C.toNow=function(k){return this.to(S(this),k)},C.fromNow=function(k){return this.from(S(this),k)}}}))})(Oe)),Oe.exports}var Xt=Yt();const Zt=zs(Xt);he.extend(Zt);const Jt=({title:m,content:h,id:i,functions:t,icon:p,gradient:C})=>{var M,F,L;const K=ue(x=>x.auth.user),v=(F=K==null?void 0:K.plan)!=null?F:(M=K==null?void 0:K.subscription)==null?void 0:M.plan;Be();const{handleProAction:S}=fs(),{handlePopup:k}=Ke(),u=()=>{S(()=>{var x,b,E,O,A;i==="A"?(x=t.showQuickBlogModal)==null||x.call(t):i===1?(b=t.showModal)==null||b.call(t):i==="B"?(E=t.showMultiStepModal)==null||E.call(t):i===4?(O=t.showCompetitiveAnalysis)==null||O.call(t):i===3&&((A=t.showPerformanceMonitoring)==null||A.call(t))})};return e.jsxs("div",{onClick:u,className:"group relative bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-xl hover:scale-[1.02] transition-all duration-300 cursor-pointer overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-5 transition-opacity duration-300 from-blue-500 to-purple-500"}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-r ${C} text-white mb-6 transition-transform duration-300`,children:p}),["free","basic"].includes((L=v==null?void 0:v.toLowerCase)==null?void 0:L.call(v))&&i==="B"&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(ws,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:m}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:h}),e.jsxs("div",{className:"flex items-center text-blue-600 font-medium text-sm group-hover:gap-2 transition-all",children:["Get Started",e.jsx(bs,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})},er=({icon:m,title:h,content:i,id:t,functions:p,bgColor:C,hoverBg:K,color:v,navigate:S})=>{var b,E,O;const k=Be(),u=ue(A=>A.auth.user),M=(E=u==null?void 0:u.plan)!=null?E:(b=u==null?void 0:u.subscription)==null?void 0:b.plan,{handlePopup:F}=Ke(),{handleProAction:L}=fs(),x=()=>{if(S){k(S);return}t===4&&(p!=null&&p.showCompetitiveAnalysis)?L(()=>p.showCompetitiveAnalysis()):t===3&&(p!=null&&p.showPerformanceMonitoring)?L(()=>p.showPerformanceMonitoring()):t===2&&(p!=null&&p.showSeoAnalysis)?L(()=>p.showSeoAnalysis()):t===1&&(p!=null&&p.showKeywordResearch)&&L(()=>p.showKeywordResearch())};return e.jsxs("div",{onClick:x,className:`group p-6 rounded-xl ${C} ${K} border border-transparent hover:border-gray-200 hover:shadow-md transition-all duration-300 cursor-pointer`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(H.div,{whileHover:{scale:1.15,rotate:8},transition:{type:"spring",stiffness:300},className:`inline-flex items-center justify-center w-12 h-12 rounded-xl bg-white ${v} mb-4 group-hover:scale-110 transition-transform duration-300 shadow-sm`,children:m}),["free","basic"].includes((O=M==null?void 0:M.toLowerCase)==null?void 0:O.call(M))&&t===4&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(ws,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors text-[18px]",children:h}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:i})]})},sr=({title:m,content:h,tags:i,item:t,time:p})=>{var k,u,M,F,L;const C=Be(),K=(L=(F=(M=(u=(k=h==null?void 0:h.replace(/^#+\s*/gm,""))==null?void 0:k.replace(/#[^\s#]+/g,""))==null?void 0:u.replace(/[*_~`>\\=|-]+/g,""))==null?void 0:M.replace(/\n+/g," "))==null?void 0:F.replace(/\s+/g," "))==null?void 0:L.trim(),v=K&&K.length>80?`${K.substring(0,80)}...`:K||"",S=()=>{t&&t._id&&C(`/toolbox/${t._id}`,{state:{blog:t}})};return e.jsx("div",{onClick:S,className:"group p-4 sm:p-5 md:p-6 rounded-xl border border-gray-200 hover:border-blue-200 hover:shadow-md transition-all duration-300 cursor-pointer mb-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-3",children:[e.jsx("h3",{className:"font-bold capitalize text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-1",children:m}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${t!=null&&t.isManuallyEdited?"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"}`,children:t!=null&&t.isManuallyEdited?"Manually Generated":(t==null?void 0:t.aiModel)||"Gemini"}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${(t==null?void 0:t.status)==="complete"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:(t==null?void 0:t.status)||""})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:v}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i==null?void 0:i.map((x,b)=>e.jsx("span",{className:"px-3 py-1 text-xs capitalize bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors",children:x},b))})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-500 ml-auto",children:[e.jsx("span",{children:"View"}),e.jsx("span",{children:he(p).fromNow()}),e.jsx(bs,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})})},tr=({closeFnc:m})=>{var $e,Fe,Pe;const h=ve(),i=Be(),{handlePopup:t}=Ke(),p=ue(o=>o.auth.user),{data:C}=ue(o=>o.wordpress),K=(($e=p==null?void 0:p.subscription)==null?void 0:$e.plan)||(p==null?void 0:p.plan),[v,S]=j.useState(!1),[k,u]=j.useState(!1),M=((Fe=p==null?void 0:p.usage)==null?void 0:Fe.aiImages)>=((Pe=p==null?void 0:p.usageLimits)==null?void 0:Pe.aiImages);j.useRef(null);const[F,L]=j.useState(0),[x,b]=j.useState(null),[E,O]=j.useState(null),{Option:A}=je,I={templates:[],topics:[],keywords:[],topicInput:"",keywordInput:"",performKeywordResearch:!0,tone:"",userDefinedLength:1e3,imageSource:"unsplash",useBrandVoice:!1,useCompetitors:!1,includeInterlinks:!0,includeFaqs:!0,numberOfBlogs:1,numberOfImages:0,wordpressPostStatus:!1,postFrequency:600,aiModel:"gemini",includeTableOfContents:!1,isCheckedGeneratedImages:!0,addOutBoundLinks:!1,blogImages:[],postingType:null,brandId:null,addCTA:!1,isDragging:!1},T={templates:"",topics:"",topicsCSV:"",keywords:"",keywordsCSV:"",tone:"",integration:"",aiModel:"",numberOfBlogs:"",numberOfImages:"",blogImages:"",brandId:""},[B,c]=j.useState(T),[a,y]=j.useState(I),X=Vs();j.useEffect(()=>{X.prefetchQuery({queryKey:["brands"],queryFn:()=>ce(null,null,function*(){return yield h(_e()).unwrap()})})},[h,X]);const{data:D=[],isLoading:ee,error:se}=qe({queryKey:["brands"],queryFn:()=>ce(null,null,function*(){return yield h(_e()).unwrap()}),enabled:a.useBrandVoice,staleTime:1/0,gcTime:1/0,refetchOnWindowFocus:!1});j.useEffect(()=>{h(Rs())},[h]),j.useEffect(()=>{M&&a.isCheckedGeneratedImages&&(y(o=>n(r({},o),{isCheckedGeneratedImages:!1,imageSource:"unsplash"})),c(o=>n(r({},o),{numberOfImages:!1,blogImages:!1})))},[M]);const J=()=>{if(F===0){if(a.templates.length===0){c(o=>n(r({},o),{templates:"Please select at least one template."}));return}c(o=>n(r({},o),{templates:""}))}if(F===1){const o={topics:a.topics.length===0&&a.topicInput.trim()===""?"Please add at least one topic.":"",keywords:!a.performKeywordResearch&&a.keywords.length===0&&a.keywordInput.trim()===""?"Please add at least one keyword.":"",tone:a.tone?"":"Please select a tone of voice."};if(c(N=>r(r({},N),o)),Object.values(o).some(N=>N))return}L(o=>o+1)},re=()=>{L(o=>o>0?o-1:o),c(o=>r(r({},o),T))},w=()=>{y(I),c(T),m()},g=()=>{const o={templates:a.templates.length===0?"Please select at least one template.":"",topics:a.topics.length===0&&a.topicInput.trim()===""?"Please add at least one topic.":"",keywords:!a.performKeywordResearch&&a.keywords.length===0&&a.keywordInput.trim()===""?"Please add at least one keyword.":"",tone:a.tone?"":"Please select a tone of voice.",integration:a.wordpressPostStatus&&Object.keys((C==null?void 0:C.integrations)||{}).length>0&&!a.postingType?"Please select a publishing platform.":"",aiModel:a.aiModel?"":"Please select an AI model.",numberOfBlogs:a.numberOfBlogs<1||a.numberOfBlogs>10?"Number of blogs must be between 1 and 10.":"",numberOfImages:a.numberOfImages===""||a.numberOfImages<0||a.numberOfImages>20?"Number of images must be between 0 and 20.":"",blogImages:a.isCheckedGeneratedImages&&a.imageSource==="customImage"&&a.blogImages.length===0?"Please upload at least one custom image.":"",brandId:a.useBrandVoice&&!a.brandId?"Please select a brand voice.":""};if(c(q=>r(r({},q),o)),Object.values(o).some(q=>q)){const q=o.templates?0:o.topics||o.keywords||o.tone?1:2;L(q);return}const N=a.aiModel||"gemini",G=Ye("blog.single",N),$=a.numberOfBlogs*G;t({title:"Bulk Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Estimated cost for ",e.jsx("b",{children:a.numberOfBlogs})," blog",a.numberOfBlogs>1?"s":"",": ",e.jsxs("b",{children:[$," credits"]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue?"})]}),onConfirm:()=>{h(_s({blogData:a,user:p,navigate:i})),w()}})},l=o=>{const N=ie[o].name;a.templates.includes(N)?(y($=>n(r({},$),{templates:$.templates.filter(q=>q!==N)})),c($=>n(r({},$),{templates:""}))):a.templates.length<3?(y($=>n(r({},$),{templates:[...$.templates,N]})),c($=>n(r({},$),{templates:""}))):c($=>n(r({},$),{templates:"You can select a maximum of 3 templates."}))},d=o=>{const{name:N,value:G,type:$}=o.target;let q;if($==="tel")if(G==="")q="";else{const Q=parseInt(G,10);isNaN(Q)?q="":(q=Q,q<0&&(q=0),N==="numberOfBlogs"&&q>10&&(q=10),N==="numberOfImages"&&q>20&&(q=20))}else q=G;y(Q=>n(r({},Q),{[N]:q})),c(Q=>n(r({},Q),{[N]:""}))},s=o=>{const{name:N,checked:G}=o.target;if(N==="wordpressPostStatus"&&G&&!(Object.keys((C==null?void 0:C.integrations)||{}).length>0)){c(q=>n(r({},q),{integration:"Please connect your account in plugins."}));return}y($=>n(r({},$),{[N]:G,postingType:N==="wordpressPostStatus"&&!G?null:$.postingType})),N==="performKeywordResearch"&&c($=>n(r({},$),{keywords:"",keywordsCSV:""})),N==="wordpressPostStatus"&&c($=>n(r({},$),{integration:""}))},f=o=>{y(N=>n(r({},N),{topicInput:o.target.value})),c(N=>n(r({},N),{topics:"",topicsCSV:""}))},z=o=>{y(N=>n(r({},N),{keywordInput:o.target.value})),c(N=>n(r({},N),{keywords:"",keywordsCSV:""}))},P=()=>{const o=a.topicInput.trim();if(o==="")return c($=>n(r({},$),{topics:"Please enter a topic."})),!1;const N=a.topics.map($=>$.toLowerCase().trim()),G=o.split(",").map($=>$.trim()).filter($=>$!==""&&!N.includes($.toLowerCase()));return G.length===0?(c($=>n(r({},$),{topics:"Please enter valid, non-duplicate topics separated by commas."})),y($=>n(r({},$),{topicInput:""})),!1):(y($=>n(r({},$),{topics:[...$.topics,...G],topicInput:""})),c($=>n(r({},$),{topics:"",topicsCSV:""})),!0)},_=o=>{y(N=>n(r({},N),{topics:N.topics.filter((G,$)=>$!==o)})),c(N=>n(r({},N),{topics:"",topicsCSV:""}))},U=()=>{const o=a.keywordInput.trim();if(o==="")return c($=>n(r({},$),{keywords:"Please enter a keyword."})),!1;const N=a.keywords.map($=>$.toLowerCase().trim()),G=o.split(",").map($=>$.trim()).filter($=>$!==""&&!N.includes($.toLowerCase()));return G.length===0?(c($=>n(r({},$),{keywords:"Please enter valid, non-duplicate keywords separated by commas."})),y($=>n(r({},$),{keywordInput:""})),!1):(y($=>n(r({},$),{keywords:[...$.keywords,...G],keywordInput:""})),c($=>n(r({},$),{keywords:"",keywordsCSV:""})),!0)},ae=o=>{y(N=>n(r({},N),{keywords:N.keywords.filter((G,$)=>$!==o)})),c(N=>n(r({},N),{keywords:"",keywordsCSV:""}))},ne=o=>{if(o.key==="Enter"){o.preventDefault();const N=P();!a.performKeywordResearch&&N&&U()}},ye=o=>{y(N=>n(r({},N),{imageSource:o})),c(N=>n(r({},N),{blogImages:"",numberOfImages:""}))},Z=o=>{y(N=>n(r({},N),{postingType:o})),c(N=>n(r({},N),{integration:""}))},Ie=o=>{var q;const N=(q=o.target.files)==null?void 0:q[0];if(!N){c(Q=>n(r({},Q),{topicsCSV:"No file selected. Please choose a valid CSV file."})),o.target.value=null;return}if(!N.name.toLowerCase().endsWith(".csv")){c(Q=>n(r({},Q),{topicsCSV:"Invalid file type. Please upload a .csv file."})),o.target.value=null;return}const G=20*1024;if(N.size>G){c(Q=>n(r({},Q),{topicsCSV:"File size exceeds 20KB limit. Please upload a smaller file."})),o.target.value=null;return}const $=new FileReader;$.onload=Q=>{var be;const V=(be=Q.target)==null?void 0:be.result;if(!V||typeof V!="string"){c(R=>n(r({},R),{topicsCSV:"Failed to read the CSV file. Please ensure it is valid."}));return}let W=V.trim().split(/\r?\n/);if(W.length===0){c(R=>n(r({},R),{topicsCSV:"The CSV file is empty. Please provide a valid CSV with topics."}));return}(W[0].toLowerCase().includes("topics")||W[0].toLowerCase().includes("keyword"))&&(W=W.slice(1));const te=W.map(R=>R.split(",").map(oe=>oe.trim()).find(oe=>oe)||null).filter(R=>R&&R.trim().length>0);if(te.length===0){c(R=>n(r({},R),{topicsCSV:"No valid topics found in the CSV file."}));return}const de=a.topics.map(R=>R.toLowerCase().trim()),me=new Set,ge=te.filter(R=>{const le=R.toLowerCase().trim();return!R||me.has(le)||de.includes(le)?!1:(me.add(le),!0)});if(ge.length===0){c(R=>n(r({},R),{topicsCSV:"No new topics found in the CSV. All provided items are either duplicates or already exist."}));return}y(R=>n(r({},R),{topics:[...R.topics,...ge]})),c(R=>n(r({},R),{topics:"",topicsCSV:""})),b(ge.length),setTimeout(()=>b(null),5e3)},$.onerror=()=>{c(Q=>n(r({},Q),{topicsCSV:"An error occurred while reading the CSV file."}))},$.readAsText(N),o.target.value=null},Se=o=>{var q;const N=(q=o.target.files)==null?void 0:q[0];if(!N){c(Q=>n(r({},Q),{keywordsCSV:"No file selected. Please choose a valid CSV file."})),o.target.value=null;return}if(!N.name.toLowerCase().endsWith(".csv")){c(Q=>n(r({},Q),{keywordsCSV:"Invalid file type. Please upload a .csv file."})),o.target.value=null;return}const G=20*1024;if(N.size>G){c(Q=>n(r({},Q),{keywordsCSV:"File size exceeds 20KB limit. Please upload a smaller file."})),o.target.value=null;return}const $=new FileReader;$.onload=Q=>{var be;const V=(be=Q.target)==null?void 0:be.result;if(!V||typeof V!="string"){c(R=>n(r({},R),{keywordsCSV:"Failed to read the CSV file. Please ensure it is valid."}));return}let W=V.trim().split(/\r?\n/);if(W.length===0){c(R=>n(r({},R),{keywordsCSV:"The CSV file is empty. Please provide a valid CSV with keywords."}));return}(W[0].toLowerCase().includes("keywords")||W[0].toLowerCase().includes("keyword"))&&(W=W.slice(1));const te=W.map(R=>R.split(",").map(oe=>oe.trim()).find(oe=>oe)||null).filter(R=>R&&R.trim().length>0);if(te.length===0){c(R=>n(r({},R),{keywordsCSV:"No valid keywords found in the CSV file."}));return}const de=a.keywords.map(R=>R.toLowerCase().trim()),me=new Set,ge=te.filter(R=>{const le=R.toLowerCase().trim();return!R||me.has(le)||de.includes(le)?!1:(me.add(le),!0)});if(ge.length===0){c(R=>n(r({},R),{keywordsCSV:"No new keywords found in the CSV. All provided items are either duplicates or already exist."}));return}y(R=>n(r({},R),{keywords:[...R.keywords,...ge]})),c(R=>n(r({},R),{keywords:"",keywordsCSV:""})),O(ge.length),setTimeout(()=>O(null),5e3)},$.onerror=()=>{c(Q=>n(r({},Q),{keywordsCSV:"An error occurred while reading the CSV file."}))},$.readAsText(N),o.target.value=null},Ne=["Select Templates","Add Details","Blog Options"];return e.jsx(fe,{title:`Step ${F+1}: ${Ne[F]}`,open:!0,onCancel:w,footer:e.jsxs("div",{className:"flex justify-end gap-3",children:[F>0&&e.jsx("button",{onClick:re,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none",children:"Previous"}),e.jsx("button",{onClick:F===2?g:J,className:"px-4 py-2 text-sm font-medium text-white bg-[#1B6FC9] rounded-md hover:bg-[#1B6FC9]/90 focus:outline-none",children:F===2?"Generate Blogs":"Next"})]}),width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"p-2 md:p-4 max-h-[80vh] overflow-y-auto",children:[F===0&&e.jsxs("div",{className:`p-3 md:p-0 ${B.templates?"border-2 border-red-500 rounded-lg":""}`,children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3 sm:mb-4",children:"Select up to 3 templates for the types of blogs you want to generate."}),e.jsx("div",{className:"sm:hidden grid grid-cols-2 gap-4",children:ie.map((o,N)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 w-full ${a.templates.includes(o.name)?"border-gray-200 border-2 rounded-lg":""}`,onClick:()=>l(N),role:"button",tabIndex:0,onKeyDown:G=>G.key==="Enter"&&l(N),"aria-label":`Select ${o.name} template`,children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:o.imgSrc||"/placeholder.svg",alt:o.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:o.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:o.description})]})]})},o.name))}),e.jsx("div",{className:"hidden sm:block",children:e.jsx(He,{className:"flex flex-row gap-4",children:ie.map((o,N)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 w-full ${a.templates.includes(o.name)?"border-gray-200 border-2 rounded-lg":""}`,onClick:()=>l(N),role:"button",tabIndex:0,onKeyDown:G=>G.key==="Enter"&&l(N),"aria-label":`Select ${o.name} template`,children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:o.imgSrc||"/placeholder.svg",alt:o.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:o.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:o.description})]})]})},o.name))})}),B.templates&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.templates})]}),F===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Topics ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(Le,{title:"Upload a .csv file in the format: `Topics` as header",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(ds,{size:16,className:"text-blue-500"})})})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the main topics for your blogs."}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("input",{type:"text",value:a.topicInput,onChange:f,onKeyDown:ne,className:`w-full px-3 py-2 border rounded-md text-sm bg-gray-50 ${B.topics?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-blue-500`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:P,className:"flex-1 sm:flex-none px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:`flex-1 sm:flex-none px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center justify-center gap-1 hover:bg-gray-200 ${B.topicsCSV?"border-red-500":"border-gray-300"}`,children:[e.jsx(cs,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:Ie,hidden:!0})]})]}),B.topics&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.topics}),B.topicsCSV&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.topicsCSV}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[(v?a.topics.slice().reverse():a.topics.slice().reverse().slice(0,18)).map((o,N)=>{const G=a.topics.length-1-N;return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[o,e.jsx("button",{type:"button",onClick:()=>_(G),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(xe,{className:"w-3 h-3"})})]},`${o}-${G}`)}),(a.topics.length>18||x)&&e.jsx("span",{onClick:()=>S(o=>!o),className:"cursor-pointer text-xs font-medium text-blue-600 self-center flex items-center gap-1",children:v?e.jsx(e.Fragment,{children:"Show less"}):e.jsxs(e.Fragment,{children:[a.topics.length>18&&`+${a.topics.length-18} more`,x&&` (+${x} uploaded)`]})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Perform Keyword Research?",e.jsx("p",{className:"text-xs text-gray-500",children:"Allow AI to find relevant keywords for the topics."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"performKeywordResearch",checked:a.performKeywordResearch,onChange:s,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),!a.performKeywordResearch&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(Le,{title:"Upload a .csv file in the format: `Keywords` as header",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(ds,{size:16,className:"text-blue-500"})})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:a.keywordInput,onChange:z,onKeyDown:ne,className:`flex-1 px-3 py-2 border rounded-md text-sm bg-gray-50 ${B.keywords?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-blue-500`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:U,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:`px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200 ${B.keywordsCSV?"border-red-500":"border-gray-300"}`,children:[e.jsx(cs,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:Se,hidden:!0})]})]}),B.keywords&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.keywords}),B.keywordsCSV&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.keywordsCSV}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[(k?a.keywords.slice().reverse():a.keywords.slice().reverse().slice(0,18)).map((o,N)=>{const G=a.keywords.length-1-N;return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[o,e.jsx("button",{type:"button",onClick:()=>ae(G),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(xe,{className:"w-3 h-3"})})]},`${o}-${G}`)}),(a.keywords.length>18||E)&&e.jsx("span",{onClick:()=>u(o=>!o),className:"cursor-pointer text-xs font-medium text-blue-600 self-center flex items-center gap-1",children:k?e.jsx(e.Fragment,{children:"Show less"}):e.jsxs(e.Fragment,{children:[a.keywords.length>18&&`+${a.keywords.length-18} more`,E&&` (+${E} uploaded)`]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"tone",className:"block text-sm font-medium text-gray-700 mb-2",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(je,{className:"w-full",value:a.tone,onChange:o=>{y(N=>n(r({},N),{tone:o})),c(N=>n(r({},N),{tone:""}))},placeholder:"Select tone",status:B.tone?"error":"",children:[e.jsx(A,{value:"",children:"Select Tone"}),e.jsx(A,{value:"professional",children:"Professional"}),e.jsx(A,{value:"casual",children:"Casual"}),e.jsx(A,{value:"friendly",children:"Friendly"}),e.jsx(A,{value:"formal",children:"Formal"}),e.jsx(A,{value:"conversational",children:"Conversational"}),e.jsx(A,{value:"witty",children:"Witty"}),e.jsx(A,{value:"informative",children:"Informative"}),e.jsx(A,{value:"inspirational",children:"Inspirational"}),e.jsx(A,{value:"persuasive",children:"Persuasive"}),e.jsx(A,{value:"empathetic",children:"Empathetic"})]}),B.tone&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.tone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approx. Blog Length (Words)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:a.userDefinedLength,className:"w-full h-1 rounded-lg appearance-none cursor-pointer bg-gradient-to-r from-[#1B6FC9] to-gray-100 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${(a.userDefinedLength-500)/4500*100}%, #E5E7EB ${(a.userDefinedLength-500)/4500*100}%)`},onChange:o=>{y(N=>n(r({},N),{userDefinedLength:parseInt(o.target.value,10)}))}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[a.userDefinedLength," words"]})]})]})]})]}),F===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Select AI Model ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 ${B.aiModel?"border-2 border-red-500 rounded-lg p-2":""}`,children:[{id:"gemini",label:"Gemini",logo:"/Images/gemini.png",restricted:!1},{id:"chatgpt",label:"ChatGPT",logo:"/Images/chatgpt.png",restricted:K==="free"},{id:"claude",label:"Claude",logo:"/Images/claude.png",restricted:K==="free"||K==="basic"}].map(o=>e.jsxs("label",{htmlFor:o.id,className:`relative border rounded-lg px-4 py-3 flex items-center gap-3 cursor-pointer transition-all duration-150 ${a.aiModel===o.id?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm ${o.restricted?"opacity-50 cursor-not-allowed":""}`,onClick:N=>{o.restricted&&(N.preventDefault(),openUpgradePopup({featureName:o.label,navigate:i}))},children:[e.jsx("input",{type:"radio",id:o.id,name:"aiModel",value:o.id,checked:a.aiModel===o.id,onChange:N=>{o.restricted||(y(G=>n(r({},G),{aiModel:N.target.value})),c(G=>n(r({},G),{aiModel:""})))},className:"hidden",disabled:o.restricted}),e.jsx("img",{src:o.logo,alt:o.label,className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:o.label})]},o.id))}),B.aiModel&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.aiModel})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Add Image"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{htmlFor:"add-image-toggle",className:`relative inline-block w-12 h-6 ${M?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("input",{type:"checkbox",id:"add-image-toggle",className:"sr-only peer",checked:a.isCheckedGeneratedImages,disabled:M,onChange:o=>{if(M){openUpgradePopup({featureName:"AI-Generated Images",navigate:i});return}const N=o.target.checked;y(G=>n(r({},G),{isCheckedGeneratedImages:N,imageSource:N?G.imageSource:"unsplash"})),c(G=>n(r({},G),{numberOfImages:"",blogImages:""}))}}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${a.isCheckedGeneratedImages&&!M?"bg-[#1B6FC9]":"bg-gray-300"}`}),e.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 ${a.isCheckedGeneratedImages&&!M?"translate-x-6":""}`})]}),M&&e.jsx(Le,{title:"You've reached your AI image generation limit. It'll reset in the next billing cycle.",overlayInnerStyle:{backgroundColor:"#FEF9C3",border:"1px solid #FACC15",color:"#78350F"},children:e.jsx(Qe,{className:"text-yellow-400 ml-4",size:15})})]})]}),a.isCheckedGeneratedImages&&!M&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Image Source"}),e.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 gap-3 ${B.blogImages&&a.imageSource==="customImage"?"border-2 border-red-500 rounded-lg p-2":""}`,children:[{id:"unsplash",label:"Stock Images",value:"unsplash",restricted:!1},{id:"ai",label:"AI Generated",value:"ai",restricted:K==="free"}].map(o=>e.jsxs("label",{htmlFor:o.id,className:`border rounded-lg px-4 py-3 flex items-center justify-center gap-3 cursor-pointer transition-all duration-150 ${a.imageSource===o.value?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm ${o.restricted?"opacity-50 cursor-not-allowed":""}`,onClick:N=>{o.restricted&&(N.preventDefault(),openUpgradePopup({featureName:o.label,navigate:i}))},children:[e.jsx("input",{type:"radio",id:o.id,name:"imageSource",value:o.value,checked:a.imageSource===o.value,onChange:()=>{o.restricted||ye(o.value)},className:"hidden",disabled:o.restricted}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:o.label})]},o.id))}),e.jsxs("div",{className:"pt-4 w-full",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Number of Images"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the number of images (0 = AI will decide)"}),e.jsx("input",{type:"tel",inputMode:"numeric",name:"numberOfImages",min:"0",max:"15",value:a.numberOfImages,onChange:d,onWheel:o=>o.currentTarget.blur(),className:`w-full px-4 py-2 border rounded-lg text-sm placeholder-gray-400 transition ${B.numberOfImages?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-blue-500`,placeholder:"e.g., 5"}),B.numberOfImages&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.numberOfImages})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Write with Brand Voice"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.useBrandVoice&&(D==null?void 0:D.length)>0,onChange:()=>{if(!D||D.length===0){Y.warning("No brand voices available. Create one to enable this option.",3);return}y(o=>n(r({},o),{useBrandVoice:!o.useBrandVoice,brandId:o.useBrandVoice?null:o.brandId})),c(o=>n(r({},o),{brandId:""}))},className:"sr-only peer","aria-checked":a.useBrandVoice&&(D==null?void 0:D.length)>0}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),a.useBrandVoice&&e.jsx("div",{className:`mt-3 p-4 rounded-md border bg-gray-50 ${B.brandId?"border-red-500":"border-gray-200"}`,children:ee?e.jsx("div",{className:"text-gray-500 text-sm",children:"Loading brand voices..."}):se?e.jsx("div",{className:"text-red-500 text-sm font-medium",children:se}):(D==null?void 0:D.length)>0?e.jsx("div",{className:"max-h-48 overflow-y-auto pr-1",children:e.jsx("div",{children:D.map(o=>e.jsxs("label",{className:`flex items-start gap-2 p-3 mb-3 rounded-md cursor-pointer ${a.brandId===o._id?"bg-blue-100 border-blue-300":"bg-white border border-gray-200"}`,children:[e.jsx("input",{type:"radio",name:"selectedBrandVoice",value:o._id,checked:a.brandId===o._id,onChange:()=>{y(N=>n(r({},N),{brandId:o._id})),c(N=>n(r({},N),{brandId:""}))},className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-700",children:o.nameOfVoice}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o.describeBrand})]})]},o._id))})}):e.jsx("div",{className:"text-gray-500 text-sm italic",children:"No brand voices available. Create one to get started."})}),B.brandId&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.brandId}),a.useBrandVoice&&e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add CTA at the End"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.addCTA,onChange:()=>{y(o=>n(r({},o),{addCTA:!o.addCTA}))},className:"sr-only peer","aria-checked":a.addCTA}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Interlinks",e.jsx("p",{className:"text-xs text-gray-500",children:"Attempt to link between generated blogs if relevant."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeInterlinks",checked:a.includeInterlinks,onChange:s,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include FAQ Section",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate relevant FAQ questions and answers for the blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeFaqs",checked:a.includeFaqs,onChange:s,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Automatic Posting",e.jsx("p",{className:"text-xs text-gray-500",children:"Automatically post blogs on the selected dates."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"wordpressPostStatus",checked:a.wordpressPostStatus,onChange:s,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),a.wordpressPostStatus&&(C==null?void 0:C.integrations)&&Object.keys(C.integrations).length>0&&e.jsxs("div",{className:`${B.integration?"border-2 border-red-500 rounded-lg p-2":""}`,children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Select Your Publishing Platform ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Post your blog automatically to connected platforms only."})]}),e.jsxs(je,{className:"w-full mt-2",placeholder:"Select platform",value:a.postingType,onChange:Z,status:B.integration?"error":"",children:[e.jsx(A,{value:null,children:"Select Platform"}),Object.entries(C.integrations).map(([o])=>e.jsx(A,{value:o,children:o},o))]}),B.integration&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.integration})]}),a.wordpressPostStatus&&e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Table of Contents",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate a table of contents for each blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeTableOfContents",checked:a.includeTableOfContents,onChange:s,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Competitive Research",e.jsx("p",{className:"text-xs text-gray-500",children:"Perform competitive research to analyze similar blogs."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"useCompetitors",checked:a.useCompetitors,onChange:s,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),a.useCompetitors&&e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Show Outbound Links",e.jsx("p",{className:"text-xs text-gray-500",children:"Display outbound links found during competitor analysis."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"addOutBoundLinks",checked:a.addOutBoundLinks,onChange:s,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Number of Blogs ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"How many blogs to generate based on the topics provided."}),e.jsx("input",{type:"tel",inputMode:"numeric",name:"numberOfBlogs",min:"1",max:"10",value:a.numberOfBlogs===0?"":a.numberOfBlogs,onChange:d,onWheel:o=>o.currentTarget.blur(),className:`w-full px-3 py-2 border rounded-md text-sm ${B.numberOfBlogs?"border-red-500":"border-gray-300"} focus:ring-2 focus:ring-blue-500`,placeholder:"e.g., 5"}),B.numberOfBlogs&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.numberOfBlogs})]})})]})]})})},rr=({closeFnc:m})=>{const[h,i]=j.useState(1),t=()=>i(h+1),p=()=>i(h-1);return e.jsxs("div",{className:"border-8 border-teal-700",children:[e.jsx("input",{type:"checkbox",id:"my-modal",className:"modal-toggle"}),e.jsx("div",{className:"modal",children:e.jsxs("div",{className:"modal-box",children:[h===1&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 1"}),e.jsx("p",{className:"py-4",children:"Content for step 1 goes here."}),e.jsx("div",{className:"modal-action",children:e.jsx("button",{className:"btn border-8 border-teal-700",onClick:t,children:"Next"})})]}),h===2&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 2"}),e.jsx("p",{className:"py-4",children:"Content for step 2 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:p,children:"Previous"}),e.jsx("button",{className:"btn",onClick:t,children:"Next"})]})]}),h===3&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 3"}),e.jsx("p",{className:"py-4",children:"Content for step 3 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:m,children:"Previous"}),e.jsx("label",{htmlFor:"my-modal",className:"btn",children:"Finish"})]})]})]})})]})},ar=({onClose:m})=>e.jsxs(fe,{open:!0,onCancel:m,centered:!0,footer:null,closeIcon:e.jsx(xe,{size:24,className:"text-gray-500 hover:text-gray-800 transition-colors"}),width:900,styles:{padding:0,borderRadius:"12px",overflow:"hidden"},destroyOnClose:!0,children:[e.jsxs("div",{className:"p-3 md:p-6 pb-0 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Hereâ€™s How We Make Things Easy"}),e.jsx("p",{className:"mt-2 text-md text-gray-600",children:"See how each feature helps you get more done, faster."})]}),e.jsx("div",{className:"relative rounded-lg overflow-hidden m-6 mt-4",children:e.jsx("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/Yq9WDkzi39U?autoplay=0&mute=1&loop=1&playlist=Yq9WDkzi39U",title:"YouTube video player",frameborder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0,className:"w-full h-64 sm:h-80 md:h-96 lg:h-[500px] rounded-lg"})})]}),nr=[{id:1,imageUrl:"./Images/createnew.png",title:"Create New Blog",icon:e.jsx(ot,{className:"w-6 h-6"}),content:"Generate blogs, email, product, description, etc.",hoverGradient:"from-blue-600 to-blue-700"},{id:"A",imageUrl:"./Images/quickblog.png",title:"Generate Quick Blog",icon:e.jsx(it,{className:"w-6 h-6"}),content:"With few inputs you are good to go to create Awesome blogs!",hoverGradient:"from-purple-600 to-purple-700"},{id:"B",imageUrl:"./Images/createmultipleblog.png",title:"Create Multiple Blogs",icon:e.jsx(St,{className:"w-6 h-6"}),content:"Generate multiple blogs using a variety of customizable templates.",hoverGradient:"from-emerald-600 to-emerald-700"}],lr=[{id:1,title:"Keyword Research",content:"Explore keywords, check stats, and power your blogs & jobs.",icon:e.jsx(dt,{className:"w-8 h-8"}),color:"text-blue-600",bgColor:"bg-blue-50",hoverBg:"hover:bg-blue-100"},{id:3,title:"Performance Monitoring",content:"Monitor your blog's SEO, keywords, and competitor data easily.",icon:e.jsx(ct,{className:"w-8 h-8"}),color:"text-orange-600",bgColor:"bg-orange-50",hoverBg:"hover:bg-orange-100"},{id:4,title:"Competitor Analysis",content:"Analyze your competitors' content and strategies.",icon:e.jsx(ut,{className:"w-8 h-8"}),color:"text-purple-600",bgColor:"bg-purple-50",hoverBg:"hover:bg-purple-100"},{id:5,title:"Analytics",content:"Visualize performance, unlock insights, and stay ahead",icon:e.jsx(kt,{className:"w-8 h-8"}),color:"text-green-600",bgColor:"bg-green-50",hoverBg:"hover:bg-green-100",navigate:"/analytics"}],or=({closeFnc:m})=>{var O;const[h,i]=j.useState({selectedBlog:null,title:"",content:""}),[t,p]=j.useState(!1),[C,K]=j.useState(null),v=ve(),{blogs:S,error:k}=ue(A=>A.blog);j.useEffect(()=>{v(gs())},[v]),j.useEffect(()=>{k&&Y.error(k)},[k]);const u=A=>{i({selectedBlog:A,title:A.title,content:A.content}),K(null)},M=()=>ce(null,null,function*(){if(!h.selectedBlog){Y.error("Please select a blog");return}p(!0);try{const A=yield v(Ge(h.selectedBlog._id));if(Ge.fulfilled.match(A)){const{stats:I}=A.payload;K(I),Y.success("Performance analysis completed!")}else Y.error("Something went wrong during stats fetching.")}catch(A){Y.error("Unexpected error occurred.")}finally{p(!1)}}),F={flesch:"ðŸ“˜ Flesch Reading Ease (0â€“100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"ðŸ“— SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"ðŸ“™ ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"ðŸ“ˆ SEO Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},L=({type:A="seo"})=>e.jsx(Le,{title:F[A],trigger:["hover","click"],placement:"top",children:e.jsx(vs,{className:"ml-2 text-black size-8 hover:text-blue-500 cursor-pointer"})}),x=({icon:A,label:I,value:T,color:B,delay:c=0,suffix:a="",description:y=""})=>e.jsx(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:c*.1,duration:.3},className:`p-4 bg-white rounded-xl border ${B} shadow-sm`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[A&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-500",children:A}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:I}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-1",children:[T,a]}),y&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:y})]})]})}),b=({score:A,max:I,label:T,level:B,color:c})=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[T,e.jsx(L,{type:/seo/gi.test(T)?"seo":"flesch"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:B})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${c}`,style:{width:`${A/I*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[A," / ",I]})})]})]}),E=({stats:A})=>{var D,ee,se,J,re,w,g,l;if(!A)return null;const{readabililty:I={},seo:T={},engagement:B={},metadata:c={}}=A,a=(T==null?void 0:T.keywordDensity)||{},y=Object.entries(a).map(([d,{count:s,density:f}],z)=>({key:d,keyword:d,count:s,density:f,animationDelay:z*.1})),X=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(d,s)=>d.density-s.density,render:d=>`${d.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-5 mt-4",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(c==null?void 0:c.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(c==null?void 0:c.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(c==null?void 0:c.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(c==null?void 0:c.aiModel)||"-"})]})]}),(c==null?void 0:c.generatedAt)&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(c.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-green-100 rounded text-green-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 11.5V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1.4"}),e.jsx("path",{d:"M14 10V8a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2"}),e.jsx("path",{d:"M10 9.9V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v5"}),e.jsx("path",{d:"M6 14v0a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0"}),e.jsx("path",{d:"M18 11v0a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-4a8 8 0 0 1-8-8 2 2 0 1 1 4 0"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Engagement"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(x,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),label:"GenWrite Views",value:(B==null?void 0:B.views)||0,color:"border-green-100",delay:0}),e.jsx(x,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),label:"WordPress Views",value:(B==null?void 0:B.wordpressViews)||0,color:"border-green-100",delay:1})]}),e.jsx("div",{className:"mt-4 bg-gray-50 p-4 rounded-xl border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Public Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${B!=null&&B.isPublic?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:B!=null&&B.isPublic?"âœ… Public":"âŒ Private"})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(b,{score:(T==null?void 0:T.score)||0,max:100,label:"SEO Score",level:`${(T==null?void 0:T.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(x,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(T==null?void 0:T.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(x,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(T==null?void 0:T.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(x,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(T==null?void 0:T.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(D=T==null?void 0:T.focusKeywords)==null?void 0:D.map((d,s)=>e.jsx(H.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:s*.1},className:"px-3 py-1 bg-blue-50 rounded-full text-sm text-blue-700 border border-blue-100",children:d},d))})]}),(T==null?void 0:T.keywords.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Other Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(ee=T==null?void 0:T.keywords)==null?void 0:ee.map((d,s)=>e.jsx(H.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:s*.1},className:"px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-700 border border-gray-200",children:d},d))})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Keyword Densities"}),e.jsx(H.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:e.jsx(Xe,{dataSource:y,columns:X,pagination:!1,components:{body:{row:f=>{var z=f,{children:d}=z,s=ze(z,["children"]);var _;const P=((_=y[s["data-row-key"]])==null?void 0:_.animationDelay)||0;return e.jsx(H.tr,n(r({},s),{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:P},children:d}))}}},className:"rounded-md overflow-hidden"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(b,{score:((se=I==null?void 0:I.fleschEase)==null?void 0:se.score)||0,max:100,label:"Flesch Ease",level:((J=I==null?void 0:I.fleschEase)==null?void 0:J.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["SMOG Index",e.jsx(L,{type:"smog"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((re=I==null?void 0:I.smogIndex)==null?void 0:re.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((w=I==null?void 0:I.smogIndex)==null?void 0:w.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["ARI ",e.jsx(L,{type:"ari"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((g=I==null?void 0:I.ari)==null?void 0:g.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((l=I==null?void 0:I.ari)==null?void 0:l.score)||0," grade"]})]}),e.jsx(x,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(I==null?void 0:I.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(x,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(I==null?void 0:I.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(I==null?void 0:I.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(I==null?void 0:I.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(I==null?void 0:I.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(I==null?void 0:I.syllableCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paragraphs"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(I==null?void 0:I.paragraphCount)||0})]})]})]})]})};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs(H.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-4xl bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[e.jsxs(H.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Seo Analysis Dashboard"})]}),e.jsx("button",{onClick:m,className:"p-2 rounded-full hover:bg-gray-100 transition-all",children:e.jsx(xe,{className:"h-6 w-6 text-gray-500 hover:text-gray-700"})})]}),e.jsx("div",{className:"p-5 overflow-y-auto max-h-[80vh]",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Blog"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 appearance-none",onChange:A=>{const I=S.data.find(T=>T._id===A.target.value);I&&u(I)},value:((O=h.selectedBlog)==null?void 0:O._id)||"",children:[e.jsx("option",{value:"",className:"bg-gray-50",children:"Select a blog"}),S.data.map(A=>e.jsx("option",{value:A._id,className:"bg-gray-50 capitalize",children:A.title},A._id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),h.selectedBlog&&e.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"font-medium text-gray-700",children:"Preview"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 truncate capitalize",children:h.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3",children:h.content})]})]}),e.jsx(H.div,{className:"flex justify-end pt-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(H.button,{onClick:M,className:`px-5 py-2.5 rounded-lg font-medium flex items-center gap-2 ${t?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"} transition-all duration-300 shadow`,disabled:t||!h.selectedBlog,whileHover:{scale:!t&&h.selectedBlog?1.03:1},whileTap:{scale:.97},children:t?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),"Analyze Performance"]})})}),t&&!C&&e.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-4",children:[...Array(6)].map((A,I)=>e.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:I*.1},className:"h-32 bg-gray-100 rounded-xl animate-pulse"},I))}),e.jsx(E,{stats:C})]})}),e.jsx("div",{className:"flex justify-end gap-3 p-5 border-t border-gray-100",children:e.jsx(H.button,{onClick:m,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-300",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close Dashboard"})})]})})},ir=({closeFnc:m,visible:h,allBlogs:i})=>{var I,T,B;const[t,p]=j.useState({selectedBlog:null,title:"",content:"",keywords:[]}),[C,K]=j.useState(null),[v,S]=j.useState(null),[k,u]=j.useState(!1),M=ve();j.useEffect(()=>{v&&(u(!0),M(Gs(v)).unwrap().then(c=>{c!=null&&c._id?p(a=>n(r({},a),{title:c.title||"",content:c.content||"",keywords:c.focusKeywords||[],selectedBlog:c,contentType:"markdown"})):Y.error("Blog details not found.")}).catch(c=>{console.error("Failed to fetch blog by ID:",c),Y.error("Failed to fetch blog details.")}).finally(()=>u(!1)))},[v,M]);const F=c=>{const a=i.find(y=>y._id===c);a&&(S(a._id),p({selectedBlog:a,title:a.title||"",content:a.content||"",keywords:a.focusKeywords||[]}),K(null))},L=()=>ce(null,null,function*(){var c;if(!((c=t.selectedBlog)!=null&&c._id)){Y.error("Please select a blog.");return}if(t.content.length<500){Y.warning("Your content is too short. This may affect performance analysis accuracy.");return}u(!0);try{const a=yield M(Ge(t.selectedBlog._id)).unwrap();K(a.stats||a),Y.success("Performance insights loaded successfully.")}catch(a){console.error("Failed to fetch blog stats:",a),Y.error("Failed to load performance stats.")}finally{u(!1)}}),x={flesch:"ðŸ“˜ Flesch Reading Ease (0â€“100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"ðŸ“— SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"ðŸ“™ ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"ðŸ“ˆ Blog Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},b=({type:c="seo"})=>e.jsx(Le,{title:x[c],trigger:["hover","click"],placement:"top",children:e.jsx(vs,{className:"ml-1 text-gray-500 hover:text-blue-500 cursor-pointer"})}),E=({icon:c,label:a,value:y,color:X,delay:D=0,suffix:ee="",description:se=""})=>e.jsx(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:D*.1,duration:.3},className:`p-4 bg-white rounded-lg border ${X} shadow-sm hover:shadow-md transition-shadow w-full sm:w-auto`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[c&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-md text-blue-500",children:c}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:a}),e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:[y,ee]}),se&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:se})]})]})}),O=({score:c,max:a,label:y,level:X,color:D})=>e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm w-full",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600 flex items-center gap-1",children:[y,e.jsx(b,{type:/seo/gi.test(y)?"seo":"flesch"})]}),e.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:X})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full ${D} transition-all duration-500`,style:{width:`${c/a*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:[c," / ",a]})})]})]}),A=({stats:c})=>{var g,l,d,s,f,z,P;if(!c)return null;const{readabililty:a={},seo:y={},engagement:X={},metadata:D={}}=c,ee=(y==null?void 0:y.keywordDensity)||{},se=Object.keys(ee).filter(_=>_.split(" ").length<=2).length,J=Object.keys(ee).filter(_=>_.split(" ").length>2).length,re=Object.entries(ee).map(([_,{count:U,density:ae}],ne)=>({key:_,keyword:_,count:U,density:ae,animationDelay:ne*.1})),w=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(_,U)=>_.density-U.density,render:_=>`${_.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 sm:p-6 mt-4 sm:mt-6",children:[e.jsx("div",{className:"mb-4 sm:mb-6 text-center",children:e.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-6 sm:mb-8 capitalize",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-base sm:text-xl font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(D==null?void 0:D.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(D==null?void 0:D.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(D==null?void 0:D.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(D==null?void 0:D.aiModel)||"-"})]})]}),(D==null?void 0:D.generatedAt)&&e.jsxs("div",{className:"mt-3 sm:mt-4 bg-gray-50 p-3 rounded-lg border normal-case border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(D.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-base sm:text-xl font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[!!(y!=null&&y.score)&&e.jsx(O,{score:(y==null?void 0:y.score)||0,max:100,label:"Blog Score",level:`${(y==null?void 0:y.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsx(E,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(y==null?void 0:y.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(E,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(y==null?void 0:y.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(E,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(y==null?void 0:y.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-4 sm:mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-2 sm:mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(g=y==null?void 0:y.focusKeywords)==null?void 0:g.map((_,U)=>e.jsx(H.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:U*.1},className:"px-2 sm:px-3 py-1 bg-blue-50 rounded-full text-xs sm:text-sm text-blue-700 border border-blue-100 hover:bg-blue-100 transition-colors",children:_},_))})]}),e.jsxs("div",{className:"mt-4 sm:mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-2 sm:mb-3",children:"Keyword Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-3 sm:mb-4",children:[e.jsx(E,{icon:e.jsx(pt,{className:"w-4 h-4 sm:w-5 sm:h-5"}),label:"Short-Tail Keywords",value:se,color:"border-blue-100",delay:0}),e.jsx(E,{icon:e.jsx($t,{className:"w-4 h-4 sm:w-5 sm:h-5"}),label:"Long-Tail Keywords",value:J,color:"border-blue-100",delay:.1})]}),e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-2 sm:mb-3",children:"Keyword Densities"}),e.jsx(H.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},className:"overflow-x-auto w-full",children:e.jsx(Xe,{dataSource:re,columns:w,pagination:!1,components:{body:{row:ae=>{var ne=ae,{children:_}=ne,U=ze(ne,["children"]);var Z;const ye=((Z=re[U["data-row-key"]])==null?void 0:Z.animationDelay)||0;return e.jsx(H.tr,n(r({},U),{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:ye},className:"w-full",children:_}))}}},className:"min-w-[300px] sm:min-w-full md:min-w-[600px] lg:min-w-full rounded-md overflow-hidden capitalize"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-1.5 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-base sm:text-xl font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsx(O,{score:((l=a==null?void 0:a.fleschEase)==null?void 0:l.score)||0,max:100,label:"Flesch Ease",level:((d=a==null?void 0:a.fleschEase)==null?void 0:d.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:["SMOG Index",e.jsx(b,{type:"smog"})]}),e.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:((s=a==null?void 0:a.smogIndex)==null?void 0:s.level)||"-"})]}),e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-2",children:[((f=a==null?void 0:a.smogIndex)==null?void 0:f.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:["ARI ",e.jsx(b,{type:"ari"})]}),e.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:((z=a==null?void 0:a.ari)==null?void 0:z.level)||"-"})]}),e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-2",children:[((P=a==null?void 0:a.ari)==null?void 0:P.score)||0," grade"]})]}),e.jsx(E,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(a==null?void 0:a.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mt-3 sm:mt-4",children:[e.jsx(E,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(a==null?void 0:a.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:(a==null?void 0:a.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:(a==null?void 0:a.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:(a==null?void 0:a.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:(a==null?void 0:a.syllableCount)||0})]})]})]})]})};return j.useEffect(()=>(h?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[h]),e.jsx(fe,{title:e.jsxs(H.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"p-1.5 sm:p-2 bg-blue-500 rounded-md text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3 h-3 sm:w-4 sm:h-4",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Performance Dashboard"})]}),open:h,onCancel:m,footer:null,width:"90vw",centered:!0,styles:{body:{maxHeight:"80vh",overflowY:"auto"},content:{maxWidth:"900px",margin:"0 auto"}},children:e.jsxs("div",{className:"p-0 sm:p-4 space-y-4 sm:space-y-6",children:[e.jsxs(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-sm sm:text-base font-semibold text-gray-700 mt-2 sm:mt-0 mb-1 sm:mb-2",children:"Select Blog"}),e.jsx("div",{className:"relative",children:e.jsxs(je,{showSearch:!0,filterOption:(c,a)=>{var y;return(y=a==null?void 0:a.children)==null?void 0:y.toLowerCase().includes(c.toLowerCase())},className:"w-full",placeholder:"Select Blog",onChange:F,value:((I=t.selectedBlog)==null?void 0:I._id)||"",children:[e.jsx(je.Option,{value:"",children:"Select Blog"}),i==null?void 0:i.map(c=>e.jsx(je.Option,{value:c._id,className:"bg-gray-50",children:c.title||"Untitled"},c._id))]})})]}),!t.selectedBlog&&e.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8 sm:py-10 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:e.jsx("p",{className:"text-sm sm:text-lg text-gray-600",children:"Select a blog to view content and performance insights."})}),t.selectedBlog&&e.jsxs(e.Fragment,{children:[e.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"p-3 sm:p-4 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700",children:"Content Preview"})}),e.jsx("div",{children:e.jsx("div",{className:"text-gray-700 max-h-[200px] sm:max-h-[300px] overflow-y-auto whitespace-pre-wrap leading-relaxed p-3 sm:p-4 rounded-md text-sm sm:text-base",children:(T=t==null?void 0:t.content)!=null&&T.trim()?t.content.split(`
`).map((c,a)=>c.startsWith("### ")?e.jsx("h3",{className:"text-base sm:text-lg font-semibold mt-2",children:c.replace("### ","").replace(/[*_~>`]/g,"").trim()},a):c.startsWith("## ")?e.jsx("h2",{className:"text-lg sm:text-xl font-semibold mt-2",children:c.replace("## ","").replace(/[*_~>`]/g,"").trim()},a):c.startsWith("# ")?e.jsx("h1",{className:"text-xl sm:text-2xl font-bold mt-2",children:c.replace("# ","").replace(/[*_~>`]/g,"").trim()},a):e.jsx("p",{className:"text-sm sm:text-base mt-2",children:c.replace(/[*_~>`]/g,"").trim()},a)):e.jsx(gt,{description:"No content available for this blog"})})})]}),((B=t.keywords)==null?void 0:B.length)>0&&e.jsxs(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-3 sm:p-4 bg-gray-50 border border-gray-200 rounded-lg shadow-sm",children:[e.jsx("h4",{className:"text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.keywords.map((c,a)=>e.jsx(H.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:a*.1},className:"px-2 sm:px-3 py-1 bg-blue-50 rounded-full text-xs sm:text-sm text-blue-700 border border-blue-100 hover:bg-blue-100 transition-colors",children:c},c))})]}),!C&&e.jsx(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center",children:e.jsx(De,{type:"primary",size:"large",onClick:L,loading:k,className:"bg-blue-600 text-white hover:bg-blue-700 rounded-lg px-4 sm:px-6 py-2 transition-all duration-200",disabled:k||!t.selectedBlog,children:k?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(mt,{})," Loading Insights..."]}):"Get Performance Insights"})}),C&&e.jsx(A,{stats:C})]})]})})},{Option:pe}=je,dr=({handleNext:m,handleClose:h,handlePrevious:i,data:t,setData:p})=>{var w;const[C,K]=j.useState((t==null?void 0:t.topic)||""),[v,S]=j.useState(!1),k=18,[u,M]=j.useState(!1),{selectedKeywords:F}=ue(g=>g.analysis),L=ve(),[x,b]=j.useState({focusKeywordInput:(t==null?void 0:t.focusKeywordInput)||"",focusKeywords:(t==null?void 0:t.focusKeywords)||[],keywordInput:(t==null?void 0:t.keywordInput)||"",keywords:(t==null?void 0:t.keywords)||[]}),[E,O]=j.useState({title:!1,topic:!1,tone:!1,focusKeyword:!1,focusKeywordInput:"",keyword:!1,keywordInput:"",generateTitles:""}),[A,I]=j.useState([]),[T,B]=j.useState(!1);j.useEffect(()=>{F&&b(g=>n(r({},g),{focusKeywords:F.focusKeywords||g.focusKeywords,keywords:F.keywords||g.keywords}))},[F]),j.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),j.useEffect(()=>{S(!1),I([])},[]);const c=g=>{const l=g.target.value;b(d=>n(r({},d),{keywordInput:l})),p(d=>n(r({},d),{keywordInput:l})),O(d=>n(r({},d),{keyword:!1,keywordInput:""}))},a=()=>{const g=x.keywordInput;if(g.trim()!==""){const l=g.split(",").map(d=>d.trim()).filter(d=>d!==""&&!x.keywords.includes(d));l.length>0?(b(d=>n(r({},d),{keywords:[...d.keywords,...l],keywordInput:""})),O(d=>n(r({},d),{keyword:!1,keywordInput:""}))):O(d=>n(r({},d),{keywordInput:"Please enter unique keywords."}))}else O(l=>n(r({},l),{keywordInput:"Please enter at least one keyword."}))},y=g=>{const l=g.target.value;b(d=>n(r({},d),{focusKeywordInput:l})),p(d=>n(r({},d),{focusKeywordInput:l})),O(d=>n(r({},d),{focusKeyword:!1,focusKeywordInput:""}))},X=()=>{const g=x.focusKeywordInput;if(g.trim()!==""){const l=g.split(",").map(d=>d.trim()).filter(d=>d!==""&&!x.focusKeywords.includes(d));if(l.length>0){const d=[...x.focusKeywords,...l].slice(0,3);b(s=>n(r({},s),{focusKeywords:d,focusKeywordInput:""})),p(s=>n(r({},s),{focusKeywords:d,focusKeywordInput:""})),O(s=>n(r({},s),{focusKeyword:!1,focusKeywordInput:""}))}else O(d=>n(r({},d),{focusKeywordInput:"Please enter unique focus keywords."}))}else O(l=>n(r({},l),{focusKeywordInput:"Please enter at least one focus keyword."}))},D=(g,l)=>{const d=[...x[l]];d.splice(g,1),b(s=>n(r({},s),{[l]:d})),p(s=>n(r({},s),{[l]:d})),O(s=>n(r({},s),{[l]:d.length===0}))},ee=(g,l)=>{g.key==="Enter"&&(g.preventDefault(),l==="focusKeywords"?X():a())},se=g=>{p(l=>n(r({},l),{tone:g})),O(l=>n(r({},l),{tone:!1}))},J=()=>ce(null,null,function*(){if(!C.trim()||x.focusKeywords.length===0||x.keywords.length===0){O(g=>n(r({},g),{generateTitles:"Please enter a topic and at least one focus keyword and keyword before generating titles.",topic:!C.trim(),focusKeyword:x.focusKeywords.length===0,keyword:x.keywords.length===0}));return}B(!0);try{const g=r({keywords:x.keywords,focusKeywords:x.focusKeywords,topic:C,template:t.selectedTemplate.name,userDefinedLength:(t==null?void 0:t.userDefinedLength)||1e3},v&&{oldTitles:A}),l=yield L(Ws(g)).unwrap();I(l),S(!0),O(d=>n(r({},d),{generateTitles:""}))}catch(g){console.error("Error generating titles:",g),O(l=>n(r({},l),{generateTitles:"Failed to generate titles. Please try again later."}))}finally{B(!1)}}),re=()=>{var d;const g={title:!((d=t==null?void 0:t.title)!=null&&d.trim()),topic:!(C!=null&&C.trim()),tone:!(t!=null&&t.tone),focusKeyword:x.focusKeywords.length===0,keyword:x.keywords.length===0,generateTitles:""};if(O(g),Object.values(g).some(s=>s))return;const l=n(r({},t),{topic:C,focusKeywords:x.focusKeywords,keywords:x.keywords,keywordInput:x.keywordInput,focusKeywordInput:x.focusKeywordInput,userDefinedLength:(t==null?void 0:t.userDefinedLength)||1e3});p(l),m()};return j.useEffect(()=>{t&&!t.isCheckedGeneratedImages&&p(g=>n(r({},g),{isCheckedGeneratedImages:!0,isUnsplashActive:!0}))},[t,p]),e.jsx(fe,{title:"Step 2: Crucial Details",open:!0,onCancel:h,footer:[e.jsx("button",{onClick:i,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Back"},"back"),e.jsx("button",{onClick:re,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsx("div",{className:"p-2 md:p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Topic ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:`w-full px-3 py-2 bg-gray-50 border ${E.topic?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., Tech Blog",value:C,onChange:g=>{K(g.target.value),O(l=>n(r({},l),{topic:!1}))}}),E.topic&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:"Please enter a topic."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Focus Keywords (up to 3)",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:x.focusKeywordInput,onChange:y,onKeyDown:g=>ee(g,"focusKeywords"),className:`flex-1 px-3 py-2 bg-gray-50 border ${E.focusKeyword||E.focusKeywordInput?"border-red-500":"border-gray-200"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 text-sm`,placeholder:"Enter focus keywords, separated by commas"}),e.jsx("button",{onClick:X,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 text-sm flex items-center",children:e.jsx(Ce,{size:16})})]}),(E.focusKeyword||E.focusKeywordInput)&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:E.focusKeywordInput||"Please enter at least one focus keyword."}),x.focusKeywords.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:x.focusKeywords.map((g,l)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[g,e.jsx("button",{onClick:()=>D(l,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"Ã—"})]},l))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Keywords",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:x.keywordInput,onChange:c,onKeyDown:g=>ee(g,"keywords"),className:`flex-1 px-3 py-2 bg-gray-50 border ${E.keyword||E.keywordInput?"border-red-500":"border-gray-200"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 text-sm`,placeholder:"Enter keywords, separated by commas"}),e.jsx("button",{onClick:a,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 text-sm flex items-center",children:e.jsx(Ce,{size:16})})]}),(E.keyword||E.keywordInput)&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:E.keywordInput||"Please enter at least one keyword."}),x.keywords.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[(u?x.keywords:x.keywords.slice(0,k)).map((g,l)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[g,e.jsx("button",{onClick:()=>D(l,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"Ã—"})]},`${g}-${l}`)),x.keywords.length>k&&e.jsx("button",{type:"button",onClick:()=>M(!u),className:"text-xs text-blue-600 underline ml-2 self-center",children:u?"Show less":`+${x.keywords.length-k} more`})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"block text-sm sm:text-base font-medium mb-2",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("input",{type:"text",className:`flex-1 px-3 py-2 text-sm sm:text-base bg-gray-50 border ${E.title?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., How to Create a Tech Blog",value:(t==null?void 0:t.title)||"",onChange:g=>{p(l=>n(r({},l),{title:g.target.value})),O(l=>n(r({},l),{title:!1}))}}),e.jsx("button",{onClick:J,disabled:T,className:`px-4 py-2 sm:px-5 sm:py-2.5 bg-gradient-to-r from-[#1B6FC9] to-[#4C9FE8] text-white rounded-lg flex items-center justify-center text-sm sm:text-base ${T?"opacity-50 cursor-not-allowed":"hover:from-[#1B6FC9]/90 hover:to-[#4C9FE8]/90"}`,children:T?e.jsx(ft,{size:"small"}):v?e.jsxs(e.Fragment,{children:[e.jsx(bt,{size:16,className:"mr-2"}),"Generate More"]}):e.jsxs(e.Fragment,{children:[e.jsx(ys,{size:16,className:"mr-2"}),"Generate Titles"]})})]}),(E.title||E.generateTitles)&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:E.generateTitles||E.title&&"Please enter a title."}),A.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2 items-center overflow-x-auto",children:A.map((g,l)=>{const d=t.title===g;return e.jsx("div",{className:"relative group",children:e.jsx("button",{type:"button",onClick:()=>{p(s=>n(r({},s),{title:g})),O(s=>n(r({},s),{title:!1}))},className:`px-3 py-1 rounded-full text-sm sm:text-base border transition w-full max-w-[270px] truncate
                ${d?"bg-[#1B6FC9] text-white border-[#1B6FC9]":"bg-gray-100 text-gray-700 border-gray-300 opacity-60 hover:opacity-100 hover:bg-gray-200"}`,children:g})},l)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(je,{className:"w-full",value:(t==null?void 0:t.tone)||void 0,onChange:se,placeholder:"Select tone",status:E.tone?"error":"",children:[e.jsx(pe,{value:"professional",children:"Professional"}),e.jsx(pe,{value:"casual",children:"Casual"}),e.jsx(pe,{value:"friendly",children:"Friendly"}),e.jsx(pe,{value:"formal",children:"Formal"}),e.jsx(pe,{value:"conversational",children:"Conversational"}),e.jsx(pe,{value:"witty",children:"Witty"}),e.jsx(pe,{value:"informative",children:"Informative"}),e.jsx(pe,{value:"inspirational",children:"Inspirational"}),e.jsx(pe,{value:"persuasive",children:"Persuasive"}),e.jsx(pe,{value:"empathetic",children:"Empathetic"})]}),E.tone&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:"Please select a tone of voice."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Choose length of Blog"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:(t==null?void 0:t.userDefinedLength)||1e3,className:`w-full h-1 rounded-lg appearance-none cursor-pointer 
                    [&::-webkit-slider-thumb]:appearance-none 
                    [&::-webkit-slider-thumb]:h-4 
                    [&::-webkit-slider-thumb]:w-4 
                    [&::-webkit-slider-thumb]:rounded-full 
                    [&::-webkit-slider-thumb]:bg-[#1B6FC9]`,onChange:g=>{p(l=>n(r({},l),{userDefinedLength:parseInt(g.target.value,10)}))},style:{background:`linear-gradient(to right, #1B6FC9 ${(((t==null?void 0:t.userDefinedLength)||1e3)-500)/45}%, #e5e7eb 0%)`}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[(t==null?void 0:t.userDefinedLength)||1e3," words"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add Brief Section (Optional)"}),e.jsx("textarea",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]",rows:3,placeholder:"Enter brief section",value:(t==null?void 0:t.brief)||"",onChange:g=>p(l=>n(r({},l),{brief:g.target.value}))}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-xs text-gray-500",children:[((w=t==null?void 0:t.brief)==null?void 0:w.length)||0,"/2000 characters"]})})]})]})})})},cr=j.memo(dr),mr=({closeFnc:m,openSecondStepModal:h,openJobModal:i,visible:t})=>{var re;const[p,C]=j.useState(""),[K,v]=j.useState([]),[S,k]=j.useState(1),[u,M]=j.useState(!1),F=ve(),{keywordAnalysis:L,loading:x,selectedKeywords:b}=ue(w=>w.analysis);j.useEffect(()=>{K.length===0&&(k(1),F(We()))},[K,F]);const E=()=>{const w=p.trim();if(!w)return;const g=K.map(s=>s.toLowerCase()),l=new Set,d=w.split(",").map(s=>s.trim()).filter(s=>s&&!g.includes(s.toLowerCase())&&!l.has(s.toLowerCase())&&l.add(s.toLowerCase()));d.length>0&&(v([...K,...d]),C(""))},O=w=>{var d;const g=K[w],l=K.filter((s,f)=>f!==w);if(v(l),l.length===0&&(F(We()),k(1)),(d=b==null?void 0:b.allKeywords)!=null&&d.includes(g)){const s=b.allKeywords.filter(f=>f!==g);F(Ae({focusKeywords:s.slice(0,3),keywords:s,allKeywords:s}))}},A=w=>{w.key==="Enter"&&(w.preventDefault(),E())},I=()=>{K.length>0&&(F(Us(K)),k(1))},T=()=>{const w={LOW:[],MEDIUM:[],HIGH:[]};L==null||L.forEach(s=>{w[s.competition]&&w[s.competition].push({keyword:s.keyword,competition_index:s.competition_index})});const g=w.LOW.sort((s,f)=>s.competition_index-f.competition_index).slice(0,2),l=w.MEDIUM.sort((s,f)=>s.competition_index-f.competition_index).slice(0,2),d=w.HIGH.sort((s,f)=>s.competition_index-f.competition_index).slice(0,2);return[...g.map(s=>s.keyword),...l.map(s=>s.keyword),...d.map(s=>s.keyword)]},B=()=>{const w=T();if(!w.length||!(L!=null&&L.length)){fe.error({title:"No Auto-Selected Keywords",content:"No keywords available to auto-select. Please analyze keywords first."});return}fe.info({icon:null,title:e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("span",{children:"Auto-Selected Keywords"})}),content:e.jsxs("div",{children:[e.jsx("p",{children:"We selected these keywords automatically based on competition index:"}),e.jsx("ul",{className:"list-disc ml-5 mt-2",children:w.map(g=>e.jsx("li",{className:"capitalize text-sm sm:text-base",children:g},g))}),e.jsx("p",{className:"mt-3 text-sm sm:text-base",children:"Do you want to add these too?"})]}),okText:"Accept",cancelText:"Decline",closable:!0,onOk(){const g=[...(b==null?void 0:b.allKeywords)||[],...w.filter(l=>{var d;return!((d=b==null?void 0:b.allKeywords)!=null&&d.includes(l))})].slice(0,6);F(Ae({focusKeywords:g.slice(0,3),keywords:g,allKeywords:g}))},onCancel(){const g=(b==null?void 0:b.allKeywords)||[];F(Ae({focusKeywords:g.slice(0,3),keywords:g,allKeywords:g}))},okButtonProps:{className:"bg-blue-600 text-white"}})},c=w=>ce(null,null,function*(){const g=(b==null?void 0:b.allKeywords)||[];yield F(Ae({focusKeywords:g.slice(0,3),keywords:g.slice(3),allKeywords:g})),setTimeout(()=>{w==="blog"?h({focusKeywords:g.slice(0,3),keywords:g.slice(3),allKeywords:g}):i(),m()},100)}),a=()=>{c("blog")},y=()=>{c("job")},X=[{title:"Keyword",dataIndex:"keyword",key:"keyword",sorter:(w,g)=>w.keyword.localeCompare(g.keyword),render:w=>e.jsx("span",{className:"font-medium capitalize text-sm sm:text-base",children:w})},{title:"Monthly Searches",dataIndex:"avgMonthlySearches",key:"avgMonthlySearches",sorter:(w,g)=>w.avgMonthlySearches-g.avgMonthlySearches,render:w=>new Intl.NumberFormat().format(w)},{title:"Competition",dataIndex:"competition",key:"competition",sorter:(w,g)=>w.competition_index-g.competition_index,render:w=>e.jsx(wt,{color:w==="LOW"?"green":w==="MEDIUM"?"orange":w==="HIGH"?"red":"gray",className:"text-xs sm:text-sm",children:w})},{title:"Competition Index",dataIndex:"competition_index",key:"competition_index",sorter:(w,g)=>w.competition_index-g.competition_index,render:w=>w||"-"}],D=(L==null?void 0:L.map((w,g)=>({key:g,keyword:w.keyword,avgMonthlySearches:w.avgMonthlySearches,competition:w.competition,competition_index:w.competition_index,avgCpc:w.avgCpc,lowBid:w.lowBid,highBid:w.highBid})))||[],ee=u?D.filter(w=>{var g;return(g=b==null?void 0:b.allKeywords)==null?void 0:g.includes(w.keyword)}):D,se=w=>k(w);j.useEffect(()=>()=>{v([]),C(""),k(1),M(!1)},[]),j.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);const J=((re=b==null?void 0:b.allKeywords)==null?void 0:re.length)>0;return e.jsx(fe,{open:t,onCancel:m,closable:!0,footer:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3 pt-2 border-t border-gray-100",children:[e.jsx(H.button,{onClick:B,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 w-full sm:w-auto",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:x||!(L!=null&&L.length),style:{opacity:x||!(L!=null&&L.length)?.5:1,cursor:x||!(L!=null&&L.length)?"not-allowed":"pointer"},children:"Show Auto-Selected Keywords"}),e.jsx(H.button,{onClick:a,className:`px-4 py-2 text-sm font-medium rounded-lg w-full sm:w-auto ${J?"text-gray-700 bg-gray-100 hover:bg-gray-200":"text-gray-400 bg-gray-200 cursor-not-allowed"}`,whileHover:{scale:J?1.03:1},whileTap:{scale:J?.97:1},disabled:!J,children:"Create Blog"}),e.jsx(H.button,{onClick:y,className:`px-4 py-2 text-sm font-medium rounded-lg w-full sm:w-auto ${J?"text-gray-700 bg-gray-100 hover:bg-gray-200":"text-gray-400 bg-gray-200 cursor-not-allowed"}`,whileHover:{scale:J?1.03:1},whileTap:{scale:J?.97:1},disabled:!J,children:"Create New Job"}),e.jsx(H.button,{onClick:m,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 w-full sm:w-auto",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close"})]},"footer-buttons")],width:"90vw",centered:!0,title:"Keyword Research",styles:{content:{maxWidth:"1000px",margin:"0 auto"},body:{padding:"16px"}},className:"rounded-lg sm:rounded-xl",children:e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx("p",{className:"mb-3 sm:mb-4 text-gray-600 text-sm sm:text-base",children:"Find and analyze keywords for your blog"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4 sm:mb-6",children:[e.jsx(yt,{placeholder:"Enter a keyword",value:p,onChange:w=>C(w.target.value),onKeyPress:A,className:"flex-1 text-sm sm:text-base","aria-label":"Enter keyword"}),e.jsx(H.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(De,{type:"primary",onClick:E,className:"w-full sm:w-auto",children:"Add"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4 sm:mb-6",children:K.map((w,g)=>e.jsxs(H.div,{initial:{opacity:0,scale:.8},animate:{opacity:1},className:"bg-blue-100 text-blue-800 px-2 sm:px-3 py-1 rounded-full flex items-center text-xs sm:text-sm",children:[e.jsx("span",{className:"capitalize",children:w}),e.jsx(H.div,{whileHover:{scale:1.2},whileTap:{scale:.8},className:"ml-1 sm:ml-2 cursor-pointer",onClick:()=>O(g),children:e.jsx(ht,{className:"text-blue-800 text-xs"})})]},g))}),e.jsx(H.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(De,{block:!0,type:"primary",onClick:I,loading:x,disabled:K.length===0,className:"text-sm sm:text-base",children:"Analyze Keywords"})}),!x&&(L==null?void 0:L.length)>0&&e.jsxs("div",{className:"mt-4 sm:mt-6",children:[e.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[e.jsx(Ze,{checked:u,onChange:w=>M(w),disabled:!J,size:"small"}),e.jsx("span",{className:"ml-2 text-gray-600 text-sm sm:text-base",children:"Show Selected Keywords Only"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx(Xe,{columns:X,dataSource:ee,pagination:{current:S,pageSize:5,showSizeChanger:!1,onChange:se,total:ee.length,responsive:!0},rowSelection:{selectedRowKeys:(b==null?void 0:b.allKeywords)||[],onChange:w=>{F(Ae({focusKeywords:w.slice(0,3),keywords:w,allKeywords:w}))},getCheckboxProps:w=>({name:w.keyword})},rowKey:w=>w.keyword,scroll:{x:600},className:"min-w-[600px]"})})]})]})})},hr=({closeFnc:m})=>{const[h,i]=j.useState(0),[t,p]=j.useState(null),[C,K]=j.useState([]),[v,S]=j.useState([]),[k,u]=j.useState(!1),M=ue(ps),[F,L]=j.useState({template:"",focusKeywords:"",keywords:"",videoLinks:"",otherLinks:""}),[x,b]=j.useState({template:null,keywords:[],focusKeywords:[],videoLinkInput:"",otherLinkInput:"",focusKeywordInput:"",keywordInput:""}),E=ve(),O=Be(),{handlePopup:A}=Ke();j.useEffect(()=>{if(x.template){const l=ie.findIndex(d=>d.name===x.template);l!==-1&&p(l)}else p(null)},[x.template]);const I=()=>{if(h===0){if(!x.template){L(l=>n(r({},l),{template:"Please select a template."}));return}L(l=>n(r({},l),{template:""})),i(1)}},T=()=>{i(0)},B=()=>{p(null),b({template:null,keywords:[],focusKeywords:[],videoLinkInput:"",otherLinkInput:"",focusKeywordInput:"",keywordInput:""}),K([]),S([]),u(!1),L({template:"",focusKeywords:"",keywords:"",videoLinks:"",otherLinks:""}),m()},c=()=>{const l={focusKeywords:x.focusKeywords.length===0?"Please add at least one focus keyword.":"",keywords:x.keywords.length===0?"Please add at least one secondary keyword.":"",videoLinks:C.length===0?"Please add at least one valid YouTube video link.":"",otherLinks:k&&v.length===0?"Please add at least one valid other link.":""};if(L(l),Object.values(l).some(s=>s)){Y.error("Please fill all required fields correctly.");return}if(C.length>3){L(s=>n(r({},s),{videoLinks:"You can only add up to 3 video links."})),Y.error("You can only add up to 3 video links.");return}if(v.length>3){L(s=>n(r({},s),{otherLinks:"You can only add up to 3 other links."})),Y.error("You can only add up to 3 other links.");return}const d=n(r({},x),{videoLinks:[...C,...v]});A({title:"Quick Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Quick blog generation costs ",e.jsxs("b",{children:[Ye("blog.quick")," credits"]}),"."]}),e.jsx("br",{}),e.jsx("span",{children:"Are you sure you want to proceed?"})]}),onConfirm:()=>{E(Hs({blogData:d,user:M,navigate:O})),B()}})},a=l=>{p(l),b(d=>n(r({},d),{template:ie[l].name})),L(d=>n(r({},d),{template:""}))},y=(l,d)=>{const s=d==="keywords"?"keywordInput":"focusKeywordInput";b(f=>n(r({},f),{[s]:l.target.value})),L(f=>n(r({},f),{[d]:""}))},X=l=>{const d=l==="keywords"?"keywordInput":"focusKeywordInput",s=x[d].trim();if(!s){L(P=>n(r({},P),{[l]:"Please enter a keyword."})),Y.error("Please enter a keyword.");return}const f=new Set(x[l].map(P=>P.trim().toLowerCase())),z=s.split(",").map(P=>P.trim()).filter(P=>P!==""&&!f.has(P.toLowerCase()));if(z.length===0){L(P=>n(r({},P),{[l]:"Please enter valid, non-duplicate keywords separated by commas."})),Y.error("Please enter valid, non-duplicate keywords separated by commas.");return}if(l==="focusKeywords"&&x[l].length+z.length>3){L(P=>n(r({},P),{[l]:"You can only add up to 3 focus keywords."})),Y.error("You can only add up to 3 focus keywords.");return}b(P=>n(r({},P),{[l]:[...P[l],...z],[d]:""})),L(P=>n(r({},P),{[l]:""}))},D=(l,d)=>{const s=[...x[d]];s.splice(l,1),b(n(r({},x),{[d]:s})),L(f=>n(r({},f),{[d]:""}))},ee=(l,d)=>{l.key==="Enter"&&(l.preventDefault(),X(d))},se=l=>{try{const d=new URL(l),s=d.hostname.toLowerCase();if(!s.includes("youtube.com")&&!s.includes("youtu.be"))return{valid:!1,error:"Please enter a valid YouTube URL."};let f="";return s.includes("youtube.com")?f=d.searchParams.get("v")||"":s.includes("youtu.be")&&(f=d.pathname.split("/")[1]||""),!f||!/^[a-zA-Z0-9_-]{11}$/.test(f)?{valid:!1,error:"Please enter a YouTube URL."}:{valid:!0,videoId:f}}catch(d){return{valid:!1,error:"Invalid YouTube URL format."}}},J=l=>{try{return new URL(l),{valid:!0}}catch(d){return{valid:!1,error:"Please enter a valid URL (e.g., https://example.com)."}}},re=l=>{var ye;const d=l==="video",s=d?"videoLinkInput":"otherLinkInput",f=d?"videoLinks":"otherLinks",z=(ye=x[s])==null?void 0:ye.trim(),P=d?C:v,_=d?K:S,U=3;if(!z){L(Z=>n(r({},Z),{[f]:`Please enter at least one ${d?"YouTube video":"valid"} link.`})),Y.error(`Please enter at least one ${d?"YouTube video":"valid"} link.`);return}const ae=z.split(",").map(Z=>Z.trim()).filter(Z=>Z!==""),ne=[];for(let Z of ae){if(P.includes(Z)||ne.includes(Z))continue;const Ie=d?se(Z):J(Z);if(!Ie.valid){L(Se=>n(r({},Se),{[f]:Ie.error})),Y.error(Ie.error);return}ne.push(Z)}if(ne.length===0){L(Z=>n(r({},Z),{[f]:`No valid, unique ${d?"YouTube video":"other"} links found.`})),Y.error(`No valid, unique ${d?"YouTube video":"other"} links found.`);return}if(P.length+ne.length>U){L(Z=>n(r({},Z),{[f]:`You can only add up to ${U} ${d?"video":"other"} links.`})),Y.error(`You can only add up to ${U} ${d?"video":"other"} links.`);return}_([...P,...ne]),b(Z=>n(r({},Z),{[s]:""})),L(Z=>n(r({},Z),{[f]:""}))},w=(l,d)=>{l.key==="Enter"&&(l.preventDefault(),re(d))},g=(l,d)=>{const s=d==="video",f=s?C:v,z=s?K:S,P=[...f];P.splice(l,1),z(P),L(_=>n(r({},_),{[s?"videoLinks":"otherLinks"]:""}))};return e.jsx(fe,{title:"Generate Quick Blog",open:!0,onCancel:B,footer:h===0?[e.jsx("button",{onClick:I,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Next step",children:"Next"},"next")]:[e.jsx("button",{onClick:T,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors","aria-label":"Previous step",children:"Previous"},"previous"),e.jsx("button",{onClick:c,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 transition-colors ml-3","aria-label":"Submit quick blog",children:"Submit"},"submit")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"p-2 md:p-4 lg:p-6 space-y-6 max-h-[80vh] overflow-y-auto",children:[h===0&&e.jsxs("div",{children:[e.jsx("div",{className:`sm:hidden grid grid-cols-2 gap-4 ${F.template?"border-2 border-red-500 rounded-lg p-2":""}`,children:ie.map((l,d)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 w-full ${x.template===l.name?"border-gray-200 border-2 rounded-md":""}`,onClick:()=>a(d),role:"button",tabIndex:0,onKeyDown:s=>s.key==="Enter"&&a(d),"aria-label":`Select ${l.name} template`,children:e.jsxs("div",{className:"bg-white rounded-md overflow-hidden shadow-sm",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:l.imgSrc||"/placeholder.svg",alt:l.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:l.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:l.description})]})]})},d))}),e.jsxs("div",{className:`hidden sm:block ${F.template?"border-2 border-red-500 rounded-lg p-2":""}`,children:[e.jsx(He,{className:"flex flex-row gap-4",children:ie.map((l,d)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 w-full ${x.template===l.name?"border-gray-200 border-2 rounded-md":""}`,onClick:()=>a(d),role:"button",tabIndex:0,onKeyDown:s=>s.key==="Enter"&&a(d),"aria-label":`Select ${l.name} template`,children:e.jsxs("div",{className:"bg-white rounded-md overflow-hidden shadow-sm",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:l.imgSrc||"/placeholder.svg",alt:l.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:l.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:l.description})]})]})},d))}),F.template&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:F.template})]})]}),h===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Focus Keywords ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:x.focusKeywordInput,onChange:l=>y(l,"focusKeywords"),onKeyDown:l=>ee(l,"focusKeywords"),className:`flex-1 px-3 py-2 border ${F.focusKeywords?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50`,placeholder:"Enter focus keywords, separated by commas","aria-label":"Focus keywords"}),e.jsx("button",{onClick:()=>X("focusKeywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Add focus keywords",children:e.jsx(Ce,{size:16})})]}),F.focusKeywords&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:F.focusKeywords}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:x.focusKeywords.map((l,d)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[l,e.jsx("button",{onClick:()=>D(d,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove ${l}`,children:e.jsx(xe,{size:16})})]},d))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:x.keywordInput,onChange:l=>y(l,"keywords"),onKeyDown:l=>ee(l,"keywords"),className:`flex-1 px-3 py-2 border ${F.keywords?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50`,placeholder:"Enter secondary keywords, separated by commas","aria-label":"Secondary keywords"}),e.jsx("button",{onClick:()=>X("keywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Add secondary keywords",children:e.jsx(Ce,{size:16})})]}),F.keywords&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:F.keywords}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:x.keywords.map((l,d)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[l,e.jsx("button",{onClick:()=>D(d,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove ${l}`,children:e.jsx(xe,{size:16})})]},d))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Video Links (e.g., YouTube) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:x.videoLinkInput,onChange:l=>b(d=>n(r({},d),{videoLinkInput:l.target.value})),onKeyDown:l=>w(l,"video"),className:`flex-1 px-3 py-2 border ${F.videoLinks?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50`,placeholder:"Enter YouTube video links, separated by commas","aria-label":"Video links"}),e.jsx("button",{onClick:()=>re("video"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Add video links",children:e.jsx(Ce,{size:16})})]}),F.videoLinks&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:F.videoLinks}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:C.map((l,d)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[l,e.jsx("button",{onClick:()=>g(d,"video"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove ${l}`,children:e.jsx(xe,{size:16})})]},d))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Other Links (e.g., articles, websites)",k&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Ze,{checked:k,onChange:l=>{u(l),l||(S([]),b(d=>n(r({},d),{otherLinkInput:""})),L(d=>n(r({},d),{otherLinks:""})))},"aria-label":"Toggle other links input"})})]}),k&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:x.otherLinkInput,onChange:l=>b(d=>n(r({},d),{otherLinkInput:l.target.value})),onKeyDown:l=>w(l,"other"),className:`flex-1 px-3 py-2 border ${F.otherLinks?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50`,placeholder:"Enter full URLs (e.g., https://example.com), separated by commas","aria-label":"Other links"}),e.jsx("button",{onClick:()=>re("other"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Add other links",children:e.jsx(Ce,{size:16})})]}),F.otherLinks&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:F.otherLinks}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map((l,d)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[l,e.jsx("button",{onClick:()=>g(d,"other"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove ${l}`,children:e.jsx(xe,{size:16})})]},d))})]})]})]})]})})},hs={PLUGIN_UPDATE:{icon:Bt,title:"Plugin Update Available",iconColor:"text-blue-600",bgColor:"bg-blue-100",bannerBg:"bg-blue-50",borderColor:"border-blue-200",buttonColor:"bg-blue-600 hover:bg-blue-700"},NEW_FEATURE:{icon:Kt,title:"New Feature Unlocked",iconColor:"text-indigo-600",bgColor:"bg-indigo-100",bannerBg:"bg-indigo-50",borderColor:"border-indigo-200",buttonColor:"bg-indigo-600 hover:bg-indigo-700"},IMPORTANT_NOTICE:{icon:Qe,title:"Important Notice",iconColor:"text-amber-600",bgColor:"bg-amber-100",bannerBg:"bg-amber-50",borderColor:"border-amber-200",buttonColor:"bg-amber-600 hover:bg-amber-700"},DEFAULT:{icon:jt,title:"Announcement",iconColor:"text-gray-600",bgColor:"bg-gray-100",bannerBg:"bg-gray-50",borderColor:"border-gray-200",buttonColor:"bg-gray-600 hover:bg-gray-700"}},xr=()=>ce(null,null,function*(){const m=yield fetch("https://api.genwrite.co/data.json");if(!m.ok)throw new Error(`Failed to fetch announcements: ${m.statusText}`);return yield m.json()}),ur=({onClose:m})=>{var v;const{data:h,error:i}=qe({queryKey:["announcements"],queryFn:xr,staleTime:3e5,gcTime:864e5,retry:2,retryDelay:S=>Math.min(1e3*ts(2,S),3e4),onError:S=>{console.error("Failed to fetch announcements:",S),Y.error("Failed to load announcements. Please try again later.")}}),t=(v=h==null?void 0:h.announcements)==null?void 0:v[0],p=j.useMemo(()=>t?hs[t.type]||hs.DEFAULT:null,[t]),C=p==null?void 0:p.icon,K=j.useMemo(()=>t!=null&&t.date?new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"",[t==null?void 0:t.date]);return i||!t?null:e.jsx("div",{className:`${p.bannerBg} border ${p.borderColor} rounded-lg p-4 mb-6 relative`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:`flex items-center justify-center h-10 w-10 rounded-full ${p.bgColor} flex-shrink-0`,children:C&&e.jsx(C,{className:`h-5 w-5 ${p.iconColor}`,"aria-hidden":"true"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:p.title}),K&&e.jsx("span",{className:"text-xs text-gray-500",children:K})]}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:t.message})]})]}),e.jsx("button",{onClick:m,className:"flex-shrink-0 ml-3 p-1 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors duration-200","aria-label":"Close announcement",children:e.jsx(xe,{className:"h-4 w-4"})})]})})};Zs.register(Js,et,st,tt,rt,at,nt,lt);const ia=()=>{const[m,h]=j.useState(!1),[i,t]=j.useState(0),[p,C]=j.useState(!1),[K,v]=j.useState(!1),[S,k]=j.useState(!1),[u,M]=j.useState(!1),[F,L]=j.useState(!1),[x,b]=j.useState(!1),[E,O]=j.useState(!1),[A,I]=j.useState({}),[T,B]=j.useState([]),[c,a]=j.useState(!0),{blogs:y,error:X,allBlogs:D}=ue(V=>V.blog),[ee,se]=j.useState(!1),[J,re]=j.useState(!0),w=ve(),g=Be(),l=ue(ps),{handlePopup:d}=Ke(),s=()=>h(!0),f=()=>C(!0),z=()=>C(!1),P=()=>v(!0),_=()=>v(!1),U=()=>k(!0),ae=()=>k(!1),ne=()=>M(!0),ye=()=>M(!1),[Z,Ie]=j.useState([void 0,void 0]);let Se=5,Ne="updatedAt:desc";const $e=j.useCallback(()=>ce(null,null,function*(){if(!(l!=null&&l.createdAt))return;a(!0);const V=l.createdAt,W=Z[1]||he().endOf("day"),te={start:he(V).toISOString(),end:he(W).endOf("day").toISOString(),limit:Se,sort:Ne};try{const me=((yield w(gs(te)).unwrap()).data||[]).filter(be=>!be.isArchived);let ge=me;Ne&&(ge=[...me].sort((be,R)=>{const le=be[Ne],oe=R[Ne];return he(le).isValid()&&he(oe).isValid()?he(oe).valueOf()-he(le).valueOf():typeof le=="number"&&typeof oe=="number"?oe-le:typeof le=="string"&&typeof oe=="string"?oe.localeCompare(le):0})),B(ge.slice(0,3))}catch(de){console.error("Failed to fetch blogs:",de),B([])}finally{a(!1)}}),[w,Z,Se,l==null?void 0:l.createdAt,Ne]);j.useEffect(()=>{if(!(y!=null&&y.data)||!Array.isArray(y.data)){B([]);return}const W=y.data.filter(te=>!te.isArchived).sort((te,de)=>he(de.updatedAt).valueOf()-he(te.updatedAt).valueOf());B(W.slice(0,3))},[y]),j.useEffect(()=>{$e()},[$e]),j.useEffect(()=>{const V=l,W=sessionStorage.getItem("hasSeenGoThrough")==="true";V&&!V.lastLogin&&!W?se(!0):se(!1)},[l]),j.useEffect(()=>{sessionStorage.getItem("hasSeenAnnouncementBanner")==="true"&&re(!1)},[]);const Fe=()=>{se(!1),sessionStorage.setItem("hasSeenGoThrough","true")},Pe=()=>{re(!1),sessionStorage.setItem("hasSeenAnnouncementBanner","true")},o=()=>{b(!1),h(!0),t(0)},N=()=>{b(!1),w(Xs()),g("/jobs")};j.useEffect(()=>{w(qs())},[w]),j.useEffect(()=>{ce(null,null,function*(){if(!localStorage.getItem("token")){g("/login");return}try{const te=yield w(ns());ns.rejected.match(te)&&(console.warn("Failed to load user, redirecting..."),g("/login"))}catch(te){console.error("User init failed:",te),Y.error("Failed to load user data.")}})},[w,g]);const G=V=>ce(null,null,function*(){var W,te;try{const de=(((W=l==null?void 0:l.credits)==null?void 0:W.base)||0)+(((te=l==null?void 0:l.credits)==null?void 0:te.extra)||0),me=Ye("blog.single",A.aiModel||"default");d({title:"Confirm Blog Creation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Single Blog generation cost: ",e.jsxs("b",{children:[me," credits"]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue?"})]}),onConfirm:()=>{if(me>de){Y.error("You do not have enough credits to generate this blog."),d(!1);return}w(Ys({blogData:V,user:l,navigate:g})),h(!1),t(0)}}),w(ls())}catch(de){console.error("Error submitting form:",de),Y.error("Failed to create blog.")}}),$=()=>{h(!1),w(ls()),setTimeout(()=>{t(0),I({})},200)},q=()=>t(i+1),Q=()=>t(i-1);return e.jsxs(e.Fragment,{children:[e.jsx(Qs,{children:e.jsx("title",{children:"Home | GenWrite"})}),ee&&e.jsx(ar,{onClose:Fe}),J&&e.jsx(ur,{onClose:Pe}),i===0&&e.jsx(Ht,{handleNext:q,handleClose:$,data:A,setData:I,isModalVisible:m}),i===1&&e.jsx(cr,{handleNext:q,handleClose:$,handlePrevious:Q,data:A,setData:I}),i===2&&e.jsx(qt,{handleNext:q,handlePrevious:Q,handleClose:$,data:A,setData:I,handleSubmit:G}),p&&e.jsx(rr,{closeFnc:z}),K&&e.jsx(tr,{closeFnc:_}),S&&e.jsx(hr,{closeFnc:ae}),u&&e.jsx(xt,{closeFnc:ye,open:u,blogs:D}),F&&e.jsx(ir,{allBlogs:D,closeFnc:()=>L(!1),visible:F}),x&&e.jsx(mr,{closeFnc:()=>{b(!1),w(We())},openSecondStepModal:o,openJobModal:N,visible:x}),E&&e.jsx(or,{closeFnc:()=>O(!1)}),e.jsxs(H.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mt-10 md:mt-5 ml-5 md:ml-10",children:[e.jsxs("h1",{className:"bg-clip-text bg-gradient-to-r font-bold from-blue-600 md:text-4xl text-3xl text-transparent to-purple-600",children:["Let's Begin ",e.jsx("span",{className:"ml-2 text-2xl text-yellow-400",children:"âœ¨"})]}),e.jsxs("p",{className:"text-gray-600 text-lg mt-2",children:["Welcome back ",e.jsx("b",{children:(l==null?void 0:l.name)||"User"}),"! Ready to create something amazing today?"]})]}),e.jsxs("div",{className:"min-h-screen p-2 md:p-6 relative",children:[c?e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((V,W)=>e.jsx(Re,{},W))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:2}).map((V,W)=>e.jsx(Ee,{},W))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((V,W)=>e.jsx(Re,{},W))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((V,W)=>e.jsx(Ee,{},W))})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid lg:grid-cols-3 gap-4",children:e.jsx(Ve,{children:c?Array.from({length:3}).map((V,W)=>e.jsx(Re,{},W)):nr.map((V,W)=>e.jsx(Jt,{icon:V.icon,title:V.title,content:V.content,id:V.id,gradient:V.hoverGradient,functions:{showModal:s,setModelData:I,showDaisy:f,showMultiStepModal:P,showQuickBlogModal:U,showCompetitiveAnalysis:ne}},W))})}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center",children:e.jsx(ys,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Tools"})]}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4",children:e.jsx(Ve,{children:c?Array.from({length:4}).map((V,W)=>e.jsx(Ee,{},W)):lr.map((V,W)=>{const te={};return V.id===1?te.showKeywordResearch=()=>b(!0):V.id===2?te.showSeoAnalysis=()=>O(!0):V.id===3?te.showPerformanceMonitoring=()=>L(!0):V.id===4&&(te.showCompetitiveAnalysis=()=>ne()),e.jsx(er,{id:V.id,icon:V.icon,title:V.title,content:V.content,bgColor:V.bgColor,hoverBg:V.hoverBg,color:V.color,navigate:V.navigate,functions:te},W)})})})]}),T.length>0&&e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 mt-6",children:[e.jsx("div",{className:"mb-6 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-600 flex items-center justify-center",children:e.jsx(vt,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Projects"})]})}),e.jsxs("div",{children:[e.jsx(Ve,{children:c?Array.from({length:3}).map((V,W)=>e.jsx(Ee,{},W)):T.map((V,W)=>e.jsx(sr,{title:V.title,content:V.content,tags:V.focusKeywords,item:V,time:V.updatedAt},W))}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{className:"px-6 py-2 text-blue-600 hover:text-blue-700 font-medium hover:bg-blue-50 rounded-lg transition-colors",onClick:()=>g("/blogs"),children:"View All Projects"})})]})]})]}),e.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLScIdA2aVtugx-zMGON8LJKD4IRWtLZqiiurw-jU6wRYfOv7EA/viewform?usp=sharing&ouid=117159793210831255816",target:"_blank",rel:"noopener noreferrer",className:"fixed right-0 bottom-28 z-50",children:e.jsx("button",{className:"fixed right-[-30px] bottom-28 bg-blue-600 text-white px-4 py-2 rounded-lg rotate-90 flex items-center gap-2 hover:bg-blue-700 transition-all duration-300 shadow-md z-50",style:{backfaceVisibility:"hidden",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},"aria-label":"Provide feedback",children:"Feedback"})})]})]})};export{ia as default};
