var de=Object.defineProperty,ce=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var Q=(l,o,t)=>o in l?de(l,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[o]=t,I=(l,o)=>{for(var t in o||(o={}))V.call(o,t)&&Q(l,t,o[t]);if(S)for(var t of S(o))Y.call(o,t)&&Q(l,t,o[t]);return l},M=(l,o)=>ce(l,me(o));var U=(l,o)=>{var t={};for(var i in l)V.call(l,i)&&o.indexOf(i)<0&&(t[i]=l[i]);if(l!=null&&S)for(var i of S(l))o.indexOf(i)<0&&Y.call(l,i)&&(t[i]=l[i]);return t};var Z=(l,o,t)=>new Promise((i,u)=>{var w=m=>{try{y(t.next(m))}catch(j){u(j)}},b=m=>{try{y(t.throw(m))}catch(j){u(j)}},y=m=>m.done?i(m.value):Promise.resolve(m.value).then(w,b);y((t=t.apply(l,o)).next())});import{j as e}from"./tiptap-BabmW22p.js";import{b as h}from"./vendor-CcjAMWu8.js";import{u as xe,a as he,b as ge}from"./blogQueries-anuKp3p3.js";import{I as pe,M as ue,c as T,q as J,B as be,s as B,F as ye,e as je}from"./antd-8WQTeuab.js";import{c as fe,m as c}from"./index-CHEUOGl9.js";import{T as we}from"./tag-BmAl3_57.js";import"./useQuery-CEoF32mJ.js";import"./blogApi-mE4NxLdq.js";import"./utils-DIb0lvMo.js";var ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function O(){return O=Object.assign?Object.assign.bind():function(l){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(l[i]=t[i])}return l},O.apply(this,arguments)}const Ne=(l,o)=>h.createElement(pe,O({},l,{ref:o,icon:ve})),ke=h.forwardRef(Ne);const Le=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],Se=fe("tags",Le),_e=({closeFnc:l,visible:o})=>{var E,z,W;const[t,i]=h.useState({selectedBlog:null,title:"",content:"",keywords:[]}),[u,w]=h.useState(null),[b,y]=h.useState(null),[m,j]=h.useState(!1),{data:f,isLoading:X}=xe(),{data:g,isLoading:ee}=he(b),{data:Be,refetch:se}=ge(b);h.useEffect(()=>{g&&g._id===b&&i(a=>M(I({},a),{title:g.title||"",content:g.content||"",keywords:g.focusKeywords||[],selectedBlog:g,contentType:"markdown"}))},[g,b]);const te=a=>{if(!a){y(null),i({selectedBlog:null,title:"",content:"",keywords:[]}),w(null);return}const s=f==null?void 0:f.find(r=>r._id===a);s&&(y(s._id),i({selectedBlog:s,title:s.title||"",content:s.content||"",keywords:s.focusKeywords||[]}),w(null))},re=()=>Z(null,null,function*(){var a;if(!((a=t.selectedBlog)!=null&&a._id)){B.error("Please select a blog.");return}if(t.content.length<500){B.warning("Your content is too short. This may affect performance analysis accuracy.");return}j(!0);try{const s=yield se();s.data&&(w(s.data.stats||s.data),B.success("Performance insights loaded successfully."))}catch(s){console.error("Failed to fetch blog stats:",s),B.error("Failed to load performance stats.")}finally{j(!1)}}),oe={flesch:"ðŸ“˜ Flesch Reading Ease (0â€“100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"ðŸ“— SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"ðŸ“™ ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"ðŸ“ˆ Blog Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},C=({type:a="seo"})=>e.jsx(je,{title:oe[a],trigger:["hover","click"],placement:"top",children:e.jsx(ke,{className:"ml-1 text-gray-500 hover:text-blue-500 cursor-pointer"})}),p=({icon:a,label:s,value:r,color:N,delay:n=0,suffix:v="",description:k=""})=>e.jsx(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:n*.1,duration:.3},className:`p-4 bg-white rounded-lg border ${N} shadow-sm hover:shadow-md transition-shadow w-full sm:w-auto`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[a&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-md text-blue-500",children:a}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:s}),e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:[r,v]}),k&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:k})]})]})}),A=({score:a,max:s,label:r,level:N,color:n})=>e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm w-full",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600 flex items-center gap-1",children:[r,e.jsx(C,{type:/seo/gi.test(r)?"seo":"flesch"})]}),e.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:N})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full ${n} transition-all duration-500`,style:{width:`${a/s*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:[a," / ",s]})})]})]}),ae=({stats:a})=>{var _,F,K,R,q,H,P;if(!a)return null;const{readabililty:s={},seo:r={},engagement:N={},metadata:n={}}=a,v=(r==null?void 0:r.keywordDensity)||{},k=Object.keys(v).filter(d=>d.split(" ").length<=2).length,le=Object.keys(v).filter(d=>d.split(" ").length>2).length,D=Object.entries(v).map(([d,{count:x,density:$}],L)=>({key:d,keyword:d,count:x,density:$,animationDelay:L*.1})),ne=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(d,x)=>d.density-x.density,render:d=>`${d.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 sm:p-6 mt-4 sm:mt-6",children:[e.jsx("div",{className:"mb-4 sm:mb-6 text-center",children:e.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-6 sm:mb-8 capitalize",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-base sm:text-xl font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(n==null?void 0:n.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(n==null?void 0:n.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(n==null?void 0:n.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(n==null?void 0:n.aiModel)||"-"})]})]}),(n==null?void 0:n.generatedAt)&&e.jsxs("div",{className:"mt-3 sm:mt-4 bg-gray-50 p-3 rounded-lg border normal-case border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(n.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-base sm:text-xl font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[!!(r!=null&&r.score)&&e.jsx(A,{score:(r==null?void 0:r.score)||0,max:100,label:"Blog Score",level:`${(r==null?void 0:r.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsx(p,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(r==null?void 0:r.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(p,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(r==null?void 0:r.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(p,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(r==null?void 0:r.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-4 sm:mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-2 sm:mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(_=r==null?void 0:r.focusKeywords)==null?void 0:_.map((d,x)=>e.jsx(c.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:x*.1},className:"px-2 sm:px-3 py-1 bg-blue-50 rounded-full text-xs sm:text-sm text-blue-700 border border-blue-100 hover:bg-blue-100 transition-colors",children:d},d))})]}),e.jsxs("div",{className:"mt-4 sm:mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-2 sm:mb-3",children:"Keyword Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-3 sm:mb-4",children:[e.jsx(p,{icon:e.jsx(we,{className:"w-4 h-4 sm:w-5 sm:h-5"}),label:"Short-Tail Keywords",value:k,color:"border-blue-100",delay:0}),e.jsx(p,{icon:e.jsx(Se,{className:"w-4 h-4 sm:w-5 sm:h-5"}),label:"Long-Tail Keywords",value:le,color:"border-blue-100",delay:.1})]}),e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-2 sm:mb-3",children:"Keyword Densities"}),e.jsx(c.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},className:"overflow-x-auto w-full",children:e.jsx(ye,{dataSource:D,columns:ne,pagination:!1,components:{body:{row:$=>{var L=$,{children:d}=L,x=U(L,["children"]);var G;const ie=((G=D[x["data-row-key"]])==null?void 0:G.animationDelay)||0;return e.jsx(c.tr,M(I({},x),{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:ie},className:"w-full",children:d}))}}},className:"min-w-[300px] sm:min-w-full md:min-w-[600px] lg:min-w-full rounded-md overflow-hidden capitalize"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-1.5 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-base sm:text-xl font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsx(A,{score:((F=s==null?void 0:s.fleschEase)==null?void 0:F.score)||0,max:100,label:"Flesch Ease",level:((K=s==null?void 0:s.fleschEase)==null?void 0:K.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:["SMOG Index",e.jsx(C,{type:"smog"})]}),e.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:((R=s==null?void 0:s.smogIndex)==null?void 0:R.level)||"-"})]}),e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-2",children:[((q=s==null?void 0:s.smogIndex)==null?void 0:q.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:["ARI ",e.jsx(C,{type:"ari"})]}),e.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:((H=s==null?void 0:s.ari)==null?void 0:H.level)||"-"})]}),e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-2",children:[((P=s==null?void 0:s.ari)==null?void 0:P.score)||0," grade"]})]}),e.jsx(p,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(s==null?void 0:s.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mt-3 sm:mt-4",children:[e.jsx(p,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(s==null?void 0:s.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:(s==null?void 0:s.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:(s==null?void 0:s.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:(s==null?void 0:s.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:(s==null?void 0:s.syllableCount)||0})]})]})]})]})};return h.useEffect(()=>(o?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[o]),e.jsx(ue,{title:e.jsxs(c.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"p-1.5 sm:p-2 bg-blue-500 rounded-md text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3 h-3 sm:w-4 sm:h-4",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Performance Dashboard"})]}),open:o,onCancel:l,footer:null,width:"90vw",centered:!0,styles:{body:{maxHeight:"80vh",overflowY:"auto"},content:{maxWidth:"900px",margin:"0 auto"}},children:e.jsxs("div",{className:"p-0 sm:p-4 space-y-4 sm:space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-sm sm:text-base font-semibold text-gray-700 mt-2 sm:mt-0 mb-1 sm:mb-2",children:"Select Blog"}),e.jsx("div",{className:"relative",children:e.jsxs(T,{showSearch:!0,filterOption:(a,s)=>{var r;return(r=s==null?void 0:s.children)==null?void 0:r.toLowerCase().includes(a.toLowerCase())},className:"w-full",placeholder:"Select Blog",onChange:te,value:((E=t.selectedBlog)==null?void 0:E._id)||"",loading:X,children:[e.jsx(T.Option,{value:"",children:"Select Blog"}),f==null?void 0:f.map(a=>e.jsx(T.Option,{value:a._id,className:"bg-gray-50",children:a.title||"Untitled"},a._id))]})})]}),!t.selectedBlog&&e.jsx(c.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8 sm:py-10 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:e.jsx("p",{className:"text-sm sm:text-lg text-gray-600",children:"Select a blog to view content and performance insights."})}),t.selectedBlog&&e.jsxs(e.Fragment,{children:[e.jsxs(c.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"p-3 sm:p-4 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700",children:"Content Preview"})}),e.jsx("div",{className:"max-h-[200px] sm:max-h-[400px] overflow-y-auto p-3 sm:p-4 bg-white",children:ee?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx(J,{style:{fontSize:24},spin:!0})}):e.jsx("div",{className:`prose prose-sm sm:prose-base lg:prose-lg max-w-none\r
                      prose-headings:font-bold prose-headings:text-gray-900 prose-headings:mt-6 prose-headings:mb-3\r
                      prose-h1:text-2xl sm:prose-h1:text-3xl prose-h1:font-extrabold prose-h1:leading-tight prose-h1:border-b prose-h1:border-gray-200 prose-h1:pb-2\r
                      prose-h2:text-xl sm:prose-h2:text-2xl prose-h2:font-bold prose-h2:leading-snug\r
                      prose-h3:text-lg sm:prose-h3:text-xl prose-h3:font-semibold prose-h3:leading-normal\r
                      prose-h4:text-base sm:prose-h4:text-lg prose-h4:font-semibold\r
                      prose-h5:text-sm sm:prose-h5:text-base prose-h5:font-semibold\r
                      prose-h6:text-sm prose-h6:font-medium prose-h6:text-gray-700\r
                      prose-p:text-gray-700 prose-p:leading-relaxed prose-p:my-3 prose-p:text-sm sm:prose-p:text-base\r
                      prose-strong:text-gray-900 prose-strong:font-bold\r
                      prose-em:italic prose-em:text-gray-800\r
                      prose-ul:list-disc prose-ul:ml-5 prose-ul:my-3 prose-ul:space-y-1\r
                      prose-ol:list-decimal prose-ol:ml-5 prose-ol:my-3 prose-ol:space-y-1\r
                      prose-li:text-gray-700 prose-li:leading-relaxed prose-li:text-sm sm:prose-li:text-base prose-li:my-1\r
                      prose-a:text-blue-600 prose-a:underline prose-a:font-medium hover:prose-a:text-blue-800 prose-a:transition-colors\r
                      prose-blockquote:border-l-4 prose-blockquote:border-blue-500 prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:text-gray-600 prose-blockquote:bg-blue-50 prose-blockquote:py-2 prose-blockquote:my-4\r
                      prose-code:bg-gray-100 prose-code:text-red-600 prose-code:px-1.5 prose-code:py-0.5 prose-code:rounded prose-code:text-sm prose-code:font-mono\r
                      prose-pre:bg-gray-900 prose-pre:text-gray-100 prose-pre:p-4 prose-pre:rounded-lg prose-pre:overflow-x-auto prose-pre:my-4\r
                      prose-img:rounded-lg prose-img:shadow-md prose-img:my-4\r
                      prose-hr:border-gray-300 prose-hr:my-6\r
                      prose-table:border-collapse prose-table:w-full prose-table:my-4\r
                      prose-th:bg-gray-100 prose-th:border prose-th:border-gray-300 prose-th:p-2 prose-th:text-left prose-th:font-semibold\r
                      prose-td:border prose-td:border-gray-300 prose-td:p-2\r
                      first:prose-headings:mt-0\r
                    `,dangerouslySetInnerHTML:{__html:((z=t==null?void 0:t.content)==null?void 0:z.trim())||"<p class='text-gray-500 text-center py-8'>No content available for this blog</p>"}})})]}),((W=t.keywords)==null?void 0:W.length)>0&&e.jsxs(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-3 sm:p-4 bg-gray-50 border border-gray-200 rounded-lg shadow-sm",children:[e.jsx("h4",{className:"text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.keywords.map((a,s)=>e.jsx(c.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:s*.1},className:"px-2 sm:px-3 py-1 bg-blue-50 rounded-full text-xs sm:text-sm text-blue-700 border border-blue-100 hover:bg-blue-100 transition-colors",children:a},a))})]}),!u&&e.jsx(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center",children:e.jsx(be,{type:"primary",size:"large",onClick:re,loading:m,className:"bg-blue-600 text-white hover:bg-blue-700 rounded-lg px-4 sm:px-6 py-2 transition-all duration-200",disabled:m||!t.selectedBlog,children:m?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(J,{})," Loading Insights..."]}):"Get Performance Insights"})}),u&&e.jsx(ae,{stats:u})]})]})})};export{_e as default};
