import{R as _,b as d}from"./chunk-tiptap-Cj04N-E3.js";import{ad as ge,o as B,ae as H,af as pe,ag as ve,ah as G,ai as le,aj as De,t as ke,ak as Le,al as Ke,am as We,an as U,_ as Fe,C as Pe,d as Ne,e as Ee,h as L,r as Oe,ao as He,ap as ze,v as Xe,l as Ge,p as be,aq as Ve,ar as ce,as as qe,at as de,T as Ue,au as Ye,av as Qe,aw as Je,ax as Ze,ay as et,az as tt,I as Ae,aA as nt,aB as rt,J as ot,u as at,a as st,y as Z,j as c,M as it,Q as lt,m as ee,a8 as ct}from"./index-BVrZpbfp.js";import{g as dt}from"./getEstimatedCost-B6lBIM45.js";import{R as ut}from"./LeftOutlined-B756-Q_5.js";import{g as mt}from"./index-DML65jIF.js";import{T as _e,C as ft}from"./index-Ci6Sbk3h.js";import{S as se}from"./index-JWHdJcwd.js";import{P as gt}from"./plus-CZ4DtIob.js";import{X as pt}from"./x-CkYeGxMH.js";var Re=_.forwardRef(function(e,t){var n=e.prefixCls,r=e.forceRender,a=e.className,s=e.style,i=e.children,f=e.isActive,u=e.role,y=e.classNames,g=e.styles,p=_.useState(f||r),x=ge(p,2),h=x[0],b=x[1];return _.useEffect(function(){(r||f)&&b(!0)},[r,f]),h?_.createElement("div",{ref:t,className:B("".concat(n,"-content"),H(H({},"".concat(n,"-content-active"),f),"".concat(n,"-content-inactive"),!f),a),style:s,role:u},_.createElement("div",{className:B("".concat(n,"-content-box"),y==null?void 0:y.body),style:g==null?void 0:g.body},i)):null});Re.displayName="PanelContent";var yt=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],Me=_.forwardRef(function(e,t){var n=e.showArrow,r=n===void 0?!0:n,a=e.headerClass,s=e.isActive,i=e.onItemClick,f=e.forceRender,u=e.className,y=e.classNames,g=y===void 0?{}:y,p=e.styles,x=p===void 0?{}:p,h=e.prefixCls,b=e.collapsible,S=e.accordion,I=e.panelKey,v=e.extra,$=e.header,k=e.expandIcon,C=e.openMotion,j=e.destroyInactivePanel,w=e.children,P=pe(e,yt),o=b==="disabled",m=v!=null&&typeof v!="boolean",l=H(H(H({onClick:function(){i==null||i(I)},onKeyDown:function(A){(A.key==="Enter"||A.keyCode===ve.ENTER||A.which===ve.ENTER)&&(i==null||i(I))},role:S?"tab":"button"},"aria-expanded",s),"aria-disabled",o),"tabIndex",o?-1:0),E=typeof k=="function"?k(e):_.createElement("i",{className:"arrow"}),D=E&&_.createElement("div",G({className:"".concat(h,"-expand-icon")},["header","icon"].includes(b)?l:{}),E),K=B("".concat(h,"-item"),H(H({},"".concat(h,"-item-active"),s),"".concat(h,"-item-disabled"),o),u),W=B(a,"".concat(h,"-header"),H({},"".concat(h,"-collapsible-").concat(b),!!b),g.header),O=le({className:W,style:x.header},["header","icon"].includes(b)?{}:l);return _.createElement("div",G({},P,{ref:t,className:K}),_.createElement("div",O,r&&D,_.createElement("span",G({className:"".concat(h,"-header-text")},b==="header"?l:{}),$),m&&_.createElement("div",{className:"".concat(h,"-extra")},v)),_.createElement(De,G({visible:s,leavedClassName:"".concat(h,"-content-hidden")},C,{forceRender:f,removeOnLeave:j}),function(N,A){var F=N.className,R=N.style;return _.createElement(Re,{ref:A,prefixCls:h,className:F,classNames:g,style:R,styles:x,isActive:s,forceRender:f,role:S?"tabpanel":void 0},w)}))}),ht=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],vt=function(t,n){var r=n.prefixCls,a=n.accordion,s=n.collapsible,i=n.destroyInactivePanel,f=n.onItemClick,u=n.activeKey,y=n.openMotion,g=n.expandIcon;return t.map(function(p,x){var h=p.children,b=p.label,S=p.key,I=p.collapsible,v=p.onItemClick,$=p.destroyInactivePanel,k=pe(p,ht),C=String(S??x),j=I??s,w=$??i,P=function(l){j!=="disabled"&&(f(l),v==null||v(l))},o=!1;return a?o=u[0]===C:o=u.indexOf(C)>-1,_.createElement(Me,G({},k,{prefixCls:r,key:C,panelKey:C,isActive:o,accordion:a,openMotion:y,expandIcon:g,header:b,collapsible:j,onItemClick:P,destroyInactivePanel:w}),h)})},bt=function(t,n,r){if(!t)return null;var a=r.prefixCls,s=r.accordion,i=r.collapsible,f=r.destroyInactivePanel,u=r.onItemClick,y=r.activeKey,g=r.openMotion,p=r.expandIcon,x=t.key||String(n),h=t.props,b=h.header,S=h.headerClass,I=h.destroyInactivePanel,v=h.collapsible,$=h.onItemClick,k=!1;s?k=y[0]===x:k=y.indexOf(x)>-1;var C=v??i,j=function(o){C!=="disabled"&&(u(o),$==null||$(o))},w={key:x,panelKey:x,header:b,headerClass:S,isActive:k,prefixCls:a,destroyInactivePanel:I??f,openMotion:g,accordion:s,children:t.props.children,onItemClick:j,expandIcon:p,collapsible:C};return typeof t.type=="string"?t:(Object.keys(w).forEach(function(P){typeof w[P]>"u"&&delete w[P]}),_.cloneElement(t,w))};function xt(e,t,n){return Array.isArray(e)?vt(e,n):ke(t).map(function(r,a){return bt(r,a,n)})}function Ct(e){var t=e;if(!Array.isArray(t)){var n=U(t);t=n==="number"||n==="string"?[t]:[]}return t.map(function(r){return String(r)})}var $t=_.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-collapse":n,a=e.destroyInactivePanel,s=a===void 0?!1:a,i=e.style,f=e.accordion,u=e.className,y=e.children,g=e.collapsible,p=e.openMotion,x=e.expandIcon,h=e.activeKey,b=e.defaultActiveKey,S=e.onChange,I=e.items,v=B(r,u),$=Le([],{value:h,onChange:function(m){return S==null?void 0:S(m)},defaultValue:b,postState:Ct}),k=ge($,2),C=k[0],j=k[1],w=function(m){return j(function(){if(f)return C[0]===m?[]:[m];var l=C.indexOf(m),E=l>-1;return E?C.filter(function(D){return D!==m}):[].concat(Fe(C),[m])})};Ke(!y,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var P=xt(I,y,{prefixCls:r,accordion:f,openMotion:p,expandIcon:x,collapsible:g,destroyInactivePanel:s,onItemClick:w,activeKey:C});return _.createElement("div",G({ref:t,className:v,style:i,role:f?"tablist":void 0},We(e,{aria:!0,data:!0})),P)});const ye=Object.assign($t,{Panel:Me});ye.Panel;const St=d.forwardRef((e,t)=>{const{getPrefixCls:n}=d.useContext(Pe),{prefixCls:r,className:a,showArrow:s=!0}=e,i=n("collapse",r),f=B({[`${i}-no-arrow`]:!s},a);return d.createElement(ye.Panel,Object.assign({ref:t},e,{prefixCls:i,className:f}))}),wt=e=>{const{componentCls:t,contentBg:n,padding:r,headerBg:a,headerPadding:s,collapseHeaderPaddingSM:i,collapseHeaderPaddingLG:f,collapsePanelBorderRadius:u,lineWidth:y,lineType:g,colorBorder:p,colorText:x,colorTextHeading:h,colorTextDisabled:b,fontSizeLG:S,lineHeight:I,lineHeightLG:v,marginSM:$,paddingSM:k,paddingLG:C,paddingXS:j,motionDurationSlow:w,fontSizeIcon:P,contentPadding:o,fontHeight:m,fontHeightLG:l}=e,E=`${L(y)} ${g} ${p}`;return{[t]:Object.assign(Object.assign({},Oe(e)),{backgroundColor:a,border:E,borderRadius:u,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:E,"&:first-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`${L(u)} ${L(u)} 0 0`}},"&:last-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`0 0 ${L(u)} ${L(u)}`}},[`> ${t}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:s,color:h,lineHeight:I,cursor:"pointer",transition:`all ${w}, visibility 0s`},He(e)),{[`> ${t}-header-text`]:{flex:"auto"},[`${t}-expand-icon`]:{height:m,display:"flex",alignItems:"center",paddingInlineEnd:$},[`${t}-arrow`]:Object.assign(Object.assign({},ze()),{fontSize:P,transition:`transform ${w}`,svg:{transition:`transform ${w}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}}),[`${t}-collapsible-header`]:{cursor:"default",[`${t}-header-text`]:{flex:"none",cursor:"pointer"}},[`${t}-collapsible-icon`]:{cursor:"unset",[`${t}-expand-icon`]:{cursor:"pointer"}}},[`${t}-content`]:{color:x,backgroundColor:n,borderTop:E,[`& > ${t}-content-box`]:{padding:o},"&-hidden":{display:"none"}},"&-small":{[`> ${t}-item`]:{[`> ${t}-header`]:{padding:i,paddingInlineStart:j,[`> ${t}-expand-icon`]:{marginInlineStart:e.calc(k).sub(j).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:k}}},"&-large":{[`> ${t}-item`]:{fontSize:S,lineHeight:v,[`> ${t}-header`]:{padding:f,paddingInlineStart:r,[`> ${t}-expand-icon`]:{height:l,marginInlineStart:e.calc(C).sub(r).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:C}}},[`${t}-item:last-child`]:{borderBottom:0,[`> ${t}-content`]:{borderRadius:`0 0 ${L(u)} ${L(u)}`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:b,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:$}}}}})}},It=e=>{const{componentCls:t}=e,n=`> ${t}-item > ${t}-header ${t}-arrow`;return{[`${t}-rtl`]:{[n]:{transform:"rotate(180deg)"}}}},jt=e=>{const{componentCls:t,headerBg:n,borderlessContentPadding:r,borderlessContentBg:a,colorBorder:s}=e;return{[`${t}-borderless`]:{backgroundColor:n,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${s}`},[`
        > ${t}-item:last-child,
        > ${t}-item:last-child ${t}-header
      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:a,borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{padding:r}}}},kt=e=>{const{componentCls:t,paddingSM:n}=e;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:n}}}}}},Pt=e=>({headerPadding:`${e.paddingSM}px ${e.padding}px`,headerBg:e.colorFillAlter,contentPadding:`${e.padding}px 16px`,contentBg:e.colorBgContainer,borderlessContentPadding:`${e.paddingXXS}px 16px ${e.padding}px`,borderlessContentBg:"transparent"}),Nt=Ne("Collapse",e=>{const t=Ee(e,{collapseHeaderPaddingSM:`${L(e.paddingXS)} ${L(e.paddingSM)}`,collapseHeaderPaddingLG:`${L(e.padding)} ${L(e.paddingLG)}`,collapsePanelBorderRadius:e.borderRadiusLG});return[wt(t),jt(t),kt(t),It(t),mt(t)]},Pt),Et=d.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r,expandIcon:a,className:s,style:i}=Xe("collapse"),{prefixCls:f,className:u,rootClassName:y,style:g,bordered:p=!0,ghost:x,size:h,expandIconPosition:b="start",children:S,destroyInactivePanel:I,destroyOnHidden:v,expandIcon:$}=e,k=Ge(O=>{var N;return(N=h??O)!==null&&N!==void 0?N:"middle"}),C=n("collapse",f),j=n(),[w,P,o]=Nt(C),m=d.useMemo(()=>b==="left"?"start":b==="right"?"end":b,[b]),l=$??a,E=d.useCallback((O={})=>{const N=typeof l=="function"?l(O):d.createElement(ut,{rotate:O.isActive?r==="rtl"?-90:90:void 0,"aria-label":O.isActive?"expanded":"collapsed"});return be(N,()=>{var A;return{className:B((A=N==null?void 0:N.props)===null||A===void 0?void 0:A.className,`${C}-arrow`)}})},[l,C]),D=B(`${C}-icon-position-${m}`,{[`${C}-borderless`]:!p,[`${C}-rtl`]:r==="rtl",[`${C}-ghost`]:!!x,[`${C}-${k}`]:k!=="middle"},s,u,y,P,o),K=Object.assign(Object.assign({},Ve(j)),{motionAppear:!1,leavedClassName:`${C}-content-hidden`}),W=d.useMemo(()=>S?ke(S).map((O,N)=>{var A,F;const R=O.props;if(R!=null&&R.disabled){const M=(A=O.key)!==null&&A!==void 0?A:String(N),T=Object.assign(Object.assign({},ce(O.props,["disabled"])),{key:M,collapsible:(F=R.collapsible)!==null&&F!==void 0?F:"disabled"});return be(O,T)}return O}):null,[S]);return w(d.createElement(ye,Object.assign({ref:t,openMotion:K},ce(e,["rootClassName"]),{expandIcon:E,prefixCls:C,className:D,style:Object.assign(Object.assign({},i),g),destroyInactivePanel:v??I}),W))}),ue=Object.assign(Et,{Panel:St});var Ot={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},At=function(){var t=d.useRef([]),n=d.useRef(null);return d.useEffect(function(){var r=Date.now(),a=!1;t.current.forEach(function(s){if(s){a=!0;var i=s.style;i.transitionDuration=".3s, .3s, .3s, .06s",n.current&&r-n.current<100&&(i.transitionDuration="0s, 0s")}}),a&&(n.current=Date.now())}),t.current},xe=0,_t=qe();function Rt(){var e;return _t?(e=xe,xe+=1):e="TEST_OR_SSR",e}const Mt=function(e){var t=d.useState(),n=ge(t,2),r=n[0],a=n[1];return d.useEffect(function(){a("rc_progress_".concat(Rt()))},[]),e||r};var Ce=function(t){var n=t.bg,r=t.children;return d.createElement("div",{style:{width:"100%",height:"100%",background:n}},r)};function $e(e,t){return Object.keys(e).map(function(n){var r=parseFloat(n),a="".concat(Math.floor(r*t),"%");return"".concat(e[n]," ").concat(a)})}var Bt=d.forwardRef(function(e,t){var n=e.prefixCls,r=e.color,a=e.gradientId,s=e.radius,i=e.style,f=e.ptg,u=e.strokeLinecap,y=e.strokeWidth,g=e.size,p=e.gapDegree,x=r&&U(r)==="object",h=x?"#FFF":void 0,b=g/2,S=d.createElement("circle",{className:"".concat(n,"-circle-path"),r:s,cx:b,cy:b,stroke:h,strokeLinecap:u,strokeWidth:y,opacity:f===0?0:1,style:i,ref:t});if(!x)return S;var I="".concat(a,"-conic"),v=p?"".concat(180+p/2,"deg"):"0deg",$=$e(r,(360-p)/360),k=$e(r,1),C="conic-gradient(from ".concat(v,", ").concat($.join(", "),")"),j="linear-gradient(to ".concat(p?"bottom":"top",", ").concat(k.join(", "),")");return d.createElement(d.Fragment,null,d.createElement("mask",{id:I},S),d.createElement("foreignObject",{x:0,y:0,width:g,height:g,mask:"url(#".concat(I,")")},d.createElement(Ce,{bg:j},d.createElement(Ce,{bg:C}))))}),Q=100,ie=function(t,n,r,a,s,i,f,u,y,g){var p=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,x=r/100*360*((360-i)/360),h=i===0?0:{bottom:0,top:180,left:90,right:-90}[f],b=(100-a)/100*n;y==="round"&&a!==100&&(b+=g/2,b>=n&&(b=n-.01));var S=Q/2;return{stroke:typeof u=="string"?u:void 0,strokeDasharray:"".concat(n,"px ").concat(t),strokeDashoffset:b+p,transform:"rotate(".concat(s+x+h,"deg)"),transformOrigin:"".concat(S,"px ").concat(S,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Tt=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Se(e){var t=e??[];return Array.isArray(t)?t:[t]}var Dt=function(t){var n=le(le({},Ot),t),r=n.id,a=n.prefixCls,s=n.steps,i=n.strokeWidth,f=n.trailWidth,u=n.gapDegree,y=u===void 0?0:u,g=n.gapPosition,p=n.trailColor,x=n.strokeLinecap,h=n.style,b=n.className,S=n.strokeColor,I=n.percent,v=pe(n,Tt),$=Q/2,k=Mt(r),C="".concat(k,"-gradient"),j=$-i/2,w=Math.PI*2*j,P=y>0?90+y/2:-90,o=w*((360-y)/360),m=U(s)==="object"?s:{count:s,gap:2},l=m.count,E=m.gap,D=Se(I),K=Se(S),W=K.find(function(T){return T&&U(T)==="object"}),O=W&&U(W)==="object",N=O?"butt":x,A=ie(w,o,0,100,P,y,g,p,N,i),F=At(),R=function(){var V=0;return D.map(function(X,q){var oe=K[q]||K[K.length-1],Y=ie(w,o,V,X,P,y,g,oe,N,i);return V+=X,d.createElement(Bt,{key:q,color:oe,ptg:X,radius:j,prefixCls:a,gradientId:C,style:Y,strokeLinecap:N,strokeWidth:i,gapDegree:y,ref:function(ae){F[q]=ae},size:Q})}).reverse()},M=function(){var V=Math.round(l*(D[0]/100)),X=100/l,q=0;return new Array(l).fill(null).map(function(oe,Y){var J=Y<=V-1?K[0]:p,ae=J&&U(J)==="object"?"url(#".concat(C,")"):void 0,he=ie(w,o,q,X,P,y,g,J,"butt",i,E);return q+=(o-he.strokeDashoffset+E)*100/o,d.createElement("circle",{key:Y,className:"".concat(a,"-circle-path"),r:j,cx:$,cy:$,stroke:ae,strokeWidth:i,opacity:1,style:he,ref:function(Te){F[Y]=Te}})})};return d.createElement("svg",G({className:B("".concat(a,"-circle"),b),viewBox:"0 0 ".concat(Q," ").concat(Q),style:h,id:r,role:"presentation"},v),!l&&d.createElement("circle",{className:"".concat(a,"-circle-trail"),r:j,cx:$,cy:$,stroke:p,strokeLinecap:N,strokeWidth:f||i,style:A}),l?M():R())};function z(e){return!e||e<0?0:e>100?100:e}function te({success:e,successPercent:t}){let n=t;return e&&"progress"in e&&(n=e.progress),e&&"percent"in e&&(n=e.percent),n}const Lt=({percent:e,success:t,successPercent:n})=>{const r=z(te({success:t,successPercent:n}));return[r,z(z(e)-r)]},Kt=({success:e={},strokeColor:t})=>{const{strokeColor:n}=e;return[n||de.green,t||null]},re=(e,t,n)=>{var r,a,s,i;let f=-1,u=-1;if(t==="step"){const y=n.steps,g=n.strokeWidth;typeof e=="string"||typeof e>"u"?(f=e==="small"?2:14,u=g??8):typeof e=="number"?[f,u]=[e,e]:[f=14,u=8]=Array.isArray(e)?e:[e.width,e.height],f*=y}else if(t==="line"){const y=n==null?void 0:n.strokeWidth;typeof e=="string"||typeof e>"u"?u=y||(e==="small"?6:8):typeof e=="number"?[f,u]=[e,e]:[f=-1,u=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[f,u]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[f,u]=[e,e]:Array.isArray(e)&&(f=(a=(r=e[0])!==null&&r!==void 0?r:e[1])!==null&&a!==void 0?a:120,u=(i=(s=e[0])!==null&&s!==void 0?s:e[1])!==null&&i!==void 0?i:120));return[f,u]},Wt=3,Ft=e=>Wt/e*100,Ht=e=>{const{prefixCls:t,trailColor:n=null,strokeLinecap:r="round",gapPosition:a,gapDegree:s,width:i=120,type:f,children:u,success:y,size:g=i,steps:p}=e,[x,h]=re(g,"circle");let{strokeWidth:b}=e;b===void 0&&(b=Math.max(Ft(x),6));const S={width:x,height:h,fontSize:x*.15+6},I=d.useMemo(()=>{if(s||s===0)return s;if(f==="dashboard")return 75},[s,f]),v=Lt(e),$=a||f==="dashboard"&&"bottom"||void 0,k=Object.prototype.toString.call(e.strokeColor)==="[object Object]",C=Kt({success:y,strokeColor:e.strokeColor}),j=B(`${t}-inner`,{[`${t}-circle-gradient`]:k}),w=d.createElement(Dt,{steps:p,percent:p?v[1]:v,strokeWidth:b,trailWidth:b,strokeColor:p?C[1]:C,strokeLinecap:r,trailColor:n,prefixCls:t,gapDegree:I,gapPosition:$}),P=x<=20,o=d.createElement("div",{className:j,style:S},w,!P&&u);return P?d.createElement(Ue,{title:u},o):o},ne="--progress-line-stroke-color",Be="--progress-percent",we=e=>{const t=e?"100%":"-100%";return new Ye(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},zt=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:Object.assign(Object.assign({},Oe(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${ne})`]},height:"100%",width:`calc(1 / var(${Be}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${L(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:we(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:we(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},Xt=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},Gt=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Vt=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${n}`]:{fontSize:e.fontSizeSM}}}},qt=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),Ut=Ne("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),n=Ee(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[zt(n),Xt(n),Gt(n),Vt(n)]},qt);var Yt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Qt=e=>{let t=[];return Object.keys(e).forEach(n=>{const r=parseFloat(n.replace(/%/g,""));Number.isNaN(r)||t.push({key:r,value:e[n]})}),t=t.sort((n,r)=>n.key-r.key),t.map(({key:n,value:r})=>`${r} ${n}%`).join(", ")},Jt=(e,t)=>{const{from:n=de.blue,to:r=de.blue,direction:a=t==="rtl"?"to left":"to right"}=e,s=Yt(e,["from","to","direction"]);if(Object.keys(s).length!==0){const f=Qt(s),u=`linear-gradient(${a}, ${f})`;return{background:u,[ne]:u}}const i=`linear-gradient(${a}, ${n}, ${r})`;return{background:i,[ne]:i}},Zt=e=>{const{prefixCls:t,direction:n,percent:r,size:a,strokeWidth:s,strokeColor:i,strokeLinecap:f="round",children:u,trailColor:y=null,percentPosition:g,success:p}=e,{align:x,type:h}=g,b=i&&typeof i!="string"?Jt(i,n):{[ne]:i,background:i},S=f==="square"||f==="butt"?0:void 0,I=a??[-1,s||(a==="small"?6:8)],[v,$]=re(I,"line",{strokeWidth:s}),k={backgroundColor:y||void 0,borderRadius:S},C=Object.assign(Object.assign({width:`${z(r)}%`,height:$,borderRadius:S},b),{[Be]:z(r)/100}),j=te(e),w={width:`${z(j)}%`,height:$,borderRadius:S,backgroundColor:p==null?void 0:p.strokeColor},P={width:v<0?"100%":v},o=d.createElement("div",{className:`${t}-inner`,style:k},d.createElement("div",{className:B(`${t}-bg`,`${t}-bg-${h}`),style:C},h==="inner"&&u),j!==void 0&&d.createElement("div",{className:`${t}-success-bg`,style:w})),m=h==="outer"&&x==="start",l=h==="outer"&&x==="end";return h==="outer"&&x==="center"?d.createElement("div",{className:`${t}-layout-bottom`},o,u):d.createElement("div",{className:`${t}-outer`,style:P},m&&u,o,l&&u)},en=e=>{const{size:t,steps:n,rounding:r=Math.round,percent:a=0,strokeWidth:s=8,strokeColor:i,trailColor:f=null,prefixCls:u,children:y}=e,g=r(n*(a/100)),x=t??[t==="small"?2:14,s],[h,b]=re(x,"step",{steps:n,strokeWidth:s}),S=h/n,I=Array.from({length:n});for(let v=0;v<n;v++){const $=Array.isArray(i)?i[v]:i;I[v]=d.createElement("div",{key:v,className:B(`${u}-steps-item`,{[`${u}-steps-item-active`]:v<=g-1}),style:{backgroundColor:v<=g-1?$:f,width:S,height:b}})}return d.createElement("div",{className:`${u}-steps-outer`},I,y)};var tn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const nn=["normal","exception","active","success"],rn=d.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:a,steps:s,strokeColor:i,percent:f=0,size:u="default",showInfo:y=!0,type:g="line",status:p,format:x,style:h,percentPosition:b={}}=e,S=tn(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:I="end",type:v="outer"}=b,$=Array.isArray(i)?i[0]:i,k=typeof i=="string"||Array.isArray(i)?i:void 0,C=d.useMemo(()=>{if($){const R=typeof $=="string"?$:Object.values($)[0];return new Qe(R).isLight()}return!1},[i]),j=d.useMemo(()=>{var R,M;const T=te(e);return parseInt(T!==void 0?(R=T??0)===null||R===void 0?void 0:R.toString():(M=f??0)===null||M===void 0?void 0:M.toString(),10)},[f,e.success,e.successPercent]),w=d.useMemo(()=>!nn.includes(p)&&j>=100?"success":p||"normal",[p,j]),{getPrefixCls:P,direction:o,progress:m}=d.useContext(Pe),l=P("progress",n),[E,D,K]=Ut(l),W=g==="line",O=W&&!s,N=d.useMemo(()=>{if(!y)return null;const R=te(e);let M;const T=x||(X=>`${X}%`),V=W&&C&&v==="inner";return v==="inner"||x||w!=="exception"&&w!=="success"?M=T(z(f),z(R)):w==="exception"?M=W?d.createElement(Je,null):d.createElement(Ze,null):w==="success"&&(M=W?d.createElement(et,null):d.createElement(tt,null)),d.createElement("span",{className:B(`${l}-text`,{[`${l}-text-bright`]:V,[`${l}-text-${I}`]:O,[`${l}-text-${v}`]:O}),title:typeof M=="string"?M:void 0},M)},[y,f,j,w,g,l,x]);let A;g==="line"?A=s?d.createElement(en,Object.assign({},e,{strokeColor:k,prefixCls:l,steps:typeof s=="object"?s.count:s}),N):d.createElement(Zt,Object.assign({},e,{strokeColor:$,prefixCls:l,direction:o,percentPosition:{align:I,type:v}}),N):(g==="circle"||g==="dashboard")&&(A=d.createElement(Ht,Object.assign({},e,{strokeColor:$,prefixCls:l,progressStatus:w}),N));const F=B(l,`${l}-status-${w}`,{[`${l}-${g==="dashboard"&&"circle"||g}`]:g!=="line",[`${l}-inline-circle`]:g==="circle"&&re(u,"circle")[0]<=20,[`${l}-line`]:O,[`${l}-line-align-${I}`]:O,[`${l}-line-position-${v}`]:O,[`${l}-steps`]:s,[`${l}-show-info`]:y,[`${l}-${u}`]:typeof u=="string",[`${l}-rtl`]:o==="rtl"},m==null?void 0:m.className,r,a,D,K);return E(d.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},m==null?void 0:m.style),h),className:F,role:"progressbar","aria-valuenow":j,"aria-valuemin":0,"aria-valuemax":100},ce(S,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),A))});function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}const on=(e,t)=>d.createElement(Ae,me({},e,{ref:t,icon:nt})),vn=d.forwardRef(on);function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}const an=(e,t)=>d.createElement(Ae,fe({},e,{ref:t,icon:rt})),sn=d.forwardRef(an),{Panel:Ie}=ue,{TabPane:je}=_e,bn=({closeFnc:e,open:t,blogs:n})=>{var j,w,P;const[r,a]=d.useState({title:"",content:"",keywords:[],keywordInput:"",contentType:"text",selectedProject:null}),[s,i]=d.useState(null),{handlePopup:f}=ot(),u=at(),{analysis:y,error:g,loading:p}=st(o=>o.analysis);d.useEffect(()=>{p||(y?i(y):g?(console.error("Analysis error:",g),Z.error(g||"Failed to perform competitive analysis. Please try again.")):console.warn("Unexpected state: analysis and analysisError are both null"))},[y,g,p]),d.useEffect(()=>{t||(a({title:"",content:"",keywords:[],keywordInput:"",contentType:"text",selectedProject:null}),i(null))},[t]),d.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);const x=o=>{const{name:m,value:l}=o.target;a(E=>({...E,[m]:l}))},h=o=>{const m=n.data.find(l=>l._id===o);m&&a(l=>({...l,title:m.title,content:m.content,keywords:m.focusKeywords||[],selectedProject:m,contentType:"markdown"}))},b=o=>{a(m=>({...m,keywordInput:o.target.value}))},S=()=>{const o=r.keywordInput;if(o.trim()!==""){const m=o.split(",").map(l=>l.trim()).filter(l=>l!==""&&!r.keywords.includes(l));m.length>0&&a(l=>({...l,keywords:[...l.keywords,...m],keywordInput:""}))}},I=o=>{a(m=>({...m,keywords:m.keywords.filter((l,E)=>E!==o)}))},v=o=>{(o.key==="Enter"||o.key===",")&&(o.preventDefault(),S())},$=()=>{if(!r.title.trim())return Z.error("Please enter a blog title");if(!r.content.trim())return Z.error("Please enter blog content");if(r.keywords.length===0)return Z.error("Please add at least one keyword");f({title:"Analyze Competitors",description:c.jsxs("p",{children:["Competitive Analysis cost: ",c.jsxs("b",{children:[dt("analysis.competitors")," credits"]}),c.jsx("br",{}),"Do you wish to proceed?"]}),onConfirm:async()=>{var o;try{const m=await u(ct({title:r.title,content:r.content,keywords:r.keywords,contentType:r.contentType,blogId:(o=r==null?void 0:r.selectedProject)==null?void 0:o._id})).unwrap();i(m)}catch(m){console.error("Error fetching analysis:",m)}}})},k=o=>o?o.split(`
`).filter(m=>m.trim()!=="").map((m,l)=>c.jsx("p",{className:"mb-2",children:c.jsx("span",{dangerouslySetInnerHTML:{__html:m.trim().replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")}})},l)):[],C=d.useMemo(()=>s!=null&&s.competitors?c.jsx(ue,{accordion:!0,className:"bg-white border border-gray-200 rounded-lg",children:s.competitors.map((o,m)=>c.jsx(Ie,{header:c.jsxs("div",{className:"flex justify-between items-center w-full pr-2",children:[c.jsx("span",{className:"font-medium text-gray-800 truncate max-w-[60%]",children:o.title}),c.jsx("a",{href:(o==null?void 0:o.link)??(o==null?void 0:o.url),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm hover:underline",onClick:l=>l.stopPropagation(),children:"Visit"})]}),className:"text-sm text-gray-700 leading-relaxed",children:o!=null&&o.content?c.jsx("div",{children:k(o.content)}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"mb-2 font-medium",children:o.snippet}),c.jsx("div",{children:k(o.summary)})]})},m))}):null,[s]);return p?c.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:c.jsx(it,{})}):c.jsx(lt,{open:t,title:c.jsx("div",{className:"text-xl font-semibold text-gray-900",children:"Competitive Analysis"}),onCancel:e,footer:[c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition",children:"Close"}),!s&&c.jsx("button",{onClick:$,className:`px-4 py-2 text-sm font-medium text-white bg-[#1B6FC9]  rounded-md hover:bg-[#1B6FC9]/90 transition ${p?"opacity-50 cursor-not-allowed":""}`,disabled:p,children:p?c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(sn,{}),"Analyzing..."]}):"Analyze"})]},"footer")],width:900,centered:!0,closable:!0,transitionName:"",maskTransitionName:"",bodyStyle:{maxHeight:"80vh",overflowY:"auto",padding:0},children:c.jsx("div",{className:"p-2",children:s?c.jsxs(_e,{defaultActiveKey:"results",children:[c.jsx(je,{tab:"Analysis Results",children:c.jsxs(ee.div,{animate:{opacity:1,y:0},transition:{duration:.6,easement:"easeOut"},className:"space-y-6",children:[c.jsxs(ee.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},className:"flex flex-col items-center",children:[c.jsx(rn,{type:"dashboard",percent:parseInt(s.insights.blogScore||0),format:o=>`${o} / 100`,strokeColor:{"0%":"#1B6FC9","100%":"#4C9FE8"},trailColor:"#e5e7eb",size:"large"}),c.jsx("div",{className:"text-gray-800 text-lg font-semibold mt-3",children:"Blog SEO Score"})]}),c.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.4},children:c.jsx(ft,{title:"Suggestions to Beat Competitors",className:"bg-white border border-gray-200 rounded-lg shadow-sm",headStyle:{background:"#f9fafb",fontWeight:600,fontSize:"1.1rem"},children:c.jsx("ul",{className:"list-decimal pl-6 space-y-3 text-sm text-gray-700",children:(j=s==null?void 0:s.insights.suggestions)==null?void 0:j.split(/(?:\d+\.\s)/).filter(Boolean).map((o,m)=>c.jsx("li",{children:c.jsx("span",{dangerouslySetInnerHTML:{__html:o.trim().replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")}})},m))})})}),c.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.4},children:c.jsx(ue,{accordion:!0,className:"bg-white border border-gray-200 rounded-lg",expandIconPosition:"right",children:Object.entries(s.insights.analysis).map(([o,m])=>{const l=m.match(/^(\d+\/\d+)\s+—\s+(.*)$/),E=l?l[1]:null,D=l?l[2]:m;return c.jsx(Ie,{header:c.jsxs("div",{className:"flex justify-between items-center w-full pr-2",children:[c.jsx("span",{className:"font-medium text-gray-800",children:o}),E&&c.jsx("span",{className:"text-sm text-center w-[10ch] font-semibold text-blue-600 bg-blue-50 px-2 py-1 rounded-md",children:E.replace("/"," / ")})]}),className:"text-sm text-gray-700 leading-relaxed",children:c.jsx("p",{children:D})},o)})})})]})},"results"),c.jsx(je,{tab:"Competitors",children:C||c.jsx(Empty,{description:"No competitor data available"})},"competitors")]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Recent Project"}),c.jsxs(se,{className:"w-full rounded-md text-sm",onChange:h,value:((w=r.selectedProject)==null?void 0:w._id)||"",dropdownStyle:{maxHeight:200,overflowY:"auto"},children:[c.jsx(se.Option,{value:"",children:"Select a project"}),(P=n==null?void 0:n.data)==null?void 0:P.filter(o=>o.status==="complete"&&o.isArchived===!1).map(o=>c.jsx(se.Option,{value:o._id,children:o.title.charAt(0).toUpperCase()+o.title.slice(1)},o._id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blog Title"}),c.jsx("input",{type:"text",name:"title",value:r.title,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Enter your blog title"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blog Content"}),c.jsx("textarea",{name:"content",value:r.content,onChange:x,className:"w-full h-40 px-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:`Enter your blog content in ${r.contentType} format`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keywords"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("input",{type:"text",value:r.keywordInput,onChange:b,onKeyDown:v,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Add keywords (comma-separated)"}),c.jsx("button",{onClick:S,className:"px-4 py-2 bg-[#1B6FC9]  text-white rounded-md text-sm hover:bg-[#1B6FC9]/90 transition",children:c.jsx(gt,{})})]}),c.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:r.keywords.map((o,m)=>c.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-500",children:[o,c.jsx("button",{type:"button",onClick:()=>I(m),className:"ml-2 text-blue-500 hover:text-blue-700",children:c.jsx(pt,{className:"w-4 h-4"})})]},m))})]})]})})})};export{bn as C,vn as R};
