var ee=Object.defineProperty,se=Object.defineProperties;var ae=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var D=(a,s,t)=>s in a?ee(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,N=(a,s)=>{for(var t in s||(s={}))E.call(s,t)&&D(a,t,s[t]);if(k)for(var t of k(s))M.call(s,t)&&D(a,t,s[t]);return a},L=(a,s)=>se(a,ae(s));var z=(a,s)=>{var t={};for(var i in a)E.call(a,i)&&s.indexOf(i)<0&&(t[i]=a[i]);if(a!=null&&k)for(var i of k(a))s.indexOf(i)<0&&M.call(a,i)&&(t[i]=a[i]);return t};import{r as d,w as q,a as te,F as re,j as e,m as g,E as ie,cL as le}from"./index-aYFSkxCW.js";import{C as R,D as ne,B as oe,e as ce,f as de,r as ge}from"./chart-Bb0Gp7n5.js";import{u as me}from"./useQuery-D9LoEWoC.js";import{h as B}from"./moment-F83fPTp3.js";import{c as y}from"./createLucideIcon-D3N6Lln-.js";import{I as ue}from"./image-CL1nXQQ9.js";import{S as U}from"./index-ChoG752t.js";import{T as pe}from"./trending-up-DLGbjBTO.js";import{F as he}from"./file-text-BR-RH4I7.js";import{P as be}from"./progress-CIkg_n8f.js";import"./Overflow-BrHWJOfH.js";import"./useIcons-C722aAyl.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],xe=y("archive",ye);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],je=y("badge-percent",fe);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],Ne=y("circle-stop",ve);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],ke=y("cloud-upload",we);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Ce=y("ellipsis",Be);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],_e=y("file-plus",Oe);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Pe=y("gauge",Se),J="label";function A(a,s){typeof a=="function"?a(s):a&&(a.current=s)}function Ie(a,s){const t=a.options;t&&s&&Object.assign(t,s)}function K(a,s){a.labels=s}function Z(a,s){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J;const i=[];a.datasets=s.map(o=>{const c=a.datasets.find(u=>u[t]===o[t]);return!c||!o.data||i.includes(c)?N({},o):(i.push(c),Object.assign(c,o),c)})}function Re(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J;const t={labels:[],datasets:[]};return K(t,a.labels),Z(t,a.datasets,s),t}function De(a,s){const j=a,{height:t=150,width:i=300,redraw:o=!1,datasetIdKey:c,type:u,data:l,options:p,plugins:O=[],fallbackContent:_,updateMode:w}=j,x=z(j,["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"]),m=d.useRef(null),n=d.useRef(null),h=()=>{m.current&&(n.current=new R(m.current,{type:u,data:Re(l,c),options:p&&N({},p),plugins:O}),A(s,n.current))},b=()=>{A(s,null),n.current&&(n.current.destroy(),n.current=null)};return d.useEffect(()=>{!o&&n.current&&p&&Ie(n.current,p)},[o,p]),d.useEffect(()=>{!o&&n.current&&K(n.current.config.data,l.labels)},[o,l.labels]),d.useEffect(()=>{!o&&n.current&&l.datasets&&Z(n.current.config.data,l.datasets,c)},[o,l.datasets]),d.useEffect(()=>{n.current&&(o?(b(),setTimeout(h)):n.current.update(w))},[o,p,l.labels,l.datasets,w]),d.useEffect(()=>{n.current&&(b(),setTimeout(h))},[u]),d.useEffect(()=>(h(),()=>b()),[]),q.createElement("canvas",N({ref:m,role:"img",height:t,width:i},x),_)}const Ee=d.forwardRef(De);function C(a,s){return R.register(s),d.forwardRef((t,i)=>q.createElement(Ee,L(N({},t),{ref:i,type:a})))}const Me=C("line",ce),Le=C("bar",oe),ze=C("doughnut",ne),Ae=C("pie",de);var $e=Object.defineProperty,Fe=Object.defineProperties,Te=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,qe=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable,F=(a,s,t)=>s in a?$e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,S=(a,s)=>{for(var t in s||(s={}))qe.call(s,t)&&F(a,t,s[t]);if($)for(var t of $(s))Ue.call(s,t)&&F(a,t,s[t]);return a},P=(a,s)=>Fe(a,Te(s));R.register(...ge);const{Option:I}=U,T=({title:a,value:s,icon:t,iconBg:i,cardBg:o,ringColor:c,progress:u,limit:l})=>e.jsx(g.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`
      group relative ${o} p-4 rounded-xl border border-gray-200
      shadow-sm hover:shadow-md transition-all duration-300
      hover:ring-1 hover:ring-offset-2 ${c}
      text-gray-900 border-gray-200
    `,children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-semibold",children:a}),e.jsx("div",{className:`p-2 rounded-md ${i} shadow-md`,children:t})]}),e.jsxs("p",{className:"text-3xl font-bold",children:[s,l?` / ${l}`:""]}),u!==void 0&&l!==void 0&&e.jsxs("div",{className:"mt-2",children:[e.jsx(be,{percent:Math.min(s/l*100,100),size:"small",status:s>=l?"exception":s/l>.8?"warning":"normal",showInfo:!1,strokeColor:s>=l?"#ef4444":s/l>.8?"#f59e0b":"#10b981"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Math.round(s/l*100),"% of limit used"]})]})]})}),Je=({title:a,children:s,className:t=""})=>e.jsxs("div",{className:`rounded-2xl p-6 shadow-sm border transition-all duration-300
      bg-white border-gray-100 text-gray-900
      hover:shadow-lg ${t}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:a}),e.jsx("button",{className:"p-2 rounded-lg transition-colors hover:bg-gray-50","aria-label":"More options",children:e.jsx(Ce,{className:"w-5 h-5 text-gray-400"})})]}),e.jsx("div",{className:"h-80",children:s})]}),is=()=>{const a=te(re),[s,t]=d.useState("7days"),{data:i,isLoading:o,error:c,refetch:u}=me({queryKey:["blogStatus",s],queryFn:()=>{let r={};const f=B().endOf("day").toISOString();switch(s){case"7days":r={start:B().subtract(6,"days").startOf("day").toISOString(),end:f};break;case"30days":r={start:B().subtract(29,"days").startOf("day").toISOString(),end:f};break;case"90days":r={start:B().subtract(89,"days").startOf("day").toISOString(),end:f};break;default:r={}}return le(r)}}),l=(i==null?void 0:i.stats)||{},{totalBlogs:p=0,postedBlogs:O=0,archivedBlogs:_=0,brandedBlogs:w=0,blogsByModel:x={},blogsByStatus:m={},imageSources:n={},templatesUsed:h={}}=l,b=(a==null?void 0:a.usage)||{createdJobs:0,aiImages:0},j=(a==null?void 0:a.usageLimits)||{createdJobs:10,aiImages:50},v={maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{font:{size:12},padding:20,color:"#6b7280"}},tooltip:{backgroundColor:"white",titleColor:"#1f2937",bodyColor:"#1f2937",borderColor:"#e5e7eb",borderWidth:1,cornerRadius:12}},scales:{x:{ticks:{font:{size:12},color:"#6b7280"}},y:{ticks:{font:{size:12},color:"#6b7280"},beginAtZero:!0}}},V=P(S({},v),{scales:{x:{ticks:{font:{size:12},color:"#6b7280",maxRotation:45,minRotation:45}},y:{ticks:{font:{size:12},color:"#6b7280",stepSize:1},beginAtZero:!0}}}),W=P(S({},v),{plugins:P(S({},v.plugins),{legend:{display:!1}}),scales:{x:{ticks:{font:{size:12},color:"#6b7280",maxRotation:45,minRotation:45}},y:{ticks:{font:{size:12},color:"#6b7280",stepSize:1},beginAtZero:!0}}}),G=[{title:"Blogs by Model",type:"Pie",data:{labels:Object.keys(x).length?Object.keys(x):["No Data"],datasets:[{data:Object.keys(x).length?Object.values(x):[1],backgroundColor:["#3B82F6","#10B981","#F59E0B","#6B7280"],hoverOffset:20,borderColor:"#ffffff"}]}},{title:"Image Sources",type:"Doughnut",data:{labels:Object.keys(n).length?Object.keys(n):["No Data"],datasets:[{data:Object.keys(n).length?Object.values(n):[1],backgroundColor:["#10B981","#F59E0B","#EF4444"],hoverOffset:20,borderColor:"#ffffff"}]}},{title:"Blogs by Status",type:"Bar",data:{labels:Object.keys(m).length?Object.keys(m):["No Data"],datasets:[{label:"Blogs by Status",data:Object.keys(m).length?Object.values(m):[0],backgroundColor:Object.keys(m).length?Object.keys(m).map(r=>{switch(r.toLowerCase()){case"pending":return"#facc15";case"complete":return"#22c55e";case"failed":return"#ef4444";case"in-progress":return"#a78bfa";default:return"#6b7280"}}):["#9ca3af"],borderColor:"#e5e7eb",borderWidth:1}]}},{title:"Templates Used",type:"Line",data:{labels:Object.keys(h).length?Object.keys(h):["No Data"],datasets:[{label:"Templates Used",data:Object.keys(h).length?Object.values(h):[0],borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4,fill:!0}]}}],H=[{title:"Total Blogs",value:p,icon:e.jsx(he,{className:"w-5 h-5 text-white"}),iconBg:"bg-blue-500",cardBg:"bg-blue-50",ringColor:"ring-blue-200"},{title:"Posted Blogs",value:O,icon:e.jsx(ke,{className:"w-5 h-5 text-white"}),iconBg:"bg-green-500",cardBg:"bg-green-50",ringColor:"ring-green-200"},{title:"Archived Blogs",value:_,icon:e.jsx(xe,{className:"w-5 h-5 text-white"}),iconBg:"bg-yellow-500",cardBg:"bg-yellow-50",ringColor:"ring-yellow-200"},{title:"Branded Blogs",value:w,icon:e.jsx(je,{className:"w-5 h-5 text-white"}),iconBg:"bg-pink-500",cardBg:"bg-pink-50",ringColor:"ring-pink-200"}],Q=[{title:"Created Jobs",value:b.createdJobs,limit:j.createdJobs,progress:b.createdJobs,icon:e.jsx(_e,{className:"w-5 h-5 text-white"}),iconBg:"bg-purple-500",cardBg:"bg-purple-50",ringColor:"ring-purple-200"},{title:"AI Images",value:b.aiImages,limit:j.aiImages,progress:b.aiImages,icon:e.jsx(ue,{className:"w-5 h-5 text-white"}),iconBg:"bg-teal-500",cardBg:"bg-teal-50",ringColor:"ring-teal-200"}],X=r=>{t(r)},Y=()=>{u()};return e.jsx("div",{className:"min-h-screen transition-colors duration-300 bg-gray-50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Blog Analytics"}),e.jsx("p",{className:"text-sm mt-1 text-gray-600",children:"Track your blog performance and engagement metrics"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(U,{value:s,onChange:X,className:"w-40","aria-label":"Select time range",children:[e.jsx(I,{value:"7days",children:"Last 7 Days"}),e.jsx(I,{value:"30days",children:"Last 30 Days"}),e.jsx(I,{value:"90days",children:"Last 90 Days"})]})})]}),o||!a?e.jsx(Ke,{}):c?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("p",{className:"text-lg text-red-500",children:["Error: ",c.message||"Failed to load analytics data"]}),e.jsx(ie,{onClick:Y,className:"mt-4 bg-blue-600 text-white","aria-label":"Retry loading data",children:"Retry"})]}):e.jsxs(e.Fragment,{children:[e.jsx(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-600 flex items-center justify-center",children:e.jsx(pe,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Blog Statistics"})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:H.map((r,f)=>e.jsx(T,{title:r.title,value:r.value,icon:r.icon,iconBg:r.iconBg,cardBg:r.cardBg,ringColor:r.ringColor,progress:r.progress,limit:r.limit},r.title))}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center",children:e.jsx(Pe,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Usage & Limit"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6 mb-8",children:Q.map((r,f)=>e.jsx(T,{title:r.title,value:r.value,icon:r.icon,iconBg:r.iconBg,cardBg:r.cardBg,ringColor:r.ringColor,progress:r.progress,limit:r.limit},r.title))}),e.jsx(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-600 flex items-center justify-center",children:e.jsx(Ne,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analytics Charts"})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:G.map((r,f)=>e.jsxs(Je,{title:r.title,children:[r.type==="Pie"&&e.jsx(Ae,{data:r.data,options:v}),r.type==="Doughnut"&&e.jsx(ze,{data:r.data,options:v}),r.type==="Bar"&&e.jsx(Le,{data:r.data,options:V}),r.type==="Line"&&e.jsx(Me,{data:r.data,options:W})]},r.title))})]})]})})},Ke=()=>e.jsxs("div",{className:"p-6",children:[e.jsxs(g.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("div",{className:"h-8 w-64 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-4 w-48 bg-gray-200 rounded mt-2 animate-pulse"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("div",{className:"h-10 w-40 bg-gray-200 rounded animate-pulse"})})]}),e.jsx(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse"})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((a,s)=>e.jsxs(g.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:s*.1},className:"p-4 rounded-xl border border-gray-200 bg-gray-50 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-md animate-pulse"})]}),e.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded animate-pulse"})]},s))}),e.jsx(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse"})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6 mb-8",children:[...Array(2)].map((a,s)=>e.jsxs(g.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:s*.1},className:"p-4 rounded-xl border border-gray-200 bg-gray-50 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-md animate-pulse"})]}),e.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full animate-pulse"}),e.jsx("div",{className:"h-3 w-16 bg-gray-200 rounded mt-1 animate-pulse"})]})]},s))}),e.jsx(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse"})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(4)].map((a,s)=>e.jsxs(g.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:s*.1},className:"rounded-2xl p-6 shadow-sm border bg-white border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"h-5 w-40 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded animate-pulse"})]}),e.jsx("div",{className:"h-80 w-full bg-gray-200 rounded-lg animate-pulse"})]},s))}),e.jsx("div",{className:"mt-12 text-center",children:e.jsx("div",{className:"h-4 w-48 mx-auto bg-gray-200 rounded animate-pulse"})})]});export{is as default};
