var Ey=Object.defineProperty,ky=Object.defineProperties;var Ty=Object.getOwnPropertyDescriptors;var ea=Object.getOwnPropertySymbols;var rf=Object.prototype.hasOwnProperty,sf=Object.prototype.propertyIsEnumerable;var hu=Math.pow,fu=(e,t,n)=>t in e?Ey(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P=(e,t)=>{for(var n in t||(t={}))rf.call(t,n)&&fu(e,n,t[n]);if(ea)for(var n of ea(t))sf.call(t,n)&&fu(e,n,t[n]);return e},ce=(e,t)=>ky(e,Ty(t));var zi=(e,t)=>{var n={};for(var r in e)rf.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ea)for(var r of ea(e))t.indexOf(r)<0&&sf.call(e,r)&&(n[r]=e[r]);return n};var je=(e,t,n)=>fu(e,typeof t!="symbol"?t+"":t,n);var ot=(e,t,n)=>new Promise((r,i)=>{var s=u=>{try{o(n.next(u))}catch(l){i(l)}},a=u=>{try{o(n.throw(u))}catch(l){i(l)}},o=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,a);o((n=n.apply(e,t)).next())});import{r as $,I as xy,G as wc,j as b,a as Tn,z as wy,u as zs,M as Xn,S as Cy,Q as oe,X as Sy,m as Ke,B as pt,Y as _y,A as Ra,b as Cc,J as mm,Z as Ay,$ as Ny,a0 as vy,a1 as Iy,a2 as Oy,P as La,T as St,a3 as gm,a4 as Vr,a5 as My,D as bm,a6 as Ry,a7 as Ly,a8 as ym,a9 as Dy,aa as Py,x as By,ab as af,H as Fy,ac as of,ad as uf,ae as jy}from"./index-DWSRUcv3.js";import{T as Hy}from"./TemplateSelection-XUWmoi3o.js";import{I as Gt}from"./index-FA4EdRZl.js";import{S as or}from"./index-DzoOzQyq.js";import{P as Da}from"./plus-allpUrFs.js";import{X as qr}from"./x-7xb-Gec7.js";import{R as zy}from"./refresh-ccw-D76mYh2u.js";import{S as yl}from"./sparkles-BIFOdeM9.js";import{o as Uy}from"./UpgardePopUp-Bwe0c3X8.js";import{g as $y}from"./getEstimatedCost-DJiO1C-B.js";import{R as El}from"./CrownTwoTone-DBV5C65t.js";import{T as Em}from"./index--weblMVs.js";import{E as ss,C as km,L as lf}from"./link-DAJuquFQ.js";import{c as nt}from"./createLucideIcon-oUW1287X.js";import{C as Vy}from"./circle-alert-iAvEYuTk.js";import{C as qy}from"./circle-check-big-BcHCnWrt.js";import{M as Ui,D as cf}from"./index-DBOdk2mL.js";import{D as Wy}from"./download-i0c5bCfI.js";import{T as ta}from"./trending-up-CxQyubIq.js";import{F as Ta}from"./file-text-Bh357FyF.js";import{Z as Ky}from"./zap-DxPzPNly.js";import{T as Yy}from"./tag-Cxv8ZnEW.js";import{D as Gy}from"./DownOutlined-22Umx7sL.js";import{E as Sc}from"./eye-DMOZIYj5.js";import{B as Qy}from"./index-DwrEVMd-.js";import{I as pu}from"./image-Dxu-pLYj.js";import{C as Xy}from"./check-BqxdCsSC.js";import{S as Jy}from"./square-pen-D_SK1pBB.js";import{T as Tm}from"./trash-2-Cvq2zDHu.js";import{L as Zy}from"./lock-_Ry2SZ3S.js";import{R as xm}from"./rotate-ccw-BsjOcCiB.js";import{C as eE}from"./copy-5IwvHnXo.js";import{R as tE}from"./refresh-cw-BumdWSh4.js";import{L as nE}from"./loader-circle-Cuo5JZfB.js";import"./index-Q6IOdd6d.js";import"./gapSize-U1swVQyS.js";import"./search-CC6gHTWb.js";import"./index-BAVZdOv3.js";import"./crown-98SdYr-D.js";import"./index-xvwjtGGr.js";import"./Input-CCkXaxeV.js";import"./SearchOutlined-DN7maYzi.js";import"./move-lIqn8_5c.js";import"./useIcons-BdWzpJIQ.js";import"./RightOutlined-BEyh-S74.js";import"./collapse-BbEVqHco.js";import"./LeftOutlined-DtBjXGxV.js";import"./index-D1fB4V7t.js";function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kl.apply(this,arguments)}const rE=(e,t)=>$.createElement(xy,kl({},e,{ref:t,icon:Gy})),iE=$.forwardRef(rE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],aE=nt("align-center",sE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],uE=nt("align-left",oE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],cE=nt("align-right",lE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],fE=nt("bold",dE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],df=nt("chart-column",hE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],mE=nt("heading-1",pE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],bE=nt("heading-2",gE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],EE=nt("heading-3",yE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],TE=nt("italic",kE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],xa=nt("lightbulb",xE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],CE=nt("list-ordered",wE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],_E=nt("list",SE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],NE=nt("maximize-2",AE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],IE=nt("minimize-2",vE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],ME=nt("panel-right-open",OE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Tl=nt("pen-line",RE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],DE=nt("redo",LE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],BE=nt("save",PE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],wm=nt("sliders-horizontal",FE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],HE=nt("target",jE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],UE=nt("underline",zE);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],VE=nt("undo",$E);function ff(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const a=n.slice(i,r).trim();(a||!s)&&t.push(a),i=r+1,r=n.indexOf(",",i)}return t}function Cm(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const qE=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,WE=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,KE={};function hf(e,t){return(KE.jsx?WE:qE).test(e)}const YE=/[ \t\n\f\r]/g;function GE(e){return typeof e=="object"?e.type==="text"?pf(e.value):!1:pf(e)}function pf(e){return e.replace(YE,"")===""}let Us=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};Us.prototype.normal={};Us.prototype.property={};Us.prototype.space=void 0;function Sm(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Us(n,r,t)}function As(e){return e.toLowerCase()}let Xt=class{constructor(t,n){this.attribute=n,this.property=t}};Xt.prototype.attribute="";Xt.prototype.booleanish=!1;Xt.prototype.boolean=!1;Xt.prototype.commaOrSpaceSeparated=!1;Xt.prototype.commaSeparated=!1;Xt.prototype.defined=!1;Xt.prototype.mustUseProperty=!1;Xt.prototype.number=!1;Xt.prototype.overloadedBoolean=!1;Xt.prototype.property="";Xt.prototype.spaceSeparated=!1;Xt.prototype.space=void 0;let QE=0;const we=Zr(),ut=Zr(),xl=Zr(),te=Zr(),qe=Zr(),bi=Zr(),Zt=Zr();function Zr(){return hu(2,++QE)}const wl=Object.freeze(Object.defineProperty({__proto__:null,boolean:we,booleanish:ut,commaOrSpaceSeparated:Zt,commaSeparated:bi,number:te,overloadedBoolean:xl,spaceSeparated:qe},Symbol.toStringTag,{value:"Module"})),mu=Object.keys(wl);let _c=class extends Xt{constructor(t,n,r,i){let s=-1;if(super(t,n),mf(this,"space",i),typeof r=="number")for(;++s<mu.length;){const a=mu[s];mf(this,mu[s],(r&wl[a])===wl[a])}}};_c.prototype.defined=!0;function mf(e,t,n){n&&(e[t]=n)}function Oi(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new _c(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[As(r)]=r,n[As(s.attribute)]=r}return new Us(t,n,e.space)}const _m=Oi({properties:{ariaActiveDescendant:null,ariaAtomic:ut,ariaAutoComplete:null,ariaBusy:ut,ariaChecked:ut,ariaColCount:te,ariaColIndex:te,ariaColSpan:te,ariaControls:qe,ariaCurrent:null,ariaDescribedBy:qe,ariaDetails:null,ariaDisabled:ut,ariaDropEffect:qe,ariaErrorMessage:null,ariaExpanded:ut,ariaFlowTo:qe,ariaGrabbed:ut,ariaHasPopup:null,ariaHidden:ut,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:qe,ariaLevel:te,ariaLive:null,ariaModal:ut,ariaMultiLine:ut,ariaMultiSelectable:ut,ariaOrientation:null,ariaOwns:qe,ariaPlaceholder:null,ariaPosInSet:te,ariaPressed:ut,ariaReadOnly:ut,ariaRelevant:null,ariaRequired:ut,ariaRoleDescription:qe,ariaRowCount:te,ariaRowIndex:te,ariaRowSpan:te,ariaSelected:ut,ariaSetSize:te,ariaSort:null,ariaValueMax:te,ariaValueMin:te,ariaValueNow:te,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Am(e,t){return t in e?e[t]:t}function Nm(e,t){return Am(e,t.toLowerCase())}const XE=Oi({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bi,acceptCharset:qe,accessKey:qe,action:null,allow:null,allowFullScreen:we,allowPaymentRequest:we,allowUserMedia:we,alt:null,as:null,async:we,autoCapitalize:null,autoComplete:qe,autoFocus:we,autoPlay:we,blocking:qe,capture:null,charSet:null,checked:we,cite:null,className:qe,cols:te,colSpan:null,content:null,contentEditable:ut,controls:we,controlsList:qe,coords:te|bi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:we,defer:we,dir:null,dirName:null,disabled:we,download:xl,draggable:ut,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:we,formTarget:null,headers:qe,height:te,hidden:xl,high:te,href:null,hrefLang:null,htmlFor:qe,httpEquiv:qe,id:null,imageSizes:null,imageSrcSet:null,inert:we,inputMode:null,integrity:null,is:null,isMap:we,itemId:null,itemProp:qe,itemRef:qe,itemScope:we,itemType:qe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:we,low:te,manifest:null,max:null,maxLength:te,media:null,method:null,min:null,minLength:te,multiple:we,muted:we,name:null,nonce:null,noModule:we,noValidate:we,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:we,optimum:te,pattern:null,ping:qe,placeholder:null,playsInline:we,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:we,referrerPolicy:null,rel:qe,required:we,reversed:we,rows:te,rowSpan:te,sandbox:qe,scope:null,scoped:we,seamless:we,selected:we,shadowRootClonable:we,shadowRootDelegatesFocus:we,shadowRootMode:null,shape:null,size:te,sizes:null,slot:null,span:te,spellCheck:ut,src:null,srcDoc:null,srcLang:null,srcSet:null,start:te,step:null,style:null,tabIndex:te,target:null,title:null,translate:null,type:null,typeMustMatch:we,useMap:null,value:ut,width:te,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:qe,axis:null,background:null,bgColor:null,border:te,borderColor:null,bottomMargin:te,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:we,declare:we,event:null,face:null,frame:null,frameBorder:null,hSpace:te,leftMargin:te,link:null,longDesc:null,lowSrc:null,marginHeight:te,marginWidth:te,noResize:we,noHref:we,noShade:we,noWrap:we,object:null,profile:null,prompt:null,rev:null,rightMargin:te,rules:null,scheme:null,scrolling:ut,standby:null,summary:null,text:null,topMargin:te,valueType:null,version:null,vAlign:null,vLink:null,vSpace:te,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:we,disableRemotePlayback:we,prefix:null,property:null,results:te,security:null,unselectable:null},space:"html",transform:Nm}),JE=Oi({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Zt,accentHeight:te,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:te,amplitude:te,arabicForm:null,ascent:te,attributeName:null,attributeType:null,azimuth:te,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:te,by:null,calcMode:null,capHeight:te,className:qe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:te,diffuseConstant:te,direction:null,display:null,dur:null,divisor:te,dominantBaseline:null,download:we,dx:null,dy:null,edgeMode:null,editable:null,elevation:te,enableBackground:null,end:null,event:null,exponent:te,externalResourcesRequired:null,fill:null,fillOpacity:te,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bi,g2:bi,glyphName:bi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:te,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:te,horizOriginX:te,horizOriginY:te,id:null,ideographic:te,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:te,k:te,k1:te,k2:te,k3:te,k4:te,kernelMatrix:Zt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:te,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:te,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:te,overlineThickness:te,paintOrder:null,panose1:null,path:null,pathLength:te,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:qe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:te,pointsAtY:te,pointsAtZ:te,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Zt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Zt,rev:Zt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Zt,requiredFeatures:Zt,requiredFonts:Zt,requiredFormats:Zt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:te,specularExponent:te,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:te,strikethroughThickness:te,string:null,stroke:null,strokeDashArray:Zt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:te,strokeOpacity:te,strokeWidth:null,style:null,surfaceScale:te,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Zt,tabIndex:te,tableValues:null,target:null,targetX:te,targetY:te,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Zt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:te,underlineThickness:te,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:te,values:null,vAlphabetic:te,vMathematical:te,vectorEffect:null,vHanging:te,vIdeographic:te,version:null,vertAdvY:te,vertOriginX:te,vertOriginY:te,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:te,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Am}),vm=Oi({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Im=Oi({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Nm}),Om=Oi({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),ZE={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ek=/[A-Z]/g,gf=/-[a-z]/g,tk=/^data[-\w.:]+$/i;function Ac(e,t){const n=As(t);let r=t,i=Xt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&tk.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(gf,rk);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!gf.test(s)){let a=s.replace(ek,nk);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=_c}return new i(r,t)}function nk(e){return"-"+e.toLowerCase()}function rk(e){return e.charAt(1).toUpperCase()}const Bo=Sm([_m,XE,vm,Im,Om],"html"),Mi=Sm([_m,JE,vm,Im,Om],"svg");function bf(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function Mm(e){return e.join(" ").trim()}var ai={},gu,yf;function ik(){if(yf)return gu;yf=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,u=`
`,l="/",c="*",d="",f="comment",p="declaration";gu=function(k,x){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];x=x||{};var T=1,O=1;function D(H){var F=H.match(t);F&&(T+=F.length);var B=H.lastIndexOf(u);O=~B?H.length-B:O+H.length}function h(){var H={line:T,column:O};return function(F){return F.position=new E(H),N(),F}}function E(H){this.start=H,this.end={line:T,column:O},this.source=x.source}E.prototype.content=k;function g(H){var F=new Error(x.source+":"+T+":"+O+": "+H);if(F.reason=H,F.filename=x.source,F.line=T,F.column=O,F.source=k,!x.silent)throw F}function w(H){var F=H.exec(k);if(F){var B=F[0];return D(B),k=k.slice(B.length),F}}function N(){w(n)}function S(H){var F;for(H=H||[];F=C();)F!==!1&&H.push(F);return H}function C(){var H=h();if(!(l!=k.charAt(0)||c!=k.charAt(1))){for(var F=2;d!=k.charAt(F)&&(c!=k.charAt(F)||l!=k.charAt(F+1));)++F;if(F+=2,d===k.charAt(F-1))return g("End of comment missing");var B=k.slice(2,F-2);return O+=2,D(B),k=k.slice(F),O+=2,H({type:f,comment:B})}}function R(){var H=h(),F=w(r);if(F){if(C(),!w(i))return g("property missing ':'");var B=w(s),v=H({type:p,property:y(F[0].replace(e,d)),value:B?y(B[0].replace(e,d)):d});return w(a),v}}function U(){var H=[];S(H);for(var F;F=R();)F!==!1&&(H.push(F),S(H));return H}return N(),U()};function y(k){return k?k.replace(o,d):d}return gu}var Ef;function sk(){if(Ef)return ai;Ef=1;var e=ai&&ai.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ai,"__esModule",{value:!0}),ai.default=n;const t=e(ik());function n(r,i){let s=null;if(!r||typeof r!="string")return s;const a=(0,t.default)(r),o=typeof i=="function";return a.forEach(u=>{if(u.type!=="declaration")return;const{property:l,value:c}=u;o?i(l,c,u):c&&(s=s||{},s[l]=c)}),s}return ai}var $i={},kf;function ak(){if(kf)return $i;kf=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(l){return!l||n.test(l)||e.test(l)},a=function(l,c){return c.toUpperCase()},o=function(l,c){return"".concat(c,"-")},u=function(l,c){return c===void 0&&(c={}),s(l)?l:(l=l.toLowerCase(),c.reactCompat?l=l.replace(i,o):l=l.replace(r,o),l.replace(t,a))};return $i.camelCase=u,$i}var Vi,Tf;function ok(){if(Tf)return Vi;Tf=1;var e=Vi&&Vi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(sk()),n=ak();function r(i,s){var a={};return!i||typeof i!="string"||(0,t.default)(i,function(o,u){o&&u&&(a[(0,n.camelCase)(o,s)]=u)}),a}return r.default=r,Vi=r,Vi}var uk=ok();const lk=wc(uk),Fo=Rm("end"),Bn=Rm("start");function Rm(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function ck(e){const t=Bn(e),n=Fo(e);if(t&&n)return{start:t,end:n}}function as(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?xf(e.position):"start"in e||"end"in e?xf(e):"line"in e||"column"in e?Cl(e):""}function Cl(e){return wf(e&&e.line)+":"+wf(e&&e.column)}function xf(e){return Cl(e&&e.start)+"-"+Cl(e&&e.end)}function wf(e){return e&&typeof e=="number"?e:1}class Dt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s=P({},n)),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=as(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Dt.prototype.file="";Dt.prototype.name="";Dt.prototype.reason="";Dt.prototype.message="";Dt.prototype.stack="";Dt.prototype.column=void 0;Dt.prototype.line=void 0;Dt.prototype.ancestors=void 0;Dt.prototype.cause=void 0;Dt.prototype.fatal=void 0;Dt.prototype.place=void 0;Dt.prototype.ruleId=void 0;Dt.prototype.source=void 0;const Nc={}.hasOwnProperty,dk=new Map,fk=/[A-Z]/g,hk=new Set(["table","tbody","thead","tfoot","tr"]),pk=new Set(["td","th"]),Lm="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function mk(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=wk(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=xk(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Mi:Bo,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Dm(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function Dm(e,t,n){if(t.type==="element")return gk(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return bk(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Ek(e,t,n);if(t.type==="mdxjsEsm")return yk(e,t);if(t.type==="root")return kk(e,t,n);if(t.type==="text")return Tk(e,t)}function gk(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Mi,e.schema=i),e.ancestors.push(t);const s=Bm(e,t.tagName,!1),a=Ck(e,t);let o=Ic(e,t);return hk.has(t.tagName)&&(o=o.filter(function(u){return typeof u=="string"?!GE(u):!0})),Pm(e,a,s,t),vc(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function bk(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ns(e,t.position)}function yk(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ns(e,t.position)}function Ek(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Mi,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:Bm(e,t.name,!0),a=Sk(e,t),o=Ic(e,t);return Pm(e,a,s,t),vc(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function kk(e,t,n){const r={};return vc(r,Ic(e,t)),e.create(t,e.Fragment,r,n)}function Tk(e,t){return t.value}function Pm(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function vc(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function xk(e,t,n){return r;function r(i,s,a,o){const l=Array.isArray(a.children)?n:t;return o?l(s,a,o):l(s,a)}}function wk(e,t){return n;function n(r,i,s,a){const o=Array.isArray(s.children),u=Bn(r);return t(i,s,a,o,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function Ck(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Nc.call(t.properties,i)){const s=_k(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&pk.has(t.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Sk(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Ns(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else Ns(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Ic(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:dk;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const l=i.get(u)||0;a=u+"-"+l,i.set(u,l+1)}}const o=Dm(e,s,a);o!==void 0&&n.push(o)}return n}function _k(e,t,n){const r=Ac(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Cm(n):Mm(n)),r.property==="style"){let i=typeof n=="object"?n:Ak(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Nk(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?ZE[r.property]||r.property:r.attribute,n]}}function Ak(e,t){try{return lk(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Dt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Lm+"#cannot-parse-style-attribute",i}}function Bm(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=hf(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=hf(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Nc.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ns(e)}function Ns(e,t){const n=new Dt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Lm+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Nk(e){const t={};let n;for(n in e)Nc.call(e,n)&&(t[vk(n)]=e[n]);return t}function vk(e){let t=e.replace(fk,Ik);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Ik(e){return"-"+e.toLowerCase()}const bu={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Ok={};function Oc(e,t){const n=Ok,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Fm(e,r,i)}function Fm(e,t,n){if(Mk(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Cf(e.children,t,n)}return Array.isArray(e)?Cf(e,t,n):""}function Cf(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Fm(e[i],t,n);return r.join("")}function Mk(e){return!!(e&&typeof e=="object")}const Sf=document.createElement("i");function Mc(e){const t="&"+e+";";Sf.innerHTML=t;const n=Sf.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function nn(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function hn(e,t){return e.length>0?(nn(e,e.length,0,t),e):t}const _f={}.hasOwnProperty;function jm(e){const t={};let n=-1;for(;++n<e.length;)Rk(t,e[n]);return t}function Rk(e,t){let n;for(n in t){const i=(_f.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){_f.call(i,a)||(i[a]=[]);const o=s[a];Lk(i[a],Array.isArray(o)?o:o?[o]:[])}}}function Lk(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);nn(e,0,0,r)}function Hm(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Cn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ht=xr(/[A-Za-z]/),Mt=xr(/[\dA-Za-z]/),Dk=xr(/[#-'*+\--9=?A-Z^-~]/);function Pa(e){return e!==null&&(e<32||e===127)}const Sl=xr(/\d/),Pk=xr(/[\dA-Fa-f]/),Bk=xr(/[!-/:-@[-`{-~]/);function be(e){return e!==null&&e<-2}function ze(e){return e!==null&&(e<0||e===32)}function Ae(e){return e===-2||e===-1||e===32}const jo=xr(new RegExp("\\p{P}|\\p{S}","u")),Wr=xr(/\s/);function xr(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ri(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&Mt(e.charCodeAt(n+1))&&Mt(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a="�"}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function ve(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(u){return Ae(u)?(e.enter(n),o(u)):t(u)}function o(u){return Ae(u)&&s++<i?(e.consume(u),o):(e.exit(n),t(u))}}const Fk={tokenize:jk};function jk(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),ve(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return be(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const Hk={tokenize:zk},Af={tokenize:Uk};function zk(e){const t=this,n=[];let r=0,i,s,a;return o;function o(D){if(r<n.length){const h=n[r];return t.containerState=h[1],e.attempt(h[0].continuation,u,l)(D)}return l(D)}function u(D){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&O();const h=t.events.length;let E=h,g;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){g=t.events[E][1].end;break}T(r);let w=h;for(;w<t.events.length;)t.events[w][1].end=P({},g),w++;return nn(t.events,E+1,0,t.events.slice(h)),t.events.length=w,l(D)}return o(D)}function l(D){if(r===n.length){if(!i)return f(D);if(i.currentConstruct&&i.currentConstruct.concrete)return y(D);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Af,c,d)(D)}function c(D){return i&&O(),T(r),f(D)}function d(D){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,y(D)}function f(D){return t.containerState={},e.attempt(Af,p,y)(D)}function p(D){return r++,n.push([t.currentConstruct,t.containerState]),f(D)}function y(D){if(D===null){i&&O(),T(0),e.consume(D);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),k(D)}function k(D){if(D===null){x(e.exit("chunkFlow"),!0),T(0),e.consume(D);return}return be(D)?(e.consume(D),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(D),k)}function x(D,h){const E=t.sliceStream(D);if(h&&E.push(null),D.previous=s,s&&(s.next=D),s=D,i.defineSkip(D.start),i.write(E),t.parser.lazy[D.start.line]){let g=i.events.length;for(;g--;)if(i.events[g][1].start.offset<a&&(!i.events[g][1].end||i.events[g][1].end.offset>a))return;const w=t.events.length;let N=w,S,C;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(S){C=t.events[N][1].end;break}S=!0}for(T(r),g=w;g<t.events.length;)t.events[g][1].end=P({},C),g++;nn(t.events,N+1,0,t.events.slice(w)),t.events.length=g}}function T(D){let h=n.length;for(;h-- >D;){const E=n[h];t.containerState=E[1],E[0].exit.call(t,e)}n.length=D}function O(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Uk(e,t,n){return ve(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ti(e){if(e===null||ze(e)||Wr(e))return 1;if(jo(e))return 2}function Ho(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const _l={name:"attention",resolveAll:$k,tokenize:Vk};function $k(e,t){let n=-1,r,i,s,a,o,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d=P({},e[r][1].end),f=P({},e[n][1].start);Nf(d,-u),Nf(f,u),a={type:u>1?"strongSequence":"emphasisSequence",start:d,end:P({},e[r][1].end)},o={type:u>1?"strongSequence":"emphasisSequence",start:P({},e[n][1].start),end:f},s={type:u>1?"strongText":"emphasisText",start:P({},e[r][1].end),end:P({},e[n][1].start)},i={type:u>1?"strong":"emphasis",start:P({},a.start),end:P({},o.end)},e[r][1].end=P({},a.start),e[n][1].start=P({},o.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=hn(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=hn(l,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),l=hn(l,Ho(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=hn(l,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=hn(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,nn(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Vk(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Ti(r);let s;return a;function a(u){return s=u,e.enter("attentionSequence"),o(u)}function o(u){if(u===s)return e.consume(u),o;const l=e.exit("attentionSequence"),c=Ti(u),d=!c||c===2&&i||n.includes(u),f=!i||i===2&&c||n.includes(r);return l._open=!!(s===42?d:d&&(i||!f)),l._close=!!(s===42?f:f&&(c||!d)),t(u)}}function Nf(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const qk={name:"autolink",tokenize:Wk};function Wk(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return Ht(p)?(e.consume(p),a):p===64?n(p):l(p)}function a(p){return p===43||p===45||p===46||Mt(p)?(r=1,o(p)):l(p)}function o(p){return p===58?(e.consume(p),r=0,u):(p===43||p===45||p===46||Mt(p))&&r++<32?(e.consume(p),o):(r=0,l(p))}function u(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Pa(p)?n(p):(e.consume(p),u)}function l(p){return p===64?(e.consume(p),c):Dk(p)?(e.consume(p),l):n(p)}function c(p){return Mt(p)?d(p):n(p)}function d(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):f(p)}function f(p){if((p===45||Mt(p))&&r++<63){const y=p===45?f:d;return e.consume(p),y}return n(p)}}const $s={partial:!0,tokenize:Kk};function Kk(e,t,n){return r;function r(s){return Ae(s)?ve(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||be(s)?t(s):n(s)}}const zm={continuation:{tokenize:Gk},exit:Qk,name:"blockQuote",tokenize:Yk};function Yk(e,t,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Ae(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function Gk(e,t,n){const r=this;return i;function i(a){return Ae(a)?ve(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(zm,t,n)(a)}}function Qk(e){e.exit("blockQuote")}const Um={name:"characterEscape",tokenize:Xk};function Xk(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return Bk(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const $m={name:"characterReference",tokenize:Jk};function Jk(e,t,n){const r=this;let i=0,s,a;return o;function o(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),u}function u(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,a=Mt,c(d))}function l(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=Pk,c):(e.enter("characterReferenceValue"),s=7,a=Sl,c(d))}function c(d){if(d===59&&i){const f=e.exit("characterReferenceValue");return a===Mt&&!Mc(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(d)&&i++<s?(e.consume(d),c):n(d)}}const vf={partial:!0,tokenize:eT},If={concrete:!0,name:"codeFenced",tokenize:Zk};function Zk(e,t,n){const r=this,i={partial:!0,tokenize:E};let s=0,a=0,o;return u;function u(g){return l(g)}function l(g){const w=r.events[r.events.length-1];return s=w&&w[1].type==="linePrefix"?w[2].sliceSerialize(w[1],!0).length:0,o=g,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(g)}function c(g){return g===o?(a++,e.consume(g),c):a<3?n(g):(e.exit("codeFencedFenceSequence"),Ae(g)?ve(e,d,"whitespace")(g):d(g))}function d(g){return g===null||be(g)?(e.exit("codeFencedFence"),r.interrupt?t(g):e.check(vf,k,h)(g)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===null||be(g)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(g)):Ae(g)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ve(e,p,"whitespace")(g)):g===96&&g===o?n(g):(e.consume(g),f)}function p(g){return g===null||be(g)?d(g):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(g))}function y(g){return g===null||be(g)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(g)):g===96&&g===o?n(g):(e.consume(g),y)}function k(g){return e.attempt(i,h,x)(g)}function x(g){return e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),T}function T(g){return s>0&&Ae(g)?ve(e,O,"linePrefix",s+1)(g):O(g)}function O(g){return g===null||be(g)?e.check(vf,k,h)(g):(e.enter("codeFlowValue"),D(g))}function D(g){return g===null||be(g)?(e.exit("codeFlowValue"),O(g)):(e.consume(g),D)}function h(g){return e.exit("codeFenced"),t(g)}function E(g,w,N){let S=0;return C;function C(B){return g.enter("lineEnding"),g.consume(B),g.exit("lineEnding"),R}function R(B){return g.enter("codeFencedFence"),Ae(B)?ve(g,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):U(B)}function U(B){return B===o?(g.enter("codeFencedFenceSequence"),H(B)):N(B)}function H(B){return B===o?(S++,g.consume(B),H):S>=a?(g.exit("codeFencedFenceSequence"),Ae(B)?ve(g,F,"whitespace")(B):F(B)):N(B)}function F(B){return B===null||be(B)?(g.exit("codeFencedFence"),w(B)):N(B)}}}function eT(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const yu={name:"codeIndented",tokenize:nT},tT={partial:!0,tokenize:rT};function nT(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),ve(e,s,"linePrefix",5)(l)}function s(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?a(l):n(l)}function a(l){return l===null?u(l):be(l)?e.attempt(tT,a,u)(l):(e.enter("codeFlowValue"),o(l))}function o(l){return l===null||be(l)?(e.exit("codeFlowValue"),a(l)):(e.consume(l),o)}function u(l){return e.exit("codeIndented"),t(l)}}function rT(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):be(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):ve(e,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):be(a)?i(a):n(a)}}const iT={name:"codeText",previous:aT,resolve:sT,tokenize:oT};function sT(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function aT(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function oT(e,t,n){let r=0,i,s;return a;function a(d){return e.enter("codeText"),e.enter("codeTextSequence"),o(d)}function o(d){return d===96?(e.consume(d),r++,o):(e.exit("codeTextSequence"),u(d))}function u(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),u):d===96?(s=e.enter("codeTextSequence"),i=0,c(d)):be(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(d))}function l(d){return d===null||d===32||d===96||be(d)?(e.exit("codeTextData"),u(d)):(e.consume(d),l)}function c(d){return d===96?(e.consume(d),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(s.type="codeTextData",l(d))}}class uT{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n==null?Number.POSITIVE_INFINITY:n;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&qi(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),qi(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),qi(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);qi(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);qi(this.left,n.reverse())}}}function qi(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Vm(e){const t={};let n=-1,r,i,s,a,o,u,l;const c=new uT(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,lT(c,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=c.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end=P({},c.get(i)[1].start),o=c.slice(i,n),o.unshift(r),c.splice(i,n-i+1,o))}}return nn(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!l}function lT(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,u=[],l={};let c,d,f=-1,p=n,y=0,k=0;const x=[k];for(;p;){for(;e.get(++i)[1]!==p;);s.push(i),p._tokenizer||(c=r.sliceStream(p),p.next||c.push(null),d&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(k=f+1,x.push(k),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):x.pop(),f=x.length;f--;){const T=o.slice(x[f],x[f+1]),O=s.pop();u.push([O,O+T.length-1]),e.splice(O,2,T)}for(u.reverse(),f=-1;++f<u.length;)l[y+u[f][0]]=y+u[f][1],y+=u[f][1]-u[f][0]-1;return l}const cT={resolve:fT,tokenize:hT},dT={partial:!0,tokenize:pT};function fT(e){return Vm(e),e}function hT(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):be(o)?e.check(dT,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function pT(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),ve(e,s,"linePrefix")}function s(a){if(a===null||be(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function qm(e,t,n,r,i,s,a,o,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return d;function d(T){return T===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(T),e.exit(s),f):T===null||T===32||T===41||Pa(T)?n(T):(e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),k(T))}function f(T){return T===62?(e.enter(s),e.consume(T),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),p(T))}function p(T){return T===62?(e.exit("chunkString"),e.exit(o),f(T)):T===null||T===60||be(T)?n(T):(e.consume(T),T===92?y:p)}function y(T){return T===60||T===62||T===92?(e.consume(T),p):p(T)}function k(T){return!c&&(T===null||T===41||ze(T))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(T)):c<l&&T===40?(e.consume(T),c++,k):T===41?(e.consume(T),c--,k):T===null||T===32||T===40||Pa(T)?n(T):(e.consume(T),T===92?x:k)}function x(T){return T===40||T===41||T===92?(e.consume(T),k):k(T)}}function Wm(e,t,n,r,i,s){const a=this;let o=0,u;return l;function l(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(s),c}function c(p){return o>999||p===null||p===91||p===93&&!u||p===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(s),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):be(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||be(p)||o++>999?(e.exit("chunkString"),c(p)):(e.consume(p),u||(u=!Ae(p)),p===92?f:d)}function f(p){return p===91||p===92||p===93?(e.consume(p),o++,d):d(p)}}function Km(e,t,n,r,i,s){let a;return o;function o(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),a=f===40?41:f,u):n(f)}function u(f){return f===a?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(s),l(f))}function l(f){return f===a?(e.exit(s),u(a)):f===null?n(f):be(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),ve(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===a||f===null||be(f)?(e.exit("chunkString"),l(f)):(e.consume(f),f===92?d:c)}function d(f){return f===a||f===92?(e.consume(f),c):c(f)}}function us(e,t){let n;return r;function r(i){return be(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ae(i)?ve(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const mT={name:"definition",tokenize:bT},gT={partial:!0,tokenize:yT};function bT(e,t,n){const r=this;let i;return s;function s(p){return e.enter("definition"),a(p)}function a(p){return Wm.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=Cn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),u):n(p)}function u(p){return ze(p)?us(e,l)(p):l(p)}function l(p){return qm(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function c(p){return e.attempt(gT,d,d)(p)}function d(p){return Ae(p)?ve(e,f,"whitespace")(p):f(p)}function f(p){return p===null||be(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function yT(e,t,n){return r;function r(o){return ze(o)?us(e,i)(o):n(o)}function i(o){return Km(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Ae(o)?ve(e,a,"whitespace")(o):a(o)}function a(o){return o===null||be(o)?t(o):n(o)}}const ET={name:"hardBreakEscape",tokenize:kT};function kT(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return be(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const TT={name:"headingAtx",resolve:xT,tokenize:wT};function xT(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},nn(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function wT(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),a(c)}function a(c){return c===35&&r++<6?(e.consume(c),a):c===null||ze(c)?(e.exit("atxHeadingSequence"),o(c)):n(c)}function o(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||be(c)?(e.exit("atxHeading"),t(c)):Ae(c)?ve(e,o,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),o(c))}function l(c){return c===null||c===35||ze(c)?(e.exit("atxHeadingText"),o(c)):(e.consume(c),l)}}const CT=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Of=["pre","script","style","textarea"],ST={concrete:!0,name:"htmlFlow",resolveTo:NT,tokenize:vT},_T={partial:!0,tokenize:OT},AT={partial:!0,tokenize:IT};function NT(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function vT(e,t,n){const r=this;let i,s,a,o,u;return l;function l(M){return c(M)}function c(M){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(M),d}function d(M){return M===33?(e.consume(M),f):M===47?(e.consume(M),s=!0,k):M===63?(e.consume(M),i=3,r.interrupt?t:_):Ht(M)?(e.consume(M),a=String.fromCharCode(M),x):n(M)}function f(M){return M===45?(e.consume(M),i=2,p):M===91?(e.consume(M),i=5,o=0,y):Ht(M)?(e.consume(M),i=4,r.interrupt?t:_):n(M)}function p(M){return M===45?(e.consume(M),r.interrupt?t:_):n(M)}function y(M){const pe="CDATA[";return M===pe.charCodeAt(o++)?(e.consume(M),o===pe.length?r.interrupt?t:U:y):n(M)}function k(M){return Ht(M)?(e.consume(M),a=String.fromCharCode(M),x):n(M)}function x(M){if(M===null||M===47||M===62||ze(M)){const pe=M===47,ye=a.toLowerCase();return!pe&&!s&&Of.includes(ye)?(i=1,r.interrupt?t(M):U(M)):CT.includes(a.toLowerCase())?(i=6,pe?(e.consume(M),T):r.interrupt?t(M):U(M)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(M):s?O(M):D(M))}return M===45||Mt(M)?(e.consume(M),a+=String.fromCharCode(M),x):n(M)}function T(M){return M===62?(e.consume(M),r.interrupt?t:U):n(M)}function O(M){return Ae(M)?(e.consume(M),O):C(M)}function D(M){return M===47?(e.consume(M),C):M===58||M===95||Ht(M)?(e.consume(M),h):Ae(M)?(e.consume(M),D):C(M)}function h(M){return M===45||M===46||M===58||M===95||Mt(M)?(e.consume(M),h):E(M)}function E(M){return M===61?(e.consume(M),g):Ae(M)?(e.consume(M),E):D(M)}function g(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),u=M,w):Ae(M)?(e.consume(M),g):N(M)}function w(M){return M===u?(e.consume(M),u=null,S):M===null||be(M)?n(M):(e.consume(M),w)}function N(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||ze(M)?E(M):(e.consume(M),N)}function S(M){return M===47||M===62||Ae(M)?D(M):n(M)}function C(M){return M===62?(e.consume(M),R):n(M)}function R(M){return M===null||be(M)?U(M):Ae(M)?(e.consume(M),R):n(M)}function U(M){return M===45&&i===2?(e.consume(M),v):M===60&&i===1?(e.consume(M),V):M===62&&i===4?(e.consume(M),j):M===63&&i===3?(e.consume(M),_):M===93&&i===5?(e.consume(M),ie):be(M)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(_T,X,H)(M)):M===null||be(M)?(e.exit("htmlFlowData"),H(M)):(e.consume(M),U)}function H(M){return e.check(AT,F,X)(M)}function F(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),B}function B(M){return M===null||be(M)?H(M):(e.enter("htmlFlowData"),U(M))}function v(M){return M===45?(e.consume(M),_):U(M)}function V(M){return M===47?(e.consume(M),a="",G):U(M)}function G(M){if(M===62){const pe=a.toLowerCase();return Of.includes(pe)?(e.consume(M),j):U(M)}return Ht(M)&&a.length<8?(e.consume(M),a+=String.fromCharCode(M),G):U(M)}function ie(M){return M===93?(e.consume(M),_):U(M)}function _(M){return M===62?(e.consume(M),j):M===45&&i===2?(e.consume(M),_):U(M)}function j(M){return M===null||be(M)?(e.exit("htmlFlowData"),X(M)):(e.consume(M),j)}function X(M){return e.exit("htmlFlow"),t(M)}}function IT(e,t,n){const r=this;return i;function i(a){return be(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function OT(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt($s,t,n)}}const MT={name:"htmlText",tokenize:RT};function RT(e,t,n){const r=this;let i,s,a;return o;function o(_){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(_),u}function u(_){return _===33?(e.consume(_),l):_===47?(e.consume(_),E):_===63?(e.consume(_),D):Ht(_)?(e.consume(_),N):n(_)}function l(_){return _===45?(e.consume(_),c):_===91?(e.consume(_),s=0,y):Ht(_)?(e.consume(_),O):n(_)}function c(_){return _===45?(e.consume(_),p):n(_)}function d(_){return _===null?n(_):_===45?(e.consume(_),f):be(_)?(a=d,V(_)):(e.consume(_),d)}function f(_){return _===45?(e.consume(_),p):d(_)}function p(_){return _===62?v(_):_===45?f(_):d(_)}function y(_){const j="CDATA[";return _===j.charCodeAt(s++)?(e.consume(_),s===j.length?k:y):n(_)}function k(_){return _===null?n(_):_===93?(e.consume(_),x):be(_)?(a=k,V(_)):(e.consume(_),k)}function x(_){return _===93?(e.consume(_),T):k(_)}function T(_){return _===62?v(_):_===93?(e.consume(_),T):k(_)}function O(_){return _===null||_===62?v(_):be(_)?(a=O,V(_)):(e.consume(_),O)}function D(_){return _===null?n(_):_===63?(e.consume(_),h):be(_)?(a=D,V(_)):(e.consume(_),D)}function h(_){return _===62?v(_):D(_)}function E(_){return Ht(_)?(e.consume(_),g):n(_)}function g(_){return _===45||Mt(_)?(e.consume(_),g):w(_)}function w(_){return be(_)?(a=w,V(_)):Ae(_)?(e.consume(_),w):v(_)}function N(_){return _===45||Mt(_)?(e.consume(_),N):_===47||_===62||ze(_)?S(_):n(_)}function S(_){return _===47?(e.consume(_),v):_===58||_===95||Ht(_)?(e.consume(_),C):be(_)?(a=S,V(_)):Ae(_)?(e.consume(_),S):v(_)}function C(_){return _===45||_===46||_===58||_===95||Mt(_)?(e.consume(_),C):R(_)}function R(_){return _===61?(e.consume(_),U):be(_)?(a=R,V(_)):Ae(_)?(e.consume(_),R):S(_)}function U(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(e.consume(_),i=_,H):be(_)?(a=U,V(_)):Ae(_)?(e.consume(_),U):(e.consume(_),F)}function H(_){return _===i?(e.consume(_),i=void 0,B):_===null?n(_):be(_)?(a=H,V(_)):(e.consume(_),H)}function F(_){return _===null||_===34||_===39||_===60||_===61||_===96?n(_):_===47||_===62||ze(_)?S(_):(e.consume(_),F)}function B(_){return _===47||_===62||ze(_)?S(_):n(_)}function v(_){return _===62?(e.consume(_),e.exit("htmlTextData"),e.exit("htmlText"),t):n(_)}function V(_){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),G}function G(_){return Ae(_)?ve(e,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):ie(_)}function ie(_){return e.enter("htmlTextData"),a(_)}}const Rc={name:"labelEnd",resolveAll:BT,resolveTo:FT,tokenize:jT},LT={tokenize:HT},DT={tokenize:zT},PT={tokenize:UT};function BT(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&nn(e,0,e.length,n),e}function FT(e,t){let n=e.length,r=0,i,s,a,o;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:P({},e[s][1].start),end:P({},e[e.length-1][1].end)},l={type:"label",start:P({},e[s][1].start),end:P({},e[a][1].end)},c={type:"labelText",start:P({},e[s+r+2][1].end),end:P({},e[a-2][1].start)};return o=[["enter",u,t],["enter",l,t]],o=hn(o,e.slice(s+1,s+r+3)),o=hn(o,[["enter",c,t]]),o=hn(o,Ho(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),o=hn(o,[["exit",c,t],e[a-2],e[a-1],["exit",l,t]]),o=hn(o,e.slice(a+1)),o=hn(o,[["exit",u,t]]),nn(e,s,e.length,o),e}function jT(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(f){return s?s._inactive?d(f):(a=r.parser.defined.includes(Cn(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),u):n(f)}function u(f){return f===40?e.attempt(LT,c,a?c:d)(f):f===91?e.attempt(DT,c,a?l:d)(f):a?c(f):d(f)}function l(f){return e.attempt(PT,c,d)(f)}function c(f){return t(f)}function d(f){return s._balanced=!0,n(f)}}function HT(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return ze(d)?us(e,s)(d):s(d)}function s(d){return d===41?c(d):qm(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return ze(d)?us(e,u)(d):c(d)}function o(d){return n(d)}function u(d){return d===34||d===39||d===40?Km(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function l(d){return ze(d)?us(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function zT(e,t,n){const r=this;return i;function i(o){return Wm.call(r,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Cn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function UT(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const $T={name:"labelStartImage",resolveAll:Rc.resolveAll,tokenize:VT};function VT(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const qT={name:"labelStartLink",resolveAll:Rc.resolveAll,tokenize:WT};function WT(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Eu={name:"lineEnding",tokenize:KT};function KT(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ve(e,t,"linePrefix")}}const wa={name:"thematicBreak",tokenize:YT};function YT(e,t,n){let r=0,i;return s;function s(l){return e.enter("thematicBreak"),a(l)}function a(l){return i=l,o(l)}function o(l){return l===i?(e.enter("thematicBreakSequence"),u(l)):r>=3&&(l===null||be(l))?(e.exit("thematicBreak"),t(l)):n(l)}function u(l){return l===i?(e.consume(l),r++,u):(e.exit("thematicBreakSequence"),Ae(l)?ve(e,o,"whitespace")(l):o(l))}}const Kt={continuation:{tokenize:JT},exit:ex,name:"list",tokenize:XT},GT={partial:!0,tokenize:tx},QT={partial:!0,tokenize:ZT};function XT(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(p){const y=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:Sl(p)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(wa,n,l)(p):l(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(p)}return n(p)}function u(p){return Sl(p)&&++a<10?(e.consume(p),u):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),l(p)):n(p)}function l(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check($s,r.interrupt?n:c,e.attempt(GT,f,d))}function c(p){return r.containerState.initialBlankLine=!0,s++,f(p)}function d(p){return Ae(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function JT(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check($s,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ve(e,t,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!Ae(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(QT,t,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,ve(e,e.attempt(Kt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function ZT(e,t,n){const r=this;return ve(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function ex(e){e.exit(this.containerState.type)}function tx(e,t,n){const r=this;return ve(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!Ae(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const Mf={name:"setextUnderline",resolveTo:nx,tokenize:rx};function nx(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:P({},e[r][1].start),end:P({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=P({},e[s][1].end)):e[r][1]=a,e.push(["exit",a,t]),e}function rx(e,t,n){const r=this;let i;return s;function s(l){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=l,a(l)):n(l)}function a(l){return e.enter("setextHeadingLineSequence"),o(l)}function o(l){return l===i?(e.consume(l),o):(e.exit("setextHeadingLineSequence"),Ae(l)?ve(e,u,"lineSuffix")(l):u(l))}function u(l){return l===null||be(l)?(e.exit("setextHeadingLine"),t(l)):n(l)}}const ix={tokenize:sx};function sx(e){const t=this,n=e.attempt($s,r,e.attempt(this.parser.constructs.flowInitial,i,ve(e,e.attempt(this.parser.constructs.flow,i,e.attempt(cT,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const ax={resolveAll:Gm()},ox=Ym("string"),ux=Ym("text");function Ym(e){return{resolveAll:Gm(e==="text"?lx:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,o);return a;function a(c){return l(c)?s(c):o(c)}function o(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),s(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const p=d[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function Gm(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function lx(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,o=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(a=l.length;l.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(l===-2)u=!0,o++;else if(l!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const l={type:n===e.length||u||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:P({},r.end)};r.end=P({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}const cx={42:Kt,43:Kt,45:Kt,48:Kt,49:Kt,50:Kt,51:Kt,52:Kt,53:Kt,54:Kt,55:Kt,56:Kt,57:Kt,62:zm},dx={91:mT},fx={[-2]:yu,[-1]:yu,32:yu},hx={35:TT,42:wa,45:[Mf,wa],60:ST,61:Mf,95:wa,96:If,126:If},px={38:$m,92:Um},mx={[-5]:Eu,[-4]:Eu,[-3]:Eu,33:$T,38:$m,42:_l,60:[qk,MT],91:qT,92:[ET,Um],93:Rc,95:_l,96:iT},gx={null:[_l,ax]},bx={null:[42,95]},yx={null:[]},Ex=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:bx,contentInitial:dx,disable:yx,document:cx,flow:hx,flowInitial:fx,insideSpan:gx,string:px,text:mx},Symbol.toStringTag,{value:"Module"}));function kx(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const u={attempt:w(E),check:w(g),consume:O,enter:D,exit:h,interrupt:w(g,{interrupt:!0})},l={code:null,containerState:{},defineSkip:k,events:[],now:y,parser:e,previous:null,sliceSerialize:f,sliceStream:p,write:d};let c=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function d(R){return a=hn(a,R),x(),a[a.length-1]!==null?[]:(N(t,0),l.events=Ho(s,l.events,l),l.events)}function f(R,U){return xx(p(R),U)}function p(R){return Tx(a,R)}function y(){const{_bufferIndex:R,_index:U,line:H,column:F,offset:B}=r;return{_bufferIndex:R,_index:U,line:H,column:F,offset:B}}function k(R){i[R.line]=R.column,C()}function x(){let R;for(;r._index<a.length;){const U=a[r._index];if(typeof U=="string")for(R=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===R&&r._bufferIndex<U.length;)T(U.charCodeAt(r._bufferIndex));else T(U)}}function T(R){c=c(R)}function O(R){be(R)?(r.line++,r.column=1,r.offset+=R===-3?2:1,C()):R!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=R}function D(R,U){const H=U||{};return H.type=R,H.start=y(),l.events.push(["enter",H,l]),o.push(H),H}function h(R){const U=o.pop();return U.end=y(),l.events.push(["exit",U,l]),U}function E(R,U){N(R,U.from)}function g(R,U){U.restore()}function w(R,U){return H;function H(F,B,v){let V,G,ie,_;return Array.isArray(F)?X(F):"tokenize"in F?X([F]):j(F);function j(de){return Ie;function Ie(J){const Ue=J!==null&&de[J],$e=J!==null&&de.null,Ye=[...Array.isArray(Ue)?Ue:Ue?[Ue]:[],...Array.isArray($e)?$e:$e?[$e]:[]];return X(Ye)(J)}}function X(de){return V=de,G=0,de.length===0?v:M(de[G])}function M(de){return Ie;function Ie(J){return _=S(),ie=de,de.partial||(l.currentConstruct=de),de.name&&l.parser.constructs.disable.null.includes(de.name)?ye():de.tokenize.call(U?Object.assign(Object.create(l),U):l,u,pe,ye)(J)}}function pe(de){return R(ie,_),B}function ye(de){return _.restore(),++G<V.length?M(V[G]):v}}}function N(R,U){R.resolveAll&&!s.includes(R)&&s.push(R),R.resolve&&nn(l.events,U,l.events.length-U,R.resolve(l.events.slice(U),l)),R.resolveTo&&(l.events=R.resolveTo(l.events,l))}function S(){const R=y(),U=l.previous,H=l.currentConstruct,F=l.events.length,B=Array.from(o);return{from:F,restore:v};function v(){r=R,l.previous=U,l.currentConstruct=H,l.events.length=F,o=B,C()}}function C(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Tx(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function xx(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function wx(e){const r={constructs:jm([Ex,...(e||{}).extensions||[]]),content:i(Fk),defined:[],document:i(Hk),flow:i(ix),lazy:{},string:i(ox),text:i(ux)};return r;function i(s){return a;function a(o){return kx(r,s,o)}}}function Cx(e){for(;!Vm(e););return e}const Rf=/[\0\t\n\r]/g;function Sx(){let e=1,t="",n=!0,r;return i;function i(s,a,o){const u=[];let l,c,d,f,p;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(Rf.lastIndex=d,l=Rf.exec(s),f=l&&l.index!==void 0?l.index:s.length,p=s.charCodeAt(f),!l){t=s.slice(d);break}if(p===10&&d===f&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),d<f&&(u.push(s.slice(d,f)),e+=f-d),p){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return o&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const _x=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ax(e){return e.replace(_x,Nx)}function Nx(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Hm(n.slice(s?2:1),s?16:10)}return Mc(n)||e}const Qm={}.hasOwnProperty;function vx(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Ix(n)(Cx(wx(n).document().write(Sx()(e,t,!0))))}function Ix(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(sn),autolinkProtocol:S,autolinkEmail:S,atxHeading:s(Be),blockQuote:s($e),characterEscape:S,characterReference:S,codeFenced:s(Ye),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Ye,a),codeText:s(at,a),codeTextData:S,data:S,codeFlowValue:S,definition:s(mt),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(_r),hardBreakEscape:s(An),hardBreakTrailing:s(An),htmlFlow:s(jn,a),htmlFlowData:S,htmlText:s(jn,a),htmlTextData:S,image:s(rt),label:a,link:s(sn),listItem:s(wt),listItemValue:f,listOrdered:s(En,d),listUnordered:s(En),paragraph:s(Nt),reference:M,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Be),strong:s(Ar),thematicBreak:s(er)},exit:{atxHeading:u(),atxHeadingSequence:E,autolink:u(),autolinkEmail:Ue,autolinkProtocol:J,blockQuote:u(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:ye,characterReferenceMarkerNumeric:ye,characterReferenceValue:de,characterReference:Ie,codeFenced:u(x),codeFencedFence:k,codeFencedFenceInfo:p,codeFencedFenceMeta:y,codeFlowValue:C,codeIndented:u(T),codeText:u(B),codeTextData:C,data:C,definition:u(),definitionDestinationString:h,definitionLabelString:O,definitionTitleString:D,emphasis:u(),hardBreakEscape:u(U),hardBreakTrailing:u(U),htmlFlow:u(H),htmlFlowData:C,htmlText:u(F),htmlTextData:C,image:u(V),label:ie,labelText:G,lineEnding:R,link:u(v),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:pe,resourceDestinationString:_,resourceTitleString:j,resource:X,setextHeading:u(N),setextHeadingLineSequence:w,setextHeadingText:g,strong:u(),thematicBreak:u()}};Xm(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(W){let re={type:"root",children:[]};const ge={stack:[re],tokenStack:[],config:t,enter:o,exit:l,buffer:a,resume:c,data:n},ke=[];let Ne=-1;for(;++Ne<W.length;)if(W[Ne][1].type==="listOrdered"||W[Ne][1].type==="listUnordered")if(W[Ne][0]==="enter")ke.push(Ne);else{const gt=ke.pop();Ne=i(W,gt,Ne)}for(Ne=-1;++Ne<W.length;){const gt=t[W[Ne][0]];Qm.call(gt,W[Ne][1].type)&&gt[W[Ne][1].type].call(Object.assign({sliceSerialize:W[Ne][2].sliceSerialize},ge),W[Ne][1])}if(ge.tokenStack.length>0){const gt=ge.tokenStack[ge.tokenStack.length-1];(gt[1]||Lf).call(ge,void 0,gt[0])}for(re.position={start:nr(W.length>0?W[0][1].start:{line:1,column:1,offset:0}),end:nr(W.length>0?W[W.length-2][1].end:{line:1,column:1,offset:0})},Ne=-1;++Ne<t.transforms.length;)re=t.transforms[Ne](re)||re;return re}function i(W,re,ge){let ke=re-1,Ne=-1,gt=!1,qt,vt,an,on;for(;++ke<=ge;){const se=W[ke];switch(se[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{se[0]==="enter"?Ne++:Ne--,on=void 0;break}case"lineEndingBlank":{se[0]==="enter"&&(qt&&!on&&!Ne&&!an&&(an=ke),on=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:on=void 0}if(!Ne&&se[0]==="enter"&&se[1].type==="listItemPrefix"||Ne===-1&&se[0]==="exit"&&(se[1].type==="listUnordered"||se[1].type==="listOrdered")){if(qt){let Te=ke;for(vt=void 0;Te--;){const Oe=W[Te];if(Oe[1].type==="lineEnding"||Oe[1].type==="lineEndingBlank"){if(Oe[0]==="exit")continue;vt&&(W[vt][1].type="lineEndingBlank",gt=!0),Oe[1].type="lineEnding",vt=Te}else if(!(Oe[1].type==="linePrefix"||Oe[1].type==="blockQuotePrefix"||Oe[1].type==="blockQuotePrefixWhitespace"||Oe[1].type==="blockQuoteMarker"||Oe[1].type==="listItemIndent"))break}an&&(!vt||an<vt)&&(qt._spread=!0),qt.end=Object.assign({},vt?W[vt][1].start:se[1].end),W.splice(vt||ke,0,["exit",qt,se[2]]),ke++,ge++}if(se[1].type==="listItemPrefix"){const Te={type:"listItem",_spread:!1,start:Object.assign({},se[1].start),end:void 0};qt=Te,W.splice(ke,0,["enter",Te,se[2]]),ke++,ge++,an=void 0,on=!0}}}return W[re][1]._spread=gt,ge}function s(W,re){return ge;function ge(ke){o.call(this,W(ke),ke),re&&re.call(this,ke)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(W,re,ge){this.stack[this.stack.length-1].children.push(W),this.stack.push(W),this.tokenStack.push([re,ge||void 0]),W.position={start:nr(re.start),end:void 0}}function u(W){return re;function re(ge){W&&W.call(this,ge),l.call(this,ge)}}function l(W,re){const ge=this.stack.pop(),ke=this.tokenStack.pop();if(ke)ke[0].type!==W.type&&(re?re.call(this,W,ke[0]):(ke[1]||Lf).call(this,W,ke[0]));else throw new Error("Cannot close `"+W.type+"` ("+as({start:W.start,end:W.end})+"): it’s not open");ge.position.end=nr(W.end)}function c(){return Oc(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(W){if(this.data.expectingFirstListItemValue){const re=this.stack[this.stack.length-2];re.start=Number.parseInt(this.sliceSerialize(W),10),this.data.expectingFirstListItemValue=void 0}}function p(){const W=this.resume(),re=this.stack[this.stack.length-1];re.lang=W}function y(){const W=this.resume(),re=this.stack[this.stack.length-1];re.meta=W}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const W=this.resume(),re=this.stack[this.stack.length-1];re.value=W.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const W=this.resume(),re=this.stack[this.stack.length-1];re.value=W.replace(/(\r?\n|\r)$/g,"")}function O(W){const re=this.resume(),ge=this.stack[this.stack.length-1];ge.label=re,ge.identifier=Cn(this.sliceSerialize(W)).toLowerCase()}function D(){const W=this.resume(),re=this.stack[this.stack.length-1];re.title=W}function h(){const W=this.resume(),re=this.stack[this.stack.length-1];re.url=W}function E(W){const re=this.stack[this.stack.length-1];if(!re.depth){const ge=this.sliceSerialize(W).length;re.depth=ge}}function g(){this.data.setextHeadingSlurpLineEnding=!0}function w(W){const re=this.stack[this.stack.length-1];re.depth=this.sliceSerialize(W).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function S(W){const ge=this.stack[this.stack.length-1].children;let ke=ge[ge.length-1];(!ke||ke.type!=="text")&&(ke=kn(),ke.position={start:nr(W.start),end:void 0},ge.push(ke)),this.stack.push(ke)}function C(W){const re=this.stack.pop();re.value+=this.sliceSerialize(W),re.position.end=nr(W.end)}function R(W){const re=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ge=re.children[re.children.length-1];ge.position.end=nr(W.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(re.type)&&(S.call(this,W),C.call(this,W))}function U(){this.data.atHardBreak=!0}function H(){const W=this.resume(),re=this.stack[this.stack.length-1];re.value=W}function F(){const W=this.resume(),re=this.stack[this.stack.length-1];re.value=W}function B(){const W=this.resume(),re=this.stack[this.stack.length-1];re.value=W}function v(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=re,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function V(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=re,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function G(W){const re=this.sliceSerialize(W),ge=this.stack[this.stack.length-2];ge.label=Ax(re),ge.identifier=Cn(re).toLowerCase()}function ie(){const W=this.stack[this.stack.length-1],re=this.resume(),ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,ge.type==="link"){const ke=W.children;ge.children=ke}else ge.alt=re}function _(){const W=this.resume(),re=this.stack[this.stack.length-1];re.url=W}function j(){const W=this.resume(),re=this.stack[this.stack.length-1];re.title=W}function X(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function pe(W){const re=this.resume(),ge=this.stack[this.stack.length-1];ge.label=re,ge.identifier=Cn(this.sliceSerialize(W)).toLowerCase(),this.data.referenceType="full"}function ye(W){this.data.characterReferenceType=W.type}function de(W){const re=this.sliceSerialize(W),ge=this.data.characterReferenceType;let ke;ge?(ke=Hm(re,ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ke=Mc(re);const Ne=this.stack[this.stack.length-1];Ne.value+=ke}function Ie(W){const re=this.stack.pop();re.position.end=nr(W.end)}function J(W){C.call(this,W);const re=this.stack[this.stack.length-1];re.url=this.sliceSerialize(W)}function Ue(W){C.call(this,W);const re=this.stack[this.stack.length-1];re.url="mailto:"+this.sliceSerialize(W)}function $e(){return{type:"blockquote",children:[]}}function Ye(){return{type:"code",lang:null,meta:null,value:""}}function at(){return{type:"inlineCode",value:""}}function mt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function _r(){return{type:"emphasis",children:[]}}function Be(){return{type:"heading",depth:0,children:[]}}function An(){return{type:"break"}}function jn(){return{type:"html",value:""}}function rt(){return{type:"image",title:null,url:"",alt:null}}function sn(){return{type:"link",title:null,url:"",children:[]}}function En(W){return{type:"list",ordered:W.type==="listOrdered",start:null,spread:W._spread,children:[]}}function wt(W){return{type:"listItem",spread:W._spread,checked:null,children:[]}}function Nt(){return{type:"paragraph",children:[]}}function Ar(){return{type:"strong",children:[]}}function kn(){return{type:"text",value:""}}function er(){return{type:"thematicBreak"}}}function nr(e){return{line:e.line,column:e.column,offset:e.offset}}function Xm(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Xm(e,r):Ox(e,r)}}function Ox(e,t){let n;for(n in t)if(Qm.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Lf(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+as({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+as({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+as({start:t.start,end:t.end})+") is still open")}function Mx(e){const t=this;t.parser=n;function n(r){return vx(r,ce(P(P({},t.data("settings")),e),{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}}function Rx(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Lx(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Dx(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function Px(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Bx(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Fx(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Ri(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(r,o);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,u);const l={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,l),e.applyData(t,l)}function jx(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Hx(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Jm(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function zx(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Jm(e,t);const i={src:Ri(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function Ux(e,t){const n={src:Ri(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function $x(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Vx(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Jm(e,t);const i={href:Ri(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function qx(e,t){const n={href:Ri(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Wx(e,t,n){const r=e.all(t),i=n?Kx(n):Zm(t),s={},a=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const c=r[o];(i||o!==0||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?a.push(...c.children):a.push(c)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const l={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,l),e.applyData(t,l)}function Kx(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Zm(n[r])}return t}function Zm(e){const t=e.spread;return t==null?e.children.length>1:t}function Yx(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function Gx(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Qx(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Xx(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Jx(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=Bn(t.children[1]),u=Fo(t.children[t.children.length-1]);o&&u&&(a.position={start:o,end:u}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function Zx(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let u=-1;const l=[];for(;++u<o;){const d=t.children[u],f={},p=a?a[u]:void 0;p&&(f.align=p);let y={type:"element",tagName:s,properties:f,children:[]};d&&(y.children=e.all(d),e.patch(d,y),y=e.applyData(d,y)),l.push(y)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function e3(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Df=9,Pf=32;function t3(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(Bf(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(Bf(t.slice(i),i>0,!1)),s.join("")}function Bf(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===Df||s===Pf;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===Df||s===Pf;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function n3(e,t){const n={type:"text",value:t3(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function r3(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const i3={blockquote:Rx,break:Lx,code:Dx,delete:Px,emphasis:Bx,footnoteReference:Fx,heading:jx,html:Hx,imageReference:zx,image:Ux,inlineCode:$x,linkReference:Vx,link:qx,listItem:Wx,list:Yx,paragraph:Gx,root:Qx,strong:Xx,table:Jx,tableCell:e3,tableRow:Zx,text:n3,thematicBreak:r3,toml:na,yaml:na,definition:na,footnoteDefinition:na};function na(){}const e0=-1,zo=0,ls=1,Ba=2,Lc=3,Dc=4,Pc=5,Bc=6,t0=7,n0=8,Ff=typeof self=="object"?self:globalThis,s3=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case zo:case e0:return n(a,i);case ls:{const o=n([],i);for(const u of a)o.push(r(u));return o}case Ba:{const o=n({},i);for(const[u,l]of a)o[r(u)]=r(l);return o}case Lc:return n(new Date(a),i);case Dc:{const{source:o,flags:u}=a;return n(new RegExp(o,u),i)}case Pc:{const o=n(new Map,i);for(const[u,l]of a)o.set(r(u),r(l));return o}case Bc:{const o=n(new Set,i);for(const u of a)o.add(r(u));return o}case t0:{const{name:o,message:u}=a;return n(new Ff[o](u),i)}case n0:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new Ff[s](a),i)};return r},jf=e=>s3(new Map,e)(0),oi="",{toString:a3}={},{keys:o3}=Object,Wi=e=>{const t=typeof e;if(t!=="object"||!e)return[zo,t];const n=a3.call(e).slice(8,-1);switch(n){case"Array":return[ls,oi];case"Object":return[Ba,oi];case"Date":return[Lc,oi];case"RegExp":return[Dc,oi];case"Map":return[Pc,oi];case"Set":return[Bc,oi];case"DataView":return[ls,n]}return n.includes("Array")?[ls,n]:n.includes("Error")?[t0,n]:[Ba,n]},ra=([e,t])=>e===zo&&(t==="function"||t==="symbol"),u3=(e,t,n,r)=>{const i=(a,o)=>{const u=r.push(a)-1;return n.set(o,u),u},s=a=>{if(n.has(a))return n.get(a);let[o,u]=Wi(a);switch(o){case zo:{let c=a;switch(u){case"bigint":o=n0,c=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([e0],a)}return i([o,c],a)}case ls:{if(u){let f=a;return u==="DataView"?f=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(f=new Uint8Array(a)),i([u,[...f]],a)}const c=[],d=i([o,c],a);for(const f of a)c.push(s(f));return d}case Ba:{if(u)switch(u){case"BigInt":return i([u,a.toString()],a);case"Boolean":case"Number":case"String":return i([u,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const c=[],d=i([o,c],a);for(const f of o3(a))(e||!ra(Wi(a[f])))&&c.push([s(f),s(a[f])]);return d}case Lc:return i([o,a.toISOString()],a);case Dc:{const{source:c,flags:d}=a;return i([o,{source:c,flags:d}],a)}case Pc:{const c=[],d=i([o,c],a);for(const[f,p]of a)(e||!(ra(Wi(f))||ra(Wi(p))))&&c.push([s(f),s(p)]);return d}case Bc:{const c=[],d=i([o,c],a);for(const f of a)(e||!ra(Wi(f)))&&c.push(s(f));return d}}const{message:l}=a;return i([o,{name:u,message:l}],a)};return s},Hf=(e,{json:t,lossy:n}={})=>{const r=[];return u3(!(t||n),!!t,new Map,r)(e),r},xi=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?jf(Hf(e,t)):structuredClone(e):(e,t)=>jf(Hf(e,t));function l3(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function c3(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function d3(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||l3,r=e.options.footnoteBackLabel||c3,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let u=-1;for(;++u<e.footnoteOrder.length;){const l=e.footnoteById.get(e.footnoteOrder[u]);if(!l)continue;const c=e.all(l),d=String(l.identifier).toUpperCase(),f=Ri(d.toLowerCase());let p=0;const y=[],k=e.footnoteCounts.get(d);for(;k!==void 0&&++p<=k;){y.length>0&&y.push({type:"text",value:" "});let O=typeof n=="string"?n:n(u,p);typeof O=="string"&&(O={type:"text",value:O}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,p),className:["data-footnote-backref"]},children:Array.isArray(O)?O:[O]})}const x=c[c.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const O=x.children[x.children.length-1];O&&O.type==="text"?O.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...y)}else c.push(...y);const T={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(l,T),o.push(T)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:ce(P({},xi(a)),{id:"footnote-label"}),children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Uo=(function(e){if(e==null)return m3;if(typeof e=="function")return $o(e);if(typeof e=="object")return Array.isArray(e)?f3(e):h3(e);if(typeof e=="string")return p3(e);throw new Error("Expected function, string, or object as test")});function f3(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Uo(e[n]);return $o(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function h3(e){const t=e;return $o(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function p3(e){return $o(t);function t(n){return n&&n.type===e}}function $o(e){return t;function t(n,r,i){return!!(g3(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function m3(){return!0}function g3(e){return e!==null&&typeof e=="object"&&"type"in e}const r0=[],b3=!0,Al=!1,y3="skip";function i0(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Uo(i),a=r?-1:1;o(e,void 0,[])();function o(u,l,c){const d=u&&typeof u=="object"?u:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(u.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=r0,y,k,x;if((!t||s(u,l,c[c.length-1]||void 0))&&(p=E3(n(u,c)),p[0]===Al))return p;if("children"in u&&u.children){const T=u;if(T.children&&p[0]!==y3)for(k=(r?T.children.length:-1)+a,x=c.concat(T);k>-1&&k<T.children.length;){const O=T.children[k];if(y=o(O,k,x)(),y[0]===Al)return y;k=typeof y[1]=="number"?y[1]:k+a}}return p}}}function E3(e){return Array.isArray(e)?e:typeof e=="number"?[b3,e]:e==null?r0:[e]}function Vo(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),i0(e,s,o,i);function o(u,l){const c=l[l.length-1],d=c?c.children.indexOf(u):void 0;return a(u,d,c)}}const Nl={}.hasOwnProperty,k3={};function T3(e,t){const n=t||k3,r=new Map,i=new Map,s=new Map,a=P(P({},i3),n.handlers),o={all:l,applyData:w3,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:u,options:n,patch:x3,wrap:S3};return Vo(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),o;function u(c,d){const f=c.type,p=o.handlers[f];if(Nl.call(o.handlers,f)&&p)return p(o,c,d);if(o.options.passThrough&&o.options.passThrough.includes(f)){if("children"in c){const k=c,{children:x}=k,T=zi(k,["children"]),O=xi(T);return O.children=o.all(c),O}return xi(c)}return(o.options.unknownHandler||C3)(o,c,d)}function l(c){const d=[];if("children"in c){const f=c.children;let p=-1;for(;++p<f.length;){const y=o.one(f[p],c);if(y){if(p&&f[p-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=zf(y.value)),!Array.isArray(y)&&y.type==="element")){const k=y.children[0];k&&k.type==="text"&&(k.value=zf(k.value))}Array.isArray(y)?d.push(...y):d.push(y)}}}return d}}function x3(e,t){e.position&&(t.position=ck(e))}function w3(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,xi(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function C3(e,t){const n=t.data||{},r="value"in t&&!(Nl.call(n,"hProperties")||Nl.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function S3(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function zf(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Uf(e,t){const n=T3(e,t),r=n.one(e,void 0),i=d3(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function _3(e,t){return e&&"run"in e?function(n,r){return ot(this,null,function*(){const i=Uf(n,P({file:r},t));yield e.run(i,r)})}:function(n,r){return Uf(n,P({file:r},e||t))}}function $f(e){if(e)throw e}var ku,Vf;function A3(){if(Vf)return ku;Vf=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(l){return typeof Array.isArray=="function"?Array.isArray(l):t.call(l)==="[object Array]"},s=function(l){if(!l||t.call(l)!=="[object Object]")return!1;var c=e.call(l,"constructor"),d=l.constructor&&l.constructor.prototype&&e.call(l.constructor.prototype,"isPrototypeOf");if(l.constructor&&!c&&!d)return!1;var f;for(f in l);return typeof f=="undefined"||e.call(l,f)},a=function(l,c){n&&c.name==="__proto__"?n(l,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):l[c.name]=c.newValue},o=function(l,c){if(c==="__proto__")if(e.call(l,c)){if(r)return r(l,c).value}else return;return l[c]};return ku=function u(){var l,c,d,f,p,y,k=arguments[0],x=1,T=arguments.length,O=!1;for(typeof k=="boolean"&&(O=k,k=arguments[1]||{},x=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});x<T;++x)if(l=arguments[x],l!=null)for(c in l)d=o(k,c),f=o(l,c),k!==f&&(O&&f&&(s(f)||(p=i(f)))?(p?(p=!1,y=d&&i(d)?d:[]):y=d&&s(d)?d:{},a(k,{name:c,newValue:u(O,y,f)})):typeof f!="undefined"&&a(k,{name:c,newValue:f}));return k},ku}var N3=A3();const Tu=wc(N3);function vl(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function v3(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(u,...l){const c=e[++s];let d=-1;if(u){a(u);return}for(;++d<i.length;)(l[d]===null||l[d]===void 0)&&(l[d]=i[d]);i=l,c?I3(c,o)(...l):a(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function I3(e,t){let n;return r;function r(...a){const o=e.length>a.length;let u;o&&a.push(i);try{u=e.apply(this,a)}catch(l){const c=l;if(o&&n)throw c;return i(c)}o||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(a,...o){n||(n=!0,t(a,...o))}function s(a){i(null,a)}}const In={basename:O3,dirname:M3,extname:R3,join:L3,sep:"/"};function O3(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Vs(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function M3(e){if(Vs(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function R3(e){Vs(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function L3(...e){let t=-1,n;for(;++t<e.length;)Vs(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":D3(n)}function D3(e){Vs(e);const t=e.codePointAt(0)===47;let n=P3(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function P3(e,t){let n="",r=0,i=-1,s=0,a=-1,o,u;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function Vs(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const B3={cwd:F3};function F3(){return"/"}function Il(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function j3(e){if(typeof e=="string")e=new URL(e);else if(!Il(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return H3(e)}function H3(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const xu=["history","path","basename","stem","extname","dirname"];class s0{constructor(t){let n;t?Il(t)?n={path:t}:typeof t=="string"||z3(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":B3.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<xu.length;){const s=xu[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)xu.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?In.basename(this.path):void 0}set basename(t){Cu(t,"basename"),wu(t,"basename"),this.path=In.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?In.dirname(this.path):void 0}set dirname(t){qf(this.basename,"dirname"),this.path=In.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?In.extname(this.path):void 0}set extname(t){if(wu(t,"extname"),qf(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=In.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Il(t)&&(t=j3(t)),Cu(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?In.basename(this.path,this.extname):void 0}set stem(t){Cu(t,"stem"),wu(t,"stem"),this.path=In.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Dt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function wu(e,t){if(e&&e.includes(In.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+In.sep+"`")}function Cu(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function qf(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function z3(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const U3=(function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),$3={}.hasOwnProperty;class Fc extends U3{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=v3()}copy(){const t=new Fc;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Tu(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Au("data",this.frozen),this.namespace[t]=n,this):$3.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Au("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ia(t),r=this.parser||this.Parser;return Su("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Su("process",this.parser||this.Parser),_u("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=ia(t),u=r.parse(o);r.run(u,o,function(c,d,f){if(c||!d||!f)return l(c);const p=d,y=r.stringify(p,f);W3(y)?f.value=y:f.result=y,l(c,f)});function l(c,d){c||!d?a(c):s?s(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),Su("processSync",this.parser||this.Parser),_u("processSync",this.compiler||this.Compiler),this.process(t,i),Kf("processSync","process",n),r;function i(s,a){n=!0,$f(s),r=a}}run(t,n,r){Wf(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const u=ia(n);i.run(t,u,l);function l(c,d,f){const p=d||t;c?o(c):a?a(p):r(void 0,p,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),Kf("runSync","run",r),i;function s(a,o){$f(a),i=o,r=!0}}stringify(t,n){this.freeze();const r=ia(n),i=this.compiler||this.Compiler;return _u("stringify",i),Wf(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Au("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(l){if(typeof l=="function")u(l,[]);else if(typeof l=="object")if(Array.isArray(l)){const[c,...d]=l;u(c,d)}else a(l);else throw new TypeError("Expected usable value, not `"+l+"`")}function a(l){if(!("plugins"in l)&&!("settings"in l))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(l.plugins),l.settings&&(i.settings=Tu(!0,i.settings,l.settings))}function o(l){let c=-1;if(l!=null)if(Array.isArray(l))for(;++c<l.length;){const d=l[c];s(d)}else throw new TypeError("Expected a list of plugins, not `"+l+"`")}function u(l,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===l){f=d;break}if(f===-1)r.push([l,...c]);else if(c.length>0){let[p,...y]=c;const k=r[f][1];vl(k)&&vl(p)&&(p=Tu(!0,k,p)),r[f]=[l,p,...y]}}}}const V3=new Fc().freeze();function Su(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function _u(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Au(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Wf(e){if(!vl(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Kf(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ia(e){return q3(e)?e:new s0(e)}function q3(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function W3(e){return typeof e=="string"||K3(e)}function K3(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Y3="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Yf=[],Gf={allowDangerousHtml:!0},G3=/^(https?|ircs?|mailto|xmpp)$/i,Q3=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ol(e){const t=X3(e),n=J3(e);return Z3(t.runSync(t.parse(n),n),e)}function X3(e){const t=e.rehypePlugins||Yf,n=e.remarkPlugins||Yf,r=e.remarkRehypeOptions?P(P({},e.remarkRehypeOptions),Gf):Gf;return V3().use(Mx).use(n).use(_3,r).use(t)}function J3(e){const t=e.children||"",n=new s0;return typeof t=="string"&&(n.value=t),n}function Z3(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,u=t.urlTransform||e2;for(const c of Q3)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+Y3+c.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Vo(e,l),mk(e,{Fragment:b.Fragment,components:i,ignoreInvalidStyle:!0,jsx:b.jsx,jsxs:b.jsxs,passKeys:!0,passNode:!0});function l(c,d,f){if(c.type==="raw"&&f&&typeof d=="number")return a?f.children.splice(d,1):f.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let p;for(p in bu)if(Object.hasOwn(bu,p)&&Object.hasOwn(c.properties,p)){const y=c.properties[p],k=bu[p];(k===null||k.includes(c.tagName))&&(c.properties[p]=u(String(y||""),p,c))}}if(c.type==="element"){let p=n?!n.includes(c.tagName):s?s.includes(c.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(c,d,f)),p&&f&&typeof d=="number")return o&&c.children?f.children.splice(d,1,...c.children):f.children.splice(d,1),d}}}function e2(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||G3.test(e.slice(0,t))?e:""}function Qf(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function t2(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function n2(e,t,n){const i=Uo((n||{}).ignore||[]),s=r2(t);let a=-1;for(;++a<s.length;)i0(e,"text",o);function o(l,c){let d=-1,f;for(;++d<c.length;){const p=c[d],y=f?f.children:void 0;if(i(p,y?y.indexOf(p):void 0,f))return;f=p}if(f)return u(l,c)}function u(l,c){const d=c[c.length-1],f=s[a][0],p=s[a][1];let y=0;const x=d.children.indexOf(l);let T=!1,O=[];f.lastIndex=0;let D=f.exec(l.value);for(;D;){const h=D.index,E={index:D.index,input:D.input,stack:[...c,l]};let g=p(...D,E);if(typeof g=="string"&&(g=g.length>0?{type:"text",value:g}:void 0),g===!1?f.lastIndex=h+1:(y!==h&&O.push({type:"text",value:l.value.slice(y,h)}),Array.isArray(g)?O.push(...g):g&&O.push(g),y=h+D[0].length,T=!0),!f.global)break;D=f.exec(l.value)}return T?(y<l.value.length&&O.push({type:"text",value:l.value.slice(y)}),d.children.splice(x,1,...O)):O=[l],x+O.length}}function r2(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([i2(i[0]),s2(i[1])])}return t}function i2(e){return typeof e=="string"?new RegExp(t2(e),"g"):e}function s2(e){return typeof e=="function"?e:function(){return e}}const Nu="phrasing",vu=["autolink","link","image","label"];function a2(){return{transforms:[h2],enter:{literalAutolink:u2,literalAutolinkEmail:Iu,literalAutolinkHttp:Iu,literalAutolinkWww:Iu},exit:{literalAutolink:f2,literalAutolinkEmail:d2,literalAutolinkHttp:l2,literalAutolinkWww:c2}}}function o2(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Nu,notInConstruct:vu},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Nu,notInConstruct:vu},{character:":",before:"[ps]",after:"\\/",inConstruct:Nu,notInConstruct:vu}]}}function u2(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Iu(e){this.config.enter.autolinkProtocol.call(this,e)}function l2(e){this.config.exit.autolinkProtocol.call(this,e)}function c2(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function d2(e){this.config.exit.autolinkEmail.call(this,e)}function f2(e){this.exit(e)}function h2(e){n2(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,p2],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),m2]],{ignore:["link","linkReference"]})}function p2(e,t,n,r,i){let s="";if(!a0(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!g2(n)))return!1;const a=b2(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function m2(e,t,n,r){return!a0(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function g2(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function b2(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Qf(e,"(");let s=Qf(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function a0(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Wr(n)||jo(n))&&(!t||n!==47)}o0.peek=_2;function y2(){this.buffer()}function E2(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function k2(){this.buffer()}function T2(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function x2(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Cn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function w2(e){this.exit(e)}function C2(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Cn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function S2(e){this.exit(e)}function _2(){return"["}function o0(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function A2(){return{enter:{gfmFootnoteCallString:y2,gfmFootnoteCall:E2,gfmFootnoteDefinitionLabelString:k2,gfmFootnoteDefinition:T2},exit:{gfmFootnoteCallString:x2,gfmFootnoteCall:w2,gfmFootnoteDefinitionLabelString:C2,gfmFootnoteDefinition:S2}}}function N2(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:o0},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const o=s.createTracker(a);let u=o.move("[^");const l=s.enter("footnoteDefinition"),c=s.enter("label");return u+=o.move(s.safe(s.associationId(r),{before:u,after:"]"})),c(),u+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),u+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),t?u0:v2))),l(),u}}function v2(e,t,n){return t===0?e:u0(e,t,n)}function u0(e,t,n){return(n?"":"    ")+e}const I2=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];l0.peek=D2;function O2(){return{canContainEols:["delete"],enter:{strikethrough:R2},exit:{strikethrough:L2}}}function M2(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:I2}],handlers:{delete:l0}}}function R2(e){this.enter({type:"delete",children:[]},e)}function L2(e){this.exit(e)}function l0(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,ce(P({},i.current()),{before:a,after:"~"})),a+=i.move("~~"),s(),a}function D2(){return"~"}function P2(e){return e.length}function B2(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||P2,s=[],a=[],o=[],u=[];let l=0,c=-1;for(;++c<e.length;){const k=[],x=[];let T=-1;for(e[c].length>l&&(l=e[c].length);++T<e[c].length;){const O=F2(e[c][T]);if(n.alignDelimiters!==!1){const D=i(O);x[T]=D,(u[T]===void 0||D>u[T])&&(u[T]=D)}k.push(O)}a[c]=k,o[c]=x}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<l;)s[d]=Xf(r[d]);else{const k=Xf(r);for(;++d<l;)s[d]=k}d=-1;const f=[],p=[];for(;++d<l;){const k=s[d];let x="",T="";k===99?(x=":",T=":"):k===108?x=":":k===114&&(T=":");let O=n.alignDelimiters===!1?1:Math.max(1,u[d]-x.length-T.length);const D=x+"-".repeat(O)+T;n.alignDelimiters!==!1&&(O=x.length+O+T.length,O>u[d]&&(u[d]=O),p[d]=O),f[d]=D}a.splice(1,0,f),o.splice(1,0,p),c=-1;const y=[];for(;++c<a.length;){const k=a[c],x=o[c];d=-1;const T=[];for(;++d<l;){const O=k[d]||"";let D="",h="";if(n.alignDelimiters!==!1){const E=u[d]-(x[d]||0),g=s[d];g===114?D=" ".repeat(E):g===99?E%2?(D=" ".repeat(E/2+.5),h=" ".repeat(E/2-.5)):(D=" ".repeat(E/2),h=D):h=" ".repeat(E)}n.delimiterStart!==!1&&!d&&T.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&O==="")&&(n.delimiterStart!==!1||d)&&T.push(" "),n.alignDelimiters!==!1&&T.push(D),T.push(O),n.alignDelimiters!==!1&&T.push(h),n.padding!==!1&&T.push(" "),(n.delimiterEnd!==!1||d!==l-1)&&T.push("|")}y.push(n.delimiterEnd===!1?T.join("").replace(/ +$/,""):T.join(""))}return y.join(`
`)}function F2(e){return e==null?"":String(e)}function Xf(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const Jf={}.hasOwnProperty;function c0(e,t){const n=t||{};function r(i,...s){let a=r.invalid;const o=r.handlers;if(i&&Jf.call(i,e)){const u=String(i[e]);a=Jf.call(o,u)?o[u]:r.unknown}if(a)return a.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function j2(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),H2);return i(),a}function H2(e,t,n){return">"+(n?"":" ")+e}function z2(e,t){return Zf(e,t.inConstruct,!0)&&!Zf(e,t.notInConstruct,!1)}function Zf(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function eh(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&z2(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function U2(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+t.length,r=n.indexOf(t,i);return a}function $2(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function V2(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function q2(e,t,n,r){const i=V2(n),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if($2(e,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,W2);return d(),f}const o=n.createTracker(r),u=i.repeat(Math.max(U2(s,i)+1,3)),l=n.enter("codeFenced");let c=o.move(u);if(e.lang){const d=n.enter(`codeFencedLang${a}`);c+=o.move(n.safe(e.lang,P({before:c,after:" ",encode:["`"]},o.current()))),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${a}`);c+=o.move(" "),c+=o.move(n.safe(e.meta,P({before:c,after:`
`,encode:["`"]},o.current()))),d()}return c+=o.move(`
`),s&&(c+=o.move(s+`
`)),c+=o.move(u),l(),c}function W2(e,t,n){return(n?"":"    ")+e}function jc(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function K2(e,t,n,r){const i=jc(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const u=n.createTracker(r);let l=u.move("[");return l+=u.move(n.safe(n.associationId(e),P({before:l,after:"]"},u.current()))),l+=u.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(n.safe(e.url,P({before:l,after:">"},u.current()))),l+=u.move(">")):(o=n.enter("destinationRaw"),l+=u.move(n.safe(e.url,P({before:l,after:e.title?" ":`
`},u.current())))),o(),e.title&&(o=n.enter(`title${s}`),l+=u.move(" "+i),l+=u.move(n.safe(e.title,P({before:l,after:i},u.current()))),l+=u.move(i),o()),a(),l}function Y2(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function vs(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Fa(e,t,n){const r=Ti(e),i=Ti(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}d0.peek=G2;function d0(e,t,n,r){const i=Y2(n),s=n.enter("emphasis"),a=n.createTracker(r),o=a.move(i);let u=a.move(n.containerPhrasing(e,P({after:i,before:o},a.current())));const l=u.charCodeAt(0),c=Fa(r.before.charCodeAt(r.before.length-1),l,i);c.inside&&(u=vs(l)+u.slice(1));const d=u.charCodeAt(u.length-1),f=Fa(r.after.charCodeAt(0),d,i);f.inside&&(u=u.slice(0,-1)+vs(d));const p=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},o+u+p}function G2(e,t,n){return n.options.emphasis||"*"}function Q2(e,t){let n=!1;return Vo(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Al}),!!((!e.depth||e.depth<3)&&Oc(e)&&(t.options.setext||n))}function X2(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(Q2(e,n)){const c=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(e,ce(P({},s.current()),{before:`
`,after:`
`}));return d(),c(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),u=n.enter("phrasing");s.move(a+" ");let l=n.containerPhrasing(e,P({before:"# ",after:`
`},s.current()));return/^[\t ]/.test(l)&&(l=vs(l.charCodeAt(0))+l.slice(1)),l=l?a+" "+l:a,n.options.closeAtx&&(l+=" "+a),u(),o(),l}f0.peek=J2;function f0(e){return e.value||""}function J2(){return"<"}h0.peek=Z2;function h0(e,t,n,r){const i=jc(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const u=n.createTracker(r);let l=u.move("![");return l+=u.move(n.safe(e.alt,P({before:l,after:"]"},u.current()))),l+=u.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(n.safe(e.url,P({before:l,after:">"},u.current()))),l+=u.move(">")):(o=n.enter("destinationRaw"),l+=u.move(n.safe(e.url,P({before:l,after:e.title?" ":")"},u.current())))),o(),e.title&&(o=n.enter(`title${s}`),l+=u.move(" "+i),l+=u.move(n.safe(e.title,P({before:l,after:i},u.current()))),l+=u.move(i),o()),l+=u.move(")"),a(),l}function Z2(){return"!"}p0.peek=ew;function p0(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let u=o.move("![");const l=n.safe(e.alt,P({before:u,after:"]"},o.current()));u+=o.move(l+"]["),a();const c=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),P({before:u,after:"]"},o.current()));return a(),n.stack=c,s(),i==="full"||!l||l!==d?u+=o.move(d+"]"):i==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function ew(){return"!"}m0.peek=tw;function m0(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let u;if(a.atBreak)for(;u=o.exec(r);){let l=u.index;r.charCodeAt(l)===10&&r.charCodeAt(l-1)===13&&l--,r=r.slice(0,l)+" "+r.slice(u.index+1)}}return i+r+i}function tw(){return"`"}function g0(e,t){const n=Oc(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}b0.peek=nw;function b0(e,t,n,r){const i=jc(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,u;if(g0(e,n)){const c=n.stack;n.stack=[],o=n.enter("autolink");let d=a.move("<");return d+=a.move(n.containerPhrasing(e,P({before:d,after:">"},a.current()))),d+=a.move(">"),o(),n.stack=c,d}o=n.enter("link"),u=n.enter("label");let l=a.move("[");return l+=a.move(n.containerPhrasing(e,P({before:l,after:"]("},a.current()))),l+=a.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),l+=a.move("<"),l+=a.move(n.safe(e.url,P({before:l,after:">"},a.current()))),l+=a.move(">")):(u=n.enter("destinationRaw"),l+=a.move(n.safe(e.url,P({before:l,after:e.title?" ":")"},a.current())))),u(),e.title&&(u=n.enter(`title${s}`),l+=a.move(" "+i),l+=a.move(n.safe(e.title,P({before:l,after:i},a.current()))),l+=a.move(i),u()),l+=a.move(")"),o(),l}function nw(e,t,n){return g0(e,n)?"<":"["}y0.peek=rw;function y0(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let u=o.move("[");const l=n.containerPhrasing(e,P({before:u,after:"]"},o.current()));u+=o.move(l+"]["),a();const c=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),P({before:u,after:"]"},o.current()));return a(),n.stack=c,s(),i==="full"||!l||l!==d?u+=o.move(d+"]"):i==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function rw(){return"["}function Hc(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function iw(e){const t=Hc(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function sw(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function E0(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function aw(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?sw(n):Hc(n);const o=e.ordered?a==="."?")":".":iw(n);let u=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),E0(n)===a&&c){let d=-1;for(;++d<e.children.length;){const f=e.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=o),n.bulletCurrent=a;const l=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),l}function ow(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function uw(e,t,n,r){const i=ow(n);let s=n.bulletCurrent||Hc(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const u=n.enter("listItem"),l=n.indentLines(n.containerFlow(e,o.current()),c);return u(),l;function c(d,f,p){return f?(p?"":" ".repeat(a))+d:(p?s:s+" ".repeat(a-s.length))+d}}function lw(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,r);return s(),i(),a}const cw=Uo(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function dw(e,t,n,r){return(e.children.some(function(a){return cw(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function fw(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}k0.peek=hw;function k0(e,t,n,r){const i=fw(n),s=n.enter("strong"),a=n.createTracker(r),o=a.move(i+i);let u=a.move(n.containerPhrasing(e,P({after:i,before:o},a.current())));const l=u.charCodeAt(0),c=Fa(r.before.charCodeAt(r.before.length-1),l,i);c.inside&&(u=vs(l)+u.slice(1));const d=u.charCodeAt(u.length-1),f=Fa(r.after.charCodeAt(0),d,i);f.inside&&(u=u.slice(0,-1)+vs(d));const p=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},o+u+p}function hw(e,t,n){return n.options.strong||"*"}function pw(e,t,n,r){return n.safe(e.value,r)}function mw(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function gw(e,t,n){const r=(E0(n)+(n.options.ruleSpaces?" ":"")).repeat(mw(n));return n.options.ruleSpaces?r.slice(0,-1):r}const T0={blockquote:j2,break:eh,code:q2,definition:K2,emphasis:d0,hardBreak:eh,heading:X2,html:f0,image:h0,imageReference:p0,inlineCode:m0,link:b0,linkReference:y0,list:aw,listItem:uw,paragraph:lw,root:dw,strong:k0,text:pw,thematicBreak:gw};function bw(){return{enter:{table:yw,tableData:th,tableHeader:th,tableRow:kw},exit:{codeText:Tw,table:Ew,tableData:Ou,tableHeader:Ou,tableRow:Ou}}}function yw(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Ew(e){this.exit(e),this.data.inTable=void 0}function kw(e){this.enter({type:"tableRow",children:[]},e)}function Ou(e){this.exit(e)}function th(e){this.enter({type:"tableCell",children:[]},e)}function Tw(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,xw));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function xw(e,t){return t==="|"?t:e}function ww(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:a,tableCell:u,tableRow:o}};function a(p,y,k,x){return l(c(p,k,x),p.align)}function o(p,y,k,x){const T=d(p,k,x),O=l([T]);return O.slice(0,O.indexOf(`
`))}function u(p,y,k,x){const T=k.enter("tableCell"),O=k.enter("phrasing"),D=k.containerPhrasing(p,ce(P({},x),{before:s,after:s}));return O(),T(),D}function l(p,y){return B2(p,{align:y,alignDelimiters:r,padding:n,stringLength:i})}function c(p,y,k){const x=p.children;let T=-1;const O=[],D=y.enter("table");for(;++T<x.length;)O[T]=d(x[T],y,k);return D(),O}function d(p,y,k){const x=p.children;let T=-1;const O=[],D=y.enter("tableRow");for(;++T<x.length;)O[T]=u(x[T],p,y,k);return D(),O}function f(p,y,k){let x=T0.inlineCode(p,y,k);return k.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function Cw(){return{exit:{taskListCheckValueChecked:nh,taskListCheckValueUnchecked:nh,paragraph:_w}}}function Sw(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Aw}}}function nh(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function _w(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Aw(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let u=T0.listItem(e,t,n,P(P({},r),o.current()));return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,l)),u;function l(c){return c+a}}function Nw(){return[a2(),A2(),O2(),bw(),Cw()]}function vw(e){return{extensions:[o2(),N2(e),M2(),ww(e),Sw()]}}const Iw={tokenize:Pw,partial:!0},x0={tokenize:Bw,partial:!0},w0={tokenize:Fw,partial:!0},C0={tokenize:jw,partial:!0},Ow={tokenize:Hw,partial:!0},S0={name:"wwwAutolink",tokenize:Lw,previous:A0},_0={name:"protocolAutolink",tokenize:Dw,previous:N0},Jn={name:"emailAutolink",tokenize:Rw,previous:v0},Fn={};function Mw(){return{text:Fn}}let Ir=48;for(;Ir<123;)Fn[Ir]=Jn,Ir++,Ir===58?Ir=65:Ir===91&&(Ir=97);Fn[43]=Jn;Fn[45]=Jn;Fn[46]=Jn;Fn[95]=Jn;Fn[72]=[Jn,_0];Fn[104]=[Jn,_0];Fn[87]=[Jn,S0];Fn[119]=[Jn,S0];function Rw(e,t,n){const r=this;let i,s;return a;function a(d){return!Ml(d)||!v0.call(r,r.previous)||zc(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(d))}function o(d){return Ml(d)?(e.consume(d),o):d===64?(e.consume(d),u):n(d)}function u(d){return d===46?e.check(Ow,c,l)(d):d===45||d===95||Mt(d)?(s=!0,e.consume(d),u):c(d)}function l(d){return e.consume(d),i=!0,u}function c(d){return s&&i&&Ht(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function Lw(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!A0.call(r,r.previous)||zc(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Iw,e.attempt(x0,e.attempt(w0,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function Dw(e,t,n){const r=this;let i="",s=!1;return a;function a(d){return(d===72||d===104)&&N0.call(r,r.previous)&&!zc(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),o):n(d)}function o(d){if(Ht(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),o;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(d),u}return n(d)}function u(d){return d===47?(e.consume(d),s?l:(s=!0,u)):n(d)}function l(d){return d===null||Pa(d)||ze(d)||Wr(d)||jo(d)?n(d):e.attempt(x0,e.attempt(w0,c),n)(d)}function c(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function Pw(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function Bw(e,t,n){let r,i,s;return a;function a(l){return l===46||l===95?e.check(C0,u,o)(l):l===null||ze(l)||Wr(l)||l!==45&&jo(l)?u(l):(s=!0,e.consume(l),a)}function o(l){return l===95?r=!0:(i=r,r=void 0),e.consume(l),a}function u(l){return i||r||!s?n(l):t(l)}}function Fw(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(C0,t,s)(a):a===null||ze(a)||Wr(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&r++,e.consume(a),i}}function jw(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||ze(o)||Wr(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||ze(o)||Wr(o)?t(o):r(o)}function s(o){return Ht(o)?a(o):n(o)}function a(o){return o===59?(e.consume(o),r):Ht(o)?(e.consume(o),a):n(o)}}function Hw(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return Mt(s)?n(s):t(s)}}function A0(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||ze(e)}function N0(e){return!Ht(e)}function v0(e){return!(e===47||Ml(e))}function Ml(e){return e===43||e===45||e===46||e===95||Mt(e)}function zc(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const zw={tokenize:Gw,partial:!0};function Uw(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Ww,continuation:{tokenize:Kw},exit:Yw}},text:{91:{name:"gfmFootnoteCall",tokenize:qw},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:$w,resolveTo:Vw}}}}function $w(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const u=r.events[i][1];if(u.type==="labelImage"){a=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return o;function o(u){if(!a||!a._balanced)return n(u);const l=Cn(r.sliceSerialize({start:a.end,end:r.now()}));return l.codePointAt(0)!==94||!s.includes(l.slice(1))?n(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function Vw(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function qw(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),u}function u(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(d){if(s>999||d===93&&!a||d===null||d===91||ze(d))return n(d);if(d===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(Cn(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return ze(d)||(a=!0),s++,e.consume(d),d===92?c:l}function c(d){return d===91||d===92||d===93?(e.consume(d),s++,l):l(d)}}function Ww(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return u;function u(y){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),l}function l(y){return y===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(y)}function c(y){if(a>999||y===93&&!o||y===null||y===91||ze(y))return n(y);if(y===93){e.exit("chunkString");const k=e.exit("gfmFootnoteDefinitionLabelString");return s=Cn(r.sliceSerialize(k)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return ze(y)||(o=!0),a++,e.consume(y),y===92?d:c}function d(y){return y===91||y===92||y===93?(e.consume(y),a++,c):c(y)}function f(y){return y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),i.includes(s)||i.push(s),ve(e,p,"gfmFootnoteDefinitionWhitespace")):n(y)}function p(y){return t(y)}}function Kw(e,t,n){return e.check($s,t,e.attempt(zw,t,n))}function Yw(e){e.exit("gfmFootnoteDefinition")}function Gw(e,t,n){const r=this;return ve(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function Qw(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let l=u;for(;l--;)if(a[l][0]==="exit"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[l][1].end.offset-a[l][1].start.offset){a[u][1].type="strikethroughSequence",a[l][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},a[l][1].start),end:Object.assign({},a[u][1].end)},d={type:"strikethroughText",start:Object.assign({},a[l][1].end),end:Object.assign({},a[u][1].start)},f=[["enter",c,o],["enter",a[l][1],o],["exit",a[l][1],o],["enter",d,o]],p=o.parser.constructs.insideSpan.null;p&&nn(f,f.length,0,Ho(p,a.slice(l+1,u),o)),nn(f,f.length,0,[["exit",d,o],["enter",a[u][1],o],["exit",a[u][1],o],["exit",c,o]]),nn(a,l-1,u-l+3,f),u=l+f.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}function s(a,o,u){const l=this.previous,c=this.events;let d=0;return f;function f(y){return l===126&&c[c.length-1][1].type!=="characterEscape"?u(y):(a.enter("strikethroughSequenceTemporary"),p(y))}function p(y){const k=Ti(l);if(y===126)return d>1?u(y):(a.consume(y),d++,p);if(d<2&&!n)return u(y);const x=a.exit("strikethroughSequenceTemporary"),T=Ti(y);return x._open=!T||T===2&&!!k,x._close=!k||k===2&&!!T,o(y)}}}class Xw{constructor(){this.map=[]}add(t,n,r){Jw(this,t,n,r)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function Jw(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Zw(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function eC(){return{flow:{null:{name:"table",tokenize:tC,resolveAll:nC}}}}function tC(e,t,n){const r=this;let i=0,s=0,a;return o;function o(C){let R=r.events.length-1;for(;R>-1;){const F=r.events[R][1].type;if(F==="lineEnding"||F==="linePrefix")R--;else break}const U=R>-1?r.events[R][1].type:null,H=U==="tableHead"||U==="tableRow"?g:u;return H===g&&r.parser.lazy[r.now().line]?n(C):H(C)}function u(C){return e.enter("tableHead"),e.enter("tableRow"),l(C)}function l(C){return C===124||(a=!0,s+=1),c(C)}function c(C){return C===null?n(C):be(C)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),p):n(C):Ae(C)?ve(e,c,"whitespace")(C):(s+=1,a&&(a=!1,i+=1),C===124?(e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),a=!0,c):(e.enter("data"),d(C)))}function d(C){return C===null||C===124||ze(C)?(e.exit("data"),c(C)):(e.consume(C),C===92?f:d)}function f(C){return C===92||C===124?(e.consume(C),d):d(C)}function p(C){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(C):(e.enter("tableDelimiterRow"),a=!1,Ae(C)?ve(e,y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):y(C))}function y(C){return C===45||C===58?x(C):C===124?(a=!0,e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),k):E(C)}function k(C){return Ae(C)?ve(e,x,"whitespace")(C):x(C)}function x(C){return C===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(C),e.exit("tableDelimiterMarker"),T):C===45?(s+=1,T(C)):C===null||be(C)?h(C):E(C)}function T(C){return C===45?(e.enter("tableDelimiterFiller"),O(C)):E(C)}function O(C){return C===45?(e.consume(C),O):C===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(C),e.exit("tableDelimiterMarker"),D):(e.exit("tableDelimiterFiller"),D(C))}function D(C){return Ae(C)?ve(e,h,"whitespace")(C):h(C)}function h(C){return C===124?y(C):C===null||be(C)?!a||i!==s?E(C):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(C)):E(C)}function E(C){return n(C)}function g(C){return e.enter("tableRow"),w(C)}function w(C){return C===124?(e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),w):C===null||be(C)?(e.exit("tableRow"),t(C)):Ae(C)?ve(e,w,"whitespace")(C):(e.enter("data"),N(C))}function N(C){return C===null||C===124||ze(C)?(e.exit("data"),w(C)):(e.consume(C),C===92?S:N)}function S(C){return C===92||C===124?(e.consume(C),N):N(C)}}function nC(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,u=0,l,c,d;const f=new Xw;for(;++n<e.length;){const p=e[n],y=p[1];p[0]==="enter"?y.type==="tableHead"?(o=!1,u!==0&&(rh(f,t,u,l,c),c=void 0,u=0),l={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},f.add(n,0,[["enter",l,t]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,c={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},f.add(n,0,[["enter",c,t]])),i=y.type==="tableDelimiterRow"?2:c?3:1):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],d=sa(f,t,s,i,void 0,d),s=[0,0,0,0]),a[2]=n)):y.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],d=sa(f,t,s,i,void 0,d)),s=a,a=[s[1],n,0,0])):y.type==="tableHead"?(o=!0,u=n):y.type==="tableRow"||y.type==="tableDelimiterRow"?(u=n,s[1]!==0?(a[0]=a[1],d=sa(f,t,s,i,n,d)):a[1]!==0&&(d=sa(f,t,a,i,n,d)),i=0):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(a[3]=n)}for(u!==0&&rh(f,t,u,l,c),f.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=Zw(t.events,n))}return e}function sa(e,t,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},ci(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const u=ci(t.events,n[1]);if(s={type:a,start:Object.assign({},u),end:Object.assign({},u)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const l=ci(t.events,n[2]),c=ci(t.events,n[3]),d={type:o,start:Object.assign({},l),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const f=t.events[n[2]],p=t.events[n[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const y=n[2]+1,k=n[3]-n[2]-1;e.add(y,k,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(s.end=Object.assign({},ci(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function rh(e,t,n,r,i){const s=[],a=ci(t.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),r.end=Object.assign({},a),s.push(["exit",r,t]),e.add(n+1,0,s)}function ci(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const rC={name:"tasklistCheck",tokenize:sC};function iC(){return{text:{91:rC}}}function sC(e,t,n){const r=this;return i;function i(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),s)}function s(u){return ze(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),a):n(u)}function a(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(u)}function o(u){return be(u)?t(u):Ae(u)?e.check({tokenize:aC},t,n)(u):n(u)}}function aC(e,t,n){return ve(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function oC(e){return jm([Mw(),Uw(),Qw(e),eC(),iC()])}const uC={};function Rl(e){const t=this,n=e||uC,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(oC(n)),s.push(Nw()),a.push(vw(n))}const ih=/[#.]/g;function lC(e,t){const n=e||"",r={};let i=0,s,a;for(;i<n.length;){ih.lastIndex=i;const o=ih.exec(n),u=n.slice(i,o?o.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:a=u,i+=u.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||t||"div",properties:r,children:[]}}function I0(e,t,n){const r=n?hC(n):void 0;function i(s,a,...o){let u;if(s==null){u={type:"root",children:[]};const l=a;o.unshift(l)}else{u=lC(s,t);const l=u.tagName.toLowerCase(),c=r?r.get(l):void 0;if(u.tagName=c||l,cC(a))o.unshift(a);else for(const[d,f]of Object.entries(a))dC(e,u.properties,d,f)}for(const l of o)Ll(u.children,l);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return i}function cC(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function dC(e,t,n,r){const i=Ac(e,n);let s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=bf(r):i.commaSeparated?s=ff(r):i.commaOrSpaceSeparated?s=bf(ff(r).join(" ")):s=sh(i,i.property,r):Array.isArray(r)?s=[...r]:s=i.property==="style"?fC(r):String(r);if(Array.isArray(s)){const a=[];for(const o of s)a.push(sh(i,i.property,o));s=a}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}function Ll(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)Ll(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?Ll(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function sh(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||As(n)===As(t)))return!0}return n}function fC(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function hC(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const pC=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],mC=I0(Bo,"div"),gC=I0(Mi,"g",pC);function bC(e){const t=String(e),n=[];return{toOffset:i,toPoint:r};function r(s){if(typeof s=="number"&&s>-1&&s<=t.length){let a=0;for(;;){let o=n[a];if(o===void 0){const u=ah(t,n[a-1]);o=u===-1?t.length+1:u+1,n[a]=o}if(o>s)return{line:a+1,column:s-(a>0?n[a-1]:0)+1,offset:s};a++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const o=n[n.length-1],u=ah(t,o),l=u===-1?t.length+1:u+1;if(o===l)break;n.push(l)}const a=(s.line>1?n[s.line-2]:0)+s.column-1;if(a<n[s.line-1])return a}}}function ah(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Rr={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},O0={}.hasOwnProperty,yC=Object.prototype;function EC(e,t){const n=t||{};return Uc({file:n.file||void 0,location:!1,schema:n.space==="svg"?Mi:Bo,verbose:n.verbose||!1},e)}function Uc(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},Ca(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:M0(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),a=bC(s),o=a.toPoint(0),u=a.toPoint(s.length);n.position={start:o,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},Ca(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},Ca(e,r,n),n}default:return n=kC(e,t),n}}function M0(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=Uc(e,t[n]);r.push(i)}return r}function kC(e,t){const n=e.schema;e.schema=t.namespaceURI===Rr.svg?Mi:Bo;let r=-1;const i={};for(;++r<t.attrs.length;){const o=t.attrs[r],u=(o.prefix?o.prefix+":":"")+o.name;O0.call(yC,u)||(i[u]=o.value)}const a=(e.schema.space==="svg"?gC:mC)(t.tagName,i,M0(e,t.childNodes));if(Ca(e,t,a),a.tagName==="template"){const o=t,u=o.sourceCodeLocation,l=u&&u.startTag&&mi(u.startTag),c=u&&u.endTag&&mi(u.endTag),d=Uc(e,o.content);l&&c&&e.file&&(d.position={start:l.end,end:c.start}),a.content=d}return e.schema=n,a}function Ca(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=TC(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function TC(e,t,n){const r=mi(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let a;if(n.attrs)for(a in n.attrs)O0.call(n.attrs,a)&&(s[Ac(e.schema,a).property]=mi(n.attrs[a]));n.startTag;const o=mi(n.startTag),u=n.endTag?mi(n.endTag):void 0,l={opening:o};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function mi(e){const t=oh({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=oh({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function oh(e){return e.line&&e.column?e:void 0}let qs=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};qs.prototype.property={};qs.prototype.normal={};qs.prototype.space=null;function R0(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new qs(n,r,t)}function Dl(e){return e.toLowerCase()}class yn{constructor(t,n){this.property=t,this.attribute=n}}yn.prototype.space=null;yn.prototype.boolean=!1;yn.prototype.booleanish=!1;yn.prototype.overloadedBoolean=!1;yn.prototype.number=!1;yn.prototype.commaSeparated=!1;yn.prototype.spaceSeparated=!1;yn.prototype.commaOrSpaceSeparated=!1;yn.prototype.mustUseProperty=!1;yn.prototype.defined=!1;let xC=0;const xe=ei(),lt=ei(),L0=ei(),ne=ei(),We=ei(),yi=ei(),en=ei();function ei(){return hu(2,++xC)}const Pl=Object.freeze(Object.defineProperty({__proto__:null,boolean:xe,booleanish:lt,commaOrSpaceSeparated:en,commaSeparated:yi,number:ne,overloadedBoolean:L0,spaceSeparated:We},Symbol.toStringTag,{value:"Module"})),Mu=Object.keys(Pl);class $c extends yn{constructor(t,n,r,i){let s=-1;if(super(t,n),uh(this,"space",i),typeof r=="number")for(;++s<Mu.length;){const a=Mu[s];uh(this,Mu[s],(r&Pl[a])===Pl[a])}}}$c.prototype.defined=!0;function uh(e,t,n){n&&(e[t]=n)}const wC={}.hasOwnProperty;function Li(e){const t={},n={};let r;for(r in e.properties)if(wC.call(e.properties,r)){const i=e.properties[r],s=new $c(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Dl(r)]=r,n[Dl(s.attribute)]=r}return new qs(t,n,e.space)}const D0=Li({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),P0=Li({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function B0(e,t){return t in e?e[t]:t}function F0(e,t){return B0(e,t.toLowerCase())}const j0=Li({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:F0,properties:{xmlns:null,xmlnsXLink:null}}),H0=Li({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:lt,ariaAutoComplete:null,ariaBusy:lt,ariaChecked:lt,ariaColCount:ne,ariaColIndex:ne,ariaColSpan:ne,ariaControls:We,ariaCurrent:null,ariaDescribedBy:We,ariaDetails:null,ariaDisabled:lt,ariaDropEffect:We,ariaErrorMessage:null,ariaExpanded:lt,ariaFlowTo:We,ariaGrabbed:lt,ariaHasPopup:null,ariaHidden:lt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:We,ariaLevel:ne,ariaLive:null,ariaModal:lt,ariaMultiLine:lt,ariaMultiSelectable:lt,ariaOrientation:null,ariaOwns:We,ariaPlaceholder:null,ariaPosInSet:ne,ariaPressed:lt,ariaReadOnly:lt,ariaRelevant:null,ariaRequired:lt,ariaRoleDescription:We,ariaRowCount:ne,ariaRowIndex:ne,ariaRowSpan:ne,ariaSelected:lt,ariaSetSize:ne,ariaSort:null,ariaValueMax:ne,ariaValueMin:ne,ariaValueNow:ne,ariaValueText:null,role:null}}),CC=Li({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:F0,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:yi,acceptCharset:We,accessKey:We,action:null,allow:null,allowFullScreen:xe,allowPaymentRequest:xe,allowUserMedia:xe,alt:null,as:null,async:xe,autoCapitalize:null,autoComplete:We,autoFocus:xe,autoPlay:xe,blocking:We,capture:null,charSet:null,checked:xe,cite:null,className:We,cols:ne,colSpan:null,content:null,contentEditable:lt,controls:xe,controlsList:We,coords:ne|yi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:xe,defer:xe,dir:null,dirName:null,disabled:xe,download:L0,draggable:lt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:xe,formTarget:null,headers:We,height:ne,hidden:xe,high:ne,href:null,hrefLang:null,htmlFor:We,httpEquiv:We,id:null,imageSizes:null,imageSrcSet:null,inert:xe,inputMode:null,integrity:null,is:null,isMap:xe,itemId:null,itemProp:We,itemRef:We,itemScope:xe,itemType:We,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:xe,low:ne,manifest:null,max:null,maxLength:ne,media:null,method:null,min:null,minLength:ne,multiple:xe,muted:xe,name:null,nonce:null,noModule:xe,noValidate:xe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:xe,optimum:ne,pattern:null,ping:We,placeholder:null,playsInline:xe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:xe,referrerPolicy:null,rel:We,required:xe,reversed:xe,rows:ne,rowSpan:ne,sandbox:We,scope:null,scoped:xe,seamless:xe,selected:xe,shadowRootClonable:xe,shadowRootDelegatesFocus:xe,shadowRootMode:null,shape:null,size:ne,sizes:null,slot:null,span:ne,spellCheck:lt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ne,step:null,style:null,tabIndex:ne,target:null,title:null,translate:null,type:null,typeMustMatch:xe,useMap:null,value:lt,width:ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:We,axis:null,background:null,bgColor:null,border:ne,borderColor:null,bottomMargin:ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:xe,declare:xe,event:null,face:null,frame:null,frameBorder:null,hSpace:ne,leftMargin:ne,link:null,longDesc:null,lowSrc:null,marginHeight:ne,marginWidth:ne,noResize:xe,noHref:xe,noShade:xe,noWrap:xe,object:null,profile:null,prompt:null,rev:null,rightMargin:ne,rules:null,scheme:null,scrolling:lt,standby:null,summary:null,text:null,topMargin:ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:xe,disableRemotePlayback:xe,prefix:null,property:null,results:ne,security:null,unselectable:null}}),SC=Li({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:B0,properties:{about:en,accentHeight:ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ne,amplitude:ne,arabicForm:null,ascent:ne,attributeName:null,attributeType:null,azimuth:ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ne,by:null,calcMode:null,capHeight:ne,className:We,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ne,diffuseConstant:ne,direction:null,display:null,dur:null,divisor:ne,dominantBaseline:null,download:xe,dx:null,dy:null,edgeMode:null,editable:null,elevation:ne,enableBackground:null,end:null,event:null,exponent:ne,externalResourcesRequired:null,fill:null,fillOpacity:ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:yi,g2:yi,glyphName:yi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ne,horizOriginX:ne,horizOriginY:ne,id:null,ideographic:ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ne,k:ne,k1:ne,k2:ne,k3:ne,k4:ne,kernelMatrix:en,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ne,overlineThickness:ne,paintOrder:null,panose1:null,path:null,pathLength:ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:We,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ne,pointsAtY:ne,pointsAtZ:ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:en,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:en,rev:en,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:en,requiredFeatures:en,requiredFonts:en,requiredFormats:en,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ne,specularExponent:ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ne,strikethroughThickness:ne,string:null,stroke:null,strokeDashArray:en,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ne,strokeOpacity:ne,strokeWidth:null,style:null,surfaceScale:ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:en,tabIndex:ne,tableValues:null,target:null,targetX:ne,targetY:ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:en,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ne,underlineThickness:ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ne,values:null,vAlphabetic:ne,vMathematical:ne,vectorEffect:null,vHanging:ne,vIdeographic:ne,version:null,vertAdvY:ne,vertOriginX:ne,vertOriginY:ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),_C=/^data[-\w.:]+$/i,lh=/-[a-z]/g,AC=/[A-Z]/g;function NC(e,t){const n=Dl(t);let r=t,i=yn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&_C.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(lh,IC);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!lh.test(s)){let a=s.replace(AC,vC);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=$c}return new i(r,t)}function vC(e){return"-"+e.toLowerCase()}function IC(e){return e.charAt(1).toUpperCase()}const OC=R0([P0,D0,j0,H0,CC],"html"),z0=R0([P0,D0,j0,H0,SC],"svg"),MC={},RC={}.hasOwnProperty,U0=c0("type",{handlers:{root:DC,element:HC,text:FC,comment:jC,doctype:BC}});function LC(e,t){const r=(t||MC).space;return U0(e,r==="svg"?z0:OC)}function DC(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=Vc(e.children,n,t),Di(e,n),n}function PC(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=Vc(e.children,n,t),Di(e,n),n}function BC(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Di(e,t),t}function FC(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Di(e,t),t}function jC(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Di(e,t),t}function HC(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=z0);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&RC.call(e.properties,s)){const u=zC(r,s,e.properties[s]);u&&i.push(u)}}const a=r.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Rr[a],childNodes:[],parentNode:null};return o.childNodes=Vc(e.children,o,r),Di(e,o),e.tagName==="template"&&e.content&&(o.content=PC(e.content,r)),o}function zC(e,t,n){const r=NC(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?Cm(n):Mm(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=Rr[r.space]}return i}function Vc(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=U0(e[r],n);s.parentNode=t,i.push(s)}return i}function Di(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const UC=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],$C=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Qe="�";var A;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(A||(A={}));const Wt={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function $0(e){return e>=55296&&e<=57343}function VC(e){return e>=56320&&e<=57343}function qC(e,t){return(e-55296)*1024+9216+t}function V0(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function q0(e){return e>=64976&&e<=65007||$C.has(e)}var q;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(q||(q={}));const WC=65536;class KC{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=WC,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:s}=this,a=i+n,o=s+n;return{code:t,startLine:r,endLine:r,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(VC(n))return this.pos++,this._addGap(),qC(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,A.EOF;return this._err(q.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,A.EOF;const r=this.html.charCodeAt(n);return r===A.CARRIAGE_RETURN?A.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,A.EOF;let t=this.html.charCodeAt(this.pos);return t===A.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,A.LINE_FEED):t===A.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,$0(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===A.LINE_FEED||t===A.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){V0(t)?this._err(q.controlCharacterInInputStream):q0(t)&&this._err(q.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var _e;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(_e||(_e={}));function W0(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const YC=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0))),GC=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function QC(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=GC.get(e))!==null&&t!==void 0?t:e}var kt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(kt||(kt={}));const XC=32;var hr;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(hr||(hr={}));function Bl(e){return e>=kt.ZERO&&e<=kt.NINE}function JC(e){return e>=kt.UPPER_A&&e<=kt.UPPER_F||e>=kt.LOWER_A&&e<=kt.LOWER_F}function ZC(e){return e>=kt.UPPER_A&&e<=kt.UPPER_Z||e>=kt.LOWER_A&&e<=kt.LOWER_Z||Bl(e)}function eS(e){return e===kt.EQUALS||ZC(e)}var yt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(yt||(yt={}));var qn;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(qn||(qn={}));class tS{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=yt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=qn.Strict}startEntity(t){this.decodeMode=t,this.state=yt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case yt.EntityStart:return t.charCodeAt(n)===kt.NUM?(this.state=yt.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=yt.NamedEntity,this.stateNamedEntity(t,n));case yt.NumericStart:return this.stateNumericStart(t,n);case yt.NumericDecimal:return this.stateNumericDecimal(t,n);case yt.NumericHex:return this.stateNumericHex(t,n);case yt.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|XC)===kt.LOWER_X?(this.state=yt.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=yt.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+Number.parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Bl(i)||JC(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Bl(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===kt.SEMI)this.consumed+=1;else if(this.decodeMode===qn.Strict)return 0;return this.emitCodePoint(QC(this.result),this.consumed),this.errors&&(t!==kt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&hr.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const a=t.charCodeAt(n);if(this.treeIndex=nS(r,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===qn.Attribute&&(s===0||eS(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&hr.VALUE_LENGTH)>>14,s!==0){if(a===kt.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==qn.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&hr.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~hr.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case yt.NamedEntity:return this.result!==0&&(this.decodeMode!==qn.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case yt.NumericDecimal:return this.emitNumericEntity(0,2);case yt.NumericHex:return this.emitNumericEntity(0,3);case yt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case yt.EntityStart:return 0}}}function nS(e,t,n,r){const i=(t&hr.BRANCH_LENGTH)>>7,s=t&hr.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let a=n,o=a+i-1;for(;a<=o;){const u=a+o>>>1,l=e[u];if(l<r)a=u+1;else if(l>r)o=u-1;else return e[u+i]}return-1}var Y;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Y||(Y={}));var Fr;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Fr||(Fr={}));var pn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(pn||(pn={}));var z;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(z||(z={}));var m;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(m||(m={}));const rS=new Map([[z.A,m.A],[z.ADDRESS,m.ADDRESS],[z.ANNOTATION_XML,m.ANNOTATION_XML],[z.APPLET,m.APPLET],[z.AREA,m.AREA],[z.ARTICLE,m.ARTICLE],[z.ASIDE,m.ASIDE],[z.B,m.B],[z.BASE,m.BASE],[z.BASEFONT,m.BASEFONT],[z.BGSOUND,m.BGSOUND],[z.BIG,m.BIG],[z.BLOCKQUOTE,m.BLOCKQUOTE],[z.BODY,m.BODY],[z.BR,m.BR],[z.BUTTON,m.BUTTON],[z.CAPTION,m.CAPTION],[z.CENTER,m.CENTER],[z.CODE,m.CODE],[z.COL,m.COL],[z.COLGROUP,m.COLGROUP],[z.DD,m.DD],[z.DESC,m.DESC],[z.DETAILS,m.DETAILS],[z.DIALOG,m.DIALOG],[z.DIR,m.DIR],[z.DIV,m.DIV],[z.DL,m.DL],[z.DT,m.DT],[z.EM,m.EM],[z.EMBED,m.EMBED],[z.FIELDSET,m.FIELDSET],[z.FIGCAPTION,m.FIGCAPTION],[z.FIGURE,m.FIGURE],[z.FONT,m.FONT],[z.FOOTER,m.FOOTER],[z.FOREIGN_OBJECT,m.FOREIGN_OBJECT],[z.FORM,m.FORM],[z.FRAME,m.FRAME],[z.FRAMESET,m.FRAMESET],[z.H1,m.H1],[z.H2,m.H2],[z.H3,m.H3],[z.H4,m.H4],[z.H5,m.H5],[z.H6,m.H6],[z.HEAD,m.HEAD],[z.HEADER,m.HEADER],[z.HGROUP,m.HGROUP],[z.HR,m.HR],[z.HTML,m.HTML],[z.I,m.I],[z.IMG,m.IMG],[z.IMAGE,m.IMAGE],[z.INPUT,m.INPUT],[z.IFRAME,m.IFRAME],[z.KEYGEN,m.KEYGEN],[z.LABEL,m.LABEL],[z.LI,m.LI],[z.LINK,m.LINK],[z.LISTING,m.LISTING],[z.MAIN,m.MAIN],[z.MALIGNMARK,m.MALIGNMARK],[z.MARQUEE,m.MARQUEE],[z.MATH,m.MATH],[z.MENU,m.MENU],[z.META,m.META],[z.MGLYPH,m.MGLYPH],[z.MI,m.MI],[z.MO,m.MO],[z.MN,m.MN],[z.MS,m.MS],[z.MTEXT,m.MTEXT],[z.NAV,m.NAV],[z.NOBR,m.NOBR],[z.NOFRAMES,m.NOFRAMES],[z.NOEMBED,m.NOEMBED],[z.NOSCRIPT,m.NOSCRIPT],[z.OBJECT,m.OBJECT],[z.OL,m.OL],[z.OPTGROUP,m.OPTGROUP],[z.OPTION,m.OPTION],[z.P,m.P],[z.PARAM,m.PARAM],[z.PLAINTEXT,m.PLAINTEXT],[z.PRE,m.PRE],[z.RB,m.RB],[z.RP,m.RP],[z.RT,m.RT],[z.RTC,m.RTC],[z.RUBY,m.RUBY],[z.S,m.S],[z.SCRIPT,m.SCRIPT],[z.SEARCH,m.SEARCH],[z.SECTION,m.SECTION],[z.SELECT,m.SELECT],[z.SOURCE,m.SOURCE],[z.SMALL,m.SMALL],[z.SPAN,m.SPAN],[z.STRIKE,m.STRIKE],[z.STRONG,m.STRONG],[z.STYLE,m.STYLE],[z.SUB,m.SUB],[z.SUMMARY,m.SUMMARY],[z.SUP,m.SUP],[z.TABLE,m.TABLE],[z.TBODY,m.TBODY],[z.TEMPLATE,m.TEMPLATE],[z.TEXTAREA,m.TEXTAREA],[z.TFOOT,m.TFOOT],[z.TD,m.TD],[z.TH,m.TH],[z.THEAD,m.THEAD],[z.TITLE,m.TITLE],[z.TR,m.TR],[z.TRACK,m.TRACK],[z.TT,m.TT],[z.U,m.U],[z.UL,m.UL],[z.SVG,m.SVG],[z.VAR,m.VAR],[z.WBR,m.WBR],[z.XMP,m.XMP]]);function Pi(e){var t;return(t=rS.get(e))!==null&&t!==void 0?t:m.UNKNOWN}const Z=m,iS={[Y.HTML]:new Set([Z.ADDRESS,Z.APPLET,Z.AREA,Z.ARTICLE,Z.ASIDE,Z.BASE,Z.BASEFONT,Z.BGSOUND,Z.BLOCKQUOTE,Z.BODY,Z.BR,Z.BUTTON,Z.CAPTION,Z.CENTER,Z.COL,Z.COLGROUP,Z.DD,Z.DETAILS,Z.DIR,Z.DIV,Z.DL,Z.DT,Z.EMBED,Z.FIELDSET,Z.FIGCAPTION,Z.FIGURE,Z.FOOTER,Z.FORM,Z.FRAME,Z.FRAMESET,Z.H1,Z.H2,Z.H3,Z.H4,Z.H5,Z.H6,Z.HEAD,Z.HEADER,Z.HGROUP,Z.HR,Z.HTML,Z.IFRAME,Z.IMG,Z.INPUT,Z.LI,Z.LINK,Z.LISTING,Z.MAIN,Z.MARQUEE,Z.MENU,Z.META,Z.NAV,Z.NOEMBED,Z.NOFRAMES,Z.NOSCRIPT,Z.OBJECT,Z.OL,Z.P,Z.PARAM,Z.PLAINTEXT,Z.PRE,Z.SCRIPT,Z.SECTION,Z.SELECT,Z.SOURCE,Z.STYLE,Z.SUMMARY,Z.TABLE,Z.TBODY,Z.TD,Z.TEMPLATE,Z.TEXTAREA,Z.TFOOT,Z.TH,Z.THEAD,Z.TITLE,Z.TR,Z.TRACK,Z.UL,Z.WBR,Z.XMP]),[Y.MATHML]:new Set([Z.MI,Z.MO,Z.MN,Z.MS,Z.MTEXT,Z.ANNOTATION_XML]),[Y.SVG]:new Set([Z.TITLE,Z.FOREIGN_OBJECT,Z.DESC]),[Y.XLINK]:new Set,[Y.XML]:new Set,[Y.XMLNS]:new Set},Fl=new Set([Z.H1,Z.H2,Z.H3,Z.H4,Z.H5,Z.H6]);z.STYLE,z.SCRIPT,z.XMP,z.IFRAME,z.NOEMBED,z.NOFRAMES,z.PLAINTEXT;var I;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(I||(I={}));const it={DATA:I.DATA,RCDATA:I.RCDATA,RAWTEXT:I.RAWTEXT,SCRIPT_DATA:I.SCRIPT_DATA,PLAINTEXT:I.PLAINTEXT,CDATA_SECTION:I.CDATA_SECTION};function sS(e){return e>=A.DIGIT_0&&e<=A.DIGIT_9}function es(e){return e>=A.LATIN_CAPITAL_A&&e<=A.LATIN_CAPITAL_Z}function aS(e){return e>=A.LATIN_SMALL_A&&e<=A.LATIN_SMALL_Z}function ir(e){return aS(e)||es(e)}function ch(e){return ir(e)||sS(e)}function aa(e){return e+32}function K0(e){return e===A.SPACE||e===A.LINE_FEED||e===A.TABULATION||e===A.FORM_FEED}function dh(e){return K0(e)||e===A.SOLIDUS||e===A.GREATER_THAN_SIGN}function oS(e){return e===A.NULL?q.nullCharacterReference:e>1114111?q.characterReferenceOutsideUnicodeRange:$0(e)?q.surrogateCharacterReference:q0(e)?q.noncharacterCharacterReference:V0(e)||e===A.CARRIAGE_RETURN?q.controlCharacterReference:null}class uS{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=I.DATA,this.returnState=I.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new KC(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new tS(YC,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(q.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(q.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=oS(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:_e.START_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:_e.END_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:_e.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:_e.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(W0(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(q.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Pi(t.tagName),t.type===_e.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(q.endTagWithAttributes),t.selfClosing&&this._err(q.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case _e.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case _e.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case _e.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:_e.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=K0(t)?_e.WHITESPACE_CHARACTER:t===A.NULL?_e.NULL_CHARACTER:_e.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(_e.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=I.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?qn.Attribute:qn.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===I.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===I.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===I.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case I.DATA:{this._stateData(t);break}case I.RCDATA:{this._stateRcdata(t);break}case I.RAWTEXT:{this._stateRawtext(t);break}case I.SCRIPT_DATA:{this._stateScriptData(t);break}case I.PLAINTEXT:{this._statePlaintext(t);break}case I.TAG_OPEN:{this._stateTagOpen(t);break}case I.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case I.TAG_NAME:{this._stateTagName(t);break}case I.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case I.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case I.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case I.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case I.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case I.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case I.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case I.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case I.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case I.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case I.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case I.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case I.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case I.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case I.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case I.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case I.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case I.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case I.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case I.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case I.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case I.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case I.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case I.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case I.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case I.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case I.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case I.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case I.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case I.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case I.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case I.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case I.BOGUS_COMMENT:{this._stateBogusComment(t);break}case I.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case I.COMMENT_START:{this._stateCommentStart(t);break}case I.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case I.COMMENT:{this._stateComment(t);break}case I.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case I.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case I.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case I.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case I.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case I.COMMENT_END:{this._stateCommentEnd(t);break}case I.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case I.DOCTYPE:{this._stateDoctype(t);break}case I.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case I.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case I.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case I.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case I.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case I.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case I.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case I.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case I.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case I.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case I.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case I.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case I.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case I.CDATA_SECTION:{this._stateCdataSection(t);break}case I.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case I.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case I.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case I.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case A.LESS_THAN_SIGN:{this.state=I.TAG_OPEN;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.NULL:{this._err(q.unexpectedNullCharacter),this._emitCodePoint(t);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case A.AMPERSAND:{this._startCharacterReference();break}case A.LESS_THAN_SIGN:{this.state=I.RCDATA_LESS_THAN_SIGN;break}case A.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(Qe);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case A.LESS_THAN_SIGN:{this.state=I.RAWTEXT_LESS_THAN_SIGN;break}case A.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(Qe);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case A.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_LESS_THAN_SIGN;break}case A.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(Qe);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case A.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(Qe);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ir(t))this._createStartTagToken(),this.state=I.TAG_NAME,this._stateTagName(t);else switch(t){case A.EXCLAMATION_MARK:{this.state=I.MARKUP_DECLARATION_OPEN;break}case A.SOLIDUS:{this.state=I.END_TAG_OPEN;break}case A.QUESTION_MARK:{this._err(q.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=I.BOGUS_COMMENT,this._stateBogusComment(t);break}case A.EOF:{this._err(q.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(q.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=I.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ir(t))this._createEndTagToken(),this.state=I.TAG_NAME,this._stateTagName(t);else switch(t){case A.GREATER_THAN_SIGN:{this._err(q.missingEndTagName),this.state=I.DATA;break}case A.EOF:{this._err(q.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(q.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=I.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=I.BEFORE_ATTRIBUTE_NAME;break}case A.SOLIDUS:{this.state=I.SELF_CLOSING_START_TAG;break}case A.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentTagToken();break}case A.NULL:{this._err(q.unexpectedNullCharacter),n.tagName+=Qe;break}case A.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(es(t)?aa(t):t)}}_stateRcdataLessThanSign(t){t===A.SOLIDUS?this.state=I.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=I.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ir(t)?(this.state=I.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=I.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=I.BEFORE_ATTRIBUTE_NAME,!1;case A.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=I.SELF_CLOSING_START_TAG,!1;case A.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=I.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=I.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===A.SOLIDUS?this.state=I.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=I.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ir(t)?(this.state=I.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=I.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=I.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case A.SOLIDUS:{this.state=I.SCRIPT_DATA_END_TAG_OPEN;break}case A.EXCLAMATION_MARK:{this.state=I.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=I.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ir(t)?(this.state=I.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=I.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=I.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===A.HYPHEN_MINUS?(this.state=I.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=I.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===A.HYPHEN_MINUS?(this.state=I.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=I.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case A.HYPHEN_MINUS:{this.state=I.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(Qe);break}case A.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case A.HYPHEN_MINUS:{this.state=I.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.NULL:{this._err(q.unexpectedNullCharacter),this.state=I.SCRIPT_DATA_ESCAPED,this._emitChars(Qe);break}case A.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=I.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case A.HYPHEN_MINUS:{this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.GREATER_THAN_SIGN:{this.state=I.SCRIPT_DATA,this._emitChars(">");break}case A.NULL:{this._err(q.unexpectedNullCharacter),this.state=I.SCRIPT_DATA_ESCAPED,this._emitChars(Qe);break}case A.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=I.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===A.SOLIDUS?this.state=I.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ir(t)?(this._emitChars("<"),this.state=I.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=I.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ir(t)?(this.state=I.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=I.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=I.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Wt.SCRIPT,!1)&&dh(this.preprocessor.peek(Wt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Wt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=I.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case A.HYPHEN_MINUS:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(Qe);break}case A.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case A.HYPHEN_MINUS:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.NULL:{this._err(q.unexpectedNullCharacter),this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qe);break}case A.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case A.HYPHEN_MINUS:{this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.GREATER_THAN_SIGN:{this.state=I.SCRIPT_DATA,this._emitChars(">");break}case A.NULL:{this._err(q.unexpectedNullCharacter),this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qe);break}case A.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===A.SOLIDUS?(this.state=I.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Wt.SCRIPT,!1)&&dh(this.preprocessor.peek(Wt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Wt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=I.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=I.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.SOLIDUS:case A.GREATER_THAN_SIGN:case A.EOF:{this.state=I.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case A.EQUALS_SIGN:{this._err(q.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=I.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=I.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:case A.SOLIDUS:case A.GREATER_THAN_SIGN:case A.EOF:{this._leaveAttrName(),this.state=I.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case A.EQUALS_SIGN:{this._leaveAttrName(),this.state=I.BEFORE_ATTRIBUTE_VALUE;break}case A.QUOTATION_MARK:case A.APOSTROPHE:case A.LESS_THAN_SIGN:{this._err(q.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case A.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.name+=Qe;break}default:this.currentAttr.name+=String.fromCodePoint(es(t)?aa(t):t)}}_stateAfterAttributeName(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.SOLIDUS:{this.state=I.SELF_CLOSING_START_TAG;break}case A.EQUALS_SIGN:{this.state=I.BEFORE_ATTRIBUTE_VALUE;break}case A.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=I.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{this.state=I.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this.state=I.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(q.missingAttributeValue),this.state=I.DATA,this.emitCurrentTagToken();break}default:this.state=I.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case A.QUOTATION_MARK:{this.state=I.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.value+=Qe;break}case A.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case A.APOSTROPHE:{this.state=I.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.value+=Qe;break}case A.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this._leaveAttrValue(),this.state=I.BEFORE_ATTRIBUTE_NAME;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=I.DATA,this.emitCurrentTagToken();break}case A.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.value+=Qe;break}case A.QUOTATION_MARK:case A.APOSTROPHE:case A.LESS_THAN_SIGN:case A.EQUALS_SIGN:case A.GRAVE_ACCENT:{this._err(q.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case A.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this._leaveAttrValue(),this.state=I.BEFORE_ATTRIBUTE_NAME;break}case A.SOLIDUS:{this._leaveAttrValue(),this.state=I.SELF_CLOSING_START_TAG;break}case A.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=I.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this._err(q.missingWhitespaceBetweenAttributes),this.state=I.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case A.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=I.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this._err(q.unexpectedSolidusInTag),this.state=I.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case A.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentComment(n);break}case A.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case A.NULL:{this._err(q.unexpectedNullCharacter),n.data+=Qe;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Wt.DASH_DASH,!0)?(this._createCommentToken(Wt.DASH_DASH.length+1),this.state=I.COMMENT_START):this._consumeSequenceIfMatch(Wt.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Wt.DOCTYPE.length+1),this.state=I.DOCTYPE):this._consumeSequenceIfMatch(Wt.CDATA_START,!0)?this.inForeignNode?this.state=I.CDATA_SECTION:(this._err(q.cdataInHtmlContent),this._createCommentToken(Wt.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=I.BOGUS_COMMENT):this._ensureHibernation()||(this._err(q.incorrectlyOpenedComment),this._createCommentToken(2),this.state=I.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case A.HYPHEN_MINUS:{this.state=I.COMMENT_START_DASH;break}case A.GREATER_THAN_SIGN:{this._err(q.abruptClosingOfEmptyComment),this.state=I.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=I.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case A.HYPHEN_MINUS:{this.state=I.COMMENT_END;break}case A.GREATER_THAN_SIGN:{this._err(q.abruptClosingOfEmptyComment),this.state=I.DATA,this.emitCurrentComment(n);break}case A.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=I.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case A.HYPHEN_MINUS:{this.state=I.COMMENT_END_DASH;break}case A.LESS_THAN_SIGN:{n.data+="<",this.state=I.COMMENT_LESS_THAN_SIGN;break}case A.NULL:{this._err(q.unexpectedNullCharacter),n.data+=Qe;break}case A.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case A.EXCLAMATION_MARK:{n.data+="!",this.state=I.COMMENT_LESS_THAN_SIGN_BANG;break}case A.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=I.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===A.HYPHEN_MINUS?this.state=I.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=I.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===A.HYPHEN_MINUS?this.state=I.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=I.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==A.GREATER_THAN_SIGN&&t!==A.EOF&&this._err(q.nestedComment),this.state=I.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case A.HYPHEN_MINUS:{this.state=I.COMMENT_END;break}case A.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=I.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case A.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentComment(n);break}case A.EXCLAMATION_MARK:{this.state=I.COMMENT_END_BANG;break}case A.HYPHEN_MINUS:{n.data+="-";break}case A.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=I.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case A.HYPHEN_MINUS:{n.data+="--!",this.state=I.COMMENT_END_DASH;break}case A.GREATER_THAN_SIGN:{this._err(q.incorrectlyClosedComment),this.state=I.DATA,this.emitCurrentComment(n);break}case A.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=I.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=I.BEFORE_DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this.state=I.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case A.EOF:{this._err(q.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingWhitespaceBeforeDoctypeName),this.state=I.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(es(t))this._createDoctypeToken(String.fromCharCode(aa(t))),this.state=I.DOCTYPE_NAME;else switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.NULL:{this._err(q.unexpectedNullCharacter),this._createDoctypeToken(Qe),this.state=I.DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this._err(q.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case A.EOF:{this._err(q.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=I.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=I.AFTER_DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentDoctype(n);break}case A.NULL:{this._err(q.unexpectedNullCharacter),n.name+=Qe;break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(es(t)?aa(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Wt.PUBLIC,!1)?this.state=I.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Wt.SYSTEM,!1)?this.state=I.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(q.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=I.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.QUOTATION_MARK:{this._err(q.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=I.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(q.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=I.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(q.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=I.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{n.publicId="",this.state=I.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{n.publicId="",this.state=I.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(q.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=I.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case A.QUOTATION_MARK:{this.state=I.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.NULL:{this._err(q.unexpectedNullCharacter),n.publicId+=Qe;break}case A.GREATER_THAN_SIGN:{this._err(q.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case A.APOSTROPHE:{this.state=I.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.NULL:{this._err(q.unexpectedNullCharacter),n.publicId+=Qe;break}case A.GREATER_THAN_SIGN:{this._err(q.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=I.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case A.GREATER_THAN_SIGN:{this.state=I.DATA,this.emitCurrentDoctype(n);break}case A.QUOTATION_MARK:{this._err(q.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(q.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=I.DATA;break}case A.QUOTATION_MARK:{n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=I.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.QUOTATION_MARK:{this._err(q.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(q.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(q.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{n.systemId="",this.state=I.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(q.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case A.QUOTATION_MARK:{this.state=I.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.NULL:{this._err(q.unexpectedNullCharacter),n.systemId+=Qe;break}case A.GREATER_THAN_SIGN:{this._err(q.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case A.APOSTROPHE:{this.state=I.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.NULL:{this._err(q.unexpectedNullCharacter),n.systemId+=Qe;break}case A.GREATER_THAN_SIGN:{this._err(q.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=I.DATA;break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=I.DATA;break}case A.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=I.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=I.DATA;break}case A.NULL:{this._err(q.unexpectedNullCharacter);break}case A.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case A.RIGHT_SQUARE_BRACKET:{this.state=I.CDATA_SECTION_BRACKET;break}case A.EOF:{this._err(q.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===A.RIGHT_SQUARE_BRACKET?this.state=I.CDATA_SECTION_END:(this._emitChars("]"),this.state=I.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case A.GREATER_THAN_SIGN:{this.state=I.DATA;break}case A.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=I.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(A.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&ch(this.preprocessor.peek(1))?I.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){ch(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===A.SEMICOLON&&this._err(q.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const Y0=new Set([m.DD,m.DT,m.LI,m.OPTGROUP,m.OPTION,m.P,m.RB,m.RP,m.RT,m.RTC]),fh=new Set([...Y0,m.CAPTION,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]),ja=new Set([m.APPLET,m.CAPTION,m.HTML,m.MARQUEE,m.OBJECT,m.TABLE,m.TD,m.TEMPLATE,m.TH]),lS=new Set([...ja,m.OL,m.UL]),cS=new Set([...ja,m.BUTTON]),hh=new Set([m.ANNOTATION_XML,m.MI,m.MN,m.MO,m.MS,m.MTEXT]),ph=new Set([m.DESC,m.FOREIGN_OBJECT,m.TITLE]),dS=new Set([m.TR,m.TEMPLATE,m.HTML]),fS=new Set([m.TBODY,m.TFOOT,m.THEAD,m.TEMPLATE,m.HTML]),hS=new Set([m.TABLE,m.TEMPLATE,m.HTML]),pS=new Set([m.TD,m.TH]);class mS{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=m.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===m.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Y.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Y.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Fl,Y.HTML)}popUntilTableCellPopped(){this.popUntilPopped(pS,Y.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(hS,Y.HTML)}clearBackToTableBodyContext(){this.clearBackTo(fS,Y.HTML)}clearBackToTableRowContext(){this.clearBackTo(dS,Y.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===m.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===m.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Y.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case Y.SVG:{if(ph.has(i))return!1;break}case Y.MATHML:{if(hh.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,ja)}hasInListItemScope(t){return this.hasInDynamicScope(t,lS)}hasInButtonScope(t){return this.hasInDynamicScope(t,cS)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case Y.HTML:{if(Fl.has(n))return!0;if(ja.has(n))return!1;break}case Y.SVG:{if(ph.has(n))return!1;break}case Y.MATHML:{if(hh.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Y.HTML)switch(this.tagIDs[n]){case t:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Y.HTML)switch(this.tagIDs[t]){case m.TBODY:case m.THEAD:case m.TFOOT:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Y.HTML)switch(this.tagIDs[n]){case t:return!0;case m.OPTION:case m.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&Y0.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&fh.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&fh.has(this.currentTagId);)this.pop()}}const Ru=3;var Ln;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Ln||(Ln={}));const mh={type:Ln.Marker};class gS{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const u=this.entries[o];if(u.type===Ln.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===a){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:o,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<Ru)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<Ru)return;const i=new Map(n.map(a=>[a.name,a.value]));let s=0;for(let a=0;a<r.length;a++){const o=r[a];o.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=Ru&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(mh)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Ln.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Ln.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(mh);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Ln.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Ln.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Ln.Element&&n.element===t)}}const sr={createDocument(){return{nodeName:"#document",mode:pn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};sr.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(sr.isTextNode(n)){n.value+=t;return}}sr.appendChild(e,sr.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&sr.isTextNode(r)?r.value+=t:sr.insertBefore(e,sr.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation=P(P({},e.sourceCodeLocation),t)}},G0="html",bS="about:legacy-compat",yS="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Q0=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],ES=[...Q0,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],kS=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),X0=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],TS=[...X0,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function gh(e,t){return t.some(n=>e.startsWith(n))}function xS(e){return e.name===G0&&e.publicId===null&&(e.systemId===null||e.systemId===bS)}function wS(e){if(e.name!==G0)return pn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===yS)return pn.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),kS.has(n))return pn.QUIRKS;let r=t===null?ES:Q0;if(gh(n,r))return pn.QUIRKS;if(r=t===null?X0:TS,gh(n,r))return pn.LIMITED_QUIRKS}return pn.NO_QUIRKS}const bh={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},CS="definitionurl",SS="definitionURL",_S=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),AS=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Y.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Y.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Y.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Y.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Y.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Y.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Y.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Y.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Y.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Y.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Y.XMLNS}]]),NS=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),vS=new Set([m.B,m.BIG,m.BLOCKQUOTE,m.BODY,m.BR,m.CENTER,m.CODE,m.DD,m.DIV,m.DL,m.DT,m.EM,m.EMBED,m.H1,m.H2,m.H3,m.H4,m.H5,m.H6,m.HEAD,m.HR,m.I,m.IMG,m.LI,m.LISTING,m.MENU,m.META,m.NOBR,m.OL,m.P,m.PRE,m.RUBY,m.S,m.SMALL,m.SPAN,m.STRONG,m.STRIKE,m.SUB,m.SUP,m.TABLE,m.TT,m.U,m.UL,m.VAR]);function IS(e){const t=e.tagID;return t===m.FONT&&e.attrs.some(({name:r})=>r===Fr.COLOR||r===Fr.SIZE||r===Fr.FACE)||vS.has(t)}function J0(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===CS){e.attrs[t].name=SS;break}}function Z0(e){for(let t=0;t<e.attrs.length;t++){const n=_S.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function qc(e){for(let t=0;t<e.attrs.length;t++){const n=AS.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function OS(e){const t=NS.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Pi(e.tagName))}function MS(e,t){return t===Y.MATHML&&(e===m.MI||e===m.MO||e===m.MN||e===m.MS||e===m.MTEXT)}function RS(e,t,n){if(t===Y.MATHML&&e===m.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Fr.ENCODING){const i=n[r].value.toLowerCase();return i===bh.TEXT_HTML||i===bh.APPLICATION_XML}}return t===Y.SVG&&(e===m.FOREIGN_OBJECT||e===m.DESC||e===m.TITLE)}function LS(e,t,n,r){return(!r||r===Y.HTML)&&RS(e,t,n)||(!r||r===Y.MATHML)&&MS(e,t)}const DS="hidden",PS=8,BS=3;var L;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(L||(L={}));const FS={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},eg=new Set([m.TABLE,m.TBODY,m.TFOOT,m.THEAD,m.TR]),yh={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:sr,onParseError:null};class Eh{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=L.INITIAL,this.originalInsertionMode=L.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=P(P({},yh),t),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n!=null?n:this.treeAdapter.createDocument(),this.tokenizer=new uS(this.options,this),this.activeFormattingElements=new gS(this.treeAdapter),this.fragmentContextID=r?Pi(this.treeAdapter.getTagName(r)):m.UNKNOWN,this._setContextModes(r!=null?r:this.document,this.fragmentContextID),this.openElements=new mS(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r=P(P({},yh),n);t!=null||(t=r.treeAdapter.createElement(z.TEMPLATE,Y.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Y.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===m.TEMPLATE&&s.tmplInsertionModeStack.unshift(L.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:FS,a={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(a)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,a;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,this._setContextModes(s,a)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===Y.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Y.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=L.TEXT}switchToPlaintextParsing(){this.insertionMode=L.TEXT,this.originalInsertionMode=L.IN_BODY,this.tokenizer.state=it.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===z.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Y.HTML))switch(this.fragmentContextID){case m.TITLE:case m.TEXTAREA:{this.tokenizer.state=it.RCDATA;break}case m.STYLE:case m.XMP:case m.IFRAME:case m.NOEMBED:case m.NOFRAMES:case m.NOSCRIPT:{this.tokenizer.state=it.RAWTEXT;break}case m.SCRIPT:{this.tokenizer.state=it.SCRIPT_DATA;break}case m.PLAINTEXT:{this.tokenizer.state=it.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&ce(P({},n),{startTag:n});this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r!=null?r:this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Y.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Y.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(z.HTML,Y.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,m.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,a=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===_e.END_TAG&&i===n.tagName?{endTag:P({},r),endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===m.SVG&&this.treeAdapter.getTagName(n)===z.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Y.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===m.MGLYPH||t.tagID===m.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,Y.HTML)}_processToken(t){switch(t.type){case _e.CHARACTER:{this.onCharacter(t);break}case _e.NULL_CHARACTER:{this.onNullCharacter(t);break}case _e.COMMENT:{this.onComment(t);break}case _e.DOCTYPE:{this.onDoctype(t);break}case _e.START_TAG:{this._processStartTag(t);break}case _e.END_TAG:{this.onEndTag(t);break}case _e.EOF:{this.onEof(t);break}case _e.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return LS(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Ln.Marker||this.openElements.contains(i.element)),r=n===-1?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=L.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(m.P),this.openElements.popUntilTagNamePopped(m.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case m.TR:{this.insertionMode=L.IN_ROW;return}case m.TBODY:case m.THEAD:case m.TFOOT:{this.insertionMode=L.IN_TABLE_BODY;return}case m.CAPTION:{this.insertionMode=L.IN_CAPTION;return}case m.COLGROUP:{this.insertionMode=L.IN_COLUMN_GROUP;return}case m.TABLE:{this.insertionMode=L.IN_TABLE;return}case m.BODY:{this.insertionMode=L.IN_BODY;return}case m.FRAMESET:{this.insertionMode=L.IN_FRAMESET;return}case m.SELECT:{this._resetInsertionModeForSelect(t);return}case m.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case m.HTML:{this.insertionMode=this.headElement?L.AFTER_HEAD:L.BEFORE_HEAD;return}case m.TD:case m.TH:{if(t>0){this.insertionMode=L.IN_CELL;return}break}case m.HEAD:{if(t>0){this.insertionMode=L.IN_HEAD;return}break}}this.insertionMode=L.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===m.TEMPLATE)break;if(r===m.TABLE){this.insertionMode=L.IN_SELECT_IN_TABLE;return}}this.insertionMode=L.IN_SELECT}_isElementCausesFosterParenting(t){return eg.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case m.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Y.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case m.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return iS[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){pA(this,t);return}switch(this.insertionMode){case L.INITIAL:{Ki(this,t);break}case L.BEFORE_HTML:{cs(this,t);break}case L.BEFORE_HEAD:{ds(this,t);break}case L.IN_HEAD:{fs(this,t);break}case L.IN_HEAD_NO_SCRIPT:{hs(this,t);break}case L.AFTER_HEAD:{ps(this,t);break}case L.IN_BODY:case L.IN_CAPTION:case L.IN_CELL:case L.IN_TEMPLATE:{ng(this,t);break}case L.TEXT:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case L.IN_TABLE:case L.IN_TABLE_BODY:case L.IN_ROW:{Lu(this,t);break}case L.IN_TABLE_TEXT:{ug(this,t);break}case L.IN_COLUMN_GROUP:{Ha(this,t);break}case L.AFTER_BODY:{za(this,t);break}case L.AFTER_AFTER_BODY:{Sa(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){hA(this,t);return}switch(this.insertionMode){case L.INITIAL:{Ki(this,t);break}case L.BEFORE_HTML:{cs(this,t);break}case L.BEFORE_HEAD:{ds(this,t);break}case L.IN_HEAD:{fs(this,t);break}case L.IN_HEAD_NO_SCRIPT:{hs(this,t);break}case L.AFTER_HEAD:{ps(this,t);break}case L.TEXT:{this._insertCharacters(t);break}case L.IN_TABLE:case L.IN_TABLE_BODY:case L.IN_ROW:{Lu(this,t);break}case L.IN_COLUMN_GROUP:{Ha(this,t);break}case L.AFTER_BODY:{za(this,t);break}case L.AFTER_AFTER_BODY:{Sa(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){jl(this,t);return}switch(this.insertionMode){case L.INITIAL:case L.BEFORE_HTML:case L.BEFORE_HEAD:case L.IN_HEAD:case L.IN_HEAD_NO_SCRIPT:case L.AFTER_HEAD:case L.IN_BODY:case L.IN_TABLE:case L.IN_CAPTION:case L.IN_COLUMN_GROUP:case L.IN_TABLE_BODY:case L.IN_ROW:case L.IN_CELL:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:case L.IN_TEMPLATE:case L.IN_FRAMESET:case L.AFTER_FRAMESET:{jl(this,t);break}case L.IN_TABLE_TEXT:{Yi(this,t);break}case L.AFTER_BODY:{qS(this,t);break}case L.AFTER_AFTER_BODY:case L.AFTER_AFTER_FRAMESET:{WS(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case L.INITIAL:{KS(this,t);break}case L.BEFORE_HEAD:case L.IN_HEAD:case L.IN_HEAD_NO_SCRIPT:case L.AFTER_HEAD:{this._err(t,q.misplacedDoctype);break}case L.IN_TABLE_TEXT:{Yi(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,q.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?mA(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case L.INITIAL:{Ki(this,t);break}case L.BEFORE_HTML:{YS(this,t);break}case L.BEFORE_HEAD:{QS(this,t);break}case L.IN_HEAD:{_n(this,t);break}case L.IN_HEAD_NO_SCRIPT:{ZS(this,t);break}case L.AFTER_HEAD:{t_(this,t);break}case L.IN_BODY:{Pt(this,t);break}case L.IN_TABLE:{wi(this,t);break}case L.IN_TABLE_TEXT:{Yi(this,t);break}case L.IN_CAPTION:{X_(this,t);break}case L.IN_COLUMN_GROUP:{Yc(this,t);break}case L.IN_TABLE_BODY:{Ko(this,t);break}case L.IN_ROW:{Yo(this,t);break}case L.IN_CELL:{eA(this,t);break}case L.IN_SELECT:{dg(this,t);break}case L.IN_SELECT_IN_TABLE:{nA(this,t);break}case L.IN_TEMPLATE:{iA(this,t);break}case L.AFTER_BODY:{aA(this,t);break}case L.IN_FRAMESET:{oA(this,t);break}case L.AFTER_FRAMESET:{lA(this,t);break}case L.AFTER_AFTER_BODY:{dA(this,t);break}case L.AFTER_AFTER_FRAMESET:{fA(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?gA(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case L.INITIAL:{Ki(this,t);break}case L.BEFORE_HTML:{GS(this,t);break}case L.BEFORE_HEAD:{XS(this,t);break}case L.IN_HEAD:{JS(this,t);break}case L.IN_HEAD_NO_SCRIPT:{e_(this,t);break}case L.AFTER_HEAD:{n_(this,t);break}case L.IN_BODY:{Wo(this,t);break}case L.TEXT:{z_(this,t);break}case L.IN_TABLE:{Is(this,t);break}case L.IN_TABLE_TEXT:{Yi(this,t);break}case L.IN_CAPTION:{J_(this,t);break}case L.IN_COLUMN_GROUP:{Z_(this,t);break}case L.IN_TABLE_BODY:{Hl(this,t);break}case L.IN_ROW:{cg(this,t);break}case L.IN_CELL:{tA(this,t);break}case L.IN_SELECT:{fg(this,t);break}case L.IN_SELECT_IN_TABLE:{rA(this,t);break}case L.IN_TEMPLATE:{sA(this,t);break}case L.AFTER_BODY:{pg(this,t);break}case L.IN_FRAMESET:{uA(this,t);break}case L.AFTER_FRAMESET:{cA(this,t);break}case L.AFTER_AFTER_BODY:{Sa(this,t);break}}}onEof(t){switch(this.insertionMode){case L.INITIAL:{Ki(this,t);break}case L.BEFORE_HTML:{cs(this,t);break}case L.BEFORE_HEAD:{ds(this,t);break}case L.IN_HEAD:{fs(this,t);break}case L.IN_HEAD_NO_SCRIPT:{hs(this,t);break}case L.AFTER_HEAD:{ps(this,t);break}case L.IN_BODY:case L.IN_TABLE:case L.IN_CAPTION:case L.IN_COLUMN_GROUP:case L.IN_TABLE_BODY:case L.IN_ROW:case L.IN_CELL:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:{ag(this,t);break}case L.TEXT:{U_(this,t);break}case L.IN_TABLE_TEXT:{Yi(this,t);break}case L.IN_TEMPLATE:{hg(this,t);break}case L.AFTER_BODY:case L.IN_FRAMESET:case L.AFTER_FRAMESET:case L.AFTER_AFTER_BODY:case L.AFTER_AFTER_FRAMESET:{Kc(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===A.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case L.IN_HEAD:case L.IN_HEAD_NO_SCRIPT:case L.AFTER_HEAD:case L.TEXT:case L.IN_COLUMN_GROUP:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:case L.IN_FRAMESET:case L.AFTER_FRAMESET:{this._insertCharacters(t);break}case L.IN_BODY:case L.IN_CAPTION:case L.IN_CELL:case L.IN_TEMPLATE:case L.AFTER_BODY:case L.AFTER_AFTER_BODY:case L.AFTER_AFTER_FRAMESET:{tg(this,t);break}case L.IN_TABLE:case L.IN_TABLE_BODY:case L.IN_ROW:{Lu(this,t);break}case L.IN_TABLE_TEXT:{og(this,t);break}}}}function jS(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):sg(e,t),n}function HS(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function zS(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,a=i;a!==n;s++,a=i){i=e.openElements.getCommonAncestor(a);const o=e.activeFormattingElements.getElementEntry(a),u=o&&s>=BS;!o||u?(u&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(a)):(a=US(e,o),r===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function US(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function $S(e,t,n){const r=e.treeAdapter.getTagName(t),i=Pi(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===m.TEMPLATE&&s===Y.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function VS(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function Wc(e,t){for(let n=0;n<PS;n++){const r=jS(e,t);if(!r)break;const i=HS(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=zS(e,i,r.element),a=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),a&&$S(e,a,s),VS(e,i,r)}}function jl(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function qS(e,t){e._appendCommentNode(t,e.openElements.items[0])}function WS(e,t){e._appendCommentNode(t,e.document)}function Kc(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&e._setEndLocation(s,t)}}}}function KS(e,t){e._setDocumentType(t);const n=t.forceQuirks?pn.QUIRKS:wS(t);xS(t)||e._err(t,q.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=L.BEFORE_HTML}function Ki(e,t){e._err(t,q.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,pn.QUIRKS),e.insertionMode=L.BEFORE_HTML,e._processToken(t)}function YS(e,t){t.tagID===m.HTML?(e._insertElement(t,Y.HTML),e.insertionMode=L.BEFORE_HEAD):cs(e,t)}function GS(e,t){const n=t.tagID;(n===m.HTML||n===m.HEAD||n===m.BODY||n===m.BR)&&cs(e,t)}function cs(e,t){e._insertFakeRootElement(),e.insertionMode=L.BEFORE_HEAD,e._processToken(t)}function QS(e,t){switch(t.tagID){case m.HTML:{Pt(e,t);break}case m.HEAD:{e._insertElement(t,Y.HTML),e.headElement=e.openElements.current,e.insertionMode=L.IN_HEAD;break}default:ds(e,t)}}function XS(e,t){const n=t.tagID;n===m.HEAD||n===m.BODY||n===m.HTML||n===m.BR?ds(e,t):e._err(t,q.endTagWithoutMatchingOpenElement)}function ds(e,t){e._insertFakeElement(z.HEAD,m.HEAD),e.headElement=e.openElements.current,e.insertionMode=L.IN_HEAD,e._processToken(t)}function _n(e,t){switch(t.tagID){case m.HTML:{Pt(e,t);break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case m.TITLE:{e._switchToTextParsing(t,it.RCDATA);break}case m.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,it.RAWTEXT):(e._insertElement(t,Y.HTML),e.insertionMode=L.IN_HEAD_NO_SCRIPT);break}case m.NOFRAMES:case m.STYLE:{e._switchToTextParsing(t,it.RAWTEXT);break}case m.SCRIPT:{e._switchToTextParsing(t,it.SCRIPT_DATA);break}case m.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=L.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(L.IN_TEMPLATE);break}case m.HEAD:{e._err(t,q.misplacedStartTagForHeadElement);break}default:fs(e,t)}}function JS(e,t){switch(t.tagID){case m.HEAD:{e.openElements.pop(),e.insertionMode=L.AFTER_HEAD;break}case m.BODY:case m.BR:case m.HTML:{fs(e,t);break}case m.TEMPLATE:{ti(e,t);break}default:e._err(t,q.endTagWithoutMatchingOpenElement)}}function ti(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==m.TEMPLATE&&e._err(t,q.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,q.endTagWithoutMatchingOpenElement)}function fs(e,t){e.openElements.pop(),e.insertionMode=L.AFTER_HEAD,e._processToken(t)}function ZS(e,t){switch(t.tagID){case m.HTML:{Pt(e,t);break}case m.BASEFONT:case m.BGSOUND:case m.HEAD:case m.LINK:case m.META:case m.NOFRAMES:case m.STYLE:{_n(e,t);break}case m.NOSCRIPT:{e._err(t,q.nestedNoscriptInHead);break}default:hs(e,t)}}function e_(e,t){switch(t.tagID){case m.NOSCRIPT:{e.openElements.pop(),e.insertionMode=L.IN_HEAD;break}case m.BR:{hs(e,t);break}default:e._err(t,q.endTagWithoutMatchingOpenElement)}}function hs(e,t){const n=t.type===_e.EOF?q.openElementsLeftAfterEof:q.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=L.IN_HEAD,e._processToken(t)}function t_(e,t){switch(t.tagID){case m.HTML:{Pt(e,t);break}case m.BODY:{e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=L.IN_BODY;break}case m.FRAMESET:{e._insertElement(t,Y.HTML),e.insertionMode=L.IN_FRAMESET;break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{e._err(t,q.abandonedHeadElementChild),e.openElements.push(e.headElement,m.HEAD),_n(e,t),e.openElements.remove(e.headElement);break}case m.HEAD:{e._err(t,q.misplacedStartTagForHeadElement);break}default:ps(e,t)}}function n_(e,t){switch(t.tagID){case m.BODY:case m.HTML:case m.BR:{ps(e,t);break}case m.TEMPLATE:{ti(e,t);break}default:e._err(t,q.endTagWithoutMatchingOpenElement)}}function ps(e,t){e._insertFakeElement(z.BODY,m.BODY),e.insertionMode=L.IN_BODY,qo(e,t)}function qo(e,t){switch(t.type){case _e.CHARACTER:{ng(e,t);break}case _e.WHITESPACE_CHARACTER:{tg(e,t);break}case _e.COMMENT:{jl(e,t);break}case _e.START_TAG:{Pt(e,t);break}case _e.END_TAG:{Wo(e,t);break}case _e.EOF:{ag(e,t);break}}}function tg(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function ng(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function r_(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function i_(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function s_(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Y.HTML),e.insertionMode=L.IN_FRAMESET)}function a_(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML)}function o_(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&Fl.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Y.HTML)}function u_(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function l_(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML),n||(e.formElement=e.openElements.current))}function c_(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===m.LI&&i===m.LI||(n===m.DD||n===m.DT)&&(i===m.DD||i===m.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==m.ADDRESS&&i!==m.DIV&&i!==m.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML)}function d_(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.tokenizer.state=it.PLAINTEXT}function f_(e,t){e.openElements.hasInScope(m.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.framesetOk=!1}function h_(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(z.A);n&&(Wc(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function p_(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function m_(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(m.NOBR)&&(Wc(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function g_(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function b_(e,t){e.treeAdapter.getDocumentMode(e.document)!==pn.QUIRKS&&e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=L.IN_TABLE}function rg(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Y.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function ig(e){const t=W0(e,Fr.TYPE);return t!=null&&t.toLowerCase()===DS}function y_(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Y.HTML),ig(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function E_(e,t){e._appendElement(t,Y.HTML),t.ackSelfClosing=!0}function k_(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._appendElement(t,Y.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function T_(e,t){t.tagName=z.IMG,t.tagID=m.IMG,rg(e,t)}function x_(e,t){e._insertElement(t,Y.HTML),e.skipNextNewLine=!0,e.tokenizer.state=it.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=L.TEXT}function w_(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,it.RAWTEXT)}function C_(e,t){e.framesetOk=!1,e._switchToTextParsing(t,it.RAWTEXT)}function kh(e,t){e._switchToTextParsing(t,it.RAWTEXT)}function S_(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===L.IN_TABLE||e.insertionMode===L.IN_CAPTION||e.insertionMode===L.IN_TABLE_BODY||e.insertionMode===L.IN_ROW||e.insertionMode===L.IN_CELL?L.IN_SELECT_IN_TABLE:L.IN_SELECT}function __(e,t){e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML)}function A_(e,t){e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Y.HTML)}function N_(e,t){e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(m.RTC),e._insertElement(t,Y.HTML)}function v_(e,t){e._reconstructActiveFormattingElements(),J0(t),qc(t),t.selfClosing?e._appendElement(t,Y.MATHML):e._insertElement(t,Y.MATHML),t.ackSelfClosing=!0}function I_(e,t){e._reconstructActiveFormattingElements(),Z0(t),qc(t),t.selfClosing?e._appendElement(t,Y.SVG):e._insertElement(t,Y.SVG),t.ackSelfClosing=!0}function Th(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML)}function Pt(e,t){switch(t.tagID){case m.I:case m.S:case m.B:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.SMALL:case m.STRIKE:case m.STRONG:{p_(e,t);break}case m.A:{h_(e,t);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{o_(e,t);break}case m.P:case m.DL:case m.OL:case m.UL:case m.DIV:case m.DIR:case m.NAV:case m.MAIN:case m.MENU:case m.ASIDE:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.DETAILS:case m.ADDRESS:case m.ARTICLE:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{a_(e,t);break}case m.LI:case m.DD:case m.DT:{c_(e,t);break}case m.BR:case m.IMG:case m.WBR:case m.AREA:case m.EMBED:case m.KEYGEN:{rg(e,t);break}case m.HR:{k_(e,t);break}case m.RB:case m.RTC:{A_(e,t);break}case m.RT:case m.RP:{N_(e,t);break}case m.PRE:case m.LISTING:{u_(e,t);break}case m.XMP:{w_(e,t);break}case m.SVG:{I_(e,t);break}case m.HTML:{r_(e,t);break}case m.BASE:case m.LINK:case m.META:case m.STYLE:case m.TITLE:case m.SCRIPT:case m.BGSOUND:case m.BASEFONT:case m.TEMPLATE:{_n(e,t);break}case m.BODY:{i_(e,t);break}case m.FORM:{l_(e,t);break}case m.NOBR:{m_(e,t);break}case m.MATH:{v_(e,t);break}case m.TABLE:{b_(e,t);break}case m.INPUT:{y_(e,t);break}case m.PARAM:case m.TRACK:case m.SOURCE:{E_(e,t);break}case m.IMAGE:{T_(e,t);break}case m.BUTTON:{f_(e,t);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{g_(e,t);break}case m.IFRAME:{C_(e,t);break}case m.SELECT:{S_(e,t);break}case m.OPTION:case m.OPTGROUP:{__(e,t);break}case m.NOEMBED:case m.NOFRAMES:{kh(e,t);break}case m.FRAMESET:{s_(e,t);break}case m.TEXTAREA:{x_(e,t);break}case m.NOSCRIPT:{e.options.scriptingEnabled?kh(e,t):Th(e,t);break}case m.PLAINTEXT:{d_(e,t);break}case m.COL:case m.TH:case m.TD:case m.TR:case m.HEAD:case m.FRAME:case m.TBODY:case m.TFOOT:case m.THEAD:case m.CAPTION:case m.COLGROUP:break;default:Th(e,t)}}function O_(e,t){if(e.openElements.hasInScope(m.BODY)&&(e.insertionMode=L.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function M_(e,t){e.openElements.hasInScope(m.BODY)&&(e.insertionMode=L.AFTER_BODY,pg(e,t))}function R_(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function L_(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(m.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(m.FORM):n&&e.openElements.remove(n))}function D_(e){e.openElements.hasInButtonScope(m.P)||e._insertFakeElement(z.P,m.P),e._closePElement()}function P_(e){e.openElements.hasInListItemScope(m.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(m.LI),e.openElements.popUntilTagNamePopped(m.LI))}function B_(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function F_(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function j_(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function H_(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(z.BR,m.BR),e.openElements.pop(),e.framesetOk=!1}function sg(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],a=e.openElements.tagIDs[i];if(r===a&&(r!==m.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,a))break}}function Wo(e,t){switch(t.tagID){case m.A:case m.B:case m.I:case m.S:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.NOBR:case m.SMALL:case m.STRIKE:case m.STRONG:{Wc(e,t);break}case m.P:{D_(e);break}case m.DL:case m.UL:case m.OL:case m.DIR:case m.DIV:case m.NAV:case m.PRE:case m.MAIN:case m.MENU:case m.ASIDE:case m.BUTTON:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.ADDRESS:case m.ARTICLE:case m.DETAILS:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.LISTING:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{R_(e,t);break}case m.LI:{P_(e);break}case m.DD:case m.DT:{B_(e,t);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{F_(e);break}case m.BR:{H_(e);break}case m.BODY:{O_(e,t);break}case m.HTML:{M_(e,t);break}case m.FORM:{L_(e);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{j_(e,t);break}case m.TEMPLATE:{ti(e,t);break}default:sg(e,t)}}function ag(e,t){e.tmplInsertionModeStack.length>0?hg(e,t):Kc(e,t)}function z_(e,t){var n;t.tagID===m.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function U_(e,t){e._err(t,q.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Lu(e,t){if(e.openElements.currentTagId!==void 0&&eg.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=L.IN_TABLE_TEXT,t.type){case _e.CHARACTER:{ug(e,t);break}case _e.WHITESPACE_CHARACTER:{og(e,t);break}}else Ws(e,t)}function $_(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Y.HTML),e.insertionMode=L.IN_CAPTION}function V_(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Y.HTML),e.insertionMode=L.IN_COLUMN_GROUP}function q_(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(z.COLGROUP,m.COLGROUP),e.insertionMode=L.IN_COLUMN_GROUP,Yc(e,t)}function W_(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Y.HTML),e.insertionMode=L.IN_TABLE_BODY}function K_(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(z.TBODY,m.TBODY),e.insertionMode=L.IN_TABLE_BODY,Ko(e,t)}function Y_(e,t){e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function G_(e,t){ig(t)?e._appendElement(t,Y.HTML):Ws(e,t),t.ackSelfClosing=!0}function Q_(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Y.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function wi(e,t){switch(t.tagID){case m.TD:case m.TH:case m.TR:{K_(e,t);break}case m.STYLE:case m.SCRIPT:case m.TEMPLATE:{_n(e,t);break}case m.COL:{q_(e,t);break}case m.FORM:{Q_(e,t);break}case m.TABLE:{Y_(e,t);break}case m.TBODY:case m.TFOOT:case m.THEAD:{W_(e,t);break}case m.INPUT:{G_(e,t);break}case m.CAPTION:{$_(e,t);break}case m.COLGROUP:{V_(e,t);break}default:Ws(e,t)}}function Is(e,t){switch(t.tagID){case m.TABLE:{e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode());break}case m.TEMPLATE:{ti(e,t);break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:Ws(e,t)}}function Ws(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,qo(e,t),e.fosterParentingEnabled=n}function og(e,t){e.pendingCharacterTokens.push(t)}function ug(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Yi(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Ws(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const lg=new Set([m.CAPTION,m.COL,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]);function X_(e,t){const n=t.tagID;lg.has(n)?e.openElements.hasInTableScope(m.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=L.IN_TABLE,wi(e,t)):Pt(e,t)}function J_(e,t){const n=t.tagID;switch(n){case m.CAPTION:case m.TABLE:{e.openElements.hasInTableScope(m.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=L.IN_TABLE,n===m.TABLE&&Is(e,t));break}case m.BODY:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:Wo(e,t)}}function Yc(e,t){switch(t.tagID){case m.HTML:{Pt(e,t);break}case m.COL:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case m.TEMPLATE:{_n(e,t);break}default:Ha(e,t)}}function Z_(e,t){switch(t.tagID){case m.COLGROUP:{e.openElements.currentTagId===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=L.IN_TABLE);break}case m.TEMPLATE:{ti(e,t);break}case m.COL:break;default:Ha(e,t)}}function Ha(e,t){e.openElements.currentTagId===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=L.IN_TABLE,e._processToken(t))}function Ko(e,t){switch(t.tagID){case m.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Y.HTML),e.insertionMode=L.IN_ROW;break}case m.TH:case m.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(z.TR,m.TR),e.insertionMode=L.IN_ROW,Yo(e,t);break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE,wi(e,t));break}default:wi(e,t)}}function Hl(e,t){const n=t.tagID;switch(t.tagID){case m.TBODY:case m.TFOOT:case m.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE);break}case m.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE,Is(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:case m.TR:break;default:Is(e,t)}}function Yo(e,t){switch(t.tagID){case m.TH:case m.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Y.HTML),e.insertionMode=L.IN_CELL,e.activeFormattingElements.insertMarker();break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE_BODY,Ko(e,t));break}default:wi(e,t)}}function cg(e,t){switch(t.tagID){case m.TR:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE_BODY);break}case m.TABLE:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE_BODY,Hl(e,t));break}case m.TBODY:case m.TFOOT:case m.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(m.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE_BODY,Hl(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:break;default:Is(e,t)}}function eA(e,t){const n=t.tagID;lg.has(n)?(e.openElements.hasInTableScope(m.TD)||e.openElements.hasInTableScope(m.TH))&&(e._closeTableCell(),Yo(e,t)):Pt(e,t)}function tA(e,t){const n=t.tagID;switch(n){case m.TD:case m.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=L.IN_ROW);break}case m.TABLE:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),cg(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:break;default:Wo(e,t)}}function dg(e,t){switch(t.tagID){case m.HTML:{Pt(e,t);break}case m.OPTION:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e._insertElement(t,Y.HTML);break}case m.OPTGROUP:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Y.HTML);break}case m.HR:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop(),e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case m.INPUT:case m.KEYGEN:case m.TEXTAREA:case m.SELECT:{e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),t.tagID!==m.SELECT&&e._processStartTag(t));break}case m.SCRIPT:case m.TEMPLATE:{_n(e,t);break}}}function fg(e,t){switch(t.tagID){case m.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===m.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===m.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop();break}case m.OPTION:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop();break}case m.SELECT:{e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode());break}case m.TEMPLATE:{ti(e,t);break}}}function nA(e,t){const n=t.tagID;n===m.CAPTION||n===m.TABLE||n===m.TBODY||n===m.TFOOT||n===m.THEAD||n===m.TR||n===m.TD||n===m.TH?(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),e._processStartTag(t)):dg(e,t)}function rA(e,t){const n=t.tagID;n===m.CAPTION||n===m.TABLE||n===m.TBODY||n===m.TFOOT||n===m.THEAD||n===m.TR||n===m.TD||n===m.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),e.onEndTag(t)):fg(e,t)}function iA(e,t){switch(t.tagID){case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{_n(e,t);break}case m.CAPTION:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{e.tmplInsertionModeStack[0]=L.IN_TABLE,e.insertionMode=L.IN_TABLE,wi(e,t);break}case m.COL:{e.tmplInsertionModeStack[0]=L.IN_COLUMN_GROUP,e.insertionMode=L.IN_COLUMN_GROUP,Yc(e,t);break}case m.TR:{e.tmplInsertionModeStack[0]=L.IN_TABLE_BODY,e.insertionMode=L.IN_TABLE_BODY,Ko(e,t);break}case m.TD:case m.TH:{e.tmplInsertionModeStack[0]=L.IN_ROW,e.insertionMode=L.IN_ROW,Yo(e,t);break}default:e.tmplInsertionModeStack[0]=L.IN_BODY,e.insertionMode=L.IN_BODY,Pt(e,t)}}function sA(e,t){t.tagID===m.TEMPLATE&&ti(e,t)}function hg(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Kc(e,t)}function aA(e,t){t.tagID===m.HTML?Pt(e,t):za(e,t)}function pg(e,t){var n;if(t.tagID===m.HTML){if(e.fragmentContext||(e.insertionMode=L.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===m.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else za(e,t)}function za(e,t){e.insertionMode=L.IN_BODY,qo(e,t)}function oA(e,t){switch(t.tagID){case m.HTML:{Pt(e,t);break}case m.FRAMESET:{e._insertElement(t,Y.HTML);break}case m.FRAME:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case m.NOFRAMES:{_n(e,t);break}}}function uA(e,t){t.tagID===m.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==m.FRAMESET&&(e.insertionMode=L.AFTER_FRAMESET))}function lA(e,t){switch(t.tagID){case m.HTML:{Pt(e,t);break}case m.NOFRAMES:{_n(e,t);break}}}function cA(e,t){t.tagID===m.HTML&&(e.insertionMode=L.AFTER_AFTER_FRAMESET)}function dA(e,t){t.tagID===m.HTML?Pt(e,t):Sa(e,t)}function Sa(e,t){e.insertionMode=L.IN_BODY,qo(e,t)}function fA(e,t){switch(t.tagID){case m.HTML:{Pt(e,t);break}case m.NOFRAMES:{_n(e,t);break}}}function hA(e,t){t.chars=Qe,e._insertCharacters(t)}function pA(e,t){e._insertCharacters(t),e.framesetOk=!1}function mg(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Y.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function mA(e,t){if(IS(t))mg(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Y.MATHML?J0(t):r===Y.SVG&&(OS(t),Z0(t)),qc(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function gA(e,t){if(t.tagID===m.P||t.tagID===m.BR){mg(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Y.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}z.AREA,z.BASE,z.BASEFONT,z.BGSOUND,z.BR,z.COL,z.EMBED,z.FRAME,z.HR,z.IMG,z.INPUT,z.KEYGEN,z.LINK,z.META,z.PARAM,z.SOURCE,z.TRACK,z.WBR;const bA=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,yA=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),xh={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function gg(e,t){const n=NA(e),r=c0("type",{handlers:{root:EA,element:kA,text:TA,comment:yg,doctype:xA,raw:CA},unknown:SA}),i={parser:n?new Eh(xh):Eh.getFragmentParser(void 0,xh),handle(o){r(o,i)},stitches:!1,options:t||{}};r(e,i),Bi(i,Bn());const s=n?i.parser.document:i.parser.getFragment(),a=EC(s,{file:i.options.file});return i.stitches&&Vo(a,"comment",function(o,u,l){const c=o;if(c.value.stitch&&l&&u!==void 0){const d=l.children;return d[u]=c.value.stitch,u}}),a.type==="root"&&a.children.length===1&&a.children[0].type===e.type?a.children[0]:a}function bg(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function EA(e,t){bg(e.children,t)}function kA(e,t){_A(e,t),bg(e.children,t),AA(e,t)}function TA(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:_e.CHARACTER,chars:e.value,location:Ks(e)};Bi(t,Bn(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function xA(e,t){const n={type:_e.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Ks(e)};Bi(t,Bn(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function wA(e,t){t.stitches=!0;const n=vA(e);if("children"in e&&"children"in n){const r=gg({type:"root",children:e.children},t.options);n.children=r.children}yg({type:"comment",value:{stitch:n}},t)}function yg(e,t){const n=e.value,r={type:_e.COMMENT,data:n,location:Ks(e)};Bi(t,Bn(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function CA(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,Eg(t,Bn(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(bA,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function SA(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))wA(n,t);else{let r="";throw yA.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Bi(e,t){Eg(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=it.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function Eg(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function _A(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===it.PLAINTEXT)return;Bi(t,Bn(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:Rr.html;i===Rr.html&&n==="svg"&&(i=Rr.svg);const s=LC(ce(P({},e),{children:[]}),{space:i===Rr.svg?"svg":"html"}),a={type:_e.START_TAG,tagName:n,tagID:Pi(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:Ks(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function AA(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&UC.includes(n)||t.parser.tokenizer.state===it.PLAINTEXT)return;Bi(t,Fo(e));const r={type:_e.END_TAG,tagName:n,tagID:Pi(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Ks(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===it.RCDATA||t.parser.tokenizer.state===it.RAWTEXT||t.parser.tokenizer.state===it.SCRIPT_DATA)&&(t.parser.tokenizer.state=it.DATA)}function NA(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function Ks(e){const t=Bn(e)||{line:void 0,column:void 0,offset:void 0},n=Fo(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function vA(e){return"children"in e?xi(ce(P({},e),{children:[]})):xi(e)}function zl(e){return function(t,n){return gg(t,ce(P({},e),{file:n}))}}var Du,wh;function IA(){if(wh)return Du;wh=1;var e=function(O){return t(O)&&!n(O)};function t(T){return!!T&&typeof T=="object"}function n(T){var O=Object.prototype.toString.call(T);return O==="[object RegExp]"||O==="[object Date]"||s(T)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(T){return T.$$typeof===i}function a(T){return Array.isArray(T)?[]:{}}function o(T,O){return O.clone!==!1&&O.isMergeableObject(T)?k(a(T),T,O):T}function u(T,O,D){return T.concat(O).map(function(h){return o(h,D)})}function l(T,O){if(!O.customMerge)return k;var D=O.customMerge(T);return typeof D=="function"?D:k}function c(T){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(T).filter(function(O){return Object.propertyIsEnumerable.call(T,O)}):[]}function d(T){return Object.keys(T).concat(c(T))}function f(T,O){try{return O in T}catch(D){return!1}}function p(T,O){return f(T,O)&&!(Object.hasOwnProperty.call(T,O)&&Object.propertyIsEnumerable.call(T,O))}function y(T,O,D){var h={};return D.isMergeableObject(T)&&d(T).forEach(function(E){h[E]=o(T[E],D)}),d(O).forEach(function(E){p(T,E)||(f(T,E)&&D.isMergeableObject(O[E])?h[E]=l(E,D)(T[E],O[E],D):h[E]=o(O[E],D))}),h}function k(T,O,D){D=D||{},D.arrayMerge=D.arrayMerge||u,D.isMergeableObject=D.isMergeableObject||e,D.cloneUnlessOtherwiseSpecified=o;var h=Array.isArray(O),E=Array.isArray(T),g=h===E;return g?h?D.arrayMerge(T,O,D):y(T,O,D):o(O,D)}k.all=function(O,D){if(!Array.isArray(O))throw new Error("first argument should be an array");return O.reduce(function(h,E){return k(h,E,D)},{})};var x=k;return Du=x,Du}IA();const OA=({closeFnc:e,isOpen:t,handleSubmit:n,errors:r,setErrors:i,formData:s,setFormData:a})=>{var V,G,ie,_;const o=Tn(wy),[u,l]=$.useState(0),[c,d]=$.useState([]),[f,p]=$.useState(!1),[y,k]=$.useState([]),[x,T]=$.useState(!1),[O,D]=$.useState(!1),h=O?s.keywords:s.keywords.slice(0,18),E=zs();$.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);const g=()=>{if(u===0&&!c){i(j=>ce(P({},j),{template:!0})),oe.error("Please select a template before proceeding.");return}i(j=>ce(P({},j),{template:!1})),l(1)},w=()=>l(0),N=()=>e(),S=$.useCallback(j=>{d(j),a(X=>{var M;return ce(P({},X),{template:((M=j==null?void 0:j[0])==null?void 0:M.name)||""})}),i(X=>ce(P({},X),{template:!1}))},[]),C=(j,X)=>{a(M=>ce(P({},M),{[X]:j.target.value})),i(M=>ce(P({},M),{[X]:!1}))},R=j=>{a(X=>ce(P({},X),{tone:j})),i(X=>ce(P({},X),{tone:!1}))},U=(j,X)=>{const M=X==="keywords"?"keywordInput":"focusKeywordInput";a(pe=>ce(P({},pe),{[M]:j.target.value})),i(pe=>ce(P({},pe),{[X]:!1}))},H=j=>{const X=j==="keywords"?"keywordInput":"focusKeywordInput",M=s[X].trim();if(!M){i(de=>ce(P({},de),{[j]:!0})),oe.error("Please enter a keyword.");return}const pe=new Set(s[j].map(de=>de.trim().toLowerCase())),ye=M.split(",").map(de=>de.trim()).filter(de=>de&&!pe.has(de.toLowerCase()));if(ye.length===0){i(de=>ce(P({},de),{[j]:!0})),oe.error("Please enter valid, non-duplicate keywords separated by commas.");return}if(j==="focusKeywords"&&s[j].length+ye.length>3){i(de=>ce(P({},de),{[j]:!0})),oe.error("You can only add up to 3 focus keywords.");return}a(de=>ce(P({},de),{[j]:[...de[j],...ye],[X]:""})),i(de=>ce(P({},de),{[j]:!1}))},F=(j,X)=>{const M=[...s[X]];M.splice(j,1),a(ce(P({},s),{[X]:M}))},B=(j,X)=>{j.key==="Enter"&&(j.preventDefault(),H(X))},v=()=>ot(null,null,function*(){if(!s.topic.trim()){i(j=>ce(P({},j),{topic:!0})),oe.error("Please enter a topic before generating titles.");return}if(s.focusKeywords.length<1&&s.keywords.length<1){i(j=>ce(P({},j),{focusKeywords:!0,keywords:!0})),oe.error("Please add at least one focus keyword or secondary keyword.");return}p(!0);try{const j=yield E(Sy(P({keywords:s.focusKeywords,focusKeywords:s.keywords,topic:s.topic,template:c},x&&{oldTitles:y}))).unwrap();k(j),T(!0),oe.success("Titles generated successfully!")}catch(j){console.error("Failed to generate titles:",j),oe.error((j==null?void 0:j.message)||"Failed to generate titles. Please try again.")}finally{p(!1)}});return $.useEffect(()=>{T(!1),k([])},[]),b.jsx(Xn,{title:u===0?"Select Template":"Create Simple Blog",open:t,onCancel:N,footer:u===0?[b.jsx("button",{onClick:g,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90","aria-label":"Proceed to next step",children:"Next"},"next")]:[b.jsx("button",{onClick:w,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300","aria-label":"Go to previous step",children:"Previous"},"previous"),b.jsx("button",{onClick:n,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3","aria-label":"Submit blog",children:"Submit"},"submit")],width:800,centered:!0,children:b.jsxs("div",{className:"p-2",children:[u===0&&b.jsxs("div",{className:"p-3",children:[b.jsx(Hy,{userSubscriptionPlan:((V=o==null?void 0:o.subscription)==null?void 0:V.plan)||"free",preSelectedIds:c==null?void 0:c.map(j=>(j==null?void 0:j.id)||""),onClick:S}),r.template&&b.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Please select a template."})]}),u===1&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Topic ",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsx(Gt,{value:s.topic,onChange:j=>C(j,"topic"),placeholder:"Enter blog topic...",className:`w-full px-3 py-2 border ${r.topic?"border-red-500":"border-gray-200"} rounded-md text-sm focus:ring-2 focus:ring-blue-600`,"aria-label":"Blog topic"}),r.topic&&b.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Topic cannot be empty."})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tone ",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsxs(or,{value:s.tone,onChange:R,className:`w-full ${r.tone?"border-red-500":""}`,"aria-label":"Blog tone",children:[b.jsx(or.Option,{value:"Informative",children:"Informative"}),b.jsx(or.Option,{value:"Casual",children:"Casual"}),b.jsx(or.Option,{value:"Professional",children:"Professional"}),b.jsx(or.Option,{value:"Persuasive",children:"Persuasive"}),b.jsx(or.Option,{value:"Humorous",children:"Humorous"})]}),r.tone&&b.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Tone cannot be empty."})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Focus Keywords (max 3) ",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(Gt,{value:s.focusKeywordInput,onChange:j=>U(j,"focusKeywords"),onKeyDown:j=>B(j,"focusKeywords"),placeholder:"Enter focus keywords, separated by commas",className:`flex-1 px-3 py-2 border ${r.focusKeywords?"border-red-500":"border-gray-200"} rounded-md text-sm focus:ring-2 focus:ring-blue-600`,"aria-label":"Focus keywords"}),b.jsx("button",{onClick:()=>H("focusKeywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center","aria-label":"Add focus keyword",children:b.jsx(Da,{size:16})})]}),b.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.focusKeywords.map((j,X)=>b.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[j,b.jsx("button",{onClick:()=>F(X,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove focus keyword ${j}`,children:b.jsx(qr,{size:16})})]},X))})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Keywords ",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(Gt,{value:s.keywordInput,onChange:j=>U(j,"keywords"),onKeyDown:j=>B(j,"keywords"),placeholder:"Enter secondary keywords, separated by commas",className:`flex-1 px-3 py-2 border ${r.keywords?"border-red-500":"border-gray-200"} rounded-md text-sm focus:ring-2 focus:ring-blue-600`,"aria-label":"Secondary keywords"}),b.jsx("button",{onClick:()=>H("keywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center","aria-label":"Add keyword",children:b.jsx(Da,{size:16})})]}),b.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[h.map((j,X)=>b.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[j,b.jsx("button",{onClick:()=>F(X,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove keyword ${j}`,children:b.jsx(qr,{size:16})})]},`${j}-${X}`)),s.keywords.length>18&&b.jsx("span",{onClick:()=>D(j=>!j),className:"text-xs font-medium text-blue-600 self-center cursor-pointer flex items-center gap-1",children:O?b.jsx(b.Fragment,{children:"Show less"}):b.jsxs(b.Fragment,{children:["+",s.keywords.length-18," more"]})})]})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx(Gt,{value:s.title,onChange:j=>C(j,"title"),placeholder:"Enter blog title...",className:`w-full px-3 flex-1 py-2 border ${r.title?"border-red-500":"border-gray-200"} rounded-md text-sm focus:ring-2 focus:ring-blue-600`,"aria-label":"Blog title"}),b.jsx("button",{onClick:v,disabled:f,className:`px-4 py-2 bg-gradient-to-r from-[#1B6FC9] to-[#4C9FE8] text-white rounded-lg flex items-center ${f?"opacity-50 cursor-not-allowed":"hover:from-[#1B6FC9]/90 hover:to-[#4C9FE8]/90"}`,children:f?b.jsx(Cy,{size:"small text-white"}):x?b.jsxs(b.Fragment,{children:[b.jsx(zy,{size:16,className:"mr-2"}),"Generate More"]}):b.jsxs(b.Fragment,{children:[b.jsx(yl,{size:16,className:"mr-2"}),"Generate Titles"]})})]}),y.length>0&&b.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:y.map((j,X)=>{const M=j===s.title;return b.jsx("div",{className:"relative group",children:b.jsx("button",{type:"button",onClick:()=>{a(pe=>ce(P({},pe),{title:j})),i(pe=>ce(P({},pe),{title:!1}))},className:`px-3 py-1 rounded-full text-sm border transition truncate max-w-[200px] sm:max-w-[300px] ${M?"bg-[#1B6FC9] text-white border-[#1B6FC9]":"bg-gray-100 text-gray-700 border-gray-300 opacity-60 hover:opacity-100 hover:bg-gray-200"}`,"aria-label":`Select title: ${j}`,children:j})},X)})})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Choose length of Blog ",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsx("input",{type:"range",min:"500",max:"5000",value:(G=s.userDefinedLength)!=null?G:1e3,onChange:j=>C(j,"userDefinedLength"),placeholder:"Enter desired word count...",className:"w-full h-1 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${(((ie=s==null?void 0:s.userDefinedLength)!=null?ie:1e3)-500)/45}%, #e5e7eb 0%)`},"aria-label":"Desired word count"}),b.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[(_=s==null?void 0:s.userDefinedLength)!=null?_:1e3," words"]})]})]})]})})};function Gc(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var ni=Gc();function kg(e){ni=e}var ms={exec:()=>null};function Pe(e,t=""){let n=typeof e=="string"?e:e.source;const r={replace:(i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(zt.caret,"$1"),n=n.replace(i,a),r},getRegex:()=>new RegExp(n,t)};return r}var zt={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},MA=/^(?:[ \t]*(?:\n|$))+/,RA=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,LA=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ys=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,DA=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Qc=/(?:[*+-]|\d{1,9}[.)])/,Tg=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,xg=Pe(Tg).replace(/bull/g,Qc).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),PA=Pe(Tg).replace(/bull/g,Qc).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Xc=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,BA=/^[^\n]+/,Jc=/(?!\s*\])(?:\\.|[^\[\]\\])+/,FA=Pe(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Jc).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),jA=Pe(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Qc).getRegex(),Go="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Zc=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,HA=Pe("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Zc).replace("tag",Go).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),wg=Pe(Xc).replace("hr",Ys).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Go).getRegex(),zA=Pe(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",wg).getRegex(),ed={blockquote:zA,code:RA,def:FA,fences:LA,heading:DA,hr:Ys,html:HA,lheading:xg,list:jA,newline:MA,paragraph:wg,table:ms,text:BA},Ch=Pe("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ys).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Go).getRegex(),UA=ce(P({},ed),{lheading:PA,table:Ch,paragraph:Pe(Xc).replace("hr",Ys).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ch).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Go).getRegex()}),$A=ce(P({},ed),{html:Pe(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Zc).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ms,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Pe(Xc).replace("hr",Ys).replace("heading",` *#{1,6} *[^
]`).replace("lheading",xg).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),VA=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,qA=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Cg=/^( {2,}|\\)\n(?!\s*$)/,WA=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Qo=/[\p{P}\p{S}]/u,td=/[\s\p{P}\p{S}]/u,Sg=/[^\s\p{P}\p{S}]/u,KA=Pe(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,td).getRegex(),_g=/(?!~)[\p{P}\p{S}]/u,YA=/(?!~)[\s\p{P}\p{S}]/u,GA=/(?:[^\s\p{P}\p{S}]|~)/u,QA=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Ag=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,XA=Pe(Ag,"u").replace(/punct/g,Qo).getRegex(),JA=Pe(Ag,"u").replace(/punct/g,_g).getRegex(),Ng="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",ZA=Pe(Ng,"gu").replace(/notPunctSpace/g,Sg).replace(/punctSpace/g,td).replace(/punct/g,Qo).getRegex(),eN=Pe(Ng,"gu").replace(/notPunctSpace/g,GA).replace(/punctSpace/g,YA).replace(/punct/g,_g).getRegex(),tN=Pe("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Sg).replace(/punctSpace/g,td).replace(/punct/g,Qo).getRegex(),nN=Pe(/\\(punct)/,"gu").replace(/punct/g,Qo).getRegex(),rN=Pe(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),iN=Pe(Zc).replace("(?:-->|$)","-->").getRegex(),sN=Pe("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",iN).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ua=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,aN=Pe(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Ua).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),vg=Pe(/^!?\[(label)\]\[(ref)\]/).replace("label",Ua).replace("ref",Jc).getRegex(),Ig=Pe(/^!?\[(ref)\](?:\[\])?/).replace("ref",Jc).getRegex(),oN=Pe("reflink|nolink(?!\\()","g").replace("reflink",vg).replace("nolink",Ig).getRegex(),nd={_backpedal:ms,anyPunctuation:nN,autolink:rN,blockSkip:QA,br:Cg,code:qA,del:ms,emStrongLDelim:XA,emStrongRDelimAst:ZA,emStrongRDelimUnd:tN,escape:VA,link:aN,nolink:Ig,punctuation:KA,reflink:vg,reflinkSearch:oN,tag:sN,text:WA,url:ms},uN=ce(P({},nd),{link:Pe(/^!?\[(label)\]\((.*?)\)/).replace("label",Ua).getRegex(),reflink:Pe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ua).getRegex()}),Ul=ce(P({},nd),{emStrongRDelimAst:eN,emStrongLDelim:JA,url:Pe(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),lN=ce(P({},Ul),{br:Pe(Cg).replace("{2,}","*").getRegex(),text:Pe(Ul.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),oa={normal:ed,gfm:UA,pedantic:$A},Gi={normal:nd,gfm:Ul,breaks:lN,pedantic:uN},cN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Sh=e=>cN[e];function vn(e,t){if(t){if(zt.escapeTest.test(e))return e.replace(zt.escapeReplace,Sh)}else if(zt.escapeTestNoEncode.test(e))return e.replace(zt.escapeReplaceNoEncode,Sh);return e}function _h(e){try{e=encodeURI(e).replace(zt.percentDecode,"%")}catch(t){return null}return e}function Ah(e,t){var s;const n=e.replace(zt.findPipe,(a,o,u)=>{let l=!1,c=o;for(;--c>=0&&u[c]==="\\";)l=!l;return l?"|":" |"}),r=n.split(zt.splitPipe);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!((s=r.at(-1))!=null&&s.trim())&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(zt.slashPipe,"|");return r}function Qi(e,t,n){const r=e.length;if(r===0)return"";let i=0;for(;i<r&&e.charAt(r-i-1)===t;)i++;return e.slice(0,r-i)}function dN(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}function Nh(e,t,n,r,i){const s=t.href,a=t.title||null,o=e[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;const u={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:a,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,u}function fN(e,t,n){const r=e.match(n.other.indentCodeCompensation);if(r===null)return t;const i=r[1];return t.split(`
`).map(s=>{const a=s.match(n.other.beginningSpace);if(a===null)return s;const[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}var $a=class{constructor(e){je(this,"options");je(this,"rules");je(this,"lexer");this.options=e||ni}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Qi(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],r=fN(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const r=Qi(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Qi(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=Qi(t[0],`
`).split(`
`),r="",i="";const s=[];for(;n.length>0;){let a=!1;const o=[];let u;for(u=0;u<n.length;u++)if(this.rules.other.blockquoteStart.test(n[u]))o.push(n[u]),a=!0;else if(!a)o.push(n[u]);else break;n=n.slice(u);const l=o.join(`
`),c=l.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${l}`:l,i=i?`${i}
${c}`:c;const d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,s,!0),this.lexer.state.top=d,n.length===0)break;const f=s.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){const p=f,y=p.raw+`
`+n.join(`
`),k=this.blockquote(y);s[s.length-1]=k,r=r.substring(0,r.length-p.raw.length)+k.raw,i=i.substring(0,i.length-p.text.length)+k.text;break}else if((f==null?void 0:f.type)==="list"){const p=f,y=p.raw+`
`+n.join(`
`),k=this.list(y);s[s.length-1]=k,r=r.substring(0,r.length-f.raw.length)+k.raw,i=i.substring(0,i.length-p.raw.length)+k.raw,n=y.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:s,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const s=this.rules.other.listItemRegex(n);let a=!1;for(;e;){let u=!1,l="",c="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;l=t[0],e=e.substring(l.length);let d=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,T=>" ".repeat(3*T.length)),f=e.split(`
`,1)[0],p=!d.trim(),y=0;if(this.options.pedantic?(y=2,c=d.trimStart()):p?y=t[1].length+1:(y=t[2].search(this.rules.other.nonSpaceChar),y=y>4?1:y,c=d.slice(y),y+=t[1].length),p&&this.rules.other.blankLine.test(f)&&(l+=f+`
`,e=e.substring(f.length+1),u=!0),!u){const T=this.rules.other.nextBulletRegex(y),O=this.rules.other.hrRegex(y),D=this.rules.other.fencesBeginRegex(y),h=this.rules.other.headingBeginRegex(y),E=this.rules.other.htmlBeginRegex(y);for(;e;){const g=e.split(`
`,1)[0];let w;if(f=g,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),w=f):w=f.replace(this.rules.other.tabCharGlobal,"    "),D.test(f)||h.test(f)||E.test(f)||T.test(f)||O.test(f))break;if(w.search(this.rules.other.nonSpaceChar)>=y||!f.trim())c+=`
`+w.slice(y);else{if(p||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||D.test(d)||h.test(d)||O.test(d))break;c+=`
`+f}!p&&!f.trim()&&(p=!0),l+=g+`
`,e=e.substring(g.length+1),d=w.slice(y)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(l)&&(a=!0));let k=null,x;this.options.gfm&&(k=this.rules.other.listIsTask.exec(c),k&&(x=k[0]!=="[ ] ",c=c.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:l,task:!!k,checked:x,loose:!1,text:c,tokens:[]}),i.raw+=l}const o=i.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let u=0;u<i.items.length;u++)if(this.lexer.state.top=!1,i.items[u].tokens=this.lexer.blockTokens(i.items[u].text,[]),!i.loose){const l=i.items[u].tokens.filter(d=>d.type==="space"),c=l.length>0&&l.some(d=>this.rules.other.anyLine.test(d.raw));i.loose=c}if(i.loose)for(let u=0;u<i.items.length;u++)i.items[u].loose=!0;return i}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:i}}}table(e){var a;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const n=Ah(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(a=t[3])!=null&&a.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const o of r)this.rules.other.tableAlignRight.test(o)?s.align.push("right"):this.rules.other.tableAlignCenter.test(o)?s.align.push("center"):this.rules.other.tableAlignLeft.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<n.length;o++)s.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:s.align[o]});for(const o of i)s.rows.push(Ah(o,s.header.length).map((u,l)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:s.align[l]})));return s}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const s=Qi(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{const s=dN(t[2],"()");if(s===-2)return;if(s>-1){const o=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,o).trim(),t[3]=""}}let r=t[2],i="";if(this.options.pedantic){const s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),Nh(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=t[r.toLowerCase()];if(!i){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return Nh(n,i,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const s=[...r[0]].length-1;let a,o,u=s,l=0;const c=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+s);(r=c.exec(t))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(o=[...a].length,r[3]||r[4]){u+=o;continue}else if((r[5]||r[6])&&s%3&&!((s+o)%3)){l+=o;continue}if(u-=o,u>0)continue;o=Math.min(o,o+u+l);const d=[...r[0]][0].length,f=e.slice(0,s+r.index+d+o);if(Math.min(s,o)%2){const y=f.slice(1,-1);return{type:"em",raw:f,text:y,tokens:this.lexer.inlineTokens(y)}}const p=f.slice(2,-2);return{type:"strong",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n,r;let t;if(t=this.rules.inline.url.exec(e)){let i,s;if(t[2]==="@")i=t[0],s="mailto:"+i;else{let a;do a=t[0],t[0]=(r=(n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])!=null?r:"";while(a!==t[0]);i=t[0],t[1]==="www."?s="http://"+t[0]:s=t[0]}return{type:"link",raw:t[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},Wn=class $l{constructor(t){je(this,"tokens");je(this,"options");je(this,"state");je(this,"tokenizer");je(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||ni,this.options.tokenizer=this.options.tokenizer||new $a,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:zt,block:oa.normal,inline:Gi.normal};this.options.pedantic?(n.block=oa.pedantic,n.inline=Gi.pedantic):this.options.gfm&&(n.block=oa.gfm,this.options.breaks?n.inline=Gi.breaks:n.inline=Gi.gfm),this.tokenizer.rules=n}static get rules(){return{block:oa,inline:Gi}}static lex(t,n){return new $l(n).lex(t)}static lexInline(t,n){return new $l(n).inlineTokens(t)}lex(t){t=t.replace(zt.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){var i,s,a;for(this.options.pedantic&&(t=t.replace(zt.tabCharGlobal,"    ").replace(zt.spaceLine,""));t;){let o;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(l=>(o=l.call({lexer:this},t,n))?(t=t.substring(o.raw.length),n.push(o),!0):!1))continue;if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length);const l=n.at(-1);o.raw.length===1&&l!==void 0?l.raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length);const l=n.at(-1);(l==null?void 0:l.type)==="paragraph"||(l==null?void 0:l.type)==="text"?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue.at(-1).src=l.text):n.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length);const l=n.at(-1);(l==null?void 0:l.type)==="paragraph"||(l==null?void 0:l.type)==="text"?(l.raw+=`
`+o.raw,l.text+=`
`+o.raw,this.inlineQueue.at(-1).src=l.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),n.push(o);continue}let u=t;if((a=this.options.extensions)!=null&&a.startBlock){let l=1/0;const c=t.slice(1);let d;this.options.extensions.startBlock.forEach(f=>{d=f.call({lexer:this},c),typeof d=="number"&&d>=0&&(l=Math.min(l,d))}),l<1/0&&l>=0&&(u=t.substring(0,l+1))}if(this.state.top&&(o=this.tokenizer.paragraph(u))){const l=n.at(-1);r&&(l==null?void 0:l.type)==="paragraph"?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):n.push(o),r=u.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length);const l=n.at(-1);(l==null?void 0:l.type)==="text"?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):n.push(o);continue}if(t){const l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){var o,u,l;let r=t,i=null;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)c.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,a="";for(;t;){s||(a=""),s=!1;let c;if((u=(o=this.options.extensions)==null?void 0:o.inline)!=null&&u.some(f=>(c=f.call({lexer:this},t,n))?(t=t.substring(c.raw.length),n.push(c),!0):!1))continue;if(c=this.tokenizer.escape(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.tag(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.link(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(c.raw.length);const f=n.at(-1);c.type==="text"&&(f==null?void 0:f.type)==="text"?(f.raw+=c.raw,f.text+=c.text):n.push(c);continue}if(c=this.tokenizer.emStrong(t,r,a)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.codespan(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.br(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.del(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.autolink(t)){t=t.substring(c.raw.length),n.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(t))){t=t.substring(c.raw.length),n.push(c);continue}let d=t;if((l=this.options.extensions)!=null&&l.startInline){let f=1/0;const p=t.slice(1);let y;this.options.extensions.startInline.forEach(k=>{y=k.call({lexer:this},p),typeof y=="number"&&y>=0&&(f=Math.min(f,y))}),f<1/0&&f>=0&&(d=t.substring(0,f+1))}if(c=this.tokenizer.inlineText(d)){t=t.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(a=c.raw.slice(-1)),s=!0;const f=n.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=c.raw,f.text+=c.text):n.push(c);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return n}},Va=class{constructor(e){je(this,"options");je(this,"parser");this.options=e||ni}space(e){return""}code({text:e,lang:t,escaped:n}){var s;const r=(s=(t||"").match(zt.notSpaceStart))==null?void 0:s[0],i=e.replace(zt.endingNewline,"")+`
`;return r?'<pre><code class="language-'+vn(r)+'">'+(n?i:vn(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:vn(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let r="";for(let a=0;a<e.items.length;a++){const o=e.items[a];r+=this.listitem(o)}const i=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+r+"</"+i+`>
`}listitem(e){var n;let t="";if(e.task){const r=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+vn(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r="";for(let i=0;i<e.rows.length;i++){const s=e.rows[i];n="";for(let a=0;a<s.length;a++)n+=this.tablecell(s[a]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${vn(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const r=this.parser.parseInline(n),i=_h(e);if(i===null)return r;e=i;let s='<a href="'+e+'"';return t&&(s+=' title="'+vn(t)+'"'),s+=">"+r+"</a>",s}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));const i=_h(e);if(i===null)return vn(n);e=i;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${vn(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:vn(e.text)}},rd=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Kn=class Vl{constructor(t){je(this,"options");je(this,"renderer");je(this,"textRenderer");this.options=t||ni,this.options.renderer=this.options.renderer||new Va,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new rd}static parse(t,n){return new Vl(n).parse(t)}static parseInline(t,n){return new Vl(n).parseInline(t)}parse(t,n=!0){var i,s;let r="";for(let a=0;a<t.length;a++){const o=t[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){const l=o,c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){r+=c||"";continue}}const u=o;switch(u.type){case"space":{r+=this.renderer.space(u);continue}case"hr":{r+=this.renderer.hr(u);continue}case"heading":{r+=this.renderer.heading(u);continue}case"code":{r+=this.renderer.code(u);continue}case"table":{r+=this.renderer.table(u);continue}case"blockquote":{r+=this.renderer.blockquote(u);continue}case"list":{r+=this.renderer.list(u);continue}case"html":{r+=this.renderer.html(u);continue}case"paragraph":{r+=this.renderer.paragraph(u);continue}case"text":{let l=u,c=this.renderer.text(l);for(;a+1<t.length&&t[a+1].type==="text";)l=t[++a],c+=`
`+this.renderer.text(l);n?r+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c,escaped:!0}]}):r+=c;continue}default:{const l='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}parseInline(t,n=this.renderer){var i,s;let r="";for(let a=0;a<t.length;a++){const o=t[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){const l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=l||"";continue}}const u=o;switch(u.type){case"escape":{r+=n.text(u);break}case"html":{r+=n.html(u);break}case"link":{r+=n.link(u);break}case"image":{r+=n.image(u);break}case"strong":{r+=n.strong(u);break}case"em":{r+=n.em(u);break}case"codespan":{r+=n.codespan(u);break}case"br":{r+=n.br(u);break}case"del":{r+=n.del(u);break}case"text":{r+=n.text(u);break}default:{const l='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}},bl,_a=(bl=class{constructor(e){je(this,"options");je(this,"block");this.options=e||ni}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Wn.lex:Wn.lexInline}provideParser(){return this.block?Kn.parse:Kn.parseInline}},je(bl,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),bl),hN=class{constructor(...e){je(this,"defaults",Gc());je(this,"options",this.setOptions);je(this,"parse",this.parseMarkdown(!0));je(this,"parseInline",this.parseMarkdown(!1));je(this,"Parser",Kn);je(this,"Renderer",Va);je(this,"TextRenderer",rd);je(this,"Lexer",Wn);je(this,"Tokenizer",$a);je(this,"Hooks",_a);this.use(...e)}walkTokens(e,t){var r,i;let n=[];for(const s of e)switch(n=n.concat(t.call(this,s)),s.type){case"table":{const a=s;for(const o of a.header)n=n.concat(this.walkTokens(o.tokens,t));for(const o of a.rows)for(const u of o)n=n.concat(this.walkTokens(u.tokens,t));break}case"list":{const a=s;n=n.concat(this.walkTokens(a.items,t));break}default:{const a=s;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[a.type]?this.defaults.extensions.childTokens[a.type].forEach(o=>{const u=a[o].flat(1/0);n=n.concat(this.walkTokens(u,t))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const r=P({},n);if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=t.renderers[i.name];s?t.renderers[i.name]=function(...a){let o=i.renderer.apply(this,a);return o===!1&&(o=s.apply(this,a)),o}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=t[i.level];s?s.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){const i=this.defaults.renderer||new Va(this.defaults);for(const s in n.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const a=s,o=n.renderer[a],u=i[a];i[a]=(...l)=>{let c=o.apply(i,l);return c===!1&&(c=u.apply(i,l)),c||""}}r.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new $a(this.defaults);for(const s in n.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const a=s,o=n.tokenizer[a],u=i[a];i[a]=(...l)=>{let c=o.apply(i,l);return c===!1&&(c=u.apply(i,l)),c}}r.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new _a;for(const s in n.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;const a=s,o=n.hooks[a],u=i[a];_a.passThroughHooks.has(s)?i[a]=l=>{if(this.defaults.async)return Promise.resolve(o.call(i,l)).then(d=>u.call(i,d));const c=o.call(i,l);return u.call(i,c)}:i[a]=(...l)=>{let c=o.apply(i,l);return c===!1&&(c=u.apply(i,l)),c}}r.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(a){let o=[];return o.push(s.call(this,a)),i&&(o=o.concat(i.call(this,a))),o}}this.defaults=P(P({},this.defaults),r)}),this}setOptions(e){return this.defaults=P(P({},this.defaults),e),this}lexer(e,t){return Wn.lex(e,t!=null?t:this.defaults)}parser(e,t){return Kn.parse(e,t!=null?t:this.defaults)}parseMarkdown(e){return(n,r)=>{const i=P({},r),s=P(P({},this.defaults),i),a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n=="undefined"||n===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=e);const o=s.hooks?s.hooks.provideLexer():e?Wn.lex:Wn.lexInline,u=s.hooks?s.hooks.provideParser():e?Kn.parse:Kn.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then(l=>o(l,s)).then(l=>s.hooks?s.hooks.processAllTokens(l):l).then(l=>s.walkTokens?Promise.all(this.walkTokens(l,s.walkTokens)).then(()=>l):l).then(l=>u(l,s)).then(l=>s.hooks?s.hooks.postprocess(l):l).catch(a);try{s.hooks&&(n=s.hooks.preprocess(n));let l=o(n,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let c=u(l,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(l){return a(l)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+vn(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}},Kr=new hN;function De(e,t){return Kr.parse(e,t)}De.options=De.setOptions=function(e){return Kr.setOptions(e),De.defaults=Kr.defaults,kg(De.defaults),De};De.getDefaults=Gc;De.defaults=ni;De.use=function(...e){return Kr.use(...e),De.defaults=Kr.defaults,kg(De.defaults),De};De.walkTokens=function(e,t){return Kr.walkTokens(e,t)};De.parseInline=Kr.parseInline;De.Parser=Kn;De.parser=Kn.parse;De.Renderer=Va;De.TextRenderer=rd;De.Lexer=Wn;De.lexer=Wn.lex;De.Tokenizer=$a;De.Hooks=_a;De.parse=De;De.options;De.setOptions;De.use;De.walkTokens;De.parseInline;Kn.parse;Wn.lex;const Pu=({title:e,description:t,isPro:n,isLoading:r,onClick:i,buttonText:s,icon:a,children:o})=>b.jsxs(Ke.div,{whileHover:{scale:1.02,transition:{duration:.2}},className:"bg-white rounded-lg shadow-sm border hover:shadow-xl border-gray-200 p-4",children:[b.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[b.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:b.jsx(a,{className:"w-4 h-4 text-blue-600"})}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-1",children:[b.jsx("h3",{className:"font-semibold text-gray-900",children:e}),n&&b.jsx(El,{className:"text-2xl ml-auto mr-2"})]}),b.jsx("p",{className:"text-sm text-gray-600",children:t})]})]}),o,b.jsx(pt,{onClick:i,loading:r,disabled:r,type:"primary",className:"w-full py-2 text-sm px-4 rounded-lg font-medium transition-all duration-200 bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:shadow-lg",ghost:n,children:r?"Processing...":s})]}),vh=({title:e,score:t,icon:n})=>{const r=i=>i>=80?"bg-green-100 text-green-700 border-green-200":i>=60?"bg-yellow-100 text-yellow-700 border-yellow-200":"bg-red-100 text-red-700 border-red-200";return b.jsxs("div",{className:`p-3 rounded-lg border ${r(t||0)}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(n,{className:"w-4 h-4"}),b.jsx("span",{className:"text-sm font-medium",children:e})]}),t>0&&b.jsxs("span",{className:"text-lg font-bold",children:[t,b.jsx("span",{className:"text-xs ml-1",children:"/100"})]})]}),(t||0)===0?b.jsx("p",{className:"text-xs text-gray-500 text-center p-2 bg-gray-50 rounded-lg",children:"Run Competitive Analysis to get score"}):b.jsx("div",{className:"w-full bg-white/50 rounded-full h-2",children:b.jsx("div",{style:{width:`${t}%`,transition:"width 0.5s ease"},className:`h-2 rounded-full ${t>=80?"bg-green-500":t>=60?"bg-yellow-500":"bg-red-500"}`})})]})},pN=({competitors:e})=>{const[t,n]=$.useState(!1),r=t?e:e==null?void 0:e.slice(0,5);return b.jsxs("div",{className:"space-y-2 relative",children:[(e==null?void 0:e.length)>5&&b.jsx("span",{className:"absolute top-0 right-0 text-[10px] bg-blue-100 text-blue-600 px-2 py-0.5 rounded-full",children:e.length}),r==null?void 0:r.map((i,s)=>b.jsxs(Ke.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:s*.05},className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[b.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:b.jsx("span",{className:"text-xs font-medium text-blue-600",children:s+1})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-sm font-medium mb-1 text-gray-900 truncate",children:i.title}),b.jsxs("a",{href:i.link||i.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[i.score&&b.jsxs(Em,{color:"blue",children:[(i.score*100).toFixed(2),"%"]}),"Visit ",b.jsx(ss,{className:"w-3 h-3"})]})]})]},s)),(e==null?void 0:e.length)>5&&!t&&b.jsxs("button",{onClick:()=>n(!0),className:"text-xs text-blue-600 hover:text-blue-700 text-center w-full",children:["+",e.length-5," more competitors"]})]})},mN=({insights:e})=>{const[t,n]=$.useState(!1),[r,i]=$.useState(new Set),s=Object.entries(e||{}),a=t?s:s.slice(0,3),o=u=>{const l=new Set(r);l.has(u)?l.delete(u):l.add(u),i(l)};return b.jsxs("div",{className:"space-y-3",children:[a.map(([u,l],c)=>{const d=r.has(c),f=typeof l=="object"?"Multiple insights available":l==null?void 0:l.toString(),p=(f==null?void 0:f.length)>120&&!d,y=p?f.slice(0,120)+"...":f,k=l.match(/\((\d+\/\d+)\)$/),x=k?k[1]:null;return b.jsx(Ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:c*.05},className:"p-3 bg-blue-50 rounded-lg border border-blue-100",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx(xa,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("p",{className:"font-medium text-blue-900 text-sm mb-1",children:u.replace(/([A-Z])/g," $1").trim()}),b.jsx("p",{children:x&&b.jsx(Em,{color:"blue",children:x.replace("/"," / ")})})]}),b.jsxs("p",{className:"text-xs text-blue-700 leading-relaxed cursor-pointer select-none",onClick:()=>o(c),children:[y,p&&b.jsx("span",{className:"text-blue-500 ml-1",children:"(more)"})]})]})]})},u)}),s.length>5&&b.jsx("button",{onClick:()=>n(!t),className:"text-xs text-blue-600 hover:text-blue-700 text-center w-full",children:t?"Show less":`+${s.length-5} more insights`})]})},gN=({suggestion:e,index:t,onApply:n})=>b.jsx(Ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:t*.05},className:"border border-gray-200 rounded-lg p-3 bg-white hover:shadow-sm transition-shadow",children:b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Vy,{className:"w-4 h-4 text-orange-500"}),b.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Original"})]}),b.jsx("div",{className:"p-2 bg-red-50 border border-red-100 rounded text-xs text-gray-700 leading-relaxed",children:e.original})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(qy,{className:"w-4 h-4 text-green-500"}),b.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Suggested"})]}),b.jsx("div",{className:"p-2 bg-green-50 border border-red-100 rounded text-xs text-gray-700 leading-relaxed",children:e.change})]}),b.jsx(pt,{size:"small",type:"primary",ghost:!0,onClick:()=>{n(t)},className:"w-full",children:"Apply This Change"})]})}),bN=({features:e})=>b.jsxs(Ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-3",children:[b.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Here are the content enhancement features currently applied to your blog:"}),b.jsx("div",{className:"grid grid-cols-1 gap-3",children:Object.entries(e||{}).length>0?Object.entries(e).map(([t,n])=>{const r=!!n;return b.jsxs(Ke.div,{whileHover:{backgroundColor:"#f8fafc"},className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100 transition-colors duration-150",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-green-500":"bg-gray-400"}`}),b.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:t.replace(/([A-Z])/g," $1").trim()})]}),b.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${r?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:r?"Enabled":"Disabled"})]},t)}):b.jsxs("div",{className:"text-center py-6",children:[b.jsx(wm,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),b.jsx("p",{className:"text-sm text-gray-500",children:"No enhancement features configured"})]})})]}),yN=["Blogging","Technology","Lifestyle","Travel","Food & Drink","Health & Wellness","Fashion","Business","Education","Entertainment","Photography","Fitness","Marketing","Finance","DIY & Crafts"],EN=({isCategoryModalOpen:e,setIsCategoryModalOpen:t,onSubmit:n,initialIncludeTableOfContents:r=!1,integrations:i,blogData:s,posted:a})=>{var F;const[o,u]=$.useState(""),[l,c]=$.useState(""),[d,f]=$.useState(r),[p,y]=$.useState(!1),{categories:k,error:x}=Tn(B=>B.wordpress),[T,O]=$.useState(null),[D,h]=$.useState(!1),E=!!((F=a==null?void 0:a.SHOPIFY)!=null&&F.link),g=zs();$.useEffect(()=>{T!=null&&T.platform&&g(_y(T.platform.toUpperCase())).unwrap()},[g,T==null?void 0:T.platform]);const w=(B,v)=>{O({platform:B.toLowerCase(),rawPlatform:B,url:v}),h(B==="SHOPIFY"?!!E:!1)},N=$.useCallback(B=>{l||(c(B),y(!1))},[l]),S=$.useCallback(()=>{c(""),y(!1)},[]);$.useCallback(()=>{if(o.trim()){if(l===o.trim()){oe.error("Category already selected.");return}c(o.trim()),u(""),y(!1)}},[o,l]);const C=$.useCallback(B=>{f(B.target.checked)},[]),R=$.useCallback(()=>{if(!l){y(!0),oe.error("Please select a category.");return}n({category:l,includeTableOfContents:d,type:{platform:T==null?void 0:T.rawPlatform,url:T==null?void 0:T.url}}),t(!1),c(""),f(!1),u(""),y(!1)},[l,d,T,n,t]),U=$.useCallback(()=>{t(!1),c(""),f(!1),u(""),y(!1)},[t]),H=$.useCallback(B=>{if(B.length>1){oe.error("Only one category can be selected.");return}const v=B.length>0?B[0]:"";c(v),y(!1)},[]);return $.useEffect(()=>{if(!e)return;const B=a==null?void 0:a.SHOPIFY;if(B!=null&&B.link){h(!0),c((s==null?void 0:s.category)||""),O({platform:"shopify",rawPlatform:"SHOPIFY",url:(B==null?void 0:B.url)||""});return}if(B&&!B.link){h(!1),O({platform:"shopify",rawPlatform:"SHOPIFY",url:(B==null?void 0:B.url)||""});return}const v=Object.entries(a||{}).find(([V,G])=>V!=="SHOPIFY"&&(G==null?void 0:G.link));if(v){const[V,G]=v;h(!1),O({platform:V.toLowerCase(),rawPlatform:V,url:(G==null?void 0:G.url)||""});return}h(!1),c(""),O(null)},[e,a,s]),b.jsx(Xn,{title:"Select Category",open:e,onCancel:U,footer:b.jsxs("div",{className:"flex justify-end gap-3",children:[b.jsx(pt,{onClick:U,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-200 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-label":"Cancel category selection",children:"Cancel"}),b.jsx(pt,{type:"primary",onClick:R,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-label":"Confirm category selection",children:"Confirm"})]}),centered:!0,width:600,children:b.jsxs("div",{className:"p-3 space-y-4",children:[(i==null?void 0:i.integrations)&&Object.keys(i.integrations).length>0&&b.jsxs("div",{children:[b.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Select Your Publishing Platform",b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Post your blog automatically to connected platforms only."})]}),b.jsx(or,{className:"w-full mt-2",placeholder:"Select platform",value:(T==null?void 0:T.rawPlatform)||void 0,onChange:B=>{const v=i.integrations[B];w(B,v==null?void 0:v.url)},children:Object.entries(i.integrations).map(([B,v])=>b.jsx(Option,{value:B,children:B},B))})]}),b.jsx(Ra,{children:l&&b.jsxs(Ke.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-2 px-3 py-1.5 bg-blue-500 text-white rounded-full text-sm w-fit",children:[b.jsx("span",{className:"truncate max-w-[150px]",children:l}),!D&&b.jsx(Ke.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:S,className:"text-white hover:text-gray-200","aria-label":`Remove category ${l}`,children:b.jsx(qr,{size:15})})]})}),!x&&(k==null?void 0:k.length)>0&&b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Auto-Generated Categories"}),b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 overflow-y-auto p-3 rounded-md border border-indigo-200 bg-indigo-50 max-h-96",children:k.map(B=>b.jsxs(Ke.div,{onClick:()=>!D&&N(B),whileHover:{scale:1.02,backgroundColor:"#e0e7ff"},className:`flex items-center justify-between p-3 rounded-md bg-white border ${p&&!l?"border-red-500":"border-indigo-200"} text-sm font-medium cursor-pointer transition-all duration-200 ${l===B?"bg-indigo-100 border-indigo-400":l?"opacity-50 cursor-not-allowed":""}`,children:[b.jsx("span",{className:"truncate",children:B}),!l&&b.jsx(Ke.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"text-indigo-600 hover:text-indigo-700","aria-label":`Add category ${B}`,children:b.jsx(Da,{size:16})})]},B))})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Select or Add Category"}),b.jsx(or,{mode:"tags",placeholder:"Select or type a category",value:l?[l]:[],onChange:H,disabled:D,className:"w-full",allowClear:!0,showSearch:!0,filterOption:(B,v)=>v.label.toLowerCase().includes(B.toLowerCase()),options:yN.map(B=>({value:B,label:B})),styles:{popup:{root:{borderRadius:"8px"}}},"aria-label":"Select or add a category"}),p&&!l&&b.jsx(Ke.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-2 text-sm text-red-500",children:"Please select a category"})]}),(T==null?void 0:T.platform)==="shopify"&&b.jsx("div",{className:`p-3 rounded-md text-sm ${D?"bg-red-100 text-red-700 border border-red-300":"bg-blue-100 text-blue-700 border border-blue-300"}`,children:D?"This blog was already published on Shopify. Category is locked and cannot be changed.":"Once you publish on Shopify, the category becomes permanent and cannot be changed later."}),b.jsxs("div",{className:"flex items-center justify-between py-2",children:[b.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Table of Contents",b.jsx("p",{className:"text-xs text-gray-500",children:"Generate a table of contents for each blog."})]}),b.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[b.jsx("input",{type:"checkbox",name:"includeTableOfContents",checked:d,onChange:C,className:"sr-only peer","aria-label":"Toggle table of contents"}),b.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})})},{Panel:Ih}=km,{TextArea:kN}=Gt,Oh=({blog:e,keywords:t,setKeywords:n,onPost:r,activeTab:i,handleReplace:s,setProofreadingResults:a,proofreadingResults:o,handleSave:u,posted:l,isPosting:c,formData:d,editorContent:f,handleSubmit:p,setIsHumanizing:y,isHumanizing:k,setHumanizedContent:x,setIsHumanizeModalOpen:T,setIsSidebarOpen:O,unsavedChanges:D})=>{var un,It,Nr,vr,tr,ae,fe,Re,Le,Nn,Zs,ji,Hi,Xd,Jd,Zd,ef,tf;const[h,E]=$.useState(""),[g,w]=$.useState(!1),[N,S]=$.useState(null),[C,R]=$.useState(!1),[U,H]=$.useState(!1),[F,B]=$.useState(!1),[v,V]=$.useState("overview"),[G,ie]=$.useState(!1),{data:_}=Tn(K=>K.wordpress),[j,X]=$.useState({title:((un=e==null?void 0:e.seoMetadata)==null?void 0:un.title)||"",description:((It=e==null?void 0:e.seoMetadata)==null?void 0:It.description)||""}),[M,pe]=$.useState([]),[ye,de]=$.useState(""),Ie=Tn(K=>K.auth.user),J=(Nr=Ie==null?void 0:Ie.subscription)==null?void 0:Nr.plan,Ue=Cc(),$e=zs(),{handlePopup:Ye}=mm(),{loading:at}=Tn(K=>K.analysis),{metadata:mt}=Tn(K=>K.wordpress),[_r,Be]=$.useState(!1),{analysisResult:An}=Tn(K=>K.analysis),jn=e==null?void 0:e._id,rt=An==null?void 0:An[jn],sn=_&&_.integrations&&Object.keys(_.integrations).length>0,En=c||!sn||d.wordpressPostStatus&&!_.integrations.WORDPRESS,wt={WORDPRESS:"WordPress",SHOPIFY:"Shopify",SERVERENDPOINT:"Server",WIX:"Wix"},Nt=l?Object.entries(l).filter(([K,le])=>le==null?void 0:le.link).map(([K,le])=>({platform:K,link:le.link,label:wt[K]||K})):[];$.useEffect(()=>{var K,le;X({title:((K=e==null?void 0:e.seoMetadata)==null?void 0:K.title)||"",description:((le=e==null?void 0:e.seoMetadata)==null?void 0:le.description)||""}),pe([])},[e==null?void 0:e._id]),De.setOptions({gfm:!0,breaks:!0,headerIds:!1,mangle:!1});const Ar=K=>K?K.trim().split(/\s+/).filter(le=>le.length>0).length:0;$.useEffect(()=>{S(null)},[e==null?void 0:e._id]),$.useEffect(()=>{if(mt&&(mt.title||mt.description)){const K={id:Date.now().toString(),title:mt.title||"",description:mt.description||""};pe(le=>!le.some(Me=>Me.title===K.title&&Me.description===K.description)&&(K.title||K.description)?[...le,K]:le),(j.title!==K.title||j.description!==K.description)&&X({title:K.title,description:K.description})}},[mt]),$.useEffect(()=>{$e(Ay())},[$e]);const kn=$.useCallback(()=>ot(null,null,function*(){if(!e||!e.title||!e.content){oe.error("Blog title or content is missing for analysis.");return}const K=t&&t.length>0?t:(e==null?void 0:e.focusKeywords)||e.keywords;try{const le=yield $e(Ny({blogId:e._id,title:e.title,content:e.content,keywords:K})).unwrap();S(le),V("analysis")}catch(le){console.error("Failed to fetch competitive analysis:",{error:le.message,status:le.status,response:le.response}),oe.error("Failed to perform competitive analysis.")}}),[e,t,$e]);$.useEffect(()=>{C&&(kn(),R(!1))},[C,kn]),$.useEffect(()=>{var K,le;(e!=null&&e.seoScore||(K=e==null?void 0:e.generatedMetadata)!=null&&K.competitorsAnalysis)&&S(P({blogScore:e.seoScore},(le=e==null?void 0:e.generatedMetadata)==null?void 0:le.competitorsAnalysis))},[e]);const er=$.useCallback(K=>{n(le=>le.filter(Ve=>Ve!==K))},[n]),W=$.useCallback(()=>{if(h.trim()){const K=h.split(",").map(le=>le.trim().toLowerCase()).filter(le=>le&&!t.map(Ve=>Ve.toLowerCase()).includes(le));K.length>0&&n(le=>[...le,...K]),E("")}},[h,t,n]),re=$.useCallback(K=>{K.key==="Enter"&&(K.preventDefault(),W())},[W]),ge=$.useCallback(()=>ot(null,null,function*(){if(!e||!e.content){oe.error("Blog content is required for proofreading.");return}if(at){oe.error("Please wait for Competitive Analysis to complete before starting Proofreading.");return}w(!0);try{const K=yield $e(vy({id:e._id})).unwrap();a(K),V("suggestions"),oe.success("Proofreading suggestions loaded successfully!")}catch(K){console.error("Error fetching proofreading suggestions:",{error:K.message,status:K.status,response:K.response}),oe.error("Failed to fetch proofreading suggestions.")}finally{w(!1)}}),[e,$e,at,a]),ke=$.useCallback(()=>{if(o.length===0){oe.info("No suggestions available to apply.");return}o.forEach(K=>{s(K.original,K.change)}),a([]),oe.success("All proofreading suggestions applied successfully!")},[o,s,a]),Ne=$.useCallback(()=>ot(null,null,function*(){var le;if(!e||!f){oe.error("Blog content is required for metadata generation.");return}if(["free","basic"].includes((le=J==null?void 0:J.toLowerCase)==null?void 0:le.call(J))){Ue("/pricing");return}const K=t&&t.length>0?t:(e==null?void 0:e.focusKeywords)||e.keywords;try{yield $e(Iy({content:f,keywords:K,focusKeywords:(e==null?void 0:e.focusKeywords)||[]})).unwrap()}catch(Ve){console.error("Error generating metadata:",Ve),oe.error("Failed to generate metadata.")}}),[e,f,t,$e,Ue,J]),gt=$.useCallback(()=>ot(null,null,function*(){if(!j.title&&!j.description){oe.error("Please enter a meta title or description to save.");return}try{yield p({metadata:j});const K={id:Date.now().toString(),title:j.title||"",description:j.description||""};pe(le=>!le.some(Me=>Me.title===K.title&&Me.description===K.description)&&(K.title||K.description)?[...le,K]:le)}catch(K){console.error("Error saving metadata:",K)}}),[p,j]),qt=$.useCallback(()=>{var ln,nf;if(["free","basic"].includes((ln=J==null?void 0:J.toLowerCase)==null?void 0:ln.call(J))){Ue("/pricing");return}const K=e==null?void 0:e.seoScore,le=(nf=e==null?void 0:e.generatedMetadata)==null?void 0:nf.competitors,Ve=typeof K=="number"&&K>=0,Me=Array.isArray(le)&&le.length>0;return Ye(!Ve&&!Me&&!!!N?{title:"Competitive Analysis",description:"Do you really want to run competitive analysis? It will cost 10 credits.",confirmText:"Run",cancelText:"Cancel",onConfirm:()=>kn()}:{title:"Run Competitive Analysis Again?",description:b.jsxs(b.Fragment,{children:["You have already performed a competitive analysis for this blog. Would you like to run it again? ",b.jsx("span",{className:"font-bold",children:"This will cost 10 credits."})]}),confirmText:"Run",cancelText:"Cancel",onConfirm:()=>kn()})},[J,e,Ye,Ue,N,kn]),vt=$.useCallback(()=>{var K;["free","basic"].includes((K=J==null?void 0:J.toLowerCase)==null?void 0:K.call(J))?Ue("/pricing"):Ye({title:"AI Proofreading",description:b.jsxs(b.Fragment,{children:["Do you really want to proofread the blog?"," ",b.jsxs("span",{className:"font-bold",children:[" ","This will cost ",$y("blog.proofread")," credits."]})]}),onConfirm:ge})},[J,Ye,Ue,ge]),an=$.useCallback(()=>ot(null,null,function*(){var K;if(["free","basic"].includes((K=J==null?void 0:J.toLowerCase)==null?void 0:K.call(J))){Ue("/pricing");return}if(!e||!f){oe.error("Blog content is required for prompt-based modification.");return}Ye({title:"Apply Custom Prompt",description:b.jsxs(b.Fragment,{children:["Do you want to modify the blog content using the prompt?"," ",b.jsx("span",{className:"font-bold",children:"This will cost 5 credits."})]}),confirmText:"Apply Prompt",cancelText:"Cancel",onConfirm:()=>ot(null,null,function*(){y(!0);try{const le=yield $e(Oy({id:e._id,prompt:ye})).unwrap();x(le.data),T(!0),oe.success("Content modified with custom prompt successfully!"),de("")}catch(le){console.error("Error applying custom prompt:",le),oe.error("Failed to apply custom prompt.")}finally{y(!1)}})})}),[e,f,ye,$e,Ye,x,y,T,J,Ue]),on=$.useCallback(()=>{Ye({title:"Rewrite Keywords",description:"Do you want to rewrite the entire content with added keywords? You can rewrite only 3 times.",onConfirm:u})},[Ye,u]),se=$.useCallback(K=>ot(null,null,function*(){if(!f){oe.error("No content to export.");return}const le=(e==null?void 0:e.title)||"Untitled Blog";if(K==="markdown"){const Ve=new Blob([f],{type:"text/markdown"}),Me=URL.createObjectURL(Ve),bt=document.createElement("a");bt.href=Me,bt.download=`${le}.md`,bt.click(),URL.revokeObjectURL(Me),oe.success("Markdown exported successfully!")}else if(K==="html"){const Ve=De.parse(f,{gfm:!0}),Me=new Blob([Ve],{type:"text/html"}),bt=URL.createObjectURL(Me),ln=document.createElement("a");ln.href=bt,ln.download=`${le}.html`,ln.click(),URL.revokeObjectURL(bt),oe.success("HTML exported successfully!")}}),[f,e]),Te=b.jsxs(Ui,{children:[b.jsx(Ui.Item,{onClick:()=>se("markdown"),children:"Export as Markdown"},"markdown"),b.jsx(Ui.Item,{onClick:()=>se("html"),children:"Export as HTML"},"html")]}),Oe=$.useCallback(({category:K,includeTableOfContents:le,type:Ve})=>{try{r(ce(P({},d),{categories:K,includeTableOfContents:le,type:Ve}))}catch(Me){console.error("Failed to post blog:",{error:Me.message,status:Me.status,response:Me.response}),oe.error("Failed to post blog. Please try again.")}},[d,r]),ht=$.useCallback(()=>{D?Ye({title:"Unsaved Changes",description:b.jsx(b.Fragment,{children:"You have unsaved changes in your blog content. Would you like to save these changes before posting? If you proceed without saving, your changes will be lost."}),confirmText:"Save and Proceed",cancelText:"Proceed without Saving",onConfirm:()=>ot(null,null,function*(){try{yield p({metadata:j}),H(!0)}catch(K){console.error("Failed to save changes:",K),oe.error("Failed to save changes. Please try again.")}}),onCancel:K=>{(K==null?void 0:K.source)=="button"&&H(!0)}}):H(!0)},[D,Ye,p]);return at?b.jsx("div",{className:"flex items-center",children:b.jsx(La,{message:"Running Competitive Analysis"})}):F?b.jsx(Ke.div,{initial:{x:"100%"},animate:{x:"calc(100% - 60px)"},className:"fixed top-[14.7rem] right-0 transform -translate-y-1/2 z-50",children:b.jsx(St,{title:"Maximize Sidebar",placement:"left",children:b.jsx(pt,{onClick:()=>B(!1),className:"h-12 rounded-lg",icon:b.jsx(NE,{className:"w-4 h-4"})})})}):b.jsxs(b.Fragment,{children:[b.jsxs(Ke.div,{initial:{x:"100%"},animate:{x:0},transition:{type:"spring",stiffness:300,damping:30},className:"w-full md:w-96 bg-white shadow-xl flex flex-col",children:[b.jsx("div",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:b.jsxs("div",{className:"p-4 border border-l-0 bg-gradient-to-r rounded-tr-md from-blue-50 to-purple-50",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg font-bold",children:"Content Analysis"}),b.jsx("p",{className:"text-xs text-gray-600",children:"Optimize your content performance"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[!["free","basic"].includes((vr=J==null?void 0:J.toLowerCase)==null?void 0:vr.call(J))&&b.jsx(St,{title:"Export Content",placement:"left",children:b.jsx(cf,{overlay:Te,trigger:["click"],children:b.jsx(pt,{size:"small",icon:b.jsx(Wy,{className:"w-4 h-4"})})})}),b.jsx("div",{className:"hidden sm:inline",children:b.jsx(St,{title:"Minimize sidebar",placement:"left",children:b.jsx(pt,{size:"small",icon:b.jsx(IE,{className:"w-4 h-4"}),onClick:()=>B(!0)})})}),b.jsx(St,{title:"Content settings",children:b.jsx(pt,{size:"small",icon:b.jsx(wm,{className:"w-4 h-4"}),onClick:()=>Be(!0)})}),b.jsx("div",{className:"block md:hidden",children:b.jsx(pt,{size:"small",icon:b.jsx(qr,{className:"w-4 h-4"}),onClick:()=>O(!1)})})]})]}),b.jsx("div",{className:"flex gap-2 mt-6 px-2",children:[{key:"overview",label:"Overview",icon:df},{key:"analysis",label:"Analysis",icon:ta},{key:"suggestions",label:"Suggestions",icon:xa}].map(({key:K,label:le,icon:Ve,badge:Me})=>b.jsxs("button",{onClick:()=>V(K),className:`flex items-center justify-center gap-2 px-3 py-2 rounded-full text-sm font-medium transition-all duration-150 flex-shrink-0
        ${v===K?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[b.jsx(Ve,{className:"w-4 h-4"}),b.jsx("span",{className:"hidden sm:inline",children:le}),Me>0&&b.jsx("span",{className:"ml-1 inline-flex items-center justify-center w-5 h-5 text-xs font-semibold text-white bg-red-500 rounded-full",children:Me})]},K))})]})}),b.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll border-r",children:b.jsxs(Ra,{mode:"wait",children:[v==="overview"&&b.jsxs(Ke.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"p-4 space-y-6",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between mt-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(HE,{className:"w-4 h-4 text-blue-600"}),b.jsx("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:"Keywords"})]}),t.length>0&&b.jsxs("button",{type:"text",onClick:()=>{var K;["free"].includes((K=J==null?void 0:J.toLowerCase)==null?void 0:K.call(J))?Uy({featureName:"Keyword Optimization",navigate:Ue}):on()},className:`flex items-center gap-2 px-3 py-1.5 rounded-lg hover:bg-opacity-80 transition-colors text-sm font-medium\r
                    bg-green-50 text-green-600 border-green-300 border hover:bg-green-100`,children:[["free"].includes((tr=J==null?void 0:J.toLowerCase)==null?void 0:tr.call(J))?b.jsx(El,{className:"w-3 h-3"}):b.jsx(yl,{className:"w-3 h-3"}),"Optimize"]})]}),b.jsx("div",{className:"flex flex-wrap gap-2",children:b.jsx(Ra,{children:t.map((K,le)=>b.jsxs(Ke.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full border border-blue-200",children:[b.jsx("span",{className:"truncate max-w-[120px]",children:K}),b.jsx("button",{onClick:()=>er(K),className:"ml-1 text-blue-600 hover:text-blue-800",children:b.jsx(qr,{className:"w-3 h-3"})})]},`${K}-${le}`))})}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("input",{type:"text",value:h,onChange:K=>E(K.target.value),onKeyDown:re,placeholder:"Add keywords...",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),b.jsx(pt,{size:"small",type:"primary",onClick:W,icon:b.jsx(Da,{className:"w-4 h-4"})})]}),t.length===0&&b.jsx("p",{className:"text-xs text-gray-500 text-center py-2",children:"No keywords added yet"})]}),b.jsxs("div",{className:"space-y-7",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(df,{className:"w-4 h-4 text-blue-600"}),b.jsx("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:"Performance Metrics"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[b.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 text-center",children:[b.jsx("div",{className:"text-lg font-bold text-blue-600",children:Ar(f)}),b.jsx("div",{className:"text-xs text-blue-600",children:"Words"})]}),b.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 text-center",children:[b.jsx("div",{className:"text-lg font-bold text-purple-600",children:t==null?void 0:t.length}),b.jsx("div",{className:"text-xs text-purple-600",children:"Keywords"})]})]}),b.jsxs("div",{className:"space-y-5",children:[b.jsx(vh,{title:"Content Score",score:e==null?void 0:e.blogScore,icon:Ta}),b.jsx(vh,{title:"SEO Score",score:((ae=rt==null?void 0:rt.insights)==null?void 0:ae.blogScore)||(e==null?void 0:e.seoScore),icon:ta})]})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Ky,{className:"w-4 h-4 text-blue-600"}),b.jsx("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:"AI Tools"})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsx(Pu,{title:"Competitive Analysis",description:"Compare with top competitors",isPro:["free","basic"].includes((fe=J==null?void 0:J.toLowerCase)==null?void 0:fe.call(J)),isLoading:at,onClick:qt,buttonText:"Run Analysis",icon:ta}),i==="Normal"&&b.jsx(Pu,{title:"AI Proofreading",description:"Grammar and style improvements",isPro:["free","basic"].includes((Re=J==null?void 0:J.toLowerCase)==null?void 0:Re.call(J)),isLoading:g,onClick:vt,buttonText:"Proofread Content",icon:Ta}),b.jsx(Pu,{title:"Generate Metadata",description:"Create SEO-friendly title and description",isPro:["free","basic"].includes((Le=J==null?void 0:J.toLowerCase)==null?void 0:Le.call(J)),isLoading:!1,onClick:()=>{var K;["free","basic"].includes((K=J==null?void 0:J.toLowerCase)==null?void 0:K.call(J))?Ue("/pricing"):Ye({title:"Generate Metadata",description:b.jsxs(b.Fragment,{children:["Generate SEO metadata?",b.jsx("span",{className:"font-bold",children:" This will cost 2 credits."})]}),confirmText:"Generate",cancelText:"Cancel",onConfirm:Ne})},buttonText:"Generate Metadata",icon:Yy}),b.jsxs("div",{className:"space-y-4 p-4 bg-white rounded-lg shadow-sm border border-gray-200",children:[M.length>0&&b.jsx(cf,{menu:b.jsx(Ui,{onClick:({key:K})=>{var le,Ve;if(K.startsWith("delete-")){const Me=K.replace("delete-","");pe(bt=>bt.filter(ln=>ln.id!==Me)),((le=M.find(bt=>bt.id===Me))==null?void 0:le.title)===j.title&&((Ve=M.find(bt=>bt.id===Me))==null?void 0:Ve.description)===j.description&&X({title:"",description:""})}else{const Me=M.find(bt=>bt.id===K);Me&&X({title:Me.title,description:Me.description})}},children:M.map((K,le)=>b.jsx(Ui.Item,{children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("span",{children:["Version ",le+1]}),b.jsx(pt,{type:"link",danger:!0,size:"small",onClick:Ve=>{Ve.stopPropagation();const Me=K.id;pe(bt=>bt.filter(ln=>ln.id!==Me)),K.title===j.title&&K.description===j.description&&X({title:"",description:""})},children:"Delete"})]})},K.id))}),trigger:["click"],children:b.jsxs(pt,{className:"w-full mb-2",children:["Select Previous Metadata ",b.jsx(iE,{})]})}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Meta Title"}),b.jsx(Gt,{value:j.title||((Nn=e==null?void 0:e.seoMetadata)==null?void 0:Nn.title)||"",onChange:K=>X(le=>ce(P({},le),{title:K.target.value})),placeholder:"Enter meta title",className:"mt-1"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Meta Description"}),b.jsx(kN,{value:j.description||((Zs=e==null?void 0:e.seoMetadata)==null?void 0:Zs.description)||"",onChange:K=>X(le=>ce(P({},le),{description:K.target.value})),placeholder:"Enter meta description",rows:4,className:"mt-1 !resize-none"})]}),b.jsx(pt,{type:"primary",onClick:gt,className:"w-full py-2 text-sm px-4 rounded-lg font-medium bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:shadow-lg",children:"Save Metadata"})]}),b.jsxs("div",{className:"mb-4 bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[b.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[b.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:b.jsx(yl,{className:"w-4 h-4 text-blue-600"})}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-1",children:[b.jsx("h3",{className:"font-semibold text-gray-900",children:"Custom Prompt"}),["free","basic"].includes((ji=J==null?void 0:J.toLowerCase)==null?void 0:ji.call(J))&&b.jsx(El,{className:"text-2xl ml-auto mr-2"})]}),b.jsx("p",{className:"text-sm text-gray-600",children:"Modify content with a custom AI prompt"})]})]}),b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Prompt"}),b.jsx("textarea",{value:ye,onChange:K=>{de(K.target.value)},placeholder:"e.g., 'Make the tone more professional' or 'Shorten the content'",rows:6,"aria-label":"Custom prompt for AI content modification",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all !resize-none"})]})]}),b.jsx(pt,{onClick:an,loading:k,type:"primary",className:"w-full py-2 text-sm px-4 rounded-lg font-medium transition-all duration-200 bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:shadow-lg",ghost:["free","basic"].includes((Hi=J==null?void 0:J.toLowerCase)==null?void 0:Hi.call(J)),children:k?"Processing...":"Apply Custom Prompt"})]})]},"overview"),v==="analysis"&&b.jsx(Ke.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"p-4 space-y-4 h-screen",children:N||rt?b.jsxs(km,{defaultActiveKey:["1"],ghost:!0,expandIconPosition:"end",children:[((Jd=(rt==null?void 0:rt.competitors)||((Xd=e==null?void 0:e.generatedMetadata)==null?void 0:Xd.competitors))==null?void 0:Jd.length)>0&&b.jsx(Ih,{header:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Sc,{className:"w-4 h-4 text-blue-600"}),b.jsx("span",{className:"font-medium",children:"Top Competitors"})]}),children:b.jsx(pN,{competitors:(rt==null?void 0:rt.competitors)||((Zd=e==null?void 0:e.generatedMetadata)==null?void 0:Zd.competitors)})},"1"),(((ef=N==null?void 0:N.insights)==null?void 0:ef.analysis)||(N==null?void 0:N.analysis))&&b.jsx(Ih,{header:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(xa,{className:"w-4 h-4 text-orange-500"}),b.jsx("span",{className:"font-medium",children:"Key Insights"})]}),children:b.jsx(mN,{insights:((tf=N==null?void 0:N.insights)==null?void 0:tf.analysis)||(N==null?void 0:N.analysis)})},"2")]}):b.jsxs("div",{className:"text-center py-8 h-screen",children:[b.jsx(ta,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),b.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"No analysis results yet"}),b.jsx("p",{className:"text-xs text-gray-500",children:"Run competitive analysis to see insights"})]})},"analysis"),v==="suggestions"&&b.jsx(Ke.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"p-4 space-y-4",children:g?b.jsxs("div",{className:"text-center py-8",children:[b.jsx(Ke.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full mx-auto mb-3"}),b.jsx("p",{className:"text-sm text-gray-600",children:"Analyzing content..."})]}):o.length>0?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(xa,{className:"w-4 h-4 text-orange-500"}),b.jsx("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:"Suggestions"}),b.jsx(Qy,{count:o.length})]}),b.jsx(pt,{size:"small",type:"primary",onClick:ke,disabled:o.length===0,className:"text-xs",children:"Apply All"})]}),b.jsx("div",{className:"space-y-3 max-h-screen overflow-y-auto",children:o.map((K,le)=>b.jsx(gN,{suggestion:K,index:le,onApply:Ve=>{const Me=o.filter((bt,ln)=>ln!==Ve);a(Me)}},le))})]}):b.jsxs("div",{className:"text-center py-8 h-screen",children:[b.jsx(Ta,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),b.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"No suggestions available"}),b.jsx("p",{className:"text-xs text-gray-500",children:"Run AI proofreading to get suggestions"})]})},"suggestions")]})}),b.jsxs("div",{className:"sticky bottom-0 z-50 p-4 border-t border-gray-200 bg-gray-50",children:[b.jsx(Ke.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:b.jsx(pt,{type:"primary",size:"large",onClick:ht,loading:c,disabled:En,className:"w-full h-12 text-base font-semibold bg-gradient-to-r from-green-600 to-emerald-600 border-0 hover:shadow-lg",children:c?"Posting...":l&&Object.keys(l).length>0?"Re-Post":"Post Blog"})}),Nt.length>0&&b.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[Nt.length===1&&b.jsx(Ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"text-center",children:b.jsxs("a",{href:Nt[0].link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-blue-600 text-sm hover:text-blue-700 font-medium",children:["View ",Nt[0].label," Post",b.jsx(ss,{className:"w-4 h-4"})]})}),Nt.length>1&&b.jsx(Ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"text-center",children:b.jsxs("button",{onClick:()=>ie(!0),className:"inline-flex items-center gap-2 text-blue-600 text-sm hover:text-blue-700 font-medium",children:["View Published Links",b.jsx(ss,{className:"w-4 h-4"})]})})]})]})]}),b.jsx(Xn,{title:"Content Enhancement Summary",open:_r,onCancel:()=>Be(!1),footer:null,centered:!0,width:480,children:b.jsx(bN,{features:(e==null?void 0:e.options)||{}})}),b.jsx(EN,{isCategoryModalOpen:U,setIsCategoryModalOpen:H,onSubmit:Oe,initialCategory:d.category,initialIncludeTableOfContents:d.includeTableOfContents,integrations:_,blogData:e,posted:l}),b.jsx(Xn,{title:"Choose Platform",open:G,onCancel:()=>ie(!1),footer:null,centered:!0,width:380,children:b.jsxs("div",{className:"flex flex-col gap-3 py-2",children:[b.jsx("p",{className:"text-sm text-gray-600",children:"This post was published to multiple platforms. Where do you want to visit?"}),Nt.map(({platform:K,link:le,label:Ve})=>b.jsxs("button",{onClick:()=>window.open(le,"_blank"),className:"w-full text-left px-3 py-2 bg-gray-50 border border-gray-200 rounded-md hover:bg-gray-100 text-sm font-medium flex items-center justify-between",children:[b.jsx("span",{children:Ve}),b.jsx(ss,{className:"w-4 h-4"})]},K))]})})]})};function TN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}function ql(e,t){return Array(t+1).join(e)}function xN(e){return e.replace(/^\n*/,"")}function wN(e){for(var t=e.length;t>0&&e[t-1]===`
`;)t--;return e.substring(0,t)}var CN=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function id(e){return sd(e,CN)}var Og=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function Mg(e){return sd(e,Og)}function SN(e){return Lg(e,Og)}var Rg=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function _N(e){return sd(e,Rg)}function AN(e){return Lg(e,Rg)}function sd(e,t){return t.indexOf(e.nodeName)>=0}function Lg(e,t){return e.getElementsByTagName&&t.some(function(n){return e.getElementsByTagName(n).length})}var Bt={};Bt.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}};Bt.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+`
`}};Bt.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var i=ql(r===1?"=":"-",e.length);return`

`+e+`
`+i+`

`}else return`

`+ql("#",r)+" "+e+`

`}};Bt.blockquote={filter:"blockquote",replacement:function(e){return e=e.replace(/^\n+|\n+$/g,""),e=e.replace(/^/gm,"> "),`

`+e+`

`}};Bt.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return n.nodeName==="LI"&&n.lastElementChild===t?`
`+e:`

`+e+`

`}};Bt.listItem={filter:"li",replacement:function(e,t,n){var r=n.bulletListMarker+"   ",i=t.parentNode;if(i.nodeName==="OL"){var s=i.getAttribute("start"),a=Array.prototype.indexOf.call(i.children,t);r=(s?Number(s)+a:a+1)+".  "}return e=e.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
`+" ".repeat(r.length)),r+e+(t.nextSibling&&!/\n$/.test(e)?`
`:"")}};Bt.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};Bt.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){for(var r=t.firstChild.getAttribute("class")||"",i=(r.match(/language-(\S+)/)||[null,""])[1],s=t.firstChild.textContent,a=n.fence.charAt(0),o=3,u=new RegExp("^"+a+"{3,}","gm"),l;l=u.exec(s);)l[0].length>=o&&(o=l[0].length+1);var c=ql(a,o);return`

`+c+i+`
`+s.replace(/\n$/,"")+`
`+c+`

`}};Bt.horizontalRule={filter:"hr",replacement:function(e,t,n){return`

`+n.hr+`

`}};Bt.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href");n&&(n=n.replace(/([()])/g,"\\$1"));var r=qa(t.getAttribute("title"));return r&&(r=' "'+r.replace(/"/g,'\\"')+'"'),"["+e+"]("+n+r+")"}};Bt.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,n){var r=t.getAttribute("href"),i=qa(t.getAttribute("title"));i&&(i=' "'+i+'"');var s,a;switch(n.linkReferenceStyle){case"collapsed":s="["+e+"][]",a="["+e+"]: "+r+i;break;case"shortcut":s="["+e+"]",a="["+e+"]: "+r+i;break;default:var o=this.references.length+1;s="["+e+"]["+o+"]",a="["+o+"]: "+r+i}return this.references.push(a),s},references:[],append:function(e){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};Bt.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}};Bt.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}};Bt.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+t+e+t+n}};Bt.image={filter:"img",replacement:function(e,t){var n=qa(t.getAttribute("alt")),r=t.getAttribute("src")||"",i=qa(t.getAttribute("title")),s=i?' "'+i+'"':"";return r?"!["+n+"]("+r+s+")":""}};function qa(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function Dg(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}Dg.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=Bu(this.array,e,this.options))||(t=Bu(this._keep,e,this.options))||(t=Bu(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function Bu(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(NN(i,t,n))return i}}function NN(e,t,n){var r=e.filter;if(typeof r=="string"){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(e,t,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function vN(e){var t=e.element,n=e.isBlock,r=e.isVoid,i=e.isPre||function(d){return d.nodeName==="PRE"};if(!(!t.firstChild||i(t))){for(var s=null,a=!1,o=null,u=Mh(o,t,i);u!==t;){if(u.nodeType===3||u.nodeType===4){var l=u.data.replace(/[ \r\n\t]+/g," ");if((!s||/ $/.test(s.data))&&!a&&l[0]===" "&&(l=l.substr(1)),!l){u=Fu(u);continue}u.data=l,s=u}else if(u.nodeType===1)n(u)||u.nodeName==="BR"?(s&&(s.data=s.data.replace(/ $/,"")),s=null,a=!1):r(u)||i(u)?(s=null,a=!0):s&&(a=!1);else{u=Fu(u);continue}var c=Mh(o,u,i);o=u,u=c}s&&(s.data=s.data.replace(/ $/,""),s.data||Fu(s))}}function Fu(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function Mh(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var ad=typeof window!="undefined"?window:{};function IN(){var e=ad.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch(n){}return t}function ON(){var e=function(){};return MN()?e.prototype.parseFromString=function(t){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(t),n.close(),n}:e.prototype.parseFromString=function(t){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(t),n.close(),n},e}function MN(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){ad.ActiveXObject&&(e=!0)}return e}var RN=IN()?ad.DOMParser:ON();function LN(e,t){var n;if(typeof e=="string"){var r=DN().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=e.cloneNode(!0);return vN({element:n,isBlock:id,isVoid:Mg,isPre:t.preformattedCode?PN:null}),n}var ju;function DN(){return ju=ju||new RN,ju}function PN(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function BN(e,t){return e.isBlock=id(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=FN(e),e.flankingWhitespace=jN(e,t),e}function FN(e){return!Mg(e)&&!_N(e)&&/^\s*$/i.test(e.textContent)&&!SN(e)&&!AN(e)}function jN(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=HN(e.textContent);return n.leadingAscii&&Rh("left",e,t)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&Rh("right",e,t)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function HN(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function Rh(e,t,n){var r,i,s;return e==="left"?(r=t.previousSibling,i=/ $/):(r=t.nextSibling,i=/^ /),r&&(r.nodeType===3?s=i.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?s=!1:r.nodeType===1&&!id(r)&&(s=i.test(r.textContent))),s}var zN=Array.prototype.reduce,UN=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function Wa(e){if(!(this instanceof Wa))return new Wa(e);var t={rules:Bt,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=TN({},t,e),this.rules=new Dg(this.options)}Wa.prototype={turndown:function(e){if(!qN(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=Pg.call(this,new LN(e,this.options));return $N.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return UN.reduce(function(t,n){return t.replace(n[0],n[1])},e)}};function Pg(e){var t=this;return zN.call(e.childNodes,function(n,r){r=new BN(r,t.options);var i="";return r.nodeType===3?i=r.isCode?r.nodeValue:t.escape(r.nodeValue):r.nodeType===1&&(i=VN.call(t,r)),Bg(n,i)},"")}function $N(e){var t=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(e=Bg(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function VN(e){var t=this.rules.forNode(e),n=Pg.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function Bg(e,t){var n=wN(e),r=xN(t),i=Math.max(e.length-n.length,t.length-r.length),s=`

`.substring(0,i);return n+s+r}function qN(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}var Aa={exports:{}},WN=Aa.exports,Lh;function KN(){return Lh||(Lh=1,(function(e){(function(){function t(h){var E={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(h===!1)return JSON.parse(JSON.stringify(E));var g={};for(var w in E)E.hasOwnProperty(w)&&(g[w]=E[w].defaultValue);return g}function n(){var h=t(!0),E={};for(var g in h)h.hasOwnProperty(g)&&(E[g]=!0);return E}var r={},i={},s={},a=t(!0),o="vanilla",u={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:t(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(h,E){return a[h]=E,this},r.getOption=function(h){return a[h]},r.getOptions=function(){return a},r.resetOptions=function(){a=t(!0)},r.setFlavor=function(h){if(!u.hasOwnProperty(h))throw Error(h+" flavor was not found");r.resetOptions();var E=u[h];o=h;for(var g in E)E.hasOwnProperty(g)&&(a[g]=E[g])},r.getFlavor=function(){return o},r.getFlavorOptions=function(h){if(u.hasOwnProperty(h))return u[h]},r.getDefaultOptions=function(h){return t(h)},r.subParser=function(h,E){if(r.helper.isString(h))if(typeof E!="undefined")i[h]=E;else{if(i.hasOwnProperty(h))return i[h];throw Error("SubParser named "+h+" not registered!")}},r.extension=function(h,E){if(!r.helper.isString(h))throw Error("Extension 'name' must be a string");if(h=r.helper.stdExtName(h),r.helper.isUndefined(E)){if(!s.hasOwnProperty(h))throw Error("Extension named "+h+" is not registered!");return s[h]}else{typeof E=="function"&&(E=E()),r.helper.isArray(E)||(E=[E]);var g=l(E,h);if(g.valid)s[h]=E;else throw Error(g.error)}},r.getAllExtensions=function(){return s},r.removeExtension=function(h){delete s[h]},r.resetExtensions=function(){s={}};function l(h,E){var g=E?"Error in "+E+" extension->":"Error in unnamed extension",w={valid:!0,error:""};r.helper.isArray(h)||(h=[h]);for(var N=0;N<h.length;++N){var S=g+" sub-extension "+N+": ",C=h[N];if(typeof C!="object")return w.valid=!1,w.error=S+"must be an object, but "+typeof C+" given",w;if(!r.helper.isString(C.type))return w.valid=!1,w.error=S+'property "type" must be a string, but '+typeof C.type+" given",w;var R=C.type=C.type.toLowerCase();if(R==="language"&&(R=C.type="lang"),R==="html"&&(R=C.type="output"),R!=="lang"&&R!=="output"&&R!=="listener")return w.valid=!1,w.error=S+"type "+R+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',w;if(R==="listener"){if(r.helper.isUndefined(C.listeners))return w.valid=!1,w.error=S+'. Extensions of type "listener" must have a property called "listeners"',w}else if(r.helper.isUndefined(C.filter)&&r.helper.isUndefined(C.regex))return w.valid=!1,w.error=S+R+' extensions must define either a "regex" property or a "filter" method',w;if(C.listeners){if(typeof C.listeners!="object")return w.valid=!1,w.error=S+'"listeners" property must be an object but '+typeof C.listeners+" given",w;for(var U in C.listeners)if(C.listeners.hasOwnProperty(U)&&typeof C.listeners[U]!="function")return w.valid=!1,w.error=S+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+U+" must be a function but "+typeof C.listeners[U]+" given",w}if(C.filter){if(typeof C.filter!="function")return w.valid=!1,w.error=S+'"filter" must be a function, but '+typeof C.filter+" given",w}else if(C.regex){if(r.helper.isString(C.regex)&&(C.regex=new RegExp(C.regex,"g")),!(C.regex instanceof RegExp))return w.valid=!1,w.error=S+'"regex" property must either be a string or a RegExp object, but '+typeof C.regex+" given",w;if(r.helper.isUndefined(C.replace))return w.valid=!1,w.error=S+'"regex" extensions must implement a replace string or function',w}}return w}r.validateExtension=function(h){var E=l(h,null);return E.valid?!0:(console.warn(E.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(h){return typeof h=="string"||h instanceof String},r.helper.isFunction=function(h){var E={};return h&&E.toString.call(h)==="[object Function]"},r.helper.isArray=function(h){return Array.isArray(h)},r.helper.isUndefined=function(h){return typeof h=="undefined"},r.helper.forEach=function(h,E){if(r.helper.isUndefined(h))throw new Error("obj param is required");if(r.helper.isUndefined(E))throw new Error("callback param is required");if(!r.helper.isFunction(E))throw new Error("callback param must be a function/closure");if(typeof h.forEach=="function")h.forEach(E);else if(r.helper.isArray(h))for(var g=0;g<h.length;g++)E(h[g],g,h);else if(typeof h=="object")for(var w in h)h.hasOwnProperty(w)&&E(h[w],w,h);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(h){return h.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function c(h,E){var g=E.charCodeAt(0);return"¨E"+g+"E"}r.helper.escapeCharactersCallback=c,r.helper.escapeCharacters=function(h,E,g){var w="(["+E.replace(/([\[\]\\])/g,"\\$1")+"])";g&&(w="\\\\"+w);var N=new RegExp(w,"g");return h=h.replace(N,c),h},r.helper.unescapeHTMLEntities=function(h){return h.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var d=function(h,E,g,w){var N=w||"",S=N.indexOf("g")>-1,C=new RegExp(E+"|"+g,"g"+N.replace(/g/g,"")),R=new RegExp(E,N.replace(/g/g,"")),U=[],H,F,B,v,V;do for(H=0;B=C.exec(h);)if(R.test(B[0]))H++||(F=C.lastIndex,v=F-B[0].length);else if(H&&!--H){V=B.index+B[0].length;var G={left:{start:v,end:F},match:{start:F,end:B.index},right:{start:B.index,end:V},wholeMatch:{start:v,end:V}};if(U.push(G),!S)return U}while(H&&(C.lastIndex=F));return U};r.helper.matchRecursiveRegExp=function(h,E,g,w){for(var N=d(h,E,g,w),S=[],C=0;C<N.length;++C)S.push([h.slice(N[C].wholeMatch.start,N[C].wholeMatch.end),h.slice(N[C].match.start,N[C].match.end),h.slice(N[C].left.start,N[C].left.end),h.slice(N[C].right.start,N[C].right.end)]);return S},r.helper.replaceRecursiveRegExp=function(h,E,g,w,N){if(!r.helper.isFunction(E)){var S=E;E=function(){return S}}var C=d(h,g,w,N),R=h,U=C.length;if(U>0){var H=[];C[0].wholeMatch.start!==0&&H.push(h.slice(0,C[0].wholeMatch.start));for(var F=0;F<U;++F)H.push(E(h.slice(C[F].wholeMatch.start,C[F].wholeMatch.end),h.slice(C[F].match.start,C[F].match.end),h.slice(C[F].left.start,C[F].left.end),h.slice(C[F].right.start,C[F].right.end))),F<U-1&&H.push(h.slice(C[F].wholeMatch.end,C[F+1].wholeMatch.start));C[U-1].wholeMatch.end<h.length&&H.push(h.slice(C[U-1].wholeMatch.end)),R=H.join("")}return R},r.helper.regexIndexOf=function(h,E,g){if(!r.helper.isString(h))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(E instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var w=h.substring(g||0).search(E);return w>=0?w+(g||0):w},r.helper.splitAtIndex=function(h,E){if(!r.helper.isString(h))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[h.substring(0,E),h.substring(E)]},r.helper.encodeEmailAddress=function(h){var E=[function(g){return"&#"+g.charCodeAt(0)+";"},function(g){return"&#x"+g.charCodeAt(0).toString(16)+";"},function(g){return g}];return h=h.replace(/./g,function(g){if(g==="@")g=E[Math.floor(Math.random()*2)](g);else{var w=Math.random();g=w>.9?E[2](g):w>.45?E[1](g):E[0](g)}return g}),h},r.helper.padEnd=function(E,g,w){return g=g>>0,w=String(w||" "),E.length>g?String(E):(g=g-E.length,g>w.length&&(w+=w.repeat(g/w.length)),String(E)+w.slice(0,g))},typeof console=="undefined"&&(console={warn:function(h){alert(h)},log:function(h){alert(h)},error:function(h){throw h}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(h){var E={},g=[],w=[],N={},S=o,C={parsed:{},raw:"",format:""};R();function R(){h=h||{};for(var v in a)a.hasOwnProperty(v)&&(E[v]=a[v]);if(typeof h=="object")for(var V in h)h.hasOwnProperty(V)&&(E[V]=h[V]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof h+" was passed instead.");E.extensions&&r.helper.forEach(E.extensions,U)}function U(v,V){if(V=V||null,r.helper.isString(v))if(v=r.helper.stdExtName(v),V=v,r.extensions[v]){console.warn("DEPRECATION WARNING: "+v+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),H(r.extensions[v],v);return}else if(!r.helper.isUndefined(s[v]))v=s[v];else throw Error('Extension "'+v+'" could not be loaded. It was either not found or is not a valid extension.');typeof v=="function"&&(v=v()),r.helper.isArray(v)||(v=[v]);var G=l(v,V);if(!G.valid)throw Error(G.error);for(var ie=0;ie<v.length;++ie){switch(v[ie].type){case"lang":g.push(v[ie]);break;case"output":w.push(v[ie]);break}if(v[ie].hasOwnProperty("listeners"))for(var _ in v[ie].listeners)v[ie].listeners.hasOwnProperty(_)&&F(_,v[ie].listeners[_])}}function H(v,V){typeof v=="function"&&(v=v(new r.Converter)),r.helper.isArray(v)||(v=[v]);var G=l(v,V);if(!G.valid)throw Error(G.error);for(var ie=0;ie<v.length;++ie)switch(v[ie].type){case"lang":g.push(v[ie]);break;case"output":w.push(v[ie]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function F(v,V){if(!r.helper.isString(v))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof v+" given");if(typeof V!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof V+" given");N.hasOwnProperty(v)||(N[v]=[]),N[v].push(V)}function B(v){var V=v.match(/^\s*/)[0].length,G=new RegExp("^\\s{0,"+V+"}","gm");return v.replace(G,"")}this._dispatch=function(V,G,ie,_){if(N.hasOwnProperty(V))for(var j=0;j<N[V].length;++j){var X=N[V][j](V,G,this,ie,_);X&&typeof X!="undefined"&&(G=X)}return G},this.listen=function(v,V){return F(v,V),this},this.makeHtml=function(v){if(!v)return v;var V={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:g,outputModifiers:w,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return v=v.replace(/¨/g,"¨T"),v=v.replace(/\$/g,"¨D"),v=v.replace(/\r\n/g,`
`),v=v.replace(/\r/g,`
`),v=v.replace(/\u00A0/g,"&nbsp;"),E.smartIndentationFix&&(v=B(v)),v=`

`+v+`

`,v=r.subParser("detab")(v,E,V),v=v.replace(/^[ \t]+$/mg,""),r.helper.forEach(g,function(G){v=r.subParser("runExtension")(G,v,E,V)}),v=r.subParser("metadata")(v,E,V),v=r.subParser("hashPreCodeTags")(v,E,V),v=r.subParser("githubCodeBlocks")(v,E,V),v=r.subParser("hashHTMLBlocks")(v,E,V),v=r.subParser("hashCodeTags")(v,E,V),v=r.subParser("stripLinkDefinitions")(v,E,V),v=r.subParser("blockGamut")(v,E,V),v=r.subParser("unhashHTMLSpans")(v,E,V),v=r.subParser("unescapeSpecialChars")(v,E,V),v=v.replace(/¨D/g,"$$"),v=v.replace(/¨T/g,"¨"),v=r.subParser("completeHTMLDocument")(v,E,V),r.helper.forEach(w,function(G){v=r.subParser("runExtension")(G,v,E,V)}),C=V.metadata,v},this.makeMarkdown=this.makeMd=function(v,V){if(v=v.replace(/\r\n/g,`
`),v=v.replace(/\r/g,`
`),v=v.replace(/>[ \t]+</,">¨NBSP;<"),!V)if(window&&window.document)V=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var G=V.createElement("div");G.innerHTML=v;var ie={preList:pe(G)};M(G);for(var _=G.childNodes,j="",X=0;X<_.length;X++)j+=r.subParser("makeMarkdown.node")(_[X],ie);function M(ye){for(var de=0;de<ye.childNodes.length;++de){var Ie=ye.childNodes[de];Ie.nodeType===3?!/\S/.test(Ie.nodeValue)&&!/^[ ]+$/.test(Ie.nodeValue)?(ye.removeChild(Ie),--de):(Ie.nodeValue=Ie.nodeValue.split(`
`).join(" "),Ie.nodeValue=Ie.nodeValue.replace(/(\s)+/g,"$1")):Ie.nodeType===1&&M(Ie)}}function pe(ye){for(var de=ye.querySelectorAll("pre"),Ie=[],J=0;J<de.length;++J)if(de[J].childElementCount===1&&de[J].firstChild.tagName.toLowerCase()==="code"){var Ue=de[J].firstChild.innerHTML.trim(),$e=de[J].firstChild.getAttribute("data-language")||"";if($e==="")for(var Ye=de[J].firstChild.className.split(" "),at=0;at<Ye.length;++at){var mt=Ye[at].match(/^language-(.+)$/);if(mt!==null){$e=mt[1];break}}Ue=r.helper.unescapeHTMLEntities(Ue),Ie.push(Ue),de[J].outerHTML='<precode language="'+$e+'" precodenum="'+J.toString()+'"></precode>'}else Ie.push(de[J].innerHTML),de[J].innerHTML="",de[J].setAttribute("prenum",J.toString());return Ie}return j},this.setOption=function(v,V){E[v]=V},this.getOption=function(v){return E[v]},this.getOptions=function(){return E},this.addExtension=function(v,V){V=V||null,U(v,V)},this.useExtension=function(v){U(v)},this.setFlavor=function(v){if(!u.hasOwnProperty(v))throw Error(v+" flavor was not found");var V=u[v];S=v;for(var G in V)V.hasOwnProperty(G)&&(E[G]=V[G])},this.getFlavor=function(){return S},this.removeExtension=function(v){r.helper.isArray(v)||(v=[v]);for(var V=0;V<v.length;++V){for(var G=v[V],ie=0;ie<g.length;++ie)g[ie]===G&&g.splice(ie,1);for(var _=0;_<w.length;++_)w[_]===G&&w.splice(_,1)}},this.getAllExtensions=function(){return{language:g,output:w}},this.getMetadata=function(v){return v?C.raw:C.parsed},this.getMetadataFormat=function(){return C.format},this._setMetadataPair=function(v,V){C.parsed[v]=V},this._setMetadataFormat=function(v){C.format=v},this._setMetadataRaw=function(v){C.raw=v}},r.subParser("anchors",function(h,E,g){h=g.converter._dispatch("anchors.before",h,E,g);var w=function(N,S,C,R,U,H,F){if(r.helper.isUndefined(F)&&(F=""),C=C.toLowerCase(),N.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)R="";else if(!R)if(C||(C=S.toLowerCase().replace(/ ?\n/g," ")),R="#"+C,!r.helper.isUndefined(g.gUrls[C]))R=g.gUrls[C],r.helper.isUndefined(g.gTitles[C])||(F=g.gTitles[C]);else return N;R=R.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var B='<a href="'+R+'"';return F!==""&&F!==null&&(F=F.replace(/"/g,"&quot;"),F=F.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),B+=' title="'+F+'"'),E.openLinksInNewWindow&&!/^#/.test(R)&&(B+=' rel="noopener noreferrer" target="¨E95Eblank"'),B+=">"+S+"</a>",B};return h=h.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,w),h=h.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,w),h=h.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,w),h=h.replace(/\[([^\[\]]+)]()()()()()/g,w),E.ghMentions&&(h=h.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(N,S,C,R,U){if(C==="\\")return S+R;if(!r.helper.isString(E.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var H=E.ghMentionsLink.replace(/\{u}/g,U),F="";return E.openLinksInNewWindow&&(F=' rel="noopener noreferrer" target="¨E95Eblank"'),S+'<a href="'+H+'"'+F+">"+R+"</a>"})),h=g.converter._dispatch("anchors.after",h,E,g),h});var f=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,p=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,y=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,k=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,x=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,T=function(h){return function(E,g,w,N,S,C,R){w=w.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var U=w,H="",F="",B=g||"",v=R||"";return/^www\./i.test(w)&&(w=w.replace(/^www\./i,"http://www.")),h.excludeTrailingPunctuationFromURLs&&C&&(H=C),h.openLinksInNewWindow&&(F=' rel="noopener noreferrer" target="¨E95Eblank"'),B+'<a href="'+w+'"'+F+">"+U+"</a>"+H+v}},O=function(h,E){return function(g,w,N){var S="mailto:";return w=w||"",N=r.subParser("unescapeSpecialChars")(N,h,E),h.encodeEmails?(S=r.helper.encodeEmailAddress(S+N),N=r.helper.encodeEmailAddress(N)):S=S+N,w+'<a href="'+S+'">'+N+"</a>"}};r.subParser("autoLinks",function(h,E,g){return h=g.converter._dispatch("autoLinks.before",h,E,g),h=h.replace(y,T(E)),h=h.replace(x,O(E,g)),h=g.converter._dispatch("autoLinks.after",h,E,g),h}),r.subParser("simplifiedAutoLinks",function(h,E,g){return E.simplifiedAutoLink&&(h=g.converter._dispatch("simplifiedAutoLinks.before",h,E,g),E.excludeTrailingPunctuationFromURLs?h=h.replace(p,T(E)):h=h.replace(f,T(E)),h=h.replace(k,O(E,g)),h=g.converter._dispatch("simplifiedAutoLinks.after",h,E,g)),h}),r.subParser("blockGamut",function(h,E,g){return h=g.converter._dispatch("blockGamut.before",h,E,g),h=r.subParser("blockQuotes")(h,E,g),h=r.subParser("headers")(h,E,g),h=r.subParser("horizontalRule")(h,E,g),h=r.subParser("lists")(h,E,g),h=r.subParser("codeBlocks")(h,E,g),h=r.subParser("tables")(h,E,g),h=r.subParser("hashHTMLBlocks")(h,E,g),h=r.subParser("paragraphs")(h,E,g),h=g.converter._dispatch("blockGamut.after",h,E,g),h}),r.subParser("blockQuotes",function(h,E,g){h=g.converter._dispatch("blockQuotes.before",h,E,g),h=h+`

`;var w=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return E.splitAdjacentBlockquotes&&(w=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),h=h.replace(w,function(N){return N=N.replace(/^[ \t]*>[ \t]?/gm,""),N=N.replace(/¨0/g,""),N=N.replace(/^[ \t]+$/gm,""),N=r.subParser("githubCodeBlocks")(N,E,g),N=r.subParser("blockGamut")(N,E,g),N=N.replace(/(^|\n)/g,"$1  "),N=N.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(S,C){var R=C;return R=R.replace(/^  /mg,"¨0"),R=R.replace(/¨0/g,""),R}),r.subParser("hashBlock")(`<blockquote>
`+N+`
</blockquote>`,E,g)}),h=g.converter._dispatch("blockQuotes.after",h,E,g),h}),r.subParser("codeBlocks",function(h,E,g){h=g.converter._dispatch("codeBlocks.before",h,E,g),h+="¨0";var w=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;return h=h.replace(w,function(N,S,C){var R=S,U=C,H=`
`;return R=r.subParser("outdent")(R,E,g),R=r.subParser("encodeCode")(R,E,g),R=r.subParser("detab")(R,E,g),R=R.replace(/^\n+/g,""),R=R.replace(/\n+$/g,""),E.omitExtraWLInCodeBlocks&&(H=""),R="<pre><code>"+R+H+"</code></pre>",r.subParser("hashBlock")(R,E,g)+U}),h=h.replace(/¨0/,""),h=g.converter._dispatch("codeBlocks.after",h,E,g),h}),r.subParser("codeSpans",function(h,E,g){return h=g.converter._dispatch("codeSpans.before",h,E,g),typeof h=="undefined"&&(h=""),h=h.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(w,N,S,C){var R=C;return R=R.replace(/^([ \t]*)/g,""),R=R.replace(/[ \t]*$/g,""),R=r.subParser("encodeCode")(R,E,g),R=N+"<code>"+R+"</code>",R=r.subParser("hashHTMLSpans")(R,E,g),R}),h=g.converter._dispatch("codeSpans.after",h,E,g),h}),r.subParser("completeHTMLDocument",function(h,E,g){if(!E.completeHTMLDocument)return h;h=g.converter._dispatch("completeHTMLDocument.before",h,E,g);var w="html",N=`<!DOCTYPE HTML>
`,S="",C=`<meta charset="utf-8">
`,R="",U="";typeof g.metadata.parsed.doctype!="undefined"&&(N="<!DOCTYPE "+g.metadata.parsed.doctype+`>
`,w=g.metadata.parsed.doctype.toString().toLowerCase(),(w==="html"||w==="html5")&&(C='<meta charset="utf-8">'));for(var H in g.metadata.parsed)if(g.metadata.parsed.hasOwnProperty(H))switch(H.toLowerCase()){case"doctype":break;case"title":S="<title>"+g.metadata.parsed.title+`</title>
`;break;case"charset":w==="html"||w==="html5"?C='<meta charset="'+g.metadata.parsed.charset+`">
`:C='<meta name="charset" content="'+g.metadata.parsed.charset+`">
`;break;case"language":case"lang":R=' lang="'+g.metadata.parsed[H]+'"',U+='<meta name="'+H+'" content="'+g.metadata.parsed[H]+`">
`;break;default:U+='<meta name="'+H+'" content="'+g.metadata.parsed[H]+`">
`}return h=N+"<html"+R+`>
<head>
`+S+C+U+`</head>
<body>
`+h.trim()+`
</body>
</html>`,h=g.converter._dispatch("completeHTMLDocument.after",h,E,g),h}),r.subParser("detab",function(h,E,g){return h=g.converter._dispatch("detab.before",h,E,g),h=h.replace(/\t(?=\t)/g,"    "),h=h.replace(/\t/g,"¨A¨B"),h=h.replace(/¨B(.+?)¨A/g,function(w,N){for(var S=N,C=4-S.length%4,R=0;R<C;R++)S+=" ";return S}),h=h.replace(/¨A/g,"    "),h=h.replace(/¨B/g,""),h=g.converter._dispatch("detab.after",h,E,g),h}),r.subParser("ellipsis",function(h,E,g){return E.ellipsis&&(h=g.converter._dispatch("ellipsis.before",h,E,g),h=h.replace(/\.\.\./g,"…"),h=g.converter._dispatch("ellipsis.after",h,E,g)),h}),r.subParser("emoji",function(h,E,g){if(!E.emoji)return h;h=g.converter._dispatch("emoji.before",h,E,g);var w=/:([\S]+?):/g;return h=h.replace(w,function(N,S){return r.helper.emojis.hasOwnProperty(S)?r.helper.emojis[S]:N}),h=g.converter._dispatch("emoji.after",h,E,g),h}),r.subParser("encodeAmpsAndAngles",function(h,E,g){return h=g.converter._dispatch("encodeAmpsAndAngles.before",h,E,g),h=h.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),h=h.replace(/<(?![a-z\/?$!])/gi,"&lt;"),h=h.replace(/</g,"&lt;"),h=h.replace(/>/g,"&gt;"),h=g.converter._dispatch("encodeAmpsAndAngles.after",h,E,g),h}),r.subParser("encodeBackslashEscapes",function(h,E,g){return h=g.converter._dispatch("encodeBackslashEscapes.before",h,E,g),h=h.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),h=h.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,r.helper.escapeCharactersCallback),h=g.converter._dispatch("encodeBackslashEscapes.after",h,E,g),h}),r.subParser("encodeCode",function(h,E,g){return h=g.converter._dispatch("encodeCode.before",h,E,g),h=h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),h=g.converter._dispatch("encodeCode.after",h,E,g),h}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(h,E,g){h=g.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",h,E,g);var w=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,N=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return h=h.replace(w,function(S){return S.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),h=h.replace(N,function(S){return S.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),h=g.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",h,E,g),h}),r.subParser("githubCodeBlocks",function(h,E,g){return E.ghCodeBlocks?(h=g.converter._dispatch("githubCodeBlocks.before",h,E,g),h+="¨0",h=h.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(w,N,S,C){var R=E.omitExtraWLInCodeBlocks?"":`
`;return C=r.subParser("encodeCode")(C,E,g),C=r.subParser("detab")(C,E,g),C=C.replace(/^\n+/g,""),C=C.replace(/\n+$/g,""),C="<pre><code"+(S?' class="'+S+" language-"+S+'"':"")+">"+C+R+"</code></pre>",C=r.subParser("hashBlock")(C,E,g),`

¨G`+(g.ghCodeBlocks.push({text:w,codeblock:C})-1)+`G

`}),h=h.replace(/¨0/,""),g.converter._dispatch("githubCodeBlocks.after",h,E,g)):h}),r.subParser("hashBlock",function(h,E,g){return h=g.converter._dispatch("hashBlock.before",h,E,g),h=h.replace(/(^\n+|\n+$)/g,""),h=`

¨K`+(g.gHtmlBlocks.push(h)-1)+`K

`,h=g.converter._dispatch("hashBlock.after",h,E,g),h}),r.subParser("hashCodeTags",function(h,E,g){h=g.converter._dispatch("hashCodeTags.before",h,E,g);var w=function(N,S,C,R){var U=C+r.subParser("encodeCode")(S,E,g)+R;return"¨C"+(g.gHtmlSpans.push(U)-1)+"C"};return h=r.helper.replaceRecursiveRegExp(h,w,"<code\\b[^>]*>","</code>","gim"),h=g.converter._dispatch("hashCodeTags.after",h,E,g),h}),r.subParser("hashElement",function(h,E,g){return function(w,N){var S=N;return S=S.replace(/\n\n/g,`
`),S=S.replace(/^\n/,""),S=S.replace(/\n+$/g,""),S=`

¨K`+(g.gHtmlBlocks.push(S)-1)+`K

`,S}}),r.subParser("hashHTMLBlocks",function(h,E,g){h=g.converter._dispatch("hashHTMLBlocks.before",h,E,g);var w=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],N=function(v,V,G,ie){var _=v;return G.search(/\bmarkdown\b/)!==-1&&(_=G+g.converter.makeHtml(V)+ie),`

¨K`+(g.gHtmlBlocks.push(_)-1)+`K

`};E.backslashEscapesHTMLTags&&(h=h.replace(/\\<(\/?[^>]+?)>/g,function(v,V){return"&lt;"+V+"&gt;"}));for(var S=0;S<w.length;++S)for(var C,R=new RegExp("^ {0,3}(<"+w[S]+"\\b[^>]*>)","im"),U="<"+w[S]+"\\b[^>]*>",H="</"+w[S]+">";(C=r.helper.regexIndexOf(h,R))!==-1;){var F=r.helper.splitAtIndex(h,C),B=r.helper.replaceRecursiveRegExp(F[1],N,U,H,"im");if(B===F[1])break;h=F[0].concat(B)}return h=h.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(h,E,g)),h=r.helper.replaceRecursiveRegExp(h,function(v){return`

¨K`+(g.gHtmlBlocks.push(v)-1)+`K

`},"^ {0,3}<!--","-->","gm"),h=h.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(h,E,g)),h=g.converter._dispatch("hashHTMLBlocks.after",h,E,g),h}),r.subParser("hashHTMLSpans",function(h,E,g){h=g.converter._dispatch("hashHTMLSpans.before",h,E,g);function w(N){return"¨C"+(g.gHtmlSpans.push(N)-1)+"C"}return h=h.replace(/<[^>]+?\/>/gi,function(N){return w(N)}),h=h.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(N){return w(N)}),h=h.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(N){return w(N)}),h=h.replace(/<[^>]+?>/gi,function(N){return w(N)}),h=g.converter._dispatch("hashHTMLSpans.after",h,E,g),h}),r.subParser("unhashHTMLSpans",function(h,E,g){h=g.converter._dispatch("unhashHTMLSpans.before",h,E,g);for(var w=0;w<g.gHtmlSpans.length;++w){for(var N=g.gHtmlSpans[w],S=0;/¨C(\d+)C/.test(N);){var C=RegExp.$1;if(N=N.replace("¨C"+C+"C",g.gHtmlSpans[C]),S===10){console.error("maximum nesting of 10 spans reached!!!");break}++S}h=h.replace("¨C"+w+"C",N)}return h=g.converter._dispatch("unhashHTMLSpans.after",h,E,g),h}),r.subParser("hashPreCodeTags",function(h,E,g){h=g.converter._dispatch("hashPreCodeTags.before",h,E,g);var w=function(N,S,C,R){var U=C+r.subParser("encodeCode")(S,E,g)+R;return`

¨G`+(g.ghCodeBlocks.push({text:N,codeblock:U})-1)+`G

`};return h=r.helper.replaceRecursiveRegExp(h,w,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),h=g.converter._dispatch("hashPreCodeTags.after",h,E,g),h}),r.subParser("headers",function(h,E,g){h=g.converter._dispatch("headers.before",h,E,g);var w=isNaN(parseInt(E.headerLevelStart))?1:parseInt(E.headerLevelStart),N=E.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,S=E.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;h=h.replace(N,function(U,H){var F=r.subParser("spanGamut")(H,E,g),B=E.noHeaderId?"":' id="'+R(H)+'"',v=w,V="<h"+v+B+">"+F+"</h"+v+">";return r.subParser("hashBlock")(V,E,g)}),h=h.replace(S,function(U,H){var F=r.subParser("spanGamut")(H,E,g),B=E.noHeaderId?"":' id="'+R(H)+'"',v=w+1,V="<h"+v+B+">"+F+"</h"+v+">";return r.subParser("hashBlock")(V,E,g)});var C=E.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;h=h.replace(C,function(U,H,F){var B=F;E.customizedHeaderId&&(B=F.replace(/\s?\{([^{]+?)}\s*$/,""));var v=r.subParser("spanGamut")(B,E,g),V=E.noHeaderId?"":' id="'+R(F)+'"',G=w-1+H.length,ie="<h"+G+V+">"+v+"</h"+G+">";return r.subParser("hashBlock")(ie,E,g)});function R(U){var H,F;if(E.customizedHeaderId){var B=U.match(/\{([^{]+?)}\s*$/);B&&B[1]&&(U=B[1])}return H=U,r.helper.isString(E.prefixHeaderId)?F=E.prefixHeaderId:E.prefixHeaderId===!0?F="section-":F="",E.rawPrefixHeaderId||(H=F+H),E.ghCompatibleHeaderId?H=H.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():E.rawHeaderId?H=H.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():H=H.replace(/[^\w]/g,"").toLowerCase(),E.rawPrefixHeaderId&&(H=F+H),g.hashLinkCounts[H]?H=H+"-"+g.hashLinkCounts[H]++:g.hashLinkCounts[H]=1,H}return h=g.converter._dispatch("headers.after",h,E,g),h}),r.subParser("horizontalRule",function(h,E,g){h=g.converter._dispatch("horizontalRule.before",h,E,g);var w=r.subParser("hashBlock")("<hr />",E,g);return h=h.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,w),h=h.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,w),h=h.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,w),h=g.converter._dispatch("horizontalRule.after",h,E,g),h}),r.subParser("images",function(h,E,g){h=g.converter._dispatch("images.before",h,E,g);var w=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,N=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,S=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,C=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,R=/!\[([^\[\]]+)]()()()()()/g;function U(F,B,v,V,G,ie,_,j){return V=V.replace(/\s/g,""),H(F,B,v,V,G,ie,_,j)}function H(F,B,v,V,G,ie,_,j){var X=g.gUrls,M=g.gTitles,pe=g.gDimensions;if(v=v.toLowerCase(),j||(j=""),F.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)V="";else if(V===""||V===null)if((v===""||v===null)&&(v=B.toLowerCase().replace(/ ?\n/g," ")),V="#"+v,!r.helper.isUndefined(X[v]))V=X[v],r.helper.isUndefined(M[v])||(j=M[v]),r.helper.isUndefined(pe[v])||(G=pe[v].width,ie=pe[v].height);else return F;B=B.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),V=V.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var ye='<img src="'+V+'" alt="'+B+'"';return j&&r.helper.isString(j)&&(j=j.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),ye+=' title="'+j+'"'),G&&ie&&(G=G==="*"?"auto":G,ie=ie==="*"?"auto":ie,ye+=' width="'+G+'"',ye+=' height="'+ie+'"'),ye+=" />",ye}return h=h.replace(C,H),h=h.replace(S,U),h=h.replace(N,H),h=h.replace(w,H),h=h.replace(R,H),h=g.converter._dispatch("images.after",h,E,g),h}),r.subParser("italicsAndBold",function(h,E,g){h=g.converter._dispatch("italicsAndBold.before",h,E,g);function w(N,S,C){return S+N+C}return E.literalMidWordUnderscores?(h=h.replace(/\b___(\S[\s\S]*?)___\b/g,function(N,S){return w(S,"<strong><em>","</em></strong>")}),h=h.replace(/\b__(\S[\s\S]*?)__\b/g,function(N,S){return w(S,"<strong>","</strong>")}),h=h.replace(/\b_(\S[\s\S]*?)_\b/g,function(N,S){return w(S,"<em>","</em>")})):(h=h.replace(/___(\S[\s\S]*?)___/g,function(N,S){return/\S$/.test(S)?w(S,"<strong><em>","</em></strong>"):N}),h=h.replace(/__(\S[\s\S]*?)__/g,function(N,S){return/\S$/.test(S)?w(S,"<strong>","</strong>"):N}),h=h.replace(/_([^\s_][\s\S]*?)_/g,function(N,S){return/\S$/.test(S)?w(S,"<em>","</em>"):N})),E.literalMidWordAsterisks?(h=h.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(N,S,C){return w(C,S+"<strong><em>","</em></strong>")}),h=h.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(N,S,C){return w(C,S+"<strong>","</strong>")}),h=h.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(N,S,C){return w(C,S+"<em>","</em>")})):(h=h.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(N,S){return/\S$/.test(S)?w(S,"<strong><em>","</em></strong>"):N}),h=h.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(N,S){return/\S$/.test(S)?w(S,"<strong>","</strong>"):N}),h=h.replace(/\*([^\s*][\s\S]*?)\*/g,function(N,S){return/\S$/.test(S)?w(S,"<em>","</em>"):N})),h=g.converter._dispatch("italicsAndBold.after",h,E,g),h}),r.subParser("lists",function(h,E,g){function w(C,R){g.gListLevel++,C=C.replace(/\n{2,}$/,`
`),C+="¨0";var U=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,H=/\n[ \t]*\n(?!¨0)/.test(C);return E.disableForced4SpacesIndentedSublists&&(U=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),C=C.replace(U,function(F,B,v,V,G,ie,_){_=_&&_.trim()!=="";var j=r.subParser("outdent")(G,E,g),X="";return ie&&E.tasklists&&(X=' class="task-list-item" style="list-style-type: none;"',j=j.replace(/^[ \t]*\[(x|X| )?]/m,function(){var M='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return _&&(M+=" checked"),M+=">",M})),j=j.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(M){return"¨A"+M}),B||j.search(/\n{2,}/)>-1?(j=r.subParser("githubCodeBlocks")(j,E,g),j=r.subParser("blockGamut")(j,E,g)):(j=r.subParser("lists")(j,E,g),j=j.replace(/\n$/,""),j=r.subParser("hashHTMLBlocks")(j,E,g),j=j.replace(/\n\n+/g,`

`),H?j=r.subParser("paragraphs")(j,E,g):j=r.subParser("spanGamut")(j,E,g)),j=j.replace("¨A",""),j="<li"+X+">"+j+`</li>
`,j}),C=C.replace(/¨0/g,""),g.gListLevel--,R&&(C=C.replace(/\s+$/,"")),C}function N(C,R){if(R==="ol"){var U=C.match(/^ *(\d+)\./);if(U&&U[1]!=="1")return' start="'+U[1]+'"'}return""}function S(C,R,U){var H=E.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,F=E.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,B=R==="ul"?H:F,v="";if(C.search(B)!==-1)(function G(ie){var _=ie.search(B),j=N(C,R);_!==-1?(v+=`

<`+R+j+`>
`+w(ie.slice(0,_),!!U)+"</"+R+`>
`,R=R==="ul"?"ol":"ul",B=R==="ul"?H:F,G(ie.slice(_))):v+=`

<`+R+j+`>
`+w(ie,!!U)+"</"+R+`>
`})(C);else{var V=N(C,R);v=`

<`+R+V+`>
`+w(C,!!U)+"</"+R+`>
`}return v}return h=g.converter._dispatch("lists.before",h,E,g),h+="¨0",g.gListLevel?h=h.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(C,R,U){var H=U.search(/[*+-]/g)>-1?"ul":"ol";return S(R,H,!0)}):h=h.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(C,R,U,H){var F=H.search(/[*+-]/g)>-1?"ul":"ol";return S(U,F,!1)}),h=h.replace(/¨0/,""),h=g.converter._dispatch("lists.after",h,E,g),h}),r.subParser("metadata",function(h,E,g){if(!E.metadata)return h;h=g.converter._dispatch("metadata.before",h,E,g);function w(N){g.metadata.raw=N,N=N.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),N=N.replace(/\n {4}/g," "),N.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(S,C,R){return g.metadata.parsed[C]=R,""})}return h=h.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,function(N,S,C){return w(C),"¨M"}),h=h.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(N,S,C){return S&&(g.metadata.format=S),w(C),"¨M"}),h=h.replace(/¨M/g,""),h=g.converter._dispatch("metadata.after",h,E,g),h}),r.subParser("outdent",function(h,E,g){return h=g.converter._dispatch("outdent.before",h,E,g),h=h.replace(/^(\t|[ ]{1,4})/gm,"¨0"),h=h.replace(/¨0/g,""),h=g.converter._dispatch("outdent.after",h,E,g),h}),r.subParser("paragraphs",function(h,E,g){h=g.converter._dispatch("paragraphs.before",h,E,g),h=h.replace(/^\n+/g,""),h=h.replace(/\n+$/g,"");for(var w=h.split(/\n{2,}/g),N=[],S=w.length,C=0;C<S;C++){var R=w[C];R.search(/¨(K|G)(\d+)\1/g)>=0?N.push(R):R.search(/\S/)>=0&&(R=r.subParser("spanGamut")(R,E,g),R=R.replace(/^([ \t]*)/g,"<p>"),R+="</p>",N.push(R))}for(S=N.length,C=0;C<S;C++){for(var U="",H=N[C],F=!1;/¨(K|G)(\d+)\1/.test(H);){var B=RegExp.$1,v=RegExp.$2;B==="K"?U=g.gHtmlBlocks[v]:F?U=r.subParser("encodeCode")(g.ghCodeBlocks[v].text,E,g):U=g.ghCodeBlocks[v].codeblock,U=U.replace(/\$/g,"$$$$"),H=H.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,U),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(H)&&(F=!0)}N[C]=H}return h=N.join(`
`),h=h.replace(/^\n+/g,""),h=h.replace(/\n+$/g,""),g.converter._dispatch("paragraphs.after",h,E,g)}),r.subParser("runExtension",function(h,E,g,w){if(h.filter)E=h.filter(E,w.converter,g);else if(h.regex){var N=h.regex;N instanceof RegExp||(N=new RegExp(N,"g")),E=E.replace(N,h.replace)}return E}),r.subParser("spanGamut",function(h,E,g){return h=g.converter._dispatch("spanGamut.before",h,E,g),h=r.subParser("codeSpans")(h,E,g),h=r.subParser("escapeSpecialCharsWithinTagAttributes")(h,E,g),h=r.subParser("encodeBackslashEscapes")(h,E,g),h=r.subParser("images")(h,E,g),h=r.subParser("anchors")(h,E,g),h=r.subParser("autoLinks")(h,E,g),h=r.subParser("simplifiedAutoLinks")(h,E,g),h=r.subParser("emoji")(h,E,g),h=r.subParser("underline")(h,E,g),h=r.subParser("italicsAndBold")(h,E,g),h=r.subParser("strikethrough")(h,E,g),h=r.subParser("ellipsis")(h,E,g),h=r.subParser("hashHTMLSpans")(h,E,g),h=r.subParser("encodeAmpsAndAngles")(h,E,g),E.simpleLineBreaks?/\n\n¨K/.test(h)||(h=h.replace(/\n+/g,`<br />
`)):h=h.replace(/  +\n/g,`<br />
`),h=g.converter._dispatch("spanGamut.after",h,E,g),h}),r.subParser("strikethrough",function(h,E,g){function w(N){return E.simplifiedAutoLink&&(N=r.subParser("simplifiedAutoLinks")(N,E,g)),"<del>"+N+"</del>"}return E.strikethrough&&(h=g.converter._dispatch("strikethrough.before",h,E,g),h=h.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(N,S){return w(S)}),h=g.converter._dispatch("strikethrough.after",h,E,g)),h}),r.subParser("stripLinkDefinitions",function(h,E,g){var w=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,N=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;h+="¨0";var S=function(C,R,U,H,F,B,v){return R=R.toLowerCase(),h.toLowerCase().split(R).length-1<2?C:(U.match(/^data:.+?\/.+?;base64,/)?g.gUrls[R]=U.replace(/\s/g,""):g.gUrls[R]=r.subParser("encodeAmpsAndAngles")(U,E,g),B?B+v:(v&&(g.gTitles[R]=v.replace(/"|'/g,"&quot;")),E.parseImgDimensions&&H&&F&&(g.gDimensions[R]={width:H,height:F}),""))};return h=h.replace(N,S),h=h.replace(w,S),h=h.replace(/¨0/,""),h}),r.subParser("tables",function(h,E,g){if(!E.tables)return h;var w=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,N=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;function S(F){return/^:[ \t]*--*$/.test(F)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(F)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(F)?' style="text-align:center;"':""}function C(F,B){var v="";return F=F.trim(),(E.tablesHeaderId||E.tableHeaderId)&&(v=' id="'+F.replace(/ /g,"_").toLowerCase()+'"'),F=r.subParser("spanGamut")(F,E,g),"<th"+v+B+">"+F+`</th>
`}function R(F,B){var v=r.subParser("spanGamut")(F,E,g);return"<td"+B+">"+v+`</td>
`}function U(F,B){for(var v=`<table>
<thead>
<tr>
`,V=F.length,G=0;G<V;++G)v+=F[G];for(v+=`</tr>
</thead>
<tbody>
`,G=0;G<B.length;++G){v+=`<tr>
`;for(var ie=0;ie<V;++ie)v+=B[G][ie];v+=`</tr>
`}return v+=`</tbody>
</table>
`,v}function H(F){var B,v=F.split(`
`);for(B=0;B<v.length;++B)/^ {0,3}\|/.test(v[B])&&(v[B]=v[B].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(v[B])&&(v[B]=v[B].replace(/\|[ \t]*$/,"")),v[B]=r.subParser("codeSpans")(v[B],E,g);var V=v[0].split("|").map(function(ye){return ye.trim()}),G=v[1].split("|").map(function(ye){return ye.trim()}),ie=[],_=[],j=[],X=[];for(v.shift(),v.shift(),B=0;B<v.length;++B)v[B].trim()!==""&&ie.push(v[B].split("|").map(function(ye){return ye.trim()}));if(V.length<G.length)return F;for(B=0;B<G.length;++B)j.push(S(G[B]));for(B=0;B<V.length;++B)r.helper.isUndefined(j[B])&&(j[B]=""),_.push(C(V[B],j[B]));for(B=0;B<ie.length;++B){for(var M=[],pe=0;pe<_.length;++pe)r.helper.isUndefined(ie[B][pe]),M.push(R(ie[B][pe],j[pe]));X.push(M)}return U(_,X)}return h=g.converter._dispatch("tables.before",h,E,g),h=h.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),h=h.replace(w,H),h=h.replace(N,H),h=g.converter._dispatch("tables.after",h,E,g),h}),r.subParser("underline",function(h,E,g){return E.underline&&(h=g.converter._dispatch("underline.before",h,E,g),E.literalMidWordUnderscores?(h=h.replace(/\b___(\S[\s\S]*?)___\b/g,function(w,N){return"<u>"+N+"</u>"}),h=h.replace(/\b__(\S[\s\S]*?)__\b/g,function(w,N){return"<u>"+N+"</u>"})):(h=h.replace(/___(\S[\s\S]*?)___/g,function(w,N){return/\S$/.test(N)?"<u>"+N+"</u>":w}),h=h.replace(/__(\S[\s\S]*?)__/g,function(w,N){return/\S$/.test(N)?"<u>"+N+"</u>":w})),h=h.replace(/(_)/g,r.helper.escapeCharactersCallback),h=g.converter._dispatch("underline.after",h,E,g)),h}),r.subParser("unescapeSpecialChars",function(h,E,g){return h=g.converter._dispatch("unescapeSpecialChars.before",h,E,g),h=h.replace(/¨E(\d+)E/g,function(w,N){var S=parseInt(N);return String.fromCharCode(S)}),h=g.converter._dispatch("unescapeSpecialChars.after",h,E,g),h}),r.subParser("makeMarkdown.blockquote",function(h,E){var g="";if(h.hasChildNodes())for(var w=h.childNodes,N=w.length,S=0;S<N;++S){var C=r.subParser("makeMarkdown.node")(w[S],E);C!==""&&(g+=C)}return g=g.trim(),g="> "+g.split(`
`).join(`
> `),g}),r.subParser("makeMarkdown.codeBlock",function(h,E){var g=h.getAttribute("language"),w=h.getAttribute("precodenum");return"```"+g+`
`+E.preList[w]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(h){return"`"+h.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(h,E){var g="";if(h.hasChildNodes()){g+="*";for(var w=h.childNodes,N=w.length,S=0;S<N;++S)g+=r.subParser("makeMarkdown.node")(w[S],E);g+="*"}return g}),r.subParser("makeMarkdown.header",function(h,E,g){var w=new Array(g+1).join("#"),N="";if(h.hasChildNodes()){N=w+" ";for(var S=h.childNodes,C=S.length,R=0;R<C;++R)N+=r.subParser("makeMarkdown.node")(S[R],E)}return N}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(h){var E="";return h.hasAttribute("src")&&(E+="!["+h.getAttribute("alt")+"](",E+="<"+h.getAttribute("src")+">",h.hasAttribute("width")&&h.hasAttribute("height")&&(E+=" ="+h.getAttribute("width")+"x"+h.getAttribute("height")),h.hasAttribute("title")&&(E+=' "'+h.getAttribute("title")+'"'),E+=")"),E}),r.subParser("makeMarkdown.links",function(h,E){var g="";if(h.hasChildNodes()&&h.hasAttribute("href")){var w=h.childNodes,N=w.length;g="[";for(var S=0;S<N;++S)g+=r.subParser("makeMarkdown.node")(w[S],E);g+="](",g+="<"+h.getAttribute("href")+">",h.hasAttribute("title")&&(g+=' "'+h.getAttribute("title")+'"'),g+=")"}return g}),r.subParser("makeMarkdown.list",function(h,E,g){var w="";if(!h.hasChildNodes())return"";for(var N=h.childNodes,S=N.length,C=h.getAttribute("start")||1,R=0;R<S;++R)if(!(typeof N[R].tagName=="undefined"||N[R].tagName.toLowerCase()!=="li")){var U="";g==="ol"?U=C.toString()+". ":U="- ",w+=U+r.subParser("makeMarkdown.listItem")(N[R],E),++C}return w+=`
<!-- -->
`,w.trim()}),r.subParser("makeMarkdown.listItem",function(h,E){for(var g="",w=h.childNodes,N=w.length,S=0;S<N;++S)g+=r.subParser("makeMarkdown.node")(w[S],E);return/\n$/.test(g)?g=g.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):g+=`
`,g}),r.subParser("makeMarkdown.node",function(h,E,g){g=g||!1;var w="";if(h.nodeType===3)return r.subParser("makeMarkdown.txt")(h,E);if(h.nodeType===8)return"<!--"+h.data+`-->

`;if(h.nodeType!==1)return"";var N=h.tagName.toLowerCase();switch(N){case"h1":g||(w=r.subParser("makeMarkdown.header")(h,E,1)+`

`);break;case"h2":g||(w=r.subParser("makeMarkdown.header")(h,E,2)+`

`);break;case"h3":g||(w=r.subParser("makeMarkdown.header")(h,E,3)+`

`);break;case"h4":g||(w=r.subParser("makeMarkdown.header")(h,E,4)+`

`);break;case"h5":g||(w=r.subParser("makeMarkdown.header")(h,E,5)+`

`);break;case"h6":g||(w=r.subParser("makeMarkdown.header")(h,E,6)+`

`);break;case"p":g||(w=r.subParser("makeMarkdown.paragraph")(h,E)+`

`);break;case"blockquote":g||(w=r.subParser("makeMarkdown.blockquote")(h,E)+`

`);break;case"hr":g||(w=r.subParser("makeMarkdown.hr")(h,E)+`

`);break;case"ol":g||(w=r.subParser("makeMarkdown.list")(h,E,"ol")+`

`);break;case"ul":g||(w=r.subParser("makeMarkdown.list")(h,E,"ul")+`

`);break;case"precode":g||(w=r.subParser("makeMarkdown.codeBlock")(h,E)+`

`);break;case"pre":g||(w=r.subParser("makeMarkdown.pre")(h,E)+`

`);break;case"table":g||(w=r.subParser("makeMarkdown.table")(h,E)+`

`);break;case"code":w=r.subParser("makeMarkdown.codeSpan")(h,E);break;case"em":case"i":w=r.subParser("makeMarkdown.emphasis")(h,E);break;case"strong":case"b":w=r.subParser("makeMarkdown.strong")(h,E);break;case"del":w=r.subParser("makeMarkdown.strikethrough")(h,E);break;case"a":w=r.subParser("makeMarkdown.links")(h,E);break;case"img":w=r.subParser("makeMarkdown.image")(h,E);break;default:w=h.outerHTML+`

`}return w}),r.subParser("makeMarkdown.paragraph",function(h,E){var g="";if(h.hasChildNodes())for(var w=h.childNodes,N=w.length,S=0;S<N;++S)g+=r.subParser("makeMarkdown.node")(w[S],E);return g=g.trim(),g}),r.subParser("makeMarkdown.pre",function(h,E){var g=h.getAttribute("prenum");return"<pre>"+E.preList[g]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(h,E){var g="";if(h.hasChildNodes()){g+="~~";for(var w=h.childNodes,N=w.length,S=0;S<N;++S)g+=r.subParser("makeMarkdown.node")(w[S],E);g+="~~"}return g}),r.subParser("makeMarkdown.strong",function(h,E){var g="";if(h.hasChildNodes()){g+="**";for(var w=h.childNodes,N=w.length,S=0;S<N;++S)g+=r.subParser("makeMarkdown.node")(w[S],E);g+="**"}return g}),r.subParser("makeMarkdown.table",function(h,E){var g="",w=[[],[]],N=h.querySelectorAll("thead>tr>th"),S=h.querySelectorAll("tbody>tr"),C,R;for(C=0;C<N.length;++C){var U=r.subParser("makeMarkdown.tableCell")(N[C],E),H="---";if(N[C].hasAttribute("style")){var F=N[C].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(F){case"text-align:left;":H=":---";break;case"text-align:right;":H="---:";break;case"text-align:center;":H=":---:";break}}w[0][C]=U.trim(),w[1][C]=H}for(C=0;C<S.length;++C){var B=w.push([])-1,v=S[C].getElementsByTagName("td");for(R=0;R<N.length;++R){var V=" ";typeof v[R]!="undefined"&&(V=r.subParser("makeMarkdown.tableCell")(v[R],E)),w[B].push(V)}}var G=3;for(C=0;C<w.length;++C)for(R=0;R<w[C].length;++R){var ie=w[C][R].length;ie>G&&(G=ie)}for(C=0;C<w.length;++C){for(R=0;R<w[C].length;++R)C===1?w[C][R].slice(-1)===":"?w[C][R]=r.helper.padEnd(w[C][R].slice(-1),G-1,"-")+":":w[C][R]=r.helper.padEnd(w[C][R],G,"-"):w[C][R]=r.helper.padEnd(w[C][R],G);g+="| "+w[C].join(" | ")+` |
`}return g.trim()}),r.subParser("makeMarkdown.tableCell",function(h,E){var g="";if(!h.hasChildNodes())return"";for(var w=h.childNodes,N=w.length,S=0;S<N;++S)g+=r.subParser("makeMarkdown.node")(w[S],E,!0);return g.trim()}),r.subParser("makeMarkdown.txt",function(h){var E=h.nodeValue;return E=E.replace(/ +/g," "),E=E.replace(/¨NBSP;/g," "),E=r.helper.unescapeHTMLEntities(E),E=E.replace(/([*_~|`])/g,"\\$1"),E=E.replace(/^(\s*)>/g,"\\$1>"),E=E.replace(/^#/gm,"\\#"),E=E.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),E=E.replace(/^( {0,3}\d+)\./gm,"$1\\."),E=E.replace(/^( {0,3})([+-])/gm,"$1\\$2"),E=E.replace(/]([\s]*)\(/g,"\\]$1\\("),E=E.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),E});var D=this;e.exports?e.exports=r:D.showdown=r}).call(WN)})(Aa)),Aa.exports}var YN=KN();const Ka=wc(YN);var Hu={exports:{}},zu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh;function GN(){if(Dh)return zu;Dh=1;var e=gm();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,a=e.useDebugValue;function o(d,f){var p=f(),y=r({inst:{value:p,getSnapshot:f}}),k=y[0].inst,x=y[1];return s(function(){k.value=p,k.getSnapshot=f,u(k)&&x({inst:k})},[d,p,f]),i(function(){return u(k)&&x({inst:k}),d(function(){u(k)&&x({inst:k})})},[d]),a(p),p}function u(d){var f=d.getSnapshot;d=d.value;try{var p=f();return!n(d,p)}catch(y){return!0}}function l(d,f){return f()}var c=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?l:o;return zu.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:c,zu}var Ph;function Fg(){return Ph||(Ph=1,Hu.exports=GN()),Hu.exports}var jg=Fg();function Ct(e){this.content=e}Ct.prototype={constructor:Ct,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),s=r.content.slice();return i==-1?s.push(n||e,t):(s[i+1]=t,n&&(s[i]=n)),new Ct(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Ct(n)},addToStart:function(e,t){return new Ct([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Ct(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),s=r.find(e);return i.splice(s==-1?i.length:s,0,t,n),new Ct(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Ct.from(e),e.size?new Ct(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Ct.from(e),e.size?new Ct(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Ct.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Ct.from=function(e){if(e instanceof Ct)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Ct(t)};function Hg(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),s=t.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){let a=Hg(i.content,s.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function zg(e,t,n,r){for(let i=e.childCount,s=t.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let a=e.child(--i),o=t.child(--s),u=a.nodeSize;if(a==o){n-=u,r-=u;continue}if(!a.sameMarkup(o))return{a:n,b:r};if(a.isText&&a.text!=o.text){let l=0,c=Math.min(a.text.length,o.text.length);for(;l<c&&a.text[a.text.length-l-1]==o.text[o.text.length-l-1];)l++,n--,r--;return{a:n,b:r}}if(a.content.size||o.content.size){let l=zg(a.content,o.content,n-1,r-1);if(l)return l}n-=u,r-=u}}class Q{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,s){for(let a=0,o=0;o<n;a++){let u=this.content[a],l=o+u.nodeSize;if(l>t&&r(u,i+o,s||null,a)!==!1&&u.content.size){let c=o+1;u.nodesBetween(Math.max(0,t-c),Math.min(u.content.size,n-c),r,i+c)}o=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let s="",a=!0;return this.nodesBetween(t,n,(o,u)=>{let l=o.isText?o.text.slice(Math.max(t,u)-u,n-u):o.isLeaf?i?typeof i=="function"?i(o):i:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&l||o.isTextblock)&&r&&(a?a=!1:s+=r),s+=l},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new Q(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let s=0,a=0;a<n;s++){let o=this.content[s],u=a+o.nodeSize;u>t&&((a<t||u>n)&&(o.isText?o=o.cut(Math.max(0,t-a),Math.min(o.text.length,n-a)):o=o.cut(Math.max(0,t-a-1),Math.min(o.content.size,n-a-1))),r.push(o),i+=o.nodeSize),a=u}return new Q(r,i)}cutByIndex(t,n){return t==n?Q.empty:t==0&&n==this.content.length?this:new Q(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new Q(i,s)}addToStart(t){return new Q([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Q(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return Hg(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return zg(this,t,n,r)}findIndex(t){if(t==0)return ua(0,t);if(t==this.size)return ua(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=t)return s==t?ua(n+1,s):ua(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return Q.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Q(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Q.empty;let n,r=0;for(let i=0;i<t.length;i++){let s=t[i];r+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(n||(n=t.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new Q(n||t,r)}static from(t){if(!t)return Q.empty;if(t instanceof Q)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Q([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Q.empty=new Q([],0);const Uu={index:0,offset:0};function ua(e,t){return Uu.index=e,Uu.offset=t,Uu}function Ya(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!Ya(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!Ya(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let He=class Wl{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let s=t[i];if(this.eq(s))return t;if(this.type.excludes(s.type))n||(n=t.slice(0,i));else{if(s.type.excludes(this.type))return t;!r&&s.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Ya(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Wl.none;if(t instanceof Wl)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};He.none=[];class Ga extends Error{}class ue{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=$g(this.content,t+this.openStart,n);return r&&new ue(r,this.openStart,this.openEnd)}removeBetween(t,n){return new ue(Ug(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return ue.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ue(Q.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let s=t.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new ue(t,r,i)}}ue.empty=new ue(Q.empty,0,0);function Ug(e,t,n){let{index:r,offset:i}=e.findIndex(t),s=e.maybeChild(r),{index:a,offset:o}=e.findIndex(n);if(i==t||s.isText){if(o!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy(Ug(s.content,t-i-1,n-i-1)))}function $g(e,t,n,r){let{index:i,offset:s}=e.findIndex(t),a=e.maybeChild(i);if(s==t||a.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let o=$g(a.content,t-s-1,n,a);return o&&e.replaceChild(i,a.copy(o))}function QN(e,t,n){if(n.openStart>e.depth)throw new Ga("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Ga("Inconsistent open depths");return Vg(e,t,n,0)}function Vg(e,t,n,r){let i=e.index(r),s=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let a=Vg(e,t,n,r+1);return s.copy(s.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let a=e.parent,o=a.content;return Hr(a,o.cut(0,e.parentOffset).append(n.content).append(o.cut(t.parentOffset)))}else{let{start:a,end:o}=XN(n,e);return Hr(s,Wg(e,a,o,t,r))}else return Hr(s,Qa(e,t,r))}function qg(e,t){if(!t.type.compatibleContent(e.type))throw new Ga("Cannot join "+t.type.name+" onto "+e.type.name)}function Kl(e,t,n){let r=e.node(n);return qg(r,t.node(n)),r}function jr(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function gs(e,t,n,r){let i=(t||e).node(n),s=0,a=t?t.index(n):i.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(jr(e.nodeAfter,r),s++));for(let o=s;o<a;o++)jr(i.child(o),r);t&&t.depth==n&&t.textOffset&&jr(t.nodeBefore,r)}function Hr(e,t){return e.type.checkContent(t),e.copy(t)}function Wg(e,t,n,r,i){let s=e.depth>i&&Kl(e,t,i+1),a=r.depth>i&&Kl(n,r,i+1),o=[];return gs(null,e,i,o),s&&a&&t.index(i)==n.index(i)?(qg(s,a),jr(Hr(s,Wg(e,t,n,r,i+1)),o)):(s&&jr(Hr(s,Qa(e,t,i+1)),o),gs(t,n,i,o),a&&jr(Hr(a,Qa(n,r,i+1)),o)),gs(r,null,i,o),new Q(o)}function Qa(e,t,n){let r=[];if(gs(null,e,n,r),e.depth>n){let i=Kl(e,t,n+1);jr(Hr(i,Qa(e,t,n+1)),r)}return gs(t,null,n,r),new Q(r)}function XN(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let s=n-1;s>=0;s--)i=t.node(s).copy(Q.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class Os{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<t;s++)i+=r.child(s).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return He.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let o=r;r=i,i=o}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new Xa(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let a=t;;){let{index:o,offset:u}=a.content.findIndex(s),l=s-u;if(r.push(a,o,i+u),!l||(a=a.child(o),a.isText))break;s=l-1,i+=u+1}return new Os(n,r,s)}static resolveCached(t,n){let r=Bh.get(t);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else Bh.set(t,r=new JN);let i=r.elts[r.i]=Os.resolve(t,n);return r.i=(r.i+1)%ZN,i}}class JN{constructor(){this.elts=[],this.i=0}}const ZN=12,Bh=new WeakMap;class Xa{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ev=Object.create(null);class Sn{constructor(t,n,r,i=He.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||Q.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Ya(this.attrs,n||t.defaultAttrs||ev)&&He.sameSet(this.marks,r||He.none)}copy(t=null){return t==this.content?this:new Sn(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Sn(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return ue.empty;let i=this.resolve(t),s=this.resolve(n),a=r?0:i.sharedDepth(n),o=i.start(a),l=i.node(a).content.cut(i.pos-o,s.pos-o);return new ue(l,i.depth-a,s.depth-a)}replace(t,n,r){return QN(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return Os.resolveCached(this,t)}resolveNoCache(t){return Os.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Kg(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=Q.empty,i=0,s=r.childCount){let a=this.contentMatchAt(t).matchFragment(r,i,s),o=a&&a.matchFragment(this.content,n);if(!o||!o.validEnd)return!1;for(let u=i;u<s;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(t).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=He.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!He.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=Q.fromJSON(t,n.content),s=t.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}}Sn.prototype.text=void 0;class Ja extends Sn{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Kg(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Ja(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Ja(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Kg(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Yr{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new tv(t,n);if(r.next==null)return Yr.empty;let i=Yg(r);r.next&&r.err("Unexpected trailing text");let s=uv(ov(i));return lv(s,r),s}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(t.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function s(a,o){let u=a.matchFragment(t,r);if(u&&(!n||u.validEnd))return Q.from(o.map(l=>l.createAndFill()));for(let l=0;l<a.next.length;l++){let{type:c,next:d}=a.next[l];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=s(d,o.concat(c));if(f)return f}}return null}return s(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(t)){let a=[];for(let o=i;o.type;o=o.via)a.push(o.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:o,next:u}=s.next[a];!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in n)&&(!i.type||u.validEnd)&&(r.push({match:o.contentMatch,type:o,via:i}),n[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+t.indexOf(r.next[a].next);return s}).join(`
`)}}Yr.empty=new Yr(!0);class tv{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function Yg(e){let t=[];do t.push(nv(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function nv(e){let t=[];do t.push(rv(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function rv(e){let t=av(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=iv(e,t);else break;return t}function Fh(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function iv(e,t){let n=Fh(e),r=n;return e.eat(",")&&(e.next!="}"?r=Fh(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function sv(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let s in n){let a=n[s];a.isInGroup(t)&&i.push(a)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function av(e){if(e.eat("(")){let t=Yg(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=sv(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function ov(e){let t=[[]];return i(s(e,0),n()),t;function n(){return t.push([])-1}function r(a,o,u){let l={term:u,to:o};return t[a].push(l),l}function i(a,o){a.forEach(u=>u.to=o)}function s(a,o){if(a.type=="choice")return a.exprs.reduce((u,l)=>u.concat(s(l,o)),[]);if(a.type=="seq")for(let u=0;;u++){let l=s(a.exprs[u],o);if(u==a.exprs.length-1)return l;i(l,o=n())}else if(a.type=="star"){let u=n();return r(o,u),i(s(a.expr,u),u),[r(u)]}else if(a.type=="plus"){let u=n();return i(s(a.expr,o),u),i(s(a.expr,u),u),[r(u)]}else{if(a.type=="opt")return[r(o)].concat(s(a.expr,o));if(a.type=="range"){let u=o;for(let l=0;l<a.min;l++){let c=n();i(s(a.expr,u),c),u=c}if(a.max==-1)i(s(a.expr,u),u);else for(let l=a.min;l<a.max;l++){let c=n();r(u,c),i(s(a.expr,u),c),u=c}return[r(u)]}else{if(a.type=="name")return[r(o,void 0,a.value)];throw new Error("Unknown expr type")}}}}function Gg(e,t){return t-e}function jh(e,t){let n=[];return r(t),n.sort(Gg);function r(i){let s=e[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let a=0;a<s.length;a++){let{term:o,to:u}=s[a];!o&&n.indexOf(u)==-1&&r(u)}}}function uv(e){let t=Object.create(null);return n(jh(e,0));function n(r){let i=[];r.forEach(a=>{e[a].forEach(({term:o,to:u})=>{if(!o)return;let l;for(let c=0;c<i.length;c++)i[c][0]==o&&(l=i[c][1]);jh(e,u).forEach(c=>{l||i.push([o,l=[]]),l.indexOf(c)==-1&&l.push(c)})})});let s=t[r.join(",")]=new Yr(r.indexOf(e.length-1)>-1);for(let a=0;a<i.length;a++){let o=i[a][1].sort(Gg);s.next.push({type:i[a][0],next:t[o.join(",")]||n(o)})}return s}}function lv(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],s=!i.validEnd,a=[];for(let o=0;o<i.next.length;o++){let{type:u,next:l}=i.next[o];a.push(u.name),s&&!(u.isText||u.hasRequiredAttrs())&&(s=!1),r.indexOf(l)==-1&&r.push(l)}s&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Qg(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function Xg(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let s=e[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Jg(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let s=e[i];s.validate&&s.validate(t[i])}}function Zg(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new dv(e,r,t[r]);return n}let Hh=class e1{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Zg(t,r.attrs),this.defaultAttrs=Qg(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Yr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Xg(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Sn(this,this.computeAttrs(t),Q.from(n),He.setFrom(r))}createChecked(t=null,n,r){return n=Q.from(n),this.checkContent(n),new Sn(this,this.computeAttrs(t),n,He.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=Q.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(Q.empty,!0);return s?new Sn(this,t,n.append(s),He.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){Jg(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:He.none:t}static compile(t,n){let r=Object.create(null);t.forEach((s,a)=>r[s]=new e1(s,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function cv(e,t,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${s}`)}}class dv{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?cv(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Xo{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=Zg(t,i.attrs),this.excluded=null;let s=Qg(this.attrs);this.instance=s?new He(this,s):null}create(t=null){return!t&&this.instance?this.instance:new He(this,Xg(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((s,a)=>r[s]=new Xo(s,i++,n,a)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){Jg(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class t1{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=Ct.from(t.nodes),n.marks=Ct.from(t.marks||{}),this.nodes=Hh.compile(this.spec.nodes,this),this.marks=Xo.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",o=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=Yr.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=o=="_"?null:o?zh(this,o.split(" ")):o==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:zh(this,a.split(" "))}this.nodeFromJSON=i=>Sn.fromJSON(this,i),this.markFromJSON=i=>He.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof Hh){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new Ja(r,r.defaultAttrs,t,He.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function zh(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],s=e.marks[i],a=s;if(s)n.push(s);else for(let o in e.marks){let u=e.marks[o];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=u)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function fv(e){return e.tag!=null}function hv(e){return e.style!=null}let bs=class Yl{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(fv(i))this.tags.push(i);else if(hv(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=t.nodes[i.node];return s.contentMatch.matchType(s)})}parse(t,n={}){let r=new $h(this,n,!1);return r.addAll(t,He.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new $h(this,n,!0);return r.addAll(t,He.none,n.from,n.to),ue.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(gv(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(t);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(t,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],o=a.style;if(!(o.indexOf(t)!=0||a.context&&!r.matchesContext(a.context)||o.length>t.length&&(o.charCodeAt(t.length)!=61||o.slice(t.length+1)!=n))){if(a.getAttrs){let u=a.getAttrs(n);if(u===!1)continue;a.attrs=u||void 0}return a}}}static schemaRules(t){let n=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let o=n[a];if((o.priority==null?50:o.priority)<s)break}n.splice(a,0,i)}for(let i in t.marks){let s=t.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=Vh(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in t.nodes){let s=t.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=Vh(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Yl(t,Yl.schemaRules(t)))}};const n1={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},pv={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},r1={ol:!0,ul:!0},Ms=1,Gl=2,ys=4;function Uh(e,t,n){return t!=null?(t?Ms:0)|(t==="full"?Gl:0):e&&e.whitespace=="pre"?Ms|Gl:n&~ys}class la{constructor(t,n,r,i,s,a){this.type=t,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=He.none,this.match=s||(a&ys?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Q.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Ms)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=Q.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(Q.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!n1.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class $h{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,a=Uh(null,n.preserveWhitespace,0)|(r?ys:0);i?s=new la(i.type,i.attrs,He.none,!0,n.topMatch||i.type.contentMatch,a):r?s=new la(null,null,He.none,!0,null,a):s=new la(t.schema.topNodeType,null,He.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,i=this.top,s=i.options&Gl?"full":this.localPreserveWS||(i.options&Ms)>0;if(s==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],o=t.previousSibling;(!a||o&&o.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let i=this.localPreserveWS,s=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let a=t.nodeName.toLowerCase(),o;r1.hasOwnProperty(a)&&this.parser.normalizeLists&&mv(t);let u=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(o=this.parser.matchTag(t,this,r));e:if(u?u.ignore:pv.hasOwnProperty(a))this.findInside(t),this.ignoreFallback(t,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(t=u.skip);let l,c=this.needsBlock;if(n1.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),l=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let d=u&&u.skip?n:this.readStyles(t,n);d&&this.addAll(t,d),l&&this.sync(s),this.needsBlock=c}else{let l=this.readStyles(t,n);l&&this.addElementByRule(t,u,l,u.consuming===!1?o:void 0)}this.localPreserveWS=i}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let o=void 0;;){let u=this.parser.matchStyle(s,a,this,o);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(l=>!u.clearMark(l)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)o=u;else break}}return n}addElementByRule(t,n,r,i){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let u=this.enter(a,n.attrs||null,r,n.preserveWhitespace);u&&(s=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let o=this.top;if(a&&a.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(u=>this.insertNode(u,r,!1));else{let u=t;typeof n.contentElement=="string"?u=t.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(t):n.contentElement&&(u=n.contentElement),this.findAround(t,u,!0),this.addAll(u,r),this.findAround(t,u,!1)}s&&this.sync(o)&&this.open--}addAll(t,n,r,i){let s=r||0;for(let a=r?t.childNodes[r]:t.firstChild,o=i==null?null:t.childNodes[i];a!=o;a=a.nextSibling,++s)this.findAtPoint(t,s),this.addDOM(a,n);this.findAtPoint(t,s)}findPlace(t,n,r){let i,s;for(let a=this.open,o=0;a>=0;a--){let u=this.nodes[a],l=u.findWrapping(t);if(l&&(!i||i.length>l.length+o)&&(i=l,s=u,!l.length))break;if(u.solid){if(r)break;o+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(t,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(t.type));let a=He.none;for(let o of i.concat(t.marks))(s.type?s.type.allowsMarkType(o.type):qh(o.type,t.type))&&(a=o.addToSet(a));return s.content.push(t.mark(a)),!0}return!1}enter(t,n,r,i){let s=this.findPlace(t.create(n),r,!1);return s&&(s=this.enterInner(t,n,r,!0,i)),s}enterInner(t,n,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let o=Uh(t,s,a.options);a.options&ys&&a.content.length==0&&(o|=ys);let u=He.none;return r=r.filter(l=>(a.type?a.type.allowsMarkType(l.type):qh(l.type,t))?(u=l.addToSet(u),!1):!0),this.nodes.push(new la(t,n,u,i,null,o)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Ms)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(o,u)=>{for(;o>=0;o--){let l=n[o];if(l==""){if(o==n.length-1||o==0)continue;for(;u>=s;u--)if(a(o-1,u))return!0;return!1}else{let c=u>0||u==0&&i?this.nodes[u].type:r&&u>=s?r.node(u-s).type:null;if(!c||c.name!=l&&!c.isInGroup(l))return!1;u--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function mv(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&r1.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function gv(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Vh(e){let t={};for(let n in e)t[n]=e[n];return t}function qh(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let s=[],a=o=>{s.push(o);for(let u=0;u<o.edgeCount;u++){let{type:l,next:c}=o.edge(u);if(l==t||s.indexOf(c)<0&&a(c))return!0}};if(a(i.contentMatch))return!0}}class ri{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=$u(n).createDocumentFragment());let i=r,s=[];return t.forEach(a=>{if(s.length||a.marks.length){let o=0,u=0;for(;o<s.length&&u<a.marks.length;){let l=a.marks[u];if(!this.marks[l.type.name]){u++;continue}if(!l.eq(s[o][0])||l.type.spec.spanning===!1)break;o++,u++}for(;o<s.length;)i=s.pop()[1];for(;u<a.marks.length;){let l=a.marks[u++],c=this.serializeMark(l,a.isInline,n);c&&(s.push([l,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=Na($u(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let s=this.serializeMark(t.marks[i],t.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&Na($u(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return Na(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new ri(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=Wh(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return Wh(t.marks)}}function Wh(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function $u(e){return e.document||window.document}const Kh=new WeakMap;function bv(e){let t=Kh.get(e);return t===void 0&&Kh.set(e,t=yv(e)),t}function yv(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function Na(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=bv(r))&&s.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let o,u=n?e.createElementNS(n,i):e.createElement(i),l=t[1],c=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){c=2;for(let d in l)if(l[d]!=null){let f=d.indexOf(" ");f>0?u.setAttributeNS(d.slice(0,f),d.slice(f+1),l[d]):d=="style"&&u.style?u.style.cssText=l[d]:u.setAttribute(d,l[d])}}for(let d=c;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:p,contentDOM:y}=Na(e,f,n,r);if(u.appendChild(p),y){if(o)throw new RangeError("Multiple content holes");o=y}}}return{dom:u,contentDOM:o}}const i1=65535,s1=Math.pow(2,16);function Ev(e,t){return e+t*s1}function Yh(e){return e&i1}function kv(e){return(e-(e&i1))/s1}const a1=1,o1=2,va=4,u1=8;class Ql{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&u1)>0}get deletedBefore(){return(this.delInfo&(a1|va))>0}get deletedAfter(){return(this.delInfo&(o1|va))>0}get deletedAcross(){return(this.delInfo&va)>0}}class tn{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&tn.empty)return tn.empty}recover(t){let n=0,r=Yh(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+kv(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let u=this.ranges[o]-(this.inverted?i:0);if(u>t)break;let l=this.ranges[o+s],c=this.ranges[o+a],d=u+l;if(t<=d){let f=l?t==u?-1:t==d?1:n:n,p=u+i+(f<0?0:c);if(r)return p;let y=t==(n<0?u:d)?null:Ev(o/3,t-u),k=t==u?o1:t==d?a1:va;return(n<0?t!=u:t!=d)&&(k|=u1),new Ql(p,k,y)}i+=c-l}return r?t+i:new Ql(t+i,0,null)}touches(t,n){let r=0,i=Yh(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let u=this.ranges[o]-(this.inverted?r:0);if(u>t)break;let l=this.ranges[o+s],c=u+l;if(t<=c&&o==i*3)return!0;r+=this.ranges[o+a]-l}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],o=a-(this.inverted?s:0),u=a+(this.inverted?0:s),l=this.ranges[i+n],c=this.ranges[i+r];t(o,o+l,u,u+c),s+=c-l}}invert(){return new tn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?tn.empty:new tn(t<0?[0,-t,0]:[0,0,t])}}tn.empty=new tn([]);class Rs{constructor(t,n,r=0,i=t?t.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new Rs(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let i=t.getMirror(n);this.appendMap(t._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new Rs;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],o=a.mapResult(t,n);if(o.recover!=null){let u=this.getMirror(s);if(u!=null&&u>s&&u<this.to){s=u,t=this._maps[u].recover(o.recover);continue}}i|=o.delInfo,t=o.pos}return r?t:new Ql(t,i,null)}}const Vu=Object.create(null);class Ft{getMap(){return tn.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Vu[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Vu)throw new RangeError("Duplicate use of step JSON ID "+t);return Vu[t]=n,n.prototype.jsonID=t,n}}class ct{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new ct(t,null)}static fail(t){return new ct(null,t)}static fromReplace(t,n,r,i){try{return ct.ok(t.replace(n,r,i))}catch(s){if(s instanceof Ga)return ct.fail(s.message);throw s}}}function od(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let s=e.child(i);s.content.size&&(s=s.copy(od(s.content,t,s))),s.isInline&&(s=t(s,n,i)),r.push(s)}return Q.fromArray(r)}class pr extends Ft{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new ue(od(n.content,(a,o)=>!a.isAtom||!o.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return ct.fromReplace(t,this.from,this.to,s)}invert(){return new wn(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new pr(n.pos,r.pos,this.mark)}merge(t){return t instanceof pr&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new pr(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new pr(n.from,n.to,t.markFromJSON(n.mark))}}Ft.jsonID("addMark",pr);class wn extends Ft{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new ue(od(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return ct.fromReplace(t,this.from,this.to,r)}invert(){return new pr(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new wn(n.pos,r.pos,this.mark)}merge(t){return t instanceof wn&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new wn(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new wn(n.from,n.to,t.markFromJSON(n.mark))}}Ft.jsonID("removeMark",wn);class mr extends Ft{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return ct.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ct.fromReplace(t,this.pos,this.pos+1,new ue(Q.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new mr(this.pos,n.marks[i]);return new mr(this.pos,this.mark)}}return new Gr(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new mr(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new mr(n.pos,t.markFromJSON(n.mark))}}Ft.jsonID("addNodeMark",mr);class Gr extends Ft{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return ct.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ct.fromReplace(t,this.pos,this.pos+1,new ue(Q.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new mr(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Gr(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Gr(n.pos,t.markFromJSON(n.mark))}}Ft.jsonID("removeNodeMark",Gr);class Et extends Ft{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&Xl(t,this.from,this.to)?ct.fail("Structure replace would overwrite content"):ct.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new tn([this.from,this.to-this.from,this.slice.size])}invert(t){return new Et(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Et(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof Et)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?ue.empty:new ue(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Et(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?ue.empty:new ue(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Et(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Et(n.from,n.to,ue.fromJSON(t,n.slice),!!n.structure)}}Ft.jsonID("replace",Et);class Tt extends Ft{constructor(t,n,r,i,s,a,o=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=o}apply(t){if(this.structure&&(Xl(t,this.from,this.gapFrom)||Xl(t,this.gapTo,this.to)))return ct.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ct.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?ct.fromReplace(t,this.from,this.to,r):ct.fail("Content does not fit in gap")}getMap(){return new tn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Tt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Tt(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Tt(n.from,n.to,n.gapFrom,n.gapTo,ue.fromJSON(t,n.slice),n.insert,!!n.structure)}}Ft.jsonID("replaceAround",Tt);function Xl(e,t,n){let r=e.resolve(t),i=n-t,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function Tv(e,t,n,r){let i=[],s=[],a,o;e.doc.nodesBetween(t,n,(u,l,c)=>{if(!u.isInline)return;let d=u.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let f=Math.max(l,t),p=Math.min(l+u.nodeSize,n),y=r.addToSet(d);for(let k=0;k<d.length;k++)d[k].isInSet(y)||(a&&a.to==f&&a.mark.eq(d[k])?a.to=p:i.push(a=new wn(f,p,d[k])));o&&o.to==f?o.to=p:s.push(o=new pr(f,p,r))}}),i.forEach(u=>e.step(u)),s.forEach(u=>e.step(u))}function xv(e,t,n,r){let i=[],s=0;e.doc.nodesBetween(t,n,(a,o)=>{if(!a.isInline)return;s++;let u=null;if(r instanceof Xo){let l=a.marks,c;for(;c=r.isInSet(l);)(u||(u=[])).push(c),l=c.removeFromSet(l)}else r?r.isInSet(a.marks)&&(u=[r]):u=a.marks;if(u&&u.length){let l=Math.min(o+a.nodeSize,n);for(let c=0;c<u.length;c++){let d=u[c],f;for(let p=0;p<i.length;p++){let y=i[p];y.step==s-1&&d.eq(i[p].style)&&(f=y)}f?(f.to=l,f.step=s):i.push({style:d,from:Math.max(o,t),to:l,step:s})}}}),i.forEach(a=>e.step(new wn(a.from,a.to,a.style)))}function ud(e,t,n,r=n.contentMatch,i=!0){let s=e.doc.nodeAt(t),a=[],o=t+1;for(let u=0;u<s.childCount;u++){let l=s.child(u),c=o+l.nodeSize,d=r.matchType(l.type);if(!d)a.push(new Et(o,c,ue.empty));else{r=d;for(let f=0;f<l.marks.length;f++)n.allowsMarkType(l.marks[f].type)||e.step(new wn(o,c,l.marks[f]));if(i&&l.isText&&n.whitespace!="pre"){let f,p=/\r?\n|\r/g,y;for(;f=p.exec(l.text);)y||(y=new ue(Q.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),a.push(new Et(o+f.index,o+f.index+f[0].length,y))}}o=c}if(!r.validEnd){let u=r.fillBefore(Q.empty,!0);e.replace(o,o,new ue(u,0,0))}for(let u=a.length-1;u>=0;u--)e.step(a[u])}function wv(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Fi(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),s=e.$from.index(r),a=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(s,a,n))return r;if(r==0||i.type.spec.isolating||!wv(i,s,a))break}return null}function Cv(e,t,n){let{$from:r,$to:i,depth:s}=t,a=r.before(s+1),o=i.after(s+1),u=a,l=o,c=Q.empty,d=0;for(let y=s,k=!1;y>n;y--)k||r.index(y)>0?(k=!0,c=Q.from(r.node(y).copy(c)),d++):u--;let f=Q.empty,p=0;for(let y=s,k=!1;y>n;y--)k||i.after(y+1)<i.end(y)?(k=!0,f=Q.from(i.node(y).copy(f)),p++):l++;e.step(new Tt(u,l,a,o,new ue(c.append(f),d,p),c.size-d,!0))}function ld(e,t,n=null,r=e){let i=Sv(e,t),s=i&&_v(r,t);return s?i.map(Gh).concat({type:t,attrs:n}).concat(s.map(Gh)):null}function Gh(e){return{type:e,attrs:null}}function Sv(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.contentMatchAt(r).findWrapping(t);if(!s)return null;let a=s.length?s[0]:t;return n.canReplaceWith(r,i,a)?s:null}function _v(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.child(r),a=t.contentMatch.findWrapping(s.type);if(!a)return null;let u=(a.length?a[a.length-1]:t).contentMatch;for(let l=r;u&&l<i;l++)u=u.matchType(n.child(l).type);return!u||!u.validEnd?null:a}function Av(e,t,n){let r=Q.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let o=n[a].type.contentMatch.matchFragment(r);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Q.from(n[a].type.create(n[a].attrs,r))}let i=t.start,s=t.end;e.step(new Tt(i,s,i,s,new ue(r,0,0),n.length,!0))}function Nv(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(a,o)=>{let u=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,u)&&vv(e.doc,e.mapping.slice(s).map(o),r)){let l=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",y=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!y?l=!1:!p&&y&&(l=!0)}l===!1&&c1(e,a,o,s),ud(e,e.mapping.slice(s).map(o,1),r,void 0,l===null);let c=e.mapping.slice(s),d=c.map(o,1),f=c.map(o+a.nodeSize,1);return e.step(new Tt(d,f,d+1,f-1,new ue(Q.from(r.create(u,null,a.marks)),0,0),1,!0)),l===!0&&l1(e,a,o,s),!1}})}function l1(e,t,n,r){t.forEach((i,s)=>{if(i.isText){let a,o=/\r?\n|\r/g;for(;a=o.exec(i.text);){let u=e.mapping.slice(r).map(n+1+s+a.index);e.replaceWith(u,u+1,t.type.schema.linebreakReplacement.create())}}})}function c1(e,t,n,r){t.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=e.mapping.slice(r).map(n+1+s);e.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function vv(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function Iv(e,t,n,r,i){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,i||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Tt(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new ue(Q.from(a),0,0),1,!0))}function Gn(e,t,n=1,r){let i=e.resolve(t),s=i.depth-n,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let l=i.depth-1,c=n-2;l>s;l--,c--){let d=i.node(l),f=i.index(l);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),y=r&&r[c+1];y&&(p=p.replaceChild(0,y.type.create(y.attrs)));let k=r&&r[c]||d;if(!d.canReplace(f+1,d.childCount)||!k.type.validContent(p))return!1}let o=i.indexAfter(s),u=r&&r[0];return i.node(s).canReplaceWith(o,o,u?u.type:i.node(s+1).type)}function Ov(e,t,n=1,r){let i=e.doc.resolve(t),s=Q.empty,a=Q.empty;for(let o=i.depth,u=i.depth-n,l=n-1;o>u;o--,l--){s=Q.from(i.node(o).copy(s));let c=r&&r[l];a=Q.from(c?c.type.create(c.attrs,a):i.node(o).copy(a))}e.step(new Et(t,t,new ue(s.append(a),n,n),!0))}function wr(e,t){let n=e.resolve(t),r=n.index();return d1(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Mv(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let s=t.child(i),a=s.type==r?e.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!e.type.allowsMarks(s.marks))return!1}return n.validEnd}function d1(e,t){return!!(e&&t&&!e.isLeaf&&Mv(e,t))}function Jo(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let s,a,o=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(i+1),o++,a=r.node(i).maybeChild(o)):(s=r.node(i).maybeChild(o-1),a=r.node(i+1)),s&&!s.isTextblock&&d1(s,a)&&r.node(i).canReplace(o,o+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function Rv(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,s=e.doc.resolve(t-n),a=s.node().type;if(i&&a.inlineContent){let c=a.whitespace=="pre",d=!!a.contentMatch.matchType(i);c&&!d?r=!1:!c&&d&&(r=!0)}let o=e.steps.length;if(r===!1){let c=e.doc.resolve(t+n);c1(e,c.node(),c.before(),o)}a.inlineContent&&ud(e,t+n-1,a,s.node().contentMatchAt(s.index()),r==null);let u=e.mapping.slice(o),l=u.map(t-n);if(e.step(new Et(l,u.map(t+n,-1),ue.empty,!0)),r===!0){let c=e.doc.resolve(l);l1(e,c.node(),c.before(),e.steps.length)}return e}function Lv(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function f1(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let o=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,u=r.index(a)+(o>0?1:0),l=r.node(a),c=!1;if(s==1)c=l.canReplace(u,u,i);else{let d=l.contentMatchAt(u).findWrapping(i.firstChild.type);c=d&&l.canReplaceWith(u,u,d[0])}if(c)return o==0?r.pos:o<0?r.before(a+1):r.after(a+1)}return null}function Zo(e,t,n=t,r=ue.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),s=e.resolve(n);return h1(i,s,r)?new Et(t,n,r):new Dv(i,s,r).fit()}function h1(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class Dv{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Q.empty;for(let i=0;i<=t.depth;i++){let s=t.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=Q.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let l=this.findFittable();l?this.placeNodes(l):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let s=this.placed,a=r.depth,o=i.depth;for(;a&&o&&s.childCount==1;)s=s.firstChild.content,a--,o--;let u=new ue(s,a,o);return t>-1?new Tt(r.pos,t,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new Et(r.pos,i.pos,u):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){t=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=qu(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let o=this.depth;o>=0;o--){let{type:u,match:l}=this.frontier[o],c,d=null;if(n==1&&(a?l.matchType(a.type)||(d=l.fillBefore(Q.from(a),!1)):s&&u.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:o,parent:s,inject:d};if(n==2&&a&&(c=l.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:o,parent:s,wrap:c};if(s&&l.matchType(s.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=qu(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ue(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=qu(t,n);if(i.childCount<=1&&n>0){let s=t.size-n<=n+i.size;this.unplaced=new ue(ts(t,n-1,1),n-1,s?n-1:r)}else this.unplaced=new ue(ts(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let k=0;k<s.length;k++)this.openFrontierNode(s[k]);let a=this.unplaced,o=r?r.content:a.content,u=a.openStart-t,l=0,c=[],{match:d,type:f}=this.frontier[n];if(i){for(let k=0;k<i.childCount;k++)c.push(i.child(k));d=d.matchFragment(i)}let p=o.size+t-(a.content.size-a.openEnd);for(;l<o.childCount;){let k=o.child(l),x=d.matchType(k.type);if(!x)break;l++,(l>1||u==0||k.content.size)&&(d=x,c.push(p1(k.mark(f.allowedMarks(k.marks)),l==1?u:0,l==o.childCount?p:-1)))}let y=l==o.childCount;y||(p=-1),this.placed=ns(this.placed,n,Q.from(c)),this.frontier[n].match=d,y&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,x=o;k<p;k++){let T=x.lastChild;this.frontier.push({type:T.type,match:T.contentMatchAt(T.childCount)}),x=T.content}this.unplaced=y?t==0?ue.empty:new ue(ts(a.content,t-1,1),t-1,p<0?a.openEnd:t-1):new ue(ts(a.content,t,l),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!Wu(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),a=Wu(t,n,i,r,s);if(a){for(let o=n-1;o>=0;o--){let{match:u,type:l}=this.frontier[o],c=Wu(t,o,l,u,!0);if(!c||c.childCount)continue e}return{depth:n,fit:a,move:s?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ns(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,s)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=ns(this.placed,this.depth,Q.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Q.empty,!0);n.childCount&&(this.placed=ns(this.placed,this.frontier.length,n))}}function ts(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(ts(e.firstChild.content,t-1,n)))}function ns(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(ns(e.lastChild.content,t-1,n)))}function qu(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function p1(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,p1(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Q.empty,!0)))),e.copy(r)}function Wu(e,t,n,r,i){let s=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let o=r.fillBefore(s.content,!0,a);return o&&!Pv(n,s.content,a)?o:null}function Pv(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function Bv(e){return e.spec.defining||e.spec.definingForContent}function Fv(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),s=e.doc.resolve(n);if(h1(i,s,r))return e.step(new Et(t,n,r));let a=g1(i,e.doc.resolve(n));a[a.length-1]==0&&a.pop();let o=-(i.depth+1);a.unshift(o);for(let f=i.depth,p=i.pos-1;f>0;f--,p--){let y=i.node(f).type.spec;if(y.defining||y.definingAsContext||y.isolating)break;a.indexOf(f)>-1?o=f:i.before(f)==p&&a.splice(1,0,-f)}let u=a.indexOf(o),l=[],c=r.openStart;for(let f=r.content,p=0;;p++){let y=f.firstChild;if(l.push(y),p==r.openStart)break;f=y.content}for(let f=c-1;f>=0;f--){let p=l[f],y=Bv(p.type);if(y&&!p.sameMarkup(i.node(Math.abs(o)-1)))c=f;else if(y||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+c+1)%(r.openStart+1),y=l[p];if(y)for(let k=0;k<a.length;k++){let x=a[(k+u)%a.length],T=!0;x<0&&(T=!1,x=-x);let O=i.node(x-1),D=i.index(x-1);if(O.canReplaceWith(D,D,y.type,y.marks))return e.replace(i.before(x),T?s.after(x):n,new ue(m1(r.content,0,r.openStart,p),p,r.openEnd))}}let d=e.steps.length;for(let f=a.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>d));f--){let p=a[f];p<0||(t=i.before(p),n=s.after(p))}}function m1(e,t,n,r,i){if(t<n){let s=e.firstChild;e=e.replaceChild(0,s.copy(m1(s.content,t+1,n,r,s)))}if(t>r){let s=i.contentMatchAt(0),a=s.fillBefore(e).append(e);e=a.append(s.matchFragment(a).fillBefore(Q.empty,!0))}return e}function jv(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=Lv(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new ue(Q.from(r),0,0))}function Hv(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),s=g1(r,i);for(let a=0;a<s.length;a++){let o=s[a],u=a==s.length-1;if(u&&o==0||r.node(o).type.contentMatch.validEnd)return e.delete(r.start(o),i.end(o));if(o>0&&(u||r.node(o-1).canReplace(r.index(o-1),i.indexAfter(o-1))))return e.delete(r.before(o),i.after(o))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(t-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return e.delete(r.before(a),n);e.delete(t,n)}function g1(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let s=e.start(i);if(s<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(s==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==s-1)&&n.push(i)}return n}class Ei extends Ft{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return ct.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return ct.fromReplace(t,this.pos,this.pos+1,new ue(Q.from(i),0,n.isLeaf?0:1))}getMap(){return tn.empty}invert(t){return new Ei(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ei(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ei(n.pos,n.attr,n.value)}}Ft.jsonID("attr",Ei);class Ls extends Ft{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return ct.ok(r)}getMap(){return tn.empty}invert(t){return new Ls(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ls(n.attr,n.value)}}Ft.jsonID("docAttr",Ls);let Ci=class extends Error{};Ci=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Ci.prototype=Object.create(Error.prototype);Ci.prototype.constructor=Ci;Ci.prototype.name="TransformError";class b1{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Rs}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Ci(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=ue.empty){let i=Zo(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new ue(Q.from(r),0,0))}delete(t,n){return this.replace(t,n,ue.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return Fv(this,t,n,r),this}replaceRangeWith(t,n,r){return jv(this,t,n,r),this}deleteRange(t,n){return Hv(this,t,n),this}lift(t,n){return Cv(this,t,n),this}join(t,n=1){return Rv(this,t,n),this}wrap(t,n){return Av(this,t,n),this}setBlockType(t,n=t,r,i=null){return Nv(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return Iv(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new Ei(t,n,r)),this}setDocAttribute(t,n){return this.step(new Ls(t,n)),this}addNodeMark(t,n){return this.step(new mr(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof He)n.isInSet(r.marks)&&this.step(new Gr(t,n));else{let i=r.marks,s,a=[];for(;s=n.isInSet(i);)a.push(new Gr(t,s)),i=s.removeFromSet(i);for(let o=a.length-1;o>=0;o--)this.step(a[o])}return this}split(t,n=1,r){return Ov(this,t,n,r),this}addMark(t,n,r){return Tv(this,t,n,r),this}removeMark(t,n,r){return xv(this,t,n,r),this}clearIncompatible(t,n,r){return ud(this,t,n,r),this}}const Ku=Object.create(null);class Se{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new zv(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=ue.empty){let r=n.content.lastChild,i=null;for(let o=0;o<n.openEnd;o++)i=r,r=r.lastChild;let s=t.steps.length,a=this.ranges;for(let o=0;o<a.length;o++){let{$from:u,$to:l}=a[o],c=t.mapping.slice(s);t.replaceRange(c.map(u.pos),c.map(l.pos),o?ue.empty:n),o==0&&Jh(t,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:o}=i[s],u=t.mapping.slice(r),l=u.map(a.pos),c=u.map(o.pos);s?t.deleteRange(l,c):(t.replaceRangeWith(l,c,n),Jh(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new Ee(t):di(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let s=t.depth-1;s>=0;s--){let a=n<0?di(t.node(0),t.node(s),t.before(s+1),t.index(s),n,r):di(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,n,r);if(a)return a}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new rn(t.node(0))}static atStart(t){return di(t,t,0,0,1)||new rn(t)}static atEnd(t){return di(t,t,t.content.size,t.childCount,-1)||new rn(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Ku[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Ku)throw new RangeError("Duplicate use of selection JSON ID "+t);return Ku[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Ee.between(this.$anchor,this.$head).getBookmark()}}Se.prototype.visible=!0;class zv{constructor(t,n){this.$from=t,this.$to=n}}let Qh=!1;function Xh(e){!Qh&&!e.parent.inlineContent&&(Qh=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Ee extends Se{constructor(t,n=t){Xh(t),Xh(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Se.near(r);let i=t.resolve(n.map(this.anchor));return new Ee(i.parent.inlineContent?i:r,r)}replace(t,n=ue.empty){if(super.replace(t,n),n==ue.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Ee&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new eu(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ee(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Se.findFrom(n,r,!0)||Se.findFrom(n,-r,!0);if(s)n=s.$head;else return Se.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(Se.findFrom(t,-r,!0)||Se.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new Ee(t,n)}}Se.jsonID("text",Ee);class eu{constructor(t,n){this.anchor=t,this.head=n}map(t){return new eu(t.map(this.anchor),t.map(this.head))}resolve(t){return Ee.between(t.resolve(this.anchor),t.resolve(this.head))}}class me extends Se{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=t.resolve(i);return r?Se.near(s):new me(s)}content(){return new ue(Q.from(this.node),0,0)}eq(t){return t instanceof me&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new cd(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new me(t.resolve(n.anchor))}static create(t,n){return new me(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}me.prototype.visible=!1;Se.jsonID("node",me);class cd{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new eu(r,r):new cd(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&me.isSelectable(r)?new me(n):Se.near(n)}}class rn extends Se{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=ue.empty){if(n==ue.empty){t.delete(0,t.doc.content.size);let r=Se.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new rn(t)}map(t){return new rn(t)}eq(t){return t instanceof rn}getBookmark(){return Uv}}Se.jsonID("all",rn);const Uv={map(){return this},resolve(e){return new rn(e)}};function di(e,t,n,r,i,s=!1){if(t.inlineContent)return Ee.create(e,n);for(let a=r-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){let o=t.child(a);if(o.isAtom){if(!s&&me.isSelectable(o))return me.create(e,n-(i<0?o.nodeSize:0))}else{let u=di(e,o,n+i,i<0?o.childCount:0,i,s);if(u)return u}n+=o.nodeSize*i}return null}function Jh(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof Et||i instanceof Tt))return;let s=e.mapping.maps[r],a;s.forEach((o,u,l,c)=>{a==null&&(a=c)}),e.setSelection(Se.near(e.doc.resolve(a),n))}const Zh=1,ca=2,ep=4;class $v extends b1{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Zh)&~ca,this.storedMarks=null,this}get selectionSet(){return(this.updated&Zh)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=ca,this}ensureMarks(t){return He.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ca)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~ca,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||He.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r==null?n:r,!t)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,s)),this.selection.empty||this.setSelection(Se.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=ep,this}get scrolledIntoView(){return(this.updated&ep)>0}}function tp(e,t){return!t||!e?e:e.bind(t)}class rs{constructor(t,n,r){this.name=t,this.init=tp(n.init,r),this.apply=tp(n.apply,r)}}const Vv=[new rs("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new rs("selection",{init(e,t){return e.selection||Se.atStart(t.doc)},apply(e){return e.selection}}),new rs("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new rs("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class Yu{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Vv.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new rs(r.key,r.spec.state,r))})}}class gi{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let o=this.config.plugins[a];if(o.spec.appendTransaction){let u=i?i[a].n:0,l=i?i[a].state:this,c=u<n.length&&o.spec.appendTransaction.call(o,u?n.slice(u):n,l,r);if(c&&r.filterTransaction(c,a)){if(c.setMeta("appendedTransaction",t),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<a?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),s=!0}i&&(i[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new gi(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(t,this[s.name],this,n)}return n}get tr(){return new $v(this)}static create(t){let n=new Yu(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new gi(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new Yu(this.schema,t.plugins),r=n.fields,i=new gi(n);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new Yu(t.schema,t.plugins),s=new gi(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=Sn.fromJSON(t.schema,n.doc);else if(a.name=="selection")s.selection=Se.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let o in r){let u=r[o],l=u.spec.state;if(u.key==a.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(n,o)){s[a.name]=l.fromJSON.call(u,t,n[o],s);return}}s[a.name]=a.init(t,s)}}),s}}function y1(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=y1(i,t,{})),n[r]=i}return n}class Je{constructor(t){this.spec=t,this.props={},t.props&&y1(t.props,this,this.props),this.key=t.key?t.key.key:E1("plugin")}getState(t){return t[this.key]}}const Gu=Object.create(null);function E1(e){return e in Gu?e+"$"+ ++Gu[e]:(Gu[e]=0,e+"$")}class ft{constructor(t="key"){this.key=E1(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const dd=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function k1(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const T1=(e,t,n)=>{let r=k1(e,n);if(!r)return!1;let i=fd(r);if(!i){let a=r.blockRange(),o=a&&Fi(a);return o==null?!1:(t&&t(e.tr.lift(a,o).scrollIntoView()),!0)}let s=i.nodeBefore;if(I1(e,i,t,-1))return!0;if(r.parent.content.size==0&&(Si(s,"end")||me.isSelectable(s)))for(let a=r.depth;;a--){let o=Zo(e.doc,r.before(a),r.after(a),ue.empty);if(o&&o.slice.size<o.to-o.from){if(t){let u=e.tr.step(o);u.setSelection(Si(s,"end")?Se.findFrom(u.doc.resolve(u.mapping.map(i.pos,-1)),-1):me.create(u.doc,i.pos-s.nodeSize)),t(u.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},qv=(e,t,n)=>{let r=k1(e,n);if(!r)return!1;let i=fd(r);return i?x1(e,i,t):!1},Wv=(e,t,n)=>{let r=C1(e,n);if(!r)return!1;let i=hd(r);return i?x1(e,i,t):!1};function x1(e,t,n){let r=t.nodeBefore,i=r,s=t.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let a=t.nodeAfter,o=a,u=t.pos+1;for(;!o.isTextblock;u++){if(o.type.spec.isolating)return!1;let c=o.firstChild;if(!c)return!1;o=c}let l=Zo(e.doc,s,u,ue.empty);if(!l||l.from!=s||l instanceof Et&&l.slice.size>=u-s)return!1;if(n){let c=e.tr.step(l);c.setSelection(Ee.create(c.doc,s)),n(c.scrollIntoView())}return!0}function Si(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const w1=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=fd(r)}let a=s&&s.nodeBefore;return!a||!me.isSelectable(a)?!1:(t&&t(e.tr.setSelection(me.create(e.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function fd(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function C1(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const S1=(e,t,n)=>{let r=C1(e,n);if(!r)return!1;let i=hd(r);if(!i)return!1;let s=i.nodeAfter;if(I1(e,i,t,1))return!0;if(r.parent.content.size==0&&(Si(s,"start")||me.isSelectable(s))){let a=Zo(e.doc,r.before(),r.after(),ue.empty);if(a&&a.slice.size<a.to-a.from){if(t){let o=e.tr.step(a);o.setSelection(Si(s,"start")?Se.findFrom(o.doc.resolve(o.mapping.map(i.pos)),1):me.create(o.doc,o.mapping.map(i.pos))),t(o.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},_1=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=hd(r)}let a=s&&s.nodeAfter;return!a||!me.isSelectable(a)?!1:(t&&t(e.tr.setSelection(me.create(e.doc,s.pos)).scrollIntoView()),!0)};function hd(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const Kv=(e,t)=>{let n=e.selection,r=n instanceof me,i;if(r){if(n.node.isTextblock||!wr(e.doc,n.from))return!1;i=n.from}else if(i=Jo(e.doc,n.from,-1),i==null)return!1;if(t){let s=e.tr.join(i);r&&s.setSelection(me.create(s.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0},Yv=(e,t)=>{let n=e.selection,r;if(n instanceof me){if(n.node.isTextblock||!wr(e.doc,n.to))return!1;r=n.to}else if(r=Jo(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},Gv=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),s=i&&Fi(i);return s==null?!1:(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)},A1=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function pd(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Qv=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=pd(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(t){let o=n.after(),u=e.tr.replaceWith(o,o,a.createAndFill());u.setSelection(Se.near(u.doc.resolve(o),1)),t(u.scrollIntoView())}return!0},N1=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof rn||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=pd(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,o=e.tr.insert(a,s.createAndFill());o.setSelection(Ee.create(o.doc,a+1)),t(o.scrollIntoView())}return!0},v1=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Gn(e.doc,s))return t&&t(e.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Fi(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function Xv(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof me&&t.selection.node.isBlock)return!r.parentOffset||!Gn(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,o,u=!1,l=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){u=r.end(p)==r.pos+(r.depth-p),l=r.start(p)==r.pos-(r.depth-p),o=pd(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),s.unshift(u&&o?{type:o}:null),a=p;break}else{if(p==1)return!1;s.unshift(null)}let c=t.tr;(t.selection instanceof Ee||t.selection instanceof rn)&&c.deleteSelection();let d=c.mapping.map(r.pos),f=Gn(c.doc,d,s.length,s);if(f||(s[0]=o?{type:o}:null,f=Gn(c.doc,d,s.length,s)),!f)return!1;if(c.split(d,s.length,s),!u&&l&&r.node(a).type!=o){let p=c.mapping.map(r.before(a)),y=c.doc.resolve(p);o&&r.node(a-1).canReplaceWith(y.index(),y.index()+1,o)&&c.setNodeMarkup(c.mapping.map(r.before(a)),o)}return n&&n(c.scrollIntoView()),!0}}const Jv=Xv(),Zv=(e,t)=>{let{$from:n,to:r}=e.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),t&&t(e.tr.setSelection(me.create(e.doc,i))),!0)};function eI(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(i.isTextblock||wr(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function I1(e,t,n,r){let i=t.nodeBefore,s=t.nodeAfter,a,o,u=i.type.spec.isolating||s.type.spec.isolating;if(!u&&eI(e,t,n))return!0;let l=!u&&t.parent.canReplace(t.index(),t.index()+1);if(l&&(a=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(a[0]||s.type).validEnd){if(n){let p=t.pos+s.nodeSize,y=Q.empty;for(let T=a.length-1;T>=0;T--)y=Q.from(a[T].create(null,y));y=Q.from(i.copy(y));let k=e.tr.step(new Tt(t.pos-1,p,t.pos,p,new ue(y,1,0),a.length,!0)),x=k.doc.resolve(p+2*a.length);x.nodeAfter&&x.nodeAfter.type==i.type&&wr(k.doc,x.pos)&&k.join(x.pos),n(k.scrollIntoView())}return!0}let c=s.type.spec.isolating||r>0&&u?null:Se.findFrom(t,1),d=c&&c.$from.blockRange(c.$to),f=d&&Fi(d);if(f!=null&&f>=t.depth)return n&&n(e.tr.lift(d,f).scrollIntoView()),!0;if(l&&Si(s,"start",!0)&&Si(i,"end")){let p=i,y=[];for(;y.push(p),!p.isTextblock;)p=p.lastChild;let k=s,x=1;for(;!k.isTextblock;k=k.firstChild)x++;if(p.canReplace(p.childCount,p.childCount,k.content)){if(n){let T=Q.empty;for(let D=y.length-1;D>=0;D--)T=Q.from(y[D].copy(T));let O=e.tr.step(new Tt(t.pos-y.length,t.pos+s.nodeSize,t.pos+x,t.pos+s.nodeSize-x,new ue(T,y.length,0),0,!0));n(O.scrollIntoView())}return!0}}return!1}function O1(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(t.tr.setSelection(Ee.create(t.doc,e<0?i.start(s):i.end(s)))),!0):!1}}const tI=O1(-1),nI=O1(1);function rI(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),o=a&&ld(a,e,t);return o?(r&&r(n.tr.wrap(a,o).scrollIntoView()),!0):!1}}function np(e,t=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:o}}=n.selection.ranges[s];n.doc.nodesBetween(a,o,(u,l)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(e,t)))if(u.type==e)i=!0;else{let c=n.doc.resolve(l),d=c.index();i=c.parent.canReplaceWith(d,d+1,e)}})}if(!i)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:o},$to:{pos:u}}=n.selection.ranges[a];s.setBlockType(o,u,e,t)}r(s.scrollIntoView())}return!0}}function md(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}md(dd,T1,w1);md(dd,S1,_1);md(A1,N1,v1,Jv);typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform&&os.platform()=="darwin";function iI(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s);if(!a)return!1;let o=r?n.tr:null;return sI(o,a,e,t)?(r&&r(o.scrollIntoView()),!0):!1}}function sI(e,t,n,r=null){let i=!1,s=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let u=a.resolve(t.start-2);s=new Xa(u,u,t.depth),t.endIndex<t.parent.childCount&&(t=new Xa(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let o=ld(s,n,r,t);return o?(e&&aI(e,t,o,i,n),!0):!1}function aI(e,t,n,r,i){let s=Q.empty;for(let c=n.length-1;c>=0;c--)s=Q.from(n[c].type.create(n[c].attrs,s));e.step(new Tt(t.start-(r?2:0),t.end,t.start,t.end,new ue(s,0,0),n.length,!0));let a=0;for(let c=0;c<n.length;c++)n[c].type==i&&(a=c+1);let o=n.length-a,u=t.start+n.length-(r?2:0),l=t.parent;for(let c=t.startIndex,d=t.endIndex,f=!0;c<d;c++,f=!1)!f&&Gn(e.doc,u,o)&&(e.split(u,o),u+=2*o),u+=l.child(c).nodeSize;return e}function oI(e){return function(t,n){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==e);return s?n?r.node(s.depth-1).type==e?uI(t,n,e,s):lI(t,n,s):!0:!1}}function uI(e,t,n,r){let i=e.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new Tt(s-1,a,s,a,new ue(Q.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Xa(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const o=Fi(r);if(o==null)return!1;i.lift(r,o);let u=i.doc.resolve(i.mapping.map(s,-1)-1);return wr(i.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&i.join(u.pos),t(i.scrollIntoView()),!0}function lI(e,t,n){let r=e.tr,i=n.parent;for(let p=n.end,y=n.endIndex-1,k=n.startIndex;y>k;y--)p-=i.child(y).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let o=n.startIndex==0,u=n.endIndex==i.childCount,l=s.node(-1),c=s.index(-1);if(!l.canReplace(c+(o?0:1),c+1,a.content.append(u?Q.empty:Q.from(i))))return!1;let d=s.pos,f=d+a.nodeSize;return r.step(new Tt(d-(o?1:0),f+(u?1:0),d+1,f-1,new ue((o?Q.empty:Q.from(i.copy(Q.empty))).append(u?Q.empty:Q.from(i.copy(Q.empty))),o?0:1,u?0:1),o?0:1)),t(r.scrollIntoView()),!0}function cI(e){return function(t,n){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==e);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let o=s.parent,u=o.child(a-1);if(u.type!=e)return!1;if(n){let l=u.lastChild&&u.lastChild.type==o.type,c=Q.from(l?e.create():null),d=new ue(Q.from(e.create(null,Q.from(o.type.create(null,c)))),l?3:1,0),f=s.start,p=s.end;n(t.tr.step(new Tt(f-(l?3:1),p,f,p,d,1,!0)).scrollIntoView())}return!0}}const _t=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},_i=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let Jl=null;const Vn=function(e,t,n){let r=Jl||(Jl=document.createRange());return r.setEnd(e,n==null?e.nodeValue.length:n),r.setStart(e,t||0),r},dI=function(){Jl=null},Qr=function(e,t,n,r){return n&&(rp(e,t,n,r,-1)||rp(e,t,n,r,1))},fI=/^(img|br|input|textarea|hr)$/i;function rp(e,t,n,r,i){for(var s;;){if(e==n&&t==r)return!0;if(t==(i<0?0:mn(e))){let a=e.parentNode;if(!a||a.nodeType!=1||Gs(e)||fI.test(e.nodeName)||e.contentEditable=="false")return!1;t=_t(e)+(i<0?0:1),e=a}else if(e.nodeType==1){let a=e.childNodes[t+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)t+=i;else return!1;else e=a,t=i<0?mn(e):0}else return!1}}function mn(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function hI(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=mn(e)}else if(e.parentNode&&!Gs(e))t=_t(e),e=e.parentNode;else return null}}function pI(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Gs(e))t=_t(e)+1,e=e.parentNode;else return null}}function mI(e,t,n){for(let r=t==0,i=t==mn(e);r||i;){if(e==n)return!0;let s=_t(e);if(e=e.parentNode,!e)return!1;r=r&&s==0,i=i&&s==mn(e)}}function Gs(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const tu=function(e){return e.focusNode&&Qr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Mr(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function gI(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function bI(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(mn(r.offsetNode),r.offset)}}catch(r){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(mn(r.startContainer),r.startOffset)}}}const Dn=typeof navigator!="undefined"?navigator:null,ip=typeof document!="undefined"?document:null,Cr=Dn&&Dn.userAgent||"",Zl=/Edge\/(\d+)/.exec(Cr),M1=/MSIE \d/.exec(Cr),ec=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Cr),Qt=!!(M1||ec||Zl),br=M1?document.documentMode:ec?+ec[1]:Zl?+Zl[1]:0,gn=!Qt&&/gecko\/(\d+)/i.test(Cr);gn&&+(/Firefox\/(\d+)/.exec(Cr)||[0,0])[1];const tc=!Qt&&/Chrome\/(\d+)/.exec(Cr),Rt=!!tc,R1=tc?+tc[1]:0,Ut=!Qt&&!!Dn&&/Apple Computer/.test(Dn.vendor),Ai=Ut&&(/Mobile\/\w+/.test(Cr)||!!Dn&&Dn.maxTouchPoints>2),fn=Ai||(Dn?/Mac/.test(Dn.platform):!1),yI=Dn?/Win/.test(Dn.platform):!1,Yn=/Android \d/.test(Cr),Qs=!!ip&&"webkitFontSmoothing"in ip.documentElement.style,EI=Qs?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function kI(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Hn(e,t){return typeof e=="number"?e:e[t]}function TI(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function sp(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let a=n||e.dom;a;){if(a.nodeType!=1){a=_i(a);continue}let o=a,u=o==s.body,l=u?kI(s):TI(o),c=0,d=0;if(t.top<l.top+Hn(r,"top")?d=-(l.top-t.top+Hn(i,"top")):t.bottom>l.bottom-Hn(r,"bottom")&&(d=t.bottom-t.top>l.bottom-l.top?t.top+Hn(i,"top")-l.top:t.bottom-l.bottom+Hn(i,"bottom")),t.left<l.left+Hn(r,"left")?c=-(l.left-t.left+Hn(i,"left")):t.right>l.right-Hn(r,"right")&&(c=t.right-l.right+Hn(i,"right")),c||d)if(u)s.defaultView.scrollBy(c,d);else{let p=o.scrollLeft,y=o.scrollTop;d&&(o.scrollTop+=d),c&&(o.scrollLeft+=c);let k=o.scrollLeft-p,x=o.scrollTop-y;t={left:t.left-k,top:t.top-x,right:t.right-k,bottom:t.bottom-x}}let f=u?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(f))break;a=f=="absolute"?a.offsetParent:_i(a)}}function xI(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let s=(t.left+t.right)/2,a=n+1;a<Math.min(innerHeight,t.bottom);a+=5){let o=e.root.elementFromPoint(s,a);if(!o||o==e.dom||!e.dom.contains(o))continue;let u=o.getBoundingClientRect();if(u.top>=n-20){r=o,i=u.top;break}}return{refDOM:r,refTop:i,stack:L1(e.dom)}}function L1(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=_i(r));return t}function wI({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;D1(n,r==0?0:r-t)}function D1(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:s}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}let ui=null;function CI(e){if(e.setActive)return e.setActive();if(ui)return e.focus(ui);let t=L1(e);e.focus(ui==null?{get preventScroll(){return ui={preventScroll:!0},!0}}:void 0),ui||(ui=!1,D1(t,0))}function P1(e,t){let n,r=2e8,i,s=0,a=t.top,o=t.top,u,l;for(let c=e.firstChild,d=0;c;c=c.nextSibling,d++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=Vn(c).getClientRects();else continue;for(let p=0;p<f.length;p++){let y=f[p];if(y.top<=a&&y.bottom>=o){a=Math.max(y.bottom,a),o=Math.min(y.top,o);let k=y.left>t.left?y.left-t.left:y.right<t.left?t.left-y.right:0;if(k<r){n=c,r=k,i=k&&n.nodeType==3?{left:y.right<t.left?y.right:y.left,top:t.top}:t,c.nodeType==1&&k&&(s=d+(t.left>=(y.left+y.right)/2?1:0));continue}}else y.top>t.top&&!u&&y.left<=t.left&&y.right>=t.left&&(u=c,l={left:Math.max(y.left,Math.min(y.right,t.left)),top:y.top});!n&&(t.left>=y.right&&t.top>=y.top||t.left>=y.left&&t.top>=y.bottom)&&(s=d+1)}}return!n&&u&&(n=u,i=l,r=0),n&&n.nodeType==3?SI(n,i):!n||r&&n.nodeType==1?{node:e,offset:s}:P1(n,i)}function SI(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let s=ar(r,1);if(s.top!=s.bottom&&gd(t,s))return{node:e,offset:i+(t.left>=(s.left+s.right)/2?1:0)}}return{node:e,offset:0}}function gd(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function _I(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function AI(e,t,n){let{node:r,offset:i}=P1(t,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(r,i,s)}function NI(e,t,n,r){let i=-1;for(let s=t,a=!1;s!=e.dom;){let o=e.docView.nearestDesc(s,!0),u;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((u=o.dom.getBoundingClientRect()).width||u.height)&&(o.node.isBlock&&o.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(o.dom.nodeName)&&(!a&&u.left>r.left||u.top>r.top?i=o.posBefore:(!a&&u.right<r.left||u.bottom<r.top)&&(i=o.posAfter),a=!0),!o.contentDOM&&i<0&&!o.node.isText))return(o.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?o.posBefore:o.posAfter;s=o.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function B1(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let a=e.childNodes[s];if(a.nodeType==1){let o=a.getClientRects();for(let u=0;u<o.length;u++){let l=o[u];if(gd(t,l))return B1(a,t,l)}}if((s=(s+1)%r)==i)break}return e}function vI(e,t){let n=e.dom.ownerDocument,r,i=0,s=bI(n,t.left,t.top);s&&({node:r,offset:i}=s);let a=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),o;if(!a||!e.dom.contains(a.nodeType!=1?a.parentNode:a)){let l=e.dom.getBoundingClientRect();if(!gd(t,l)||(a=B1(e.dom,t,l),!a))return null}if(Ut)for(let l=a;r&&l;l=_i(l))l.draggable&&(r=void 0);if(a=_I(a,t),r){if(gn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}let l;Qs&&i&&r.nodeType==1&&(l=r.childNodes[i-1]).nodeType==1&&l.contentEditable=="false"&&l.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?o=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(o=NI(e,r,i,t))}o==null&&(o=AI(e,a,t));let u=e.docView.nearestDesc(a,!0);return{pos:o,inside:u?u.posAtStart-u.border:-1}}function ap(e){return e.top<e.bottom||e.left<e.right}function ar(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(ap(r))return r}return Array.prototype.find.call(n,ap)||e.getBoundingClientRect()}const II=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function F1(e,t,n){let{node:r,offset:i,atom:s}=e.docView.domFromPos(t,n<0?-1:1),a=Qs||gn;if(r.nodeType==3)if(a&&(II.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=ar(Vn(r,i,i),n);if(gn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let l=ar(Vn(r,i-1,i-1),-1);if(l.top==u.top){let c=ar(Vn(r,i,i+1),-1);if(c.top!=u.top)return Xi(c,c.left<l.left)}}return u}else{let u=i,l=i,c=n<0?1:-1;return n<0&&!i?(l++,c=-1):n>=0&&i==r.nodeValue.length?(u--,c=1):n<0?u--:l++,Xi(ar(Vn(r,u,l),c),c<0)}if(!e.state.doc.resolve(t-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==mn(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return Qu(u.getBoundingClientRect(),!1)}if(s==null&&i<mn(r)){let u=r.childNodes[i];if(u.nodeType==1)return Qu(u.getBoundingClientRect(),!0)}return Qu(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==mn(r))){let u=r.childNodes[i-1],l=u.nodeType==3?Vn(u,mn(u)-(a?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(l)return Xi(ar(l,1),!1)}if(s==null&&i<mn(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let l=u?u.nodeType==3?Vn(u,0,a?0:1):u.nodeType==1?u:null:null;if(l)return Xi(ar(l,-1),!0)}return Xi(ar(r.nodeType==3?Vn(r):r,-n),n>=0)}function Xi(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Qu(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function j1(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function OI(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return j1(e,t,()=>{let{node:s}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let o=e.docView.nearestDesc(s,!0);if(!o)break;if(o.node.isBlock){s=o.contentDOM||o.dom;break}s=o.dom.parentNode}let a=F1(e,i.pos,1);for(let o=s.firstChild;o;o=o.nextSibling){let u;if(o.nodeType==1)u=o.getClientRects();else if(o.nodeType==3)u=Vn(o,0,o.nodeValue.length).getClientRects();else continue;for(let l=0;l<u.length;l++){let c=u[l];if(c.bottom>c.top+1&&(n=="up"?a.top-c.top>(c.bottom-a.top)*2:c.bottom-a.bottom>(a.bottom-c.top)*2))return!1}}return!0})}const MI=/[\u0590-\u08ac]/;function RI(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,o=e.domSelection();return o?!MI.test(r.parent.textContent)||!o.modify?n=="left"||n=="backward"?s:a:j1(e,t,()=>{let{focusNode:u,focusOffset:l,anchorNode:c,anchorOffset:d}=e.domSelectionRange(),f=o.caretBidiLevel;o.modify("move",n,"character");let p=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:y,focusOffset:k}=e.domSelectionRange(),x=y&&!p.contains(y.nodeType==1?y:y.parentNode)||u==y&&l==k;try{o.collapse(c,d),u&&(u!=c||l!=d)&&o.extend&&o.extend(u,l)}catch(T){}return f!=null&&(o.caretBidiLevel=f),x}):r.pos==r.start()||r.pos==r.end()}let op=null,up=null,lp=!1;function LI(e,t,n){return op==t&&up==n?lp:(op=t,up=n,lp=n=="up"||n=="down"?OI(e,t,n):RI(e,t,n))}const bn=0,cp=1,Lr=2,Pn=3;class Xs{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=bn,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let s,a;if(t==this.contentDOM)s=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(t==this.contentDOM)s=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>_t(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return(i==null?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))r=!1;else return s}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==t&&s!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let o=i.children[a];if(o.size){i=o;break}}return i}if(t<s)return i.descAt(t-r-i.border);r=s}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],o=s+a.size;if(o>t||a instanceof z1){i=t-s;break}s=o}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof H1&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?_t(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?_t(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,o=0;;o++){let u=this.children[o],l=a+u.size;if(i==-1&&t<=l){let c=a+u.border;if(t>=c&&n<=l-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(t,n,c);t=a;for(let d=o;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=_t(f.dom)+1;break}t-=f.size}i==-1&&(i=0)}if(i>-1&&(l>n||o==this.children.length-1)){n=l;for(let c=o+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=_t(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=l}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let s=Math.min(t,n),a=Math.max(t,n);for(let p=0,y=0;p<this.children.length;p++){let k=this.children[p],x=y+k.size;if(s>y&&a<x)return k.setSelection(t-y-k.border,n-y-k.border,r,i);y=x}let o=this.domFromPos(t,t?-1:1),u=n==t?o:this.domFromPos(n,n?-1:1),l=r.root.getSelection(),c=r.domSelectionRange(),d=!1;if((gn||Ut)&&t==n){let{node:p,offset:y}=o;if(p.nodeType==3){if(d=!!(y&&p.nodeValue[y-1]==`
`),d&&y==p.nodeValue.length)for(let k=p,x;k;k=k.parentNode){if(x=k.nextSibling){x.nodeName=="BR"&&(o=u={node:x.parentNode,offset:_t(x)+1});break}let T=k.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let k=p.childNodes[y-1];d=k&&(k.nodeName=="BR"||k.contentEditable=="false")}}if(gn&&c.focusNode&&c.focusNode!=u.node&&c.focusNode.nodeType==1){let p=c.focusNode.childNodes[c.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||d&&Ut)&&Qr(o.node,o.offset,c.anchorNode,c.anchorOffset)&&Qr(u.node,u.offset,c.focusNode,c.focusOffset))return;let f=!1;if((l.extend||t==n)&&!(d&&gn)){l.collapse(o.node,o.offset);try{t!=n&&l.extend(u.node,u.offset),f=!0}catch(p){}}if(!f){if(t>n){let y=o;o=u,u=y}let p=document.createRange();p.setEnd(u.node,u.offset),p.setStart(o.node,o.offset),l.removeAllRanges(),l.addRange(p)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?t<=a&&n>=r:t<a&&n>r){let o=r+s.border,u=a-s.border;if(t>=o&&n<=u){this.dirty=t==r||n==a?Lr:cp,t==o&&n==u&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Pn:s.markDirty(t-o,n-o);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Lr:Pn}r=a}this.dirty=Lr}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Lr:cp;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class H1 extends Xs{constructor(t,n,r,i){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let o=document.createElement("span");o.appendChild(a),a=o}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(t){return this.dirty==bn&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class DI extends Xs{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Xr extends Xs{constructor(t,n,r,i,s){super(t,[],r,i),this.mark=n,this.spec=s}static create(t,n,r,i){let s=i.nodeViews[n.type.name],a=s&&s(n,i,r);return(!a||!a.dom)&&(a=ri.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Xr(t,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Pn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Pn&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=bn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=bn}}slice(t,n,r){let i=Xr.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=rc(s,n,a,r)),t>0&&(s=rc(s,0,t,r));for(let o=0;o<s.length;o++)s[o].parent=i;return i.children=s,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class yr extends Xs{constructor(t,n,r,i,s,a,o,u,l){super(t,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=o}static create(t,n,r,i,s,a){let o=s.nodeViews[n.type.name],u,l=o&&o(n,s,()=>{if(!u)return a;if(u.parent)return u.parent.posBeforeChild(u)},r,i),c=l&&l.dom,d=l&&l.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=ri.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let f=c;return c=V1(c,r,n),l?u=new PI(t,n,r,i,c,d||null,f,l,s,a+1):n.isText?new nu(t,n,r,i,c,f,s):new yr(t,n,r,i,c,d||null,f,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Q.empty)}return t}matchesNode(t,n,r){return this.dirty==bn&&t.eq(this.node)&&Za(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,s=t.composing?this.localCompositionInfo(t,n):null,a=s&&s.pos>-1?s:null,o=s&&s.pos<0,u=new FI(this,a&&a.node,t);zI(this.node,this.innerDeco,(l,c,d)=>{l.spec.marks?u.syncToMarks(l.spec.marks,r,t):l.type.side>=0&&!d&&u.syncToMarks(c==this.node.childCount?He.none:this.node.child(c).marks,r,t),u.placeWidget(l,t,i)},(l,c,d,f)=>{u.syncToMarks(l.marks,r,t);let p;u.findNodeMatch(l,c,d,f)||o&&t.state.selection.from>i&&t.state.selection.to<i+l.nodeSize&&(p=u.findIndexWithChild(s.node))>-1&&u.updateNodeAt(l,c,d,p,t)||u.updateNextNode(l,c,d,t,f,i)||u.addNode(l,c,d,t,i),i+=l.nodeSize}),u.syncToMarks([],r,t),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Lr)&&(a&&this.protectLocalComposition(t,a),U1(this.contentDOM,this.children,t),Ai&&UI(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Ee)||r<n||i>n+this.node.content.size)return null;let s=t.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,o=$I(this.node.content,a,r-n,i-n);return o<0?null:{node:s,pos:o,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new DI(this,s,n,i);t.input.compositionNodes.push(a),this.children=rc(this.children,r,r+i.length,t,a)}update(t,n,r,i){return this.dirty==Pn||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=bn}updateOuterDeco(t){if(Za(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=$1(this.dom,this.nodeDOM,nc(this.outerDeco,this.node,n),nc(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function dp(e,t,n,r,i){V1(r,t,e);let s=new yr(void 0,e,t,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class nu extends yr{constructor(t,n,r,i,s,a,o){super(t,n,r,i,s,null,a,o,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==Pn||this.dirty!=bn&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=bn||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=bn,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),s=document.createTextNode(i.text);return new nu(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Pn)}get domAtom(){return!1}isText(t){return this.node.text==t}}class z1 extends Xs{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==bn&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class PI extends yr{constructor(t,n,r,i,s,a,o,u,l,c){super(t,n,r,i,s,a,o,l,c),this.spec=u}update(t,n,r,i){if(this.dirty==Pn)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let s=this.spec.update(t,n,r);return s&&this.updateInner(t,n,r,i),s}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function U1(e,t,n){let r=e.firstChild,i=!1;for(let s=0;s<t.length;s++){let a=t[s],o=a.dom;if(o.parentNode==e){for(;o!=r;)r=fp(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(o,r);if(a instanceof Xr){let u=r?r.previousSibling:e.lastChild;U1(a.contentDOM,a.children,n),r=u?u.nextSibling:e.firstChild}}for(;r;)r=fp(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const Es=function(e){e&&(this.nodeName=e)};Es.prototype=Object.create(null);const Dr=[new Es];function nc(e,t,n){if(e.length==0)return Dr;let r=n?Dr[0]:new Es,i=[r];for(let s=0;s<e.length;s++){let a=e[s].type.attrs;if(a){a.nodeName&&i.push(r=new Es(a.nodeName));for(let o in a){let u=a[o];u!=null&&(n&&i.length==1&&i.push(r=new Es(t.isInline?"span":"div")),o=="class"?r.class=(r.class?r.class+" ":"")+u:o=="style"?r.style=(r.style?r.style+";":"")+u:o!="nodeName"&&(r[o]=u))}}}return i}function $1(e,t,n,r){if(n==Dr&&r==Dr)return t;let i=t;for(let s=0;s<r.length;s++){let a=r[s],o=n[s];if(s){let u;o&&o.nodeName==a.nodeName&&i!=e&&(u=i.parentNode)&&u.nodeName.toLowerCase()==a.nodeName||(u=document.createElement(a.nodeName),u.pmIsDeco=!0,u.appendChild(i),o=Dr[0]),i=u}BI(i,o||Dr[0],a)}return i}function BI(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&e.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&e.classList.add(i[s]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function V1(e,t,n){return $1(e,e,Dr,nc(t,n,e.nodeType!=1))}function Za(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function fp(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class FI{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=jI(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,s=this.stack.length>>1,a=Math.min(s,t.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=bn,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let o=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let l=this.top.children[u];if(l.matchesMark(t[s])&&!this.isLocked(l.dom)){o=u;break}}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let u=Xr.create(this.top,t[s],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,s++}}findNodeMatch(t,n,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(t,n,r))s=this.top.children.indexOf(a,this.index);else for(let o=this.index,u=Math.min(this.top.children.length,o+5);o<u;o++){let l=this.top.children[o];if(l.matchesNode(t,n,r)&&!this.preMatch.matched.has(l)){s=o;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(t,n,r,i,s){let a=this.top.children[i];return a.dirty==Pn&&a.dom==a.contentDOM&&(a.dirty=Lr),a.update(t,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,s,a){for(let o=this.index;o<this.top.children.length;o++){let u=this.top.children[o];if(u instanceof yr){let l=this.preMatch.matched.get(u);if(l!=null&&l!=s)return!1;let c=u.dom,d,f=this.isLocked(c)&&!(t.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==t.text&&u.dirty!=Pn&&Za(n,u.outerDeco));if(!f&&u.update(t,n,r,i))return this.destroyBetween(this.index,o),u.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(u,t,n,r,i,a)))return this.destroyBetween(this.index,o),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Lr,d.updateChildren(i,a+1),d.dirty=bn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,s,a){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!Za(r,t.outerDeco)||!i.eq(t.innerDeco))return null;let o=yr.create(this.top,n,r,i,s,a);if(o.contentDOM){o.children=t.children,t.children=[];for(let u of o.children)u.parent=o}return t.destroy(),o}addNode(t,n,r,i,s){let a=yr.create(this.top,t,n,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new H1(this.top,t,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof Xr;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof nu)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Ut||Rt)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new z1(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function jI(e,t){let n=t,r=n.children.length,i=e.childCount,s=new Map,a=[];e:for(;i>0;){let o;for(;;)if(r){let l=n.children[r-1];if(l instanceof Xr)n=l,r=l.children.length;else{o=l,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=o.node;if(u){if(u!=e.child(i-1))break;--i,s.set(o,i),a.push(o)}}return{index:i,matched:s,matches:a.reverse()}}function HI(e,t){return e.type.side-t.type.side}function zI(e,t,n,r){let i=t.locals(e),s=0;if(i.length==0){for(let l=0;l<e.childCount;l++){let c=e.child(l);r(c,i,t.forChild(s,c),l),s+=c.nodeSize}return}let a=0,o=[],u=null;for(let l=0;;){let c,d;for(;a<i.length&&i[a].to==s;){let x=i[a++];x.widget&&(c?(d||(d=[c])).push(x):c=x)}if(c)if(d){d.sort(HI);for(let x=0;x<d.length;x++)n(d[x],l,!!u)}else n(c,l,!!u);let f,p;if(u)p=-1,f=u,u=null;else if(l<e.childCount)p=l,f=e.child(l++);else break;for(let x=0;x<o.length;x++)o[x].to<=s&&o.splice(x--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)o.push(i[a++]);let y=s+f.nodeSize;if(f.isText){let x=y;a<i.length&&i[a].from<x&&(x=i[a].from);for(let T=0;T<o.length;T++)o[T].to<x&&(x=o[T].to);x<y&&(u=f.cut(x-s),f=f.cut(0,x-s),y=x,p=-1)}else for(;a<i.length&&i[a].to<y;)a++;let k=f.isInline&&!f.isLeaf?o.filter(x=>!x.inline):o.slice();r(f,k,t.forChild(s,f),p),s=y}}function UI(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function $I(e,t,n,r){for(let i=0,s=0;i<e.childCount&&s<=r;){let a=e.child(i++),o=s;if(s+=a.nodeSize,!a.isText)continue;let u=a.text;for(;i<e.childCount;){let l=e.child(i++);if(s+=l.nodeSize,!l.isText)break;u+=l.text}if(s>=n){if(s>=r&&u.slice(r-t.length-o,r-o)==t)return r-t.length;let l=o<r?u.lastIndexOf(t,r-o-1):-1;if(l>=0&&l+t.length+o>=n)return o+l;if(n==r&&u.length>=r+t.length-o&&u.slice(r-o,r-o+t.length)==t)return r}}return-1}function rc(e,t,n,r,i){let s=[];for(let a=0,o=0;a<e.length;a++){let u=e[a],l=o,c=o+=u.size;l>=n||c<=t?s.push(u):(l<t&&s.push(u.slice(0,t-l,r)),i&&(s.push(i),i=void 0),c>n&&s.push(u.slice(n-l,u.size,r)))}return s}function bd(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),s=i&&i.size==0,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let o=r.resolve(a),u,l;if(tu(n)){for(u=a;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&me.isSelectable(d)&&i.parent&&!(d.isInline&&mI(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;l=new me(a==f?o:r.resolve(f))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=a,f=a;for(let p=0;p<n.rangeCount;p++){let y=n.getRangeAt(p);d=Math.min(d,e.docView.posFromDOM(y.startContainer,y.startOffset,1)),f=Math.max(f,e.docView.posFromDOM(y.endContainer,y.endOffset,-1))}if(d<0)return null;[u,a]=f==e.state.selection.anchor?[f,d]:[d,f],o=r.resolve(a)}else u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let c=r.resolve(u);if(!l){let d=t=="pointer"||e.state.selection.head<o.pos&&!s?1:-1;l=yd(e,c,o,d)}return l}function q1(e){return e.editable?e.hasFocus():K1(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Qn(e,t=!1){let n=e.state.selection;if(W1(e,n),!!q1(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Rt){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Qr(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)qI(e);else{let{anchor:r,head:i}=n,s,a;hp&&!(n instanceof Ee)&&(n.$from.parent.inlineContent||(s=pp(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=pp(e,n.to))),e.docView.setSelection(r,i,e,t),hp&&(s&&mp(s),a&&mp(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&VI(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const hp=Ut||Rt&&R1<63;function pp(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Ut&&i&&i.contentEditable=="false")return Xu(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Xu(i);if(s)return Xu(s)}}function Xu(e){return e.contentEditable="true",Ut&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function mp(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function VI(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!q1(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function qI(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,_t(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&Qt&&br<=11&&(n.disabled=!0,n.disabled=!1)}function W1(e,t){if(t instanceof me){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(gp(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else gp(e)}function gp(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function yd(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||Ee.between(t,n,r)}function bp(e){return e.editable&&!e.hasFocus()?!1:K1(e)}function K1(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function WI(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Qr(t.node,t.offset,n.anchorNode,n.anchorOffset)}function ic(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return s&&Se.findFrom(s,t)}function ur(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function yp(e,t,n){let r=e.state.selection;if(r instanceof Ee)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=e.state.doc.resolve(i.pos+s.nodeSize*(t<0?-1:1));return ur(e,new Ee(r.$anchor,a))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=ic(e.state,t);return i&&i instanceof me?ur(e,i):!1}else if(!(fn&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let o=t<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=e.docView.descAt(o))&&!a.contentDOM?me.isSelectable(s)?ur(e,new me(t<0?e.state.doc.resolve(i.pos-s.nodeSize):i)):Qs?ur(e,new Ee(e.state.doc.resolve(t<0?o:o+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof me&&r.node.isInline)return ur(e,new Ee(t>0?r.$to:r.$from));{let i=ic(e.state,t);return i?ur(e,i):!1}}}function eo(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function ks(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function li(e,t){return t<0?KI(e):YI(e)}function KI(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,s,a=!1;for(gn&&n.nodeType==1&&r<eo(n)&&ks(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let o=n.childNodes[r-1];if(ks(o,-1))i=n,s=--r;else if(o.nodeType==3)n=o,r=n.nodeValue.length;else break}}else{if(Y1(n))break;{let o=n.previousSibling;for(;o&&ks(o,-1);)i=n.parentNode,s=_t(o),o=o.previousSibling;if(o)n=o,r=eo(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?sc(e,n,r):i&&sc(e,i,s)}function YI(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=eo(n),s,a;for(;;)if(r<i){if(n.nodeType!=1)break;let o=n.childNodes[r];if(ks(o,1))s=n,a=++r;else break}else{if(Y1(n))break;{let o=n.nextSibling;for(;o&&ks(o,1);)s=o.parentNode,a=_t(o)+1,o=o.nextSibling;if(o)n=o,r=0,i=eo(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}s&&sc(e,s,a)}function Y1(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function GI(e,t){for(;e&&t==e.childNodes.length&&!Gs(e);)t=_t(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function QI(e,t){for(;e&&!t&&!Gs(e);)t=_t(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function sc(e,t,n){if(t.nodeType!=3){let s,a;(a=GI(t,n))?(t=a,n=0):(s=QI(t,n))&&(t=s,n=s.nodeValue.length)}let r=e.domSelection();if(!r)return;if(tu(r)){let s=document.createRange();s.setEnd(t,n),s.setStart(t,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Qn(e)},50)}function Ep(e,t){let n=e.state.doc.resolve(t);if(!(Rt||yI)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let s=e.coordsAtPos(t-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(t<n.end()){let s=e.coordsAtPos(t+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function kp(e,t,n){let r=e.state.selection;if(r instanceof Ee&&!r.empty||n.indexOf("s")>-1||fn&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let a=ic(e.state,t);if(a&&a instanceof me)return ur(e,a)}if(!i.parent.inlineContent){let a=t<0?i:s,o=r instanceof rn?Se.near(a,t):Se.findFrom(a,t);return o?ur(e,o):!1}return!1}function Tp(e,t){if(!(e.state.selection instanceof Ee))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=e.state.tr;return t<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),e.dispatch(a),!0}return!1}function xp(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function XI(e){if(!Ut||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;xp(e,r,"true"),setTimeout(()=>xp(e,r,"false"),20)}return!1}function JI(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function ZI(e,t){let n=t.keyCode,r=JI(t);if(n==8||fn&&n==72&&r=="c")return Tp(e,-1)||li(e,-1);if(n==46&&!t.shiftKey||fn&&n==68&&r=="c")return Tp(e,1)||li(e,1);if(n==13||n==27)return!0;if(n==37||fn&&n==66&&r=="c"){let i=n==37?Ep(e,e.state.selection.from)=="ltr"?-1:1:-1;return yp(e,i,r)||li(e,i)}else if(n==39||fn&&n==70&&r=="c"){let i=n==39?Ep(e,e.state.selection.from)=="ltr"?1:-1:1;return yp(e,i,r)||li(e,i)}else{if(n==38||fn&&n==80&&r=="c")return kp(e,-1,r)||li(e,-1);if(n==40||fn&&n==78&&r=="c")return XI(e)||kp(e,1,r)||li(e,1);if(r==(fn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Ed(e,t){e.someProp("transformCopied",p=>{t=p(t,e)});let n=[],{content:r,openStart:i,openEnd:s}=t;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let a=e.someProp("clipboardSerializer")||ri.fromSchema(e.state.schema),o=eb(),u=o.createElement("div");u.appendChild(a.serializeFragment(r,{document:o}));let l=u.firstChild,c,d=0;for(;l&&l.nodeType==1&&(c=Z1[l.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let y=o.createElement(c[p]);for(;u.firstChild;)y.appendChild(u.firstChild);u.appendChild(y),d++}l=u.firstChild}l&&l.nodeType==1&&l.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=e.someProp("clipboardTextSerializer",p=>p(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:u,text:f,slice:t}}function G1(e,t,n,r,i){let s=i.parent.type.spec.code,a,o;if(!n&&!t)return null;let u=!!t&&(r||s||!n);if(u){if(e.someProp("transformPastedText",f=>{t=f(t,s||r,e)}),s)return o=new ue(Q.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",f=>{o=f(o,e,!0)}),o;let d=e.someProp("clipboardTextParser",f=>f(t,i,r,e));if(d)o=d;else{let f=i.marks(),{schema:p}=e.state,y=ri.fromSchema(p);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(k=>{let x=a.appendChild(document.createElement("p"));k&&x.appendChild(y.serializeNode(p.text(k,f)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),a=r8(n),Qs&&i8(a);let l=a&&a.querySelector("[data-pm-slice]"),c=l&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(l.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let f=a.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;a=f}if(o||(o=(e.someProp("clipboardParser")||e.someProp("domParser")||bs.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(u||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!e8.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)o=s8(wp(o,+c[1],+c[2]),c[4]);else if(o=ue.maxOpen(t8(o.content,i),!0),o.openStart||o.openEnd){let d=0,f=0;for(let p=o.content.firstChild;d<o.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=o.content.lastChild;f<o.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);o=wp(o,d,f)}return e.someProp("transformPasted",d=>{o=d(o,e,u)}),o}const e8=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function t8(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),s,a=[];if(e.forEach(o=>{if(!a)return;let u=i.findWrapping(o.type),l;if(!u)return a=null;if(l=a.length&&s.length&&X1(u,s,o,a[a.length-1],0))a[a.length-1]=l;else{a.length&&(a[a.length-1]=J1(a[a.length-1],s.length));let c=Q1(o,u);a.push(c),i=i.matchType(c.type),s=u}}),a)return Q.from(a)}return e}function Q1(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,Q.from(e));return e}function X1(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let s=X1(e,t,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(Q.from(Q1(n,e,i+1))))}}function J1(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,J1(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Q.empty,!0);return e.copy(n.append(r))}function ac(e,t,n,r,i,s){let a=t<0?e.firstChild:e.lastChild,o=a.content;return e.childCount>1&&(s=0),i<r-1&&(o=ac(o,t,n,r,i+1,s)),i>=n&&(o=t<0?a.contentMatchAt(0).fillBefore(o,s<=i).append(o):o.append(a.contentMatchAt(a.childCount).fillBefore(Q.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(o))}function wp(e,t,n){return t<e.openStart&&(e=new ue(ac(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new ue(ac(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const Z1={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Cp=null;function eb(){return Cp||(Cp=document.implementation.createHTMLDocument("title"))}let Ju=null;function n8(e){let t=window.trustedTypes;return t?(Ju||(Ju=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Ju.createHTML(e)):e}function r8(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=eb().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&Z1[r[1].toLowerCase()])&&(e=i.map(s=>"<"+s+">").join("")+e+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=n8(e),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function i8(e){let t=e.querySelectorAll(Rt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function s8(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch(o){return e}let{content:i,openStart:s,openEnd:a}=e;for(let o=r.length-2;o>=0;o-=2){let u=n.nodes[r[o]];if(!u||u.hasRequiredAttrs())break;i=Q.from(u.create(r[o+1],i)),s++,a++}return new ue(i,s,a)}const $t={},Vt={},a8={touchstart:!0,touchmove:!0};class o8{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function u8(e){for(let t in $t){let n=$t[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{c8(e,r)&&!kd(e,r)&&(e.editable||!(r.type in Vt))&&n(e,r)},a8[t]?{passive:!0}:void 0)}Ut&&e.dom.addEventListener("input",()=>null),oc(e)}function gr(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function l8(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function oc(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>kd(e,r))})}function kd(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function c8(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function d8(e,t){!kd(e,t)&&$t[t.type]&&(e.editable||!(t.type in Vt))&&$t[t.type](e,t)}Vt.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!nb(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Yn&&Rt&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Ai&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,Mr(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||ZI(e,n)?n.preventDefault():gr(e,"key")};Vt.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Vt.keypress=(e,t)=>{let n=t;if(nb(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||fn&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Ee)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>e.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",a=>a(e,r.$from.pos,r.$to.pos,i,s))&&e.dispatch(s()),n.preventDefault()}};function ru(e){return{left:e.clientX,top:e.clientY}}function f8(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function Td(e,t,n,r,i){if(r==-1)return!1;let s=e.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(e.someProp(t,o=>a>s.depth?o(e,n,s.nodeAfter,s.before(a),i,!0):o(e,n,s.node(a),s.before(a),i,!1)))return!0;return!1}function ki(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function h8(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&me.isSelectable(r)?(ki(e,new me(n)),!0):!1}function p8(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof me&&(r=n.node);let s=e.state.doc.resolve(t);for(let a=s.depth+1;a>0;a--){let o=a>s.depth?s.nodeAfter:s.node(a);if(me.isSelectable(o)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(a);break}}return i!=null?(ki(e,me.create(e.state.doc,i)),!0):!1}function m8(e,t,n,r,i){return Td(e,"handleClickOn",t,n,r)||e.someProp("handleClick",s=>s(e,t,r))||(i?p8(e,n):h8(e,n))}function g8(e,t,n,r){return Td(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function b8(e,t,n,r){return Td(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||y8(e,n,r)}function y8(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(ki(e,Ee.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),o=i.before(s);if(a.inlineContent)ki(e,Ee.create(r,o+1,o+1+a.content.size));else if(me.isSelectable(a))ki(e,me.create(r,o));else continue;return!0}}function xd(e){return to(e)}const tb=fn?"metaKey":"ctrlKey";$t.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=xd(e),i=Date.now(),s="singleClick";i-e.input.lastClick.time<500&&f8(n,e.input.lastClick)&&!n[tb]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?s="doubleClick":e.input.lastClick.type=="doubleClick"&&(s="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let a=e.posAtCoords(ru(n));a&&(s=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new E8(e,a,n,!!r)):(s=="doubleClick"?g8:b8)(e,a.pos,a.inside,n)?n.preventDefault():gr(e,"pointer"))};class E8{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[tb],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=t.state.doc.nodeAt(n.inside),a=n.inside;else{let c=t.state.doc.resolve(n.pos);s=c.parent,a=c.depth?c.before():0}const o=i?null:r.target,u=o?t.docView.nearestDesc(o,!0):null;this.target=u&&u.nodeDOM.nodeType==1?u.nodeDOM:null;let{selection:l}=t.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||l instanceof me&&l.from<=a&&l.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),gr(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Qn(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(ru(t))),this.updateAllowDefault(t),this.allowDefault||!n?gr(this.view,"pointer"):m8(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Ut&&this.mightDrag&&!this.mightDrag.node.isAtom||Rt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ki(this.view,Se.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):gr(this.view,"pointer")}move(t){this.updateAllowDefault(t),gr(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}$t.touchstart=e=>{e.input.lastTouch=Date.now(),xd(e),gr(e,"pointer")};$t.touchmove=e=>{e.input.lastTouch=Date.now(),gr(e,"pointer")};$t.contextmenu=e=>xd(e);function nb(e,t){return e.composing?!0:Ut&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const k8=Yn?5e3:-1;Vt.compositionstart=Vt.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Ee&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),to(e,!0),e.markCursor=null;else if(to(e,!t.selection.empty),gn&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let o=e.domSelection();o&&o.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}e.input.composing=!0}rb(e,k8)};Vt.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,rb(e,20))};function rb(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>to(e),t))}function ib(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=x8());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function T8(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=hI(t.focusNode,t.focusOffset),r=pI(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=e.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function x8(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function to(e,t=!1){if(!(Yn&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),ib(e),t||e.docView&&e.docView.dirty){let n=bd(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function w8(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Ds=Qt&&br<15||Ai&&EI<604;$t.copy=Vt.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let s=Ds?null:n.clipboardData,a=r.content(),{dom:o,text:u}=Ed(e,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",o.innerHTML),s.setData("text/plain",u)):w8(e,o),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function C8(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function S8(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ps(e,r.value,null,i,t):Ps(e,r.textContent,r.innerHTML,i,t)},50)}function Ps(e,t,n,r,i){let s=G1(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",u=>u(e,i,s||ue.empty)))return!0;if(!s)return!1;let a=C8(s),o=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(s);return e.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function sb(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Vt.paste=(e,t)=>{let n=t;if(e.composing&&!Yn)return;let r=Ds?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&Ps(e,sb(r),r.getData("text/html"),i,n)?n.preventDefault():S8(e,n)};class ab{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const _8=fn?"altKey":"ctrlKey";function ob(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n!=null?n:!t[_8]}$t.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,s=i.empty?null:e.posAtCoords(ru(n)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof me?i.to-1:i.to))){if(r&&r.mightDrag)a=me.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(a=me.create(e.state.doc,d.posBefore))}}let o=(a||e.state.selection).content(),{dom:u,text:l,slice:c}=Ed(e,o);(!n.dataTransfer.files.length||!Rt||R1>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Ds?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ds||n.dataTransfer.setData("text/plain",l),e.dragging=new ab(c,ob(e,n),a)};$t.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Vt.dragover=Vt.dragenter=(e,t)=>t.preventDefault();Vt.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(ru(n));if(!i)return;let s=e.state.doc.resolve(i.pos),a=r&&r.slice;a?e.someProp("transformPasted",y=>{a=y(a,e,!1)}):a=G1(e,sb(n.dataTransfer),Ds?null:n.dataTransfer.getData("text/html"),!1,s);let o=!!(r&&ob(e,n));if(e.someProp("handleDrop",y=>y(e,n,a||ue.empty,o))){n.preventDefault();return}if(!a)return;n.preventDefault();let u=a?f1(e.state.doc,s.pos,a):s.pos;u==null&&(u=s.pos);let l=e.state.tr;if(o){let{node:y}=r;y?y.replace(l):l.deleteSelection()}let c=l.mapping.map(u),d=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,f=l.doc;if(d?l.replaceRangeWith(c,c,a.content.firstChild):l.replaceRange(c,c,a),l.doc.eq(f))return;let p=l.doc.resolve(c);if(d&&me.isSelectable(a.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(a.content.firstChild))l.setSelection(new me(p));else{let y=l.mapping.map(u);l.mapping.maps[l.mapping.maps.length-1].forEach((k,x,T,O)=>y=O),l.setSelection(yd(e,p,l.doc.resolve(y)))}e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))};$t.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Qn(e)},20))};$t.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};$t.beforeinput=(e,t)=>{if(Rt&&Yn&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",s=>s(e,Mr(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in Vt)$t[e]=Vt[e];function Bs(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class no{constructor(t,n){this.toDOM=t,this.spec=n||zr,this.side=this.spec.side||0}map(t,n,r,i){let{pos:s,deleted:a}=t.mapResult(n.from+i,this.side<0?-1:1);return a?null:new Lt(s-r,s-r,this)}valid(){return!0}eq(t){return this==t||t instanceof no&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Bs(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Er{constructor(t,n){this.attrs=t,this.spec=n||zr}map(t,n,r,i){let s=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new Lt(s,a,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Er&&Bs(this.attrs,t.attrs)&&Bs(this.spec,t.spec)}static is(t){return t.type instanceof Er}destroy(){}}class wd{constructor(t,n){this.attrs=t,this.spec=n||zr}map(t,n,r,i){let s=t.mapResult(n.from+i,1);if(s.deleted)return null;let a=t.mapResult(n.to+i,-1);return a.deleted||a.pos<=s.pos?null:new Lt(s.pos-r,a.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),s;return i==n.from&&!(s=t.child(r)).isText&&i+s.nodeSize==n.to}eq(t){return this==t||t instanceof wd&&Bs(this.attrs,t.attrs)&&Bs(this.spec,t.spec)}destroy(){}}class Lt{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Lt(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Lt(t,t,new no(n,r))}static inline(t,n,r,i){return new Lt(t,n,new Er(r,i))}static node(t,n,r,i){return new Lt(t,n,new wd(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Er}get widget(){return this.type instanceof no}}const fi=[],zr={};class Xe{constructor(t,n){this.local=t.length?t:fi,this.children=n.length?n:fi}static create(t,n){return n.length?ro(n,t,0,zr):Ot}find(t,n,r){let i=[];return this.findInner(t==null?0:t,n==null?1e9:n,i,0,r),i}findInner(t,n,r,i,s){for(let a=0;a<this.local.length;a++){let o=this.local[a];o.from<=n&&o.to>=t&&(!s||s(o.spec))&&r.push(o.copy(o.from+i,o.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>t){let o=this.children[a]+1;this.children[a+2].findInner(t-o,n-o,r,i+o,s)}}map(t,n,r){return this==Ot||t.maps.length==0?this:this.mapInner(t,n,0,0,r||zr)}mapInner(t,n,r,i,s){let a;for(let o=0;o<this.local.length;o++){let u=this.local[o].map(t,r,i);u&&u.type.valid(n,u)?(a||(a=[])).push(u):s.onRemove&&s.onRemove(this.local[o].spec)}return this.children.length?A8(this.children,a||[],t,n,r,i,s):a?new Xe(a.sort(Ur),fi):Ot}add(t,n){return n.length?this==Ot?Xe.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,s=0;t.forEach((o,u)=>{let l=u+r,c;if(c=lb(n,o,l)){for(i||(i=this.children.slice());s<i.length&&i[s]<u;)s+=3;i[s]==u?i[s+2]=i[s+2].addInner(o,c,l+1):i.splice(s,0,u,u+o.nodeSize,ro(c,o,l+1,zr)),s+=3}});let a=ub(s?cb(n):n,-r);for(let o=0;o<a.length;o++)a[o].type.valid(t,a[o])||a.splice(o--,1);return new Xe(a.length?this.local.concat(a).sort(Ur):this.local,i||this.children)}remove(t){return t.length==0||this==Ot?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,o=r[s]+n,u=r[s+1]+n;for(let c=0,d;c<t.length;c++)(d=t[c])&&d.from>o&&d.to<u&&(t[c]=null,(a||(a=[])).push(d));if(!a)continue;r==this.children&&(r=this.children.slice());let l=r[s+2].removeInner(a,o+1);l!=Ot?r[s+2]=l:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<t.length;s++)if(a=t[s])for(let o=0;o<i.length;o++)i[o].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(o--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Xe(i,r):Ot}forChild(t,n){if(this==Ot)return this;if(n.isLeaf)return Xe.empty;let r,i;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(r=this.children[o+2]);break}let s=t+1,a=s+n.content.size;for(let o=0;o<this.local.length;o++){let u=this.local[o];if(u.from<a&&u.to>s&&u.type instanceof Er){let l=Math.max(s,u.from)-s,c=Math.min(a,u.to)-s;l<c&&(i||(i=[])).push(u.copy(l,c))}}if(i){let o=new Xe(i.sort(Ur),fi);return r?new dr([o,r]):o}return r||Ot}eq(t){if(this==t)return!0;if(!(t instanceof Xe)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return Cd(this.localsInner(t))}localsInner(t){if(this==Ot)return fi;if(t.inlineContent||!this.local.some(Er.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Er||n.push(this.local[r]);return n}forEachSet(t){t(this)}}Xe.empty=new Xe([],[]);Xe.removeOverlap=Cd;const Ot=Xe.empty;class dr{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,zr));return dr.from(r)}forChild(t,n){if(n.isLeaf)return Xe.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(t,n);s!=Ot&&(s instanceof dr?r=r.concat(s.members):r.push(s))}return dr.from(r)}eq(t){if(!(t instanceof dr)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(t);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?Cd(r?n:n.sort(Ur)):fi}static from(t){switch(t.length){case 0:return Ot;case 1:return t[0];default:return new dr(t.every(n=>n instanceof Xe)?t:t.reduce((n,r)=>n.concat(r instanceof Xe?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function A8(e,t,n,r,i,s,a){let o=e.slice();for(let l=0,c=s;l<n.maps.length;l++){let d=0;n.maps[l].forEach((f,p,y,k)=>{let x=k-y-(p-f);for(let T=0;T<o.length;T+=3){let O=o[T+1];if(O<0||f>O+c-d)continue;let D=o[T]+c-d;p>=D?o[T+1]=f<=D?-2:-1:f>=c&&x&&(o[T]+=x,o[T+1]+=x)}d+=x}),c=n.maps[l].map(c,-1)}let u=!1;for(let l=0;l<o.length;l+=3)if(o[l+1]<0){if(o[l+1]==-2){u=!0,o[l+1]=-1;continue}let c=n.map(e[l]+s),d=c-i;if(d<0||d>=r.content.size){u=!0;continue}let f=n.map(e[l+1]+s,-1),p=f-i,{index:y,offset:k}=r.content.findIndex(d),x=r.maybeChild(y);if(x&&k==d&&k+x.nodeSize==p){let T=o[l+2].mapInner(n,x,c+1,e[l]+s+1,a);T!=Ot?(o[l]=d,o[l+1]=p,o[l+2]=T):(o[l+1]=-2,u=!0)}else u=!0}if(u){let l=N8(o,e,t,n,i,s,a),c=ro(l,r,0,a);t=c.local;for(let d=0;d<o.length;d+=3)o[d+1]<0&&(o.splice(d,3),d-=3);for(let d=0,f=0;d<c.children.length;d+=3){let p=c.children[d];for(;f<o.length&&o[f]<p;)f+=3;o.splice(f,0,c.children[d],c.children[d+1],c.children[d+2])}}return new Xe(t.sort(Ur),o)}function ub(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Lt(i.from+t,i.to+t,i.type))}return n}function N8(e,t,n,r,i,s,a){function o(u,l){for(let c=0;c<u.local.length;c++){let d=u.local[c].map(r,i,l);d?n.push(d):a.onRemove&&a.onRemove(u.local[c].spec)}for(let c=0;c<u.children.length;c+=3)o(u.children[c+2],u.children[c]+l+1)}for(let u=0;u<e.length;u+=3)e[u+1]==-1&&o(e[u+2],t[u]+s+1);return n}function lb(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let s=0,a;s<e.length;s++)(a=e[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),e[s]=null);return i}function cb(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function ro(e,t,n,r){let i=[],s=!1;t.forEach((o,u)=>{let l=lb(e,o,u+n);if(l){s=!0;let c=ro(l,o,n+u+1,r);c!=Ot&&i.push(u,u+o.nodeSize,c)}});let a=ub(s?cb(e):e,-n).sort(Ur);for(let o=0;o<a.length;o++)a[o].type.valid(t,a[o])||(r.onRemove&&r.onRemove(a[o].spec),a.splice(o--,1));return a.length||i.length?new Xe(a,i):Ot}function Ur(e,t){return e.from-t.from||e.to-t.to}function Cd(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let s=t[i];if(s.from==r.from){s.to!=r.to&&(t==e&&(t=e.slice()),t[i]=s.copy(s.from,r.to),Sp(t,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,s.from),Sp(t,i,r.copy(s.from,r.to)));break}}}return t}function Sp(e,t,n){for(;t<e.length&&Ur(n,e[t])>0;)t++;e.splice(t,0,n)}function Zu(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Ot&&t.push(r)}),e.cursorWrapper&&t.push(Xe.create(e.state.doc,[e.cursorWrapper.deco])),dr.from(t)}const v8={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},I8=Qt&&br<=11;class O8{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class M8{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new O8,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Qt&&br<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),I8&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,v8)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(bp(this.view)){if(this.suppressingSelectionUpdates)return Qn(this.view);if(Qt&&br<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Qr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let s=t.focusNode;s;s=_i(s))n.add(s);for(let s=t.anchorNode;s;s=_i(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&bp(t)&&!this.ignoreSelectionChange(r),s=-1,a=-1,o=!1,u=[];if(t.editable)for(let c=0;c<n.length;c++){let d=this.registerMutation(n[c],u);d&&(s=s<0?d.from:Math.min(d.from,s),a=a<0?d.to:Math.max(d.to,a),d.typeOver&&(o=!0))}if(gn&&u.length){let c=u.filter(d=>d.nodeName=="BR");if(c.length==2){let[d,f]=c;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of c){let p=f.parentNode;p&&p.nodeName=="LI"&&(!d||D8(t,d)!=p)&&f.remove()}}}let l=null;s<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&tu(r)&&(l=bd(t))&&l.eq(Se.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Qn(t),this.currentSelection.set(r),t.scrollToSelection()):(s>-1||i)&&(s>-1&&(t.docView.markDirty(s,a),R8(t)),this.handleDOMChange(s,a,o,u),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Qn(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let c=0;c<t.addedNodes.length;c++){let d=t.addedNodes[c];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,s=t.nextSibling;if(Qt&&br<=11&&t.addedNodes.length)for(let c=0;c<t.addedNodes.length;c++){let{previousSibling:d,nextSibling:f}=t.addedNodes[c];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(s=f)}let a=i&&i.parentNode==t.target?_t(i)+1:0,o=r.localPosFromDOM(t.target,a,-1),u=s&&s.parentNode==t.target?_t(s):t.target.childNodes.length,l=r.localPosFromDOM(t.target,u,1);return{from:o,to:l}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let _p=new WeakMap,Ap=!1;function R8(e){if(!_p.has(e)&&(_p.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=gn,Ap)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Ap=!0}}function Np(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,s=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return Qr(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function L8(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return Np(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?Np(e,n):null}function D8(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function P8(e,t,n){let{node:r,fromOffset:i,toOffset:s,from:a,to:o}=e.docView.parseRange(t,n),u=e.domSelectionRange(),l,c=u.anchorNode;if(c&&e.dom.contains(c.nodeType==1?c:c.parentNode)&&(l=[{node:c,offset:u.anchorOffset}],tu(u)||l.push({node:u.focusNode,offset:u.focusOffset})),Rt&&e.input.lastKeyCode===8)for(let x=s;x>i;x--){let T=r.childNodes[x-1],O=T.pmViewDesc;if(T.nodeName=="BR"&&!O){s=x;break}if(!O||O.size)break}let d=e.state.doc,f=e.someProp("domParser")||bs.fromSchema(e.state.schema),p=d.resolve(a),y=null,k=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:l,ruleFromNode:B8,context:p});if(l&&l[0].pos!=null){let x=l[0].pos,T=l[1]&&l[1].pos;T==null&&(T=x),y={anchor:x+a,head:T+a}}return{doc:k,sel:y,from:a,to:o}}function B8(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Ut&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Ut&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const F8=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function j8(e,t,n,r,i){let s=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let w=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,N=bd(e,w);if(N&&!e.state.selection.eq(N)){if(Rt&&Yn&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",C=>C(e,Mr(13,"Enter"))))return;let S=e.state.tr.setSelection(N);w=="pointer"?S.setMeta("pointer",!0):w=="key"&&S.scrollIntoView(),s&&S.setMeta("composition",s),e.dispatch(S)}return}let a=e.state.doc.resolve(t),o=a.sharedDepth(n);t=a.before(o+1),n=e.state.doc.resolve(n).after(o+1);let u=e.state.selection,l=P8(e,t,n),c=e.state.doc,d=c.slice(l.from,l.to),f,p;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,p="end"):(f=e.state.selection.from,p="start"),e.input.lastKeyCode=null;let y=U8(d.content,l.doc.content,l.from,f,p);if(y&&e.input.domChangeCount++,(Ai&&e.input.lastIOSEnter>Date.now()-225||Yn)&&i.some(w=>w.nodeType==1&&!F8.test(w.nodeName))&&(!y||y.endA>=y.endB)&&e.someProp("handleKeyDown",w=>w(e,Mr(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!y)if(r&&u instanceof Ee&&!u.empty&&u.$head.sameParent(u.$anchor)&&!e.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))y={start:u.from,endA:u.to,endB:u.to};else{if(l.sel){let w=vp(e,e.state.doc,l.sel);if(w&&!w.eq(e.state.selection)){let N=e.state.tr.setSelection(w);s&&N.setMeta("composition",s),e.dispatch(N)}}return}e.state.selection.from<e.state.selection.to&&y.start==y.endB&&e.state.selection instanceof Ee&&(y.start>e.state.selection.from&&y.start<=e.state.selection.from+2&&e.state.selection.from>=l.from?y.start=e.state.selection.from:y.endA<e.state.selection.to&&y.endA>=e.state.selection.to-2&&e.state.selection.to<=l.to&&(y.endB+=e.state.selection.to-y.endA,y.endA=e.state.selection.to)),Qt&&br<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>l.from&&l.doc.textBetween(y.start-l.from-1,y.start-l.from+1)=="  "&&(y.start--,y.endA--,y.endB--);let k=l.doc.resolveNoCache(y.start-l.from),x=l.doc.resolveNoCache(y.endB-l.from),T=c.resolve(y.start),O=k.sameParent(x)&&k.parent.inlineContent&&T.end()>=y.endA;if((Ai&&e.input.lastIOSEnter>Date.now()-225&&(!O||i.some(w=>w.nodeName=="DIV"||w.nodeName=="P"))||!O&&k.pos<l.doc.content.size&&(!k.sameParent(x)||!k.parent.inlineContent)&&k.pos<x.pos&&!/\S/.test(l.doc.textBetween(k.pos,x.pos,"","")))&&e.someProp("handleKeyDown",w=>w(e,Mr(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>y.start&&z8(c,y.start,y.endA,k,x)&&e.someProp("handleKeyDown",w=>w(e,Mr(8,"Backspace")))){Yn&&Rt&&e.domObserver.suppressSelectionUpdates();return}Rt&&y.endB==y.start&&(e.input.lastChromeDelete=Date.now()),Yn&&!O&&k.start()!=x.start()&&x.parentOffset==0&&k.depth==x.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==y.endA&&(y.endB-=2,x=l.doc.resolveNoCache(y.endB-l.from),setTimeout(()=>{e.someProp("handleKeyDown",function(w){return w(e,Mr(13,"Enter"))})},20));let D=y.start,h=y.endA,E=w=>{let N=w||e.state.tr.replace(D,h,l.doc.slice(y.start-l.from,y.endB-l.from));if(l.sel){let S=vp(e,N.doc,l.sel);S&&!(Rt&&e.composing&&S.empty&&(y.start!=y.endB||e.input.lastChromeDelete<Date.now()-100)&&(S.head==D||S.head==N.mapping.map(h)-1)||Qt&&S.empty&&S.head==D)&&N.setSelection(S)}return s&&N.setMeta("composition",s),N.scrollIntoView()},g;if(O)if(k.pos==x.pos){Qt&&br<=11&&k.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Qn(e),20));let w=E(e.state.tr.delete(D,h)),N=c.resolve(y.start).marksAcross(c.resolve(y.endA));N&&w.ensureMarks(N),e.dispatch(w)}else if(y.endA==y.endB&&(g=H8(k.parent.content.cut(k.parentOffset,x.parentOffset),T.parent.content.cut(T.parentOffset,y.endA-T.start())))){let w=E(e.state.tr);g.type=="add"?w.addMark(D,h,g.mark):w.removeMark(D,h,g.mark),e.dispatch(w)}else if(k.parent.child(k.index()).isText&&k.index()==x.index()-(x.textOffset?0:1)){let w=k.parent.textBetween(k.parentOffset,x.parentOffset),N=()=>E(e.state.tr.insertText(w,D,h));e.someProp("handleTextInput",S=>S(e,D,h,w,N))||e.dispatch(N())}else e.dispatch(E());else e.dispatch(E())}function vp(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:yd(e,t.resolve(n.anchor),t.resolve(n.head))}function H8(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,s=r,a,o,u;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)s=n[c].removeFromSet(s);if(i.length==1&&s.length==0)o=i[0],a="add",u=c=>c.mark(o.addToSet(c.marks));else if(i.length==0&&s.length==1)o=s[0],a="remove",u=c=>c.mark(o.removeFromSet(c.marks));else return null;let l=[];for(let c=0;c<t.childCount;c++)l.push(u(t.child(c)));if(Q.from(l).eq(e))return{mark:o,type:a}}function z8(e,t,n,r,i){if(n-t<=i.pos-r.pos||el(r,!0,!1)<i.pos)return!1;let s=e.resolve(t);if(!r.parent.isTextblock){let o=s.nodeAfter;return o!=null&&n==t+o.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=e.resolve(el(s,!0,!0));return!a.parent.isTextblock||a.pos>n||el(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function el(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let s=e.node(r).maybeChild(e.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function U8(e,t,n,r,i){let s=e.findDiffStart(t,n);if(s==null)return null;let{a,b:o}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let u=Math.max(0,s-Math.min(a,o));r-=a+u-s}if(a<s&&e.size<t.size){let u=r<=s&&r>=a?s-r:0;s-=u,s&&s<t.size&&Ip(t.textBetween(s-1,s+1))&&(s+=u?1:-1),o=s+(o-a),a=s}else if(o<s){let u=r<=s&&r>=o?s-r:0;s-=u,s&&s<e.size&&Ip(e.textBetween(s-1,s+1))&&(s+=u?1:-1),a=s+(a-o),o=s}return{start:s,endA:a,endB:o}}function Ip(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class db{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new o8,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Dp),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Rp(this),Mp(this),this.nodeViews=Lp(this),this.docView=dp(this.state.doc,Op(this),Zu(this),this.dom,this),this.domObserver=new M8(this,(r,i,s,a)=>j8(this,r,i,s,a)),this.domObserver.start(),u8(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&oc(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(Dp),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,s=!1,a=!1;t.storedMarks&&this.composing&&(ib(this),a=!0),this.state=t;let o=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(o||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=Lp(this);V8(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(o||n.handleDOMEvents!=this._props.handleDOMEvents)&&oc(this),this.editable=Rp(this),Mp(this);let u=Zu(this),l=Op(this),c=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(t.doc,l,u);(d||!t.selection.eq(i.selection))&&(a=!0);let f=c=="preserve"&&a&&this.dom.style.overflowAnchor==null&&xI(this);if(a){this.domObserver.stop();let p=d&&(Qt||Rt)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&$8(i.selection,t.selection);if(d){let y=Rt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=T8(this)),(s||!this.docView.update(t.doc,l,u,this))&&(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=dp(t.doc,l,u,this.dom,this)),y&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&WI(this))?Qn(this,p):(W1(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():f&&wI(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof me){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&sp(this,n.getBoundingClientRect(),t)}else sp(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new ab(t.slice,t.move,i<0?void 0:me.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let o=this.directPlugins[a].props[t];if(o!=null&&(i=n?n(o):o))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let o=s[a].props[t];if(o!=null&&(i=n?n(o):o))return i}}hasFocus(){if(Qt){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&CI(this.dom),Qn(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return vI(this,t)}coordsAtPos(t,n=1){return F1(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return LI(this,n||this.state,t)}pasteHTML(t,n){return Ps(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return Ps(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return Ed(this,t)}destroy(){this.docView&&(l8(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Zu(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,dI())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return d8(this,t)}domSelectionRange(){let t=this.domSelection();return t?Ut&&this.root.nodeType===11&&gI(this.dom.ownerDocument)==this.dom&&L8(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}db.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function Op(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Lt.node(0,e.state.doc.content.size,t)]}function Mp(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Lt.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Rp(e){return!e.someProp("editable",t=>t(e.state)===!1)}function $8(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function Lp(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function V8(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function Dp(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var kr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},io={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},q8=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),W8=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var At=0;At<10;At++)kr[48+At]=kr[96+At]=String(At);for(var At=1;At<=24;At++)kr[At+111]="F"+At;for(var At=65;At<=90;At++)kr[At]=String.fromCharCode(At+32),io[At]=String.fromCharCode(At);for(var tl in kr)io.hasOwnProperty(tl)||(io[tl]=kr[tl]);function K8(e){var t=q8&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||W8&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?io:kr)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Y8=typeof navigator!="undefined"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),G8=typeof navigator!="undefined"&&/Win/.test(navigator.platform);function Q8(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,s,a;for(let o=0;o<t.length-1;o++){let u=t[o];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))Y8?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function X8(e){let t=Object.create(null);for(let n in e)t[Q8(n)]=e[n];return t}function nl(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function J8(e){return new Je({props:{handleKeyDown:fb(e)}})}function fb(e){let t=X8(e);return function(n,r){let i=K8(r),s,a=t[nl(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let o=t[nl(i,r,!1)];if(o&&o(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(G8&&r.ctrlKey&&r.altKey)&&(s=kr[r.keyCode])&&s!=i){let o=t[nl(s,r)];if(o&&o(n.state,n.dispatch,n))return!0}}return!1}}var Z8=Object.defineProperty,Sd=(e,t)=>{for(var n in t)Z8(e,n,{get:t[n],enumerable:!0})};function iu(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return ce(P({},t),{apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}})}var su=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,o])=>[a,(...l)=>{const c=o(...l)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),c}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a=[],o=!!e,u=e||i.tr,l=()=>(!o&&t&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),a.every(d=>d===!0)),c=ce(P({},Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...y)=>{const k=this.buildProps(u,t),x=f(...y)(k);return a.push(x),c}]))),{run:l});return c}createCan(e){const{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,s=this.buildProps(i,r),a=Object.fromEntries(Object.entries(t).map(([o,u])=>[o,(...l)=>u(...l)(ce(P({},s),{dispatch:void 0}))]));return ce(P({},a),{chain:()=>this.createChain(i,r)})}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a={tr:e,editor:r,view:s,state:iu({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([o,u])=>[o,(...l)=>u(...l)(a)]))}};return a}},hb={};Sd(hb,{blur:()=>eO,clearContent:()=>tO,clearNodes:()=>nO,command:()=>rO,createParagraphNear:()=>iO,cut:()=>sO,deleteCurrentNode:()=>aO,deleteNode:()=>oO,deleteRange:()=>uO,deleteSelection:()=>lO,enter:()=>cO,exitCode:()=>dO,extendMarkRange:()=>fO,first:()=>hO,focus:()=>mO,forEach:()=>gO,insertContent:()=>bO,insertContentAt:()=>kO,joinBackward:()=>wO,joinDown:()=>xO,joinForward:()=>CO,joinItemBackward:()=>SO,joinItemForward:()=>_O,joinTextblockBackward:()=>AO,joinTextblockForward:()=>NO,joinUp:()=>TO,keyboardShortcut:()=>IO,lift:()=>OO,liftEmptyBlock:()=>MO,liftListItem:()=>RO,newlineInCode:()=>LO,resetAttributes:()=>DO,scrollIntoView:()=>PO,selectAll:()=>BO,selectNodeBackward:()=>FO,selectNodeForward:()=>jO,selectParentNode:()=>HO,selectTextblockEnd:()=>zO,selectTextblockStart:()=>UO,setContent:()=>$O,setMark:()=>l6,setMeta:()=>c6,setNode:()=>d6,setNodeSelection:()=>f6,setTextDirection:()=>h6,setTextSelection:()=>p6,sinkListItem:()=>m6,splitBlock:()=>g6,splitListItem:()=>b6,toggleList:()=>y6,toggleMark:()=>E6,toggleNode:()=>k6,toggleWrap:()=>T6,undoInputRule:()=>x6,unsetAllMarks:()=>w6,unsetMark:()=>C6,unsetTextDirection:()=>S6,updateAttributes:()=>_6,wrapIn:()=>A6,wrapInList:()=>N6});var eO=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),tO=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),nO=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(o,u)=>{if(o.type.isText)return;const{doc:l,mapping:c}=t,d=l.resolve(c.map(u)),f=l.resolve(c.map(u+o.nodeSize)),p=d.blockRange(f);if(!p)return;const y=Fi(p);if(o.type.isTextblock){const{defaultType:k}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,k)}(y||y===0)&&t.lift(p,y)})}),!0},rO=e=>t=>e(t),iO=()=>({state:e,dispatch:t})=>N1(e,t),sO=(e,t)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new Ee(r.doc.resolve(Math.max(a-1,0)))),!0},aO=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(t){const o=i.before(s),u=i.after(s);e.delete(o,u).scrollIntoView()}return!0}return!1};function dt(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var oO=e=>({tr:t,state:n,dispatch:r})=>{const i=dt(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){const u=s.before(a),l=s.after(a);t.delete(u,l).scrollIntoView()}return!0}return!1},uO=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},lO=()=>({state:e,dispatch:t})=>dd(e,t),cO=()=>({commands:e})=>e.keyboardShortcut("Enter"),dO=()=>({state:e,dispatch:t})=>Qv(e,t);function _d(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function so(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:_d(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function pb(e,t,n={}){return e.find(r=>r.type===t&&so(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function Pp(e,t,n={}){return!!pb(e,t,n)}function Ad(e,t,n){var r;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(c=>c.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(c=>c.type===t)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!pb([...i.node.marks],t,n)))return;let a=i.index,o=e.start()+i.offset,u=a+1,l=o+i.node.nodeSize;for(;a>0&&Pp([...e.parent.child(a-1).marks],t,n);)a-=1,o-=e.parent.child(a).nodeSize;for(;u<e.parent.childCount&&Pp([...e.parent.child(u).marks],t,n);)l+=e.parent.child(u).nodeSize,u+=1;return{from:o,to:l}}function Zn(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var fO=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const s=Zn(e,r.schema),{doc:a,selection:o}=n,{$from:u,from:l,to:c}=o;if(i){const d=Ad(u,s,t);if(d&&d.from<=l&&d.to>=c){const f=Ee.create(a,d.from,d.to);n.setSelection(f)}}return!0},hO=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function mb(e){return e instanceof Ee}function Pr(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function gb(e,t=null){if(!t)return null;const n=Se.atStart(e),r=Se.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,s=r.to;return t==="all"?Ee.create(e,Pr(0,i,s),Pr(e.content.size,i,s)):Ee.create(e,Pr(t,i,s),Pr(t,i,s))}function pO(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Nd(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var mO=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:s})=>{t=P({scrollIntoView:!0},t);const a=()=>{(Nd()||pO())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!mb(n.state.selection))return a(),!0;const o=gb(i.doc,e)||n.state.selection,u=n.state.selection.eq(o);return s&&(u||i.setSelection(o),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},gO=(e,t)=>n=>e.every((r,i)=>t(r,ce(P({},n),{index:i}))),bO=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),bb=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&bb(r)}return e};function da(e){if(typeof window=="undefined")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return bb(n)}function Fs(e,t,n){if(e instanceof Sn||e instanceof Q)return e;n=P({slice:!0,parseOptions:{}},n);const r=typeof e=="object"&&e!==null,i=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return Q.fromArray(e.map(o=>t.nodeFromJSON(o)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),Fs("",t,n)}if(i){if(n.errorOnInvalidContent){let a=!1,o="";const u=new t1({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:l=>(a=!0,o=typeof l=="string"?l:l.outerHTML,null)}]}})});if(n.slice?bs.fromSchema(u).parseSlice(da(e),n.parseOptions):bs.fromSchema(u).parse(da(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const s=bs.fromSchema(t);return n.slice?s.parseSlice(da(e),n.parseOptions).content:s.parse(da(e),n.parseOptions)}return Fs("",t,n)}function yO(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof Et||i instanceof Tt))return;const s=e.mapping.maps[r];let a=0;s.forEach((o,u,l,c)=>{a===0&&(a=c)}),e.setSelection(Se.near(e.doc.resolve(a),n))}var EO=e=>!("type"in e),kO=(e,t,n)=>({tr:r,dispatch:i,editor:s})=>{var a;if(i){n=P({parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1},n);let o;const u=x=>{s.emit("contentError",{editor:s,error:x,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},l=P({preserveWhitespace:"full"},n.parseOptions);if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Fs(t,s.schema,{parseOptions:l,errorOnInvalidContent:!0})}catch(x){u(x)}try{o=Fs(t,s.schema,{parseOptions:l,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(x){return u(x),!1}let{from:c,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((EO(o)?o:[o]).forEach(x=>{x.check(),f=f?x.isText&&x.marks.length===0:!1,p=p?x.isBlock:!1}),c===d&&p){const{parent:x}=r.doc.resolve(c);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(c-=1,d+=1)}let k;if(f){if(Array.isArray(t))k=t.map(x=>x.text||"").join("");else if(t instanceof Q){let x="";t.forEach(T=>{T.text&&(x+=T.text)}),k=x}else typeof t=="object"&&t&&t.text?k=t.text:k=t;r.insertText(k,c,d)}else{k=o;const x=r.doc.resolve(c),T=x.node(),O=x.parentOffset===0,D=T.isText||T.isTextblock,h=T.content.size>0;O&&D&&h&&(c=Math.max(0,c-1)),r.replaceWith(c,d,k)}n.updateSelection&&yO(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:c,text:k}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:c,text:k})}return!0},TO=()=>({state:e,dispatch:t})=>Kv(e,t),xO=()=>({state:e,dispatch:t})=>Yv(e,t),wO=()=>({state:e,dispatch:t})=>T1(e,t),CO=()=>({state:e,dispatch:t})=>S1(e,t),SO=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Jo(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch(r){return!1}},_O=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Jo(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch(r){return!1}},AO=()=>({state:e,dispatch:t})=>qv(e,t),NO=()=>({state:e,dispatch:t})=>Wv(e,t);function yb(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function vO(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,s,a;for(let o=0;o<t.length-1;o+=1){const u=t[o];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))Nd()||yb()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var IO=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const s=vO(e).split(/-(?!$)/),a=s.find(l=>!["Alt","Ctrl","Meta","Shift"].includes(l)),o=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),u=t.captureTransaction(()=>{n.someProp("handleKeyDown",l=>l(n,o))});return u==null||u.steps.forEach(l=>{const c=l.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};function Tr(e,t,n={}){const{from:r,to:i,empty:s}=e.selection,a=t?dt(t,e.schema):null,o=[];e.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),y=Math.min(i,f+d.nodeSize);o.push({node:d,from:p,to:y})});const u=i-r,l=o.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>so(d.node.attrs,n,{strict:!1}));return s?!!l.length:l.reduce((d,f)=>d+f.to-f.from,0)>=u}var OO=(e,t={})=>({state:n,dispatch:r})=>{const i=dt(e,n.schema);return Tr(n,i,t)?Gv(n,r):!1},MO=()=>({state:e,dispatch:t})=>v1(e,t),RO=e=>({state:t,dispatch:n})=>{const r=dt(e,t.schema);return oI(r)(t,n)},LO=()=>({state:e,dispatch:t})=>A1(e,t);function au(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function Bp(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}var DO=(e,t)=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const o=au(typeof e=="string"?e:e.name,r.schema);if(!o)return!1;o==="node"&&(s=dt(e,r.schema)),o==="mark"&&(a=Zn(e,r.schema));let u=!1;return n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,d)=>{s&&s===c.type&&(u=!0,i&&n.setNodeMarkup(d,void 0,Bp(c.attrs,t))),a&&c.marks.length&&c.marks.forEach(f=>{a===f.type&&(u=!0,i&&n.addMark(d,d+c.nodeSize,a.create(Bp(f.attrs,t))))})})}),u},PO=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),BO=()=>({tr:e,dispatch:t})=>{if(t){const n=new rn(e.doc);e.setSelection(n)}return!0},FO=()=>({state:e,dispatch:t})=>w1(e,t),jO=()=>({state:e,dispatch:t})=>_1(e,t),HO=()=>({state:e,dispatch:t})=>Zv(e,t),zO=()=>({state:e,dispatch:t})=>nI(e,t),UO=()=>({state:e,dispatch:t})=>tI(e,t);function uc(e,t,n={},r={}){return Fs(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var $O=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:a,commands:o})=>{const{doc:u}=s;if(r.preserveWhitespace!=="full"){const l=uc(e,i.schema,r,{errorOnInvalidContent:t!=null?t:i.options.enableContentCheck});return a&&s.replaceWith(0,u.content.size,l).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),o.insertContentAt({from:0,to:u.content.size},e,{parseOptions:r,errorOnInvalidContent:t!=null?t:i.options.enableContentCheck})};function Eb(e,t){const n=Zn(t,e.schema),{from:r,to:i,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,u=>{a.push(...u.marks)});const o=a.find(u=>u.type.name===n.name);return o?P({},o.attrs):{}}function kb(e,t){const n=new b1(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function VO(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function qO(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function WO(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function ou(e){return t=>WO(t.$from,e)}function he(e,t,n){return e.config[t]===void 0&&e.parent?he(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind(ce(P({},n),{parent:e.parent?he(e.parent,t,n):null})):e.config[t]}function vd(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=he(t,"addExtensions",n);return r?[t,...vd(r())]:t}).flat(10)}function Id(e,t){const n=ri.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function Tb(e){return typeof e=="function"}function Fe(e,t=void 0,...n){return Tb(e)?t?e.bind(t)(...n):e(...n):e}function KO(e={}){return Object.keys(e).length===0&&e.constructor===Object}function Ni(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function xb(e){const t=[],{nodeExtensions:n,markExtensions:r}=Ni(e),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(a=>{const o={name:a.name,options:a.options,storage:a.storage,extensions:i},u=he(a,"addGlobalAttributes",o);if(!u)return;u().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([f,p])=>{t.push({type:d,name:f,attribute:P(P({},s),p)})})})})}),i.forEach(a=>{const o={name:a.name,options:a.options,storage:a.storage},u=he(a,"addAttributes",o);if(!u)return;const l=u();Object.entries(l).forEach(([c,d])=>{const f=P(P({},s),d);typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,t.push({type:a.name,name:c,attribute:f})})}),t}function st(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r=P({},t);return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const o=s?String(s).split(" "):[],u=r[i]?r[i].split(" "):[],l=o.filter(c=>!u.includes(c));r[i]=[...u,...l].join(" ")}else if(i==="style"){const o=s?s.split(";").map(c=>c.trim()).filter(Boolean):[],u=r[i]?r[i].split(";").map(c=>c.trim()).filter(Boolean):[],l=new Map;u.forEach(c=>{const[d,f]=c.split(":").map(p=>p.trim());l.set(d,f)}),o.forEach(c=>{const[d,f]=c.split(":").map(p=>p.trim());l.set(d,f)}),r[i]=Array.from(l.entries()).map(([c,d])=>`${c}: ${d}`).join("; ")}else r[i]=s}),r},{})}function ao(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>st(n,r),{})}function YO(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function Fp(e,t){return"style"in e?e:ce(P({},e),{getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((s,a)=>{const o=a.attribute.parseHTML?a.attribute.parseHTML(n):YO(n.getAttribute(a.name));return o==null?s:ce(P({},s),{[a.name]:o})},{});return P(P({},r),i)}})}function jp(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&KO(n)?!1:n!=null))}function Hp(e){var t,n;const r={};return!((t=e==null?void 0:e.attribute)!=null&&t.isRequired)&&"default"in((e==null?void 0:e.attribute)||{})&&(r.default=e.attribute.default),((n=e==null?void 0:e.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=e.attribute.validate),[e.name,r]}function GO(e,t){var n;const r=xb(e),{nodeExtensions:i,markExtensions:s}=Ni(e),a=(n=i.find(l=>he(l,"topNode")))==null?void 0:n.name,o=Object.fromEntries(i.map(l=>{const c=r.filter(T=>T.type===l.name),d={name:l.name,options:l.options,storage:l.storage,editor:t},f=e.reduce((T,O)=>{const D=he(O,"extendNodeSchema",d);return P(P({},T),D?D(l):{})},{}),p=jp(ce(P({},f),{content:Fe(he(l,"content",d)),marks:Fe(he(l,"marks",d)),group:Fe(he(l,"group",d)),inline:Fe(he(l,"inline",d)),atom:Fe(he(l,"atom",d)),selectable:Fe(he(l,"selectable",d)),draggable:Fe(he(l,"draggable",d)),code:Fe(he(l,"code",d)),whitespace:Fe(he(l,"whitespace",d)),linebreakReplacement:Fe(he(l,"linebreakReplacement",d)),defining:Fe(he(l,"defining",d)),isolating:Fe(he(l,"isolating",d)),attrs:Object.fromEntries(c.map(Hp))})),y=Fe(he(l,"parseHTML",d));y&&(p.parseDOM=y.map(T=>Fp(T,c)));const k=he(l,"renderHTML",d);k&&(p.toDOM=T=>k({node:T,HTMLAttributes:ao(T,c)}));const x=he(l,"renderText",d);return x&&(p.toText=x),[l.name,p]})),u=Object.fromEntries(s.map(l=>{const c=r.filter(x=>x.type===l.name),d={name:l.name,options:l.options,storage:l.storage,editor:t},f=e.reduce((x,T)=>{const O=he(T,"extendMarkSchema",d);return P(P({},x),O?O(l):{})},{}),p=jp(ce(P({},f),{inclusive:Fe(he(l,"inclusive",d)),excludes:Fe(he(l,"excludes",d)),group:Fe(he(l,"group",d)),spanning:Fe(he(l,"spanning",d)),code:Fe(he(l,"code",d)),attrs:Object.fromEntries(c.map(Hp))})),y=Fe(he(l,"parseHTML",d));y&&(p.parseDOM=y.map(x=>Fp(x,c)));const k=he(l,"renderHTML",d);return k&&(p.toDOM=x=>k({mark:x,HTMLAttributes:ao(x,c)})),[l.name,p]}));return new t1({topNode:a,nodes:o,marks:u})}function QO(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function Od(e){return e.sort((n,r)=>{const i=he(n,"priority")||100,s=he(r,"priority")||100;return i>s?-1:i<s?1:0})}function wb(e){const t=Od(vd(e)),n=QO(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function Cb(e,t,n){const{from:r,to:i}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let o="";return e.nodesBetween(r,i,(u,l,c,d)=>{var f;u.isBlock&&l>r&&(o+=s);const p=a==null?void 0:a[u.type.name];if(p)return c&&(o+=p({node:u,pos:l,parent:c,index:d,range:t})),!1;u.isText&&(o+=(f=u==null?void 0:u.text)==null?void 0:f.slice(Math.max(r,l)-l,i-l))}),o}function XO(e,t){const n={from:0,to:e.content.size};return Cb(e,n,t)}function Sb(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function JO(e,t){const n=dt(t,e.schema),{from:r,to:i}=e.selection,s=[];e.doc.nodesBetween(r,i,o=>{s.push(o)});const a=s.reverse().find(o=>o.type.name===n.name);return a?P({},a.attrs):{}}function _b(e,t){const n=au(typeof t=="string"?t:t.name,e.schema);return n==="node"?JO(e,t):n==="mark"?Eb(e,t):{}}function ZO(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function e6(e){const t=ZO(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function Ab(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,s)=>{const a=[];if(i.ranges.length)i.forEach((o,u)=>{a.push({from:o,to:u})});else{const{from:o,to:u}=n[s];if(o===void 0||u===void 0)return;a.push({from:o,to:u})}a.forEach(({from:o,to:u})=>{const l=t.slice(s).map(o,-1),c=t.slice(s).map(u),d=t.invert().map(l,-1),f=t.invert().map(c);r.push({oldRange:{from:d,to:f},newRange:{from:l,to:c}})})}),e6(r)}function Md(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const s=n.resolve(e),a=Ad(s,i.type);a&&r.push(P({mark:i},a))}):n.nodesBetween(e,t,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}var t6=(e,t,n,r=20)=>{const i=e.doc.resolve(n);let s=r,a=null;for(;s>0&&a===null;){const o=i.node(s);(o==null?void 0:o.type.name)===t?a=o:s-=1}return[a,s]};function rl(e,t){return t.nodes[e]||t.marks[e]||null}function Ia(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(s=>s.type===t&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var n6=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(i,s,a,o)=>{var u,l;const c=((l=(u=i.type.spec).toText)==null?void 0:l.call(u,{node:i,pos:s,parent:a,index:o}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?c:c.slice(0,Math.max(0,r-s))}),n};function lc(e,t,n={}){const{empty:r,ranges:i}=e.selection,s=t?Zn(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>so(d.attrs,n,{strict:!1}));let a=0;const o=[];if(i.forEach(({$from:d,$to:f})=>{const p=d.pos,y=f.pos;e.doc.nodesBetween(p,y,(k,x)=>{if(!k.isText&&!k.marks.length)return;const T=Math.max(p,x),O=Math.min(y,x+k.nodeSize),D=O-T;a+=D,o.push(...k.marks.map(h=>({mark:h,from:T,to:O})))})}),a===0)return!1;const u=o.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>so(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),l=o.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(u>0?u+l:u)>=a}function r6(e,t,n={}){if(!t)return Tr(e,null,n)||lc(e,null,n);const r=au(t,e.schema);return r==="node"?Tr(e,t,n):r==="mark"?lc(e,t,n):!1}var i6=(e,t)=>{const{$from:n,$to:r,$anchor:i}=e.selection;if(t){const s=ou(o=>o.type.name===t)(e.selection);if(!s)return!1;const a=e.doc.resolve(s.pos+1);return i.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},s6=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function zp(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function Up(e,t){const{nodeExtensions:n}=Ni(t),r=n.find(a=>a.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Fe(he(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function uu(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(s=>{i!==!1&&(uu(s,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function Nb(e){return e instanceof me}var vb=class Ib{constructor(t){this.position=t}static fromJSON(t){return new Ib(t.position)}toJSON(){return{position:this.position}}};function a6(e,t){const n=t.mapping.mapResult(e.position);return{position:new vb(n.pos),mapResult:n}}function o6(e){return new vb(e)}function u6(e,t,n){var r;const{selection:i}=t;let s=null;if(mb(i)&&(s=i.$cursor),s){const o=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(o)||!o.some(l=>l.type.excludes(n)))}const{ranges:a}=i;return a.some(({$from:o,$to:u})=>{let l=o.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(o.pos,u.pos,(c,d,f)=>{if(l)return!1;if(c.isInline){const p=!f||f.type.allowsMarkType(n),y=!!n.isInSet(c.marks)||!c.marks.some(k=>k.type.excludes(n));l=p&&y}return!l}),l})}var l6=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:a,ranges:o}=s,u=Zn(e,r.schema);if(i)if(a){const l=Eb(r,u);n.addStoredMark(u.create(P(P({},l),t)))}else o.forEach(l=>{const c=l.$from.pos,d=l.$to.pos;r.doc.nodesBetween(c,d,(f,p)=>{const y=Math.max(p,c),k=Math.min(p+f.nodeSize,d);f.marks.find(T=>T.type===u)?f.marks.forEach(T=>{u===T.type&&n.addMark(y,k,u.create(P(P({},T.attrs),t)))}):n.addMark(y,k,u.create(t))})});return u6(r,n,u)},c6=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),d6=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const s=dt(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:o})=>np(s,P(P({},a),t))(n)?!0:o.clearNodes()).command(({state:o})=>np(s,P(P({},a),t))(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},f6=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=Pr(e,0,r.content.size),s=me.create(r,i);t.setSelection(s)}return!0},h6=(e,t)=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=r;let a,o;return typeof t=="number"?(a=t,o=t):t&&"from"in t&&"to"in t?(a=t.from,o=t.to):(a=s.from,o=s.to),i&&n.doc.nodesBetween(a,o,(u,l)=>{u.isText||n.setNodeMarkup(l,void 0,ce(P({},u.attrs),{dir:e}))}),!0},p6=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:s}=typeof e=="number"?{from:e,to:e}:e,a=Ee.atStart(r).from,o=Ee.atEnd(r).to,u=Pr(i,a,o),l=Pr(s,a,o),c=Ee.create(r,u,l);t.setSelection(c)}return!0},m6=e=>({state:t,dispatch:n})=>{const r=dt(e,t.schema);return cI(r)(t,n)};function $p(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t==null?void 0:t.includes(i.type.name));e.tr.ensureMarks(r)}}var g6=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:a}=t,{$from:o,$to:u}=s,l=i.extensionManager.attributes,c=Ia(l,o.node().type.name,o.node().attrs);if(s instanceof me&&s.node.isBlock)return!o.parentOffset||!Gn(a,o.pos)?!1:(r&&(e&&$p(n,i.extensionManager.splittableMarks),t.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;const d=u.parentOffset===u.parent.content.size,f=o.depth===0?void 0:VO(o.node(-1).contentMatchAt(o.indexAfter(-1)));let p=d&&f?[{type:f,attrs:c}]:void 0,y=Gn(t.doc,t.mapping.map(o.pos),1,p);if(!p&&!y&&Gn(t.doc,t.mapping.map(o.pos),1,f?[{type:f}]:void 0)&&(y=!0,p=f?[{type:f,attrs:c}]:void 0),r){if(y&&(s instanceof Ee&&t.deleteSelection(),t.split(t.mapping.map(o.pos),1,p),f&&!d&&!o.parentOffset&&o.parent.type!==f)){const k=t.mapping.map(o.before()),x=t.doc.resolve(k);o.node(-1).canReplaceWith(x.index(),x.index()+1,f)&&t.setNodeMarkup(t.mapping.map(o.before()),f)}e&&$p(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return y},b6=(e,t={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var a;const o=dt(e,r.schema),{$from:u,$to:l}=r.selection,c=r.selection.node;if(c&&c.isBlock||u.depth<2||!u.sameParent(l))return!1;const d=u.node(-1);if(d.type!==o)return!1;const f=s.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==o||u.index(-2)!==u.node(-2).childCount-1)return!1;if(i){let T=Q.empty;const O=u.index(-1)?1:u.index(-2)?2:3;for(let N=u.depth-O;N>=u.depth-3;N-=1)T=Q.from(u.node(N).copy(T));const D=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,h=P(P({},Ia(f,u.node().type.name,u.node().attrs)),t),E=((a=o.contentMatch.defaultType)==null?void 0:a.createAndFill(h))||void 0;T=T.append(Q.from(o.createAndFill(null,E)||void 0));const g=u.before(u.depth-(O-1));n.replace(g,u.after(-D),new ue(T,4-O,0));let w=-1;n.doc.nodesBetween(g,n.doc.content.size,(N,S)=>{if(w>-1)return!1;N.isTextblock&&N.content.size===0&&(w=S+1)}),w>-1&&n.setSelection(Ee.near(n.doc.resolve(w))),n.scrollIntoView()}return!0}const p=l.pos===u.end()?d.contentMatchAt(0).defaultType:null,y=P(P({},Ia(f,d.type.name,d.attrs)),t),k=P(P({},Ia(f,u.node().type.name,u.node().attrs)),t);n.delete(u.pos,l.pos);const x=p?[{type:o,attrs:y},{type:p,attrs:k}]:[{type:o,attrs:y}];if(!Gn(n.doc,u.pos,2))return!1;if(i){const{selection:T,storedMarks:O}=r,{splittableMarks:D}=s.extensionManager,h=O||T.$to.parentOffset&&T.$from.marks();if(n.split(u.pos,2,x).scrollIntoView(),!h||!i)return!0;const E=h.filter(g=>D.includes(g.type.name));n.ensureMarks(E)}return!0},il=(e,t)=>{const n=ou(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&wr(e.doc,n.pos)&&e.join(n.pos),!0},sl=(e,t)=>{const n=ou(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&wr(e.doc,r)&&e.join(r),!0},y6=(e,t,n,r={})=>({editor:i,tr:s,state:a,dispatch:o,chain:u,commands:l,can:c})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,p=dt(e,a.schema),y=dt(t,a.schema),{selection:k,storedMarks:x}=a,{$from:T,$to:O}=k,D=T.blockRange(O),h=x||k.$to.parentOffset&&k.$from.marks();if(!D)return!1;const E=ou(g=>Up(g.type.name,d))(k);if(D.depth>=1&&E&&D.depth-E.depth<=1){if(E.node.type===p)return l.liftListItem(y);if(Up(E.node.type.name,d)&&p.validContent(E.node.content)&&o)return u().command(()=>(s.setNodeMarkup(E.pos,p),!0)).command(()=>il(s,p)).command(()=>sl(s,p)).run()}return!n||!h||!o?u().command(()=>c().wrapInList(p,r)?!0:l.clearNodes()).wrapInList(p,r).command(()=>il(s,p)).command(()=>sl(s,p)).run():u().command(()=>{const g=c().wrapInList(p,r),w=h.filter(N=>f.includes(N.type.name));return s.ensureMarks(w),g?!0:l.clearNodes()}).wrapInList(p,r).command(()=>il(s,p)).command(()=>sl(s,p)).run()},E6=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,a=Zn(e,r.schema);return lc(r,a,t)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,t)},k6=(e,t,n={})=>({state:r,commands:i})=>{const s=dt(e,r.schema),a=dt(t,r.schema),o=Tr(r,s,n);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),o?i.setNode(a,u):i.setNode(s,P(P({},u),n))},T6=(e,t={})=>({state:n,commands:r})=>{const i=dt(e,n.schema);return Tr(n,i,t)?r.lift(i):r.wrapIn(i,t)},x6=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(e))){if(t){const a=e.tr,o=s.transform;for(let u=o.steps.length-1;u>=0;u-=1)a.step(o.steps[u].invert(o.docs[u]));if(s.text){const u=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,u))}else a.delete(s.from,s.to)}return!0}}return!1},w6=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},C6=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:o}=n,u=Zn(e,r.schema),{$from:l,empty:c,ranges:d}=o;if(!i)return!0;if(c&&a){let{from:f,to:p}=o;const y=(s=l.marks().find(x=>x.type===u))==null?void 0:s.attrs,k=Ad(l,u,y);k&&(f=k.from,p=k.to),n.removeMark(f,p,u)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,u)});return n.removeStoredMark(u),!0},S6=e=>({tr:t,state:n,dispatch:r})=>{const{selection:i}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=i.from,a=i.to),r&&t.doc.nodesBetween(s,a,(o,u)=>{if(o.isText)return;const l=P({},o.attrs);delete l.dir,t.setNodeMarkup(u,void 0,l)}),!0},_6=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const o=au(typeof e=="string"?e:e.name,r.schema);if(!o)return!1;o==="node"&&(s=dt(e,r.schema)),o==="mark"&&(a=Zn(e,r.schema));let u=!1;return n.selection.ranges.forEach(l=>{const c=l.$from.pos,d=l.$to.pos;let f,p,y,k;n.selection.empty?r.doc.nodesBetween(c,d,(x,T)=>{s&&s===x.type&&(u=!0,y=Math.max(T,c),k=Math.min(T+x.nodeSize,d),f=T,p=x)}):r.doc.nodesBetween(c,d,(x,T)=>{T<c&&s&&s===x.type&&(u=!0,y=Math.max(T,c),k=Math.min(T+x.nodeSize,d),f=T,p=x),T>=c&&T<=d&&(s&&s===x.type&&(u=!0,i&&n.setNodeMarkup(T,void 0,P(P({},x.attrs),t))),a&&x.marks.length&&x.marks.forEach(O=>{if(a===O.type&&(u=!0,i)){const D=Math.max(T,c),h=Math.min(T+x.nodeSize,d);n.addMark(D,h,a.create(P(P({},O.attrs),t)))}}))}),p&&(f!==void 0&&i&&n.setNodeMarkup(f,void 0,P(P({},p.attrs),t)),a&&p.marks.length&&p.marks.forEach(x=>{a===x.type&&i&&n.addMark(y,k,a.create(P(P({},x.attrs),t)))}))}),u},A6=(e,t={})=>({state:n,dispatch:r})=>{const i=dt(e,n.schema);return rI(i,t)(n,r)},N6=(e,t={})=>({state:n,dispatch:r})=>{const i=dt(e,n.schema);return iI(i,t)(n,r)},v6=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(r=>r.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(r=>r!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}},lu=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},I6=(e,t)=>{if(_d(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function fa(e){var t;const{editor:n,from:r,to:i,text:s,rules:a,plugin:o}=e,{view:u}=n;if(u.composing)return!1;const l=u.state.doc.resolve(r);if(l.parent.type.spec.code||(t=l.nodeBefore||l.nodeAfter)!=null&&t.marks.find(f=>f.type.spec.code))return!1;let c=!1;const d=n6(l)+s;return a.forEach(f=>{if(c)return;const p=I6(d,f.find);if(!p)return;const y=u.state.tr,k=iu({state:u.state,transaction:y}),x={from:r-(p[0].length-s.length),to:i},{commands:T,chain:O,can:D}=new su({editor:n,state:k});f.handler({state:k,range:x,match:p,commands:T,chain:O,can:D})===null||!y.steps.length||(f.undoable&&y.setMeta(o,{transform:y,from:r,to:i,text:s}),u.dispatch(y),c=!0)}),c}function O6(e){const{editor:t,rules:n}=e,r=new Je({state:{init(){return null},apply(i,s,a){const o=i.getMeta(r);if(o)return o;const u=i.getMeta("applyInputRules");return!!u&&setTimeout(()=>{let{text:c}=u;typeof c=="string"?c=c:c=Id(Q.from(c),a.schema);const{from:d}=u,f=d+c.length;fa({editor:t,from:d,to:f,text:c,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,o){return fa({editor:t,from:s,to:a,text:o,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&fa({editor:t,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?fa({editor:t,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function M6(e){return Object.prototype.toString.call(e).slice(8,-1)}function ha(e){return M6(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Ob(e,t){const n=P({},e);return ha(e)&&ha(t)&&Object.keys(t).forEach(r=>{ha(t[r])&&ha(e[r])?n[r]=Ob(e[r],t[r]):n[r]=t[r]}),n}var Rd=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config=P(P({},this.config),e),this.name=this.config.name}get options(){return P({},Fe(he(this,"addOptions",{name:this.name}))||{})}get storage(){return P({},Fe(he(this,"addStorage",{name:this.name,options:this.options}))||{})}configure(e={}){const t=this.extend(ce(P({},this.config),{addOptions:()=>Ob(this.options,e)}));return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor(P(P({},this.config),e));return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},ii=class Mb extends Rd{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new Mb(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(l=>(l==null?void 0:l.type.name)===n.name))return!1;const u=a.find(l=>(l==null?void 0:l.type.name)===n.name);return u&&r.removeStoredMark(u),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function R6(e){return typeof e=="number"}var L6=class{constructor(e){this.find=e.find,this.handler=e.handler}},D6=(e,t,n)=>{if(_d(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=e,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function P6(e){const{editor:t,state:n,from:r,to:i,rule:s,pasteEvent:a,dropEvent:o}=e,{commands:u,chain:l,can:c}=new su({editor:t,state:n}),d=[];return n.doc.nodesBetween(r,i,(p,y)=>{var k,x,T,O,D;if((x=(k=p.type)==null?void 0:k.spec)!=null&&x.code||!(p.isText||p.isTextblock||p.isInline))return;const h=(D=(O=(T=p.content)==null?void 0:T.size)!=null?O:p.nodeSize)!=null?D:0,E=Math.max(r,y),g=Math.min(i,y+h);if(E>=g)return;const w=p.isText?p.text||"":p.textBetween(E-y,g-y,void 0,"￼");D6(w,s.find,a).forEach(S=>{if(S.index===void 0)return;const C=E+S.index+1,R=C+S[0].length,U={from:n.tr.mapping.map(C),to:n.tr.mapping.map(R)},H=s.handler({state:n,range:U,match:S,commands:u,chain:l,can:c,pasteEvent:a,dropEvent:o});d.push(H)})}),d.every(p=>p!==null)}var pa=null,B6=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function F6(e){const{editor:t,rules:n}=e;let r=null,i=!1,s=!1,a=typeof ClipboardEvent!="undefined"?new ClipboardEvent("paste"):null,o;try{o=typeof DragEvent!="undefined"?new DragEvent("drop"):null}catch(c){o=null}const u=({state:c,from:d,to:f,rule:p,pasteEvt:y})=>{const k=c.tr,x=iu({state:c,transaction:k});if(!(!P6({editor:t,state:x,from:Math.max(d-1,0),to:f.b-1,rule:p,pasteEvent:y,dropEvent:o})||!k.steps.length)){try{o=typeof DragEvent!="undefined"?new DragEvent("drop"):null}catch(O){o=null}return a=typeof ClipboardEvent!="undefined"?new ClipboardEvent("paste"):null,k}};return n.map(c=>new Je({view(d){const f=y=>{var k;r=(k=d.dom.parentElement)!=null&&k.contains(y.target)?d.dom.parentElement:null,r&&(pa=t)},p=()=>{pa&&(pa=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(d,f)=>{if(s=r===d.dom.parentElement,o=f,!s){const p=pa;p!=null&&p.isEditable&&setTimeout(()=>{const y=p.state.selection;y&&p.commands.deleteRange({from:y.from,to:y.to})},10)}return!1},paste:(d,f)=>{var p;const y=(p=f.clipboardData)==null?void 0:p.getData("text/html");return a=f,i=!!(y!=null&&y.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,p)=>{const y=d[0],k=y.getMeta("uiEvent")==="paste"&&!i,x=y.getMeta("uiEvent")==="drop"&&!s,T=y.getMeta("applyPasteRules"),O=!!T;if(!k&&!x&&!O)return;if(O){let{text:E}=T;typeof E=="string"?E=E:E=Id(Q.from(E),p.schema);const{from:g}=T,w=g+E.length,N=B6(E);return u({rule:c,state:p,from:g,to:{b:w},pasteEvt:N})}const D=f.doc.content.findDiffStart(p.doc.content),h=f.doc.content.findDiffEnd(p.doc.content);if(!(!R6(D)||!h||D===h.b))return u({rule:c,state:p,from:D,to:h,pasteEvt:a})}}))}var cu=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=wb(e),this.schema=GO(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:rl(t.name,this.schema)},r=he(t,"addCommands",n);return r?P(P({},e),r()):e},{})}get plugins(){const{editor:e}=this;return Od([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:rl(r.name,this.schema)},s=[],a=he(r,"addKeyboardShortcuts",i);let o={};if(r.type==="mark"&&he(r,"exitable",i)&&(o.ArrowRight=()=>ii.handleExit({editor:e,mark:r})),a){const f=Object.fromEntries(Object.entries(a()).map(([p,y])=>[p,()=>y({editor:e})]));o=P(P({},o),f)}const u=J8(o);s.push(u);const l=he(r,"addInputRules",i);if(zp(r,e.options.enableInputRules)&&l){const f=l();if(f&&f.length){const p=O6({editor:e,rules:f}),y=Array.isArray(p)?p:[p];s.push(...y)}}const c=he(r,"addPasteRules",i);if(zp(r,e.options.enablePasteRules)&&c){const f=c();if(f&&f.length){const p=F6({editor:e,rules:f});s.push(...p)}}const d=he(r,"addProseMirrorPlugins",i);if(d){const f=d();s.push(...f)}return s})}get attributes(){return xb(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Ni(this.extensions);return Object.fromEntries(t.filter(n=>!!he(n,"addNodeView")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:dt(n.name,this.schema)},s=he(n,"addNodeView",i);if(!s)return[];const a=s();if(!a)return[];const o=(u,l,c,d,f)=>{const p=ao(u,r);return a({node:u,view:l,getPos:c,decorations:d,innerDecorations:f,editor:e,extension:n,HTMLAttributes:p})};return[n.name,o]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=Ni(this.extensions);return Object.fromEntries(t.filter(n=>!!he(n,"addMarkView")).map(n=>{const r=this.attributes.filter(o=>o.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Zn(n.name,this.schema)},s=he(n,"addMarkView",i);if(!s)return[];const a=(o,u,l)=>{const c=ao(o,r);return s()({mark:o,view:u,inline:l,editor:e,extension:n,HTMLAttributes:c,updateAttributes:d=>{X6(o,e,d)}})};return[n.name,a]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:rl(t.name,this.schema)};t.type==="mark"&&((n=Fe(he(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const i=he(t,"onBeforeCreate",r),s=he(t,"onCreate",r),a=he(t,"onUpdate",r),o=he(t,"onSelectionUpdate",r),u=he(t,"onTransaction",r),l=he(t,"onFocus",r),c=he(t,"onBlur",r),d=he(t,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),o&&this.editor.on("selectionUpdate",o),u&&this.editor.on("transaction",u),l&&this.editor.on("focus",l),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}};cu.resolve=wb;cu.sort=Od;cu.flatten=vd;var j6={};Sd(j6,{ClipboardTextSerializer:()=>Lb,Commands:()=>Db,Delete:()=>Pb,Drop:()=>Bb,Editable:()=>Fb,FocusEvents:()=>Hb,Keymap:()=>zb,Paste:()=>Ub,Tabindex:()=>$b,TextDirection:()=>Vb,focusEventsPluginKey:()=>jb});var Ze=class Rb extends Rd{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new Rb(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},Lb=Ze.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Je({key:new ft("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:s}=i,a=Math.min(...s.map(c=>c.$from.pos)),o=Math.max(...s.map(c=>c.$to.pos)),u=Sb(n);return Cb(r,{from:a,to:o},ce(P({},this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{}),{textSerializers:u}))}}})]}}),Db=Ze.create({name:"commands",addCommands(){return P({},hb)}}),Pb=Ze.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,i;const s=()=>{var a,o,u,l;if((l=(u=(o=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:o.filterTransaction)==null?void 0:u.call(o,e))!=null?l:e.getMeta("y-sync$"))return;const c=kb(e.before,[e,...t]);Ab(c).forEach(p=>{c.mapping.mapResult(p.oldRange.from).deletedAfter&&c.mapping.mapResult(p.oldRange.to).deletedBefore&&c.before.nodesBetween(p.oldRange.from,p.oldRange.to,(y,k)=>{const x=k+y.nodeSize-2,T=p.oldRange.from<=k&&x<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:y,from:k,to:x,newFrom:c.mapping.map(k),newTo:c.mapping.map(x),deletedRange:p.oldRange,newRange:p.newRange,partial:!T,editor:this.editor,transaction:e,combinedTransform:c})})});const f=c.mapping;c.steps.forEach((p,y)=>{var k,x;if(p instanceof wn){const T=f.slice(y).map(p.from,-1),O=f.slice(y).map(p.to),D=f.invert().map(T,-1),h=f.invert().map(O),E=(k=c.doc.nodeAt(T-1))==null?void 0:k.marks.some(w=>w.eq(p.mark)),g=(x=c.doc.nodeAt(O))==null?void 0:x.marks.some(w=>w.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:D,to:h},newRange:{from:T,to:O},partial:!!(g||E),editor:this.editor,transaction:e,combinedTransform:c})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),Bb=Ze.create({name:"drop",addProseMirrorPlugins(){return[new Je({key:new ft("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),Fb=Ze.create({name:"editable",addProseMirrorPlugins(){return[new Je({key:new ft("editable"),props:{editable:()=>this.editor.options.editable}})]}}),jb=new ft("focusEvents"),Hb=Ze.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Je({key:jb,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),zb=Ze.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:o})=>{const{selection:u,doc:l}=o,{empty:c,$anchor:d}=u,{pos:f,parent:p}=d,y=d.parent.isTextblock&&f>0?o.doc.resolve(f-1):d,k=y.parent.type.spec.isolating,x=d.pos-d.parentOffset,T=k&&y.parent.childCount===1?x===d.pos:Se.atStart(l).from===f;return!c||!p.type.isTextblock||p.textContent.length||!T||T&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i=P({},r),s=ce(P({},r),{"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return Nd()||yb()?s:i},addProseMirrorPlugins(){return[new Je({key:new ft("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(k=>k.getMeta("composition")))return;const r=e.some(k=>k.docChanged)&&!t.doc.eq(n.doc),i=e.some(k=>k.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:a,to:o}=t.selection,u=Se.atStart(t.doc).from,l=Se.atEnd(t.doc).to;if(s||!(a===u&&o===l)||!uu(n.doc))return;const f=n.tr,p=iu({state:n,transaction:f}),{commands:y}=new su({editor:this.editor,state:p});if(y.clearNodes(),!!f.steps.length)return f}})]}}),Ub=Ze.create({name:"paste",addProseMirrorPlugins(){return[new Je({key:new ft("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),$b=Ze.create({name:"tabindex",addProseMirrorPlugins(){return[new Je({key:new ft("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Vb=Ze.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=Ni(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Je({key:new ft("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),H6=class hi{constructor(t,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new hi(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new hi(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new hi(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+r+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const o=this.resolvedPos.doc.resolve(a);if(!i&&o.depth<=this.depth)return;const u=new hi(o,this.editor,i,i?n:null);i&&(u.actualDepth=this.depth+1),t.push(new hi(o,this.editor,i,i?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===t)if(Object.keys(n).length>0){const s=i.node.attrs,a=Object.keys(n);for(let o=0;o<a.length;o+=1){const u=a[o];if(s[u]!==n[u])break}}else r=i;i=i.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===t&&s.every(u=>n[u]===a.node.attrs[u])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(t,n,r))))}),i}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,P(P({},this.node.attrs),t)),this.editor.view.dispatch(n)}},z6=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function U6(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style",""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}var $6=class extends v6{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document!="undefined"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:a6,createMappablePosition:o6},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=gb(t,this.options.autofocus);this.editorState=gi.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document=="undefined")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e!=null&&e.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document!="undefined"&&(this.css=U6(z6,this.options.injectNonce))}setOptions(e={}){this.options=P(P({},this.options),e),!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=Tb(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(a=>!a.key.startsWith(s))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[Fb,Lb.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),Db,Hb,zb,$b,Bb,Ub,Pb,Vb.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new cu(r,this)}createCommandManager(){this.commandManager=new su({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=uc(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=uc(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new db(e,ce(P({},this.options.editorProps),{attributes:P({role:"textbox"},(t=this.options.editorProps)==null?void 0:t.attributes),dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews}));const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(l=>{var c;return(c=this.capturedTransaction)==null?void 0:c.step(l)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),i=n.includes(e),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!i)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const a=n.findLast(l=>l.getMeta("focus")||l.getMeta("blur")),o=a==null?void 0:a.getMeta("focus"),u=a==null?void 0:a.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:a}),u&&this.emit("blur",{editor:this,event:u.event,transaction:a}),!(e.getMeta("preventUpdate")||!n.some(l=>l.docChanged)||s.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return _b(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return r6(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Id(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return XO(this.state.doc,{blockSeparator:t,textSerializers:P(P({},Sb(this.schema)),n)})}get isEmpty(){return uu(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new H6(t,this)}get $doc(){return this.$pos(0)}};function vi(e){return new lu({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Fe(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=t,a=r[r.length-1],o=r[0];if(a){const u=o.search(/\S/),l=n.from+o.indexOf(a),c=l+a.length;if(Md(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(k=>k===e.type&&k!==p.mark.type)).filter(p=>p.to>l).length)return null;c<n.to&&s.delete(c,n.to),l>n.from&&s.delete(n.from+u,l);const f=n.from+u+a.length;s.addMark(n.from+u,f,e.type.create(i||{})),s.removeStoredMark(e.type)}},undoable:e.undoable})}function qb(e){return new lu({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Fe(e.getAttributes,void 0,r)||{},{tr:s}=t,a=n.from;let o=n.to;const u=e.type.create(i);if(r[1]){const l=r[0].lastIndexOf(r[1]);let c=a+l;c>o?c=o:o=c+r[1].length;const d=r[0][r[0].length-1];s.insertText(d,a+r[0].length-1),s.replaceWith(c,o,u)}else if(r[0]){const l=e.type.isInline?a:a-1;s.insert(l,e.type.create(i)).delete(s.mapping.map(a),s.mapping.map(o))}s.scrollIntoView()},undoable:e.undoable})}function cc(e){return new lu({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),s=Fe(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,s)},undoable:e.undoable})}function Ii(e){return new lu({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{const s=Fe(e.getAttributes,void 0,r)||{},a=t.tr.delete(n.from,n.to),u=a.doc.resolve(n.from).blockRange(),l=u&&ld(u,e.type,s);if(!l)return null;if(a.wrap(u,l),e.keepMarks&&e.editor){const{selection:d,storedMarks:f}=t,{splittableMarks:p}=e.editor.extensionManager,y=f||d.$to.parentOffset&&d.$from.marks();if(y){const k=y.filter(x=>p.includes(x.type.name));a.ensureMarks(k)}}if(e.keepAttributes){const d=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,s).run()}const c=a.doc.resolve(n.from-1).nodeBefore;c&&c.type===e.type&&wr(a.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,c))&&a.join(n.from-1)},undoable:e.undoable})}function V6(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof me){const s=r.index();return r.parent.canReplaceWith(s,s+1,t)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(t))return!0;i-=1}return!1}var q6={};Sd(q6,{createAtomBlockMarkdownSpec:()=>W6,createBlockMarkdownSpec:()=>K6,createInlineMarkdownSpec:()=>Q6,parseAttributes:()=>Ld,parseIndentedBlocks:()=>dc,renderNestedMarkdownContent:()=>Pd,serializeAttributes:()=>Dd});function Ld(e){if(!(e!=null&&e.trim()))return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,l=>(n.push(l),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const l=i.map(c=>c.trim().slice(1));t.class=l.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,l,c])=>{var d;const f=parseInt(((d=c.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(t[l]=p.slice(1,-1))});const u=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return u&&u.split(/\s+/).filter(Boolean).forEach(c=>{c.match(/^[a-zA-Z][\w-]*$/)&&(t[c]=!0)}),t}function Dd(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function W6(e){const{nodeName:t,name:n,parseAttributes:r=Ld,serializeAttributes:i=Dd,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:o}=e,u=n||t,l=c=>{if(!o)return c;const d={};return o.forEach(f=>{f in c&&(d[f]=c[f])}),d};return{parseMarkdown:(c,d)=>{const f=P(P({},s),c.attributes);return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(c){var d;const f=new RegExp(`^:::${u}(?:\\s|$)`,"m"),p=(d=c.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(c,d,f){const p=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),y=c.match(p);if(!y)return;const k=y[1]||"",x=r(k);if(!a.find(O=>!(O in x)))return{type:t,raw:y[0],attributes:x}}},renderMarkdown:c=>{const d=l(c.attrs||{}),f=i(d),p=f?` {${f}}`:"";return`:::${u}${p} :::`}}}function K6(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=Ld,serializeAttributes:s=Dd,defaultAttributes:a={},content:o="block",allowedAttributes:u}=e,l=n||t,c=d=>{if(!u)return d;const f={};return u.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const k=r(d);p=typeof k=="string"?[{type:"text",text:k}]:k}else o==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const y=P(P({},a),d.attributes);return f.createNode(t,y,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${l}`,"m"),y=(f=d.match(p))==null?void 0:f.index;return y!==void 0?y:-1},tokenize(d,f,p){var y;const k=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),x=d.match(k);if(!x)return;const[T,O=""]=x,D=i(O);let h=1;const E=T.length;let g="";const w=/^:::([\w-]*)(\s.*)?/gm,N=d.slice(E);for(w.lastIndex=0;;){const S=w.exec(N);if(S===null)break;const C=S.index,R=S[1];if(!((y=S[2])!=null&&y.endsWith(":::"))){if(R)h+=1;else if(h-=1,h===0){const U=N.slice(0,C);g=U.trim();const H=d.slice(0,E+C+S[0].length);let F=[];if(g)if(o==="block")for(F=p.blockTokens(U),F.forEach(B=>{B.text&&(!B.tokens||B.tokens.length===0)&&(B.tokens=p.inlineTokens(B.text))});F.length>0;){const B=F[F.length-1];if(B.type==="paragraph"&&(!B.text||B.text.trim()===""))F.pop();else break}else F=p.inlineTokens(g);return{type:t,raw:H,attributes:D,content:g,tokens:F}}}}}},renderMarkdown:(d,f)=>{const p=c(d.attrs||{}),y=s(p),k=y?` {${y}}`:"",x=f.renderChildren(d.content||[],`

`);return`:::${l}${k}

${x}

:::`}}}function Y6(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,i,s,a]=r;t[i]=s||a,r=n.exec(e)}return t}function G6(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function Q6(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=Y6,serializeAttributes:s=G6,defaultAttributes:a={},selfClosing:o=!1,allowedAttributes:u}=e,l=n||t,c=f=>{if(!u)return f;const p={};return u.forEach(y=>{y in f&&(p[y]=f[y])}),p},d=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const y=P(P({},a),f.attributes);if(o)return p.createNode(t,y);const k=r?r(f):f.content||"";return k?p.createNode(t,y,[p.createTextNode(k)]):p.createNode(t,y,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=o?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),y=f.match(p),k=y==null?void 0:y.index;return k!==void 0?k:-1},tokenize(f,p,y){const k=o?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),x=f.match(k);if(!x)return;let T="",O="";if(o){const[,h]=x;O=h}else{const[,h,E]=x;O=h,T=E||""}const D=i(O.trim());return{type:t,raw:x[0],content:T.trim(),attributes:D}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(T=>T.type==="text").map(T=>T.text).join(""));const y=c(f.attrs||{}),k=s(y),x=k?` ${k}`:"";return o?`[${l}${x}]`:`[${l}${x}]${p}[/${l}]`}}}function dc(e,t,n){var r,i,s,a;const o=e.split(`
`),u=[];let l="",c=0;const d=t.baseIndentSize||2;for(;c<o.length;){const f=o[c],p=f.match(t.itemPattern);if(!p){if(u.length>0)break;if(f.trim()===""){c+=1,l=`${l}${f}
`;continue}else return}const y=t.extractItemData(p),{indentLevel:k,mainContent:x}=y;l=`${l}${f}
`;const T=[x];for(c+=1;c<o.length;){const E=o[c];if(E.trim()===""){const w=o.slice(c+1).findIndex(C=>C.trim()!=="");if(w===-1)break;if((((i=(r=o[c+1+w].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>k){T.push(E),l=`${l}${E}
`,c+=1;continue}else break}if((((a=(s=E.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>k)T.push(E),l=`${l}${E}
`,c+=1;else break}let O;const D=T.slice(1);if(D.length>0){const E=D.map(g=>g.slice(k+d)).join(`
`);E.trim()&&(t.customNestedParser?O=t.customNestedParser(E):O=n.blockTokens(E))}const h=t.createToken(y,O);u.push(h)}if(u.length!==0)return{items:u,raw:l}}function Pd(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const i=typeof n=="function"?n(r):n,[s,...a]=e.content,o=t.renderChildren([s]),u=[`${i}${o}`];return a&&a.length>0&&a.forEach(l=>{const c=t.renderChildren([l]);if(c){const d=c.split(`
`).map(f=>f?t.indent(f):"").join(`
`);u.push(d)}}),u.join(`
`)}function X6(e,t,n={}){const{state:r}=t,{doc:i,tr:s}=r,a=e;i.descendants((o,u)=>{const l=s.mapping.map(u),c=s.mapping.map(u)+o.nodeSize;let d=null;if(o.marks.forEach(p=>{if(p!==a)return!1;d=p}),!d)return;let f=!1;if(Object.keys(n).forEach(p=>{n[p]!==d.attrs[p]&&(f=!0)}),f){const p=e.type.create(P(P({},e.attrs),n));s.removeMark(l,c,e.type),s.addMark(l,c,p)}}),s.docChanged&&t.view.dispatch(s)}var Jt=class Wb extends Rd{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new Wb(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function Jr(e){return new L6({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const s=Fe(e.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:a}=t,o=r[r.length-1],u=r[0];let l=n.to;if(o){const c=u.search(/\S/),d=n.from+u.indexOf(o),f=d+o.length;if(Md(n.from,n.to,t.doc).filter(y=>y.mark.type.excluded.find(x=>x===e.type&&x!==y.mark.type)).filter(y=>y.to>d).length)return null;f<n.to&&a.delete(f,n.to),d>n.from&&a.delete(n.from+c,d),l=n.from+c+o.length,a.addMark(n.from+c,l,e.type.create(s||{})),a.removeStoredMark(e.type)}}})}var J6=Object.getOwnPropertyNames,Z6=Object.getOwnPropertySymbols,eM=Object.prototype.hasOwnProperty;function Vp(e,t){return function(r,i,s){return e(r,i,s)&&t(r,i,s)}}function ma(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var s=i.cache,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);var u=e(n,r,i);return s.delete(n),s.delete(r),u}}function tM(e){return e!=null?e[Symbol.toStringTag]:void 0}function qp(e){return J6(e).concat(Z6(e))}var nM=Object.hasOwn||(function(e,t){return eM.call(e,t)});function si(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var rM="__v",iM="__o",sM="_owner",Wp=Object.getOwnPropertyDescriptor,Kp=Object.keys;function aM(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function oM(e,t){return si(e.getTime(),t.getTime())}function uM(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function lM(e,t){return e===t}function Yp(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),s=e.entries(),a,o,u=0;(a=s.next())&&!a.done;){for(var l=t.entries(),c=!1,d=0;(o=l.next())&&!o.done;){if(i[d]){d++;continue}var f=a.value,p=o.value;if(n.equals(f[0],p[0],u,d,e,t,n)&&n.equals(f[1],p[1],f[0],p[0],e,t,n)){c=i[d]=!0;break}d++}if(!c)return!1;u++}return!0}var cM=si;function dM(e,t,n){var r=Kp(e),i=r.length;if(Kp(t).length!==i)return!1;for(;i-- >0;)if(!Kb(e,t,n,r[i]))return!1;return!0}function Ji(e,t,n){var r=qp(e),i=r.length;if(qp(t).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=r[i],!Kb(e,t,n,s)||(a=Wp(e,s),o=Wp(t,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function fM(e,t){return si(e.valueOf(),t.valueOf())}function hM(e,t){return e.source===t.source&&e.flags===t.flags}function Gp(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),s=e.values(),a,o;(a=s.next())&&!a.done;){for(var u=t.values(),l=!1,c=0;(o=u.next())&&!o.done;){if(!i[c]&&n.equals(a.value,o.value,a.value,o.value,e,t,n)){l=i[c]=!0;break}c++}if(!l)return!1}return!0}function pM(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function mM(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Kb(e,t,n,r){return(r===sM||r===iM||r===rM)&&(e.$$typeof||t.$$typeof)?!0:nM(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var gM="[object Arguments]",bM="[object Boolean]",yM="[object Date]",EM="[object Error]",kM="[object Map]",TM="[object Number]",xM="[object Object]",wM="[object RegExp]",CM="[object Set]",SM="[object String]",_M="[object URL]",AM=Array.isArray,Qp=typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,Xp=Object.assign,NM=Object.prototype.toString.call.bind(Object.prototype.toString);function vM(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,a=e.areNumbersEqual,o=e.areObjectsEqual,u=e.arePrimitiveWrappersEqual,l=e.areRegExpsEqual,c=e.areSetsEqual,d=e.areTypedArraysEqual,f=e.areUrlsEqual,p=e.unknownTagComparators;return function(k,x,T){if(k===x)return!0;if(k==null||x==null)return!1;var O=typeof k;if(O!==typeof x)return!1;if(O!=="object")return O==="number"?a(k,x,T):O==="function"?i(k,x,T):!1;var D=k.constructor;if(D!==x.constructor)return!1;if(D===Object)return o(k,x,T);if(AM(k))return t(k,x,T);if(Qp!=null&&Qp(k))return d(k,x,T);if(D===Date)return n(k,x,T);if(D===RegExp)return l(k,x,T);if(D===Map)return s(k,x,T);if(D===Set)return c(k,x,T);var h=NM(k);if(h===yM)return n(k,x,T);if(h===wM)return l(k,x,T);if(h===kM)return s(k,x,T);if(h===CM)return c(k,x,T);if(h===xM)return typeof k.then!="function"&&typeof x.then!="function"&&o(k,x,T);if(h===_M)return f(k,x,T);if(h===EM)return r(k,x,T);if(h===gM)return o(k,x,T);if(h===bM||h===TM||h===SM)return u(k,x,T);if(p){var E=p[h];if(!E){var g=tM(k);g&&(E=p[g])}if(E)return E(k,x,T)}return!1}}function IM(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?Ji:aM,areDatesEqual:oM,areErrorsEqual:uM,areFunctionsEqual:lM,areMapsEqual:r?Vp(Yp,Ji):Yp,areNumbersEqual:cM,areObjectsEqual:r?Ji:dM,arePrimitiveWrappersEqual:fM,areRegExpsEqual:hM,areSetsEqual:r?Vp(Gp,Ji):Gp,areTypedArraysEqual:r?Ji:pM,areUrlsEqual:mM,unknownTagComparators:void 0};if(n&&(i=Xp({},i,n(i))),t){var s=ma(i.areArraysEqual),a=ma(i.areMapsEqual),o=ma(i.areObjectsEqual),u=ma(i.areSetsEqual);i=Xp({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:u})}return i}function OM(e){return function(t,n,r,i,s,a,o){return e(t,n,o)}}function MM(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,s=e.strict;if(r)return function(u,l){var c=r(),d=c.cache,f=d===void 0?t?new WeakMap:void 0:d,p=c.meta;return n(u,l,{cache:f,equals:i,meta:p,strict:s})};if(t)return function(u,l){return n(u,l,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(u,l){return n(u,l,a)}}var RM=Sr();Sr({strict:!0});Sr({circular:!0});Sr({circular:!0,strict:!0});Sr({createInternalComparator:function(){return si}});Sr({strict:!0,createInternalComparator:function(){return si}});Sr({circular:!0,createInternalComparator:function(){return si}});Sr({circular:!0,createInternalComparator:function(){return si},strict:!0});function Sr(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,s=e.strict,a=s===void 0?!1:s,o=IM(e),u=vM(o),l=r?r(u):OM(u);return MM({circular:n,comparator:u,createState:i,equals:l,strict:a})}var al={exports:{}},ol={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function LM(){if(Jp)return ol;Jp=1;var e=gm(),t=Fg();function n(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,a=e.useEffect,o=e.useMemo,u=e.useDebugValue;return ol.useSyncExternalStoreWithSelector=function(l,c,d,f,p){var y=s(null);if(y.current===null){var k={hasValue:!1,value:null};y.current=k}else k=y.current;y=o(function(){function T(g){if(!O){if(O=!0,D=g,g=f(g),p!==void 0&&k.hasValue){var w=k.value;if(p(w,g))return h=w}return h=g}if(w=h,r(D,g))return w;var N=f(g);return p!==void 0&&p(w,N)?(D=g,w):(D=g,h=N)}var O=!1,D,h,E=d===void 0?null:d;return[function(){return T(c())},E===null?void 0:function(){return T(E())}]},[c,d,f,p]);var x=i(l,y[0],y[1]);return a(function(){k.hasValue=!0,k.value=x},[x]),u(x),x},ol}var Zp;function DM(){return Zp||(Zp=1,al.exports=LM()),al.exports}var PM=DM(),BM=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},FM=({contentComponent:e})=>{const t=jg.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return b.jsx(b.Fragment,{children:Object.values(t)})};function jM(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t=ce(P({},t),{[n]:My.createPortal(r.reactElement,r.element,n)}),e.forEach(i=>i())},removeRenderer(n){const r=P({},t);delete r[n],t=r,e.forEach(i=>i())}}}var HM=class extends Vr.Component{constructor(e){var t;super(e),this.editorContentRef=Vr.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=jM(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.firstChild))return;const n=document.createElement("div");n.append(t.view.dom),t.setOptions({element:n})}catch(n){}}}render(){const r=this.props,{editor:e,innerRef:t}=r,n=zi(r,["editor","innerRef"]);return b.jsxs(b.Fragment,{children:[b.jsx("div",P({ref:BM(t,this.editorContentRef)},n)),(e==null?void 0:e.contentComponent)&&b.jsx(FM,{contentComponent:e.contentComponent})]})}},zM=$.forwardRef((e,t)=>{const n=Vr.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return Vr.createElement(HM,P({key:n,innerRef:t},e))}),UM=Vr.memo(zM),$M=typeof window!="undefined"?$.useLayoutEffect:$.useEffect,VM=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}};function qM(e){var t;const[n]=$.useState(()=>new VM(e.editor)),r=PM.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:RM);return $M(()=>n.watch(e.editor),[e.editor,n]),$.useDebugValue(r),r}var WM=!1,fc=typeof window=="undefined",KM=fc||!!(typeof window!="undefined"&&window.next),YM=class Yb{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?fc||KM?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t=ce(P({},this.options.current),{onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}});return new $6(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((i,s)=>{var a;return i===((a=n.extensions)==null?void 0:a[s])}):t[r]===n[r])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?Yb.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions(ce(P({},this.options.current),{editable:this.editor.isEditable})):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((r,i)=>r===t[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function GM(e={},t=[]){const n=$.useRef(e);n.current=e;const[r]=$.useState(()=>new YM(n)),i=jg.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return $.useDebugValue(i),$.useEffect(r.onRender(t)),qM({editor:i,selector:({transactionNumber:s})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&s===0?0:s+1}),i}var QM=$.createContext({editor:null});QM.Consumer;var XM=$.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),JM=()=>$.useContext(XM);Vr.forwardRef((e,t)=>{const{onDragStart:n}=JM(),r=e.as||"div";return b.jsx(r,ce(P({},e),{ref:t,"data-node-view-wrapper":"",onDragStart:n,style:P({whiteSpace:"normal"},e.style)}))});Vr.createContext({markViewContentRef:()=>{}});var oo=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const i=t!=null?t:{},{children:n}=i,r=zi(i,["children"]);if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},ZM=/^\s*>\s$/,eR=Jt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return oo("blockquote",ce(P({},st(this.options.HTMLAttributes,e)),{children:oo("slot",{})}))},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=">",r=[];return e.content.forEach(i=>{const o=t.renderChildren([i]).split(`
`).map(u=>u.trim()===""?n:`${n} ${u}`);r.push(o.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ii({find:ZM,type:this.type})]}}),tR=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,nR=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,rR=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,iR=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,sR=ii.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return oo("strong",ce(P({},st(this.options.HTMLAttributes,e)),{children:oo("slot",{})}))},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[vi({find:tR,type:this.type}),vi({find:rR,type:this.type})]},addPasteRules(){return[Jr({find:nR,type:this.type}),Jr({find:iR,type:this.type})]}}),aR=/(^|[^`])`([^`]+)`(?!`)$/,oR=/(^|[^`])`([^`]+)`(?!`)/g,uR=ii.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",st(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[vi({find:aR,type:this.type})]},addPasteRules(){return[Jr({find:oR,type:this.type})]}}),ul=4,lR=/^```([a-z]+)?[\s\n]$/,cR=/^~~~([a-z]+)?[\s\n]$/,dR=Jt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:ul,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",st(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return((n=e.raw)==null?void 0:n.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let r="";const i=((n=e.attrs)==null?void 0:n.language)||"";return e.content?r=[`\`\`\`${i}`,t.renderChildren(e.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:ul,{state:r}=e,{selection:i}=r,{$from:s,empty:a}=i;if(s.parent.type!==this.type)return!1;const o=" ".repeat(n);return a?e.commands.insertContent(o):e.commands.command(({tr:u})=>{const{from:l,to:c}=i,p=r.doc.textBetween(l,c,`
`,`
`).split(`
`).map(y=>o+y).join(`
`);return u.replaceWith(l,c,r.schema.text(p)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:ul,{state:r}=e,{selection:i}=r,{$from:s,empty:a}=i;return s.parent.type!==this.type?!1:a?e.commands.command(({tr:o})=>{var u;const{pos:l}=s,c=s.start(),d=s.end(),p=r.doc.textBetween(c,d,`
`,`
`).split(`
`);let y=0,k=0;const x=l-c;for(let g=0;g<p.length;g+=1){if(k+p[g].length>=x){y=g;break}k+=p[g].length+1}const O=((u=p[y].match(/^ */))==null?void 0:u[0])||"",D=Math.min(O.length,n);if(D===0)return!0;let h=c;for(let g=0;g<y;g+=1)h+=p[g].length+1;return o.delete(h,h+D),l-h<=D&&o.setSelection(Ee.create(o.doc,h)),!0}):e.commands.command(({tr:o})=>{const{from:u,to:l}=i,f=r.doc.textBetween(u,l,`
`,`
`).split(`
`).map(p=>{var y;const k=((y=p.match(/^ */))==null?void 0:y[0])||"",x=Math.min(k.length,n);return p.slice(x)}).join(`
`);return o.replaceWith(u,l,r.schema.text(f)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:e.chain().command(({tr:o})=>(o.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const o=i.after();return o===void 0?!1:r.nodeAt(o)?e.commands.command(({tr:l})=>(l.setSelection(Se.near(r.resolve(o))),!0)):e.commands.exitCode()}}},addInputRules(){return[cc({find:lR,type:this.type,getAttributes:e=>({language:e[1]})}),cc({find:cR,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Je({key:new ft("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:a,schema:o}=e.state,u=o.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},u)),a.selection.$from.parent.type!==this.type&&a.setSelection(Ee.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),e.dispatch(a),!0}}})]}}),fR=Jt.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),hR=Jt.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",st(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:o}=r.extensionManager,u=s||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:l,dispatch:c})=>{if(c&&u&&a){const d=u.filter(f=>o.includes(f.type.name));l.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Gb=Jt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,st(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const r=(n=e.attrs)!=null&&n.level?parseInt(e.attrs.level,10):1,i="#".repeat(r);return e.content?`${i} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>ce(P({},e),{[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>cc({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),pR=Gb,mR=Jt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",st(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!V6(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,i=e();return Nb(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:a,dispatch:o})=>{if(o){const{$to:u}=a.selection,l=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?a.setSelection(Ee.create(a.doc,u.pos+1)):u.nodeAfter.isBlock?a.setSelection(me.create(a.doc,u.pos)):a.setSelection(Ee.create(a.doc,u.pos));else{const c=s.schema.nodes[this.options.nextNodeType]||u.parent.type.contentMatch.defaultType,d=c==null?void 0:c.create();d&&(a.insert(l,d),a.setSelection(Ee.create(a.doc,l+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[qb({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),gR=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,bR=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,yR=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,ER=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,kR=ii.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",st(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[vi({find:gR,type:this.type}),vi({find:yR,type:this.type})]},addPasteRules(){return[Jr({find:bR,type:this.type}),Jr({find:ER,type:this.type})]}});const TR="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",xR="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",hc="numeric",pc="ascii",mc="alpha",Ts="asciinumeric",is="alphanumeric",gc="domain",Qb="emoji",wR="scheme",CR="slashscheme",ll="whitespace";function SR(e,t){return e in t||(t[e]=[]),t[e]}function Br(e,t,n){t[hc]&&(t[Ts]=!0,t[is]=!0),t[pc]&&(t[Ts]=!0,t[mc]=!0),t[Ts]&&(t[is]=!0),t[mc]&&(t[is]=!0),t[is]&&(t[gc]=!0),t[Qb]&&(t[gc]=!0);for(const r in t){const i=SR(r,n);i.indexOf(e)<0&&i.push(e)}}function _R(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function Yt(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Yt.groups={};Yt.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const i=t.jr[r][0],s=t.jr[r][1];if(s&&i.test(e))return s}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){r=r||Yt.groups;let i;return t&&t.j?i=t:(i=new Yt(t),n&&r&&Br(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const s=e.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(e[a]);return i.tt(e[s-1],t,n,r)},tt(e,t,n,r){r=r||Yt.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const s=t;let a,o=i.go(e);if(o?(a=new Yt,Object.assign(a.j,o.j),a.jr.push.apply(a.jr,o.jr),a.jd=o.jd,a.t=o.t):a=new Yt,s){if(r)if(a.t&&typeof a.t=="string"){const u=Object.assign(_R(a.t,r),n);Br(s,u,r)}else n&&Br(s,n,r);a.t=s}return i.j[e]=a,a}};const Ce=(e,t,n,r,i)=>e.ta(t,n,r,i),et=(e,t,n,r,i)=>e.tr(t,n,r,i),em=(e,t,n,r,i)=>e.ts(t,n,r,i),ee=(e,t,n,r,i)=>e.tt(t,n,r,i),$n="WORD",bc="UWORD",Xb="ASCIINUMERICAL",Jb="ALPHANUMERICAL",js="LOCALHOST",yc="TLD",Ec="UTLD",Oa="SCHEME",pi="SLASH_SCHEME",Bd="NUM",kc="WS",Fd="NL",xs="OPENBRACE",ws="CLOSEBRACE",uo="OPENBRACKET",lo="CLOSEBRACKET",co="OPENPAREN",fo="CLOSEPAREN",ho="OPENANGLEBRACKET",po="CLOSEANGLEBRACKET",mo="FULLWIDTHLEFTPAREN",go="FULLWIDTHRIGHTPAREN",bo="LEFTCORNERBRACKET",yo="RIGHTCORNERBRACKET",Eo="LEFTWHITECORNERBRACKET",ko="RIGHTWHITECORNERBRACKET",To="FULLWIDTHLESSTHAN",xo="FULLWIDTHGREATERTHAN",wo="AMPERSAND",Co="APOSTROPHE",So="ASTERISK",lr="AT",_o="BACKSLASH",Ao="BACKTICK",No="CARET",fr="COLON",jd="COMMA",vo="DOLLAR",On="DOT",Io="EQUALS",Hd="EXCLAMATION",dn="HYPHEN",Cs="PERCENT",Oo="PIPE",Mo="PLUS",Ro="POUND",Ss="QUERY",zd="QUOTE",Zb="FULLWIDTHMIDDLEDOT",Ud="SEMI",Mn="SLASH",_s="TILDE",Lo="UNDERSCORE",ey="EMOJI",Do="SYM";var ty=Object.freeze({__proto__:null,ALPHANUMERICAL:Jb,AMPERSAND:wo,APOSTROPHE:Co,ASCIINUMERICAL:Xb,ASTERISK:So,AT:lr,BACKSLASH:_o,BACKTICK:Ao,CARET:No,CLOSEANGLEBRACKET:po,CLOSEBRACE:ws,CLOSEBRACKET:lo,CLOSEPAREN:fo,COLON:fr,COMMA:jd,DOLLAR:vo,DOT:On,EMOJI:ey,EQUALS:Io,EXCLAMATION:Hd,FULLWIDTHGREATERTHAN:xo,FULLWIDTHLEFTPAREN:mo,FULLWIDTHLESSTHAN:To,FULLWIDTHMIDDLEDOT:Zb,FULLWIDTHRIGHTPAREN:go,HYPHEN:dn,LEFTCORNERBRACKET:bo,LEFTWHITECORNERBRACKET:Eo,LOCALHOST:js,NL:Fd,NUM:Bd,OPENANGLEBRACKET:ho,OPENBRACE:xs,OPENBRACKET:uo,OPENPAREN:co,PERCENT:Cs,PIPE:Oo,PLUS:Mo,POUND:Ro,QUERY:Ss,QUOTE:zd,RIGHTCORNERBRACKET:yo,RIGHTWHITECORNERBRACKET:ko,SCHEME:Oa,SEMI:Ud,SLASH:Mn,SLASH_SCHEME:pi,SYM:Do,TILDE:_s,TLD:yc,UNDERSCORE:Lo,UTLD:Ec,UWORD:bc,WORD:$n,WS:kc});const zn=/[a-z]/,Zi=new RegExp("\\p{L}","u"),cl=new RegExp("\\p{Emoji}","u"),Un=/\d/,dl=/\s/,tm="\r",fl=`
`,AR="️",NR="‍",hl="￼";let ga=null,ba=null;function vR(e=[]){const t={};Yt.groups=t;const n=new Yt;ga==null&&(ga=nm(TR)),ba==null&&(ba=nm(xR)),ee(n,"'",Co),ee(n,"{",xs),ee(n,"}",ws),ee(n,"[",uo),ee(n,"]",lo),ee(n,"(",co),ee(n,")",fo),ee(n,"<",ho),ee(n,">",po),ee(n,"（",mo),ee(n,"）",go),ee(n,"「",bo),ee(n,"」",yo),ee(n,"『",Eo),ee(n,"』",ko),ee(n,"＜",To),ee(n,"＞",xo),ee(n,"&",wo),ee(n,"*",So),ee(n,"@",lr),ee(n,"`",Ao),ee(n,"^",No),ee(n,":",fr),ee(n,",",jd),ee(n,"$",vo),ee(n,".",On),ee(n,"=",Io),ee(n,"!",Hd),ee(n,"-",dn),ee(n,"%",Cs),ee(n,"|",Oo),ee(n,"+",Mo),ee(n,"#",Ro),ee(n,"?",Ss),ee(n,'"',zd),ee(n,"/",Mn),ee(n,";",Ud),ee(n,"~",_s),ee(n,"_",Lo),ee(n,"\\",_o),ee(n,"・",Zb);const r=et(n,Un,Bd,{[hc]:!0});et(r,Un,r);const i=et(r,zn,Xb,{[Ts]:!0}),s=et(r,Zi,Jb,{[is]:!0}),a=et(n,zn,$n,{[pc]:!0});et(a,Un,i),et(a,zn,a),et(i,Un,i),et(i,zn,i);const o=et(n,Zi,bc,{[mc]:!0});et(o,zn),et(o,Un,s),et(o,Zi,o),et(s,Un,s),et(s,zn),et(s,Zi,s);const u=ee(n,fl,Fd,{[ll]:!0}),l=ee(n,tm,kc,{[ll]:!0}),c=et(n,dl,kc,{[ll]:!0});ee(n,hl,c),ee(l,fl,u),ee(l,hl,c),et(l,dl,c),ee(c,tm),ee(c,fl),et(c,dl,c),ee(c,hl,c);const d=et(n,cl,ey,{[Qb]:!0});ee(d,"#"),et(d,cl,d),ee(d,AR,d);const f=ee(d,NR);ee(f,"#"),et(f,cl,d);const p=[[zn,a],[Un,i]],y=[[zn,null],[Zi,o],[Un,s]];for(let k=0;k<ga.length;k++)rr(n,ga[k],yc,$n,p);for(let k=0;k<ba.length;k++)rr(n,ba[k],Ec,bc,y);Br(yc,{tld:!0,ascii:!0},t),Br(Ec,{utld:!0,alpha:!0},t),rr(n,"file",Oa,$n,p),rr(n,"mailto",Oa,$n,p),rr(n,"http",pi,$n,p),rr(n,"https",pi,$n,p),rr(n,"ftp",pi,$n,p),rr(n,"ftps",pi,$n,p),Br(Oa,{scheme:!0,ascii:!0},t),Br(pi,{slashscheme:!0,ascii:!0},t),e=e.sort((k,x)=>k[0]>x[0]?1:-1);for(let k=0;k<e.length;k++){const x=e[k][0],O=e[k][1]?{[wR]:!0}:{[CR]:!0};x.indexOf("-")>=0?O[gc]=!0:zn.test(x)?Un.test(x)?O[Ts]=!0:O[pc]=!0:O[hc]=!0,em(n,x,x,O)}return em(n,"localhost",js,{ascii:!0}),n.jd=new Yt(Do),{start:n,tokens:Object.assign({groups:t},ty)}}function ny(e,t){const n=IR(t.replace(/[A-Z]/g,o=>o.toLowerCase())),r=n.length,i=[];let s=0,a=0;for(;a<r;){let o=e,u=null,l=0,c=null,d=-1,f=-1;for(;a<r&&(u=o.go(n[a]));)o=u,o.accepts()?(d=0,f=0,c=o):d>=0&&(d+=n[a].length,f++),l+=n[a].length,s+=n[a].length,a++;s-=d,a-=f,l-=d,i.push({t:c.t,v:t.slice(s-l,s),s:s-l,e:s})}return i}function IR(e){const t=[],n=e.length;let r=0;for(;r<n;){let i=e.charCodeAt(r),s,a=i<55296||i>56319||r+1===n||(s=e.charCodeAt(r+1))<56320||s>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}function rr(e,t,n,r,i){let s;const a=t.length;for(let o=0;o<a-1;o++){const u=t[o];e.j[u]?s=e.j[u]:(s=new Yt(r),s.jr=i.slice(),e.j[u]=s),e=s}return s=new Yt(n),s.jr=i.slice(),e.j[t[a-1]]=s,s}function nm(e){const t=[],n=[];let r=0,i="0123456789";for(;r<e.length;){let s=0;for(;i.indexOf(e[r+s])>=0;)s++;if(s>0){t.push(n.join(""));for(let a=parseInt(e.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(e[r]),r++}return t}const Hs={defaultProtocol:"http",events:null,format:rm,formatHref:rm,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function $d(e,t=null){let n=Object.assign({},Hs);e&&(n=Object.assign(n,e instanceof $d?e.o:e));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}$d.prototype={o:Hs,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Hs[e],typeof i=="function"&&r&&(i=i(t,n))):typeof i=="function"&&r&&(i=i(t,n.t,n)),i)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function rm(e){return e}function ry(e,t){this.t="token",this.v=e,this.tk=t}ry.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=Hs.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),s=this.toFormattedString(e),a={},o=e.get("className",n,t),u=e.get("target",n,t),l=e.get("rel",n,t),c=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return a.href=r,o&&(a.class=o),u&&(a.target=u),l&&(a.rel=l),c&&Object.assign(a,c),{tagName:i,attributes:a,content:s,eventListeners:d}}};function du(e,t){class n extends ry{constructor(i,s){super(i,s),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const im=du("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),sm=du("text"),OR=du("nl"),ya=du("url",{isLink:!0,toHref(e=Hs.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==js&&e[1].t===fr}}),cn=e=>new Yt(e);function MR({groups:e}){const t=e.domain.concat([wo,So,lr,_o,Ao,No,vo,Io,dn,Bd,Cs,Oo,Mo,Ro,Mn,Do,_s,Lo]),n=[Co,fr,jd,On,Hd,Cs,Ss,zd,Ud,ho,po,xs,ws,lo,uo,co,fo,mo,go,bo,yo,Eo,ko,To,xo],r=[wo,Co,So,_o,Ao,No,vo,Io,dn,xs,ws,Cs,Oo,Mo,Ro,Ss,Mn,Do,_s,Lo],i=cn(),s=ee(i,_s);Ce(s,r,s),Ce(s,e.domain,s);const a=cn(),o=cn(),u=cn();Ce(i,e.domain,a),Ce(i,e.scheme,o),Ce(i,e.slashscheme,u),Ce(a,r,s),Ce(a,e.domain,a);const l=ee(a,lr);ee(s,lr,l),ee(o,lr,l),ee(u,lr,l);const c=ee(s,On);Ce(c,r,s),Ce(c,e.domain,s);const d=cn();Ce(l,e.domain,d),Ce(d,e.domain,d);const f=ee(d,On);Ce(f,e.domain,d);const p=cn(im);Ce(f,e.tld,p),Ce(f,e.utld,p),ee(l,js,p);const y=ee(d,dn);ee(y,dn,y),Ce(y,e.domain,d),Ce(p,e.domain,d),ee(p,On,f),ee(p,dn,y);const k=ee(p,fr);Ce(k,e.numeric,im);const x=ee(a,dn),T=ee(a,On);ee(x,dn,x),Ce(x,e.domain,a),Ce(T,r,s),Ce(T,e.domain,a);const O=cn(ya);Ce(T,e.tld,O),Ce(T,e.utld,O),Ce(O,e.domain,a),Ce(O,r,s),ee(O,On,T),ee(O,dn,x),ee(O,lr,l);const D=ee(O,fr),h=cn(ya);Ce(D,e.numeric,h);const E=cn(ya),g=cn();Ce(E,t,E),Ce(E,n,g),Ce(g,t,E),Ce(g,n,g),ee(O,Mn,E),ee(h,Mn,E);const w=ee(o,fr),N=ee(u,fr),S=ee(N,Mn),C=ee(S,Mn);Ce(o,e.domain,a),ee(o,On,T),ee(o,dn,x),Ce(u,e.domain,a),ee(u,On,T),ee(u,dn,x),Ce(w,e.domain,E),ee(w,Mn,E),ee(w,Ss,E),Ce(C,e.domain,E),Ce(C,t,E),ee(C,Mn,E);const R=[[xs,ws],[uo,lo],[co,fo],[ho,po],[mo,go],[bo,yo],[Eo,ko],[To,xo]];for(let U=0;U<R.length;U++){const[H,F]=R[U],B=ee(E,H);ee(g,H,B),ee(B,F,E);const v=cn(ya);Ce(B,t,v);const V=cn();Ce(B,n),Ce(v,t,v),Ce(v,n,V),Ce(V,t,v),Ce(V,n,V),ee(v,F,E),ee(V,F,E)}return ee(i,js,O),ee(i,Fd,OR),{start:i,tokens:ty}}function RR(e,t,n){let r=n.length,i=0,s=[],a=[];for(;i<r;){let o=e,u=null,l=null,c=0,d=null,f=-1;for(;i<r&&!(u=o.go(n[i].t));)a.push(n[i++]);for(;i<r&&(l=u||o.go(n[i].t));)u=null,o=l,o.accepts()?(f=0,d=o):f>=0&&f++,i++,c++;if(f<0)i-=c,i<r&&(a.push(n[i]),i++);else{a.length>0&&(s.push(pl(sm,t,a)),a=[]),i-=f,c-=f;const p=d.t,y=n.slice(i-c,i);s.push(pl(p,t,y))}}return a.length>0&&s.push(pl(sm,t,a)),s}function pl(e,t,n){const r=n[0].s,i=n[n.length-1].e,s=t.slice(r,i);return new e(s,n)}const LR=typeof console!="undefined"&&console&&console.warn||(()=>{}),DR="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ge={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function PR(){return Yt.groups={},Ge.scanner=null,Ge.parser=null,Ge.tokenQueue=[],Ge.pluginQueue=[],Ge.customSchemes=[],Ge.initialized=!1,Ge}function am(e,t=!1){if(Ge.initialized&&LR(`linkifyjs: already initialized - will not register custom scheme "${e}" ${DR}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ge.customSchemes.push([e,t])}function BR(){Ge.scanner=vR(Ge.customSchemes);for(let e=0;e<Ge.tokenQueue.length;e++)Ge.tokenQueue[e][1]({scanner:Ge.scanner});Ge.parser=MR(Ge.scanner.tokens);for(let e=0;e<Ge.pluginQueue.length;e++)Ge.pluginQueue[e][1]({scanner:Ge.scanner,parser:Ge.parser});return Ge.initialized=!0,Ge}function Vd(e){return Ge.initialized||BR(),RR(Ge.parser.start,e,ny(Ge.scanner.start,e))}Vd.scan=ny;function iy(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new $d(n),i=Vd(e),s=[];for(let a=0;a<i.length;a++){const o=i[a];o.isLink&&(!t||o.t===t)&&r.check(o)&&s.push(o.toFormattedObject(r))}return s}var qd="[\0-   ᠎ -\u2029 　]",FR=new RegExp(qd),jR=new RegExp(`${qd}$`),HR=new RegExp(qd,"g");function zR(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function UR(e){return new Je({key:new ft("autolink"),appendTransaction:(t,n,r)=>{const i=t.some(l=>l.docChanged)&&!n.doc.eq(r.doc),s=t.some(l=>l.getMeta("preventAutolink"));if(!i||s)return;const{tr:a}=r,o=kb(n.doc,[...t]);if(Ab(o).forEach(({newRange:l})=>{const c=qO(r.doc,l,p=>p.isTextblock);let d,f;if(c.length>1)d=c[0],f=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(c.length){const p=r.doc.textBetween(l.from,l.to," "," ");if(!jR.test(p))return;d=c[0],f=r.doc.textBetween(d.pos,l.to,void 0," ")}if(d&&f){const p=f.split(FR).filter(Boolean);if(p.length<=0)return!1;const y=p[p.length-1],k=d.pos+f.lastIndexOf(y);if(!y)return!1;const x=Vd(y).map(T=>T.toObject(e.defaultProtocol));if(!zR(x))return!1;x.filter(T=>T.isLink).map(T=>ce(P({},T),{from:k+T.start+1,to:k+T.end+1})).filter(T=>r.schema.marks.code?!r.doc.rangeHasMark(T.from,T.to,r.schema.marks.code):!0).filter(T=>e.validate(T.value)).filter(T=>e.shouldAutoLink(T.value)).forEach(T=>{Md(T.from,T.to,r.doc).some(O=>O.mark.type===e.type)||a.addMark(T.from,T.to,e.type.create({href:T.href}))})}}),!!a.steps.length)return a}})}function $R(e){return new Je({key:new ft("handleClickLink"),props:{handleClick:(t,n,r)=>{var i,s;if(r.button!==0||!t.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let c=r.target;const d=[];for(;c.nodeName!=="DIV";)d.push(c),c=c.parentNode;a=d.find(f=>f.nodeName==="A")}if(!a)return!1;const o=_b(t.state,e.type.name),u=(i=a==null?void 0:a.href)!=null?i:o.href,l=(s=a==null?void 0:a.target)!=null?s:o.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),a&&u?(window.open(u,l),!0):!1}}})}function VR(e){return new Je({key:new ft("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:i}=e,{state:s}=t,{selection:a}=s,{empty:o}=a;if(o)return!1;let u="";r.content.forEach(c=>{u+=c.textContent});const l=iy(u,{defaultProtocol:e.defaultProtocol}).find(c=>c.isLink&&c.value===u);return!u||!l||i!==void 0&&!i(l.href)?!1:e.editor.commands.setMark(e.type,{href:l.href})}}})}function Or(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!e||e.replace(HR,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var sy=ii.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){am(e);return}am(e.scheme,e.optionalSlashes)})},onDestroy(){PR()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Or(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!Or(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Or(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",st(this.options.HTMLAttributes,e),0]:["a",st(this.options.HTMLAttributes,ce(P({},e),{href:""})),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=((n=e.attrs)==null?void 0:n.href)||"";return`[${t.renderChildren(e)}](${r})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Or(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Or(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Jr({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,i=iy(e).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!Or(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&t.push({text:s.value,data:{href:s.href},index:s.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(UR({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Or(i,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push($R({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(VR({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),qR=sy,WR=Object.defineProperty,KR=(e,t)=>{for(var n in t)WR(e,n,{get:t[n],enumerable:!0})},YR="listItem",om="textStyle",um=/^\s*([-+*])\s$/,Wd=Jt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",st(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(YR,this.editor.getAttributes(om)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Ii({find:um,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Ii({find:um,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(om),editor:this.editor})),[e]}}),Kd=Jt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",st(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let n=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(i=>i.type==="paragraph"))n=t.parseChildren(e.tokens);else{const i=e.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(i.tokens)}],e.tokens.length>1){const a=e.tokens.slice(1),o=t.parseChildren(a);n.push(...o)}}else n=t.parseChildren(e.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>Pd(e,t,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),GR={};KR(GR,{findListItemPos:()=>Js,getNextListDepth:()=>Yd,handleBackspace:()=>Tc,handleDelete:()=>xc,hasListBefore:()=>ay,hasListItemAfter:()=>QR,hasListItemBefore:()=>oy,listItemHasSubList:()=>uy,nextListIsDeeper:()=>ly,nextListIsHigher:()=>cy});var Js=(e,t)=>{const{$from:n}=t.selection,r=dt(e,t.schema);let i=null,s=n.depth,a=n.pos,o=null;for(;s>0&&o===null;)i=n.node(s),i.type===r?o=s:(s-=1,a-=1);return o===null?null:{$pos:t.doc.resolve(a),depth:o}},Yd=(e,t)=>{const n=Js(e,t);if(!n)return!1;const[,r]=t6(t,e,n.$pos.pos+4);return r},ay=(e,t,n)=>{const{$anchor:r}=e.selection,i=Math.max(0,r.pos-2),s=e.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},oy=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==e)},uy=(e,t,n)=>{if(!n)return!1;const r=dt(e,t.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},Tc=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!Tr(e.state,t)&&ay(e.state,t,n)){const{$anchor:o}=e.state.selection,u=e.state.doc.resolve(o.before()-1),l=[];u.node().descendants((f,p)=>{f.type.name===t&&l.push({node:f,pos:p})});const c=l.at(-1);if(!c)return!1;const d=e.state.doc.resolve(u.start()+c.pos+1);return e.chain().cut({from:o.start()-1,to:o.end()+1},d.end()).joinForward().run()}if(!Tr(e.state,t)||!s6(e.state))return!1;const r=Js(t,e.state);if(!r)return!1;const s=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=uy(t,e.state,s);return oy(t,e.state)&&!a?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},ly=(e,t)=>{const n=Yd(e,t),r=Js(e,t);return!r||!n?!1:n>r.depth},cy=(e,t)=>{const n=Yd(e,t),r=Js(e,t);return!r||!n?!1:n<r.depth},xc=(e,t)=>{if(!Tr(e.state,t)||!i6(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:ly(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():cy(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},QR=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==e)},dy=Ze.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&xc(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&xc(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&Tc(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&Tc(e,n,r)&&(t=!0)}),t}}}}),lm=/^(\s*)(\d+)\.\s+(.*)$/,XR=/^\s/;function JR(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n],s=i.match(lm);if(!s)break;const[,a,o,u]=s,l=a.length;let c=u,d=n+1;const f=[i];for(;d<e.length;){const p=e[d];if(p.match(lm))break;if(p.trim()==="")f.push(p),c+=`
`,d+=1;else if(p.match(XR))f.push(p),c+=`
${p.slice(l+2)}`,d+=1;else break}t.push({indent:l,number:parseInt(o,10),content:c.trim(),raw:f.join(`
`)}),r=d,n=d}return[t,r]}function fy(e,t,n){var r;const i=[];let s=0;for(;s<e.length;){const a=e[s];if(a.indent===t){const o=a.content.split(`
`),u=((r=o[0])==null?void 0:r.trim())||"",l=[];u&&l.push({type:"paragraph",raw:u,tokens:n.inlineTokens(u)});const c=o.slice(1).join(`
`).trim();if(c){const p=n.blockTokens(c);l.push(...p)}let d=s+1;const f=[];for(;d<e.length&&e[d].indent>t;)f.push(e[d]),d+=1;if(f.length>0){const p=Math.min(...f.map(k=>k.indent)),y=fy(f,p,n);l.push({type:"list",ordered:!0,start:f[0].number,items:y,raw:f.map(k=>k.raw).join(`
`)})}i.push({type:"list_item",raw:a.raw,tokens:l}),s=d}else s+=1}return i}function ZR(e,t){return e.map(n=>{if(n.type!=="list_item")return t.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...t.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=t.parseChildren([i]);r.push({type:"paragraph",content:s})}else{const s=t.parseChildren([i]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var eL="listItem",cm="textStyle",dm=/^(\d+)\.\s$/,Gd=Jt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const r=e,{start:t}=r,n=zi(r,["start"]);return t===1?["ol",st(this.options.HTMLAttributes,n),0]:["ol",st(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const n=e.start||1,r=e.items?ZR(e.items,t):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=t==null?void 0:t.index;return n!==void 0?n:-1},tokenize:(e,t,n)=>{var r;const i=e.split(`
`),[s,a]=JR(i);if(s.length===0)return;const o=fy(s,0,n);return o.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:o,raw:i.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(eL,this.editor.getAttributes(cm)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Ii({find:dm,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Ii({find:dm,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>P({start:+t[1]},this.editor.getAttributes(cm)),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),tL=/^\s*(\[([( |x])?\])\s$/,nL=Jt.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",st(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const r=t.parseChildren(e.nestedTokens);n.push(...r)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;const i=`- [${(n=e.attrs)!=null&&n.checked?"x":" "}] `;return Pd(e,t,i)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?ce(P({},e),{Tab:()=>this.editor.commands.sinkListItem(this.name)}):e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),o=document.createElement("input"),u=document.createElement("div"),l=c=>{var d,f;o.ariaLabel=((f=(d=this.options.a11y)==null?void 0:d.checkboxLabel)==null?void 0:f.call(d,c,o.checked))||`Task item checkbox for ${c.textContent||"empty task item"}`};return l(e),s.contentEditable="false",o.type="checkbox",o.addEventListener("mousedown",c=>c.preventDefault()),o.addEventListener("change",c=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){o.checked=!o.checked;return}const{checked:d}=c.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const p=n();if(typeof p!="number")return!1;const y=f.doc.nodeAt(p);return f.setNodeMarkup(p,void 0,ce(P({},y==null?void 0:y.attrs),{checked:d})),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,d)||(o.checked=!o.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([c,d])=>{i.setAttribute(c,d)}),i.dataset.checked=e.attrs.checked,o.checked=e.attrs.checked,s.append(o,a),i.append(s,u),Object.entries(t).forEach(([c,d])=>{i.setAttribute(c,d)}),{dom:i,contentDOM:u,update:c=>c.type!==this.type?!1:(i.dataset.checked=c.attrs.checked,o.checked=c.attrs.checked,l(c),!0)}}},addInputRules(){return[Ii({find:tL,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),rL=Jt.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",st(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return n!==void 0?n:-1},tokenize(e,t,n){const r=s=>{const a=dc(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,u)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:u}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(s)},i=dc(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,a)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:a}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Ze.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(Wd.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(Kd.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(dy.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(Gd.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(nL.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(rL.configure(this.options.taskList)),e}});var iL=Jt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",st(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];return n.length===1&&n[0].type==="image"?t.parseChildren([n[0]]):t.createNode("paragraph",void 0,t.parseInline(n))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),sL=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,aL=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,oL=ii.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",st(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[vi({find:sL,type:this.type})]},addPasteRules(){return[Jr({find:aL,type:this.type})]}}),uL=Jt.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),hy=ii.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",st(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),lL=hy;function cL(e={}){return new Je({view(t){return new dL(t,e)}})}class dL{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return t.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,o=s.height/i.offsetHeight;if(n){let d=t.nodeBefore,f=t.nodeAfter;if(d||f){let p=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(p){let y=p.getBoundingClientRect(),k=d?y.bottom:y.top;d&&f&&(k=(k+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let x=this.width/2*o;r={left:y.left,right:y.right,top:k-x,bottom:k+x}}}}if(!r){let d=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*a;r={left:d.left-f,right:d.left+f,top:d.top,bottom:d.bottom}}let u=this.editorView.dom.offsetParent;this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let l,c;if(!u||u==document.body&&getComputedStyle(u).position=="static")l=-pageXOffset,c=-pageYOffset;else{let d=u.getBoundingClientRect(),f=d.width/u.offsetWidth,p=d.height/u.offsetHeight;l=d.left-u.scrollLeft*f,c=d.top-u.scrollTop*p}this.element.style.left=(r.left-l)/a+"px",this.element.style.top=(r.top-c)/o+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/o+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let o=f1(this.editorView.state.doc,a,this.editorView.dragging.slice);o!=null&&(a=o)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class tt extends Se{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return tt.valid(r)?new tt(r):Se.near(r)}content(){return ue.empty}eq(t){return t instanceof tt&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new tt(t.resolve(n.pos))}getBookmark(){return new Qd(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!fL(t)||!hL(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&tt.valid(t))return t;let i=t.pos,s=null;for(let a=t.depth;;a--){let o=t.node(a);if(n>0?t.indexAfter(a)<o.childCount:t.index(a)>0){s=o.child(n>0?t.indexAfter(a):t.index(a)-1);break}else if(a==0)return null;i+=n;let u=t.doc.resolve(i);if(tt.valid(u))return u}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!me.isSelectable(s)){t=t.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=a,i+=n;let o=t.doc.resolve(i);if(tt.valid(o))return o}return null}}}tt.prototype.visible=!1;tt.findFrom=tt.findGapCursorFrom;Se.jsonID("gapcursor",tt);class Qd{constructor(t){this.pos=t}map(t){return new Qd(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return tt.valid(n)?new tt(n):Se.near(n)}}function fL(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function hL(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function pL(){return new Je({props:{decorations:yL,createSelectionBetween(e,t,n){return t.pos==n.pos&&tt.valid(n)?new tt(n):null},handleClick:gL,handleKeyDown:mL,handleDOMEvents:{beforeinput:bL}}})}const mL=fb({ArrowLeft:Ea("horiz",-1),ArrowRight:Ea("horiz",1),ArrowUp:Ea("vert",-1),ArrowDown:Ea("vert",1)});function Ea(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,s){let a=r.selection,o=t>0?a.$to:a.$from,u=a.empty;if(a instanceof Ee){if(!s.endOfTextblock(n)||o.depth==0)return!1;u=!1,o=r.doc.resolve(t>0?o.after():o.before())}let l=tt.findGapCursorFrom(o,t,u);return l?(i&&i(r.tr.setSelection(new tt(l))),!0):!1}}function gL(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!tt.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&me.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new tt(r))),!0)}function bL(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof tt))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=Q.empty;for(let a=r.length-1;a>=0;a--)i=Q.from(r[a].createAndFill(null,i));let s=e.state.tr.replace(n.pos,n.pos,new ue(i,0,0));return s.setSelection(Ee.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function yL(e){if(!(e.selection instanceof tt))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Xe.create(e.doc,[Lt.widget(e.selection.head,t,{key:"gapcursor"})])}var Po=200,xt=function(){};xt.prototype.append=function(t){return t.length?(t=xt.from(t),!this.length&&t||t.length<Po&&this.leafAppend(t)||this.length<Po&&t.leafPrepend(this)||this.appendInner(t)):this};xt.prototype.prepend=function(t){return t.length?xt.from(t).append(this):this};xt.prototype.appendInner=function(t){return new EL(this,t)};xt.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?xt.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};xt.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};xt.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};xt.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(t(s,a))},n,r),i};xt.from=function(t){return t instanceof xt?t:t&&t.length?new py(t):xt.empty};var py=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new t(this.values.slice(i,s))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,s,a,o){for(var u=s;u<a;u++)if(i(this.values[u],o+u)===!1)return!1},t.prototype.forEachInvertedInner=function(i,s,a,o){for(var u=s-1;u>=a;u--)if(i(this.values[u],o+u)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=Po)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=Po)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(xt);xt.empty=new py([]);var EL=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,s,a){var o=this.left.length;if(i<o&&this.left.forEachInner(r,i,Math.min(s,o),a)===!1||s>o&&this.right.forEachInner(r,Math.max(i-o,0),Math.min(this.length,s)-o,a+o)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,s,a){var o=this.left.length;if(i>o&&this.right.forEachInvertedInner(r,i-o,Math.max(s,o)-o,a+o)===!1||s<o&&this.left.forEachInvertedInner(r,Math.min(i,o),s,a)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})(xt);const kL=500;class xn{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=t.tr,o,u,l=[],c=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),s=i.maps.length),s--,c.push(d);return}if(i){c.push(new Rn(d.map));let p=d.step.map(i.slice(s)),y;p&&a.maybeStep(p).doc&&(y=a.mapping.maps[a.mapping.maps.length-1],l.push(new Rn(y,void 0,void 0,l.length+c.length))),s--,y&&i.appendMap(y,s)}else a.maybeStep(d.step);if(d.selection)return o=i?d.selection.map(i.slice(s)):d.selection,u=new xn(this.items.slice(0,r).append(c.reverse().concat(l)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:a,selection:o}}addTransform(t,n,r,i){let s=[],a=this.eventCount,o=this.items,u=!i&&o.length?o.get(o.length-1):null;for(let c=0;c<t.steps.length;c++){let d=t.steps[c].invert(t.docs[c]),f=new Rn(t.mapping.maps[c],d,n),p;(p=u&&u.merge(f))&&(f=p,c?s.pop():o=o.slice(0,o.length-1)),s.push(f),n&&(a++,n=void 0),i||(u=f)}let l=a-r.depth;return l>xL&&(o=TL(o,l),a-=l),new xn(o.append(s),a)}remapping(t,n){let r=new Rs;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},t,n),r}addMaps(t){return this.eventCount==0?this:new xn(this.items.append(t.map(n=>new Rn(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=t.mapping,a=t.steps.length,o=this.eventCount;this.items.forEach(f=>{f.selection&&o--},i);let u=n;this.items.forEach(f=>{let p=s.getMirror(--u);if(p==null)return;a=Math.min(a,p);let y=s.maps[p];if(f.step){let k=t.steps[p].invert(t.docs[p]),x=f.selection&&f.selection.map(s.slice(u+1,p));x&&o++,r.push(new Rn(y,k,x))}else r.push(new Rn(y))},i);let l=[];for(let f=n;f<a;f++)l.push(new Rn(s.maps[f]));let c=this.items.slice(0,i).append(l).append(r),d=new xn(c,o);return d.emptyItemCount()>kL&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],s=0;return this.items.forEach((a,o)=>{if(o>=t)i.push(a),a.selection&&s++;else if(a.step){let u=a.step.map(n.slice(r)),l=u&&u.getMap();if(r--,l&&n.appendMap(l,r),u){let c=a.selection&&a.selection.map(n.slice(r));c&&s++;let d=new Rn(l.invert(),u,c),f,p=i.length-1;(f=i.length&&i[p].merge(d))?i[p]=f:i.push(d)}}else a.map&&r--},this.items.length,0),new xn(xt.from(i.reverse()),s)}}xn.empty=new xn(xt.empty,0);function TL(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class Rn{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new Rn(n.getMap().invert(),n,this.selection)}}}class cr{constructor(t,n,r,i,s){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const xL=20;function wL(e,t,n,r){let i=n.getMeta($r),s;if(i)return i.historyState;n.getMeta(_L)&&(e=new cr(e.done,e.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(a&&a.getMeta($r))return a.getMeta($r).redo?new cr(e.done.addTransform(n,void 0,r,Ma(t)),e.undone,fm(n.mapping.maps),e.prevTime,e.prevComposition):new cr(e.done,e.undone.addTransform(n,void 0,r,Ma(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let o=n.getMeta("composition"),u=e.prevTime==0||!a&&e.prevComposition!=o&&(e.prevTime<(n.time||0)-r.newGroupDelay||!CL(n,e.prevRanges)),l=a?ml(e.prevRanges,n.mapping):fm(n.mapping.maps);return new cr(e.done.addTransform(n,u?t.selection.getBookmark():void 0,r,Ma(t)),xn.empty,l,n.time,o==null?e.prevComposition:o)}else return(s=n.getMeta("rebased"))?new cr(e.done.rebased(n,s),e.undone.rebased(n,s),ml(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new cr(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),ml(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function CL(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<t.length;s+=2)r<=t[s+1]&&i>=t[s]&&(n=!0)}),n}function fm(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,s,a)=>t.push(s,a));return t}function ml(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),s=t.map(e[r+1],-1);i<=s&&n.push(i,s)}return n}function SL(e,t,n){let r=Ma(t),i=$r.get(t).spec.config,s=(n?e.undone:e.done).popEvent(t,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),o=(n?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,r),u=new cr(n?o:s.remaining,n?s.remaining:o,null,0,-1);return s.transform.setSelection(a).setMeta($r,{redo:n,historyState:u})}let gl=!1,hm=null;function Ma(e){let t=e.plugins;if(hm!=t){gl=!1,hm=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){gl=!0;break}}return gl}const $r=new ft("history"),_L=new ft("closeHistory");function AL(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Je({key:$r,state:{init(){return new cr(xn.empty,xn.empty,null,0,-1)},apply(t,n,r){return wL(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?gy:r=="historyRedo"?by:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function my(e,t){return(n,r)=>{let i=$r.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let s=SL(i,n,e);s&&r(t?s.scrollIntoView():s)}return!0}}const gy=my(!1,!0),by=my(!0,!0);Ze.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc;if(((e==null?void 0:e.mode)||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new Je({key:new ft("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const i=this.options.limit;if(i==null||i===0){e=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const a=s-i,o=0,u=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const l=r.tr.deleteRange(o,u);return e=!0,l}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:t.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!t.getMeta("paste"))return!1;const o=t.selection.$head.pos,u=s-r,l=o-u,c=o;return t.deleteRange(l,c),!(this.storage.characters({node:t.doc})>r)}})]}});var NL=Ze.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[cL(this.options)]}});Ze.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Je({key:new ft("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=t,s=[];if(!n||!r)return Xe.create(e,[]);let a=0;this.options.mode==="deepest"&&e.descendants((u,l)=>{if(u.isText)return;if(!(i>=l&&i<=l+u.nodeSize-1))return!1;a+=1});let o=0;return e.descendants((u,l)=>{if(u.isText||!(i>=l&&i<=l+u.nodeSize-1))return!1;if(o+=1,this.options.mode==="deepest"&&a-o>0||this.options.mode==="shallowest"&&o>1)return this.options.mode==="deepest";s.push(Lt.node(l,l+u.nodeSize,{class:this.options.className}))}),Xe.create(e,s)}}})]}});var vL=Ze.create({name:"gapCursor",addProseMirrorPlugins(){return[pL()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Fe(he(e,"allowGapCursor",n)))!=null?t:null}}});Ze.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Je({key:new ft("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;const s=this.editor.isEmpty;return e.descendants((a,o)=>{const u=r>=o&&r<=o+a.nodeSize,l=!a.isLeaf&&uu(a);if((u||!this.options.showOnlyCurrent)&&l){const c=[this.options.emptyNodeClass];s&&c.push(this.options.emptyEditorClass);const d=Lt.node(o,o+a.nodeSize,{class:c.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:o,hasAnchor:u}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),Xe.create(e,i)}}})]}});Ze.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new Je({key:new ft("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||Nb(n.selection)||e.view.dragging?null:Xe.create(n.doc,[Lt.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function pm({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(t==null?void 0:t.type)===e}var IL=Ze.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new ft(this.name),n=this.options.node||((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new Je({key:t,appendTransaction:(i,s,a)=>{const{doc:o,tr:u,schema:l}=a,c=t.getState(a),d=o.content.size,f=l.nodes[n];if(c)return u.insert(d,f.create())},state:{init:(i,s)=>{const a=s.tr.doc.lastChild;return!pm({node:a,types:r})},apply:(i,s)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return s;const a=i.doc.lastChild;return!pm({node:a,types:r})}}})]}}),OL=Ze.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>gy(e,t),redo:()=>({state:e,dispatch:t})=>by(e,t)}},addProseMirrorPlugins(){return[AL(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),ML=Ze.create({name:"starterKit",addExtensions(){var e,t,n,r;const i=[];return this.options.bold!==!1&&i.push(sR.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(eR.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(Wd.configure(this.options.bulletList)),this.options.code!==!1&&i.push(uR.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(dR.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(fR.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(NL.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(vL.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(hR.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(Gb.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(OL.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(mR.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(kR.configure(this.options.italic)),this.options.listItem!==!1&&i.push(Kd.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(dy.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&i.push(sy.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&i.push(Gd.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(iL.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(oL.configure(this.options.strike)),this.options.text!==!1&&i.push(uL.configure(this.options.text)),this.options.underline!==!1&&i.push(hy.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(IL.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),RL=ML,LL=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,DL=Jt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",st(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[qb({find:LL,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),PL=DL,BL=Ze.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).every(n=>n):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(t=>t),toggleTextAlign:e=>({editor:t,commands:n})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),FL=BL,jL=Wd,HL=Gd,zL=Kd;const UL=new ft("proofreading"),$L=Ze.create({name:"proofreadingDecoration",addOptions(){return{suggestions:[]}},addProseMirrorPlugins(){return[new Je({key:UL,props:{decorations:e=>{const t=[],{doc:n}=e,r=this.options.suggestions;return n.descendants((i,s)=>{if(!i.isText)return;const a=i.text||"";r.forEach(({original:o,change:u})=>{let l=0;for(;l<a.length;){const c=a.indexOf(o,l);if(c===-1)break;const d=s+c,f=d+o.length;t.push(Lt.inline(d,f,{class:"proofreading-mark",nodeName:"span","data-original":o,"data-suggestion":u,"data-from":d,"data-to":f})),l=c+o.length}})}),Xe.create(n,t)}}})]}}),jt=({active:e,onClick:t,disabled:n,children:r,title:i})=>b.jsx(St,{title:i,children:b.jsx("button",{onClick:t,disabled:n,type:"button",className:`p-2 rounded-md transition-colors duration-150 ${n?"opacity-50 cursor-not-allowed":e?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,children:r})}),VL=({initialContent:e,onChange:t,onBlur:n,proofreadingResults:r=[]})=>{const[i,s]=$.useState(!1),[a,o]=$.useState(""),[u,l]=$.useState(""),[c,d]=$.useState(!1),[f,p]=$.useState(""),[y,k]=$.useState(""),[x,T]=$.useState(null),[O,D]=$.useState(null),[h,E]=$.useState(!1),[g,w]=$.useState(null),N=$.useRef(null),S=GM({extensions:[RL.configure({heading:!1,bulletList:!1,orderedList:!1,listItem:!1}),pR.configure({levels:[1,2,3]}),jL,HL,zL,lL,PL.configure({HTMLAttributes:{class:"rounded-lg max-w-full h-auto object-contain my-4 cursor-pointer"}}),FL.configure({types:["heading","paragraph"]}),qR.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-600 underline cursor-pointer hover:text-blue-800",rel:"noopener noreferrer",target:"_blank"}}),$L.configure({suggestions:r})],content:e,onUpdate:({editor:_})=>{t(_.getHTML())},editorProps:{attributes:{class:"prose max-w-none focus:outline-none min-h-[200px] [&>h1]:text-3xl [&>h1]:font-bold [&>h1]:mb-4 [&>h2]:text-2xl [&>h2]:font-semibold [&>h2]:mb-3 [&>h3]:text-xl [&>h3]:font-semibold [&>h3]:mb-2 [&>p]:mb-4 [&>p]:leading-relaxed [&>ul]:list-disc [&>ul]:pl-6 [&>ul>li]:mb-2 [&>ol]:list-decimal [&>ol]:pl-6 [&>ol>li]:mb-2 [&_img]:max-w-full [&_img]:h-auto [&_img]:rounded-lg"},handleClick:(_,j,X)=>{const M=X.target.closest("a");if(M)return X.preventDefault(),T({href:M.href,text:M.textContent,element:M}),D(null),!0;const pe=X.target.closest("img");if(pe)return X.preventDefault(),D({src:pe.src,alt:pe.alt||"",element:pe}),T(null),E(!1),!0;const ye=X.target.closest(".proofreading-mark");return ye&&ye.dataset.suggestion?(X.preventDefault(),w(ye),!0):(T(null),D(null),w(null),!1)}}});if($.useEffect(()=>{if(S&&(r==null?void 0:r.length)>0){const _=S.extensionManager.extensions.find(j=>j.name==="proofreadingDecoration");_&&(_.options.suggestions=r,S.view.dispatch(S.state.tr))}},[r,S]),$.useEffect(()=>{S&&e!==S.getHTML()&&S.commands.setContent(e,!1)},[e,S]),!S)return null;const C=()=>{if(!g||!S)return;const _=Number(g.dataset.from),j=Number(g.dataset.to),X=g.dataset.suggestion;if(!(!X||isNaN(_)||isNaN(j)))try{S.chain().focus().deleteRange({from:_,to:j}).insertContent(X).run(),w(null),oe.success("Change applied")}catch(M){console.error("Error applying change:",M)}},R=()=>{w(null)},U=()=>{const{from:_,to:j}=S.state.selection,X=S.state.doc.textBetween(_,j," ");l(X),o(""),s(!0)},H=()=>{if(!a){oe.error("Please enter a URL");return}let _=a;/^https?:\/\//i.test(_)||(_="https://"+_),u&&S.state.selection.empty?S.chain().focus().insertContent(`<a href="${_}">${u}</a>`).run():S.chain().focus().setLink({href:_}).run(),s(!1),o(""),l(""),oe.success("Link added")},F=()=>{S.chain().focus().unsetLink().run(),T(null),oe.success("Link removed")},B=()=>{p(""),k(""),d(!0)},v=()=>{if(!f){oe.error("Please enter an image URL");return}let _=f;/^https?:\/\//i.test(_)||(_="https://"+_),S.chain().focus().setImage({src:_,alt:y}).run(),d(!1),p(""),k(""),oe.success("Image added")},V=()=>{O&&O.element&&(O.element.alt=y,t(S.getHTML()),E(!1),oe.success("Alt text updated"))},G=()=>{if(O&&S){const{state:_}=S;let j=null;_.doc.descendants((X,M)=>{if(X.type.name==="image"&&X.attrs.src===O.src)return j=M,!1}),j!==null&&(S.chain().focus().deleteRange({from:j,to:j+1}).run(),D(null),oe.success("Image deleted"))}},ie=()=>{if(p((O==null?void 0:O.src)||""),k((O==null?void 0:O.alt)||""),d(!0),O&&S){const{state:_}=S;let j=null;_.doc.descendants((X,M)=>{if(X.type.name==="image"&&X.attrs.src===O.src)return j=M,!1}),j!==null&&S.chain().focus().deleteRange({from:j,to:j+1}).run()}D(null)};return b.jsxs("div",{className:"border rounded-lg bg-white shadow-sm",children:[b.jsxs("div",{className:"flex items-center gap-1 p-2 border-b bg-gray-50 rounded-t-lg flex-wrap",children:[b.jsx(jt,{title:"Heading 1",active:S.isActive("heading",{level:1}),onClick:()=>S.chain().focus().toggleHeading({level:1}).run(),children:b.jsx(mE,{className:"w-4 h-4"})}),b.jsx(jt,{title:"Heading 2",active:S.isActive("heading",{level:2}),onClick:()=>S.chain().focus().toggleHeading({level:2}).run(),children:b.jsx(bE,{className:"w-4 h-4"})}),b.jsx(jt,{title:"Heading 3",active:S.isActive("heading",{level:3}),onClick:()=>S.chain().focus().toggleHeading({level:3}).run(),children:b.jsx(EE,{className:"w-4 h-4"})}),b.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),b.jsx(jt,{title:"Bold (Ctrl+B)",active:S.isActive("bold"),onClick:()=>S.chain().focus().toggleBold().run(),children:b.jsx(fE,{className:"w-4 h-4"})}),b.jsx(jt,{title:"Italic (Ctrl+I)",active:S.isActive("italic"),onClick:()=>S.chain().focus().toggleItalic().run(),children:b.jsx(TE,{className:"w-4 h-4"})}),b.jsx(jt,{title:"Underline (Ctrl+U)",active:S.isActive("underline"),onClick:()=>S.chain().focus().toggleUnderline().run(),children:b.jsx(UE,{className:"w-4 h-4"})}),b.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),b.jsx(jt,{title:"Bullet List",active:S.isActive("bulletList"),onClick:()=>S.chain().focus().toggleBulletList().run(),children:b.jsx(_E,{className:"w-4 h-4"})}),b.jsx(jt,{title:"Numbered List",active:S.isActive("orderedList"),onClick:()=>S.chain().focus().toggleOrderedList().run(),children:b.jsx(CE,{className:"w-4 h-4"})}),b.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),b.jsx(jt,{title:"Align Left",active:S.isActive({textAlign:"left"}),onClick:()=>S.chain().focus().setTextAlign("left").run(),children:b.jsx(uE,{className:"w-4 h-4"})}),b.jsx(jt,{title:"Align Center",active:S.isActive({textAlign:"center"}),onClick:()=>S.chain().focus().setTextAlign("center").run(),children:b.jsx(aE,{className:"w-4 h-4"})}),b.jsx(jt,{title:"Align Right",active:S.isActive({textAlign:"right"}),onClick:()=>S.chain().focus().setTextAlign("right").run(),children:b.jsx(cE,{className:"w-4 h-4"})}),b.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),b.jsx(jt,{title:"Add Link",active:S.isActive("link"),onClick:U,children:b.jsx(lf,{className:"w-4 h-4"})}),b.jsx(jt,{title:"Add Image",onClick:B,children:b.jsx(pu,{className:"w-4 h-4"})}),b.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),b.jsx(jt,{title:"Undo (Ctrl+Z)",disabled:!S.can().undo(),onClick:()=>S.chain().focus().undo().run(),children:b.jsx(VE,{className:"w-4 h-4"})}),b.jsx(jt,{title:"Redo (Ctrl+Y)",disabled:!S.can().redo(),onClick:()=>S.chain().focus().redo().run(),children:b.jsx(DE,{className:"w-4 h-4"})})]}),x&&b.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-50 border-b text-sm",children:[b.jsx(lf,{className:"w-4 h-4 text-blue-600"}),b.jsx("a",{href:x.href,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate flex-1",children:x.href}),b.jsx(St,{title:"Open Link",children:b.jsx("a",{href:x.href,target:"_blank",rel:"noopener noreferrer",className:"p-1 hover:bg-blue-100 rounded",children:b.jsx(ss,{className:"w-4 h-4 text-blue-600"})})}),b.jsx(St,{title:"Remove Link",children:b.jsx("button",{onClick:F,className:"p-1 hover:bg-red-100 rounded",children:b.jsx(qr,{className:"w-4 h-4 text-red-500"})})})]}),O&&b.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-purple-50 border-b text-sm",children:[b.jsx(pu,{className:"w-4 h-4 text-purple-600"}),h?b.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[b.jsx(Gt,{size:"small",value:y,onChange:_=>k(_.target.value),placeholder:"Alt text",className:"flex-1"}),b.jsx(St,{title:"Save",children:b.jsx("button",{onClick:V,className:"p-1 hover:bg-green-100 rounded",children:b.jsx(Xy,{className:"w-4 h-4 text-green-600"})})}),b.jsx(St,{title:"Cancel",children:b.jsx("button",{onClick:()=>E(!1),className:"p-1 hover:bg-gray-100 rounded",children:b.jsx(qr,{className:"w-4 h-4 text-gray-500"})})})]}):b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"text-purple-700 truncate flex-1",children:O.alt||"No alt text"}),b.jsx(St,{title:"Edit Alt Text",children:b.jsx("button",{onClick:()=>{k(O.alt||""),E(!0)},className:"p-1 hover:bg-purple-100 rounded",children:b.jsx(Jy,{className:"w-4 h-4 text-purple-600"})})}),b.jsx(St,{title:"Replace Image",children:b.jsx("button",{onClick:ie,className:"p-1 hover:bg-blue-100 rounded",children:b.jsx(pu,{className:"w-4 h-4 text-blue-600"})})}),b.jsx(St,{title:"Delete Image",children:b.jsx("button",{onClick:G,className:"p-1 hover:bg-red-100 rounded",children:b.jsx(Tm,{className:"w-4 h-4 text-red-500"})})})]})]}),g&&b.jsxs("div",{ref:N,className:"flex items-center gap-2 px-3 py-2 bg-amber-50 border-b text-sm",children:[b.jsxs("span",{className:"text-amber-700",children:[b.jsx("strong",{children:"Suggestion:"})," ",g.dataset.suggestion]}),b.jsxs("div",{className:"flex gap-1 ml-auto",children:[b.jsx("button",{onClick:C,className:"px-2 py-1 bg-green-500 text-white rounded text-xs hover:bg-green-600",children:"Accept"}),b.jsx("button",{onClick:R,className:"px-2 py-1 bg-gray-200 text-gray-700 rounded text-xs hover:bg-gray-300",children:"Reject"})]})]}),b.jsx("div",{className:"p-4",onClick:()=>S.chain().focus().run(),children:b.jsx(UM,{editor:S})}),b.jsx(Xn,{title:"Add Link",open:i,onCancel:()=>s(!1),onOk:H,okText:"Add Link",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link Text (optional)"}),b.jsx(Gt,{value:u,onChange:_=>l(_.target.value),placeholder:"Display text for the link"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),b.jsx(Gt,{value:a,onChange:_=>o(_.target.value),placeholder:"https://example.com"})]})]})}),b.jsx(Xn,{title:"Add Image",open:c,onCancel:()=>d(!1),onOk:v,okText:"Add Image",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),b.jsx(Gt,{value:f,onChange:_=>p(_.target.value),placeholder:"https://example.com/image.jpg"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alt Text (optional)"}),b.jsx(Gt,{value:y,onChange:_=>k(_.target.value),placeholder:"Description of the image"})]})]})})]})},yy=$.createContext(null),qL=({children:e,value:t})=>b.jsx(yy.Provider,{value:t,children:e}),WL=()=>{const e=$.useContext(yy);if(!e)throw new Error("useEditorContext must be used within an EditorProvider");return e},KL=({section:e,index:t})=>{var O;const[n,r]=$.useState(!1),{userPlan:i,editingIndex:s,setEditingIndex:a,handleDelete:o,handleRegenerate:u,handleSectionChange:l,handleSectionTitleChange:c,navigateToPricing:d,getSectionImage:f,proofreadingResults:p}=WL(),y=i==="free"&&t>1,k=s===t,x=f==null?void 0:f(e.id),T=p||[];return b.jsxs(Ke.div,{className:"relative border rounded-xl p-5 shadow-sm bg-white mb-6 hover:shadow-md transition-shadow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:t*.05},children:[y&&b.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm z-10 rounded-xl flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx(Zy,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),b.jsx("p",{className:"text-gray-600 font-medium",children:"Upgrade to unlock"}),b.jsx("button",{onClick:D=>{D.stopPropagation(),d()},className:"mt-2 px-4 py-1 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700",children:"Upgrade Now"})]})}),b.jsxs("div",{className:"absolute top-3 right-3 flex gap-2 z-20",children:[b.jsx(St,{title:"Regenerate Section",children:b.jsx("button",{onClick:D=>{D.stopPropagation(),u(t)},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:b.jsx(xm,{className:"w-4 h-4 text-gray-500"})})}),b.jsx(St,{title:"Delete Section",children:b.jsx("button",{onClick:D=>{D.stopPropagation(),o(t)},className:"p-2 rounded-lg hover:bg-red-50 transition-colors",children:b.jsx(Tm,{className:"w-4 h-4 text-red-500"})})})]}),b.jsx("div",{className:"mb-3 pr-20",children:n?b.jsx(Gt,{value:e.title,onChange:D=>c(t,D.target.value),onBlur:()=>r(!1),onPressEnter:()=>r(!1),autoFocus:!0,className:"text-xl font-bold"}):b.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:D=>{D.stopPropagation(),r(!0)},children:[b.jsx("h2",{className:"text-xl font-bold",children:e.title}),b.jsx(Tl,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),e.keywords&&e.keywords.length>0&&b.jsx("div",{className:"flex gap-2 flex-wrap mb-4",children:e.keywords.map((D,h)=>b.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-md text-xs",children:["#",D]},h))}),x&&b.jsxs("div",{className:"mb-4",children:[b.jsx("img",{src:x.url,alt:x.altText||e.title,className:"w-full max-h-80 object-cover rounded-lg shadow-sm"}),((O=x.attribution)==null?void 0:O.name)&&b.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-center",children:["Photo by"," ",b.jsx("a",{href:x.attribution.profile,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:x.attribution.name})]})]}),k?b.jsx("div",{className:"mt-3",onClick:D=>D.stopPropagation(),children:b.jsx(VL,{initialContent:e.content,onChange:D=>l(t,{content:D}),onBlur:()=>a(null),proofreadingResults:T})}):b.jsxs("div",{className:"cursor-pointer group",onClick:()=>!y&&a(t),children:[b.jsx("div",{className:"prose max-w-none blog-content",dangerouslySetInnerHTML:{__html:e.content}}),!y&&b.jsx("div",{className:"mt-2 text-center opacity-0 group-hover:opacity-100 transition-opacity",children:b.jsx("span",{className:"text-sm text-gray-500",children:"Click to edit"})})]})]},e.id||t)},{TextArea:YL}=Gt;function ka(e){if(!e)return"";const t=new Wa({headingStyle:"atx",bulletListMarker:"-"});return t.keep(["p","div","iframe","table","tr","th","td","img"]),t.turndown(e)}function GL(e){var l,c;if(!e)return{title:"",description:"",sections:[],faq:null};const n=new DOMParser().parseFromString(e,"text/html");let r="",i="";const s=[],a=n.querySelector(".blog-title");a&&(r=((l=a.textContent)==null?void 0:l.trim())||"");const o=n.querySelector(".blog-description, .meta-description");return o&&(i=((c=o.textContent)==null?void 0:c.trim())||""),n.querySelectorAll(".blog-section").forEach((d,f)=>{var k,x,T;const p=((x=(k=d.querySelector(".section-title"))==null?void 0:k.textContent)==null?void 0:x.trim())||`Section ${f+1}`,y=((T=d.querySelector(".section-content"))==null?void 0:T.innerHTML)||"";s.push({id:d.id||`section-${f}`,title:p,content:y,keywords:[],summary:"",revealed:!1,originalContent:y})}),{title:r,description:i,sections:s,faq:null}}function QL(e,t=[]){if(!e)return[];const n=/^##\s+(.+)$/gm;let r,i="";const s=[];for(;(r=n.exec(e))!==null;)s.push({title:r[1].trim(),index:r.index,fullMatch:r[0]});if(s.length===0){const l=new Ka.Converter().makeHtml(e);return[{id:"section-0",title:"Content",content:l,keywords:t,summary:"",revealed:!0,originalContent:l}]}s[0].index>0&&(i=e.substring(0,s[0].index).trim());const a=new Ka.Converter;return s.map((u,l)=>{const c=u.index+u.fullMatch.length,d=l<s.length-1?s[l+1].index:e.length,f=e.substring(c,d).trim(),p=l===0&&i?i+`

`+f:f,y=a.makeHtml(p);return{id:`section-${l}`,title:u.title,content:y,keywords:t,summary:"",revealed:!1,originalContent:y}})}const XL=({blog:e,activeTab:t,setActiveTab:n,content:r,setContent:i,title:s,proofreadingResults:a,handleReplace:o,isSavingKeyword:u,humanizedContent:l,showDiff:c,handleAcceptHumanizedContent:d,handleAcceptOriginalContent:f,editorContent:p,unsavedChanges:y,setUnsavedChanges:k,wordpressMetadata:x,handleSubmit:T})=>{var tr;const[O,D]=$.useState(!0),[h,E]=$.useState(!1),[g,w]=$.useState(null),[N,S]=$.useState(null),[C,R]=$.useState(!1),[U,H]=$.useState(null),[F,B]=$.useState(!1),[v,V]=$.useState(null),[G,ie]=$.useState(!1),[_,j]=$.useState([]),[X,M]=$.useState(null),[pe,ye]=$.useState(""),[de,Ie]=$.useState(""),[J,Ue]=$.useState(""),[$e,Ye]=$.useState(""),[at,mt]=$.useState([]),[_r,Be]=$.useState(!1),[An,jn]=$.useState(!1),rt=Cc(),{handlePopup:sn}=mm(),En=Tn(ae=>ae.auth.user),wt=(tr=En==null?void 0:En.subscription)==null?void 0:tr.plan,Nt=$.useRef(!1),kn=bm().pathname===`/blog-editor/${e==null?void 0:e._id}`,er=zs(),W=Ry(),re=$.useCallback(ae=>!(e!=null&&e.images)||!Array.isArray(e.images)?null:e.images.find(fe=>fe.sectionId===ae&&fe.role==="section"),[e==null?void 0:e.images]),ge=$.useMemo(()=>{if(pe!==J||de!==$e||_.length!==at.length)return!0;for(let ae=0;ae<_.length;ae++){const fe=_[ae],Re=at.find(Le=>Le.id===fe.id);if(!Re||fe.content!==Re.originalContent||fe.title!==Re.title)return!0}return!1},[pe,de,_,J,$e,at]);$.useEffect(()=>{k(ge)},[ge,k]),$.useEffect(()=>{var ae;if(e){let fe={title:"",description:"",sections:[],faq:null};if(e.content&&e.content.includes("<article")||(ae=e.content)!=null&&ae.includes("<section"))fe=GL(e.content);else if(e.contentJSON){const Re=typeof e.contentJSON=="string"?JSON.parse(e.contentJSON):e.contentJSON;fe.title=Re.title||e.title||"",fe.description=Re.description||"",Re.sections&&Array.isArray(Re.sections)&&(fe.sections=Re.sections.map((Le,Nn)=>{var Hi;const Zs=new Ka.Converter,ji=(Hi=Le.content)!=null&&Hi.includes("<")?Le.content:Zs.makeHtml(Le.content||"");return ce(P({},Le),{id:Le.id||`section-${Nn}`,revealed:Le.revealed||!1,content:ji,originalContent:ji})})),Re.faq&&(fe.faq=Re.faq)}else e.content&&(fe.title=e.title||"",fe.sections=QL(e.content,e.keywords||[]));ye(fe.title),Ie(fe.description),j(fe.sections),M(fe.faq),Ue(fe.title),Ye(fe.description),mt(fe.sections.map(Re=>P({},Re)))}},[e]),$.useCallback(()=>({title:pe,description:de,sections:_.map(ae=>({id:ae.id,title:ae.title,content:ka(ae.content),keywords:ae.keywords||[],summary:ae.summary||"",revealed:ae.revealed})),faq:X}),[pe,de,_,X]);const ke=$.useCallback(()=>{let ae="";return _.forEach(fe=>{ae+=`## ${fe.title}

`,ae+=ka(fe.content)+`

`}),X&&G&&(ae+=`## ${X.heading}

`,X.qa.forEach(fe=>{ae+=`### ${fe.question}

${fe.answer}

`})),ae.trim()},[_,X,G]);$.useEffect(()=>{const ae=ke();i&&i(ae)},[_,G,ke,i]);const Ne=ae=>{sn({title:"Delete Section",description:"Are you sure you want to delete this section? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:()=>{j(fe=>fe.filter((Re,Le)=>Le!==ae)),oe.success("Section deleted")}})},gt=(ae,fe)=>{j(Re=>Re.map((Le,Nn)=>Nn===ae?P(P({},Le),fe):Le))},qt=(ae,fe)=>{j(Re=>Re.map((Le,Nn)=>Nn===ae?ce(P({},Le),{title:fe}):Le))},vt=ae=>ot(null,null,function*(){if(!(e!=null&&e._id)){oe.error("Blog ID is missing.");return}if(wt==="free"||wt==="basic"){rt("/pricing");return}const fe=_[ae];H(ae),S(ka(fe.content));const Re={contentPart:ka(fe.content).trim(),sectionIndex:ae,sectionTitle:fe.title};sn({title:"Regenerate Section",description:b.jsxs(b.Fragment,{children:["Do you want to regenerate this section?"," ",b.jsx("span",{className:"font-bold",children:"This will use your credits."})]}),confirmText:"Yes, Regenerate",cancelText:"Cancel",onConfirm:()=>ot(null,null,function*(){try{E(!0);const Le=yield ym(e._id,Re);Le.data?(w(Le.data),R(!0)):oe.error("No content received from regeneration.")}catch(Le){console.error("Regeneration failed:",Le),oe.error(Le.message||"Regeneration failed.")}finally{E(!1)}})})}),an=()=>ot(null,null,function*(){if(!(e!=null&&e._id)){oe.error("Blog ID is missing.");return}const ae={createNew:!0};try{yield er(Dy({id:e._id,payload:ae})),W.invalidateQueries({queryKey:["blogs"]}),W.invalidateQueries({queryKey:["blog",e._id]}),k(!1),rt("/blogs")}catch(fe){console.error("Retry failed:",fe),oe.error(fe.message||"Retry failed.")}}),on=()=>ot(null,null,function*(){var Re;if(wt==="free"||wt==="basic"){rt("/pricing");return}const fe={gemini:10,chatgpt:30,claude:50}[(Re=e==null?void 0:e.aiModel)==null?void 0:Re.toLowerCase()]||10;sn({title:"Regenerate Blog",description:b.jsxs(b.Fragment,{children:["Are you sure you want to regenerate this blog?"," ",b.jsxs("span",{className:"font-bold",children:["This will cost ",fe," credits"]})]}),onConfirm:an})}),se=()=>{if(!g||U===null)return;const ae=new Ka.Converter,fe=g.includes("<")?g:ae.makeHtml(g);j(Re=>Re.map((Le,Nn)=>Nn===U?ce(P({},Le),{content:fe}):Le)),oe.success("Section regenerated successfully!"),R(!1),w(null),S(null),H(null)},Te=()=>{R(!1),w(null),S(null),H(null),oe.info("Regeneration discarded.")},Oe=()=>ot(null,null,function*(){try{const ae=ke();yield navigator.clipboard.writeText(ae),oe.success("Content copied to clipboard!")}catch(ae){oe.error("Failed to copy content.")}}),ht=Ly(({currentLocation:ae,nextLocation:fe})=>ge&&ae.pathname!==fe.pathname);$.useEffect(()=>{ht.state==="blocked"&&(window.confirm("You have unsaved changes, are you sure you want to leave?")?ht.proceed():ht.reset())},[ht]),$.useEffect(()=>{D(!0);const ae=setTimeout(()=>D(!1),300);return()=>clearTimeout(ae)},[]),$.useEffect(()=>{(e==null?void 0:e.status)==="failed"&&!Nt.current&&(oe.error("Your blog generation failed. You can write blog manually."),Nt.current=!0)},[e==null?void 0:e.status]);const un=$.useMemo(()=>({userPlan:wt,editingIndex:v,setEditingIndex:V,handleDelete:Ne,handleRegenerate:vt,handleSectionChange:gt,handleSectionTitleChange:qt,navigateToPricing:()=>rt("/pricing"),getSectionImage:re,proofreadingResults:a||[]}),[wt,v,Ne,vt,gt,qt,rt,re,a]),It=()=>X?b.jsxs(Ke.div,{className:"relative border rounded-xl p-5 shadow-sm bg-white mb-6 cursor-pointer hover:shadow-md transition-shadow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:()=>ie(!0),children:[!G&&b.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-sm z-10 rounded-xl flex items-center justify-center",children:b.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700",children:"Click to Reveal FAQ"})}),b.jsx("h2",{className:"text-2xl font-bold mb-4",children:X.heading}),b.jsx("div",{className:"space-y-6",children:X.qa.map((ae,fe)=>b.jsxs("div",{children:[b.jsx("h3",{className:"font-semibold text-lg",children:ae.question}),b.jsx("p",{className:"text-gray-600 mt-1",children:ae.answer})]},fe))})]}):null,Nr=()=>b.jsxs("div",{className:"bg-white border-b border-gray-200 shadow-sm px-4 py-3 flex flex-wrap items-center justify-between gap-2",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("span",{className:"text-gray-600 text-sm",children:[b.jsx("span",{className:"font-semibold",children:_.length})," sections"]}),ge&&b.jsxs("span",{className:"text-orange-600 text-sm font-medium flex items-center gap-1",children:[b.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),"Unsaved changes"]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(St,{title:"Copy All Content",children:b.jsxs("button",{onClick:Oe,className:"px-3 py-1.5 rounded-lg border border-gray-200 hover:bg-gray-50 flex items-center gap-2 text-sm",children:[b.jsx(eE,{className:"w-4 h-4"}),b.jsx("span",{className:"hidden sm:inline",children:"Copy"})]})}),b.jsx(St,{title:"Preview",children:b.jsxs("button",{onClick:()=>B(!0),className:"px-3 py-1.5 rounded-lg border border-gray-200 hover:bg-gray-50 flex items-center gap-2 text-sm",children:[b.jsx(Sc,{className:"w-4 h-4"}),b.jsx("span",{className:"hidden sm:inline",children:"Preview"})]})}),!kn&&b.jsx(St,{title:"Regenerate All",children:b.jsxs("button",{onClick:on,className:"px-3 py-1.5 rounded-lg border border-gray-200 hover:bg-gray-50 flex items-center gap-2 text-sm",children:[b.jsx(xm,{className:"w-4 h-4"}),b.jsx("span",{className:"hidden sm:inline",children:"Regenerate"})]})})]})]}),vr=()=>O||(e==null?void 0:e.status)==="pending"?b.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-300px)] bg-white",children:b.jsx(La,{})}):b.jsxs("div",{className:"p-4 sm:p-6 bg-white min-h-screen",children:[b.jsx("div",{className:"mb-4",children:_r?b.jsx(Gt,{value:pe,onChange:ae=>ye(ae.target.value),onBlur:()=>Be(!1),onPressEnter:()=>Be(!1),autoFocus:!0,className:"text-3xl font-bold w-full",placeholder:"Enter blog title..."}):b.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>Be(!0),children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:pe||"Untitled Blog"}),b.jsx(Tl,{className:"w-5 h-5 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),b.jsx("div",{className:"mb-8",children:An?b.jsx(YL,{value:de,onChange:ae=>Ie(ae.target.value),onBlur:()=>jn(!1),autoFocus:!0,autoSize:{minRows:2,maxRows:6},className:"text-gray-600",placeholder:"Enter blog description..."}):b.jsxs("div",{className:"flex items-start gap-2 group cursor-pointer",onClick:()=>jn(!0),children:[b.jsx("p",{className:"text-gray-600 flex-1",children:de||"Click to add description..."}),b.jsx(Tl,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity mt-1"})]})}),b.jsx(qL,{value:un,children:b.jsx("div",{className:"space-y-6",children:_.map((ae,fe)=>b.jsx(KL,{section:ae,index:fe},ae.id||fe))})}),It()]});return b.jsxs(Ke.div,{className:"flex-1 bg-gray-50",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[(h||u)&&b.jsx("div",{className:"fixed inset-0 bg-white/80 flex items-center justify-center z-50",children:b.jsx(La,{})}),C&&b.jsx(Ke.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:b.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto mx-4",children:[b.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Regenerated Content"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Original"}),b.jsx("div",{className:"p-4 bg-gray-100 rounded-md prose max-w-none",children:b.jsx(Ol,{remarkPlugins:[Rl],rehypePlugins:[zl],children:N||"No content"})})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Regenerated"}),b.jsx("div",{className:"p-4 bg-green-50 rounded-md prose max-w-none",children:b.jsx(Ol,{remarkPlugins:[Rl],rehypePlugins:[zl],children:g})})]})]}),b.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[b.jsx("button",{onClick:Te,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Reject"}),b.jsx("button",{onClick:se,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Accept"})]})]})}),b.jsx(Xn,{open:F,onCancel:()=>B(!1),footer:null,width:900,centered:!0,title:b.jsxs("div",{className:"flex justify-between items-center w-full pr-8",children:[b.jsx("span",{className:"text-xl font-bold",children:"Preview"}),b.jsx(pt,{type:"primary",onClick:Oe,children:"Copy All"})]}),children:b.jsxs("div",{className:"max-h-[70vh] overflow-y-auto px-2",children:[b.jsx("h1",{className:"text-3xl font-bold mb-2",children:pe}),de&&b.jsx("p",{className:"text-gray-600 mb-6",children:de}),_.map((ae,fe)=>b.jsxs("div",{className:"mb-10",children:[b.jsx("h2",{className:"text-2xl font-bold mb-4",children:ae.title}),b.jsx("div",{className:"prose max-w-none blog-content",dangerouslySetInnerHTML:{__html:ae.content}})]},fe)),X&&b.jsxs("div",{className:"mt-10",children:[b.jsx("h2",{className:"text-2xl font-bold mb-4",children:X.heading}),X.qa.map((ae,fe)=>b.jsxs("div",{className:"mt-4",children:[b.jsx("h3",{className:"font-semibold text-lg",children:ae.question}),b.jsx("p",{className:"text-gray-700 mt-1",children:ae.answer})]},fe))]}),_.length===0&&b.jsx("div",{className:"text-center py-10 text-gray-500",children:"No sections available."})]})}),b.jsxs("div",{className:"flex flex-col h-full",children:[b.jsx("div",{className:"sticky top-0 z-50 bg-white shadow-sm",children:Nr()}),b.jsx("div",{className:"flex-1 overflow-auto",children:vr()})]})]})},XD=()=>{var an,on;const{id:e}=Py(),t=zs(),n=Tn(se=>se.blog.selectedBlog),{metadata:r}=Tn(se=>se.wordpress),[i,s]=$.useState("Normal"),[a,o]=$.useState(!0),[u,l]=$.useState([]),[c,d]=$.useState(""),[f,p]=$.useState(""),[y,k]=$.useState([]),[x,T]=$.useState(!1),[O,D]=$.useState(null),[h,E]=$.useState(!1),[g,w]=$.useState(null),[N,S]=$.useState(!1),[C,R]=$.useState({category:"",includeTableOfContents:!1}),[U,H]=$.useState(!e),[F,B]=$.useState(!1),[v,V]=$.useState(""),[G,ie]=$.useState(!1),[_,j]=$.useState(""),[X,M]=$.useState(!1),pe=()=>M(se=>!se),ye=Tn(se=>se.auth.user),de=(on=ye==null?void 0:ye.plan)!=null?on:(an=ye==null?void 0:ye.subscription)==null?void 0:an.plan,Ie=Cc(),Ue=bm().pathname===`/blog-editor/${n==null?void 0:n._id}`,[$e,Ye]=$.useState(!1),[at,mt]=$.useState(!1),{Title:_r}=By,[Be,An]=$.useState({title:"",topic:"",tone:"Informative",focusKeywords:[],keywords:[],userDefinedLength:1200,focusKeywordInput:"",keywordInput:"",template:""}),[jn,rt]=$.useState({title:!1,topic:!1,tone:!1,focusKeywords:!1,keywords:!1,userDefinedLength:!1,template:!1});$.useEffect(()=>{const se=Te=>{at&&(Te.preventDefault(),Te.returnValue="You have unsaved changes. Are you sure you want to leave?")};return window.addEventListener("beforeunload",se),()=>window.removeEventListener("beforeunload",se)},[at]),$.useEffect(()=>{e&&(o(!0),t(af(e)).unwrap().catch(()=>oe.error("Failed to load blog.")).finally(()=>o(!1)))},[e,t]),$.useEffect(()=>{var se,Te;n&&(l(n.keywords||[]),p(n.title||""),d((se=n.content)!=null?se:""),w(((Te=n.posting)==null?void 0:Te.items)||{}),R({category:n.category||"",includeTableOfContents:n.includeTableOfContents||!1,title:n.title||""}),mt(!1))},[n]),$.useEffect(()=>{window.scrollTo(0,0)},[]);const sn=(se,Te)=>{if(typeof se!="string"||typeof Te!="string"){oe.error("Invalid suggestion format.");return}const Oe=new RegExp(se.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");d(ht=>ht.replace(Oe,Te)),k(ht=>ht.filter(un=>un.original!==se))},En=se=>ot(null,null,function*(){var Oe,ht,un,It,Nr,vr,tr;if(S(!0),!f){oe.error("Blog title is missing."),S(!1);return}if(!c.trim()){oe.error("Blog content is empty."),S(!1);return}if(!se.categories){oe.error("Please select a category."),S(!1);return}const Te=se.categories||C.categories;if(!Te){oe.error("Please select a category."),S(!1);return}try{const ae={type:se.type.platform,blogId:n._id,includeTableOfContents:(Oe=se.includeTableOfContents)!=null?Oe:!1,category:Te,removeWaterMark:(ht=se.removeWaterMark)!=null?ht:!0},fe=g?yield uf.put("/integrations/post",ae):yield uf.post("/integrations/post",ae),Re=((Nr=(It=(un=fe==null?void 0:fe.data)==null?void 0:un.posting)==null?void 0:It.items)==null?void 0:Nr[se.type.platform])||null;w(Le=>ce(P({},Le),{[se.type.platform]:Re})),oe.success(`Blog ${g!=null&&g[se.type.platform]?"updated":"posted"} successfully!`)}catch(ae){oe.error(((tr=(vr=ae.response)==null?void 0:vr.data)==null?void 0:tr.message)||`Failed to ${g?"update":"post to"} WordPress.`)}finally{S(!1)}}),wt=se=>se.trim().split(/\s+/).filter(Te=>Te.length>0).length,Nt=Te=>ot(null,[Te],function*({metadata:se}){if(de==="free"||de==="basic"){Ie("/pricing");return}if(!f.trim()){oe.error("Blog title is required.");return}E(!0);try{const Oe=yield t(of({id:n._id,title:f,content:c,published:n==null?void 0:n.published,focusKeywords:n==null?void 0:n.focusKeywords,keywords:u,seoMetadata:se?{title:se.title,description:se.description}:(n==null?void 0:n.seoMetadata)||{title:"",description:""}})).unwrap();return oe.success("Blog updated successfully"),mt(!1),o(!0),setTimeout(()=>{t(af(e)).unwrap().finally(()=>o(!1))},2e3),Oe}catch(Oe){console.error("Error updating the blog:",Oe),oe.error("Failed to save blog.")}finally{E(!1)}}),Ar=()=>ot(null,null,function*(){E(!0);try{yield t(of({id:n._id,title:f,content:c,published:n==null?void 0:n.published,focusKeywords:n==null?void 0:n.focusKeywords,keywords:u,seoMetadata:r?{title:r.title,description:r.description}:(n==null?void 0:n.seoMetadata)||{title:"",description:""}})).unwrap();const se=yield ym(n._id);se.data?(D(se.data),T(!0),oe.success("Review the suggested content.")):oe.error("No content received from retry."),mt(!1)}catch(se){console.error("Error updating the blog:",se),oe.error("Failed to save blog.")}finally{E(!1)}}),kn=()=>{O&&(d(O),oe.success("Content updated successfully!")),T(!1),D(null)},er=()=>{T(!1),D(null),oe.info("Changes discarded.")},W=()=>{var Te,Oe,ht;(!((Te=Be.title)!=null&&Te.trim())||!((Oe=Be.topic)!=null&&Oe.trim())||!((ht=Be.tone)!=null&&ht.trim())||!Be.template||!Be.userDefinedLength||Be.userDefinedLength<=0||!Be.focusKeywords||Be.focusKeywords.length===0||!Be.keywords||Be.keywords.length===0)&&!e&&Ie("/toolbox"),H(!1)},re=()=>ot(null,null,function*(){var Oe,ht,un;const se={title:(Oe=Be.title)==null?void 0:Oe.trim(),topic:(ht=Be.topic)==null?void 0:ht.trim(),tone:(un=Be.tone)==null?void 0:un.trim(),focusKeywords:Be.focusKeywords,keywords:Be.keywords,userDefinedLength:Number(Be.userDefinedLength),template:Be.template,aiModel:"gemini",isCheckedGeneratedImages:!1,isUnsplashActive:!1},Te={};if(se.title||(Te.title=!0),se.topic||(Te.topic=!0),se.tone||(Te.tone=!0),se.template||(Te.template=!0),(!se.userDefinedLength||se.userDefinedLength<=0)&&(Te.userDefinedLength=!0),(!se.focusKeywords||se.focusKeywords.length===0)&&(Te.focusKeywords=!0),(!se.keywords||se.keywords.length===0)&&(Te.keywords=!0),Object.keys(Te).length>0){rt(It=>P(P({},It),Te)),oe.error("Please fill all required fields correctly.");return}try{const It=yield t(jy({blogData:se,user:ye})).unwrap();H(!1),Ie(`/blog-editor/${It._id}`)}catch(It){console.error("Failed to create blog:",It),oe.error((It==null?void 0:It.message)||"Failed to create blog")}}),ge=se=>{const Te=se.target.value;wt(Te)<=60?(p(Te),R(Oe=>ce(P({},Oe),{title:Te}))):oe.error("Title exceeds 60 words.")},ke=()=>{if(!c.trim()){oe.error("Please write some content to preview.");return}Ye(!0)},Ne=()=>Ye(!1),gt=()=>c.trim()?`<div class="prose prose-lg"><h1>${f||Be.topic||"Your Blog Title"}</h1>${c}</div>`:`<h1>${f||"Preview Title"}</h1><p>No content available for preview.</p>`,qt=$.useCallback(()=>{d(v),B(!1),s("Normal"),oe.success("Humanized content applied successfully!")},[v,d,B,s]),vt=$.useCallback(()=>{B(!1),s("Normal"),oe.info("Retained original content.")},[B,s]);return a||N?b.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-white/90 backdrop-blur-sm",children:b.jsx(La,{})}):b.jsxs(b.Fragment,{children:[b.jsx(Fy,{children:b.jsx("title",{children:"Blog Editor | GenWrite"})}),b.jsxs("div",{className:`flex flex-col max-h-screen overflow-y-hidden ${U?"blur-sm":""}`,children:[b.jsx(Xn,{open:x,centered:!0,footer:[b.jsxs("div",{className:"flex justify-end gap-3 w-full",children:[b.jsx(pt,{onClick:er,className:"px-3 sm:px-4 py-2 bg-gray-100 text-gray-600 hover:bg-gray-200 rounded-md",children:"Reject"},"reject"),b.jsx(pt,{type:"primary",onClick:kn,className:"px-3 sm:px-4 py-2 rounded-md",children:"Accept"},"accept")]},"footer")],onCancel:er,width:"100%",className:"rounded-lg max-w-[600px] sm:max-w-[700px] md:max-w-[800px]",children:b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsx(_r,{level:3,className:"text-lg ml-5 sm:text-xl !mb-0 text-gray-800",children:"Suggested Content"}),b.jsx("div",{className:"p-5 custom-scroll border border-gray-200 rounded-lg shadow-inner max-h-[70vh] overflow-y-auto prose prose-sm sm:prose-base leading-relaxed text-gray-700",children:b.jsx(Ol,{remarkPlugins:[Rl],rehypePlugins:[zl],components:{a:({href:se,children:Te})=>b.jsx("a",{href:se,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 font-medium hover:underline",children:Te}),strong:({children:se})=>b.jsx("strong",{className:"font-semibold text-gray-900",children:se}),p:({children:se})=>b.jsx("p",{className:"mb-3 last:mb-0",children:se}),li:({children:se})=>b.jsx("li",{className:"mb-1",children:se})},children:O})})]})}),b.jsx(Xn,{title:"Blog Preview",open:$e,onCancel:Ne,footer:[b.jsx("button",{onClick:Ne,className:"px-3 sm:px-4 py-2 bg-gray-400 text-white rounded-md hover:bg-gray-500 focus:outline-none focus:bg-gray-500","aria-label":"Close preview",children:"Close"},"close")],width:"100%",className:"rounded-lg max-w-[700px] sm:max-w-[800px] md:max-w-[900px]",centered:!0,children:b.jsx("div",{className:"prose prose-sm sm:prose-base max-w-none p-4 sm:p-6",dangerouslySetInnerHTML:{__html:gt()}})}),b.jsxs("div",{className:"flex flex-col md:flex-row flex-grow overflow-hidden",children:[b.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[b.jsxs("header",{className:"bg-white shadow-lg border rounded-tl-lg border-gray-200 p-4 sm:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[b.jsxs("div",{className:"flex items-center gap-4 mt-5 lg:mt-0 w-full",children:[b.jsx("div",{className:"w-8 sm:w-10 h-8 sm:h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:b.jsx(Ta,{className:"w-4 sm:w-5 h-4 sm:h-5 text-white"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:e?"Edit Blog":"Create New Blog"}),b.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Write and optimize your content"})]}),b.jsx("button",{onClick:pe,className:"md:hidden ml-auto",children:!X&&b.jsx(ME,{})})]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto",children:[Ue&&b.jsxs("button",{onClick:ke,className:"px-3 sm:px-4 py-2 bg-gradient-to-r from-[#1B6FC9] to-[#4C9FE8] text-white rounded-lg hover:from-[#1B6FC9]/90 hover:to-[#4C9FE8]/90 flex items-center text-xs sm:text-sm","aria-label":"Preview blog",children:[b.jsx(Sc,{className:"w-4 sm:w-5 h-4 sm:h-5 mr-2"}),"Preview"]}),b.jsx("button",{onClick:()=>Nt({metadata:r}),className:`px-3 sm:px-4 py-2 min-w-[130px] rounded-lg font-semibold flex items-center gap-2 justify-center transition-all duration-300 ${h||!f.trim()||!c.trim()||wt(f)>60?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:shadow-lg hover:scale-105"}`,disabled:h||!f.trim()||!c.trim()||wt(f)>60,children:h?b.jsxs(b.Fragment,{children:[b.jsx(tE,{className:"w-4 sm:w-5 h-4 sm:h-5 animate-spin"}),"Saving..."]}):b.jsxs(b.Fragment,{children:[b.jsx(BE,{className:"w-4 sm:w-5 h-4 sm:h-5"}),"Save Blog"]})})]})]}),Ue&&b.jsxs("div",{className:"mt-4",children:[b.jsx("div",{className:"flex gap-2 flex-col sm:flex-row",children:b.jsx("input",{type:"text",value:f,onChange:ge,placeholder:"Enter your blog title...",className:`flex-1 text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 placeholder-gray-400 border-none outline-none resize-none w-full ${wt(f)>60?"text-red-600":""}`,"aria-label":"Blog title"})}),b.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-500",children:[wt(f),"/60 words (optimal for SEO)",wt(f)>60&&b.jsx("span",{className:"text-red-600 ml-2",children:"Title exceeds 60 words"})]})]})]}),b.jsx("div",{className:"flex-grow overflow-auto max-h-[800px]",children:a?b.jsx("div",{className:"flex justify-center items-center h-[calc(100vh-120px)]",children:b.jsx(nE,{className:"animate-spin h-8 w-8 text-blue-600"})}):b.jsx(XL,{keywords:u,setKeywords:l,blog:n,activeTab:i,setActiveTab:s,proofreadingResults:y,handleReplace:sn,content:c,setContent:d,title:f,setTitle:p,isSavingKeyword:h,handleSubmit:Nt,className:"w-full",humanizedContent:v,showDiff:F,handleAcceptHumanizedContent:qt,handleAcceptOriginalContent:vt,editorContent:c,unsavedChanges:at,setUnsavedChanges:mt,wordpressMetadata:r})},i)]}),b.jsx("div",{className:"hidden md:block border-l border-gray-200 overflow-y-auto custom-scroll max-h-[900px]",children:b.jsx(Oh,{blog:n,keywords:u,setKeywords:l,onPost:En,activeTab:i,handleReplace:sn,proofreadingResults:y,setProofreadingResults:k,handleSave:Ar,handleSubmit:Nt,posted:g,isPosting:N,formData:C,title:f,setEditorContent:d,editorContent:c,humanizePrompt:_,setHumanizePrompt:j,setIsHumanizing:ie,isHumanizing:G,setHumanizedContent:V,setIsHumanizeModalOpen:B,unsavedChanges:at,wordpressMetadata:r})}),b.jsx(Ra,{children:X&&b.jsx(Ke.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{duration:.3},className:"fixed inset-y-0 right-0 w-4/5 max-w-xs bg-white shadow-lg z-50 overflow-y-auto md:hidden",children:b.jsx(Oh,{blog:n,keywords:u,setKeywords:l,onPost:En,activeTab:i,handleReplace:sn,proofreadingResults:y,setProofreadingResults:k,handleSave:Ar,handleSubmit:Nt,posted:g,isPosting:N,formData:C,title:f,setEditorContent:d,editorContent:c,humanizePrompt:_,setHumanizePrompt:j,setIsHumanizing:ie,isHumanizing:G,setHumanizedContent:V,setIsHumanizeModalOpen:B,setIsSidebarOpen:M,unsavedChanges:at,wordpressMetadata:r})})})]}),b.jsx(OA,{closeFnc:W,isOpen:U,handleSubmit:re,errors:jn,setErrors:rt,formData:Be,setFormData:An,className:"w-full max-w-lg"})]})]})};export{XD as default};
