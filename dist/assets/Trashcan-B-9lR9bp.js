import{d as j,j as s,Q as N,o as g,B as l}from"./index-3n3a5v3b.js";import{b as i}from"./chunk-tiptap-M85eTu9n.js";import{S as y}from"./SkeletonLoader-CE8Y7v5r.js";import{T as w}from"./index-BCM45N7W.js";import"./Compact-BclnaKUw.js";import"./index-DP5L2glR.js";const v=85,k=()=>{const[d,n]=i.useState([]),[h,c]=i.useState(!0),{fetchNotificationsFromBackend:m}=j(),x=async()=>{var r,e;try{c(!0);const o=(await g.get("/blogs/")).data.filter(a=>a.isArchived);n(o)}catch(t){console.error("Error fetching trashed blogs:",((e=(r=t.response)==null?void 0:r.data)==null?void 0:e.message)||"Failed to fetch trashed blogs")}finally{c(!1)}};i.useEffect(()=>{x()},[]);const p=(r,e=v)=>r?r.length>e?r.substring(0,e)+"...":r:"",f=async r=>{try{(await g.put(`/blogs/restore/${r}`)).status===200?(n(t=>t.filter(o=>o._id!==r)),l.success("Blog restored successfully!"),m&&m()):l.error("Failed to restore blog.")}catch(e){l.error("Failed to restore blog."),console.error("Error restoring blog:",e.response&&e.response.data&&e.response.data.message||"Failed to restore blog")}};return s.jsxs("div",{className:"max-w-7xl mx-auto",style:{overflowY:"auto"},children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Trashcan"}),s.jsx("p",{className:"text-red-600 font-semibold mb-4",children:"Warning: Trashed items will be permanently deleted after 7 days."}),h?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(5)].map((r,e)=>s.jsx("div",{className:"bg-white shadow-md rounded-xl p-4",children:s.jsx(y,{})},e))}):d.length===0?s.jsx("p",{children:"No trashed blogs available."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:d.map(r=>{const{_id:e,title:t,content:o,focusKeywords:a,aiModel:T}=r;return s.jsx(w,{title:t,color:"gray",children:s.jsxs("div",{className:"bg-white shadow-md hover:shadow-xl transition-shadow duration-300 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:t}),s.jsx("img",{src:"Images/restore.svg",alt:"Restore",className:"cursor-pointer",style:{width:"20px",height:"20px"},onClick:()=>f(e)})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:p(o)}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((u,b)=>s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-full",children:u},b))})]})},e)})}),s.jsx(N,{})]})};export{k as default};
