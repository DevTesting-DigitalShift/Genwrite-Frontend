var V=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var D=(a,l)=>{var s={};for(var n in a)q.call(a,n)&&l.indexOf(n)<0&&(s[n]=a[n]);if(a!=null&&V)for(var n of V(a))l.indexOf(n)<0&&K.call(a,n)&&(s[n]=a[n]);return s};import{r as i,a as Q,u as ee,L as ae,j as e,m as c,H as le,A as te,S as $,bm as se}from"./index-aYFSkxCW.js";import{h as U}from"./moment-F83fPTp3.js";import{D as re}from"./index-DxfKh3yh.js";import"./dayjs.min-DJ8XQ6RA.js";import"./Overflow-BrHWJOfH.js";import"./useIcons-C722aAyl.js";function ie(u,n){var d=u,{title:a,titleId:l}=d,s=D(d,["title","titleId"]);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":l},s),a?i.createElement("title",{id:l},a):null,i.createElement("path",{d:"M12 7.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"}),i.createElement("path",{fillRule:"evenodd",d:"M1.5 4.875C1.5 3.839 2.34 3 3.375 3h17.25c1.035 0 1.875.84 1.875 1.875v9.75c0 1.036-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 14.625v-9.75ZM8.25 9.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM18.75 9a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75V9.75a.75.75 0 0 0-.75-.75h-.008ZM4.5 9.75A.75.75 0 0 1 5.25 9h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H5.25a.75.75 0 0 1-.75-.75V9.75Z",clipRule:"evenodd"}),i.createElement("path",{d:"M2.25 18a.75.75 0 0 0 0 1.5c5.4 0 10.63.722 15.6 2.075 1.19.324 2.4-.558 2.4-1.82V18.75a.75.75 0 0 0-.75-.75H2.25Z"}))}const ne=i.forwardRef(ie);function oe(u,n){var d=u,{title:a,titleId:l}=d,s=D(d,["title","titleId"]);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":l},s),a?i.createElement("title",{id:l},a):null,i.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const de=i.forwardRef(oe);function ce(u,n){var d=u,{title:a,titleId:l}=d,s=D(d,["title","titleId"]);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":l},s),a?i.createElement("title",{id:l},a):null,i.createElement("path",{d:"M4.5 3.75a3 3 0 0 0-3 3v.75h21v-.75a3 3 0 0 0-3-3h-15Z"}),i.createElement("path",{fillRule:"evenodd",d:"M22.5 9.75h-21v7.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3v-7.5Zm-18 3.75a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5h-6a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z",clipRule:"evenodd"}))}const pe=i.forwardRef(ce);function ue(u,n){var d=u,{title:a,titleId:l}=d,s=D(d,["title","titleId"]);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":l},s),a?i.createElement("title",{id:l},a):null,i.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"}))}const me=i.forwardRef(ue);function he(u,n){var d=u,{title:a,titleId:l}=d,s=D(d,["title","titleId"]);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":l},s),a?i.createElement("title",{id:l},a):null,i.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const xe=i.forwardRef(he);var be=Object.defineProperty,ge=Object.defineProperties,ve=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,Y=(a,l,s)=>l in a?be(a,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[l]=s,N=(a,l)=>{for(var s in l||(l={}))fe.call(l,s)&&Y(a,s,l[s]);if(z)for(var s of z(l))we.call(l,s)&&Y(a,s,l[s]);return a},_=(a,l)=>ge(a,ve(l)),ye=(a,l,s)=>new Promise((n,u)=>{var d=o=>{try{j(s.next(o))}catch(v){u(v)}},y=o=>{try{j(s.throw(o))}catch(v){u(v)}},j=o=>o.done?n(o.value):Promise.resolve(o.value).then(d,y);j((s=s.apply(a,l)).next())});const x={profilePicture:"",personalDetails:{name:"eg : Siva Dheeraj",email:"eg : sivadheeraj@example.com",phone:"eg : +91 9990292929",bio:"eg : Lead Product Designer",jobTitle:"eg : Senior UX Engineer",company:"eg : Tech Innovators Inc",dob:"eg : 1990-05-15"},billingDetails:{companyName:"eg : ABC Corporation",address:"eg : 123 Business Street, Financial District",city:"eg : Mumbai",country:"eg : India",gstNumber:"eg : 27ABCDE1234F1Z5",taxId:"eg : AS564178969",paymentMethod:"eg : Stripe",companyEmail:"eg : accounts@abc-corp.in"},subscription:{type:"Free",startDate:"2024-01-01",renewalDate:"1/1/2025",credits:0,planFeatures:["Unlimited Projects","Priority Support","Advanced Analytics"],paymentHistory:[{id:1,date:"2024-03-01",amount:"$1500",status:"paid"},{id:2,date:"2024-02-01",amount:"$1500",status:"paid"}]}},Re=()=>{var a,l,s,n,u,d,y,j;const[o,v]=i.useState(!1),C=i.useRef(null),[t,P]=i.useState(x),{user:r}=Q(p=>p.auth),E=ee();i.useEffect(()=>{E(ae())},[E]);const R=((l=(a=r==null?void 0:r.credits)==null?void 0:a.base)!=null?l:0)+((n=(s=r==null?void 0:r.credits)==null?void 0:s.extra)!=null?n:0);i.useEffect(()=>{r&&P(p=>{var m,g,h,f,O,S,H,k,I,L,Z,A,B,T;return{profilePicture:r.avatar||p.profilePicture,personalDetails:{name:r.name||"",email:r.email||"",phone:r.phone||"",bio:r.bio||"",jobTitle:r.jobTitle||"",company:r.company||"",wordpress:r.wordpressLink||"",dob:r.dob||""},billingDetails:{companyName:((m=r.billingDetails)==null?void 0:m.companyName)||"",address:((g=r.billingDetails)==null?void 0:g.address)||"",city:((h=r.billingDetails)==null?void 0:h.city)||"",country:((f=r.billingDetails)==null?void 0:f.country)||"",gstNumber:((O=r.billingDetails)==null?void 0:O.gstNumber)||"",taxId:((S=r.billingDetails)==null?void 0:S.taxId)||"",paymentMethod:((H=r.billingDetails)==null?void 0:H.paymentMethod)||"",companyEmail:((k=r.billingDetails)==null?void 0:k.companyEmail)||""},subscription:{type:(r==null?void 0:r.plan)||"Free",startDate:((I=r.subscription)==null?void 0:I.startDate)||"",renewalDate:((L=r.subscription)==null?void 0:L.renewalDate)||"",credits:(A=(Z=r.credits)==null?void 0:Z.base)!=null?A:0,planFeatures:((B=r.subscription)==null?void 0:B.planFeatures)||[]},invoices:(T=r.invoices)!=null&&T.length?r.invoices:[]}})},[r]);const W=()=>ye(null,null,function*(){const p={avatar:t.profilePicture,name:t.personalDetails.name,bio:t.personalDetails.bio,email:t.personalDetails.email,phone:t.personalDetails.phone,jobTitle:t.personalDetails.jobTitle,company:t.personalDetails.company,dob:t.personalDetails.dob,wordpressLink:t.personalDetails.wordpress};try{E(se(p)).unwrap().then(()=>{v(!1)})}catch(m){$.error("Error updating profile, try again")}}),X=()=>v(!o),G=()=>v(!1),M=p=>{if(!o)return;const m=p.target.files[0];if(m){const g=new FileReader;g.onload=h=>{P(f=>_(N({},f),{profilePicture:h.target.result}))},g.readAsDataURL(m)}},b=p=>{const{name:m,value:g}=p.target;if(m==="personalDetails.phone"){const h=g.replace(/[^0-9]/g,"");if(h.length>15){$.error("Phone number cannot exceed 15 digits.");return}P(f=>_(N({},f),{personalDetails:_(N({},f.personalDetails),{phone:h})}))}else P(h=>_(N({},h),{personalDetails:_(N({},h.personalDetails),{[m.split(".")[1]]:g})}))},J={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},F={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:120}},hover:{y:-5,scale:1.02,boxShadow:"0 20px 25px -12px rgba(0, 0, 0, 0.15)"}};return e.jsx(e.Fragment,{children:e.jsxs(c.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50/50 p-8",children:[e.jsx(le,{children:e.jsx("title",{children:"Profile | GenWrite"})}),e.jsxs(c.div,{variants:J,initial:"hidden",animate:"show",className:"max-w-7xl mx-auto bg-white/95 backdrop-blur-xl rounded-[2rem] shadow-2xl border border-white/20 overflow-hidden",children:[e.jsx("div",{className:"relative p-8 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600",children:e.jsxs("div",{className:"relative flex flex-col md:flex-row items-center gap-8",children:[e.jsx(c.div,{className:"relative group",whileHover:"hover",variants:{hover:{scale:1.03}},children:t!=null&&t.profilePicture?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:t.profilePicture,alt:"Profile",className:"w-40 h-40 rounded-full border-4 border-white/80 object-cover shadow-2xl relative z-10",style:{cursor:o?"pointer":"default"}}),e.jsx("input",{type:"file",ref:C,onChange:M,className:"hidden",accept:"image/*",disabled:!o})]}):e.jsxs("div",{className:"w-40 h-40 rounded-full border-4 border-white/80 bg-gradient-to-tr from-blue-400 to-purple-700 text-white flex items-center justify-center text-7xl font-bold shadow-2xl relative z-10",onClick:()=>o&&C.current.click(),style:{cursor:o?"pointer":"default"},children:[(u=t==null?void 0:t.personalDetails)!=null&&u.name?`${(d=t==null?void 0:t.personalDetails.name[0])==null?void 0:d.toUpperCase()}`:"NA",e.jsx("input",{type:"file",ref:C,onChange:M,className:"hidden",accept:"image/*",disabled:!o})]})}),e.jsxs(c.div,{className:"space-y-3 text-white",initial:{x:-20},animate:{x:0},children:[e.jsx("h1",{className:"text-4xl font-bold flex items-center gap-3",children:t.personalDetails.name||e.jsx("span",{className:"text-gray-300",children:"Full Name"})}),e.jsx("p",{className:"text-xl font-light opacity-90",children:t.personalDetails.bio||e.jsx("span",{className:"text-gray-300",children:"Bio"})}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(c.div,{className:"px-4 py-2 bg-white/20 rounded-full capitalize backdrop-blur-sm flex items-center gap-2",whileHover:{y:-2},children:[e.jsx(pe,{className:"w-5 h-5"}),e.jsx("span",{children:t.subscription.type})]}),e.jsxs(c.div,{className:"px-4 py-2 bg-white/20 rounded-full backdrop-blur-sm flex items-center gap-2",whileHover:{y:-2},children:[e.jsx(ne,{className:"w-5 h-5"}),e.jsxs("span",{children:[R," Credits"]})]})]})]})]})}),e.jsxs(c.div,{className:"p-8 space-y-8",children:[e.jsx("div",{className:"flex justify-end gap-4",children:e.jsx(te,{children:o?e.jsxs(e.Fragment,{children:[e.jsxs(c.button,{onClick:W,className:"px-6 py-2 bg-green-500 text-white rounded-xl flex items-center gap-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},whileHover:{scale:1.05},children:[e.jsx(de,{className:"w-5 h-5"}),"Save Changes"]},"save"),e.jsxs(c.button,{onClick:G,className:"px-6 py-2 bg-gray-500 text-white rounded-xl flex items-center gap-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},whileHover:{scale:1.05},children:[e.jsx(xe,{className:"w-5 h-5"}),"Cancel"]},"cancel")]}):e.jsxs(c.button,{onClick:X,className:"px-6 py-2 bg-blue-500 text-white rounded-xl flex items-center gap-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},whileHover:{scale:1.05},children:[e.jsx(me,{className:"w-5 h-5"}),"Edit Profile"]},"edit")})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{variants:F,whileHover:"hover",className:"bg-white/80 backdrop-blur-sm p-8 rounded-2xl border-2 border-slate-200 shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Personal Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(w,{label:"Full Name",name:"personalDetails.name",value:t.personalDetails.name,isEditing:o,onChange:b,placeholder:x.personalDetails.name}),e.jsx(w,{label:"Email",name:"personalDetails.email",value:t.personalDetails.email,isEditing:o,onChange:b,placeholder:x.personalDetails.email}),e.jsx(w,{label:"Bio",name:"personalDetails.bio",value:t.personalDetails.bio,isEditing:o,onChange:b,placeholder:"e.g : I'm a travel enthusiast who loves exploring new cultures."}),e.jsx(w,{label:"WordPress Link",name:"personalDetails.wordpress",value:t.personalDetails.wordpress,isEditing:o,onChange:b,placeholder:"eg : https://yourblog.wordpress.com"}),e.jsx(w,{label:"Phone",name:"personalDetails.phone",value:t.personalDetails.phone,isEditing:o,onChange:b,placeholder:x.personalDetails.phone,maxLength:15}),e.jsx(w,{label:"Job Title",name:"personalDetails.jobTitle",value:t.personalDetails.jobTitle,isEditing:o,onChange:b,placeholder:x.personalDetails.jobTitle}),e.jsx(w,{label:"Company",name:"personalDetails.company",value:t.personalDetails.company,isEditing:o,onChange:b,placeholder:x.personalDetails.company}),e.jsxs(c.div,{className:"space-y-2",whileHover:{scale:1.02},children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Date of Birth"}),o?e.jsx(re,{format:"YYYY-MM-DD",value:t.personalDetails.dob?U(t.personalDetails.dob):null,onChange:(p,m)=>b({target:{name:"personalDetails.dob",value:m}}),className:"w-full",disabledDate:p=>p&&p>U().endOf("day")}):e.jsx(c.div,{className:"px-4 py-2 bg-white/80 rounded-lg border-2 border-slate-200",whileHover:{x:5},children:t.personalDetails.dob?new Date(t.personalDetails.dob).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"}):e.jsx("span",{className:"text-gray-400",children:x.personalDetails.dob})})]})]})]}),e.jsxs(c.div,{variants:F,whileHover:"hover",className:"bg-gradient-to-br from-blue-50 to-purple-50 p-8 rounded-2xl border-2 border-indigo-100 shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-purple-200/20 rounded-full blur-3xl"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Subscription & Credits"}),e.jsxs("div",{className:"space-y-4 ",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-white/80",children:[e.jsx("span",{className:"font-medium",children:"Plan Type"}),e.jsx("span",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-1 rounded-full capitalize",children:t.subscription.type})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-white/80",children:[e.jsx("span",{className:"font-medium",children:"Credits Available"}),e.jsx("span",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-1 rounded-full",children:R||x.subscription.credits})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-white/80",children:[e.jsx("span",{className:"font-medium",children:"Start Date"}),e.jsx("span",{children:(y=t==null?void 0:t.subscription)!=null&&y.startDate?new Date(t.subscription.startDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"}):x.subscription.startDate})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-white/80",children:[e.jsx("span",{className:"font-medium",children:"Renewal Date"}),e.jsx("span",{children:(j=t==null?void 0:t.subscription)!=null&&j.startDate?new Date(new Date(t.subscription.startDate).setMonth(new Date(t.subscription.startDate).getMonth()+1)).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"}):"Not renewed yet"})]})]})]})]})})]})]})]})})},w=({label:a,name:l,value:s,isEditing:n,onChange:u,placeholder:d,maxLength:y})=>e.jsxs(c.div,{className:"space-y-2",whileHover:{scale:1.02},children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:a}),n?e.jsx(c.input,{type:"tel",name:l,value:s||"",onChange:u,placeholder:d,className:"w-full px-4 py-2 border-2 border-blue-500 rounded-lg focus:ring-2 focus:ring-blue-200 bg-white/80",whileFocus:{scale:1.02},maxLength:y,pattern:"[0-9]*"}):e.jsx(c.div,{className:"px-4 py-2 bg-white/80 rounded-lg border-2 border-slate-200",whileHover:{x:5},children:s||e.jsx("span",{className:"text-gray-400",children:d})})]});export{Re as default};
