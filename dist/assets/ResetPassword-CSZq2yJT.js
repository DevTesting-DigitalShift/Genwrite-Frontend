import{bh as _,G as q,F as Y,u as G,j as e,m as s,aw as M,bi as T,y as W}from"./index-dLLMGBbj.js";import{b as i}from"./chunk-tiptap-Cj04N-E3.js";import{C as Z}from"./circle-check-big-BD1j0nH7.js";import{S as y}from"./shield-DEgSJdON.js";import{A as D}from"./arrow-right-BF0XYIG6.js";import{c as B}from"./createLucideIcon-Dk87UOOc.js";import{L as b}from"./lock-B-ziADYX.js";import{E as N}from"./eye-off-DvyXIlw-.js";import{E as k}from"./eye-Lpm4HZy5.js";import{C as P}from"./circle-alert-YpvpXR5W.js";import{S as F}from"./sparkles-BbH-9DwZ.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],K=B("key",H),ne=()=>{const[w]=_(),m=q(),[t,S]=i.useState(""),[x,$]=i.useState(""),[u,C]=i.useState(!1),[h,E]=i.useState(!1),[g,p]=i.useState(!1),[I,L]=i.useState(!1),[l,o]=i.useState({}),[U,O]=i.useState(""),R=Y(),z=G();i.useEffect(()=>{const r=w.get("token");r?O(r):m("/forgot-password")},[w,m]);const j=r=>{const a=[];return r.length<8&&a.push("At least 8 characters"),/[A-Z]/.test(r)||a.push("One uppercase letter"),/[a-z]/.test(r)||a.push("One lowercase letter"),/\d/.test(r)||a.push("One number"),/[!@#$%^&*(),.?":{}|<>]/.test(r)||a.push("One special character"),a},A=async r=>{r.preventDefault();const a={},n=j(t);if(n.length>0&&(a.password=`Password must contain: ${n.join(", ")}`),x?t!==x&&(a.confirmPassword="Passwords do not match"):a.confirmPassword="Please confirm your password",o(a),Object.keys(a).length>0)return;p(!0);const v=new URLSearchParams(R.search).get("token");if(!v){o({token:"Invalid or missing token"}),p(!1);return}try{const c=await z(T({token:v,newPassword:t})).unwrap();c&&(W.success(c),L(!0),m("/login",{replace:!0}))}catch(c){console.error("Reset password error:",c),o({server:c})}finally{p(!1)}},f=r=>{const n=5-j(r).length;return n<=1?{level:"weak",color:"bg-red-500",text:"Weak"}:n<=3?{level:"medium",color:"bg-yellow-500",text:"Medium"}:{level:"strong",color:"bg-green-500",text:"Strong"}},d=f(t);return I?e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx(s.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl"}),e.jsx(s.div,{animate:{rotate:[360,0],scale:[1,1.2,1]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-cyan-400/20 rounded-full blur-3xl"})]}),e.jsx(s.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"absolute top-8 left-1/2 transform -translate-x-1/2 z-10",children:e.jsx("img",{src:"/Images/logo_genwrite_2.png",alt:"GenWrite Logo",className:"w-40 h-auto"})}),e.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 pt-20 pb-8",children:e.jsxs(s.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",stiffness:120,damping:20},className:"w-full max-w-md bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-green-400/10 to-emerald-400/10 rounded-full -translate-y-16 translate-x-16"}),e.jsx(s.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"w-20 h-20 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Z,{className:"w-10 h-10 text-white"})}),e.jsx(s.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-gray-900 mb-4",children:"Password Reset Successful!"}),e.jsx(s.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-gray-600 mb-8 leading-relaxed",children:"Your password has been successfully reset. You can now sign in with your new password."}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-8",children:e.jsxs("div",{className:"flex items-center gap-3 text-green-800",children:[e.jsx(y,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:"Your account is now secure with the new password. Make sure to keep it safe!"})]})}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:e.jsxs(M,{to:"/login",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 px-6 rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition-all duration-300 flex items-center justify-center gap-2",children:["Continue to Sign In",e.jsx(D,{className:"w-5 h-5"})]})})]})})]}):e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx(s.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl"}),e.jsx(s.div,{animate:{rotate:[360,0],scale:[1,1.2,1]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-cyan-400/20 rounded-full blur-3xl"})]}),e.jsx(s.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"absolute top-8 left-1/2 transform -translate-x-1/2 z-10",children:e.jsx("img",{src:"/Images/logo_genwrite_2.png",alt:"GenWrite Logo",className:"w-40 h-auto"})}),e.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 pt-20 pb-8",children:e.jsxs(s.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",stiffness:120,damping:20},className:"w-full max-w-md bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-400/10 to-purple-400/10 rounded-full -translate-y-16 translate-x-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-indigo-400/10 to-cyan-400/10 rounded-full translate-y-12 -translate-x-12"}),e.jsxs("div",{className:"relative mb-8 text-center",children:[e.jsx(s.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(K,{className:"text-white text-2xl"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Your Password"}),e.jsx("p",{className:"text-gray-600",children:"Enter your new password below to secure your account."})]}),e.jsxs("form",{onSubmit:A,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-4 left-4 text-gray-400 z-10",children:e.jsx(b,{className:"w-5 h-5"})}),e.jsx("input",{type:u?"text":"password",placeholder:"Enter new password",value:t,onChange:r=>{S(r.target.value),o(a=>({...a,password:""}))},className:`w-full pl-12 pr-12 py-4 bg-gray-50/80 border-2 rounded-2xl text-gray-800 placeholder-gray-500 focus:bg-white focus:shadow-lg outline-none transition-all duration-300 ${l.password?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`}),e.jsx("button",{type:"button",onClick:()=>C(!u),className:"absolute right-4 top-4 text-gray-500 hover:text-gray-700 transition-colors z-10",children:u?e.jsx(N,{className:"w-5 h-5"}):e.jsx(k,{className:"w-5 h-5"})})]}),t&&e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${d.color}`,style:{width:`${f(t).level==="weak"?33:f(t).level==="medium"?66:100}%`}})}),e.jsx("span",{className:`text-xs font-medium ${d.level==="weak"?"text-red-600":d.level==="medium"?"text-yellow-600":"text-green-600"}`,children:d.text})]})}),l.password&&e.jsxs(s.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-red-600 text-sm flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4 flex-shrink-0"}),l.password]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-4 left-4 text-gray-400 z-10",children:e.jsx(b,{className:"w-5 h-5"})}),e.jsx("input",{type:h?"text":"password",placeholder:"Confirm new password",value:x,onChange:r=>{$(r.target.value),o(a=>({...a,confirmPassword:""}))},className:`w-full pl-12 pr-12 py-4 bg-gray-50/80 border-2 rounded-2xl text-gray-800 placeholder-gray-500 focus:bg-white focus:shadow-lg outline-none transition-all duration-300 ${l.confirmPassword?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`}),e.jsx("button",{type:"button",onClick:()=>E(!h),className:"absolute right-4 top-4 text-gray-500 hover:text-gray-700 transition-colors z-10",children:h?e.jsx(N,{className:"w-5 h-5"}):e.jsx(k,{className:"w-5 h-5"})})]}),l.confirmPassword&&e.jsxs(s.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-red-600 text-sm flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4 flex-shrink-0"}),l.confirmPassword]})]}),e.jsx(s.button,{whileHover:{y:-2,scale:1.02},whileTap:{scale:.98},type:"submit",disabled:g,className:`w-full py-4 px-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl ${g?"opacity-70 cursor-not-allowed":"hover:from-blue-700 hover:to-purple-700"}`,children:g?e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(s.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white/30 rounded-full border-t-white"}),e.jsx("span",{children:"Resetting Password..."})]}):e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(y,{className:"w-5 h-5"}),"Reset Password"]})})]}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Password Requirements:"}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs text-gray-600",children:[e.jsxs("div",{className:`flex items-center gap-2 ${t.length>=8?"text-green-600":""}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${t.length>=8?"bg-green-500":"bg-gray-300"}`}),"At least 8 characters"]}),e.jsxs("div",{className:`flex items-center gap-2 ${/[A-Z]/.test(t)?"text-green-600":""}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${/[A-Z]/.test(t)?"bg-green-500":"bg-gray-300"}`}),"One uppercase letter"]}),e.jsxs("div",{className:`flex items-center gap-2 ${/[a-z]/.test(t)?"text-green-600":""}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${/[a-z]/.test(t)?"bg-green-500":"bg-gray-300"}`}),"One lowercase letter"]}),e.jsxs("div",{className:`flex items-center gap-2 ${/\d/.test(t)?"text-green-600":""}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${/\d/.test(t)?"bg-green-500":"bg-gray-300"}`}),"One number"]}),e.jsxs("div",{className:`flex items-center gap-2 ${/[!@#$%^&*(),.?":{}|<>]/.test(t)?"text-green-600":""}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${/[!@#$%^&*(),.?":{}|<>]/.test(t)?"bg-green-500":"bg-gray-300"}`}),"One special character"]})]})]}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(y,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{children:"Secure"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(b,{className:"w-3 h-3 text-blue-500"}),e.jsx("span",{children:"Encrypted"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(F,{className:"w-3 h-3 text-purple-500"}),e.jsx("span",{children:"Protected"})]})]})})]})})]})};export{ne as default};
