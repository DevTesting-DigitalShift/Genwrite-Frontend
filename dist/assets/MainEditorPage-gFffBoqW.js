var By=Object.defineProperty,Fy=Object.defineProperties;var Hy=Object.getOwnPropertyDescriptors;var Ga=Object.getOwnPropertySymbols;var xh=Object.prototype.hasOwnProperty,Ch=Object.prototype.propertyIsEnumerable;var Nh=Math.pow,Ah=(e,t,n)=>t in e?By(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G=(e,t)=>{for(var n in t||(t={}))xh.call(t,n)&&Ah(e,n,t[n]);if(Ga)for(var n of Ga(t))Ch.call(t,n)&&Ah(e,n,t[n]);return e},le=(e,t)=>Fy(e,Hy(t));var xi=(e,t)=>{var n={};for(var r in e)xh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ga)for(var r of Ga(e))t.indexOf(r)<0&&Ch.call(e,r)&&(n[r]=e[r]);return n};var Ft=(e,t,n)=>new Promise((r,i)=>{var u=a=>{try{o(n.next(a))}catch(c){i(c)}},s=a=>{try{o(n.throw(a))}catch(c){i(c)}},o=a=>a.done?r(a.value):Promise.resolve(a.value).then(u,s);o((n=n.apply(e,t)).next())});import{X as ba,Y as jy,r as K,Z as Uy,$ as zy,a0 as Gy,a1 as qy,a2 as Vy,a3 as pc,a4 as Wy,a5 as Yy,m as Mn,j as T,a6 as Ky,G as zf,a as gr,z as $y,u as wl,M as Yn,S as Qy,Q as Ee,a7 as Xy,a8 as Jy,A as Do,B as Ot,a9 as pi,b as Gf,aa as Zy,J as Fb,ab as eA,ac as tA,ad as nA,ae as rA,af as iA,T as Yt,ag as uA,ah as sA,ai as Hb,aj as aA,ak as oA,al as Sh,D as jb,am as lA,P as Hd,an as cA,x as dA,ao as Ih,H as fA,ap as vh,aq as hA,ar as kh,as as pA}from"./index-BefQ4Lql.js";import{T as mA}from"./TemplateSelection-hcGjsZ7s.js";import{I as yt}from"./index-C3QD7KiK.js";import{S as pr}from"./index-vnsr5MJT.js";import{P as kn}from"./plus-Ba0XqpC1.js";import{X as jr}from"./x-ED4q1kIX.js";import{R as Ub}from"./refresh-ccw-Bwd66iLS.js";import{S as Is}from"./sparkles-lqTg4WuR.js";import{g as wh,c as gA}from"./getEstimatedCost-B0mIz-cF.js";import{o as bA}from"./UpgardePopUp-BzsVz7Dr.js";import{T as EA,S as TA}from"./blogData-BhjZ7hhO.js";import{B as _A}from"./BrandVoiceSelector-r2YQsczW.js";import{C as yA}from"./circle-alert-BUYdbe-7.js";import{C as AA}from"./circle-check-big-BpkYFz2L.js";import{T as zb}from"./index-CR9Ykhlj.js";import{E as ta,C as Gb,L as qa}from"./link-DJ6RxU8c.js";import{c as ot}from"./createLucideIcon-BczMsA3n.js";import{T as vs}from"./trending-up-y5-qDRZC.js";import{R as qf}from"./refresh-cw-BlzjRO-N.js";import{C as Zu}from"./crown-oGP8buJy.js";import{F as Eo}from"./file-text-BDyfT38T.js";import{W as xA}from"./wand-sparkles-DSzUgQhJ.js";import{L as Oh}from"./lock-DjAianJa.js";import{S as es}from"./index-D0gviLeI.js";import{Z as CA}from"./zap-Cs6PVxSP.js";import{E as Vf}from"./eye-CifR3HSO.js";import{D as NA}from"./download-C4Agtdtb.js";import{I as To}from"./image-CvrMGWa_.js";import{D as Dh}from"./index-DoHJQovk.js";import{Y as Tu}from"./youtube-dPemIINt.js";import{G as _u,S as Rh}from"./square-pen-C7QgphKP.js";import{T as Fr}from"./trash-2-BrIcIQLZ.js";import{C as _o}from"./check-Cxbk5FMj.js";import{L as qb}from"./loader-circle-R5skhmIB.js";import{P as SA}from"./index-b-sAatjj.js";import"./index-zkvN4p2s.js";import"./gapSize-U1swVQyS.js";import"./search-BgfRDe8Y.js";import"./index-HiMaiKNI.js";import"./Input-dHE3cmU7.js";import"./SearchOutlined-CUZcAzt6.js";import"./move-DP6NK38S.js";import"./useIcons-DL4BLzuQ.js";import"./DownOutlined-06QBomHb.js";import"./Brand.query-CYKGMCMK.js";import"./useQuery-BKZmuzx9.js";import"./useBaseQuery-BBURiGIv.js";import"./useMutation-BCHHqJyH.js";import"./useInfiniteQuery-BMT-eYUu.js";import"./index-B92Ory98.js";import"./useForm-DdLHUNbj.js";import"./index-BxFd_7vy.js";import"./RightOutlined-B-CQWNCx.js";import"./collapse-BbEVqHco.js";import"./LeftOutlined-NqpUEX1e.js";function Vb(e){const t=ba(()=>jy(e)),{isStatic:n}=K.useContext(Uy);if(n){const[,r]=K.useState(e);K.useEffect(()=>t.on("change",r),[])}return t}function Wb(e,t){const n=Vb(t()),r=()=>n.set(t());return r(),zy(()=>{const i=()=>Gy.preRender(r,!1,!0),u=e.map(s=>s.on("change",i));return()=>{u.forEach(s=>s()),qy(r)}}),n}const IA=e=>e&&typeof e=="object"&&e.mix,vA=e=>IA(e)?e.mix:void 0;function kA(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],i=e[1+n],u=e[2+n],s=e[3+n],o=Vy(i,u,G({mixer:vA(u[0])},s));return t?o(r):o}function wA(e){pc.current=[],e();const t=Wb(pc.current,e);return pc.current=void 0,t}function OA(e,t,n,r){if(typeof e=="function")return wA(e);const i=typeof t=="function"?t:kA(t,n,r);return Array.isArray(e)?Lh(e,i):Lh([e],([u])=>i(u))}function Lh(e,t){const n=ba(()=>[]);return Wb(e,()=>{n.length=0;const r=e.length;for(let i=0;i<r;i++)n[i]=e[i].get();return t(n)})}class DA{constructor(){this.componentControls=new Set}subscribe(t){return this.componentControls.add(t),()=>this.componentControls.delete(t)}start(t,n){this.componentControls.forEach(r=>{r.start(t.nativeEvent||t,n)})}}const RA=()=>new DA;function LA(){return ba(RA)}const Yb=K.createContext(null);function PA(e,t,n,r){if(!r)return e;const i=e.findIndex(l=>l.value===t);if(i===-1)return e;const u=r>0?1:-1,s=e[i+u];if(!s)return e;const o=e[i],a=s.layout,c=Wy(a.min,a.max,.5);return u===1&&o.layout.max+n>c||u===-1&&o.layout.min+n<c?Yy(e,i,i+u):e}function MA(o,s){var a=o,{children:e,as:t="ul",axis:n="y",onReorder:r,values:i}=a,u=xi(a,["children","as","axis","onReorder","values"]);const c=ba(()=>Mn[t]),l=[],f=K.useRef(!1),h={axis:n,registerItem:(d,m)=>{const A=l.findIndex(x=>d===x.value);A!==-1?l[A].layout=m[n]:l.push({value:d,layout:m[n]}),l.sort(HA)},updateOrder:(d,m,A)=>{if(f.current)return;const x=PA(l,d,m,A);l!==x&&(f.current=!0,r(x.map(FA).filter(g=>i.indexOf(g)!==-1)))}};return K.useEffect(()=>{f.current=!1}),T.jsx(c,le(G({},u),{ref:s,ignoreStrict:!0,children:T.jsx(Yb.Provider,{value:h,children:e})}))}const BA=K.forwardRef(MA);function FA(e){return e.value}function HA(e,t){return e.layout.min-t.layout.min}function Ph(e,t=0){return Ky(e)?e:Vb(t)}function jA(a,o){var c=a,{children:e,style:t={},value:n,as:r="li",onDrag:i,layout:u=!0}=c,s=xi(c,["children","style","value","as","onDrag","layout"]);const l=ba(()=>Mn[r]),f=K.useContext(Yb),h={x:Ph(t.x),y:Ph(t.y)},d=OA([h.x,h.y],([g,b])=>g||b?1:"unset"),{axis:m,registerItem:A,updateOrder:x}=f;return T.jsx(l,le(G({drag:m},s),{dragSnapToOrigin:!0,style:le(G({},t),{x:h.x,y:h.y,zIndex:d}),layout:u,onDrag:(g,b)=>{const{velocity:v}=b;v[m]&&x(n,h[m].get(),v[m]),i&&i(g,b)},onLayoutMeasure:g=>A(n,g),ref:o,ignoreStrict:!0,children:e}))}const UA=K.forwardRef(jA);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],GA=ot("align-center",zA);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],VA=ot("align-left",qA);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],YA=ot("align-right",WA);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Kb=ot("bold",KA);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],$b=ot("chart-column",$A);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],XA=ot("chevron-down",QA);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ZA=ot("chevron-left",JA);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tx=ot("chevron-right",ex);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],rx=ot("chevron-up",nx);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],ux=ot("file-code",ix);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],ax=ot("film",sx);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],lx=ot("grip-vertical",ox);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],dx=ot("heading-3",cx);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v3a1 1 0 0 0 1 1h3",key:"tj5zdr"}],["path",{d:"M21 10v8",key:"1kdml4"}],["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}]],hx=ot("heading-4",fx);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Qb=ot("italic",px);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Ps=ot("lightbulb",mx);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],bx=ot("list-ordered",gx);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Tx=ot("list",Ex);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["path",{d:"M5 12h14",key:"1ays0h"}]],Mh=ot("minus",_x);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],Ax=ot("panel-right-open",yx);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],si=ot("pen-line",xx);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],Nx=ot("redo",Cx);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"M4 7V4h16v3",key:"9msm58"}],["path",{d:"M5 20h6",key:"1h6pxn"}],["path",{d:"M13 4 8 20",key:"kqq6aj"}],["path",{d:"m15 15 5 5",key:"me55sn"}],["path",{d:"m20 15-5 5",key:"11p7ol"}]],Ix=ot("remove-formatting",Sx);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kx=ot("save",vx);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],jd=ot("sliders-horizontal",wx);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Bh=ot("table",Ox);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],Xb=ot("underline",Dx);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],Lx=ot("undo",Rx);function Fh(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,u=!1;for(;!u;){r===-1&&(r=n.length,u=!0);const s=n.slice(i,r).trim();(s||!u)&&t.push(s),i=r+1,r=n.indexOf(",",i)}return t}function Jb(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Px=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Mx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Bx={};function Hh(e,t){return(Bx.jsx?Mx:Px).test(e)}const Fx=/[ \t\n\f\r]/g;function Hx(e){return typeof e=="object"?e.type==="text"?jh(e.value):!1:jh(e)}function jh(e){return e.replace(Fx,"")===""}let Ea=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};Ea.prototype.normal={};Ea.prototype.property={};Ea.prototype.space=void 0;function Zb(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ea(n,r,t)}function na(e){return e.toLowerCase()}class On{constructor(t,n){this.attribute=n,this.property=t}}On.prototype.attribute="";On.prototype.booleanish=!1;On.prototype.boolean=!1;On.prototype.commaOrSpaceSeparated=!1;On.prototype.commaSeparated=!1;On.prototype.defined=!1;On.prototype.mustUseProperty=!1;On.prototype.number=!1;On.prototype.overloadedBoolean=!1;On.prototype.property="";On.prototype.spaceSeparated=!1;On.prototype.space=void 0;let jx=0;const Ye=ru(),Ht=ru(),Ud=ru(),ge=ru(),mt=ru(),ku=ru(),Pn=ru();function ru(){return Nh(2,++jx)}const zd=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ye,booleanish:Ht,commaOrSpaceSeparated:Pn,commaSeparated:ku,number:ge,overloadedBoolean:Ud,spaceSeparated:mt},Symbol.toStringTag,{value:"Module"})),mc=Object.keys(zd);class Wf extends On{constructor(t,n,r,i){let u=-1;if(super(t,n),Uh(this,"space",i),typeof r=="number")for(;++u<mc.length;){const s=mc[u];Uh(this,mc[u],(r&zd[s])===zd[s])}}}Wf.prototype.defined=!0;function Uh(e,t,n){n&&(e[t]=n)}function qu(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const u=new Wf(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(u.mustUseProperty=!0),t[r]=u,n[na(r)]=r,n[na(u.attribute)]=r}return new Ea(t,n,e.space)}const eE=qu({properties:{ariaActiveDescendant:null,ariaAtomic:Ht,ariaAutoComplete:null,ariaBusy:Ht,ariaChecked:Ht,ariaColCount:ge,ariaColIndex:ge,ariaColSpan:ge,ariaControls:mt,ariaCurrent:null,ariaDescribedBy:mt,ariaDetails:null,ariaDisabled:Ht,ariaDropEffect:mt,ariaErrorMessage:null,ariaExpanded:Ht,ariaFlowTo:mt,ariaGrabbed:Ht,ariaHasPopup:null,ariaHidden:Ht,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:mt,ariaLevel:ge,ariaLive:null,ariaModal:Ht,ariaMultiLine:Ht,ariaMultiSelectable:Ht,ariaOrientation:null,ariaOwns:mt,ariaPlaceholder:null,ariaPosInSet:ge,ariaPressed:Ht,ariaReadOnly:Ht,ariaRelevant:null,ariaRequired:Ht,ariaRoleDescription:mt,ariaRowCount:ge,ariaRowIndex:ge,ariaRowSpan:ge,ariaSelected:Ht,ariaSetSize:ge,ariaSort:null,ariaValueMax:ge,ariaValueMin:ge,ariaValueNow:ge,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function tE(e,t){return t in e?e[t]:t}function nE(e,t){return tE(e,t.toLowerCase())}const Ux=qu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ku,acceptCharset:mt,accessKey:mt,action:null,allow:null,allowFullScreen:Ye,allowPaymentRequest:Ye,allowUserMedia:Ye,alt:null,as:null,async:Ye,autoCapitalize:null,autoComplete:mt,autoFocus:Ye,autoPlay:Ye,blocking:mt,capture:null,charSet:null,checked:Ye,cite:null,className:mt,cols:ge,colSpan:null,content:null,contentEditable:Ht,controls:Ye,controlsList:mt,coords:ge|ku,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ye,defer:Ye,dir:null,dirName:null,disabled:Ye,download:Ud,draggable:Ht,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ye,formTarget:null,headers:mt,height:ge,hidden:Ud,high:ge,href:null,hrefLang:null,htmlFor:mt,httpEquiv:mt,id:null,imageSizes:null,imageSrcSet:null,inert:Ye,inputMode:null,integrity:null,is:null,isMap:Ye,itemId:null,itemProp:mt,itemRef:mt,itemScope:Ye,itemType:mt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ye,low:ge,manifest:null,max:null,maxLength:ge,media:null,method:null,min:null,minLength:ge,multiple:Ye,muted:Ye,name:null,nonce:null,noModule:Ye,noValidate:Ye,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ye,optimum:ge,pattern:null,ping:mt,placeholder:null,playsInline:Ye,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ye,referrerPolicy:null,rel:mt,required:Ye,reversed:Ye,rows:ge,rowSpan:ge,sandbox:mt,scope:null,scoped:Ye,seamless:Ye,selected:Ye,shadowRootClonable:Ye,shadowRootDelegatesFocus:Ye,shadowRootMode:null,shape:null,size:ge,sizes:null,slot:null,span:ge,spellCheck:Ht,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ge,step:null,style:null,tabIndex:ge,target:null,title:null,translate:null,type:null,typeMustMatch:Ye,useMap:null,value:Ht,width:ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:mt,axis:null,background:null,bgColor:null,border:ge,borderColor:null,bottomMargin:ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ye,declare:Ye,event:null,face:null,frame:null,frameBorder:null,hSpace:ge,leftMargin:ge,link:null,longDesc:null,lowSrc:null,marginHeight:ge,marginWidth:ge,noResize:Ye,noHref:Ye,noShade:Ye,noWrap:Ye,object:null,profile:null,prompt:null,rev:null,rightMargin:ge,rules:null,scheme:null,scrolling:Ht,standby:null,summary:null,text:null,topMargin:ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ye,disableRemotePlayback:Ye,prefix:null,property:null,results:ge,security:null,unselectable:null},space:"html",transform:nE}),zx=qu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Pn,accentHeight:ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ge,amplitude:ge,arabicForm:null,ascent:ge,attributeName:null,attributeType:null,azimuth:ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ge,by:null,calcMode:null,capHeight:ge,className:mt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ge,diffuseConstant:ge,direction:null,display:null,dur:null,divisor:ge,dominantBaseline:null,download:Ye,dx:null,dy:null,edgeMode:null,editable:null,elevation:ge,enableBackground:null,end:null,event:null,exponent:ge,externalResourcesRequired:null,fill:null,fillOpacity:ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ku,g2:ku,glyphName:ku,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ge,horizOriginX:ge,horizOriginY:ge,id:null,ideographic:ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ge,k:ge,k1:ge,k2:ge,k3:ge,k4:ge,kernelMatrix:Pn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ge,overlineThickness:ge,paintOrder:null,panose1:null,path:null,pathLength:ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:mt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ge,pointsAtY:ge,pointsAtZ:ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Pn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Pn,rev:Pn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Pn,requiredFeatures:Pn,requiredFonts:Pn,requiredFormats:Pn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ge,specularExponent:ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ge,strikethroughThickness:ge,string:null,stroke:null,strokeDashArray:Pn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ge,strokeOpacity:ge,strokeWidth:null,style:null,surfaceScale:ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Pn,tabIndex:ge,tableValues:null,target:null,targetX:ge,targetY:ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Pn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ge,underlineThickness:ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ge,values:null,vAlphabetic:ge,vMathematical:ge,vectorEffect:null,vHanging:ge,vIdeographic:ge,version:null,vertAdvY:ge,vertOriginX:ge,vertOriginY:ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:tE}),rE=qu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),iE=qu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:nE}),uE=qu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Gx={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},qx=/[A-Z]/g,zh=/-[a-z]/g,Vx=/^data[-\w.:]+$/i;function Ol(e,t){const n=na(t);let r=t,i=On;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Vx.test(t)){if(t.charAt(4)==="-"){const u=t.slice(5).replace(zh,Yx);r="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=t.slice(4);if(!zh.test(u)){let s=u.replace(qx,Wx);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=Wf}return new i(r,t)}function Wx(e){return"-"+e.toLowerCase()}function Yx(e){return e.charAt(1).toUpperCase()}const Ta=Zb([eE,Ux,rE,iE,uE],"html"),bi=Zb([eE,zx,rE,iE,uE],"svg");function Gh(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function sE(e){return e.join(" ").trim()}var fu={},gc,qh;function Kx(){if(qh)return gc;qh=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,o=/^\s+|\s+$/g,a=`
`,c="/",l="*",f="",h="comment",d="declaration";function m(x,g){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];g=g||{};var b=1,v=1;function p(P){var B=P.match(t);B&&(b+=B.length);var M=P.lastIndexOf(a);v=~M?P.length-M:v+P.length}function _(){var P={line:b,column:v};return function(B){return B.position=new E(P),D(),B}}function E(P){this.start=P,this.end={line:b,column:v},this.source=g.source}E.prototype.content=x;function k(P){var B=new Error(g.source+":"+b+":"+v+": "+P);if(B.reason=P,B.filename=g.source,B.line=b,B.column=v,B.source=x,!g.silent)throw B}function R(P){var B=P.exec(x);if(B){var M=B[0];return p(M),x=x.slice(M.length),B}}function D(){R(n)}function N(P){var B;for(P=P||[];B=I();)B!==!1&&P.push(B);return P}function I(){var P=_();if(!(c!=x.charAt(0)||l!=x.charAt(1))){for(var B=2;f!=x.charAt(B)&&(l!=x.charAt(B)||c!=x.charAt(B+1));)++B;if(B+=2,f===x.charAt(B-1))return k("End of comment missing");var M=x.slice(2,B-2);return v+=2,p(M),x=x.slice(B),v+=2,P({type:h,comment:M})}}function w(){var P=_(),B=R(r);if(B){if(I(),!R(i))return k("property missing ':'");var M=R(u),j=P({type:d,property:A(B[0].replace(e,f)),value:M?A(M[0].replace(e,f)):f});return R(s),j}}function O(){var P=[];N(P);for(var B;B=w();)B!==!1&&(P.push(B),N(P));return P}return D(),O()}function A(x){return x?x.replace(o,f):f}return gc=m,gc}var Vh;function $x(){if(Vh)return fu;Vh=1;var e=fu&&fu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fu,"__esModule",{value:!0}),fu.default=n;const t=e(Kx());function n(r,i){let u=null;if(!r||typeof r!="string")return u;const s=(0,t.default)(r),o=typeof i=="function";return s.forEach(a=>{if(a.type!=="declaration")return;const{property:c,value:l}=a;o?i(c,l,a):l&&(u=u||{},u[c]=l)}),u}return fu}var ts={},Wh;function Qx(){if(Wh)return ts;Wh=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,u=function(c){return!c||n.test(c)||e.test(c)},s=function(c,l){return l.toUpperCase()},o=function(c,l){return"".concat(l,"-")},a=function(c,l){return l===void 0&&(l={}),u(c)?c:(c=c.toLowerCase(),l.reactCompat?c=c.replace(i,o):c=c.replace(r,o),c.replace(t,s))};return ts.camelCase=a,ts}var ns,Yh;function Xx(){if(Yh)return ns;Yh=1;var e=ns&&ns.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e($x()),n=Qx();function r(i,u){var s={};return!i||typeof i!="string"||(0,t.default)(i,function(o,a){o&&a&&(s[(0,n.camelCase)(o,u)]=a)}),s}return r.default=r,ns=r,ns}var Jx=Xx();const Zx=zf(Jx),Dl=aE("end"),_r=aE("start");function aE(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function eC(e){const t=_r(e),n=Dl(e);if(t&&n)return{start:t,end:n}}function Ms(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Kh(e.position):"start"in e||"end"in e?Kh(e):"line"in e||"column"in e?Gd(e):""}function Gd(e){return $h(e&&e.line)+":"+$h(e&&e.column)}function Kh(e){return Gd(e&&e.start)+"-"+Gd(e&&e.end)}function $h(e){return e&&typeof e=="number"?e:1}class fn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",u={},s=!1;if(n&&("line"in n&&"column"in n?u={place:n}:"start"in n&&"end"in n?u={place:n}:"type"in n?u={ancestors:[n],place:n.position}:u=G({},n)),typeof t=="string"?i=t:!u.cause&&t&&(s=!0,i=t.message,u.cause=t),!u.ruleId&&!u.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?u.ruleId=r:(u.source=r.slice(0,a),u.ruleId=r.slice(a+1))}if(!u.place&&u.ancestors&&u.ancestors){const a=u.ancestors[u.ancestors.length-1];a&&(u.place=a.position)}const o=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Ms(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=s&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}fn.prototype.file="";fn.prototype.name="";fn.prototype.reason="";fn.prototype.message="";fn.prototype.stack="";fn.prototype.column=void 0;fn.prototype.line=void 0;fn.prototype.ancestors=void 0;fn.prototype.cause=void 0;fn.prototype.fatal=void 0;fn.prototype.place=void 0;fn.prototype.ruleId=void 0;fn.prototype.source=void 0;const Yf={}.hasOwnProperty,tC=new Map,nC=/[A-Z]/g,rC=new Set(["table","tbody","thead","tfoot","tr"]),iC=new Set(["td","th"]),oE="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function uC(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=hC(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=fC(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?bi:Ta,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},u=lE(i,e,void 0);return u&&typeof u!="string"?u:i.create(e,i.Fragment,{children:u||void 0},void 0)}function lE(e,t,n){if(t.type==="element")return sC(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return aC(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return lC(e,t,n);if(t.type==="mdxjsEsm")return oC(e,t);if(t.type==="root")return cC(e,t,n);if(t.type==="text")return dC(e,t)}function sC(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=bi,e.schema=i),e.ancestors.push(t);const u=dE(e,t.tagName,!1),s=pC(e,t);let o=$f(e,t);return rC.has(t.tagName)&&(o=o.filter(function(a){return typeof a=="string"?!Hx(a):!0})),cE(e,s,u,t),Kf(s,o),e.ancestors.pop(),e.schema=r,e.create(t,u,s,n)}function aC(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ra(e,t.position)}function oC(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ra(e,t.position)}function lC(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=bi,e.schema=i),e.ancestors.push(t);const u=t.name===null?e.Fragment:dE(e,t.name,!0),s=mC(e,t),o=$f(e,t);return cE(e,s,u,t),Kf(s,o),e.ancestors.pop(),e.schema=r,e.create(t,u,s,n)}function cC(e,t,n){const r={};return Kf(r,$f(e,t)),e.create(t,e.Fragment,r,n)}function dC(e,t){return t.value}function cE(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Kf(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function fC(e,t,n){return r;function r(i,u,s,o){const c=Array.isArray(s.children)?n:t;return o?c(u,s,o):c(u,s)}}function hC(e,t){return n;function n(r,i,u,s){const o=Array.isArray(u.children),a=_r(r);return t(i,u,s,o,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function pC(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Yf.call(t.properties,i)){const u=gC(e,i,t.properties[i]);if(u){const[s,o]=u;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&iC.has(t.tagName)?r=o:n[s]=o}}if(r){const u=n.style||(n.style={});u[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function mC(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const u=r.data.estree.body[0];u.type;const s=u.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else ra(e,t.position);else{const i=r.name;let u;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,u=e.evaluater.evaluateExpression(o.expression)}else ra(e,t.position);else u=r.value===null?!0:r.value;n[i]=u}return n}function $f(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:tC;for(;++r<t.children.length;){const u=t.children[r];let s;if(e.passKeys){const a=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(a){const c=i.get(a)||0;s=a+"-"+c,i.set(a,c+1)}}const o=lE(e,u,s);o!==void 0&&n.push(o)}return n}function gC(e,t,n){const r=Ol(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Jb(n):sE(n)),r.property==="style"){let i=typeof n=="object"?n:bC(e,String(n));return e.stylePropertyNameCase==="css"&&(i=EC(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Gx[r.property]||r.property:r.attribute,n]}}function bC(e,t){try{return Zx(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new fn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=oE+"#cannot-parse-style-attribute",i}}function dE(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let u=-1,s;for(;++u<i.length;){const o=Hh(i[u])?{type:"Identifier",name:i[u]}:{type:"Literal",value:i[u]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(u&&o.type==="Literal"),optional:!1}:o}r=s}else r=Hh(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Yf.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ra(e)}function ra(e,t){const n=new fn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=oE+"#cannot-handle-mdx-estrees-without-createevaluater",n}function EC(e){const t={};let n;for(n in e)Yf.call(e,n)&&(t[TC(n)]=e[n]);return t}function TC(e){let t=e.replace(nC,_C);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function _C(e){return"-"+e.toLowerCase()}const bc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},yC={};function Qf(e,t){const n=yC,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return fE(e,r,i)}function fE(e,t,n){if(AC(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Qh(e.children,t,n)}return Array.isArray(e)?Qh(e,t,n):""}function Qh(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=fE(e[i],t,n);return r.join("")}function AC(e){return!!(e&&typeof e=="object")}const Xh=document.createElement("i");function Xf(e){const t="&"+e+";";Xh.innerHTML=t;const n=Xh.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Hn(e,t,n,r){const i=e.length;let u=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);u<r.length;)s=r.slice(u,u+1e4),s.unshift(t,0),e.splice(...s),u+=1e4,t+=1e4}function qn(e,t){return e.length>0?(Hn(e,e.length,0,t),e):t}const Jh={}.hasOwnProperty;function hE(e){const t={};let n=-1;for(;++n<e.length;)xC(t,e[n]);return t}function xC(e,t){let n;for(n in t){const i=(Jh.call(e,n)?e[n]:void 0)||(e[n]={}),u=t[n];let s;if(u)for(s in u){Jh.call(i,s)||(i[s]=[]);const o=u[s];CC(i[s],Array.isArray(o)?o:o?[o]:[])}}}function CC(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Hn(e,0,0,r)}function pE(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function ir(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Tn=Ei(/[A-Za-z]/),ln=Ei(/[\dA-Za-z]/),NC=Ei(/[#-'*+\--9=?A-Z^-~]/);function Ro(e){return e!==null&&(e<32||e===127)}const qd=Ei(/\d/),SC=Ei(/[\dA-Fa-f]/),IC=Ei(/[!-/:-@[-`{-~]/);function Le(e){return e!==null&&e<-2}function ft(e){return e!==null&&(e<0||e===32)}function Je(e){return e===-2||e===-1||e===32}const Rl=Ei(new RegExp("\\p{P}|\\p{S}","u")),Qi=Ei(/\s/);function Ei(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Vu(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const u=e.charCodeAt(n);let s="";if(u===37&&ln(e.charCodeAt(n+1))&&ln(e.charCodeAt(n+2)))i=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(s=String.fromCharCode(u));else if(u>55295&&u<57344){const o=e.charCodeAt(n+1);u<56320&&o>56319&&o<57344?(s=String.fromCharCode(u,o),i=1):s="�"}else s=String.fromCharCode(u);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function tt(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let u=0;return s;function s(a){return Je(a)?(e.enter(n),o(a)):t(a)}function o(a){return Je(a)&&u++<i?(e.consume(a),o):(e.exit(n),t(a))}}const vC={tokenize:kC};function kC(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),tt(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),u(o)}function u(o){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Le(o)?(e.consume(o),e.exit("chunkText"),u):(e.consume(o),s)}}const wC={tokenize:OC},Zh={tokenize:DC};function OC(e){const t=this,n=[];let r=0,i,u,s;return o;function o(v){if(r<n.length){const p=n[r];return t.containerState=p[1],e.attempt(p[0].continuation,a,c)(v)}return c(v)}function a(v){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const p=t.events.length;let _=p,E;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){E=t.events[_][1].end;break}g(r);let k=p;for(;k<t.events.length;)t.events[k][1].end=G({},E),k++;return Hn(t.events,_+1,0,t.events.slice(p)),t.events.length=k,c(v)}return o(v)}function c(v){if(r===n.length){if(!i)return h(v);if(i.currentConstruct&&i.currentConstruct.concrete)return m(v);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Zh,l,f)(v)}function l(v){return i&&b(),g(r),h(v)}function f(v){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,m(v)}function h(v){return t.containerState={},e.attempt(Zh,d,m)(v)}function d(v){return r++,n.push([t.currentConstruct,t.containerState]),h(v)}function m(v){if(v===null){i&&b(),g(0),e.consume(v);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:u}),A(v)}function A(v){if(v===null){x(e.exit("chunkFlow"),!0),g(0),e.consume(v);return}return Le(v)?(e.consume(v),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(v),A)}function x(v,p){const _=t.sliceStream(v);if(p&&_.push(null),v.previous=u,u&&(u.next=v),u=v,i.defineSkip(v.start),i.write(_),t.parser.lazy[v.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<s&&(!i.events[E][1].end||i.events[E][1].end.offset>s))return;const k=t.events.length;let R=k,D,N;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){if(D){N=t.events[R][1].end;break}D=!0}for(g(r),E=k;E<t.events.length;)t.events[E][1].end=G({},N),E++;Hn(t.events,R+1,0,t.events.slice(k)),t.events.length=E}}function g(v){let p=n.length;for(;p-- >v;){const _=n[p];t.containerState=_[1],_[0].exit.call(t,e)}n.length=v}function b(){i.write([null]),u=void 0,i=void 0,t.containerState._closeFlow=void 0}}function DC(e,t,n){return tt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ru(e){if(e===null||ft(e)||Qi(e))return 1;if(Rl(e))return 2}function Ll(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const u=e[i].resolveAll;u&&!r.includes(u)&&(t=u(t,n),r.push(u))}return t}const Vd={name:"attention",resolveAll:RC,tokenize:LC};function RC(e,t){let n=-1,r,i,u,s,o,a,c,l;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=G({},e[r][1].end),h=G({},e[n][1].start);ep(f,-a),ep(h,a),s={type:a>1?"strongSequence":"emphasisSequence",start:f,end:G({},e[r][1].end)},o={type:a>1?"strongSequence":"emphasisSequence",start:G({},e[n][1].start),end:h},u={type:a>1?"strongText":"emphasisText",start:G({},e[r][1].end),end:G({},e[n][1].start)},i={type:a>1?"strong":"emphasis",start:G({},s.start),end:G({},o.end)},e[r][1].end=G({},s.start),e[n][1].start=G({},o.end),c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=qn(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=qn(c,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",u,t]]),c=qn(c,Ll(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=qn(c,[["exit",u,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(l=2,c=qn(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):l=0,Hn(e,r-1,n-r+3,c),n=r+c.length-l-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function LC(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Ru(r);let u;return s;function s(a){return u=a,e.enter("attentionSequence"),o(a)}function o(a){if(a===u)return e.consume(a),o;const c=e.exit("attentionSequence"),l=Ru(a),f=!l||l===2&&i||n.includes(a),h=!i||i===2&&l||n.includes(r);return c._open=!!(u===42?f:f&&(i||!h)),c._close=!!(u===42?h:h&&(l||!f)),t(a)}}function ep(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const PC={name:"autolink",tokenize:MC};function MC(e,t,n){let r=0;return i;function i(d){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),u}function u(d){return Tn(d)?(e.consume(d),s):d===64?n(d):c(d)}function s(d){return d===43||d===45||d===46||ln(d)?(r=1,o(d)):c(d)}function o(d){return d===58?(e.consume(d),r=0,a):(d===43||d===45||d===46||ln(d))&&r++<32?(e.consume(d),o):(r=0,c(d))}function a(d){return d===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):d===null||d===32||d===60||Ro(d)?n(d):(e.consume(d),a)}function c(d){return d===64?(e.consume(d),l):NC(d)?(e.consume(d),c):n(d)}function l(d){return ln(d)?f(d):n(d)}function f(d){return d===46?(e.consume(d),r=0,l):d===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):h(d)}function h(d){if((d===45||ln(d))&&r++<63){const m=d===45?h:f;return e.consume(d),m}return n(d)}}const _a={partial:!0,tokenize:BC};function BC(e,t,n){return r;function r(u){return Je(u)?tt(e,i,"linePrefix")(u):i(u)}function i(u){return u===null||Le(u)?t(u):n(u)}}const mE={continuation:{tokenize:HC},exit:jC,name:"blockQuote",tokenize:FC};function FC(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),u}return n(s)}function u(s){return Je(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function HC(e,t,n){const r=this;return i;function i(s){return Je(s)?tt(e,u,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):u(s)}function u(s){return e.attempt(mE,t,n)(s)}}function jC(e){e.exit("blockQuote")}const gE={name:"characterEscape",tokenize:UC};function UC(e,t,n){return r;function r(u){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(u),e.exit("escapeMarker"),i}function i(u){return IC(u)?(e.enter("characterEscapeValue"),e.consume(u),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(u)}}const bE={name:"characterReference",tokenize:zC};function zC(e,t,n){const r=this;let i=0,u,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),a}function a(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),u=31,s=ln,l(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),u=6,s=SC,l):(e.enter("characterReferenceValue"),u=7,s=qd,l(f))}function l(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===ln&&!Xf(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<u?(e.consume(f),l):n(f)}}const tp={partial:!0,tokenize:qC},np={concrete:!0,name:"codeFenced",tokenize:GC};function GC(e,t,n){const r=this,i={partial:!0,tokenize:_};let u=0,s=0,o;return a;function a(E){return c(E)}function c(E){const k=r.events[r.events.length-1];return u=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,o=E,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(E)}function l(E){return E===o?(s++,e.consume(E),l):s<3?n(E):(e.exit("codeFencedFenceSequence"),Je(E)?tt(e,f,"whitespace")(E):f(E))}function f(E){return E===null||Le(E)?(e.exit("codeFencedFence"),r.interrupt?t(E):e.check(tp,A,p)(E)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(E))}function h(E){return E===null||Le(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(E)):Je(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),tt(e,d,"whitespace")(E)):E===96&&E===o?n(E):(e.consume(E),h)}function d(E){return E===null||Le(E)?f(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===null||Le(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(E)):E===96&&E===o?n(E):(e.consume(E),m)}function A(E){return e.attempt(i,p,x)(E)}function x(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),g}function g(E){return u>0&&Je(E)?tt(e,b,"linePrefix",u+1)(E):b(E)}function b(E){return E===null||Le(E)?e.check(tp,A,p)(E):(e.enter("codeFlowValue"),v(E))}function v(E){return E===null||Le(E)?(e.exit("codeFlowValue"),b(E)):(e.consume(E),v)}function p(E){return e.exit("codeFenced"),t(E)}function _(E,k,R){let D=0;return N;function N(B){return E.enter("lineEnding"),E.consume(B),E.exit("lineEnding"),I}function I(B){return E.enter("codeFencedFence"),Je(B)?tt(E,w,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):w(B)}function w(B){return B===o?(E.enter("codeFencedFenceSequence"),O(B)):R(B)}function O(B){return B===o?(D++,E.consume(B),O):D>=s?(E.exit("codeFencedFenceSequence"),Je(B)?tt(E,P,"whitespace")(B):P(B)):R(B)}function P(B){return B===null||Le(B)?(E.exit("codeFencedFence"),k(B)):R(B)}}}function qC(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),u)}function u(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const Ec={name:"codeIndented",tokenize:WC},VC={partial:!0,tokenize:YC};function WC(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),tt(e,u,"linePrefix",5)(c)}function u(c){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?a(c):Le(c)?e.attempt(VC,s,a)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||Le(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),o)}function a(c){return e.exit("codeIndented"),t(c)}}function YC(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Le(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):tt(e,u,"linePrefix",5)(s)}function u(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):Le(s)?i(s):n(s)}}const KC={name:"codeText",previous:QC,resolve:$C,tokenize:XC};function $C(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function QC(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function XC(e,t,n){let r=0,i,u;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),a(f))}function a(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),a):f===96?(u=e.enter("codeTextSequence"),i=0,l(f)):Le(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),a):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Le(f)?(e.exit("codeTextData"),a(f)):(e.consume(f),c)}function l(f){return f===96?(e.consume(f),i++,l):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(u.type="codeTextData",c(f))}}class JC{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n==null?Number.POSITIVE_INFINITY:n;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const u=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&rs(this.left,r),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),rs(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),rs(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);rs(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);rs(this.left,n.reverse())}}}function rs(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function EE(e){const t={};let n=-1,r,i,u,s,o,a,c;const l=new JC(e);for(;++n<l.length;){for(;n in t;)n=t[n];if(r=l.get(n),n&&r[1].type==="chunkFlow"&&l.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,u=0,u<a.length&&a[u][1].type==="lineEndingBlank"&&(u+=2),u<a.length&&a[u][1].type==="content"))for(;++u<a.length&&a[u][1].type!=="content";)a[u][1].type==="chunkText"&&(a[u][1]._isInFirstContentOfListItem=!0,u++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,ZC(l,n)),n=t[n],c=!0);else if(r[1]._container){for(u=n,i=void 0;u--;)if(s=l.get(u),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(l.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=u);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end=G({},l.get(i)[1].start),o=l.slice(i,n),o.unshift(r),l.splice(i,n-i+1,o))}}return Hn(e,0,Number.POSITIVE_INFINITY,l.slice(0)),!c}function ZC(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const u=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,a=[],c={};let l,f,h=-1,d=n,m=0,A=0;const x=[A];for(;d;){for(;e.get(++i)[1]!==d;);u.push(i),d._tokenizer||(l=r.sliceStream(d),d.next||l.push(null),f&&s.defineSkip(d.start),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(l),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=d,d=d.next}for(d=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(A=h+1,x.push(A),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(s.events=[],d?(d._tokenizer=void 0,d.previous=void 0):x.pop(),h=x.length;h--;){const g=o.slice(x[h],x[h+1]),b=u.pop();a.push([b,b+g.length-1]),e.splice(b,2,g)}for(a.reverse(),h=-1;++h<a.length;)c[m+a[h][0]]=m+a[h][1],m+=a[h][1]-a[h][0]-1;return c}const e6={resolve:n6,tokenize:r6},t6={partial:!0,tokenize:i6};function n6(e){return EE(e),e}function r6(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?u(o):Le(o)?e.check(t6,s,u)(o):(e.consume(o),i)}function u(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function i6(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),tt(e,u,"linePrefix")}function u(s){if(s===null||Le(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function TE(e,t,n,r,i,u,s,o,a){const c=a||Number.POSITIVE_INFINITY;let l=0;return f;function f(g){return g===60?(e.enter(r),e.enter(i),e.enter(u),e.consume(g),e.exit(u),h):g===null||g===32||g===41||Ro(g)?n(g):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),A(g))}function h(g){return g===62?(e.enter(u),e.consume(g),e.exit(u),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===62?(e.exit("chunkString"),e.exit(o),h(g)):g===null||g===60||Le(g)?n(g):(e.consume(g),g===92?m:d)}function m(g){return g===60||g===62||g===92?(e.consume(g),d):d(g)}function A(g){return!l&&(g===null||g===41||ft(g))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(g)):l<c&&g===40?(e.consume(g),l++,A):g===41?(e.consume(g),l--,A):g===null||g===32||g===40||Ro(g)?n(g):(e.consume(g),g===92?x:A)}function x(g){return g===40||g===41||g===92?(e.consume(g),A):A(g)}}function _E(e,t,n,r,i,u){const s=this;let o=0,a;return c;function c(d){return e.enter(r),e.enter(i),e.consume(d),e.exit(i),e.enter(u),l}function l(d){return o>999||d===null||d===91||d===93&&!a||d===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(d):d===93?(e.exit(u),e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):Le(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("chunkString",{contentType:"string"}),f(d))}function f(d){return d===null||d===91||d===93||Le(d)||o++>999?(e.exit("chunkString"),l(d)):(e.consume(d),a||(a=!Je(d)),d===92?h:f)}function h(d){return d===91||d===92||d===93?(e.consume(d),o++,f):f(d)}}function yE(e,t,n,r,i,u){let s;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,a):n(h)}function a(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(u),c(h))}function c(h){return h===s?(e.exit(u),a(s)):h===null?n(h):Le(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),tt(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),l(h))}function l(h){return h===s||h===null||Le(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?f:l)}function f(h){return h===s||h===92?(e.consume(h),l):l(h)}}function Bs(e,t){let n;return r;function r(i){return Le(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Je(i)?tt(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const u6={name:"definition",tokenize:a6},s6={partial:!0,tokenize:o6};function a6(e,t,n){const r=this;let i;return u;function u(d){return e.enter("definition"),s(d)}function s(d){return _E.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}function o(d){return i=ir(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),d===58?(e.enter("definitionMarker"),e.consume(d),e.exit("definitionMarker"),a):n(d)}function a(d){return ft(d)?Bs(e,c)(d):c(d)}function c(d){return TE(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function l(d){return e.attempt(s6,f,f)(d)}function f(d){return Je(d)?tt(e,h,"whitespace")(d):h(d)}function h(d){return d===null||Le(d)?(e.exit("definition"),r.parser.defined.push(i),t(d)):n(d)}}function o6(e,t,n){return r;function r(o){return ft(o)?Bs(e,i)(o):n(o)}function i(o){return yE(e,u,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function u(o){return Je(o)?tt(e,s,"whitespace")(o):s(o)}function s(o){return o===null||Le(o)?t(o):n(o)}}const l6={name:"hardBreakEscape",tokenize:c6};function c6(e,t,n){return r;function r(u){return e.enter("hardBreakEscape"),e.consume(u),i}function i(u){return Le(u)?(e.exit("hardBreakEscape"),t(u)):n(u)}}const d6={name:"headingAtx",resolve:f6,tokenize:h6};function f6(e,t){let n=e.length-2,r=3,i,u;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},u={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Hn(e,r,n-r+1,[["enter",i,t],["enter",u,t],["exit",u,t],["exit",i,t]])),e}function h6(e,t,n){let r=0;return i;function i(l){return e.enter("atxHeading"),u(l)}function u(l){return e.enter("atxHeadingSequence"),s(l)}function s(l){return l===35&&r++<6?(e.consume(l),s):l===null||ft(l)?(e.exit("atxHeadingSequence"),o(l)):n(l)}function o(l){return l===35?(e.enter("atxHeadingSequence"),a(l)):l===null||Le(l)?(e.exit("atxHeading"),t(l)):Je(l)?tt(e,o,"whitespace")(l):(e.enter("atxHeadingText"),c(l))}function a(l){return l===35?(e.consume(l),a):(e.exit("atxHeadingSequence"),o(l))}function c(l){return l===null||l===35||ft(l)?(e.exit("atxHeadingText"),o(l)):(e.consume(l),c)}}const p6=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],rp=["pre","script","style","textarea"],m6={concrete:!0,name:"htmlFlow",resolveTo:E6,tokenize:T6},g6={partial:!0,tokenize:y6},b6={partial:!0,tokenize:_6};function E6(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function T6(e,t,n){const r=this;let i,u,s,o,a;return c;function c(H){return l(H)}function l(H){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(H),f}function f(H){return H===33?(e.consume(H),h):H===47?(e.consume(H),u=!0,A):H===63?(e.consume(H),i=3,r.interrupt?t:L):Tn(H)?(e.consume(H),s=String.fromCharCode(H),x):n(H)}function h(H){return H===45?(e.consume(H),i=2,d):H===91?(e.consume(H),i=5,o=0,m):Tn(H)?(e.consume(H),i=4,r.interrupt?t:L):n(H)}function d(H){return H===45?(e.consume(H),r.interrupt?t:L):n(H)}function m(H){const Q="CDATA[";return H===Q.charCodeAt(o++)?(e.consume(H),o===Q.length?r.interrupt?t:w:m):n(H)}function A(H){return Tn(H)?(e.consume(H),s=String.fromCharCode(H),x):n(H)}function x(H){if(H===null||H===47||H===62||ft(H)){const Q=H===47,ee=s.toLowerCase();return!Q&&!u&&rp.includes(ee)?(i=1,r.interrupt?t(H):w(H)):p6.includes(s.toLowerCase())?(i=6,Q?(e.consume(H),g):r.interrupt?t(H):w(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):u?b(H):v(H))}return H===45||ln(H)?(e.consume(H),s+=String.fromCharCode(H),x):n(H)}function g(H){return H===62?(e.consume(H),r.interrupt?t:w):n(H)}function b(H){return Je(H)?(e.consume(H),b):N(H)}function v(H){return H===47?(e.consume(H),N):H===58||H===95||Tn(H)?(e.consume(H),p):Je(H)?(e.consume(H),v):N(H)}function p(H){return H===45||H===46||H===58||H===95||ln(H)?(e.consume(H),p):_(H)}function _(H){return H===61?(e.consume(H),E):Je(H)?(e.consume(H),_):v(H)}function E(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(e.consume(H),a=H,k):Je(H)?(e.consume(H),E):R(H)}function k(H){return H===a?(e.consume(H),a=null,D):H===null||Le(H)?n(H):(e.consume(H),k)}function R(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||ft(H)?_(H):(e.consume(H),R)}function D(H){return H===47||H===62||Je(H)?v(H):n(H)}function N(H){return H===62?(e.consume(H),I):n(H)}function I(H){return H===null||Le(H)?w(H):Je(H)?(e.consume(H),I):n(H)}function w(H){return H===45&&i===2?(e.consume(H),M):H===60&&i===1?(e.consume(H),j):H===62&&i===4?(e.consume(H),F):H===63&&i===3?(e.consume(H),L):H===93&&i===5?(e.consume(H),$):Le(H)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(g6,V,O)(H)):H===null||Le(H)?(e.exit("htmlFlowData"),O(H)):(e.consume(H),w)}function O(H){return e.check(b6,P,V)(H)}function P(H){return e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),B}function B(H){return H===null||Le(H)?O(H):(e.enter("htmlFlowData"),w(H))}function M(H){return H===45?(e.consume(H),L):w(H)}function j(H){return H===47?(e.consume(H),s="",W):w(H)}function W(H){if(H===62){const Q=s.toLowerCase();return rp.includes(Q)?(e.consume(H),F):w(H)}return Tn(H)&&s.length<8?(e.consume(H),s+=String.fromCharCode(H),W):w(H)}function $(H){return H===93?(e.consume(H),L):w(H)}function L(H){return H===62?(e.consume(H),F):H===45&&i===2?(e.consume(H),L):w(H)}function F(H){return H===null||Le(H)?(e.exit("htmlFlowData"),V(H)):(e.consume(H),F)}function V(H){return e.exit("htmlFlow"),t(H)}}function _6(e,t,n){const r=this;return i;function i(s){return Le(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),u):n(s)}function u(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function y6(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(_a,t,n)}}const A6={name:"htmlText",tokenize:x6};function x6(e,t,n){const r=this;let i,u,s;return o;function o(L){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(L),a}function a(L){return L===33?(e.consume(L),c):L===47?(e.consume(L),_):L===63?(e.consume(L),v):Tn(L)?(e.consume(L),R):n(L)}function c(L){return L===45?(e.consume(L),l):L===91?(e.consume(L),u=0,m):Tn(L)?(e.consume(L),b):n(L)}function l(L){return L===45?(e.consume(L),d):n(L)}function f(L){return L===null?n(L):L===45?(e.consume(L),h):Le(L)?(s=f,j(L)):(e.consume(L),f)}function h(L){return L===45?(e.consume(L),d):f(L)}function d(L){return L===62?M(L):L===45?h(L):f(L)}function m(L){const F="CDATA[";return L===F.charCodeAt(u++)?(e.consume(L),u===F.length?A:m):n(L)}function A(L){return L===null?n(L):L===93?(e.consume(L),x):Le(L)?(s=A,j(L)):(e.consume(L),A)}function x(L){return L===93?(e.consume(L),g):A(L)}function g(L){return L===62?M(L):L===93?(e.consume(L),g):A(L)}function b(L){return L===null||L===62?M(L):Le(L)?(s=b,j(L)):(e.consume(L),b)}function v(L){return L===null?n(L):L===63?(e.consume(L),p):Le(L)?(s=v,j(L)):(e.consume(L),v)}function p(L){return L===62?M(L):v(L)}function _(L){return Tn(L)?(e.consume(L),E):n(L)}function E(L){return L===45||ln(L)?(e.consume(L),E):k(L)}function k(L){return Le(L)?(s=k,j(L)):Je(L)?(e.consume(L),k):M(L)}function R(L){return L===45||ln(L)?(e.consume(L),R):L===47||L===62||ft(L)?D(L):n(L)}function D(L){return L===47?(e.consume(L),M):L===58||L===95||Tn(L)?(e.consume(L),N):Le(L)?(s=D,j(L)):Je(L)?(e.consume(L),D):M(L)}function N(L){return L===45||L===46||L===58||L===95||ln(L)?(e.consume(L),N):I(L)}function I(L){return L===61?(e.consume(L),w):Le(L)?(s=I,j(L)):Je(L)?(e.consume(L),I):D(L)}function w(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(e.consume(L),i=L,O):Le(L)?(s=w,j(L)):Je(L)?(e.consume(L),w):(e.consume(L),P)}function O(L){return L===i?(e.consume(L),i=void 0,B):L===null?n(L):Le(L)?(s=O,j(L)):(e.consume(L),O)}function P(L){return L===null||L===34||L===39||L===60||L===61||L===96?n(L):L===47||L===62||ft(L)?D(L):(e.consume(L),P)}function B(L){return L===47||L===62||ft(L)?D(L):n(L)}function M(L){return L===62?(e.consume(L),e.exit("htmlTextData"),e.exit("htmlText"),t):n(L)}function j(L){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),W}function W(L){return Je(L)?tt(e,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):$(L)}function $(L){return e.enter("htmlTextData"),s(L)}}const Jf={name:"labelEnd",resolveAll:I6,resolveTo:v6,tokenize:k6},C6={tokenize:w6},N6={tokenize:O6},S6={tokenize:D6};function I6(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Hn(e,0,e.length,n),e}function v6(e,t){let n=e.length,r=0,i,u,s,o;for(;n--;)if(i=e[n][1],u){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(u=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const a={type:e[u][1].type==="labelLink"?"link":"image",start:G({},e[u][1].start),end:G({},e[e.length-1][1].end)},c={type:"label",start:G({},e[u][1].start),end:G({},e[s][1].end)},l={type:"labelText",start:G({},e[u+r+2][1].end),end:G({},e[s-2][1].start)};return o=[["enter",a,t],["enter",c,t]],o=qn(o,e.slice(u+1,u+r+3)),o=qn(o,[["enter",l,t]]),o=qn(o,Ll(t.parser.constructs.insideSpan.null,e.slice(u+r+4,s-3),t)),o=qn(o,[["exit",l,t],e[s-2],e[s-1],["exit",c,t]]),o=qn(o,e.slice(s+1)),o=qn(o,[["exit",a,t]]),Hn(e,u,e.length,o),e}function k6(e,t,n){const r=this;let i=r.events.length,u,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){u=r.events[i][1];break}return o;function o(h){return u?u._inactive?f(h):(s=r.parser.defined.includes(ir(r.sliceSerialize({start:u.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),a):n(h)}function a(h){return h===40?e.attempt(C6,l,s?l:f)(h):h===91?e.attempt(N6,l,s?c:f)(h):s?l(h):f(h)}function c(h){return e.attempt(S6,l,f)(h)}function l(h){return t(h)}function f(h){return u._balanced=!0,n(h)}}function w6(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return ft(f)?Bs(e,u)(f):u(f)}function u(f){return f===41?l(f):TE(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return ft(f)?Bs(e,a)(f):l(f)}function o(f){return n(f)}function a(f){return f===34||f===39||f===40?yE(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):l(f)}function c(f){return ft(f)?Bs(e,l)(f):l(f)}function l(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function O6(e,t,n){const r=this;return i;function i(o){return _E.call(r,e,u,s,"reference","referenceMarker","referenceString")(o)}function u(o){return r.parser.defined.includes(ir(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function D6(e,t,n){return r;function r(u){return e.enter("reference"),e.enter("referenceMarker"),e.consume(u),e.exit("referenceMarker"),i}function i(u){return u===93?(e.enter("referenceMarker"),e.consume(u),e.exit("referenceMarker"),e.exit("reference"),t):n(u)}}const R6={name:"labelStartImage",resolveAll:Jf.resolveAll,tokenize:L6};function L6(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),u}function u(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const P6={name:"labelStartLink",resolveAll:Jf.resolveAll,tokenize:M6};function M6(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),u}function u(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Tc={name:"lineEnding",tokenize:B6};function B6(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),tt(e,t,"linePrefix")}}const yo={name:"thematicBreak",tokenize:F6};function F6(e,t,n){let r=0,i;return u;function u(c){return e.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),a(c)):r>=3&&(c===null||Le(c))?(e.exit("thematicBreak"),t(c)):n(c)}function a(c){return c===i?(e.consume(c),r++,a):(e.exit("thematicBreakSequence"),Je(c)?tt(e,o,"whitespace")(c):o(c))}}const In={continuation:{tokenize:z6},exit:q6,name:"list",tokenize:U6},H6={partial:!0,tokenize:V6},j6={partial:!0,tokenize:G6};function U6(e,t,n){const r=this,i=r.events[r.events.length-1];let u=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(d){const m=r.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||d===r.containerState.marker:qd(d)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),d===42||d===45?e.check(yo,n,c)(d):c(d);if(!r.interrupt||d===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(d)}return n(d)}function a(d){return qd(d)&&++s<10?(e.consume(d),a):(!r.interrupt||s<2)&&(r.containerState.marker?d===r.containerState.marker:d===41||d===46)?(e.exit("listItemValue"),c(d)):n(d)}function c(d){return e.enter("listItemMarker"),e.consume(d),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||d,e.check(_a,r.interrupt?n:l,e.attempt(H6,h,f))}function l(d){return r.containerState.initialBlankLine=!0,u++,h(d)}function f(d){return Je(d)?(e.enter("listItemPrefixWhitespace"),e.consume(d),e.exit("listItemPrefixWhitespace"),h):n(d)}function h(d){return r.containerState.size=u+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(d)}}function z6(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(_a,i,u);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,tt(e,t,"listItemIndent",r.containerState.size+1)(o)}function u(o){return r.containerState.furtherBlankLines||!Je(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(j6,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,tt(e,e.attempt(In,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function G6(e,t,n){const r=this;return tt(e,i,"listItemIndent",r.containerState.size+1);function i(u){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(u):n(u)}}function q6(e){e.exit(this.containerState.type)}function V6(e,t,n){const r=this;return tt(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(u){const s=r.events[r.events.length-1];return!Je(u)&&s&&s[1].type==="listItemPrefixWhitespace"?t(u):n(u)}}const ip={name:"setextUnderline",resolveTo:W6,tokenize:Y6};function W6(e,t){let n=e.length,r,i,u;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!u&&e[n][1].type==="definition"&&(u=n);const s={type:"setextHeading",start:G({},e[r][1].start),end:G({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",u?(e.splice(i,0,["enter",s,t]),e.splice(u+1,0,["exit",e[r][1],t]),e[r][1].end=G({},e[u][1].end)):e[r][1]=s,e.push(["exit",s,t]),e}function Y6(e,t,n){const r=this;let i;return u;function u(c){let l=r.events.length,f;for(;l--;)if(r.events[l][1].type!=="lineEnding"&&r.events[l][1].type!=="linePrefix"&&r.events[l][1].type!=="content"){f=r.events[l][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),Je(c)?tt(e,a,"lineSuffix")(c):a(c))}function a(c){return c===null||Le(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const K6={tokenize:$6};function $6(e){const t=this,n=e.attempt(_a,r,e.attempt(this.parser.constructs.flowInitial,i,tt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(e6,i)),"linePrefix")));return n;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEndingBlank"),e.consume(u),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Q6={resolveAll:xE()},X6=AE("string"),J6=AE("text");function AE(e){return{resolveAll:xE(e==="text"?Z6:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],u=n.attempt(i,s,o);return s;function s(l){return c(l)?u(l):o(l)}function o(l){if(l===null){n.consume(l);return}return n.enter("data"),n.consume(l),a}function a(l){return c(l)?(n.exit("data"),u(l)):(n.consume(l),a)}function c(l){if(l===null)return!0;const f=i[l];let h=-1;if(f)for(;++h<f.length;){const d=f[h];if(!d.previous||d.previous.call(r,r.previous))return!0}return!1}}}function xE(e){return t;function t(n,r){let i=-1,u;for(;++i<=n.length;)u===void 0?n[i]&&n[i][1].type==="data"&&(u=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==u+2&&(n[u][1].end=n[i-1][1].end,n.splice(u+2,i-u-2),i=u+2),u=void 0);return e?e(n,r):n}}function Z6(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let u=i.length,s=-1,o=0,a;for(;u--;){const c=i[u];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)a=!0,o++;else if(c!==-1){u++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const c={type:n===e.length||a||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?s:r.start._bufferIndex+s,_index:r.start._index+u,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:G({},r.end)};r.end=G({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const eN={42:In,43:In,45:In,48:In,49:In,50:In,51:In,52:In,53:In,54:In,55:In,56:In,57:In,62:mE},tN={91:u6},nN={[-2]:Ec,[-1]:Ec,32:Ec},rN={35:d6,42:yo,45:[ip,yo],60:m6,61:ip,95:yo,96:np,126:np},iN={38:bE,92:gE},uN={[-5]:Tc,[-4]:Tc,[-3]:Tc,33:R6,38:bE,42:Vd,60:[PC,A6],91:P6,92:[l6,gE],93:Jf,95:Vd,96:KC},sN={null:[Vd,Q6]},aN={null:[42,95]},oN={null:[]},lN=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:aN,contentInitial:tN,disable:oN,document:eN,flow:rN,flowInitial:nN,insideSpan:sN,string:iN,text:uN},Symbol.toStringTag,{value:"Module"}));function cN(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},u=[];let s=[],o=[];const a={attempt:k(_),check:k(E),consume:b,enter:v,exit:p,interrupt:k(E,{interrupt:!0})},c={code:null,containerState:{},defineSkip:A,events:[],now:m,parser:e,previous:null,sliceSerialize:h,sliceStream:d,write:f};let l=t.tokenize.call(c,a);return t.resolveAll&&u.push(t),c;function f(I){return s=qn(s,I),x(),s[s.length-1]!==null?[]:(R(t,0),c.events=Ll(u,c.events,c),c.events)}function h(I,w){return fN(d(I),w)}function d(I){return dN(s,I)}function m(){const{_bufferIndex:I,_index:w,line:O,column:P,offset:B}=r;return{_bufferIndex:I,_index:w,line:O,column:P,offset:B}}function A(I){i[I.line]=I.column,N()}function x(){let I;for(;r._index<s.length;){const w=s[r._index];if(typeof w=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<w.length;)g(w.charCodeAt(r._bufferIndex));else g(w)}}function g(I){l=l(I)}function b(I){Le(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,N()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=I}function v(I,w){const O=w||{};return O.type=I,O.start=m(),c.events.push(["enter",O,c]),o.push(O),O}function p(I){const w=o.pop();return w.end=m(),c.events.push(["exit",w,c]),w}function _(I,w){R(I,w.from)}function E(I,w){w.restore()}function k(I,w){return O;function O(P,B,M){let j,W,$,L;return Array.isArray(P)?V(P):"tokenize"in P?V([P]):F(P);function F(ie){return me;function me(_e){const se=_e!==null&&ie[_e],De=_e!==null&&ie.null,Ne=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(De)?De:De?[De]:[]];return V(Ne)(_e)}}function V(ie){return j=ie,W=0,ie.length===0?M:H(ie[W])}function H(ie){return me;function me(_e){return L=D(),$=ie,ie.partial||(c.currentConstruct=ie),ie.name&&c.parser.constructs.disable.null.includes(ie.name)?ee():ie.tokenize.call(w?Object.assign(Object.create(c),w):c,a,Q,ee)(_e)}}function Q(ie){return I($,L),B}function ee(ie){return L.restore(),++W<j.length?H(j[W]):M}}}function R(I,w){I.resolveAll&&!u.includes(I)&&u.push(I),I.resolve&&Hn(c.events,w,c.events.length-w,I.resolve(c.events.slice(w),c)),I.resolveTo&&(c.events=I.resolveTo(c.events,c))}function D(){const I=m(),w=c.previous,O=c.currentConstruct,P=c.events.length,B=Array.from(o);return{from:P,restore:M};function M(){r=I,c.previous=w,c.currentConstruct=O,c.events.length=P,o=B,N()}}function N(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function dN(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,u=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,u)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}u>0&&s.push(e[i].slice(0,u))}return s}function fN(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const u=e[n];let s;if(typeof u=="string")s=u;else switch(u){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(u)}i=u===-2,r.push(s)}return r.join("")}function hN(e){const r={constructs:hE([lN,...(e||{}).extensions||[]]),content:i(vC),defined:[],document:i(wC),flow:i(K6),lazy:{},string:i(X6),text:i(J6)};return r;function i(u){return s;function s(o){return cN(r,u,o)}}}function pN(e){for(;!EE(e););return e}const up=/[\0\t\n\r]/g;function mN(){let e=1,t="",n=!0,r;return i;function i(u,s,o){const a=[];let c,l,f,h,d;for(u=t+(typeof u=="string"?u.toString():new TextDecoder(s||void 0).decode(u)),f=0,t="",n&&(u.charCodeAt(0)===65279&&f++,n=void 0);f<u.length;){if(up.lastIndex=f,c=up.exec(u),h=c&&c.index!==void 0?c.index:u.length,d=u.charCodeAt(h),!c){t=u.slice(f);break}if(d===10&&f===h&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),f<h&&(a.push(u.slice(f,h)),e+=h-f),d){case 0:{a.push(65533),e++;break}case 9:{for(l=Math.ceil(e/4)*4,a.push(-2);e++<l;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const gN=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function bN(e){return e.replace(gN,EN)}function EN(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),u=i===120||i===88;return pE(n.slice(u?2:1),u?16:10)}return Xf(n)||e}const CE={}.hasOwnProperty;function TN(e,t,n){return typeof t!="string"&&(n=t,t=void 0),_N(n)(pN(hN(n).document().write(mN()(e,t,!0))))}function _N(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Ue),autolinkProtocol:D,autolinkEmail:D,atxHeading:u(Me),blockQuote:u(De),characterEscape:D,characterReference:D,codeFenced:u(Ne),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:u(Ne,s),codeText:u(Pe,s),codeTextData:D,data:D,codeFlowValue:D,definition:u(Ge),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:u(lt),hardBreakEscape:u(St),hardBreakTrailing:u(St),htmlFlow:u(vt,s),htmlFlowData:D,htmlText:u(vt,s),htmlTextData:D,image:u(Lt),label:s,link:u(Ue),listItem:u(ce),listItemValue:h,listOrdered:u(Gt,f),listUnordered:u(Gt),paragraph:u(pt),reference:H,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:u(Me),strong:u(nt),thematicBreak:u(xn)},exit:{atxHeading:a(),atxHeadingSequence:_,autolink:a(),autolinkEmail:se,autolinkProtocol:_e,blockQuote:a(),characterEscapeValue:N,characterReferenceMarkerHexadecimal:ee,characterReferenceMarkerNumeric:ee,characterReferenceValue:ie,characterReference:me,codeFenced:a(x),codeFencedFence:A,codeFencedFenceInfo:d,codeFencedFenceMeta:m,codeFlowValue:N,codeIndented:a(g),codeText:a(B),codeTextData:N,data:N,definition:a(),definitionDestinationString:p,definitionLabelString:b,definitionTitleString:v,emphasis:a(),hardBreakEscape:a(w),hardBreakTrailing:a(w),htmlFlow:a(O),htmlFlowData:N,htmlText:a(P),htmlTextData:N,image:a(j),label:$,labelText:W,lineEnding:I,link:a(M),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:Q,resourceDestinationString:L,resourceTitleString:F,resource:V,setextHeading:a(R),setextHeadingLineSequence:k,setextHeadingText:E,strong:a(),thematicBreak:a()}};NE(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Z){let de={type:"root",children:[]};const ve={stack:[de],tokenStack:[],config:t,enter:o,exit:c,buffer:s,resume:l,data:n},xe=[];let Ve=-1;for(;++Ve<Z.length;)if(Z[Ve][1].type==="listOrdered"||Z[Ve][1].type==="listUnordered")if(Z[Ve][0]==="enter")xe.push(Ve);else{const kt=xe.pop();Ve=i(Z,kt,Ve)}for(Ve=-1;++Ve<Z.length;){const kt=t[Z[Ve][0]];CE.call(kt,Z[Ve][1].type)&&kt[Z[Ve][1].type].call(Object.assign({sliceSerialize:Z[Ve][2].sliceSerialize},ve),Z[Ve][1])}if(ve.tokenStack.length>0){const kt=ve.tokenStack[ve.tokenStack.length-1];(kt[1]||sp).call(ve,void 0,kt[0])}for(de.position={start:Yr(Z.length>0?Z[0][1].start:{line:1,column:1,offset:0}),end:Yr(Z.length>0?Z[Z.length-2][1].end:{line:1,column:1,offset:0})},Ve=-1;++Ve<t.transforms.length;)de=t.transforms[Ve](de)||de;return de}function i(Z,de,ve){let xe=de-1,Ve=-1,kt=!1,rt,Bt,qt,gn;for(;++xe<=ve;){const Xe=Z[xe];switch(Xe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Xe[0]==="enter"?Ve++:Ve--,gn=void 0;break}case"lineEndingBlank":{Xe[0]==="enter"&&(rt&&!gn&&!Ve&&!qt&&(qt=xe),gn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:gn=void 0}if(!Ve&&Xe[0]==="enter"&&Xe[1].type==="listItemPrefix"||Ve===-1&&Xe[0]==="exit"&&(Xe[1].type==="listUnordered"||Xe[1].type==="listOrdered")){if(rt){let Vt=xe;for(Bt=void 0;Vt--;){const be=Z[Vt];if(be[1].type==="lineEnding"||be[1].type==="lineEndingBlank"){if(be[0]==="exit")continue;Bt&&(Z[Bt][1].type="lineEndingBlank",kt=!0),be[1].type="lineEnding",Bt=Vt}else if(!(be[1].type==="linePrefix"||be[1].type==="blockQuotePrefix"||be[1].type==="blockQuotePrefixWhitespace"||be[1].type==="blockQuoteMarker"||be[1].type==="listItemIndent"))break}qt&&(!Bt||qt<Bt)&&(rt._spread=!0),rt.end=Object.assign({},Bt?Z[Bt][1].start:Xe[1].end),Z.splice(Bt||xe,0,["exit",rt,Xe[2]]),xe++,ve++}if(Xe[1].type==="listItemPrefix"){const Vt={type:"listItem",_spread:!1,start:Object.assign({},Xe[1].start),end:void 0};rt=Vt,Z.splice(xe,0,["enter",Vt,Xe[2]]),xe++,ve++,qt=void 0,gn=!0}}}return Z[de][1]._spread=kt,ve}function u(Z,de){return ve;function ve(xe){o.call(this,Z(xe),xe),de&&de.call(this,xe)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(Z,de,ve){this.stack[this.stack.length-1].children.push(Z),this.stack.push(Z),this.tokenStack.push([de,ve||void 0]),Z.position={start:Yr(de.start),end:void 0}}function a(Z){return de;function de(ve){Z&&Z.call(this,ve),c.call(this,ve)}}function c(Z,de){const ve=this.stack.pop(),xe=this.tokenStack.pop();if(xe)xe[0].type!==Z.type&&(de?de.call(this,Z,xe[0]):(xe[1]||sp).call(this,Z,xe[0]));else throw new Error("Cannot close `"+Z.type+"` ("+Ms({start:Z.start,end:Z.end})+"): it’s not open");ve.position.end=Yr(Z.end)}function l(){return Qf(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(Z){if(this.data.expectingFirstListItemValue){const de=this.stack[this.stack.length-2];de.start=Number.parseInt(this.sliceSerialize(Z),10),this.data.expectingFirstListItemValue=void 0}}function d(){const Z=this.resume(),de=this.stack[this.stack.length-1];de.lang=Z}function m(){const Z=this.resume(),de=this.stack[this.stack.length-1];de.meta=Z}function A(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const Z=this.resume(),de=this.stack[this.stack.length-1];de.value=Z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const Z=this.resume(),de=this.stack[this.stack.length-1];de.value=Z.replace(/(\r?\n|\r)$/g,"")}function b(Z){const de=this.resume(),ve=this.stack[this.stack.length-1];ve.label=de,ve.identifier=ir(this.sliceSerialize(Z)).toLowerCase()}function v(){const Z=this.resume(),de=this.stack[this.stack.length-1];de.title=Z}function p(){const Z=this.resume(),de=this.stack[this.stack.length-1];de.url=Z}function _(Z){const de=this.stack[this.stack.length-1];if(!de.depth){const ve=this.sliceSerialize(Z).length;de.depth=ve}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function k(Z){const de=this.stack[this.stack.length-1];de.depth=this.sliceSerialize(Z).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function D(Z){const ve=this.stack[this.stack.length-1].children;let xe=ve[ve.length-1];(!xe||xe.type!=="text")&&(xe=At(),xe.position={start:Yr(Z.start),end:void 0},ve.push(xe)),this.stack.push(xe)}function N(Z){const de=this.stack.pop();de.value+=this.sliceSerialize(Z),de.position.end=Yr(Z.end)}function I(Z){const de=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ve=de.children[de.children.length-1];ve.position.end=Yr(Z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(de.type)&&(D.call(this,Z),N.call(this,Z))}function w(){this.data.atHardBreak=!0}function O(){const Z=this.resume(),de=this.stack[this.stack.length-1];de.value=Z}function P(){const Z=this.resume(),de=this.stack[this.stack.length-1];de.value=Z}function B(){const Z=this.resume(),de=this.stack[this.stack.length-1];de.value=Z}function M(){const Z=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=de,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function j(){const Z=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=de,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function W(Z){const de=this.sliceSerialize(Z),ve=this.stack[this.stack.length-2];ve.label=bN(de),ve.identifier=ir(de).toLowerCase()}function $(){const Z=this.stack[this.stack.length-1],de=this.resume(),ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,ve.type==="link"){const xe=Z.children;ve.children=xe}else ve.alt=de}function L(){const Z=this.resume(),de=this.stack[this.stack.length-1];de.url=Z}function F(){const Z=this.resume(),de=this.stack[this.stack.length-1];de.title=Z}function V(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function Q(Z){const de=this.resume(),ve=this.stack[this.stack.length-1];ve.label=de,ve.identifier=ir(this.sliceSerialize(Z)).toLowerCase(),this.data.referenceType="full"}function ee(Z){this.data.characterReferenceType=Z.type}function ie(Z){const de=this.sliceSerialize(Z),ve=this.data.characterReferenceType;let xe;ve?(xe=pE(de,ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):xe=Xf(de);const Ve=this.stack[this.stack.length-1];Ve.value+=xe}function me(Z){const de=this.stack.pop();de.position.end=Yr(Z.end)}function _e(Z){N.call(this,Z);const de=this.stack[this.stack.length-1];de.url=this.sliceSerialize(Z)}function se(Z){N.call(this,Z);const de=this.stack[this.stack.length-1];de.url="mailto:"+this.sliceSerialize(Z)}function De(){return{type:"blockquote",children:[]}}function Ne(){return{type:"code",lang:null,meta:null,value:""}}function Pe(){return{type:"inlineCode",value:""}}function Ge(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function lt(){return{type:"emphasis",children:[]}}function Me(){return{type:"heading",depth:0,children:[]}}function St(){return{type:"break"}}function vt(){return{type:"html",value:""}}function Lt(){return{type:"image",title:null,url:"",alt:null}}function Ue(){return{type:"link",title:null,url:"",children:[]}}function Gt(Z){return{type:"list",ordered:Z.type==="listOrdered",start:null,spread:Z._spread,children:[]}}function ce(Z){return{type:"listItem",spread:Z._spread,checked:null,children:[]}}function pt(){return{type:"paragraph",children:[]}}function nt(){return{type:"strong",children:[]}}function At(){return{type:"text",value:""}}function xn(){return{type:"thematicBreak"}}}function Yr(e){return{line:e.line,column:e.column,offset:e.offset}}function NE(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?NE(e,r):yN(e,r)}}function yN(e,t){let n;for(n in t)if(CE.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function sp(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ms({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ms({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ms({start:t.start,end:t.end})+") is still open")}function AN(e){const t=this;t.parser=n;function n(r){return TN(r,le(G(G({},t.data("settings")),e),{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}}function xN(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function CN(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function NN(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let u={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(u.data={meta:t.meta}),e.patch(t,u),u=e.applyData(t,u),u={type:"element",tagName:"pre",properties:{},children:[u]},e.patch(t,u),u}function SN(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function IN(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function vN(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Vu(r.toLowerCase()),u=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=u+1,o+=1,e.footnoteCounts.set(r,o);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,a);const c={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,c),e.applyData(t,c)}function kN(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wN(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function SE(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),u=i[0];u&&u.type==="text"?u.value="["+u.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function ON(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return SE(e,t);const i={src:Vu(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const u={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,u),e.applyData(t,u)}function DN(e,t){const n={src:Vu(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function RN(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function LN(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return SE(e,t);const i={href:Vu(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const u={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,u),e.applyData(t,u)}function PN(e,t){const n={href:Vu(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function MN(e,t,n){const r=e.all(t),i=n?BN(n):IE(t),u={},s=[];if(typeof t.checked=="boolean"){const l=r[0];let f;l&&l.type==="element"&&l.tagName==="p"?f=l:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const l=r[o];(i||o!==0||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`}),l.type==="element"&&l.tagName==="p"&&!i?s.push(...l.children):s.push(l)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:u,children:s};return e.patch(t,c),e.applyData(t,c)}function BN(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=IE(n[r])}return t}function IE(e){const t=e.spread;return t==null?e.children.length>1:t}function FN(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const u={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,u),e.applyData(t,u)}function HN(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jN(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function UN(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zN(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=_r(t.children[1]),a=Dl(t.children[t.children.length-1]);o&&a&&(s.position={start:o,end:a}),i.push(s)}const u={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,u),e.applyData(t,u)}function GN(e,t,n){const r=n?n.children:void 0,u=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let a=-1;const c=[];for(;++a<o;){const f=t.children[a],h={},d=s?s[a]:void 0;d&&(h.align=d);let m={type:"element",tagName:u,properties:h,children:[]};f&&(m.children=e.all(f),e.patch(f,m),m=e.applyData(f,m)),c.push(m)}const l={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,l),e.applyData(t,l)}function qN(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const ap=9,op=32;function VN(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const u=[];for(;r;)u.push(lp(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return u.push(lp(t.slice(i),i>0,!1)),u.join("")}function lp(e,t,n){let r=0,i=e.length;if(t){let u=e.codePointAt(r);for(;u===ap||u===op;)r++,u=e.codePointAt(r)}if(n){let u=e.codePointAt(i-1);for(;u===ap||u===op;)i--,u=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function WN(e,t){const n={type:"text",value:VN(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function YN(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const KN={blockquote:xN,break:CN,code:NN,delete:SN,emphasis:IN,footnoteReference:vN,heading:kN,html:wN,imageReference:ON,image:DN,inlineCode:RN,linkReference:LN,link:PN,listItem:MN,list:FN,paragraph:HN,root:jN,strong:UN,table:zN,tableCell:qN,tableRow:GN,text:WN,thematicBreak:YN,toml:Va,yaml:Va,definition:Va,footnoteDefinition:Va};function Va(){}const vE=-1,Pl=0,Fs=1,Lo=2,Zf=3,e0=4,t0=5,n0=6,kE=7,wE=8,cp=typeof self=="object"?self:globalThis,$N=(e,t)=>{const n=(i,u)=>(e.set(u,i),i),r=i=>{if(e.has(i))return e.get(i);const[u,s]=t[i];switch(u){case Pl:case vE:return n(s,i);case Fs:{const o=n([],i);for(const a of s)o.push(r(a));return o}case Lo:{const o=n({},i);for(const[a,c]of s)o[r(a)]=r(c);return o}case Zf:return n(new Date(s),i);case e0:{const{source:o,flags:a}=s;return n(new RegExp(o,a),i)}case t0:{const o=n(new Map,i);for(const[a,c]of s)o.set(r(a),r(c));return o}case n0:{const o=n(new Set,i);for(const a of s)o.add(r(a));return o}case kE:{const{name:o,message:a}=s;return n(new cp[o](a),i)}case wE:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new cp[u](s),i)};return r},dp=e=>$N(new Map,e)(0),hu="",{toString:QN}={},{keys:XN}=Object,is=e=>{const t=typeof e;if(t!=="object"||!e)return[Pl,t];const n=QN.call(e).slice(8,-1);switch(n){case"Array":return[Fs,hu];case"Object":return[Lo,hu];case"Date":return[Zf,hu];case"RegExp":return[e0,hu];case"Map":return[t0,hu];case"Set":return[n0,hu];case"DataView":return[Fs,n]}return n.includes("Array")?[Fs,n]:n.includes("Error")?[kE,n]:[Lo,n]},Wa=([e,t])=>e===Pl&&(t==="function"||t==="symbol"),JN=(e,t,n,r)=>{const i=(s,o)=>{const a=r.push(s)-1;return n.set(o,a),a},u=s=>{if(n.has(s))return n.get(s);let[o,a]=is(s);switch(o){case Pl:{let l=s;switch(a){case"bigint":o=wE,l=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);l=null;break;case"undefined":return i([vE],s)}return i([o,l],s)}case Fs:{if(a){let h=s;return a==="DataView"?h=new Uint8Array(s.buffer):a==="ArrayBuffer"&&(h=new Uint8Array(s)),i([a,[...h]],s)}const l=[],f=i([o,l],s);for(const h of s)l.push(u(h));return f}case Lo:{if(a)switch(a){case"BigInt":return i([a,s.toString()],s);case"Boolean":case"Number":case"String":return i([a,s.valueOf()],s)}if(t&&"toJSON"in s)return u(s.toJSON());const l=[],f=i([o,l],s);for(const h of XN(s))(e||!Wa(is(s[h])))&&l.push([u(h),u(s[h])]);return f}case Zf:return i([o,s.toISOString()],s);case e0:{const{source:l,flags:f}=s;return i([o,{source:l,flags:f}],s)}case t0:{const l=[],f=i([o,l],s);for(const[h,d]of s)(e||!(Wa(is(h))||Wa(is(d))))&&l.push([u(h),u(d)]);return f}case n0:{const l=[],f=i([o,l],s);for(const h of s)(e||!Wa(is(h)))&&l.push(u(h));return f}}const{message:c}=s;return i([o,{name:a,message:c}],s)};return u},fp=(e,{json:t,lossy:n}={})=>{const r=[];return JN(!(t||n),!!t,new Map,r)(e),r},Lu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?dp(fp(e,t)):structuredClone(e):(e,t)=>dp(fp(e,t));function ZN(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function eS(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function tS(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||ZN,r=e.options.footnoteBackLabel||eS,i=e.options.footnoteLabel||"Footnotes",u=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let a=-1;for(;++a<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[a]);if(!c)continue;const l=e.all(c),f=String(c.identifier).toUpperCase(),h=Vu(f.toLowerCase());let d=0;const m=[],A=e.footnoteCounts.get(f);for(;A!==void 0&&++d<=A;){m.length>0&&m.push({type:"text",value:" "});let b=typeof n=="string"?n:n(a,d);typeof b=="string"&&(b={type:"text",value:b}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(d>1?"-"+d:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,d),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=l[l.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...m)}else l.push(...m);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(l,!0)};e.patch(c,g),o.push(g)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:le(G({},Lu(s)),{id:"footnote-label"}),children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Ml=(function(e){if(e==null)return uS;if(typeof e=="function")return Bl(e);if(typeof e=="object")return Array.isArray(e)?nS(e):rS(e);if(typeof e=="string")return iS(e);throw new Error("Expected function, string, or object as test")});function nS(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ml(e[n]);return Bl(r);function r(...i){let u=-1;for(;++u<t.length;)if(t[u].apply(this,i))return!0;return!1}}function rS(e){const t=e;return Bl(n);function n(r){const i=r;let u;for(u in e)if(i[u]!==t[u])return!1;return!0}}function iS(e){return Bl(t);function t(n){return n&&n.type===e}}function Bl(e){return t;function t(n,r,i){return!!(sS(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function uS(){return!0}function sS(e){return e!==null&&typeof e=="object"&&"type"in e}const OE=[],aS=!0,Wd=!1,oS="skip";function DE(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const u=Ml(i),s=r?-1:1;o(e,void 0,[])();function o(a,c,l){const f=a&&typeof a=="object"?a:{};if(typeof f.type=="string"){const d=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(a.type+(d?"<"+d+">":""))+")"})}return h;function h(){let d=OE,m,A,x;if((!t||u(a,c,l[l.length-1]||void 0))&&(d=lS(n(a,l)),d[0]===Wd))return d;if("children"in a&&a.children){const g=a;if(g.children&&d[0]!==oS)for(A=(r?g.children.length:-1)+s,x=l.concat(g);A>-1&&A<g.children.length;){const b=g.children[A];if(m=o(b,A,x)(),m[0]===Wd)return m;A=typeof m[1]=="number"?m[1]:A+s}}return d}}}function lS(e){return Array.isArray(e)?e:typeof e=="number"?[aS,e]:e==null?OE:[e]}function Fl(e,t,n,r){let i,u,s;typeof t=="function"&&typeof n!="function"?(u=void 0,s=t,i=n):(u=t,s=n,i=r),DE(e,u,o,i);function o(a,c){const l=c[c.length-1],f=l?l.children.indexOf(a):void 0;return s(a,f,l)}}const Yd={}.hasOwnProperty,cS={};function dS(e,t){const n=t||cS,r=new Map,i=new Map,u=new Map,s=G(G({},KN),n.handlers),o={all:c,applyData:hS,definitionById:r,footnoteById:i,footnoteCounts:u,footnoteOrder:[],handlers:s,one:a,options:n,patch:fS,wrap:mS};return Fl(e,function(l){if(l.type==="definition"||l.type==="footnoteDefinition"){const f=l.type==="definition"?r:i,h=String(l.identifier).toUpperCase();f.has(h)||f.set(h,l)}}),o;function a(l,f){const h=l.type,d=o.handlers[h];if(Yd.call(o.handlers,h)&&d)return d(o,l,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in l){const A=l,{children:x}=A,g=xi(A,["children"]),b=Lu(g);return b.children=o.all(l),b}return Lu(l)}return(o.options.unknownHandler||pS)(o,l,f)}function c(l){const f=[];if("children"in l){const h=l.children;let d=-1;for(;++d<h.length;){const m=o.one(h[d],l);if(m){if(d&&h[d-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=hp(m.value)),!Array.isArray(m)&&m.type==="element")){const A=m.children[0];A&&A.type==="text"&&(A.value=hp(A.value))}Array.isArray(m)?f.push(...m):f.push(m)}}}return f}}function fS(e,t){e.position&&(t.position=eC(e))}function hS(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,u=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&u&&Object.assign(n.properties,Lu(u)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function pS(e,t){const n=t.data||{},r="value"in t&&!(Yd.call(n,"hProperties")||Yd.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function mS(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function hp(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function pp(e,t){const n=dS(e,t),r=n.one(e,void 0),i=tS(n),u=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&u.children.push({type:"text",value:`
`},i),u}function gS(e,t){return e&&"run"in e?function(n,r){return Ft(this,null,function*(){const i=pp(n,G({file:r},t));yield e.run(i,r)})}:function(n,r){return pp(n,G({file:r},e||t))}}function mp(e){if(e)throw e}var _c,gp;function bS(){if(gp)return _c;gp=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},u=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var l=e.call(c,"constructor"),f=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!l&&!f)return!1;var h;for(h in c);return typeof h=="undefined"||e.call(c,h)},s=function(c,l){n&&l.name==="__proto__"?n(c,l.name,{enumerable:!0,configurable:!0,value:l.newValue,writable:!0}):c[l.name]=l.newValue},o=function(c,l){if(l==="__proto__")if(e.call(c,l)){if(r)return r(c,l).value}else return;return c[l]};return _c=function a(){var c,l,f,h,d,m,A=arguments[0],x=1,g=arguments.length,b=!1;for(typeof A=="boolean"&&(b=A,A=arguments[1]||{},x=2),(A==null||typeof A!="object"&&typeof A!="function")&&(A={});x<g;++x)if(c=arguments[x],c!=null)for(l in c)f=o(A,l),h=o(c,l),A!==h&&(b&&h&&(u(h)||(d=i(h)))?(d?(d=!1,m=f&&i(f)?f:[]):m=f&&u(f)?f:{},s(A,{name:l,newValue:a(b,m,h)})):typeof h!="undefined"&&s(A,{name:l,newValue:h}));return A},_c}var ES=bS();const yc=zf(ES);function Kd(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function TS(){const e=[],t={run:n,use:r};return t;function n(...i){let u=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(a,...c){const l=e[++u];let f=-1;if(a){s(a);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,l?_S(l,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function _S(e,t){let n;return r;function r(...s){const o=e.length>s.length;let a;o&&s.push(i);try{a=e.apply(this,s)}catch(c){const l=c;if(o&&n)throw l;return i(l)}o||(a&&a.then&&typeof a.then=="function"?a.then(u,i):a instanceof Error?i(a):u(a))}function i(s,...o){n||(n=!0,t(s,...o))}function u(s){i(null,s)}}const cr={basename:yS,dirname:AS,extname:xS,join:CS,sep:"/"};function yS(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ya(e);let n=0,r=-1,i=e.length,u;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(u){n=i+1;break}}else r<0&&(u=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(u){n=i+1;break}}else s<0&&(u=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function AS(e){if(ya(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function xS(e){ya(e);let t=e.length,n=-1,r=0,i=-1,u=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:u!==1&&(u=1):i>-1&&(u=-1)}return i<0||n<0||u===0||u===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function CS(...e){let t=-1,n;for(;++t<e.length;)ya(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":NS(n)}function NS(e){ya(e);const t=e.codePointAt(0)===47;let n=SS(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function SS(e,t){let n="",r=0,i=-1,u=0,s=-1,o,a;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||u===1))if(i!==s-1&&u===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=s,u=0;continue}}else if(n.length>0){n="",r=0,i=s,u=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,u=0}else o===46&&u>-1?u++:u=-1}return n}function ya(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const IS={cwd:vS};function vS(){return"/"}function $d(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function kS(e){if(typeof e=="string")e=new URL(e);else if(!$d(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return wS(e)}function wS(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Ac=["history","path","basename","stem","extname","dirname"];class RE{constructor(t){let n;t?$d(t)?n={path:t}:typeof t=="string"||OS(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":IS.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ac.length;){const u=Ac[r];u in n&&n[u]!==void 0&&n[u]!==null&&(this[u]=u==="history"?[...n[u]]:n[u])}let i;for(i in n)Ac.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?cr.basename(this.path):void 0}set basename(t){Cc(t,"basename"),xc(t,"basename"),this.path=cr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?cr.dirname(this.path):void 0}set dirname(t){bp(this.basename,"dirname"),this.path=cr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?cr.extname(this.path):void 0}set extname(t){if(xc(t,"extname"),bp(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=cr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){$d(t)&&(t=kS(t)),Cc(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?cr.basename(this.path,this.extname):void 0}set stem(t){Cc(t,"stem"),xc(t,"stem"),this.path=cr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new fn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function xc(e,t){if(e&&e.includes(cr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+cr.sep+"`")}function Cc(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function bp(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function OS(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const DS=(function(e){const r=this.constructor.prototype,i=r[e],u=function(){return i.apply(u,arguments)};return Object.setPrototypeOf(u,r),u}),RS={}.hasOwnProperty;class r0 extends DS{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=TS()}copy(){const t=new r0;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(yc(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Ic("data",this.frozen),this.namespace[t]=n,this):RS.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Ic("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ya(t),r=this.parser||this.Parser;return Nc("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Nc("process",this.parser||this.Parser),Sc("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(u,s){const o=Ya(t),a=r.parse(o);r.run(a,o,function(l,f,h){if(l||!f||!h)return c(l);const d=f,m=r.stringify(d,h);MS(m)?h.value=m:h.result=m,c(l,h)});function c(l,f){l||!f?s(l):u?u(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Nc("processSync",this.parser||this.Parser),Sc("processSync",this.compiler||this.Compiler),this.process(t,i),Tp("processSync","process",n),r;function i(u,s){n=!0,mp(u),r=s}}run(t,n,r){Ep(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?u(void 0,r):new Promise(u);function u(s,o){const a=Ya(n);i.run(t,a,c);function c(l,f,h){const d=f||t;l?o(l):s?s(d):r(void 0,d,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,u),Tp("runSync","run",r),i;function u(s,o){mp(s),i=o,r=!0}}stringify(t,n){this.freeze();const r=Ya(n),i=this.compiler||this.Compiler;return Sc("stringify",i),Ep(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Ic("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function u(c){if(typeof c=="function")a(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[l,...f]=c;a(l,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=yc(!0,i.settings,c.settings))}function o(c){let l=-1;if(c!=null)if(Array.isArray(c))for(;++l<c.length;){const f=c[l];u(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function a(c,l){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...l]);else if(l.length>0){let[d,...m]=l;const A=r[h][1];Kd(A)&&Kd(d)&&(d=yc(!0,A,d)),r[h]=[c,d,...m]}}}}const LS=new r0().freeze();function Nc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Sc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ic(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Ep(e){if(!Kd(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Tp(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ya(e){return PS(e)?e:new RE(e)}function PS(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function MS(e){return typeof e=="string"||BS(e)}function BS(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const FS="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",_p=[],yp={allowDangerousHtml:!0},HS=/^(https?|ircs?|mailto|xmpp)$/i,jS=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function US(e){const t=zS(e),n=GS(e);return qS(t.runSync(t.parse(n),n),e)}function zS(e){const t=e.rehypePlugins||_p,n=e.remarkPlugins||_p,r=e.remarkRehypeOptions?G(G({},e.remarkRehypeOptions),yp):yp;return LS().use(AN).use(n).use(gS,r).use(t)}function GS(e){const t=e.children||"",n=new RE;return typeof t=="string"&&(n.value=t),n}function qS(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,u=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,a=t.urlTransform||VS;for(const l of jS)Object.hasOwn(t,l.from)&&(""+l.from+(l.to?"use `"+l.to+"` instead":"remove it")+FS+l.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Fl(e,c),uC(e,{Fragment:T.Fragment,components:i,ignoreInvalidStyle:!0,jsx:T.jsx,jsxs:T.jsxs,passKeys:!0,passNode:!0});function c(l,f,h){if(l.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:l.value},f;if(l.type==="element"){let d;for(d in bc)if(Object.hasOwn(bc,d)&&Object.hasOwn(l.properties,d)){const m=l.properties[d],A=bc[d];(A===null||A.includes(l.tagName))&&(l.properties[d]=a(String(m||""),d,l))}}if(l.type==="element"){let d=n?!n.includes(l.tagName):u?u.includes(l.tagName):!1;if(!d&&r&&typeof f=="number"&&(d=!r(l,f,h)),d&&h&&typeof f=="number")return o&&l.children?h.children.splice(f,1,...l.children):h.children.splice(f,1),f}}}function VS(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||HS.test(e.slice(0,t))?e:""}function Ap(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function WS(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function YS(e,t,n){const i=Ml((n||{}).ignore||[]),u=KS(t);let s=-1;for(;++s<u.length;)DE(e,"text",o);function o(c,l){let f=-1,h;for(;++f<l.length;){const d=l[f],m=h?h.children:void 0;if(i(d,m?m.indexOf(d):void 0,h))return;h=d}if(h)return a(c,l)}function a(c,l){const f=l[l.length-1],h=u[s][0],d=u[s][1];let m=0;const x=f.children.indexOf(c);let g=!1,b=[];h.lastIndex=0;let v=h.exec(c.value);for(;v;){const p=v.index,_={index:v.index,input:v.input,stack:[...l,c]};let E=d(...v,_);if(typeof E=="string"&&(E=E.length>0?{type:"text",value:E}:void 0),E===!1?h.lastIndex=p+1:(m!==p&&b.push({type:"text",value:c.value.slice(m,p)}),Array.isArray(E)?b.push(...E):E&&b.push(E),m=p+v[0].length,g=!0),!h.global)break;v=h.exec(c.value)}return g?(m<c.value.length&&b.push({type:"text",value:c.value.slice(m)}),f.children.splice(x,1,...b)):b=[c],x+b.length}}function KS(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([$S(i[0]),QS(i[1])])}return t}function $S(e){return typeof e=="string"?new RegExp(WS(e),"g"):e}function QS(e){return typeof e=="function"?e:function(){return e}}const vc="phrasing",kc=["autolink","link","image","label"];function XS(){return{transforms:[iI],enter:{literalAutolink:ZS,literalAutolinkEmail:wc,literalAutolinkHttp:wc,literalAutolinkWww:wc},exit:{literalAutolink:rI,literalAutolinkEmail:nI,literalAutolinkHttp:eI,literalAutolinkWww:tI}}}function JS(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:vc,notInConstruct:kc},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:vc,notInConstruct:kc},{character:":",before:"[ps]",after:"\\/",inConstruct:vc,notInConstruct:kc}]}}function ZS(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function wc(e){this.config.enter.autolinkProtocol.call(this,e)}function eI(e){this.config.exit.autolinkProtocol.call(this,e)}function tI(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function nI(e){this.config.exit.autolinkEmail.call(this,e)}function rI(e){this.exit(e)}function iI(e){YS(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,uI],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),sI]],{ignore:["link","linkReference"]})}function uI(e,t,n,r,i){let u="";if(!LE(i)||(/^w/i.test(t)&&(n=t+n,t="",u="http://"),!aI(n)))return!1;const s=oI(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:u+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function sI(e,t,n,r){return!LE(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function aI(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function oI(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Ap(e,"(");let u=Ap(e,")");for(;r!==-1&&i>u;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),u++;return[e,n]}function LE(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Qi(n)||Rl(n))&&(!t||n!==47)}PE.peek=bI;function lI(){this.buffer()}function cI(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function dI(){this.buffer()}function fI(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function hI(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ir(this.sliceSerialize(e)).toLowerCase(),n.label=t}function pI(e){this.exit(e)}function mI(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ir(this.sliceSerialize(e)).toLowerCase(),n.label=t}function gI(e){this.exit(e)}function bI(){return"["}function PE(e,t,n,r){const i=n.createTracker(r);let u=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return u+=i.move(n.safe(n.associationId(e),{after:"]",before:u})),o(),s(),u+=i.move("]"),u}function EI(){return{enter:{gfmFootnoteCallString:lI,gfmFootnoteCall:cI,gfmFootnoteDefinitionLabelString:dI,gfmFootnoteDefinition:fI},exit:{gfmFootnoteCallString:hI,gfmFootnoteCall:pI,gfmFootnoteDefinitionLabelString:mI,gfmFootnoteDefinition:gI}}}function TI(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:PE},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,u,s){const o=u.createTracker(s);let a=o.move("[^");const c=u.enter("footnoteDefinition"),l=u.enter("label");return a+=o.move(u.safe(u.associationId(r),{before:a,after:"]"})),l(),a+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),a+=o.move((t?`
`:" ")+u.indentLines(u.containerFlow(r,o.current()),t?ME:_I))),c(),a}}function _I(e,t,n){return t===0?e:ME(e,t,n)}function ME(e,t,n){return(n?"":"    ")+e}const yI=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];BE.peek=SI;function AI(){return{canContainEols:["delete"],enter:{strikethrough:CI},exit:{strikethrough:NI}}}function xI(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:yI}],handlers:{delete:BE}}}function CI(e){this.enter({type:"delete",children:[]},e)}function NI(e){this.exit(e)}function BE(e,t,n,r){const i=n.createTracker(r),u=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,le(G({},i.current()),{before:s,after:"~"})),s+=i.move("~~"),u(),s}function SI(){return"~"}function II(e){return e.length}function vI(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||II,u=[],s=[],o=[],a=[];let c=0,l=-1;for(;++l<e.length;){const A=[],x=[];let g=-1;for(e[l].length>c&&(c=e[l].length);++g<e[l].length;){const b=kI(e[l][g]);if(n.alignDelimiters!==!1){const v=i(b);x[g]=v,(a[g]===void 0||v>a[g])&&(a[g]=v)}A.push(b)}s[l]=A,o[l]=x}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)u[f]=xp(r[f]);else{const A=xp(r);for(;++f<c;)u[f]=A}f=-1;const h=[],d=[];for(;++f<c;){const A=u[f];let x="",g="";A===99?(x=":",g=":"):A===108?x=":":A===114&&(g=":");let b=n.alignDelimiters===!1?1:Math.max(1,a[f]-x.length-g.length);const v=x+"-".repeat(b)+g;n.alignDelimiters!==!1&&(b=x.length+b+g.length,b>a[f]&&(a[f]=b),d[f]=b),h[f]=v}s.splice(1,0,h),o.splice(1,0,d),l=-1;const m=[];for(;++l<s.length;){const A=s[l],x=o[l];f=-1;const g=[];for(;++f<c;){const b=A[f]||"";let v="",p="";if(n.alignDelimiters!==!1){const _=a[f]-(x[f]||0),E=u[f];E===114?v=" ".repeat(_):E===99?_%2?(v=" ".repeat(_/2+.5),p=" ".repeat(_/2-.5)):(v=" ".repeat(_/2),p=v):p=" ".repeat(_)}n.delimiterStart!==!1&&!f&&g.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&g.push(" "),n.alignDelimiters!==!1&&g.push(v),g.push(b),n.alignDelimiters!==!1&&g.push(p),n.padding!==!1&&g.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&g.push("|")}m.push(n.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return m.join(`
`)}function kI(e){return e==null?"":String(e)}function xp(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const Cp={}.hasOwnProperty;function FE(e,t){const n=t||{};function r(i,...u){let s=r.invalid;const o=r.handlers;if(i&&Cp.call(i,e)){const a=String(i[e]);s=Cp.call(o,a)?o[a]:r.unknown}if(s)return s.call(this,i,...u)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function wI(e,t,n,r){const i=n.enter("blockquote"),u=n.createTracker(r);u.move("> "),u.shift(2);const s=n.indentLines(n.containerFlow(e,u.current()),OI);return i(),s}function OI(e,t,n){return">"+(n?"":" ")+e}function DI(e,t){return Np(e,t.inConstruct,!0)&&!Np(e,t.notInConstruct,!1)}function Np(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Sp(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&DI(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function RI(e,t){const n=String(e);let r=n.indexOf(t),i=r,u=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++u>s&&(s=u):u=1,i=r+t.length,r=n.indexOf(t,i);return s}function LI(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function PI(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function MI(e,t,n,r){const i=PI(n),u=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(LI(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(u,BI);return f(),h}const o=n.createTracker(r),a=i.repeat(Math.max(RI(u,i)+1,3)),c=n.enter("codeFenced");let l=o.move(a);if(e.lang){const f=n.enter(`codeFencedLang${s}`);l+=o.move(n.safe(e.lang,G({before:l,after:" ",encode:["`"]},o.current()))),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);l+=o.move(" "),l+=o.move(n.safe(e.meta,G({before:l,after:`
`,encode:["`"]},o.current()))),f()}return l+=o.move(`
`),u&&(l+=o.move(u+`
`)),l+=o.move(a),c(),l}function BI(e,t,n){return(n?"":"    ")+e}function i0(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function FI(e,t,n,r){const i=i0(n),u=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const a=n.createTracker(r);let c=a.move("[");return c+=a.move(n.safe(n.associationId(e),G({before:c,after:"]"},a.current()))),c+=a.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,G({before:c,after:">"},a.current()))),c+=a.move(">")):(o=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,G({before:c,after:e.title?" ":`
`},a.current())))),o(),e.title&&(o=n.enter(`title${u}`),c+=a.move(" "+i),c+=a.move(n.safe(e.title,G({before:c,after:i},a.current()))),c+=a.move(i),o()),s(),c}function HI(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ia(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Po(e,t,n){const r=Ru(e),i=Ru(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}HE.peek=jI;function HE(e,t,n,r){const i=HI(n),u=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let a=s.move(n.containerPhrasing(e,G({after:i,before:o},s.current())));const c=a.charCodeAt(0),l=Po(r.before.charCodeAt(r.before.length-1),c,i);l.inside&&(a=ia(c)+a.slice(1));const f=a.charCodeAt(a.length-1),h=Po(r.after.charCodeAt(0),f,i);h.inside&&(a=a.slice(0,-1)+ia(f));const d=s.move(i);return u(),n.attentionEncodeSurroundingInfo={after:h.outside,before:l.outside},o+a+d}function jI(e,t,n){return n.options.emphasis||"*"}function UI(e,t){let n=!1;return Fl(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Wd}),!!((!e.depth||e.depth<3)&&Qf(e)&&(t.options.setext||n))}function zI(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),u=n.createTracker(r);if(UI(e,n)){const l=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,le(G({},u.current()),{before:`
`,after:`
`}));return f(),l(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),a=n.enter("phrasing");u.move(s+" ");let c=n.containerPhrasing(e,G({before:"# ",after:`
`},u.current()));return/^[\t ]/.test(c)&&(c=ia(c.charCodeAt(0))+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),a(),o(),c}jE.peek=GI;function jE(e){return e.value||""}function GI(){return"<"}UE.peek=qI;function UE(e,t,n,r){const i=i0(n),u=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const a=n.createTracker(r);let c=a.move("![");return c+=a.move(n.safe(e.alt,G({before:c,after:"]"},a.current()))),c+=a.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,G({before:c,after:">"},a.current()))),c+=a.move(">")):(o=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,G({before:c,after:e.title?" ":")"},a.current())))),o(),e.title&&(o=n.enter(`title${u}`),c+=a.move(" "+i),c+=a.move(n.safe(e.title,G({before:c,after:i},a.current()))),c+=a.move(i),o()),c+=a.move(")"),s(),c}function qI(){return"!"}zE.peek=VI;function zE(e,t,n,r){const i=e.referenceType,u=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let a=o.move("![");const c=n.safe(e.alt,G({before:a,after:"]"},o.current()));a+=o.move(c+"]["),s();const l=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),G({before:a,after:"]"},o.current()));return s(),n.stack=l,u(),i==="full"||!c||c!==f?a+=o.move(f+"]"):i==="shortcut"?a=a.slice(0,-1):a+=o.move("]"),a}function VI(){return"!"}GE.peek=WI;function GE(e,t,n){let r=e.value||"",i="`",u=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++u<n.unsafe.length;){const s=n.unsafe[u],o=n.compilePattern(s);let a;if(s.atBreak)for(;a=o.exec(r);){let c=a.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(a.index+1)}}return i+r+i}function WI(){return"`"}function qE(e,t){const n=Qf(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}VE.peek=YI;function VE(e,t,n,r){const i=i0(n),u=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,a;if(qE(e,n)){const l=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,G({before:f,after:">"},s.current()))),f+=s.move(">"),o(),n.stack=l,f}o=n.enter("link"),a=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(e,G({before:c,after:"]("},s.current()))),c+=s.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,G({before:c,after:">"},s.current()))),c+=s.move(">")):(a=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,G({before:c,after:e.title?" ":")"},s.current())))),a(),e.title&&(a=n.enter(`title${u}`),c+=s.move(" "+i),c+=s.move(n.safe(e.title,G({before:c,after:i},s.current()))),c+=s.move(i),a()),c+=s.move(")"),o(),c}function YI(e,t,n){return qE(e,n)?"<":"["}WE.peek=KI;function WE(e,t,n,r){const i=e.referenceType,u=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let a=o.move("[");const c=n.containerPhrasing(e,G({before:a,after:"]"},o.current()));a+=o.move(c+"]["),s();const l=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),G({before:a,after:"]"},o.current()));return s(),n.stack=l,u(),i==="full"||!c||c!==f?a+=o.move(f+"]"):i==="shortcut"?a=a.slice(0,-1):a+=o.move("]"),a}function KI(){return"["}function u0(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function $I(e){const t=u0(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function QI(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function YE(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function XI(e,t,n,r){const i=n.enter("list"),u=n.bulletCurrent;let s=e.ordered?QI(n):u0(n);const o=e.ordered?s==="."?")":".":$I(n);let a=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const l=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&l&&(!l.children||!l.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(a=!0),YE(n)===s&&l){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(s=o),n.bulletCurrent=s;const c=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=u,i(),c}function JI(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function ZI(e,t,n,r){const i=JI(n);let u=n.bulletCurrent||u0(n);t&&t.type==="list"&&t.ordered&&(u=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+u);let s=u.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(u+" ".repeat(s-u.length)),o.shift(s);const a=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),l);return a(),c;function l(f,h,d){return h?(d?"":" ".repeat(s))+f:(d?u:u+" ".repeat(s-u.length))+f}}function e8(e,t,n,r){const i=n.enter("paragraph"),u=n.enter("phrasing"),s=n.containerPhrasing(e,r);return u(),i(),s}const t8=Ml(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function n8(e,t,n,r){return(e.children.some(function(s){return t8(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function r8(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}KE.peek=i8;function KE(e,t,n,r){const i=r8(n),u=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let a=s.move(n.containerPhrasing(e,G({after:i,before:o},s.current())));const c=a.charCodeAt(0),l=Po(r.before.charCodeAt(r.before.length-1),c,i);l.inside&&(a=ia(c)+a.slice(1));const f=a.charCodeAt(a.length-1),h=Po(r.after.charCodeAt(0),f,i);h.inside&&(a=a.slice(0,-1)+ia(f));const d=s.move(i+i);return u(),n.attentionEncodeSurroundingInfo={after:h.outside,before:l.outside},o+a+d}function i8(e,t,n){return n.options.strong||"*"}function u8(e,t,n,r){return n.safe(e.value,r)}function s8(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function a8(e,t,n){const r=(YE(n)+(n.options.ruleSpaces?" ":"")).repeat(s8(n));return n.options.ruleSpaces?r.slice(0,-1):r}const $E={blockquote:wI,break:Sp,code:MI,definition:FI,emphasis:HE,hardBreak:Sp,heading:zI,html:jE,image:UE,imageReference:zE,inlineCode:GE,link:VE,linkReference:WE,list:XI,listItem:ZI,paragraph:e8,root:n8,strong:KE,text:u8,thematicBreak:a8};function o8(){return{enter:{table:l8,tableData:Ip,tableHeader:Ip,tableRow:d8},exit:{codeText:f8,table:c8,tableData:Oc,tableHeader:Oc,tableRow:Oc}}}function l8(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function c8(e){this.exit(e),this.data.inTable=void 0}function d8(e){this.enter({type:"tableRow",children:[]},e)}function Oc(e){this.exit(e)}function Ip(e){this.enter({type:"tableCell",children:[]},e)}function f8(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,h8));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function h8(e,t){return t==="|"?t:e}function p8(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,u=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:a,tableRow:o}};function s(d,m,A,x){return c(l(d,A,x),d.align)}function o(d,m,A,x){const g=f(d,A,x),b=c([g]);return b.slice(0,b.indexOf(`
`))}function a(d,m,A,x){const g=A.enter("tableCell"),b=A.enter("phrasing"),v=A.containerPhrasing(d,le(G({},x),{before:u,after:u}));return b(),g(),v}function c(d,m){return vI(d,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function l(d,m,A){const x=d.children;let g=-1;const b=[],v=m.enter("table");for(;++g<x.length;)b[g]=f(x[g],m,A);return v(),b}function f(d,m,A){const x=d.children;let g=-1;const b=[],v=m.enter("tableRow");for(;++g<x.length;)b[g]=a(x[g],d,m,A);return v(),b}function h(d,m,A){let x=$E.inlineCode(d,m,A);return A.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function m8(){return{exit:{taskListCheckValueChecked:vp,taskListCheckValueUnchecked:vp,paragraph:b8}}}function g8(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:E8}}}function vp(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function b8(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let u=-1,s;for(;++u<i.length;){const o=i[u];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function E8(e,t,n,r){const i=e.children[0],u=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);u&&o.move(s);let a=$E.listItem(e,t,n,G(G({},r),o.current()));return u&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),a;function c(l){return l+s}}function T8(){return[XS(),EI(),AI(),o8(),m8()]}function _8(e){return{extensions:[JS(),TI(e),xI(),p8(e),g8()]}}const y8={tokenize:I8,partial:!0},QE={tokenize:v8,partial:!0},XE={tokenize:k8,partial:!0},JE={tokenize:w8,partial:!0},A8={tokenize:O8,partial:!0},ZE={name:"wwwAutolink",tokenize:N8,previous:tT},eT={name:"protocolAutolink",tokenize:S8,previous:nT},Gr={name:"emailAutolink",tokenize:C8,previous:rT},yr={};function x8(){return{text:yr}}let Ci=48;for(;Ci<123;)yr[Ci]=Gr,Ci++,Ci===58?Ci=65:Ci===91&&(Ci=97);yr[43]=Gr;yr[45]=Gr;yr[46]=Gr;yr[95]=Gr;yr[72]=[Gr,eT];yr[104]=[Gr,eT];yr[87]=[Gr,ZE];yr[119]=[Gr,ZE];function C8(e,t,n){const r=this;let i,u;return s;function s(f){return!Qd(f)||!rT.call(r,r.previous)||s0(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return Qd(f)?(e.consume(f),o):f===64?(e.consume(f),a):n(f)}function a(f){return f===46?e.check(A8,l,c)(f):f===45||f===95||ln(f)?(u=!0,e.consume(f),a):l(f)}function c(f){return e.consume(f),i=!0,a}function l(f){return u&&i&&Tn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function N8(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!tT.call(r,r.previous)||s0(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(y8,e.attempt(QE,e.attempt(XE,u),n),n)(s))}function u(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function S8(e,t,n){const r=this;let i="",u=!1;return s;function s(f){return(f===72||f===104)&&nT.call(r,r.previous)&&!s0(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(Tn(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),a}return n(f)}function a(f){return f===47?(e.consume(f),u?c:(u=!0,a)):n(f)}function c(f){return f===null||Ro(f)||ft(f)||Qi(f)||Rl(f)?n(f):e.attempt(QE,e.attempt(XE,l),n)(f)}function l(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function I8(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),u):n(s)}function u(s){return s===null?n(s):t(s)}}function v8(e,t,n){let r,i,u;return s;function s(c){return c===46||c===95?e.check(JE,a,o)(c):c===null||ft(c)||Qi(c)||c!==45&&Rl(c)?a(c):(u=!0,e.consume(c),s)}function o(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),s}function a(c){return i||r||!u?n(c):t(c)}}function k8(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?u(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(JE,t,u)(s):s===null||ft(s)||Qi(s)?t(s):(e.consume(s),i)}function u(s){return s===41&&r++,e.consume(s),i}}function w8(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),u):o===93?(e.consume(o),i):o===60||o===null||ft(o)||Qi(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||ft(o)||Qi(o)?t(o):r(o)}function u(o){return Tn(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):Tn(o)?(e.consume(o),s):n(o)}}function O8(e,t,n){return r;function r(u){return e.consume(u),i}function i(u){return ln(u)?n(u):t(u)}}function tT(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||ft(e)}function nT(e){return!Tn(e)}function rT(e){return!(e===47||Qd(e))}function Qd(e){return e===43||e===45||e===46||e===95||ln(e)}function s0(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const D8={tokenize:j8,partial:!0};function R8(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:B8,continuation:{tokenize:F8},exit:H8}},text:{91:{name:"gfmFootnoteCall",tokenize:M8},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:L8,resolveTo:P8}}}}function L8(e,t,n){const r=this;let i=r.events.length;const u=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const a=r.events[i][1];if(a.type==="labelImage"){s=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return o;function o(a){if(!s||!s._balanced)return n(a);const c=ir(r.sliceSerialize({start:s.end,end:r.now()}));return c.codePointAt(0)!==94||!u.includes(c.slice(1))?n(a):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(a),e.exit("gfmFootnoteCallLabelMarker"),t(a))}}function P8(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const u={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},u.start),end:Object.assign({},u.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",u,t],["enter",s,t],["exit",s,t],["exit",u,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function M8(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),a}function a(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(u>999||f===93&&!s||f===null||f===91||ft(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(ir(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return ft(f)||(s=!0),u++,e.consume(f),f===92?l:c}function l(f){return f===91||f===92||f===93?(e.consume(f),u++,c):c(f)}}function B8(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u,s=0,o;return a;function a(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",l):n(m)}function l(m){if(s>999||m===93&&!o||m===null||m===91||ft(m))return n(m);if(m===93){e.exit("chunkString");const A=e.exit("gfmFootnoteDefinitionLabelString");return u=ir(r.sliceSerialize(A)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return ft(m)||(o=!0),s++,e.consume(m),m===92?f:l}function f(m){return m===91||m===92||m===93?(e.consume(m),s++,l):l(m)}function h(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(u)||i.push(u),tt(e,d,"gfmFootnoteDefinitionWhitespace")):n(m)}function d(m){return t(m)}}function F8(e,t,n){return e.check(_a,t,e.attempt(D8,t,n))}function H8(e){e.exit("gfmFootnoteDefinition")}function j8(e,t,n){const r=this;return tt(e,i,"gfmFootnoteDefinitionIndent",5);function i(u){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(u):n(u)}}function U8(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:u,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let a=-1;for(;++a<s.length;)if(s[a][0]==="enter"&&s[a][1].type==="strikethroughSequenceTemporary"&&s[a][1]._close){let c=a;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[a][1].end.offset-s[a][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[a][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const l={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[a][1].end)},f={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[a][1].start)},h=[["enter",l,o],["enter",s[c][1],o],["exit",s[c][1],o],["enter",f,o]],d=o.parser.constructs.insideSpan.null;d&&Hn(h,h.length,0,Ll(d,s.slice(c+1,a),o)),Hn(h,h.length,0,[["exit",f,o],["enter",s[a][1],o],["exit",s[a][1],o],["exit",l,o]]),Hn(s,c-1,a-c+3,h),a=c+h.length-2;break}}for(a=-1;++a<s.length;)s[a][1].type==="strikethroughSequenceTemporary"&&(s[a][1].type="data");return s}function u(s,o,a){const c=this.previous,l=this.events;let f=0;return h;function h(m){return c===126&&l[l.length-1][1].type!=="characterEscape"?a(m):(s.enter("strikethroughSequenceTemporary"),d(m))}function d(m){const A=Ru(c);if(m===126)return f>1?a(m):(s.consume(m),f++,d);if(f<2&&!n)return a(m);const x=s.exit("strikethroughSequenceTemporary"),g=Ru(m);return x._open=!g||g===2&&!!A,x._close=!A||A===2&&!!g,o(m)}}}class z8{constructor(){this.map=[]}add(t,n,r){G8(this,t,n,r)}consume(t){if(this.map.sort(function(u,s){return u[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const u of i)t.push(u);i=r.pop()}this.map.length=0}}function G8(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function q8(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const u=r.length-1;r[u]=r[u]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function V8(){return{flow:{null:{name:"table",tokenize:W8,resolveAll:Y8}}}}function W8(e,t,n){const r=this;let i=0,u=0,s;return o;function o(N){let I=r.events.length-1;for(;I>-1;){const P=r.events[I][1].type;if(P==="lineEnding"||P==="linePrefix")I--;else break}const w=I>-1?r.events[I][1].type:null,O=w==="tableHead"||w==="tableRow"?E:a;return O===E&&r.parser.lazy[r.now().line]?n(N):O(N)}function a(N){return e.enter("tableHead"),e.enter("tableRow"),c(N)}function c(N){return N===124||(s=!0,u+=1),l(N)}function l(N){return N===null?n(N):Le(N)?u>1?(u=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),d):n(N):Je(N)?tt(e,l,"whitespace")(N):(u+=1,s&&(s=!1,i+=1),N===124?(e.enter("tableCellDivider"),e.consume(N),e.exit("tableCellDivider"),s=!0,l):(e.enter("data"),f(N)))}function f(N){return N===null||N===124||ft(N)?(e.exit("data"),l(N)):(e.consume(N),N===92?h:f)}function h(N){return N===92||N===124?(e.consume(N),f):f(N)}function d(N){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(N):(e.enter("tableDelimiterRow"),s=!1,Je(N)?tt(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):m(N))}function m(N){return N===45||N===58?x(N):N===124?(s=!0,e.enter("tableCellDivider"),e.consume(N),e.exit("tableCellDivider"),A):_(N)}function A(N){return Je(N)?tt(e,x,"whitespace")(N):x(N)}function x(N){return N===58?(u+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(N),e.exit("tableDelimiterMarker"),g):N===45?(u+=1,g(N)):N===null||Le(N)?p(N):_(N)}function g(N){return N===45?(e.enter("tableDelimiterFiller"),b(N)):_(N)}function b(N){return N===45?(e.consume(N),b):N===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(N),e.exit("tableDelimiterMarker"),v):(e.exit("tableDelimiterFiller"),v(N))}function v(N){return Je(N)?tt(e,p,"whitespace")(N):p(N)}function p(N){return N===124?m(N):N===null||Le(N)?!s||i!==u?_(N):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(N)):_(N)}function _(N){return n(N)}function E(N){return e.enter("tableRow"),k(N)}function k(N){return N===124?(e.enter("tableCellDivider"),e.consume(N),e.exit("tableCellDivider"),k):N===null||Le(N)?(e.exit("tableRow"),t(N)):Je(N)?tt(e,k,"whitespace")(N):(e.enter("data"),R(N))}function R(N){return N===null||N===124||ft(N)?(e.exit("data"),k(N)):(e.consume(N),N===92?D:R)}function D(N){return N===92||N===124?(e.consume(N),R):R(N)}}function Y8(e,t){let n=-1,r=!0,i=0,u=[0,0,0,0],s=[0,0,0,0],o=!1,a=0,c,l,f;const h=new z8;for(;++n<e.length;){const d=e[n],m=d[1];d[0]==="enter"?m.type==="tableHead"?(o=!1,a!==0&&(kp(h,t,a,c,l),l=void 0,a=0),c={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",c,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,f=void 0,u=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,l={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",l,t]])),i=m.type==="tableDelimiterRow"?2:l?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(u[1]!==0&&(s[0]=s[1],f=Ka(h,t,u,i,void 0,f),u=[0,0,0,0]),s[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(u[1]!==0&&(s[0]=s[1],f=Ka(h,t,u,i,void 0,f)),u=s,s=[u[1],n,0,0])):m.type==="tableHead"?(o=!0,a=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(a=n,u[1]!==0?(s[0]=s[1],f=Ka(h,t,u,i,n,f)):s[1]!==0&&(f=Ka(h,t,s,i,n,f)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(s[3]=n)}for(a!==0&&kp(h,t,a,c,l),h.consume(t.events),n=-1;++n<t.events.length;){const d=t.events[n];d[0]==="enter"&&d[1].type==="table"&&(d[1]._align=q8(t.events,n))}return e}function Ka(e,t,n,r,i,u){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(u.end=Object.assign({},yu(t.events,n[0])),e.add(n[0],0,[["exit",u,t]]));const a=yu(t.events,n[1]);if(u={type:s,start:Object.assign({},a),end:Object.assign({},a)},e.add(n[1],0,[["enter",u,t]]),n[2]!==0){const c=yu(t.events,n[2]),l=yu(t.events,n[3]),f={type:o,start:Object.assign({},c),end:Object.assign({},l)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],d=t.events[n[3]];if(h[1].end=Object.assign({},d[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,A=n[3]-n[2]-1;e.add(m,A,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(u.end=Object.assign({},yu(t.events,i)),e.add(i,0,[["exit",u,t]]),u=void 0),u}function kp(e,t,n,r,i){const u=[],s=yu(t.events,n);i&&(i.end=Object.assign({},s),u.push(["exit",i,t])),r.end=Object.assign({},s),u.push(["exit",r,t]),e.add(n+1,0,u)}function yu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const K8={name:"tasklistCheck",tokenize:Q8};function $8(){return{text:{91:K8}}}function Q8(e,t,n){const r=this;return i;function i(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(a):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),u)}function u(a){return ft(a)?(e.enter("taskListCheckValueUnchecked"),e.consume(a),e.exit("taskListCheckValueUnchecked"),s):a===88||a===120?(e.enter("taskListCheckValueChecked"),e.consume(a),e.exit("taskListCheckValueChecked"),s):n(a)}function s(a){return a===93?(e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(a)}function o(a){return Le(a)?t(a):Je(a)?e.check({tokenize:X8},t,n)(a):n(a)}}function X8(e,t,n){return tt(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function J8(e){return hE([x8(),R8(),U8(e),V8(),$8()])}const Z8={};function ev(e){const t=this,n=e||Z8,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),u=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(J8(n)),u.push(T8()),s.push(_8(n))}const wp=/[#.]/g;function tv(e,t){const n=e||"",r={};let i=0,u,s;for(;i<n.length;){wp.lastIndex=i;const o=wp.exec(n),a=n.slice(i,o?o.index:n.length);a&&(u?u==="#"?r.id=a:Array.isArray(r.className)?r.className.push(a):r.className=[a]:s=a,i+=a.length),o&&(u=o[0],i++)}return{type:"element",tagName:s||t||"div",properties:r,children:[]}}function iT(e,t,n){const r=n?uv(n):void 0;function i(u,s,...o){let a;if(u==null){a={type:"root",children:[]};const c=s;o.unshift(c)}else{a=tv(u,t);const c=a.tagName.toLowerCase(),l=r?r.get(c):void 0;if(a.tagName=l||c,nv(s))o.unshift(s);else for(const[f,h]of Object.entries(s))rv(e,a.properties,f,h)}for(const c of o)Xd(a.children,c);return a.type==="element"&&a.tagName==="template"&&(a.content={type:"root",children:a.children},a.children=[]),a}return i}function nv(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const u=i;for(const s of u)if(typeof s!="number"&&typeof s!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function rv(e,t,n,r){const i=Ol(e,n);let u;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;u=r}else typeof r=="boolean"?u=r:typeof r=="string"?i.spaceSeparated?u=Gh(r):i.commaSeparated?u=Fh(r):i.commaOrSpaceSeparated?u=Gh(Fh(r).join(" ")):u=Op(i,i.property,r):Array.isArray(r)?u=[...r]:u=i.property==="style"?iv(r):String(r);if(Array.isArray(u)){const s=[];for(const o of u)s.push(Op(i,i.property,o));u=s}i.property==="className"&&Array.isArray(t.className)&&(u=t.className.concat(u)),t[i.property]=u}}function Xd(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)Xd(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?Xd(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function Op(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||na(n)===na(t)))return!0}return n}function iv(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function uv(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const sv=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],av=iT(Ta,"div"),ov=iT(bi,"g",sv);function lv(e){const t=String(e),n=[];return{toOffset:i,toPoint:r};function r(u){if(typeof u=="number"&&u>-1&&u<=t.length){let s=0;for(;;){let o=n[s];if(o===void 0){const a=Dp(t,n[s-1]);o=a===-1?t.length+1:a+1,n[s]=o}if(o>u)return{line:s+1,column:u-(s>0?n[s-1]:0)+1,offset:u};s++}}}function i(u){if(u&&typeof u.line=="number"&&typeof u.column=="number"&&!Number.isNaN(u.line)&&!Number.isNaN(u.column)){for(;n.length<u.line;){const o=n[n.length-1],a=Dp(t,o),c=a===-1?t.length+1:a+1;if(o===c)break;n.push(c)}const s=(u.line>1?n[u.line-2]:0)+u.column-1;if(s<n[u.line-1])return s}}}function Dp(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Hi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},uT={}.hasOwnProperty,cv=Object.prototype;function dv(e,t){const n=t||{};return a0({file:n.file||void 0,location:!1,schema:n.space==="svg"?bi:Ta,verbose:n.verbose||!1},e)}function a0(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},Ao(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:sT(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const u=String(e.file),s=lv(u),o=s.toPoint(0),a=s.toPoint(u.length);n.position={start:o,end:a}}return n}case"#documentType":{const r=t;return n={type:"doctype"},Ao(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},Ao(e,r,n),n}default:return n=fv(e,t),n}}function sT(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=a0(e,t[n]);r.push(i)}return r}function fv(e,t){const n=e.schema;e.schema=t.namespaceURI===Hi.svg?bi:Ta;let r=-1;const i={};for(;++r<t.attrs.length;){const o=t.attrs[r],a=(o.prefix?o.prefix+":":"")+o.name;uT.call(cv,a)||(i[a]=o.value)}const s=(e.schema.space==="svg"?ov:av)(t.tagName,i,sT(e,t.childNodes));if(Ao(e,t,s),s.tagName==="template"){const o=t,a=o.sourceCodeLocation,c=a&&a.startTag&&Su(a.startTag),l=a&&a.endTag&&Su(a.endTag),f=a0(e,o.content);c&&l&&e.file&&(f.position={start:c.end,end:l.start}),s.content=f}return e.schema=n,s}function Ao(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=hv(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function hv(e,t,n){const r=Su(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const u={};let s;if(n.attrs)for(s in n.attrs)uT.call(n.attrs,s)&&(u[Ol(e.schema,s).property]=Su(n.attrs[s]));n.startTag;const o=Su(n.startTag),a=n.endTag?Su(n.endTag):void 0,c={opening:o};a&&(c.closing=a),c.properties=u,t.data={position:c}}}return r}function Su(e){const t=Rp({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Rp({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Rp(e){return e.line&&e.column?e:void 0}const pv={},mv={}.hasOwnProperty,aT=FE("type",{handlers:{root:bv,element:Av,text:_v,comment:yv,doctype:Tv}});function gv(e,t){const r=(t||pv).space;return aT(e,r==="svg"?bi:Ta)}function bv(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=o0(e.children,n,t),Wu(e,n),n}function Ev(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=o0(e.children,n,t),Wu(e,n),n}function Tv(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Wu(e,t),t}function _v(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Wu(e,t),t}function yv(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Wu(e,t),t}function Av(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=bi);const i=[];let u;if(e.properties){for(u in e.properties)if(u!=="children"&&mv.call(e.properties,u)){const a=xv(r,u,e.properties[u]);a&&i.push(a)}}const s=r.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Hi[s],childNodes:[],parentNode:null};return o.childNodes=o0(e.children,o,r),Wu(e,o),e.tagName==="template"&&e.content&&(o.content=Ev(e.content,r)),o}function xv(e,t,n){const r=Ol(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?Jb(n):sE(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const u=i.name.indexOf(":");u<0?i.prefix="":(i.name=i.name.slice(u+1),i.prefix=r.attribute.slice(0,u)),i.namespace=Hi[r.space]}return i}function o0(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const u=aT(e[r],n);u.parentNode=t,i.push(u)}return i}function Wu(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const Cv=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Nv=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),xt="�";var U;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(U||(U={}));const Cn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function oT(e){return e>=55296&&e<=57343}function Sv(e){return e>=56320&&e<=57343}function Iv(e,t){return(e-55296)*1024+9216+t}function lT(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function cT(e){return e>=64976&&e<=65007||Nv.has(e)}var ne;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ne||(ne={}));const vv=65536;class kv{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=vv,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:u}=this,s=i+n,o=u+n;return{code:t,startLine:r,endLine:r,startCol:s,endCol:s,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(Sv(n))return this.pos++,this._addGap(),Iv(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,U.EOF;return this._err(ne.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,U.EOF;const r=this.html.charCodeAt(n);return r===U.CARRIAGE_RETURN?U.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,U.EOF;let t=this.html.charCodeAt(this.pos);return t===U.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,U.LINE_FEED):t===U.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,oT(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===U.LINE_FEED||t===U.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){lT(t)?this._err(ne.controlCharacterInInputStream):cT(t)&&this._err(ne.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Qe;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Qe||(Qe={}));function dT(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const wv=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0))),Ov=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function Dv(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Ov.get(e))!==null&&t!==void 0?t:e}var Xt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Xt||(Xt={}));const Rv=32;var ai;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(ai||(ai={}));function Jd(e){return e>=Xt.ZERO&&e<=Xt.NINE}function Lv(e){return e>=Xt.UPPER_A&&e<=Xt.UPPER_F||e>=Xt.LOWER_A&&e<=Xt.LOWER_F}function Pv(e){return e>=Xt.UPPER_A&&e<=Xt.UPPER_Z||e>=Xt.LOWER_A&&e<=Xt.LOWER_Z||Jd(e)}function Mv(e){return e===Xt.EQUALS||Pv(e)}var $t;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})($t||($t={}));var Br;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Br||(Br={}));class Bv{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=$t.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Br.Strict}startEntity(t){this.decodeMode=t,this.state=$t.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case $t.EntityStart:return t.charCodeAt(n)===Xt.NUM?(this.state=$t.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=$t.NamedEntity,this.stateNamedEntity(t,n));case $t.NumericStart:return this.stateNumericStart(t,n);case $t.NumericDecimal:return this.stateNumericDecimal(t,n);case $t.NumericHex:return this.stateNumericHex(t,n);case $t.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|Rv)===Xt.LOWER_X?(this.state=$t.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=$t.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const u=r-n;this.result=this.result*Math.pow(i,u)+Number.parseInt(t.substr(n,u),i),this.consumed+=u}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Jd(i)||Lv(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Jd(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Xt.SEMI)this.consumed+=1;else if(this.decodeMode===Br.Strict)return 0;return this.emitCodePoint(Dv(this.result),this.consumed),this.errors&&(t!==Xt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],u=(i&ai.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const s=t.charCodeAt(n);if(this.treeIndex=Fv(r,i,this.treeIndex+Math.max(1,u),s),this.treeIndex<0)return this.result===0||this.decodeMode===Br.Attribute&&(u===0||Mv(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],u=(i&ai.VALUE_LENGTH)>>14,u!==0){if(s===Xt.SEMI)return this.emitNamedEntityData(this.treeIndex,u,this.consumed+this.excess);this.decodeMode!==Br.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&ai.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~ai.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case $t.NamedEntity:return this.result!==0&&(this.decodeMode!==Br.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case $t.NumericDecimal:return this.emitNumericEntity(0,2);case $t.NumericHex:return this.emitNumericEntity(0,3);case $t.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case $t.EntityStart:return 0}}}function Fv(e,t,n,r){const i=(t&ai.BRANCH_LENGTH)>>7,u=t&ai.JUMP_TABLE;if(i===0)return u!==0&&r===u?n:-1;if(u){const a=r-u;return a<0||a>=i?-1:e[n+a]-1}let s=n,o=s+i-1;for(;s<=o;){const a=s+o>>>1,c=e[a];if(c<r)s=a+1;else if(c>r)o=a-1;else return e[a+i]}return-1}var oe;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(oe||(oe={}));var qi;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(qi||(qi={}));var Vn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Vn||(Vn={}));var X;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(X||(X={}));var C;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(C||(C={}));const Hv=new Map([[X.A,C.A],[X.ADDRESS,C.ADDRESS],[X.ANNOTATION_XML,C.ANNOTATION_XML],[X.APPLET,C.APPLET],[X.AREA,C.AREA],[X.ARTICLE,C.ARTICLE],[X.ASIDE,C.ASIDE],[X.B,C.B],[X.BASE,C.BASE],[X.BASEFONT,C.BASEFONT],[X.BGSOUND,C.BGSOUND],[X.BIG,C.BIG],[X.BLOCKQUOTE,C.BLOCKQUOTE],[X.BODY,C.BODY],[X.BR,C.BR],[X.BUTTON,C.BUTTON],[X.CAPTION,C.CAPTION],[X.CENTER,C.CENTER],[X.CODE,C.CODE],[X.COL,C.COL],[X.COLGROUP,C.COLGROUP],[X.DD,C.DD],[X.DESC,C.DESC],[X.DETAILS,C.DETAILS],[X.DIALOG,C.DIALOG],[X.DIR,C.DIR],[X.DIV,C.DIV],[X.DL,C.DL],[X.DT,C.DT],[X.EM,C.EM],[X.EMBED,C.EMBED],[X.FIELDSET,C.FIELDSET],[X.FIGCAPTION,C.FIGCAPTION],[X.FIGURE,C.FIGURE],[X.FONT,C.FONT],[X.FOOTER,C.FOOTER],[X.FOREIGN_OBJECT,C.FOREIGN_OBJECT],[X.FORM,C.FORM],[X.FRAME,C.FRAME],[X.FRAMESET,C.FRAMESET],[X.H1,C.H1],[X.H2,C.H2],[X.H3,C.H3],[X.H4,C.H4],[X.H5,C.H5],[X.H6,C.H6],[X.HEAD,C.HEAD],[X.HEADER,C.HEADER],[X.HGROUP,C.HGROUP],[X.HR,C.HR],[X.HTML,C.HTML],[X.I,C.I],[X.IMG,C.IMG],[X.IMAGE,C.IMAGE],[X.INPUT,C.INPUT],[X.IFRAME,C.IFRAME],[X.KEYGEN,C.KEYGEN],[X.LABEL,C.LABEL],[X.LI,C.LI],[X.LINK,C.LINK],[X.LISTING,C.LISTING],[X.MAIN,C.MAIN],[X.MALIGNMARK,C.MALIGNMARK],[X.MARQUEE,C.MARQUEE],[X.MATH,C.MATH],[X.MENU,C.MENU],[X.META,C.META],[X.MGLYPH,C.MGLYPH],[X.MI,C.MI],[X.MO,C.MO],[X.MN,C.MN],[X.MS,C.MS],[X.MTEXT,C.MTEXT],[X.NAV,C.NAV],[X.NOBR,C.NOBR],[X.NOFRAMES,C.NOFRAMES],[X.NOEMBED,C.NOEMBED],[X.NOSCRIPT,C.NOSCRIPT],[X.OBJECT,C.OBJECT],[X.OL,C.OL],[X.OPTGROUP,C.OPTGROUP],[X.OPTION,C.OPTION],[X.P,C.P],[X.PARAM,C.PARAM],[X.PLAINTEXT,C.PLAINTEXT],[X.PRE,C.PRE],[X.RB,C.RB],[X.RP,C.RP],[X.RT,C.RT],[X.RTC,C.RTC],[X.RUBY,C.RUBY],[X.S,C.S],[X.SCRIPT,C.SCRIPT],[X.SEARCH,C.SEARCH],[X.SECTION,C.SECTION],[X.SELECT,C.SELECT],[X.SOURCE,C.SOURCE],[X.SMALL,C.SMALL],[X.SPAN,C.SPAN],[X.STRIKE,C.STRIKE],[X.STRONG,C.STRONG],[X.STYLE,C.STYLE],[X.SUB,C.SUB],[X.SUMMARY,C.SUMMARY],[X.SUP,C.SUP],[X.TABLE,C.TABLE],[X.TBODY,C.TBODY],[X.TEMPLATE,C.TEMPLATE],[X.TEXTAREA,C.TEXTAREA],[X.TFOOT,C.TFOOT],[X.TD,C.TD],[X.TH,C.TH],[X.THEAD,C.THEAD],[X.TITLE,C.TITLE],[X.TR,C.TR],[X.TRACK,C.TRACK],[X.TT,C.TT],[X.U,C.U],[X.UL,C.UL],[X.SVG,C.SVG],[X.VAR,C.VAR],[X.WBR,C.WBR],[X.XMP,C.XMP]]);function Yu(e){var t;return(t=Hv.get(e))!==null&&t!==void 0?t:C.UNKNOWN}const fe=C,jv={[oe.HTML]:new Set([fe.ADDRESS,fe.APPLET,fe.AREA,fe.ARTICLE,fe.ASIDE,fe.BASE,fe.BASEFONT,fe.BGSOUND,fe.BLOCKQUOTE,fe.BODY,fe.BR,fe.BUTTON,fe.CAPTION,fe.CENTER,fe.COL,fe.COLGROUP,fe.DD,fe.DETAILS,fe.DIR,fe.DIV,fe.DL,fe.DT,fe.EMBED,fe.FIELDSET,fe.FIGCAPTION,fe.FIGURE,fe.FOOTER,fe.FORM,fe.FRAME,fe.FRAMESET,fe.H1,fe.H2,fe.H3,fe.H4,fe.H5,fe.H6,fe.HEAD,fe.HEADER,fe.HGROUP,fe.HR,fe.HTML,fe.IFRAME,fe.IMG,fe.INPUT,fe.LI,fe.LINK,fe.LISTING,fe.MAIN,fe.MARQUEE,fe.MENU,fe.META,fe.NAV,fe.NOEMBED,fe.NOFRAMES,fe.NOSCRIPT,fe.OBJECT,fe.OL,fe.P,fe.PARAM,fe.PLAINTEXT,fe.PRE,fe.SCRIPT,fe.SECTION,fe.SELECT,fe.SOURCE,fe.STYLE,fe.SUMMARY,fe.TABLE,fe.TBODY,fe.TD,fe.TEMPLATE,fe.TEXTAREA,fe.TFOOT,fe.TH,fe.THEAD,fe.TITLE,fe.TR,fe.TRACK,fe.UL,fe.WBR,fe.XMP]),[oe.MATHML]:new Set([fe.MI,fe.MO,fe.MN,fe.MS,fe.MTEXT,fe.ANNOTATION_XML]),[oe.SVG]:new Set([fe.TITLE,fe.FOREIGN_OBJECT,fe.DESC]),[oe.XLINK]:new Set,[oe.XML]:new Set,[oe.XMLNS]:new Set},Zd=new Set([fe.H1,fe.H2,fe.H3,fe.H4,fe.H5,fe.H6]);X.STYLE,X.SCRIPT,X.XMP,X.IFRAME,X.NOEMBED,X.NOFRAMES,X.PLAINTEXT;var z;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(z||(z={}));const Mt={DATA:z.DATA,RCDATA:z.RCDATA,RAWTEXT:z.RAWTEXT,SCRIPT_DATA:z.SCRIPT_DATA,PLAINTEXT:z.PLAINTEXT,CDATA_SECTION:z.CDATA_SECTION};function Uv(e){return e>=U.DIGIT_0&&e<=U.DIGIT_9}function ks(e){return e>=U.LATIN_CAPITAL_A&&e<=U.LATIN_CAPITAL_Z}function zv(e){return e>=U.LATIN_SMALL_A&&e<=U.LATIN_SMALL_Z}function Xr(e){return zv(e)||ks(e)}function Lp(e){return Xr(e)||Uv(e)}function $a(e){return e+32}function fT(e){return e===U.SPACE||e===U.LINE_FEED||e===U.TABULATION||e===U.FORM_FEED}function Pp(e){return fT(e)||e===U.SOLIDUS||e===U.GREATER_THAN_SIGN}function Gv(e){return e===U.NULL?ne.nullCharacterReference:e>1114111?ne.characterReferenceOutsideUnicodeRange:oT(e)?ne.surrogateCharacterReference:cT(e)?ne.noncharacterCharacterReference:lT(e)||e===U.CARRIAGE_RETURN?ne.controlCharacterReference:null}let qv=class{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=z.DATA,this.returnState=z.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new kv(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new Bv(wv,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ne.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(ne.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=Gv(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Qe.START_TAG,tagName:"",tagID:C.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Qe.END_TAG,tagName:"",tagID:C.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Qe.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Qe.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(dT(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ne.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Yu(t.tagName),t.type===Qe.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ne.endTagWithAttributes),t.selfClosing&&this._err(ne.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Qe.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Qe.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Qe.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Qe.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=fT(t)?Qe.WHITESPACE_CHARACTER:t===U.NULL?Qe.NULL_CHARACTER:Qe.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Qe.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=z.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Br.Attribute:Br.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===z.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===z.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===z.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case z.DATA:{this._stateData(t);break}case z.RCDATA:{this._stateRcdata(t);break}case z.RAWTEXT:{this._stateRawtext(t);break}case z.SCRIPT_DATA:{this._stateScriptData(t);break}case z.PLAINTEXT:{this._statePlaintext(t);break}case z.TAG_OPEN:{this._stateTagOpen(t);break}case z.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case z.TAG_NAME:{this._stateTagName(t);break}case z.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case z.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case z.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case z.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case z.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case z.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case z.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case z.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case z.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case z.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case z.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case z.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case z.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case z.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case z.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case z.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case z.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case z.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case z.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case z.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case z.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case z.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case z.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case z.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case z.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case z.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case z.BOGUS_COMMENT:{this._stateBogusComment(t);break}case z.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case z.COMMENT_START:{this._stateCommentStart(t);break}case z.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case z.COMMENT:{this._stateComment(t);break}case z.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case z.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case z.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case z.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case z.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case z.COMMENT_END:{this._stateCommentEnd(t);break}case z.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case z.DOCTYPE:{this._stateDoctype(t);break}case z.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case z.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case z.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case z.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case z.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case z.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case z.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case z.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case z.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case z.CDATA_SECTION:{this._stateCdataSection(t);break}case z.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case z.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case z.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case z.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case U.LESS_THAN_SIGN:{this.state=z.TAG_OPEN;break}case U.AMPERSAND:{this._startCharacterReference();break}case U.NULL:{this._err(ne.unexpectedNullCharacter),this._emitCodePoint(t);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case U.AMPERSAND:{this._startCharacterReference();break}case U.LESS_THAN_SIGN:{this.state=z.RCDATA_LESS_THAN_SIGN;break}case U.NULL:{this._err(ne.unexpectedNullCharacter),this._emitChars(xt);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case U.LESS_THAN_SIGN:{this.state=z.RAWTEXT_LESS_THAN_SIGN;break}case U.NULL:{this._err(ne.unexpectedNullCharacter),this._emitChars(xt);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_LESS_THAN_SIGN;break}case U.NULL:{this._err(ne.unexpectedNullCharacter),this._emitChars(xt);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case U.NULL:{this._err(ne.unexpectedNullCharacter),this._emitChars(xt);break}case U.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Xr(t))this._createStartTagToken(),this.state=z.TAG_NAME,this._stateTagName(t);else switch(t){case U.EXCLAMATION_MARK:{this.state=z.MARKUP_DECLARATION_OPEN;break}case U.SOLIDUS:{this.state=z.END_TAG_OPEN;break}case U.QUESTION_MARK:{this._err(ne.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=z.BOGUS_COMMENT,this._stateBogusComment(t);break}case U.EOF:{this._err(ne.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ne.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=z.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Xr(t))this._createEndTagToken(),this.state=z.TAG_NAME,this._stateTagName(t);else switch(t){case U.GREATER_THAN_SIGN:{this._err(ne.missingEndTagName),this.state=z.DATA;break}case U.EOF:{this._err(ne.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ne.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=z.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=z.BEFORE_ATTRIBUTE_NAME;break}case U.SOLIDUS:{this.state=z.SELF_CLOSING_START_TAG;break}case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentTagToken();break}case U.NULL:{this._err(ne.unexpectedNullCharacter),n.tagName+=xt;break}case U.EOF:{this._err(ne.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(ks(t)?$a(t):t)}}_stateRcdataLessThanSign(t){t===U.SOLIDUS?this.state=z.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=z.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Xr(t)?(this.state=z.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=z.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=z.BEFORE_ATTRIBUTE_NAME,!1;case U.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=z.SELF_CLOSING_START_TAG,!1;case U.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=z.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===U.SOLIDUS?this.state=z.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=z.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Xr(t)?(this.state=z.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=z.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case U.SOLIDUS:{this.state=z.SCRIPT_DATA_END_TAG_OPEN;break}case U.EXCLAMATION_MARK:{this.state=z.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=z.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Xr(t)?(this.state=z.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===U.HYPHEN_MINUS?(this.state=z.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===U.HYPHEN_MINUS?(this.state=z.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case U.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case U.NULL:{this._err(ne.unexpectedNullCharacter),this._emitChars(xt);break}case U.EOF:{this._err(ne.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case U.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case U.NULL:{this._err(ne.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_ESCAPED,this._emitChars(xt);break}case U.EOF:{this._err(ne.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case U.HYPHEN_MINUS:{this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case U.GREATER_THAN_SIGN:{this.state=z.SCRIPT_DATA,this._emitChars(">");break}case U.NULL:{this._err(ne.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_ESCAPED,this._emitChars(xt);break}case U.EOF:{this._err(ne.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===U.SOLIDUS?this.state=z.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Xr(t)?(this._emitChars("<"),this.state=z.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Xr(t)?(this.state=z.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Cn.SCRIPT,!1)&&Pp(this.preprocessor.peek(Cn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Cn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case U.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case U.NULL:{this._err(ne.unexpectedNullCharacter),this._emitChars(xt);break}case U.EOF:{this._err(ne.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case U.HYPHEN_MINUS:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case U.NULL:{this._err(ne.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(xt);break}case U.EOF:{this._err(ne.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case U.HYPHEN_MINUS:{this._emitChars("-");break}case U.LESS_THAN_SIGN:{this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case U.GREATER_THAN_SIGN:{this.state=z.SCRIPT_DATA,this._emitChars(">");break}case U.NULL:{this._err(ne.unexpectedNullCharacter),this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(xt);break}case U.EOF:{this._err(ne.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===U.SOLIDUS?(this.state=z.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Cn.SCRIPT,!1)&&Pp(this.preprocessor.peek(Cn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Cn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=z.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=z.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.SOLIDUS:case U.GREATER_THAN_SIGN:case U.EOF:{this.state=z.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case U.EQUALS_SIGN:{this._err(ne.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=z.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=z.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:case U.SOLIDUS:case U.GREATER_THAN_SIGN:case U.EOF:{this._leaveAttrName(),this.state=z.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case U.EQUALS_SIGN:{this._leaveAttrName(),this.state=z.BEFORE_ATTRIBUTE_VALUE;break}case U.QUOTATION_MARK:case U.APOSTROPHE:case U.LESS_THAN_SIGN:{this._err(ne.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case U.NULL:{this._err(ne.unexpectedNullCharacter),this.currentAttr.name+=xt;break}default:this.currentAttr.name+=String.fromCodePoint(ks(t)?$a(t):t)}}_stateAfterAttributeName(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.SOLIDUS:{this.state=z.SELF_CLOSING_START_TAG;break}case U.EQUALS_SIGN:{this.state=z.BEFORE_ATTRIBUTE_VALUE;break}case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentTagToken();break}case U.EOF:{this._err(ne.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=z.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.QUOTATION_MARK:{this.state=z.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this.state=z.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(ne.missingAttributeValue),this.state=z.DATA,this.emitCurrentTagToken();break}default:this.state=z.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case U.QUOTATION_MARK:{this.state=z.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case U.AMPERSAND:{this._startCharacterReference();break}case U.NULL:{this._err(ne.unexpectedNullCharacter),this.currentAttr.value+=xt;break}case U.EOF:{this._err(ne.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case U.APOSTROPHE:{this.state=z.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case U.AMPERSAND:{this._startCharacterReference();break}case U.NULL:{this._err(ne.unexpectedNullCharacter),this.currentAttr.value+=xt;break}case U.EOF:{this._err(ne.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this._leaveAttrValue(),this.state=z.BEFORE_ATTRIBUTE_NAME;break}case U.AMPERSAND:{this._startCharacterReference();break}case U.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=z.DATA,this.emitCurrentTagToken();break}case U.NULL:{this._err(ne.unexpectedNullCharacter),this.currentAttr.value+=xt;break}case U.QUOTATION_MARK:case U.APOSTROPHE:case U.LESS_THAN_SIGN:case U.EQUALS_SIGN:case U.GRAVE_ACCENT:{this._err(ne.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case U.EOF:{this._err(ne.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this._leaveAttrValue(),this.state=z.BEFORE_ATTRIBUTE_NAME;break}case U.SOLIDUS:{this._leaveAttrValue(),this.state=z.SELF_CLOSING_START_TAG;break}case U.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=z.DATA,this.emitCurrentTagToken();break}case U.EOF:{this._err(ne.eofInTag),this._emitEOFToken();break}default:this._err(ne.missingWhitespaceBetweenAttributes),this.state=z.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case U.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=z.DATA,this.emitCurrentTagToken();break}case U.EOF:{this._err(ne.eofInTag),this._emitEOFToken();break}default:this._err(ne.unexpectedSolidusInTag),this.state=z.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentComment(n);break}case U.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case U.NULL:{this._err(ne.unexpectedNullCharacter),n.data+=xt;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Cn.DASH_DASH,!0)?(this._createCommentToken(Cn.DASH_DASH.length+1),this.state=z.COMMENT_START):this._consumeSequenceIfMatch(Cn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Cn.DOCTYPE.length+1),this.state=z.DOCTYPE):this._consumeSequenceIfMatch(Cn.CDATA_START,!0)?this.inForeignNode?this.state=z.CDATA_SECTION:(this._err(ne.cdataInHtmlContent),this._createCommentToken(Cn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=z.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ne.incorrectlyOpenedComment),this._createCommentToken(2),this.state=z.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case U.HYPHEN_MINUS:{this.state=z.COMMENT_START_DASH;break}case U.GREATER_THAN_SIGN:{this._err(ne.abruptClosingOfEmptyComment),this.state=z.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=z.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{this.state=z.COMMENT_END;break}case U.GREATER_THAN_SIGN:{this._err(ne.abruptClosingOfEmptyComment),this.state=z.DATA,this.emitCurrentComment(n);break}case U.EOF:{this._err(ne.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=z.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{this.state=z.COMMENT_END_DASH;break}case U.LESS_THAN_SIGN:{n.data+="<",this.state=z.COMMENT_LESS_THAN_SIGN;break}case U.NULL:{this._err(ne.unexpectedNullCharacter),n.data+=xt;break}case U.EOF:{this._err(ne.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case U.EXCLAMATION_MARK:{n.data+="!",this.state=z.COMMENT_LESS_THAN_SIGN_BANG;break}case U.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=z.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===U.HYPHEN_MINUS?this.state=z.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=z.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===U.HYPHEN_MINUS?this.state=z.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=z.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==U.GREATER_THAN_SIGN&&t!==U.EOF&&this._err(ne.nestedComment),this.state=z.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{this.state=z.COMMENT_END;break}case U.EOF:{this._err(ne.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=z.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentComment(n);break}case U.EXCLAMATION_MARK:{this.state=z.COMMENT_END_BANG;break}case U.HYPHEN_MINUS:{n.data+="-";break}case U.EOF:{this._err(ne.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=z.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case U.HYPHEN_MINUS:{n.data+="--!",this.state=z.COMMENT_END_DASH;break}case U.GREATER_THAN_SIGN:{this._err(ne.incorrectlyClosedComment),this.state=z.DATA,this.emitCurrentComment(n);break}case U.EOF:{this._err(ne.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=z.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=z.BEFORE_DOCTYPE_NAME;break}case U.GREATER_THAN_SIGN:{this.state=z.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case U.EOF:{this._err(ne.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ne.missingWhitespaceBeforeDoctypeName),this.state=z.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(ks(t))this._createDoctypeToken(String.fromCharCode($a(t))),this.state=z.DOCTYPE_NAME;else switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.NULL:{this._err(ne.unexpectedNullCharacter),this._createDoctypeToken(xt),this.state=z.DOCTYPE_NAME;break}case U.GREATER_THAN_SIGN:{this._err(ne.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.EOF:{this._err(ne.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=z.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=z.AFTER_DOCTYPE_NAME;break}case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.NULL:{this._err(ne.unexpectedNullCharacter),n.name+=xt;break}case U.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(ks(t)?$a(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Cn.PUBLIC,!1)?this.state=z.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Cn.SYSTEM,!1)?this.state=z.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ne.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=z.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case U.QUOTATION_MARK:{this._err(ne.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this._err(ne.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(ne.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ne.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.QUOTATION_MARK:{n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{n.publicId="",this.state=z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(ne.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ne.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case U.QUOTATION_MARK:{this.state=z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case U.NULL:{this._err(ne.unexpectedNullCharacter),n.publicId+=xt;break}case U.GREATER_THAN_SIGN:{this._err(ne.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case U.APOSTROPHE:{this.state=z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case U.NULL:{this._err(ne.unexpectedNullCharacter),n.publicId+=xt;break}case U.GREATER_THAN_SIGN:{this._err(ne.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=z.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case U.GREATER_THAN_SIGN:{this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.QUOTATION_MARK:{this._err(ne.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this._err(ne.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ne.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.QUOTATION_MARK:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ne.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:{this.state=z.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case U.QUOTATION_MARK:{this._err(ne.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{this._err(ne.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(ne.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ne.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.QUOTATION_MARK:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case U.APOSTROPHE:{n.systemId="",this.state=z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case U.GREATER_THAN_SIGN:{this._err(ne.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.DATA,this.emitCurrentDoctype(n);break}case U.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ne.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case U.QUOTATION_MARK:{this.state=z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case U.NULL:{this._err(ne.unexpectedNullCharacter),n.systemId+=xt;break}case U.GREATER_THAN_SIGN:{this._err(ne.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case U.APOSTROPHE:{this.state=z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case U.NULL:{this._err(ne.unexpectedNullCharacter),n.systemId+=xt;break}case U.GREATER_THAN_SIGN:{this._err(ne.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case U.SPACE:case U.LINE_FEED:case U.TABULATION:case U.FORM_FEED:break;case U.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ne.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case U.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=z.DATA;break}case U.NULL:{this._err(ne.unexpectedNullCharacter);break}case U.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case U.RIGHT_SQUARE_BRACKET:{this.state=z.CDATA_SECTION_BRACKET;break}case U.EOF:{this._err(ne.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===U.RIGHT_SQUARE_BRACKET?this.state=z.CDATA_SECTION_END:(this._emitChars("]"),this.state=z.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case U.GREATER_THAN_SIGN:{this.state=z.DATA;break}case U.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=z.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(U.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Lp(this.preprocessor.peek(1))?z.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){Lp(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===U.SEMICOLON&&this._err(ne.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}};const hT=new Set([C.DD,C.DT,C.LI,C.OPTGROUP,C.OPTION,C.P,C.RB,C.RP,C.RT,C.RTC]),Mp=new Set([...hT,C.CAPTION,C.COLGROUP,C.TBODY,C.TD,C.TFOOT,C.TH,C.THEAD,C.TR]),Mo=new Set([C.APPLET,C.CAPTION,C.HTML,C.MARQUEE,C.OBJECT,C.TABLE,C.TD,C.TEMPLATE,C.TH]),Vv=new Set([...Mo,C.OL,C.UL]),Wv=new Set([...Mo,C.BUTTON]),Bp=new Set([C.ANNOTATION_XML,C.MI,C.MN,C.MO,C.MS,C.MTEXT]),Fp=new Set([C.DESC,C.FOREIGN_OBJECT,C.TITLE]),Yv=new Set([C.TR,C.TEMPLATE,C.HTML]),Kv=new Set([C.TBODY,C.TFOOT,C.THEAD,C.TEMPLATE,C.HTML]),$v=new Set([C.TABLE,C.TEMPLATE,C.HTML]),Qv=new Set([C.TD,C.TH]);class Xv{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=C.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===C.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===oe.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==oe.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Zd,oe.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Qv,oe.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo($v,oe.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Kv,oe.HTML)}clearBackToTableRowContext(){this.clearBackTo(Yv,oe.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===C.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===C.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case oe.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case oe.SVG:{if(Fp.has(i))return!1;break}case oe.MATHML:{if(Bp.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Mo)}hasInListItemScope(t){return this.hasInDynamicScope(t,Vv)}hasInButtonScope(t){return this.hasInDynamicScope(t,Wv)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case oe.HTML:{if(Zd.has(n))return!0;if(Mo.has(n))return!1;break}case oe.SVG:{if(Fp.has(n))return!1;break}case oe.MATHML:{if(Bp.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===oe.HTML)switch(this.tagIDs[n]){case t:return!0;case C.TABLE:case C.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===oe.HTML)switch(this.tagIDs[t]){case C.TBODY:case C.THEAD:case C.TFOOT:return!0;case C.TABLE:case C.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===oe.HTML)switch(this.tagIDs[n]){case t:return!0;case C.OPTION:case C.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&hT.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&Mp.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&Mp.has(this.currentTagId);)this.pop()}}const Dc=3;var mr;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(mr||(mr={}));const Hp={type:mr.Marker};class Jv{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,u=this.treeAdapter.getTagName(t),s=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const a=this.entries[o];if(a.type===mr.Marker)break;const{element:c}=a;if(this.treeAdapter.getTagName(c)===u&&this.treeAdapter.getNamespaceURI(c)===s){const l=this.treeAdapter.getAttrList(c);l.length===i&&r.push({idx:o,attrs:l})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<Dc)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<Dc)return;const i=new Map(n.map(s=>[s.name,s.value]));let u=0;for(let s=0;s<r.length;s++){const o=r[s];o.attrs.every(a=>i.get(a.name)===a.value)&&(u+=1,u>=Dc&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(Hp)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:mr.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:mr.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(Hp);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===mr.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===mr.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===mr.Element&&n.element===t)}}const Jr={createDocument(){return{nodeName:"#document",mode:Vn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(u=>u.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const u={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Jr.appendChild(e,u)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Jr.isTextNode(n)){n.value+=t;return}}Jr.appendChild(e,Jr.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Jr.isTextNode(r)?r.value+=t:Jr.insertBefore(e,Jr.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation=G(G({},e.sourceCodeLocation),t)}},pT="html",Zv="about:legacy-compat",e4="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",mT=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],t4=[...mT,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],n4=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),gT=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],r4=[...gT,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function jp(e,t){return t.some(n=>e.startsWith(n))}function i4(e){return e.name===pT&&e.publicId===null&&(e.systemId===null||e.systemId===Zv)}function u4(e){if(e.name!==pT)return Vn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===e4)return Vn.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),n4.has(n))return Vn.QUIRKS;let r=t===null?t4:mT;if(jp(n,r))return Vn.QUIRKS;if(r=t===null?gT:r4,jp(n,r))return Vn.LIMITED_QUIRKS}return Vn.NO_QUIRKS}const Up={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},s4="definitionurl",a4="definitionURL",o4=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),l4=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:oe.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:oe.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:oe.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:oe.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:oe.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:oe.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:oe.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:oe.XML}],["xml:space",{prefix:"xml",name:"space",namespace:oe.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:oe.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:oe.XMLNS}]]),c4=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),d4=new Set([C.B,C.BIG,C.BLOCKQUOTE,C.BODY,C.BR,C.CENTER,C.CODE,C.DD,C.DIV,C.DL,C.DT,C.EM,C.EMBED,C.H1,C.H2,C.H3,C.H4,C.H5,C.H6,C.HEAD,C.HR,C.I,C.IMG,C.LI,C.LISTING,C.MENU,C.META,C.NOBR,C.OL,C.P,C.PRE,C.RUBY,C.S,C.SMALL,C.SPAN,C.STRONG,C.STRIKE,C.SUB,C.SUP,C.TABLE,C.TT,C.U,C.UL,C.VAR]);function f4(e){const t=e.tagID;return t===C.FONT&&e.attrs.some(({name:r})=>r===qi.COLOR||r===qi.SIZE||r===qi.FACE)||d4.has(t)}function bT(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===s4){e.attrs[t].name=a4;break}}function ET(e){for(let t=0;t<e.attrs.length;t++){const n=o4.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function l0(e){for(let t=0;t<e.attrs.length;t++){const n=l4.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function h4(e){const t=c4.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Yu(e.tagName))}function p4(e,t){return t===oe.MATHML&&(e===C.MI||e===C.MO||e===C.MN||e===C.MS||e===C.MTEXT)}function m4(e,t,n){if(t===oe.MATHML&&e===C.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===qi.ENCODING){const i=n[r].value.toLowerCase();return i===Up.TEXT_HTML||i===Up.APPLICATION_XML}}return t===oe.SVG&&(e===C.FOREIGN_OBJECT||e===C.DESC||e===C.TITLE)}function g4(e,t,n,r){return(!r||r===oe.HTML)&&m4(e,t,n)||(!r||r===oe.MATHML)&&p4(e,t)}const b4="hidden",E4=8,T4=3;var q;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(q||(q={}));const _4={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},TT=new Set([C.TABLE,C.TBODY,C.TFOOT,C.THEAD,C.TR]),zp={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Jr,onParseError:null};let Gp=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=q.INITIAL,this.originalInsertionMode=q.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=G(G({},zp),t),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n!=null?n:this.treeAdapter.createDocument(),this.tokenizer=new qv(this.options,this),this.activeFormattingElements=new Jv(this.treeAdapter),this.fragmentContextID=r?Yu(this.treeAdapter.getTagName(r)):C.UNKNOWN,this._setContextModes(r!=null?r:this.document,this.fragmentContextID),this.openElements=new Xv(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r=G(G({},zp),n);t!=null||(t=r.treeAdapter.createElement(X.TEMPLATE,oe.HTML,[]));const i=r.treeAdapter.createElement("documentmock",oe.HTML,[]),u=new this(r,i,t);return u.fragmentContextID===C.TEMPLATE&&u.tmplInsertionModeStack.unshift(q.IN_TEMPLATE),u._initTokenizerForFragmentParsing(),u._insertFakeRootElement(),u._resetInsertionMode(),u._findFormInFragmentContext(),u}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const u=(i=t.location)!==null&&i!==void 0?i:_4,s={code:n,startLine:u.startLine,startCol:u.startCol,startOffset:u.startOffset,endLine:r?u.startLine:u.endLine,endCol:r?u.startCol:u.endCol,endOffset:r?u.startOffset:u.endOffset};this.onParseError(s)}onItemPush(t,n,r){var i,u;(u=(i=this.treeAdapter).onItemPush)===null||u===void 0||u.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let u,s;this.openElements.stackTop===0&&this.fragmentContext?(u=this.fragmentContext,s=this.fragmentContextID):{current:u,currentTagId:s}=this.openElements,this._setContextModes(u,s)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===oe.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,oe.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=q.TEXT}switchToPlaintextParsing(){this.insertionMode=q.TEXT,this.originalInsertionMode=q.IN_BODY,this.tokenizer.state=Mt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===X.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==oe.HTML))switch(this.fragmentContextID){case C.TITLE:case C.TEXTAREA:{this.tokenizer.state=Mt.RCDATA;break}case C.STYLE:case C.XMP:case C.IFRAME:case C.NOEMBED:case C.NOFRAMES:case C.NOSCRIPT:{this.tokenizer.state=Mt.RAWTEXT;break}case C.SCRIPT:{this.tokenizer.state=Mt.SCRIPT_DATA;break}case C.PLAINTEXT:{this.tokenizer.state=Mt.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const s=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));s&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&le(G({},n),{startTag:n});this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r!=null?r:this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,oe.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,oe.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(X.HTML,oe.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,C.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),u=r?i.lastIndexOf(r):i.length,s=i[u-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:a,endCol:c,endOffset:l}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:a,endCol:c,endOffset:l})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),u=n.type===Qe.END_TAG&&i===n.tagName?{endTag:G({},r),endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,u)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===C.SVG&&this.treeAdapter.getTagName(n)===X.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===oe.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===C.MGLYPH||t.tagID===C.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,oe.HTML)}_processToken(t){switch(t.type){case Qe.CHARACTER:{this.onCharacter(t);break}case Qe.NULL_CHARACTER:{this.onNullCharacter(t);break}case Qe.COMMENT:{this.onComment(t);break}case Qe.DOCTYPE:{this.onDoctype(t);break}case Qe.START_TAG:{this._processStartTag(t);break}case Qe.END_TAG:{this.onEndTag(t);break}case Qe.EOF:{this.onEof(t);break}case Qe.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),u=this.treeAdapter.getAttrList(n);return g4(t,i,u,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===mr.Marker||this.openElements.contains(i.element)),r=n===-1?t-1:n-1;for(let i=r;i>=0;i--){const u=this.activeFormattingElements.entries[i];this._insertElement(u.token,this.treeAdapter.getNamespaceURI(u.element)),u.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=q.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(C.P),this.openElements.popUntilTagNamePopped(C.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case C.TR:{this.insertionMode=q.IN_ROW;return}case C.TBODY:case C.THEAD:case C.TFOOT:{this.insertionMode=q.IN_TABLE_BODY;return}case C.CAPTION:{this.insertionMode=q.IN_CAPTION;return}case C.COLGROUP:{this.insertionMode=q.IN_COLUMN_GROUP;return}case C.TABLE:{this.insertionMode=q.IN_TABLE;return}case C.BODY:{this.insertionMode=q.IN_BODY;return}case C.FRAMESET:{this.insertionMode=q.IN_FRAMESET;return}case C.SELECT:{this._resetInsertionModeForSelect(t);return}case C.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case C.HTML:{this.insertionMode=this.headElement?q.AFTER_HEAD:q.BEFORE_HEAD;return}case C.TD:case C.TH:{if(t>0){this.insertionMode=q.IN_CELL;return}break}case C.HEAD:{if(t>0){this.insertionMode=q.IN_HEAD;return}break}}this.insertionMode=q.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===C.TEMPLATE)break;if(r===C.TABLE){this.insertionMode=q.IN_SELECT_IN_TABLE;return}}this.insertionMode=q.IN_SELECT}_isElementCausesFosterParenting(t){return TT.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case C.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===oe.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case C.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return jv[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Qk(this,t);return}switch(this.insertionMode){case q.INITIAL:{us(this,t);break}case q.BEFORE_HTML:{Hs(this,t);break}case q.BEFORE_HEAD:{js(this,t);break}case q.IN_HEAD:{Us(this,t);break}case q.IN_HEAD_NO_SCRIPT:{zs(this,t);break}case q.AFTER_HEAD:{Gs(this,t);break}case q.IN_BODY:case q.IN_CAPTION:case q.IN_CELL:case q.IN_TEMPLATE:{yT(this,t);break}case q.TEXT:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case q.IN_TABLE:case q.IN_TABLE_BODY:case q.IN_ROW:{Rc(this,t);break}case q.IN_TABLE_TEXT:{IT(this,t);break}case q.IN_COLUMN_GROUP:{Bo(this,t);break}case q.AFTER_BODY:{Fo(this,t);break}case q.AFTER_AFTER_BODY:{xo(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){$k(this,t);return}switch(this.insertionMode){case q.INITIAL:{us(this,t);break}case q.BEFORE_HTML:{Hs(this,t);break}case q.BEFORE_HEAD:{js(this,t);break}case q.IN_HEAD:{Us(this,t);break}case q.IN_HEAD_NO_SCRIPT:{zs(this,t);break}case q.AFTER_HEAD:{Gs(this,t);break}case q.TEXT:{this._insertCharacters(t);break}case q.IN_TABLE:case q.IN_TABLE_BODY:case q.IN_ROW:{Rc(this,t);break}case q.IN_COLUMN_GROUP:{Bo(this,t);break}case q.AFTER_BODY:{Fo(this,t);break}case q.AFTER_AFTER_BODY:{xo(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){ef(this,t);return}switch(this.insertionMode){case q.INITIAL:case q.BEFORE_HTML:case q.BEFORE_HEAD:case q.IN_HEAD:case q.IN_HEAD_NO_SCRIPT:case q.AFTER_HEAD:case q.IN_BODY:case q.IN_TABLE:case q.IN_CAPTION:case q.IN_COLUMN_GROUP:case q.IN_TABLE_BODY:case q.IN_ROW:case q.IN_CELL:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:case q.IN_TEMPLATE:case q.IN_FRAMESET:case q.AFTER_FRAMESET:{ef(this,t);break}case q.IN_TABLE_TEXT:{ss(this,t);break}case q.AFTER_BODY:{I4(this,t);break}case q.AFTER_AFTER_BODY:case q.AFTER_AFTER_FRAMESET:{v4(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case q.INITIAL:{k4(this,t);break}case q.BEFORE_HEAD:case q.IN_HEAD:case q.IN_HEAD_NO_SCRIPT:case q.AFTER_HEAD:{this._err(t,ne.misplacedDoctype);break}case q.IN_TABLE_TEXT:{ss(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ne.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?Xk(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case q.INITIAL:{us(this,t);break}case q.BEFORE_HTML:{w4(this,t);break}case q.BEFORE_HEAD:{D4(this,t);break}case q.IN_HEAD:{sr(this,t);break}case q.IN_HEAD_NO_SCRIPT:{P4(this,t);break}case q.AFTER_HEAD:{B4(this,t);break}case q.IN_BODY:{hn(this,t);break}case q.IN_TABLE:{Pu(this,t);break}case q.IN_TABLE_TEXT:{ss(this,t);break}case q.IN_CAPTION:{Rk(this,t);break}case q.IN_COLUMN_GROUP:{f0(this,t);break}case q.IN_TABLE_BODY:{Ul(this,t);break}case q.IN_ROW:{zl(this,t);break}case q.IN_CELL:{Mk(this,t);break}case q.IN_SELECT:{wT(this,t);break}case q.IN_SELECT_IN_TABLE:{Fk(this,t);break}case q.IN_TEMPLATE:{jk(this,t);break}case q.AFTER_BODY:{zk(this,t);break}case q.IN_FRAMESET:{Gk(this,t);break}case q.AFTER_FRAMESET:{Vk(this,t);break}case q.AFTER_AFTER_BODY:{Yk(this,t);break}case q.AFTER_AFTER_FRAMESET:{Kk(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?Jk(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case q.INITIAL:{us(this,t);break}case q.BEFORE_HTML:{O4(this,t);break}case q.BEFORE_HEAD:{R4(this,t);break}case q.IN_HEAD:{L4(this,t);break}case q.IN_HEAD_NO_SCRIPT:{M4(this,t);break}case q.AFTER_HEAD:{F4(this,t);break}case q.IN_BODY:{jl(this,t);break}case q.TEXT:{xk(this,t);break}case q.IN_TABLE:{ua(this,t);break}case q.IN_TABLE_TEXT:{ss(this,t);break}case q.IN_CAPTION:{Lk(this,t);break}case q.IN_COLUMN_GROUP:{Pk(this,t);break}case q.IN_TABLE_BODY:{tf(this,t);break}case q.IN_ROW:{kT(this,t);break}case q.IN_CELL:{Bk(this,t);break}case q.IN_SELECT:{OT(this,t);break}case q.IN_SELECT_IN_TABLE:{Hk(this,t);break}case q.IN_TEMPLATE:{Uk(this,t);break}case q.AFTER_BODY:{RT(this,t);break}case q.IN_FRAMESET:{qk(this,t);break}case q.AFTER_FRAMESET:{Wk(this,t);break}case q.AFTER_AFTER_BODY:{xo(this,t);break}}}onEof(t){switch(this.insertionMode){case q.INITIAL:{us(this,t);break}case q.BEFORE_HTML:{Hs(this,t);break}case q.BEFORE_HEAD:{js(this,t);break}case q.IN_HEAD:{Us(this,t);break}case q.IN_HEAD_NO_SCRIPT:{zs(this,t);break}case q.AFTER_HEAD:{Gs(this,t);break}case q.IN_BODY:case q.IN_TABLE:case q.IN_CAPTION:case q.IN_COLUMN_GROUP:case q.IN_TABLE_BODY:case q.IN_ROW:case q.IN_CELL:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:{NT(this,t);break}case q.TEXT:{Ck(this,t);break}case q.IN_TABLE_TEXT:{ss(this,t);break}case q.IN_TEMPLATE:{DT(this,t);break}case q.AFTER_BODY:case q.IN_FRAMESET:case q.AFTER_FRAMESET:case q.AFTER_AFTER_BODY:case q.AFTER_AFTER_FRAMESET:{d0(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===U.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case q.IN_HEAD:case q.IN_HEAD_NO_SCRIPT:case q.AFTER_HEAD:case q.TEXT:case q.IN_COLUMN_GROUP:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:case q.IN_FRAMESET:case q.AFTER_FRAMESET:{this._insertCharacters(t);break}case q.IN_BODY:case q.IN_CAPTION:case q.IN_CELL:case q.IN_TEMPLATE:case q.AFTER_BODY:case q.AFTER_AFTER_BODY:case q.AFTER_AFTER_FRAMESET:{_T(this,t);break}case q.IN_TABLE:case q.IN_TABLE_BODY:case q.IN_ROW:{Rc(this,t);break}case q.IN_TABLE_TEXT:{ST(this,t);break}}}};function y4(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):CT(e,t),n}function A4(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function x4(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let u=0,s=i;s!==n;u++,s=i){i=e.openElements.getCommonAncestor(s);const o=e.activeFormattingElements.getElementEntry(s),a=o&&u>=T4;!o||a?(a&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(s)):(s=C4(e,o),r===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(s,r),r=s)}return r}function C4(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function N4(e,t,n){const r=e.treeAdapter.getTagName(t),i=Yu(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const u=e.treeAdapter.getNamespaceURI(t);i===C.TEMPLATE&&u===oe.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function S4(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,u=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,u),e.treeAdapter.appendChild(t,u),e.activeFormattingElements.insertElementAfterBookmark(u,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,u,i.tagID)}function c0(e,t){for(let n=0;n<E4;n++){const r=y4(e,t);if(!r)break;const i=A4(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const u=x4(e,i,r.element),s=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(u),s&&N4(e,s,u),S4(e,i,r)}}function ef(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function I4(e,t){e._appendCommentNode(t,e.openElements.items[0])}function v4(e,t){e._appendCommentNode(t,e.document)}function d0(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const u=e.openElements.items[1],s=e.treeAdapter.getNodeSourceCodeLocation(u);s&&!s.endTag&&e._setEndLocation(u,t)}}}}function k4(e,t){e._setDocumentType(t);const n=t.forceQuirks?Vn.QUIRKS:u4(t);i4(t)||e._err(t,ne.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=q.BEFORE_HTML}function us(e,t){e._err(t,ne.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Vn.QUIRKS),e.insertionMode=q.BEFORE_HTML,e._processToken(t)}function w4(e,t){t.tagID===C.HTML?(e._insertElement(t,oe.HTML),e.insertionMode=q.BEFORE_HEAD):Hs(e,t)}function O4(e,t){const n=t.tagID;(n===C.HTML||n===C.HEAD||n===C.BODY||n===C.BR)&&Hs(e,t)}function Hs(e,t){e._insertFakeRootElement(),e.insertionMode=q.BEFORE_HEAD,e._processToken(t)}function D4(e,t){switch(t.tagID){case C.HTML:{hn(e,t);break}case C.HEAD:{e._insertElement(t,oe.HTML),e.headElement=e.openElements.current,e.insertionMode=q.IN_HEAD;break}default:js(e,t)}}function R4(e,t){const n=t.tagID;n===C.HEAD||n===C.BODY||n===C.HTML||n===C.BR?js(e,t):e._err(t,ne.endTagWithoutMatchingOpenElement)}function js(e,t){e._insertFakeElement(X.HEAD,C.HEAD),e.headElement=e.openElements.current,e.insertionMode=q.IN_HEAD,e._processToken(t)}function sr(e,t){switch(t.tagID){case C.HTML:{hn(e,t);break}case C.BASE:case C.BASEFONT:case C.BGSOUND:case C.LINK:case C.META:{e._appendElement(t,oe.HTML),t.ackSelfClosing=!0;break}case C.TITLE:{e._switchToTextParsing(t,Mt.RCDATA);break}case C.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Mt.RAWTEXT):(e._insertElement(t,oe.HTML),e.insertionMode=q.IN_HEAD_NO_SCRIPT);break}case C.NOFRAMES:case C.STYLE:{e._switchToTextParsing(t,Mt.RAWTEXT);break}case C.SCRIPT:{e._switchToTextParsing(t,Mt.SCRIPT_DATA);break}case C.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=q.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(q.IN_TEMPLATE);break}case C.HEAD:{e._err(t,ne.misplacedStartTagForHeadElement);break}default:Us(e,t)}}function L4(e,t){switch(t.tagID){case C.HEAD:{e.openElements.pop(),e.insertionMode=q.AFTER_HEAD;break}case C.BODY:case C.BR:case C.HTML:{Us(e,t);break}case C.TEMPLATE:{iu(e,t);break}default:e._err(t,ne.endTagWithoutMatchingOpenElement)}}function iu(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==C.TEMPLATE&&e._err(t,ne.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(C.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ne.endTagWithoutMatchingOpenElement)}function Us(e,t){e.openElements.pop(),e.insertionMode=q.AFTER_HEAD,e._processToken(t)}function P4(e,t){switch(t.tagID){case C.HTML:{hn(e,t);break}case C.BASEFONT:case C.BGSOUND:case C.HEAD:case C.LINK:case C.META:case C.NOFRAMES:case C.STYLE:{sr(e,t);break}case C.NOSCRIPT:{e._err(t,ne.nestedNoscriptInHead);break}default:zs(e,t)}}function M4(e,t){switch(t.tagID){case C.NOSCRIPT:{e.openElements.pop(),e.insertionMode=q.IN_HEAD;break}case C.BR:{zs(e,t);break}default:e._err(t,ne.endTagWithoutMatchingOpenElement)}}function zs(e,t){const n=t.type===Qe.EOF?ne.openElementsLeftAfterEof:ne.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=q.IN_HEAD,e._processToken(t)}function B4(e,t){switch(t.tagID){case C.HTML:{hn(e,t);break}case C.BODY:{e._insertElement(t,oe.HTML),e.framesetOk=!1,e.insertionMode=q.IN_BODY;break}case C.FRAMESET:{e._insertElement(t,oe.HTML),e.insertionMode=q.IN_FRAMESET;break}case C.BASE:case C.BASEFONT:case C.BGSOUND:case C.LINK:case C.META:case C.NOFRAMES:case C.SCRIPT:case C.STYLE:case C.TEMPLATE:case C.TITLE:{e._err(t,ne.abandonedHeadElementChild),e.openElements.push(e.headElement,C.HEAD),sr(e,t),e.openElements.remove(e.headElement);break}case C.HEAD:{e._err(t,ne.misplacedStartTagForHeadElement);break}default:Gs(e,t)}}function F4(e,t){switch(t.tagID){case C.BODY:case C.HTML:case C.BR:{Gs(e,t);break}case C.TEMPLATE:{iu(e,t);break}default:e._err(t,ne.endTagWithoutMatchingOpenElement)}}function Gs(e,t){e._insertFakeElement(X.BODY,C.BODY),e.insertionMode=q.IN_BODY,Hl(e,t)}function Hl(e,t){switch(t.type){case Qe.CHARACTER:{yT(e,t);break}case Qe.WHITESPACE_CHARACTER:{_T(e,t);break}case Qe.COMMENT:{ef(e,t);break}case Qe.START_TAG:{hn(e,t);break}case Qe.END_TAG:{jl(e,t);break}case Qe.EOF:{NT(e,t);break}}}function _T(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function yT(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function H4(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function j4(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function U4(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,oe.HTML),e.insertionMode=q.IN_FRAMESET)}function z4(e,t){e.openElements.hasInButtonScope(C.P)&&e._closePElement(),e._insertElement(t,oe.HTML)}function G4(e,t){e.openElements.hasInButtonScope(C.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&Zd.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,oe.HTML)}function q4(e,t){e.openElements.hasInButtonScope(C.P)&&e._closePElement(),e._insertElement(t,oe.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function V4(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(C.P)&&e._closePElement(),e._insertElement(t,oe.HTML),n||(e.formElement=e.openElements.current))}function W4(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===C.LI&&i===C.LI||(n===C.DD||n===C.DT)&&(i===C.DD||i===C.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==C.ADDRESS&&i!==C.DIV&&i!==C.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(C.P)&&e._closePElement(),e._insertElement(t,oe.HTML)}function Y4(e,t){e.openElements.hasInButtonScope(C.P)&&e._closePElement(),e._insertElement(t,oe.HTML),e.tokenizer.state=Mt.PLAINTEXT}function K4(e,t){e.openElements.hasInScope(C.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(C.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,oe.HTML),e.framesetOk=!1}function $4(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(X.A);n&&(c0(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,oe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Q4(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,oe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function X4(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(C.NOBR)&&(c0(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,oe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function J4(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,oe.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function Z4(e,t){e.treeAdapter.getDocumentMode(e.document)!==Vn.QUIRKS&&e.openElements.hasInButtonScope(C.P)&&e._closePElement(),e._insertElement(t,oe.HTML),e.framesetOk=!1,e.insertionMode=q.IN_TABLE}function AT(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,oe.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function xT(e){const t=dT(e,qi.TYPE);return t!=null&&t.toLowerCase()===b4}function ek(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,oe.HTML),xT(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function tk(e,t){e._appendElement(t,oe.HTML),t.ackSelfClosing=!0}function nk(e,t){e.openElements.hasInButtonScope(C.P)&&e._closePElement(),e._appendElement(t,oe.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function rk(e,t){t.tagName=X.IMG,t.tagID=C.IMG,AT(e,t)}function ik(e,t){e._insertElement(t,oe.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Mt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=q.TEXT}function uk(e,t){e.openElements.hasInButtonScope(C.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Mt.RAWTEXT)}function sk(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Mt.RAWTEXT)}function qp(e,t){e._switchToTextParsing(t,Mt.RAWTEXT)}function ak(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,oe.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===q.IN_TABLE||e.insertionMode===q.IN_CAPTION||e.insertionMode===q.IN_TABLE_BODY||e.insertionMode===q.IN_ROW||e.insertionMode===q.IN_CELL?q.IN_SELECT_IN_TABLE:q.IN_SELECT}function ok(e,t){e.openElements.currentTagId===C.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,oe.HTML)}function lk(e,t){e.openElements.hasInScope(C.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,oe.HTML)}function ck(e,t){e.openElements.hasInScope(C.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(C.RTC),e._insertElement(t,oe.HTML)}function dk(e,t){e._reconstructActiveFormattingElements(),bT(t),l0(t),t.selfClosing?e._appendElement(t,oe.MATHML):e._insertElement(t,oe.MATHML),t.ackSelfClosing=!0}function fk(e,t){e._reconstructActiveFormattingElements(),ET(t),l0(t),t.selfClosing?e._appendElement(t,oe.SVG):e._insertElement(t,oe.SVG),t.ackSelfClosing=!0}function Vp(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,oe.HTML)}function hn(e,t){switch(t.tagID){case C.I:case C.S:case C.B:case C.U:case C.EM:case C.TT:case C.BIG:case C.CODE:case C.FONT:case C.SMALL:case C.STRIKE:case C.STRONG:{Q4(e,t);break}case C.A:{$4(e,t);break}case C.H1:case C.H2:case C.H3:case C.H4:case C.H5:case C.H6:{G4(e,t);break}case C.P:case C.DL:case C.OL:case C.UL:case C.DIV:case C.DIR:case C.NAV:case C.MAIN:case C.MENU:case C.ASIDE:case C.CENTER:case C.FIGURE:case C.FOOTER:case C.HEADER:case C.HGROUP:case C.DIALOG:case C.DETAILS:case C.ADDRESS:case C.ARTICLE:case C.SEARCH:case C.SECTION:case C.SUMMARY:case C.FIELDSET:case C.BLOCKQUOTE:case C.FIGCAPTION:{z4(e,t);break}case C.LI:case C.DD:case C.DT:{W4(e,t);break}case C.BR:case C.IMG:case C.WBR:case C.AREA:case C.EMBED:case C.KEYGEN:{AT(e,t);break}case C.HR:{nk(e,t);break}case C.RB:case C.RTC:{lk(e,t);break}case C.RT:case C.RP:{ck(e,t);break}case C.PRE:case C.LISTING:{q4(e,t);break}case C.XMP:{uk(e,t);break}case C.SVG:{fk(e,t);break}case C.HTML:{H4(e,t);break}case C.BASE:case C.LINK:case C.META:case C.STYLE:case C.TITLE:case C.SCRIPT:case C.BGSOUND:case C.BASEFONT:case C.TEMPLATE:{sr(e,t);break}case C.BODY:{j4(e,t);break}case C.FORM:{V4(e,t);break}case C.NOBR:{X4(e,t);break}case C.MATH:{dk(e,t);break}case C.TABLE:{Z4(e,t);break}case C.INPUT:{ek(e,t);break}case C.PARAM:case C.TRACK:case C.SOURCE:{tk(e,t);break}case C.IMAGE:{rk(e,t);break}case C.BUTTON:{K4(e,t);break}case C.APPLET:case C.OBJECT:case C.MARQUEE:{J4(e,t);break}case C.IFRAME:{sk(e,t);break}case C.SELECT:{ak(e,t);break}case C.OPTION:case C.OPTGROUP:{ok(e,t);break}case C.NOEMBED:case C.NOFRAMES:{qp(e,t);break}case C.FRAMESET:{U4(e,t);break}case C.TEXTAREA:{ik(e,t);break}case C.NOSCRIPT:{e.options.scriptingEnabled?qp(e,t):Vp(e,t);break}case C.PLAINTEXT:{Y4(e,t);break}case C.COL:case C.TH:case C.TD:case C.TR:case C.HEAD:case C.FRAME:case C.TBODY:case C.TFOOT:case C.THEAD:case C.CAPTION:case C.COLGROUP:break;default:Vp(e,t)}}function hk(e,t){if(e.openElements.hasInScope(C.BODY)&&(e.insertionMode=q.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function pk(e,t){e.openElements.hasInScope(C.BODY)&&(e.insertionMode=q.AFTER_BODY,RT(e,t))}function mk(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function gk(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(C.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(C.FORM):n&&e.openElements.remove(n))}function bk(e){e.openElements.hasInButtonScope(C.P)||e._insertFakeElement(X.P,C.P),e._closePElement()}function Ek(e){e.openElements.hasInListItemScope(C.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(C.LI),e.openElements.popUntilTagNamePopped(C.LI))}function Tk(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function _k(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function yk(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function Ak(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(X.BR,C.BR),e.openElements.pop(),e.framesetOk=!1}function CT(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const u=e.openElements.items[i],s=e.openElements.tagIDs[i];if(r===s&&(r!==C.UNKNOWN||e.treeAdapter.getTagName(u)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(u,s))break}}function jl(e,t){switch(t.tagID){case C.A:case C.B:case C.I:case C.S:case C.U:case C.EM:case C.TT:case C.BIG:case C.CODE:case C.FONT:case C.NOBR:case C.SMALL:case C.STRIKE:case C.STRONG:{c0(e,t);break}case C.P:{bk(e);break}case C.DL:case C.UL:case C.OL:case C.DIR:case C.DIV:case C.NAV:case C.PRE:case C.MAIN:case C.MENU:case C.ASIDE:case C.BUTTON:case C.CENTER:case C.FIGURE:case C.FOOTER:case C.HEADER:case C.HGROUP:case C.DIALOG:case C.ADDRESS:case C.ARTICLE:case C.DETAILS:case C.SEARCH:case C.SECTION:case C.SUMMARY:case C.LISTING:case C.FIELDSET:case C.BLOCKQUOTE:case C.FIGCAPTION:{mk(e,t);break}case C.LI:{Ek(e);break}case C.DD:case C.DT:{Tk(e,t);break}case C.H1:case C.H2:case C.H3:case C.H4:case C.H5:case C.H6:{_k(e);break}case C.BR:{Ak(e);break}case C.BODY:{hk(e,t);break}case C.HTML:{pk(e,t);break}case C.FORM:{gk(e);break}case C.APPLET:case C.OBJECT:case C.MARQUEE:{yk(e,t);break}case C.TEMPLATE:{iu(e,t);break}default:CT(e,t)}}function NT(e,t){e.tmplInsertionModeStack.length>0?DT(e,t):d0(e,t)}function xk(e,t){var n;t.tagID===C.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function Ck(e,t){e._err(t,ne.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Rc(e,t){if(e.openElements.currentTagId!==void 0&&TT.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=q.IN_TABLE_TEXT,t.type){case Qe.CHARACTER:{IT(e,t);break}case Qe.WHITESPACE_CHARACTER:{ST(e,t);break}}else Aa(e,t)}function Nk(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,oe.HTML),e.insertionMode=q.IN_CAPTION}function Sk(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,oe.HTML),e.insertionMode=q.IN_COLUMN_GROUP}function Ik(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(X.COLGROUP,C.COLGROUP),e.insertionMode=q.IN_COLUMN_GROUP,f0(e,t)}function vk(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,oe.HTML),e.insertionMode=q.IN_TABLE_BODY}function kk(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(X.TBODY,C.TBODY),e.insertionMode=q.IN_TABLE_BODY,Ul(e,t)}function wk(e,t){e.openElements.hasInTableScope(C.TABLE)&&(e.openElements.popUntilTagNamePopped(C.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function Ok(e,t){xT(t)?e._appendElement(t,oe.HTML):Aa(e,t),t.ackSelfClosing=!0}function Dk(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,oe.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Pu(e,t){switch(t.tagID){case C.TD:case C.TH:case C.TR:{kk(e,t);break}case C.STYLE:case C.SCRIPT:case C.TEMPLATE:{sr(e,t);break}case C.COL:{Ik(e,t);break}case C.FORM:{Dk(e,t);break}case C.TABLE:{wk(e,t);break}case C.TBODY:case C.TFOOT:case C.THEAD:{vk(e,t);break}case C.INPUT:{Ok(e,t);break}case C.CAPTION:{Nk(e,t);break}case C.COLGROUP:{Sk(e,t);break}default:Aa(e,t)}}function ua(e,t){switch(t.tagID){case C.TABLE:{e.openElements.hasInTableScope(C.TABLE)&&(e.openElements.popUntilTagNamePopped(C.TABLE),e._resetInsertionMode());break}case C.TEMPLATE:{iu(e,t);break}case C.BODY:case C.CAPTION:case C.COL:case C.COLGROUP:case C.HTML:case C.TBODY:case C.TD:case C.TFOOT:case C.TH:case C.THEAD:case C.TR:break;default:Aa(e,t)}}function Aa(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Hl(e,t),e.fosterParentingEnabled=n}function ST(e,t){e.pendingCharacterTokens.push(t)}function IT(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function ss(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Aa(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const vT=new Set([C.CAPTION,C.COL,C.COLGROUP,C.TBODY,C.TD,C.TFOOT,C.TH,C.THEAD,C.TR]);function Rk(e,t){const n=t.tagID;vT.has(n)?e.openElements.hasInTableScope(C.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(C.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=q.IN_TABLE,Pu(e,t)):hn(e,t)}function Lk(e,t){const n=t.tagID;switch(n){case C.CAPTION:case C.TABLE:{e.openElements.hasInTableScope(C.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(C.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=q.IN_TABLE,n===C.TABLE&&ua(e,t));break}case C.BODY:case C.COL:case C.COLGROUP:case C.HTML:case C.TBODY:case C.TD:case C.TFOOT:case C.TH:case C.THEAD:case C.TR:break;default:jl(e,t)}}function f0(e,t){switch(t.tagID){case C.HTML:{hn(e,t);break}case C.COL:{e._appendElement(t,oe.HTML),t.ackSelfClosing=!0;break}case C.TEMPLATE:{sr(e,t);break}default:Bo(e,t)}}function Pk(e,t){switch(t.tagID){case C.COLGROUP:{e.openElements.currentTagId===C.COLGROUP&&(e.openElements.pop(),e.insertionMode=q.IN_TABLE);break}case C.TEMPLATE:{iu(e,t);break}case C.COL:break;default:Bo(e,t)}}function Bo(e,t){e.openElements.currentTagId===C.COLGROUP&&(e.openElements.pop(),e.insertionMode=q.IN_TABLE,e._processToken(t))}function Ul(e,t){switch(t.tagID){case C.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,oe.HTML),e.insertionMode=q.IN_ROW;break}case C.TH:case C.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(X.TR,C.TR),e.insertionMode=q.IN_ROW,zl(e,t);break}case C.CAPTION:case C.COL:case C.COLGROUP:case C.TBODY:case C.TFOOT:case C.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE,Pu(e,t));break}default:Pu(e,t)}}function tf(e,t){const n=t.tagID;switch(t.tagID){case C.TBODY:case C.TFOOT:case C.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE);break}case C.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE,ua(e,t));break}case C.BODY:case C.CAPTION:case C.COL:case C.COLGROUP:case C.HTML:case C.TD:case C.TH:case C.TR:break;default:ua(e,t)}}function zl(e,t){switch(t.tagID){case C.TH:case C.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,oe.HTML),e.insertionMode=q.IN_CELL,e.activeFormattingElements.insertMarker();break}case C.CAPTION:case C.COL:case C.COLGROUP:case C.TBODY:case C.TFOOT:case C.THEAD:case C.TR:{e.openElements.hasInTableScope(C.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY,Ul(e,t));break}default:Pu(e,t)}}function kT(e,t){switch(t.tagID){case C.TR:{e.openElements.hasInTableScope(C.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY);break}case C.TABLE:{e.openElements.hasInTableScope(C.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY,tf(e,t));break}case C.TBODY:case C.TFOOT:case C.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(C.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY,tf(e,t));break}case C.BODY:case C.CAPTION:case C.COL:case C.COLGROUP:case C.HTML:case C.TD:case C.TH:break;default:ua(e,t)}}function Mk(e,t){const n=t.tagID;vT.has(n)?(e.openElements.hasInTableScope(C.TD)||e.openElements.hasInTableScope(C.TH))&&(e._closeTableCell(),zl(e,t)):hn(e,t)}function Bk(e,t){const n=t.tagID;switch(n){case C.TD:case C.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=q.IN_ROW);break}case C.TABLE:case C.TBODY:case C.TFOOT:case C.THEAD:case C.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),kT(e,t));break}case C.BODY:case C.CAPTION:case C.COL:case C.COLGROUP:case C.HTML:break;default:jl(e,t)}}function wT(e,t){switch(t.tagID){case C.HTML:{hn(e,t);break}case C.OPTION:{e.openElements.currentTagId===C.OPTION&&e.openElements.pop(),e._insertElement(t,oe.HTML);break}case C.OPTGROUP:{e.openElements.currentTagId===C.OPTION&&e.openElements.pop(),e.openElements.currentTagId===C.OPTGROUP&&e.openElements.pop(),e._insertElement(t,oe.HTML);break}case C.HR:{e.openElements.currentTagId===C.OPTION&&e.openElements.pop(),e.openElements.currentTagId===C.OPTGROUP&&e.openElements.pop(),e._appendElement(t,oe.HTML),t.ackSelfClosing=!0;break}case C.INPUT:case C.KEYGEN:case C.TEXTAREA:case C.SELECT:{e.openElements.hasInSelectScope(C.SELECT)&&(e.openElements.popUntilTagNamePopped(C.SELECT),e._resetInsertionMode(),t.tagID!==C.SELECT&&e._processStartTag(t));break}case C.SCRIPT:case C.TEMPLATE:{sr(e,t);break}}}function OT(e,t){switch(t.tagID){case C.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===C.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===C.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===C.OPTGROUP&&e.openElements.pop();break}case C.OPTION:{e.openElements.currentTagId===C.OPTION&&e.openElements.pop();break}case C.SELECT:{e.openElements.hasInSelectScope(C.SELECT)&&(e.openElements.popUntilTagNamePopped(C.SELECT),e._resetInsertionMode());break}case C.TEMPLATE:{iu(e,t);break}}}function Fk(e,t){const n=t.tagID;n===C.CAPTION||n===C.TABLE||n===C.TBODY||n===C.TFOOT||n===C.THEAD||n===C.TR||n===C.TD||n===C.TH?(e.openElements.popUntilTagNamePopped(C.SELECT),e._resetInsertionMode(),e._processStartTag(t)):wT(e,t)}function Hk(e,t){const n=t.tagID;n===C.CAPTION||n===C.TABLE||n===C.TBODY||n===C.TFOOT||n===C.THEAD||n===C.TR||n===C.TD||n===C.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(C.SELECT),e._resetInsertionMode(),e.onEndTag(t)):OT(e,t)}function jk(e,t){switch(t.tagID){case C.BASE:case C.BASEFONT:case C.BGSOUND:case C.LINK:case C.META:case C.NOFRAMES:case C.SCRIPT:case C.STYLE:case C.TEMPLATE:case C.TITLE:{sr(e,t);break}case C.CAPTION:case C.COLGROUP:case C.TBODY:case C.TFOOT:case C.THEAD:{e.tmplInsertionModeStack[0]=q.IN_TABLE,e.insertionMode=q.IN_TABLE,Pu(e,t);break}case C.COL:{e.tmplInsertionModeStack[0]=q.IN_COLUMN_GROUP,e.insertionMode=q.IN_COLUMN_GROUP,f0(e,t);break}case C.TR:{e.tmplInsertionModeStack[0]=q.IN_TABLE_BODY,e.insertionMode=q.IN_TABLE_BODY,Ul(e,t);break}case C.TD:case C.TH:{e.tmplInsertionModeStack[0]=q.IN_ROW,e.insertionMode=q.IN_ROW,zl(e,t);break}default:e.tmplInsertionModeStack[0]=q.IN_BODY,e.insertionMode=q.IN_BODY,hn(e,t)}}function Uk(e,t){t.tagID===C.TEMPLATE&&iu(e,t)}function DT(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(C.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):d0(e,t)}function zk(e,t){t.tagID===C.HTML?hn(e,t):Fo(e,t)}function RT(e,t){var n;if(t.tagID===C.HTML){if(e.fragmentContext||(e.insertionMode=q.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===C.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Fo(e,t)}function Fo(e,t){e.insertionMode=q.IN_BODY,Hl(e,t)}function Gk(e,t){switch(t.tagID){case C.HTML:{hn(e,t);break}case C.FRAMESET:{e._insertElement(t,oe.HTML);break}case C.FRAME:{e._appendElement(t,oe.HTML),t.ackSelfClosing=!0;break}case C.NOFRAMES:{sr(e,t);break}}}function qk(e,t){t.tagID===C.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==C.FRAMESET&&(e.insertionMode=q.AFTER_FRAMESET))}function Vk(e,t){switch(t.tagID){case C.HTML:{hn(e,t);break}case C.NOFRAMES:{sr(e,t);break}}}function Wk(e,t){t.tagID===C.HTML&&(e.insertionMode=q.AFTER_AFTER_FRAMESET)}function Yk(e,t){t.tagID===C.HTML?hn(e,t):xo(e,t)}function xo(e,t){e.insertionMode=q.IN_BODY,Hl(e,t)}function Kk(e,t){switch(t.tagID){case C.HTML:{hn(e,t);break}case C.NOFRAMES:{sr(e,t);break}}}function $k(e,t){t.chars=xt,e._insertCharacters(t)}function Qk(e,t){e._insertCharacters(t),e.framesetOk=!1}function LT(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==oe.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function Xk(e,t){if(f4(t))LT(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===oe.MATHML?bT(t):r===oe.SVG&&(h4(t),ET(t)),l0(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function Jk(e,t){if(t.tagID===C.P||t.tagID===C.BR){LT(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===oe.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}X.AREA,X.BASE,X.BASEFONT,X.BGSOUND,X.BR,X.COL,X.EMBED,X.FRAME,X.HR,X.IMG,X.INPUT,X.KEYGEN,X.LINK,X.META,X.PARAM,X.SOURCE,X.TRACK,X.WBR;const Zk=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,ew=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Wp={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function PT(e,t){const n=cw(e),r=FE("type",{handlers:{root:tw,element:nw,text:rw,comment:BT,doctype:iw,raw:sw},unknown:aw}),i={parser:n?new Gp(Wp):Gp.getFragmentParser(void 0,Wp),handle(o){r(o,i)},stitches:!1,options:t||{}};r(e,i),Ku(i,_r());const u=n?i.parser.document:i.parser.getFragment(),s=dv(u,{file:i.options.file});return i.stitches&&Fl(s,"comment",function(o,a,c){const l=o;if(l.value.stitch&&c&&a!==void 0){const f=c.children;return f[a]=l.value.stitch,a}}),s.type==="root"&&s.children.length===1&&s.children[0].type===e.type?s.children[0]:s}function MT(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function tw(e,t){MT(e.children,t)}function nw(e,t){ow(e,t),MT(e.children,t),lw(e,t)}function rw(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:Qe.CHARACTER,chars:e.value,location:xa(e)};Ku(t,_r(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function iw(e,t){const n={type:Qe.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:xa(e)};Ku(t,_r(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function uw(e,t){t.stitches=!0;const n=dw(e);if("children"in e&&"children"in n){const r=PT({type:"root",children:e.children},t.options);n.children=r.children}BT({type:"comment",value:{stitch:n}},t)}function BT(e,t){const n=e.value,r={type:Qe.COMMENT,data:n,location:xa(e)};Ku(t,_r(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function sw(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,FT(t,_r(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(Zk,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function aw(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))uw(n,t);else{let r="";throw ew.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Ku(e,t){FT(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Mt.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function FT(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function ow(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Mt.PLAINTEXT)return;Ku(t,_r(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:Hi.html;i===Hi.html&&n==="svg"&&(i=Hi.svg);const u=gv(le(G({},e),{children:[]}),{space:i===Hi.svg?"svg":"html"}),s={type:Qe.START_TAG,tagName:n,tagID:Yu(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in u?u.attrs:[],location:xa(e)};t.parser.currentToken=s,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function lw(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&Cv.includes(n)||t.parser.tokenizer.state===Mt.PLAINTEXT)return;Ku(t,Dl(e));const r={type:Qe.END_TAG,tagName:n,tagID:Yu(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:xa(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Mt.RCDATA||t.parser.tokenizer.state===Mt.RAWTEXT||t.parser.tokenizer.state===Mt.SCRIPT_DATA)&&(t.parser.tokenizer.state=Mt.DATA)}function cw(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function xa(e){const t=_r(e)||{line:void 0,column:void 0,offset:void 0},n=Dl(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function dw(e){return"children"in e?Lu(le(G({},e),{children:[]})):Lu(e)}function fw(e){return function(t,n){return PT(t,le(G({},e),{file:n}))}}var Lc,Yp;function hw(){if(Yp)return Lc;Yp=1;var e=function(b){return t(b)&&!n(b)};function t(g){return!!g&&typeof g=="object"}function n(g){var b=Object.prototype.toString.call(g);return b==="[object RegExp]"||b==="[object Date]"||u(g)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function u(g){return g.$$typeof===i}function s(g){return Array.isArray(g)?[]:{}}function o(g,b){return b.clone!==!1&&b.isMergeableObject(g)?A(s(g),g,b):g}function a(g,b,v){return g.concat(b).map(function(p){return o(p,v)})}function c(g,b){if(!b.customMerge)return A;var v=b.customMerge(g);return typeof v=="function"?v:A}function l(g){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(g).filter(function(b){return Object.propertyIsEnumerable.call(g,b)}):[]}function f(g){return Object.keys(g).concat(l(g))}function h(g,b){try{return b in g}catch(v){return!1}}function d(g,b){return h(g,b)&&!(Object.hasOwnProperty.call(g,b)&&Object.propertyIsEnumerable.call(g,b))}function m(g,b,v){var p={};return v.isMergeableObject(g)&&f(g).forEach(function(_){p[_]=o(g[_],v)}),f(b).forEach(function(_){d(g,_)||(h(g,_)&&v.isMergeableObject(b[_])?p[_]=c(_,v)(g[_],b[_],v):p[_]=o(b[_],v))}),p}function A(g,b,v){v=v||{},v.arrayMerge=v.arrayMerge||a,v.isMergeableObject=v.isMergeableObject||e,v.cloneUnlessOtherwiseSpecified=o;var p=Array.isArray(b),_=Array.isArray(g),E=p===_;return E?p?v.arrayMerge(g,b,v):m(g,b,v):o(b,v)}A.all=function(b,v){if(!Array.isArray(b))throw new Error("first argument should be an array");return b.reduce(function(p,_){return A(p,_,v)},{})};var x=A;return Lc=x,Lc}hw();const pw=({closeFnc:e,isOpen:t,handleSubmit:n,errors:r,setErrors:i,formData:u,setFormData:s})=>{var j,W,$,L;const o=gr($y),[a,c]=K.useState(0),[l,f]=K.useState([]),[h,d]=K.useState(!1),[m,A]=K.useState([]),[x,g]=K.useState(!1),[b,v]=K.useState(!1),p=b?u.keywords:u.keywords.slice(0,18),_=wl();K.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);const E=()=>{if(a===0&&!l){i(F=>le(G({},F),{template:!0})),Ee.error("Please select a template before proceeding.");return}i(F=>le(G({},F),{template:!1})),c(1)},k=()=>c(0),R=()=>e(),D=K.useCallback(F=>{f(F),s(V=>{var H;return le(G({},V),{template:((H=F==null?void 0:F[0])==null?void 0:H.name)||""})}),i(V=>le(G({},V),{template:!1}))},[]),N=(F,V)=>{s(H=>le(G({},H),{[V]:F.target.value})),i(H=>le(G({},H),{[V]:!1}))},I=F=>{s(V=>le(G({},V),{tone:F})),i(V=>le(G({},V),{tone:!1}))},w=(F,V)=>{const H=V==="keywords"?"keywordInput":"focusKeywordInput";s(Q=>le(G({},Q),{[H]:F.target.value})),i(Q=>le(G({},Q),{[V]:!1}))},O=F=>{const V=F==="keywords"?"keywordInput":"focusKeywordInput",H=u[V].trim();if(!H){i(ie=>le(G({},ie),{[F]:!0})),Ee.error("Please enter a keyword.");return}const Q=new Set(u[F].map(ie=>ie.trim().toLowerCase())),ee=H.split(",").map(ie=>ie.trim()).filter(ie=>ie&&!Q.has(ie.toLowerCase()));if(ee.length===0){i(ie=>le(G({},ie),{[F]:!0})),Ee.error("Please enter valid, non-duplicate keywords separated by commas.");return}if(F==="focusKeywords"&&u[F].length+ee.length>3){i(ie=>le(G({},ie),{[F]:!0})),Ee.error("You can only add up to 3 focus keywords.");return}s(ie=>le(G({},ie),{[F]:[...ie[F],...ee],[V]:""})),i(ie=>le(G({},ie),{[F]:!1}))},P=(F,V)=>{const H=[...u[V]];H.splice(F,1),s(le(G({},u),{[V]:H}))},B=(F,V)=>{F.key==="Enter"&&(F.preventDefault(),O(V))},M=()=>Ft(null,null,function*(){if(!u.topic.trim()){i(F=>le(G({},F),{topic:!0})),Ee.error("Please enter a topic before generating titles.");return}if(u.focusKeywords.length<1&&u.keywords.length<1){i(F=>le(G({},F),{focusKeywords:!0,keywords:!0})),Ee.error("Please add at least one focus keyword or secondary keyword.");return}d(!0);try{const F=yield _(Xy(G({keywords:u.focusKeywords,focusKeywords:u.keywords,topic:u.topic,template:l},x&&{oldTitles:m}))).unwrap();A(F),g(!0),Ee.success("Titles generated successfully!")}catch(F){console.error("Failed to generate titles:",F),Ee.error((F==null?void 0:F.message)||"Failed to generate titles. Please try again.")}finally{d(!1)}});return K.useEffect(()=>{g(!1),A([])},[]),T.jsx(Yn,{title:a===0?"Select Template":"Create Simple Blog",open:t,onCancel:R,footer:a===0?[T.jsx("button",{onClick:E,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90","aria-label":"Proceed to next step",children:"Next"},"next")]:[T.jsx("button",{onClick:k,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300","aria-label":"Go to previous step",children:"Previous"},"previous"),T.jsx("button",{onClick:n,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3","aria-label":"Submit blog",children:"Submit"},"submit")],width:800,centered:!0,children:T.jsxs("div",{className:"p-2",children:[a===0&&T.jsxs("div",{className:"p-3",children:[T.jsx(mA,{userSubscriptionPlan:((j=o==null?void 0:o.subscription)==null?void 0:j.plan)||"free",preSelectedIds:l==null?void 0:l.map(F=>(F==null?void 0:F.id)||""),onClick:D}),r.template&&T.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Please select a template."})]}),a===1&&T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Topic ",T.jsx("span",{className:"text-red-500",children:"*"})]}),T.jsx(yt,{value:u.topic,onChange:F=>N(F,"topic"),placeholder:"Enter blog topic...",className:`w-full px-3 py-2 border ${r.topic?"border-red-500":"border-gray-200"} rounded-md text-sm focus:ring-2 focus:ring-blue-600`,"aria-label":"Blog topic"}),r.topic&&T.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Topic cannot be empty."})]}),T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tone ",T.jsx("span",{className:"text-red-500",children:"*"})]}),T.jsxs(pr,{value:u.tone,onChange:I,className:`w-full ${r.tone?"border-red-500":""}`,"aria-label":"Blog tone",children:[T.jsx(pr.Option,{value:"Informative",children:"Informative"}),T.jsx(pr.Option,{value:"Casual",children:"Casual"}),T.jsx(pr.Option,{value:"Professional",children:"Professional"}),T.jsx(pr.Option,{value:"Persuasive",children:"Persuasive"}),T.jsx(pr.Option,{value:"Humorous",children:"Humorous"})]}),r.tone&&T.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Tone cannot be empty."})]}),T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Focus Keywords (max 3) ",T.jsx("span",{className:"text-red-500",children:"*"})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx(yt,{value:u.focusKeywordInput,onChange:F=>w(F,"focusKeywords"),onKeyDown:F=>B(F,"focusKeywords"),placeholder:"Enter focus keywords, separated by commas",className:`flex-1 px-3 py-2 border ${r.focusKeywords?"border-red-500":"border-gray-200"} rounded-md text-sm focus:ring-2 focus:ring-blue-600`,"aria-label":"Focus keywords"}),T.jsx("button",{onClick:()=>O("focusKeywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center","aria-label":"Add focus keyword",children:T.jsx(kn,{size:16})})]}),T.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:u.focusKeywords.map((F,V)=>T.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[F,T.jsx("button",{onClick:()=>P(V,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove focus keyword ${F}`,children:T.jsx(jr,{size:16})})]},V))})]}),T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Keywords ",T.jsx("span",{className:"text-red-500",children:"*"})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx(yt,{value:u.keywordInput,onChange:F=>w(F,"keywords"),onKeyDown:F=>B(F,"keywords"),placeholder:"Enter secondary keywords, separated by commas",className:`flex-1 px-3 py-2 border ${r.keywords?"border-red-500":"border-gray-200"} rounded-md text-sm focus:ring-2 focus:ring-blue-600`,"aria-label":"Secondary keywords"}),T.jsx("button",{onClick:()=>O("keywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center","aria-label":"Add keyword",children:T.jsx(kn,{size:16})})]}),T.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[p.map((F,V)=>T.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[F,T.jsx("button",{onClick:()=>P(V,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove keyword ${F}`,children:T.jsx(jr,{size:16})})]},`${F}-${V}`)),u.keywords.length>18&&T.jsx("span",{onClick:()=>v(F=>!F),className:"text-xs font-medium text-blue-600 self-center cursor-pointer flex items-center gap-1",children:b?T.jsx(T.Fragment,{children:"Show less"}):T.jsxs(T.Fragment,{children:["+",u.keywords.length-18," more"]})})]})]}),T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",T.jsx("span",{className:"text-red-500",children:"*"})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(yt,{value:u.title,onChange:F=>N(F,"title"),placeholder:"Enter blog title...",className:`w-full px-3 flex-1 py-2 border ${r.title?"border-red-500":"border-gray-200"} rounded-md text-sm focus:ring-2 focus:ring-blue-600`,"aria-label":"Blog title"}),T.jsx("button",{onClick:M,disabled:h,className:`px-4 py-2 bg-gradient-to-r from-[#1B6FC9] to-[#4C9FE8] text-white rounded-lg flex items-center ${h?"opacity-50 cursor-not-allowed":"hover:from-[#1B6FC9]/90 hover:to-[#4C9FE8]/90"}`,children:h?T.jsx(Qy,{size:"small text-white"}):x?T.jsxs(T.Fragment,{children:[T.jsx(Ub,{size:16,className:"mr-2"}),"Generate More"]}):T.jsxs(T.Fragment,{children:[T.jsx(Is,{size:16,className:"mr-2"}),"Generate Titles"]})})]}),m.length>0&&T.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:m.map((F,V)=>{const H=F===u.title;return T.jsx("div",{className:"relative group",children:T.jsx("button",{type:"button",onClick:()=>{s(Q=>le(G({},Q),{title:F})),i(Q=>le(G({},Q),{title:!1}))},className:`px-3 py-1 rounded-full text-sm border transition truncate max-w-[200px] sm:max-w-[300px] ${H?"bg-[#1B6FC9] text-white border-[#1B6FC9]":"bg-gray-100 text-gray-700 border-gray-300 opacity-60 hover:opacity-100 hover:bg-gray-200"}`,"aria-label":`Select title: ${F}`,children:F})},V)})})]}),T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Choose length of Blog ",T.jsx("span",{className:"text-red-500",children:"*"})]}),T.jsx("input",{type:"range",min:"500",max:"5000",value:(W=u.userDefinedLength)!=null?W:1e3,onChange:F=>N(F,"userDefinedLength"),placeholder:"Enter desired word count...",className:"w-full h-1 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${((($=u==null?void 0:u.userDefinedLength)!=null?$:1e3)-500)/45}%, #e5e7eb 0%)`},"aria-label":"Desired word count"}),T.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[(L=u==null?void 0:u.userDefinedLength)!=null?L:1e3," words"]})]})]})]})})},mw=["Blogging","Technology","Lifestyle","Travel","Food & Drink","Health & Wellness","Fashion","Business","Education","Entertainment","Photography","Fitness","Marketing","Finance","DIY & Crafts"],gw=({isCategoryModalOpen:e,setIsCategoryModalOpen:t,onSubmit:n,initialIncludeTableOfContents:r=!1,integrations:i,blogData:u,posted:s})=>{var P;const[o,a]=K.useState(""),[c,l]=K.useState(""),[f,h]=K.useState(r),[d,m]=K.useState(!1),{categories:A,error:x}=gr(B=>B.wordpress),[g,b]=K.useState(null),[v,p]=K.useState(!1),_=!!((P=s==null?void 0:s.SHOPIFY)!=null&&P.link),E=wl();K.useEffect(()=>{g!=null&&g.platform&&E(Jy(g.platform.toUpperCase())).unwrap()},[E,g==null?void 0:g.platform]);const k=(B,M)=>{b({platform:B.toLowerCase(),rawPlatform:B,url:M}),p(B==="SHOPIFY"?!!_:!1)},R=K.useCallback(B=>{c||(l(B),m(!1))},[c]),D=K.useCallback(()=>{l(""),m(!1)},[]);K.useCallback(()=>{if(o.trim()){if(c===o.trim()){Ee.error("Category already selected.");return}l(o.trim()),a(""),m(!1)}},[o,c]);const N=K.useCallback(B=>{h(B.target.checked)},[]),I=K.useCallback(()=>{if(!c){m(!0),Ee.error("Please select a category.");return}n({category:c,includeTableOfContents:f,type:{platform:g==null?void 0:g.rawPlatform,url:g==null?void 0:g.url}}),t(!1),l(""),h(!1),a(""),m(!1)},[c,f,g,n,t]),w=K.useCallback(()=>{t(!1),l(""),h(!1),a(""),m(!1)},[t]),O=K.useCallback(B=>{if(B.length>1){Ee.error("Only one category can be selected.");return}const M=B.length>0?B[0]:"";l(M),m(!1)},[]);return K.useEffect(()=>{if(!e)return;const B=s==null?void 0:s.SHOPIFY;if(B!=null&&B.link){p(!0),l((u==null?void 0:u.category)||""),b({platform:"shopify",rawPlatform:"SHOPIFY",url:(B==null?void 0:B.url)||""});return}if(B&&!B.link){p(!1),b({platform:"shopify",rawPlatform:"SHOPIFY",url:(B==null?void 0:B.url)||""});return}const M=Object.entries(s||{}).find(([j,W])=>j!=="SHOPIFY"&&(W==null?void 0:W.link));if(M){const[j,W]=M;p(!1),b({platform:j.toLowerCase(),rawPlatform:j,url:(W==null?void 0:W.url)||""});return}p(!1),l(""),b(null)},[e,s,u]),T.jsx(Yn,{title:"Select Category",open:e,onCancel:w,footer:T.jsxs("div",{className:"flex justify-end gap-3",children:[T.jsx(Ot,{onClick:w,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-200 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-label":"Cancel category selection",children:"Cancel"}),T.jsx(Ot,{type:"primary",onClick:I,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-label":"Confirm category selection",children:"Confirm"})]}),centered:!0,width:600,children:T.jsxs("div",{className:"p-3 space-y-4",children:[(i==null?void 0:i.integrations)&&Object.keys(i.integrations).length>0&&T.jsxs("div",{children:[T.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Select Your Publishing Platform",T.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Post your blog automatically to connected platforms only."})]}),T.jsx(pr,{className:"w-full mt-2",placeholder:"Select platform",value:(g==null?void 0:g.rawPlatform)||void 0,onChange:B=>{const M=i.integrations[B];k(B,M==null?void 0:M.url)},children:Object.entries(i.integrations).map(([B,M])=>T.jsx(Option,{value:B,children:B},B))})]}),T.jsx(Do,{children:c&&T.jsxs(Mn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-2 px-3 py-1.5 bg-blue-500 text-white rounded-full text-sm w-fit",children:[T.jsx("span",{className:"truncate max-w-[150px]",children:c}),!v&&T.jsx(Mn.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:D,className:"text-white hover:text-gray-200","aria-label":`Remove category ${c}`,children:T.jsx(jr,{size:15})})]})}),!x&&(A==null?void 0:A.length)>0&&T.jsxs("div",{children:[T.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Auto-Generated Categories"}),T.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 overflow-y-auto p-3 rounded-md border border-indigo-200 bg-indigo-50 max-h-96",children:A.map(B=>T.jsxs(Mn.div,{onClick:()=>!v&&R(B),whileHover:{scale:1.02,backgroundColor:"#e0e7ff"},className:`flex items-center justify-between p-3 rounded-md bg-white border ${d&&!c?"border-red-500":"border-indigo-200"} text-sm font-medium cursor-pointer transition-all duration-200 ${c===B?"bg-indigo-100 border-indigo-400":c?"opacity-50 cursor-not-allowed":""}`,children:[T.jsx("span",{className:"truncate",children:B}),!c&&T.jsx(Mn.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"text-indigo-600 hover:text-indigo-700","aria-label":`Add category ${B}`,children:T.jsx(kn,{size:16})})]},B))})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Select or Add Category"}),T.jsx(pr,{mode:"tags",placeholder:"Select or type a category",value:c?[c]:[],onChange:O,disabled:v,className:"w-full",allowClear:!0,showSearch:!0,filterOption:(B,M)=>M.label.toLowerCase().includes(B.toLowerCase()),options:mw.map(B=>({value:B,label:B})),styles:{popup:{root:{borderRadius:"8px"}}},"aria-label":"Select or add a category"}),d&&!c&&T.jsx(Mn.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-2 text-sm text-red-500",children:"Please select a category"})]}),(g==null?void 0:g.platform)==="shopify"&&T.jsx("div",{className:`p-3 rounded-md text-sm ${v?"bg-red-100 text-red-700 border border-red-300":"bg-blue-100 text-blue-700 border border-blue-300"}`,children:v?"This blog was already published on Shopify. Category is locked and cannot be changed.":"Once you publish on Shopify, the category becomes permanent and cannot be changed later."}),T.jsxs("div",{className:"flex items-center justify-between py-2",children:[T.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Table of Contents",T.jsx("p",{className:"text-xs text-gray-500",children:"Generate a table of contents for each blog."})]}),T.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[T.jsx("input",{type:"checkbox",name:"includeTableOfContents",checked:f,onChange:N,className:"sr-only peer","aria-label":"Toggle table of contents"}),T.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})})},Kp=({title:e,score:t,icon:n})=>{const r=i=>i>=80?"bg-green-100 text-green-700 border-green-200":i>=60?"bg-yellow-100 text-yellow-700 border-yellow-200":"bg-red-100 text-red-700 border-red-200";return T.jsxs("div",{className:`p-3 rounded-lg border ${r(t||0)}`,children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(n,{className:"w-4 h-4"}),T.jsx("span",{className:"text-sm font-medium",children:e})]}),t>0&&T.jsxs("span",{className:"text-lg font-bold",children:[t,T.jsx("span",{className:"text-xs ml-1",children:"/100"})]})]}),(t||0)===0?T.jsx("p",{className:"text-xs text-gray-500 text-center p-2 bg-gray-50 rounded-lg",children:"Run Competitive Analysis to get score"}):T.jsx("div",{className:"w-full bg-white/50 rounded-full h-2",children:T.jsx("div",{style:{width:`${t}%`,transition:"width 0.5s ease"},className:`h-2 rounded-full ${t>=80?"bg-green-500":t>=60?"bg-yellow-500":"bg-red-500"}`})})]})},bw=({competitors:e})=>{const[t,n]=K.useState(!1),r=t?e:e==null?void 0:e.slice(0,5);return T.jsxs("div",{className:"space-y-2 relative",children:[(e==null?void 0:e.length)>5&&T.jsx("span",{className:"absolute top-0 right-0 text-[10px] bg-blue-100 text-blue-600 px-2 py-0.5 rounded-full",children:e.length}),r==null?void 0:r.map((i,u)=>T.jsxs(Mn.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:u*.05},className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[T.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:T.jsx("span",{className:"text-xs font-medium text-blue-600",children:u+1})}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("p",{className:"text-sm font-medium mb-1 text-gray-900 truncate",children:i.title}),T.jsxs("a",{href:i.link||i.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[i.score&&T.jsxs(zb,{color:"blue",children:[(i.score*100).toFixed(2),"%"]}),"Visit ",T.jsx(ta,{className:"w-3 h-3"})]})]})]},u)),(e==null?void 0:e.length)>5&&!t&&T.jsxs("button",{onClick:()=>n(!0),className:"text-xs text-blue-600 hover:text-blue-700 text-center w-full",children:["+",e.length-5," more competitors"]})]})},Ew=({insights:e})=>{const[t,n]=K.useState(!1),[r,i]=K.useState(new Set),u=Object.entries(e||{}),s=t?u:u.slice(0,3),o=a=>{const c=new Set(r);c.has(a)?c.delete(a):c.add(a),i(c)};return T.jsxs("div",{className:"space-y-3",children:[s.map(([a,c],l)=>{const f=r.has(l),h=typeof c=="object"?"Multiple insights available":c==null?void 0:c.toString(),d=(h==null?void 0:h.length)>120&&!f,m=d?h.slice(0,120)+"...":h,A=c.match(/\((\d+\/\d+)\)$/),x=A?A[1]:null;return T.jsx(Mn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:l*.05},className:"p-3 bg-blue-50 rounded-lg border border-blue-100",children:T.jsxs("div",{className:"flex items-start gap-2",children:[T.jsx(Ps,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("p",{className:"font-medium text-blue-900 text-sm mb-1",children:a.replace(/([A-Z])/g," $1").trim()}),T.jsx("p",{children:x&&T.jsx(zb,{color:"blue",children:x.replace("/"," / ")})})]}),T.jsxs("p",{className:"text-xs text-blue-700 leading-relaxed cursor-pointer select-none",onClick:()=>o(l),children:[m,d&&T.jsx("span",{className:"text-blue-500 ml-1",children:"(more)"})]})]})]})},a)}),u.length>5&&T.jsx("button",{onClick:()=>n(!t),className:"text-xs text-blue-600 hover:text-blue-700 text-center w-full",children:t?"Show less":`+${u.length-5} more insights`})]})},HT=pi.forwardRef(({suggestion:e,index:t,onApply:n,onReject:r},i)=>T.jsx("div",{ref:i,className:"border border-gray-200 rounded-lg p-3 bg-white hover:shadow-sm transition-shadow",children:T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(yA,{className:"w-4 h-4 text-orange-500"}),T.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Original"})]}),T.jsx("div",{className:"p-2 bg-red-50 border border-red-100 rounded text-xs text-gray-700 leading-relaxed",children:e.original})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(AA,{className:"w-4 h-4 text-green-500"}),T.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Suggested"})]}),T.jsx("div",{className:"p-2 bg-green-50 border border-green-100 rounded text-xs text-gray-700 leading-relaxed",children:e.change})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx(Ot,{size:"small",type:"primary",onClick:()=>n(t,e),className:"flex-1 !bg-gradient-to-r !from-green-500 !to-emerald-600 !border-0",children:"Accept"}),T.jsx(Ot,{size:"small",onClick:()=>r(t),className:"flex-1",children:"Reject"})]})]})}));HT.displayName="ProofreadingSuggestion";const{TextArea:$p}=yt,{Panel:Qp}=Gb,Tw=[{id:"gemini",label:"Gemini",logo:"/Images/gemini.png",restrictedPlans:[]},{id:"chatgpt",label:"ChatGPT",logo:"/Images/chatgpt.png",restrictedPlans:["free"]},{id:"claude",label:"Claude",logo:"/Images/claude.png",restrictedPlans:["free","basic"]}],Xp=[{id:"overview",icon:$b,label:"Overview"},{id:"seo",icon:vs,label:"SEO"},{id:"suggestions",icon:Ps,label:"Suggestions"},{id:"enhancement",icon:jd,label:"Enhancement"},{id:"regenerate",icon:qf,label:"Regenerate"}],Jp=({blog:e,keywords:t,setKeywords:n,onPost:r,activeTab:i,handleReplace:u,setProofreadingResults:s,proofreadingResults:o,handleSave:a,posted:c,isPosting:l,formData:f,editorContent:h,handleSubmit:d,setIsHumanizing:m,isHumanizing:A,setHumanizedContent:x,setIsHumanizeModalOpen:g,setIsSidebarOpen:b,unsavedChanges:v})=>{var du,Ra,La,Pa,Ma;const[p,_]=K.useState("overview"),[E,k]=K.useState(!1),[R,D]=K.useState(!1),[N,I]=K.useState(!1),[w,O]=K.useState(!1),[P,B]=K.useState(""),[M,j]=K.useState(""),[W,$]=K.useState(!1),[L,F]=K.useState(""),[V,H]=K.useState(""),{data:Q}=gr(J=>J.wordpress),[ee,ie]=K.useState({title:((du=e==null?void 0:e.seoMetadata)==null?void 0:du.title)||"",description:((Ra=e==null?void 0:e.seoMetadata)==null?void 0:Ra.description)||""}),[me,_e]=K.useState(!1),[se,De]=K.useState(null),[Ne,Pe]=K.useState(!1),[Ge,lt]=K.useState({}),[Me,St]=K.useState(!1),[vt,Lt]=K.useState(!1),[Ue,Gt]=K.useState({topic:"",title:"",focusKeywords:[],keywords:[],tone:"Professional",userDefinedLength:1e3,aiModel:"gemini",isCheckedGeneratedImages:!1,imageSource:"unsplash",numberOfImages:0,useBrandVoice:!1,brandId:"",addCTA:!1,options:{includeFaqs:!1,includeInterlinks:!1,includeCompetitorResearch:!1,addOutBoundLinks:!1}}),ce=gr(J=>J.auth.user),pt=((Pa=(La=ce==null?void 0:ce.subscription)==null?void 0:La.plan)==null?void 0:Pa.toLowerCase())||"free",nt=Gf(),At=wl(),xn=Zy(),{handlePopup:Z}=Fb(),{loading:de}=gr(J=>J.analysis),{analysisResult:ve}=gr(J=>J.analysis),xe=ve==null?void 0:ve[e==null?void 0:e._id],Ve=(Q==null?void 0:Q.integrations)&&Object.keys(Q.integrations).length>0,kt=l||!Ve,rt=["free","basic"].includes(pt),Bt={WORDPRESS:"WordPress",SHOPIFY:"Shopify",SERVERENDPOINT:"Server",WIX:"Wix"},qt=c?Object.entries(c).filter(([J,Ce])=>Ce==null?void 0:Ce.link).map(([J,Ce])=>({platform:J,link:Ce.link,label:Bt[J]||J})):[];K.useEffect(()=>{var J,Ce;ie({title:((J=e==null?void 0:e.seoMetadata)==null?void 0:J.title)||"",description:((Ce=e==null?void 0:e.seoMetadata)==null?void 0:Ce.description)||""})},[e==null?void 0:e._id]),K.useEffect(()=>{var J,Ce,He,ut,qe;e&&Gt({topic:e.topic||"",title:e.title||"",focusKeywords:e.focusKeywords||[],keywords:e.keywords||[],tone:e.tone||"Professional",userDefinedLength:e.userDefinedLength||1e3,aiModel:e.aiModel||"gemini",isCheckedGeneratedImages:e.isCheckedGeneratedImages||!1,imageSource:e.imageSource||"unsplash",numberOfImages:e.numberOfImages||0,useBrandVoice:e.isCheckedBrand||!1,brandId:e.brandId||"",addCTA:((J=e.options)==null?void 0:J.addCTA)||!1,options:{includeFaqs:((Ce=e.options)==null?void 0:Ce.includeFaqs)||!1,includeInterlinks:((He=e.options)==null?void 0:He.includeInterlinks)||!1,includeCompetitorResearch:((ut=e.options)==null?void 0:ut.includeCompetitorResearch)||!1,addOutBoundLinks:((qe=e.options)==null?void 0:qe.addOutBoundLinks)||!1}})},[e]),K.useEffect(()=>{At(eA())},[At]),K.useEffect(()=>{e!=null&&e.options&&(lt(e.options),St(!1))},[e==null?void 0:e.options]);const gn=J=>J?J.trim().split(/\s+/).filter(Ce=>Ce.length>0).length:0,Xe=K.useCallback((J,Ce)=>{Gt(He=>{if(J.includes(".")){const[ut,qe]=J.split(".");return le(G({},He),{[ut]:le(G({},He[ut]),{[qe]:Ce})})}return le(G({},He),{[J]:Ce})})},[]),Vt=K.useCallback(()=>{let J=wh("blog.single",Ue.aiModel);return Ue.isCheckedGeneratedImages&&(J+=Ue.imageSource==="ai"?gA.aiImages*(Ue.numberOfImages||3):10),Ue.options.includeCompetitorResearch&&(J+=10),Ue.useBrandVoice&&(J+=10),J},[Ue]),be=()=>Ft(null,null,function*(){var He,ut;if(!(e!=null&&e._id))return Ee.error("Blog ID missing");const J=Vt(),Ce=(((He=ce==null?void 0:ce.credits)==null?void 0:He.base)||0)+(((ut=ce==null?void 0:ce.credits)==null?void 0:ut.extra)||0);if(Ce<J)return Z({title:"Insufficient Credits",description:`Need ${J} credits, have ${Ce}.`,confirmText:"Buy Credits",onConfirm:()=>nt("/pricing")});Z({title:"Regenerate Blog",description:T.jsxs(T.Fragment,{children:["Regenerate with new settings? ",T.jsxs("span",{className:"font-bold",children:["Cost: ",J," credits"]})]}),confirmText:"Regenerate",onConfirm:()=>Ft(null,null,function*(){$(!0);try{yield uA(e._id,le(G({},Ue),{isCheckedBrand:Ue.useBrandVoice})),yield sA(e._id,{createNew:!0}),xn.invalidateQueries({queryKey:["blogs"]}),Ee.success("Blog regeneration started!"),nt("/blogs")}catch(qe){Ee.error(qe.message||"Failed to regenerate")}finally{$(!1)}})})}),ue=K.useCallback(()=>{if(rt)return nt("/pricing");Z({title:"SEO Analysis",description:T.jsxs(T.Fragment,{children:["Run competitive analysis? ",T.jsx("span",{className:"font-bold",children:"10 credits"})]}),confirmText:"Run",onConfirm:()=>Ft(null,null,function*(){try{yield At(tA({blogId:e._id,title:e.title,content:e.content,keywords:t||(e==null?void 0:e.focusKeywords)||[]})).unwrap(),_("seo"),Ee.success("Analysis complete!")}catch(J){Ee.error("Analysis failed")}})})},[rt,nt,Z,At,e,t]),Ie=K.useCallback(()=>{if(rt)return nt("/pricing");Z({title:"AI Proofreading",description:T.jsxs(T.Fragment,{children:["Check grammar & style?"," ",T.jsxs("span",{className:"font-bold",children:[wh("blog.proofread")," credits"]})]}),onConfirm:()=>Ft(null,null,function*(){O(!0);try{const J=yield At(nA({id:e._id})).unwrap();s(J),_("suggestions"),Ee.success(`Found ${J.length} suggestions`)}catch(J){Ee.error("Proofreading failed")}finally{O(!1)}})})},[rt,nt,Z,At,e,s]),je=K.useCallback(()=>{if(rt)return nt("/pricing");Z({title:"Generate Metadata",description:T.jsxs(T.Fragment,{children:["Generate SEO metadata? ",T.jsx("span",{className:"font-bold",children:"2 credits"})]}),onConfirm:()=>Ft(null,null,function*(){Pe(!0);try{const J=yield At(rA({content:h,keywords:t||[],focusKeywords:(e==null?void 0:e.focusKeywords)||[]})).unwrap();De(J),_e(!0)}catch(J){Ee.error("Generation failed")}finally{Pe(!1)}})})},[rt,nt,Z,At,h,t,e]),et=K.useCallback(()=>Ft(null,null,function*(){se&&(ie({title:se.title||se.metaTitle||"",description:se.description||se.metaDescription||""}),_e(!1),De(null),Ee.success("Metadata applied! Click Save to keep changes."))}),[se]),$e=K.useCallback(()=>{_e(!1),De(null),Ee.info("Metadata discarded")},[]),tn=K.useCallback((J,Ce)=>{lt(He=>le(G({},He),{[J]:Ce})),St(!0)},[]),Dn=K.useCallback(()=>Ft(null,null,function*(){Lt(!0);try{yield d({options:Ge}),St(!1),Ee.success("Enhancement settings saved!")}catch(J){Ee.error("Failed to save settings")}finally{Lt(!1)}}),[Ge,d]),re=K.useCallback(()=>Ft(null,null,function*(){if(rt)return nt("/pricing");if(!P.trim())return Ee.error("Enter a prompt");Z({title:"Apply Custom Prompt",description:T.jsxs(T.Fragment,{children:["Modify content? ",T.jsx("span",{className:"font-bold",children:"5 credits"})]}),onConfirm:()=>Ft(null,null,function*(){m(!0);try{const J=yield At(iA({id:e._id,prompt:P})).unwrap();x(J.data),g(!0),B(""),Ee.success("Prompt applied!")}catch(J){Ee.error("Failed")}finally{m(!1)}})})}),[rt,nt,Z,At,e,P,x,m,g]),he=K.useCallback(()=>Ft(null,null,function*(){if(!ee.title&&!ee.description)return Ee.error("Enter metadata");try{yield d({metadata:ee}),Ee.success("Saved!")}catch(J){Ee.error("Save failed")}}),[d,ee]);K.useCallback(()=>{Z({title:"Rewrite Keywords",description:"Rewrite content with keywords? (3 times max)",onConfirm:a})},[Z,a]);const Se=K.useCallback(()=>{if(pt==="free")return Z({title:"Posting Unavailable",description:"Free users cannot publish blogs. Upgrade to unlock automated posting.",confirmText:"Upgrade Now",onConfirm:()=>nt("/pricing")});v?Z({title:"Unsaved Changes",description:"Save before posting?",confirmText:"Save & Post",cancelText:"Post Anyway",onConfirm:()=>Ft(null,null,function*(){yield d({metadata:ee}),D(!0)}),onCancel:J=>(J==null?void 0:J.source)==="button"&&D(!0)}):D(!0)},[v,Z,d,ee,pt,nt]),Be=K.useCallback(({category:J,includeTableOfContents:Ce,type:He})=>{r(le(G({},f),{categories:J,includeTableOfContents:Ce,type:He}))},[f,r]),it=J=>{const Ce=J==="focus"?V:L,He=J==="focus"?"focusKeywords":"keywords";if(!Ce.trim())return;const ut=Ue[He].map(Et=>Et.toLowerCase()),qe=Ce.split(",").map(Et=>Et.trim().toLowerCase()).filter(Et=>Et&&!ut.includes(Et));if(J==="focus"&&Ue.focusKeywords.length+qe.length>3)return Ee.warning("Max 3 focus keywords");qe.length>0&&Xe(He,[...Ue[He],...qe]),J==="focus"?H(""):F("")},xr=(J,Ce)=>{const He=J==="focus"?"focusKeywords":"keywords";Xe(He,Ue[He].filter((ut,qe)=>qe!==Ce))};K.useCallback(()=>{if(M.trim()){const J=M.split(",").map(Ce=>Ce.trim().toLowerCase()).filter(Ce=>Ce&&!t.map(He=>He.toLowerCase()).includes(Ce));J.length>0&&n(Ce=>[...Ce,...J]),j("")}},[M,t,n]),K.useCallback(J=>{n(Ce=>Ce.filter(He=>He!==J))},[n]);const sc=((Ma=xe==null?void 0:xe.insights)==null?void 0:Ma.blogScore)||(e==null?void 0:e.seoScore)||0,ac=(e==null?void 0:e.blogScore)||0,wa=()=>T.jsxs("div",{className:"flex flex-col h-full",children:[T.jsx("div",{className:"p-3 border-b bg-gradient-to-r from-gray-50 to-blue-50",children:T.jsx("div",{className:"flex items-center justify-between mb-2",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-lg",children:T.jsx($b,{className:"w-4 h-4 text-white"})}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("h3",{className:"font-semibold text-gray-900",children:"Overview"}),rt&&T.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full font-medium",children:T.jsx(Zu,{className:"w-4 h-4"})})]}),T.jsx("p",{className:"text-xs text-gray-500 font-medium mt-0.5",children:"Summary of your content’s SEO performance"})]})]})})}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-5",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("div",{className:"p-3 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl text-center",children:[T.jsx("div",{className:"text-2xl font-bold text-blue-600",children:gn(h)}),T.jsx("div",{className:"text-xs text-blue-600/70",children:"Words"})]}),T.jsxs("div",{className:"p-3 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl text-center",children:[T.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(t==null?void 0:t.length)||0}),T.jsx("div",{className:"text-xs text-purple-600/70",children:"Keywords"})]})]}),T.jsxs("div",{className:"space-y-3",children:[T.jsx(Kp,{title:"Content Score",score:ac,icon:Eo}),T.jsx(Kp,{title:"SEO Score",score:sc,icon:vs})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Quick Actions"}),T.jsxs("div",{className:"p-3 border rounded-xl shadow-sm bg-white hover:shadow-md transition-all",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[T.jsx(vs,{className:"w-5 h-5 text-blue-600"}),T.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Competitive Analysis"})]}),T.jsx("button",{onClick:ue,disabled:de,className:`
        w-full py-2.5 px-4 rounded-lg text-sm font-semibold transition-all
        ${de?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-purple-500 via-indigo-500 to-blue-600 text-white shadow-md hover:shadow-lg hover:from-purple-600 hover:via-indigo-600 hover:to-blue-700"}
      `,children:de?"Analyzing...":"Run SEO Analysis"})]}),T.jsxs("div",{className:"p-3 border rounded-xl shadow-sm bg-white hover:shadow-md transition-all",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[T.jsx(Eo,{className:"w-5 h-5 text-green-600"}),T.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"AI Proofreading"}),!rt&&(o==null?void 0:o.length)>0&&T.jsx("span",{className:"ml-auto text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded-full",children:o.length})]}),T.jsx("button",{onClick:Ie,disabled:w,className:`
        w-full py-2.5 px-4 rounded-lg text-sm font-semibold transition-all
        ${w?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-purple-500 via-indigo-500 to-blue-600 text-white shadow-md hover:shadow-lg hover:from-purple-600 hover:via-indigo-600 hover:to-blue-700"}
      `,children:w?"Checking...":"Start Proofreading"})]})]}),T.jsxs("div",{className:"space-y-4 p-3 bg-white border rounded-xl shadow-sm hover:shadow-md transition-all duration-200",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(xA,{className:"w-4 h-4 text-purple-600"}),T.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Custom AI Prompt"})]}),T.jsx($p,{value:P,onChange:J=>B(J.target.value),placeholder:"e.g., Make the tone more professional...",rows:6,className:"!resize-none rounded-md"}),T.jsxs("button",{onClick:re,disabled:A,className:`
      w-full py-2 text-sm font-semibold rounded-lg flex items-center justify-center gap-2
      bg-gradient-to-r from-purple-500 via-indigo-500 to-blue-600
      text-white shadow hover:shadow-md hover:opacity-90 transition-all
      ${A?"opacity-60 cursor-not-allowed":""}
    `,children:[T.jsx(Is,{className:"w-4 h-4"}),A?"Applying...":"Apply Prompt"]})]}),qt.length>0&&T.jsxs("div",{className:"space-y-2",children:[T.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Published"}),qt.map(({platform:J,link:Ce,label:He})=>T.jsxs("a",{href:Ce,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 bg-green-50 rounded-lg hover:bg-green-100 text-sm",children:[T.jsx("span",{className:"text-green-700",children:He}),T.jsx(ta,{className:"w-4 h-4 text-green-600"})]},J))]})]}),T.jsx("div",{className:"p-3 border-t bg-white",children:T.jsx(Ot,{type:"primary",size:"large",block:!0,onClick:Se,loading:l,disabled:kt||pt==="free",className:`h-12 font-semibold border-0 hover:shadow-lg ${pt==="free"?"!bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-600"}`,children:pt==="free"?T.jsxs("span",{className:"flex items-center gap-2",children:[T.jsx(Oh,{className:"w-4 h-4"})," Upgrade to Post"]}):l?"Posting...":c&&Object.keys(c).length>0?"Re-Post Blog":"Post Blog"})})]}),oc=()=>{if(pt==="free")return Z({title:"Export Unavailable",description:"Free users cannot export blogs. Upgrade to unlock this feature.",confirmText:"Upgrade Now",onConfirm:()=>nt("/pricing")});const J=h||"",Ce=new Blob([J],{type:"text/markdown"}),He=URL.createObjectURL(Ce),ut=document.createElement("a");ut.href=He,ut.download=`${(e==null?void 0:e.title)||"blog"}.md`,ut.click(),URL.revokeObjectURL(He),Ee.success("Exported as Markdown!")},lc=()=>{if(pt==="free")return Z({title:"Export Unavailable",description:"Free users cannot export blogs. Upgrade to unlock this feature.",confirmText:"Upgrade Now",onConfirm:()=>nt("/pricing")});const J=(e==null?void 0:e.content)||h||"",Ce=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${(e==null?void 0:e.title)||"Blog"}</title>
  <meta name="description" content="${ee.description||""}">
</head>
<body>
  <article>
    <h1>${(e==null?void 0:e.title)||""}</h1>
    ${J}
  </article>
</body>
</html>`,He=new Blob([Ce],{type:"text/html"}),ut=URL.createObjectURL(He),qe=document.createElement("a");qe.href=ut,qe.download=`${(e==null?void 0:e.title)||"blog"}.html`,qe.click(),URL.revokeObjectURL(ut),Ee.success("Exported as HTML!")},Oa=()=>{var J,Ce,He,ut,qe,Et;return T.jsxs("div",{className:"flex flex-col h-full",children:[T.jsx("div",{className:"p-3 border-b bg-gradient-to-r from-gray-50 to-blue-50",children:T.jsx("div",{className:"flex items-center justify-between mb-2",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg",children:T.jsx(vs,{className:"w-4 h-4 text-white"})}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("h3",{className:"font-semibold text-gray-900",children:"SEO & Export"}),rt&&T.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full font-medium",children:T.jsx(Zu,{className:"w-4 h-4"})})]}),T.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Metadata, analysis & export options"})]})]})})}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-4",children:[T.jsxs("div",{className:"space-y-3 p-3 bg-white border rounded-xl shadow-sm",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("span",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2",children:[T.jsx(Is,{className:"w-4 h-4 text-blue-600"}),"SEO Metadata"]}),T.jsxs("button",{onClick:je,className:"text-xs font-medium text-blue-600 hover:text-blue-700 hover:underline flex items-center gap-1",children:[T.jsx(Is,{className:"w-3 h-3"})," Generate"]})]}),T.jsxs("div",{className:"space-y-3",children:[T.jsx(yt,{value:ee.title,onChange:or=>ie(Vr=>le(G({},Vr),{title:or.target.value})),placeholder:"Meta title...",size:"small"}),T.jsx($p,{value:ee.description,onChange:or=>ie(Vr=>le(G({},Vr),{description:or.target.value})),placeholder:"Meta description...",rows:4,className:"!resize-none"})]}),T.jsx("button",{onClick:he,className:"w-full py-2 text-sm font-semibold rounded-lg bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow hover:shadow-md",children:"Save Metadata"})]}),T.jsxs("div",{className:"space-y-3 p-3 bg-white border rounded-xl shadow-sm",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(vs,{className:"w-4 h-4 text-purple-600"}),T.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Competitive Analysis"})]}),xe||(J=e==null?void 0:e.generatedMetadata)!=null&&J.competitors?T.jsxs(Gb,{defaultActiveKey:["1"],ghost:!0,expandIconPosition:"end",className:"-mx-3",children:[((He=(xe==null?void 0:xe.competitors)||((Ce=e==null?void 0:e.generatedMetadata)==null?void 0:Ce.competitors))==null?void 0:He.length)>0&&T.jsx(Qp,{header:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Vf,{className:"w-4 h-4 text-blue-600"}),T.jsx("span",{className:"font-medium text-sm",children:"Top Competitors"})]}),children:T.jsx(bw,{competitors:(xe==null?void 0:xe.competitors)||((ut=e==null?void 0:e.generatedMetadata)==null?void 0:ut.competitors)})},"1"),(((qe=xe==null?void 0:xe.insights)==null?void 0:qe.analysis)||(xe==null?void 0:xe.analysis))&&T.jsx(Qp,{header:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Ps,{className:"w-4 h-4 text-orange-500"}),T.jsx("span",{className:"font-medium text-sm",children:"Key Insights"})]}),children:T.jsx(Ew,{insights:((Et=xe==null?void 0:xe.insights)==null?void 0:Et.analysis)||(xe==null?void 0:xe.analysis)})},"2")]}):T.jsx("button",{onClick:ue,disabled:de,className:`w-full py-2.5 rounded-lg text-sm font-semibold transition-all bg-gradient-to-r from-purple-500 to-indigo-600 text-white shadow ${de?"opacity-60 cursor-not-allowed":"hover:shadow-md"}`,children:de?"Analyzing...":"Run SEO Analysis"})]}),T.jsxs("div",{className:"space-y-3 p-3 bg-white border rounded-xl shadow-sm",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(NA,{className:"w-4 h-4 text-green-600"}),T.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Export Blog"}),pt==="free"&&T.jsxs("span",{className:"ml-auto text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full flex items-center gap-1",children:[T.jsx(Oh,{className:"w-3 h-3"})," Pro"]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[T.jsxs("button",{onClick:oc,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg text-sm font-medium border transition-all ${pt==="free"?"bg-gray-50 text-gray-400 cursor-not-allowed":"bg-white hover:bg-gray-50 text-gray-700 hover:border-gray-400"}`,children:[T.jsx(Eo,{className:"w-4 h-4"}),"Markdown"]}),T.jsxs("button",{onClick:lc,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg text-sm font-medium border transition-all ${pt==="free"?"bg-gray-50 text-gray-400 cursor-not-allowed":"bg-white hover:bg-gray-50 text-gray-700 hover:border-gray-400"}`,children:[T.jsx(ux,{className:"w-4 h-4"}),"HTML"]})]}),pt==="free"&&T.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Upgrade to export your blogs"})]})]})]})},cu=()=>{const J=(qe,Et)=>{u&&Et&&(u(Et.original,Et.change),Ee.success("Change applied successfully!"))},Ce=qe=>{s(Et=>Et.filter((or,Vr)=>Vr!==qe))},He=()=>{(o==null?void 0:o.length)>0&&(o.forEach(qe=>u(qe.original,qe.change)),s([]),Ee.success(`Applied ${o.length} changes!`))},ut=(o==null?void 0:o.map((qe,Et)=>le(G({},qe),{originalIndex:Et})))||[];return T.jsxs("div",{className:"flex flex-col h-full",children:[T.jsxs("div",{className:"p-3 border-b bg-gradient-to-r from-gray-50 to-blue-50",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"p-2 bg-gradient-to-br from-amber-400 to-orange-500 rounded-lg",children:T.jsx(Ps,{className:"w-4 h-4 text-white"})}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("h3",{className:"font-bold text-gray-900",children:"AI Proofreading"}),rt&&T.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full font-medium",children:T.jsx(Zu,{className:"w-4 h-4"})})]}),T.jsx("p",{className:"text-xs text-gray-500",children:"Grammar & style suggestions"})]})]}),(o==null?void 0:o.length)>0&&T.jsx("span",{className:"px-2.5 py-1 bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs font-bold rounded-full",children:o.length})]}),(o==null?void 0:o.length)>0&&T.jsxs("button",{onClick:He,className:"w-full mt-2 px-4 py-2.5 bg-gradient-to-r from-green-500 to-emerald-600 text-white text-sm font-semibold rounded-xl hover:shadow-lg hover:scale-[1.01] transition-all flex items-center justify-center gap-2",children:[T.jsx(Is,{className:"w-4 h-4"}),"Apply All ",o.length," Changes"]})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 custom-scrollbar",children:w?T.jsxs("div",{className:"text-center py-16",children:[T.jsxs("div",{className:"relative w-16 h-16 mx-auto mb-4",children:[T.jsx("div",{className:"absolute inset-0 border-4 border-blue-200 rounded-full"}),T.jsx("div",{className:"absolute inset-0 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})]}),T.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Analyzing your content..."}),T.jsx("p",{className:"text-xs text-gray-500",children:"This may take a moment"})]}):ut.length>0?T.jsx(Do,{mode:"popLayout",children:ut.map((qe,Et)=>T.jsx(HT,{suggestion:qe,index:qe.originalIndex,onApply:J,onReject:Ce},`${qe.original}-${Et}`))}):T.jsxs("div",{className:"text-center py-16 h-[80vh] flex flex-col items-center justify-center",children:[T.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center",children:T.jsx(Ps,{className:"w-10 h-10 text-gray-400"})}),T.jsx("h4",{className:"font-semibold text-gray-700 mb-1",children:"No suggestions yet"}),T.jsx("p",{className:"text-xs text-gray-500 mb-4 max-w-[200px] mx-auto",children:"Run AI proofreading to get grammar and style suggestions"}),T.jsx("button",{onClick:Ie,className:"px-5 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-medium rounded-xl hover:shadow-lg transition-all text-sm",children:"Run AI Proofreading"})]})})]})},Da=()=>T.jsxs("div",{className:"flex flex-col h-full",children:[T.jsx("div",{className:"p-3 border-b bg-gradient-to-r from-gray-50 to-blue-50",children:T.jsx("div",{className:"flex items-center justify-between mb-2",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-lg",children:T.jsx(jd,{className:"w-4 h-4 text-white"})}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("h3",{className:"font-semibold text-gray-900",children:"Content Enhancement"}),rt&&T.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full font-medium",children:T.jsx(Zu,{className:"w-4 h-4"})})]}),T.jsx("p",{className:"text-xs text-gray-500 font-medium mt-0.5",children:"Toggle options and save your preferences"})]})]})})}),T.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:Object.entries(Ge||{}).length>0?Object.entries(Ge).map(([J,Ce])=>{const He=!!Ce,ut=J.replace(/([A-Z])/g," $1").replace(/^./,qe=>qe.toUpperCase()).trim();return T.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-100 rounded-lg hover:bg-gray-100 transition-colors",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:`w-2 h-2 rounded-full ${He?"bg-green-500":"bg-gray-400"}`}),T.jsx("span",{className:"text-sm font-medium text-gray-700",children:ut})]}),T.jsx(es,{size:"small",checked:He,onChange:qe=>tn(J,qe)})]},J)}):T.jsxs("div",{className:"text-center py-6",children:[T.jsx(jd,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),T.jsx("p",{className:"text-sm text-gray-500",children:"No enhancement features configured"})]})}),T.jsx("div",{className:"p-3 border-t bg-white",children:T.jsx(Ot,{type:"primary",block:!0,size:"large",loading:vt,onClick:Dn,disabled:!Me,className:`h-12 border-0 font-semibold ${Me?"bg-gradient-to-r from-purple-600 to-indigo-600":"!bg-gray-300 !text-gray-500"}`,children:Me?"Save Enhancement Settings":"No Changes to Save"})})]}),cc=()=>T.jsxs("div",{className:"flex flex-col h-full",children:[T.jsx("div",{className:"p-3 border-b bg-gradient-to-r from-gray-50 to-blue-50 mb-5",children:T.jsx("div",{className:"flex items-center justify-between mb-2",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg",children:T.jsx(Ub,{className:"w-4 h-4 text-white"})}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("h3",{className:"font-semibold text-gray-900",children:"Regenerate Blog"}),rt&&T.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full font-medium",children:T.jsx(Zu,{className:"w-4 h-4"})})]}),T.jsx("p",{className:"text-xs text-gray-500 font-medium mt-0.5",children:"Generate fresh versions of your blog content"})]})]})})}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-4",children:[T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1 block",children:"Topic"}),T.jsx(yt,{value:Ue.topic,onChange:J=>Xe("topic",J.target.value),placeholder:"Blog topic..."})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1 block",children:"Title"}),T.jsx(yt,{value:Ue.title,onChange:J=>Xe("title",J.target.value),placeholder:"Blog title..."})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1 block",children:"Focus Keywords (max 3)"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx(yt,{value:V,onChange:J=>H(J.target.value),onKeyDown:J=>J.key==="Enter"&&(J.preventDefault(),it("focus")),placeholder:"Add keyword...",size:"small"}),T.jsx(Ot,{size:"small",type:"primary",onClick:()=>it("focus"),icon:T.jsx(kn,{className:"w-3 h-3"})})]}),T.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:Ue.focusKeywords.map((J,Ce)=>T.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full text-xs",children:[J," ",T.jsx("button",{onClick:()=>xr("focus",Ce),children:T.jsx(jr,{className:"w-3 h-3"})})]},Ce))})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1 block",children:"Secondary Keywords"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx(yt,{value:L,onChange:J=>F(J.target.value),onKeyDown:J=>J.key==="Enter"&&(J.preventDefault(),it("secondary")),placeholder:"Add keywords...",size:"small"}),T.jsx(Ot,{size:"small",type:"primary",onClick:()=>it("secondary"),icon:T.jsx(kn,{className:"w-3 h-3"})})]}),T.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:Ue.keywords.map((J,Ce)=>T.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:[J," ",T.jsx("button",{onClick:()=>xr("secondary",Ce),children:T.jsx(jr,{className:"w-3 h-3"})})]},Ce))})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1 block",children:"Tone"}),T.jsx(pr,{value:Ue.tone,onChange:J=>Xe("tone",J),options:EA.map(J=>({label:J,value:J})),className:"w-full",size:"small"})]}),T.jsxs("div",{children:[T.jsxs("label",{className:"text-xs font-medium text-gray-500 mb-1 block",children:["Length: ",Ue.userDefinedLength]}),T.jsx(TA,{value:Ue.userDefinedLength,onChange:J=>Xe("userDefinedLength",J),min:500,max:5e3,step:100})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-medium text-gray-500 mb-2 block",children:"AI Model"}),T.jsx("div",{className:"grid grid-cols-3 gap-2",children:Tw.map(J=>T.jsxs("button",{onClick:()=>{J.restrictedPlans.includes(pt)?bA({featureName:J.label,navigate:nt}):Xe("aiModel",J.id)},className:`p-2 rounded-lg border text-center text-xs transition-all ${Ue.aiModel===J.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} ${J.restrictedPlans.includes(pt)?"opacity-50":""}`,children:[T.jsx("img",{src:J.logo,alt:J.label,className:"w-5 h-5 mx-auto mb-1"}),J.label]},J.id))})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[T.jsx("span",{className:"text-sm text-gray-700",children:"Add Images"}),T.jsx(es,{size:"small",checked:Ue.isCheckedGeneratedImages,onChange:J=>Xe("isCheckedGeneratedImages",J)})]}),T.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[T.jsx("span",{className:"text-sm text-gray-700",children:"Include FAQs"}),T.jsx(es,{size:"small",checked:Ue.options.includeFaqs,onChange:J=>Xe("options.includeFaqs",J)})]}),T.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[T.jsx("span",{className:"text-sm text-gray-700",children:"Interlinks"}),T.jsx(es,{size:"small",checked:Ue.options.includeInterlinks,onChange:J=>Xe("options.includeInterlinks",J)})]}),T.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[T.jsx("span",{className:"text-sm text-gray-700",children:"Competitor Research (+10)"}),T.jsx(es,{size:"small",checked:Ue.options.includeCompetitorResearch,onChange:J=>Xe("options.includeCompetitorResearch",J)})]})]}),T.jsx(_A,{label:"Brand Voice",labelClass:"text-xs font-medium text-gray-500",value:{isCheckedBrand:Ue.useBrandVoice,brandId:Ue.brandId,addCTA:Ue.addCTA},onChange:J=>{Xe("useBrandVoice",J.isCheckedBrand),Xe("brandId",J.brandId),Xe("addCTA",J.addCTA)}})]}),T.jsxs("div",{className:"p-3 border-t bg-white space-y-3",children:[T.jsxs("div",{className:"flex items-center justify-between text-sm",children:[T.jsx("span",{className:"text-gray-500",children:"Estimated Cost"}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(CA,{className:"w-4 h-4 text-amber-500"}),T.jsxs("span",{className:"font-bold text-blue-600",children:[Vt()," credits"]})]})]}),T.jsx(Ot,{type:"primary",block:!0,size:"large",loading:W,onClick:be,icon:T.jsx(qf,{className:"w-4 h-4"}),className:"h-12 bg-gradient-to-r from-blue-600 to-purple-600 border-0 font-semibold",children:"Regenerate Blog"})]})]}),dc=()=>{switch(p){case"overview":return wa();case"seo":return Oa();case"suggestions":return cu();case"enhancement":return Da();case"regenerate":return cc();default:return wa()}};return E?T.jsxs("div",{className:"w-16 h-screen bg-gradient-to-b from-slate-50 to-gray-100 border-l border-gray-200 flex flex-col items-center py-5 gap-2",children:[Xp.map(J=>{const Ce=J.icon,He=J.id==="suggestions"&&(o==null?void 0:o.length)>0;return T.jsx(Yt,{title:J.label,placement:"left",children:T.jsxs("button",{onClick:()=>{_(J.id),k(!1)},className:"w-11 h-11 rounded-2xl flex items-center justify-center text-gray-400 hover:text-blue-600 hover:bg-white hover:shadow-md transition-all duration-200 relative group",children:[T.jsx(Ce,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),He&&T.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-br from-red-500 to-pink-500 text-white text-[10px] rounded-full flex items-center justify-center font-bold shadow-md animate-pulse",children:o.length})]})},J.id)}),T.jsxs("div",{className:"mt-auto flex flex-col gap-2",children:[T.jsx("div",{className:"w-8 h-px bg-gray-300 my-2"}),T.jsx(Yt,{title:"Expand Sidebar",placement:"left",children:T.jsx("button",{onClick:()=>k(!1),className:"w-11 h-11 rounded-2xl flex items-center justify-center text-gray-400 hover:text-blue-600 hover:bg-white hover:shadow-md transition-all duration-200 group",children:T.jsx(ZA,{className:"w-5 h-5 transition-transform group-hover:-translate-x-0.5"})})})]})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex h-full",children:[T.jsx("div",{className:"flex-1 w-80 bg-white border-l overflow-hidden flex flex-col",children:T.jsx(Do,{mode:"wait",children:T.jsx(Mn.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15},className:"h-full flex flex-col",children:dc()},p)})}),T.jsxs("div",{className:"w-16 bg-gradient-to-b from-slate-50 to-gray-100 border-l border-gray-200 flex flex-col items-center py-5 gap-2",children:[Xp.map(J=>{const Ce=J.icon,He=p===J.id,ut=J.id==="suggestions"&&(o==null?void 0:o.length)>0;return T.jsx(Yt,{title:J.label,placement:"left",children:T.jsxs("button",{onClick:()=>_(J.id),className:`w-11 h-11 rounded-2xl flex items-center justify-center transition-all duration-200 relative group ${He?"bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-200":"text-gray-400 hover:text-blue-600 hover:bg-white hover:shadow-md"}`,children:[T.jsx(Ce,{className:`w-5 h-5 transition-transform ${He?"":"group-hover:scale-110"}`}),ut&&T.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-br from-red-500 to-pink-500 text-white text-[10px] rounded-full flex items-center justify-center font-bold shadow-md animate-pulse",children:o.length})]})},J.id)}),T.jsxs("div",{className:"mt-auto flex flex-col gap-2",children:[T.jsx("div",{className:"w-8 h-px bg-gray-300 my-2"}),T.jsx(Yt,{title:"Collapse Sidebar",placement:"left",children:T.jsx("button",{onClick:()=>k(!0),className:"w-11 h-11 rounded-2xl flex items-center justify-center text-gray-400 hover:text-gray-600 hover:bg-white hover:shadow-md transition-all duration-200 group",children:T.jsx(tx,{className:"w-5 h-5 transition-transform group-hover:translate-x-0.5"})})}),T.jsx("div",{className:"md:hidden",children:T.jsx("button",{onClick:()=>b(!1),className:"w-11 h-11 rounded-2xl flex items-center justify-center text-gray-400 hover:text-red-500 hover:bg-red-50 transition-all duration-200",children:T.jsx(jr,{className:"w-5 h-5"})})})]})]})]}),T.jsx(gw,{isCategoryModalOpen:R,setIsCategoryModalOpen:D,onSubmit:Be,initialCategory:f.category,initialIncludeTableOfContents:f.includeTableOfContents,integrations:Q,blogData:e,posted:c}),T.jsx(Yn,{title:"Choose Platform",open:N,onCancel:()=>I(!1),footer:null,centered:!0,width:320,children:T.jsx("div",{className:"space-y-2",children:qt.map(({platform:J,link:Ce,label:He})=>T.jsxs("button",{onClick:()=>window.open(Ce,"_blank"),className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm",children:[He," ",T.jsx(ta,{className:"w-4 h-4"})]},J))})}),T.jsx(Yn,{title:"Generated SEO Metadata",open:me,onCancel:$e,footer:T.jsxs("div",{className:"flex justify-end gap-2",children:[T.jsx(Ot,{onClick:$e,children:"Reject"}),T.jsx(Ot,{type:"primary",onClick:et,className:"bg-gradient-to-r from-green-500 to-emerald-600 border-0",children:"Accept & Apply"})]}),centered:!0,width:500,children:T.jsxs("div",{className:"space-y-4",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Review the AI-generated metadata below. Accept to apply these changes or reject to keep your current data."}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Generated Title"}),T.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:T.jsx("p",{className:"text-sm text-gray-800",children:(se==null?void 0:se.title)||(se==null?void 0:se.metaTitle)||"No title generated"})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Generated Description"}),T.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:T.jsx("p",{className:"text-sm text-gray-800",children:(se==null?void 0:se.description)||(se==null?void 0:se.metaDescription)||"No description generated"})})]}),T.jsxs("div",{className:"border-t pt-4 mt-4",children:[T.jsx("p",{className:"text-xs font-medium text-gray-400 mb-2",children:"Current Values (will be replaced if accepted):"}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("p",{className:"text-xs text-gray-500",children:[T.jsx("span",{className:"font-medium",children:"Title:"})," ",ee.title||"Not set"]}),T.jsxs("p",{className:"text-xs text-gray-500",children:[T.jsx("span",{className:"font-medium",children:"Description:"})," ",ee.description||"Not set"]})]})]})]})})]})};function _w(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}function nf(e,t){return Array(t+1).join(e)}function jT(e){return e.replace(/^\n*/,"")}function UT(e){for(var t=e.length;t>0&&e[t-1]===`
`;)t--;return e.substring(0,t)}function zT(e){return UT(jT(e))}var yw=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function h0(e){return p0(e,yw)}var GT=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function qT(e){return p0(e,GT)}function Aw(e){return WT(e,GT)}var VT=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function xw(e){return p0(e,VT)}function Cw(e){return WT(e,VT)}function p0(e,t){return t.indexOf(e.nodeName)>=0}function WT(e,t){return e.getElementsByTagName&&t.some(function(n){return e.getElementsByTagName(n).length})}var pn={};pn.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}};pn.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+`
`}};pn.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var i=nf(r===1?"=":"-",e.length);return`

`+e+`
`+i+`

`}else return`

`+nf("#",r)+" "+e+`

`}};pn.blockquote={filter:"blockquote",replacement:function(e){return e=zT(e).replace(/^/gm,"> "),`

`+e+`

`}};pn.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return n.nodeName==="LI"&&n.lastElementChild===t?`
`+e:`

`+e+`

`}};pn.listItem={filter:"li",replacement:function(e,t,n){var r=n.bulletListMarker+"   ",i=t.parentNode;if(i.nodeName==="OL"){var u=i.getAttribute("start"),s=Array.prototype.indexOf.call(i.children,t);r=(u?Number(u)+s:s+1)+".  "}var o=/\n$/.test(e);return e=zT(e)+(o?`
`:""),e=e.replace(/\n/gm,`
`+" ".repeat(r.length)),r+e+(t.nextSibling?`
`:"")}};pn.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};pn.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){for(var r=t.firstChild.getAttribute("class")||"",i=(r.match(/language-(\S+)/)||[null,""])[1],u=t.firstChild.textContent,s=n.fence.charAt(0),o=3,a=new RegExp("^"+s+"{3,}","gm"),c;c=a.exec(u);)c[0].length>=o&&(o=c[0].length+1);var l=nf(s,o);return`

`+l+i+`
`+u.replace(/\n$/,"")+`
`+l+`

`}};pn.horizontalRule={filter:"hr",replacement:function(e,t,n){return`

`+n.hr+`

`}};pn.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href");n&&(n=n.replace(/([()])/g,"\\$1"));var r=Ho(t.getAttribute("title"));return r&&(r=' "'+r.replace(/"/g,'\\"')+'"'),"["+e+"]("+n+r+")"}};pn.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,n){var r=t.getAttribute("href"),i=Ho(t.getAttribute("title"));i&&(i=' "'+i+'"');var u,s;switch(n.linkReferenceStyle){case"collapsed":u="["+e+"][]",s="["+e+"]: "+r+i;break;case"shortcut":u="["+e+"]",s="["+e+"]: "+r+i;break;default:var o=this.references.length+1;u="["+e+"]["+o+"]",s="["+o+"]: "+r+i}return this.references.push(s),u},references:[],append:function(e){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};pn.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}};pn.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}};pn.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+t+e+t+n}};pn.image={filter:"img",replacement:function(e,t){var n=Ho(t.getAttribute("alt")),r=t.getAttribute("src")||"",i=Ho(t.getAttribute("title")),u=i?' "'+i+'"':"";return r?"!["+n+"]("+r+u+")":""}};function Ho(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function YT(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}YT.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=Pc(this.array,e,this.options))||(t=Pc(this._keep,e,this.options))||(t=Pc(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function Pc(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(Nw(i,t,n))return i}}function Nw(e,t,n){var r=e.filter;if(typeof r=="string"){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(e,t,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function Sw(e){var t=e.element,n=e.isBlock,r=e.isVoid,i=e.isPre||function(f){return f.nodeName==="PRE"};if(!(!t.firstChild||i(t))){for(var u=null,s=!1,o=null,a=Zp(o,t,i);a!==t;){if(a.nodeType===3||a.nodeType===4){var c=a.data.replace(/[ \r\n\t]+/g," ");if((!u||/ $/.test(u.data))&&!s&&c[0]===" "&&(c=c.substr(1)),!c){a=Mc(a);continue}a.data=c,u=a}else if(a.nodeType===1)n(a)||a.nodeName==="BR"?(u&&(u.data=u.data.replace(/ $/,"")),u=null,s=!1):r(a)||i(a)?(u=null,s=!0):u&&(s=!1);else{a=Mc(a);continue}var l=Zp(o,a,i);o=a,a=l}u&&(u.data=u.data.replace(/ $/,""),u.data||Mc(u))}}function Mc(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function Zp(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var m0=typeof window!="undefined"?window:{};function Iw(){var e=m0.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch(n){}return t}function vw(){var e=function(){};return kw()?e.prototype.parseFromString=function(t){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(t),n.close(),n}:e.prototype.parseFromString=function(t){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(t),n.close(),n},e}function kw(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){m0.ActiveXObject&&(e=!0)}return e}var ww=Iw()?m0.DOMParser:vw();function Ow(e,t){var n;if(typeof e=="string"){var r=Dw().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=e.cloneNode(!0);return Sw({element:n,isBlock:h0,isVoid:qT,isPre:t.preformattedCode?Rw:null}),n}var Bc;function Dw(){return Bc=Bc||new ww,Bc}function Rw(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function Lw(e,t){return e.isBlock=h0(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=Pw(e),e.flankingWhitespace=Mw(e,t),e}function Pw(e){return!qT(e)&&!xw(e)&&/^\s*$/i.test(e.textContent)&&!Aw(e)&&!Cw(e)}function Mw(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=Bw(e.textContent);return n.leadingAscii&&em("left",e,t)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&em("right",e,t)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function Bw(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function em(e,t,n){var r,i,u;return e==="left"?(r=t.previousSibling,i=/ $/):(r=t.nextSibling,i=/^ /),r&&(r.nodeType===3?u=i.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?u=!1:r.nodeType===1&&!h0(r)&&(u=i.test(r.textContent))),u}var Fw=Array.prototype.reduce,Hw=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function jo(e){if(!(this instanceof jo))return new jo(e);var t={rules:pn,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=_w({},t,e),this.rules=new YT(this.options)}jo.prototype={turndown:function(e){if(!zw(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=KT.call(this,new Ow(e,this.options));return jw.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return Hw.reduce(function(t,n){return t.replace(n[0],n[1])},e)}};function KT(e){var t=this;return Fw.call(e.childNodes,function(n,r){r=new Lw(r,t.options);var i="";return r.nodeType===3?i=r.isCode?r.nodeValue:t.escape(r.nodeValue):r.nodeType===1&&(i=Uw.call(t,r)),$T(n,i)},"")}function jw(e){var t=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(e=$T(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function Uw(e){var t=this.rules.forNode(e),n=KT.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function $T(e,t){var n=UT(e),r=jT(t),i=Math.max(e.length-n.length,t.length-r.length),u=`

`.substring(0,i);return n+u+r}function zw(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}var Co={exports:{}},Gw=Co.exports,tm;function qw(){return tm||(tm=1,(function(e){(function(){function t(p){var _={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(p===!1)return JSON.parse(JSON.stringify(_));var E={};for(var k in _)_.hasOwnProperty(k)&&(E[k]=_[k].defaultValue);return E}function n(){var p=t(!0),_={};for(var E in p)p.hasOwnProperty(E)&&(_[E]=!0);return _}var r={},i={},u={},s=t(!0),o="vanilla",a={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:t(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(p,_){return s[p]=_,this},r.getOption=function(p){return s[p]},r.getOptions=function(){return s},r.resetOptions=function(){s=t(!0)},r.setFlavor=function(p){if(!a.hasOwnProperty(p))throw Error(p+" flavor was not found");r.resetOptions();var _=a[p];o=p;for(var E in _)_.hasOwnProperty(E)&&(s[E]=_[E])},r.getFlavor=function(){return o},r.getFlavorOptions=function(p){if(a.hasOwnProperty(p))return a[p]},r.getDefaultOptions=function(p){return t(p)},r.subParser=function(p,_){if(r.helper.isString(p))if(typeof _!="undefined")i[p]=_;else{if(i.hasOwnProperty(p))return i[p];throw Error("SubParser named "+p+" not registered!")}},r.extension=function(p,_){if(!r.helper.isString(p))throw Error("Extension 'name' must be a string");if(p=r.helper.stdExtName(p),r.helper.isUndefined(_)){if(!u.hasOwnProperty(p))throw Error("Extension named "+p+" is not registered!");return u[p]}else{typeof _=="function"&&(_=_()),r.helper.isArray(_)||(_=[_]);var E=c(_,p);if(E.valid)u[p]=_;else throw Error(E.error)}},r.getAllExtensions=function(){return u},r.removeExtension=function(p){delete u[p]},r.resetExtensions=function(){u={}};function c(p,_){var E=_?"Error in "+_+" extension->":"Error in unnamed extension",k={valid:!0,error:""};r.helper.isArray(p)||(p=[p]);for(var R=0;R<p.length;++R){var D=E+" sub-extension "+R+": ",N=p[R];if(typeof N!="object")return k.valid=!1,k.error=D+"must be an object, but "+typeof N+" given",k;if(!r.helper.isString(N.type))return k.valid=!1,k.error=D+'property "type" must be a string, but '+typeof N.type+" given",k;var I=N.type=N.type.toLowerCase();if(I==="language"&&(I=N.type="lang"),I==="html"&&(I=N.type="output"),I!=="lang"&&I!=="output"&&I!=="listener")return k.valid=!1,k.error=D+"type "+I+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',k;if(I==="listener"){if(r.helper.isUndefined(N.listeners))return k.valid=!1,k.error=D+'. Extensions of type "listener" must have a property called "listeners"',k}else if(r.helper.isUndefined(N.filter)&&r.helper.isUndefined(N.regex))return k.valid=!1,k.error=D+I+' extensions must define either a "regex" property or a "filter" method',k;if(N.listeners){if(typeof N.listeners!="object")return k.valid=!1,k.error=D+'"listeners" property must be an object but '+typeof N.listeners+" given",k;for(var w in N.listeners)if(N.listeners.hasOwnProperty(w)&&typeof N.listeners[w]!="function")return k.valid=!1,k.error=D+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+w+" must be a function but "+typeof N.listeners[w]+" given",k}if(N.filter){if(typeof N.filter!="function")return k.valid=!1,k.error=D+'"filter" must be a function, but '+typeof N.filter+" given",k}else if(N.regex){if(r.helper.isString(N.regex)&&(N.regex=new RegExp(N.regex,"g")),!(N.regex instanceof RegExp))return k.valid=!1,k.error=D+'"regex" property must either be a string or a RegExp object, but '+typeof N.regex+" given",k;if(r.helper.isUndefined(N.replace))return k.valid=!1,k.error=D+'"regex" extensions must implement a replace string or function',k}}return k}r.validateExtension=function(p){var _=c(p,null);return _.valid?!0:(console.warn(_.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(p){return typeof p=="string"||p instanceof String},r.helper.isFunction=function(p){var _={};return p&&_.toString.call(p)==="[object Function]"},r.helper.isArray=function(p){return Array.isArray(p)},r.helper.isUndefined=function(p){return typeof p=="undefined"},r.helper.forEach=function(p,_){if(r.helper.isUndefined(p))throw new Error("obj param is required");if(r.helper.isUndefined(_))throw new Error("callback param is required");if(!r.helper.isFunction(_))throw new Error("callback param must be a function/closure");if(typeof p.forEach=="function")p.forEach(_);else if(r.helper.isArray(p))for(var E=0;E<p.length;E++)_(p[E],E,p);else if(typeof p=="object")for(var k in p)p.hasOwnProperty(k)&&_(p[k],k,p);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(p){return p.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function l(p,_){var E=_.charCodeAt(0);return"¨E"+E+"E"}r.helper.escapeCharactersCallback=l,r.helper.escapeCharacters=function(p,_,E){var k="(["+_.replace(/([\[\]\\])/g,"\\$1")+"])";E&&(k="\\\\"+k);var R=new RegExp(k,"g");return p=p.replace(R,l),p},r.helper.unescapeHTMLEntities=function(p){return p.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var f=function(p,_,E,k){var R=k||"",D=R.indexOf("g")>-1,N=new RegExp(_+"|"+E,"g"+R.replace(/g/g,"")),I=new RegExp(_,R.replace(/g/g,"")),w=[],O,P,B,M,j;do for(O=0;B=N.exec(p);)if(I.test(B[0]))O++||(P=N.lastIndex,M=P-B[0].length);else if(O&&!--O){j=B.index+B[0].length;var W={left:{start:M,end:P},match:{start:P,end:B.index},right:{start:B.index,end:j},wholeMatch:{start:M,end:j}};if(w.push(W),!D)return w}while(O&&(N.lastIndex=P));return w};r.helper.matchRecursiveRegExp=function(p,_,E,k){for(var R=f(p,_,E,k),D=[],N=0;N<R.length;++N)D.push([p.slice(R[N].wholeMatch.start,R[N].wholeMatch.end),p.slice(R[N].match.start,R[N].match.end),p.slice(R[N].left.start,R[N].left.end),p.slice(R[N].right.start,R[N].right.end)]);return D},r.helper.replaceRecursiveRegExp=function(p,_,E,k,R){if(!r.helper.isFunction(_)){var D=_;_=function(){return D}}var N=f(p,E,k,R),I=p,w=N.length;if(w>0){var O=[];N[0].wholeMatch.start!==0&&O.push(p.slice(0,N[0].wholeMatch.start));for(var P=0;P<w;++P)O.push(_(p.slice(N[P].wholeMatch.start,N[P].wholeMatch.end),p.slice(N[P].match.start,N[P].match.end),p.slice(N[P].left.start,N[P].left.end),p.slice(N[P].right.start,N[P].right.end))),P<w-1&&O.push(p.slice(N[P].wholeMatch.end,N[P+1].wholeMatch.start));N[w-1].wholeMatch.end<p.length&&O.push(p.slice(N[w-1].wholeMatch.end)),I=O.join("")}return I},r.helper.regexIndexOf=function(p,_,E){if(!r.helper.isString(p))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(_ instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var k=p.substring(E||0).search(_);return k>=0?k+(E||0):k},r.helper.splitAtIndex=function(p,_){if(!r.helper.isString(p))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[p.substring(0,_),p.substring(_)]},r.helper.encodeEmailAddress=function(p){var _=[function(E){return"&#"+E.charCodeAt(0)+";"},function(E){return"&#x"+E.charCodeAt(0).toString(16)+";"},function(E){return E}];return p=p.replace(/./g,function(E){if(E==="@")E=_[Math.floor(Math.random()*2)](E);else{var k=Math.random();E=k>.9?_[2](E):k>.45?_[1](E):_[0](E)}return E}),p},r.helper.padEnd=function(_,E,k){return E=E>>0,k=String(k||" "),_.length>E?String(_):(E=E-_.length,E>k.length&&(k+=k.repeat(E/k.length)),String(_)+k.slice(0,E))},typeof console=="undefined"&&(console={warn:function(p){alert(p)},log:function(p){alert(p)},error:function(p){throw p}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(p){var _={},E=[],k=[],R={},D=o,N={parsed:{},raw:"",format:""};I();function I(){p=p||{};for(var M in s)s.hasOwnProperty(M)&&(_[M]=s[M]);if(typeof p=="object")for(var j in p)p.hasOwnProperty(j)&&(_[j]=p[j]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof p+" was passed instead.");_.extensions&&r.helper.forEach(_.extensions,w)}function w(M,j){if(j=j||null,r.helper.isString(M))if(M=r.helper.stdExtName(M),j=M,r.extensions[M]){console.warn("DEPRECATION WARNING: "+M+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),O(r.extensions[M],M);return}else if(!r.helper.isUndefined(u[M]))M=u[M];else throw Error('Extension "'+M+'" could not be loaded. It was either not found or is not a valid extension.');typeof M=="function"&&(M=M()),r.helper.isArray(M)||(M=[M]);var W=c(M,j);if(!W.valid)throw Error(W.error);for(var $=0;$<M.length;++$){switch(M[$].type){case"lang":E.push(M[$]);break;case"output":k.push(M[$]);break}if(M[$].hasOwnProperty("listeners"))for(var L in M[$].listeners)M[$].listeners.hasOwnProperty(L)&&P(L,M[$].listeners[L])}}function O(M,j){typeof M=="function"&&(M=M(new r.Converter)),r.helper.isArray(M)||(M=[M]);var W=c(M,j);if(!W.valid)throw Error(W.error);for(var $=0;$<M.length;++$)switch(M[$].type){case"lang":E.push(M[$]);break;case"output":k.push(M[$]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function P(M,j){if(!r.helper.isString(M))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof M+" given");if(typeof j!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof j+" given");R.hasOwnProperty(M)||(R[M]=[]),R[M].push(j)}function B(M){var j=M.match(/^\s*/)[0].length,W=new RegExp("^\\s{0,"+j+"}","gm");return M.replace(W,"")}this._dispatch=function(j,W,$,L){if(R.hasOwnProperty(j))for(var F=0;F<R[j].length;++F){var V=R[j][F](j,W,this,$,L);V&&typeof V!="undefined"&&(W=V)}return W},this.listen=function(M,j){return P(M,j),this},this.makeHtml=function(M){if(!M)return M;var j={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:E,outputModifiers:k,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return M=M.replace(/¨/g,"¨T"),M=M.replace(/\$/g,"¨D"),M=M.replace(/\r\n/g,`
`),M=M.replace(/\r/g,`
`),M=M.replace(/\u00A0/g,"&nbsp;"),_.smartIndentationFix&&(M=B(M)),M=`

`+M+`

`,M=r.subParser("detab")(M,_,j),M=M.replace(/^[ \t]+$/mg,""),r.helper.forEach(E,function(W){M=r.subParser("runExtension")(W,M,_,j)}),M=r.subParser("metadata")(M,_,j),M=r.subParser("hashPreCodeTags")(M,_,j),M=r.subParser("githubCodeBlocks")(M,_,j),M=r.subParser("hashHTMLBlocks")(M,_,j),M=r.subParser("hashCodeTags")(M,_,j),M=r.subParser("stripLinkDefinitions")(M,_,j),M=r.subParser("blockGamut")(M,_,j),M=r.subParser("unhashHTMLSpans")(M,_,j),M=r.subParser("unescapeSpecialChars")(M,_,j),M=M.replace(/¨D/g,"$$"),M=M.replace(/¨T/g,"¨"),M=r.subParser("completeHTMLDocument")(M,_,j),r.helper.forEach(k,function(W){M=r.subParser("runExtension")(W,M,_,j)}),N=j.metadata,M},this.makeMarkdown=this.makeMd=function(M,j){if(M=M.replace(/\r\n/g,`
`),M=M.replace(/\r/g,`
`),M=M.replace(/>[ \t]+</,">¨NBSP;<"),!j)if(window&&window.document)j=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var W=j.createElement("div");W.innerHTML=M;var $={preList:Q(W)};H(W);for(var L=W.childNodes,F="",V=0;V<L.length;V++)F+=r.subParser("makeMarkdown.node")(L[V],$);function H(ee){for(var ie=0;ie<ee.childNodes.length;++ie){var me=ee.childNodes[ie];me.nodeType===3?!/\S/.test(me.nodeValue)&&!/^[ ]+$/.test(me.nodeValue)?(ee.removeChild(me),--ie):(me.nodeValue=me.nodeValue.split(`
`).join(" "),me.nodeValue=me.nodeValue.replace(/(\s)+/g,"$1")):me.nodeType===1&&H(me)}}function Q(ee){for(var ie=ee.querySelectorAll("pre"),me=[],_e=0;_e<ie.length;++_e)if(ie[_e].childElementCount===1&&ie[_e].firstChild.tagName.toLowerCase()==="code"){var se=ie[_e].firstChild.innerHTML.trim(),De=ie[_e].firstChild.getAttribute("data-language")||"";if(De==="")for(var Ne=ie[_e].firstChild.className.split(" "),Pe=0;Pe<Ne.length;++Pe){var Ge=Ne[Pe].match(/^language-(.+)$/);if(Ge!==null){De=Ge[1];break}}se=r.helper.unescapeHTMLEntities(se),me.push(se),ie[_e].outerHTML='<precode language="'+De+'" precodenum="'+_e.toString()+'"></precode>'}else me.push(ie[_e].innerHTML),ie[_e].innerHTML="",ie[_e].setAttribute("prenum",_e.toString());return me}return F},this.setOption=function(M,j){_[M]=j},this.getOption=function(M){return _[M]},this.getOptions=function(){return _},this.addExtension=function(M,j){j=j||null,w(M,j)},this.useExtension=function(M){w(M)},this.setFlavor=function(M){if(!a.hasOwnProperty(M))throw Error(M+" flavor was not found");var j=a[M];D=M;for(var W in j)j.hasOwnProperty(W)&&(_[W]=j[W])},this.getFlavor=function(){return D},this.removeExtension=function(M){r.helper.isArray(M)||(M=[M]);for(var j=0;j<M.length;++j){for(var W=M[j],$=0;$<E.length;++$)E[$]===W&&E.splice($,1);for(var L=0;L<k.length;++L)k[L]===W&&k.splice(L,1)}},this.getAllExtensions=function(){return{language:E,output:k}},this.getMetadata=function(M){return M?N.raw:N.parsed},this.getMetadataFormat=function(){return N.format},this._setMetadataPair=function(M,j){N.parsed[M]=j},this._setMetadataFormat=function(M){N.format=M},this._setMetadataRaw=function(M){N.raw=M}},r.subParser("anchors",function(p,_,E){p=E.converter._dispatch("anchors.before",p,_,E);var k=function(R,D,N,I,w,O,P){if(r.helper.isUndefined(P)&&(P=""),N=N.toLowerCase(),R.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)I="";else if(!I)if(N||(N=D.toLowerCase().replace(/ ?\n/g," ")),I="#"+N,!r.helper.isUndefined(E.gUrls[N]))I=E.gUrls[N],r.helper.isUndefined(E.gTitles[N])||(P=E.gTitles[N]);else return R;I=I.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var B='<a href="'+I+'"';return P!==""&&P!==null&&(P=P.replace(/"/g,"&quot;"),P=P.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),B+=' title="'+P+'"'),_.openLinksInNewWindow&&!/^#/.test(I)&&(B+=' rel="noopener noreferrer" target="¨E95Eblank"'),B+=">"+D+"</a>",B};return p=p.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,k),p=p.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,k),p=p.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,k),p=p.replace(/\[([^\[\]]+)]()()()()()/g,k),_.ghMentions&&(p=p.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(R,D,N,I,w){if(N==="\\")return D+I;if(!r.helper.isString(_.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var O=_.ghMentionsLink.replace(/\{u}/g,w),P="";return _.openLinksInNewWindow&&(P=' rel="noopener noreferrer" target="¨E95Eblank"'),D+'<a href="'+O+'"'+P+">"+I+"</a>"})),p=E.converter._dispatch("anchors.after",p,_,E),p});var h=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,d=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,m=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,A=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,x=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,g=function(p){return function(_,E,k,R,D,N,I){k=k.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var w=k,O="",P="",B=E||"",M=I||"";return/^www\./i.test(k)&&(k=k.replace(/^www\./i,"http://www.")),p.excludeTrailingPunctuationFromURLs&&N&&(O=N),p.openLinksInNewWindow&&(P=' rel="noopener noreferrer" target="¨E95Eblank"'),B+'<a href="'+k+'"'+P+">"+w+"</a>"+O+M}},b=function(p,_){return function(E,k,R){var D="mailto:";return k=k||"",R=r.subParser("unescapeSpecialChars")(R,p,_),p.encodeEmails?(D=r.helper.encodeEmailAddress(D+R),R=r.helper.encodeEmailAddress(R)):D=D+R,k+'<a href="'+D+'">'+R+"</a>"}};r.subParser("autoLinks",function(p,_,E){return p=E.converter._dispatch("autoLinks.before",p,_,E),p=p.replace(m,g(_)),p=p.replace(x,b(_,E)),p=E.converter._dispatch("autoLinks.after",p,_,E),p}),r.subParser("simplifiedAutoLinks",function(p,_,E){return _.simplifiedAutoLink&&(p=E.converter._dispatch("simplifiedAutoLinks.before",p,_,E),_.excludeTrailingPunctuationFromURLs?p=p.replace(d,g(_)):p=p.replace(h,g(_)),p=p.replace(A,b(_,E)),p=E.converter._dispatch("simplifiedAutoLinks.after",p,_,E)),p}),r.subParser("blockGamut",function(p,_,E){return p=E.converter._dispatch("blockGamut.before",p,_,E),p=r.subParser("blockQuotes")(p,_,E),p=r.subParser("headers")(p,_,E),p=r.subParser("horizontalRule")(p,_,E),p=r.subParser("lists")(p,_,E),p=r.subParser("codeBlocks")(p,_,E),p=r.subParser("tables")(p,_,E),p=r.subParser("hashHTMLBlocks")(p,_,E),p=r.subParser("paragraphs")(p,_,E),p=E.converter._dispatch("blockGamut.after",p,_,E),p}),r.subParser("blockQuotes",function(p,_,E){p=E.converter._dispatch("blockQuotes.before",p,_,E),p=p+`

`;var k=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return _.splitAdjacentBlockquotes&&(k=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),p=p.replace(k,function(R){return R=R.replace(/^[ \t]*>[ \t]?/gm,""),R=R.replace(/¨0/g,""),R=R.replace(/^[ \t]+$/gm,""),R=r.subParser("githubCodeBlocks")(R,_,E),R=r.subParser("blockGamut")(R,_,E),R=R.replace(/(^|\n)/g,"$1  "),R=R.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(D,N){var I=N;return I=I.replace(/^  /mg,"¨0"),I=I.replace(/¨0/g,""),I}),r.subParser("hashBlock")(`<blockquote>
`+R+`
</blockquote>`,_,E)}),p=E.converter._dispatch("blockQuotes.after",p,_,E),p}),r.subParser("codeBlocks",function(p,_,E){p=E.converter._dispatch("codeBlocks.before",p,_,E),p+="¨0";var k=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;return p=p.replace(k,function(R,D,N){var I=D,w=N,O=`
`;return I=r.subParser("outdent")(I,_,E),I=r.subParser("encodeCode")(I,_,E),I=r.subParser("detab")(I,_,E),I=I.replace(/^\n+/g,""),I=I.replace(/\n+$/g,""),_.omitExtraWLInCodeBlocks&&(O=""),I="<pre><code>"+I+O+"</code></pre>",r.subParser("hashBlock")(I,_,E)+w}),p=p.replace(/¨0/,""),p=E.converter._dispatch("codeBlocks.after",p,_,E),p}),r.subParser("codeSpans",function(p,_,E){return p=E.converter._dispatch("codeSpans.before",p,_,E),typeof p=="undefined"&&(p=""),p=p.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(k,R,D,N){var I=N;return I=I.replace(/^([ \t]*)/g,""),I=I.replace(/[ \t]*$/g,""),I=r.subParser("encodeCode")(I,_,E),I=R+"<code>"+I+"</code>",I=r.subParser("hashHTMLSpans")(I,_,E),I}),p=E.converter._dispatch("codeSpans.after",p,_,E),p}),r.subParser("completeHTMLDocument",function(p,_,E){if(!_.completeHTMLDocument)return p;p=E.converter._dispatch("completeHTMLDocument.before",p,_,E);var k="html",R=`<!DOCTYPE HTML>
`,D="",N=`<meta charset="utf-8">
`,I="",w="";typeof E.metadata.parsed.doctype!="undefined"&&(R="<!DOCTYPE "+E.metadata.parsed.doctype+`>
`,k=E.metadata.parsed.doctype.toString().toLowerCase(),(k==="html"||k==="html5")&&(N='<meta charset="utf-8">'));for(var O in E.metadata.parsed)if(E.metadata.parsed.hasOwnProperty(O))switch(O.toLowerCase()){case"doctype":break;case"title":D="<title>"+E.metadata.parsed.title+`</title>
`;break;case"charset":k==="html"||k==="html5"?N='<meta charset="'+E.metadata.parsed.charset+`">
`:N='<meta name="charset" content="'+E.metadata.parsed.charset+`">
`;break;case"language":case"lang":I=' lang="'+E.metadata.parsed[O]+'"',w+='<meta name="'+O+'" content="'+E.metadata.parsed[O]+`">
`;break;default:w+='<meta name="'+O+'" content="'+E.metadata.parsed[O]+`">
`}return p=R+"<html"+I+`>
<head>
`+D+N+w+`</head>
<body>
`+p.trim()+`
</body>
</html>`,p=E.converter._dispatch("completeHTMLDocument.after",p,_,E),p}),r.subParser("detab",function(p,_,E){return p=E.converter._dispatch("detab.before",p,_,E),p=p.replace(/\t(?=\t)/g,"    "),p=p.replace(/\t/g,"¨A¨B"),p=p.replace(/¨B(.+?)¨A/g,function(k,R){for(var D=R,N=4-D.length%4,I=0;I<N;I++)D+=" ";return D}),p=p.replace(/¨A/g,"    "),p=p.replace(/¨B/g,""),p=E.converter._dispatch("detab.after",p,_,E),p}),r.subParser("ellipsis",function(p,_,E){return _.ellipsis&&(p=E.converter._dispatch("ellipsis.before",p,_,E),p=p.replace(/\.\.\./g,"…"),p=E.converter._dispatch("ellipsis.after",p,_,E)),p}),r.subParser("emoji",function(p,_,E){if(!_.emoji)return p;p=E.converter._dispatch("emoji.before",p,_,E);var k=/:([\S]+?):/g;return p=p.replace(k,function(R,D){return r.helper.emojis.hasOwnProperty(D)?r.helper.emojis[D]:R}),p=E.converter._dispatch("emoji.after",p,_,E),p}),r.subParser("encodeAmpsAndAngles",function(p,_,E){return p=E.converter._dispatch("encodeAmpsAndAngles.before",p,_,E),p=p.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),p=p.replace(/<(?![a-z\/?$!])/gi,"&lt;"),p=p.replace(/</g,"&lt;"),p=p.replace(/>/g,"&gt;"),p=E.converter._dispatch("encodeAmpsAndAngles.after",p,_,E),p}),r.subParser("encodeBackslashEscapes",function(p,_,E){return p=E.converter._dispatch("encodeBackslashEscapes.before",p,_,E),p=p.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),p=p.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,r.helper.escapeCharactersCallback),p=E.converter._dispatch("encodeBackslashEscapes.after",p,_,E),p}),r.subParser("encodeCode",function(p,_,E){return p=E.converter._dispatch("encodeCode.before",p,_,E),p=p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),p=E.converter._dispatch("encodeCode.after",p,_,E),p}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(p,_,E){p=E.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",p,_,E);var k=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,R=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return p=p.replace(k,function(D){return D.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),p=p.replace(R,function(D){return D.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),p=E.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",p,_,E),p}),r.subParser("githubCodeBlocks",function(p,_,E){return _.ghCodeBlocks?(p=E.converter._dispatch("githubCodeBlocks.before",p,_,E),p+="¨0",p=p.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(k,R,D,N){var I=_.omitExtraWLInCodeBlocks?"":`
`;return N=r.subParser("encodeCode")(N,_,E),N=r.subParser("detab")(N,_,E),N=N.replace(/^\n+/g,""),N=N.replace(/\n+$/g,""),N="<pre><code"+(D?' class="'+D+" language-"+D+'"':"")+">"+N+I+"</code></pre>",N=r.subParser("hashBlock")(N,_,E),`

¨G`+(E.ghCodeBlocks.push({text:k,codeblock:N})-1)+`G

`}),p=p.replace(/¨0/,""),E.converter._dispatch("githubCodeBlocks.after",p,_,E)):p}),r.subParser("hashBlock",function(p,_,E){return p=E.converter._dispatch("hashBlock.before",p,_,E),p=p.replace(/(^\n+|\n+$)/g,""),p=`

¨K`+(E.gHtmlBlocks.push(p)-1)+`K

`,p=E.converter._dispatch("hashBlock.after",p,_,E),p}),r.subParser("hashCodeTags",function(p,_,E){p=E.converter._dispatch("hashCodeTags.before",p,_,E);var k=function(R,D,N,I){var w=N+r.subParser("encodeCode")(D,_,E)+I;return"¨C"+(E.gHtmlSpans.push(w)-1)+"C"};return p=r.helper.replaceRecursiveRegExp(p,k,"<code\\b[^>]*>","</code>","gim"),p=E.converter._dispatch("hashCodeTags.after",p,_,E),p}),r.subParser("hashElement",function(p,_,E){return function(k,R){var D=R;return D=D.replace(/\n\n/g,`
`),D=D.replace(/^\n/,""),D=D.replace(/\n+$/g,""),D=`

¨K`+(E.gHtmlBlocks.push(D)-1)+`K

`,D}}),r.subParser("hashHTMLBlocks",function(p,_,E){p=E.converter._dispatch("hashHTMLBlocks.before",p,_,E);var k=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],R=function(M,j,W,$){var L=M;return W.search(/\bmarkdown\b/)!==-1&&(L=W+E.converter.makeHtml(j)+$),`

¨K`+(E.gHtmlBlocks.push(L)-1)+`K

`};_.backslashEscapesHTMLTags&&(p=p.replace(/\\<(\/?[^>]+?)>/g,function(M,j){return"&lt;"+j+"&gt;"}));for(var D=0;D<k.length;++D)for(var N,I=new RegExp("^ {0,3}(<"+k[D]+"\\b[^>]*>)","im"),w="<"+k[D]+"\\b[^>]*>",O="</"+k[D]+">";(N=r.helper.regexIndexOf(p,I))!==-1;){var P=r.helper.splitAtIndex(p,N),B=r.helper.replaceRecursiveRegExp(P[1],R,w,O,"im");if(B===P[1])break;p=P[0].concat(B)}return p=p.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(p,_,E)),p=r.helper.replaceRecursiveRegExp(p,function(M){return`

¨K`+(E.gHtmlBlocks.push(M)-1)+`K

`},"^ {0,3}<!--","-->","gm"),p=p.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(p,_,E)),p=E.converter._dispatch("hashHTMLBlocks.after",p,_,E),p}),r.subParser("hashHTMLSpans",function(p,_,E){p=E.converter._dispatch("hashHTMLSpans.before",p,_,E);function k(R){return"¨C"+(E.gHtmlSpans.push(R)-1)+"C"}return p=p.replace(/<[^>]+?\/>/gi,function(R){return k(R)}),p=p.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(R){return k(R)}),p=p.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(R){return k(R)}),p=p.replace(/<[^>]+?>/gi,function(R){return k(R)}),p=E.converter._dispatch("hashHTMLSpans.after",p,_,E),p}),r.subParser("unhashHTMLSpans",function(p,_,E){p=E.converter._dispatch("unhashHTMLSpans.before",p,_,E);for(var k=0;k<E.gHtmlSpans.length;++k){for(var R=E.gHtmlSpans[k],D=0;/¨C(\d+)C/.test(R);){var N=RegExp.$1;if(R=R.replace("¨C"+N+"C",E.gHtmlSpans[N]),D===10){console.error("maximum nesting of 10 spans reached!!!");break}++D}p=p.replace("¨C"+k+"C",R)}return p=E.converter._dispatch("unhashHTMLSpans.after",p,_,E),p}),r.subParser("hashPreCodeTags",function(p,_,E){p=E.converter._dispatch("hashPreCodeTags.before",p,_,E);var k=function(R,D,N,I){var w=N+r.subParser("encodeCode")(D,_,E)+I;return`

¨G`+(E.ghCodeBlocks.push({text:R,codeblock:w})-1)+`G

`};return p=r.helper.replaceRecursiveRegExp(p,k,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),p=E.converter._dispatch("hashPreCodeTags.after",p,_,E),p}),r.subParser("headers",function(p,_,E){p=E.converter._dispatch("headers.before",p,_,E);var k=isNaN(parseInt(_.headerLevelStart))?1:parseInt(_.headerLevelStart),R=_.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,D=_.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;p=p.replace(R,function(w,O){var P=r.subParser("spanGamut")(O,_,E),B=_.noHeaderId?"":' id="'+I(O)+'"',M=k,j="<h"+M+B+">"+P+"</h"+M+">";return r.subParser("hashBlock")(j,_,E)}),p=p.replace(D,function(w,O){var P=r.subParser("spanGamut")(O,_,E),B=_.noHeaderId?"":' id="'+I(O)+'"',M=k+1,j="<h"+M+B+">"+P+"</h"+M+">";return r.subParser("hashBlock")(j,_,E)});var N=_.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;p=p.replace(N,function(w,O,P){var B=P;_.customizedHeaderId&&(B=P.replace(/\s?\{([^{]+?)}\s*$/,""));var M=r.subParser("spanGamut")(B,_,E),j=_.noHeaderId?"":' id="'+I(P)+'"',W=k-1+O.length,$="<h"+W+j+">"+M+"</h"+W+">";return r.subParser("hashBlock")($,_,E)});function I(w){var O,P;if(_.customizedHeaderId){var B=w.match(/\{([^{]+?)}\s*$/);B&&B[1]&&(w=B[1])}return O=w,r.helper.isString(_.prefixHeaderId)?P=_.prefixHeaderId:_.prefixHeaderId===!0?P="section-":P="",_.rawPrefixHeaderId||(O=P+O),_.ghCompatibleHeaderId?O=O.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():_.rawHeaderId?O=O.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():O=O.replace(/[^\w]/g,"").toLowerCase(),_.rawPrefixHeaderId&&(O=P+O),E.hashLinkCounts[O]?O=O+"-"+E.hashLinkCounts[O]++:E.hashLinkCounts[O]=1,O}return p=E.converter._dispatch("headers.after",p,_,E),p}),r.subParser("horizontalRule",function(p,_,E){p=E.converter._dispatch("horizontalRule.before",p,_,E);var k=r.subParser("hashBlock")("<hr />",_,E);return p=p.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,k),p=p.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,k),p=p.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,k),p=E.converter._dispatch("horizontalRule.after",p,_,E),p}),r.subParser("images",function(p,_,E){p=E.converter._dispatch("images.before",p,_,E);var k=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,R=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,D=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,N=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,I=/!\[([^\[\]]+)]()()()()()/g;function w(P,B,M,j,W,$,L,F){return j=j.replace(/\s/g,""),O(P,B,M,j,W,$,L,F)}function O(P,B,M,j,W,$,L,F){var V=E.gUrls,H=E.gTitles,Q=E.gDimensions;if(M=M.toLowerCase(),F||(F=""),P.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)j="";else if(j===""||j===null)if((M===""||M===null)&&(M=B.toLowerCase().replace(/ ?\n/g," ")),j="#"+M,!r.helper.isUndefined(V[M]))j=V[M],r.helper.isUndefined(H[M])||(F=H[M]),r.helper.isUndefined(Q[M])||(W=Q[M].width,$=Q[M].height);else return P;B=B.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),j=j.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var ee='<img src="'+j+'" alt="'+B+'"';return F&&r.helper.isString(F)&&(F=F.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),ee+=' title="'+F+'"'),W&&$&&(W=W==="*"?"auto":W,$=$==="*"?"auto":$,ee+=' width="'+W+'"',ee+=' height="'+$+'"'),ee+=" />",ee}return p=p.replace(N,O),p=p.replace(D,w),p=p.replace(R,O),p=p.replace(k,O),p=p.replace(I,O),p=E.converter._dispatch("images.after",p,_,E),p}),r.subParser("italicsAndBold",function(p,_,E){p=E.converter._dispatch("italicsAndBold.before",p,_,E);function k(R,D,N){return D+R+N}return _.literalMidWordUnderscores?(p=p.replace(/\b___(\S[\s\S]*?)___\b/g,function(R,D){return k(D,"<strong><em>","</em></strong>")}),p=p.replace(/\b__(\S[\s\S]*?)__\b/g,function(R,D){return k(D,"<strong>","</strong>")}),p=p.replace(/\b_(\S[\s\S]*?)_\b/g,function(R,D){return k(D,"<em>","</em>")})):(p=p.replace(/___(\S[\s\S]*?)___/g,function(R,D){return/\S$/.test(D)?k(D,"<strong><em>","</em></strong>"):R}),p=p.replace(/__(\S[\s\S]*?)__/g,function(R,D){return/\S$/.test(D)?k(D,"<strong>","</strong>"):R}),p=p.replace(/_([^\s_][\s\S]*?)_/g,function(R,D){return/\S$/.test(D)?k(D,"<em>","</em>"):R})),_.literalMidWordAsterisks?(p=p.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(R,D,N){return k(N,D+"<strong><em>","</em></strong>")}),p=p.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(R,D,N){return k(N,D+"<strong>","</strong>")}),p=p.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(R,D,N){return k(N,D+"<em>","</em>")})):(p=p.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(R,D){return/\S$/.test(D)?k(D,"<strong><em>","</em></strong>"):R}),p=p.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(R,D){return/\S$/.test(D)?k(D,"<strong>","</strong>"):R}),p=p.replace(/\*([^\s*][\s\S]*?)\*/g,function(R,D){return/\S$/.test(D)?k(D,"<em>","</em>"):R})),p=E.converter._dispatch("italicsAndBold.after",p,_,E),p}),r.subParser("lists",function(p,_,E){function k(N,I){E.gListLevel++,N=N.replace(/\n{2,}$/,`
`),N+="¨0";var w=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,O=/\n[ \t]*\n(?!¨0)/.test(N);return _.disableForced4SpacesIndentedSublists&&(w=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),N=N.replace(w,function(P,B,M,j,W,$,L){L=L&&L.trim()!=="";var F=r.subParser("outdent")(W,_,E),V="";return $&&_.tasklists&&(V=' class="task-list-item" style="list-style-type: none;"',F=F.replace(/^[ \t]*\[(x|X| )?]/m,function(){var H='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return L&&(H+=" checked"),H+=">",H})),F=F.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(H){return"¨A"+H}),B||F.search(/\n{2,}/)>-1?(F=r.subParser("githubCodeBlocks")(F,_,E),F=r.subParser("blockGamut")(F,_,E)):(F=r.subParser("lists")(F,_,E),F=F.replace(/\n$/,""),F=r.subParser("hashHTMLBlocks")(F,_,E),F=F.replace(/\n\n+/g,`

`),O?F=r.subParser("paragraphs")(F,_,E):F=r.subParser("spanGamut")(F,_,E)),F=F.replace("¨A",""),F="<li"+V+">"+F+`</li>
`,F}),N=N.replace(/¨0/g,""),E.gListLevel--,I&&(N=N.replace(/\s+$/,"")),N}function R(N,I){if(I==="ol"){var w=N.match(/^ *(\d+)\./);if(w&&w[1]!=="1")return' start="'+w[1]+'"'}return""}function D(N,I,w){var O=_.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,P=_.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,B=I==="ul"?O:P,M="";if(N.search(B)!==-1)(function W($){var L=$.search(B),F=R(N,I);L!==-1?(M+=`

<`+I+F+`>
`+k($.slice(0,L),!!w)+"</"+I+`>
`,I=I==="ul"?"ol":"ul",B=I==="ul"?O:P,W($.slice(L))):M+=`

<`+I+F+`>
`+k($,!!w)+"</"+I+`>
`})(N);else{var j=R(N,I);M=`

<`+I+j+`>
`+k(N,!!w)+"</"+I+`>
`}return M}return p=E.converter._dispatch("lists.before",p,_,E),p+="¨0",E.gListLevel?p=p.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(N,I,w){var O=w.search(/[*+-]/g)>-1?"ul":"ol";return D(I,O,!0)}):p=p.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(N,I,w,O){var P=O.search(/[*+-]/g)>-1?"ul":"ol";return D(w,P,!1)}),p=p.replace(/¨0/,""),p=E.converter._dispatch("lists.after",p,_,E),p}),r.subParser("metadata",function(p,_,E){if(!_.metadata)return p;p=E.converter._dispatch("metadata.before",p,_,E);function k(R){E.metadata.raw=R,R=R.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),R=R.replace(/\n {4}/g," "),R.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(D,N,I){return E.metadata.parsed[N]=I,""})}return p=p.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,function(R,D,N){return k(N),"¨M"}),p=p.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(R,D,N){return D&&(E.metadata.format=D),k(N),"¨M"}),p=p.replace(/¨M/g,""),p=E.converter._dispatch("metadata.after",p,_,E),p}),r.subParser("outdent",function(p,_,E){return p=E.converter._dispatch("outdent.before",p,_,E),p=p.replace(/^(\t|[ ]{1,4})/gm,"¨0"),p=p.replace(/¨0/g,""),p=E.converter._dispatch("outdent.after",p,_,E),p}),r.subParser("paragraphs",function(p,_,E){p=E.converter._dispatch("paragraphs.before",p,_,E),p=p.replace(/^\n+/g,""),p=p.replace(/\n+$/g,"");for(var k=p.split(/\n{2,}/g),R=[],D=k.length,N=0;N<D;N++){var I=k[N];I.search(/¨(K|G)(\d+)\1/g)>=0?R.push(I):I.search(/\S/)>=0&&(I=r.subParser("spanGamut")(I,_,E),I=I.replace(/^([ \t]*)/g,"<p>"),I+="</p>",R.push(I))}for(D=R.length,N=0;N<D;N++){for(var w="",O=R[N],P=!1;/¨(K|G)(\d+)\1/.test(O);){var B=RegExp.$1,M=RegExp.$2;B==="K"?w=E.gHtmlBlocks[M]:P?w=r.subParser("encodeCode")(E.ghCodeBlocks[M].text,_,E):w=E.ghCodeBlocks[M].codeblock,w=w.replace(/\$/g,"$$$$"),O=O.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,w),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(O)&&(P=!0)}R[N]=O}return p=R.join(`
`),p=p.replace(/^\n+/g,""),p=p.replace(/\n+$/g,""),E.converter._dispatch("paragraphs.after",p,_,E)}),r.subParser("runExtension",function(p,_,E,k){if(p.filter)_=p.filter(_,k.converter,E);else if(p.regex){var R=p.regex;R instanceof RegExp||(R=new RegExp(R,"g")),_=_.replace(R,p.replace)}return _}),r.subParser("spanGamut",function(p,_,E){return p=E.converter._dispatch("spanGamut.before",p,_,E),p=r.subParser("codeSpans")(p,_,E),p=r.subParser("escapeSpecialCharsWithinTagAttributes")(p,_,E),p=r.subParser("encodeBackslashEscapes")(p,_,E),p=r.subParser("images")(p,_,E),p=r.subParser("anchors")(p,_,E),p=r.subParser("autoLinks")(p,_,E),p=r.subParser("simplifiedAutoLinks")(p,_,E),p=r.subParser("emoji")(p,_,E),p=r.subParser("underline")(p,_,E),p=r.subParser("italicsAndBold")(p,_,E),p=r.subParser("strikethrough")(p,_,E),p=r.subParser("ellipsis")(p,_,E),p=r.subParser("hashHTMLSpans")(p,_,E),p=r.subParser("encodeAmpsAndAngles")(p,_,E),_.simpleLineBreaks?/\n\n¨K/.test(p)||(p=p.replace(/\n+/g,`<br />
`)):p=p.replace(/  +\n/g,`<br />
`),p=E.converter._dispatch("spanGamut.after",p,_,E),p}),r.subParser("strikethrough",function(p,_,E){function k(R){return _.simplifiedAutoLink&&(R=r.subParser("simplifiedAutoLinks")(R,_,E)),"<del>"+R+"</del>"}return _.strikethrough&&(p=E.converter._dispatch("strikethrough.before",p,_,E),p=p.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(R,D){return k(D)}),p=E.converter._dispatch("strikethrough.after",p,_,E)),p}),r.subParser("stripLinkDefinitions",function(p,_,E){var k=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,R=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;p+="¨0";var D=function(N,I,w,O,P,B,M){return I=I.toLowerCase(),p.toLowerCase().split(I).length-1<2?N:(w.match(/^data:.+?\/.+?;base64,/)?E.gUrls[I]=w.replace(/\s/g,""):E.gUrls[I]=r.subParser("encodeAmpsAndAngles")(w,_,E),B?B+M:(M&&(E.gTitles[I]=M.replace(/"|'/g,"&quot;")),_.parseImgDimensions&&O&&P&&(E.gDimensions[I]={width:O,height:P}),""))};return p=p.replace(R,D),p=p.replace(k,D),p=p.replace(/¨0/,""),p}),r.subParser("tables",function(p,_,E){if(!_.tables)return p;var k=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,R=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;function D(P){return/^:[ \t]*--*$/.test(P)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(P)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(P)?' style="text-align:center;"':""}function N(P,B){var M="";return P=P.trim(),(_.tablesHeaderId||_.tableHeaderId)&&(M=' id="'+P.replace(/ /g,"_").toLowerCase()+'"'),P=r.subParser("spanGamut")(P,_,E),"<th"+M+B+">"+P+`</th>
`}function I(P,B){var M=r.subParser("spanGamut")(P,_,E);return"<td"+B+">"+M+`</td>
`}function w(P,B){for(var M=`<table>
<thead>
<tr>
`,j=P.length,W=0;W<j;++W)M+=P[W];for(M+=`</tr>
</thead>
<tbody>
`,W=0;W<B.length;++W){M+=`<tr>
`;for(var $=0;$<j;++$)M+=B[W][$];M+=`</tr>
`}return M+=`</tbody>
</table>
`,M}function O(P){var B,M=P.split(`
`);for(B=0;B<M.length;++B)/^ {0,3}\|/.test(M[B])&&(M[B]=M[B].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(M[B])&&(M[B]=M[B].replace(/\|[ \t]*$/,"")),M[B]=r.subParser("codeSpans")(M[B],_,E);var j=M[0].split("|").map(function(ee){return ee.trim()}),W=M[1].split("|").map(function(ee){return ee.trim()}),$=[],L=[],F=[],V=[];for(M.shift(),M.shift(),B=0;B<M.length;++B)M[B].trim()!==""&&$.push(M[B].split("|").map(function(ee){return ee.trim()}));if(j.length<W.length)return P;for(B=0;B<W.length;++B)F.push(D(W[B]));for(B=0;B<j.length;++B)r.helper.isUndefined(F[B])&&(F[B]=""),L.push(N(j[B],F[B]));for(B=0;B<$.length;++B){for(var H=[],Q=0;Q<L.length;++Q)r.helper.isUndefined($[B][Q]),H.push(I($[B][Q],F[Q]));V.push(H)}return w(L,V)}return p=E.converter._dispatch("tables.before",p,_,E),p=p.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),p=p.replace(k,O),p=p.replace(R,O),p=E.converter._dispatch("tables.after",p,_,E),p}),r.subParser("underline",function(p,_,E){return _.underline&&(p=E.converter._dispatch("underline.before",p,_,E),_.literalMidWordUnderscores?(p=p.replace(/\b___(\S[\s\S]*?)___\b/g,function(k,R){return"<u>"+R+"</u>"}),p=p.replace(/\b__(\S[\s\S]*?)__\b/g,function(k,R){return"<u>"+R+"</u>"})):(p=p.replace(/___(\S[\s\S]*?)___/g,function(k,R){return/\S$/.test(R)?"<u>"+R+"</u>":k}),p=p.replace(/__(\S[\s\S]*?)__/g,function(k,R){return/\S$/.test(R)?"<u>"+R+"</u>":k})),p=p.replace(/(_)/g,r.helper.escapeCharactersCallback),p=E.converter._dispatch("underline.after",p,_,E)),p}),r.subParser("unescapeSpecialChars",function(p,_,E){return p=E.converter._dispatch("unescapeSpecialChars.before",p,_,E),p=p.replace(/¨E(\d+)E/g,function(k,R){var D=parseInt(R);return String.fromCharCode(D)}),p=E.converter._dispatch("unescapeSpecialChars.after",p,_,E),p}),r.subParser("makeMarkdown.blockquote",function(p,_){var E="";if(p.hasChildNodes())for(var k=p.childNodes,R=k.length,D=0;D<R;++D){var N=r.subParser("makeMarkdown.node")(k[D],_);N!==""&&(E+=N)}return E=E.trim(),E="> "+E.split(`
`).join(`
> `),E}),r.subParser("makeMarkdown.codeBlock",function(p,_){var E=p.getAttribute("language"),k=p.getAttribute("precodenum");return"```"+E+`
`+_.preList[k]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(p){return"`"+p.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(p,_){var E="";if(p.hasChildNodes()){E+="*";for(var k=p.childNodes,R=k.length,D=0;D<R;++D)E+=r.subParser("makeMarkdown.node")(k[D],_);E+="*"}return E}),r.subParser("makeMarkdown.header",function(p,_,E){var k=new Array(E+1).join("#"),R="";if(p.hasChildNodes()){R=k+" ";for(var D=p.childNodes,N=D.length,I=0;I<N;++I)R+=r.subParser("makeMarkdown.node")(D[I],_)}return R}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(p){var _="";return p.hasAttribute("src")&&(_+="!["+p.getAttribute("alt")+"](",_+="<"+p.getAttribute("src")+">",p.hasAttribute("width")&&p.hasAttribute("height")&&(_+=" ="+p.getAttribute("width")+"x"+p.getAttribute("height")),p.hasAttribute("title")&&(_+=' "'+p.getAttribute("title")+'"'),_+=")"),_}),r.subParser("makeMarkdown.links",function(p,_){var E="";if(p.hasChildNodes()&&p.hasAttribute("href")){var k=p.childNodes,R=k.length;E="[";for(var D=0;D<R;++D)E+=r.subParser("makeMarkdown.node")(k[D],_);E+="](",E+="<"+p.getAttribute("href")+">",p.hasAttribute("title")&&(E+=' "'+p.getAttribute("title")+'"'),E+=")"}return E}),r.subParser("makeMarkdown.list",function(p,_,E){var k="";if(!p.hasChildNodes())return"";for(var R=p.childNodes,D=R.length,N=p.getAttribute("start")||1,I=0;I<D;++I)if(!(typeof R[I].tagName=="undefined"||R[I].tagName.toLowerCase()!=="li")){var w="";E==="ol"?w=N.toString()+". ":w="- ",k+=w+r.subParser("makeMarkdown.listItem")(R[I],_),++N}return k+=`
<!-- -->
`,k.trim()}),r.subParser("makeMarkdown.listItem",function(p,_){for(var E="",k=p.childNodes,R=k.length,D=0;D<R;++D)E+=r.subParser("makeMarkdown.node")(k[D],_);return/\n$/.test(E)?E=E.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):E+=`
`,E}),r.subParser("makeMarkdown.node",function(p,_,E){E=E||!1;var k="";if(p.nodeType===3)return r.subParser("makeMarkdown.txt")(p,_);if(p.nodeType===8)return"<!--"+p.data+`-->

`;if(p.nodeType!==1)return"";var R=p.tagName.toLowerCase();switch(R){case"h1":E||(k=r.subParser("makeMarkdown.header")(p,_,1)+`

`);break;case"h2":E||(k=r.subParser("makeMarkdown.header")(p,_,2)+`

`);break;case"h3":E||(k=r.subParser("makeMarkdown.header")(p,_,3)+`

`);break;case"h4":E||(k=r.subParser("makeMarkdown.header")(p,_,4)+`

`);break;case"h5":E||(k=r.subParser("makeMarkdown.header")(p,_,5)+`

`);break;case"h6":E||(k=r.subParser("makeMarkdown.header")(p,_,6)+`

`);break;case"p":E||(k=r.subParser("makeMarkdown.paragraph")(p,_)+`

`);break;case"blockquote":E||(k=r.subParser("makeMarkdown.blockquote")(p,_)+`

`);break;case"hr":E||(k=r.subParser("makeMarkdown.hr")(p,_)+`

`);break;case"ol":E||(k=r.subParser("makeMarkdown.list")(p,_,"ol")+`

`);break;case"ul":E||(k=r.subParser("makeMarkdown.list")(p,_,"ul")+`

`);break;case"precode":E||(k=r.subParser("makeMarkdown.codeBlock")(p,_)+`

`);break;case"pre":E||(k=r.subParser("makeMarkdown.pre")(p,_)+`

`);break;case"table":E||(k=r.subParser("makeMarkdown.table")(p,_)+`

`);break;case"code":k=r.subParser("makeMarkdown.codeSpan")(p,_);break;case"em":case"i":k=r.subParser("makeMarkdown.emphasis")(p,_);break;case"strong":case"b":k=r.subParser("makeMarkdown.strong")(p,_);break;case"del":k=r.subParser("makeMarkdown.strikethrough")(p,_);break;case"a":k=r.subParser("makeMarkdown.links")(p,_);break;case"img":k=r.subParser("makeMarkdown.image")(p,_);break;default:k=p.outerHTML+`

`}return k}),r.subParser("makeMarkdown.paragraph",function(p,_){var E="";if(p.hasChildNodes())for(var k=p.childNodes,R=k.length,D=0;D<R;++D)E+=r.subParser("makeMarkdown.node")(k[D],_);return E=E.trim(),E}),r.subParser("makeMarkdown.pre",function(p,_){var E=p.getAttribute("prenum");return"<pre>"+_.preList[E]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(p,_){var E="";if(p.hasChildNodes()){E+="~~";for(var k=p.childNodes,R=k.length,D=0;D<R;++D)E+=r.subParser("makeMarkdown.node")(k[D],_);E+="~~"}return E}),r.subParser("makeMarkdown.strong",function(p,_){var E="";if(p.hasChildNodes()){E+="**";for(var k=p.childNodes,R=k.length,D=0;D<R;++D)E+=r.subParser("makeMarkdown.node")(k[D],_);E+="**"}return E}),r.subParser("makeMarkdown.table",function(p,_){var E="",k=[[],[]],R=p.querySelectorAll("thead>tr>th"),D=p.querySelectorAll("tbody>tr"),N,I;for(N=0;N<R.length;++N){var w=r.subParser("makeMarkdown.tableCell")(R[N],_),O="---";if(R[N].hasAttribute("style")){var P=R[N].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(P){case"text-align:left;":O=":---";break;case"text-align:right;":O="---:";break;case"text-align:center;":O=":---:";break}}k[0][N]=w.trim(),k[1][N]=O}for(N=0;N<D.length;++N){var B=k.push([])-1,M=D[N].getElementsByTagName("td");for(I=0;I<R.length;++I){var j=" ";typeof M[I]!="undefined"&&(j=r.subParser("makeMarkdown.tableCell")(M[I],_)),k[B].push(j)}}var W=3;for(N=0;N<k.length;++N)for(I=0;I<k[N].length;++I){var $=k[N][I].length;$>W&&(W=$)}for(N=0;N<k.length;++N){for(I=0;I<k[N].length;++I)N===1?k[N][I].slice(-1)===":"?k[N][I]=r.helper.padEnd(k[N][I].slice(-1),W-1,"-")+":":k[N][I]=r.helper.padEnd(k[N][I],W,"-"):k[N][I]=r.helper.padEnd(k[N][I],W);E+="| "+k[N].join(" | ")+` |
`}return E.trim()}),r.subParser("makeMarkdown.tableCell",function(p,_){var E="";if(!p.hasChildNodes())return"";for(var k=p.childNodes,R=k.length,D=0;D<R;++D)E+=r.subParser("makeMarkdown.node")(k[D],_,!0);return E.trim()}),r.subParser("makeMarkdown.txt",function(p){var _=p.nodeValue;return _=_.replace(/ +/g," "),_=_.replace(/¨NBSP;/g," "),_=r.helper.unescapeHTMLEntities(_),_=_.replace(/([*_~|`])/g,"\\$1"),_=_.replace(/^(\s*)>/g,"\\$1>"),_=_.replace(/^#/gm,"\\#"),_=_.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),_=_.replace(/^( {0,3}\d+)\./gm,"$1\\."),_=_.replace(/^( {0,3})([+-])/gm,"$1\\$2"),_=_.replace(/]([\s]*)\(/g,"\\]$1\\("),_=_.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),_});var v=this;e.exports?e.exports=r:v.showdown=r}).call(Gw)})(Co)),Co.exports}var Vw=qw();const uu=zf(Vw);var Fc={exports:{}},Hc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function Ww(){if(nm)return Hc;nm=1;var e=Hb();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,u=e.useLayoutEffect,s=e.useDebugValue;function o(f,h){var d=h(),m=r({inst:{value:d,getSnapshot:h}}),A=m[0].inst,x=m[1];return u(function(){A.value=d,A.getSnapshot=h,a(A)&&x({inst:A})},[f,d,h]),i(function(){return a(A)&&x({inst:A}),f(function(){a(A)&&x({inst:A})})},[f]),s(d),d}function a(f){var h=f.getSnapshot;f=f.value;try{var d=h();return!n(f,d)}catch(m){return!0}}function c(f,h){return h()}var l=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?c:o;return Hc.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:l,Hc}var rm;function QT(){return rm||(rm=1,Fc.exports=Ww()),Fc.exports}var XT=QT();function rn(e){this.content=e}rn.prototype={constructor:rn,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),u=r.content.slice();return i==-1?u.push(n||e,t):(u[i+1]=t,n&&(u[i]=n)),new rn(u)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new rn(n)},addToStart:function(e,t){return new rn([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new rn(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),u=r.find(e);return i.splice(u==-1?i.length:u,0,t,n),new rn(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=rn.from(e),e.size?new rn(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=rn.from(e),e.size?new rn(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=rn.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};rn.from=function(e){if(e instanceof rn)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new rn(t)};function JT(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),u=t.child(r);if(i==u){n+=i.nodeSize;continue}if(!i.sameMarkup(u))return n;if(i.isText&&i.text!=u.text){for(let s=0;i.text[s]==u.text[s];s++)n++;return n}if(i.content.size||u.content.size){let s=JT(i.content,u.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function ZT(e,t,n,r){for(let i=e.childCount,u=t.childCount;;){if(i==0||u==0)return i==u?null:{a:n,b:r};let s=e.child(--i),o=t.child(--u),a=s.nodeSize;if(s==o){n-=a,r-=a;continue}if(!s.sameMarkup(o))return{a:n,b:r};if(s.isText&&s.text!=o.text){let c=0,l=Math.min(s.text.length,o.text.length);for(;c<l&&s.text[s.text.length-c-1]==o.text[o.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||o.content.size){let c=ZT(s.content,o.content,n-1,r-1);if(c)return c}n-=a,r-=a}}class ae{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,u){for(let s=0,o=0;o<n;s++){let a=this.content[s],c=o+a.nodeSize;if(c>t&&r(a,i+o,u||null,s)!==!1&&a.content.size){let l=o+1;a.nodesBetween(Math.max(0,t-l),Math.min(a.content.size,n-l),r,i+l)}o=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let u="",s=!0;return this.nodesBetween(t,n,(o,a)=>{let c=o.isText?o.text.slice(Math.max(t,a)-a,n-a):o.isLeaf?i?typeof i=="function"?i(o):i:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&c||o.isTextblock)&&r&&(s?s=!1:u+=r),u+=c},0),u}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),u=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),u=1);u<t.content.length;u++)i.push(t.content[u]);return new ae(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let u=0,s=0;s<n;u++){let o=this.content[u],a=s+o.nodeSize;a>t&&((s<t||a>n)&&(o.isText?o=o.cut(Math.max(0,t-s),Math.min(o.text.length,n-s)):o=o.cut(Math.max(0,t-s-1),Math.min(o.content.size,n-s-1))),r.push(o),i+=o.nodeSize),s=a}return new ae(r,i)}cutByIndex(t,n){return t==n?ae.empty:t==0&&n==this.content.length?this:new ae(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),u=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new ae(i,u)}addToStart(t){return new ae([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new ae(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return JT(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return ZT(this,t,n,r)}findIndex(t){if(t==0)return Qa(0,t);if(t==this.size)return Qa(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),u=r+i.nodeSize;if(u>=t)return u==t?Qa(n+1,u):Qa(n,r);r=u}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return ae.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ae(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return ae.empty;let n,r=0;for(let i=0;i<t.length;i++){let u=t[i];r+=u.nodeSize,i&&u.isText&&t[i-1].sameMarkup(u)?(n||(n=t.slice(0,i)),n[n.length-1]=u.withText(n[n.length-1].text+u.text)):n&&n.push(u)}return new ae(n||t,r)}static from(t){if(!t)return ae.empty;if(t instanceof ae)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new ae([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ae.empty=new ae([],0);const jc={index:0,offset:0};function Qa(e,t){return jc.index=e,jc.offset=t,jc}function Uo(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!Uo(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!Uo(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let dt=class rf{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let u=t[i];if(this.eq(u))return t;if(this.type.excludes(u.type))n||(n=t.slice(0,i));else{if(u.type.excludes(this.type))return t;!r&&u.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(u)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Uo(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return rf.none;if(t instanceof rf)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};dt.none=[];class zo extends Error{}class Te{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=t2(this.content,t+this.openStart,n);return r&&new Te(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Te(e2(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Te.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Te(ae.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let u=t.firstChild;u&&!u.isLeaf&&(n||!u.type.spec.isolating);u=u.firstChild)r++;for(let u=t.lastChild;u&&!u.isLeaf&&(n||!u.type.spec.isolating);u=u.lastChild)i++;return new Te(t,r,i)}}Te.empty=new Te(ae.empty,0,0);function e2(e,t,n){let{index:r,offset:i}=e.findIndex(t),u=e.maybeChild(r),{index:s,offset:o}=e.findIndex(n);if(i==t||u.isText){if(o!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,u.copy(e2(u.content,t-i-1,n-i-1)))}function t2(e,t,n,r){let{index:i,offset:u}=e.findIndex(t),s=e.maybeChild(i);if(u==t||s.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let o=t2(s.content,t-u-1,n,s);return o&&e.replaceChild(i,s.copy(o))}function Yw(e,t,n){if(n.openStart>e.depth)throw new zo("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new zo("Inconsistent open depths");return n2(e,t,n,0)}function n2(e,t,n,r){let i=e.index(r),u=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let s=n2(e,t,n,r+1);return u.copy(u.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let s=e.parent,o=s.content;return Wi(s,o.cut(0,e.parentOffset).append(n.content).append(o.cut(t.parentOffset)))}else{let{start:s,end:o}=Kw(n,e);return Wi(u,i2(e,s,o,t,r))}else return Wi(u,Go(e,t,r))}function r2(e,t){if(!t.type.compatibleContent(e.type))throw new zo("Cannot join "+t.type.name+" onto "+e.type.name)}function uf(e,t,n){let r=e.node(n);return r2(r,t.node(n)),r}function Vi(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function qs(e,t,n,r){let i=(t||e).node(n),u=0,s=t?t.index(n):i.childCount;e&&(u=e.index(n),e.depth>n?u++:e.textOffset&&(Vi(e.nodeAfter,r),u++));for(let o=u;o<s;o++)Vi(i.child(o),r);t&&t.depth==n&&t.textOffset&&Vi(t.nodeBefore,r)}function Wi(e,t){return e.type.checkContent(t),e.copy(t)}function i2(e,t,n,r,i){let u=e.depth>i&&uf(e,t,i+1),s=r.depth>i&&uf(n,r,i+1),o=[];return qs(null,e,i,o),u&&s&&t.index(i)==n.index(i)?(r2(u,s),Vi(Wi(u,i2(e,t,n,r,i+1)),o)):(u&&Vi(Wi(u,Go(e,t,i+1)),o),qs(t,n,i,o),s&&Vi(Wi(s,Go(n,r,i+1)),o)),qs(r,null,i,o),new ae(o)}function Go(e,t,n){let r=[];if(qs(null,e,n,r),e.depth>n){let i=uf(e,t,n+1);Vi(Wi(i,Go(e,t,n+1)),r)}return qs(t,null,n,r),new ae(r)}function Kw(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let u=n-1;u>=0;u--)i=t.node(u).copy(ae.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class sa{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let u=0;u<t;u++)i+=r.child(u).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return dt.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let o=r;r=i,i=o}let u=r.marks;for(var s=0;s<u.length;s++)u[s].type.spec.inclusive===!1&&(!i||!u[s].isInSet(i.marks))&&(u=u[s--].removeFromSet(u));return u}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var u=0;u<r.length;u++)r[u].type.spec.inclusive===!1&&(!i||!r[u].isInSet(i.marks))&&(r=r[u--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new qo(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,u=n;for(let s=t;;){let{index:o,offset:a}=s.content.findIndex(u),c=u-a;if(r.push(s,o,i+a),!c||(s=s.child(o),s.isText))break;u=c-1,i+=a+1}return new sa(n,r,u)}static resolveCached(t,n){let r=im.get(t);if(r)for(let u=0;u<r.elts.length;u++){let s=r.elts[u];if(s.pos==n)return s}else im.set(t,r=new $w);let i=r.elts[r.i]=sa.resolve(t,n);return r.i=(r.i+1)%Qw,i}}class $w{constructor(){this.elts=[],this.i=0}}const Qw=12,im=new WeakMap;class qo{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Xw=Object.create(null);class ur{constructor(t,n,r,i=dt.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||ae.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Uo(this.attrs,n||t.defaultAttrs||Xw)&&dt.sameSet(this.marks,r||dt.none)}copy(t=null){return t==this.content?this:new ur(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new ur(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Te.empty;let i=this.resolve(t),u=this.resolve(n),s=r?0:i.sharedDepth(n),o=i.start(s),c=i.node(s).content.cut(i.pos-o,u.pos-o);return new Te(c,i.depth-s,u.depth-s)}replace(t,n,r){return Yw(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return sa.resolveCached(this,t)}resolveNoCache(t){return sa.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,u=>(r.isInSet(u.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),u2(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=ae.empty,i=0,u=r.childCount){let s=this.contentMatchAt(t).matchFragment(r,i,u),o=s&&s.matchFragment(this.content,n);if(!o||!o.validEnd)return!1;for(let a=i;a<u;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let u=this.contentMatchAt(t).matchType(r),s=u&&u.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=dt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!dt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=ae.fromJSON(t,n.content),u=t.nodeType(n.type).create(n.attrs,i,r);return u.type.checkAttrs(u.attrs),u}}ur.prototype.text=void 0;class Vo extends ur{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):u2(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Vo(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Vo(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function u2(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Xi{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Jw(t,n);if(r.next==null)return Xi.empty;let i=s2(r);r.next&&r.err("Unexpected trailing text");let u=uO(iO(i));return sO(u,r),u}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let u=n;i&&u<r;u++)i=i.matchType(t.child(u).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function u(s,o){let a=s.matchFragment(t,r);if(a&&(!n||a.validEnd))return ae.from(o.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:l,next:f}=s.next[c];if(!(l.isText||l.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let h=u(f,o.concat(l));if(h)return h}}return null}return u(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),u=i.match;if(u.matchType(t)){let s=[];for(let o=i;o.type;o=o.via)s.push(o.type);return s.reverse()}for(let s=0;s<u.next.length;s++){let{type:o,next:a}=u.next[s];!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in n)&&(!i.type||a.validEnd)&&(r.push({match:o.contentMatch,type:o,via:i}),n[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let u=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)u+=(s?", ":"")+r.next[s].type.name+"->"+t.indexOf(r.next[s].next);return u}).join(`
`)}}Xi.empty=new Xi(!0);class Jw{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function s2(e){let t=[];do t.push(Zw(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Zw(e){let t=[];do t.push(eO(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function eO(e){let t=rO(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=tO(e,t);else break;return t}function um(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function tO(e,t){let n=um(e),r=n;return e.eat(",")&&(e.next!="}"?r=um(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function nO(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let u in n){let s=n[u];s.isInGroup(t)&&i.push(s)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function rO(e){if(e.eat("(")){let t=s2(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=nO(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function iO(e){let t=[[]];return i(u(e,0),n()),t;function n(){return t.push([])-1}function r(s,o,a){let c={term:a,to:o};return t[s].push(c),c}function i(s,o){s.forEach(a=>a.to=o)}function u(s,o){if(s.type=="choice")return s.exprs.reduce((a,c)=>a.concat(u(c,o)),[]);if(s.type=="seq")for(let a=0;;a++){let c=u(s.exprs[a],o);if(a==s.exprs.length-1)return c;i(c,o=n())}else if(s.type=="star"){let a=n();return r(o,a),i(u(s.expr,a),a),[r(a)]}else if(s.type=="plus"){let a=n();return i(u(s.expr,o),a),i(u(s.expr,a),a),[r(a)]}else{if(s.type=="opt")return[r(o)].concat(u(s.expr,o));if(s.type=="range"){let a=o;for(let c=0;c<s.min;c++){let l=n();i(u(s.expr,a),l),a=l}if(s.max==-1)i(u(s.expr,a),a);else for(let c=s.min;c<s.max;c++){let l=n();r(a,l),i(u(s.expr,a),l),a=l}return[r(a)]}else{if(s.type=="name")return[r(o,void 0,s.value)];throw new Error("Unknown expr type")}}}}function a2(e,t){return t-e}function sm(e,t){let n=[];return r(t),n.sort(a2);function r(i){let u=e[i];if(u.length==1&&!u[0].term)return r(u[0].to);n.push(i);for(let s=0;s<u.length;s++){let{term:o,to:a}=u[s];!o&&n.indexOf(a)==-1&&r(a)}}}function uO(e){let t=Object.create(null);return n(sm(e,0));function n(r){let i=[];r.forEach(s=>{e[s].forEach(({term:o,to:a})=>{if(!o)return;let c;for(let l=0;l<i.length;l++)i[l][0]==o&&(c=i[l][1]);sm(e,a).forEach(l=>{c||i.push([o,c=[]]),c.indexOf(l)==-1&&c.push(l)})})});let u=t[r.join(",")]=new Xi(r.indexOf(e.length-1)>-1);for(let s=0;s<i.length;s++){let o=i[s][1].sort(a2);u.next.push({type:i[s][0],next:t[o.join(",")]||n(o)})}return u}}function sO(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],u=!i.validEnd,s=[];for(let o=0;o<i.next.length;o++){let{type:a,next:c}=i.next[o];s.push(a.name),u&&!(a.isText||a.hasRequiredAttrs())&&(u=!1),r.indexOf(c)==-1&&r.push(c)}u&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function o2(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function l2(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let u=e[r];if(u.hasDefault)i=u.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function c2(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let u=e[i];u.validate&&u.validate(t[i])}}function d2(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new oO(e,r,t[r]);return n}let am=class f2{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=d2(t,r.attrs),this.defaultAttrs=o2(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Xi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:l2(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ur(this,this.computeAttrs(t),ae.from(n),dt.setFrom(r))}createChecked(t=null,n,r){return n=ae.from(n),this.checkContent(n),new ur(this,this.computeAttrs(t),n,dt.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=ae.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),u=i&&i.fillBefore(ae.empty,!0);return u?new ur(this,t,n.append(u),dt.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){c2(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:dt.none:t}static compile(t,n){let r=Object.create(null);t.forEach((u,s)=>r[u]=new f2(u,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let u in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function aO(e,t,n){let r=n.split("|");return i=>{let u=i===null?"null":typeof i;if(r.indexOf(u)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${u}`)}}class oO{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?aO(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Gl{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=d2(t,i.attrs),this.excluded=null;let u=o2(this.attrs);this.instance=u?new dt(this,u):null}create(t=null){return!t&&this.instance?this.instance:new dt(this,l2(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((u,s)=>r[u]=new Gl(u,i++,n,s)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){c2(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class h2{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=rn.from(t.nodes),n.marks=rn.from(t.marks||{}),this.nodes=am.compile(this.spec.nodes,this),this.marks=Gl.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let u=this.nodes[i],s=u.spec.content||"",o=u.spec.marks;if(u.contentMatch=r[s]||(r[s]=Xi.parse(s,this.nodes)),u.inlineContent=u.contentMatch.inlineContent,u.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!u.isInline||!u.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=u}u.markSet=o=="_"?null:o?om(this,o.split(" ")):o==""||!u.inlineContent?[]:null}for(let i in this.marks){let u=this.marks[i],s=u.spec.excludes;u.excluded=s==null?[u]:s==""?[]:om(this,s.split(" "))}this.nodeFromJSON=i=>ur.fromJSON(this,i),this.markFromJSON=i=>dt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof am){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new Vo(r,r.defaultAttrs,t,dt.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function om(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],u=e.marks[i],s=u;if(u)n.push(u);else for(let o in e.marks){let a=e.marks[o];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=a)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function lO(e){return e.tag!=null}function cO(e){return e.style!=null}let Vs=class sf{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(lO(i))this.tags.push(i);else if(cO(i)){let u=/[^=]*/.exec(i.style)[0];r.indexOf(u)<0&&r.push(u),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let u=t.nodes[i.node];return u.contentMatch.matchType(u)})}parse(t,n={}){let r=new cm(this,n,!1);return r.addAll(t,dt.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new cm(this,n,!0);return r.addAll(t,dt.none,n.from,n.to),Te.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let u=this.tags[i];if(hO(t,u.tag)&&(u.namespace===void 0||t.namespaceURI==u.namespace)&&(!u.context||n.matchesContext(u.context))){if(u.getAttrs){let s=u.getAttrs(t);if(s===!1)continue;u.attrs=s||void 0}return u}}}matchStyle(t,n,r,i){for(let u=i?this.styles.indexOf(i)+1:0;u<this.styles.length;u++){let s=this.styles[u],o=s.style;if(!(o.indexOf(t)!=0||s.context&&!r.matchesContext(s.context)||o.length>t.length&&(o.charCodeAt(t.length)!=61||o.slice(t.length+1)!=n))){if(s.getAttrs){let a=s.getAttrs(n);if(a===!1)continue;s.attrs=a||void 0}return s}}}static schemaRules(t){let n=[];function r(i){let u=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let o=n[s];if((o.priority==null?50:o.priority)<u)break}n.splice(s,0,i)}for(let i in t.marks){let u=t.marks[i].spec.parseDOM;u&&u.forEach(s=>{r(s=dm(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in t.nodes){let u=t.nodes[i].spec.parseDOM;u&&u.forEach(s=>{r(s=dm(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new sf(t,sf.schemaRules(t)))}};const p2={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},dO={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},m2={ol:!0,ul:!0},aa=1,af=2,Ws=4;function lm(e,t,n){return t!=null?(t?aa:0)|(t==="full"?af:0):e&&e.whitespace=="pre"?aa|af:n&~Ws}class Xa{constructor(t,n,r,i,u,s){this.type=t,this.attrs=n,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=dt.none,this.match=u||(s&Ws?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ae.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&aa)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let u=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=u.withText(u.text.slice(0,u.text.length-i[0].length))}}let n=ae.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(ae.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!p2.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class cm{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,u,s=lm(null,n.preserveWhitespace,0)|(r?Ws:0);i?u=new Xa(i.type,i.attrs,dt.none,!0,n.topMatch||i.type.contentMatch,s):r?u=new Xa(null,null,dt.none,!0,null,s):u=new Xa(t.schema.topNodeType,null,dt.none,!0,null,s),this.nodes=[u],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,i=this.top,u=i.options&af?"full":this.localPreserveWS||(i.options&aa)>0,{schema:s}=this.parser;if(u==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(u)if(u==="full")r=r.replace(/\r\n?/g,`
`);else if(s.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(s.linebreakReplacement.create())){let o=r.split(/\r?\n|\r/);for(let a=0;a<o.length;a++)a&&this.insertNode(s.linebreakReplacement.create(),n,!0),o[a]&&this.insertNode(s.text(o[a]),n,!/\S/.test(o[a]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],a=t.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(s.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let i=this.localPreserveWS,u=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let s=t.nodeName.toLowerCase(),o;m2.hasOwnProperty(s)&&this.parser.normalizeLists&&fO(t);let a=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(o=this.parser.matchTag(t,this,r));e:if(a?a.ignore:dO.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,n);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(t=a.skip);let c,l=this.needsBlock;if(p2.hasOwnProperty(s))u.content.length&&u.content[0].isInline&&this.open&&(this.open--,u=this.top),c=!0,u.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let f=a&&a.skip?n:this.readStyles(t,n);f&&this.addAll(t,f),c&&this.sync(u),this.needsBlock=l}else{let c=this.readStyles(t,n);c&&this.addElementByRule(t,a,c,a.consuming===!1?o:void 0)}this.localPreserveWS=i}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let u=this.parser.matchedStyles[i],s=r.getPropertyValue(u);if(s)for(let o=void 0;;){let a=this.parser.matchStyle(u,s,this,o);if(!a)break;if(a.ignore)return null;if(a.clearMark?n=n.filter(c=>!a.clearMark(c)):n=n.concat(this.parser.schema.marks[a.mark].create(a.attrs)),a.consuming===!1)o=a;else break}}return n}addElementByRule(t,n,r,i){let u,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let a=this.enter(s,n.attrs||null,r,n.preserveWhitespace);a&&(u=!0,r=a)}else{let a=this.parser.schema.marks[n.mark];r=r.concat(a.create(n.attrs))}let o=this.top;if(s&&s.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(a=>this.insertNode(a,r,!1));else{let a=t;typeof n.contentElement=="string"?a=t.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(t):n.contentElement&&(a=n.contentElement),this.findAround(t,a,!0),this.addAll(a,r),this.findAround(t,a,!1)}u&&this.sync(o)&&this.open--}addAll(t,n,r,i){let u=r||0;for(let s=r?t.childNodes[r]:t.firstChild,o=i==null?null:t.childNodes[i];s!=o;s=s.nextSibling,++u)this.findAtPoint(t,u),this.addDOM(s,n);this.findAtPoint(t,u)}findPlace(t,n,r){let i,u;for(let s=this.open,o=0;s>=0;s--){let a=this.nodes[s],c=a.findWrapping(t);if(c&&(!i||i.length>c.length+o)&&(i=c,u=a,!c.length))break;if(a.solid){if(r)break;o+=2}}if(!i)return null;this.sync(u);for(let s=0;s<i.length;s++)n=this.enterInner(i[s],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let u=this.textblockFromContext();u&&(n=this.enterInner(u,null,n))}let i=this.findPlace(t,n,r);if(i){this.closeExtra();let u=this.top;u.match&&(u.match=u.match.matchType(t.type));let s=dt.none;for(let o of i.concat(t.marks))(u.type?u.type.allowsMarkType(o.type):fm(o.type,t.type))&&(s=o.addToSet(s));return u.content.push(t.mark(s)),!0}return!1}enter(t,n,r,i){let u=this.findPlace(t.create(n),r,!1);return u&&(u=this.enterInner(t,n,r,!0,i)),u}enterInner(t,n,r,i=!1,u){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(t);let o=lm(t,u,s.options);s.options&Ws&&s.content.length==0&&(o|=Ws);let a=dt.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):fm(c.type,t))?(a=c.addToSet(a),!1):!0),this.nodes.push(new Xa(t,n,a,i,null,o)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=aa)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),u=-(r?r.depth+1:0)+(i?0:1),s=(o,a)=>{for(;o>=0;o--){let c=n[o];if(c==""){if(o==n.length-1||o==0)continue;for(;a>=u;a--)if(s(o-1,a))return!0;return!1}else{let l=a>0||a==0&&i?this.nodes[a].type:r&&a>=u?r.node(a-u).type:null;if(!l||l.name!=c&&!l.isInGroup(c))return!1;a--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function fO(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&m2.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function hO(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function dm(e){let t={};for(let n in e)t[n]=e[n];return t}function fm(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let u=[],s=o=>{u.push(o);for(let a=0;a<o.edgeCount;a++){let{type:c,next:l}=o.edge(a);if(c==t||u.indexOf(l)<0&&s(l))return!0}};if(s(i.contentMatch))return!0}}class su{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=Uc(n).createDocumentFragment());let i=r,u=[];return t.forEach(s=>{if(u.length||s.marks.length){let o=0,a=0;for(;o<u.length&&a<s.marks.length;){let c=s.marks[a];if(!this.marks[c.type.name]){a++;continue}if(!c.eq(u[o][0])||c.type.spec.spanning===!1)break;o++,a++}for(;o<u.length;)i=u.pop()[1];for(;a<s.marks.length;){let c=s.marks[a++],l=this.serializeMark(c,s.isInline,n);l&&(u.push([c,i]),i.appendChild(l.dom),i=l.contentDOM||l.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=No(Uc(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let u=this.serializeMark(t.marks[i],t.isInline,n);u&&((u.contentDOM||u.dom).appendChild(r),r=u.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&No(Uc(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return No(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new su(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=hm(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return hm(t.marks)}}function hm(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Uc(e){return e.document||window.document}const pm=new WeakMap;function pO(e){let t=pm.get(e);return t===void 0&&pm.set(e,t=mO(e)),t}function mO(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function No(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],u;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(u=pO(r))&&u.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let o,a=n?e.createElementNS(n,i):e.createElement(i),c=t[1],l=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){l=2;for(let f in c)if(c[f]!=null){let h=f.indexOf(" ");h>0?a.setAttributeNS(f.slice(0,h),f.slice(h+1),c[f]):f=="style"&&a.style?a.style.cssText=c[f]:a.setAttribute(f,c[f])}}for(let f=l;f<t.length;f++){let h=t[f];if(h===0){if(f<t.length-1||f>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:d,contentDOM:m}=No(e,h,n,r);if(a.appendChild(d),m){if(o)throw new RangeError("Multiple content holes");o=m}}}return{dom:a,contentDOM:o}}const g2=65535,b2=Math.pow(2,16);function gO(e,t){return e+t*b2}function mm(e){return e&g2}function bO(e){return(e-(e&g2))/b2}const E2=1,T2=2,So=4,_2=8;class of{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&_2)>0}get deletedBefore(){return(this.delInfo&(E2|So))>0}get deletedAfter(){return(this.delInfo&(T2|So))>0}get deletedAcross(){return(this.delInfo&So)>0}}class Bn{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Bn.empty)return Bn.empty}recover(t){let n=0,r=mm(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+bO(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,u=this.inverted?2:1,s=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let a=this.ranges[o]-(this.inverted?i:0);if(a>t)break;let c=this.ranges[o+u],l=this.ranges[o+s],f=a+c;if(t<=f){let h=c?t==a?-1:t==f?1:n:n,d=a+i+(h<0?0:l);if(r)return d;let m=t==(n<0?a:f)?null:gO(o/3,t-a),A=t==a?T2:t==f?E2:So;return(n<0?t!=a:t!=f)&&(A|=_2),new of(d,A,m)}i+=l-c}return r?t+i:new of(t+i,0,null)}touches(t,n){let r=0,i=mm(n),u=this.inverted?2:1,s=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let a=this.ranges[o]-(this.inverted?r:0);if(a>t)break;let c=this.ranges[o+u],l=a+c;if(t<=l&&o==i*3)return!0;r+=this.ranges[o+s]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,u=0;i<this.ranges.length;i+=3){let s=this.ranges[i],o=s-(this.inverted?u:0),a=s+(this.inverted?0:u),c=this.ranges[i+n],l=this.ranges[i+r];t(o,o+c,a,a+l),u+=l-c}}invert(){return new Bn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Bn.empty:new Bn(t<0?[0,-t,0]:[0,0,t])}}Bn.empty=new Bn([]);class oa{constructor(t,n,r=0,i=t?t.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new oa(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let i=t.getMirror(n);this.appendMap(t._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new oa;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let u=this.from;u<this.to;u++){let s=this._maps[u],o=s.mapResult(t,n);if(o.recover!=null){let a=this.getMirror(u);if(a!=null&&a>u&&a<this.to){u=a,t=this._maps[a].recover(o.recover);continue}}i|=o.delInfo,t=o.pos}return r?t:new of(t,i,null)}}const zc=Object.create(null);class mn{getMap(){return Bn.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=zc[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in zc)throw new RangeError("Duplicate use of step JSON ID "+t);return zc[t]=n,n.prototype.jsonID=t,n}}class jt{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new jt(t,null)}static fail(t){return new jt(null,t)}static fromReplace(t,n,r,i){try{return jt.ok(t.replace(n,r,i))}catch(u){if(u instanceof zo)return jt.fail(u.message);throw u}}}function g0(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let u=e.child(i);u.content.size&&(u=u.copy(g0(u.content,t,u))),u.isInline&&(u=t(u,n,i)),r.push(u)}return ae.fromArray(r)}class oi extends mn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),u=new Te(g0(n.content,(s,o)=>!s.isAtom||!o.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return jt.fromReplace(t,this.from,this.to,u)}invert(){return new rr(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new oi(n.pos,r.pos,this.mark)}merge(t){return t instanceof oi&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new oi(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new oi(n.from,n.to,t.markFromJSON(n.mark))}}mn.jsonID("addMark",oi);class rr extends mn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Te(g0(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return jt.fromReplace(t,this.from,this.to,r)}invert(){return new oi(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new rr(n.pos,r.pos,this.mark)}merge(t){return t instanceof rr&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new rr(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new rr(n.from,n.to,t.markFromJSON(n.mark))}}mn.jsonID("removeMark",rr);class li extends mn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return jt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return jt.fromReplace(t,this.pos,this.pos+1,new Te(ae.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new li(this.pos,n.marks[i]);return new li(this.pos,this.mark)}}return new Ji(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new li(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new li(n.pos,t.markFromJSON(n.mark))}}mn.jsonID("addNodeMark",li);class Ji extends mn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return jt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return jt.fromReplace(t,this.pos,this.pos+1,new Te(ae.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new li(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ji(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ji(n.pos,t.markFromJSON(n.mark))}}mn.jsonID("removeNodeMark",Ji);class Qt extends mn{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&lf(t,this.from,this.to)?jt.fail("Structure replace would overwrite content"):jt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Bn([this.from,this.to-this.from,this.slice.size])}invert(t){return new Qt(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Qt(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof Qt)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Te.empty:new Te(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Qt(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Te.empty:new Te(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Qt(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Qt(n.from,n.to,Te.fromJSON(t,n.slice),!!n.structure)}}mn.jsonID("replace",Qt);class Zt extends mn{constructor(t,n,r,i,u,s,o=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=u,this.insert=s,this.structure=o}apply(t){if(this.structure&&(lf(t,this.from,this.gapFrom)||lf(t,this.gapTo,this.to)))return jt.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return jt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?jt.fromReplace(t,this.from,this.to,r):jt.fail("Content does not fit in gap")}getMap(){return new Bn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Zt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),u=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||u>r.pos?null:new Zt(n.pos,r.pos,i,u,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Zt(n.from,n.to,n.gapFrom,n.gapTo,Te.fromJSON(t,n.slice),n.insert,!!n.structure)}}mn.jsonID("replaceAround",Zt);function lf(e,t,n){let r=e.resolve(t),i=n-t,u=r.depth;for(;i>0&&u>0&&r.indexAfter(u)==r.node(u).childCount;)u--,i--;if(i>0){let s=r.node(u).maybeChild(r.indexAfter(u));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function EO(e,t,n,r){let i=[],u=[],s,o;e.doc.nodesBetween(t,n,(a,c,l)=>{if(!a.isInline)return;let f=a.marks;if(!r.isInSet(f)&&l.type.allowsMarkType(r.type)){let h=Math.max(c,t),d=Math.min(c+a.nodeSize,n),m=r.addToSet(f);for(let A=0;A<f.length;A++)f[A].isInSet(m)||(s&&s.to==h&&s.mark.eq(f[A])?s.to=d:i.push(s=new rr(h,d,f[A])));o&&o.to==h?o.to=d:u.push(o=new oi(h,d,r))}}),i.forEach(a=>e.step(a)),u.forEach(a=>e.step(a))}function TO(e,t,n,r){let i=[],u=0;e.doc.nodesBetween(t,n,(s,o)=>{if(!s.isInline)return;u++;let a=null;if(r instanceof Gl){let c=s.marks,l;for(;l=r.isInSet(c);)(a||(a=[])).push(l),c=l.removeFromSet(c)}else r?r.isInSet(s.marks)&&(a=[r]):a=s.marks;if(a&&a.length){let c=Math.min(o+s.nodeSize,n);for(let l=0;l<a.length;l++){let f=a[l],h;for(let d=0;d<i.length;d++){let m=i[d];m.step==u-1&&f.eq(i[d].style)&&(h=m)}h?(h.to=c,h.step=u):i.push({style:f,from:Math.max(o,t),to:c,step:u})}}}),i.forEach(s=>e.step(new rr(s.from,s.to,s.style)))}function b0(e,t,n,r=n.contentMatch,i=!0){let u=e.doc.nodeAt(t),s=[],o=t+1;for(let a=0;a<u.childCount;a++){let c=u.child(a),l=o+c.nodeSize,f=r.matchType(c.type);if(!f)s.push(new Qt(o,l,Te.empty));else{r=f;for(let h=0;h<c.marks.length;h++)n.allowsMarkType(c.marks[h].type)||e.step(new rr(o,l,c.marks[h]));if(i&&c.isText&&n.whitespace!="pre"){let h,d=/\r?\n|\r/g,m;for(;h=d.exec(c.text);)m||(m=new Te(ae.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new Qt(o+h.index,o+h.index+h[0].length,m))}}o=l}if(!r.validEnd){let a=r.fillBefore(ae.empty,!0);e.replace(o,o,new Te(a,0,0))}for(let a=s.length-1;a>=0;a--)e.step(s[a])}function _O(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function $u(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth,i=0,u=0;;--r){let s=e.$from.node(r),o=e.$from.index(r)+i,a=e.$to.indexAfter(r)-u;if(r<e.depth&&s.canReplace(o,a,n))return r;if(r==0||s.type.spec.isolating||!_O(s,o,a))break;o&&(i=1),a<s.childCount&&(u=1)}return null}function yO(e,t,n){let{$from:r,$to:i,depth:u}=t,s=r.before(u+1),o=i.after(u+1),a=s,c=o,l=ae.empty,f=0;for(let m=u,A=!1;m>n;m--)A||r.index(m)>0?(A=!0,l=ae.from(r.node(m).copy(l)),f++):a--;let h=ae.empty,d=0;for(let m=u,A=!1;m>n;m--)A||i.after(m+1)<i.end(m)?(A=!0,h=ae.from(i.node(m).copy(h)),d++):c++;e.step(new Zt(a,c,s,o,new Te(l.append(h),f,d),l.size-f,!0))}function E0(e,t,n=null,r=e){let i=AO(e,t),u=i&&xO(r,t);return u?i.map(gm).concat({type:t,attrs:n}).concat(u.map(gm)):null}function gm(e){return{type:e,attrs:null}}function AO(e,t){let{parent:n,startIndex:r,endIndex:i}=e,u=n.contentMatchAt(r).findWrapping(t);if(!u)return null;let s=u.length?u[0]:t;return n.canReplaceWith(r,i,s)?u:null}function xO(e,t){let{parent:n,startIndex:r,endIndex:i}=e,u=n.child(r),s=t.contentMatch.findWrapping(u.type);if(!s)return null;let a=(s.length?s[s.length-1]:t).contentMatch;for(let c=r;a&&c<i;c++)a=a.matchType(n.child(c).type);return!a||!a.validEnd?null:s}function CO(e,t,n){let r=ae.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let o=n[s].type.contentMatch.matchFragment(r);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ae.from(n[s].type.create(n[s].attrs,r))}let i=t.start,u=t.end;e.step(new Zt(i,u,i,u,new Te(r,0,0),n.length,!0))}function NO(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let u=e.steps.length;e.doc.nodesBetween(t,n,(s,o)=>{let a=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,a)&&SO(e.doc,e.mapping.slice(u).map(o),r)){let c=null;if(r.schema.linebreakReplacement){let d=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);d&&!m?c=!1:!d&&m&&(c=!0)}c===!1&&A2(e,s,o,u),b0(e,e.mapping.slice(u).map(o,1),r,void 0,c===null);let l=e.mapping.slice(u),f=l.map(o,1),h=l.map(o+s.nodeSize,1);return e.step(new Zt(f,h,f+1,h-1,new Te(ae.from(r.create(a,null,s.marks)),0,0),1,!0)),c===!0&&y2(e,s,o,u),!1}})}function y2(e,t,n,r){t.forEach((i,u)=>{if(i.isText){let s,o=/\r?\n|\r/g;for(;s=o.exec(i.text);){let a=e.mapping.slice(r).map(n+1+u+s.index);e.replaceWith(a,a+1,t.type.schema.linebreakReplacement.create())}}})}function A2(e,t,n,r){t.forEach((i,u)=>{if(i.type==i.type.schema.linebreakReplacement){let s=e.mapping.slice(r).map(n+1+u);e.replaceWith(s,s+1,t.type.schema.text(`
`))}})}function SO(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function IO(e,t,n,r,i){let u=e.doc.nodeAt(t);if(!u)throw new RangeError("No node at given position");n||(n=u.type);let s=n.create(r,null,i||u.marks);if(u.isLeaf)return e.replaceWith(t,t+u.nodeSize,s);if(!n.validContent(u.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Zt(t,t+u.nodeSize,t+1,t+u.nodeSize-1,new Te(ae.from(s),0,0),1,!0))}function Ur(e,t,n=1,r){let i=e.resolve(t),u=i.depth-n,s=r&&r[r.length-1]||i.parent;if(u<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,l=n-2;c>u;c--,l--){let f=i.node(c),h=i.index(c);if(f.type.spec.isolating)return!1;let d=f.content.cutByIndex(h,f.childCount),m=r&&r[l+1];m&&(d=d.replaceChild(0,m.type.create(m.attrs)));let A=r&&r[l]||f;if(!f.canReplace(h+1,f.childCount)||!A.type.validContent(d))return!1}let o=i.indexAfter(u),a=r&&r[0];return i.node(u).canReplaceWith(o,o,a?a.type:i.node(u+1).type)}function vO(e,t,n=1,r){let i=e.doc.resolve(t),u=ae.empty,s=ae.empty;for(let o=i.depth,a=i.depth-n,c=n-1;o>a;o--,c--){u=ae.from(i.node(o).copy(u));let l=r&&r[c];s=ae.from(l?l.type.create(l.attrs,s):i.node(o).copy(s))}e.step(new Qt(t,t,new Te(u.append(s),n,n),!0))}function Ti(e,t){let n=e.resolve(t),r=n.index();return x2(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function kO(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let u=t.child(i),s=u.type==r?e.type.schema.nodes.text:u.type;if(n=n.matchType(s),!n||!e.type.allowsMarks(u.marks))return!1}return n.validEnd}function x2(e,t){return!!(e&&t&&!e.isLeaf&&kO(e,t))}function ql(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let u,s,o=r.index(i);if(i==r.depth?(u=r.nodeBefore,s=r.nodeAfter):n>0?(u=r.node(i+1),o++,s=r.node(i).maybeChild(o)):(u=r.node(i).maybeChild(o-1),s=r.node(i+1)),u&&!u.isTextblock&&x2(u,s)&&r.node(i).canReplace(o,o+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function wO(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,u=e.doc.resolve(t-n),s=u.node().type;if(i&&s.inlineContent){let l=s.whitespace=="pre",f=!!s.contentMatch.matchType(i);l&&!f?r=!1:!l&&f&&(r=!0)}let o=e.steps.length;if(r===!1){let l=e.doc.resolve(t+n);A2(e,l.node(),l.before(),o)}s.inlineContent&&b0(e,t+n-1,s,u.node().contentMatchAt(u.index()),r==null);let a=e.mapping.slice(o),c=a.map(t-n);if(e.step(new Qt(c,a.map(t+n,-1),Te.empty,!0)),r===!0){let l=e.doc.resolve(c);y2(e,l.node(),l.before(),e.steps.length)}return e}function OO(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let u=r.index(i);if(r.node(i).canReplaceWith(u,u,n))return r.before(i+1);if(u>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let u=r.indexAfter(i);if(r.node(i).canReplaceWith(u,u,n))return r.after(i+1);if(u<r.node(i).childCount)return null}return null}function C2(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let u=0;u<n.openStart;u++)i=i.firstChild.content;for(let u=1;u<=(n.openStart==0&&n.size?2:1);u++)for(let s=r.depth;s>=0;s--){let o=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,a=r.index(s)+(o>0?1:0),c=r.node(s),l=!1;if(u==1)l=c.canReplace(a,a,i);else{let f=c.contentMatchAt(a).findWrapping(i.firstChild.type);l=f&&c.canReplaceWith(a,a,f[0])}if(l)return o==0?r.pos:o<0?r.before(s+1):r.after(s+1)}return null}function Vl(e,t,n=t,r=Te.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),u=e.resolve(n);return N2(i,u,r)?new Qt(t,n,r):new DO(i,u,r).fit()}function N2(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class DO{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ae.empty;for(let i=0;i<=t.depth;i++){let u=t.node(i);this.frontier.push({type:u.type,match:u.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=ae.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let u=this.placed,s=r.depth,o=i.depth;for(;s&&o&&u.childCount==1;)u=u.firstChild.content,s--,o--;let a=new Te(u,s,o);return t>-1?new Zt(r.pos,t,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new Qt(r.pos,i.pos,a):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let u=n.firstChild;if(n.childCount>1&&(i=0),u.type.spec.isolating&&i<=r){t=r;break}n=u.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,u=null;r?(u=Gc(this.unplaced.content,r-1).firstChild,i=u.content):i=this.unplaced.content;let s=i.firstChild;for(let o=this.depth;o>=0;o--){let{type:a,match:c}=this.frontier[o],l,f=null;if(n==1&&(s?c.matchType(s.type)||(f=c.fillBefore(ae.from(s),!1)):u&&a.compatibleContent(u.type)))return{sliceDepth:r,frontierDepth:o,parent:u,inject:f};if(n==2&&s&&(l=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:o,parent:u,wrap:l};if(u&&c.matchType(u.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Gc(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Te(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Gc(t,n);if(i.childCount<=1&&n>0){let u=t.size-n<=n+i.size;this.unplaced=new Te(ws(t,n-1,1),n-1,u?n-1:r)}else this.unplaced=new Te(ws(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:u}){for(;this.depth>n;)this.closeFrontierNode();if(u)for(let A=0;A<u.length;A++)this.openFrontierNode(u[A]);let s=this.unplaced,o=r?r.content:s.content,a=s.openStart-t,c=0,l=[],{match:f,type:h}=this.frontier[n];if(i){for(let A=0;A<i.childCount;A++)l.push(i.child(A));f=f.matchFragment(i)}let d=o.size+t-(s.content.size-s.openEnd);for(;c<o.childCount;){let A=o.child(c),x=f.matchType(A.type);if(!x)break;c++,(c>1||a==0||A.content.size)&&(f=x,l.push(S2(A.mark(h.allowedMarks(A.marks)),c==1?a:0,c==o.childCount?d:-1)))}let m=c==o.childCount;m||(d=-1),this.placed=Os(this.placed,n,ae.from(l)),this.frontier[n].match=f,m&&d<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let A=0,x=o;A<d;A++){let g=x.lastChild;this.frontier.push({type:g.type,match:g.contentMatchAt(g.childCount)}),x=g.content}this.unplaced=m?t==0?Te.empty:new Te(ws(s.content,t-1,1),t-1,d<0?s.openEnd:t-1):new Te(ws(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!qc(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],u=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),s=qc(t,n,i,r,u);if(s){for(let o=n-1;o>=0;o--){let{match:a,type:c}=this.frontier[o],l=qc(t,o,c,a,!0);if(!l||l.childCount)continue e}return{depth:n,fit:s,move:u?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Os(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),u=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,u)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=Os(this.placed,this.depth,ae.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ae.empty,!0);n.childCount&&(this.placed=Os(this.placed,this.frontier.length,n))}}function ws(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(ws(e.firstChild.content,t-1,n)))}function Os(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Os(e.lastChild.content,t-1,n)))}function Gc(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function S2(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,S2(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(ae.empty,!0)))),e.copy(r)}function qc(e,t,n,r,i){let u=e.node(t),s=i?e.indexAfter(t):e.index(t);if(s==u.childCount&&!n.compatibleContent(u.type))return null;let o=r.fillBefore(u.content,!0,s);return o&&!RO(n,u.content,s)?o:null}function RO(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function LO(e){return e.spec.defining||e.spec.definingForContent}function PO(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),u=e.doc.resolve(n);if(N2(i,u,r))return e.step(new Qt(t,n,r));let s=v2(i,u);s[s.length-1]==0&&s.pop();let o=-(i.depth+1);s.unshift(o);for(let h=i.depth,d=i.pos-1;h>0;h--,d--){let m=i.node(h).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;s.indexOf(h)>-1?o=h:i.before(h)==d&&s.splice(1,0,-h)}let a=s.indexOf(o),c=[],l=r.openStart;for(let h=r.content,d=0;;d++){let m=h.firstChild;if(c.push(m),d==r.openStart)break;h=m.content}for(let h=l-1;h>=0;h--){let d=c[h],m=LO(d.type);if(m&&!d.sameMarkup(i.node(Math.abs(o)-1)))l=h;else if(m||!d.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let d=(h+l+1)%(r.openStart+1),m=c[d];if(m)for(let A=0;A<s.length;A++){let x=s[(A+a)%s.length],g=!0;x<0&&(g=!1,x=-x);let b=i.node(x-1),v=i.index(x-1);if(b.canReplaceWith(v,v,m.type,m.marks))return e.replace(i.before(x),g?u.after(x):n,new Te(I2(r.content,0,r.openStart,d),d,r.openEnd))}}let f=e.steps.length;for(let h=s.length-1;h>=0&&(e.replace(t,n,r),!(e.steps.length>f));h--){let d=s[h];d<0||(t=i.before(d),n=u.after(d))}}function I2(e,t,n,r,i){if(t<n){let u=e.firstChild;e=e.replaceChild(0,u.copy(I2(u.content,t+1,n,r,u)))}if(t>r){let u=i.contentMatchAt(0),s=u.fillBefore(e).append(e);e=s.append(u.matchFragment(s).fillBefore(ae.empty,!0))}return e}function MO(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=OO(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new Te(ae.from(r),0,0))}function BO(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),u=v2(r,i);for(let s=0;s<u.length;s++){let o=u[s],a=s==u.length-1;if(a&&o==0||r.node(o).type.contentMatch.validEnd)return e.delete(r.start(o),i.end(o));if(o>0&&(a||r.node(o-1).canReplace(r.index(o-1),i.indexAfter(o-1))))return e.delete(r.before(o),i.after(o))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return e.delete(r.before(s),n);e.delete(t,n)}function v2(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let u=e.start(i);if(u<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(u==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==u-1)&&n.push(i)}return n}class wu extends mn{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return jt.fail("No node at attribute step's position");let r=Object.create(null);for(let u in n.attrs)r[u]=n.attrs[u];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return jt.fromReplace(t,this.pos,this.pos+1,new Te(ae.from(i),0,n.isLeaf?0:1))}getMap(){return Bn.empty}invert(t){return new wu(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new wu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new wu(n.pos,n.attr,n.value)}}mn.jsonID("attr",wu);class la extends mn{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return jt.ok(r)}getMap(){return Bn.empty}invert(t){return new la(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new la(n.attr,n.value)}}mn.jsonID("docAttr",la);let Mu=class extends Error{};Mu=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Mu.prototype=Object.create(Error.prototype);Mu.prototype.constructor=Mu;Mu.prototype.name="TransformError";class T0{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new oa}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Mu(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Te.empty){let i=Vl(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new Te(ae.from(r),0,0))}delete(t,n){return this.replace(t,n,Te.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return PO(this,t,n,r),this}replaceRangeWith(t,n,r){return MO(this,t,n,r),this}deleteRange(t,n){return BO(this,t,n),this}lift(t,n){return yO(this,t,n),this}join(t,n=1){return wO(this,t,n),this}wrap(t,n){return CO(this,t,n),this}setBlockType(t,n=t,r,i=null){return NO(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return IO(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new wu(t,n,r)),this}setDocAttribute(t,n){return this.step(new la(t,n)),this}addNodeMark(t,n){return this.step(new li(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof dt)n.isInSet(r.marks)&&this.step(new Ji(t,n));else{let i=r.marks,u,s=[];for(;u=n.isInSet(i);)s.push(new Ji(t,u)),i=u.removeFromSet(i);for(let o=s.length-1;o>=0;o--)this.step(s[o])}return this}split(t,n=1,r){return vO(this,t,n,r),this}addMark(t,n,r){return EO(this,t,n,r),this}removeMark(t,n,r){return TO(this,t,n,r),this}clearIncompatible(t,n,r){return b0(this,t,n,r),this}}const Vc=Object.create(null);class Fe{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new k2(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Te.empty){let r=n.content.lastChild,i=null;for(let o=0;o<n.openEnd;o++)i=r,r=r.lastChild;let u=t.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:a,$to:c}=s[o],l=t.mapping.slice(u);t.replaceRange(l.map(a.pos),l.map(c.pos),o?Te.empty:n),o==0&&Tm(t,u,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let u=0;u<i.length;u++){let{$from:s,$to:o}=i[u],a=t.mapping.slice(r),c=a.map(s.pos),l=a.map(o.pos);u?t.deleteRange(c,l):(t.replaceRangeWith(c,l,n),Tm(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new Re(t):Au(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let u=t.depth-1;u>=0;u--){let s=n<0?Au(t.node(0),t.node(u),t.before(u+1),t.index(u),n,r):Au(t.node(0),t.node(u),t.after(u+1),t.index(u)+1,n,r);if(s)return s}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new jn(t.node(0))}static atStart(t){return Au(t,t,0,0,1)||new jn(t)}static atEnd(t){return Au(t,t,t.content.size,t.childCount,-1)||new jn(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Vc[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Vc)throw new RangeError("Duplicate use of selection JSON ID "+t);return Vc[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Re.between(this.$anchor,this.$head).getBookmark()}}Fe.prototype.visible=!0;class k2{constructor(t,n){this.$from=t,this.$to=n}}let bm=!1;function Em(e){!bm&&!e.parent.inlineContent&&(bm=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Re extends Fe{constructor(t,n=t){Em(t),Em(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Fe.near(r);let i=t.resolve(n.map(this.anchor));return new Re(i.parent.inlineContent?i:r,r)}replace(t,n=Te.empty){if(super.replace(t,n),n==Te.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Re&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Wl(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Re(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let u=Fe.findFrom(n,r,!0)||Fe.findFrom(n,-r,!0);if(u)n=u.$head;else return Fe.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(Fe.findFrom(t,-r,!0)||Fe.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new Re(t,n)}}Fe.jsonID("text",Re);class Wl{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Wl(t.map(this.anchor),t.map(this.head))}resolve(t){return Re.between(t.resolve(this.anchor),t.resolve(this.head))}}class Oe extends Fe{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),u=t.resolve(i);return r?Fe.near(u):new Oe(u)}content(){return new Te(ae.from(this.node),0,0)}eq(t){return t instanceof Oe&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new _0(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Oe(t.resolve(n.anchor))}static create(t,n){return new Oe(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Oe.prototype.visible=!1;Fe.jsonID("node",Oe);class _0{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new Wl(r,r):new _0(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Oe.isSelectable(r)?new Oe(n):Fe.near(n)}}class jn extends Fe{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Te.empty){if(n==Te.empty){t.delete(0,t.doc.content.size);let r=Fe.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new jn(t)}map(t){return new jn(t)}eq(t){return t instanceof jn}getBookmark(){return FO}}Fe.jsonID("all",jn);const FO={map(){return this},resolve(e){return new jn(e)}};function Au(e,t,n,r,i,u=!1){if(t.inlineContent)return Re.create(e,n);for(let s=r-(i>0?0:1);i>0?s<t.childCount:s>=0;s+=i){let o=t.child(s);if(o.isAtom){if(!u&&Oe.isSelectable(o))return Oe.create(e,n-(i<0?o.nodeSize:0))}else{let a=Au(e,o,n+i,i<0?o.childCount:0,i,u);if(a)return a}n+=o.nodeSize*i}return null}function Tm(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof Qt||i instanceof Zt))return;let u=e.mapping.maps[r],s;u.forEach((o,a,c,l)=>{s==null&&(s=l)}),e.setSelection(Fe.near(e.doc.resolve(s),n))}const _m=1,Ja=2,ym=4;class HO extends T0{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|_m)&~Ja,this.storedMarks=null,this}get selectionSet(){return(this.updated&_m)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Ja,this}ensureMarks(t){return dt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ja)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~Ja,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||dt.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),!t)return this.deleteRange(n,r);let u=this.storedMarks;if(!u){let s=this.doc.resolve(n);u=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,u)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection(Fe.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=ym,this}get scrolledIntoView(){return(this.updated&ym)>0}}function Am(e,t){return!t||!e?e:e.bind(t)}class Ds{constructor(t,n,r){this.name=t,this.init=Am(n.init,r),this.apply=Am(n.apply,r)}}const jO=[new Ds("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Ds("selection",{init(e,t){return e.selection||Fe.atStart(t.doc)},apply(e){return e.selection}}),new Ds("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Ds("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class Wc{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=jO.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Ds(r.key,r.spec.state,r))})}}class Iu{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let u=!1;for(let s=0;s<this.config.plugins.length;s++){let o=this.config.plugins[s];if(o.spec.appendTransaction){let a=i?i[s].n:0,c=i?i[s].state:this,l=a<n.length&&o.spec.appendTransaction.call(o,a?n.slice(a):n,c,r);if(l&&r.filterTransaction(l,s)){if(l.setMeta("appendedTransaction",t),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<s?{state:r,n:n.length}:{state:this,n:0})}n.push(l),r=r.applyInner(l),u=!0}i&&(i[s]={state:r,n:n.length})}}if(!u)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Iu(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let u=r[i];n[u.name]=u.apply(t,this[u.name],this,n)}return n}get tr(){return new HO(this)}static create(t){let n=new Wc(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Iu(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new Wc(this.schema,t.plugins),r=n.fields,i=new Iu(n);for(let u=0;u<r.length;u++){let s=r[u].name;i[s]=this.hasOwnProperty(s)?this[s]:r[u].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],u=i.spec.state;u&&u.toJSON&&(n[r]=u.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new Wc(t.schema,t.plugins),u=new Iu(i);return i.fields.forEach(s=>{if(s.name=="doc")u.doc=ur.fromJSON(t.schema,n.doc);else if(s.name=="selection")u.selection=Fe.fromJSON(u.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(u.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let o in r){let a=r[o],c=a.spec.state;if(a.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,o)){u[s.name]=c.fromJSON.call(a,t,n[o],u);return}}u[s.name]=s.init(t,u)}}),u}}function w2(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=w2(i,t,{})),n[r]=i}return n}class bt{constructor(t){this.spec=t,this.props={},t.props&&w2(t.props,this,this.props),this.key=t.key?t.key.key:O2("plugin")}getState(t){return t[this.key]}}const Yc=Object.create(null);function O2(e){return e in Yc?e+"$"+ ++Yc[e]:(Yc[e]=0,e+"$")}class It{constructor(t="key"){this.key=O2(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const y0=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function D2(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const R2=(e,t,n)=>{let r=D2(e,n);if(!r)return!1;let i=A0(r);if(!i){let s=r.blockRange(),o=s&&$u(s);return o==null?!1:(t&&t(e.tr.lift(s,o).scrollIntoView()),!0)}let u=i.nodeBefore;if(z2(e,i,t,-1))return!0;if(r.parent.content.size==0&&(Bu(u,"end")||Oe.isSelectable(u)))for(let s=r.depth;;s--){let o=Vl(e.doc,r.before(s),r.after(s),Te.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(Bu(u,"end")?Fe.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):Oe.create(a.doc,i.pos-u.nodeSize)),t(a.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return u.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-u.nodeSize,i.pos).scrollIntoView()),!0):!1},UO=(e,t,n)=>{let r=D2(e,n);if(!r)return!1;let i=A0(r);return i?L2(e,i,t):!1},zO=(e,t,n)=>{let r=M2(e,n);if(!r)return!1;let i=x0(r);return i?L2(e,i,t):!1};function L2(e,t,n){let r=t.nodeBefore,i=r,u=t.pos-1;for(;!i.isTextblock;u--){if(i.type.spec.isolating)return!1;let l=i.lastChild;if(!l)return!1;i=l}let s=t.nodeAfter,o=s,a=t.pos+1;for(;!o.isTextblock;a++){if(o.type.spec.isolating)return!1;let l=o.firstChild;if(!l)return!1;o=l}let c=Vl(e.doc,u,a,Te.empty);if(!c||c.from!=u||c instanceof Qt&&c.slice.size>=a-u)return!1;if(n){let l=e.tr.step(c);l.setSelection(Re.create(l.doc,u)),n(l.scrollIntoView())}return!0}function Bu(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const P2=(e,t,n)=>{let{$head:r,empty:i}=e.selection,u=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;u=A0(r)}let s=u&&u.nodeBefore;return!s||!Oe.isSelectable(s)?!1:(t&&t(e.tr.setSelection(Oe.create(e.doc,u.pos-s.nodeSize)).scrollIntoView()),!0)};function A0(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function M2(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const B2=(e,t,n)=>{let r=M2(e,n);if(!r)return!1;let i=x0(r);if(!i)return!1;let u=i.nodeAfter;if(z2(e,i,t,1))return!0;if(r.parent.content.size==0&&(Bu(u,"start")||Oe.isSelectable(u))){let s=Vl(e.doc,r.before(),r.after(),Te.empty);if(s&&s.slice.size<s.to-s.from){if(t){let o=e.tr.step(s);o.setSelection(Bu(u,"start")?Fe.findFrom(o.doc.resolve(o.mapping.map(i.pos)),1):Oe.create(o.doc,o.mapping.map(i.pos))),t(o.scrollIntoView())}return!0}}return u.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+u.nodeSize).scrollIntoView()),!0):!1},F2=(e,t,n)=>{let{$head:r,empty:i}=e.selection,u=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;u=x0(r)}let s=u&&u.nodeAfter;return!s||!Oe.isSelectable(s)?!1:(t&&t(e.tr.setSelection(Oe.create(e.doc,u.pos)).scrollIntoView()),!0)};function x0(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const GO=(e,t)=>{let n=e.selection,r=n instanceof Oe,i;if(r){if(n.node.isTextblock||!Ti(e.doc,n.from))return!1;i=n.from}else if(i=ql(e.doc,n.from,-1),i==null)return!1;if(t){let u=e.tr.join(i);r&&u.setSelection(Oe.create(u.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(u.scrollIntoView())}return!0},qO=(e,t)=>{let n=e.selection,r;if(n instanceof Oe){if(n.node.isTextblock||!Ti(e.doc,n.to))return!1;r=n.to}else if(r=ql(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},VO=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),u=i&&$u(i);return u==null?!1:(t&&t(e.tr.lift(i,u).scrollIntoView()),!0)},H2=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function C0(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const WO=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),u=n.indexAfter(-1),s=C0(i.contentMatchAt(u));if(!s||!i.canReplaceWith(u,u,s))return!1;if(t){let o=n.after(),a=e.tr.replaceWith(o,o,s.createAndFill());a.setSelection(Fe.near(a.doc.resolve(o),1)),t(a.scrollIntoView())}return!0},j2=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof jn||r.parent.inlineContent||i.parent.inlineContent)return!1;let u=C0(i.parent.contentMatchAt(i.indexAfter()));if(!u||!u.isTextblock)return!1;if(t){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,o=e.tr.insert(s,u.createAndFill());o.setSelection(Re.create(o.doc,s+1)),t(o.scrollIntoView())}return!0},U2=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let u=n.before();if(Ur(e.doc,u))return t&&t(e.tr.split(u).scrollIntoView()),!0}let r=n.blockRange(),i=r&&$u(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function YO(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof Oe&&t.selection.node.isBlock)return!r.parentOffset||!Ur(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let u=[],s,o,a=!1,c=!1;for(let d=r.depth;;d--)if(r.node(d).isBlock){a=r.end(d)==r.pos+(r.depth-d),c=r.start(d)==r.pos-(r.depth-d),o=C0(r.node(d-1).contentMatchAt(r.indexAfter(d-1))),u.unshift(a&&o?{type:o}:null),s=d;break}else{if(d==1)return!1;u.unshift(null)}let l=t.tr;(t.selection instanceof Re||t.selection instanceof jn)&&l.deleteSelection();let f=l.mapping.map(r.pos),h=Ur(l.doc,f,u.length,u);if(h||(u[0]=o?{type:o}:null,h=Ur(l.doc,f,u.length,u)),!h)return!1;if(l.split(f,u.length,u),!a&&c&&r.node(s).type!=o){let d=l.mapping.map(r.before(s)),m=l.doc.resolve(d);o&&r.node(s-1).canReplaceWith(m.index(),m.index()+1,o)&&l.setNodeMarkup(l.mapping.map(r.before(s)),o)}return n&&n(l.scrollIntoView()),!0}}const KO=YO(),$O=(e,t)=>{let{$from:n,to:r}=e.selection,i,u=n.sharedDepth(r);return u==0?!1:(i=n.before(u),t&&t(e.tr.setSelection(Oe.create(e.doc,i))),!0)};function QO(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,u=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(u-1,u)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(u,u+1)||!(i.isTextblock||Ti(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function z2(e,t,n,r){let i=t.nodeBefore,u=t.nodeAfter,s,o,a=i.type.spec.isolating||u.type.spec.isolating;if(!a&&QO(e,t,n))return!0;let c=!a&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(s=(o=i.contentMatchAt(i.childCount)).findWrapping(u.type))&&o.matchType(s[0]||u.type).validEnd){if(n){let d=t.pos+u.nodeSize,m=ae.empty;for(let g=s.length-1;g>=0;g--)m=ae.from(s[g].create(null,m));m=ae.from(i.copy(m));let A=e.tr.step(new Zt(t.pos-1,d,t.pos,d,new Te(m,1,0),s.length,!0)),x=A.doc.resolve(d+2*s.length);x.nodeAfter&&x.nodeAfter.type==i.type&&Ti(A.doc,x.pos)&&A.join(x.pos),n(A.scrollIntoView())}return!0}let l=u.type.spec.isolating||r>0&&a?null:Fe.findFrom(t,1),f=l&&l.$from.blockRange(l.$to),h=f&&$u(f);if(h!=null&&h>=t.depth)return n&&n(e.tr.lift(f,h).scrollIntoView()),!0;if(c&&Bu(u,"start",!0)&&Bu(i,"end")){let d=i,m=[];for(;m.push(d),!d.isTextblock;)d=d.lastChild;let A=u,x=1;for(;!A.isTextblock;A=A.firstChild)x++;if(d.canReplace(d.childCount,d.childCount,A.content)){if(n){let g=ae.empty;for(let v=m.length-1;v>=0;v--)g=ae.from(m[v].copy(g));let b=e.tr.step(new Zt(t.pos-m.length,t.pos+u.nodeSize,t.pos+x,t.pos+u.nodeSize-x,new Te(g,m.length,0),0,!0));n(b.scrollIntoView())}return!0}}return!1}function G2(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,u=i.depth;for(;i.node(u).isInline;){if(!u)return!1;u--}return i.node(u).isTextblock?(n&&n(t.tr.setSelection(Re.create(t.doc,e<0?i.start(u):i.end(u)))),!0):!1}}const XO=G2(-1),JO=G2(1);function ZO(e,t=null){return function(n,r){let{$from:i,$to:u}=n.selection,s=i.blockRange(u),o=s&&E0(s,e,t);return o?(r&&r(n.tr.wrap(s,o).scrollIntoView()),!0):!1}}function xm(e,t=null){return function(n,r){let i=!1;for(let u=0;u<n.selection.ranges.length&&!i;u++){let{$from:{pos:s},$to:{pos:o}}=n.selection.ranges[u];n.doc.nodesBetween(s,o,(a,c)=>{if(i)return!1;if(!(!a.isTextblock||a.hasMarkup(e,t)))if(a.type==e)i=!0;else{let l=n.doc.resolve(c),f=l.index();i=l.parent.canReplaceWith(f,f+1,e)}})}if(!i)return!1;if(r){let u=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];u.setBlockType(o,a,e,t)}r(u.scrollIntoView())}return!0}}function N0(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}N0(y0,R2,P2);N0(y0,B2,F2);N0(H2,j2,U2,KO);typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform&&os.platform()=="darwin";function eD(e,t=null){return function(n,r){let{$from:i,$to:u}=n.selection,s=i.blockRange(u);if(!s)return!1;let o=r?n.tr:null;return tD(o,s,e,t)?(r&&r(o.scrollIntoView()),!0):!1}}function tD(e,t,n,r=null){let i=!1,u=t,s=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let a=s.resolve(t.start-2);u=new qo(a,a,t.depth),t.endIndex<t.parent.childCount&&(t=new qo(t.$from,s.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let o=E0(u,n,r,t);return o?(e&&nD(e,t,o,i,n),!0):!1}function nD(e,t,n,r,i){let u=ae.empty;for(let l=n.length-1;l>=0;l--)u=ae.from(n[l].type.create(n[l].attrs,u));e.step(new Zt(t.start-(r?2:0),t.end,t.start,t.end,new Te(u,0,0),n.length,!0));let s=0;for(let l=0;l<n.length;l++)n[l].type==i&&(s=l+1);let o=n.length-s,a=t.start+n.length-(r?2:0),c=t.parent;for(let l=t.startIndex,f=t.endIndex,h=!0;l<f;l++,h=!1)!h&&Ur(e.doc,a,o)&&(e.split(a,o),a+=2*o),a+=c.child(l).nodeSize;return e}function rD(e){return function(t,n){let{$from:r,$to:i}=t.selection,u=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==e);return u?n?r.node(u.depth-1).type==e?iD(t,n,e,u):uD(t,n,u):!0:!1}}function iD(e,t,n,r){let i=e.tr,u=r.end,s=r.$to.end(r.depth);u<s&&(i.step(new Zt(u-1,s,u,s,new Te(ae.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new qo(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const o=$u(r);if(o==null)return!1;i.lift(r,o);let a=i.doc.resolve(i.mapping.map(u,-1)-1);return Ti(i.doc,a.pos)&&a.nodeBefore.type==a.nodeAfter.type&&i.join(a.pos),t(i.scrollIntoView()),!0}function uD(e,t,n){let r=e.tr,i=n.parent;for(let d=n.end,m=n.endIndex-1,A=n.startIndex;m>A;m--)d-=i.child(m).nodeSize,r.delete(d-1,d+1);let u=r.doc.resolve(n.start),s=u.nodeAfter;if(r.mapping.map(n.end)!=n.start+u.nodeAfter.nodeSize)return!1;let o=n.startIndex==0,a=n.endIndex==i.childCount,c=u.node(-1),l=u.index(-1);if(!c.canReplace(l+(o?0:1),l+1,s.content.append(a?ae.empty:ae.from(i))))return!1;let f=u.pos,h=f+s.nodeSize;return r.step(new Zt(f-(o?1:0),h+(a?1:0),f+1,h-1,new Te((o?ae.empty:ae.from(i.copy(ae.empty))).append(a?ae.empty:ae.from(i.copy(ae.empty))),o?0:1,a?0:1),o?0:1)),t(r.scrollIntoView()),!0}function sD(e){return function(t,n){let{$from:r,$to:i}=t.selection,u=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==e);if(!u)return!1;let s=u.startIndex;if(s==0)return!1;let o=u.parent,a=o.child(s-1);if(a.type!=e)return!1;if(n){let c=a.lastChild&&a.lastChild.type==o.type,l=ae.from(c?e.create():null),f=new Te(ae.from(e.create(null,ae.from(o.type.create(null,l)))),c?3:1,0),h=u.start,d=u.end;n(t.tr.step(new Zt(h-(c?3:1),d,h,d,f,1,!0)).scrollIntoView())}return!0}}const un=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Fu=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let cf=null;const Pr=function(e,t,n){let r=cf||(cf=document.createRange());return r.setEnd(e,n==null?e.nodeValue.length:n),r.setStart(e,t||0),r},aD=function(){cf=null},Zi=function(e,t,n,r){return n&&(Cm(e,t,n,r,-1)||Cm(e,t,n,r,1))},oD=/^(img|br|input|textarea|hr)$/i;function Cm(e,t,n,r,i){for(var u;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Wn(e))){let s=e.parentNode;if(!s||s.nodeType!=1||Ca(e)||oD.test(e.nodeName)||e.contentEditable=="false")return!1;t=un(e)+(i<0?0:1),e=s}else if(e.nodeType==1){let s=e.childNodes[t+(i<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((u=s.pmViewDesc)===null||u===void 0)&&u.ignoreForSelection)t+=i;else return!1;else e=s,t=i<0?Wn(e):0}else return!1}}function Wn(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function lD(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Wn(e)}else if(e.parentNode&&!Ca(e))t=un(e),e=e.parentNode;else return null}}function cD(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Ca(e))t=un(e)+1,e=e.parentNode;else return null}}function dD(e,t,n){for(let r=t==0,i=t==Wn(e);r||i;){if(e==n)return!0;let u=un(e);if(e=e.parentNode,!e)return!1;r=r&&u==0,i=i&&u==Wn(e)}}function Ca(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Yl=function(e){return e.focusNode&&Zi(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Fi(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function fD(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function hD(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(Wn(r.offsetNode),r.offset)}}catch(r){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(Wn(r.startContainer),r.startOffset)}}}const Er=typeof navigator!="undefined"?navigator:null,Nm=typeof document!="undefined"?document:null,_i=Er&&Er.userAgent||"",df=/Edge\/(\d+)/.exec(_i),q2=/MSIE \d/.exec(_i),ff=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(_i),wn=!!(q2||ff||df),di=q2?document.documentMode:ff?+ff[1]:df?+df[1]:0,Kn=!wn&&/gecko\/(\d+)/i.test(_i);Kn&&+(/Firefox\/(\d+)/.exec(_i)||[0,0])[1];const hf=!wn&&/Chrome\/(\d+)/.exec(_i),Jt=!!hf,V2=hf?+hf[1]:0,cn=!wn&&!!Er&&/Apple Computer/.test(Er.vendor),Hu=cn&&(/Mobile\/\w+/.test(_i)||!!Er&&Er.maxTouchPoints>2),Gn=Hu||(Er?/Mac/.test(Er.platform):!1),W2=Er?/Win/.test(Er.platform):!1,Hr=/Android \d/.test(_i),Na=!!Nm&&"webkitFontSmoothing"in Nm.documentElement.style,pD=Na?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function mD(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Cr(e,t){return typeof e=="number"?e:e[t]}function gD(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function Sm(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,u=e.dom.ownerDocument;for(let s=n||e.dom;s;){if(s.nodeType!=1){s=Fu(s);continue}let o=s,a=o==u.body,c=a?mD(u):gD(o),l=0,f=0;if(t.top<c.top+Cr(r,"top")?f=-(c.top-t.top+Cr(i,"top")):t.bottom>c.bottom-Cr(r,"bottom")&&(f=t.bottom-t.top>c.bottom-c.top?t.top+Cr(i,"top")-c.top:t.bottom-c.bottom+Cr(i,"bottom")),t.left<c.left+Cr(r,"left")?l=-(c.left-t.left+Cr(i,"left")):t.right>c.right-Cr(r,"right")&&(l=t.right-c.right+Cr(i,"right")),l||f)if(a)u.defaultView.scrollBy(l,f);else{let d=o.scrollLeft,m=o.scrollTop;f&&(o.scrollTop+=f),l&&(o.scrollLeft+=l);let A=o.scrollLeft-d,x=o.scrollTop-m;t={left:t.left-A,top:t.top-x,right:t.right-A,bottom:t.bottom-x}}let h=a?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(h))break;s=h=="absolute"?s.offsetParent:Fu(s)}}function bD(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let u=(t.left+t.right)/2,s=n+1;s<Math.min(innerHeight,t.bottom);s+=5){let o=e.root.elementFromPoint(u,s);if(!o||o==e.dom||!e.dom.contains(o))continue;let a=o.getBoundingClientRect();if(a.top>=n-20){r=o,i=a.top;break}}return{refDOM:r,refTop:i,stack:Y2(e.dom)}}function Y2(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Fu(r));return t}function ED({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;K2(n,r==0?0:r-t)}function K2(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:u}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=u&&(r.scrollLeft=u)}}let pu=null;function TD(e){if(e.setActive)return e.setActive();if(pu)return e.focus(pu);let t=Y2(e);e.focus(pu==null?{get preventScroll(){return pu={preventScroll:!0},!0}}:void 0),pu||(pu=!1,K2(t,0))}function $2(e,t){let n,r=2e8,i,u=0,s=t.top,o=t.top,a,c;for(let l=e.firstChild,f=0;l;l=l.nextSibling,f++){let h;if(l.nodeType==1)h=l.getClientRects();else if(l.nodeType==3)h=Pr(l).getClientRects();else continue;for(let d=0;d<h.length;d++){let m=h[d];if(m.top<=s&&m.bottom>=o){s=Math.max(m.bottom,s),o=Math.min(m.top,o);let A=m.left>t.left?m.left-t.left:m.right<t.left?t.left-m.right:0;if(A<r){n=l,r=A,i=A&&n.nodeType==3?{left:m.right<t.left?m.right:m.left,top:t.top}:t,l.nodeType==1&&A&&(u=f+(t.left>=(m.left+m.right)/2?1:0));continue}}else m.top>t.top&&!a&&m.left<=t.left&&m.right>=t.left&&(a=l,c={left:Math.max(m.left,Math.min(m.right,t.left)),top:m.top});!n&&(t.left>=m.right&&t.top>=m.top||t.left>=m.left&&t.top>=m.bottom)&&(u=f+1)}}return!n&&a&&(n=a,i=c,r=0),n&&n.nodeType==3?_D(n,i):!n||r&&n.nodeType==1?{node:e,offset:u}:$2(n,i)}function _D(e,t){let n=e.nodeValue.length,r=document.createRange(),i;for(let u=0;u<n;u++){r.setEnd(e,u+1),r.setStart(e,u);let s=Zr(r,1);if(s.top!=s.bottom&&S0(t,s)){i={node:e,offset:u+(t.left>=(s.left+s.right)/2?1:0)};break}}return r.detach(),i||{node:e,offset:0}}function S0(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function yD(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function AD(e,t,n){let{node:r,offset:i}=$2(t,n),u=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();u=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,i,u)}function xD(e,t,n,r){let i=-1;for(let u=t,s=!1;u!=e.dom;){let o=e.docView.nearestDesc(u,!0),a;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((a=o.dom.getBoundingClientRect()).width||a.height)&&(o.node.isBlock&&o.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(o.dom.nodeName)&&(!s&&a.left>r.left||a.top>r.top?i=o.posBefore:(!s&&a.right<r.left||a.bottom<r.top)&&(i=o.posAfter),s=!0),!o.contentDOM&&i<0&&!o.node.isText))return(o.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?o.posBefore:o.posAfter;u=o.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function Q2(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),u=i;;){let s=e.childNodes[u];if(s.nodeType==1){let o=s.getClientRects();for(let a=0;a<o.length;a++){let c=o[a];if(S0(t,c))return Q2(s,t,c)}}if((u=(u+1)%r)==i)break}return e}function CD(e,t){let n=e.dom.ownerDocument,r,i=0,u=hD(n,t.left,t.top);u&&({node:r,offset:i}=u);let s=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),o;if(!s||!e.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=e.dom.getBoundingClientRect();if(!S0(t,c)||(s=Q2(e.dom,t,c),!s))return null}if(cn)for(let c=s;r&&c;c=Fu(c))c.draggable&&(r=void 0);if(s=yD(s,t),r){if(Kn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let l=r.childNodes[i],f;l.nodeName=="IMG"&&(f=l.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&i++}let c;Na&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?o=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(o=xD(e,r,i,t))}o==null&&(o=AD(e,s,t));let a=e.docView.nearestDesc(s,!0);return{pos:o,inside:a?a.posAtStart-a.border:-1}}function Im(e){return e.top<e.bottom||e.left<e.right}function Zr(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(Im(r))return r}return Array.prototype.find.call(n,Im)||e.getBoundingClientRect()}const ND=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function X2(e,t,n){let{node:r,offset:i,atom:u}=e.docView.domFromPos(t,n<0?-1:1),s=Na||Kn;if(r.nodeType==3)if(s&&(ND.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let a=Zr(Pr(r,i,i),n);if(Kn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Zr(Pr(r,i-1,i-1),-1);if(c.top==a.top){let l=Zr(Pr(r,i,i+1),-1);if(l.top!=a.top)return as(l,l.left<c.left)}}return a}else{let a=i,c=i,l=n<0?1:-1;return n<0&&!i?(c++,l=-1):n>=0&&i==r.nodeValue.length?(a--,l=1):n<0?a--:c++,as(Zr(Pr(r,a,c),l),l<0)}if(!e.state.doc.resolve(t-(u||0)).parent.inlineContent){if(u==null&&i&&(n<0||i==Wn(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return Kc(a.getBoundingClientRect(),!1)}if(u==null&&i<Wn(r)){let a=r.childNodes[i];if(a.nodeType==1)return Kc(a.getBoundingClientRect(),!0)}return Kc(r.getBoundingClientRect(),n>=0)}if(u==null&&i&&(n<0||i==Wn(r))){let a=r.childNodes[i-1],c=a.nodeType==3?Pr(a,Wn(a)-(s?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(c)return as(Zr(c,1),!1)}if(u==null&&i<Wn(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let c=a?a.nodeType==3?Pr(a,0,s?0:1):a.nodeType==1?a:null:null;if(c)return as(Zr(c,-1),!0)}return as(Zr(r.nodeType==3?Pr(r):r,-n),n>=0)}function as(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Kc(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function J2(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function SD(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return J2(e,t,()=>{let{node:u}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let o=e.docView.nearestDesc(u,!0);if(!o)break;if(o.node.isBlock){u=o.contentDOM||o.dom;break}u=o.dom.parentNode}let s=X2(e,i.pos,1);for(let o=u.firstChild;o;o=o.nextSibling){let a;if(o.nodeType==1)a=o.getClientRects();else if(o.nodeType==3)a=Pr(o,0,o.nodeValue.length).getClientRects();else continue;for(let c=0;c<a.length;c++){let l=a[c];if(l.bottom>l.top+1&&(n=="up"?s.top-l.top>(l.bottom-s.top)*2:l.bottom-s.bottom>(s.bottom-l.top)*2))return!1}}return!0})}const ID=/[\u0590-\u08ac]/;function vD(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,u=!i,s=i==r.parent.content.size,o=e.domSelection();return o?!ID.test(r.parent.textContent)||!o.modify?n=="left"||n=="backward"?u:s:J2(e,t,()=>{let{focusNode:a,focusOffset:c,anchorNode:l,anchorOffset:f}=e.domSelectionRange(),h=o.caretBidiLevel;o.modify("move",n,"character");let d=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:m,focusOffset:A}=e.domSelectionRange(),x=m&&!d.contains(m.nodeType==1?m:m.parentNode)||a==m&&c==A;try{o.collapse(l,f),a&&(a!=l||c!=f)&&o.extend&&o.extend(a,c)}catch(g){}return h!=null&&(o.caretBidiLevel=h),x}):r.pos==r.start()||r.pos==r.end()}let vm=null,km=null,wm=!1;function kD(e,t,n){return vm==t&&km==n?wm:(vm=t,km=n,wm=n=="up"||n=="down"?SD(e,t,n):vD(e,t,n))}const $n=0,Om=1,ji=2,Tr=3;class Sa{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=$n,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let u,s;if(t==this.contentDOM)u=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;u=t.previousSibling}for(;u&&!((s=u.pmViewDesc)&&s.parent==this);)u=u.previousSibling;return u?this.posBeforeChild(s)+s.size:this.posAtStart}else{let u,s;if(t==this.contentDOM)u=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;u=t.nextSibling}for(;u&&!((s=u.pmViewDesc)&&s.parent==this);)u=u.nextSibling;return u?this.posBeforeChild(s):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>un(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let u=t;;u=u.parentNode){if(u==this.dom){i=!1;break}if(u.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let u=t;;u=u.parentNode){if(u==this.dom){i=!0;break}if(u.nextSibling)break}}return(i==null?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let u=this.getDesc(i),s;if(u&&(!n||u.node))if(r&&(s=u.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))r=!1;else return u}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let u=this.getDesc(i);if(u)return u.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],u=r+i.size;if(r==t&&u!=r){for(;!i.border&&i.children.length;)for(let s=0;s<i.children.length;s++){let o=i.children[s];if(o.size){i=o;break}}return i}if(t<u)return i.descAt(t-r-i.border);r=u}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let u=0;r<this.children.length;r++){let s=this.children[r],o=u+s.size;if(o>t||s instanceof e3){i=t-u;break}u=o}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let u;r&&!(u=this.children[r-1]).size&&u instanceof Z2&&u.side>=0;r--);if(n<=0){let u,s=!0;for(;u=r?this.children[r-1]:null,!(!u||u.dom.parentNode==this.contentDOM);r--,s=!1);return u&&n&&s&&!u.border&&!u.domAtom?u.domFromPos(u.size,n):{node:this.contentDOM,offset:u?un(u.dom)+1:0}}else{let u,s=!0;for(;u=r<this.children.length?this.children[r]:null,!(!u||u.dom.parentNode==this.contentDOM);r++,s=!1);return u&&s&&!u.border&&!u.domAtom?u.domFromPos(0,n):{node:this.contentDOM,offset:u?un(u.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,u=-1;for(let s=r,o=0;;o++){let a=this.children[o],c=s+a.size;if(i==-1&&t<=c){let l=s+a.border;if(t>=l&&n<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,n,l);t=s;for(let f=o;f>0;f--){let h=this.children[f-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=un(h.dom)+1;break}t-=h.size}i==-1&&(i=0)}if(i>-1&&(c>n||o==this.children.length-1)){n=c;for(let l=o+1;l<this.children.length;l++){let f=this.children[l];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){u=un(f.dom);break}n+=f.size}u==-1&&(u=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:u}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let u=Math.min(t,n),s=Math.max(t,n);for(let d=0,m=0;d<this.children.length;d++){let A=this.children[d],x=m+A.size;if(u>m&&s<x)return A.setSelection(t-m-A.border,n-m-A.border,r,i);m=x}let o=this.domFromPos(t,t?-1:1),a=n==t?o:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),l=r.domSelectionRange(),f=!1;if((Kn||cn)&&t==n){let{node:d,offset:m}=o;if(d.nodeType==3){if(f=!!(m&&d.nodeValue[m-1]==`
`),f&&m==d.nodeValue.length)for(let A=d,x;A;A=A.parentNode){if(x=A.nextSibling){x.nodeName=="BR"&&(o=a={node:x.parentNode,offset:un(x)+1});break}let g=A.pmViewDesc;if(g&&g.node&&g.node.isBlock)break}}else{let A=d.childNodes[m-1];f=A&&(A.nodeName=="BR"||A.contentEditable=="false")}}if(Kn&&l.focusNode&&l.focusNode!=a.node&&l.focusNode.nodeType==1){let d=l.focusNode.childNodes[l.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||f&&cn)&&Zi(o.node,o.offset,l.anchorNode,l.anchorOffset)&&Zi(a.node,a.offset,l.focusNode,l.focusOffset))return;let h=!1;if((c.extend||t==n)&&!(f&&Kn)){c.collapse(o.node,o.offset);try{t!=n&&c.extend(a.node,a.offset),h=!0}catch(d){}}if(!h){if(t>n){let m=o;o=a,a=m}let d=document.createRange();d.setEnd(a.node,a.offset),d.setStart(o.node,o.offset),c.removeAllRanges(),c.addRange(d)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let u=this.children[i],s=r+u.size;if(r==s?t<=s&&n>=r:t<s&&n>r){let o=r+u.border,a=s-u.border;if(t>=o&&n<=a){this.dirty=t==r||n==s?ji:Om,t==o&&n==a&&(u.contentLost||u.dom.parentNode!=this.contentDOM)?u.dirty=Tr:u.markDirty(t-o,n-o);return}else u.dirty=u.dom==u.contentDOM&&u.dom.parentNode==this.contentDOM&&!u.children.length?ji:Tr}r=s}this.dirty=ji}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?ji:Om;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class Z2 extends Sa{constructor(t,n,r,i){let u,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!u)return i;if(u.parent)return u.parent.posBeforeChild(u)})),!n.type.spec.raw){if(s.nodeType!=1){let o=document.createElement("span");o.appendChild(s),s=o}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=n,this.widget=n,u=this}matchesWidget(t){return this.dirty==$n&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class wD extends Sa{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class eu extends Sa{constructor(t,n,r,i,u){super(t,[],r,i),this.mark=n,this.spec=u}static create(t,n,r,i){let u=i.nodeViews[n.type.name],s=u&&u(n,i,r);return(!s||!s.dom)&&(s=su.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new eu(t,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Tr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Tr&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=$n){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=$n}}slice(t,n,r){let i=eu.create(this.parent,this.mark,!0,r),u=this.children,s=this.size;n<s&&(u=mf(u,n,s,r)),t>0&&(u=mf(u,0,t,r));for(let o=0;o<u.length;o++)u[o].parent=i;return i.children=u,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class fi extends Sa{constructor(t,n,r,i,u,s,o,a,c){super(t,[],u,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=o}static create(t,n,r,i,u,s){let o=u.nodeViews[n.type.name],a,c=o&&o(n,u,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)},r,i),l=c&&c.dom,f=c&&c.contentDOM;if(n.isText){if(!l)l=document.createTextNode(n.text);else if(l.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else l||({dom:l,contentDOM:f}=su.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&l.nodeName!="BR"&&(l.hasAttribute("contenteditable")||(l.contentEditable="false"),n.type.spec.draggable&&(l.draggable=!0));let h=l;return l=r3(l,r,n),c?a=new OD(t,n,r,i,l,f||null,h,c,u,s+1):n.isText?new Kl(t,n,r,i,l,h,u):new fi(t,n,r,i,l,f||null,h,u,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>ae.empty)}return t}matchesNode(t,n,r){return this.dirty==$n&&t.eq(this.node)&&Wo(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,u=t.composing?this.localCompositionInfo(t,n):null,s=u&&u.pos>-1?u:null,o=u&&u.pos<0,a=new RD(this,s&&s.node,t);MD(this.node,this.innerDeco,(c,l,f)=>{c.spec.marks?a.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!f&&a.syncToMarks(l==this.node.childCount?dt.none:this.node.child(l).marks,r,t),a.placeWidget(c,t,i)},(c,l,f,h)=>{a.syncToMarks(c.marks,r,t);let d;a.findNodeMatch(c,l,f,h)||o&&t.state.selection.from>i&&t.state.selection.to<i+c.nodeSize&&(d=a.findIndexWithChild(u.node))>-1&&a.updateNodeAt(c,l,f,d,t)||a.updateNextNode(c,l,f,t,h,i)||a.addNode(c,l,f,t,i),i+=c.nodeSize}),a.syncToMarks([],r,t),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==ji)&&(s&&this.protectLocalComposition(t,s),t3(this.contentDOM,this.children,t),Hu&&BD(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Re)||r<n||i>n+this.node.content.size)return null;let u=t.input.compositionNode;if(!u||!this.dom.contains(u.parentNode))return null;if(this.node.inlineContent){let s=u.nodeValue,o=FD(this.node.content,s,r-n,i-n);return o<0?null:{node:u,pos:o,text:s}}else return{node:u,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let u=n;for(;u.parentNode!=this.contentDOM;u=u.parentNode){for(;u.previousSibling;)u.parentNode.removeChild(u.previousSibling);for(;u.nextSibling;)u.parentNode.removeChild(u.nextSibling);u.pmViewDesc&&(u.pmViewDesc=void 0)}let s=new wD(this,u,n,i);t.input.compositionNodes.push(s),this.children=mf(this.children,r,r+i.length,t,s)}update(t,n,r,i){return this.dirty==Tr||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=$n}updateOuterDeco(t){if(Wo(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=n3(this.dom,this.nodeDOM,pf(this.outerDeco,this.node,n),pf(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Dm(e,t,n,r,i){r3(r,t,e);let u=new fi(void 0,e,t,n,r,r,r,i,0);return u.contentDOM&&u.updateChildren(i,0),u}class Kl extends fi{constructor(t,n,r,i,u,s,o){super(t,n,r,i,u,null,s,o,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==Tr||this.dirty!=$n&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=$n||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=$n,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),u=document.createTextNode(i.text);return new Kl(this.parent,i,this.outerDeco,this.innerDeco,u,u,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Tr)}get domAtom(){return!1}isText(t){return this.node.text==t}}class e3 extends Sa{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==$n&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class OD extends fi{constructor(t,n,r,i,u,s,o,a,c,l){super(t,n,r,i,u,s,o,c,l),this.spec=a}update(t,n,r,i){if(this.dirty==Tr)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let u=this.spec.update(t,n,r);return u&&this.updateInner(t,n,r,i),u}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function t3(e,t,n){let r=e.firstChild,i=!1;for(let u=0;u<t.length;u++){let s=t[u],o=s.dom;if(o.parentNode==e){for(;o!=r;)r=Rm(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(o,r);if(s instanceof eu){let a=r?r.previousSibling:e.lastChild;t3(s.contentDOM,s.children,n),r=a?a.nextSibling:e.firstChild}}for(;r;)r=Rm(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const Ys=function(e){e&&(this.nodeName=e)};Ys.prototype=Object.create(null);const Ui=[new Ys];function pf(e,t,n){if(e.length==0)return Ui;let r=n?Ui[0]:new Ys,i=[r];for(let u=0;u<e.length;u++){let s=e[u].type.attrs;if(s){s.nodeName&&i.push(r=new Ys(s.nodeName));for(let o in s){let a=s[o];a!=null&&(n&&i.length==1&&i.push(r=new Ys(t.isInline?"span":"div")),o=="class"?r.class=(r.class?r.class+" ":"")+a:o=="style"?r.style=(r.style?r.style+";":"")+a:o!="nodeName"&&(r[o]=a))}}}return i}function n3(e,t,n,r){if(n==Ui&&r==Ui)return t;let i=t;for(let u=0;u<r.length;u++){let s=r[u],o=n[u];if(u){let a;o&&o.nodeName==s.nodeName&&i!=e&&(a=i.parentNode)&&a.nodeName.toLowerCase()==s.nodeName||(a=document.createElement(s.nodeName),a.pmIsDeco=!0,a.appendChild(i),o=Ui[0]),i=a}DD(i,o||Ui[0],s)}return i}function DD(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let u=0;u<r.length;u++)i.indexOf(r[u])==-1&&e.classList.remove(r[u]);for(let u=0;u<i.length;u++)r.indexOf(i[u])==-1&&e.classList.add(i[u]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function r3(e,t,n){return n3(e,e,Ui,pf(t,n,e.nodeType!=1))}function Wo(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Rm(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class RD{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=LD(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,u=this.stack.length>>1,s=Math.min(u,t.length);for(;i<s&&(i==u-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<u;)this.destroyRest(),this.top.dirty=$n,this.index=this.stack.pop(),this.top=this.stack.pop(),u--;for(;u<t.length;){this.stack.push(this.top,this.index+1);let o=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let c=this.top.children[a];if(c.matchesMark(t[u])&&!this.isLocked(c.dom)){o=a;break}}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let a=eu.create(this.top,t[u],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,u++}}findNodeMatch(t,n,r,i){let u=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(t,n,r))u=this.top.children.indexOf(s,this.index);else for(let o=this.index,a=Math.min(this.top.children.length,o+5);o<a;o++){let c=this.top.children[o];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){u=o;break}}return u<0?!1:(this.destroyBetween(this.index,u),this.index++,!0)}updateNodeAt(t,n,r,i,u){let s=this.top.children[i];return s.dirty==Tr&&s.dom==s.contentDOM&&(s.dirty=ji),s.update(t,n,r,u)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,u,s){for(let o=this.index;o<this.top.children.length;o++){let a=this.top.children[o];if(a instanceof fi){let c=this.preMatch.matched.get(a);if(c!=null&&c!=u)return!1;let l=a.dom,f,h=this.isLocked(l)&&!(t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&a.dirty!=Tr&&Wo(n,a.outerDeco));if(!h&&a.update(t,n,r,i))return this.destroyBetween(this.index,o),a.dom!=l&&(this.changed=!0),this.index++,!0;if(!h&&(f=this.recreateWrapper(a,t,n,r,i,s)))return this.destroyBetween(this.index,o),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=ji,f.updateChildren(i,s+1),f.dirty=$n),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,u,s){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!Wo(r,t.outerDeco)||!i.eq(t.innerDeco))return null;let o=fi.create(this.top,n,r,i,u,s);if(o.contentDOM){o.children=t.children,t.children=[];for(let a of o.children)a.parent=o}return t.destroy(),o}addNode(t,n,r,i,u){let s=fi.create(this.top,t,n,r,i,u);s.contentDOM&&s.updateChildren(i,u+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let u=new Z2(this.top,t,n,r);this.top.children.splice(this.index++,0,u),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof eu;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof Kl)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((cn||Jt)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new e3(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function LD(e,t){let n=t,r=n.children.length,i=e.childCount,u=new Map,s=[];e:for(;i>0;){let o;for(;;)if(r){let c=n.children[r-1];if(c instanceof eu)n=c,r=c.children.length;else{o=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=o.node;if(a){if(a!=e.child(i-1))break;--i,u.set(o,i),s.push(o)}}return{index:i,matched:u,matches:s.reverse()}}function PD(e,t){return e.type.side-t.type.side}function MD(e,t,n,r){let i=t.locals(e),u=0;if(i.length==0){for(let c=0;c<e.childCount;c++){let l=e.child(c);r(l,i,t.forChild(u,l),c),u+=l.nodeSize}return}let s=0,o=[],a=null;for(let c=0;;){let l,f;for(;s<i.length&&i[s].to==u;){let x=i[s++];x.widget&&(l?(f||(f=[l])).push(x):l=x)}if(l)if(f){f.sort(PD);for(let x=0;x<f.length;x++)n(f[x],c,!!a)}else n(l,c,!!a);let h,d;if(a)d=-1,h=a,a=null;else if(c<e.childCount)d=c,h=e.child(c++);else break;for(let x=0;x<o.length;x++)o[x].to<=u&&o.splice(x--,1);for(;s<i.length&&i[s].from<=u&&i[s].to>u;)o.push(i[s++]);let m=u+h.nodeSize;if(h.isText){let x=m;s<i.length&&i[s].from<x&&(x=i[s].from);for(let g=0;g<o.length;g++)o[g].to<x&&(x=o[g].to);x<m&&(a=h.cut(x-u),h=h.cut(0,x-u),m=x,d=-1)}else for(;s<i.length&&i[s].to<m;)s++;let A=h.isInline&&!h.isLeaf?o.filter(x=>!x.inline):o.slice();r(h,A,t.forChild(u,h),d),u=m}}function BD(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function FD(e,t,n,r){for(let i=0,u=0;i<e.childCount&&u<=r;){let s=e.child(i++),o=u;if(u+=s.nodeSize,!s.isText)continue;let a=s.text;for(;i<e.childCount;){let c=e.child(i++);if(u+=c.nodeSize,!c.isText)break;a+=c.text}if(u>=n){if(u>=r&&a.slice(r-t.length-o,r-o)==t)return r-t.length;let c=o<r?a.lastIndexOf(t,r-o-1):-1;if(c>=0&&c+t.length+o>=n)return o+c;if(n==r&&a.length>=r+t.length-o&&a.slice(r-o,r-o+t.length)==t)return r}}return-1}function mf(e,t,n,r,i){let u=[];for(let s=0,o=0;s<e.length;s++){let a=e[s],c=o,l=o+=a.size;c>=n||l<=t?u.push(a):(c<t&&u.push(a.slice(0,t-c,r)),i&&(u.push(i),i=void 0),l>n&&u.push(a.slice(n-c,a.size,r)))}return u}function I0(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),u=i&&i.size==0,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let o=r.resolve(s),a,c;if(Yl(n)){for(a=s;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&Oe.isSelectable(f)&&i.parent&&!(f.isInline&&dD(n.focusNode,n.focusOffset,i.dom))){let h=i.posBefore;c=new Oe(s==h?o:r.resolve(h))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=s,h=s;for(let d=0;d<n.rangeCount;d++){let m=n.getRangeAt(d);f=Math.min(f,e.docView.posFromDOM(m.startContainer,m.startOffset,1)),h=Math.max(h,e.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(f<0)return null;[a,s]=h==e.state.selection.anchor?[h,f]:[f,h],o=r.resolve(s)}else a=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(a<0)return null}let l=r.resolve(a);if(!c){let f=t=="pointer"||e.state.selection.head<o.pos&&!u?1:-1;c=v0(e,l,o,f)}return c}function i3(e){return e.editable?e.hasFocus():s3(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function zr(e,t=!1){let n=e.state.selection;if(u3(e,n),!!i3(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Jt){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Zi(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)jD(e);else{let{anchor:r,head:i}=n,u,s;Lm&&!(n instanceof Re)&&(n.$from.parent.inlineContent||(u=Pm(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=Pm(e,n.to))),e.docView.setSelection(r,i,e,t),Lm&&(u&&Mm(u),s&&Mm(s)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&HD(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Lm=cn||Jt&&V2<63;function Pm(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,u=r?n.childNodes[r-1]:null;if(cn&&i&&i.contentEditable=="false")return $c(i);if((!i||i.contentEditable=="false")&&(!u||u.contentEditable=="false")){if(i)return $c(i);if(u)return $c(u)}}function $c(e){return e.contentEditable="true",cn&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Mm(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function HD(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!i3(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function jD(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,un(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&wn&&di<=11&&(n.disabled=!0,n.disabled=!1)}function u3(e,t){if(t instanceof Oe){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Bm(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Bm(e)}function Bm(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function v0(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||Re.between(t,n,r)}function Fm(e){return e.editable&&!e.hasFocus()?!1:s3(e)}function s3(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function UD(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Zi(t.node,t.offset,n.anchorNode,n.anchorOffset)}function gf(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),u=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return u&&Fe.findFrom(u,t)}function ei(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Hm(e,t,n){let r=e.state.selection;if(r instanceof Re)if(n.indexOf("s")>-1){let{$head:i}=r,u=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!u||u.isText||!u.isLeaf)return!1;let s=e.state.doc.resolve(i.pos+u.nodeSize*(t<0?-1:1));return ei(e,new Re(r.$anchor,s))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=gf(e.state,t);return i&&i instanceof Oe?ei(e,i):!1}else if(!(Gn&&n.indexOf("m")>-1)){let i=r.$head,u=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,s;if(!u||u.isText)return!1;let o=t<0?i.pos-u.nodeSize:i.pos;return u.isAtom||(s=e.docView.descAt(o))&&!s.contentDOM?Oe.isSelectable(u)?ei(e,new Oe(t<0?e.state.doc.resolve(i.pos-u.nodeSize):i)):Na?ei(e,new Re(e.state.doc.resolve(t<0?o:o+u.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Oe&&r.node.isInline)return ei(e,new Re(t>0?r.$to:r.$from));{let i=gf(e.state,t);return i?ei(e,i):!1}}}function Yo(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Ks(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function mu(e,t){return t<0?zD(e):GD(e)}function zD(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,u,s=!1;for(Kn&&n.nodeType==1&&r<Yo(n)&&Ks(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let o=n.childNodes[r-1];if(Ks(o,-1))i=n,u=--r;else if(o.nodeType==3)n=o,r=n.nodeValue.length;else break}}else{if(a3(n))break;{let o=n.previousSibling;for(;o&&Ks(o,-1);)i=n.parentNode,u=un(o),o=o.previousSibling;if(o)n=o,r=Yo(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?bf(e,n,r):i&&bf(e,i,u)}function GD(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=Yo(n),u,s;for(;;)if(r<i){if(n.nodeType!=1)break;let o=n.childNodes[r];if(Ks(o,1))u=n,s=++r;else break}else{if(a3(n))break;{let o=n.nextSibling;for(;o&&Ks(o,1);)u=o.parentNode,s=un(o)+1,o=o.nextSibling;if(o)n=o,r=0,i=Yo(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}u&&bf(e,u,s)}function a3(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function qD(e,t){for(;e&&t==e.childNodes.length&&!Ca(e);)t=un(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function VD(e,t){for(;e&&!t&&!Ca(e);)t=un(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function bf(e,t,n){if(t.nodeType!=3){let u,s;(s=qD(t,n))?(t=s,n=0):(u=VD(t,n))&&(t=u,n=u.nodeValue.length)}let r=e.domSelection();if(!r)return;if(Yl(r)){let u=document.createRange();u.setEnd(t,n),u.setStart(t,n),r.removeAllRanges(),r.addRange(u)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&zr(e)},50)}function jm(e,t){let n=e.state.doc.resolve(t);if(!(Jt||W2)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let u=e.coordsAtPos(t-1),s=(u.top+u.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(u.left-i.left)>1)return u.left<i.left?"ltr":"rtl"}if(t<n.end()){let u=e.coordsAtPos(t+1),s=(u.top+u.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(u.left-i.left)>1)return u.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function Um(e,t,n){let r=e.state.selection;if(r instanceof Re&&!r.empty||n.indexOf("s")>-1||Gn&&n.indexOf("m")>-1)return!1;let{$from:i,$to:u}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let s=gf(e.state,t);if(s&&s instanceof Oe)return ei(e,s)}if(!i.parent.inlineContent){let s=t<0?i:u,o=r instanceof jn?Fe.near(s,t):Fe.findFrom(s,t);return o?ei(e,o):!1}return!1}function zm(e,t){if(!(e.state.selection instanceof Re))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let u=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(u&&!u.isText){let s=e.state.tr;return t<0?s.delete(n.pos-u.nodeSize,n.pos):s.delete(n.pos,n.pos+u.nodeSize),e.dispatch(s),!0}return!1}function Gm(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function WD(e){if(!cn||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;Gm(e,r,"true"),setTimeout(()=>Gm(e,r,"false"),20)}return!1}function YD(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function KD(e,t){let n=t.keyCode,r=YD(t);if(n==8||Gn&&n==72&&r=="c")return zm(e,-1)||mu(e,-1);if(n==46&&!t.shiftKey||Gn&&n==68&&r=="c")return zm(e,1)||mu(e,1);if(n==13||n==27)return!0;if(n==37||Gn&&n==66&&r=="c"){let i=n==37?jm(e,e.state.selection.from)=="ltr"?-1:1:-1;return Hm(e,i,r)||mu(e,i)}else if(n==39||Gn&&n==70&&r=="c"){let i=n==39?jm(e,e.state.selection.from)=="ltr"?1:-1:1;return Hm(e,i,r)||mu(e,i)}else{if(n==38||Gn&&n==80&&r=="c")return Um(e,-1,r)||mu(e,-1);if(n==40||Gn&&n==78&&r=="c")return WD(e)||Um(e,1,r)||mu(e,1);if(r==(Gn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function k0(e,t){e.someProp("transformCopied",d=>{t=d(t,e)});let n=[],{content:r,openStart:i,openEnd:u}=t;for(;i>1&&u>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,u--;let d=r.firstChild;n.push(d.type.name,d.attrs!=d.type.defaultAttrs?d.attrs:null),r=d.content}let s=e.someProp("clipboardSerializer")||su.fromSchema(e.state.schema),o=h3(),a=o.createElement("div");a.appendChild(s.serializeFragment(r,{document:o}));let c=a.firstChild,l,f=0;for(;c&&c.nodeType==1&&(l=f3[c.nodeName.toLowerCase()]);){for(let d=l.length-1;d>=0;d--){let m=o.createElement(l[d]);for(;a.firstChild;)m.appendChild(a.firstChild);a.appendChild(m),f++}c=a.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${u}${f?` -${f}`:""} ${JSON.stringify(n)}`);let h=e.someProp("clipboardTextSerializer",d=>d(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:a,text:h,slice:t}}function o3(e,t,n,r,i){let u=i.parent.type.spec.code,s,o;if(!n&&!t)return null;let a=!!t&&(r||u||!n);if(a){if(e.someProp("transformPastedText",h=>{t=h(t,u||r,e)}),u)return o=new Te(ae.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",h=>{o=h(o,e,!0)}),o;let f=e.someProp("clipboardTextParser",h=>h(t,i,r,e));if(f)o=f;else{let h=i.marks(),{schema:d}=e.state,m=su.fromSchema(d);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(A=>{let x=s.appendChild(document.createElement("p"));A&&x.appendChild(m.serializeNode(d.text(A,h)))})}}else e.someProp("transformPastedHTML",f=>{n=f(n,e)}),s=JD(n),Na&&ZD(s);let c=s&&s.querySelector("[data-pm-slice]"),l=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(l&&l[3])for(let f=+l[3];f>0;f--){let h=s.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;s=h}if(o||(o=(e.someProp("clipboardParser")||e.someProp("domParser")||Vs.fromSchema(e.state.schema)).parseSlice(s,{preserveWhitespace:!!(a||l),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!$D.test(h.parentNode.nodeName)?{ignore:!0}:null}})),l)o=e5(qm(o,+l[1],+l[2]),l[4]);else if(o=Te.maxOpen(QD(o.content,i),!0),o.openStart||o.openEnd){let f=0,h=0;for(let d=o.content.firstChild;f<o.openStart&&!d.type.spec.isolating;f++,d=d.firstChild);for(let d=o.content.lastChild;h<o.openEnd&&!d.type.spec.isolating;h++,d=d.lastChild);o=qm(o,f,h)}return e.someProp("transformPasted",f=>{o=f(o,e,a)}),o}const $D=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function QD(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),u,s=[];if(e.forEach(o=>{if(!s)return;let a=i.findWrapping(o.type),c;if(!a)return s=null;if(c=s.length&&u.length&&c3(a,u,o,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=d3(s[s.length-1],u.length));let l=l3(o,a);s.push(l),i=i.matchType(l.type),u=a}}),s)return ae.from(s)}return e}function l3(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,ae.from(e));return e}function c3(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let u=c3(e,t,n,r.lastChild,i+1);if(u)return r.copy(r.content.replaceChild(r.childCount-1,u));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(ae.from(l3(n,e,i+1))))}}function d3(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,d3(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(ae.empty,!0);return e.copy(n.append(r))}function Ef(e,t,n,r,i,u){let s=t<0?e.firstChild:e.lastChild,o=s.content;return e.childCount>1&&(u=0),i<r-1&&(o=Ef(o,t,n,r,i+1,u)),i>=n&&(o=t<0?s.contentMatchAt(0).fillBefore(o,u<=i).append(o):o.append(s.contentMatchAt(s.childCount).fillBefore(ae.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(o))}function qm(e,t,n){return t<e.openStart&&(e=new Te(Ef(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Te(Ef(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const f3={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Vm=null;function h3(){return Vm||(Vm=document.implementation.createHTMLDocument("title"))}let Qc=null;function XD(e){let t=window.trustedTypes;return t?(Qc||(Qc=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Qc.createHTML(e)):e}function JD(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=h3().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&f3[r[1].toLowerCase()])&&(e=i.map(u=>"<"+u+">").join("")+e+i.map(u=>"</"+u+">").reverse().join("")),n.innerHTML=XD(e),i)for(let u=0;u<i.length;u++)n=n.querySelector(i[u])||n;return n}function ZD(e){let t=e.querySelectorAll(Jt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function e5(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch(o){return e}let{content:i,openStart:u,openEnd:s}=e;for(let o=r.length-2;o>=0;o-=2){let a=n.nodes[r[o]];if(!a||a.hasRequiredAttrs())break;i=ae.from(a.create(r[o+1],i)),u++,s++}return new Te(i,u,s)}const _n={},yn={},t5={touchstart:!0,touchmove:!0};class n5{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function r5(e){for(let t in _n){let n=_n[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{u5(e,r)&&!w0(e,r)&&(e.editable||!(r.type in yn))&&n(e,r)},t5[t]?{passive:!0}:void 0)}cn&&e.dom.addEventListener("input",()=>null),Tf(e)}function ci(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function i5(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function Tf(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>w0(e,r))})}function w0(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function u5(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function s5(e,t){!w0(e,t)&&_n[t.type]&&(e.editable||!(t.type in yn))&&_n[t.type](e,t)}yn.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!m3(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Hr&&Jt&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Hu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,Fi(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||KD(e,n)?n.preventDefault():ci(e,"key")};yn.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};yn.keypress=(e,t)=>{let n=t;if(m3(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Gn&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Re)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),u=()=>e.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",s=>s(e,r.$from.pos,r.$to.pos,i,u))&&e.dispatch(u()),n.preventDefault()}};function $l(e){return{left:e.clientX,top:e.clientY}}function a5(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function O0(e,t,n,r,i){if(r==-1)return!1;let u=e.state.doc.resolve(r);for(let s=u.depth+1;s>0;s--)if(e.someProp(t,o=>s>u.depth?o(e,n,u.nodeAfter,u.before(s),i,!0):o(e,n,u.node(s),u.before(s),i,!1)))return!0;return!1}function Ou(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function o5(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Oe.isSelectable(r)?(Ou(e,new Oe(n)),!0):!1}function l5(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof Oe&&(r=n.node);let u=e.state.doc.resolve(t);for(let s=u.depth+1;s>0;s--){let o=s>u.depth?u.nodeAfter:u.node(s);if(Oe.isSelectable(o)){r&&n.$from.depth>0&&s>=n.$from.depth&&u.before(n.$from.depth+1)==n.$from.pos?i=u.before(n.$from.depth):i=u.before(s);break}}return i!=null?(Ou(e,Oe.create(e.state.doc,i)),!0):!1}function c5(e,t,n,r,i){return O0(e,"handleClickOn",t,n,r)||e.someProp("handleClick",u=>u(e,t,r))||(i?l5(e,n):o5(e,n))}function d5(e,t,n,r){return O0(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function f5(e,t,n,r){return O0(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||h5(e,n,r)}function h5(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Ou(e,Re.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let u=i.depth+1;u>0;u--){let s=u>i.depth?i.nodeAfter:i.node(u),o=i.before(u);if(s.inlineContent)Ou(e,Re.create(r,o+1,o+1+s.content.size));else if(Oe.isSelectable(s))Ou(e,Oe.create(r,o));else continue;return!0}}function D0(e){return Ko(e)}const p3=Gn?"metaKey":"ctrlKey";_n.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=D0(e),i=Date.now(),u="singleClick";i-e.input.lastClick.time<500&&a5(n,e.input.lastClick)&&!n[p3]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?u="doubleClick":e.input.lastClick.type=="doubleClick"&&(u="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:u,button:n.button};let s=e.posAtCoords($l(n));s&&(u=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new p5(e,s,n,!!r)):(u=="doubleClick"?d5:f5)(e,s.pos,s.inside,n)?n.preventDefault():ci(e,"pointer"))};class p5{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[p3],this.allowDefault=r.shiftKey;let u,s;if(n.inside>-1)u=t.state.doc.nodeAt(n.inside),s=n.inside;else{let l=t.state.doc.resolve(n.pos);u=l.parent,s=l.depth?l.before():0}const o=i?null:r.target,a=o?t.docView.nearestDesc(o,!0):null;this.target=a&&a.nodeDOM.nodeType==1?a.nodeDOM:null;let{selection:c}=t.state;(r.button==0&&u.type.spec.draggable&&u.type.spec.selectable!==!1||c instanceof Oe&&c.from<=s&&c.to>s)&&(this.mightDrag={node:u,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Kn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),ci(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>zr(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords($l(t))),this.updateAllowDefault(t),this.allowDefault||!n?ci(this.view,"pointer"):c5(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||cn&&this.mightDrag&&!this.mightDrag.node.isAtom||Jt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ou(this.view,Fe.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):ci(this.view,"pointer")}move(t){this.updateAllowDefault(t),ci(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}_n.touchstart=e=>{e.input.lastTouch=Date.now(),D0(e),ci(e,"pointer")};_n.touchmove=e=>{e.input.lastTouch=Date.now(),ci(e,"pointer")};_n.contextmenu=e=>D0(e);function m3(e,t){return e.composing?!0:cn&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const m5=Hr?5e3:-1;yn.compositionstart=yn.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Re&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||Jt&&W2&&g5(e)))e.markCursor=e.state.storedMarks||n.marks(),Ko(e,!0),e.markCursor=null;else if(Ko(e,!t.selection.empty),Kn&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,u=r.focusOffset;i&&i.nodeType==1&&u!=0;){let s=u<0?i.lastChild:i.childNodes[u-1];if(!s)break;if(s.nodeType==3){let o=e.domSelection();o&&o.collapse(s,s.nodeValue.length);break}else i=s,u=-1}}e.input.composing=!0}g3(e,m5)};function g5(e){let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(!t||t.nodeType!=1||n>=t.childNodes.length)return!1;let r=t.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}yn.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,g3(e,20))};function g3(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Ko(e),t))}function b3(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=E5());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function b5(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=lD(t.focusNode,t.focusOffset),r=cD(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,u=e.domObserver.lastChangedTextNode;if(n==u||r==u)return u;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function E5(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Ko(e,t=!1){if(!(Hr&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),b3(e),t||e.docView&&e.docView.dirty){let n=I0(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function T5(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const ca=wn&&di<15||Hu&&pD<604;_n.copy=yn.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let u=ca?null:n.clipboardData,s=r.content(),{dom:o,text:a}=k0(e,s);u?(n.preventDefault(),u.clearData(),u.setData("text/html",o.innerHTML),u.setData("text/plain",a)):T5(e,o),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function _5(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function y5(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?da(e,r.value,null,i,t):da(e,r.textContent,r.innerHTML,i,t)},50)}function da(e,t,n,r,i){let u=o3(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",a=>a(e,i,u||Te.empty)))return!0;if(!u)return!1;let s=_5(u),o=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(u);return e.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function E3(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}yn.paste=(e,t)=>{let n=t;if(e.composing&&!Hr)return;let r=ca?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&da(e,E3(r),r.getData("text/html"),i,n)?n.preventDefault():y5(e,n)};class T3{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const A5=Gn?"altKey":"ctrlKey";function _3(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n!=null?n:!t[A5]}_n.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,u=i.empty?null:e.posAtCoords($l(n)),s;if(!(u&&u.pos>=i.from&&u.pos<=(i instanceof Oe?i.to-1:i.to))){if(r&&r.mightDrag)s=Oe.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=e.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=e.docView&&(s=Oe.create(e.state.doc,f.posBefore))}}let o=(s||e.state.selection).content(),{dom:a,text:c,slice:l}=k0(e,o);(!n.dataTransfer.files.length||!Jt||V2>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(ca?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",ca||n.dataTransfer.setData("text/plain",c),e.dragging=new T3(l,_3(e,n),s)};_n.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};yn.dragover=yn.dragenter=(e,t)=>t.preventDefault();yn.drop=(e,t)=>{try{x5(e,t,e.dragging)}finally{e.dragging=null}};function x5(e,t,n){if(!t.dataTransfer)return;let r=e.posAtCoords($l(t));if(!r)return;let i=e.state.doc.resolve(r.pos),u=n&&n.slice;u?e.someProp("transformPasted",d=>{u=d(u,e,!1)}):u=o3(e,E3(t.dataTransfer),ca?null:t.dataTransfer.getData("text/html"),!1,i);let s=!!(n&&_3(e,t));if(e.someProp("handleDrop",d=>d(e,t,u||Te.empty,s))){t.preventDefault();return}if(!u)return;t.preventDefault();let o=u?C2(e.state.doc,i.pos,u):i.pos;o==null&&(o=i.pos);let a=e.state.tr;if(s){let{node:d}=n;d?d.replace(a):a.deleteSelection()}let c=a.mapping.map(o),l=u.openStart==0&&u.openEnd==0&&u.content.childCount==1,f=a.doc;if(l?a.replaceRangeWith(c,c,u.content.firstChild):a.replaceRange(c,c,u),a.doc.eq(f))return;let h=a.doc.resolve(c);if(l&&Oe.isSelectable(u.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(u.content.firstChild))a.setSelection(new Oe(h));else{let d=a.mapping.map(o);a.mapping.maps[a.mapping.maps.length-1].forEach((m,A,x,g)=>d=g),a.setSelection(v0(e,h,a.doc.resolve(d)))}e.focus(),e.dispatch(a.setMeta("uiEvent","drop"))}_n.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&zr(e)},20))};_n.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};_n.beforeinput=(e,t)=>{if(Jt&&Hr&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",u=>u(e,Fi(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in yn)_n[e]=yn[e];function fa(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class $o{constructor(t,n){this.toDOM=t,this.spec=n||Yi,this.side=this.spec.side||0}map(t,n,r,i){let{pos:u,deleted:s}=t.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Kt(u-r,u-r,this)}valid(){return!0}eq(t){return this==t||t instanceof $o&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&fa(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class hi{constructor(t,n){this.attrs=t,this.spec=n||Yi}map(t,n,r,i){let u=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return u>=s?null:new Kt(u,s,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof hi&&fa(this.attrs,t.attrs)&&fa(this.spec,t.spec)}static is(t){return t.type instanceof hi}destroy(){}}class R0{constructor(t,n){this.attrs=t,this.spec=n||Yi}map(t,n,r,i){let u=t.mapResult(n.from+i,1);if(u.deleted)return null;let s=t.mapResult(n.to+i,-1);return s.deleted||s.pos<=u.pos?null:new Kt(u.pos-r,s.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),u;return i==n.from&&!(u=t.child(r)).isText&&i+u.nodeSize==n.to}eq(t){return this==t||t instanceof R0&&fa(this.attrs,t.attrs)&&fa(this.spec,t.spec)}destroy(){}}class Kt{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Kt(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Kt(t,t,new $o(n,r))}static inline(t,n,r,i){return new Kt(t,n,new hi(r,i))}static node(t,n,r,i){return new Kt(t,n,new R0(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof hi}get widget(){return this.type instanceof $o}}const xu=[],Yi={};class ct{constructor(t,n){this.local=t.length?t:xu,this.children=n.length?n:xu}static create(t,n){return n.length?Qo(n,t,0,Yi):on}find(t,n,r){let i=[];return this.findInner(t==null?0:t,n==null?1e9:n,i,0,r),i}findInner(t,n,r,i,u){for(let s=0;s<this.local.length;s++){let o=this.local[s];o.from<=n&&o.to>=t&&(!u||u(o.spec))&&r.push(o.copy(o.from+i,o.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>t){let o=this.children[s]+1;this.children[s+2].findInner(t-o,n-o,r,i+o,u)}}map(t,n,r){return this==on||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Yi)}mapInner(t,n,r,i,u){let s;for(let o=0;o<this.local.length;o++){let a=this.local[o].map(t,r,i);a&&a.type.valid(n,a)?(s||(s=[])).push(a):u.onRemove&&u.onRemove(this.local[o].spec)}return this.children.length?C5(this.children,s||[],t,n,r,i,u):s?new ct(s.sort(Ki),xu):on}add(t,n){return n.length?this==on?ct.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,u=0;t.forEach((o,a)=>{let c=a+r,l;if(l=A3(n,o,c)){for(i||(i=this.children.slice());u<i.length&&i[u]<a;)u+=3;i[u]==a?i[u+2]=i[u+2].addInner(o,l,c+1):i.splice(u,0,a,a+o.nodeSize,Qo(l,o,c+1,Yi)),u+=3}});let s=y3(u?x3(n):n,-r);for(let o=0;o<s.length;o++)s[o].type.valid(t,s[o])||s.splice(o--,1);return new ct(s.length?this.local.concat(s).sort(Ki):this.local,i||this.children)}remove(t){return t.length==0||this==on?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let u=0;u<r.length;u+=3){let s,o=r[u]+n,a=r[u+1]+n;for(let l=0,f;l<t.length;l++)(f=t[l])&&f.from>o&&f.to<a&&(t[l]=null,(s||(s=[])).push(f));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[u+2].removeInner(s,o+1);c!=on?r[u+2]=c:(r.splice(u,3),u-=3)}if(i.length){for(let u=0,s;u<t.length;u++)if(s=t[u])for(let o=0;o<i.length;o++)i[o].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(o--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new ct(i,r):on}forChild(t,n){if(this==on)return this;if(n.isLeaf)return ct.empty;let r,i;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(r=this.children[o+2]);break}let u=t+1,s=u+n.content.size;for(let o=0;o<this.local.length;o++){let a=this.local[o];if(a.from<s&&a.to>u&&a.type instanceof hi){let c=Math.max(u,a.from)-u,l=Math.min(s,a.to)-u;c<l&&(i||(i=[])).push(a.copy(c,l))}}if(i){let o=new ct(i.sort(Ki),xu);return r?new ri([o,r]):o}return r||on}eq(t){if(this==t)return!0;if(!(t instanceof ct)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return L0(this.localsInner(t))}localsInner(t){if(this==on)return xu;if(t.inlineContent||!this.local.some(hi.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof hi||n.push(this.local[r]);return n}forEachSet(t){t(this)}}ct.empty=new ct([],[]);ct.removeOverlap=L0;const on=ct.empty;class ri{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,Yi));return ri.from(r)}forChild(t,n){if(n.isLeaf)return ct.empty;let r=[];for(let i=0;i<this.members.length;i++){let u=this.members[i].forChild(t,n);u!=on&&(u instanceof ri?r=r.concat(u.members):r.push(u))}return ri.from(r)}eq(t){if(!(t instanceof ri)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let u=this.members[i].localsInner(t);if(u.length)if(!n)n=u;else{r&&(n=n.slice(),r=!1);for(let s=0;s<u.length;s++)n.push(u[s])}}return n?L0(r?n:n.sort(Ki)):xu}static from(t){switch(t.length){case 0:return on;case 1:return t[0];default:return new ri(t.every(n=>n instanceof ct)?t:t.reduce((n,r)=>n.concat(r instanceof ct?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function C5(e,t,n,r,i,u,s){let o=e.slice();for(let c=0,l=u;c<n.maps.length;c++){let f=0;n.maps[c].forEach((h,d,m,A)=>{let x=A-m-(d-h);for(let g=0;g<o.length;g+=3){let b=o[g+1];if(b<0||h>b+l-f)continue;let v=o[g]+l-f;d>=v?o[g+1]=h<=v?-2:-1:h>=l&&x&&(o[g]+=x,o[g+1]+=x)}f+=x}),l=n.maps[c].map(l,-1)}let a=!1;for(let c=0;c<o.length;c+=3)if(o[c+1]<0){if(o[c+1]==-2){a=!0,o[c+1]=-1;continue}let l=n.map(e[c]+u),f=l-i;if(f<0||f>=r.content.size){a=!0;continue}let h=n.map(e[c+1]+u,-1),d=h-i,{index:m,offset:A}=r.content.findIndex(f),x=r.maybeChild(m);if(x&&A==f&&A+x.nodeSize==d){let g=o[c+2].mapInner(n,x,l+1,e[c]+u+1,s);g!=on?(o[c]=f,o[c+1]=d,o[c+2]=g):(o[c+1]=-2,a=!0)}else a=!0}if(a){let c=N5(o,e,t,n,i,u,s),l=Qo(c,r,0,s);t=l.local;for(let f=0;f<o.length;f+=3)o[f+1]<0&&(o.splice(f,3),f-=3);for(let f=0,h=0;f<l.children.length;f+=3){let d=l.children[f];for(;h<o.length&&o[h]<d;)h+=3;o.splice(h,0,l.children[f],l.children[f+1],l.children[f+2])}}return new ct(t.sort(Ki),o)}function y3(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Kt(i.from+t,i.to+t,i.type))}return n}function N5(e,t,n,r,i,u,s){function o(a,c){for(let l=0;l<a.local.length;l++){let f=a.local[l].map(r,i,c);f?n.push(f):s.onRemove&&s.onRemove(a.local[l].spec)}for(let l=0;l<a.children.length;l+=3)o(a.children[l+2],a.children[l]+c+1)}for(let a=0;a<e.length;a+=3)e[a+1]==-1&&o(e[a+2],t[a]+u+1);return n}function A3(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let u=0,s;u<e.length;u++)(s=e[u])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),e[u]=null);return i}function x3(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Qo(e,t,n,r){let i=[],u=!1;t.forEach((o,a)=>{let c=A3(e,o,a+n);if(c){u=!0;let l=Qo(c,o,n+a+1,r);l!=on&&i.push(a,a+o.nodeSize,l)}});let s=y3(u?x3(e):e,-n).sort(Ki);for(let o=0;o<s.length;o++)s[o].type.valid(t,s[o])||(r.onRemove&&r.onRemove(s[o].spec),s.splice(o--,1));return s.length||i.length?new ct(s,i):on}function Ki(e,t){return e.from-t.from||e.to-t.to}function L0(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let u=t[i];if(u.from==r.from){u.to!=r.to&&(t==e&&(t=e.slice()),t[i]=u.copy(u.from,r.to),Wm(t,i+1,u.copy(r.to,u.to)));continue}else{u.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,u.from),Wm(t,i,r.copy(u.from,r.to)));break}}}return t}function Wm(e,t,n){for(;t<e.length&&Ki(n,e[t])>0;)t++;e.splice(t,0,n)}function Xc(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=on&&t.push(r)}),e.cursorWrapper&&t.push(ct.create(e.state.doc,[e.cursorWrapper.deco])),ri.from(t)}const S5={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},I5=wn&&di<=11;class v5{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class k5{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new v5,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);wn&&di<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),I5&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,S5)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Fm(this.view)){if(this.suppressingSelectionUpdates)return zr(this.view);if(wn&&di<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Zi(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let u=t.focusNode;u;u=Fu(u))n.add(u);for(let u=t.anchorNode;u;u=Fu(u))if(n.has(u)){r=u;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Fm(t)&&!this.ignoreSelectionChange(r),u=-1,s=-1,o=!1,a=[];if(t.editable)for(let l=0;l<n.length;l++){let f=this.registerMutation(n[l],a);f&&(u=u<0?f.from:Math.min(f.from,u),s=s<0?f.to:Math.max(f.to,s),f.typeOver&&(o=!0))}if(Kn&&a.length){let l=a.filter(f=>f.nodeName=="BR");if(l.length==2){let[f,h]=l;f.parentNode&&f.parentNode.parentNode==h.parentNode?h.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let h of l){let d=h.parentNode;d&&d.nodeName=="LI"&&(!f||D5(t,f)!=d)&&h.remove()}}}else if((Jt||cn)&&a.some(l=>l.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let l of a)if(l.nodeName=="BR"&&l.parentNode){let f=l.nextSibling;f&&f.nodeType==1&&f.contentEditable=="false"&&l.parentNode.removeChild(l)}}let c=null;u<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Yl(r)&&(c=I0(t))&&c.eq(Fe.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,zr(t),this.currentSelection.set(r),t.scrollToSelection()):(u>-1||i)&&(u>-1&&(t.docView.markDirty(u,s),w5(t)),this.handleDOMChange(u,s,o,a),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||zr(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let l=0;l<t.addedNodes.length;l++){let f=t.addedNodes[l];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,u=t.nextSibling;if(wn&&di<=11&&t.addedNodes.length)for(let l=0;l<t.addedNodes.length;l++){let{previousSibling:f,nextSibling:h}=t.addedNodes[l];(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(i=f),(!h||Array.prototype.indexOf.call(t.addedNodes,h)<0)&&(u=h)}let s=i&&i.parentNode==t.target?un(i)+1:0,o=r.localPosFromDOM(t.target,s,-1),a=u&&u.parentNode==t.target?un(u):t.target.childNodes.length,c=r.localPosFromDOM(t.target,a,1);return{from:o,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let Ym=new WeakMap,Km=!1;function w5(e){if(!Ym.has(e)&&(Ym.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Kn,Km)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Km=!0}}function $m(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,u=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return Zi(s.node,s.offset,i,u)&&([n,r,i,u]=[i,u,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:u}}function O5(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return $m(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?$m(e,n):null}function D5(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function R5(e,t,n){let{node:r,fromOffset:i,toOffset:u,from:s,to:o}=e.docView.parseRange(t,n),a=e.domSelectionRange(),c,l=a.anchorNode;if(l&&e.dom.contains(l.nodeType==1?l:l.parentNode)&&(c=[{node:l,offset:a.anchorOffset}],Yl(a)||c.push({node:a.focusNode,offset:a.focusOffset})),Jt&&e.input.lastKeyCode===8)for(let x=u;x>i;x--){let g=r.childNodes[x-1],b=g.pmViewDesc;if(g.nodeName=="BR"&&!b){u=x;break}if(!b||b.size)break}let f=e.state.doc,h=e.someProp("domParser")||Vs.fromSchema(e.state.schema),d=f.resolve(s),m=null,A=h.parse(r,{topNode:d.parent,topMatch:d.parent.contentMatchAt(d.index()),topOpen:!0,from:i,to:u,preserveWhitespace:d.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:L5,context:d});if(c&&c[0].pos!=null){let x=c[0].pos,g=c[1]&&c[1].pos;g==null&&(g=x),m={anchor:x+s,head:g+s}}return{doc:A,sel:m,from:s,to:o}}function L5(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(cn&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||cn&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const P5=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function M5(e,t,n,r,i){let u=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let k=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,R=I0(e,k);if(R&&!e.state.selection.eq(R)){if(Jt&&Hr&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",N=>N(e,Fi(13,"Enter"))))return;let D=e.state.tr.setSelection(R);k=="pointer"?D.setMeta("pointer",!0):k=="key"&&D.scrollIntoView(),u&&D.setMeta("composition",u),e.dispatch(D)}return}let s=e.state.doc.resolve(t),o=s.sharedDepth(n);t=s.before(o+1),n=e.state.doc.resolve(n).after(o+1);let a=e.state.selection,c=R5(e,t,n),l=e.state.doc,f=l.slice(c.from,c.to),h,d;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(h=e.state.selection.to,d="end"):(h=e.state.selection.from,d="start"),e.input.lastKeyCode=null;let m=H5(f.content,c.doc.content,c.from,h,d);if(m&&e.input.domChangeCount++,(Hu&&e.input.lastIOSEnter>Date.now()-225||Hr)&&i.some(k=>k.nodeType==1&&!P5.test(k.nodeName))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",k=>k(e,Fi(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!m)if(r&&a instanceof Re&&!a.empty&&a.$head.sameParent(a.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:a.from,endA:a.to,endB:a.to};else{if(c.sel){let k=Qm(e,e.state.doc,c.sel);if(k&&!k.eq(e.state.selection)){let R=e.state.tr.setSelection(k);u&&R.setMeta("composition",u),e.dispatch(R)}}return}e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof Re&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),wn&&di<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)=="  "&&(m.start--,m.endA--,m.endB--);let A=c.doc.resolveNoCache(m.start-c.from),x=c.doc.resolveNoCache(m.endB-c.from),g=l.resolve(m.start),b=A.sameParent(x)&&A.parent.inlineContent&&g.end()>=m.endA;if((Hu&&e.input.lastIOSEnter>Date.now()-225&&(!b||i.some(k=>k.nodeName=="DIV"||k.nodeName=="P"))||!b&&A.pos<c.doc.content.size&&(!A.sameParent(x)||!A.parent.inlineContent)&&A.pos<x.pos&&!/\S/.test(c.doc.textBetween(A.pos,x.pos,"","")))&&e.someProp("handleKeyDown",k=>k(e,Fi(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>m.start&&F5(l,m.start,m.endA,A,x)&&e.someProp("handleKeyDown",k=>k(e,Fi(8,"Backspace")))){Hr&&Jt&&e.domObserver.suppressSelectionUpdates();return}Jt&&m.endB==m.start&&(e.input.lastChromeDelete=Date.now()),Hr&&!b&&A.start()!=x.start()&&x.parentOffset==0&&A.depth==x.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,x=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(k){return k(e,Fi(13,"Enter"))})},20));let v=m.start,p=m.endA,_=k=>{let R=k||e.state.tr.replace(v,p,c.doc.slice(m.start-c.from,m.endB-c.from));if(c.sel){let D=Qm(e,R.doc,c.sel);D&&!(Jt&&e.composing&&D.empty&&(m.start!=m.endB||e.input.lastChromeDelete<Date.now()-100)&&(D.head==v||D.head==R.mapping.map(p)-1)||wn&&D.empty&&D.head==v)&&R.setSelection(D)}return u&&R.setMeta("composition",u),R.scrollIntoView()},E;if(b)if(A.pos==x.pos){wn&&di<=11&&A.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>zr(e),20));let k=_(e.state.tr.delete(v,p)),R=l.resolve(m.start).marksAcross(l.resolve(m.endA));R&&k.ensureMarks(R),e.dispatch(k)}else if(m.endA==m.endB&&(E=B5(A.parent.content.cut(A.parentOffset,x.parentOffset),g.parent.content.cut(g.parentOffset,m.endA-g.start())))){let k=_(e.state.tr);E.type=="add"?k.addMark(v,p,E.mark):k.removeMark(v,p,E.mark),e.dispatch(k)}else if(A.parent.child(A.index()).isText&&A.index()==x.index()-(x.textOffset?0:1)){let k=A.parent.textBetween(A.parentOffset,x.parentOffset),R=()=>_(e.state.tr.insertText(k,v,p));e.someProp("handleTextInput",D=>D(e,v,p,k,R))||e.dispatch(R())}else e.dispatch(_());else e.dispatch(_())}function Qm(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:v0(e,t.resolve(n.anchor),t.resolve(n.head))}function B5(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,u=r,s,o,a;for(let l=0;l<r.length;l++)i=r[l].removeFromSet(i);for(let l=0;l<n.length;l++)u=n[l].removeFromSet(u);if(i.length==1&&u.length==0)o=i[0],s="add",a=l=>l.mark(o.addToSet(l.marks));else if(i.length==0&&u.length==1)o=u[0],s="remove",a=l=>l.mark(o.removeFromSet(l.marks));else return null;let c=[];for(let l=0;l<t.childCount;l++)c.push(a(t.child(l)));if(ae.from(c).eq(e))return{mark:o,type:s}}function F5(e,t,n,r,i){if(n-t<=i.pos-r.pos||Jc(r,!0,!1)<i.pos)return!1;let u=e.resolve(t);if(!r.parent.isTextblock){let o=u.nodeAfter;return o!=null&&n==t+o.nodeSize}if(u.parentOffset<u.parent.content.size||!u.parent.isTextblock)return!1;let s=e.resolve(Jc(u,!0,!0));return!s.parent.isTextblock||s.pos>n||Jc(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Jc(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let u=e.node(r).maybeChild(e.indexAfter(r));for(;u&&!u.isLeaf;)u=u.firstChild,i++}return i}function H5(e,t,n,r,i){let u=e.findDiffStart(t,n);if(u==null)return null;let{a:s,b:o}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let a=Math.max(0,u-Math.min(s,o));r-=s+a-u}if(s<u&&e.size<t.size){let a=r<=u&&r>=s?u-r:0;u-=a,u&&u<t.size&&Xm(t.textBetween(u-1,u+1))&&(u+=a?1:-1),o=u+(o-s),s=u}else if(o<u){let a=r<=u&&r>=o?u-r:0;u-=a,u&&u<e.size&&Xm(e.textBetween(u-1,u+1))&&(u+=a?1:-1),s=u+(s-o),o=u}return{start:u,endA:s,endB:o}}function Xm(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class C3{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new n5,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(n1),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=e1(this),Zm(this),this.nodeViews=t1(this),this.docView=Dm(this.state.doc,Jm(this),Xc(this),this.dom,this),this.domObserver=new k5(this,(r,i,u,s)=>M5(this,r,i,u,s)),this.domObserver.start(),r5(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Tf(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(n1),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,u=!1,s=!1;t.storedMarks&&this.composing&&(b3(this),s=!0),this.state=t;let o=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(o||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let d=t1(this);U5(d,this.nodeViews)&&(this.nodeViews=d,u=!0)}(o||n.handleDOMEvents!=this._props.handleDOMEvents)&&Tf(this),this.editable=e1(this),Zm(this);let a=Xc(this),c=Jm(this),l=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=u||!this.docView.matchesNode(t.doc,c,a);(f||!t.selection.eq(i.selection))&&(s=!0);let h=l=="preserve"&&s&&this.dom.style.overflowAnchor==null&&bD(this);if(s){this.domObserver.stop();let d=f&&(wn||Jt)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&j5(i.selection,t.selection);if(f){let m=Jt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=b5(this)),(u||!this.docView.update(t.doc,c,a,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=Dm(t.doc,c,a,this.dom,this)),m&&!this.trackWrites&&(d=!0)}d||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&UD(this))?zr(this,d):(u3(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),l=="reset"?this.dom.scrollTop=0:l=="to selection"?this.scrollToSelection():h&&ED(h)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Oe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Sm(this,n.getBoundingClientRect(),t)}else Sm(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let u=r.from+(this.state.doc.content.size-n.doc.content.size);(u>0&&this.state.doc.nodeAt(u))==r.node&&(i=u)}this.dragging=new T3(t.slice,t.move,i<0?void 0:Oe.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let o=this.directPlugins[s].props[t];if(o!=null&&(i=n?n(o):o))return i}let u=this.state.plugins;if(u)for(let s=0;s<u.length;s++){let o=u[s].props[t];if(o!=null&&(i=n?n(o):o))return i}}hasFocus(){if(wn){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&TD(this.dom),zr(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return CD(this,t)}coordsAtPos(t,n=1){return X2(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return kD(this,n||this.state,t)}pasteHTML(t,n){return da(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return da(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return k0(this,t)}destroy(){this.docView&&(i5(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Xc(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,aD())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return s5(this,t)}domSelectionRange(){let t=this.domSelection();return t?cn&&this.root.nodeType===11&&fD(this.dom.ownerDocument)==this.dom&&O5(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}C3.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function Jm(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Kt.node(0,e.state.doc.content.size,t)]}function Zm(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Kt.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function e1(e){return!e.someProp("editable",t=>t(e.state)===!1)}function j5(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function t1(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function U5(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function n1(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var mi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Xo={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},z5=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),G5=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var sn=0;sn<10;sn++)mi[48+sn]=mi[96+sn]=String(sn);for(var sn=1;sn<=24;sn++)mi[sn+111]="F"+sn;for(var sn=65;sn<=90;sn++)mi[sn]=String.fromCharCode(sn+32),Xo[sn]=String.fromCharCode(sn);for(var Zc in mi)Xo.hasOwnProperty(Zc)||(Xo[Zc]=mi[Zc]);function q5(e){var t=z5&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||G5&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Xo:mi)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const V5=typeof navigator!="undefined"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),W5=typeof navigator!="undefined"&&/Win/.test(navigator.platform);function Y5(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,u,s;for(let o=0;o<t.length-1;o++){let a=t[o];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))u=!0;else if(/^mod$/i.test(a))V5?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),u&&(n="Shift-"+n),n}function K5(e){let t=Object.create(null);for(let n in e)t[Y5(n)]=e[n];return t}function ed(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function $5(e){return new bt({props:{handleKeyDown:P0(e)}})}function P0(e){let t=K5(e);return function(n,r){let i=q5(r),u,s=t[ed(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let o=t[ed(i,r,!1)];if(o&&o(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(W5&&r.ctrlKey&&r.altKey)&&(u=mi[r.keyCode])&&u!=i){let o=t[ed(u,r)];if(o&&o(n.state,n.dispatch,n))return!0}}return!1}}var Q5=Object.defineProperty,M0=(e,t)=>{for(var n in t)Q5(e,n,{get:t[n],enumerable:!0})};function Ql(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:u}=n;return le(G({},t),{apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return u},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,u=n.storedMarks,n}})}var Xl=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,u=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([s,o])=>[s,(...c)=>{const l=o(...c)(u);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),l}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:u}=r,s=[],o=!!e,a=e||i.tr,c=()=>(!o&&t&&!a.getMeta("preventDispatch")&&!this.hasCustomState&&u.dispatch(a),s.every(f=>f===!0)),l=le(G({},Object.fromEntries(Object.entries(n).map(([f,h])=>[f,(...m)=>{const A=this.buildProps(a,t),x=h(...m)(A);return s.push(x),l}]))),{run:c});return l}createCan(e){const{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,u=this.buildProps(i,r),s=Object.fromEntries(Object.entries(t).map(([o,a])=>[o,(...c)=>a(...c)(le(G({},u),{dispatch:void 0}))]));return le(G({},s),{chain:()=>this.createChain(i,r)})}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:u}=r,s={tr:e,editor:r,view:u,state:Ql({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([o,a])=>[o,(...c)=>a(...c)(s)]))}};return s}},N3={};M0(N3,{blur:()=>X5,clearContent:()=>J5,clearNodes:()=>Z5,command:()=>eR,createParagraphNear:()=>tR,cut:()=>nR,deleteCurrentNode:()=>rR,deleteNode:()=>iR,deleteRange:()=>uR,deleteSelection:()=>sR,enter:()=>aR,exitCode:()=>oR,extendMarkRange:()=>lR,first:()=>cR,focus:()=>fR,forEach:()=>hR,insertContent:()=>pR,insertContentAt:()=>bR,joinBackward:()=>_R,joinDown:()=>TR,joinForward:()=>yR,joinItemBackward:()=>AR,joinItemForward:()=>xR,joinTextblockBackward:()=>CR,joinTextblockForward:()=>NR,joinUp:()=>ER,keyboardShortcut:()=>IR,lift:()=>vR,liftEmptyBlock:()=>kR,liftListItem:()=>wR,newlineInCode:()=>OR,resetAttributes:()=>DR,scrollIntoView:()=>RR,selectAll:()=>LR,selectNodeBackward:()=>PR,selectNodeForward:()=>MR,selectParentNode:()=>BR,selectTextblockEnd:()=>FR,selectTextblockStart:()=>HR,setContent:()=>jR,setMark:()=>uL,setMeta:()=>sL,setNode:()=>aL,setNodeSelection:()=>oL,setTextDirection:()=>lL,setTextSelection:()=>cL,sinkListItem:()=>dL,splitBlock:()=>fL,splitListItem:()=>hL,toggleList:()=>pL,toggleMark:()=>mL,toggleNode:()=>gL,toggleWrap:()=>bL,undoInputRule:()=>EL,unsetAllMarks:()=>TL,unsetMark:()=>_L,unsetTextDirection:()=>yL,updateAttributes:()=>AL,wrapIn:()=>xL,wrapInList:()=>CL});var X5=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),J5=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),Z5=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:u,$to:s})=>{e.doc.nodesBetween(u.pos,s.pos,(o,a)=>{if(o.type.isText)return;const{doc:c,mapping:l}=t,f=c.resolve(l.map(a)),h=c.resolve(l.map(a+o.nodeSize)),d=f.blockRange(h);if(!d)return;const m=$u(d);if(o.type.isTextblock){const{defaultType:A}=f.parent.contentMatchAt(f.index());t.setNodeMarkup(d.start,A)}(m||m===0)&&t.lift(d,m)})}),!0},eR=e=>t=>e(t),tR=()=>({state:e,dispatch:t})=>j2(e,t),nR=(e,t)=>({editor:n,tr:r})=>{const{state:i}=n,u=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const s=r.mapping.map(t);return r.insert(s,u.content),r.setSelection(new Re(r.doc.resolve(Math.max(s-1,0)))),!0},rR=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let u=i.depth;u>0;u-=1)if(i.node(u).type===r.type){if(t){const o=i.before(u),a=i.after(u);e.delete(o,a).scrollIntoView()}return!0}return!1};function Ut(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var iR=e=>({tr:t,state:n,dispatch:r})=>{const i=Ut(e,n.schema),u=t.selection.$anchor;for(let s=u.depth;s>0;s-=1)if(u.node(s).type===i){if(r){const a=u.before(s),c=u.after(s);t.delete(a,c).scrollIntoView()}return!0}return!1},uR=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},sR=()=>({state:e,dispatch:t})=>y0(e,t),aR=()=>({commands:e})=>e.keyboardShortcut("Enter"),oR=()=>({state:e,dispatch:t})=>WO(e,t);function B0(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Jo(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:B0(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function S3(e,t,n={}){return e.find(r=>r.type===t&&Jo(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function r1(e,t,n={}){return!!S3(e,t,n)}function F0(e,t,n){var r;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(l=>l.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(l=>l.type===t)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!S3([...i.node.marks],t,n)))return;let s=i.index,o=e.start()+i.offset,a=s+1,c=o+i.node.nodeSize;for(;s>0&&r1([...e.parent.child(s-1).marks],t,n);)s-=1,o-=e.parent.child(s).nodeSize;for(;a<e.parent.childCount&&r1([...e.parent.child(a).marks],t,n);)c+=e.parent.child(a).nodeSize,a+=1;return{from:o,to:c}}function qr(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var lR=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const u=qr(e,r.schema),{doc:s,selection:o}=n,{$from:a,from:c,to:l}=o;if(i){const f=F0(a,u,t);if(f&&f.from<=c&&f.to>=l){const h=Re.create(s,f.from,f.to);n.setSelection(h)}}return!0},cR=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function I3(e){return e instanceof Re}function zi(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function v3(e,t=null){if(!t)return null;const n=Fe.atStart(e),r=Fe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,u=r.to;return t==="all"?Re.create(e,zi(0,i,u),zi(e.content.size,i,u)):Re.create(e,zi(t,i,u),zi(t,i,u))}function dR(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function H0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var fR=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:u})=>{t=G({scrollIntoView:!0},t);const s=()=>{(H0()||dR())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(u&&e===null&&!I3(n.state.selection))return s(),!0;const o=v3(i.doc,e)||n.state.selection,a=n.state.selection.eq(o);return u&&(a||i.setSelection(o),a&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},hR=(e,t)=>n=>e.every((r,i)=>t(r,le(G({},n),{index:i}))),pR=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),k3=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&k3(r)}return e};function Za(e){if(typeof window=="undefined")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return k3(n)}function ha(e,t,n){if(e instanceof ur||e instanceof ae)return e;n=G({slice:!0,parseOptions:{}},n);const r=typeof e=="object"&&e!==null,i=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return ae.fromArray(e.map(o=>t.nodeFromJSON(o)));const s=t.nodeFromJSON(e);return n.errorOnInvalidContent&&s.check(),s}catch(u){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:u});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",u),ha("",t,n)}if(i){if(n.errorOnInvalidContent){let s=!1,o="";const a=new h2({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,o=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Vs.fromSchema(a).parseSlice(Za(e),n.parseOptions):Vs.fromSchema(a).parse(Za(e),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const u=Vs.fromSchema(t);return n.slice?u.parseSlice(Za(e),n.parseOptions).content:u.parse(Za(e),n.parseOptions)}return ha("",t,n)}function mR(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof Qt||i instanceof Zt))return;const u=e.mapping.maps[r];let s=0;u.forEach((o,a,c,l)=>{s===0&&(s=l)}),e.setSelection(Fe.near(e.doc.resolve(s),n))}var gR=e=>!("type"in e),bR=(e,t,n)=>({tr:r,dispatch:i,editor:u})=>{var s;if(i){n=G({parseOptions:u.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1},n);let o;const a=x=>{u.emit("contentError",{editor:u,error:x,disableCollaboration:()=>{"collaboration"in u.storage&&typeof u.storage.collaboration=="object"&&u.storage.collaboration&&(u.storage.collaboration.isDisabled=!0)}})},c=G({preserveWhitespace:"full"},n.parseOptions);if(!n.errorOnInvalidContent&&!u.options.enableContentCheck&&u.options.emitContentError)try{ha(t,u.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(x){a(x)}try{o=ha(t,u.schema,{parseOptions:c,errorOnInvalidContent:(s=n.errorOnInvalidContent)!=null?s:u.options.enableContentCheck})}catch(x){return a(x),!1}let{from:l,to:f}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},h=!0,d=!0;if((gR(o)?o:[o]).forEach(x=>{x.check(),h=h?x.isText&&x.marks.length===0:!1,d=d?x.isBlock:!1}),l===f&&d){const{parent:x}=r.doc.resolve(l);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(l-=1,f+=1)}let A;if(h){if(Array.isArray(t))A=t.map(x=>x.text||"").join("");else if(t instanceof ae){let x="";t.forEach(g=>{g.text&&(x+=g.text)}),A=x}else typeof t=="object"&&t&&t.text?A=t.text:A=t;r.insertText(A,l,f)}else{A=o;const x=r.doc.resolve(l),g=x.node(),b=x.parentOffset===0,v=g.isText||g.isTextblock,p=g.content.size>0;b&&v&&p&&(l=Math.max(0,l-1)),r.replaceWith(l,f,A)}n.updateSelection&&mR(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:A}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:A})}return!0},ER=()=>({state:e,dispatch:t})=>GO(e,t),TR=()=>({state:e,dispatch:t})=>qO(e,t),_R=()=>({state:e,dispatch:t})=>R2(e,t),yR=()=>({state:e,dispatch:t})=>B2(e,t),AR=()=>({state:e,dispatch:t,tr:n})=>{try{const r=ql(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch(r){return!1}},xR=()=>({state:e,dispatch:t,tr:n})=>{try{const r=ql(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch(r){return!1}},CR=()=>({state:e,dispatch:t})=>UO(e,t),NR=()=>({state:e,dispatch:t})=>zO(e,t);function w3(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function SR(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,u,s;for(let o=0;o<t.length-1;o+=1){const a=t[o];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))u=!0;else if(/^mod$/i.test(a))H0()||w3()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),u&&(n=`Shift-${n}`),n}var IR=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const u=SR(e).split(/-(?!$)/),s=u.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),o=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:u.includes("Alt"),ctrlKey:u.includes("Ctrl"),metaKey:u.includes("Meta"),shiftKey:u.includes("Shift"),bubbles:!0,cancelable:!0}),a=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,o))});return a==null||a.steps.forEach(c=>{const l=c.map(r.mapping);l&&i&&r.maybeStep(l)}),!0};function gi(e,t,n={}){const{from:r,to:i,empty:u}=e.selection,s=t?Ut(t,e.schema):null,o=[];e.doc.nodesBetween(r,i,(f,h)=>{if(f.isText)return;const d=Math.max(r,h),m=Math.min(i,h+f.nodeSize);o.push({node:f,from:d,to:m})});const a=i-r,c=o.filter(f=>s?s.name===f.node.type.name:!0).filter(f=>Jo(f.node.attrs,n,{strict:!1}));return u?!!c.length:c.reduce((f,h)=>f+h.to-h.from,0)>=a}var vR=(e,t={})=>({state:n,dispatch:r})=>{const i=Ut(e,n.schema);return gi(n,i,t)?VO(n,r):!1},kR=()=>({state:e,dispatch:t})=>U2(e,t),wR=e=>({state:t,dispatch:n})=>{const r=Ut(e,t.schema);return rD(r)(t,n)},OR=()=>({state:e,dispatch:t})=>H2(e,t);function Jl(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function i1(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}var DR=(e,t)=>({tr:n,state:r,dispatch:i})=>{let u=null,s=null;const o=Jl(typeof e=="string"?e:e.name,r.schema);if(!o)return!1;o==="node"&&(u=Ut(e,r.schema)),o==="mark"&&(s=qr(e,r.schema));let a=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(l,f)=>{u&&u===l.type&&(a=!0,i&&n.setNodeMarkup(f,void 0,i1(l.attrs,t))),s&&l.marks.length&&l.marks.forEach(h=>{s===h.type&&(a=!0,i&&n.addMark(f,f+l.nodeSize,s.create(i1(h.attrs,t))))})})}),a},RR=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),LR=()=>({tr:e,dispatch:t})=>{if(t){const n=new jn(e.doc);e.setSelection(n)}return!0},PR=()=>({state:e,dispatch:t})=>P2(e,t),MR=()=>({state:e,dispatch:t})=>F2(e,t),BR=()=>({state:e,dispatch:t})=>$O(e,t),FR=()=>({state:e,dispatch:t})=>JO(e,t),HR=()=>({state:e,dispatch:t})=>XO(e,t);function _f(e,t,n={},r={}){return ha(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var jR=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:u,dispatch:s,commands:o})=>{const{doc:a}=u;if(r.preserveWhitespace!=="full"){const c=_f(e,i.schema,r,{errorOnInvalidContent:t!=null?t:i.options.enableContentCheck});return s&&u.replaceWith(0,a.content.size,c).setMeta("preventUpdate",!n),!0}return s&&u.setMeta("preventUpdate",!n),o.insertContentAt({from:0,to:a.content.size},e,{parseOptions:r,errorOnInvalidContent:t!=null?t:i.options.enableContentCheck})};function O3(e,t){const n=qr(t,e.schema),{from:r,to:i,empty:u}=e.selection,s=[];u?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,a=>{s.push(...a.marks)});const o=s.find(a=>a.type.name===n.name);return o?G({},o.attrs):{}}function D3(e,t){const n=new T0(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function UR(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function zR(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(i,u)=>{n(i)&&r.push({node:i,pos:u})}),r}function R3(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function Zl(e){return t=>R3(t.$from,e)}function ke(e,t,n){return e.config[t]===void 0&&e.parent?ke(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind(le(G({},n),{parent:e.parent?ke(e.parent,t,n):null})):e.config[t]}function j0(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=ke(t,"addExtensions",n);return r?[t,...j0(r())]:t}).flat(10)}function U0(e,t){const n=su.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function L3(e){return typeof e=="function"}function at(e,t=void 0,...n){return L3(e)?t?e.bind(t)(...n):e(...n):e}function GR(e={}){return Object.keys(e).length===0&&e.constructor===Object}function ju(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function P3(e){const t=[],{nodeExtensions:n,markExtensions:r}=ju(e),i=[...n,...r],u={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(s=>{const o={name:s.name,options:s.options,storage:s.storage,extensions:i},a=ke(s,"addGlobalAttributes",o);if(!a)return;a().forEach(l=>{l.types.forEach(f=>{Object.entries(l.attributes).forEach(([h,d])=>{t.push({type:f,name:h,attribute:G(G({},u),d)})})})})}),i.forEach(s=>{const o={name:s.name,options:s.options,storage:s.storage},a=ke(s,"addAttributes",o);if(!a)return;const c=a();Object.entries(c).forEach(([l,f])=>{const h=G(G({},u),f);typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,t.push({type:s.name,name:l,attribute:h})})}),t}function ht(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r=G({},t);return Object.entries(n).forEach(([i,u])=>{if(!r[i]){r[i]=u;return}if(i==="class"){const o=u?String(u).split(" "):[],a=r[i]?r[i].split(" "):[],c=o.filter(l=>!a.includes(l));r[i]=[...a,...c].join(" ")}else if(i==="style"){const o=u?u.split(";").map(l=>l.trim()).filter(Boolean):[],a=r[i]?r[i].split(";").map(l=>l.trim()).filter(Boolean):[],c=new Map;a.forEach(l=>{const[f,h]=l.split(":").map(d=>d.trim());c.set(f,h)}),o.forEach(l=>{const[f,h]=l.split(":").map(d=>d.trim());c.set(f,h)}),r[i]=Array.from(c.entries()).map(([l,f])=>`${l}: ${f}`).join("; ")}else r[i]=u}),r},{})}function Zo(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>ht(n,r),{})}function qR(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function u1(e,t){return"style"in e?e:le(G({},e),{getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((u,s)=>{const o=s.attribute.parseHTML?s.attribute.parseHTML(n):qR(n.getAttribute(s.name));return o==null?u:le(G({},u),{[s.name]:o})},{});return G(G({},r),i)}})}function s1(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&GR(n)?!1:n!=null))}function a1(e){var t,n;const r={};return!((t=e==null?void 0:e.attribute)!=null&&t.isRequired)&&"default"in((e==null?void 0:e.attribute)||{})&&(r.default=e.attribute.default),((n=e==null?void 0:e.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=e.attribute.validate),[e.name,r]}function VR(e,t){var n;const r=P3(e),{nodeExtensions:i,markExtensions:u}=ju(e),s=(n=i.find(c=>ke(c,"topNode")))==null?void 0:n.name,o=Object.fromEntries(i.map(c=>{const l=r.filter(g=>g.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:t},h=e.reduce((g,b)=>{const v=ke(b,"extendNodeSchema",f);return G(G({},g),v?v(c):{})},{}),d=s1(le(G({},h),{content:at(ke(c,"content",f)),marks:at(ke(c,"marks",f)),group:at(ke(c,"group",f)),inline:at(ke(c,"inline",f)),atom:at(ke(c,"atom",f)),selectable:at(ke(c,"selectable",f)),draggable:at(ke(c,"draggable",f)),code:at(ke(c,"code",f)),whitespace:at(ke(c,"whitespace",f)),linebreakReplacement:at(ke(c,"linebreakReplacement",f)),defining:at(ke(c,"defining",f)),isolating:at(ke(c,"isolating",f)),attrs:Object.fromEntries(l.map(a1))})),m=at(ke(c,"parseHTML",f));m&&(d.parseDOM=m.map(g=>u1(g,l)));const A=ke(c,"renderHTML",f);A&&(d.toDOM=g=>A({node:g,HTMLAttributes:Zo(g,l)}));const x=ke(c,"renderText",f);return x&&(d.toText=x),[c.name,d]})),a=Object.fromEntries(u.map(c=>{const l=r.filter(x=>x.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:t},h=e.reduce((x,g)=>{const b=ke(g,"extendMarkSchema",f);return G(G({},x),b?b(c):{})},{}),d=s1(le(G({},h),{inclusive:at(ke(c,"inclusive",f)),excludes:at(ke(c,"excludes",f)),group:at(ke(c,"group",f)),spanning:at(ke(c,"spanning",f)),code:at(ke(c,"code",f)),attrs:Object.fromEntries(l.map(a1))})),m=at(ke(c,"parseHTML",f));m&&(d.parseDOM=m.map(x=>u1(x,l)));const A=ke(c,"renderHTML",f);return A&&(d.toDOM=x=>A({mark:x,HTMLAttributes:Zo(x,l)})),[c.name,d]}));return new h2({topNode:s,nodes:o,marks:a})}function WR(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function z0(e){return e.sort((n,r)=>{const i=ke(n,"priority")||100,u=ke(r,"priority")||100;return i>u?-1:i<u?1:0})}function M3(e){const t=z0(j0(e)),n=WR(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function B3(e,t,n){const{from:r,to:i}=t,{blockSeparator:u=`

`,textSerializers:s={}}=n||{};let o="";return e.nodesBetween(r,i,(a,c,l,f)=>{var h;a.isBlock&&c>r&&(o+=u);const d=s==null?void 0:s[a.type.name];if(d)return l&&(o+=d({node:a,pos:c,parent:l,index:f,range:t})),!1;a.isText&&(o+=(h=a==null?void 0:a.text)==null?void 0:h.slice(Math.max(r,c)-c,i-c))}),o}function YR(e,t){const n={from:0,to:e.content.size};return B3(e,n,t)}function F3(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function KR(e,t){const n=Ut(t,e.schema),{from:r,to:i}=e.selection,u=[];e.doc.nodesBetween(r,i,o=>{u.push(o)});const s=u.reverse().find(o=>o.type.name===n.name);return s?G({},s.attrs):{}}function H3(e,t){const n=Jl(typeof t=="string"?t:t.name,e.schema);return n==="node"?KR(e,t):n==="mark"?O3(e,t):{}}function $R(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function QR(e){const t=$R(e);return t.length===1?t:t.filter((n,r)=>!t.filter((u,s)=>s!==r).some(u=>n.oldRange.from>=u.oldRange.from&&n.oldRange.to<=u.oldRange.to&&n.newRange.from>=u.newRange.from&&n.newRange.to<=u.newRange.to))}function j3(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,u)=>{const s=[];if(i.ranges.length)i.forEach((o,a)=>{s.push({from:o,to:a})});else{const{from:o,to:a}=n[u];if(o===void 0||a===void 0)return;s.push({from:o,to:a})}s.forEach(({from:o,to:a})=>{const c=t.slice(u).map(o,-1),l=t.slice(u).map(a),f=t.invert().map(c,-1),h=t.invert().map(l);r.push({oldRange:{from:f,to:h},newRange:{from:c,to:l}})})}),QR(r)}function G0(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const u=n.resolve(e),s=F0(u,i.type);s&&r.push(G({mark:i},s))}):n.nodesBetween(e,t,(i,u)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(s=>({from:u,to:u+i.nodeSize,mark:s})))}),r}var XR=(e,t,n,r=20)=>{const i=e.doc.resolve(n);let u=r,s=null;for(;u>0&&s===null;){const o=i.node(u);(o==null?void 0:o.type.name)===t?s=o:u-=1}return[s,u]};function td(e,t){return t.nodes[e]||t.marks[e]||null}function Io(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(u=>u.type===t&&u.name===r);return i?i.attribute.keepOnSplit:!1}))}var JR=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(i,u,s,o)=>{var a,c;const l=((c=(a=i.type.spec).toText)==null?void 0:c.call(a,{node:i,pos:u,parent:s,index:o}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?l:l.slice(0,Math.max(0,r-u))}),n};function yf(e,t,n={}){const{empty:r,ranges:i}=e.selection,u=t?qr(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(f=>u?u.name===f.type.name:!0).find(f=>Jo(f.attrs,n,{strict:!1}));let s=0;const o=[];if(i.forEach(({$from:f,$to:h})=>{const d=f.pos,m=h.pos;e.doc.nodesBetween(d,m,(A,x)=>{if(!A.isText&&!A.marks.length)return;const g=Math.max(d,x),b=Math.min(m,x+A.nodeSize),v=b-g;s+=v,o.push(...A.marks.map(p=>({mark:p,from:g,to:b})))})}),s===0)return!1;const a=o.filter(f=>u?u.name===f.mark.type.name:!0).filter(f=>Jo(f.mark.attrs,n,{strict:!1})).reduce((f,h)=>f+h.to-h.from,0),c=o.filter(f=>u?f.mark.type!==u&&f.mark.type.excludes(u):!0).reduce((f,h)=>f+h.to-h.from,0);return(a>0?a+c:a)>=s}function ZR(e,t,n={}){if(!t)return gi(e,null,n)||yf(e,null,n);const r=Jl(t,e.schema);return r==="node"?gi(e,t,n):r==="mark"?yf(e,t,n):!1}var eL=(e,t)=>{const{$from:n,$to:r,$anchor:i}=e.selection;if(t){const u=Zl(o=>o.type.name===t)(e.selection);if(!u)return!1;const s=e.doc.resolve(u.pos+1);return i.pos+1===s.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},tL=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function o1(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function l1(e,t){const{nodeExtensions:n}=ju(t),r=n.find(s=>s.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},u=at(ke(r,"group",i));return typeof u!="string"?!1:u.split(" ").includes("list")}function ec(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(u=>{i!==!1&&(ec(u,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function U3(e){return e instanceof Oe}var z3=class G3{constructor(t){this.position=t}static fromJSON(t){return new G3(t.position)}toJSON(){return{position:this.position}}};function nL(e,t){const n=t.mapping.mapResult(e.position);return{position:new z3(n.pos),mapResult:n}}function rL(e){return new z3(e)}function iL(e,t,n){var r;const{selection:i}=t;let u=null;if(I3(i)&&(u=i.$cursor),u){const o=(r=e.storedMarks)!=null?r:u.marks();return u.parent.type.allowsMarkType(n)&&(!!n.isInSet(o)||!o.some(c=>c.type.excludes(n)))}const{ranges:s}=i;return s.some(({$from:o,$to:a})=>{let c=o.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(o.pos,a.pos,(l,f,h)=>{if(c)return!1;if(l.isInline){const d=!h||h.type.allowsMarkType(n),m=!!n.isInSet(l.marks)||!l.marks.some(A=>A.type.excludes(n));c=d&&m}return!c}),c})}var uL=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:u}=n,{empty:s,ranges:o}=u,a=qr(e,r.schema);if(i)if(s){const c=O3(r,a);n.addStoredMark(a.create(G(G({},c),t)))}else o.forEach(c=>{const l=c.$from.pos,f=c.$to.pos;r.doc.nodesBetween(l,f,(h,d)=>{const m=Math.max(d,l),A=Math.min(d+h.nodeSize,f);h.marks.find(g=>g.type===a)?h.marks.forEach(g=>{a===g.type&&n.addMark(m,A,a.create(G(G({},g.attrs),t)))}):n.addMark(m,A,a.create(t))})});return iL(r,n,a)},sL=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),aL=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const u=Ut(e,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),u.isTextblock?i().command(({commands:o})=>xm(u,G(G({},s),t))(n)?!0:o.clearNodes()).command(({state:o})=>xm(u,G(G({},s),t))(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},oL=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=zi(e,0,r.content.size),u=Oe.create(r,i);t.setSelection(u)}return!0},lL=(e,t)=>({tr:n,state:r,dispatch:i})=>{const{selection:u}=r;let s,o;return typeof t=="number"?(s=t,o=t):t&&"from"in t&&"to"in t?(s=t.from,o=t.to):(s=u.from,o=u.to),i&&n.doc.nodesBetween(s,o,(a,c)=>{a.isText||n.setNodeMarkup(c,void 0,le(G({},a.attrs),{dir:e}))}),!0},cL=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:u}=typeof e=="number"?{from:e,to:e}:e,s=Re.atStart(r).from,o=Re.atEnd(r).to,a=zi(i,s,o),c=zi(u,s,o),l=Re.create(r,a,c);t.setSelection(l)}return!0},dL=e=>({state:t,dispatch:n})=>{const r=Ut(e,t.schema);return sD(r)(t,n)};function c1(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t==null?void 0:t.includes(i.type.name));e.tr.ensureMarks(r)}}var fL=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:u,doc:s}=t,{$from:o,$to:a}=u,c=i.extensionManager.attributes,l=Io(c,o.node().type.name,o.node().attrs);if(u instanceof Oe&&u.node.isBlock)return!o.parentOffset||!Ur(s,o.pos)?!1:(r&&(e&&c1(n,i.extensionManager.splittableMarks),t.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;const f=a.parentOffset===a.parent.content.size,h=o.depth===0?void 0:UR(o.node(-1).contentMatchAt(o.indexAfter(-1)));let d=f&&h?[{type:h,attrs:l}]:void 0,m=Ur(t.doc,t.mapping.map(o.pos),1,d);if(!d&&!m&&Ur(t.doc,t.mapping.map(o.pos),1,h?[{type:h}]:void 0)&&(m=!0,d=h?[{type:h,attrs:l}]:void 0),r){if(m&&(u instanceof Re&&t.deleteSelection(),t.split(t.mapping.map(o.pos),1,d),h&&!f&&!o.parentOffset&&o.parent.type!==h)){const A=t.mapping.map(o.before()),x=t.doc.resolve(A);o.node(-1).canReplaceWith(x.index(),x.index()+1,h)&&t.setNodeMarkup(t.mapping.map(o.before()),h)}e&&c1(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return m},hL=(e,t={})=>({tr:n,state:r,dispatch:i,editor:u})=>{var s;const o=Ut(e,r.schema),{$from:a,$to:c}=r.selection,l=r.selection.node;if(l&&l.isBlock||a.depth<2||!a.sameParent(c))return!1;const f=a.node(-1);if(f.type!==o)return!1;const h=u.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==o||a.index(-2)!==a.node(-2).childCount-1)return!1;if(i){let g=ae.empty;const b=a.index(-1)?1:a.index(-2)?2:3;for(let R=a.depth-b;R>=a.depth-3;R-=1)g=ae.from(a.node(R).copy(g));const v=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,p=G(G({},Io(h,a.node().type.name,a.node().attrs)),t),_=((s=o.contentMatch.defaultType)==null?void 0:s.createAndFill(p))||void 0;g=g.append(ae.from(o.createAndFill(null,_)||void 0));const E=a.before(a.depth-(b-1));n.replace(E,a.after(-v),new Te(g,4-b,0));let k=-1;n.doc.nodesBetween(E,n.doc.content.size,(R,D)=>{if(k>-1)return!1;R.isTextblock&&R.content.size===0&&(k=D+1)}),k>-1&&n.setSelection(Re.near(n.doc.resolve(k))),n.scrollIntoView()}return!0}const d=c.pos===a.end()?f.contentMatchAt(0).defaultType:null,m=G(G({},Io(h,f.type.name,f.attrs)),t),A=G(G({},Io(h,a.node().type.name,a.node().attrs)),t);n.delete(a.pos,c.pos);const x=d?[{type:o,attrs:m},{type:d,attrs:A}]:[{type:o,attrs:m}];if(!Ur(n.doc,a.pos,2))return!1;if(i){const{selection:g,storedMarks:b}=r,{splittableMarks:v}=u.extensionManager,p=b||g.$to.parentOffset&&g.$from.marks();if(n.split(a.pos,2,x).scrollIntoView(),!p||!i)return!0;const _=p.filter(E=>v.includes(E.type.name));n.ensureMarks(_)}return!0},nd=(e,t)=>{const n=Zl(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Ti(e.doc,n.pos)&&e.join(n.pos),!0},rd=(e,t)=>{const n=Zl(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Ti(e.doc,r)&&e.join(r),!0},pL=(e,t,n,r={})=>({editor:i,tr:u,state:s,dispatch:o,chain:a,commands:c,can:l})=>{const{extensions:f,splittableMarks:h}=i.extensionManager,d=Ut(e,s.schema),m=Ut(t,s.schema),{selection:A,storedMarks:x}=s,{$from:g,$to:b}=A,v=g.blockRange(b),p=x||A.$to.parentOffset&&A.$from.marks();if(!v)return!1;const _=Zl(E=>l1(E.type.name,f))(A);if(v.depth>=1&&_&&v.depth-_.depth<=1){if(_.node.type===d)return c.liftListItem(m);if(l1(_.node.type.name,f)&&d.validContent(_.node.content)&&o)return a().command(()=>(u.setNodeMarkup(_.pos,d),!0)).command(()=>nd(u,d)).command(()=>rd(u,d)).run()}return!n||!p||!o?a().command(()=>l().wrapInList(d,r)?!0:c.clearNodes()).wrapInList(d,r).command(()=>nd(u,d)).command(()=>rd(u,d)).run():a().command(()=>{const E=l().wrapInList(d,r),k=p.filter(R=>h.includes(R.type.name));return u.ensureMarks(k),E?!0:c.clearNodes()}).wrapInList(d,r).command(()=>nd(u,d)).command(()=>rd(u,d)).run()},mL=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:u=!1}=n,s=qr(e,r.schema);return yf(r,s,t)?i.unsetMark(s,{extendEmptyMarkRange:u}):i.setMark(s,t)},gL=(e,t,n={})=>({state:r,commands:i})=>{const u=Ut(e,r.schema),s=Ut(t,r.schema),o=gi(r,u,n);let a;return r.selection.$anchor.sameParent(r.selection.$head)&&(a=r.selection.$anchor.parent.attrs),o?i.setNode(s,a):i.setNode(u,G(G({},a),n))},bL=(e,t={})=>({state:n,commands:r})=>{const i=Ut(e,n.schema);return gi(n,i,t)?r.lift(i):r.wrapIn(i,t)},EL=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let u;if(i.spec.isInputRules&&(u=i.getState(e))){if(t){const s=e.tr,o=u.transform;for(let a=o.steps.length-1;a>=0;a-=1)s.step(o.steps[a].invert(o.docs[a]));if(u.text){const a=s.doc.resolve(u.from).marks();s.replaceWith(u.from,u.to,e.schema.text(u.text,a))}else s.delete(u.from,u.to)}return!0}}return!1},TL=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(u=>{e.removeMark(u.$from.pos,u.$to.pos)}),!0},_L=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var u;const{extendEmptyMarkRange:s=!1}=t,{selection:o}=n,a=qr(e,r.schema),{$from:c,empty:l,ranges:f}=o;if(!i)return!0;if(l&&s){let{from:h,to:d}=o;const m=(u=c.marks().find(x=>x.type===a))==null?void 0:u.attrs,A=F0(c,a,m);A&&(h=A.from,d=A.to),n.removeMark(h,d,a)}else f.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,a)});return n.removeStoredMark(a),!0},yL=e=>({tr:t,state:n,dispatch:r})=>{const{selection:i}=n;let u,s;return typeof e=="number"?(u=e,s=e):e&&"from"in e&&"to"in e?(u=e.from,s=e.to):(u=i.from,s=i.to),r&&t.doc.nodesBetween(u,s,(o,a)=>{if(o.isText)return;const c=G({},o.attrs);delete c.dir,t.setNodeMarkup(a,void 0,c)}),!0},AL=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let u=null,s=null;const o=Jl(typeof e=="string"?e:e.name,r.schema);if(!o)return!1;o==="node"&&(u=Ut(e,r.schema)),o==="mark"&&(s=qr(e,r.schema));let a=!1;return n.selection.ranges.forEach(c=>{const l=c.$from.pos,f=c.$to.pos;let h,d,m,A;n.selection.empty?r.doc.nodesBetween(l,f,(x,g)=>{u&&u===x.type&&(a=!0,m=Math.max(g,l),A=Math.min(g+x.nodeSize,f),h=g,d=x)}):r.doc.nodesBetween(l,f,(x,g)=>{g<l&&u&&u===x.type&&(a=!0,m=Math.max(g,l),A=Math.min(g+x.nodeSize,f),h=g,d=x),g>=l&&g<=f&&(u&&u===x.type&&(a=!0,i&&n.setNodeMarkup(g,void 0,G(G({},x.attrs),t))),s&&x.marks.length&&x.marks.forEach(b=>{if(s===b.type&&(a=!0,i)){const v=Math.max(g,l),p=Math.min(g+x.nodeSize,f);n.addMark(v,p,s.create(G(G({},b.attrs),t)))}}))}),d&&(h!==void 0&&i&&n.setNodeMarkup(h,void 0,G(G({},d.attrs),t)),s&&d.marks.length&&d.marks.forEach(x=>{s===x.type&&i&&n.addMark(m,A,s.create(G(G({},x.attrs),t)))}))}),a},xL=(e,t={})=>({state:n,dispatch:r})=>{const i=Ut(e,n.schema);return ZO(i,t)(n,r)},CL=(e,t={})=>({state:n,dispatch:r})=>{const i=Ut(e,n.schema);return eD(i,t)(n,r)},NL=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(r=>r.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(r=>r!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}},tc=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},SL=(e,t)=>{if(B0(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function eo(e){var t;const{editor:n,from:r,to:i,text:u,rules:s,plugin:o}=e,{view:a}=n;if(a.composing)return!1;const c=a.state.doc.resolve(r);if(c.parent.type.spec.code||(t=c.nodeBefore||c.nodeAfter)!=null&&t.marks.find(h=>h.type.spec.code))return!1;let l=!1;const f=JR(c)+u;return s.forEach(h=>{if(l)return;const d=SL(f,h.find);if(!d)return;const m=a.state.tr,A=Ql({state:a.state,transaction:m}),x={from:r-(d[0].length-u.length),to:i},{commands:g,chain:b,can:v}=new Xl({editor:n,state:A});h.handler({state:A,range:x,match:d,commands:g,chain:b,can:v})===null||!m.steps.length||(h.undoable&&m.setMeta(o,{transform:m,from:r,to:i,text:u}),a.dispatch(m),l=!0)}),l}function IL(e){const{editor:t,rules:n}=e,r=new bt({state:{init(){return null},apply(i,u,s){const o=i.getMeta(r);if(o)return o;const a=i.getMeta("applyInputRules");return!!a&&setTimeout(()=>{let{text:l}=a;typeof l=="string"?l=l:l=U0(ae.from(l),s.schema);const{from:f}=a,h=f+l.length;eo({editor:t,from:f,to:h,text:l,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:u}},props:{handleTextInput(i,u,s,o){return eo({editor:t,from:u,to:s,text:o,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:u}=i.state.selection;u&&eo({editor:t,from:u.pos,to:u.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,u){if(u.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?eo({editor:t,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function vL(e){return Object.prototype.toString.call(e).slice(8,-1)}function to(e){return vL(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function q3(e,t){const n=G({},e);return to(e)&&to(t)&&Object.keys(t).forEach(r=>{to(t[r])&&to(e[r])?n[r]=q3(e[r],t[r]):n[r]=t[r]}),n}var q0=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config=G(G({},this.config),e),this.name=this.config.name}get options(){return G({},at(ke(this,"addOptions",{name:this.name}))||{})}get storage(){return G({},at(ke(this,"addStorage",{name:this.name,options:this.options}))||{})}configure(e={}){const t=this.extend(le(G({},this.config),{addOptions:()=>q3(this.options,e)}));return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor(G(G({},this.config),e));return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},au=class V3 extends q0{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new V3(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const a=s.find(c=>(c==null?void 0:c.type.name)===n.name);return a&&r.removeStoredMark(a),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function kL(e){return typeof e=="number"}var wL=class{constructor(e){this.find=e.find,this.handler=e.handler}},OL=(e,t,n)=>{if(B0(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(i=>{const u=[i.text];return u.index=i.index,u.input=e,u.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),u.push(i.replaceWith)),u}):[]};function DL(e){const{editor:t,state:n,from:r,to:i,rule:u,pasteEvent:s,dropEvent:o}=e,{commands:a,chain:c,can:l}=new Xl({editor:t,state:n}),f=[];return n.doc.nodesBetween(r,i,(d,m)=>{var A,x,g,b,v;if((x=(A=d.type)==null?void 0:A.spec)!=null&&x.code||!(d.isText||d.isTextblock||d.isInline))return;const p=(v=(b=(g=d.content)==null?void 0:g.size)!=null?b:d.nodeSize)!=null?v:0,_=Math.max(r,m),E=Math.min(i,m+p);if(_>=E)return;const k=d.isText?d.text||"":d.textBetween(_-m,E-m,void 0,"￼");OL(k,u.find,s).forEach(D=>{if(D.index===void 0)return;const N=_+D.index+1,I=N+D[0].length,w={from:n.tr.mapping.map(N),to:n.tr.mapping.map(I)},O=u.handler({state:n,range:w,match:D,commands:a,chain:c,can:l,pasteEvent:s,dropEvent:o});f.push(O)})}),f.every(d=>d!==null)}var no=null,RL=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function LL(e){const{editor:t,rules:n}=e;let r=null,i=!1,u=!1,s=typeof ClipboardEvent!="undefined"?new ClipboardEvent("paste"):null,o;try{o=typeof DragEvent!="undefined"?new DragEvent("drop"):null}catch(l){o=null}const a=({state:l,from:f,to:h,rule:d,pasteEvt:m})=>{const A=l.tr,x=Ql({state:l,transaction:A});if(!(!DL({editor:t,state:x,from:Math.max(f-1,0),to:h.b-1,rule:d,pasteEvent:m,dropEvent:o})||!A.steps.length)){try{o=typeof DragEvent!="undefined"?new DragEvent("drop"):null}catch(b){o=null}return s=typeof ClipboardEvent!="undefined"?new ClipboardEvent("paste"):null,A}};return n.map(l=>new bt({view(f){const h=m=>{var A;r=(A=f.dom.parentElement)!=null&&A.contains(m.target)?f.dom.parentElement:null,r&&(no=t)},d=()=>{no&&(no=null)};return window.addEventListener("dragstart",h),window.addEventListener("dragend",d),{destroy(){window.removeEventListener("dragstart",h),window.removeEventListener("dragend",d)}}},props:{handleDOMEvents:{drop:(f,h)=>{if(u=r===f.dom.parentElement,o=h,!u){const d=no;d!=null&&d.isEditable&&setTimeout(()=>{const m=d.state.selection;m&&d.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(f,h)=>{var d;const m=(d=h.clipboardData)==null?void 0:d.getData("text/html");return s=h,i=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(f,h,d)=>{const m=f[0],A=m.getMeta("uiEvent")==="paste"&&!i,x=m.getMeta("uiEvent")==="drop"&&!u,g=m.getMeta("applyPasteRules"),b=!!g;if(!A&&!x&&!b)return;if(b){let{text:_}=g;typeof _=="string"?_=_:_=U0(ae.from(_),d.schema);const{from:E}=g,k=E+_.length,R=RL(_);return a({rule:l,state:d,from:E,to:{b:k},pasteEvt:R})}const v=h.doc.content.findDiffStart(d.doc.content),p=h.doc.content.findDiffEnd(d.doc.content);if(!(!kL(v)||!p||v===p.b))return a({rule:l,state:d,from:v,to:p,pasteEvt:s})}}))}var nc=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=M3(e),this.schema=VR(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:td(t.name,this.schema)},r=ke(t,"addCommands",n);return r?G(G({},e),r()):e},{})}get plugins(){const{editor:e}=this;return z0([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:td(r.name,this.schema)},u=[],s=ke(r,"addKeyboardShortcuts",i);let o={};if(r.type==="mark"&&ke(r,"exitable",i)&&(o.ArrowRight=()=>au.handleExit({editor:e,mark:r})),s){const h=Object.fromEntries(Object.entries(s()).map(([d,m])=>[d,()=>m({editor:e})]));o=G(G({},o),h)}const a=$5(o);u.push(a);const c=ke(r,"addInputRules",i);if(o1(r,e.options.enableInputRules)&&c){const h=c();if(h&&h.length){const d=IL({editor:e,rules:h}),m=Array.isArray(d)?d:[d];u.push(...m)}}const l=ke(r,"addPasteRules",i);if(o1(r,e.options.enablePasteRules)&&l){const h=l();if(h&&h.length){const d=LL({editor:e,rules:h});u.push(...d)}}const f=ke(r,"addProseMirrorPlugins",i);if(f){const h=f();u.push(...h)}return u})}get attributes(){return P3(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=ju(this.extensions);return Object.fromEntries(t.filter(n=>!!ke(n,"addNodeView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Ut(n.name,this.schema)},u=ke(n,"addNodeView",i);if(!u)return[];const s=u();if(!s)return[];const o=(a,c,l,f,h)=>{const d=Zo(a,r);return s({node:a,view:c,getPos:l,decorations:f,innerDecorations:h,editor:e,extension:n,HTMLAttributes:d})};return[n.name,o]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=ju(this.extensions);return Object.fromEntries(t.filter(n=>!!ke(n,"addMarkView")).map(n=>{const r=this.attributes.filter(o=>o.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:qr(n.name,this.schema)},u=ke(n,"addMarkView",i);if(!u)return[];const s=(o,a,c)=>{const l=Zo(o,r);return u()({mark:o,view:a,inline:c,editor:e,extension:n,HTMLAttributes:l,updateAttributes:f=>{$L(o,e,f)}})};return[n.name,s]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:td(t.name,this.schema)};t.type==="mark"&&((n=at(ke(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const i=ke(t,"onBeforeCreate",r),u=ke(t,"onCreate",r),s=ke(t,"onUpdate",r),o=ke(t,"onSelectionUpdate",r),a=ke(t,"onTransaction",r),c=ke(t,"onFocus",r),l=ke(t,"onBlur",r),f=ke(t,"onDestroy",r);i&&this.editor.on("beforeCreate",i),u&&this.editor.on("create",u),s&&this.editor.on("update",s),o&&this.editor.on("selectionUpdate",o),a&&this.editor.on("transaction",a),c&&this.editor.on("focus",c),l&&this.editor.on("blur",l),f&&this.editor.on("destroy",f)})}};nc.resolve=M3;nc.sort=z0;nc.flatten=j0;var PL={};M0(PL,{ClipboardTextSerializer:()=>Y3,Commands:()=>K3,Delete:()=>$3,Drop:()=>Q3,Editable:()=>X3,FocusEvents:()=>Z3,Keymap:()=>e_,Paste:()=>t_,Tabindex:()=>n_,TextDirection:()=>r_,focusEventsPluginKey:()=>J3});var Nt=class W3 extends q0{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new W3(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},Y3=Nt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new bt({key:new It("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:u}=i,s=Math.min(...u.map(l=>l.$from.pos)),o=Math.max(...u.map(l=>l.$to.pos)),a=F3(n);return B3(r,{from:s,to:o},le(G({},this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{}),{textSerializers:a}))}}})]}}),K3=Nt.create({name:"commands",addCommands(){return G({},N3)}}),$3=Nt.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,i;const u=()=>{var s,o,a,c;if((c=(a=(o=(s=this.editor.options.coreExtensionOptions)==null?void 0:s.delete)==null?void 0:o.filterTransaction)==null?void 0:a.call(o,e))!=null?c:e.getMeta("y-sync$"))return;const l=D3(e.before,[e,...t]);j3(l).forEach(d=>{l.mapping.mapResult(d.oldRange.from).deletedAfter&&l.mapping.mapResult(d.oldRange.to).deletedBefore&&l.before.nodesBetween(d.oldRange.from,d.oldRange.to,(m,A)=>{const x=A+m.nodeSize-2,g=d.oldRange.from<=A&&x<=d.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:A,to:x,newFrom:l.mapping.map(A),newTo:l.mapping.map(x),deletedRange:d.oldRange,newRange:d.newRange,partial:!g,editor:this.editor,transaction:e,combinedTransform:l})})});const h=l.mapping;l.steps.forEach((d,m)=>{var A,x;if(d instanceof rr){const g=h.slice(m).map(d.from,-1),b=h.slice(m).map(d.to),v=h.invert().map(g,-1),p=h.invert().map(b),_=(A=l.doc.nodeAt(g-1))==null?void 0:A.marks.some(k=>k.eq(d.mark)),E=(x=l.doc.nodeAt(b))==null?void 0:x.marks.some(k=>k.eq(d.mark));this.editor.emit("delete",{type:"mark",mark:d.mark,from:d.from,to:d.to,deletedRange:{from:v,to:p},newRange:{from:g,to:b},partial:!!(E||_),editor:this.editor,transaction:e,combinedTransform:l})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(u,0):u()}}),Q3=Nt.create({name:"drop",addProseMirrorPlugins(){return[new bt({key:new It("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),X3=Nt.create({name:"editable",addProseMirrorPlugins(){return[new bt({key:new It("editable"),props:{editable:()=>this.editor.options.editable}})]}}),J3=new It("focusEvents"),Z3=Nt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new bt({key:J3,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),e_=Nt.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:o})=>{const{selection:a,doc:c}=o,{empty:l,$anchor:f}=a,{pos:h,parent:d}=f,m=f.parent.isTextblock&&h>0?o.doc.resolve(h-1):f,A=m.parent.type.spec.isolating,x=f.pos-f.parentOffset,g=A&&m.parent.childCount===1?x===f.pos:Fe.atStart(c).from===h;return!l||!d.type.isTextblock||d.textContent.length||!g||g&&f.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i=G({},r),u=le(G({},r),{"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return H0()||w3()?u:i},addProseMirrorPlugins(){return[new bt({key:new It("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(A=>A.getMeta("composition")))return;const r=e.some(A=>A.docChanged)&&!t.doc.eq(n.doc),i=e.some(A=>A.getMeta("preventClearDocument"));if(!r||i)return;const{empty:u,from:s,to:o}=t.selection,a=Fe.atStart(t.doc).from,c=Fe.atEnd(t.doc).to;if(u||!(s===a&&o===c)||!ec(n.doc))return;const h=n.tr,d=Ql({state:n,transaction:h}),{commands:m}=new Xl({editor:this.editor,state:d});if(m.clearNodes(),!!h.steps.length)return h}})]}}),t_=Nt.create({name:"paste",addProseMirrorPlugins(){return[new bt({key:new It("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),n_=Nt.create({name:"tabindex",addProseMirrorPlugins(){return[new bt({key:new It("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),r_=Nt.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=ju(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new bt({key:new It("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),ML=class Cu{constructor(t,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new Cu(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Cu(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Cu(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,u=n.isAtom&&!n.isText,s=this.pos+r+(u?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;const o=this.resolvedPos.doc.resolve(s);if(!i&&o.depth<=this.depth)return;const a=new Cu(o,this.editor,i,i?n:null);i&&(a.actualDepth=this.depth+1),t.push(new Cu(o,this.editor,i,i?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===t)if(Object.keys(n).length>0){const u=i.node.attrs,s=Object.keys(n);for(let o=0;o<s.length;o+=1){const a=s[o];if(u[a]!==n[a])break}}else r=i;i=i.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const u=Object.keys(n);return this.children.forEach(s=>{r&&i.length>0||(s.node.type.name===t&&u.every(a=>n[a]===s.node.attrs[a])&&i.push(s),!(r&&i.length>0)&&(i=i.concat(s.querySelectorAll(t,n,r))))}),i}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,G(G({},this.node.attrs),t)),this.editor.view.dispatch(n)}},BL=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function FL(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style",""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}var HL=class extends NL{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document!="undefined"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:nL,createMappablePosition:rL},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:u})=>this.options.onDrop(r,i,u)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=v3(t,this.options.autofocus);this.editorState=Iu.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document=="undefined")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e!=null&&e.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document!="undefined"&&(this.css=FL(BL,this.options.injectNonce))}setOptions(e={}){this.options=G(G({},this.options),e),!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=L3(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(i=>{const u=typeof i=="string"?`${i}$`:i.key;n=n.filter(s=>!s.key.startsWith(u))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[X3,Y3.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),K3,Z3,e_,n_,Q3,t_,$3,r_.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new nc(r,this)}createCommandManager(){this.commandManager=new Xl({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=_f(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=_f(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new C3(e,le(G({},this.options.editorProps),{attributes:G({role:"textbox"},(t=this.options.editorProps)==null?void 0:t.attributes),dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews}));const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(c=>{var l;return(l=this.capturedTransaction)==null?void 0:l.step(c)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),i=n.includes(e),u=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!i)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),o=s==null?void 0:s.getMeta("focus"),a=s==null?void 0:s.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:s}),a&&this.emit("blur",{editor:this,event:a.event,transaction:s}),!(e.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||u.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return H3(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return ZR(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return U0(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return YR(this.state.doc,{blockSeparator:t,textSerializers:G(G({},F3(this.schema)),n)})}get isEmpty(){return ec(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new ML(t,this)}get $doc(){return this.$pos(0)}};function Uu(e){return new tc({find:e.find,handler:({state:t,range:n,match:r})=>{const i=at(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:u}=t,s=r[r.length-1],o=r[0];if(s){const a=o.search(/\S/),c=n.from+o.indexOf(s),l=c+s.length;if(G0(n.from,n.to,t.doc).filter(d=>d.mark.type.excluded.find(A=>A===e.type&&A!==d.mark.type)).filter(d=>d.to>c).length)return null;l<n.to&&u.delete(l,n.to),c>n.from&&u.delete(n.from+a,c);const h=n.from+a+s.length;u.addMark(n.from+a,h,e.type.create(i||{})),u.removeStoredMark(e.type)}},undoable:e.undoable})}function i_(e){return new tc({find:e.find,handler:({state:t,range:n,match:r})=>{const i=at(e.getAttributes,void 0,r)||{},{tr:u}=t,s=n.from;let o=n.to;const a=e.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let l=s+c;l>o?l=o:o=l+r[1].length;const f=r[0][r[0].length-1];u.insertText(f,s+r[0].length-1),u.replaceWith(l,o,a)}else if(r[0]){const c=e.type.isInline?s:s-1;u.insert(c,e.type.create(i)).delete(u.mapping.map(s),u.mapping.map(o))}u.scrollIntoView()},undoable:e.undoable})}function Af(e){return new tc({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),u=at(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,u)},undoable:e.undoable})}function zu(e){return new tc({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{const u=at(e.getAttributes,void 0,r)||{},s=t.tr.delete(n.from,n.to),a=s.doc.resolve(n.from).blockRange(),c=a&&E0(a,e.type,u);if(!c)return null;if(s.wrap(a,c),e.keepMarks&&e.editor){const{selection:f,storedMarks:h}=t,{splittableMarks:d}=e.editor.extensionManager,m=h||f.$to.parentOffset&&f.$from.marks();if(m){const A=m.filter(x=>d.includes(x.type.name));s.ensureMarks(A)}}if(e.keepAttributes){const f=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,u).run()}const l=s.doc.resolve(n.from-1).nodeBefore;l&&l.type===e.type&&Ti(s.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,l))&&s.join(n.from-1)},undoable:e.undoable})}var jL=e=>"touches"in e,UL=class{constructor(e){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=o=>{if(!this.isResizing||!this.activeHandle)return;const a=o.clientX-this.startX,c=o.clientY-this.startY;this.handleResize(a,c)},this.handleTouchMove=o=>{if(!this.isResizing||!this.activeHandle)return;const a=o.touches[0];if(!a)return;const c=a.clientX-this.startX,l=a.clientY-this.startY;this.handleResize(c,l)},this.handleMouseUp=()=>{if(!this.isResizing)return;const o=this.element.offsetWidth,a=this.element.offsetHeight;this.onCommit(o,a),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=o=>{o.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=o=>{o.key==="Shift"&&(this.isShiftKeyPressed=!1)};var t,n,r,i,u,s;this.node=e.node,this.editor=e.editor,this.element=e.element,this.contentElement=e.contentElement,this.getPos=e.getPos,this.onResize=e.onResize,this.onCommit=e.onCommit,this.onUpdate=e.onUpdate,(t=e.options)!=null&&t.min&&(this.minSize=G(G({},this.minSize),e.options.min)),(n=e.options)!=null&&n.max&&(this.maxSize=e.options.max),(r=e==null?void 0:e.options)!=null&&r.directions&&(this.directions=e.options.directions),(i=e.options)!=null&&i.preserveAspectRatio&&(this.preserveAspectRatio=e.options.preserveAspectRatio),(u=e.options)!=null&&u.className&&(this.classNames={container:e.options.className.container||"",wrapper:e.options.className.wrapper||"",handle:e.options.className.handle||"",resizing:e.options.className.resizing||""}),(s=e.options)!=null&&s.createCustomHandle&&(this.createCustomHandle=e.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const e=this.editor.isEditable;e!==this.lastEditableState&&(this.lastEditableState=e,e?e&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(e,t,n){return e.type!==this.node.type?!1:(this.node=e,this.onUpdate?this.onUpdate(e,t,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const e=document.createElement("div");return e.dataset.resizeContainer="",e.dataset.node=this.node.type.name,e.style.display="flex",this.classNames.container&&(e.className=this.classNames.container),e.appendChild(this.wrapper),e}createWrapper(){const e=document.createElement("div");return e.style.position="relative",e.style.display="block",e.dataset.resizeWrapper="",this.classNames.wrapper&&(e.className=this.classNames.wrapper),e.appendChild(this.element),e}createHandle(e){const t=document.createElement("div");return t.dataset.resizeHandle=e,t.style.position="absolute",this.classNames.handle&&(t.className=this.classNames.handle),t}positionHandle(e,t){const n=t.includes("top"),r=t.includes("bottom"),i=t.includes("left"),u=t.includes("right");n&&(e.style.top="0"),r&&(e.style.bottom="0"),i&&(e.style.left="0"),u&&(e.style.right="0"),(t==="top"||t==="bottom")&&(e.style.left="0",e.style.right="0"),(t==="left"||t==="right")&&(e.style.top="0",e.style.bottom="0")}attachHandles(){this.directions.forEach(e=>{let t;this.createCustomHandle?t=this.createCustomHandle(e):t=this.createHandle(e),t instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${e}") did not return an HTMLElement. Falling back to default handle.`),t=this.createHandle(e)),this.createCustomHandle||this.positionHandle(t,e),t.addEventListener("mousedown",n=>this.handleResizeStart(n,e)),t.addEventListener("touchstart",n=>this.handleResizeStart(n,e)),this.handleMap.set(e,t),this.wrapper.appendChild(t)})}removeHandles(){this.handleMap.forEach(e=>e.remove()),this.handleMap.clear()}applyInitialSize(){const e=this.node.attrs.width,t=this.node.attrs.height;e?(this.element.style.width=`${e}px`,this.initialWidth=e):this.initialWidth=this.element.offsetWidth,t?(this.element.style.height=`${t}px`,this.initialHeight=t):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(e,t){e.preventDefault(),e.stopPropagation(),this.isResizing=!0,this.activeHandle=t,jL(e)?(this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY):(this.startX=e.clientX,this.startY=e.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(e,t){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:i}=this.calculateNewDimensions(this.activeHandle,e,t),u=this.applyConstraints(r,i,n);this.element.style.width=`${u.width}px`,this.element.style.height=`${u.height}px`,this.onResize&&this.onResize(u.width,u.height)}calculateNewDimensions(e,t,n){let r=this.startWidth,i=this.startHeight;const u=e.includes("right"),s=e.includes("left"),o=e.includes("bottom"),a=e.includes("top");return u?r=this.startWidth+t:s&&(r=this.startWidth-t),o?i=this.startHeight+n:a&&(i=this.startHeight-n),(e==="right"||e==="left")&&(r=this.startWidth+(u?t:-t)),(e==="top"||e==="bottom")&&(i=this.startHeight+(o?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,i,e):{width:r,height:i}}applyConstraints(e,t,n){var r,i,u,s;if(!n){let c=Math.max(this.minSize.width,e),l=Math.max(this.minSize.height,t);return(r=this.maxSize)!=null&&r.width&&(c=Math.min(this.maxSize.width,c)),(i=this.maxSize)!=null&&i.height&&(l=Math.min(this.maxSize.height,l)),{width:c,height:l}}let o=e,a=t;return o<this.minSize.width&&(o=this.minSize.width,a=o/this.aspectRatio),a<this.minSize.height&&(a=this.minSize.height,o=a*this.aspectRatio),(u=this.maxSize)!=null&&u.width&&o>this.maxSize.width&&(o=this.maxSize.width,a=o/this.aspectRatio),(s=this.maxSize)!=null&&s.height&&a>this.maxSize.height&&(a=this.maxSize.height,o=a*this.aspectRatio),{width:o,height:a}}applyAspectRatio(e,t,n){const r=n==="left"||n==="right",i=n==="top"||n==="bottom";return r?{width:e,height:e/this.aspectRatio}:i?{width:t*this.aspectRatio,height:t}:{width:e,height:e/this.aspectRatio}}};function zL(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof Oe){const u=r.index();return r.parent.canReplaceWith(u,u+1,t)}let i=r.depth;for(;i>=0;){const u=r.index(i);if(r.node(i).contentMatchAt(u).matchType(t))return!0;i-=1}return!1}var GL={};M0(GL,{createAtomBlockMarkdownSpec:()=>qL,createBlockMarkdownSpec:()=>VL,createInlineMarkdownSpec:()=>KL,parseAttributes:()=>V0,parseIndentedBlocks:()=>xf,renderNestedMarkdownContent:()=>Y0,serializeAttributes:()=>W0});function V0(e){if(!(e!=null&&e.trim()))return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(l=>l.trim().slice(1));t.class=c.join(" ")}const u=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);u&&(t.id=u[1]);const s=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(s)).forEach(([,c,l])=>{var f;const h=parseInt(((f=l.match(/__QUOTED_(\d+)__/))==null?void 0:f[1])||"0",10),d=n[h];d&&(t[c]=d.slice(1,-1))});const a=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return a&&a.split(/\s+/).filter(Boolean).forEach(l=>{l.match(/^[a-zA-Z][\w-]*$/)&&(t[l]=!0)}),t}function W0(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function qL(e){const{nodeName:t,name:n,parseAttributes:r=V0,serializeAttributes:i=W0,defaultAttributes:u={},requiredAttributes:s=[],allowedAttributes:o}=e,a=n||t,c=l=>{if(!o)return l;const f={};return o.forEach(h=>{h in l&&(f[h]=l[h])}),f};return{parseMarkdown:(l,f)=>{const h=G(G({},u),l.attributes);return f.createNode(t,h,[])},markdownTokenizer:{name:t,level:"block",start(l){var f;const h=new RegExp(`^:::${a}(?:\\s|$)`,"m"),d=(f=l.match(h))==null?void 0:f.index;return d!==void 0?d:-1},tokenize(l,f,h){const d=new RegExp(`^:::${a}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=l.match(d);if(!m)return;const A=m[1]||"",x=r(A);if(!s.find(b=>!(b in x)))return{type:t,raw:m[0],attributes:x}}},renderMarkdown:l=>{const f=c(l.attrs||{}),h=i(f),d=h?` {${h}}`:"";return`:::${a}${d} :::`}}}function VL(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=V0,serializeAttributes:u=W0,defaultAttributes:s={},content:o="block",allowedAttributes:a}=e,c=n||t,l=f=>{if(!a)return f;const h={};return a.forEach(d=>{d in f&&(h[d]=f[d])}),h};return{parseMarkdown:(f,h)=>{let d;if(r){const A=r(f);d=typeof A=="string"?[{type:"text",text:A}]:A}else o==="block"?d=h.parseChildren(f.tokens||[]):d=h.parseInline(f.tokens||[]);const m=G(G({},s),f.attributes);return h.createNode(t,m,d)},markdownTokenizer:{name:t,level:"block",start(f){var h;const d=new RegExp(`^:::${c}`,"m"),m=(h=f.match(d))==null?void 0:h.index;return m!==void 0?m:-1},tokenize(f,h,d){var m;const A=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),x=f.match(A);if(!x)return;const[g,b=""]=x,v=i(b);let p=1;const _=g.length;let E="";const k=/^:::([\w-]*)(\s.*)?/gm,R=f.slice(_);for(k.lastIndex=0;;){const D=k.exec(R);if(D===null)break;const N=D.index,I=D[1];if(!((m=D[2])!=null&&m.endsWith(":::"))){if(I)p+=1;else if(p-=1,p===0){const w=R.slice(0,N);E=w.trim();const O=f.slice(0,_+N+D[0].length);let P=[];if(E)if(o==="block")for(P=d.blockTokens(w),P.forEach(B=>{B.text&&(!B.tokens||B.tokens.length===0)&&(B.tokens=d.inlineTokens(B.text))});P.length>0;){const B=P[P.length-1];if(B.type==="paragraph"&&(!B.text||B.text.trim()===""))P.pop();else break}else P=d.inlineTokens(E);return{type:t,raw:O,attributes:v,content:E,tokens:P}}}}}},renderMarkdown:(f,h)=>{const d=l(f.attrs||{}),m=u(d),A=m?` {${m}}`:"",x=h.renderChildren(f.content||[],`

`);return`:::${c}${A}

${x}

:::`}}}function WL(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,i,u,s]=r;t[i]=u||s,r=n.exec(e)}return t}function YL(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function KL(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=WL,serializeAttributes:u=YL,defaultAttributes:s={},selfClosing:o=!1,allowedAttributes:a}=e,c=n||t,l=h=>{if(!a)return h;const d={};return a.forEach(m=>{const A=typeof m=="string"?m:m.name,x=typeof m=="string"?void 0:m.skipIfDefault;if(A in h){const g=h[A];if(x!==void 0&&g===x)return;d[A]=g}}),d},f=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(h,d)=>{const m=G(G({},s),h.attributes);if(o)return d.createNode(t,m);const A=r?r(h):h.content||"";return A?d.createNode(t,m,[d.createTextNode(A)]):d.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(h){const d=o?new RegExp(`\\[${f}\\s*[^\\]]*\\]`):new RegExp(`\\[${f}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${f}\\]`),m=h.match(d),A=m==null?void 0:m.index;return A!==void 0?A:-1},tokenize(h,d,m){const A=o?new RegExp(`^\\[${f}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${f}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${f}\\]`),x=h.match(A);if(!x)return;let g="",b="";if(o){const[,p]=x;b=p}else{const[,p,_]=x;b=p,g=_||""}const v=i(b.trim());return{type:t,raw:x[0],content:g.trim(),attributes:v}}},renderMarkdown:h=>{let d="";r?d=r(h):h.content&&h.content.length>0&&(d=h.content.filter(g=>g.type==="text").map(g=>g.text).join(""));const m=l(h.attrs||{}),A=u(m),x=A?` ${A}`:"";return o?`[${c}${x}]`:`[${c}${x}]${d}[/${c}]`}}}function xf(e,t,n){var r,i,u,s;const o=e.split(`
`),a=[];let c="",l=0;const f=t.baseIndentSize||2;for(;l<o.length;){const h=o[l],d=h.match(t.itemPattern);if(!d){if(a.length>0)break;if(h.trim()===""){l+=1,c=`${c}${h}
`;continue}else return}const m=t.extractItemData(d),{indentLevel:A,mainContent:x}=m;c=`${c}${h}
`;const g=[x];for(l+=1;l<o.length;){const _=o[l];if(_.trim()===""){const k=o.slice(l+1).findIndex(N=>N.trim()!=="");if(k===-1)break;if((((i=(r=o[l+1+k].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>A){g.push(_),c=`${c}${_}
`,l+=1;continue}else break}if((((s=(u=_.match(/^(\s*)/))==null?void 0:u[1])==null?void 0:s.length)||0)>A)g.push(_),c=`${c}${_}
`,l+=1;else break}let b;const v=g.slice(1);if(v.length>0){const _=v.map(E=>E.slice(A+f)).join(`
`);_.trim()&&(t.customNestedParser?b=t.customNestedParser(_):b=n.blockTokens(_))}const p=t.createToken(m,b);a.push(p)}if(a.length!==0)return{items:a,raw:c}}function Y0(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const i=typeof n=="function"?n(r):n,[u,...s]=e.content,o=t.renderChildren([u]),a=[`${i}${o}`];return s&&s.length>0&&s.forEach(c=>{const l=t.renderChildren([c]);if(l){const f=l.split(`
`).map(h=>h?t.indent(h):"").join(`
`);a.push(f)}}),a.join(`
`)}function $L(e,t,n={}){const{state:r}=t,{doc:i,tr:u}=r,s=e;i.descendants((o,a)=>{const c=u.mapping.map(a),l=u.mapping.map(a)+o.nodeSize;let f=null;if(o.marks.forEach(d=>{if(d!==s)return!1;f=d}),!f)return;let h=!1;if(Object.keys(n).forEach(d=>{n[d]!==f.attrs[d]&&(h=!0)}),h){const d=e.type.create(G(G({},e.attrs),n));u.removeMark(c,l,e.type),u.addMark(c,l,d)}}),u.docChanged&&t.view.dispatch(u)}var zt=class u_ extends q0{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new u_(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function tu(e){return new wL({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const u=at(e.getAttributes,void 0,r,i);if(u===!1||u===null)return null;const{tr:s}=t,o=r[r.length-1],a=r[0];let c=n.to;if(o){const l=a.search(/\S/),f=n.from+a.indexOf(o),h=f+o.length;if(G0(n.from,n.to,t.doc).filter(m=>m.mark.type.excluded.find(x=>x===e.type&&x!==m.mark.type)).filter(m=>m.to>f).length)return null;h<n.to&&s.delete(h,n.to),f>n.from&&s.delete(n.from+l,f),c=n.from+l+o.length,s.addMark(n.from+l,c,e.type.create(u||{})),s.removeStoredMark(e.type)}}})}const{getOwnPropertyNames:QL,getOwnPropertySymbols:XL}=Object,{hasOwnProperty:JL}=Object.prototype;function d1(e,t){return function(r,i,u){return e(r,i,u)&&t(r,i,u)}}function ro(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);const{cache:u}=i,s=u.get(n),o=u.get(r);if(s&&o)return s===r&&o===n;u.set(n,r),u.set(r,n);const a=e(n,r,i);return u.delete(n),u.delete(r),a}}function ZL(e){return e!=null?e[Symbol.toStringTag]:void 0}function f1(e){return QL(e).concat(XL(e))}const eP=Object.hasOwn||((e,t)=>JL.call(e,t));function ou(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const tP="__v",nP="__o",rP="_owner",{getOwnPropertyDescriptor:h1,keys:p1}=Object;function iP(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function uP(e,t){return ou(e.getTime(),t.getTime())}function sP(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function aP(e,t){return e===t}function m1(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),u=e.entries();let s,o,a=0;for(;(s=u.next())&&!s.done;){const c=t.entries();let l=!1,f=0;for(;(o=c.next())&&!o.done;){if(i[f]){f++;continue}const h=s.value,d=o.value;if(n.equals(h[0],d[0],a,f,e,t,n)&&n.equals(h[1],d[1],h[0],d[0],e,t,n)){l=i[f]=!0;break}f++}if(!l)return!1;a++}return!0}const oP=ou;function lP(e,t,n){const r=p1(e);let i=r.length;if(p1(t).length!==i)return!1;for(;i-- >0;)if(!s_(e,t,n,r[i]))return!1;return!0}function ls(e,t,n){const r=f1(e);let i=r.length;if(f1(t).length!==i)return!1;let u,s,o;for(;i-- >0;)if(u=r[i],!s_(e,t,n,u)||(s=h1(e,u),o=h1(t,u),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function cP(e,t){return ou(e.valueOf(),t.valueOf())}function dP(e,t){return e.source===t.source&&e.flags===t.flags}function g1(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),u=e.values();let s,o;for(;(s=u.next())&&!s.done;){const a=t.values();let c=!1,l=0;for(;(o=a.next())&&!o.done;){if(!i[l]&&n.equals(s.value,o.value,s.value,o.value,e,t,n)){c=i[l]=!0;break}l++}if(!c)return!1}return!0}function fP(e,t){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function hP(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function s_(e,t,n,r){return(r===rP||r===nP||r===tP)&&(e.$$typeof||t.$$typeof)?!0:eP(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const pP="[object Arguments]",mP="[object Boolean]",gP="[object Date]",bP="[object Error]",EP="[object Map]",TP="[object Number]",_P="[object Object]",yP="[object RegExp]",AP="[object Set]",xP="[object String]",CP="[object URL]",{isArray:NP}=Array,b1=typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,{assign:E1}=Object,SP=Object.prototype.toString.call.bind(Object.prototype.toString);function IP({areArraysEqual:e,areDatesEqual:t,areErrorsEqual:n,areFunctionsEqual:r,areMapsEqual:i,areNumbersEqual:u,areObjectsEqual:s,arePrimitiveWrappersEqual:o,areRegExpsEqual:a,areSetsEqual:c,areTypedArraysEqual:l,areUrlsEqual:f,unknownTagComparators:h}){return function(m,A,x){if(m===A)return!0;if(m==null||A==null)return!1;const g=typeof m;if(g!==typeof A)return!1;if(g!=="object")return g==="number"?u(m,A,x):g==="function"?r(m,A,x):!1;const b=m.constructor;if(b!==A.constructor)return!1;if(b===Object)return s(m,A,x);if(NP(m))return e(m,A,x);if(b1!=null&&b1(m))return l(m,A,x);if(b===Date)return t(m,A,x);if(b===RegExp)return a(m,A,x);if(b===Map)return i(m,A,x);if(b===Set)return c(m,A,x);const v=SP(m);if(v===gP)return t(m,A,x);if(v===yP)return a(m,A,x);if(v===EP)return i(m,A,x);if(v===AP)return c(m,A,x);if(v===_P)return typeof m.then!="function"&&typeof A.then!="function"&&s(m,A,x);if(v===CP)return f(m,A,x);if(v===bP)return n(m,A,x);if(v===pP)return s(m,A,x);if(v===mP||v===TP||v===xP)return o(m,A,x);if(h){let p=h[v];if(!p){const _=ZL(m);_&&(p=h[_])}if(p)return p(m,A,x)}return!1}}function vP({circular:e,createCustomConfig:t,strict:n}){let r={areArraysEqual:n?ls:iP,areDatesEqual:uP,areErrorsEqual:sP,areFunctionsEqual:aP,areMapsEqual:n?d1(m1,ls):m1,areNumbersEqual:oP,areObjectsEqual:n?ls:lP,arePrimitiveWrappersEqual:cP,areRegExpsEqual:dP,areSetsEqual:n?d1(g1,ls):g1,areTypedArraysEqual:n?ls:fP,areUrlsEqual:hP,unknownTagComparators:void 0};if(t&&(r=E1({},r,t(r))),e){const i=ro(r.areArraysEqual),u=ro(r.areMapsEqual),s=ro(r.areObjectsEqual),o=ro(r.areSetsEqual);r=E1({},r,{areArraysEqual:i,areMapsEqual:u,areObjectsEqual:s,areSetsEqual:o})}return r}function kP(e){return function(t,n,r,i,u,s,o){return e(t,n,o)}}function wP({circular:e,comparator:t,createState:n,equals:r,strict:i}){if(n)return function(o,a){const{cache:c=e?new WeakMap:void 0,meta:l}=n();return t(o,a,{cache:c,equals:r,meta:l,strict:i})};if(e)return function(o,a){return t(o,a,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const u={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,a){return t(o,a,u)}}const OP=yi();yi({strict:!0});yi({circular:!0});yi({circular:!0,strict:!0});yi({createInternalComparator:()=>ou});yi({strict:!0,createInternalComparator:()=>ou});yi({circular:!0,createInternalComparator:()=>ou});yi({circular:!0,createInternalComparator:()=>ou,strict:!0});function yi(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:i=!1}=e,u=vP(e),s=IP(u),o=n?n(s):kP(s);return wP({circular:t,comparator:s,createState:r,equals:o,strict:i})}var id={exports:{}},ud={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1;function DP(){if(T1)return ud;T1=1;var e=Hb(),t=QT();function n(c,l){return c===l&&(c!==0||1/c===1/l)||c!==c&&l!==l}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,u=e.useRef,s=e.useEffect,o=e.useMemo,a=e.useDebugValue;return ud.useSyncExternalStoreWithSelector=function(c,l,f,h,d){var m=u(null);if(m.current===null){var A={hasValue:!1,value:null};m.current=A}else A=m.current;m=o(function(){function g(E){if(!b){if(b=!0,v=E,E=h(E),d!==void 0&&A.hasValue){var k=A.value;if(d(k,E))return p=k}return p=E}if(k=p,r(v,E))return k;var R=h(E);return d!==void 0&&d(k,R)?(v=E,k):(v=E,p=R)}var b=!1,v,p,_=f===void 0?null:f;return[function(){return g(l())},_===null?void 0:function(){return g(_())}]},[l,f,h,d]);var x=i(c,m[0],m[1]);return s(function(){A.hasValue=!0,A.value=x},[x]),a(x),x},ud}var _1;function RP(){return _1||(_1=1,id.exports=DP()),id.exports}var LP=RP(),PP=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},MP=({contentComponent:e})=>{const t=XT.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return T.jsx(T.Fragment,{children:Object.values(t)})};function BP(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t=le(G({},t),{[n]:aA.createPortal(r.reactElement,r.element,n)}),e.forEach(i=>i())},removeRenderer(n){const r=G({},t);delete r[n],t=r,e.forEach(i=>i())}}}var FP=class extends pi.Component{constructor(e){var t;super(e),this.editorContentRef=pi.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=BP(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.firstChild))return;const n=document.createElement("div");n.append(t.view.dom),t.setOptions({element:n})}catch(n){}}}render(){const r=this.props,{editor:e,innerRef:t}=r,n=xi(r,["editor","innerRef"]);return T.jsxs(T.Fragment,{children:[T.jsx("div",G({ref:PP(t,this.editorContentRef)},n)),(e==null?void 0:e.contentComponent)&&T.jsx(MP,{contentComponent:e.contentComponent})]})}},HP=K.forwardRef((e,t)=>{const n=pi.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return pi.createElement(FP,G({key:n,innerRef:t},e))}),a_=pi.memo(HP),jP=typeof window!="undefined"?K.useLayoutEffect:K.useEffect,UP=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}};function zP(e){var t;const[n]=K.useState(()=>new UP(e.editor)),r=LP.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:OP);return jP(()=>n.watch(e.editor),[e.editor,n]),K.useDebugValue(r),r}var GP=!1,Cf=typeof window=="undefined",qP=Cf||!!(typeof window!="undefined"&&window.next),VP=class o_{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Cf||qP?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t=le(G({},this.options.current),{onBeforeCreate:(...r)=>{var i,u;return(u=(i=this.options.current).onBeforeCreate)==null?void 0:u.call(i,...r)},onBlur:(...r)=>{var i,u;return(u=(i=this.options.current).onBlur)==null?void 0:u.call(i,...r)},onCreate:(...r)=>{var i,u;return(u=(i=this.options.current).onCreate)==null?void 0:u.call(i,...r)},onDestroy:(...r)=>{var i,u;return(u=(i=this.options.current).onDestroy)==null?void 0:u.call(i,...r)},onFocus:(...r)=>{var i,u;return(u=(i=this.options.current).onFocus)==null?void 0:u.call(i,...r)},onSelectionUpdate:(...r)=>{var i,u;return(u=(i=this.options.current).onSelectionUpdate)==null?void 0:u.call(i,...r)},onTransaction:(...r)=>{var i,u;return(u=(i=this.options.current).onTransaction)==null?void 0:u.call(i,...r)},onUpdate:(...r)=>{var i,u;return(u=(i=this.options.current).onUpdate)==null?void 0:u.call(i,...r)},onContentError:(...r)=>{var i,u;return(u=(i=this.options.current).onContentError)==null?void 0:u.call(i,...r)},onDrop:(...r)=>{var i,u;return(u=(i=this.options.current).onDrop)==null?void 0:u.call(i,...r)},onPaste:(...r)=>{var i,u;return(u=(i=this.options.current).onPaste)==null?void 0:u.call(i,...r)},onDelete:(...r)=>{var i,u;return(u=(i=this.options.current).onDelete)==null?void 0:u.call(i,...r)}});return new HL(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((i,u)=>{var s;return i===((s=n.extensions)==null?void 0:s[u])}):t[r]===n[r])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?o_.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions(le(G({},this.options.current),{editable:this.editor.isEditable})):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((r,i)=>r===t[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function l_(e={},t=[]){const n=K.useRef(e);n.current=e;const[r]=K.useState(()=>new VP(n)),i=XT.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return K.useDebugValue(i),K.useEffect(r.onRender(t)),zP({editor:i,selector:({transactionNumber:u})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&u===0?0:u+1}),i}var WP=K.createContext({editor:null});WP.Consumer;var YP=K.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),KP=()=>K.useContext(YP);pi.forwardRef((e,t)=>{const{onDragStart:n}=KP(),r=e.as||"div";return T.jsx(r,le(G({},e),{ref:t,"data-node-view-wrapper":"",onDragStart:n,style:G({whiteSpace:"normal"},e.style)}))});pi.createContext({markViewContentRef:()=>{}});var el=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const i=t!=null?t:{},{children:n}=i,r=xi(i,["children"]);if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},$P=/^\s*>\s$/,QP=zt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return el("blockquote",le(G({},ht(this.options.HTMLAttributes,e)),{children:el("slot",{})}))},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=">",r=[];return e.content.forEach(i=>{const o=t.renderChildren([i]).split(`
`).map(a=>a.trim()===""?n:`${n} ${a}`);r.push(o.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[zu({find:$P,type:this.type})]}}),XP=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,JP=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,ZP=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,eM=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,tM=au.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return el("strong",le(G({},ht(this.options.HTMLAttributes,e)),{children:el("slot",{})}))},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Uu({find:XP,type:this.type}),Uu({find:ZP,type:this.type})]},addPasteRules(){return[tu({find:JP,type:this.type}),tu({find:eM,type:this.type})]}}),nM=/(^|[^`])`([^`]+)`(?!`)$/,rM=/(^|[^`])`([^`]+)`(?!`)/g,iM=au.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",ht(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Uu({find:nM,type:this.type})]},addPasteRules(){return[tu({find:rM,type:this.type})]}}),sd=4,uM=/^```([a-z]+)?[\s\n]$/,sM=/^~~~([a-z]+)?[\s\n]$/,aM=zt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:sd,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;const u=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return u||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",ht(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return((n=e.raw)==null?void 0:n.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let r="";const i=((n=e.attrs)==null?void 0:n.language)||"";return e.content?r=[`\`\`\`${i}`,t.renderChildren(e.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:sd,{state:r}=e,{selection:i}=r,{$from:u,empty:s}=i;if(u.parent.type!==this.type)return!1;const o=" ".repeat(n);return s?e.commands.insertContent(o):e.commands.command(({tr:a})=>{const{from:c,to:l}=i,d=r.doc.textBetween(c,l,`
`,`
`).split(`
`).map(m=>o+m).join(`
`);return a.replaceWith(c,l,r.schema.text(d)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:sd,{state:r}=e,{selection:i}=r,{$from:u,empty:s}=i;return u.parent.type!==this.type?!1:s?e.commands.command(({tr:o})=>{var a;const{pos:c}=u,l=u.start(),f=u.end(),d=r.doc.textBetween(l,f,`
`,`
`).split(`
`);let m=0,A=0;const x=c-l;for(let E=0;E<d.length;E+=1){if(A+d[E].length>=x){m=E;break}A+=d[E].length+1}const b=((a=d[m].match(/^ */))==null?void 0:a[0])||"",v=Math.min(b.length,n);if(v===0)return!0;let p=l;for(let E=0;E<m;E+=1)p+=d[E].length+1;return o.delete(p,p+v),c-p<=v&&o.setSelection(Re.create(o.doc,p)),!0}):e.commands.command(({tr:o})=>{const{from:a,to:c}=i,h=r.doc.textBetween(a,c,`
`,`
`).split(`
`).map(d=>{var m;const A=((m=d.match(/^ */))==null?void 0:m[0])||"",x=Math.min(A.length,n);return d.slice(x)}).join(`
`);return o.replaceWith(a,c,r.schema.text(h)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const u=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!u||!s?!1:e.chain().command(({tr:o})=>(o.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:u}=n;if(!u||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const o=i.after();return o===void 0?!1:r.nodeAt(o)?e.commands.command(({tr:c})=>(c.setSelection(Fe.near(r.resolve(o))),!0)):e.commands.exitCode()}}},addInputRules(){return[Af({find:uM,type:this.type,getAttributes:e=>({language:e[1]})}),Af({find:sM,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new bt({key:new It("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,u=i==null?void 0:i.mode;if(!n||!u)return!1;const{tr:s,schema:o}=e.state,a=o.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:u},a)),s.selection.$from.parent.type!==this.type&&s.setSelection(Re.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}}),oM=zt.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),lM=zt.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",ht(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:u}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:o}=r.extensionManager,a=u||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:c,dispatch:l})=>{if(l&&a&&s){const f=a.filter(h=>o.includes(h.type.name));c.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),c_=zt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,ht(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const r=(n=e.attrs)!=null&&n.level?parseInt(e.attrs.level,10):1,i="#".repeat(r);return e.content?`${i} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>le(G({},e),{[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>Af({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),d_=c_,cM=zt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",ht(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!zL(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,i=e();return U3(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:u,tr:s,dispatch:o})=>{if(o){const{$to:a}=s.selection,c=a.end();if(a.nodeAfter)a.nodeAfter.isTextblock?s.setSelection(Re.create(s.doc,a.pos+1)):a.nodeAfter.isBlock?s.setSelection(Oe.create(s.doc,a.pos)):s.setSelection(Re.create(s.doc,a.pos));else{const l=u.schema.nodes[this.options.nextNodeType]||a.parent.type.contentMatch.defaultType,f=l==null?void 0:l.create();f&&(s.insert(c,f),s.setSelection(Re.create(s.doc,c+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[i_({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),dM=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,fM=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,hM=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,pM=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,mM=au.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",ht(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Uu({find:dM,type:this.type}),Uu({find:hM,type:this.type})]},addPasteRules(){return[tu({find:fM,type:this.type}),tu({find:pM,type:this.type})]}});const gM="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",bM="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Nf="numeric",Sf="ascii",If="alpha",$s="asciinumeric",Rs="alphanumeric",vf="domain",f_="emoji",EM="scheme",TM="slashscheme",ad="whitespace";function _M(e,t){return e in t||(t[e]=[]),t[e]}function Gi(e,t,n){t[Nf]&&(t[$s]=!0,t[Rs]=!0),t[Sf]&&(t[$s]=!0,t[If]=!0),t[$s]&&(t[Rs]=!0),t[If]&&(t[Rs]=!0),t[Rs]&&(t[vf]=!0),t[f_]&&(t[vf]=!0);for(const r in t){const i=_M(r,n);i.indexOf(e)<0&&i.push(e)}}function yM(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function vn(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}vn.groups={};vn.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const i=t.jr[r][0],u=t.jr[r][1];if(u&&i.test(e))return u}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){r=r||vn.groups;let i;return t&&t.j?i=t:(i=new vn(t),n&&r&&Gi(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const u=e.length;if(!u)return i;for(let s=0;s<u-1;s++)i=i.tt(e[s]);return i.tt(e[u-1],t,n,r)},tt(e,t,n,r){r=r||vn.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const u=t;let s,o=i.go(e);if(o?(s=new vn,Object.assign(s.j,o.j),s.jr.push.apply(s.jr,o.jr),s.jd=o.jd,s.t=o.t):s=new vn,u){if(r)if(s.t&&typeof s.t=="string"){const a=Object.assign(yM(s.t,r),n);Gi(u,a,r)}else n&&Gi(u,n,r);s.t=u}return i.j[e]=s,s}};const Ke=(e,t,n,r,i)=>e.ta(t,n,r,i),wt=(e,t,n,r,i)=>e.tr(t,n,r,i),y1=(e,t,n,r,i)=>e.ts(t,n,r,i),pe=(e,t,n,r,i)=>e.tt(t,n,r,i),Rr="WORD",kf="UWORD",h_="ASCIINUMERICAL",p_="ALPHANUMERICAL",pa="LOCALHOST",wf="TLD",Of="UTLD",vo="SCHEME",Nu="SLASH_SCHEME",K0="NUM",Df="WS",$0="NL",Qs="OPENBRACE",Xs="CLOSEBRACE",tl="OPENBRACKET",nl="CLOSEBRACKET",rl="OPENPAREN",il="CLOSEPAREN",ul="OPENANGLEBRACKET",sl="CLOSEANGLEBRACKET",al="FULLWIDTHLEFTPAREN",ol="FULLWIDTHRIGHTPAREN",ll="LEFTCORNERBRACKET",cl="RIGHTCORNERBRACKET",dl="LEFTWHITECORNERBRACKET",fl="RIGHTWHITECORNERBRACKET",hl="FULLWIDTHLESSTHAN",pl="FULLWIDTHGREATERTHAN",ml="AMPERSAND",gl="APOSTROPHE",bl="ASTERISK",ti="AT",El="BACKSLASH",Tl="BACKTICK",_l="CARET",ii="COLON",Q0="COMMA",yl="DOLLAR",dr="DOT",Al="EQUALS",X0="EXCLAMATION",zn="HYPHEN",Js="PERCENT",xl="PIPE",Cl="PLUS",Nl="POUND",Zs="QUERY",J0="QUOTE",m_="FULLWIDTHMIDDLEDOT",Z0="SEMI",fr="SLASH",ea="TILDE",Sl="UNDERSCORE",g_="EMOJI",Il="SYM";var b_=Object.freeze({__proto__:null,ALPHANUMERICAL:p_,AMPERSAND:ml,APOSTROPHE:gl,ASCIINUMERICAL:h_,ASTERISK:bl,AT:ti,BACKSLASH:El,BACKTICK:Tl,CARET:_l,CLOSEANGLEBRACKET:sl,CLOSEBRACE:Xs,CLOSEBRACKET:nl,CLOSEPAREN:il,COLON:ii,COMMA:Q0,DOLLAR:yl,DOT:dr,EMOJI:g_,EQUALS:Al,EXCLAMATION:X0,FULLWIDTHGREATERTHAN:pl,FULLWIDTHLEFTPAREN:al,FULLWIDTHLESSTHAN:hl,FULLWIDTHMIDDLEDOT:m_,FULLWIDTHRIGHTPAREN:ol,HYPHEN:zn,LEFTCORNERBRACKET:ll,LEFTWHITECORNERBRACKET:dl,LOCALHOST:pa,NL:$0,NUM:K0,OPENANGLEBRACKET:ul,OPENBRACE:Qs,OPENBRACKET:tl,OPENPAREN:rl,PERCENT:Js,PIPE:xl,PLUS:Cl,POUND:Nl,QUERY:Zs,QUOTE:J0,RIGHTCORNERBRACKET:cl,RIGHTWHITECORNERBRACKET:fl,SCHEME:vo,SEMI:Z0,SLASH:fr,SLASH_SCHEME:Nu,SYM:Il,TILDE:ea,TLD:wf,UNDERSCORE:Sl,UTLD:Of,UWORD:kf,WORD:Rr,WS:Df});const Nr=/[a-z]/,cs=new RegExp("\\p{L}","u"),od=new RegExp("\\p{Emoji}","u"),Sr=/\d/,ld=/\s/,A1="\r",cd=`
`,AM="️",xM="‍",dd="￼";let io=null,uo=null;function CM(e=[]){const t={};vn.groups=t;const n=new vn;io==null&&(io=x1(gM)),uo==null&&(uo=x1(bM)),pe(n,"'",gl),pe(n,"{",Qs),pe(n,"}",Xs),pe(n,"[",tl),pe(n,"]",nl),pe(n,"(",rl),pe(n,")",il),pe(n,"<",ul),pe(n,">",sl),pe(n,"（",al),pe(n,"）",ol),pe(n,"「",ll),pe(n,"」",cl),pe(n,"『",dl),pe(n,"』",fl),pe(n,"＜",hl),pe(n,"＞",pl),pe(n,"&",ml),pe(n,"*",bl),pe(n,"@",ti),pe(n,"`",Tl),pe(n,"^",_l),pe(n,":",ii),pe(n,",",Q0),pe(n,"$",yl),pe(n,".",dr),pe(n,"=",Al),pe(n,"!",X0),pe(n,"-",zn),pe(n,"%",Js),pe(n,"|",xl),pe(n,"+",Cl),pe(n,"#",Nl),pe(n,"?",Zs),pe(n,'"',J0),pe(n,"/",fr),pe(n,";",Z0),pe(n,"~",ea),pe(n,"_",Sl),pe(n,"\\",El),pe(n,"・",m_);const r=wt(n,Sr,K0,{[Nf]:!0});wt(r,Sr,r);const i=wt(r,Nr,h_,{[$s]:!0}),u=wt(r,cs,p_,{[Rs]:!0}),s=wt(n,Nr,Rr,{[Sf]:!0});wt(s,Sr,i),wt(s,Nr,s),wt(i,Sr,i),wt(i,Nr,i);const o=wt(n,cs,kf,{[If]:!0});wt(o,Nr),wt(o,Sr,u),wt(o,cs,o),wt(u,Sr,u),wt(u,Nr),wt(u,cs,u);const a=pe(n,cd,$0,{[ad]:!0}),c=pe(n,A1,Df,{[ad]:!0}),l=wt(n,ld,Df,{[ad]:!0});pe(n,dd,l),pe(c,cd,a),pe(c,dd,l),wt(c,ld,l),pe(l,A1),pe(l,cd),wt(l,ld,l),pe(l,dd,l);const f=wt(n,od,g_,{[f_]:!0});pe(f,"#"),wt(f,od,f),pe(f,AM,f);const h=pe(f,xM);pe(h,"#"),wt(h,od,f);const d=[[Nr,s],[Sr,i]],m=[[Nr,null],[cs,o],[Sr,u]];for(let A=0;A<io.length;A++)Kr(n,io[A],wf,Rr,d);for(let A=0;A<uo.length;A++)Kr(n,uo[A],Of,kf,m);Gi(wf,{tld:!0,ascii:!0},t),Gi(Of,{utld:!0,alpha:!0},t),Kr(n,"file",vo,Rr,d),Kr(n,"mailto",vo,Rr,d),Kr(n,"http",Nu,Rr,d),Kr(n,"https",Nu,Rr,d),Kr(n,"ftp",Nu,Rr,d),Kr(n,"ftps",Nu,Rr,d),Gi(vo,{scheme:!0,ascii:!0},t),Gi(Nu,{slashscheme:!0,ascii:!0},t),e=e.sort((A,x)=>A[0]>x[0]?1:-1);for(let A=0;A<e.length;A++){const x=e[A][0],b=e[A][1]?{[EM]:!0}:{[TM]:!0};x.indexOf("-")>=0?b[vf]=!0:Nr.test(x)?Sr.test(x)?b[$s]=!0:b[Sf]=!0:b[Nf]=!0,y1(n,x,x,b)}return y1(n,"localhost",pa,{ascii:!0}),n.jd=new vn(Il),{start:n,tokens:Object.assign({groups:t},b_)}}function E_(e,t){const n=NM(t.replace(/[A-Z]/g,o=>o.toLowerCase())),r=n.length,i=[];let u=0,s=0;for(;s<r;){let o=e,a=null,c=0,l=null,f=-1,h=-1;for(;s<r&&(a=o.go(n[s]));)o=a,o.accepts()?(f=0,h=0,l=o):f>=0&&(f+=n[s].length,h++),c+=n[s].length,u+=n[s].length,s++;u-=f,s-=h,c-=f,i.push({t:l.t,v:t.slice(u-c,u),s:u-c,e:u})}return i}function NM(e){const t=[],n=e.length;let r=0;for(;r<n;){let i=e.charCodeAt(r),u,s=i<55296||i>56319||r+1===n||(u=e.charCodeAt(r+1))<56320||u>57343?e[r]:e.slice(r,r+2);t.push(s),r+=s.length}return t}function Kr(e,t,n,r,i){let u;const s=t.length;for(let o=0;o<s-1;o++){const a=t[o];e.j[a]?u=e.j[a]:(u=new vn(r),u.jr=i.slice(),e.j[a]=u),e=u}return u=new vn(n),u.jr=i.slice(),e.j[t[s-1]]=u,u}function x1(e){const t=[],n=[];let r=0,i="0123456789";for(;r<e.length;){let u=0;for(;i.indexOf(e[r+u])>=0;)u++;if(u>0){t.push(n.join(""));for(let s=parseInt(e.substring(r,r+u),10);s>0;s--)n.pop();r+=u}else n.push(e[r]),r++}return t}const ma={defaultProtocol:"http",events:null,format:C1,formatHref:C1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function eh(e,t=null){let n=Object.assign({},ma);e&&(n=Object.assign(n,e instanceof eh?e.o:e));const r=n.ignoreTags,i=[];for(let u=0;u<r.length;u++)i.push(r[u].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}eh.prototype={o:ma,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:ma[e],typeof i=="function"&&r&&(i=i(t,n))):typeof i=="function"&&r&&(i=i(t,n.t,n)),i)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function C1(e){return e}function T_(e,t){this.t="token",this.v=e,this.tk=t}T_.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=ma.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),u=this.toFormattedString(e),s={},o=e.get("className",n,t),a=e.get("target",n,t),c=e.get("rel",n,t),l=e.getObj("attributes",n,t),f=e.getObj("events",n,t);return s.href=r,o&&(s.class=o),a&&(s.target=a),c&&(s.rel=c),l&&Object.assign(s,l),{tagName:i,attributes:s,content:u,eventListeners:f}}};function rc(e,t){class n extends T_{constructor(i,u){super(i,u),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const N1=rc("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),S1=rc("text"),SM=rc("nl"),so=rc("url",{isLink:!0,toHref(e=ma.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==pa&&e[1].t===ii}}),Un=e=>new vn(e);function IM({groups:e}){const t=e.domain.concat([ml,bl,ti,El,Tl,_l,yl,Al,zn,K0,Js,xl,Cl,Nl,fr,Il,ea,Sl]),n=[gl,ii,Q0,dr,X0,Js,Zs,J0,Z0,ul,sl,Qs,Xs,nl,tl,rl,il,al,ol,ll,cl,dl,fl,hl,pl],r=[ml,gl,bl,El,Tl,_l,yl,Al,zn,Qs,Xs,Js,xl,Cl,Nl,Zs,fr,Il,ea,Sl],i=Un(),u=pe(i,ea);Ke(u,r,u),Ke(u,e.domain,u);const s=Un(),o=Un(),a=Un();Ke(i,e.domain,s),Ke(i,e.scheme,o),Ke(i,e.slashscheme,a),Ke(s,r,u),Ke(s,e.domain,s);const c=pe(s,ti);pe(u,ti,c),pe(o,ti,c),pe(a,ti,c);const l=pe(u,dr);Ke(l,r,u),Ke(l,e.domain,u);const f=Un();Ke(c,e.domain,f),Ke(f,e.domain,f);const h=pe(f,dr);Ke(h,e.domain,f);const d=Un(N1);Ke(h,e.tld,d),Ke(h,e.utld,d),pe(c,pa,d);const m=pe(f,zn);pe(m,zn,m),Ke(m,e.domain,f),Ke(d,e.domain,f),pe(d,dr,h),pe(d,zn,m);const A=pe(d,ii);Ke(A,e.numeric,N1);const x=pe(s,zn),g=pe(s,dr);pe(x,zn,x),Ke(x,e.domain,s),Ke(g,r,u),Ke(g,e.domain,s);const b=Un(so);Ke(g,e.tld,b),Ke(g,e.utld,b),Ke(b,e.domain,s),Ke(b,r,u),pe(b,dr,g),pe(b,zn,x),pe(b,ti,c);const v=pe(b,ii),p=Un(so);Ke(v,e.numeric,p);const _=Un(so),E=Un();Ke(_,t,_),Ke(_,n,E),Ke(E,t,_),Ke(E,n,E),pe(b,fr,_),pe(p,fr,_);const k=pe(o,ii),R=pe(a,ii),D=pe(R,fr),N=pe(D,fr);Ke(o,e.domain,s),pe(o,dr,g),pe(o,zn,x),Ke(a,e.domain,s),pe(a,dr,g),pe(a,zn,x),Ke(k,e.domain,_),pe(k,fr,_),pe(k,Zs,_),Ke(N,e.domain,_),Ke(N,t,_),pe(N,fr,_);const I=[[Qs,Xs],[tl,nl],[rl,il],[ul,sl],[al,ol],[ll,cl],[dl,fl],[hl,pl]];for(let w=0;w<I.length;w++){const[O,P]=I[w],B=pe(_,O);pe(E,O,B),pe(B,P,_);const M=Un(so);Ke(B,t,M);const j=Un();Ke(B,n),Ke(M,t,M),Ke(M,n,j),Ke(j,t,M),Ke(j,n,j),pe(M,P,_),pe(j,P,_)}return pe(i,pa,b),pe(i,$0,SM),{start:i,tokens:b_}}function vM(e,t,n){let r=n.length,i=0,u=[],s=[];for(;i<r;){let o=e,a=null,c=null,l=0,f=null,h=-1;for(;i<r&&!(a=o.go(n[i].t));)s.push(n[i++]);for(;i<r&&(c=a||o.go(n[i].t));)a=null,o=c,o.accepts()?(h=0,f=o):h>=0&&h++,i++,l++;if(h<0)i-=l,i<r&&(s.push(n[i]),i++);else{s.length>0&&(u.push(fd(S1,t,s)),s=[]),i-=h,l-=h;const d=f.t,m=n.slice(i-l,i);u.push(fd(d,t,m))}}return s.length>0&&u.push(fd(S1,t,s)),u}function fd(e,t,n){const r=n[0].s,i=n[n.length-1].e,u=t.slice(r,i);return new e(u,n)}const kM=typeof console!="undefined"&&console&&console.warn||(()=>{}),wM="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",_t={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function OM(){return vn.groups={},_t.scanner=null,_t.parser=null,_t.tokenQueue=[],_t.pluginQueue=[],_t.customSchemes=[],_t.initialized=!1,_t}function I1(e,t=!1){if(_t.initialized&&kM(`linkifyjs: already initialized - will not register custom scheme "${e}" ${wM}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);_t.customSchemes.push([e,t])}function DM(){_t.scanner=CM(_t.customSchemes);for(let e=0;e<_t.tokenQueue.length;e++)_t.tokenQueue[e][1]({scanner:_t.scanner});_t.parser=IM(_t.scanner.tokens);for(let e=0;e<_t.pluginQueue.length;e++)_t.pluginQueue[e][1]({scanner:_t.scanner,parser:_t.parser});return _t.initialized=!0,_t}function th(e){return _t.initialized||DM(),vM(_t.parser.start,e,E_(_t.scanner.start,e))}th.scan=E_;function __(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new eh(n),i=th(e),u=[];for(let s=0;s<i.length;s++){const o=i[s];o.isLink&&(!t||o.t===t)&&r.check(o)&&u.push(o.toFormattedObject(r))}return u}var nh="[\0-   ᠎ -\u2029 　]",RM=new RegExp(nh),LM=new RegExp(`${nh}$`),PM=new RegExp(nh,"g");function MM(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function BM(e){return new bt({key:new It("autolink"),appendTransaction:(t,n,r)=>{const i=t.some(c=>c.docChanged)&&!n.doc.eq(r.doc),u=t.some(c=>c.getMeta("preventAutolink"));if(!i||u)return;const{tr:s}=r,o=D3(n.doc,[...t]);if(j3(o).forEach(({newRange:c})=>{const l=zR(r.doc,c,d=>d.isTextblock);let f,h;if(l.length>1)f=l[0],h=r.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(l.length){const d=r.doc.textBetween(c.from,c.to," "," ");if(!LM.test(d))return;f=l[0],h=r.doc.textBetween(f.pos,c.to,void 0," ")}if(f&&h){const d=h.split(RM).filter(Boolean);if(d.length<=0)return!1;const m=d[d.length-1],A=f.pos+h.lastIndexOf(m);if(!m)return!1;const x=th(m).map(g=>g.toObject(e.defaultProtocol));if(!MM(x))return!1;x.filter(g=>g.isLink).map(g=>le(G({},g),{from:A+g.start+1,to:A+g.end+1})).filter(g=>r.schema.marks.code?!r.doc.rangeHasMark(g.from,g.to,r.schema.marks.code):!0).filter(g=>e.validate(g.value)).filter(g=>e.shouldAutoLink(g.value)).forEach(g=>{G0(g.from,g.to,r.doc).some(b=>b.mark.type===e.type)||s.addMark(g.from,g.to,e.type.create({href:g.href}))})}}),!!s.steps.length)return s}})}function FM(e){return new bt({key:new It("handleClickLink"),props:{handleClick:(t,n,r)=>{var i,u;if(r.button!==0||!t.editable)return!1;let s=!1;if(e.enableClickSelection&&(s=e.editor.commands.extendMarkRange(e.type.name)),e.openOnClick){let o=null;if(r.target instanceof HTMLAnchorElement)o=r.target;else{let f=r.target;const h=[];for(;f.nodeName!=="DIV";)h.push(f),f=f.parentNode;o=h.find(d=>d.nodeName==="A")}if(!o)return s;const a=H3(t.state,e.type.name),c=(i=o==null?void 0:o.href)!=null?i:a.href,l=(u=o==null?void 0:o.target)!=null?u:a.target;o&&c&&(window.open(c,l),s=!0)}return s}}})}function HM(e){return new bt({key:new It("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:i}=e,{state:u}=t,{selection:s}=u,{empty:o}=s;if(o)return!1;let a="";r.content.forEach(l=>{a+=l.textContent});const c=__(a,{defaultProtocol:e.defaultProtocol}).find(l=>l.isLink&&l.value===a);return!a||!c||i!==void 0&&!i(c.href)?!1:e.editor.commands.setMark(e.type,{href:c.href})}}})}function Ni(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!e||e.replace(PM,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var y_=au.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){I1(e);return}I1(e.scheme,e.optionalSlashes)})},onDestroy(){OM()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Ni(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!Ni(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Ni(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ht(this.options.HTMLAttributes,e),0]:["a",ht(this.options.HTMLAttributes,le(G({},e),{href:""})),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=((n=e.attrs)==null?void 0:n.href)||"";return`[${t.renderChildren(e)}](${r})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Ni(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Ni(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[tu({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,i=__(e).filter(u=>u.isLink&&this.options.isAllowedUri(u.value,{defaultValidate:s=>!!Ni(s,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(u=>{this.options.shouldAutoLink(u.value)&&t.push({text:u.value,data:{href:u.href},index:u.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(BM({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Ni(i,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),e.push(FM({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(HM({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),jM=y_,UM=Object.defineProperty,zM=(e,t)=>{for(var n in t)UM(e,n,{get:t[n],enumerable:!0})},GM="listItem",v1="textStyle",k1=/^\s*([-+*])\s$/,rh=zt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",ht(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(GM,this.editor.getAttributes(v1)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=zu({find:k1,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=zu({find:k1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(v1),editor:this.editor})),[e]}}),ih=zt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",ht(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let n=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(i=>i.type==="paragraph"))n=t.parseChildren(e.tokens);else{const i=e.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(i.tokens)}],e.tokens.length>1){const s=e.tokens.slice(1),o=t.parseChildren(s);n.push(...o)}}else n=t.parseChildren(e.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>Y0(e,t,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),qM={};zM(qM,{findListItemPos:()=>Ia,getNextListDepth:()=>uh,handleBackspace:()=>Rf,handleDelete:()=>Lf,hasListBefore:()=>A_,hasListItemAfter:()=>VM,hasListItemBefore:()=>x_,listItemHasSubList:()=>C_,nextListIsDeeper:()=>N_,nextListIsHigher:()=>S_});var Ia=(e,t)=>{const{$from:n}=t.selection,r=Ut(e,t.schema);let i=null,u=n.depth,s=n.pos,o=null;for(;u>0&&o===null;)i=n.node(u),i.type===r?o=u:(u-=1,s-=1);return o===null?null:{$pos:t.doc.resolve(s),depth:o}},uh=(e,t)=>{const n=Ia(e,t);if(!n)return!1;const[,r]=XR(t,e,n.$pos.pos+4);return r},A_=(e,t,n)=>{const{$anchor:r}=e.selection,i=Math.max(0,r.pos-2),u=e.doc.resolve(i).node();return!(!u||!n.includes(u.type.name))},x_=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==e)},C_=(e,t,n)=>{if(!n)return!1;const r=Ut(e,t.schema);let i=!1;return n.descendants(u=>{u.type===r&&(i=!0)}),i},Rf=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!gi(e.state,t)&&A_(e.state,t,n)){const{$anchor:o}=e.state.selection,a=e.state.doc.resolve(o.before()-1),c=[];a.node().descendants((h,d)=>{h.type.name===t&&c.push({node:h,pos:d})});const l=c.at(-1);if(!l)return!1;const f=e.state.doc.resolve(a.start()+l.pos+1);return e.chain().cut({from:o.start()-1,to:o.end()+1},f.end()).joinForward().run()}if(!gi(e.state,t)||!tL(e.state))return!1;const r=Ia(t,e.state);if(!r)return!1;const u=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),s=C_(t,e.state,u);return x_(t,e.state)&&!s?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},N_=(e,t)=>{const n=uh(e,t),r=Ia(e,t);return!r||!n?!1:n>r.depth},S_=(e,t)=>{const n=uh(e,t),r=Ia(e,t);return!r||!n?!1:n<r.depth},Lf=(e,t)=>{if(!gi(e.state,t)||!eL(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:N_(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():S_(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},VM=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==e)},I_=Nt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&Lf(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&Lf(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&Rf(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&Rf(e,n,r)&&(t=!0)}),t}}}}),w1=/^(\s*)(\d+)\.\s+(.*)$/,WM=/^\s/;function YM(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n],u=i.match(w1);if(!u)break;const[,s,o,a]=u,c=s.length;let l=a,f=n+1;const h=[i];for(;f<e.length;){const d=e[f];if(d.match(w1))break;if(d.trim()==="")h.push(d),l+=`
`,f+=1;else if(d.match(WM))h.push(d),l+=`
${d.slice(c+2)}`,f+=1;else break}t.push({indent:c,number:parseInt(o,10),content:l.trim(),raw:h.join(`
`)}),r=f,n=f}return[t,r]}function v_(e,t,n){var r;const i=[];let u=0;for(;u<e.length;){const s=e[u];if(s.indent===t){const o=s.content.split(`
`),a=((r=o[0])==null?void 0:r.trim())||"",c=[];a&&c.push({type:"paragraph",raw:a,tokens:n.inlineTokens(a)});const l=o.slice(1).join(`
`).trim();if(l){const d=n.blockTokens(l);c.push(...d)}let f=u+1;const h=[];for(;f<e.length&&e[f].indent>t;)h.push(e[f]),f+=1;if(h.length>0){const d=Math.min(...h.map(A=>A.indent)),m=v_(h,d,n);c.push({type:"list",ordered:!0,start:h[0].number,items:m,raw:h.map(A=>A.raw).join(`
`)})}i.push({type:"list_item",raw:s.raw,tokens:c}),u=f}else u+=1}return i}function KM(e,t){return e.map(n=>{if(n.type!=="list_item")return t.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...t.parseChildren([i]));else if(i.type==="text"&&i.tokens){const u=t.parseChildren([i]);r.push({type:"paragraph",content:u})}else{const u=t.parseChildren([i]);u.length>0&&r.push(...u)}}),{type:"listItem",content:r}})}var $M="listItem",O1="textStyle",D1=/^(\d+)\.\s$/,sh=zt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const r=e,{start:t}=r,n=xi(r,["start"]);return t===1?["ol",ht(this.options.HTMLAttributes,n),0]:["ol",ht(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const n=e.start||1,r=e.items?KM(e.items,t):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=t==null?void 0:t.index;return n!==void 0?n:-1},tokenize:(e,t,n)=>{var r;const i=e.split(`
`),[u,s]=YM(i);if(u.length===0)return;const o=v_(u,0,n);return o.length===0?void 0:{type:"list",ordered:!0,start:((r=u[0])==null?void 0:r.number)||1,items:o,raw:i.slice(0,s).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes($M,this.editor.getAttributes(O1)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=zu({find:D1,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=zu({find:D1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>G({start:+t[1]},this.editor.getAttributes(O1)),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),QM=/^\s*(\[([( |x])?\])\s$/,XM=zt.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",ht(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const r=t.parseChildren(e.nestedTokens);n.push(...r)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;const i=`- [${(n=e.attrs)!=null&&n.checked?"x":" "}] `;return Y0(e,t,i)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?le(G({},e),{Tab:()=>this.editor.commands.sinkListItem(this.name)}):e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const i=document.createElement("li"),u=document.createElement("label"),s=document.createElement("span"),o=document.createElement("input"),a=document.createElement("div"),c=l=>{var f,h;o.ariaLabel=((h=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:h.call(f,l,o.checked))||`Task item checkbox for ${l.textContent||"empty task item"}`};return c(e),u.contentEditable="false",o.type="checkbox",o.addEventListener("mousedown",l=>l.preventDefault()),o.addEventListener("change",l=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){o.checked=!o.checked;return}const{checked:f}=l.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:h})=>{const d=n();if(typeof d!="number")return!1;const m=h.doc.nodeAt(d);return h.setNodeMarkup(d,void 0,le(G({},m==null?void 0:m.attrs),{checked:f})),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,f)||(o.checked=!o.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([l,f])=>{i.setAttribute(l,f)}),i.dataset.checked=e.attrs.checked,o.checked=e.attrs.checked,u.append(o,s),i.append(u,a),Object.entries(t).forEach(([l,f])=>{i.setAttribute(l,f)}),{dom:i,contentDOM:a,update:l=>l.type!==this.type?!1:(i.dataset.checked=l.attrs.checked,o.checked=l.attrs.checked,c(l),!0)}}},addInputRules(){return[zu({find:QM,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),JM=zt.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",ht(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return n!==void 0?n:-1},tokenize(e,t,n){const r=u=>{const s=xf(u,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,a)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:a}),customNestedParser:r},n);return s?[{type:"taskList",raw:s.raw,items:s.items}]:n.blockTokens(u)},i=xf(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,s)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:n.inlineTokens(u.mainContent),nestedTokens:s}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Nt.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(rh.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(ih.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(I_.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(sh.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(XM.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(JM.configure(this.options.taskList)),e}});var ZM=zt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",ht(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];return n.length===1&&n[0].type==="image"?t.parseChildren([n[0]]):t.createNode("paragraph",void 0,t.parseInline(n))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),e9=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,t9=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,n9=au.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",ht(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Uu({find:e9,type:this.type})]},addPasteRules(){return[tu({find:t9,type:this.type})]}}),r9=zt.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),k_=au.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",ht(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!i)return;const u=i[2].trim();return{type:"underline",raw:i[0],text:u,tokens:n.inlineTokens(u)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),w_=k_;function i9(e={}){return new bt({view(t){return new u9(t,e)}})}class u9{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let u=s=>{this[i](s)};return t.dom.addEventListener(i,u),{name:i,handler:u}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,i=this.editorView.dom,u=i.getBoundingClientRect(),s=u.width/i.offsetWidth,o=u.height/i.offsetHeight;if(n){let f=t.nodeBefore,h=t.nodeAfter;if(f||h){let d=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(d){let m=d.getBoundingClientRect(),A=f?m.bottom:m.top;f&&h&&(A=(A+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let x=this.width/2*o;r={left:m.left,right:m.right,top:A-x,bottom:A+x}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),h=this.width/2*s;r={left:f.left-h,right:f.left+h,top:f.top,bottom:f.bottom}}let a=this.editorView.dom.offsetParent;this.element||(this.element=a.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,l;if(!a||a==document.body&&getComputedStyle(a).position=="static")c=-pageXOffset,l=-pageYOffset;else{let f=a.getBoundingClientRect(),h=f.width/a.offsetWidth,d=f.height/a.offsetHeight;c=f.left-a.scrollLeft*h,l=f.top-a.scrollTop*d}this.element.style.left=(r.left-c)/s+"px",this.element.style.top=(r.top-l)/o+"px",this.element.style.width=(r.right-r.left)/s+"px",this.element.style.height=(r.bottom-r.top)/o+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,u=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!u){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let o=C2(this.editorView.state.doc,s,this.editorView.dragging.slice);o!=null&&(s=o)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class Dt extends Fe{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return Dt.valid(r)?new Dt(r):Fe.near(r)}content(){return Te.empty}eq(t){return t instanceof Dt&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Dt(t.resolve(n.pos))}getBookmark(){return new ah(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!s9(t)||!a9(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&Dt.valid(t))return t;let i=t.pos,u=null;for(let s=t.depth;;s--){let o=t.node(s);if(n>0?t.indexAfter(s)<o.childCount:t.index(s)>0){u=o.child(n>0?t.indexAfter(s):t.index(s)-1);break}else if(s==0)return null;i+=n;let a=t.doc.resolve(i);if(Dt.valid(a))return a}for(;;){let s=n>0?u.firstChild:u.lastChild;if(!s){if(u.isAtom&&!u.isText&&!Oe.isSelectable(u)){t=t.doc.resolve(i+u.nodeSize*n),r=!1;continue e}break}u=s,i+=n;let o=t.doc.resolve(i);if(Dt.valid(o))return o}return null}}}Dt.prototype.visible=!1;Dt.findFrom=Dt.findGapCursorFrom;Fe.jsonID("gapcursor",Dt);class ah{constructor(t){this.pos=t}map(t){return new ah(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return Dt.valid(n)?new Dt(n):Fe.near(n)}}function O_(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function s9(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||O_(i.type))return!0;if(i.inlineContent)return!1}}return!0}function a9(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||O_(i.type))return!0;if(i.inlineContent)return!1}}return!0}function o9(){return new bt({props:{decorations:f9,createSelectionBetween(e,t,n){return t.pos==n.pos&&Dt.valid(n)?new Dt(n):null},handleClick:c9,handleKeyDown:l9,handleDOMEvents:{beforeinput:d9}}})}const l9=P0({ArrowLeft:ao("horiz",-1),ArrowRight:ao("horiz",1),ArrowUp:ao("vert",-1),ArrowDown:ao("vert",1)});function ao(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,u){let s=r.selection,o=t>0?s.$to:s.$from,a=s.empty;if(s instanceof Re){if(!u.endOfTextblock(n)||o.depth==0)return!1;a=!1,o=r.doc.resolve(t>0?o.after():o.before())}let c=Dt.findGapCursorFrom(o,t,a);return c?(i&&i(r.tr.setSelection(new Dt(c))),!0):!1}}function c9(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!Dt.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Oe.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Dt(r))),!0)}function d9(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Dt))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=ae.empty;for(let s=r.length-1;s>=0;s--)i=ae.from(r[s].createAndFill(null,i));let u=e.state.tr.replace(n.pos,n.pos,new Te(i,0,0));return u.setSelection(Re.near(u.doc.resolve(n.pos+1))),e.dispatch(u),!1}function f9(e){if(!(e.selection instanceof Dt))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",ct.create(e.doc,[Kt.widget(e.selection.head,t,{key:"gapcursor"})])}var vl=200,en=function(){};en.prototype.append=function(t){return t.length?(t=en.from(t),!this.length&&t||t.length<vl&&this.leafAppend(t)||this.length<vl&&t.leafPrepend(this)||this.appendInner(t)):this};en.prototype.prepend=function(t){return t.length?en.from(t).append(this):this};en.prototype.appendInner=function(t){return new h9(this,t)};en.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?en.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};en.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};en.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};en.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(u,s){return i.push(t(u,s))},n,r),i};en.from=function(t){return t instanceof en?t:t&&t.length?new D_(t):en.empty};var D_=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,u){return i==0&&u==this.length?this:new t(this.values.slice(i,u))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,u,s,o){for(var a=u;a<s;a++)if(i(this.values[a],o+a)===!1)return!1},t.prototype.forEachInvertedInner=function(i,u,s,o){for(var a=u-1;a>=s;a--)if(i(this.values[a],o+a)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=vl)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=vl)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(en);en.empty=new D_([]);var h9=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,u,s){var o=this.left.length;if(i<o&&this.left.forEachInner(r,i,Math.min(u,o),s)===!1||u>o&&this.right.forEachInner(r,Math.max(i-o,0),Math.min(this.length,u)-o,s+o)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,u,s){var o=this.left.length;if(i>o&&this.right.forEachInvertedInner(r,i-o,Math.max(u,o)-o,s+o)===!1||u<o&&this.left.forEachInvertedInner(r,Math.min(i,o),u,s)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var u=this.left.length;return i<=u?this.left.slice(r,i):r>=u?this.right.slice(r-u,i-u):this.left.slice(r,u).append(this.right.slice(0,i-u))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})(en);const p9=500;class nr{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,u;n&&(i=this.remapping(r,this.items.length),u=i.maps.length);let s=t.tr,o,a,c=[],l=[];return this.items.forEach((f,h)=>{if(!f.step){i||(i=this.remapping(r,h+1),u=i.maps.length),u--,l.push(f);return}if(i){l.push(new hr(f.map));let d=f.step.map(i.slice(u)),m;d&&s.maybeStep(d).doc&&(m=s.mapping.maps[s.mapping.maps.length-1],c.push(new hr(m,void 0,void 0,c.length+l.length))),u--,m&&i.appendMap(m,u)}else s.maybeStep(f.step);if(f.selection)return o=i?f.selection.map(i.slice(u)):f.selection,a=new nr(this.items.slice(0,r).append(l.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:s,selection:o}}addTransform(t,n,r,i){let u=[],s=this.eventCount,o=this.items,a=!i&&o.length?o.get(o.length-1):null;for(let l=0;l<t.steps.length;l++){let f=t.steps[l].invert(t.docs[l]),h=new hr(t.mapping.maps[l],f,n),d;(d=a&&a.merge(h))&&(h=d,l?u.pop():o=o.slice(0,o.length-1)),u.push(h),n&&(s++,n=void 0),i||(a=h)}let c=s-r.depth;return c>g9&&(o=m9(o,c),s-=c),new nr(o.append(u),s)}remapping(t,n){let r=new oa;return this.items.forEach((i,u)=>{let s=i.mirrorOffset!=null&&u-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},t,n),r}addMaps(t){return this.eventCount==0?this:new nr(this.items.append(t.map(n=>new hr(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),u=t.mapping,s=t.steps.length,o=this.eventCount;this.items.forEach(h=>{h.selection&&o--},i);let a=n;this.items.forEach(h=>{let d=u.getMirror(--a);if(d==null)return;s=Math.min(s,d);let m=u.maps[d];if(h.step){let A=t.steps[d].invert(t.docs[d]),x=h.selection&&h.selection.map(u.slice(a+1,d));x&&o++,r.push(new hr(m,A,x))}else r.push(new hr(m))},i);let c=[];for(let h=n;h<s;h++)c.push(new hr(u.maps[h]));let l=this.items.slice(0,i).append(c).append(r),f=new nr(l,o);return f.emptyItemCount()>p9&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],u=0;return this.items.forEach((s,o)=>{if(o>=t)i.push(s),s.selection&&u++;else if(s.step){let a=s.step.map(n.slice(r)),c=a&&a.getMap();if(r--,c&&n.appendMap(c,r),a){let l=s.selection&&s.selection.map(n.slice(r));l&&u++;let f=new hr(c.invert(),a,l),h,d=i.length-1;(h=i.length&&i[d].merge(f))?i[d]=h:i.push(f)}}else s.map&&r--},this.items.length,0),new nr(en.from(i.reverse()),u)}}nr.empty=new nr(en.empty,0);function m9(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class hr{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new hr(n.getMap().invert(),n,this.selection)}}}class ni{constructor(t,n,r,i,u){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=u}}const g9=20;function b9(e,t,n,r){let i=n.getMeta($i),u;if(i)return i.historyState;n.getMeta(_9)&&(e=new ni(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(s&&s.getMeta($i))return s.getMeta($i).redo?new ni(e.done.addTransform(n,void 0,r,ko(t)),e.undone,R1(n.mapping.maps),e.prevTime,e.prevComposition):new ni(e.done,e.undone.addTransform(n,void 0,r,ko(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let o=n.getMeta("composition"),a=e.prevTime==0||!s&&e.prevComposition!=o&&(e.prevTime<(n.time||0)-r.newGroupDelay||!E9(n,e.prevRanges)),c=s?hd(e.prevRanges,n.mapping):R1(n.mapping.maps);return new ni(e.done.addTransform(n,a?t.selection.getBookmark():void 0,r,ko(t)),nr.empty,c,n.time,o==null?e.prevComposition:o)}else return(u=n.getMeta("rebased"))?new ni(e.done.rebased(n,u),e.undone.rebased(n,u),hd(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new ni(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),hd(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function E9(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let u=0;u<t.length;u+=2)r<=t[u+1]&&i>=t[u]&&(n=!0)}),n}function R1(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,u,s)=>t.push(u,s));return t}function hd(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),u=t.map(e[r+1],-1);i<=u&&n.push(i,u)}return n}function T9(e,t,n){let r=ko(t),i=$i.get(t).spec.config,u=(n?e.undone:e.done).popEvent(t,r);if(!u)return null;let s=u.selection.resolve(u.transform.doc),o=(n?e.done:e.undone).addTransform(u.transform,t.selection.getBookmark(),i,r),a=new ni(n?o:u.remaining,n?u.remaining:o,null,0,-1);return u.transform.setSelection(s).setMeta($i,{redo:n,historyState:a})}let pd=!1,L1=null;function ko(e){let t=e.plugins;if(L1!=t){pd=!1,L1=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){pd=!0;break}}return pd}const $i=new It("history"),_9=new It("closeHistory");function y9(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new bt({key:$i,state:{init(){return new ni(nr.empty,nr.empty,null,0,-1)},apply(t,n,r){return b9(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?L_:r=="historyRedo"?P_:null;return!i||!t.editable?!1:(n.preventDefault(),i(t.state,t.dispatch))}}}})}function R_(e,t){return(n,r)=>{let i=$i.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let u=T9(i,n,e);u&&r(t?u.scrollIntoView():u)}return!0}}const L_=R_(!1,!0),P_=R_(!0,!0);Nt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc;if(((e==null?void 0:e.mode)||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new bt({key:new It("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const i=this.options.limit;if(i==null||i===0){e=!0;return}const u=this.storage.characters({node:r.doc});if(u>i){const s=u-i,o=0,a=s;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(o,a);return e=!0,c}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),u=this.storage.characters({node:t.doc});if(u<=r||i>r&&u>r&&u<=i)return!0;if(i>r&&u>r&&u>i||!t.getMeta("paste"))return!1;const o=t.selection.$head.pos,a=u-r,c=o-a,l=o;return t.deleteRange(c,l),!(this.storage.characters({node:t.doc})>r)}})]}});var A9=Nt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[i9(this.options)]}});Nt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new bt({key:new It("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=t,u=[];if(!n||!r)return ct.create(e,[]);let s=0;this.options.mode==="deepest"&&e.descendants((a,c)=>{if(a.isText)return;if(!(i>=c&&i<=c+a.nodeSize-1))return!1;s+=1});let o=0;return e.descendants((a,c)=>{if(a.isText||!(i>=c&&i<=c+a.nodeSize-1))return!1;if(o+=1,this.options.mode==="deepest"&&s-o>0||this.options.mode==="shallowest"&&o>1)return this.options.mode==="deepest";u.push(Kt.node(c,c+a.nodeSize,{class:this.options.className}))}),ct.create(e,u)}}})]}});var x9=Nt.create({name:"gapCursor",addProseMirrorPlugins(){return[o9()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=at(ke(e,"allowGapCursor",n)))!=null?t:null}}});Nt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new bt({key:new It("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;const u=this.editor.isEmpty;return e.descendants((s,o)=>{const a=r>=o&&r<=o+s.nodeSize,c=!s.isLeaf&&ec(s);if((a||!this.options.showOnlyCurrent)&&c){const l=[this.options.emptyNodeClass];u&&l.push(this.options.emptyEditorClass);const f=Kt.node(o,o+s.nodeSize,{class:l.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:s,pos:o,hasAnchor:a}):this.options.placeholder});i.push(f)}return this.options.includeChildren}),ct.create(e,i)}}})]}});Nt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new bt({key:new It("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||U3(n.selection)||e.view.dragging?null:ct.create(n.doc,[Kt.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function P1({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(t==null?void 0:t.type)===e}var C9=Nt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new It(this.name),n=this.options.node||((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new bt({key:t,appendTransaction:(i,u,s)=>{const{doc:o,tr:a,schema:c}=s,l=t.getState(s),f=o.content.size,h=c.nodes[n];if(l)return a.insert(f,h.create())},state:{init:(i,u)=>{const s=u.tr.doc.lastChild;return!P1({node:s,types:r})},apply:(i,u)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return u;const s=i.doc.lastChild;return!P1({node:s,types:r})}}})]}}),N9=Nt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>L_(e,t),redo:()=>({state:e,dispatch:t})=>P_(e,t)}},addProseMirrorPlugins(){return[y9(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),S9=Nt.create({name:"starterKit",addExtensions(){var e,t,n,r;const i=[];return this.options.bold!==!1&&i.push(tM.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(QP.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(rh.configure(this.options.bulletList)),this.options.code!==!1&&i.push(iM.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(aM.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(oM.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(A9.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(x9.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(lM.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(c_.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(N9.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(cM.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(mM.configure(this.options.italic)),this.options.listItem!==!1&&i.push(ih.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(I_.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&i.push(y_.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&i.push(sh.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(ZM.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(n9.configure(this.options.strike)),this.options.text!==!1&&i.push(r9.configure(this.options.text)),this.options.underline!==!1&&i.push(k_.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(C9.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),M_=S9,I9=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,v9=zt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",ht(this.options.HTMLAttributes,e)]},parseMarkdown:(e,t)=>t.createNode("image",{src:e.href,title:e.title,alt:e.text}),renderMarkdown:e=>{var t,n,r,i,u,s;const o=(n=(t=e.attrs)==null?void 0:t.src)!=null?n:"",a=(i=(r=e.attrs)==null?void 0:r.alt)!=null?i:"",c=(s=(u=e.attrs)==null?void 0:u.title)!=null?s:"";return c?`![${a}](${o} "${c}")`:`![${a}](${o})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document=="undefined")return null;const{directions:e,minWidth:t,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:i,getPos:u,HTMLAttributes:s,editor:o})=>{const a=document.createElement("img");Object.entries(s).forEach(([f,h])=>{if(h!=null)switch(f){case"width":case"height":break;default:a.setAttribute(f,h);break}}),a.src=s.src;const c=new UL({element:a,editor:o,node:i,getPos:u,onResize:(f,h)=>{a.style.width=`${f}px`,a.style.height=`${h}px`},onCommit:(f,h)=>{const d=u();d!==void 0&&this.editor.chain().setNodeSelection(d).updateAttributes(this.name,{width:f,height:h}).run()},onUpdate:(f,h,d)=>f.type===i.type,options:{directions:e,min:{width:t,height:n},preserveAspectRatio:r===!0}}),l=c.dom;return l.style.visibility="hidden",l.style.pointerEvents="none",a.onload=()=>{l.style.visibility="",l.style.pointerEvents=""},c}},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[i_({find:I9,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),k9=v9,w9=Nt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).some(n=>n):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).some(t=>t),toggleTextAlign:e=>({editor:t,commands:n})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),O9=w9,D9=rh,R9=sh,L9=ih;let Pf,Mf;if(typeof WeakMap!="undefined"){let e=new WeakMap;Pf=t=>e.get(t),Mf=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;Pf=r=>{for(let i=0;i<e.length;i+=2)if(e[i]==r)return e[i+1]},Mf=(r,i)=>(n==10&&(n=0),e[n++]=r,e[n++]=i)}var Rt=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,i=t/this.width|0;let u=r+1,s=i+1;for(let o=1;u<this.width&&this.map[t+o]==n;o++)u++;for(let o=1;s<this.height&&this.map[t+this.width*o]==n;o++)s++;return{left:r,top:i,right:u,bottom:s}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:i,top:u,bottom:s}=this.findCell(e);return t=="horiz"?(n<0?r==0:i==this.width)?null:this.map[u*this.width+(n<0?r-1:i)]:(n<0?u==0:s==this.height)?null:this.map[r+this.width*(n<0?u-1:s)]}rectBetween(e,t){const{left:n,right:r,top:i,bottom:u}=this.findCell(e),{left:s,right:o,top:a,bottom:c}=this.findCell(t);return{left:Math.min(n,s),top:Math.min(i,a),right:Math.max(r,o),bottom:Math.max(u,c)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let i=e.left;i<e.right;i++){const u=r*this.width+i,s=this.map[u];n[s]||(n[s]=!0,!(i==e.left&&i&&this.map[u-1]==s||r==e.top&&r&&this.map[u-this.width]==s)&&t.push(s))}return t}positionAt(e,t,n){for(let r=0,i=0;;r++){const u=i+n.child(r).nodeSize;if(r==e){let s=t+e*this.width;const o=(e+1)*this.width;for(;s<o&&this.map[s]<i;)s++;return s==o?u-1:this.map[s]}i=u}}static get(e){return Pf(e)||Mf(e,P9(e))}};function P9(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=M9(e),n=e.childCount,r=[];let i=0,u=null;const s=[];for(let c=0,l=t*n;c<l;c++)r[c]=0;for(let c=0,l=0;c<n;c++){const f=e.child(c);l++;for(let m=0;;m++){for(;i<r.length&&r[i]!=0;)i++;if(m==f.childCount)break;const A=f.child(m),{colspan:x,rowspan:g,colwidth:b}=A.attrs;for(let v=0;v<g;v++){if(v+c>=n){(u||(u=[])).push({type:"overlong_rowspan",pos:l,n:g-v});break}const p=i+v*t;for(let _=0;_<x;_++){r[p+_]==0?r[p+_]=l:(u||(u=[])).push({type:"collision",row:c,pos:l,n:x-_});const E=b&&b[_];if(E){const k=(p+_)%t*2,R=s[k];R==null||R!=E&&s[k+1]==1?(s[k]=E,s[k+1]=1):R==E&&s[k+1]++}}}i+=x,l+=A.nodeSize}const h=(c+1)*t;let d=0;for(;i<h;)r[i++]==0&&d++;d&&(u||(u=[])).push({type:"missing",row:c,n:d}),l++}(t===0||n===0)&&(u||(u=[])).push({type:"zero_sized"});const o=new Rt(t,n,r,u);let a=!1;for(let c=0;!a&&c<s.length;c+=2)s[c]!=null&&s[c+1]<n&&(a=!0);return a&&B9(o,s,e),o}function M9(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const i=e.child(r);let u=0;if(n)for(let s=0;s<r;s++){const o=e.child(s);for(let a=0;a<o.childCount;a++){const c=o.child(a);s+c.attrs.rowspan>r&&(u+=c.attrs.colspan)}}for(let s=0;s<i.childCount;s++){const o=i.child(s);u+=o.attrs.colspan,o.attrs.rowspan>1&&(n=!0)}t==-1?t=u:t!=u&&(t=Math.max(t,u))}return t}function B9(e,t,n){e.problems||(e.problems=[]);const r={};for(let i=0;i<e.map.length;i++){const u=e.map[i];if(r[u])continue;r[u]=!0;const s=n.nodeAt(u);if(!s)throw new RangeError(`No cell with offset ${u} found`);let o=null;const a=s.attrs;for(let c=0;c<a.colspan;c++){const l=t[(i+c)%e.width*2];l!=null&&(!a.colwidth||a.colwidth[c]!=l)&&((o||(o=F9(a)))[c]=l)}o&&e.problems.unshift({type:"colwidth mismatch",pos:u,colwidth:o})}}function F9(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function dn(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}}return t}const ui=new It("selectingCells");function Qu(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function H9(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function ar(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function ic(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=Qu(t.$head)||j9(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function j9(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function Bf(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function U9(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function oh(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function B_(e,t,n){const r=e.node(-1),i=Rt.get(r),u=e.start(-1),s=i.nextCell(e.pos-u,t,n);return s==null?null:e.node(0).resolve(u+s)}function nu(e,t,n=1){const r=le(G({},e),{colspan:e.colspan-n});return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function F_(e,t,n=1){const r=le(G({},e),{colspan:e.colspan+n});if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(t,0,0)}return r}function z9(e,t,n){const r=dn(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0}var gt=class Lr extends Fe{constructor(t,n=t){const r=t.node(-1),i=Rt.get(r),u=t.start(-1),s=i.rectBetween(t.pos-u,n.pos-u),o=t.node(0),a=i.cellsInRect(s).filter(l=>l!=n.pos-u);a.unshift(n.pos-u);const c=a.map(l=>{const f=r.nodeAt(l);if(!f)throw new RangeError(`No cell with offset ${l} found`);const h=u+l+1;return new k2(o.resolve(h),o.resolve(h+f.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(Bf(r)&&Bf(i)&&oh(r,i)){const u=this.$anchorCell.node(-1)!=r.node(-1);return u&&this.isRowSelection()?Lr.rowSelection(r,i):u&&this.isColSelection()?Lr.colSelection(r,i):new Lr(r,i)}return Re.between(r,i)}content(){const t=this.$anchorCell.node(-1),n=Rt.get(t),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),u={},s=[];for(let a=i.top;a<i.bottom;a++){const c=[];for(let l=a*n.width+i.left,f=i.left;f<i.right;f++,l++){const h=n.map[l];if(u[h])continue;u[h]=!0;const d=n.findCell(h);let m=t.nodeAt(h);if(!m)throw new RangeError(`No cell with offset ${h} found`);const A=i.left-d.left,x=d.right-i.right;if(A>0||x>0){let g=m.attrs;if(A>0&&(g=nu(g,0,A)),x>0&&(g=nu(g,g.colspan-x,x)),d.left<i.left){if(m=m.type.createAndFill(g),!m)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(g)}`)}else m=m.type.create(g,m.content)}if(d.top<i.top||d.bottom>i.bottom){const g=le(G({},m.attrs),{rowspan:Math.min(d.bottom,i.bottom)-Math.max(d.top,i.top)});d.top<i.top?m=m.type.createAndFill(g):m=m.type.create(g,m.content)}c.push(m)}s.push(t.child(a).copy(ae.from(c)))}const o=this.isColSelection()&&this.isRowSelection()?t:s;return new Te(ae.from(o),1,1)}replace(t,n=Te.empty){const r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){const{$from:o,$to:a}=i[s],c=t.mapping.slice(r);t.replace(c.map(o.pos),c.map(a.pos),s?Te.empty:n)}const u=Fe.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);u&&t.setSelection(u)}replaceWith(t,n){this.replace(t,new Te(ae.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=Rt.get(n),i=this.$anchorCell.start(-1),u=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let s=0;s<u.length;s++)t(n.nodeAt(u[s]),i+u[s])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),i=Rt.get(r),u=t.start(-1),s=i.findCell(t.pos-u),o=i.findCell(n.pos-u),a=t.node(0);return s.top<=o.top?(s.top>0&&(t=a.resolve(u+i.map[s.left])),o.bottom<i.height&&(n=a.resolve(u+i.map[i.width*(i.height-1)+o.right-1]))):(o.top>0&&(n=a.resolve(u+i.map[o.left])),s.bottom<i.height&&(t=a.resolve(u+i.map[i.width*(i.height-1)+s.right-1]))),new Lr(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=Rt.get(t),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),u=n.colCount(this.$headCell.pos-r);if(Math.min(i,u)>0)return!1;const s=i+this.$anchorCell.nodeAfter.attrs.colspan,o=u+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,o)==n.width}eq(t){return t instanceof Lr&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),i=Rt.get(r),u=t.start(-1),s=i.findCell(t.pos-u),o=i.findCell(n.pos-u),a=t.node(0);return s.left<=o.left?(s.left>0&&(t=a.resolve(u+i.map[s.top*i.width])),o.right<i.width&&(n=a.resolve(u+i.map[i.width*(o.top+1)-1]))):(o.left>0&&(n=a.resolve(u+i.map[o.top*i.width])),s.right<i.width&&(t=a.resolve(u+i.map[i.width*(s.top+1)-1]))),new Lr(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new Lr(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new Lr(t.resolve(n),t.resolve(r))}getBookmark(){return new G9(this.$anchorCell.pos,this.$headCell.pos)}};gt.prototype.visible=!1;Fe.jsonID("cell",gt);var G9=class H_{constructor(t,n){this.anchor=t,this.head=n}map(t){return new H_(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&oh(n,r)?new gt(n,r):Fe.near(r,1)}};function q9(e){if(!(e.selection instanceof gt))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(Kt.node(r,r+n.nodeSize,{class:"selectedCell"}))}),ct.create(e.doc,t)}function V9({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,r=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let u=t.depth;u>=0&&!(t.before(u+1)>t.start(u));u--,r--);return n==r&&/row|table/.test(e.node(i).type.spec.tableRole)}function W9({$from:e,$to:t}){let n,r;for(let i=e.depth;i>0;i--){const u=e.node(i);if(u.type.spec.tableRole==="cell"||u.type.spec.tableRole==="header_cell"){n=u;break}}for(let i=t.depth;i>0;i--){const u=t.node(i);if(u.type.spec.tableRole==="cell"||u.type.spec.tableRole==="header_cell"){r=u;break}}return n!==r&&t.parentOffset===0}function Y9(e,t,n){const r=(t||e).selection,i=(t||e).doc;let u,s;if(r instanceof Oe&&(s=r.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")u=gt.create(i,r.from);else if(s=="row"){const o=i.resolve(r.from+1);u=gt.rowSelection(o,o)}else if(!n){const o=Rt.get(r.node),a=r.from+1,c=a+o.map[o.width*o.height-1];u=gt.create(i,a+1,c)}}else r instanceof Re&&V9(r)?u=Re.create(i,r.from):r instanceof Re&&W9(r)&&(u=Re.create(i,r.$from.start(),r.$from.end()));return u&&(t||(t=e.tr)).setSelection(u),t}const K9=new It("fix-tables");function j_(e,t,n,r){const i=e.childCount,u=t.childCount;e:for(let s=0,o=0;s<u;s++){const a=t.child(s);for(let c=o,l=Math.min(i,s+3);c<l;c++)if(e.child(c)==a){o=c+1,n+=a.nodeSize;continue e}r(a,n),o<i&&e.child(o).sameMarkup(a)?j_(e.child(o),a,n+1,r):a.nodesBetween(0,a.content.size,r,n+1),n+=a.nodeSize}}function U_(e,t){let n;const r=(i,u)=>{i.type.spec.tableRole=="table"&&(n=$9(e,i,u,n))};return t?t.doc!=e.doc&&j_(t.doc,e.doc,0,r):e.doc.descendants(r),n}function $9(e,t,n,r){const i=Rt.get(t);if(!i.problems)return r;r||(r=e.tr);const u=[];for(let a=0;a<i.height;a++)u.push(0);for(let a=0;a<i.problems.length;a++){const c=i.problems[a];if(c.type=="collision"){const l=t.nodeAt(c.pos);if(!l)continue;const f=l.attrs;for(let h=0;h<f.rowspan;h++)u[c.row+h]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,nu(f,f.colspan-c.n,c.n))}else if(c.type=="missing")u[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const l=t.nodeAt(c.pos);if(!l)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,le(G({},l.attrs),{rowspan:l.attrs.rowspan-c.n}))}else if(c.type=="colwidth mismatch"){const l=t.nodeAt(c.pos);if(!l)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,le(G({},l.attrs),{colwidth:c.colwidth}))}else if(c.type=="zero_sized"){const l=r.mapping.map(n);r.delete(l,l+t.nodeSize)}}let s,o;for(let a=0;a<u.length;a++)u[a]&&(s==null&&(s=a),o=a);for(let a=0,c=n+1;a<i.height;a++){const l=t.child(a),f=c+l.nodeSize,h=u[a];if(h>0){let d="cell";l.firstChild&&(d=l.firstChild.type.spec.tableRole);const m=[];for(let x=0;x<h;x++){const g=dn(e.schema)[d].createAndFill();g&&m.push(g)}const A=(a==0||s==a-1)&&o==a?c+1:f-1;r.insert(r.mapping.map(A),m)}c=f}return r.setMeta(K9,{fixTables:!0})}function Ar(e){const t=e.selection,n=ic(e),r=n.node(-1),i=n.start(-1),u=Rt.get(r);return le(G({},t instanceof gt?u.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):u.findCell(n.pos-i)),{tableStart:i,map:u,table:r})}function z_(e,{map:t,tableStart:n,table:r},i){let u=i>0?-1:0;z9(t,r,i+u)&&(u=i==0||i==t.width?null:0);for(let s=0;s<t.height;s++){const o=s*t.width+i;if(i>0&&i<t.width&&t.map[o-1]==t.map[o]){const a=t.map[o],c=r.nodeAt(a);e.setNodeMarkup(e.mapping.map(n+a),null,F_(c.attrs,i-t.colCount(a))),s+=c.attrs.rowspan-1}else{const a=u==null?dn(r.type.schema).cell:r.nodeAt(t.map[o+u]).type,c=t.positionAt(s,i,r);e.insert(e.mapping.map(n+c),a.createAndFill())}}return e}function Q9(e,t){if(!ar(e))return!1;if(t){const n=Ar(e);t(z_(e.tr,n,n.left))}return!0}function X9(e,t){if(!ar(e))return!1;if(t){const n=Ar(e);t(z_(e.tr,n,n.right))}return!0}function J9(e,{map:t,table:n,tableStart:r},i){const u=e.mapping.maps.length;for(let s=0;s<t.height;){const o=s*t.width+i,a=t.map[o],c=n.nodeAt(a),l=c.attrs;if(i>0&&t.map[o-1]==a||i<t.width-1&&t.map[o+1]==a)e.setNodeMarkup(e.mapping.slice(u).map(r+a),null,nu(l,i-t.colCount(a)));else{const f=e.mapping.slice(u).map(r+a);e.delete(f,f+c.nodeSize)}s+=l.rowspan}}function Z9(e,t){if(!ar(e))return!1;if(t){const n=Ar(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;J9(r,n,i),i!=n.left;i--){const u=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!u)throw new RangeError("No table found");n.table=u,n.map=Rt.get(u)}t(r)}return!0}function e7(e,t,n){var r;const i=dn(t.type.schema).header_cell;for(let u=0;u<e.width;u++)if(((r=t.nodeAt(e.map[u+n*e.width]))===null||r===void 0?void 0:r.type)!=i)return!1;return!0}function G_(e,{map:t,tableStart:n,table:r},i){let u=n;for(let c=0;c<i;c++)u+=r.child(c).nodeSize;const s=[];let o=i>0?-1:0;e7(t,r,i+o)&&(o=i==0||i==t.height?null:0);for(let c=0,l=t.width*i;c<t.width;c++,l++)if(i>0&&i<t.height&&t.map[l]==t.map[l-t.width]){const f=t.map[l],h=r.nodeAt(f).attrs;e.setNodeMarkup(n+f,null,le(G({},h),{rowspan:h.rowspan+1})),c+=h.colspan-1}else{var a;const f=o==null?dn(r.type.schema).cell:(a=r.nodeAt(t.map[l+o*t.width]))===null||a===void 0?void 0:a.type,h=f==null?void 0:f.createAndFill();h&&s.push(h)}return e.insert(u,dn(r.type.schema).row.create(null,s)),e}function t7(e,t){if(!ar(e))return!1;if(t){const n=Ar(e);t(G_(e.tr,n,n.top))}return!0}function n7(e,t){if(!ar(e))return!1;if(t){const n=Ar(e);t(G_(e.tr,n,n.bottom))}return!0}function r7(e,{map:t,table:n,tableStart:r},i){let u=0;for(let c=0;c<i;c++)u+=n.child(c).nodeSize;const s=u+n.child(i).nodeSize,o=e.mapping.maps.length;e.delete(u+r,s+r);const a=new Set;for(let c=0,l=i*t.width;c<t.width;c++,l++){const f=t.map[l];if(!a.has(f)){if(a.add(f),i>0&&f==t.map[l-t.width]){const h=n.nodeAt(f).attrs;e.setNodeMarkup(e.mapping.slice(o).map(f+r),null,le(G({},h),{rowspan:h.rowspan-1})),c+=h.colspan-1}else if(i<t.height&&f==t.map[l+t.width]){const h=n.nodeAt(f),d=h.attrs,m=h.type.create(le(G({},d),{rowspan:h.attrs.rowspan-1}),h.content),A=t.positionAt(i+1,c,n);e.insert(e.mapping.slice(o).map(r+A),m),c+=d.colspan-1}}}}function i7(e,t){if(!ar(e))return!1;if(t){const n=Ar(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;r7(r,n,i),i!=n.top;i--){const u=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!u)throw new RangeError("No table found");n.table=u,n.map=Rt.get(n.table)}t(r)}return!0}function M1(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function u7({width:e,height:t,map:n},r){let i=r.top*e+r.left,u=i,s=(r.bottom-1)*e+r.left,o=i+(r.right-r.left-1);for(let a=r.top;a<r.bottom;a++){if(r.left>0&&n[u]==n[u-1]||r.right<e&&n[o]==n[o+1])return!0;u+=e,o+=e}for(let a=r.left;a<r.right;a++){if(r.top>0&&n[i]==n[i-e]||r.bottom<t&&n[s]==n[s+e])return!0;i++,s++}return!1}function B1(e,t){const n=e.selection;if(!(n instanceof gt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Ar(e),{map:i}=r;if(u7(i,r))return!1;if(t){const u=e.tr,s={};let o=ae.empty,a,c;for(let l=r.top;l<r.bottom;l++)for(let f=r.left;f<r.right;f++){const h=i.map[l*i.width+f],d=r.table.nodeAt(h);if(!(s[h]||!d))if(s[h]=!0,a==null)a=h,c=d;else{M1(d)||(o=o.append(d.content));const m=u.mapping.map(h+r.tableStart);u.delete(m,m+d.nodeSize)}}if(a==null||c==null)return!0;if(u.setNodeMarkup(a+r.tableStart,null,le(G({},F_(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan)),{rowspan:r.bottom-r.top})),o.size>0){const l=a+1+c.content.size,f=M1(c)?a+1:l;u.replaceWith(f+r.tableStart,l+r.tableStart,o)}u.setSelection(new gt(u.doc.resolve(a+r.tableStart))),t(u)}return!0}function F1(e,t){const n=dn(e.schema);return s7(({node:r})=>n[r.type.spec.tableRole])(e,t)}function s7(e){return(t,n)=>{const r=t.selection;let i,u;if(r instanceof gt){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;i=r.$anchorCell.nodeAfter,u=r.$anchorCell.pos}else{var s;if(i=H9(r.$from),!i)return!1;u=(s=Qu(r.$from))===null||s===void 0?void 0:s.pos}if(i==null||u==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(n){let o=i.attrs;const a=[],c=o.colwidth;o.rowspan>1&&(o=le(G({},o),{rowspan:1})),o.colspan>1&&(o=le(G({},o),{colspan:1}));const l=Ar(t),f=t.tr;for(let d=0;d<l.right-l.left;d++)a.push(c?le(G({},o),{colwidth:c&&c[d]?[c[d]]:null}):o);let h;for(let d=l.top;d<l.bottom;d++){let m=l.map.positionAt(d,l.left,l.table);d==l.top&&(m+=i.nodeSize);for(let A=l.left,x=0;A<l.right;A++,x++)A==l.left&&d==l.top||f.insert(h=f.mapping.map(m+l.tableStart,1),e({node:i,row:d,col:A}).createAndFill(a[x]))}f.setNodeMarkup(u,e({node:i,row:l.top,col:l.left}),a[0]),r instanceof gt&&f.setSelection(new gt(f.doc.resolve(r.$anchorCell.pos),h?f.doc.resolve(h):void 0)),n(f)}return!0}}function a7(e,t){return function(n,r){if(!ar(n))return!1;const i=ic(n);if(i.nodeAfter.attrs[e]===t)return!1;if(r){const u=n.tr;n.selection instanceof gt?n.selection.forEachCell((s,o)=>{s.attrs[e]!==t&&u.setNodeMarkup(o,null,le(G({},s.attrs),{[e]:t}))}):u.setNodeMarkup(i.pos,null,le(G({},i.nodeAfter.attrs),{[e]:t})),r(u)}return!0}}function o7(e){return function(t,n){if(!ar(t))return!1;if(n){const r=dn(t.schema),i=Ar(t),u=t.tr,s=i.map.cellsInRect(e=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:e=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),o=s.map(a=>i.table.nodeAt(a));for(let a=0;a<s.length;a++)o[a].type==r.header_cell&&u.setNodeMarkup(i.tableStart+s[a],r.cell,o[a].attrs);if(u.steps.length===0)for(let a=0;a<s.length;a++)u.setNodeMarkup(i.tableStart+s[a],r.header_cell,o[a].attrs);n(u)}return!0}}function H1(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let i=0;i<r.length;i++){const u=t.table.nodeAt(r[i]);if(u&&u.type!==n.header_cell)return!1}return!0}function ga(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?o7(e):function(n,r){if(!ar(n))return!1;if(r){const i=dn(n.schema),u=Ar(n),s=n.tr,o=H1("row",u,i),a=H1("column",u,i),c=(e==="column"?o:e==="row"&&a)?1:0,l=e=="column"?{left:0,top:c,right:1,bottom:u.map.height}:e=="row"?{left:c,top:0,right:u.map.width,bottom:1}:u,f=e=="column"?a?i.cell:i.header_cell:e=="row"?o?i.cell:i.header_cell:i.cell;u.map.cellsInRect(l).forEach(h=>{const d=h+u.tableStart,m=s.doc.nodeAt(d);m&&s.setNodeMarkup(d,f,m.attrs)}),r(s)}return!0}}ga("row",{useDeprecatedLogic:!0});ga("column",{useDeprecatedLogic:!0});const l7=ga("cell",{useDeprecatedLogic:!0});function c7(e,t){if(t<0){const n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let r=e.index(-1)-1,i=e.before();r>=0;r--){const u=e.node(-1).child(r),s=u.lastChild;if(s)return i-1-s.nodeSize;i-=u.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const n=e.node(-1);for(let r=e.indexAfter(-1),i=e.after();r<n.childCount;r++){const u=n.child(r);if(u.childCount)return i+1;i+=u.nodeSize}}return null}function j1(e){return function(t,n){if(!ar(t))return!1;const r=c7(ic(t),e);if(r==null)return!1;if(n){const i=t.doc.resolve(r);n(t.tr.setSelection(Re.between(i,U9(i))).scrollIntoView())}return!0}}function d7(e,t){const n=e.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function oo(e,t){const n=e.selection;if(!(n instanceof gt))return!1;if(t){const r=e.tr,i=dn(e.schema).cell.createAndFill().content;n.forEachCell((u,s)=>{u.content.eq(i)||r.replace(r.mapping.map(s+1),r.mapping.map(s+u.nodeSize-1),new Te(i,0,0))}),r.docChanged&&t(r)}return!0}function f7(e){if(e.size===0)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const i=t.child(0),u=i.type.spec.tableRole,s=i.type.schema,o=[];if(u=="row")for(let a=0;a<t.childCount;a++){let c=t.child(a).content;const l=a?0:Math.max(0,n-1),f=a<t.childCount-1?0:Math.max(0,r-1);(l||f)&&(c=Ff(dn(s).row,new Te(c,l,f)).content),o.push(c)}else if(u=="cell"||u=="header_cell")o.push(n||r?Ff(dn(s).row,new Te(t,n,r)).content:t);else return null;return h7(s,o)}function h7(e,t){const n=[];for(let i=0;i<t.length;i++){const u=t[i];for(let s=u.childCount-1;s>=0;s--){const{rowspan:o,colspan:a}=u.child(s).attrs;for(let c=i;c<i+o;c++)n[c]=(n[c]||0)+a}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(ae.empty),n[i]<r){const u=dn(e).cell.createAndFill(),s=[];for(let o=n[i];o<r;o++)s.push(u);t[i]=t[i].append(ae.from(s))}return{height:t.length,width:r,rows:t}}function Ff(e,t){const n=e.createAndFill();return new T0(n).replace(0,n.content.size,t).doc}function p7({width:e,height:t,rows:n},r,i){if(e!=r){const u=[],s=[];for(let o=0;o<n.length;o++){const a=n[o],c=[];for(let l=u[o]||0,f=0;l<r;f++){let h=a.child(f%a.childCount);l+h.attrs.colspan>r&&(h=h.type.createChecked(nu(h.attrs,h.attrs.colspan,l+h.attrs.colspan-r),h.content)),c.push(h),l+=h.attrs.colspan;for(let d=1;d<h.attrs.rowspan;d++)u[o+d]=(u[o+d]||0)+h.attrs.colspan}s.push(ae.from(c))}n=s,e=r}if(t!=i){const u=[];for(let s=0,o=0;s<i;s++,o++){const a=[],c=n[o%t];for(let l=0;l<c.childCount;l++){let f=c.child(l);s+f.attrs.rowspan>i&&(f=f.type.create(le(G({},f.attrs),{rowspan:Math.max(1,i-f.attrs.rowspan)}),f.content)),a.push(f)}u.push(ae.from(a))}n=u,t=i}return{width:e,height:t,rows:n}}function m7(e,t,n,r,i,u,s){const o=e.doc.type.schema,a=dn(o);let c,l;if(i>t.width)for(let f=0,h=0;f<t.height;f++){const d=n.child(f);h+=d.nodeSize;const m=[];let A;d.lastChild==null||d.lastChild.type==a.cell?A=c||(c=a.cell.createAndFill()):A=l||(l=a.header_cell.createAndFill());for(let x=t.width;x<i;x++)m.push(A);e.insert(e.mapping.slice(s).map(h-1+r),m)}if(u>t.height){const f=[];for(let m=0,A=(t.height-1)*t.width;m<Math.max(t.width,i);m++){const x=m>=t.width?!1:n.nodeAt(t.map[A+m]).type==a.header_cell;f.push(x?l||(l=a.header_cell.createAndFill()):c||(c=a.cell.createAndFill()))}const h=a.row.create(null,ae.from(f)),d=[];for(let m=t.height;m<u;m++)d.push(h);e.insert(e.mapping.slice(s).map(r+n.nodeSize-2),d)}return!!(c||l)}function U1(e,t,n,r,i,u,s,o){if(s==0||s==t.height)return!1;let a=!1;for(let c=i;c<u;c++){const l=s*t.width+c,f=t.map[l];if(t.map[l-t.width]==f){a=!0;const h=n.nodeAt(f),{top:d,left:m}=t.findCell(f);e.setNodeMarkup(e.mapping.slice(o).map(f+r),null,le(G({},h.attrs),{rowspan:s-d})),e.insert(e.mapping.slice(o).map(t.positionAt(s,m,n)),h.type.createAndFill(le(G({},h.attrs),{rowspan:d+h.attrs.rowspan-s}))),c+=h.attrs.colspan-1}}return a}function z1(e,t,n,r,i,u,s,o){if(s==0||s==t.width)return!1;let a=!1;for(let c=i;c<u;c++){const l=c*t.width+s,f=t.map[l];if(t.map[l-1]==f){a=!0;const h=n.nodeAt(f),d=t.colCount(f),m=e.mapping.slice(o).map(f+r);e.setNodeMarkup(m,null,nu(h.attrs,s-d,h.attrs.colspan-(s-d))),e.insert(m+h.nodeSize,h.type.createAndFill(nu(h.attrs,0,s-d))),c+=h.attrs.rowspan-1}}return a}function G1(e,t,n,r,i){let u=n?e.doc.nodeAt(n-1):e.doc;if(!u)throw new Error("No table found");let s=Rt.get(u);const{top:o,left:a}=r,c=a+i.width,l=o+i.height,f=e.tr;let h=0;function d(){if(u=n?f.doc.nodeAt(n-1):f.doc,!u)throw new Error("No table found");s=Rt.get(u),h=f.mapping.maps.length}m7(f,s,u,n,c,l,h)&&d(),U1(f,s,u,n,a,c,o,h)&&d(),U1(f,s,u,n,a,c,l,h)&&d(),z1(f,s,u,n,o,l,a,h)&&d(),z1(f,s,u,n,o,l,c,h)&&d();for(let m=o;m<l;m++){const A=s.positionAt(m,a,u),x=s.positionAt(m,c,u);f.replace(f.mapping.slice(h).map(A+n),f.mapping.slice(h).map(x+n),new Te(i.rows[m-o],0,0))}d(),f.setSelection(new gt(f.doc.resolve(n+s.positionAt(o,a,u)),f.doc.resolve(n+s.positionAt(l-1,c-1,u)))),t(f)}const g7=P0({ArrowLeft:lo("horiz",-1),ArrowRight:lo("horiz",1),ArrowUp:lo("vert",-1),ArrowDown:lo("vert",1),"Shift-ArrowLeft":co("horiz",-1),"Shift-ArrowRight":co("horiz",1),"Shift-ArrowUp":co("vert",-1),"Shift-ArrowDown":co("vert",1),Backspace:oo,"Mod-Backspace":oo,Delete:oo,"Mod-Delete":oo});function wo(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function lo(e,t){return(n,r,i)=>{if(!i)return!1;const u=n.selection;if(u instanceof gt)return wo(n,r,Fe.near(u.$headCell,t));if(e!="horiz"&&!u.empty)return!1;const s=q_(i,e,t);if(s==null)return!1;if(e=="horiz")return wo(n,r,Fe.near(n.doc.resolve(u.head+t),t));{const o=n.doc.resolve(s),a=B_(o,e,t);let c;return a?c=Fe.near(a,1):t<0?c=Fe.near(n.doc.resolve(o.before(-1)),-1):c=Fe.near(n.doc.resolve(o.after(-1)),1),wo(n,r,c)}}}function co(e,t){return(n,r,i)=>{if(!i)return!1;const u=n.selection;let s;if(u instanceof gt)s=u;else{const a=q_(i,e,t);if(a==null)return!1;s=new gt(n.doc.resolve(a))}const o=B_(s.$headCell,e,t);return o?wo(n,r,new gt(s.$anchorCell,o)):!1}}function b7(e,t){const n=e.state.doc,r=Qu(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new gt(r))),!0):!1}function E7(e,t,n){if(!ar(e.state))return!1;let r=f7(n);const i=e.state.selection;if(i instanceof gt){r||(r={width:1,height:1,rows:[ae.from(Ff(dn(e.state.schema).cell,n))]});const u=i.$anchorCell.node(-1),s=i.$anchorCell.start(-1),o=Rt.get(u).rectBetween(i.$anchorCell.pos-s,i.$headCell.pos-s);return r=p7(r,o.right-o.left,o.bottom-o.top),G1(e.state,e.dispatch,s,o,r),!0}else if(r){const u=ic(e.state),s=u.start(-1);return G1(e.state,e.dispatch,s,Rt.get(u.node(-1)).findCell(u.pos-s),r),!0}else return!1}function T7(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=q1(e,t.target);let i;if(t.shiftKey&&e.state.selection instanceof gt)u(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(i=Qu(e.state.selection.$anchor))!=null&&((n=md(e,t))===null||n===void 0?void 0:n.pos)!=i.pos)u(i,t),t.preventDefault();else if(!r)return;function u(a,c){let l=md(e,c);const f=ui.getState(e.state)==null;if(!l||!oh(a,l))if(f)l=a;else return;const h=new gt(a,l);if(f||!e.state.selection.eq(h)){const d=e.state.tr.setSelection(h);f&&d.setMeta(ui,a.pos),e.dispatch(d)}}function s(){e.root.removeEventListener("mouseup",s),e.root.removeEventListener("dragstart",s),e.root.removeEventListener("mousemove",o),ui.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(ui,-1))}function o(a){const c=a,l=ui.getState(e.state);let f;if(l!=null)f=e.state.doc.resolve(l);else if(q1(e,c.target)!=r&&(f=md(e,t),!f))return s();f&&u(f,c)}e.root.addEventListener("mouseup",s),e.root.addEventListener("dragstart",s),e.root.addEventListener("mousemove",o)}function q_(e,t,n){if(!(e.state.selection instanceof Re))return null;const{$head:r}=e.state.selection;for(let i=r.depth-1;i>=0;i--){const u=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:u.childCount))return null;if(u.type.spec.tableRole=="cell"||u.type.spec.tableRole=="header_cell"){const s=r.before(i),o=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(o)?s:null}}return null}function q1(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function md(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});if(!n)return null;const r=n.inside>=0?n.inside:n.pos;return Qu(e.state.doc.resolve(r))}var _7=class{constructor(t,n){this.node=t,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Hf(t,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,Hf(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function Hf(e,t,n,r,i,u){let s=0,o=!0,a=t.firstChild;const c=e.firstChild;if(c){for(let f=0,h=0;f<c.childCount;f++){const{colspan:d,colwidth:m}=c.child(f).attrs;for(let A=0;A<d;A++,h++){const x=i==h?u:m&&m[A],g=x?x+"px":"";if(s+=x||r,x||(o=!1),a)a.style.width!=g&&(a.style.width=g),a=a.nextSibling;else{const b=document.createElement("col");b.style.width=g,t.appendChild(b)}}}for(;a;){var l;const f=a.nextSibling;(l=a.parentNode)===null||l===void 0||l.removeChild(a),a=f}o?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}}const Fn=new It("tableColumnResizing");function y7({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:r=_7,lastColumnResizable:i=!0}={}){const u=new bt({key:Fn,state:{init(s,o){var a;const c=(a=u.spec)===null||a===void 0||(a=a.props)===null||a===void 0?void 0:a.nodeViews,l=dn(o.schema).table.name;return r&&c&&(c[l]=(f,h)=>new r(f,n,h)),new A7(-1,!1)},apply(s,o){return o.apply(s)}},props:{attributes:s=>{const o=Fn.getState(s);return o&&o.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,o)=>{x7(s,o,e,i)},mouseleave:s=>{C7(s)},mousedown:(s,o)=>{N7(s,o,t,n)}},decorations:s=>{const o=Fn.getState(s);if(o&&o.activeHandle>-1)return w7(s,o.activeHandle)},nodeViews:{}}});return u}var A7=class Oo{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,r=t.getMeta(Fn);if(r&&r.setHandle!=null)return new Oo(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Oo(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let i=t.mapping.map(n.activeHandle,-1);return Bf(t.doc.resolve(i))||(i=-1),new Oo(i,n.dragging)}return n}};function x7(e,t,n,r){if(!e.editable)return;const i=Fn.getState(e.state);if(i&&!i.dragging){const u=I7(t.target);let s=-1;if(u){const{left:o,right:a}=u.getBoundingClientRect();t.clientX-o<=n?s=V1(e,t,"left",n):a-t.clientX<=n&&(s=V1(e,t,"right",n))}if(s!=i.activeHandle){if(!r&&s!==-1){const o=e.state.doc.resolve(s),a=o.node(-1),c=Rt.get(a),l=o.start(-1);if(c.colCount(o.pos-l)+o.nodeAfter.attrs.colspan-1==c.width-1)return}V_(e,s)}}}function C7(e){if(!e.editable)return;const t=Fn.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&V_(e,-1)}function N7(e,t,n,r){var i;if(!e.editable)return!1;const u=(i=e.dom.ownerDocument.defaultView)!==null&&i!==void 0?i:window,s=Fn.getState(e.state);if(!s||s.activeHandle==-1||s.dragging)return!1;const o=e.state.doc.nodeAt(s.activeHandle),a=S7(e,s.activeHandle,o.attrs);e.dispatch(e.state.tr.setMeta(Fn,{setDragging:{startX:t.clientX,startWidth:a}}));function c(f){u.removeEventListener("mouseup",c),u.removeEventListener("mousemove",l);const h=Fn.getState(e.state);h!=null&&h.dragging&&(v7(e,h.activeHandle,W1(h.dragging,f,n)),e.dispatch(e.state.tr.setMeta(Fn,{setDragging:null})))}function l(f){if(!f.which)return c(f);const h=Fn.getState(e.state);if(h&&h.dragging){const d=W1(h.dragging,f,n);Y1(e,h.activeHandle,d,r)}}return Y1(e,s.activeHandle,a,r),u.addEventListener("mouseup",c),u.addEventListener("mousemove",l),t.preventDefault(),!0}function S7(e,t,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const u=e.domAtPos(t);let s=u.node.childNodes[u.offset].offsetWidth,o=n;if(r)for(let a=0;a<n;a++)r[a]&&(s-=r[a],o--);return s/o}function I7(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function V1(e,t,n,r){const i=n=="right"?-r:r,u=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!u)return-1;const{pos:s}=u,o=Qu(e.state.doc.resolve(s));if(!o)return-1;if(n=="right")return o.pos;const a=Rt.get(o.node(-1)),c=o.start(-1),l=a.map.indexOf(o.pos-c);return l%a.width==0?-1:c+a.map[l-1]}function W1(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function V_(e,t){e.dispatch(e.state.tr.setMeta(Fn,{setHandle:t}))}function v7(e,t,n){const r=e.state.doc.resolve(t),i=r.node(-1),u=Rt.get(i),s=r.start(-1),o=u.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,a=e.state.tr;for(let c=0;c<u.height;c++){const l=c*u.width+o;if(c&&u.map[l]==u.map[l-u.width])continue;const f=u.map[l],h=i.nodeAt(f).attrs,d=h.colspan==1?0:o-u.colCount(f);if(h.colwidth&&h.colwidth[d]==n)continue;const m=h.colwidth?h.colwidth.slice():k7(h.colspan);m[d]=n,a.setNodeMarkup(s+f,null,le(G({},h),{colwidth:m}))}a.docChanged&&e.dispatch(a)}function Y1(e,t,n,r){const i=e.state.doc.resolve(t),u=i.node(-1),s=i.start(-1),o=Rt.get(u).colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;let a=e.domAtPos(i.start(-1)).node;for(;a&&a.nodeName!="TABLE";)a=a.parentNode;a&&Hf(u,a.firstChild,a,r,o,n)}function k7(e){return Array(e).fill(0)}function w7(e,t){const n=[],r=e.doc.resolve(t),i=r.node(-1);if(!i)return ct.empty;const u=Rt.get(i),s=r.start(-1),o=u.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1;for(let c=0;c<u.height;c++){const l=o+c*u.width;if((o==u.width-1||u.map[l]!=u.map[l+1])&&(c==0||u.map[l]!=u.map[l-u.width])){var a;const f=u.map[l],h=s+f+i.nodeAt(f).nodeSize-1,d=document.createElement("div");d.className="column-resize-handle",!((a=Fn.getState(e))===null||a===void 0)&&a.dragging&&n.push(Kt.node(s+f,s+f+i.nodeAt(f).nodeSize,{class:"column-resize-dragging"})),n.push(Kt.widget(h,d))}}return ct.create(e.doc,n)}function O7({allowTableNodeSelection:e=!1}={}){return new bt({key:ui,state:{init(){return null},apply(t,n){const r=t.getMeta(ui);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:i,pos:u}=t.mapping.mapResult(n);return i?null:u}},props:{decorations:q9,handleDOMEvents:{mousedown:T7},createSelectionBetween(t){return ui.getState(t.state)!=null?t.state.selection:null},handleTripleClick:b7,handleKeyDown:g7,handlePaste:E7},appendTransaction(t,n,r){return Y9(r,U_(r,n),e)}})}var W_=zt.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{var t,n;const r=e.getAttribute("colwidth"),i=r?r.split(",").map(u=>parseInt(u,10)):null;if(!i){const u=(t=e.closest("table"))==null?void 0:t.querySelectorAll("colgroup > col"),s=Array.from(((n=e.parentElement)==null?void 0:n.children)||[]).indexOf(e);if(s&&s>-1&&u&&u[s]){const o=u[s].getAttribute("width");return o?[parseInt(o,10)]:null}}return i}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:e}){return["td",ht(this.options.HTMLAttributes,e),0]}}),Y_=zt.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:e}){return["th",ht(this.options.HTMLAttributes,e),0]}}),K_=zt.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",ht(this.options.HTMLAttributes,e),0]}});function jf(e,t){return t?["width",`${Math.max(t,e)}px`]:["min-width",`${e}px`]}function K1(e,t,n,r,i,u){var s;let o=0,a=!0,c=t.firstChild;const l=e.firstChild;if(l!==null)for(let h=0,d=0;h<l.childCount;h+=1){const{colspan:m,colwidth:A}=l.child(h).attrs;for(let x=0;x<m;x+=1,d+=1){const g=i===d?u:A&&A[x],b=g?`${g}px`:"";if(o+=g||r,g||(a=!1),c){if(c.style.width!==b){const[v,p]=jf(r,g);c.style.setProperty(v,p)}c=c.nextSibling}else{const v=document.createElement("col"),[p,_]=jf(r,g);v.style.setProperty(p,_),t.appendChild(v)}}}for(;c;){const h=c.nextSibling;(s=c.parentNode)==null||s.removeChild(c),c=h}const f=e.attrs.style&&typeof e.attrs.style=="string"&&/\bwidth\s*:/i.test(e.attrs.style);a&&!f?(n.style.width=`${o}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${o}px`)}var D7=class{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),e.attrs.style&&(this.table.style.cssText=e.attrs.style),this.colgroup=this.table.appendChild(document.createElement("colgroup")),K1(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,K1(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){const t=e.target,n=this.dom.contains(t),r=this.contentDOM.contains(t);return!!(n&&!r&&(e.type==="attributes"||e.type==="childList"||e.type==="characterData"))}};function R7(e,t,n,r){let i=0,u=!0;const s=[],o=e.firstChild;if(!o)return{};for(let f=0,h=0;f<o.childCount;f+=1){const{colspan:d,colwidth:m}=o.child(f).attrs;for(let A=0;A<d;A+=1,h+=1){const x=n===h?r:m&&m[A];i+=x||t,x||(u=!1);const[g,b]=jf(t,x);s.push(["col",{style:`${g}: ${b}`}])}}const a=u?`${i}px`:"",c=u?"":`${i}px`;return{colgroup:["colgroup",{},...s],tableWidth:a,tableMinWidth:c}}function $1(e,t){return e.createAndFill()}function L7(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach(n=>{const r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)}),e.cached.tableNodeTypes=t,t}function P7(e,t,n,r,i){const u=L7(e),s=[],o=[];for(let c=0;c<n;c+=1){const l=$1(u.cell);if(l&&o.push(l),r){const f=$1(u.header_cell);f&&s.push(f)}}const a=[];for(let c=0;c<t;c+=1)a.push(u.row.createChecked(null,r&&c===0?s:o));return u.table.createChecked(null,a)}function M7(e){return e instanceof gt}var fo=({editor:e})=>{const{selection:t}=e.state;if(!M7(t))return!1;let n=0;const r=R3(t.ranges[0].$from,u=>u.type.name==="table");return r==null||r.node.descendants(u=>{if(u.type.name==="table")return!1;["tableCell","tableHeader"].includes(u.type.name)&&(n+=1)}),n===t.ranges.length?(e.commands.deleteTable(),!0):!1},B7="";function F7(e){return(e||"").replace(/\s+/g," ").trim()}function H7(e,t,n={}){var r;const i=(r=n.cellLineSeparator)!=null?r:B7;if(!e||!e.content||e.content.length===0)return"";const u=[];e.content.forEach(m=>{const A=[];m.content&&m.content.forEach(x=>{let g="";x.content&&Array.isArray(x.content)&&x.content.length>1?g=x.content.map(_=>t.renderChildren(_)).join(i):g=x.content?t.renderChildren(x.content):"";const b=F7(g),v=x.type==="tableHeader";A.push({text:b,isHeader:v})}),u.push(A)});const s=u.reduce((m,A)=>Math.max(m,A.length),0);if(s===0)return"";const o=new Array(s).fill(0);u.forEach(m=>{var A;for(let x=0;x<s;x+=1){const b=(((A=m[x])==null?void 0:A.text)||"").length;b>o[x]&&(o[x]=b),o[x]<3&&(o[x]=3)}});const a=(m,A)=>m+" ".repeat(Math.max(0,A-m.length)),c=u[0],l=c.some(m=>m.isHeader);let f=`
`;const h=new Array(s).fill(0).map((m,A)=>l&&c[A]&&c[A].text||"");return f+=`| ${h.map((m,A)=>a(m,o[A])).join(" | ")} |
`,f+=`| ${o.map(m=>"-".repeat(Math.max(3,m))).join(" | ")} |
`,(l?u.slice(1):u).forEach(m=>{f+=`| ${new Array(s).fill(0).map((A,x)=>a(m[x]&&m[x].text||"",o[x])).join(" | ")} |
`}),f}var j7=H7,$_=zt.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:D7,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:e,HTMLAttributes:t}){const{colgroup:n,tableWidth:r,tableMinWidth:i}=R7(e,this.options.cellMinWidth),u=t.style;function s(){return u||(r?`width: ${r}`:`min-width: ${i}`)}const o=["table",ht(this.options.HTMLAttributes,t,{style:s()}),n,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},o]:o},parseMarkdown:(e,t)=>{const n=[];if(e.header){const r=[];e.header.forEach(i=>{r.push(t.createNode("tableHeader",{},[{type:"paragraph",content:t.parseInline(i.tokens)}]))}),n.push(t.createNode("tableRow",{},r))}return e.rows&&e.rows.forEach(r=>{const i=[];r.forEach(u=>{i.push(t.createNode("tableCell",{},[{type:"paragraph",content:t.parseInline(u.tokens)}]))}),n.push(t.createNode("tableRow",{},i))}),t.createNode("table",void 0,n)},renderMarkdown:(e,t)=>j7(e,t),addCommands(){return{insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:u})=>{const s=P7(u.schema,e,t,n);if(i){const o=r.selection.from+1;r.replaceSelectionWith(s).scrollIntoView().setSelection(Re.near(r.doc.resolve(o)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>Q9(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>X9(e,t),deleteColumn:()=>({state:e,dispatch:t})=>Z9(e,t),addRowBefore:()=>({state:e,dispatch:t})=>t7(e,t),addRowAfter:()=>({state:e,dispatch:t})=>n7(e,t),deleteRow:()=>({state:e,dispatch:t})=>i7(e,t),deleteTable:()=>({state:e,dispatch:t})=>d7(e,t),mergeCells:()=>({state:e,dispatch:t})=>B1(e,t),splitCell:()=>({state:e,dispatch:t})=>F1(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>ga("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>ga("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>l7(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>B1(e,t)?!0:F1(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:r})=>a7(e,t)(n,r),goToNextCell:()=>({state:e,dispatch:t})=>j1(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>j1(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&U_(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){const r=gt.create(t.doc,e.anchorCell,e.headCell);t.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:fo,"Mod-Backspace":fo,Delete:fo,"Mod-Delete":fo}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[y7({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],O7({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:at(ke(e,"tableRole",t))}}});Nt.create({name:"tableKit",addExtensions(){const e=[];return this.options.table!==!1&&e.push($_.configure(this.options.table)),this.options.tableCell!==!1&&e.push(W_.configure(this.options.tableCell)),this.options.tableHeader!==!1&&e.push(Y_.configure(this.options.tableHeader)),this.options.tableRow!==!1&&e.push(K_.configure(this.options.tableRow)),e}});const U7=new It("proofreading"),z7=Nt.create({name:"proofreadingDecoration",addOptions(){return{suggestions:[]}},addProseMirrorPlugins(){return[new bt({key:U7,props:{decorations:e=>{const t=[],{doc:n}=e,r=this.options.suggestions;return n.descendants((i,u)=>{if(!i.isText)return;const s=i.text||"";r.forEach(({original:o,change:a})=>{let c=0;for(;c<s.length;){const l=s.indexOf(o,c);if(l===-1)break;const f=u+l,h=f+o.length;t.push(Kt.inline(f,h,{class:"proofreading-mark",nodeName:"span","data-original":o,"data-suggestion":a,"data-from":f,"data-to":h})),c=l+o.length}})}),ct.create(n,t)}}})]}}),G7=zt.create({name:"iframe",group:"block",atom:!0,addAttributes(){return{src:{default:null},title:{default:null},frameborder:{default:"0"},allow:{default:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"},allowfullscreen:{default:!0},class:{default:"youtube-embed w-full aspect-video rounded-lg my-4"},"data-embed-type":{default:"youtube"}}},parseHTML(){return[{tag:"iframe"}]},renderHTML({HTMLAttributes:e}){return["iframe",ht(this.options.HTMLAttributes,e)]},addNodeView(){return({node:e,getPos:t,editor:n})=>{const r=document.createElement("div");r.className="embed-wrapper relative group my-4";const i=document.createElement("iframe");i.src=e.attrs.src,i.title=e.attrs.title||"Embedded video",i.frameBorder="0",i.allow=e.attrs.allow,i.allowFullscreen=!0,i.className="youtube-embed w-full aspect-video rounded-lg";const u=document.createElement("div");u.className="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100",u.contentEditable="false";const s=document.createElement("div");s.className="flex gap-2";const o=document.createElement("button");if(o.className="px-3 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 flex items-center gap-1 shadow-lg",o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg> Remove',o.onclick=a=>{a.preventDefault(),a.stopPropagation(),typeof t=="function"&&n.chain().focus().deleteRange({from:t(),to:t()+e.nodeSize}).run()},s.appendChild(o),u.appendChild(s),r.appendChild(i),r.appendChild(u),e.attrs.title){const a=document.createElement("p");a.className="text-sm text-gray-600 mt-2 font-medium",a.textContent=e.attrs.title,r.appendChild(a)}return{dom:r,contentDOM:null,update:a=>a.type.name!=="iframe"?!1:(i.src=a.attrs.src,i.title=a.attrs.title||"Embedded video",!0)}}},addCommands(){return{setIframe:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}}}),q7=zt.create({name:"websiteEmbed",group:"block",atom:!0,addAttributes(){return{href:{default:null},title:{default:null},class:{default:"website-embed block p-4 border border-gray-200 rounded-lg bg-gradient-to-r from-blue-50 to-indigo-50 my-4 hover:border-blue-300 transition-colors"}}},parseHTML(){return[{tag:'div[data-embed-type="website"]'}]},renderHTML({HTMLAttributes:e}){return["div",ht({"data-embed-type":"website"},e),["a",{href:e.href,target:"_blank",rel:"noopener noreferrer",class:"flex items-center gap-3 text-blue-700 no-underline"},["span",{class:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0"},["span",{class:"text-blue-600 text-lg"},"🔗"]],["span",{class:"font-medium"},e.title||e.href]]]},addNodeView(){return({node:e,getPos:t,editor:n})=>{const r=document.createElement("div");r.className="website-embed-wrapper relative group my-4";const i=document.createElement("a");i.href=e.attrs.href,i.target="_blank",i.rel="noopener noreferrer",i.className="block p-4 border border-gray-200 rounded-lg bg-gradient-to-r from-blue-50 to-indigo-50 hover:border-blue-300 transition-colors no-underline";const u=document.createElement("div");u.className="flex items-center gap-3";const s=document.createElement("span");s.className="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-600"><circle cx="12" cy="12" r="10"/><path d="M2 12h20"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>';const o=document.createElement("div");o.className="min-w-0";const a=document.createElement("span");a.className="font-medium text-blue-700 block truncate",a.textContent=e.attrs.title||e.attrs.href;const c=document.createElement("span");c.className="text-xs text-gray-500 block truncate",c.textContent=e.attrs.href,o.appendChild(a),o.appendChild(c),u.appendChild(s),u.appendChild(o),i.appendChild(u);const l=document.createElement("div");l.className="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",l.contentEditable="false";const f=document.createElement("button");return f.className="p-2 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700 shadow-lg",f.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>',f.title="Remove",f.onclick=h=>{h.preventDefault(),h.stopPropagation(),typeof t=="function"&&n.chain().focus().deleteRange({from:t(),to:t()+e.nodeSize}).run()},l.appendChild(f),r.appendChild(i),r.appendChild(l),{dom:r,contentDOM:null,update:h=>h.type.name!=="websiteEmbed"?!1:(i.href=h.attrs.href,a.textContent=h.attrs.title||h.attrs.href,c.textContent=h.attrs.href,!0)}}},addCommands(){return{setWebsiteEmbed:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}}});var bn={},Rn={},gd={},Q1;function V7(){return Q1||(Q1=1,Object.defineProperty(gd,"__esModule",{value:!0})),gd}var En={},$r={},X1;function Q_(){if(X1)return $r;X1=1;var e=$r&&$r.__assign||function(){return e=Object.assign||function(i){for(var u,s=1,o=arguments.length;s<o;s++){u=arguments[s];for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(i[a]=u[a])}return i},e.apply(this,arguments)};Object.defineProperty($r,"__esModule",{value:!0}),$r.flatten=void 0;var t={xml:!1,decodeEntities:!0};$r.default=t;var n={_useHtmlParser2:!0,xmlMode:!0};function r(i){return i!=null&&i.xml?typeof i.xml=="boolean"?n:e(e({},n),i.xml):i!=null?i:void 0}return $r.flatten=r,$r}var Tt={},Si={},lr={},Ii={},bd={},J1;function va(){return J1||(J1=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function n(r){return r.type===t.Tag||r.type===t.Script||r.type===t.Style}e.isTag=n,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(bd)),bd}var We={},Z1;function eg(){if(Z1)return We;Z1=1;var e=We&&We.__extends||(function(){var _=function(E,k){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,D){R.__proto__=D}||function(R,D){for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&(R[N]=D[N])},_(E,k)};return function(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");_(E,k);function R(){this.constructor=E}E.prototype=k===null?Object.create(k):(R.prototype=k.prototype,new R)}})(),t=We&&We.__assign||function(){return t=Object.assign||function(_){for(var E,k=1,R=arguments.length;k<R;k++){E=arguments[k];for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(_[D]=E[D])}return _},t.apply(this,arguments)};Object.defineProperty(We,"__esModule",{value:!0}),We.cloneNode=We.hasChildren=We.isDocument=We.isDirective=We.isComment=We.isText=We.isCDATA=We.isTag=We.Element=We.Document=We.CDATA=We.NodeWithChildren=We.ProcessingInstruction=We.Comment=We.Text=We.DataNode=We.Node=void 0;var n=va(),r=(function(){function _(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(_.prototype,"parentNode",{get:function(){return this.parent},set:function(E){this.parent=E},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"previousSibling",{get:function(){return this.prev},set:function(E){this.prev=E},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"nextSibling",{get:function(){return this.next},set:function(E){this.next=E},enumerable:!1,configurable:!0}),_.prototype.cloneNode=function(E){return E===void 0&&(E=!1),v(this,E)},_})();We.Node=r;var i=(function(_){e(E,_);function E(k){var R=_.call(this)||this;return R.data=k,R}return Object.defineProperty(E.prototype,"nodeValue",{get:function(){return this.data},set:function(k){this.data=k},enumerable:!1,configurable:!0}),E})(r);We.DataNode=i;var u=(function(_){e(E,_);function E(){var k=_!==null&&_.apply(this,arguments)||this;return k.type=n.ElementType.Text,k}return Object.defineProperty(E.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),E})(i);We.Text=u;var s=(function(_){e(E,_);function E(){var k=_!==null&&_.apply(this,arguments)||this;return k.type=n.ElementType.Comment,k}return Object.defineProperty(E.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),E})(i);We.Comment=s;var o=(function(_){e(E,_);function E(k,R){var D=_.call(this,R)||this;return D.name=k,D.type=n.ElementType.Directive,D}return Object.defineProperty(E.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),E})(i);We.ProcessingInstruction=o;var a=(function(_){e(E,_);function E(k){var R=_.call(this)||this;return R.children=k,R}return Object.defineProperty(E.prototype,"firstChild",{get:function(){var k;return(k=this.children[0])!==null&&k!==void 0?k:null},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"childNodes",{get:function(){return this.children},set:function(k){this.children=k},enumerable:!1,configurable:!0}),E})(r);We.NodeWithChildren=a;var c=(function(_){e(E,_);function E(){var k=_!==null&&_.apply(this,arguments)||this;return k.type=n.ElementType.CDATA,k}return Object.defineProperty(E.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),E})(a);We.CDATA=c;var l=(function(_){e(E,_);function E(){var k=_!==null&&_.apply(this,arguments)||this;return k.type=n.ElementType.Root,k}return Object.defineProperty(E.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),E})(a);We.Document=l;var f=(function(_){e(E,_);function E(k,R,D,N){D===void 0&&(D=[]),N===void 0&&(N=k==="script"?n.ElementType.Script:k==="style"?n.ElementType.Style:n.ElementType.Tag);var I=_.call(this,D)||this;return I.name=k,I.attribs=R,I.type=N,I}return Object.defineProperty(E.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"tagName",{get:function(){return this.name},set:function(k){this.name=k},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"attributes",{get:function(){var k=this;return Object.keys(this.attribs).map(function(R){var D,N;return{name:R,value:k.attribs[R],namespace:(D=k["x-attribsNamespace"])===null||D===void 0?void 0:D[R],prefix:(N=k["x-attribsPrefix"])===null||N===void 0?void 0:N[R]}})},enumerable:!1,configurable:!0}),E})(a);We.Element=f;function h(_){return(0,n.isTag)(_)}We.isTag=h;function d(_){return _.type===n.ElementType.CDATA}We.isCDATA=d;function m(_){return _.type===n.ElementType.Text}We.isText=m;function A(_){return _.type===n.ElementType.Comment}We.isComment=A;function x(_){return _.type===n.ElementType.Directive}We.isDirective=x;function g(_){return _.type===n.ElementType.Root}We.isDocument=g;function b(_){return Object.prototype.hasOwnProperty.call(_,"children")}We.hasChildren=b;function v(_,E){E===void 0&&(E=!1);var k;if(m(_))k=new u(_.data);else if(A(_))k=new s(_.data);else if(h(_)){var R=E?p(_.children):[],D=new f(_.name,t({},_.attribs),R);R.forEach(function(O){return O.parent=D}),_.namespace!=null&&(D.namespace=_.namespace),_["x-attribsNamespace"]&&(D["x-attribsNamespace"]=t({},_["x-attribsNamespace"])),_["x-attribsPrefix"]&&(D["x-attribsPrefix"]=t({},_["x-attribsPrefix"])),k=D}else if(d(_)){var R=E?p(_.children):[],N=new c(R);R.forEach(function(P){return P.parent=N}),k=N}else if(g(_)){var R=E?p(_.children):[],I=new l(R);R.forEach(function(P){return P.parent=I}),_["x-mode"]&&(I["x-mode"]=_["x-mode"]),k=I}else if(x(_)){var w=new o(_.name,_.data);_["x-name"]!=null&&(w["x-name"]=_["x-name"],w["x-publicId"]=_["x-publicId"],w["x-systemId"]=_["x-systemId"]),k=w}else throw new Error("Not implemented yet: ".concat(_.type));return k.startIndex=_.startIndex,k.endIndex=_.endIndex,_.sourceCodeLocation!=null&&(k.sourceCodeLocation=_.sourceCodeLocation),k}We.cloneNode=v;function p(_){for(var E=_.map(function(R){return v(R,!0)}),k=1;k<E.length;k++)E[k].prev=E[k-1],E[k-1].next=E[k];return E}return We}var tg;function An(){return tg||(tg=1,(function(e){var t=Ii&&Ii.__createBinding||(Object.create?(function(o,a,c,l){l===void 0&&(l=c);var f=Object.getOwnPropertyDescriptor(a,c);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(o,l,f)}):(function(o,a,c,l){l===void 0&&(l=c),o[l]=a[c]})),n=Ii&&Ii.__exportStar||function(o,a){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&t(a,o,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=va(),i=eg();n(eg(),e);var u={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},s=(function(){function o(a,c,l){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(l=c,c=u),typeof a=="object"&&(c=a,a=void 0),this.callback=a!=null?a:null,this.options=c!=null?c:u,this.elementCB=l!=null?l:null}return o.prototype.onparserinit=function(a){this.parser=a},o.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},o.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},o.prototype.onerror=function(a){this.handleCallback(a)},o.prototype.onclosetag=function(){this.lastNode=null;var a=this.tagStack.pop();this.options.withEndIndices&&(a.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(a)},o.prototype.onopentag=function(a,c){var l=this.options.xmlMode?r.ElementType.Tag:void 0,f=new i.Element(a,c,void 0,l);this.addNode(f),this.tagStack.push(f)},o.prototype.ontext=function(a){var c=this.lastNode;if(c&&c.type===r.ElementType.Text)c.data+=a,this.options.withEndIndices&&(c.endIndex=this.parser.endIndex);else{var l=new i.Text(a);this.addNode(l),this.lastNode=l}},o.prototype.oncomment=function(a){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=a;return}var c=new i.Comment(a);this.addNode(c),this.lastNode=c},o.prototype.oncommentend=function(){this.lastNode=null},o.prototype.oncdatastart=function(){var a=new i.Text(""),c=new i.CDATA([a]);this.addNode(c),a.parent=c,this.lastNode=a},o.prototype.oncdataend=function(){this.lastNode=null},o.prototype.onprocessinginstruction=function(a,c){var l=new i.ProcessingInstruction(a,c);this.addNode(l)},o.prototype.handleCallback=function(a){if(typeof this.callback=="function")this.callback(a,this.dom);else if(a)throw a},o.prototype.addNode=function(a){var c=this.tagStack[this.tagStack.length-1],l=c.children[c.children.length-1];this.options.withStartIndices&&(a.startIndex=this.parser.startIndex),this.options.withEndIndices&&(a.endIndex=this.parser.endIndex),c.children.push(a),l&&(a.prev=l,l.next=a),a.parent=c,this.lastNode=null},o})();e.DomHandler=s,e.default=s})(Ii)),Ii}var Nn={},Ed={},Qn={},ho={},ng;function W7(){return ng||(ng=1,Object.defineProperty(ho,"__esModule",{value:!0}),ho.default=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(function(e){return e.charCodeAt(0)}))),ho}var po={},rg;function Y7(){return rg||(rg=1,Object.defineProperty(po,"__esModule",{value:!0}),po.default=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(function(e){return e.charCodeAt(0)}))),po}var Td={},ig;function ug(){return ig||(ig=1,(function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.replaceCodePoint=e.fromCodePoint=void 0;var n=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);e.fromCodePoint=(t=String.fromCodePoint)!==null&&t!==void 0?t:function(u){var s="";return u>65535&&(u-=65536,s+=String.fromCharCode(u>>>10&1023|55296),u=56320|u&1023),s+=String.fromCharCode(u),s};function r(u){var s;return u>=55296&&u<=57343||u>1114111?65533:(s=n.get(u))!==null&&s!==void 0?s:u}e.replaceCodePoint=r;function i(u){return(0,e.fromCodePoint)(r(u))}e.default=i})(Td)),Td}var sg;function kl(){return sg||(sg=1,(function(e){var t=Qn&&Qn.__createBinding||(Object.create?(function(I,w,O,P){P===void 0&&(P=O);var B=Object.getOwnPropertyDescriptor(w,O);(!B||("get"in B?!w.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return w[O]}}),Object.defineProperty(I,P,B)}):(function(I,w,O,P){P===void 0&&(P=O),I[P]=w[O]})),n=Qn&&Qn.__setModuleDefault||(Object.create?(function(I,w){Object.defineProperty(I,"default",{enumerable:!0,value:w})}):function(I,w){I.default=w}),r=Qn&&Qn.__importStar||function(I){if(I&&I.__esModule)return I;var w={};if(I!=null)for(var O in I)O!=="default"&&Object.prototype.hasOwnProperty.call(I,O)&&t(w,I,O);return n(w,I),w},i=Qn&&Qn.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXML=e.decodeHTMLStrict=e.decodeHTMLAttribute=e.decodeHTML=e.determineBranch=e.EntityDecoder=e.DecodingMode=e.BinTrieFlags=e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=void 0;var u=i(W7());e.htmlDecodeTree=u.default;var s=i(Y7());e.xmlDecodeTree=s.default;var o=r(ug());e.decodeCodePoint=o.default;var a=ug();Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return a.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return a.fromCodePoint}});var c;(function(I){I[I.NUM=35]="NUM",I[I.SEMI=59]="SEMI",I[I.EQUALS=61]="EQUALS",I[I.ZERO=48]="ZERO",I[I.NINE=57]="NINE",I[I.LOWER_A=97]="LOWER_A",I[I.LOWER_F=102]="LOWER_F",I[I.LOWER_X=120]="LOWER_X",I[I.LOWER_Z=122]="LOWER_Z",I[I.UPPER_A=65]="UPPER_A",I[I.UPPER_F=70]="UPPER_F",I[I.UPPER_Z=90]="UPPER_Z"})(c||(c={}));var l=32,f;(function(I){I[I.VALUE_LENGTH=49152]="VALUE_LENGTH",I[I.BRANCH_LENGTH=16256]="BRANCH_LENGTH",I[I.JUMP_TABLE=127]="JUMP_TABLE"})(f=e.BinTrieFlags||(e.BinTrieFlags={}));function h(I){return I>=c.ZERO&&I<=c.NINE}function d(I){return I>=c.UPPER_A&&I<=c.UPPER_F||I>=c.LOWER_A&&I<=c.LOWER_F}function m(I){return I>=c.UPPER_A&&I<=c.UPPER_Z||I>=c.LOWER_A&&I<=c.LOWER_Z||h(I)}function A(I){return I===c.EQUALS||m(I)}var x;(function(I){I[I.EntityStart=0]="EntityStart",I[I.NumericStart=1]="NumericStart",I[I.NumericDecimal=2]="NumericDecimal",I[I.NumericHex=3]="NumericHex",I[I.NamedEntity=4]="NamedEntity"})(x||(x={}));var g;(function(I){I[I.Legacy=0]="Legacy",I[I.Strict=1]="Strict",I[I.Attribute=2]="Attribute"})(g=e.DecodingMode||(e.DecodingMode={}));var b=(function(){function I(w,O,P){this.decodeTree=w,this.emitCodePoint=O,this.errors=P,this.state=x.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=g.Strict}return I.prototype.startEntity=function(w){this.decodeMode=w,this.state=x.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},I.prototype.write=function(w,O){switch(this.state){case x.EntityStart:return w.charCodeAt(O)===c.NUM?(this.state=x.NumericStart,this.consumed+=1,this.stateNumericStart(w,O+1)):(this.state=x.NamedEntity,this.stateNamedEntity(w,O));case x.NumericStart:return this.stateNumericStart(w,O);case x.NumericDecimal:return this.stateNumericDecimal(w,O);case x.NumericHex:return this.stateNumericHex(w,O);case x.NamedEntity:return this.stateNamedEntity(w,O)}},I.prototype.stateNumericStart=function(w,O){return O>=w.length?-1:(w.charCodeAt(O)|l)===c.LOWER_X?(this.state=x.NumericHex,this.consumed+=1,this.stateNumericHex(w,O+1)):(this.state=x.NumericDecimal,this.stateNumericDecimal(w,O))},I.prototype.addToNumericResult=function(w,O,P,B){if(O!==P){var M=P-O;this.result=this.result*Math.pow(B,M)+parseInt(w.substr(O,M),B),this.consumed+=M}},I.prototype.stateNumericHex=function(w,O){for(var P=O;O<w.length;){var B=w.charCodeAt(O);if(h(B)||d(B))O+=1;else return this.addToNumericResult(w,P,O,16),this.emitNumericEntity(B,3)}return this.addToNumericResult(w,P,O,16),-1},I.prototype.stateNumericDecimal=function(w,O){for(var P=O;O<w.length;){var B=w.charCodeAt(O);if(h(B))O+=1;else return this.addToNumericResult(w,P,O,10),this.emitNumericEntity(B,2)}return this.addToNumericResult(w,P,O,10),-1},I.prototype.emitNumericEntity=function(w,O){var P;if(this.consumed<=O)return(P=this.errors)===null||P===void 0||P.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(w===c.SEMI)this.consumed+=1;else if(this.decodeMode===g.Strict)return 0;return this.emitCodePoint((0,o.replaceCodePoint)(this.result),this.consumed),this.errors&&(w!==c.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},I.prototype.stateNamedEntity=function(w,O){for(var P=this.decodeTree,B=P[this.treeIndex],M=(B&f.VALUE_LENGTH)>>14;O<w.length;O++,this.excess++){var j=w.charCodeAt(O);if(this.treeIndex=p(P,B,this.treeIndex+Math.max(1,M),j),this.treeIndex<0)return this.result===0||this.decodeMode===g.Attribute&&(M===0||A(j))?0:this.emitNotTerminatedNamedEntity();if(B=P[this.treeIndex],M=(B&f.VALUE_LENGTH)>>14,M!==0){if(j===c.SEMI)return this.emitNamedEntityData(this.treeIndex,M,this.consumed+this.excess);this.decodeMode!==g.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},I.prototype.emitNotTerminatedNamedEntity=function(){var w,O=this,P=O.result,B=O.decodeTree,M=(B[P]&f.VALUE_LENGTH)>>14;return this.emitNamedEntityData(P,M,this.consumed),(w=this.errors)===null||w===void 0||w.missingSemicolonAfterCharacterReference(),this.consumed},I.prototype.emitNamedEntityData=function(w,O,P){var B=this.decodeTree;return this.emitCodePoint(O===1?B[w]&~f.VALUE_LENGTH:B[w+1],P),O===3&&this.emitCodePoint(B[w+2],P),P},I.prototype.end=function(){var w;switch(this.state){case x.NamedEntity:return this.result!==0&&(this.decodeMode!==g.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case x.NumericDecimal:return this.emitNumericEntity(0,2);case x.NumericHex:return this.emitNumericEntity(0,3);case x.NumericStart:return(w=this.errors)===null||w===void 0||w.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case x.EntityStart:return 0}},I})();e.EntityDecoder=b;function v(I){var w="",O=new b(I,function(P){return w+=(0,o.fromCodePoint)(P)});return function(B,M){for(var j=0,W=0;(W=B.indexOf("&",W))>=0;){w+=B.slice(j,W),O.startEntity(M);var $=O.write(B,W+1);if($<0){j=W+O.end();break}j=W+$,W=$===0?j+1:j}var L=w+B.slice(j);return w="",L}}function p(I,w,O,P){var B=(w&f.BRANCH_LENGTH)>>7,M=w&f.JUMP_TABLE;if(B===0)return M!==0&&P===M?O:-1;if(M){var j=P-M;return j<0||j>=B?-1:I[O+j]-1}for(var W=O,$=W+B-1;W<=$;){var L=W+$>>>1,F=I[L];if(F<P)W=L+1;else if(F>P)$=L-1;else return I[L+B]}return-1}e.determineBranch=p;var _=v(u.default),E=v(s.default);function k(I,w){return w===void 0&&(w=g.Legacy),_(I,w)}e.decodeHTML=k;function R(I){return _(I,g.Attribute)}e.decodeHTMLAttribute=R;function D(I){return _(I,g.Strict)}e.decodeHTMLStrict=D;function N(I){return E(I,g.Strict)}e.decodeXML=N})(Qn)),Qn}var Ir={},mo={},ag;function K7(){if(ag)return mo;ag=1,Object.defineProperty(mo,"__esModule",{value:!0});function e(t){for(var n=1;n<t.length;n++)t[n][0]+=t[n-1][0]+1;return t}return mo.default=new Map(e([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(e([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(e([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(e([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),mo}var _d={},og;function Uf(){return og||(og=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.getCodePoint=e.xmlReplacer=void 0,e.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var t=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);e.getCodePoint=String.prototype.codePointAt!=null?function(i,u){return i.codePointAt(u)}:function(i,u){return(i.charCodeAt(u)&64512)===55296?(i.charCodeAt(u)-55296)*1024+i.charCodeAt(u+1)-56320+65536:i.charCodeAt(u)};function n(i){for(var u="",s=0,o;(o=e.xmlReplacer.exec(i))!==null;){var a=o.index,c=i.charCodeAt(a),l=t.get(c);l!==void 0?(u+=i.substring(s,a)+l,s=a+1):(u+="".concat(i.substring(s,a),"&#x").concat((0,e.getCodePoint)(i,a).toString(16),";"),s=e.xmlReplacer.lastIndex+=+((c&64512)===55296))}return u+i.substr(s)}e.encodeXML=n,e.escape=n;function r(i,u){return function(o){for(var a,c=0,l="";a=i.exec(o);)c!==a.index&&(l+=o.substring(c,a.index)),l+=u.get(a[0].charCodeAt(0)),c=a.index+1;return l+o.substring(c)}}e.escapeUTF8=r(/[&<>'"]/g,t),e.escapeAttribute=r(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),e.escapeText=r(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(_d)),_d}var lg;function cg(){if(lg)return Ir;lg=1;var e=Ir&&Ir.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.encodeNonAsciiHTML=Ir.encodeHTML=void 0;var t=e(K7()),n=Uf(),r=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function i(o){return s(r,o)}Ir.encodeHTML=i;function u(o){return s(n.xmlReplacer,o)}Ir.encodeNonAsciiHTML=u;function s(o,a){for(var c="",l=0,f;(f=o.exec(a))!==null;){var h=f.index;c+=a.substring(l,h);var d=a.charCodeAt(h),m=t.default.get(d);if(typeof m=="object"){if(h+1<a.length){var A=a.charCodeAt(h+1),x=typeof m.n=="number"?m.n===A?m.o:void 0:m.n.get(A);if(x!==void 0){c+=x,l=o.lastIndex+=1;continue}}m=m.v}if(m!==void 0)c+=m,l=h+1;else{var g=(0,n.getCodePoint)(a,h);c+="&#x".concat(g.toString(16),";"),l=o.lastIndex+=+(g!==d)}}return c+a.substr(l)}return Ir}var dg;function $7(){return dg||(dg=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLAttribute=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.DecodingMode=e.EntityDecoder=e.encodeHTML5=e.encodeHTML4=e.encodeNonAsciiHTML=e.encodeHTML=e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.encode=e.decodeStrict=e.decode=e.EncodingMode=e.EntityLevel=void 0;var t=kl(),n=cg(),r=Uf(),i;(function(h){h[h.XML=0]="XML",h[h.HTML=1]="HTML"})(i=e.EntityLevel||(e.EntityLevel={}));var u;(function(h){h[h.UTF8=0]="UTF8",h[h.ASCII=1]="ASCII",h[h.Extensive=2]="Extensive",h[h.Attribute=3]="Attribute",h[h.Text=4]="Text"})(u=e.EncodingMode||(e.EncodingMode={}));function s(h,d){d===void 0&&(d=i.XML);var m=typeof d=="number"?d:d.level;if(m===i.HTML){var A=typeof d=="object"?d.mode:void 0;return(0,t.decodeHTML)(h,A)}return(0,t.decodeXML)(h)}e.decode=s;function o(h,d){var m;d===void 0&&(d=i.XML);var A=typeof d=="number"?{level:d}:d;return(m=A.mode)!==null&&m!==void 0||(A.mode=t.DecodingMode.Strict),s(h,A)}e.decodeStrict=o;function a(h,d){d===void 0&&(d=i.XML);var m=typeof d=="number"?{level:d}:d;return m.mode===u.UTF8?(0,r.escapeUTF8)(h):m.mode===u.Attribute?(0,r.escapeAttribute)(h):m.mode===u.Text?(0,r.escapeText)(h):m.level===i.HTML?m.mode===u.ASCII?(0,n.encodeNonAsciiHTML)(h):(0,n.encodeHTML)(h):(0,r.encodeXML)(h)}e.encode=a;var c=Uf();Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return c.encodeXML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return c.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return c.escapeUTF8}}),Object.defineProperty(e,"escapeAttribute",{enumerable:!0,get:function(){return c.escapeAttribute}}),Object.defineProperty(e,"escapeText",{enumerable:!0,get:function(){return c.escapeText}});var l=cg();Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return l.encodeNonAsciiHTML}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return l.encodeHTML}});var f=kl();Object.defineProperty(e,"EntityDecoder",{enumerable:!0,get:function(){return f.EntityDecoder}}),Object.defineProperty(e,"DecodingMode",{enumerable:!0,get:function(){return f.DecodingMode}}),Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return f.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTMLAttribute",{enumerable:!0,get:function(){return f.decodeHTMLAttribute}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return f.decodeXML}})})(Ed)),Ed}var vi={},fg;function Q7(){return fg||(fg=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.attributeNames=vi.elementNames=void 0,vi.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(e){return[e.toLowerCase(),e]})),vi.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(e){return[e.toLowerCase(),e]}))),vi}var hg;function X_(){if(hg)return Nn;hg=1;var e=Nn&&Nn.__assign||function(){return e=Object.assign||function(p){for(var _,E=1,k=arguments.length;E<k;E++){_=arguments[E];for(var R in _)Object.prototype.hasOwnProperty.call(_,R)&&(p[R]=_[R])}return p},e.apply(this,arguments)},t=Nn&&Nn.__createBinding||(Object.create?(function(p,_,E,k){k===void 0&&(k=E);var R=Object.getOwnPropertyDescriptor(_,E);(!R||("get"in R?!_.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return _[E]}}),Object.defineProperty(p,k,R)}):(function(p,_,E,k){k===void 0&&(k=E),p[k]=_[E]})),n=Nn&&Nn.__setModuleDefault||(Object.create?(function(p,_){Object.defineProperty(p,"default",{enumerable:!0,value:_})}):function(p,_){p.default=_}),r=Nn&&Nn.__importStar||function(p){if(p&&p.__esModule)return p;var _={};if(p!=null)for(var E in p)E!=="default"&&Object.prototype.hasOwnProperty.call(p,E)&&t(_,p,E);return n(_,p),_};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.render=void 0;var i=r(va()),u=$7(),s=Q7(),o=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function a(p){return p.replace(/"/g,"&quot;")}function c(p,_){var E;if(p){var k=((E=_.encodeEntities)!==null&&E!==void 0?E:_.decodeEntities)===!1?a:_.xmlMode||_.encodeEntities!=="utf8"?u.encodeXML:u.escapeAttribute;return Object.keys(p).map(function(R){var D,N,I=(D=p[R])!==null&&D!==void 0?D:"";return _.xmlMode==="foreign"&&(R=(N=s.attributeNames.get(R))!==null&&N!==void 0?N:R),!_.emptyAttrs&&!_.xmlMode&&I===""?R:"".concat(R,'="').concat(k(I),'"')}).join(" ")}}var l=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function f(p,_){_===void 0&&(_={});for(var E=("length"in p)?p:[p],k="",R=0;R<E.length;R++)k+=h(E[R],_);return k}Nn.render=f,Nn.default=f;function h(p,_){switch(p.type){case i.Root:return f(p.children,_);case i.Doctype:case i.Directive:return x(p);case i.Comment:return v(p);case i.CDATA:return b(p);case i.Script:case i.Style:case i.Tag:return A(p,_);case i.Text:return g(p,_)}}var d=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),m=new Set(["svg","math"]);function A(p,_){var E;_.xmlMode==="foreign"&&(p.name=(E=s.elementNames.get(p.name))!==null&&E!==void 0?E:p.name,p.parent&&d.has(p.parent.name)&&(_=e(e({},_),{xmlMode:!1}))),!_.xmlMode&&m.has(p.name)&&(_=e(e({},_),{xmlMode:"foreign"}));var k="<".concat(p.name),R=c(p.attribs,_);return R&&(k+=" ".concat(R)),p.children.length===0&&(_.xmlMode?_.selfClosingTags!==!1:_.selfClosingTags&&l.has(p.name))?(_.xmlMode||(k+=" "),k+="/>"):(k+=">",p.children.length>0&&(k+=f(p.children,_)),(_.xmlMode||!l.has(p.name))&&(k+="</".concat(p.name,">"))),k}function x(p){return"<".concat(p.data,">")}function g(p,_){var E,k=p.data||"";return((E=_.encodeEntities)!==null&&E!==void 0?E:_.decodeEntities)!==!1&&!(!_.xmlMode&&p.parent&&o.has(p.parent.name))&&(k=_.xmlMode||_.encodeEntities!=="utf8"?(0,u.encodeXML)(k):(0,u.escapeText)(k)),k}function b(p){return"<![CDATA[".concat(p.children[0].data,"]]>")}function v(p){return"<!--".concat(p.data,"-->")}return Nn}var pg;function J_(){if(pg)return lr;pg=1;var e=lr&&lr.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(lr,"__esModule",{value:!0}),lr.getOuterHTML=i,lr.getInnerHTML=u,lr.getText=s,lr.textContent=o,lr.innerText=a;var t=An(),n=e(X_()),r=va();function i(c,l){return(0,n.default)(c,l)}function u(c,l){return(0,t.hasChildren)(c)?c.children.map(function(f){return i(f,l)}).join(""):""}function s(c){return Array.isArray(c)?c.map(s).join(""):(0,t.isTag)(c)?c.name==="br"?`
`:s(c.children):(0,t.isCDATA)(c)?s(c.children):(0,t.isText)(c)?c.data:""}function o(c){return Array.isArray(c)?c.map(o).join(""):(0,t.hasChildren)(c)&&!(0,t.isComment)(c)?o(c.children):(0,t.isText)(c)?c.data:""}function a(c){return Array.isArray(c)?c.map(a).join(""):(0,t.hasChildren)(c)&&(c.type===r.ElementType.Tag||(0,t.isCDATA)(c))?a(c.children):(0,t.isText)(c)?c.data:""}return lr}var Xn={},mg;function X7(){if(mg)return Xn;mg=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.getChildren=t,Xn.getParent=n,Xn.getSiblings=r,Xn.getAttributeValue=i,Xn.hasAttrib=u,Xn.getName=s,Xn.nextElementSibling=o,Xn.prevElementSibling=a;var e=An();function t(c){return(0,e.hasChildren)(c)?c.children:[]}function n(c){return c.parent||null}function r(c){var l,f,h=n(c);if(h!=null)return t(h);for(var d=[c],m=c.prev,A=c.next;m!=null;)d.unshift(m),l=m,m=l.prev;for(;A!=null;)d.push(A),f=A,A=f.next;return d}function i(c,l){var f;return(f=c.attribs)===null||f===void 0?void 0:f[l]}function u(c,l){return c.attribs!=null&&Object.prototype.hasOwnProperty.call(c.attribs,l)&&c.attribs[l]!=null}function s(c){return c.name}function o(c){for(var l,f=c.next;f!==null&&!(0,e.isTag)(f);)l=f,f=l.next;return f}function a(c){for(var l,f=c.prev;f!==null&&!(0,e.isTag)(f);)l=f,f=l.prev;return f}return Xn}var vr={},gg;function J7(){if(gg)return vr;gg=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.removeElement=e,vr.replaceElement=t,vr.appendChild=n,vr.append=r,vr.prependChild=i,vr.prepend=u;function e(s){if(s.prev&&(s.prev.next=s.next),s.next&&(s.next.prev=s.prev),s.parent){var o=s.parent.children,a=o.lastIndexOf(s);a>=0&&o.splice(a,1)}s.next=null,s.prev=null,s.parent=null}function t(s,o){var a=o.prev=s.prev;a&&(a.next=o);var c=o.next=s.next;c&&(c.prev=o);var l=o.parent=s.parent;if(l){var f=l.children;f[f.lastIndexOf(s)]=o,s.parent=null}}function n(s,o){if(e(o),o.next=null,o.parent=s,s.children.push(o)>1){var a=s.children[s.children.length-2];a.next=o,o.prev=a}else o.prev=null}function r(s,o){e(o);var a=s.parent,c=s.next;if(o.next=c,o.prev=s,s.next=o,o.parent=a,c){if(c.prev=o,a){var l=a.children;l.splice(l.lastIndexOf(c),0,o)}}else a&&a.children.push(o)}function i(s,o){if(e(o),o.parent=s,o.prev=null,s.children.unshift(o)!==1){var a=s.children[1];a.prev=o,o.next=a}else o.next=null}function u(s,o){e(o);var a=s.parent;if(a){var c=a.children;c.splice(c.indexOf(s),0,o)}s.prev&&(s.prev.next=o),o.parent=a,o.prev=s.prev,o.next=s,s.prev=o}return vr}var kr={},bg;function Z_(){if(bg)return kr;bg=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.filter=t,kr.find=n,kr.findOneChild=r,kr.findOne=i,kr.existsOne=u,kr.findAll=s;var e=An();function t(o,a,c,l){return c===void 0&&(c=!0),l===void 0&&(l=1/0),n(o,Array.isArray(a)?a:[a],c,l)}function n(o,a,c,l){for(var f=[],h=[Array.isArray(a)?a:[a]],d=[0];;){if(d[0]>=h[0].length){if(d.length===1)return f;h.shift(),d.shift();continue}var m=h[0][d[0]++];if(o(m)&&(f.push(m),--l<=0))return f;c&&(0,e.hasChildren)(m)&&m.children.length>0&&(d.unshift(0),h.unshift(m.children))}}function r(o,a){return a.find(o)}function i(o,a,c){c===void 0&&(c=!0);for(var l=Array.isArray(a)?a:[a],f=0;f<l.length;f++){var h=l[f];if((0,e.isTag)(h)&&o(h))return h;if(c&&(0,e.hasChildren)(h)&&h.children.length>0){var d=i(o,h.children,!0);if(d)return d}}return null}function u(o,a){return(Array.isArray(a)?a:[a]).some(function(c){return(0,e.isTag)(c)&&o(c)||(0,e.hasChildren)(c)&&u(o,c.children)})}function s(o,a){for(var c=[],l=[Array.isArray(a)?a:[a]],f=[0];;){if(f[0]>=l[0].length){if(l.length===1)return c;l.shift(),f.shift();continue}var h=l[0][f[0]++];(0,e.isTag)(h)&&o(h)&&c.push(h),(0,e.hasChildren)(h)&&h.children.length>0&&(f.unshift(0),l.unshift(h.children))}}return kr}var wr={},Eg;function ey(){if(Eg)return wr;Eg=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.testElement=s,wr.getElements=o,wr.getElementById=a,wr.getElementsByTagName=c,wr.getElementsByClassName=l,wr.getElementsByTagType=f;var e=An(),t=Z_(),n={tag_name:function(h){return typeof h=="function"?function(d){return(0,e.isTag)(d)&&h(d.name)}:h==="*"?e.isTag:function(d){return(0,e.isTag)(d)&&d.name===h}},tag_type:function(h){return typeof h=="function"?function(d){return h(d.type)}:function(d){return d.type===h}},tag_contains:function(h){return typeof h=="function"?function(d){return(0,e.isText)(d)&&h(d.data)}:function(d){return(0,e.isText)(d)&&d.data===h}}};function r(h,d){return typeof d=="function"?function(m){return(0,e.isTag)(m)&&d(m.attribs[h])}:function(m){return(0,e.isTag)(m)&&m.attribs[h]===d}}function i(h,d){return function(m){return h(m)||d(m)}}function u(h){var d=Object.keys(h).map(function(m){var A=h[m];return Object.prototype.hasOwnProperty.call(n,m)?n[m](A):r(m,A)});return d.length===0?null:d.reduce(i)}function s(h,d){var m=u(h);return m?m(d):!0}function o(h,d,m,A){A===void 0&&(A=1/0);var x=u(h);return x?(0,t.filter)(x,d,m,A):[]}function a(h,d,m){return m===void 0&&(m=!0),Array.isArray(d)||(d=[d]),(0,t.findOne)(r("id",h),d,m)}function c(h,d,m,A){return m===void 0&&(m=!0),A===void 0&&(A=1/0),(0,t.filter)(n.tag_name(h),d,m,A)}function l(h,d,m,A){return m===void 0&&(m=!0),A===void 0&&(A=1/0),(0,t.filter)(r("class",h),d,m,A)}function f(h,d,m,A){return m===void 0&&(m=!0),A===void 0&&(A=1/0),(0,t.filter)(n.tag_type(h),d,m,A)}return wr}var Qr={},Tg;function Z7(){if(Tg)return Qr;Tg=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.DocumentPosition=void 0,Qr.removeSubsets=t,Qr.compareDocumentPosition=r,Qr.uniqueSort=i;var e=An();function t(u){for(var s=u.length;--s>=0;){var o=u[s];if(s>0&&u.lastIndexOf(o,s-1)>=0){u.splice(s,1);continue}for(var a=o.parent;a;a=a.parent)if(u.includes(a)){u.splice(s,1);break}}return u}var n;(function(u){u[u.DISCONNECTED=1]="DISCONNECTED",u[u.PRECEDING=2]="PRECEDING",u[u.FOLLOWING=4]="FOLLOWING",u[u.CONTAINS=8]="CONTAINS",u[u.CONTAINED_BY=16]="CONTAINED_BY"})(n||(Qr.DocumentPosition=n={}));function r(u,s){var o=[],a=[];if(u===s)return 0;for(var c=(0,e.hasChildren)(u)?u:u.parent;c;)o.unshift(c),c=c.parent;for(c=(0,e.hasChildren)(s)?s:s.parent;c;)a.unshift(c),c=c.parent;for(var l=Math.min(o.length,a.length),f=0;f<l&&o[f]===a[f];)f++;if(f===0)return n.DISCONNECTED;var h=o[f-1],d=h.children,m=o[f],A=a[f];return d.indexOf(m)>d.indexOf(A)?h===s?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:h===u?n.PRECEDING|n.CONTAINS:n.PRECEDING}function i(u){return u=u.filter(function(s,o,a){return!a.includes(s,o+1)}),u.sort(function(s,o){var a=r(s,o);return a&n.PRECEDING?-1:a&n.FOLLOWING?1:0}),u}return Qr}var go={},_g;function eB(){if(_g)return go;_g=1,Object.defineProperty(go,"__esModule",{value:!0}),go.getFeed=n;var e=J_(),t=ey();function n(h){var d=a(f,h);return d?d.name==="feed"?r(d):i(d):null}function r(h){var d,m=h.children,A={type:"atom",items:(0,t.getElementsByTagName)("entry",m).map(function(b){var v,p=b.children,_={media:o(p)};l(_,"id","id",p),l(_,"title","title",p);var E=(v=a("link",p))===null||v===void 0?void 0:v.attribs.href;E&&(_.link=E);var k=c("summary",p)||c("content",p);k&&(_.description=k);var R=c("updated",p);return R&&(_.pubDate=new Date(R)),_})};l(A,"id","id",m),l(A,"title","title",m);var x=(d=a("link",m))===null||d===void 0?void 0:d.attribs.href;x&&(A.link=x),l(A,"description","subtitle",m);var g=c("updated",m);return g&&(A.updated=new Date(g)),l(A,"author","email",m,!0),A}function i(h){var d,m,A=(m=(d=a("channel",h.children))===null||d===void 0?void 0:d.children)!==null&&m!==void 0?m:[],x={type:h.name.substr(0,3),id:"",items:(0,t.getElementsByTagName)("item",h.children).map(function(b){var v=b.children,p={media:o(v)};l(p,"id","guid",v),l(p,"title","title",v),l(p,"link","link",v),l(p,"description","description",v);var _=c("pubDate",v)||c("dc:date",v);return _&&(p.pubDate=new Date(_)),p})};l(x,"title","title",A),l(x,"link","link",A),l(x,"description","description",A);var g=c("lastBuildDate",A);return g&&(x.updated=new Date(g)),l(x,"author","managingEditor",A,!0),x}var u=["url","type","lang"],s=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function o(h){return(0,t.getElementsByTagName)("media:content",h).map(function(d){for(var m=d.attribs,A={medium:m.medium,isDefault:!!m.isDefault},x=0,g=u;x<g.length;x++){var b=g[x];m[b]&&(A[b]=m[b])}for(var v=0,p=s;v<p.length;v++){var b=p[v];m[b]&&(A[b]=parseInt(m[b],10))}return m.expression&&(A.expression=m.expression),A})}function a(h,d){return(0,t.getElementsByTagName)(h,d,!0,1)[0]}function c(h,d,m){return m===void 0&&(m=!1),(0,e.textContent)((0,t.getElementsByTagName)(h,d,m,1)).trim()}function l(h,d,m,A,x){x===void 0&&(x=!1);var g=c(m,A,x);g&&(h[d]=g)}function f(h){return h==="rss"||h==="feed"||h==="rdf:RDF"}return go}var yg;function br(){return yg||(yg=1,(function(e){var t=Si&&Si.__createBinding||(Object.create?(function(i,u,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(u,s);(!a||("get"in a?!u.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return u[s]}}),Object.defineProperty(i,o,a)}):(function(i,u,s,o){o===void 0&&(o=s),i[o]=u[s]})),n=Si&&Si.__exportStar||function(i,u){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(u,s)&&t(u,i,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,n(J_(),e),n(X7(),e),n(J7(),e),n(Z_(),e),n(ey(),e),n(Z7(),e),n(eB(),e);var r=An();Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return r.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return r.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return r.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return r.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return r.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return r.hasChildren}})})(Si)),Si}var Ag;function Gu(){if(Ag)return Tt;Ag=1;var e=Tt&&Tt.__assign||function(){return e=Object.assign||function(x){for(var g,b=1,v=arguments.length;b<v;b++){g=arguments[b];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(x[p]=g[p])}return x},e.apply(this,arguments)},t=Tt&&Tt.__createBinding||(Object.create?(function(x,g,b,v){v===void 0&&(v=b);var p=Object.getOwnPropertyDescriptor(g,b);(!p||("get"in p?!g.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return g[b]}}),Object.defineProperty(x,v,p)}):(function(x,g,b,v){v===void 0&&(v=b),x[v]=g[b]})),n=Tt&&Tt.__setModuleDefault||(Object.create?(function(x,g){Object.defineProperty(x,"default",{enumerable:!0,value:g})}):function(x,g){x.default=g}),r=Tt&&Tt.__importStar||function(x){if(x&&x.__esModule)return x;var g={};if(x!=null)for(var b in x)b!=="default"&&Object.prototype.hasOwnProperty.call(x,b)&&t(g,x,b);return n(g,x),g};Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.merge=Tt.contains=Tt.root=Tt.parseHTML=Tt.text=Tt.xml=Tt.html=void 0;var i=br(),u=r(Q_());function s(x,g,b){return x?x(g!=null?g:x._root.children,null,void 0,b).toString():""}function o(x,g){return typeof x=="object"&&x!=null&&!("length"in x)&&!("type"in x)}function a(x,g){var b=o(x)?(g=x,void 0):x,v=e(e(e({},u.default),this===null||this===void 0?void 0:this._options),(0,u.flatten)(g!=null?g:{}));return s(this,b,v)}Tt.html=a;function c(x){var g=e(e({},this._options),{xmlMode:!0});return s(this,x,g)}Tt.xml=c;function l(x){for(var g=x||(this?this.root():[]),b="",v=0;v<g.length;v++)b+=(0,i.textContent)(g[v]);return b}Tt.text=l;function f(x,g,b){if(b===void 0&&(b=typeof g=="boolean"?g:!1),!x||typeof x!="string")return null;typeof g=="boolean"&&(b=g);var v=this.load(x,u.default,!1);return b||v("script").remove(),v.root()[0].children.slice()}Tt.parseHTML=f;function h(){return this(this._root)}Tt.root=h;function d(x,g){if(g===x)return!1;for(var b=g;b&&b!==b.parent;)if(b=b.parent,b===x)return!0;return!1}Tt.contains=d;function m(x,g){if(!(!A(x)||!A(g))){for(var b=x.length,v=+g.length,p=0;p<v;p++)x[b++]=g[p];return x.length=b,x}}Tt.merge=m;function A(x){if(Array.isArray(x))return!0;if(typeof x!="object"||!Object.prototype.hasOwnProperty.call(x,"length")||typeof x.length!="number"||x.length<0)return!1;for(var g=0;g<x.length;g++)if(!(g in x))return!1;return!0}return Tt}var Jn={},Pt={},yd={},xg;function Xu(){return xg||(xg=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isHtml=e.cloneDom=e.domEach=e.cssCase=e.camelCase=e.isCheerio=e.isTag=void 0;var t=An(),n=An();Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return n.isTag}});function r(l){return l.cheerio!=null}e.isCheerio=r;function i(l){return l.replace(/[_.-](\w|$)/g,function(f,h){return h.toUpperCase()})}e.camelCase=i;function u(l){return l.replace(/[A-Z]/g,"-$&").toLowerCase()}e.cssCase=u;function s(l,f){for(var h=l.length,d=0;d<h;d++)f(l[d],d);return l}e.domEach=s;function o(l){var f="length"in l?Array.prototype.map.call(l,function(d){return(0,t.cloneNode)(d,!0)}):[(0,t.cloneNode)(l,!0)],h=new t.Document(f);return f.forEach(function(d){d.parent=h}),f}e.cloneDom=o;var a;(function(l){l[l.LowerA=97]="LowerA",l[l.LowerZ=122]="LowerZ",l[l.UpperA=65]="UpperA",l[l.UpperZ=90]="UpperZ",l[l.Exclamation=33]="Exclamation"})(a||(a={}));function c(l){var f=l.indexOf("<");if(f<0||f>l.length-3)return!1;var h=l.charCodeAt(f+1);return(h>=a.LowerA&&h<=a.LowerZ||h>=a.UpperA&&h<=a.UpperZ||h===a.Exclamation)&&l.includes(">",f+2)}e.isHtml=c})(yd)),yd}var Cg;function tB(){if(Cg)return Pt;Cg=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.toggleClass=Pt.removeClass=Pt.addClass=Pt.hasClass=Pt.removeAttr=Pt.val=Pt.data=Pt.prop=Pt.attr=void 0;var e=Gu(),t=Xu(),n=br(),r=Object.prototype.hasOwnProperty,i=/\s+/,u="data-",s={null:null,true:!0,false:!1},o=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,a=/^{[^]*}$|^\[[^]*]$/;function c(N,I,w){var O;if(!(!N||!(0,t.isTag)(N))){if((O=N.attribs)!==null&&O!==void 0||(N.attribs={}),!I)return N.attribs;if(r.call(N.attribs,I))return!w&&o.test(I)?I:N.attribs[I];if(N.name==="option"&&I==="value")return(0,e.text)(N.children);if(N.name==="input"&&(N.attribs.type==="radio"||N.attribs.type==="checkbox")&&I==="value")return"on"}}function l(N,I,w){w===null?v(N,I):N.attribs[I]="".concat(w)}function f(N,I){if(typeof N=="object"||I!==void 0){if(typeof I=="function"){if(typeof N!="string")throw new Error("Bad combination of arguments.");return(0,t.domEach)(this,function(w,O){(0,t.isTag)(w)&&l(w,N,I.call(w,O,w.attribs[N]))})}return(0,t.domEach)(this,function(w){(0,t.isTag)(w)&&(typeof N=="object"?Object.keys(N).forEach(function(O){var P=N[O];l(w,O,P)}):l(w,N,I))})}return arguments.length>1?this:c(this[0],N,this.options.xmlMode)}Pt.attr=f;function h(N,I,w){if(!(!N||!(0,t.isTag)(N)))return I in N?N[I]:!w&&o.test(I)?c(N,I,!1)!==void 0:c(N,I,w)}function d(N,I,w,O){I in N?N[I]=w:l(N,I,!O&&o.test(I)?w?"":null:"".concat(w))}function m(N,I){var w=this,O;if(typeof N=="string"&&I===void 0)switch(N){case"style":{var P=this.css(),B=Object.keys(P);return B.forEach(function(W,$){P[$]=W}),P.length=B.length,P}case"tagName":case"nodeName":{var M=this[0];return(0,t.isTag)(M)?M.name.toUpperCase():void 0}case"href":case"src":{var M=this[0];if(!(0,t.isTag)(M))return;var j=(O=M.attribs)===null||O===void 0?void 0:O[N];return typeof URL!="undefined"&&(N==="href"&&(M.tagName==="a"||M.name==="link")||N==="src"&&(M.tagName==="img"||M.tagName==="iframe"||M.tagName==="audio"||M.tagName==="video"||M.tagName==="source"))&&j!==void 0&&this.options.baseURI?new URL(j,this.options.baseURI).href:j}case"innerText":return(0,n.innerText)(this[0]);case"textContent":return(0,n.textContent)(this[0]);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return h(this[0],N,this.options.xmlMode)}if(typeof N=="object"||I!==void 0){if(typeof I=="function"){if(typeof N=="object")throw new Error("Bad combination of arguments.");return(0,t.domEach)(this,function(W,$){(0,t.isTag)(W)&&d(W,N,I.call(W,$,h(W,N,w.options.xmlMode)),w.options.xmlMode)})}return(0,t.domEach)(this,function(W){(0,t.isTag)(W)&&(typeof N=="object"?Object.keys(N).forEach(function($){var L=N[$];d(W,$,L,w.options.xmlMode)}):d(W,N,I,w.options.xmlMode))})}}Pt.prop=m;function A(N,I,w){var O,P=N;(O=P.data)!==null&&O!==void 0||(P.data={}),typeof I=="object"?Object.assign(P.data,I):typeof I=="string"&&w!==void 0&&(P.data[I]=w)}function x(N,I){var w,O,P;I==null?(w=Object.keys(N.attribs).filter(function(W){return W.startsWith(u)}),O=w.map(function(W){return(0,t.camelCase)(W.slice(u.length))})):(w=[u+(0,t.cssCase)(I)],O=[I]);for(var B=0;B<w.length;++B){var M=w[B],j=O[B];if(r.call(N.attribs,M)&&!r.call(N.data,j)){if(P=N.attribs[M],r.call(s,P))P=s[P];else if(P===String(Number(P)))P=Number(P);else if(a.test(P))try{P=JSON.parse(P)}catch(W){}N.data[j]=P}}return I==null?N.data:P}function g(N,I){var w,O=this[0];if(!(!O||!(0,t.isTag)(O))){var P=O;return(w=P.data)!==null&&w!==void 0||(P.data={}),N?typeof N=="object"||I!==void 0?((0,t.domEach)(this,function(B){(0,t.isTag)(B)&&(typeof N=="object"?A(B,N):A(B,N,I))}),this):r.call(P.data,N)?P.data[N]:x(P,N):x(P)}}Pt.data=g;function b(N){var I=arguments.length===0,w=this[0];if(!w||!(0,t.isTag)(w))return I?void 0:this;switch(w.name){case"textarea":return this.text(N);case"select":{var O=this.find("option:selected");if(!I){if(this.attr("multiple")==null&&typeof N=="object")return this;this.find("option").removeAttr("selected");for(var P=typeof N!="object"?[N]:N,B=0;B<P.length;B++)this.find('option[value="'.concat(P[B],'"]')).attr("selected","");return this}return this.attr("multiple")?O.toArray().map(function(M){return(0,e.text)(M.children)}):O.attr("value")}case"input":case"option":return I?this.attr("value"):this.attr("value",N)}}Pt.val=b;function v(N,I){!N.attribs||!r.call(N.attribs,I)||delete N.attribs[I]}function p(N){return N?N.trim().split(i):[]}function _(N){for(var I=p(N),w=function(B){(0,t.domEach)(O,function(M){(0,t.isTag)(M)&&v(M,I[B])})},O=this,P=0;P<I.length;P++)w(P);return this}Pt.removeAttr=_;function E(N){return this.toArray().some(function(I){var w=(0,t.isTag)(I)&&I.attribs.class,O=-1;if(w&&N.length)for(;(O=w.indexOf(N,O+1))>-1;){var P=O+N.length;if((O===0||i.test(w[O-1]))&&(P===w.length||i.test(w[P])))return!0}return!1})}Pt.hasClass=E;function k(N){if(typeof N=="function")return(0,t.domEach)(this,function($,L){if((0,t.isTag)($)){var F=$.attribs.class||"";k.call([$],N.call($,L,F))}});if(!N||typeof N!="string")return this;for(var I=N.split(i),w=this.length,O=0;O<w;O++){var P=this[O];if((0,t.isTag)(P)){var B=c(P,"class",!1);if(!B)l(P,"class",I.join(" ").trim());else{for(var M=" ".concat(B," "),j=0;j<I.length;j++){var W="".concat(I[j]," ");M.includes(" ".concat(W))||(M+=W)}l(P,"class",M.trim())}}}return this}Pt.addClass=k;function R(N){if(typeof N=="function")return(0,t.domEach)(this,function(P,B){(0,t.isTag)(P)&&R.call([P],N.call(P,B,P.attribs.class||""))});var I=p(N),w=I.length,O=arguments.length===0;return(0,t.domEach)(this,function(P){if((0,t.isTag)(P))if(O)P.attribs.class="";else{for(var B=p(P.attribs.class),M=!1,j=0;j<w;j++){var W=B.indexOf(I[j]);W>=0&&(B.splice(W,1),M=!0,j--)}M&&(P.attribs.class=B.join(" "))}})}Pt.removeClass=R;function D(N,I){if(typeof N=="function")return(0,t.domEach)(this,function(F,V){(0,t.isTag)(F)&&D.call([F],N.call(F,V,F.attribs.class||"",I),I)});if(!N||typeof N!="string")return this;for(var w=N.split(i),O=w.length,P=typeof I=="boolean"?I?1:-1:0,B=this.length,M=0;M<B;M++){var j=this[M];if((0,t.isTag)(j)){for(var W=p(j.attribs.class),$=0;$<O;$++){var L=W.indexOf(w[$]);P>=0&&L<0?W.push(w[$]):P<=0&&L>=0&&W.splice(L,1)}j.attribs.class=W.join(" ")}}return this}return Pt.toggleClass=D,Pt}var Ae={},Ln={},Ze;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(Ze||(Ze={}));const nB={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var Ct;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(Ct||(Ct={}));const Ng=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,rB=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,iB=new Map([[126,Ct.Element],[94,Ct.Start],[36,Ct.End],[42,Ct.Any],[33,Ct.Not],[124,Ct.Hyphen]]),uB=new Set(["has","not","matches","is","where","host","host-context"]);function ty(e){switch(e.type){case Ze.Adjacent:case Ze.Child:case Ze.Descendant:case Ze.Parent:case Ze.Sibling:case Ze.ColumnCombinator:return!0;default:return!1}}const sB=new Set(["contains","icontains"]);function aB(e,t,n){const r=parseInt(t,16)-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function ds(e){return e.replace(rB,aB)}function Ad(e){return e===39||e===34}function Sg(e){return e===32||e===9||e===10||e===12||e===13}function oB(e){const t=[],n=ny(t,`${e}`,0);if(n<e.length)throw new Error(`Unmatched selector: ${e.slice(n)}`);return t}function ny(e,t,n){let r=[];function i(h){const d=t.slice(n+h).match(Ng);if(!d)throw new Error(`Expected name, found ${t.slice(n)}`);const[m]=d;return n+=h+m.length,ds(m)}function u(h){for(n+=h;n<t.length&&Sg(t.charCodeAt(n));)n++}function s(){n+=1;const h=n;let d=1;for(;d>0&&n<t.length;n++)t.charCodeAt(n)===40&&!o(n)?d++:t.charCodeAt(n)===41&&!o(n)&&d--;if(d)throw new Error("Parenthesis not matched");return ds(t.slice(h,n-1))}function o(h){let d=0;for(;t.charCodeAt(--h)===92;)d++;return(d&1)===1}function a(){if(r.length>0&&ty(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function c(h){if(r.length>0&&r[r.length-1].type===Ze.Descendant){r[r.length-1].type=h;return}a(),r.push({type:h})}function l(h,d){r.push({type:Ze.Attribute,name:h,action:d,value:i(1),namespace:null,ignoreCase:"quirks"})}function f(){if(r.length&&r[r.length-1].type===Ze.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");e.push(r)}if(u(0),t.length===n)return n;e:for(;n<t.length;){const h=t.charCodeAt(n);switch(h){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==Ze.Descendant)&&(a(),r.push({type:Ze.Descendant})),u(1);break}case 62:{c(Ze.Child),u(1);break}case 60:{c(Ze.Parent),u(1);break}case 126:{c(Ze.Sibling),u(1);break}case 43:{c(Ze.Adjacent),u(1);break}case 46:{l("class",Ct.Element);break}case 35:{l("id",Ct.Equals);break}case 91:{u(1);let d,m=null;t.charCodeAt(n)===124?d=i(1):t.startsWith("*|",n)?(m="*",d=i(2)):(d=i(0),t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==61&&(m=d,d=i(1))),u(0);let A=Ct.Exists;const x=iB.get(t.charCodeAt(n));if(x){if(A=x,t.charCodeAt(n+1)!==61)throw new Error("Expected `=`");u(2)}else t.charCodeAt(n)===61&&(A=Ct.Equals,u(1));let g="",b=null;if(A!=="exists"){if(Ad(t.charCodeAt(n))){const _=t.charCodeAt(n);let E=n+1;for(;E<t.length&&(t.charCodeAt(E)!==_||o(E));)E+=1;if(t.charCodeAt(E)!==_)throw new Error("Attribute value didn't end");g=ds(t.slice(n+1,E)),n=E+1}else{const _=n;for(;n<t.length&&(!Sg(t.charCodeAt(n))&&t.charCodeAt(n)!==93||o(n));)n+=1;g=ds(t.slice(_,n))}u(0);const p=t.charCodeAt(n)|32;p===115?(b=!1,u(1)):p===105&&(b=!0,u(1))}if(t.charCodeAt(n)!==93)throw new Error("Attribute selector didn't terminate");n+=1;const v={type:Ze.Attribute,name:d,action:A,value:g,namespace:m,ignoreCase:b};r.push(v);break}case 58:{if(t.charCodeAt(n+1)===58){r.push({type:Ze.PseudoElement,name:i(2).toLowerCase(),data:t.charCodeAt(n)===40?s():null});continue}const d=i(1).toLowerCase();let m=null;if(t.charCodeAt(n)===40)if(uB.has(d)){if(Ad(t.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${d} cannot be quoted`);if(m=[],n=ny(m,t,n+1),t.charCodeAt(n)!==41)throw new Error(`Missing closing parenthesis in :${d} (${t})`);n+=1}else{if(m=s(),sB.has(d)){const A=m.charCodeAt(0);A===m.charCodeAt(m.length-1)&&Ad(A)&&(m=m.slice(1,-1))}m=ds(m)}r.push({type:Ze.Pseudo,name:d,data:m});break}case 44:{f(),r=[],u(1);break}default:{if(t.startsWith("/*",n)){const A=t.indexOf("*/",n+2);if(A<0)throw new Error("Comment was not terminated");n=A+2,r.length===0&&u(0);break}let d=null,m;if(h===42)n+=1,m="*";else if(h===124){if(m="",t.charCodeAt(n+1)===124){c(Ze.ColumnCombinator),u(2);break}}else if(Ng.test(t.slice(n)))m=i(0);else break e;t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==124&&(d=m,t.charCodeAt(n+1)===42?(m="*",n+=2):m=i(1)),r.push(m==="*"?{type:Ze.Universal,namespace:d}:{type:Ze.Tag,name:m,namespace:d})}}}return f(),n}const ry=["\\",'"'],iy=[...ry,"(",")"],lB=new Set(ry.map(e=>e.charCodeAt(0))),Ig=new Set(iy.map(e=>e.charCodeAt(0))),vu=new Set([...iy,"~","^","$","*","+","!","|",":","[","]"," ","."].map(e=>e.charCodeAt(0)));function uy(e){return e.map(t=>t.map(cB).join("")).join(", ")}function cB(e,t,n){switch(e.type){case Ze.Child:return t===0?"> ":" > ";case Ze.Parent:return t===0?"< ":" < ";case Ze.Sibling:return t===0?"~ ":" ~ ";case Ze.Adjacent:return t===0?"+ ":" + ";case Ze.Descendant:return" ";case Ze.ColumnCombinator:return t===0?"|| ":" || ";case Ze.Universal:return e.namespace==="*"&&t+1<n.length&&"name"in n[t+1]?"":`${sy(e.namespace)}*`;case Ze.Tag:return vg(e);case Ze.PseudoElement:return`::${Mr(e.name,vu)}${e.data===null?"":`(${Mr(e.data,Ig)})`}`;case Ze.Pseudo:return`:${Mr(e.name,vu)}${e.data===null?"":`(${typeof e.data=="string"?Mr(e.data,Ig):uy(e.data)})`}`;case Ze.Attribute:{if(e.name==="id"&&e.action===Ct.Equals&&e.ignoreCase==="quirks"&&!e.namespace)return`#${Mr(e.value,vu)}`;if(e.name==="class"&&e.action===Ct.Element&&e.ignoreCase==="quirks"&&!e.namespace)return`.${Mr(e.value,vu)}`;const r=vg(e);return e.action===Ct.Exists?`[${r}]`:`[${r}${dB(e.action)}="${Mr(e.value,lB)}"${e.ignoreCase===null?"":e.ignoreCase?" i":" s"}]`}}}function dB(e){switch(e){case Ct.Equals:return"";case Ct.Element:return"~";case Ct.Start:return"^";case Ct.End:return"$";case Ct.Any:return"*";case Ct.Not:return"!";case Ct.Hyphen:return"|";case Ct.Exists:throw new Error("Shouldn't be here")}}function vg(e){return`${sy(e.namespace)}${Mr(e.name,vu)}`}function sy(e){return e!==null?`${e==="*"?"*":Mr(e,vu)}|`:""}function Mr(e,t){let n=0,r="";for(let i=0;i<e.length;i++)t.has(e.charCodeAt(i))&&(r+=`${e.slice(n,i)}\\${e.charAt(i)}`,n=i+1);return r.length>0?r+e.slice(n):e}const fB=Object.freeze(Object.defineProperty({__proto__:null,get AttributeAction(){return Ct},IgnoreCaseMode:nB,get SelectorType(){return Ze},isTraversal:ty,parse:oB,stringify:uy},Symbol.toStringTag,{value:"Module"})),ka=oA(fB);var Zn={},xd,kg;function lu(){return kg||(kg=1,xd={trueFunc:function(){return!0},falseFunc:function(){return!1}}),xd}var nn={},gu={},wg;function ay(){if(wg)return gu;wg=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.isTraversal=void 0;var e=ka,t=new Map([[e.SelectorType.Universal,50],[e.SelectorType.Tag,30],[e.SelectorType.Attribute,1],[e.SelectorType.Pseudo,0]]);function n(s){return!t.has(s.type)}gu.isTraversal=n;var r=new Map([[e.AttributeAction.Exists,10],[e.AttributeAction.Equals,8],[e.AttributeAction.Not,7],[e.AttributeAction.Start,6],[e.AttributeAction.End,6],[e.AttributeAction.Any,5]]);function i(s){for(var o=s.map(u),a=1;a<s.length;a++){var c=o[a];if(!(c<0))for(var l=a-1;l>=0&&c<o[l];l--){var f=s[l+1];s[l+1]=s[l],s[l]=f,o[l+1]=o[l],o[l]=c}}}gu.default=i;function u(s){var o,a,c=(o=t.get(s.type))!==null&&o!==void 0?o:-1;return s.type===e.SelectorType.Attribute?(c=(a=r.get(s.action))!==null&&a!==void 0?a:4,s.action===e.AttributeAction.Equals&&s.name==="id"&&(c=9),s.ignoreCase&&(c>>=1)):s.type===e.SelectorType.Pseudo&&(s.data?s.name==="has"||s.name==="contains"?c=0:Array.isArray(s.data)?(c=Math.min.apply(Math,s.data.map(function(l){return Math.min.apply(Math,l.map(u))})),c<0&&(c=0)):c=2:c=3),c}return gu}var fs={},ki={},Og;function hB(){if(Og)return ki;Og=1;var e=ki&&ki.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ki,"__esModule",{value:!0}),ki.attributeRules=void 0;var t=e(lu()),n=/[-[\]{}()*+?.,\\^$|#\s]/g;function r(s){return s.replace(n,"\\$&")}var i=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function u(s,o){return typeof s.ignoreCase=="boolean"?s.ignoreCase:s.ignoreCase==="quirks"?!!o.quirksMode:!o.xmlMode&&i.has(s.name)}return ki.attributeRules={equals:function(s,o,a){var c=a.adapter,l=o.name,f=o.value;return u(o,a)?(f=f.toLowerCase(),function(h){var d=c.getAttributeValue(h,l);return d!=null&&d.length===f.length&&d.toLowerCase()===f&&s(h)}):function(h){return c.getAttributeValue(h,l)===f&&s(h)}},hyphen:function(s,o,a){var c=a.adapter,l=o.name,f=o.value,h=f.length;return u(o,a)?(f=f.toLowerCase(),function(m){var A=c.getAttributeValue(m,l);return A!=null&&(A.length===h||A.charAt(h)==="-")&&A.substr(0,h).toLowerCase()===f&&s(m)}):function(m){var A=c.getAttributeValue(m,l);return A!=null&&(A.length===h||A.charAt(h)==="-")&&A.substr(0,h)===f&&s(m)}},element:function(s,o,a){var c=a.adapter,l=o.name,f=o.value;if(/\s/.test(f))return t.default.falseFunc;var h=new RegExp("(?:^|\\s)".concat(r(f),"(?:$|\\s)"),u(o,a)?"i":"");return function(m){var A=c.getAttributeValue(m,l);return A!=null&&A.length>=f.length&&h.test(A)&&s(m)}},exists:function(s,o,a){var c=o.name,l=a.adapter;return function(f){return l.hasAttrib(f,c)&&s(f)}},start:function(s,o,a){var c=a.adapter,l=o.name,f=o.value,h=f.length;return h===0?t.default.falseFunc:u(o,a)?(f=f.toLowerCase(),function(d){var m=c.getAttributeValue(d,l);return m!=null&&m.length>=h&&m.substr(0,h).toLowerCase()===f&&s(d)}):function(d){var m;return!!(!((m=c.getAttributeValue(d,l))===null||m===void 0)&&m.startsWith(f))&&s(d)}},end:function(s,o,a){var c=a.adapter,l=o.name,f=o.value,h=-f.length;return h===0?t.default.falseFunc:u(o,a)?(f=f.toLowerCase(),function(d){var m;return((m=c.getAttributeValue(d,l))===null||m===void 0?void 0:m.substr(h).toLowerCase())===f&&s(d)}):function(d){var m;return!!(!((m=c.getAttributeValue(d,l))===null||m===void 0)&&m.endsWith(f))&&s(d)}},any:function(s,o,a){var c=a.adapter,l=o.name,f=o.value;if(f==="")return t.default.falseFunc;if(u(o,a)){var h=new RegExp(r(f),"i");return function(m){var A=c.getAttributeValue(m,l);return A!=null&&A.length>=f.length&&h.test(A)&&s(m)}}return function(d){var m;return!!(!((m=c.getAttributeValue(d,l))===null||m===void 0)&&m.includes(f))&&s(d)}},not:function(s,o,a){var c=a.adapter,l=o.name,f=o.value;return f===""?function(h){return!!c.getAttributeValue(h,l)&&s(h)}:u(o,a)?(f=f.toLowerCase(),function(h){var d=c.getAttributeValue(h,l);return(d==null||d.length!==f.length||d.toLowerCase()!==f)&&s(h)}):function(h){return c.getAttributeValue(h,l)!==f&&s(h)}}},ki}var Cd={},hs={},Nd={},ps={},Dg;function pB(){if(Dg)return ps;Dg=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.parse=void 0;var e=new Set([9,10,12,13,32]),t=48,n=57;function r(i){if(i=i.trim().toLowerCase(),i==="even")return[2,0];if(i==="odd")return[2,1];var u=0,s=0,o=c(),a=l();if(u<i.length&&i.charAt(u)==="n"&&(u++,s=o*(a!=null?a:1),f(),u<i.length?(o=c(),f(),a=l()):o=a=0),a===null||u<i.length)throw new Error("n-th rule couldn't be parsed ('".concat(i,"')"));return[s,o*a];function c(){return i.charAt(u)==="-"?(u++,-1):(i.charAt(u)==="+"&&u++,1)}function l(){for(var h=u,d=0;u<i.length&&i.charCodeAt(u)>=t&&i.charCodeAt(u)<=n;)d=d*10+(i.charCodeAt(u)-t),u++;return u===h?null:d}function f(){for(;u<i.length&&e.has(i.charCodeAt(u));)u++}}return ps.parse=r,ps}var Or={},Rg;function mB(){if(Rg)return Or;Rg=1;var e=Or&&Or.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Or,"__esModule",{value:!0}),Or.generate=Or.compile=void 0;var t=e(lu());function n(i){var u=i[0],s=i[1]-1;if(s<0&&u<=0)return t.default.falseFunc;if(u===-1)return function(c){return c<=s};if(u===0)return function(c){return c===s};if(u===1)return s<0?t.default.trueFunc:function(c){return c>=s};var o=Math.abs(u),a=(s%o+o)%o;return u>1?function(c){return c>=s&&c%o===a}:function(c){return c<=s&&c%o===a}}Or.compile=n;function r(i){var u=i[0],s=i[1]-1,o=0;if(u<0){var a=-u,c=(s%a+a)%a;return function(){var l=c+a*o++;return l>s?null:l}}return u===0?s<0?function(){return null}:function(){return o++===0?s:null}:(s<0&&(s+=u*Math.ceil(-s/u)),function(){return u*o+++s})}return Or.generate=r,Or}var Lg;function gB(){return Lg||(Lg=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sequence=e.generate=e.compile=e.parse=void 0;var t=pB();Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}});var n=mB();Object.defineProperty(e,"compile",{enumerable:!0,get:function(){return n.compile}}),Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return n.generate}});function r(u){return(0,n.compile)((0,t.parse)(u))}e.default=r;function i(u){return(0,n.generate)((0,t.parse)(u))}e.sequence=i})(Nd)),Nd}var Pg;function bB(){return Pg||(Pg=1,(function(e){var t=hs&&hs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.filters=void 0;var n=t(gB()),r=t(lu());function i(s,o){return function(a){var c=o.getParent(a);return c!=null&&o.isTag(c)&&s(a)}}e.filters={contains:function(s,o,a){var c=a.adapter;return function(f){return s(f)&&c.getText(f).includes(o)}},icontains:function(s,o,a){var c=a.adapter,l=o.toLowerCase();return function(h){return s(h)&&c.getText(h).toLowerCase().includes(l)}},"nth-child":function(s,o,a){var c=a.adapter,l=a.equals,f=(0,n.default)(o);return f===r.default.falseFunc?r.default.falseFunc:f===r.default.trueFunc?i(s,c):function(d){for(var m=c.getSiblings(d),A=0,x=0;x<m.length&&!l(d,m[x]);x++)c.isTag(m[x])&&A++;return f(A)&&s(d)}},"nth-last-child":function(s,o,a){var c=a.adapter,l=a.equals,f=(0,n.default)(o);return f===r.default.falseFunc?r.default.falseFunc:f===r.default.trueFunc?i(s,c):function(d){for(var m=c.getSiblings(d),A=0,x=m.length-1;x>=0&&!l(d,m[x]);x--)c.isTag(m[x])&&A++;return f(A)&&s(d)}},"nth-of-type":function(s,o,a){var c=a.adapter,l=a.equals,f=(0,n.default)(o);return f===r.default.falseFunc?r.default.falseFunc:f===r.default.trueFunc?i(s,c):function(d){for(var m=c.getSiblings(d),A=0,x=0;x<m.length;x++){var g=m[x];if(l(d,g))break;c.isTag(g)&&c.getName(g)===c.getName(d)&&A++}return f(A)&&s(d)}},"nth-last-of-type":function(s,o,a){var c=a.adapter,l=a.equals,f=(0,n.default)(o);return f===r.default.falseFunc?r.default.falseFunc:f===r.default.trueFunc?i(s,c):function(d){for(var m=c.getSiblings(d),A=0,x=m.length-1;x>=0;x--){var g=m[x];if(l(d,g))break;c.isTag(g)&&c.getName(g)===c.getName(d)&&A++}return f(A)&&s(d)}},root:function(s,o,a){var c=a.adapter;return function(l){var f=c.getParent(l);return(f==null||!c.isTag(f))&&s(l)}},scope:function(s,o,a,c){var l=a.equals;return!c||c.length===0?e.filters.root(s,o,a):c.length===1?function(f){return l(c[0],f)&&s(f)}:function(f){return c.includes(f)&&s(f)}},hover:u("isHovered"),visited:u("isVisited"),active:u("isActive")};function u(s){return function(a,c,l){var f=l.adapter,h=f[s];return typeof h!="function"?r.default.falseFunc:function(m){return h(m)&&a(m)}}}})(hs)),hs}var wi={},Mg;function EB(){if(Mg)return wi;Mg=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.verifyPseudoArgs=wi.pseudos=void 0,wi.pseudos={empty:function(t,n){var r=n.adapter;return!r.getChildren(t).some(function(i){return r.isTag(i)||r.getText(i)!==""})},"first-child":function(t,n){var r=n.adapter,i=n.equals;if(r.prevElementSibling)return r.prevElementSibling(t)==null;var u=r.getSiblings(t).find(function(s){return r.isTag(s)});return u!=null&&i(t,u)},"last-child":function(t,n){for(var r=n.adapter,i=n.equals,u=r.getSiblings(t),s=u.length-1;s>=0;s--){if(i(t,u[s]))return!0;if(r.isTag(u[s]))break}return!1},"first-of-type":function(t,n){for(var r=n.adapter,i=n.equals,u=r.getSiblings(t),s=r.getName(t),o=0;o<u.length;o++){var a=u[o];if(i(t,a))return!0;if(r.isTag(a)&&r.getName(a)===s)break}return!1},"last-of-type":function(t,n){for(var r=n.adapter,i=n.equals,u=r.getSiblings(t),s=r.getName(t),o=u.length-1;o>=0;o--){var a=u[o];if(i(t,a))return!0;if(r.isTag(a)&&r.getName(a)===s)break}return!1},"only-of-type":function(t,n){var r=n.adapter,i=n.equals,u=r.getName(t);return r.getSiblings(t).every(function(s){return i(t,s)||!r.isTag(s)||r.getName(s)!==u})},"only-child":function(t,n){var r=n.adapter,i=n.equals;return r.getSiblings(t).every(function(u){return i(t,u)||!r.isTag(u)})}};function e(t,n,r,i){if(r===null){if(t.length>i)throw new Error("Pseudo-class :".concat(n," requires an argument"))}else if(t.length===i)throw new Error("Pseudo-class :".concat(n," doesn't have any arguments"))}return wi.verifyPseudoArgs=e,wi}var ms={},Bg;function TB(){return Bg||(Bg=1,Object.defineProperty(ms,"__esModule",{value:!0}),ms.aliases=void 0,ms.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"}),ms}var Oi={},Fg;function lh(){return Fg||(Fg=1,(function(e){var t=Oi&&Oi.__spreadArray||function(c,l,f){if(f||arguments.length===2)for(var h=0,d=l.length,m;h<d;h++)(m||!(h in l))&&(m||(m=Array.prototype.slice.call(l,0,h)),m[h]=l[h]);return c.concat(m||Array.prototype.slice.call(l))},n=Oi&&Oi.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.subselects=e.getNextSiblings=e.ensureIsTag=e.PLACEHOLDER_ELEMENT=void 0;var r=n(lu()),i=ay();e.PLACEHOLDER_ELEMENT={};function u(c,l){return c===r.default.falseFunc?r.default.falseFunc:function(f){return l.isTag(f)&&c(f)}}e.ensureIsTag=u;function s(c,l){var f=l.getSiblings(c);if(f.length<=1)return[];var h=f.indexOf(c);return h<0||h===f.length-1?[]:f.slice(h+1).filter(l.isTag)}e.getNextSiblings=s;function o(c){return{xmlMode:!!c.xmlMode,lowerCaseAttributeNames:!!c.lowerCaseAttributeNames,lowerCaseTags:!!c.lowerCaseTags,quirksMode:!!c.quirksMode,cacheResults:!!c.cacheResults,pseudos:c.pseudos,adapter:c.adapter,equals:c.equals}}var a=function(c,l,f,h,d){var m=d(l,o(f),h);return m===r.default.trueFunc?c:m===r.default.falseFunc?r.default.falseFunc:function(A){return m(A)&&c(A)}};e.subselects={is:a,matches:a,where:a,not:function(c,l,f,h,d){var m=d(l,o(f),h);return m===r.default.falseFunc?c:m===r.default.trueFunc?r.default.falseFunc:function(A){return!m(A)&&c(A)}},has:function(c,l,f,h,d){var m=f.adapter,A=o(f);A.relativeSelector=!0;var x=l.some(function(_){return _.some(i.isTraversal)})?[e.PLACEHOLDER_ELEMENT]:void 0,g=d(l,A,x);if(g===r.default.falseFunc)return r.default.falseFunc;var b=u(g,m);if(x&&g!==r.default.trueFunc){var v=g.shouldTestNextSiblings,p=v===void 0?!1:v;return function(_){if(!c(_))return!1;x[0]=_;var E=m.getChildren(_),k=p?t(t([],E,!0),s(_,m),!0):E;return m.existsOne(b,k)}}return function(_){return c(_)&&m.existsOne(b,m.getChildren(_))}}}})(Oi)),Oi}var Hg;function oy(){return Hg||(Hg=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compilePseudoSelector=e.aliases=e.pseudos=e.filters=void 0;var t=ka,n=bB();Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return n.filters}});var r=EB();Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return r.pseudos}});var i=TB();Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return i.aliases}});var u=lh();function s(o,a,c,l,f){var h,d=a.name,m=a.data;if(Array.isArray(m)){if(!(d in u.subselects))throw new Error("Unknown pseudo-class :".concat(d,"(").concat(m,")"));return u.subselects[d](o,m,c,l,f)}var A=(h=c.pseudos)===null||h===void 0?void 0:h[d],x=typeof A=="string"?A:i.aliases[d];if(typeof x=="string"){if(m!=null)throw new Error("Pseudo ".concat(d," doesn't have any arguments"));var g=(0,t.parse)(x);return u.subselects.is(o,g,c,l,f)}if(typeof A=="function")return(0,r.verifyPseudoArgs)(A,d,m,1),function(v){return A(v,m)&&o(v)};if(d in n.filters)return n.filters[d](o,m,c,l);if(d in r.pseudos){var b=r.pseudos[d];return(0,r.verifyPseudoArgs)(b,d,m,2),function(v){return b(v,c,m)&&o(v)}}throw new Error("Unknown pseudo-class :".concat(d))}e.compilePseudoSelector=s})(Cd)),Cd}var jg;function _B(){if(jg)return fs;jg=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.compileGeneralSelector=void 0;var e=hB(),t=oy(),n=ka;function r(u,s){var o=s.getParent(u);return o&&s.isTag(o)?o:null}function i(u,s,o,a,c){var l=o.adapter,f=o.equals;switch(s.type){case n.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case n.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case n.SelectorType.Attribute:{if(s.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!o.xmlMode||o.lowerCaseAttributeNames)&&(s.name=s.name.toLowerCase()),e.attributeRules[s.action](u,s,o)}case n.SelectorType.Pseudo:return(0,t.compilePseudoSelector)(u,s,o,a,c);case n.SelectorType.Tag:{if(s.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");var h=s.name;return(!o.xmlMode||o.lowerCaseTags)&&(h=h.toLowerCase()),function(A){return l.getName(A)===h&&u(A)}}case n.SelectorType.Descendant:{if(o.cacheResults===!1||typeof WeakSet=="undefined")return function(A){for(var x=A;x=r(x,l);)if(u(x))return!0;return!1};var d=new WeakSet;return function(A){for(var x=A;x=r(x,l);)if(!d.has(x)){if(l.isTag(x)&&u(x))return!0;d.add(x)}return!1}}case"_flexibleDescendant":return function(A){var x=A;do if(u(x))return!0;while(x=r(x,l));return!1};case n.SelectorType.Parent:return function(A){return l.getChildren(A).some(function(x){return l.isTag(x)&&u(x)})};case n.SelectorType.Child:return function(A){var x=l.getParent(A);return x!=null&&l.isTag(x)&&u(x)};case n.SelectorType.Sibling:return function(A){for(var x=l.getSiblings(A),g=0;g<x.length;g++){var b=x[g];if(f(A,b))break;if(l.isTag(b)&&u(b))return!0}return!1};case n.SelectorType.Adjacent:return l.prevElementSibling?function(A){var x=l.prevElementSibling(A);return x!=null&&u(x)}:function(A){for(var x=l.getSiblings(A),g,b=0;b<x.length;b++){var v=x[b];if(f(A,v))break;l.isTag(v)&&(g=v)}return!!g&&u(g)};case n.SelectorType.Universal:{if(s.namespace!=null&&s.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return u}}}return fs.compileGeneralSelector=i,fs}var Ug;function yB(){if(Ug)return nn;Ug=1;var e=nn&&nn.__createBinding||(Object.create?(function(v,p,_,E){E===void 0&&(E=_);var k=Object.getOwnPropertyDescriptor(p,_);(!k||("get"in k?!p.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return p[_]}}),Object.defineProperty(v,E,k)}):(function(v,p,_,E){E===void 0&&(E=_),v[E]=p[_]})),t=nn&&nn.__setModuleDefault||(Object.create?(function(v,p){Object.defineProperty(v,"default",{enumerable:!0,value:p})}):function(v,p){v.default=p}),n=nn&&nn.__importStar||function(v){if(v&&v.__esModule)return v;var p={};if(v!=null)for(var _ in v)_!=="default"&&Object.prototype.hasOwnProperty.call(v,_)&&e(p,v,_);return t(p,v),p},r=nn&&nn.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(nn,"__esModule",{value:!0}),nn.compileToken=nn.compileUnsafe=nn.compile=void 0;var i=ka,u=r(lu()),s=n(ay()),o=_B(),a=lh();function c(v,p,_){var E=l(v,p,_);return(0,a.ensureIsTag)(E,p.adapter)}nn.compile=c;function l(v,p,_){var E=typeof v=="string"?(0,i.parse)(v):v;return x(E,p,_)}nn.compileUnsafe=l;function f(v){return v.type===i.SelectorType.Pseudo&&(v.name==="scope"||Array.isArray(v.data)&&v.data.some(function(p){return p.some(f)}))}var h={type:i.SelectorType.Descendant},d={type:"_flexibleDescendant"},m={type:i.SelectorType.Pseudo,name:"scope",data:null};function A(v,p,_){for(var E=p.adapter,k=!!(_!=null&&_.every(function(I){var w=E.isTag(I)&&E.getParent(I);return I===a.PLACEHOLDER_ELEMENT||w&&E.isTag(w)})),R=0,D=v;R<D.length;R++){var N=D[R];if(!(N.length>0&&(0,s.isTraversal)(N[0])&&N[0].type!==i.SelectorType.Descendant))if(k&&!N.some(f))N.unshift(h);else continue;N.unshift(m)}}function x(v,p,_){var E;v.forEach(s.default),_=(E=p.context)!==null&&E!==void 0?E:_;var k=Array.isArray(_),R=_&&(Array.isArray(_)?_:[_]);if(p.relativeSelector!==!1)A(v,p,R);else if(v.some(function(I){return I.length>0&&(0,s.isTraversal)(I[0])}))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");var D=!1,N=v.map(function(I){if(I.length>=2){var w=I[0],O=I[1];w.type!==i.SelectorType.Pseudo||w.name!=="scope"||(k&&O.type===i.SelectorType.Descendant?I[1]=d:(O.type===i.SelectorType.Adjacent||O.type===i.SelectorType.Sibling)&&(D=!0))}return g(I,p,R)}).reduce(b,u.default.falseFunc);return N.shouldTestNextSiblings=D,N}nn.compileToken=x;function g(v,p,_){var E;return v.reduce(function(k,R){return k===u.default.falseFunc?u.default.falseFunc:(0,o.compileGeneralSelector)(k,R,p,_,x)},(E=p.rootFunc)!==null&&E!==void 0?E:u.default.trueFunc)}function b(v,p){return p===u.default.falseFunc||v===u.default.trueFunc?v:v===u.default.falseFunc||p===u.default.trueFunc?p:function(E){return v(E)||p(E)}}return nn}var zg;function Gg(){return zg||(zg=1,(function(e){var t=Zn&&Zn.__createBinding||(Object.create?(function(b,v,p,_){_===void 0&&(_=p);var E=Object.getOwnPropertyDescriptor(v,p);(!E||("get"in E?!v.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return v[p]}}),Object.defineProperty(b,_,E)}):(function(b,v,p,_){_===void 0&&(_=p),b[_]=v[p]})),n=Zn&&Zn.__setModuleDefault||(Object.create?(function(b,v){Object.defineProperty(b,"default",{enumerable:!0,value:v})}):function(b,v){b.default=v}),r=Zn&&Zn.__importStar||function(b){if(b&&b.__esModule)return b;var v={};if(b!=null)for(var p in b)p!=="default"&&Object.prototype.hasOwnProperty.call(b,p)&&t(v,b,p);return n(v,b),v},i=Zn&&Zn.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0}),e.aliases=e.pseudos=e.filters=e.is=e.selectOne=e.selectAll=e.prepareContext=e._compileToken=e._compileUnsafe=e.compile=void 0;var u=r(br()),s=i(lu()),o=yB(),a=lh(),c=function(b,v){return b===v},l={adapter:u,equals:c};function f(b){var v,p,_,E,k=b!=null?b:l;return(v=k.adapter)!==null&&v!==void 0||(k.adapter=u),(p=k.equals)!==null&&p!==void 0||(k.equals=(E=(_=k.adapter)===null||_===void 0?void 0:_.equals)!==null&&E!==void 0?E:c),k}function h(b){return function(p,_,E){var k=f(_);return b(p,k,E)}}e.compile=h(o.compile),e._compileUnsafe=h(o.compileUnsafe),e._compileToken=h(o.compileToken);function d(b){return function(p,_,E){var k=f(E);typeof p!="function"&&(p=(0,o.compileUnsafe)(p,k,_));var R=m(_,k.adapter,p.shouldTestNextSiblings);return b(p,R,k)}}function m(b,v,p){return p===void 0&&(p=!1),p&&(b=A(b,v)),Array.isArray(b)?v.removeSubsets(b):v.getChildren(b)}e.prepareContext=m;function A(b,v){for(var p=Array.isArray(b)?b.slice(0):[b],_=p.length,E=0;E<_;E++){var k=(0,a.getNextSiblings)(p[E],v);p.push.apply(p,k)}return p}e.selectAll=d(function(b,v,p){return b===s.default.falseFunc||!v||v.length===0?[]:p.adapter.findAll(b,v)}),e.selectOne=d(function(b,v,p){return b===s.default.falseFunc||!v||v.length===0?null:p.adapter.findOne(b,v)});function x(b,v,p){var _=f(p);return(typeof v=="function"?v:(0,o.compile)(v,_))(b)}e.is=x,e.default=e.selectAll;var g=oy();Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return g.filters}}),Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return g.pseudos}}),Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return g.aliases}})})(Zn)),Zn}var Di={},Sd={},qg;function ly(){return qg||(qg=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getLimit=e.isFilter=e.filterNames=void 0,e.filterNames=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function t(r){return r.type!=="pseudo"?!1:e.filterNames.has(r.name)?!0:r.name==="not"&&Array.isArray(r.data)?r.data.some(function(i){return i.some(t)}):!1}e.isFilter=t;function n(r,i,u){var s=i!=null?parseInt(i,10):NaN;switch(r){case"first":return 1;case"nth":case"eq":return isFinite(s)?s>=0?s+1:1/0:0;case"lt":return isFinite(s)?s>=0?Math.min(s,u):1/0:0;case"gt":return isFinite(s)?1/0:0;case"odd":return 2*u;case"even":return 2*u-1;case"last":case"not":return 1/0}}e.getLimit=n})(Sd)),Sd}var Vg;function AB(){if(Vg)return Di;Vg=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.groupSelectors=Di.getDocumentRoot=void 0;var e=ly();function t(r){for(;r.parent;)r=r.parent;return r}Di.getDocumentRoot=t;function n(r){for(var i=[],u=[],s=0,o=r;s<o.length;s++){var a=o[s];a.some(e.isFilter)?i.push(a):u.push(a)}return[u,i]}return Di.groupSelectors=n,Di}var Wg;function xB(){return Wg||(Wg=1,(function(e){var t=Ln&&Ln.__assign||function(){return t=Object.assign||function(N){for(var I,w=1,O=arguments.length;w<O;w++){I=arguments[w];for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(N[P]=I[P])}return N},t.apply(this,arguments)},n=Ln&&Ln.__createBinding||(Object.create?(function(N,I,w,O){O===void 0&&(O=w);var P=Object.getOwnPropertyDescriptor(I,w);(!P||("get"in P?!I.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return I[w]}}),Object.defineProperty(N,O,P)}):(function(N,I,w,O){O===void 0&&(O=w),N[O]=I[w]})),r=Ln&&Ln.__setModuleDefault||(Object.create?(function(N,I){Object.defineProperty(N,"default",{enumerable:!0,value:I})}):function(N,I){N.default=I}),i=Ln&&Ln.__importStar||function(N){if(N&&N.__esModule)return N;var I={};if(N!=null)for(var w in N)w!=="default"&&Object.prototype.hasOwnProperty.call(N,w)&&n(I,N,w);return r(I,N),I},u=Ln&&Ln.__spreadArray||function(N,I,w){if(w||arguments.length===2)for(var O=0,P=I.length,B;O<P;O++)(B||!(O in I))&&(B||(B=Array.prototype.slice.call(I,0,O)),B[O]=I[O]);return N.concat(B||Array.prototype.slice.call(I))};Object.defineProperty(e,"__esModule",{value:!0}),e.select=e.filter=e.some=e.is=e.aliases=e.pseudos=e.filters=void 0;var s=ka,o=Gg(),a=i(br()),c=i(lu()),l=AB(),f=ly(),h=Gg();Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return h.filters}}),Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return h.pseudos}}),Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return h.aliases}});var d={type:s.SelectorType.Universal,namespace:null},m={type:s.SelectorType.Pseudo,name:"scope",data:null};function A(N,I,w){return w===void 0&&(w={}),x([N],I,w)}e.is=A;function x(N,I,w){if(w===void 0&&(w={}),typeof I=="function")return N.some(I);var O=(0,l.groupSelectors)((0,s.parse)(I)),P=O[0],B=O[1];return P.length>0&&N.some((0,o._compileToken)(P,w))||B.some(function(M){return p(M,N,w).length>0})}e.some=x;function g(N,I,w,O){var P=typeof w=="string"?parseInt(w,10):NaN;switch(N){case"first":case"lt":return I;case"last":return I.length>0?[I[I.length-1]]:I;case"nth":case"eq":return isFinite(P)&&Math.abs(P)<I.length?[P<0?I[I.length+P]:I[P]]:[];case"gt":return isFinite(P)?I.slice(P+1):[];case"even":return I.filter(function(M,j){return j%2===0});case"odd":return I.filter(function(M,j){return j%2===1});case"not":{var B=new Set(v(w,I,O));return I.filter(function(M){return!B.has(M)})}}}function b(N,I,w){return w===void 0&&(w={}),v((0,s.parse)(N),I,w)}e.filter=b;function v(N,I,w){if(I.length===0)return[];var O=(0,l.groupSelectors)(N),P=O[0],B=O[1],M;if(P.length){var j=D(I,P,w);if(B.length===0)return j;j.length&&(M=new Set(j))}for(var W=0;W<B.length&&(M==null?void 0:M.size)!==I.length;W++){var $=B[W],L=M?I.filter(function(V){return a.isTag(V)&&!M.has(V)}):I;if(L.length===0)break;var j=p($,I,w);if(j.length)if(M)j.forEach(function(V){return M.add(V)});else{if(W===B.length-1)return j;M=new Set(j)}}return typeof M!="undefined"?M.size===I.length?I:I.filter(function(F){return M.has(F)}):[]}function p(N,I,w){var O;if(N.some(s.isTraversal)){var P=(O=w.root)!==null&&O!==void 0?O:(0,l.getDocumentRoot)(I[0]),B=t(t({},w),{context:I,relativeSelector:!1});return N.push(m),E(P,N,B,!0,I.length)}return E(I,N,w,!1,I.length)}function _(N,I,w,O){if(w===void 0&&(w={}),O===void 0&&(O=1/0),typeof N=="function")return R(I,N);var P=(0,l.groupSelectors)((0,s.parse)(N)),B=P[0],M=P[1],j=M.map(function(W){return E(I,W,w,!0,O)});return B.length&&j.push(k(I,B,w,O)),j.length===0?[]:j.length===1?j[0]:a.uniqueSort(j.reduce(function(W,$){return u(u([],W,!0),$,!0)}))}e.select=_;function E(N,I,w,O,P){var B=I.findIndex(f.isFilter),M=I.slice(0,B),j=I[B],W=I.length-1===B?P:1/0,$=(0,f.getLimit)(j.name,j.data,W);if($===0)return[];var L=M.length===0&&!Array.isArray(N)?a.getChildren(N).filter(a.isTag):M.length===0?(Array.isArray(N)?N:[N]).filter(a.isTag):O||M.some(s.isTraversal)?k(N,[M],w,$):D(N,[M],w),F=L.slice(0,$),V=g(j.name,F,j.data,w);if(V.length===0||I.length===B+1)return V;var H=I.slice(B+1),Q=H.some(s.isTraversal);if(Q){if((0,s.isTraversal)(H[0])){var ee=H[0].type;(ee===s.SelectorType.Sibling||ee===s.SelectorType.Adjacent)&&(V=(0,o.prepareContext)(V,a,!0)),H.unshift(d)}w=t(t({},w),{relativeSelector:!1,rootFunc:function(ie){return V.includes(ie)}})}else w.rootFunc&&w.rootFunc!==c.trueFunc&&(w=t(t({},w),{rootFunc:c.trueFunc}));return H.some(f.isFilter)?E(V,H,w,!1,P):Q?k(V,[H],w,P):D(V,[H],w)}function k(N,I,w,O){var P=(0,o._compileToken)(I,w,N);return R(N,P,O)}function R(N,I,w){w===void 0&&(w=1/0);var O=(0,o.prepareContext)(N,a,I.shouldTestNextSiblings);return a.find(function(P){return a.isTag(P)&&I(P)},O,!0,w)}function D(N,I,w){var O=(Array.isArray(N)?N:[N]).filter(a.isTag);if(O.length===0)return O;var P=(0,o._compileToken)(I,w);return P===c.trueFunc?O:O.filter(P)}})(Ln)),Ln}var Yg;function CB(){if(Yg)return Ae;Yg=1;var e=Ae&&Ae.__createBinding||(Object.create?(function(L,F,V,H){H===void 0&&(H=V);var Q=Object.getOwnPropertyDescriptor(F,V);(!Q||("get"in Q?!F.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return F[V]}}),Object.defineProperty(L,H,Q)}):(function(L,F,V,H){H===void 0&&(H=V),L[H]=F[V]})),t=Ae&&Ae.__setModuleDefault||(Object.create?(function(L,F){Object.defineProperty(L,"default",{enumerable:!0,value:F})}):function(L,F){L.default=F}),n=Ae&&Ae.__importStar||function(L){if(L&&L.__esModule)return L;var F={};if(L!=null)for(var V in L)V!=="default"&&Object.prototype.hasOwnProperty.call(L,V)&&e(F,L,V);return t(F,L),F},r=Ae&&Ae.__spreadArray||function(L,F,V){if(V||arguments.length===2)for(var H=0,Q=F.length,ee;H<Q;H++)(ee||!(H in F))&&(ee||(ee=Array.prototype.slice.call(F,0,H)),ee[H]=F[H]);return L.concat(ee||Array.prototype.slice.call(F))};Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.addBack=Ae.add=Ae.end=Ae.slice=Ae.index=Ae.toArray=Ae.get=Ae.eq=Ae.last=Ae.first=Ae.has=Ae.not=Ae.is=Ae.filterArray=Ae.filter=Ae.map=Ae.each=Ae.contents=Ae.children=Ae.siblings=Ae.prevUntil=Ae.prevAll=Ae.prev=Ae.nextUntil=Ae.nextAll=Ae.next=Ae.closest=Ae.parentsUntil=Ae.parents=Ae.parent=Ae.find=void 0;var i=An(),u=n(xB()),s=Xu(),o=Gu(),a=br(),c=/^\s*[~+]/;function l(L){var F;if(!L)return this._make([]);var V=this.toArray();if(typeof L!="string"){var H=(0,s.isCheerio)(L)?L.toArray():[L];return this._make(H.filter(function(ie){return V.some(function(me){return(0,o.contains)(me,ie)})}))}var Q=c.test(L)?V:this.children().toArray(),ee={context:V,root:(F=this._root)===null||F===void 0?void 0:F[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(u.select(L,Q,ee))}Ae.find=l;function f(L){return function(F){for(var V=[],H=1;H<arguments.length;H++)V[H-1]=arguments[H];return function(Q){var ee,ie=L(F,this);return Q&&(ie=E(ie,Q,this.options.xmlMode,(ee=this._root)===null||ee===void 0?void 0:ee[0])),this._make(this.length>1&&ie.length>1?V.reduce(function(me,_e){return _e(me)},ie):ie)}}}var h=f(function(L,F){for(var V,H=[],Q=0;Q<F.length;Q++){var ee=L(F[Q]);H.push(ee)}return(V=new Array).concat.apply(V,H)}),d=f(function(L,F){for(var V=[],H=0;H<F.length;H++){var Q=L(F[H]);Q!==null&&V.push(Q)}return V});function m(L){for(var F=[],V=1;V<arguments.length;V++)F[V-1]=arguments[V];var H=null,Q=f(function(ee,ie){var me=[];return(0,s.domEach)(ie,function(_e){for(var se;(se=ee(_e))&&!(H!=null&&H(se,me.length));_e=se)me.push(se)}),me}).apply(void 0,r([L],F,!1));return function(ee,ie){var me=this;H=typeof ee=="string"?function(se){return u.is(se,ee,me.options)}:ee?p(ee):null;var _e=Q.call(this,ie);return H=null,_e}}function A(L){return Array.from(new Set(L))}Ae.parent=d(function(L){var F=L.parent;return F&&!(0,i.isDocument)(F)?F:null},A),Ae.parents=h(function(L){for(var F=[];L.parent&&!(0,i.isDocument)(L.parent);)F.push(L.parent),L=L.parent;return F},a.uniqueSort,function(L){return L.reverse()}),Ae.parentsUntil=m(function(L){var F=L.parent;return F&&!(0,i.isDocument)(F)?F:null},a.uniqueSort,function(L){return L.reverse()});function x(L){var F,V=[];if(!L)return this._make(V);var H={xmlMode:this.options.xmlMode,root:(F=this._root)===null||F===void 0?void 0:F[0]},Q=typeof L=="string"?function(ee){return u.is(ee,L,H)}:p(L);return(0,s.domEach)(this,function(ee){for(;ee&&(0,s.isTag)(ee);){if(Q(ee,0)){V.includes(ee)||V.push(ee);break}ee=ee.parent}}),this._make(V)}Ae.closest=x,Ae.next=d(function(L){return(0,a.nextElementSibling)(L)}),Ae.nextAll=h(function(L){for(var F=[];L.next;)L=L.next,(0,s.isTag)(L)&&F.push(L);return F},A),Ae.nextUntil=m(function(L){return(0,a.nextElementSibling)(L)},A),Ae.prev=d(function(L){return(0,a.prevElementSibling)(L)}),Ae.prevAll=h(function(L){for(var F=[];L.prev;)L=L.prev,(0,s.isTag)(L)&&F.push(L);return F},A),Ae.prevUntil=m(function(L){return(0,a.prevElementSibling)(L)},A),Ae.siblings=h(function(L){return(0,a.getSiblings)(L).filter(function(F){return(0,s.isTag)(F)&&F!==L})},a.uniqueSort),Ae.children=h(function(L){return(0,a.getChildren)(L).filter(s.isTag)},A);function g(){var L=this.toArray().reduce(function(F,V){return(0,i.hasChildren)(V)?F.concat(V.children):F},[]);return this._make(L)}Ae.contents=g;function b(L){for(var F=0,V=this.length;F<V&&L.call(this[F],F,this[F])!==!1;)++F;return this}Ae.each=b;function v(L){for(var F=[],V=0;V<this.length;V++){var H=this[V],Q=L.call(H,V,H);Q!=null&&(F=F.concat(Q))}return this._make(F)}Ae.map=v;function p(L){return typeof L=="function"?function(F,V){return L.call(F,V,F)}:(0,s.isCheerio)(L)?function(F){return Array.prototype.includes.call(L,F)}:function(F){return L===F}}function _(L){var F;return this._make(E(this.toArray(),L,this.options.xmlMode,(F=this._root)===null||F===void 0?void 0:F[0]))}Ae.filter=_;function E(L,F,V,H){return typeof F=="string"?u.filter(F,L,{xmlMode:V,root:H}):L.filter(p(F))}Ae.filterArray=E;function k(L){var F=this.toArray();return typeof L=="string"?u.some(F.filter(s.isTag),L,this.options):L?F.some(p(L)):!1}Ae.is=k;function R(L){var F=this.toArray();if(typeof L=="string"){var V=new Set(u.filter(L,F,this.options));F=F.filter(function(Q){return!V.has(Q)})}else{var H=p(L);F=F.filter(function(Q,ee){return!H(Q,ee)})}return this._make(F)}Ae.not=R;function D(L){var F=this;return this.filter(typeof L=="string"?":has(".concat(L,")"):function(V,H){return F._make(H).find(L).length>0})}Ae.has=D;function N(){return this.length>1?this._make(this[0]):this}Ae.first=N;function I(){return this.length>0?this._make(this[this.length-1]):this}Ae.last=I;function w(L){var F;return L=+L,L===0&&this.length<=1?this:(L<0&&(L=this.length+L),this._make((F=this[L])!==null&&F!==void 0?F:[]))}Ae.eq=w;function O(L){return L==null?this.toArray():this[L<0?this.length+L:L]}Ae.get=O;function P(){return Array.prototype.slice.call(this)}Ae.toArray=P;function B(L){var F,V;return L==null?(F=this.parent().children(),V=this[0]):typeof L=="string"?(F=this._make(L),V=this[0]):(F=this,V=(0,s.isCheerio)(L)?L[0]:L),Array.prototype.indexOf.call(F,V)}Ae.index=B;function M(L,F){return this._make(Array.prototype.slice.call(this,L,F))}Ae.slice=M;function j(){var L;return(L=this.prevObject)!==null&&L!==void 0?L:this._make([])}Ae.end=j;function W(L,F){var V=this._make(L,F),H=(0,a.uniqueSort)(r(r([],this.get(),!0),V.get(),!0));return this._make(H)}Ae.add=W;function $(L){return this.prevObject?this.add(L?this.prevObject.filter(L):this.prevObject):this}return Ae.addBack=$,Ae}var ze={},Ri={},Kg;function cy(){if(Kg)return Ri;Kg=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.update=Ri.getParse=void 0;var e=br(),t=An();function n(i){return function(s,o,a,c){if(typeof Buffer!="undefined"&&Buffer.isBuffer(s)&&(s=s.toString()),typeof s=="string")return i(s,o,a,c);var l=s;if(!Array.isArray(l)&&(0,t.isDocument)(l))return l;var f=new t.Document([]);return r(l,f),f}}Ri.getParse=n;function r(i,u){var s=Array.isArray(i)?i:[i];u?u.children=s:u=null;for(var o=0;o<s.length;o++){var a=s[o];a.parent&&a.parent.children!==s&&(0,e.removeElement)(a),u?(a.prev=s[o-1]||null,a.next=s[o+1]||null):a.prev=a.next=null,a.parent=u}return u}return Ri.update=r,Ri}var $g;function NB(){if($g)return ze;$g=1;var e=ze&&ze.__spreadArray||function(D,N,I){if(I||arguments.length===2)for(var w=0,O=N.length,P;w<O;w++)(P||!(w in N))&&(P||(P=Array.prototype.slice.call(N,0,w)),P[w]=N[w]);return D.concat(P||Array.prototype.slice.call(N))};Object.defineProperty(ze,"__esModule",{value:!0}),ze.clone=ze.text=ze.toString=ze.html=ze.empty=ze.replaceWith=ze.remove=ze.insertBefore=ze.before=ze.insertAfter=ze.after=ze.wrapAll=ze.unwrap=ze.wrapInner=ze.wrap=ze.prepend=ze.append=ze.prependTo=ze.appendTo=ze._makeDomArray=void 0;var t=An(),n=cy(),r=Gu(),i=Xu(),u=br();function s(D,N){var I=this;return D==null?[]:(0,i.isCheerio)(D)?N?(0,i.cloneDom)(D.get()):D.get():Array.isArray(D)?D.reduce(function(w,O){return w.concat(I._makeDomArray(O,N))},[]):typeof D=="string"?this._parse(D,this.options,!1,null).children:N?(0,i.cloneDom)([D]):[D]}ze._makeDomArray=s;function o(D){return function(){for(var N=this,I=[],w=0;w<arguments.length;w++)I[w]=arguments[w];var O=this.length-1;return(0,i.domEach)(this,function(P,B){if((0,t.hasChildren)(P)){var M=typeof I[0]=="function"?I[0].call(P,B,N._render(P.children)):I,j=N._makeDomArray(M,B<O);D(j,P.children,P)}})}}function a(D,N,I,w,O){for(var P,B,M=e([N,I],w,!0),j=N===0?null:D[N-1],W=N+I>=D.length?null:D[N+I],$=0;$<w.length;++$){var L=w[$],F=L.parent;if(F){var V=F.children,H=V.indexOf(L);H>-1&&(F.children.splice(H,1),O===F&&N>H&&M[0]--)}L.parent=O,L.prev&&(L.prev.next=(P=L.next)!==null&&P!==void 0?P:null),L.next&&(L.next.prev=(B=L.prev)!==null&&B!==void 0?B:null),L.prev=$===0?j:w[$-1],L.next=$===w.length-1?W:w[$+1]}return j&&(j.next=w[0]),W&&(W.prev=w[w.length-1]),D.splice.apply(D,M)}function c(D){var N=(0,i.isCheerio)(D)?D:this._make(D);return N.append(this),this}ze.appendTo=c;function l(D){var N=(0,i.isCheerio)(D)?D:this._make(D);return N.prepend(this),this}ze.prependTo=l,ze.append=o(function(D,N,I){a(N,N.length,0,D,I)}),ze.prepend=o(function(D,N,I){a(N,0,0,D,I)});function f(D){return function(N){for(var I=this.length-1,w=this.parents().last(),O=0;O<this.length;O++){var P=this[O],B=typeof N=="function"?N.call(P,O,P):typeof N=="string"&&!(0,i.isHtml)(N)?w.find(N).clone():N,M=this._makeDomArray(B,O<I)[0];if(!(!M||!(0,t.hasChildren)(M))){for(var j=M,W=0;W<j.children.length;){var $=j.children[W];(0,i.isTag)($)?(j=$,W=0):W++}D(P,j,[M])}}return this}}ze.wrap=f(function(D,N,I){var w=D.parent;if(w){var O=w.children,P=O.indexOf(D);(0,n.update)([D],N),a(O,P,0,I,w)}}),ze.wrapInner=f(function(D,N,I){(0,t.hasChildren)(D)&&((0,n.update)(D.children,N),(0,n.update)(I,D))});function h(D){var N=this;return this.parent(D).not("body").each(function(I,w){N._make(w).replaceWith(w.children)}),this}ze.unwrap=h;function d(D){var N=this[0];if(N){for(var I=this._make(typeof D=="function"?D.call(N,0,N):D).insertBefore(N),w=void 0,O=0;O<I.length;O++)I[O].type==="tag"&&(w=I[O]);for(var P=0;w&&P<w.children.length;){var B=w.children[P];B.type==="tag"?(w=B,P=0):P++}w&&this._make(w).append(this)}return this}ze.wrapAll=d;function m(){for(var D=this,N=[],I=0;I<arguments.length;I++)N[I]=arguments[I];var w=this.length-1;return(0,i.domEach)(this,function(O,P){var B=O.parent;if(!(!(0,t.hasChildren)(O)||!B)){var M=B.children,j=M.indexOf(O);if(!(j<0)){var W=typeof N[0]=="function"?N[0].call(O,P,D._render(O.children)):N,$=D._makeDomArray(W,P<w);a(M,j+1,0,$,B)}}})}ze.after=m;function A(D){var N=this;typeof D=="string"&&(D=this._make(D)),this.remove();var I=[];return this._makeDomArray(D).forEach(function(w){var O=N.clone().toArray(),P=w.parent;if(P){var B=P.children,M=B.indexOf(w);M<0||(a(B,M+1,0,O,P),I.push.apply(I,O))}}),this._make(I)}ze.insertAfter=A;function x(){for(var D=this,N=[],I=0;I<arguments.length;I++)N[I]=arguments[I];var w=this.length-1;return(0,i.domEach)(this,function(O,P){var B=O.parent;if(!(!(0,t.hasChildren)(O)||!B)){var M=B.children,j=M.indexOf(O);if(!(j<0)){var W=typeof N[0]=="function"?N[0].call(O,P,D._render(O.children)):N,$=D._makeDomArray(W,P<w);a(M,j,0,$,B)}}})}ze.before=x;function g(D){var N=this,I=this._make(D);this.remove();var w=[];return(0,i.domEach)(I,function(O){var P=N.clone().toArray(),B=O.parent;if(B){var M=B.children,j=M.indexOf(O);j<0||(a(M,j,0,P,B),w.push.apply(w,P))}}),this._make(w)}ze.insertBefore=g;function b(D){var N=D?this.filter(D):this;return(0,i.domEach)(N,function(I){(0,u.removeElement)(I),I.prev=I.next=I.parent=null}),this}ze.remove=b;function v(D){var N=this;return(0,i.domEach)(this,function(I,w){var O=I.parent;if(O){var P=O.children,B=typeof D=="function"?D.call(I,w,I):D,M=N._makeDomArray(B);(0,n.update)(M,null);var j=P.indexOf(I);a(P,j,1,M,O),M.includes(I)||(I.parent=I.prev=I.next=null)}})}ze.replaceWith=v;function p(){return(0,i.domEach)(this,function(D){(0,t.hasChildren)(D)&&(D.children.forEach(function(N){N.next=N.prev=N.parent=null}),D.children.length=0)})}ze.empty=p;function _(D){var N=this;if(D===void 0){var I=this[0];return!I||!(0,t.hasChildren)(I)?null:this._render(I.children)}return(0,i.domEach)(this,function(w){if((0,t.hasChildren)(w)){w.children.forEach(function(P){P.next=P.prev=P.parent=null});var O=(0,i.isCheerio)(D)?D.toArray():N._parse("".concat(D),N.options,!1,w).children;(0,n.update)(O,w)}})}ze.html=_;function E(){return this._render(this)}ze.toString=E;function k(D){var N=this;return D===void 0?(0,r.text)(this):typeof D=="function"?(0,i.domEach)(this,function(I,w){return N._make(I).text(D.call(I,w,(0,r.text)([I])))}):(0,i.domEach)(this,function(I){if((0,t.hasChildren)(I)){I.children.forEach(function(O){O.next=O.prev=O.parent=null});var w=new t.Text("".concat(D));(0,n.update)(w,I)}})}ze.text=k;function R(){return this._make((0,i.cloneDom)(this.get()))}return ze.clone=R,ze}var gs={},Qg;function SB(){if(Qg)return gs;Qg=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.css=void 0;var e=Xu();function t(s,o){if(s!=null&&o!=null||typeof s=="object"&&!Array.isArray(s))return(0,e.domEach)(this,function(a,c){(0,e.isTag)(a)&&n(a,s,o,c)});if(this.length!==0)return r(this[0],s)}gs.css=t;function n(s,o,a,c){if(typeof o=="string"){var l=r(s),f=typeof a=="function"?a.call(s,c,l[o]):a;f===""?delete l[o]:f!=null&&(l[o]=f),s.attribs.style=i(l)}else typeof o=="object"&&Object.keys(o).forEach(function(h,d){n(s,h,o[h],d)})}function r(s,o){if(!(!s||!(0,e.isTag)(s))){var a=u(s.attribs.style);if(typeof o=="string")return a[o];if(Array.isArray(o)){var c={};return o.forEach(function(l){a[l]!=null&&(c[l]=a[l])}),c}return a}}function i(s){return Object.keys(s).reduce(function(o,a){return"".concat(o).concat(o?" ":"").concat(a,": ").concat(s[a],";")},"")}function u(s){if(s=(s||"").trim(),!s)return{};for(var o={},a,c=0,l=s.split(";");c<l.length;c++){var f=l[c],h=f.indexOf(":");if(h<1||h===f.length-1){var d=f.trimEnd();d.length>0&&a!==void 0&&(o[a]+=";".concat(d))}else a=f.slice(0,h).trim(),o[a]=f.slice(h+1).trim()}return o}return gs}var Li={},Xg;function IB(){if(Xg)return Li;Xg=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.serializeArray=Li.serialize=void 0;var e=Xu(),t="input,select,textarea,keygen",n=/%20/g,r=/\r?\n/g;function i(){var s=this.serializeArray(),o=s.map(function(a){return"".concat(encodeURIComponent(a.name),"=").concat(encodeURIComponent(a.value))});return o.join("&").replace(n,"+")}Li.serialize=i;function u(){var s=this;return this.map(function(o,a){var c=s._make(a);return(0,e.isTag)(a)&&a.name==="form"?c.find(t).toArray():c.filter(t).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(o,a){var c,l=s._make(a),f=l.attr("name"),h=(c=l.val())!==null&&c!==void 0?c:"";return Array.isArray(h)?h.map(function(d){return{name:f,value:d.replace(r,`\r
`)}}):{name:f,value:h.replace(r,`\r
`)}}).toArray()}return Li.serializeArray=u,Li}var Jg;function vB(){if(Jg)return Jn;Jg=1;var e=Jn&&Jn.__createBinding||(Object.create?(function(c,l,f,h){h===void 0&&(h=f);var d=Object.getOwnPropertyDescriptor(l,f);(!d||("get"in d?!l.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return l[f]}}),Object.defineProperty(c,h,d)}):(function(c,l,f,h){h===void 0&&(h=f),c[h]=l[f]})),t=Jn&&Jn.__setModuleDefault||(Object.create?(function(c,l){Object.defineProperty(c,"default",{enumerable:!0,value:l})}):function(c,l){c.default=l}),n=Jn&&Jn.__importStar||function(c){if(c&&c.__esModule)return c;var l={};if(c!=null)for(var f in c)f!=="default"&&Object.prototype.hasOwnProperty.call(c,f)&&e(l,c,f);return t(l,c),l};Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.Cheerio=void 0;var r=n(tB()),i=n(CB()),u=n(NB()),s=n(SB()),o=n(IB()),a=(function(){function c(l,f,h){if(this.length=0,this.options=h,this._root=f,l){for(var d=0;d<l.length;d++)this[d]=l[d];this.length=l.length}}return c})();return Jn.Cheerio=a,a.prototype.cheerio="[cheerio object]",a.prototype.splice=Array.prototype.splice,a.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(a.prototype,r,i,u,s,o),Jn}var Zg;function kB(){if(Zg)return En;Zg=1;var e=En&&En.__extends||(function(){var f=function(h,d){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,A){m.__proto__=A}||function(m,A){for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(m[x]=A[x])},f(h,d)};return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(h,d);function m(){this.constructor=h}h.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}})(),t=En&&En.__assign||function(){return t=Object.assign||function(f){for(var h,d=1,m=arguments.length;d<m;d++){h=arguments[d];for(var A in h)Object.prototype.hasOwnProperty.call(h,A)&&(f[A]=h[A])}return f},t.apply(this,arguments)},n=En&&En.__createBinding||(Object.create?(function(f,h,d,m){m===void 0&&(m=d);var A=Object.getOwnPropertyDescriptor(h,d);(!A||("get"in A?!h.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return h[d]}}),Object.defineProperty(f,m,A)}):(function(f,h,d,m){m===void 0&&(m=d),f[m]=h[d]})),r=En&&En.__setModuleDefault||(Object.create?(function(f,h){Object.defineProperty(f,"default",{enumerable:!0,value:h})}):function(f,h){f.default=h}),i=En&&En.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var d in f)d!=="default"&&Object.prototype.hasOwnProperty.call(f,d)&&n(h,f,d);return r(h,f),h};Object.defineProperty(En,"__esModule",{value:!0}),En.getLoad=void 0;var u=i(Q_()),s=i(Gu()),o=vB(),a=Xu();function c(f,h){return function d(m,A,x){if(x===void 0&&(x=!0),m==null)throw new Error("cheerio.load() expects a string");var g=t(t({},u.default),(0,u.flatten)(A)),b=f(m,g,x,null),v=(function(_){e(E,_);function E(){return _!==null&&_.apply(this,arguments)||this}return E.prototype._make=function(k,R){var D=p(k,R);return D.prevObject=this,D},E.prototype._parse=function(k,R,D,N){return f(k,R,D,N)},E.prototype._render=function(k){return h(k,this.options)},E})(o.Cheerio);function p(_,E,k,R){if(k===void 0&&(k=b),_&&(0,a.isCheerio)(_))return _;var D=t(t({},g),(0,u.flatten)(R)),N=typeof k=="string"?[f(k,D,!1,null)]:"length"in k?k:[k],I=(0,a.isCheerio)(N)?N:new v(N,null,D);if(I._root=I,!_)return new v(void 0,I,D);var w=typeof _=="string"&&(0,a.isHtml)(_)?f(_,D,!1,null).children:l(_)?[_]:Array.isArray(_)?_:void 0,O=new v(w,I,D);if(w)return O;if(typeof _!="string")throw new Error("Unexpected type of selector");var P=_,B=E?typeof E=="string"?(0,a.isHtml)(E)?new v([f(E,D,!1,null)],I,D):(P="".concat(E," ").concat(P),I):(0,a.isCheerio)(E)?E:new v(Array.isArray(E)?E:[E],I,D):I;return B?B.find(P):O}return Object.assign(p,s,{load:d,_root:b,_options:g,fn:v.prototype,prototype:v.prototype}),p}}En.getLoad=c;function l(f){return!!f.name||f.type==="root"||f.type==="text"||f.type==="comment"}return En}var Dr={},Id={},bs={},Pi={},Es={},Sn={},eb;function ch(){if(eb)return Sn;eb=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.SEQUENCES=Sn.CODE_POINTS=Sn.REPLACEMENT_CHARACTER=void 0,Sn.isSurrogate=n,Sn.isSurrogatePair=r,Sn.getSurrogatePairCodePoint=i,Sn.isControlCodePoint=u,Sn.isUndefinedCodePoint=s;const e=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);Sn.REPLACEMENT_CHARACTER="�";var t;(function(o){o[o.EOF=-1]="EOF",o[o.NULL=0]="NULL",o[o.TABULATION=9]="TABULATION",o[o.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",o[o.LINE_FEED=10]="LINE_FEED",o[o.FORM_FEED=12]="FORM_FEED",o[o.SPACE=32]="SPACE",o[o.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",o[o.QUOTATION_MARK=34]="QUOTATION_MARK",o[o.AMPERSAND=38]="AMPERSAND",o[o.APOSTROPHE=39]="APOSTROPHE",o[o.HYPHEN_MINUS=45]="HYPHEN_MINUS",o[o.SOLIDUS=47]="SOLIDUS",o[o.DIGIT_0=48]="DIGIT_0",o[o.DIGIT_9=57]="DIGIT_9",o[o.SEMICOLON=59]="SEMICOLON",o[o.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",o[o.EQUALS_SIGN=61]="EQUALS_SIGN",o[o.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",o[o.QUESTION_MARK=63]="QUESTION_MARK",o[o.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",o[o.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",o[o.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",o[o.GRAVE_ACCENT=96]="GRAVE_ACCENT",o[o.LATIN_SMALL_A=97]="LATIN_SMALL_A",o[o.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(t||(Sn.CODE_POINTS=t={})),Sn.SEQUENCES={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function n(o){return o>=55296&&o<=57343}function r(o){return o>=56320&&o<=57343}function i(o,a){return(o-55296)*1024+9216+a}function u(o){return o!==32&&o!==10&&o!==13&&o!==9&&o!==12&&o>=1&&o<=31||o>=127&&o<=159}function s(o){return o>=64976&&o<=65007||e.has(o)}return Sn}var Ts={},tb;function uc(){if(tb)return Ts;tb=1,Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.ERR=void 0;var e;return(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(e||(Ts.ERR=e={})),Ts}var nb;function wB(){if(nb)return Es;nb=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.Preprocessor=void 0;const e=ch(),t=uc(),n=65536;class r{constructor(u){this.handler=u,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=n,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(u,s){const{line:o,col:a,offset:c}=this,l=a+s,f=c+s;return{code:u,startLine:o,endLine:o,startCol:l,endCol:l,startOffset:f,endOffset:f}}_err(u){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(u,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(u){if(this.pos!==this.html.length-1){const s=this.html.charCodeAt(this.pos+1);if((0,e.isSurrogatePair)(s))return this.pos++,this._addGap(),(0,e.getSurrogatePairCodePoint)(u,s)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,e.CODE_POINTS.EOF;return this._err(t.ERR.surrogateInInputStream),u}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(u,s){this.html.length>0?this.html+=u:this.html=u,this.endOfChunkHit=!1,this.lastChunkWritten=s}insertHtmlAtCurrentPos(u){this.html=this.html.substring(0,this.pos+1)+u+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(u,s){if(this.pos+u.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(s)return this.html.startsWith(u,this.pos);for(let o=0;o<u.length;o++)if((this.html.charCodeAt(this.pos+o)|32)!==u.charCodeAt(o))return!1;return!0}peek(u){const s=this.pos+u;if(s>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,e.CODE_POINTS.EOF;const o=this.html.charCodeAt(s);return o===e.CODE_POINTS.CARRIAGE_RETURN?e.CODE_POINTS.LINE_FEED:o}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,e.CODE_POINTS.EOF;let u=this.html.charCodeAt(this.pos);return u===e.CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,e.CODE_POINTS.LINE_FEED):u===e.CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,(0,e.isSurrogate)(u)&&(u=this._processSurrogate(u)),this.handler.onParseError===null||u>31&&u<127||u===e.CODE_POINTS.LINE_FEED||u===e.CODE_POINTS.CARRIAGE_RETURN||u>159&&u<64976||this._checkForProblematicCharacters(u),u)}_checkForProblematicCharacters(u){(0,e.isControlCodePoint)(u)?this._err(t.ERR.controlCharacterInInputStream):(0,e.isUndefinedCodePoint)(u)&&this._err(t.ERR.noncharacterInInputStream)}retreat(u){for(this.pos-=u;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}return Es.Preprocessor=r,Es}var bu={},rb;function dh(){if(rb)return bu;rb=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.TokenType=void 0,bu.getTokenAttr=t;var e;(function(n){n[n.CHARACTER=0]="CHARACTER",n[n.NULL_CHARACTER=1]="NULL_CHARACTER",n[n.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",n[n.START_TAG=3]="START_TAG",n[n.END_TAG=4]="END_TAG",n[n.COMMENT=5]="COMMENT",n[n.DOCTYPE=6]="DOCTYPE",n[n.EOF=7]="EOF",n[n.HIBERNATION=8]="HIBERNATION"})(e||(bu.TokenType=e={}));function t(n,r){for(let i=n.attrs.length-1;i>=0;i--)if(n.attrs[i].name===r)return n.attrs[i].value;return null}return bu}var vd={},_s={},ib;function ub(){return ib||(ib=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.htmlDecodeTree=void 0,_s.htmlDecodeTree=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0)))),_s}var ys={},sb;function ab(){return sb||(sb=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.xmlDecodeTree=void 0,ys.xmlDecodeTree=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(e=>e.charCodeAt(0)))),ys}var kd={},ob;function lb(){return ob||(ob=1,(function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.fromCodePoint=void 0,e.replaceCodePoint=r,e.decodeCodePoint=i;const n=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);e.fromCodePoint=(t=String.fromCodePoint)!==null&&t!==void 0?t:function(u){let s="";return u>65535&&(u-=65536,s+=String.fromCharCode(u>>>10&1023|55296),u=56320|u&1023),s+=String.fromCharCode(u),s};function r(u){var s;return u>=55296&&u<=57343||u>1114111?65533:(s=n.get(u))!==null&&s!==void 0?s:u}function i(u){return(0,e.fromCodePoint)(r(u))}})(kd)),kd}var cb;function OB(){return cb||(cb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=e.EntityDecoder=e.DecodingMode=e.BinTrieFlags=void 0,e.determineBranch=A,e.decodeHTML=b,e.decodeHTMLAttribute=v,e.decodeHTMLStrict=p,e.decodeXML=_;const t=ub(),n=ab(),r=lb();var i;(function(D){D[D.NUM=35]="NUM",D[D.SEMI=59]="SEMI",D[D.EQUALS=61]="EQUALS",D[D.ZERO=48]="ZERO",D[D.NINE=57]="NINE",D[D.LOWER_A=97]="LOWER_A",D[D.LOWER_F=102]="LOWER_F",D[D.LOWER_X=120]="LOWER_X",D[D.LOWER_Z=122]="LOWER_Z",D[D.UPPER_A=65]="UPPER_A",D[D.UPPER_F=70]="UPPER_F",D[D.UPPER_Z=90]="UPPER_Z"})(i||(i={}));const u=32;var s;(function(D){D[D.VALUE_LENGTH=49152]="VALUE_LENGTH",D[D.BRANCH_LENGTH=16256]="BRANCH_LENGTH",D[D.JUMP_TABLE=127]="JUMP_TABLE"})(s||(e.BinTrieFlags=s={}));function o(D){return D>=i.ZERO&&D<=i.NINE}function a(D){return D>=i.UPPER_A&&D<=i.UPPER_F||D>=i.LOWER_A&&D<=i.LOWER_F}function c(D){return D>=i.UPPER_A&&D<=i.UPPER_Z||D>=i.LOWER_A&&D<=i.LOWER_Z||o(D)}function l(D){return D===i.EQUALS||c(D)}var f;(function(D){D[D.EntityStart=0]="EntityStart",D[D.NumericStart=1]="NumericStart",D[D.NumericDecimal=2]="NumericDecimal",D[D.NumericHex=3]="NumericHex",D[D.NamedEntity=4]="NamedEntity"})(f||(f={}));var h;(function(D){D[D.Legacy=0]="Legacy",D[D.Strict=1]="Strict",D[D.Attribute=2]="Attribute"})(h||(e.DecodingMode=h={}));class d{constructor(N,I,w){this.decodeTree=N,this.emitCodePoint=I,this.errors=w,this.state=f.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=h.Strict}startEntity(N){this.decodeMode=N,this.state=f.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(N,I){switch(this.state){case f.EntityStart:return N.charCodeAt(I)===i.NUM?(this.state=f.NumericStart,this.consumed+=1,this.stateNumericStart(N,I+1)):(this.state=f.NamedEntity,this.stateNamedEntity(N,I));case f.NumericStart:return this.stateNumericStart(N,I);case f.NumericDecimal:return this.stateNumericDecimal(N,I);case f.NumericHex:return this.stateNumericHex(N,I);case f.NamedEntity:return this.stateNamedEntity(N,I)}}stateNumericStart(N,I){return I>=N.length?-1:(N.charCodeAt(I)|u)===i.LOWER_X?(this.state=f.NumericHex,this.consumed+=1,this.stateNumericHex(N,I+1)):(this.state=f.NumericDecimal,this.stateNumericDecimal(N,I))}addToNumericResult(N,I,w,O){if(I!==w){const P=w-I;this.result=this.result*Math.pow(O,P)+Number.parseInt(N.substr(I,P),O),this.consumed+=P}}stateNumericHex(N,I){const w=I;for(;I<N.length;){const O=N.charCodeAt(I);if(o(O)||a(O))I+=1;else return this.addToNumericResult(N,w,I,16),this.emitNumericEntity(O,3)}return this.addToNumericResult(N,w,I,16),-1}stateNumericDecimal(N,I){const w=I;for(;I<N.length;){const O=N.charCodeAt(I);if(o(O))I+=1;else return this.addToNumericResult(N,w,I,10),this.emitNumericEntity(O,2)}return this.addToNumericResult(N,w,I,10),-1}emitNumericEntity(N,I){var w;if(this.consumed<=I)return(w=this.errors)===null||w===void 0||w.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(N===i.SEMI)this.consumed+=1;else if(this.decodeMode===h.Strict)return 0;return this.emitCodePoint((0,r.replaceCodePoint)(this.result),this.consumed),this.errors&&(N!==i.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(N,I){const{decodeTree:w}=this;let O=w[this.treeIndex],P=(O&s.VALUE_LENGTH)>>14;for(;I<N.length;I++,this.excess++){const B=N.charCodeAt(I);if(this.treeIndex=A(w,O,this.treeIndex+Math.max(1,P),B),this.treeIndex<0)return this.result===0||this.decodeMode===h.Attribute&&(P===0||l(B))?0:this.emitNotTerminatedNamedEntity();if(O=w[this.treeIndex],P=(O&s.VALUE_LENGTH)>>14,P!==0){if(B===i.SEMI)return this.emitNamedEntityData(this.treeIndex,P,this.consumed+this.excess);this.decodeMode!==h.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var N;const{result:I,decodeTree:w}=this,O=(w[I]&s.VALUE_LENGTH)>>14;return this.emitNamedEntityData(I,O,this.consumed),(N=this.errors)===null||N===void 0||N.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(N,I,w){const{decodeTree:O}=this;return this.emitCodePoint(I===1?O[N]&~s.VALUE_LENGTH:O[N+1],w),I===3&&this.emitCodePoint(O[N+2],w),w}end(){var N;switch(this.state){case f.NamedEntity:return this.result!==0&&(this.decodeMode!==h.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case f.NumericDecimal:return this.emitNumericEntity(0,2);case f.NumericHex:return this.emitNumericEntity(0,3);case f.NumericStart:return(N=this.errors)===null||N===void 0||N.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case f.EntityStart:return 0}}}e.EntityDecoder=d;function m(D){let N="";const I=new d(D,w=>N+=(0,r.fromCodePoint)(w));return function(O,P){let B=0,M=0;for(;(M=O.indexOf("&",M))>=0;){N+=O.slice(B,M),I.startEntity(P);const W=I.write(O,M+1);if(W<0){B=M+I.end();break}B=M+W,M=W===0?B+1:B}const j=N+O.slice(B);return N="",j}}function A(D,N,I,w){const O=(N&s.BRANCH_LENGTH)>>7,P=N&s.JUMP_TABLE;if(O===0)return P!==0&&w===P?I:-1;if(P){const j=w-P;return j<0||j>=O?-1:D[I+j]-1}let B=I,M=B+O-1;for(;B<=M;){const j=B+M>>>1,W=D[j];if(W<w)B=j+1;else if(W>w)M=j-1;else return D[j+O]}return-1}const x=m(t.htmlDecodeTree),g=m(n.xmlDecodeTree);function b(D,N=h.Legacy){return x(D,N)}function v(D){return x(D,h.Attribute)}function p(D){return x(D,h.Strict)}function _(D){return g(D,h.Strict)}var E=ub();Object.defineProperty(e,"htmlDecodeTree",{enumerable:!0,get:function(){return E.htmlDecodeTree}});var k=ab();Object.defineProperty(e,"xmlDecodeTree",{enumerable:!0,get:function(){return k.xmlDecodeTree}});var R=lb();Object.defineProperty(e,"decodeCodePoint",{enumerable:!0,get:function(){return R.decodeCodePoint}}),Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return R.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return R.fromCodePoint}})})(vd)),vd}var Wt={},db;function Ai(){if(db)return Wt;db=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.NUMBERED_HEADERS=Wt.SPECIAL_ELEMENTS=Wt.TAG_ID=Wt.TAG_NAMES=Wt.DOCUMENT_MODE=Wt.ATTRS=Wt.NS=void 0,Wt.getTagID=s,Wt.hasUnescapedText=c;var e;(function(l){l.HTML="http://www.w3.org/1999/xhtml",l.MATHML="http://www.w3.org/1998/Math/MathML",l.SVG="http://www.w3.org/2000/svg",l.XLINK="http://www.w3.org/1999/xlink",l.XML="http://www.w3.org/XML/1998/namespace",l.XMLNS="http://www.w3.org/2000/xmlns/"})(e||(Wt.NS=e={}));var t;(function(l){l.TYPE="type",l.ACTION="action",l.ENCODING="encoding",l.PROMPT="prompt",l.NAME="name",l.COLOR="color",l.FACE="face",l.SIZE="size"})(t||(Wt.ATTRS=t={}));var n;(function(l){l.NO_QUIRKS="no-quirks",l.QUIRKS="quirks",l.LIMITED_QUIRKS="limited-quirks"})(n||(Wt.DOCUMENT_MODE=n={}));var r;(function(l){l.A="a",l.ADDRESS="address",l.ANNOTATION_XML="annotation-xml",l.APPLET="applet",l.AREA="area",l.ARTICLE="article",l.ASIDE="aside",l.B="b",l.BASE="base",l.BASEFONT="basefont",l.BGSOUND="bgsound",l.BIG="big",l.BLOCKQUOTE="blockquote",l.BODY="body",l.BR="br",l.BUTTON="button",l.CAPTION="caption",l.CENTER="center",l.CODE="code",l.COL="col",l.COLGROUP="colgroup",l.DD="dd",l.DESC="desc",l.DETAILS="details",l.DIALOG="dialog",l.DIR="dir",l.DIV="div",l.DL="dl",l.DT="dt",l.EM="em",l.EMBED="embed",l.FIELDSET="fieldset",l.FIGCAPTION="figcaption",l.FIGURE="figure",l.FONT="font",l.FOOTER="footer",l.FOREIGN_OBJECT="foreignObject",l.FORM="form",l.FRAME="frame",l.FRAMESET="frameset",l.H1="h1",l.H2="h2",l.H3="h3",l.H4="h4",l.H5="h5",l.H6="h6",l.HEAD="head",l.HEADER="header",l.HGROUP="hgroup",l.HR="hr",l.HTML="html",l.I="i",l.IMG="img",l.IMAGE="image",l.INPUT="input",l.IFRAME="iframe",l.KEYGEN="keygen",l.LABEL="label",l.LI="li",l.LINK="link",l.LISTING="listing",l.MAIN="main",l.MALIGNMARK="malignmark",l.MARQUEE="marquee",l.MATH="math",l.MENU="menu",l.META="meta",l.MGLYPH="mglyph",l.MI="mi",l.MO="mo",l.MN="mn",l.MS="ms",l.MTEXT="mtext",l.NAV="nav",l.NOBR="nobr",l.NOFRAMES="noframes",l.NOEMBED="noembed",l.NOSCRIPT="noscript",l.OBJECT="object",l.OL="ol",l.OPTGROUP="optgroup",l.OPTION="option",l.P="p",l.PARAM="param",l.PLAINTEXT="plaintext",l.PRE="pre",l.RB="rb",l.RP="rp",l.RT="rt",l.RTC="rtc",l.RUBY="ruby",l.S="s",l.SCRIPT="script",l.SEARCH="search",l.SECTION="section",l.SELECT="select",l.SOURCE="source",l.SMALL="small",l.SPAN="span",l.STRIKE="strike",l.STRONG="strong",l.STYLE="style",l.SUB="sub",l.SUMMARY="summary",l.SUP="sup",l.TABLE="table",l.TBODY="tbody",l.TEMPLATE="template",l.TEXTAREA="textarea",l.TFOOT="tfoot",l.TD="td",l.TH="th",l.THEAD="thead",l.TITLE="title",l.TR="tr",l.TRACK="track",l.TT="tt",l.U="u",l.UL="ul",l.SVG="svg",l.VAR="var",l.WBR="wbr",l.XMP="xmp"})(r||(Wt.TAG_NAMES=r={}));var i;(function(l){l[l.UNKNOWN=0]="UNKNOWN",l[l.A=1]="A",l[l.ADDRESS=2]="ADDRESS",l[l.ANNOTATION_XML=3]="ANNOTATION_XML",l[l.APPLET=4]="APPLET",l[l.AREA=5]="AREA",l[l.ARTICLE=6]="ARTICLE",l[l.ASIDE=7]="ASIDE",l[l.B=8]="B",l[l.BASE=9]="BASE",l[l.BASEFONT=10]="BASEFONT",l[l.BGSOUND=11]="BGSOUND",l[l.BIG=12]="BIG",l[l.BLOCKQUOTE=13]="BLOCKQUOTE",l[l.BODY=14]="BODY",l[l.BR=15]="BR",l[l.BUTTON=16]="BUTTON",l[l.CAPTION=17]="CAPTION",l[l.CENTER=18]="CENTER",l[l.CODE=19]="CODE",l[l.COL=20]="COL",l[l.COLGROUP=21]="COLGROUP",l[l.DD=22]="DD",l[l.DESC=23]="DESC",l[l.DETAILS=24]="DETAILS",l[l.DIALOG=25]="DIALOG",l[l.DIR=26]="DIR",l[l.DIV=27]="DIV",l[l.DL=28]="DL",l[l.DT=29]="DT",l[l.EM=30]="EM",l[l.EMBED=31]="EMBED",l[l.FIELDSET=32]="FIELDSET",l[l.FIGCAPTION=33]="FIGCAPTION",l[l.FIGURE=34]="FIGURE",l[l.FONT=35]="FONT",l[l.FOOTER=36]="FOOTER",l[l.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",l[l.FORM=38]="FORM",l[l.FRAME=39]="FRAME",l[l.FRAMESET=40]="FRAMESET",l[l.H1=41]="H1",l[l.H2=42]="H2",l[l.H3=43]="H3",l[l.H4=44]="H4",l[l.H5=45]="H5",l[l.H6=46]="H6",l[l.HEAD=47]="HEAD",l[l.HEADER=48]="HEADER",l[l.HGROUP=49]="HGROUP",l[l.HR=50]="HR",l[l.HTML=51]="HTML",l[l.I=52]="I",l[l.IMG=53]="IMG",l[l.IMAGE=54]="IMAGE",l[l.INPUT=55]="INPUT",l[l.IFRAME=56]="IFRAME",l[l.KEYGEN=57]="KEYGEN",l[l.LABEL=58]="LABEL",l[l.LI=59]="LI",l[l.LINK=60]="LINK",l[l.LISTING=61]="LISTING",l[l.MAIN=62]="MAIN",l[l.MALIGNMARK=63]="MALIGNMARK",l[l.MARQUEE=64]="MARQUEE",l[l.MATH=65]="MATH",l[l.MENU=66]="MENU",l[l.META=67]="META",l[l.MGLYPH=68]="MGLYPH",l[l.MI=69]="MI",l[l.MO=70]="MO",l[l.MN=71]="MN",l[l.MS=72]="MS",l[l.MTEXT=73]="MTEXT",l[l.NAV=74]="NAV",l[l.NOBR=75]="NOBR",l[l.NOFRAMES=76]="NOFRAMES",l[l.NOEMBED=77]="NOEMBED",l[l.NOSCRIPT=78]="NOSCRIPT",l[l.OBJECT=79]="OBJECT",l[l.OL=80]="OL",l[l.OPTGROUP=81]="OPTGROUP",l[l.OPTION=82]="OPTION",l[l.P=83]="P",l[l.PARAM=84]="PARAM",l[l.PLAINTEXT=85]="PLAINTEXT",l[l.PRE=86]="PRE",l[l.RB=87]="RB",l[l.RP=88]="RP",l[l.RT=89]="RT",l[l.RTC=90]="RTC",l[l.RUBY=91]="RUBY",l[l.S=92]="S",l[l.SCRIPT=93]="SCRIPT",l[l.SEARCH=94]="SEARCH",l[l.SECTION=95]="SECTION",l[l.SELECT=96]="SELECT",l[l.SOURCE=97]="SOURCE",l[l.SMALL=98]="SMALL",l[l.SPAN=99]="SPAN",l[l.STRIKE=100]="STRIKE",l[l.STRONG=101]="STRONG",l[l.STYLE=102]="STYLE",l[l.SUB=103]="SUB",l[l.SUMMARY=104]="SUMMARY",l[l.SUP=105]="SUP",l[l.TABLE=106]="TABLE",l[l.TBODY=107]="TBODY",l[l.TEMPLATE=108]="TEMPLATE",l[l.TEXTAREA=109]="TEXTAREA",l[l.TFOOT=110]="TFOOT",l[l.TD=111]="TD",l[l.TH=112]="TH",l[l.THEAD=113]="THEAD",l[l.TITLE=114]="TITLE",l[l.TR=115]="TR",l[l.TRACK=116]="TRACK",l[l.TT=117]="TT",l[l.U=118]="U",l[l.UL=119]="UL",l[l.SVG=120]="SVG",l[l.VAR=121]="VAR",l[l.WBR=122]="WBR",l[l.XMP=123]="XMP"})(i||(Wt.TAG_ID=i={}));const u=new Map([[r.A,i.A],[r.ADDRESS,i.ADDRESS],[r.ANNOTATION_XML,i.ANNOTATION_XML],[r.APPLET,i.APPLET],[r.AREA,i.AREA],[r.ARTICLE,i.ARTICLE],[r.ASIDE,i.ASIDE],[r.B,i.B],[r.BASE,i.BASE],[r.BASEFONT,i.BASEFONT],[r.BGSOUND,i.BGSOUND],[r.BIG,i.BIG],[r.BLOCKQUOTE,i.BLOCKQUOTE],[r.BODY,i.BODY],[r.BR,i.BR],[r.BUTTON,i.BUTTON],[r.CAPTION,i.CAPTION],[r.CENTER,i.CENTER],[r.CODE,i.CODE],[r.COL,i.COL],[r.COLGROUP,i.COLGROUP],[r.DD,i.DD],[r.DESC,i.DESC],[r.DETAILS,i.DETAILS],[r.DIALOG,i.DIALOG],[r.DIR,i.DIR],[r.DIV,i.DIV],[r.DL,i.DL],[r.DT,i.DT],[r.EM,i.EM],[r.EMBED,i.EMBED],[r.FIELDSET,i.FIELDSET],[r.FIGCAPTION,i.FIGCAPTION],[r.FIGURE,i.FIGURE],[r.FONT,i.FONT],[r.FOOTER,i.FOOTER],[r.FOREIGN_OBJECT,i.FOREIGN_OBJECT],[r.FORM,i.FORM],[r.FRAME,i.FRAME],[r.FRAMESET,i.FRAMESET],[r.H1,i.H1],[r.H2,i.H2],[r.H3,i.H3],[r.H4,i.H4],[r.H5,i.H5],[r.H6,i.H6],[r.HEAD,i.HEAD],[r.HEADER,i.HEADER],[r.HGROUP,i.HGROUP],[r.HR,i.HR],[r.HTML,i.HTML],[r.I,i.I],[r.IMG,i.IMG],[r.IMAGE,i.IMAGE],[r.INPUT,i.INPUT],[r.IFRAME,i.IFRAME],[r.KEYGEN,i.KEYGEN],[r.LABEL,i.LABEL],[r.LI,i.LI],[r.LINK,i.LINK],[r.LISTING,i.LISTING],[r.MAIN,i.MAIN],[r.MALIGNMARK,i.MALIGNMARK],[r.MARQUEE,i.MARQUEE],[r.MATH,i.MATH],[r.MENU,i.MENU],[r.META,i.META],[r.MGLYPH,i.MGLYPH],[r.MI,i.MI],[r.MO,i.MO],[r.MN,i.MN],[r.MS,i.MS],[r.MTEXT,i.MTEXT],[r.NAV,i.NAV],[r.NOBR,i.NOBR],[r.NOFRAMES,i.NOFRAMES],[r.NOEMBED,i.NOEMBED],[r.NOSCRIPT,i.NOSCRIPT],[r.OBJECT,i.OBJECT],[r.OL,i.OL],[r.OPTGROUP,i.OPTGROUP],[r.OPTION,i.OPTION],[r.P,i.P],[r.PARAM,i.PARAM],[r.PLAINTEXT,i.PLAINTEXT],[r.PRE,i.PRE],[r.RB,i.RB],[r.RP,i.RP],[r.RT,i.RT],[r.RTC,i.RTC],[r.RUBY,i.RUBY],[r.S,i.S],[r.SCRIPT,i.SCRIPT],[r.SEARCH,i.SEARCH],[r.SECTION,i.SECTION],[r.SELECT,i.SELECT],[r.SOURCE,i.SOURCE],[r.SMALL,i.SMALL],[r.SPAN,i.SPAN],[r.STRIKE,i.STRIKE],[r.STRONG,i.STRONG],[r.STYLE,i.STYLE],[r.SUB,i.SUB],[r.SUMMARY,i.SUMMARY],[r.SUP,i.SUP],[r.TABLE,i.TABLE],[r.TBODY,i.TBODY],[r.TEMPLATE,i.TEMPLATE],[r.TEXTAREA,i.TEXTAREA],[r.TFOOT,i.TFOOT],[r.TD,i.TD],[r.TH,i.TH],[r.THEAD,i.THEAD],[r.TITLE,i.TITLE],[r.TR,i.TR],[r.TRACK,i.TRACK],[r.TT,i.TT],[r.U,i.U],[r.UL,i.UL],[r.SVG,i.SVG],[r.VAR,i.VAR],[r.WBR,i.WBR],[r.XMP,i.XMP]]);function s(l){var f;return(f=u.get(l))!==null&&f!==void 0?f:i.UNKNOWN}const o=i;Wt.SPECIAL_ELEMENTS={[e.HTML]:new Set([o.ADDRESS,o.APPLET,o.AREA,o.ARTICLE,o.ASIDE,o.BASE,o.BASEFONT,o.BGSOUND,o.BLOCKQUOTE,o.BODY,o.BR,o.BUTTON,o.CAPTION,o.CENTER,o.COL,o.COLGROUP,o.DD,o.DETAILS,o.DIR,o.DIV,o.DL,o.DT,o.EMBED,o.FIELDSET,o.FIGCAPTION,o.FIGURE,o.FOOTER,o.FORM,o.FRAME,o.FRAMESET,o.H1,o.H2,o.H3,o.H4,o.H5,o.H6,o.HEAD,o.HEADER,o.HGROUP,o.HR,o.HTML,o.IFRAME,o.IMG,o.INPUT,o.LI,o.LINK,o.LISTING,o.MAIN,o.MARQUEE,o.MENU,o.META,o.NAV,o.NOEMBED,o.NOFRAMES,o.NOSCRIPT,o.OBJECT,o.OL,o.P,o.PARAM,o.PLAINTEXT,o.PRE,o.SCRIPT,o.SECTION,o.SELECT,o.SOURCE,o.STYLE,o.SUMMARY,o.TABLE,o.TBODY,o.TD,o.TEMPLATE,o.TEXTAREA,o.TFOOT,o.TH,o.THEAD,o.TITLE,o.TR,o.TRACK,o.UL,o.WBR,o.XMP]),[e.MATHML]:new Set([o.MI,o.MO,o.MN,o.MS,o.MTEXT,o.ANNOTATION_XML]),[e.SVG]:new Set([o.TITLE,o.FOREIGN_OBJECT,o.DESC]),[e.XLINK]:new Set,[e.XML]:new Set,[e.XMLNS]:new Set},Wt.NUMBERED_HEADERS=new Set([o.H1,o.H2,o.H3,o.H4,o.H5,o.H6]);const a=new Set([r.STYLE,r.SCRIPT,r.XMP,r.IFRAME,r.NOEMBED,r.NOFRAMES,r.PLAINTEXT]);function c(l,f){return a.has(l)||f&&l===r.NOSCRIPT}return Wt}var fb;function dy(){if(fb)return Pi;fb=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.Tokenizer=Pi.TokenizerMode=void 0;const e=wB(),t=ch(),n=dh(),r=OB(),i=uc(),u=Ai();var s;(function(g){g[g.DATA=0]="DATA",g[g.RCDATA=1]="RCDATA",g[g.RAWTEXT=2]="RAWTEXT",g[g.SCRIPT_DATA=3]="SCRIPT_DATA",g[g.PLAINTEXT=4]="PLAINTEXT",g[g.TAG_OPEN=5]="TAG_OPEN",g[g.END_TAG_OPEN=6]="END_TAG_OPEN",g[g.TAG_NAME=7]="TAG_NAME",g[g.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",g[g.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",g[g.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",g[g.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",g[g.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",g[g.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",g[g.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",g[g.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",g[g.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",g[g.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",g[g.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",g[g.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",g[g.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",g[g.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",g[g.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",g[g.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",g[g.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",g[g.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",g[g.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",g[g.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",g[g.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",g[g.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",g[g.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",g[g.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",g[g.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",g[g.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",g[g.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",g[g.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",g[g.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",g[g.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",g[g.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",g[g.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",g[g.BOGUS_COMMENT=40]="BOGUS_COMMENT",g[g.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",g[g.COMMENT_START=42]="COMMENT_START",g[g.COMMENT_START_DASH=43]="COMMENT_START_DASH",g[g.COMMENT=44]="COMMENT",g[g.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",g[g.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",g[g.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",g[g.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",g[g.COMMENT_END_DASH=49]="COMMENT_END_DASH",g[g.COMMENT_END=50]="COMMENT_END",g[g.COMMENT_END_BANG=51]="COMMENT_END_BANG",g[g.DOCTYPE=52]="DOCTYPE",g[g.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",g[g.DOCTYPE_NAME=54]="DOCTYPE_NAME",g[g.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",g[g.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",g[g.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",g[g.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",g[g.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",g[g.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",g[g.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",g[g.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",g[g.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",g[g.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",g[g.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",g[g.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",g[g.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",g[g.CDATA_SECTION=68]="CDATA_SECTION",g[g.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",g[g.CDATA_SECTION_END=70]="CDATA_SECTION_END",g[g.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",g[g.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(s||(s={})),Pi.TokenizerMode={DATA:s.DATA,RCDATA:s.RCDATA,RAWTEXT:s.RAWTEXT,SCRIPT_DATA:s.SCRIPT_DATA,PLAINTEXT:s.PLAINTEXT,CDATA_SECTION:s.CDATA_SECTION};function o(g){return g>=t.CODE_POINTS.DIGIT_0&&g<=t.CODE_POINTS.DIGIT_9}function a(g){return g>=t.CODE_POINTS.LATIN_CAPITAL_A&&g<=t.CODE_POINTS.LATIN_CAPITAL_Z}function c(g){return g>=t.CODE_POINTS.LATIN_SMALL_A&&g<=t.CODE_POINTS.LATIN_SMALL_Z}function l(g){return c(g)||a(g)}function f(g){return l(g)||o(g)}function h(g){return g+32}function d(g){return g===t.CODE_POINTS.SPACE||g===t.CODE_POINTS.LINE_FEED||g===t.CODE_POINTS.TABULATION||g===t.CODE_POINTS.FORM_FEED}function m(g){return d(g)||g===t.CODE_POINTS.SOLIDUS||g===t.CODE_POINTS.GREATER_THAN_SIGN}function A(g){return g===t.CODE_POINTS.NULL?i.ERR.nullCharacterReference:g>1114111?i.ERR.characterReferenceOutsideUnicodeRange:(0,t.isSurrogate)(g)?i.ERR.surrogateCharacterReference:(0,t.isUndefinedCodePoint)(g)?i.ERR.noncharacterCharacterReference:(0,t.isControlCodePoint)(g)||g===t.CODE_POINTS.CARRIAGE_RETURN?i.ERR.controlCharacterReference:null}class x{constructor(b,v){this.options=b,this.handler=v,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=s.DATA,this.returnState=s.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new e.Preprocessor(v),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new r.EntityDecoder(r.htmlDecodeTree,(p,_)=>{this.preprocessor.pos=this.entityStartPos+_-1,this._flushCodePointConsumedAsCharacterReference(p)},v.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(i.ERR.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:p=>{this._err(i.ERR.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+p)},validateNumericCharacterReference:p=>{const _=A(p);_&&this._err(_,1)}}:void 0)}_err(b,v=0){var p,_;(_=(p=this.handler).onParseError)===null||_===void 0||_.call(p,this.preprocessor.getError(b,v))}getCurrentLocation(b){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-b,startOffset:this.preprocessor.offset-b,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const b=this._consume();this._ensureHibernation()||this._callState(b)}this.inLoop=!1}}pause(){this.paused=!0}resume(b){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||b==null||b())}write(b,v,p){this.active=!0,this.preprocessor.write(b,v),this._runParsingLoop(),this.paused||p==null||p()}insertHtmlAtCurrentPos(b){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(b),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(b){this.consumedAfterSnapshot+=b;for(let v=0;v<b;v++)this.preprocessor.advance()}_consumeSequenceIfMatch(b,v){return this.preprocessor.startsWith(b,v)?(this._advanceBy(b.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:n.TokenType.START_TAG,tagName:"",tagID:u.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:n.TokenType.END_TAG,tagName:"",tagID:u.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(b){this.currentToken={type:n.TokenType.COMMENT,data:"",location:this.getCurrentLocation(b)}}_createDoctypeToken(b){this.currentToken={type:n.TokenType.DOCTYPE,name:b,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(b,v){this.currentCharacterToken={type:b,chars:v,location:this.currentLocation}}_createAttr(b){this.currentAttr={name:b,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var b,v;const p=this.currentToken;if((0,n.getTokenAttr)(p,this.currentAttr.name)===null){if(p.attrs.push(this.currentAttr),p.location&&this.currentLocation){const _=(b=(v=p.location).attrs)!==null&&b!==void 0?b:v.attrs=Object.create(null);_[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(i.ERR.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(b){this._emitCurrentCharacterToken(b.location),this.currentToken=null,b.location&&(b.location.endLine=this.preprocessor.line,b.location.endCol=this.preprocessor.col+1,b.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const b=this.currentToken;this.prepareToken(b),b.tagID=(0,u.getTagID)(b.tagName),b.type===n.TokenType.START_TAG?(this.lastStartTagName=b.tagName,this.handler.onStartTag(b)):(b.attrs.length>0&&this._err(i.ERR.endTagWithAttributes),b.selfClosing&&this._err(i.ERR.endTagWithTrailingSolidus),this.handler.onEndTag(b)),this.preprocessor.dropParsedChunk()}emitCurrentComment(b){this.prepareToken(b),this.handler.onComment(b),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(b){this.prepareToken(b),this.handler.onDoctype(b),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(b){if(this.currentCharacterToken){switch(b&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=b.startLine,this.currentCharacterToken.location.endCol=b.startCol,this.currentCharacterToken.location.endOffset=b.startOffset),this.currentCharacterToken.type){case n.TokenType.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case n.TokenType.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case n.TokenType.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const b=this.getCurrentLocation(0);b&&(b.endLine=b.startLine,b.endCol=b.startCol,b.endOffset=b.startOffset),this._emitCurrentCharacterToken(b),this.handler.onEof({type:n.TokenType.EOF,location:b}),this.active=!1}_appendCharToCurrentCharacterToken(b,v){if(this.currentCharacterToken)if(this.currentCharacterToken.type===b){this.currentCharacterToken.chars+=v;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(b,v)}_emitCodePoint(b){const v=d(b)?n.TokenType.WHITESPACE_CHARACTER:b===t.CODE_POINTS.NULL?n.TokenType.NULL_CHARACTER:n.TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(v,String.fromCodePoint(b))}_emitChars(b){this._appendCharToCurrentCharacterToken(n.TokenType.CHARACTER,b)}_startCharacterReference(){this.returnState=this.state,this.state=s.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?r.DecodingMode.Attribute:r.DecodingMode.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===s.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===s.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===s.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(b){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(b):this._emitCodePoint(b)}_callState(b){switch(this.state){case s.DATA:{this._stateData(b);break}case s.RCDATA:{this._stateRcdata(b);break}case s.RAWTEXT:{this._stateRawtext(b);break}case s.SCRIPT_DATA:{this._stateScriptData(b);break}case s.PLAINTEXT:{this._statePlaintext(b);break}case s.TAG_OPEN:{this._stateTagOpen(b);break}case s.END_TAG_OPEN:{this._stateEndTagOpen(b);break}case s.TAG_NAME:{this._stateTagName(b);break}case s.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(b);break}case s.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(b);break}case s.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(b);break}case s.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(b);break}case s.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(b);break}case s.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(b);break}case s.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(b);break}case s.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(b);break}case s.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(b);break}case s.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(b);break}case s.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(b);break}case s.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(b);break}case s.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(b);break}case s.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(b);break}case s.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(b);break}case s.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(b);break}case s.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(b);break}case s.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(b);break}case s.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(b);break}case s.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(b);break}case s.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(b);break}case s.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(b);break}case s.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(b);break}case s.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(b);break}case s.ATTRIBUTE_NAME:{this._stateAttributeName(b);break}case s.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(b);break}case s.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(b);break}case s.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(b);break}case s.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(b);break}case s.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(b);break}case s.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(b);break}case s.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(b);break}case s.BOGUS_COMMENT:{this._stateBogusComment(b);break}case s.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(b);break}case s.COMMENT_START:{this._stateCommentStart(b);break}case s.COMMENT_START_DASH:{this._stateCommentStartDash(b);break}case s.COMMENT:{this._stateComment(b);break}case s.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(b);break}case s.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(b);break}case s.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(b);break}case s.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(b);break}case s.COMMENT_END_DASH:{this._stateCommentEndDash(b);break}case s.COMMENT_END:{this._stateCommentEnd(b);break}case s.COMMENT_END_BANG:{this._stateCommentEndBang(b);break}case s.DOCTYPE:{this._stateDoctype(b);break}case s.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(b);break}case s.DOCTYPE_NAME:{this._stateDoctypeName(b);break}case s.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(b);break}case s.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(b);break}case s.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(b);break}case s.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(b);break}case s.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(b);break}case s.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(b);break}case s.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(b);break}case s.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(b);break}case s.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(b);break}case s.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(b);break}case s.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(b);break}case s.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(b);break}case s.BOGUS_DOCTYPE:{this._stateBogusDoctype(b);break}case s.CDATA_SECTION:{this._stateCdataSection(b);break}case s.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(b);break}case s.CDATA_SECTION_END:{this._stateCdataSectionEnd(b);break}case s.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case s.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(b);break}default:throw new Error("Unknown state")}}_stateData(b){switch(b){case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=s.TAG_OPEN;break}case t.CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this._emitCodePoint(b);break}case t.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(b)}}_stateRcdata(b){switch(b){case t.CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=s.RCDATA_LESS_THAN_SIGN;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(b)}}_stateRawtext(b){switch(b){case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=s.RAWTEXT_LESS_THAN_SIGN;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(b)}}_stateScriptData(b){switch(b){case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=s.SCRIPT_DATA_LESS_THAN_SIGN;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(b)}}_statePlaintext(b){switch(b){case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(b)}}_stateTagOpen(b){if(l(b))this._createStartTagToken(),this.state=s.TAG_NAME,this._stateTagName(b);else switch(b){case t.CODE_POINTS.EXCLAMATION_MARK:{this.state=s.MARKUP_DECLARATION_OPEN;break}case t.CODE_POINTS.SOLIDUS:{this.state=s.END_TAG_OPEN;break}case t.CODE_POINTS.QUESTION_MARK:{this._err(i.ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=s.BOGUS_COMMENT,this._stateBogusComment(b);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(i.ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=s.DATA,this._stateData(b)}}_stateEndTagOpen(b){if(l(b))this._createEndTagToken(),this.state=s.TAG_NAME,this._stateTagName(b);else switch(b){case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.missingEndTagName),this.state=s.DATA;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(i.ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=s.BOGUS_COMMENT,this._stateBogusComment(b)}}_stateTagName(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:{this.state=s.BEFORE_ATTRIBUTE_NAME;break}case t.CODE_POINTS.SOLIDUS:{this.state=s.SELF_CLOSING_START_TAG;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=s.DATA,this.emitCurrentTagToken();break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),v.tagName+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInTag),this._emitEOFToken();break}default:v.tagName+=String.fromCodePoint(a(b)?h(b):b)}}_stateRcdataLessThanSign(b){b===t.CODE_POINTS.SOLIDUS?this.state=s.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=s.RCDATA,this._stateRcdata(b))}_stateRcdataEndTagOpen(b){l(b)?(this.state=s.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(b)):(this._emitChars("</"),this.state=s.RCDATA,this._stateRcdata(b))}handleSpecialEndTag(b){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const v=this.currentToken;switch(v.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=s.BEFORE_ATTRIBUTE_NAME,!1;case t.CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=s.SELF_CLOSING_START_TAG,!1;case t.CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=s.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(b){this.handleSpecialEndTag(b)&&(this._emitChars("</"),this.state=s.RCDATA,this._stateRcdata(b))}_stateRawtextLessThanSign(b){b===t.CODE_POINTS.SOLIDUS?this.state=s.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=s.RAWTEXT,this._stateRawtext(b))}_stateRawtextEndTagOpen(b){l(b)?(this.state=s.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(b)):(this._emitChars("</"),this.state=s.RAWTEXT,this._stateRawtext(b))}_stateRawtextEndTagName(b){this.handleSpecialEndTag(b)&&(this._emitChars("</"),this.state=s.RAWTEXT,this._stateRawtext(b))}_stateScriptDataLessThanSign(b){switch(b){case t.CODE_POINTS.SOLIDUS:{this.state=s.SCRIPT_DATA_END_TAG_OPEN;break}case t.CODE_POINTS.EXCLAMATION_MARK:{this.state=s.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=s.SCRIPT_DATA,this._stateScriptData(b)}}_stateScriptDataEndTagOpen(b){l(b)?(this.state=s.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(b)):(this._emitChars("</"),this.state=s.SCRIPT_DATA,this._stateScriptData(b))}_stateScriptDataEndTagName(b){this.handleSpecialEndTag(b)&&(this._emitChars("</"),this.state=s.SCRIPT_DATA,this._stateScriptData(b))}_stateScriptDataEscapeStart(b){b===t.CODE_POINTS.HYPHEN_MINUS?(this.state=s.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=s.SCRIPT_DATA,this._stateScriptData(b))}_stateScriptDataEscapeStartDash(b){b===t.CODE_POINTS.HYPHEN_MINUS?(this.state=s.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=s.SCRIPT_DATA,this._stateScriptData(b))}_stateScriptDataEscaped(b){switch(b){case t.CODE_POINTS.HYPHEN_MINUS:{this.state=s.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=s.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(b)}}_stateScriptDataEscapedDash(b){switch(b){case t.CODE_POINTS.HYPHEN_MINUS:{this.state=s.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=s.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this.state=s.SCRIPT_DATA_ESCAPED,this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=s.SCRIPT_DATA_ESCAPED,this._emitCodePoint(b)}}_stateScriptDataEscapedDashDash(b){switch(b){case t.CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=s.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=s.SCRIPT_DATA,this._emitChars(">");break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this.state=s.SCRIPT_DATA_ESCAPED,this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=s.SCRIPT_DATA_ESCAPED,this._emitCodePoint(b)}}_stateScriptDataEscapedLessThanSign(b){b===t.CODE_POINTS.SOLIDUS?this.state=s.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:l(b)?(this._emitChars("<"),this.state=s.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(b)):(this._emitChars("<"),this.state=s.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(b))}_stateScriptDataEscapedEndTagOpen(b){l(b)?(this.state=s.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(b)):(this._emitChars("</"),this.state=s.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(b))}_stateScriptDataEscapedEndTagName(b){this.handleSpecialEndTag(b)&&(this._emitChars("</"),this.state=s.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(b))}_stateScriptDataDoubleEscapeStart(b){if(this.preprocessor.startsWith(t.SEQUENCES.SCRIPT,!1)&&m(this.preprocessor.peek(t.SEQUENCES.SCRIPT.length))){this._emitCodePoint(b);for(let v=0;v<t.SEQUENCES.SCRIPT.length;v++)this._emitCodePoint(this._consume());this.state=s.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=s.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(b))}_stateScriptDataDoubleEscaped(b){switch(b){case t.CODE_POINTS.HYPHEN_MINUS:{this.state=s.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=s.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(b)}}_stateScriptDataDoubleEscapedDash(b){switch(b){case t.CODE_POINTS.HYPHEN_MINUS:{this.state=s.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=s.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this.state=s.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=s.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(b)}}_stateScriptDataDoubleEscapedDashDash(b){switch(b){case t.CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case t.CODE_POINTS.LESS_THAN_SIGN:{this.state=s.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=s.SCRIPT_DATA,this._emitChars(">");break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this.state=s.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(t.REPLACEMENT_CHARACTER);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=s.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(b)}}_stateScriptDataDoubleEscapedLessThanSign(b){b===t.CODE_POINTS.SOLIDUS?(this.state=s.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=s.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(b))}_stateScriptDataDoubleEscapeEnd(b){if(this.preprocessor.startsWith(t.SEQUENCES.SCRIPT,!1)&&m(this.preprocessor.peek(t.SEQUENCES.SCRIPT.length))){this._emitCodePoint(b);for(let v=0;v<t.SEQUENCES.SCRIPT.length;v++)this._emitCodePoint(this._consume());this.state=s.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=s.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(b))}_stateBeforeAttributeName(b){switch(b){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:break;case t.CODE_POINTS.SOLIDUS:case t.CODE_POINTS.GREATER_THAN_SIGN:case t.CODE_POINTS.EOF:{this.state=s.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(b);break}case t.CODE_POINTS.EQUALS_SIGN:{this._err(i.ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=s.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=s.ATTRIBUTE_NAME,this._stateAttributeName(b)}}_stateAttributeName(b){switch(b){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:case t.CODE_POINTS.SOLIDUS:case t.CODE_POINTS.GREATER_THAN_SIGN:case t.CODE_POINTS.EOF:{this._leaveAttrName(),this.state=s.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(b);break}case t.CODE_POINTS.EQUALS_SIGN:{this._leaveAttrName(),this.state=s.BEFORE_ATTRIBUTE_VALUE;break}case t.CODE_POINTS.QUOTATION_MARK:case t.CODE_POINTS.APOSTROPHE:case t.CODE_POINTS.LESS_THAN_SIGN:{this._err(i.ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(b);break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this.currentAttr.name+=t.REPLACEMENT_CHARACTER;break}default:this.currentAttr.name+=String.fromCodePoint(a(b)?h(b):b)}}_stateAfterAttributeName(b){switch(b){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:break;case t.CODE_POINTS.SOLIDUS:{this.state=s.SELF_CLOSING_START_TAG;break}case t.CODE_POINTS.EQUALS_SIGN:{this.state=s.BEFORE_ATTRIBUTE_VALUE;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=s.DATA,this.emitCurrentTagToken();break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=s.ATTRIBUTE_NAME,this._stateAttributeName(b)}}_stateBeforeAttributeValue(b){switch(b){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:break;case t.CODE_POINTS.QUOTATION_MARK:{this.state=s.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case t.CODE_POINTS.APOSTROPHE:{this.state=s.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.missingAttributeValue),this.state=s.DATA,this.emitCurrentTagToken();break}default:this.state=s.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(b)}}_stateAttributeValueDoubleQuoted(b){switch(b){case t.CODE_POINTS.QUOTATION_MARK:{this.state=s.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case t.CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this.currentAttr.value+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(b)}}_stateAttributeValueSingleQuoted(b){switch(b){case t.CODE_POINTS.APOSTROPHE:{this.state=s.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case t.CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this.currentAttr.value+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(b)}}_stateAttributeValueUnquoted(b){switch(b){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=s.BEFORE_ATTRIBUTE_NAME;break}case t.CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=s.DATA,this.emitCurrentTagToken();break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this.currentAttr.value+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.QUOTATION_MARK:case t.CODE_POINTS.APOSTROPHE:case t.CODE_POINTS.LESS_THAN_SIGN:case t.CODE_POINTS.EQUALS_SIGN:case t.CODE_POINTS.GRAVE_ACCENT:{this._err(i.ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(b);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(b)}}_stateAfterAttributeValueQuoted(b){switch(b){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=s.BEFORE_ATTRIBUTE_NAME;break}case t.CODE_POINTS.SOLIDUS:{this._leaveAttrValue(),this.state=s.SELF_CLOSING_START_TAG;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=s.DATA,this.emitCurrentTagToken();break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInTag),this._emitEOFToken();break}default:this._err(i.ERR.missingWhitespaceBetweenAttributes),this.state=s.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(b)}}_stateSelfClosingStartTag(b){switch(b){case t.CODE_POINTS.GREATER_THAN_SIGN:{const v=this.currentToken;v.selfClosing=!0,this.state=s.DATA,this.emitCurrentTagToken();break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInTag),this._emitEOFToken();break}default:this._err(i.ERR.unexpectedSolidusInTag),this.state=s.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(b)}}_stateBogusComment(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=s.DATA,this.emitCurrentComment(v);break}case t.CODE_POINTS.EOF:{this.emitCurrentComment(v),this._emitEOFToken();break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),v.data+=t.REPLACEMENT_CHARACTER;break}default:v.data+=String.fromCodePoint(b)}}_stateMarkupDeclarationOpen(b){this._consumeSequenceIfMatch(t.SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(t.SEQUENCES.DASH_DASH.length+1),this.state=s.COMMENT_START):this._consumeSequenceIfMatch(t.SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(t.SEQUENCES.DOCTYPE.length+1),this.state=s.DOCTYPE):this._consumeSequenceIfMatch(t.SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=s.CDATA_SECTION:(this._err(i.ERR.cdataInHtmlContent),this._createCommentToken(t.SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=s.BOGUS_COMMENT):this._ensureHibernation()||(this._err(i.ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=s.BOGUS_COMMENT,this._stateBogusComment(b))}_stateCommentStart(b){switch(b){case t.CODE_POINTS.HYPHEN_MINUS:{this.state=s.COMMENT_START_DASH;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.abruptClosingOfEmptyComment),this.state=s.DATA;const v=this.currentToken;this.emitCurrentComment(v);break}default:this.state=s.COMMENT,this._stateComment(b)}}_stateCommentStartDash(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.HYPHEN_MINUS:{this.state=s.COMMENT_END;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.abruptClosingOfEmptyComment),this.state=s.DATA,this.emitCurrentComment(v);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInComment),this.emitCurrentComment(v),this._emitEOFToken();break}default:v.data+="-",this.state=s.COMMENT,this._stateComment(b)}}_stateComment(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.HYPHEN_MINUS:{this.state=s.COMMENT_END_DASH;break}case t.CODE_POINTS.LESS_THAN_SIGN:{v.data+="<",this.state=s.COMMENT_LESS_THAN_SIGN;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),v.data+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInComment),this.emitCurrentComment(v),this._emitEOFToken();break}default:v.data+=String.fromCodePoint(b)}}_stateCommentLessThanSign(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.EXCLAMATION_MARK:{v.data+="!",this.state=s.COMMENT_LESS_THAN_SIGN_BANG;break}case t.CODE_POINTS.LESS_THAN_SIGN:{v.data+="<";break}default:this.state=s.COMMENT,this._stateComment(b)}}_stateCommentLessThanSignBang(b){b===t.CODE_POINTS.HYPHEN_MINUS?this.state=s.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=s.COMMENT,this._stateComment(b))}_stateCommentLessThanSignBangDash(b){b===t.CODE_POINTS.HYPHEN_MINUS?this.state=s.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=s.COMMENT_END_DASH,this._stateCommentEndDash(b))}_stateCommentLessThanSignBangDashDash(b){b!==t.CODE_POINTS.GREATER_THAN_SIGN&&b!==t.CODE_POINTS.EOF&&this._err(i.ERR.nestedComment),this.state=s.COMMENT_END,this._stateCommentEnd(b)}_stateCommentEndDash(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.HYPHEN_MINUS:{this.state=s.COMMENT_END;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInComment),this.emitCurrentComment(v),this._emitEOFToken();break}default:v.data+="-",this.state=s.COMMENT,this._stateComment(b)}}_stateCommentEnd(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=s.DATA,this.emitCurrentComment(v);break}case t.CODE_POINTS.EXCLAMATION_MARK:{this.state=s.COMMENT_END_BANG;break}case t.CODE_POINTS.HYPHEN_MINUS:{v.data+="-";break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInComment),this.emitCurrentComment(v),this._emitEOFToken();break}default:v.data+="--",this.state=s.COMMENT,this._stateComment(b)}}_stateCommentEndBang(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.HYPHEN_MINUS:{v.data+="--!",this.state=s.COMMENT_END_DASH;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.incorrectlyClosedComment),this.state=s.DATA,this.emitCurrentComment(v);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInComment),this.emitCurrentComment(v),this._emitEOFToken();break}default:v.data+="--!",this.state=s.COMMENT,this._stateComment(b)}}_stateDoctype(b){switch(b){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:{this.state=s.BEFORE_DOCTYPE_NAME;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=s.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(b);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),this._createDoctypeToken(null);const v=this.currentToken;v.forceQuirks=!0,this.emitCurrentDoctype(v),this._emitEOFToken();break}default:this._err(i.ERR.missingWhitespaceBeforeDoctypeName),this.state=s.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(b)}}_stateBeforeDoctypeName(b){if(a(b))this._createDoctypeToken(String.fromCharCode(h(b))),this.state=s.DOCTYPE_NAME;else switch(b){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:break;case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),this._createDoctypeToken(t.REPLACEMENT_CHARACTER),this.state=s.DOCTYPE_NAME;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.missingDoctypeName),this._createDoctypeToken(null);const v=this.currentToken;v.forceQuirks=!0,this.emitCurrentDoctype(v),this.state=s.DATA;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),this._createDoctypeToken(null);const v=this.currentToken;v.forceQuirks=!0,this.emitCurrentDoctype(v),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(b)),this.state=s.DOCTYPE_NAME}}_stateDoctypeName(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:{this.state=s.AFTER_DOCTYPE_NAME;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=s.DATA,this.emitCurrentDoctype(v);break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),v.name+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),v.forceQuirks=!0,this.emitCurrentDoctype(v),this._emitEOFToken();break}default:v.name+=String.fromCodePoint(a(b)?h(b):b)}}_stateAfterDoctypeName(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:break;case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=s.DATA,this.emitCurrentDoctype(v);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),v.forceQuirks=!0,this.emitCurrentDoctype(v),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(t.SEQUENCES.PUBLIC,!1)?this.state=s.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(t.SEQUENCES.SYSTEM,!1)?this.state=s.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(i.ERR.invalidCharacterSequenceAfterDoctypeName),v.forceQuirks=!0,this.state=s.BOGUS_DOCTYPE,this._stateBogusDoctype(b))}}_stateAfterDoctypePublicKeyword(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:{this.state=s.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case t.CODE_POINTS.QUOTATION_MARK:{this._err(i.ERR.missingWhitespaceAfterDoctypePublicKeyword),v.publicId="",this.state=s.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case t.CODE_POINTS.APOSTROPHE:{this._err(i.ERR.missingWhitespaceAfterDoctypePublicKeyword),v.publicId="",this.state=s.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.missingDoctypePublicIdentifier),v.forceQuirks=!0,this.state=s.DATA,this.emitCurrentDoctype(v);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),v.forceQuirks=!0,this.emitCurrentDoctype(v),this._emitEOFToken();break}default:this._err(i.ERR.missingQuoteBeforeDoctypePublicIdentifier),v.forceQuirks=!0,this.state=s.BOGUS_DOCTYPE,this._stateBogusDoctype(b)}}_stateBeforeDoctypePublicIdentifier(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:break;case t.CODE_POINTS.QUOTATION_MARK:{v.publicId="",this.state=s.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case t.CODE_POINTS.APOSTROPHE:{v.publicId="",this.state=s.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.missingDoctypePublicIdentifier),v.forceQuirks=!0,this.state=s.DATA,this.emitCurrentDoctype(v);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),v.forceQuirks=!0,this.emitCurrentDoctype(v),this._emitEOFToken();break}default:this._err(i.ERR.missingQuoteBeforeDoctypePublicIdentifier),v.forceQuirks=!0,this.state=s.BOGUS_DOCTYPE,this._stateBogusDoctype(b)}}_stateDoctypePublicIdentifierDoubleQuoted(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.QUOTATION_MARK:{this.state=s.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),v.publicId+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.abruptDoctypePublicIdentifier),v.forceQuirks=!0,this.emitCurrentDoctype(v),this.state=s.DATA;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),v.forceQuirks=!0,this.emitCurrentDoctype(v),this._emitEOFToken();break}default:v.publicId+=String.fromCodePoint(b)}}_stateDoctypePublicIdentifierSingleQuoted(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.APOSTROPHE:{this.state=s.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),v.publicId+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.abruptDoctypePublicIdentifier),v.forceQuirks=!0,this.emitCurrentDoctype(v),this.state=s.DATA;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),v.forceQuirks=!0,this.emitCurrentDoctype(v),this._emitEOFToken();break}default:v.publicId+=String.fromCodePoint(b)}}_stateAfterDoctypePublicIdentifier(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:{this.state=s.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=s.DATA,this.emitCurrentDoctype(v);break}case t.CODE_POINTS.QUOTATION_MARK:{this._err(i.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),v.systemId="",this.state=s.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case t.CODE_POINTS.APOSTROPHE:{this._err(i.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),v.systemId="",this.state=s.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),v.forceQuirks=!0,this.emitCurrentDoctype(v),this._emitEOFToken();break}default:this._err(i.ERR.missingQuoteBeforeDoctypeSystemIdentifier),v.forceQuirks=!0,this.state=s.BOGUS_DOCTYPE,this._stateBogusDoctype(b)}}_stateBetweenDoctypePublicAndSystemIdentifiers(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:break;case t.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(v),this.state=s.DATA;break}case t.CODE_POINTS.QUOTATION_MARK:{v.systemId="",this.state=s.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case t.CODE_POINTS.APOSTROPHE:{v.systemId="",this.state=s.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),v.forceQuirks=!0,this.emitCurrentDoctype(v),this._emitEOFToken();break}default:this._err(i.ERR.missingQuoteBeforeDoctypeSystemIdentifier),v.forceQuirks=!0,this.state=s.BOGUS_DOCTYPE,this._stateBogusDoctype(b)}}_stateAfterDoctypeSystemKeyword(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:{this.state=s.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case t.CODE_POINTS.QUOTATION_MARK:{this._err(i.ERR.missingWhitespaceAfterDoctypeSystemKeyword),v.systemId="",this.state=s.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case t.CODE_POINTS.APOSTROPHE:{this._err(i.ERR.missingWhitespaceAfterDoctypeSystemKeyword),v.systemId="",this.state=s.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.missingDoctypeSystemIdentifier),v.forceQuirks=!0,this.state=s.DATA,this.emitCurrentDoctype(v);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),v.forceQuirks=!0,this.emitCurrentDoctype(v),this._emitEOFToken();break}default:this._err(i.ERR.missingQuoteBeforeDoctypeSystemIdentifier),v.forceQuirks=!0,this.state=s.BOGUS_DOCTYPE,this._stateBogusDoctype(b)}}_stateBeforeDoctypeSystemIdentifier(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:break;case t.CODE_POINTS.QUOTATION_MARK:{v.systemId="",this.state=s.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case t.CODE_POINTS.APOSTROPHE:{v.systemId="",this.state=s.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.missingDoctypeSystemIdentifier),v.forceQuirks=!0,this.state=s.DATA,this.emitCurrentDoctype(v);break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),v.forceQuirks=!0,this.emitCurrentDoctype(v),this._emitEOFToken();break}default:this._err(i.ERR.missingQuoteBeforeDoctypeSystemIdentifier),v.forceQuirks=!0,this.state=s.BOGUS_DOCTYPE,this._stateBogusDoctype(b)}}_stateDoctypeSystemIdentifierDoubleQuoted(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.QUOTATION_MARK:{this.state=s.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),v.systemId+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.abruptDoctypeSystemIdentifier),v.forceQuirks=!0,this.emitCurrentDoctype(v),this.state=s.DATA;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),v.forceQuirks=!0,this.emitCurrentDoctype(v),this._emitEOFToken();break}default:v.systemId+=String.fromCodePoint(b)}}_stateDoctypeSystemIdentifierSingleQuoted(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.APOSTROPHE:{this.state=s.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter),v.systemId+=t.REPLACEMENT_CHARACTER;break}case t.CODE_POINTS.GREATER_THAN_SIGN:{this._err(i.ERR.abruptDoctypeSystemIdentifier),v.forceQuirks=!0,this.emitCurrentDoctype(v),this.state=s.DATA;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),v.forceQuirks=!0,this.emitCurrentDoctype(v),this._emitEOFToken();break}default:v.systemId+=String.fromCodePoint(b)}}_stateAfterDoctypeSystemIdentifier(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.SPACE:case t.CODE_POINTS.LINE_FEED:case t.CODE_POINTS.TABULATION:case t.CODE_POINTS.FORM_FEED:break;case t.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(v),this.state=s.DATA;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInDoctype),v.forceQuirks=!0,this.emitCurrentDoctype(v),this._emitEOFToken();break}default:this._err(i.ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=s.BOGUS_DOCTYPE,this._stateBogusDoctype(b)}}_stateBogusDoctype(b){const v=this.currentToken;switch(b){case t.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(v),this.state=s.DATA;break}case t.CODE_POINTS.NULL:{this._err(i.ERR.unexpectedNullCharacter);break}case t.CODE_POINTS.EOF:{this.emitCurrentDoctype(v),this._emitEOFToken();break}}}_stateCdataSection(b){switch(b){case t.CODE_POINTS.RIGHT_SQUARE_BRACKET:{this.state=s.CDATA_SECTION_BRACKET;break}case t.CODE_POINTS.EOF:{this._err(i.ERR.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(b)}}_stateCdataSectionBracket(b){b===t.CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=s.CDATA_SECTION_END:(this._emitChars("]"),this.state=s.CDATA_SECTION,this._stateCdataSection(b))}_stateCdataSectionEnd(b){switch(b){case t.CODE_POINTS.GREATER_THAN_SIGN:{this.state=s.DATA;break}case t.CODE_POINTS.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=s.CDATA_SECTION,this._stateCdataSection(b)}}_stateCharacterReference(){let b=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(b<0)if(this.preprocessor.lastChunkWritten)b=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}b===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(t.CODE_POINTS.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&f(this.preprocessor.peek(1))?s.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(b){f(b)?this._flushCodePointConsumedAsCharacterReference(b):(b===t.CODE_POINTS.SEMICOLON&&this._err(i.ERR.unknownNamedCharacterReference),this.state=this.returnState,this._callState(b))}}return Pi.Tokenizer=x,Pi}var As={},hb;function DB(){if(hb)return As;hb=1,Object.defineProperty(As,"__esModule",{value:!0}),As.OpenElementStack=void 0;const e=Ai(),t=new Set([e.TAG_ID.DD,e.TAG_ID.DT,e.TAG_ID.LI,e.TAG_ID.OPTGROUP,e.TAG_ID.OPTION,e.TAG_ID.P,e.TAG_ID.RB,e.TAG_ID.RP,e.TAG_ID.RT,e.TAG_ID.RTC]),n=new Set([...t,e.TAG_ID.CAPTION,e.TAG_ID.COLGROUP,e.TAG_ID.TBODY,e.TAG_ID.TD,e.TAG_ID.TFOOT,e.TAG_ID.TH,e.TAG_ID.THEAD,e.TAG_ID.TR]),r=new Set([e.TAG_ID.APPLET,e.TAG_ID.CAPTION,e.TAG_ID.HTML,e.TAG_ID.MARQUEE,e.TAG_ID.OBJECT,e.TAG_ID.TABLE,e.TAG_ID.TD,e.TAG_ID.TEMPLATE,e.TAG_ID.TH]),i=new Set([...r,e.TAG_ID.OL,e.TAG_ID.UL]),u=new Set([...r,e.TAG_ID.BUTTON]),s=new Set([e.TAG_ID.ANNOTATION_XML,e.TAG_ID.MI,e.TAG_ID.MN,e.TAG_ID.MO,e.TAG_ID.MS,e.TAG_ID.MTEXT]),o=new Set([e.TAG_ID.DESC,e.TAG_ID.FOREIGN_OBJECT,e.TAG_ID.TITLE]),a=new Set([e.TAG_ID.TR,e.TAG_ID.TEMPLATE,e.TAG_ID.HTML]),c=new Set([e.TAG_ID.TBODY,e.TAG_ID.TFOOT,e.TAG_ID.THEAD,e.TAG_ID.TEMPLATE,e.TAG_ID.HTML]),l=new Set([e.TAG_ID.TABLE,e.TAG_ID.TEMPLATE,e.TAG_ID.HTML]),f=new Set([e.TAG_ID.TD,e.TAG_ID.TH]);class h{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(m,A,x){this.treeAdapter=A,this.handler=x,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=e.TAG_ID.UNKNOWN,this.current=m}_indexOf(m){return this.items.lastIndexOf(m,this.stackTop)}_isInTemplate(){return this.currentTagId===e.TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===e.NS.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(m,A){this.stackTop++,this.items[this.stackTop]=m,this.current=m,this.tagIDs[this.stackTop]=A,this.currentTagId=A,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(m,A,!0)}pop(){const m=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(m,!0)}replace(m,A){const x=this._indexOf(m);this.items[x]=A,x===this.stackTop&&(this.current=A)}insertAfter(m,A,x){const g=this._indexOf(m)+1;this.items.splice(g,0,A),this.tagIDs.splice(g,0,x),this.stackTop++,g===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,g===this.stackTop)}popUntilTagNamePopped(m){let A=this.stackTop+1;do A=this.tagIDs.lastIndexOf(m,A-1);while(A>0&&this.treeAdapter.getNamespaceURI(this.items[A])!==e.NS.HTML);this.shortenToLength(Math.max(A,0))}shortenToLength(m){for(;this.stackTop>=m;){const A=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(A,this.stackTop<m)}}popUntilElementPopped(m){const A=this._indexOf(m);this.shortenToLength(Math.max(A,0))}popUntilPopped(m,A){const x=this._indexOfTagNames(m,A);this.shortenToLength(Math.max(x,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(e.NUMBERED_HEADERS,e.NS.HTML)}popUntilTableCellPopped(){this.popUntilPopped(f,e.NS.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(m,A){for(let x=this.stackTop;x>=0;x--)if(m.has(this.tagIDs[x])&&this.treeAdapter.getNamespaceURI(this.items[x])===A)return x;return-1}clearBackTo(m,A){const x=this._indexOfTagNames(m,A);this.shortenToLength(x+1)}clearBackToTableContext(){this.clearBackTo(l,e.NS.HTML)}clearBackToTableBodyContext(){this.clearBackTo(c,e.NS.HTML)}clearBackToTableRowContext(){this.clearBackTo(a,e.NS.HTML)}remove(m){const A=this._indexOf(m);A>=0&&(A===this.stackTop?this.pop():(this.items.splice(A,1),this.tagIDs.splice(A,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(m,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===e.TAG_ID.BODY?this.items[1]:null}contains(m){return this._indexOf(m)>-1}getCommonAncestor(m){const A=this._indexOf(m)-1;return A>=0?this.items[A]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===e.TAG_ID.HTML}hasInDynamicScope(m,A){for(let x=this.stackTop;x>=0;x--){const g=this.tagIDs[x];switch(this.treeAdapter.getNamespaceURI(this.items[x])){case e.NS.HTML:{if(g===m)return!0;if(A.has(g))return!1;break}case e.NS.SVG:{if(o.has(g))return!1;break}case e.NS.MATHML:{if(s.has(g))return!1;break}}}return!0}hasInScope(m){return this.hasInDynamicScope(m,r)}hasInListItemScope(m){return this.hasInDynamicScope(m,i)}hasInButtonScope(m){return this.hasInDynamicScope(m,u)}hasNumberedHeaderInScope(){for(let m=this.stackTop;m>=0;m--){const A=this.tagIDs[m];switch(this.treeAdapter.getNamespaceURI(this.items[m])){case e.NS.HTML:{if(e.NUMBERED_HEADERS.has(A))return!0;if(r.has(A))return!1;break}case e.NS.SVG:{if(o.has(A))return!1;break}case e.NS.MATHML:{if(s.has(A))return!1;break}}}return!0}hasInTableScope(m){for(let A=this.stackTop;A>=0;A--)if(this.treeAdapter.getNamespaceURI(this.items[A])===e.NS.HTML)switch(this.tagIDs[A]){case m:return!0;case e.TAG_ID.TABLE:case e.TAG_ID.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let m=this.stackTop;m>=0;m--)if(this.treeAdapter.getNamespaceURI(this.items[m])===e.NS.HTML)switch(this.tagIDs[m]){case e.TAG_ID.TBODY:case e.TAG_ID.THEAD:case e.TAG_ID.TFOOT:return!0;case e.TAG_ID.TABLE:case e.TAG_ID.HTML:return!1}return!0}hasInSelectScope(m){for(let A=this.stackTop;A>=0;A--)if(this.treeAdapter.getNamespaceURI(this.items[A])===e.NS.HTML)switch(this.tagIDs[A]){case m:return!0;case e.TAG_ID.OPTION:case e.TAG_ID.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&t.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&n.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(m){for(;this.currentTagId!==void 0&&this.currentTagId!==m&&n.has(this.currentTagId);)this.pop()}}return As.OpenElementStack=h,As}var Mi={},pb;function RB(){if(pb)return Mi;pb=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.FormattingElementList=Mi.EntryType=void 0;const e=3;var t;(function(i){i[i.Marker=0]="Marker",i[i.Element=1]="Element"})(t||(Mi.EntryType=t={}));const n={type:t.Marker};class r{constructor(u){this.treeAdapter=u,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(u,s){const o=[],a=s.length,c=this.treeAdapter.getTagName(u),l=this.treeAdapter.getNamespaceURI(u);for(let f=0;f<this.entries.length;f++){const h=this.entries[f];if(h.type===t.Marker)break;const{element:d}=h;if(this.treeAdapter.getTagName(d)===c&&this.treeAdapter.getNamespaceURI(d)===l){const m=this.treeAdapter.getAttrList(d);m.length===a&&o.push({idx:f,attrs:m})}}return o}_ensureNoahArkCondition(u){if(this.entries.length<e)return;const s=this.treeAdapter.getAttrList(u),o=this._getNoahArkConditionCandidates(u,s);if(o.length<e)return;const a=new Map(s.map(l=>[l.name,l.value]));let c=0;for(let l=0;l<o.length;l++){const f=o[l];f.attrs.every(h=>a.get(h.name)===h.value)&&(c+=1,c>=e&&this.entries.splice(f.idx,1))}}insertMarker(){this.entries.unshift(n)}pushElement(u,s){this._ensureNoahArkCondition(u),this.entries.unshift({type:t.Element,element:u,token:s})}insertElementAfterBookmark(u,s){const o=this.entries.indexOf(this.bookmark);this.entries.splice(o,0,{type:t.Element,element:u,token:s})}removeEntry(u){const s=this.entries.indexOf(u);s!==-1&&this.entries.splice(s,1)}clearToLastMarker(){const u=this.entries.indexOf(n);u===-1?this.entries.length=0:this.entries.splice(0,u+1)}getElementEntryInScopeWithTagName(u){const s=this.entries.find(o=>o.type===t.Marker||this.treeAdapter.getTagName(o.element)===u);return s&&s.type===t.Element?s:null}getElementEntry(u){return this.entries.find(s=>s.type===t.Element&&s.element===u)}}return Mi.FormattingElementList=r,Mi}var wd={},mb;function fh(){return mb||(mb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTreeAdapter=void 0;const t=Ai();e.defaultTreeAdapter={createDocument(){return{nodeName:"#document",mode:t.DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(n,r,i){return{nodeName:n,tagName:n,attrs:i,namespaceURI:r,childNodes:[],parentNode:null}},createCommentNode(n){return{nodeName:"#comment",data:n,parentNode:null}},createTextNode(n){return{nodeName:"#text",value:n,parentNode:null}},appendChild(n,r){n.childNodes.push(r),r.parentNode=n},insertBefore(n,r,i){const u=n.childNodes.indexOf(i);n.childNodes.splice(u,0,r),r.parentNode=n},setTemplateContent(n,r){n.content=r},getTemplateContent(n){return n.content},setDocumentType(n,r,i,u){const s=n.childNodes.find(o=>o.nodeName==="#documentType");if(s)s.name=r,s.publicId=i,s.systemId=u;else{const o={nodeName:"#documentType",name:r,publicId:i,systemId:u,parentNode:null};e.defaultTreeAdapter.appendChild(n,o)}},setDocumentMode(n,r){n.mode=r},getDocumentMode(n){return n.mode},detachNode(n){if(n.parentNode){const r=n.parentNode.childNodes.indexOf(n);n.parentNode.childNodes.splice(r,1),n.parentNode=null}},insertText(n,r){if(n.childNodes.length>0){const i=n.childNodes[n.childNodes.length-1];if(e.defaultTreeAdapter.isTextNode(i)){i.value+=r;return}}e.defaultTreeAdapter.appendChild(n,e.defaultTreeAdapter.createTextNode(r))},insertTextBefore(n,r,i){const u=n.childNodes[n.childNodes.indexOf(i)-1];u&&e.defaultTreeAdapter.isTextNode(u)?u.value+=r:e.defaultTreeAdapter.insertBefore(n,e.defaultTreeAdapter.createTextNode(r),i)},adoptAttributes(n,r){const i=new Set(n.attrs.map(u=>u.name));for(let u=0;u<r.length;u++)i.has(r[u].name)||n.attrs.push(r[u])},getFirstChild(n){return n.childNodes[0]},getChildNodes(n){return n.childNodes},getParentNode(n){return n.parentNode},getAttrList(n){return n.attrs},getTagName(n){return n.tagName},getNamespaceURI(n){return n.namespaceURI},getTextNodeContent(n){return n.value},getCommentNodeContent(n){return n.data},getDocumentTypeNodeName(n){return n.name},getDocumentTypeNodePublicId(n){return n.publicId},getDocumentTypeNodeSystemId(n){return n.systemId},isTextNode(n){return n.nodeName==="#text"},isCommentNode(n){return n.nodeName==="#comment"},isDocumentTypeNode(n){return n.nodeName==="#documentType"},isElementNode(n){return Object.prototype.hasOwnProperty.call(n,"tagName")},setNodeSourceCodeLocation(n,r){n.sourceCodeLocation=r},getNodeSourceCodeLocation(n){return n.sourceCodeLocation},updateNodeSourceCodeLocation(n,r){n.sourceCodeLocation=Object.assign(Object.assign({},n.sourceCodeLocation),r)}}})(wd)),wd}var xs={},gb;function LB(){if(gb)return xs;gb=1,Object.defineProperty(xs,"__esModule",{value:!0}),xs.isConforming=l,xs.getDocumentMode=f;const e=Ai(),t="html",n="about:legacy-compat",r="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",i=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],u=[...i,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],s=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),o=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],a=[...o,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function c(h,d){return d.some(m=>h.startsWith(m))}function l(h){return h.name===t&&h.publicId===null&&(h.systemId===null||h.systemId===n)}function f(h){if(h.name!==t)return e.DOCUMENT_MODE.QUIRKS;const{systemId:d}=h;if(d&&d.toLowerCase()===r)return e.DOCUMENT_MODE.QUIRKS;let{publicId:m}=h;if(m!==null){if(m=m.toLowerCase(),s.has(m))return e.DOCUMENT_MODE.QUIRKS;let A=d===null?u:i;if(c(m,A))return e.DOCUMENT_MODE.QUIRKS;if(A=d===null?o:a,c(m,A))return e.DOCUMENT_MODE.LIMITED_QUIRKS}return e.DOCUMENT_MODE.NO_QUIRKS}return xs}var Od={},bb;function fy(){return bb||(bb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SVG_TAG_NAMES_ADJUSTMENT_MAP=void 0,e.causesExit=a,e.adjustTokenMathMLAttrs=c,e.adjustTokenSVGAttrs=l,e.adjustTokenXMLAttrs=f,e.adjustTokenSVGTagName=h,e.isIntegrationPoint=A;const t=Ai(),n={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},r="definitionurl",i="definitionURL",u=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(x=>[x.toLowerCase(),x])),s=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:t.NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:t.NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:t.NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:t.NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:t.NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:t.NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:t.NS.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:t.NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:t.NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:t.NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:t.NS.XMLNS}]]);e.SVG_TAG_NAMES_ADJUSTMENT_MAP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(x=>[x.toLowerCase(),x]));const o=new Set([t.TAG_ID.B,t.TAG_ID.BIG,t.TAG_ID.BLOCKQUOTE,t.TAG_ID.BODY,t.TAG_ID.BR,t.TAG_ID.CENTER,t.TAG_ID.CODE,t.TAG_ID.DD,t.TAG_ID.DIV,t.TAG_ID.DL,t.TAG_ID.DT,t.TAG_ID.EM,t.TAG_ID.EMBED,t.TAG_ID.H1,t.TAG_ID.H2,t.TAG_ID.H3,t.TAG_ID.H4,t.TAG_ID.H5,t.TAG_ID.H6,t.TAG_ID.HEAD,t.TAG_ID.HR,t.TAG_ID.I,t.TAG_ID.IMG,t.TAG_ID.LI,t.TAG_ID.LISTING,t.TAG_ID.MENU,t.TAG_ID.META,t.TAG_ID.NOBR,t.TAG_ID.OL,t.TAG_ID.P,t.TAG_ID.PRE,t.TAG_ID.RUBY,t.TAG_ID.S,t.TAG_ID.SMALL,t.TAG_ID.SPAN,t.TAG_ID.STRONG,t.TAG_ID.STRIKE,t.TAG_ID.SUB,t.TAG_ID.SUP,t.TAG_ID.TABLE,t.TAG_ID.TT,t.TAG_ID.U,t.TAG_ID.UL,t.TAG_ID.VAR]);function a(x){const g=x.tagID;return g===t.TAG_ID.FONT&&x.attrs.some(({name:v})=>v===t.ATTRS.COLOR||v===t.ATTRS.SIZE||v===t.ATTRS.FACE)||o.has(g)}function c(x){for(let g=0;g<x.attrs.length;g++)if(x.attrs[g].name===r){x.attrs[g].name=i;break}}function l(x){for(let g=0;g<x.attrs.length;g++){const b=u.get(x.attrs[g].name);b!=null&&(x.attrs[g].name=b)}}function f(x){for(let g=0;g<x.attrs.length;g++){const b=s.get(x.attrs[g].name);b&&(x.attrs[g].prefix=b.prefix,x.attrs[g].name=b.name,x.attrs[g].namespace=b.namespace)}}function h(x){const g=e.SVG_TAG_NAMES_ADJUSTMENT_MAP.get(x.tagName);g!=null&&(x.tagName=g,x.tagID=(0,t.getTagID)(x.tagName))}function d(x,g){return g===t.NS.MATHML&&(x===t.TAG_ID.MI||x===t.TAG_ID.MO||x===t.TAG_ID.MN||x===t.TAG_ID.MS||x===t.TAG_ID.MTEXT)}function m(x,g,b){if(g===t.NS.MATHML&&x===t.TAG_ID.ANNOTATION_XML){for(let v=0;v<b.length;v++)if(b[v].name===t.ATTRS.ENCODING){const p=b[v].value.toLowerCase();return p===n.TEXT_HTML||p===n.APPLICATION_XML}}return g===t.NS.SVG&&(x===t.TAG_ID.FOREIGN_OBJECT||x===t.TAG_ID.DESC||x===t.TAG_ID.TITLE)}function A(x,g,b,v){return(!v||v===t.NS.HTML)&&m(x,g,b)||(!v||v===t.NS.MATHML)&&d(x,g)}})(Od)),Od}var Eb;function Tb(){if(Eb)return bs;Eb=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.Parser=void 0;const e=dy(),t=DB(),n=RB(),r=fh(),i=LB(),u=fy(),s=uc(),o=ch(),a=Ai(),c=dh(),l="hidden",f=8,h=3;var d;(function(y){y[y.INITIAL=0]="INITIAL",y[y.BEFORE_HTML=1]="BEFORE_HTML",y[y.BEFORE_HEAD=2]="BEFORE_HEAD",y[y.IN_HEAD=3]="IN_HEAD",y[y.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",y[y.AFTER_HEAD=5]="AFTER_HEAD",y[y.IN_BODY=6]="IN_BODY",y[y.TEXT=7]="TEXT",y[y.IN_TABLE=8]="IN_TABLE",y[y.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",y[y.IN_CAPTION=10]="IN_CAPTION",y[y.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",y[y.IN_TABLE_BODY=12]="IN_TABLE_BODY",y[y.IN_ROW=13]="IN_ROW",y[y.IN_CELL=14]="IN_CELL",y[y.IN_SELECT=15]="IN_SELECT",y[y.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",y[y.IN_TEMPLATE=17]="IN_TEMPLATE",y[y.AFTER_BODY=18]="AFTER_BODY",y[y.IN_FRAMESET=19]="IN_FRAMESET",y[y.AFTER_FRAMESET=20]="AFTER_FRAMESET",y[y.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",y[y.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(d||(d={}));const m={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},A=new Set([a.TAG_ID.TABLE,a.TAG_ID.TBODY,a.TAG_ID.TFOOT,a.TAG_ID.THEAD,a.TAG_ID.TR]),x={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:r.defaultTreeAdapter,onParseError:null};class g{constructor(S,Y,te=null,ye=null){this.fragmentContext=te,this.scriptHandler=ye,this.currentToken=null,this.stopped=!1,this.insertionMode=d.INITIAL,this.originalInsertionMode=d.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=Object.assign(Object.assign({},x),S),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=Y!=null?Y:this.treeAdapter.createDocument(),this.tokenizer=new e.Tokenizer(this.options,this),this.activeFormattingElements=new n.FormattingElementList(this.treeAdapter),this.fragmentContextID=te?(0,a.getTagID)(this.treeAdapter.getTagName(te)):a.TAG_ID.UNKNOWN,this._setContextModes(te!=null?te:this.document,this.fragmentContextID),this.openElements=new t.OpenElementStack(this.document,this.treeAdapter,this)}static parse(S,Y){const te=new this(Y);return te.tokenizer.write(S,!0),te.document}static getFragmentParser(S,Y){const te=Object.assign(Object.assign({},x),Y);S!=null||(S=te.treeAdapter.createElement(a.TAG_NAMES.TEMPLATE,a.NS.HTML,[]));const ye=te.treeAdapter.createElement("documentmock",a.NS.HTML,[]),we=new this(te,ye,S);return we.fragmentContextID===a.TAG_ID.TEMPLATE&&we.tmplInsertionModeStack.unshift(d.IN_TEMPLATE),we._initTokenizerForFragmentParsing(),we._insertFakeRootElement(),we._resetInsertionMode(),we._findFormInFragmentContext(),we}getFragment(){const S=this.treeAdapter.getFirstChild(this.document),Y=this.treeAdapter.createDocumentFragment();return this._adoptNodes(S,Y),Y}_err(S,Y,te){var ye;if(!this.onParseError)return;const we=(ye=S.location)!==null&&ye!==void 0?ye:m,st={code:Y,startLine:we.startLine,startCol:we.startCol,startOffset:we.startOffset,endLine:te?we.startLine:we.endLine,endCol:te?we.startCol:we.endCol,endOffset:te?we.startOffset:we.endOffset};this.onParseError(st)}onItemPush(S,Y,te){var ye,we;(we=(ye=this.treeAdapter).onItemPush)===null||we===void 0||we.call(ye,S),te&&this.openElements.stackTop>0&&this._setContextModes(S,Y)}onItemPop(S,Y){var te,ye;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(S,this.currentToken),(ye=(te=this.treeAdapter).onItemPop)===null||ye===void 0||ye.call(te,S,this.openElements.current),Y){let we,st;this.openElements.stackTop===0&&this.fragmentContext?(we=this.fragmentContext,st=this.fragmentContextID):{current:we,currentTagId:st}=this.openElements,this._setContextModes(we,st)}}_setContextModes(S,Y){const te=S===this.document||S&&this.treeAdapter.getNamespaceURI(S)===a.NS.HTML;this.currentNotInHTML=!te,this.tokenizer.inForeignNode=!te&&S!==void 0&&Y!==void 0&&!this._isIntegrationPoint(Y,S)}_switchToTextParsing(S,Y){this._insertElement(S,a.NS.HTML),this.tokenizer.state=Y,this.originalInsertionMode=this.insertionMode,this.insertionMode=d.TEXT}switchToPlaintextParsing(){this.insertionMode=d.TEXT,this.originalInsertionMode=d.IN_BODY,this.tokenizer.state=e.TokenizerMode.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let S=this.fragmentContext;for(;S;){if(this.treeAdapter.getTagName(S)===a.TAG_NAMES.FORM){this.formElement=S;break}S=this.treeAdapter.getParentNode(S)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==a.NS.HTML))switch(this.fragmentContextID){case a.TAG_ID.TITLE:case a.TAG_ID.TEXTAREA:{this.tokenizer.state=e.TokenizerMode.RCDATA;break}case a.TAG_ID.STYLE:case a.TAG_ID.XMP:case a.TAG_ID.IFRAME:case a.TAG_ID.NOEMBED:case a.TAG_ID.NOFRAMES:case a.TAG_ID.NOSCRIPT:{this.tokenizer.state=e.TokenizerMode.RAWTEXT;break}case a.TAG_ID.SCRIPT:{this.tokenizer.state=e.TokenizerMode.SCRIPT_DATA;break}case a.TAG_ID.PLAINTEXT:{this.tokenizer.state=e.TokenizerMode.PLAINTEXT;break}}}_setDocumentType(S){const Y=S.name||"",te=S.publicId||"",ye=S.systemId||"";if(this.treeAdapter.setDocumentType(this.document,Y,te,ye),S.location){const st=this.treeAdapter.getChildNodes(this.document).find(Wr=>this.treeAdapter.isDocumentTypeNode(Wr));st&&this.treeAdapter.setNodeSourceCodeLocation(st,S.location)}}_attachElementToTree(S,Y){if(this.options.sourceCodeLocationInfo){const te=Y&&Object.assign(Object.assign({},Y),{startTag:Y});this.treeAdapter.setNodeSourceCodeLocation(S,te)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(S);else{const te=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(te!=null?te:this.document,S)}}_appendElement(S,Y){const te=this.treeAdapter.createElement(S.tagName,Y,S.attrs);this._attachElementToTree(te,S.location)}_insertElement(S,Y){const te=this.treeAdapter.createElement(S.tagName,Y,S.attrs);this._attachElementToTree(te,S.location),this.openElements.push(te,S.tagID)}_insertFakeElement(S,Y){const te=this.treeAdapter.createElement(S,a.NS.HTML,[]);this._attachElementToTree(te,null),this.openElements.push(te,Y)}_insertTemplate(S){const Y=this.treeAdapter.createElement(S.tagName,a.NS.HTML,S.attrs),te=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(Y,te),this._attachElementToTree(Y,S.location),this.openElements.push(Y,S.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(te,null)}_insertFakeRootElement(){const S=this.treeAdapter.createElement(a.TAG_NAMES.HTML,a.NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(S,null),this.treeAdapter.appendChild(this.openElements.current,S),this.openElements.push(S,a.TAG_ID.HTML)}_appendCommentNode(S,Y){const te=this.treeAdapter.createCommentNode(S.data);this.treeAdapter.appendChild(Y,te),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(te,S.location)}_insertCharacters(S){let Y,te;if(this._shouldFosterParentOnInsertion()?({parent:Y,beforeElement:te}=this._findFosterParentingLocation(),te?this.treeAdapter.insertTextBefore(Y,S.chars,te):this.treeAdapter.insertText(Y,S.chars)):(Y=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(Y,S.chars)),!S.location)return;const ye=this.treeAdapter.getChildNodes(Y),we=te?ye.lastIndexOf(te):ye.length,st=ye[we-1];if(this.treeAdapter.getNodeSourceCodeLocation(st)){const{endLine:za,endCol:yh,endOffset:My}=S.location;this.treeAdapter.updateNodeSourceCodeLocation(st,{endLine:za,endCol:yh,endOffset:My})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(st,S.location)}_adoptNodes(S,Y){for(let te=this.treeAdapter.getFirstChild(S);te;te=this.treeAdapter.getFirstChild(S))this.treeAdapter.detachNode(te),this.treeAdapter.appendChild(Y,te)}_setEndLocation(S,Y){if(this.treeAdapter.getNodeSourceCodeLocation(S)&&Y.location){const te=Y.location,ye=this.treeAdapter.getTagName(S),we=Y.type===c.TokenType.END_TAG&&ye===Y.tagName?{endTag:Object.assign({},te),endLine:te.endLine,endCol:te.endCol,endOffset:te.endOffset}:{endLine:te.startLine,endCol:te.startCol,endOffset:te.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(S,we)}}shouldProcessStartTagTokenInForeignContent(S){if(!this.currentNotInHTML)return!1;let Y,te;return this.openElements.stackTop===0&&this.fragmentContext?(Y=this.fragmentContext,te=this.fragmentContextID):{current:Y,currentTagId:te}=this.openElements,S.tagID===a.TAG_ID.SVG&&this.treeAdapter.getTagName(Y)===a.TAG_NAMES.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(Y)===a.NS.MATHML?!1:this.tokenizer.inForeignNode||(S.tagID===a.TAG_ID.MGLYPH||S.tagID===a.TAG_ID.MALIGNMARK)&&te!==void 0&&!this._isIntegrationPoint(te,Y,a.NS.HTML)}_processToken(S){switch(S.type){case c.TokenType.CHARACTER:{this.onCharacter(S);break}case c.TokenType.NULL_CHARACTER:{this.onNullCharacter(S);break}case c.TokenType.COMMENT:{this.onComment(S);break}case c.TokenType.DOCTYPE:{this.onDoctype(S);break}case c.TokenType.START_TAG:{this._processStartTag(S);break}case c.TokenType.END_TAG:{this.onEndTag(S);break}case c.TokenType.EOF:{this.onEof(S);break}case c.TokenType.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(S);break}}}_isIntegrationPoint(S,Y,te){const ye=this.treeAdapter.getNamespaceURI(Y),we=this.treeAdapter.getAttrList(Y);return u.isIntegrationPoint(S,ye,we,te)}_reconstructActiveFormattingElements(){const S=this.activeFormattingElements.entries.length;if(S){const Y=this.activeFormattingElements.entries.findIndex(ye=>ye.type===n.EntryType.Marker||this.openElements.contains(ye.element)),te=Y===-1?S-1:Y-1;for(let ye=te;ye>=0;ye--){const we=this.activeFormattingElements.entries[ye];this._insertElement(we.token,this.treeAdapter.getNamespaceURI(we.element)),we.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=d.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(a.TAG_ID.P),this.openElements.popUntilTagNamePopped(a.TAG_ID.P)}_resetInsertionMode(){for(let S=this.openElements.stackTop;S>=0;S--)switch(S===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[S]){case a.TAG_ID.TR:{this.insertionMode=d.IN_ROW;return}case a.TAG_ID.TBODY:case a.TAG_ID.THEAD:case a.TAG_ID.TFOOT:{this.insertionMode=d.IN_TABLE_BODY;return}case a.TAG_ID.CAPTION:{this.insertionMode=d.IN_CAPTION;return}case a.TAG_ID.COLGROUP:{this.insertionMode=d.IN_COLUMN_GROUP;return}case a.TAG_ID.TABLE:{this.insertionMode=d.IN_TABLE;return}case a.TAG_ID.BODY:{this.insertionMode=d.IN_BODY;return}case a.TAG_ID.FRAMESET:{this.insertionMode=d.IN_FRAMESET;return}case a.TAG_ID.SELECT:{this._resetInsertionModeForSelect(S);return}case a.TAG_ID.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case a.TAG_ID.HTML:{this.insertionMode=this.headElement?d.AFTER_HEAD:d.BEFORE_HEAD;return}case a.TAG_ID.TD:case a.TAG_ID.TH:{if(S>0){this.insertionMode=d.IN_CELL;return}break}case a.TAG_ID.HEAD:{if(S>0){this.insertionMode=d.IN_HEAD;return}break}}this.insertionMode=d.IN_BODY}_resetInsertionModeForSelect(S){if(S>0)for(let Y=S-1;Y>0;Y--){const te=this.openElements.tagIDs[Y];if(te===a.TAG_ID.TEMPLATE)break;if(te===a.TAG_ID.TABLE){this.insertionMode=d.IN_SELECT_IN_TABLE;return}}this.insertionMode=d.IN_SELECT}_isElementCausesFosterParenting(S){return A.has(S)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let S=this.openElements.stackTop;S>=0;S--){const Y=this.openElements.items[S];switch(this.openElements.tagIDs[S]){case a.TAG_ID.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(Y)===a.NS.HTML)return{parent:this.treeAdapter.getTemplateContent(Y),beforeElement:null};break}case a.TAG_ID.TABLE:{const te=this.treeAdapter.getParentNode(Y);return te?{parent:te,beforeElement:Y}:{parent:this.openElements.items[S-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(S){const Y=this._findFosterParentingLocation();Y.beforeElement?this.treeAdapter.insertBefore(Y.parent,S,Y.beforeElement):this.treeAdapter.appendChild(Y.parent,S)}_isSpecialElement(S,Y){const te=this.treeAdapter.getNamespaceURI(S);return a.SPECIAL_ELEMENTS[te].has(Y)}onCharacter(S){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Ry(this,S);return}switch(this.insertionMode){case d.INITIAL:{P(this,S);break}case d.BEFORE_HTML:{j(this,S);break}case d.BEFORE_HEAD:{L(this,S);break}case d.IN_HEAD:{Q(this,S);break}case d.IN_HEAD_NO_SCRIPT:{me(this,S);break}case d.AFTER_HEAD:{De(this,S);break}case d.IN_BODY:case d.IN_CAPTION:case d.IN_CELL:case d.IN_TEMPLATE:{Ge(this,S);break}case d.TEXT:case d.IN_SELECT:case d.IN_SELECT_IN_TABLE:{this._insertCharacters(S);break}case d.IN_TABLE:case d.IN_TABLE_BODY:case d.IN_ROW:{du(this,S);break}case d.IN_TABLE_TEXT:{hh(this,S);break}case d.IN_COLUMN_GROUP:{Ba(this,S);break}case d.AFTER_BODY:{ja(this,S);break}case d.AFTER_AFTER_BODY:{Ua(this,S);break}}}onNullCharacter(S){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Dy(this,S);return}switch(this.insertionMode){case d.INITIAL:{P(this,S);break}case d.BEFORE_HTML:{j(this,S);break}case d.BEFORE_HEAD:{L(this,S);break}case d.IN_HEAD:{Q(this,S);break}case d.IN_HEAD_NO_SCRIPT:{me(this,S);break}case d.AFTER_HEAD:{De(this,S);break}case d.TEXT:{this._insertCharacters(S);break}case d.IN_TABLE:case d.IN_TABLE_BODY:case d.IN_ROW:{du(this,S);break}case d.IN_COLUMN_GROUP:{Ba(this,S);break}case d.AFTER_BODY:{ja(this,S);break}case d.AFTER_AFTER_BODY:{Ua(this,S);break}}}onComment(S){if(this.skipNextNewLine=!1,this.currentNotInHTML){D(this,S);return}switch(this.insertionMode){case d.INITIAL:case d.BEFORE_HTML:case d.BEFORE_HEAD:case d.IN_HEAD:case d.IN_HEAD_NO_SCRIPT:case d.AFTER_HEAD:case d.IN_BODY:case d.IN_TABLE:case d.IN_CAPTION:case d.IN_COLUMN_GROUP:case d.IN_TABLE_BODY:case d.IN_ROW:case d.IN_CELL:case d.IN_SELECT:case d.IN_SELECT_IN_TABLE:case d.IN_TEMPLATE:case d.IN_FRAMESET:case d.AFTER_FRAMESET:{D(this,S);break}case d.IN_TABLE_TEXT:{Ju(this,S);break}case d.AFTER_BODY:{N(this,S);break}case d.AFTER_AFTER_BODY:case d.AFTER_AFTER_FRAMESET:{I(this,S);break}}}onDoctype(S){switch(this.skipNextNewLine=!1,this.insertionMode){case d.INITIAL:{O(this,S);break}case d.BEFORE_HEAD:case d.IN_HEAD:case d.IN_HEAD_NO_SCRIPT:case d.AFTER_HEAD:{this._err(S,s.ERR.misplacedDoctype);break}case d.IN_TABLE_TEXT:{Ju(this,S);break}}}onStartTag(S){this.skipNextNewLine=!1,this.currentToken=S,this._processStartTag(S),S.selfClosing&&!S.ackSelfClosing&&this._err(S,s.ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(S){this.shouldProcessStartTagTokenInForeignContent(S)?Ly(this,S):this._startTagOutsideForeignContent(S)}_startTagOutsideForeignContent(S){switch(this.insertionMode){case d.INITIAL:{P(this,S);break}case d.BEFORE_HTML:{B(this,S);break}case d.BEFORE_HEAD:{W(this,S);break}case d.IN_HEAD:{F(this,S);break}case d.IN_HEAD_NO_SCRIPT:{ee(this,S);break}case d.AFTER_HEAD:{_e(this,S);break}case d.IN_BODY:{re(this,S);break}case d.IN_TABLE:{qe(this,S);break}case d.IN_TABLE_TEXT:{Ju(this,S);break}case d.IN_CAPTION:{gy(this,S);break}case d.IN_COLUMN_GROUP:{fc(this,S);break}case d.IN_TABLE_BODY:{Fa(this,S);break}case d.IN_ROW:{Ha(this,S);break}case d.IN_CELL:{Ty(this,S);break}case d.IN_SELECT:{gh(this,S);break}case d.IN_SELECT_IN_TABLE:{yy(this,S);break}case d.IN_TEMPLATE:{xy(this,S);break}case d.AFTER_BODY:{Ny(this,S);break}case d.IN_FRAMESET:{Sy(this,S);break}case d.AFTER_FRAMESET:{vy(this,S);break}case d.AFTER_AFTER_BODY:{wy(this,S);break}case d.AFTER_AFTER_FRAMESET:{Oy(this,S);break}}}onEndTag(S){this.skipNextNewLine=!1,this.currentToken=S,this.currentNotInHTML?Py(this,S):this._endTagOutsideForeignContent(S)}_endTagOutsideForeignContent(S){switch(this.insertionMode){case d.INITIAL:{P(this,S);break}case d.BEFORE_HTML:{M(this,S);break}case d.BEFORE_HEAD:{$(this,S);break}case d.IN_HEAD:{V(this,S);break}case d.IN_HEAD_NO_SCRIPT:{ie(this,S);break}case d.AFTER_HEAD:{se(this,S);break}case d.IN_BODY:{cu(this,S);break}case d.TEXT:{cc(this,S);break}case d.IN_TABLE:{Et(this,S);break}case d.IN_TABLE_TEXT:{Ju(this,S);break}case d.IN_CAPTION:{by(this,S);break}case d.IN_COLUMN_GROUP:{Ey(this,S);break}case d.IN_TABLE_BODY:{hc(this,S);break}case d.IN_ROW:{mh(this,S);break}case d.IN_CELL:{_y(this,S);break}case d.IN_SELECT:{bh(this,S);break}case d.IN_SELECT_IN_TABLE:{Ay(this,S);break}case d.IN_TEMPLATE:{Cy(this,S);break}case d.AFTER_BODY:{Th(this,S);break}case d.IN_FRAMESET:{Iy(this,S);break}case d.AFTER_FRAMESET:{ky(this,S);break}case d.AFTER_AFTER_BODY:{Ua(this,S);break}}}onEof(S){switch(this.insertionMode){case d.INITIAL:{P(this,S);break}case d.BEFORE_HTML:{j(this,S);break}case d.BEFORE_HEAD:{L(this,S);break}case d.IN_HEAD:{Q(this,S);break}case d.IN_HEAD_NO_SCRIPT:{me(this,S);break}case d.AFTER_HEAD:{De(this,S);break}case d.IN_BODY:case d.IN_TABLE:case d.IN_CAPTION:case d.IN_COLUMN_GROUP:case d.IN_TABLE_BODY:case d.IN_ROW:case d.IN_CELL:case d.IN_SELECT:case d.IN_SELECT_IN_TABLE:{Da(this,S);break}case d.TEXT:{dc(this,S);break}case d.IN_TABLE_TEXT:{Ju(this,S);break}case d.IN_TEMPLATE:{Eh(this,S);break}case d.AFTER_BODY:case d.IN_FRAMESET:case d.AFTER_FRAMESET:case d.AFTER_AFTER_BODY:case d.AFTER_AFTER_FRAMESET:{w(this,S);break}}}onWhitespaceCharacter(S){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,S.chars.charCodeAt(0)===o.CODE_POINTS.LINE_FEED)){if(S.chars.length===1)return;S.chars=S.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(S);return}switch(this.insertionMode){case d.IN_HEAD:case d.IN_HEAD_NO_SCRIPT:case d.AFTER_HEAD:case d.TEXT:case d.IN_COLUMN_GROUP:case d.IN_SELECT:case d.IN_SELECT_IN_TABLE:case d.IN_FRAMESET:case d.AFTER_FRAMESET:{this._insertCharacters(S);break}case d.IN_BODY:case d.IN_CAPTION:case d.IN_CELL:case d.IN_TEMPLATE:case d.AFTER_BODY:case d.AFTER_AFTER_BODY:case d.AFTER_AFTER_FRAMESET:{Pe(this,S);break}case d.IN_TABLE:case d.IN_TABLE_BODY:case d.IN_ROW:{du(this,S);break}case d.IN_TABLE_TEXT:{Vr(this,S);break}}}}bs.Parser=g;function b(y,S){let Y=y.activeFormattingElements.getElementEntryInScopeWithTagName(S.tagName);return Y?y.openElements.contains(Y.element)?y.openElements.hasInScope(S.tagID)||(Y=null):(y.activeFormattingElements.removeEntry(Y),Y=null):Oa(y,S),Y}function v(y,S){let Y=null,te=y.openElements.stackTop;for(;te>=0;te--){const ye=y.openElements.items[te];if(ye===S.element)break;y._isSpecialElement(ye,y.openElements.tagIDs[te])&&(Y=ye)}return Y||(y.openElements.shortenToLength(Math.max(te,0)),y.activeFormattingElements.removeEntry(S)),Y}function p(y,S,Y){let te=S,ye=y.openElements.getCommonAncestor(S);for(let we=0,st=ye;st!==Y;we++,st=ye){ye=y.openElements.getCommonAncestor(st);const Wr=y.activeFormattingElements.getElementEntry(st),za=Wr&&we>=h;!Wr||za?(za&&y.activeFormattingElements.removeEntry(Wr),y.openElements.remove(st)):(st=_(y,Wr),te===S&&(y.activeFormattingElements.bookmark=Wr),y.treeAdapter.detachNode(te),y.treeAdapter.appendChild(st,te),te=st)}return te}function _(y,S){const Y=y.treeAdapter.getNamespaceURI(S.element),te=y.treeAdapter.createElement(S.token.tagName,Y,S.token.attrs);return y.openElements.replace(S.element,te),S.element=te,te}function E(y,S,Y){const te=y.treeAdapter.getTagName(S),ye=(0,a.getTagID)(te);if(y._isElementCausesFosterParenting(ye))y._fosterParentElement(Y);else{const we=y.treeAdapter.getNamespaceURI(S);ye===a.TAG_ID.TEMPLATE&&we===a.NS.HTML&&(S=y.treeAdapter.getTemplateContent(S)),y.treeAdapter.appendChild(S,Y)}}function k(y,S,Y){const te=y.treeAdapter.getNamespaceURI(Y.element),{token:ye}=Y,we=y.treeAdapter.createElement(ye.tagName,te,ye.attrs);y._adoptNodes(S,we),y.treeAdapter.appendChild(S,we),y.activeFormattingElements.insertElementAfterBookmark(we,ye),y.activeFormattingElements.removeEntry(Y),y.openElements.remove(Y.element),y.openElements.insertAfter(S,we,ye.tagID)}function R(y,S){for(let Y=0;Y<f;Y++){const te=b(y,S);if(!te)break;const ye=v(y,te);if(!ye)break;y.activeFormattingElements.bookmark=te;const we=p(y,ye,te.element),st=y.openElements.getCommonAncestor(te.element);y.treeAdapter.detachNode(we),st&&E(y,st,we),k(y,ye,te)}}function D(y,S){y._appendCommentNode(S,y.openElements.currentTmplContentOrNode)}function N(y,S){y._appendCommentNode(S,y.openElements.items[0])}function I(y,S){y._appendCommentNode(S,y.document)}function w(y,S){if(y.stopped=!0,S.location){const Y=y.fragmentContext?0:2;for(let te=y.openElements.stackTop;te>=Y;te--)y._setEndLocation(y.openElements.items[te],S);if(!y.fragmentContext&&y.openElements.stackTop>=0){const te=y.openElements.items[0],ye=y.treeAdapter.getNodeSourceCodeLocation(te);if(ye&&!ye.endTag&&(y._setEndLocation(te,S),y.openElements.stackTop>=1)){const we=y.openElements.items[1],st=y.treeAdapter.getNodeSourceCodeLocation(we);st&&!st.endTag&&y._setEndLocation(we,S)}}}}function O(y,S){y._setDocumentType(S);const Y=S.forceQuirks?a.DOCUMENT_MODE.QUIRKS:i.getDocumentMode(S);i.isConforming(S)||y._err(S,s.ERR.nonConformingDoctype),y.treeAdapter.setDocumentMode(y.document,Y),y.insertionMode=d.BEFORE_HTML}function P(y,S){y._err(S,s.ERR.missingDoctype,!0),y.treeAdapter.setDocumentMode(y.document,a.DOCUMENT_MODE.QUIRKS),y.insertionMode=d.BEFORE_HTML,y._processToken(S)}function B(y,S){S.tagID===a.TAG_ID.HTML?(y._insertElement(S,a.NS.HTML),y.insertionMode=d.BEFORE_HEAD):j(y,S)}function M(y,S){const Y=S.tagID;(Y===a.TAG_ID.HTML||Y===a.TAG_ID.HEAD||Y===a.TAG_ID.BODY||Y===a.TAG_ID.BR)&&j(y,S)}function j(y,S){y._insertFakeRootElement(),y.insertionMode=d.BEFORE_HEAD,y._processToken(S)}function W(y,S){switch(S.tagID){case a.TAG_ID.HTML:{re(y,S);break}case a.TAG_ID.HEAD:{y._insertElement(S,a.NS.HTML),y.headElement=y.openElements.current,y.insertionMode=d.IN_HEAD;break}default:L(y,S)}}function $(y,S){const Y=S.tagID;Y===a.TAG_ID.HEAD||Y===a.TAG_ID.BODY||Y===a.TAG_ID.HTML||Y===a.TAG_ID.BR?L(y,S):y._err(S,s.ERR.endTagWithoutMatchingOpenElement)}function L(y,S){y._insertFakeElement(a.TAG_NAMES.HEAD,a.TAG_ID.HEAD),y.headElement=y.openElements.current,y.insertionMode=d.IN_HEAD,y._processToken(S)}function F(y,S){switch(S.tagID){case a.TAG_ID.HTML:{re(y,S);break}case a.TAG_ID.BASE:case a.TAG_ID.BASEFONT:case a.TAG_ID.BGSOUND:case a.TAG_ID.LINK:case a.TAG_ID.META:{y._appendElement(S,a.NS.HTML),S.ackSelfClosing=!0;break}case a.TAG_ID.TITLE:{y._switchToTextParsing(S,e.TokenizerMode.RCDATA);break}case a.TAG_ID.NOSCRIPT:{y.options.scriptingEnabled?y._switchToTextParsing(S,e.TokenizerMode.RAWTEXT):(y._insertElement(S,a.NS.HTML),y.insertionMode=d.IN_HEAD_NO_SCRIPT);break}case a.TAG_ID.NOFRAMES:case a.TAG_ID.STYLE:{y._switchToTextParsing(S,e.TokenizerMode.RAWTEXT);break}case a.TAG_ID.SCRIPT:{y._switchToTextParsing(S,e.TokenizerMode.SCRIPT_DATA);break}case a.TAG_ID.TEMPLATE:{y._insertTemplate(S),y.activeFormattingElements.insertMarker(),y.framesetOk=!1,y.insertionMode=d.IN_TEMPLATE,y.tmplInsertionModeStack.unshift(d.IN_TEMPLATE);break}case a.TAG_ID.HEAD:{y._err(S,s.ERR.misplacedStartTagForHeadElement);break}default:Q(y,S)}}function V(y,S){switch(S.tagID){case a.TAG_ID.HEAD:{y.openElements.pop(),y.insertionMode=d.AFTER_HEAD;break}case a.TAG_ID.BODY:case a.TAG_ID.BR:case a.TAG_ID.HTML:{Q(y,S);break}case a.TAG_ID.TEMPLATE:{H(y,S);break}default:y._err(S,s.ERR.endTagWithoutMatchingOpenElement)}}function H(y,S){y.openElements.tmplCount>0?(y.openElements.generateImpliedEndTagsThoroughly(),y.openElements.currentTagId!==a.TAG_ID.TEMPLATE&&y._err(S,s.ERR.closingOfElementWithOpenChildElements),y.openElements.popUntilTagNamePopped(a.TAG_ID.TEMPLATE),y.activeFormattingElements.clearToLastMarker(),y.tmplInsertionModeStack.shift(),y._resetInsertionMode()):y._err(S,s.ERR.endTagWithoutMatchingOpenElement)}function Q(y,S){y.openElements.pop(),y.insertionMode=d.AFTER_HEAD,y._processToken(S)}function ee(y,S){switch(S.tagID){case a.TAG_ID.HTML:{re(y,S);break}case a.TAG_ID.BASEFONT:case a.TAG_ID.BGSOUND:case a.TAG_ID.HEAD:case a.TAG_ID.LINK:case a.TAG_ID.META:case a.TAG_ID.NOFRAMES:case a.TAG_ID.STYLE:{F(y,S);break}case a.TAG_ID.NOSCRIPT:{y._err(S,s.ERR.nestedNoscriptInHead);break}default:me(y,S)}}function ie(y,S){switch(S.tagID){case a.TAG_ID.NOSCRIPT:{y.openElements.pop(),y.insertionMode=d.IN_HEAD;break}case a.TAG_ID.BR:{me(y,S);break}default:y._err(S,s.ERR.endTagWithoutMatchingOpenElement)}}function me(y,S){const Y=S.type===c.TokenType.EOF?s.ERR.openElementsLeftAfterEof:s.ERR.disallowedContentInNoscriptInHead;y._err(S,Y),y.openElements.pop(),y.insertionMode=d.IN_HEAD,y._processToken(S)}function _e(y,S){switch(S.tagID){case a.TAG_ID.HTML:{re(y,S);break}case a.TAG_ID.BODY:{y._insertElement(S,a.NS.HTML),y.framesetOk=!1,y.insertionMode=d.IN_BODY;break}case a.TAG_ID.FRAMESET:{y._insertElement(S,a.NS.HTML),y.insertionMode=d.IN_FRAMESET;break}case a.TAG_ID.BASE:case a.TAG_ID.BASEFONT:case a.TAG_ID.BGSOUND:case a.TAG_ID.LINK:case a.TAG_ID.META:case a.TAG_ID.NOFRAMES:case a.TAG_ID.SCRIPT:case a.TAG_ID.STYLE:case a.TAG_ID.TEMPLATE:case a.TAG_ID.TITLE:{y._err(S,s.ERR.abandonedHeadElementChild),y.openElements.push(y.headElement,a.TAG_ID.HEAD),F(y,S),y.openElements.remove(y.headElement);break}case a.TAG_ID.HEAD:{y._err(S,s.ERR.misplacedStartTagForHeadElement);break}default:De(y,S)}}function se(y,S){switch(S.tagID){case a.TAG_ID.BODY:case a.TAG_ID.HTML:case a.TAG_ID.BR:{De(y,S);break}case a.TAG_ID.TEMPLATE:{H(y,S);break}default:y._err(S,s.ERR.endTagWithoutMatchingOpenElement)}}function De(y,S){y._insertFakeElement(a.TAG_NAMES.BODY,a.TAG_ID.BODY),y.insertionMode=d.IN_BODY,Ne(y,S)}function Ne(y,S){switch(S.type){case c.TokenType.CHARACTER:{Ge(y,S);break}case c.TokenType.WHITESPACE_CHARACTER:{Pe(y,S);break}case c.TokenType.COMMENT:{D(y,S);break}case c.TokenType.START_TAG:{re(y,S);break}case c.TokenType.END_TAG:{cu(y,S);break}case c.TokenType.EOF:{Da(y,S);break}}}function Pe(y,S){y._reconstructActiveFormattingElements(),y._insertCharacters(S)}function Ge(y,S){y._reconstructActiveFormattingElements(),y._insertCharacters(S),y.framesetOk=!1}function lt(y,S){y.openElements.tmplCount===0&&y.treeAdapter.adoptAttributes(y.openElements.items[0],S.attrs)}function Me(y,S){const Y=y.openElements.tryPeekProperlyNestedBodyElement();Y&&y.openElements.tmplCount===0&&(y.framesetOk=!1,y.treeAdapter.adoptAttributes(Y,S.attrs))}function St(y,S){const Y=y.openElements.tryPeekProperlyNestedBodyElement();y.framesetOk&&Y&&(y.treeAdapter.detachNode(Y),y.openElements.popAllUpToHtmlElement(),y._insertElement(S,a.NS.HTML),y.insertionMode=d.IN_FRAMESET)}function vt(y,S){y.openElements.hasInButtonScope(a.TAG_ID.P)&&y._closePElement(),y._insertElement(S,a.NS.HTML)}function Lt(y,S){y.openElements.hasInButtonScope(a.TAG_ID.P)&&y._closePElement(),y.openElements.currentTagId!==void 0&&a.NUMBERED_HEADERS.has(y.openElements.currentTagId)&&y.openElements.pop(),y._insertElement(S,a.NS.HTML)}function Ue(y,S){y.openElements.hasInButtonScope(a.TAG_ID.P)&&y._closePElement(),y._insertElement(S,a.NS.HTML),y.skipNextNewLine=!0,y.framesetOk=!1}function Gt(y,S){const Y=y.openElements.tmplCount>0;(!y.formElement||Y)&&(y.openElements.hasInButtonScope(a.TAG_ID.P)&&y._closePElement(),y._insertElement(S,a.NS.HTML),Y||(y.formElement=y.openElements.current))}function ce(y,S){y.framesetOk=!1;const Y=S.tagID;for(let te=y.openElements.stackTop;te>=0;te--){const ye=y.openElements.tagIDs[te];if(Y===a.TAG_ID.LI&&ye===a.TAG_ID.LI||(Y===a.TAG_ID.DD||Y===a.TAG_ID.DT)&&(ye===a.TAG_ID.DD||ye===a.TAG_ID.DT)){y.openElements.generateImpliedEndTagsWithExclusion(ye),y.openElements.popUntilTagNamePopped(ye);break}if(ye!==a.TAG_ID.ADDRESS&&ye!==a.TAG_ID.DIV&&ye!==a.TAG_ID.P&&y._isSpecialElement(y.openElements.items[te],ye))break}y.openElements.hasInButtonScope(a.TAG_ID.P)&&y._closePElement(),y._insertElement(S,a.NS.HTML)}function pt(y,S){y.openElements.hasInButtonScope(a.TAG_ID.P)&&y._closePElement(),y._insertElement(S,a.NS.HTML),y.tokenizer.state=e.TokenizerMode.PLAINTEXT}function nt(y,S){y.openElements.hasInScope(a.TAG_ID.BUTTON)&&(y.openElements.generateImpliedEndTags(),y.openElements.popUntilTagNamePopped(a.TAG_ID.BUTTON)),y._reconstructActiveFormattingElements(),y._insertElement(S,a.NS.HTML),y.framesetOk=!1}function At(y,S){const Y=y.activeFormattingElements.getElementEntryInScopeWithTagName(a.TAG_NAMES.A);Y&&(R(y,S),y.openElements.remove(Y.element),y.activeFormattingElements.removeEntry(Y)),y._reconstructActiveFormattingElements(),y._insertElement(S,a.NS.HTML),y.activeFormattingElements.pushElement(y.openElements.current,S)}function xn(y,S){y._reconstructActiveFormattingElements(),y._insertElement(S,a.NS.HTML),y.activeFormattingElements.pushElement(y.openElements.current,S)}function Z(y,S){y._reconstructActiveFormattingElements(),y.openElements.hasInScope(a.TAG_ID.NOBR)&&(R(y,S),y._reconstructActiveFormattingElements()),y._insertElement(S,a.NS.HTML),y.activeFormattingElements.pushElement(y.openElements.current,S)}function de(y,S){y._reconstructActiveFormattingElements(),y._insertElement(S,a.NS.HTML),y.activeFormattingElements.insertMarker(),y.framesetOk=!1}function ve(y,S){y.treeAdapter.getDocumentMode(y.document)!==a.DOCUMENT_MODE.QUIRKS&&y.openElements.hasInButtonScope(a.TAG_ID.P)&&y._closePElement(),y._insertElement(S,a.NS.HTML),y.framesetOk=!1,y.insertionMode=d.IN_TABLE}function xe(y,S){y._reconstructActiveFormattingElements(),y._appendElement(S,a.NS.HTML),y.framesetOk=!1,S.ackSelfClosing=!0}function Ve(y){const S=(0,c.getTokenAttr)(y,a.ATTRS.TYPE);return S!=null&&S.toLowerCase()===l}function kt(y,S){y._reconstructActiveFormattingElements(),y._appendElement(S,a.NS.HTML),Ve(S)||(y.framesetOk=!1),S.ackSelfClosing=!0}function rt(y,S){y._appendElement(S,a.NS.HTML),S.ackSelfClosing=!0}function Bt(y,S){y.openElements.hasInButtonScope(a.TAG_ID.P)&&y._closePElement(),y._appendElement(S,a.NS.HTML),y.framesetOk=!1,S.ackSelfClosing=!0}function qt(y,S){S.tagName=a.TAG_NAMES.IMG,S.tagID=a.TAG_ID.IMG,xe(y,S)}function gn(y,S){y._insertElement(S,a.NS.HTML),y.skipNextNewLine=!0,y.tokenizer.state=e.TokenizerMode.RCDATA,y.originalInsertionMode=y.insertionMode,y.framesetOk=!1,y.insertionMode=d.TEXT}function Xe(y,S){y.openElements.hasInButtonScope(a.TAG_ID.P)&&y._closePElement(),y._reconstructActiveFormattingElements(),y.framesetOk=!1,y._switchToTextParsing(S,e.TokenizerMode.RAWTEXT)}function Vt(y,S){y.framesetOk=!1,y._switchToTextParsing(S,e.TokenizerMode.RAWTEXT)}function be(y,S){y._switchToTextParsing(S,e.TokenizerMode.RAWTEXT)}function ue(y,S){y._reconstructActiveFormattingElements(),y._insertElement(S,a.NS.HTML),y.framesetOk=!1,y.insertionMode=y.insertionMode===d.IN_TABLE||y.insertionMode===d.IN_CAPTION||y.insertionMode===d.IN_TABLE_BODY||y.insertionMode===d.IN_ROW||y.insertionMode===d.IN_CELL?d.IN_SELECT_IN_TABLE:d.IN_SELECT}function Ie(y,S){y.openElements.currentTagId===a.TAG_ID.OPTION&&y.openElements.pop(),y._reconstructActiveFormattingElements(),y._insertElement(S,a.NS.HTML)}function je(y,S){y.openElements.hasInScope(a.TAG_ID.RUBY)&&y.openElements.generateImpliedEndTags(),y._insertElement(S,a.NS.HTML)}function et(y,S){y.openElements.hasInScope(a.TAG_ID.RUBY)&&y.openElements.generateImpliedEndTagsWithExclusion(a.TAG_ID.RTC),y._insertElement(S,a.NS.HTML)}function $e(y,S){y._reconstructActiveFormattingElements(),u.adjustTokenMathMLAttrs(S),u.adjustTokenXMLAttrs(S),S.selfClosing?y._appendElement(S,a.NS.MATHML):y._insertElement(S,a.NS.MATHML),S.ackSelfClosing=!0}function tn(y,S){y._reconstructActiveFormattingElements(),u.adjustTokenSVGAttrs(S),u.adjustTokenXMLAttrs(S),S.selfClosing?y._appendElement(S,a.NS.SVG):y._insertElement(S,a.NS.SVG),S.ackSelfClosing=!0}function Dn(y,S){y._reconstructActiveFormattingElements(),y._insertElement(S,a.NS.HTML)}function re(y,S){switch(S.tagID){case a.TAG_ID.I:case a.TAG_ID.S:case a.TAG_ID.B:case a.TAG_ID.U:case a.TAG_ID.EM:case a.TAG_ID.TT:case a.TAG_ID.BIG:case a.TAG_ID.CODE:case a.TAG_ID.FONT:case a.TAG_ID.SMALL:case a.TAG_ID.STRIKE:case a.TAG_ID.STRONG:{xn(y,S);break}case a.TAG_ID.A:{At(y,S);break}case a.TAG_ID.H1:case a.TAG_ID.H2:case a.TAG_ID.H3:case a.TAG_ID.H4:case a.TAG_ID.H5:case a.TAG_ID.H6:{Lt(y,S);break}case a.TAG_ID.P:case a.TAG_ID.DL:case a.TAG_ID.OL:case a.TAG_ID.UL:case a.TAG_ID.DIV:case a.TAG_ID.DIR:case a.TAG_ID.NAV:case a.TAG_ID.MAIN:case a.TAG_ID.MENU:case a.TAG_ID.ASIDE:case a.TAG_ID.CENTER:case a.TAG_ID.FIGURE:case a.TAG_ID.FOOTER:case a.TAG_ID.HEADER:case a.TAG_ID.HGROUP:case a.TAG_ID.DIALOG:case a.TAG_ID.DETAILS:case a.TAG_ID.ADDRESS:case a.TAG_ID.ARTICLE:case a.TAG_ID.SEARCH:case a.TAG_ID.SECTION:case a.TAG_ID.SUMMARY:case a.TAG_ID.FIELDSET:case a.TAG_ID.BLOCKQUOTE:case a.TAG_ID.FIGCAPTION:{vt(y,S);break}case a.TAG_ID.LI:case a.TAG_ID.DD:case a.TAG_ID.DT:{ce(y,S);break}case a.TAG_ID.BR:case a.TAG_ID.IMG:case a.TAG_ID.WBR:case a.TAG_ID.AREA:case a.TAG_ID.EMBED:case a.TAG_ID.KEYGEN:{xe(y,S);break}case a.TAG_ID.HR:{Bt(y,S);break}case a.TAG_ID.RB:case a.TAG_ID.RTC:{je(y,S);break}case a.TAG_ID.RT:case a.TAG_ID.RP:{et(y,S);break}case a.TAG_ID.PRE:case a.TAG_ID.LISTING:{Ue(y,S);break}case a.TAG_ID.XMP:{Xe(y,S);break}case a.TAG_ID.SVG:{tn(y,S);break}case a.TAG_ID.HTML:{lt(y,S);break}case a.TAG_ID.BASE:case a.TAG_ID.LINK:case a.TAG_ID.META:case a.TAG_ID.STYLE:case a.TAG_ID.TITLE:case a.TAG_ID.SCRIPT:case a.TAG_ID.BGSOUND:case a.TAG_ID.BASEFONT:case a.TAG_ID.TEMPLATE:{F(y,S);break}case a.TAG_ID.BODY:{Me(y,S);break}case a.TAG_ID.FORM:{Gt(y,S);break}case a.TAG_ID.NOBR:{Z(y,S);break}case a.TAG_ID.MATH:{$e(y,S);break}case a.TAG_ID.TABLE:{ve(y,S);break}case a.TAG_ID.INPUT:{kt(y,S);break}case a.TAG_ID.PARAM:case a.TAG_ID.TRACK:case a.TAG_ID.SOURCE:{rt(y,S);break}case a.TAG_ID.IMAGE:{qt(y,S);break}case a.TAG_ID.BUTTON:{nt(y,S);break}case a.TAG_ID.APPLET:case a.TAG_ID.OBJECT:case a.TAG_ID.MARQUEE:{de(y,S);break}case a.TAG_ID.IFRAME:{Vt(y,S);break}case a.TAG_ID.SELECT:{ue(y,S);break}case a.TAG_ID.OPTION:case a.TAG_ID.OPTGROUP:{Ie(y,S);break}case a.TAG_ID.NOEMBED:case a.TAG_ID.NOFRAMES:{be(y,S);break}case a.TAG_ID.FRAMESET:{St(y,S);break}case a.TAG_ID.TEXTAREA:{gn(y,S);break}case a.TAG_ID.NOSCRIPT:{y.options.scriptingEnabled?be(y,S):Dn(y,S);break}case a.TAG_ID.PLAINTEXT:{pt(y,S);break}case a.TAG_ID.COL:case a.TAG_ID.TH:case a.TAG_ID.TD:case a.TAG_ID.TR:case a.TAG_ID.HEAD:case a.TAG_ID.FRAME:case a.TAG_ID.TBODY:case a.TAG_ID.TFOOT:case a.TAG_ID.THEAD:case a.TAG_ID.CAPTION:case a.TAG_ID.COLGROUP:break;default:Dn(y,S)}}function he(y,S){if(y.openElements.hasInScope(a.TAG_ID.BODY)&&(y.insertionMode=d.AFTER_BODY,y.options.sourceCodeLocationInfo)){const Y=y.openElements.tryPeekProperlyNestedBodyElement();Y&&y._setEndLocation(Y,S)}}function Se(y,S){y.openElements.hasInScope(a.TAG_ID.BODY)&&(y.insertionMode=d.AFTER_BODY,Th(y,S))}function Be(y,S){const Y=S.tagID;y.openElements.hasInScope(Y)&&(y.openElements.generateImpliedEndTags(),y.openElements.popUntilTagNamePopped(Y))}function it(y){const S=y.openElements.tmplCount>0,{formElement:Y}=y;S||(y.formElement=null),(Y||S)&&y.openElements.hasInScope(a.TAG_ID.FORM)&&(y.openElements.generateImpliedEndTags(),S?y.openElements.popUntilTagNamePopped(a.TAG_ID.FORM):Y&&y.openElements.remove(Y))}function xr(y){y.openElements.hasInButtonScope(a.TAG_ID.P)||y._insertFakeElement(a.TAG_NAMES.P,a.TAG_ID.P),y._closePElement()}function sc(y){y.openElements.hasInListItemScope(a.TAG_ID.LI)&&(y.openElements.generateImpliedEndTagsWithExclusion(a.TAG_ID.LI),y.openElements.popUntilTagNamePopped(a.TAG_ID.LI))}function ac(y,S){const Y=S.tagID;y.openElements.hasInScope(Y)&&(y.openElements.generateImpliedEndTagsWithExclusion(Y),y.openElements.popUntilTagNamePopped(Y))}function wa(y){y.openElements.hasNumberedHeaderInScope()&&(y.openElements.generateImpliedEndTags(),y.openElements.popUntilNumberedHeaderPopped())}function oc(y,S){const Y=S.tagID;y.openElements.hasInScope(Y)&&(y.openElements.generateImpliedEndTags(),y.openElements.popUntilTagNamePopped(Y),y.activeFormattingElements.clearToLastMarker())}function lc(y){y._reconstructActiveFormattingElements(),y._insertFakeElement(a.TAG_NAMES.BR,a.TAG_ID.BR),y.openElements.pop(),y.framesetOk=!1}function Oa(y,S){const Y=S.tagName,te=S.tagID;for(let ye=y.openElements.stackTop;ye>0;ye--){const we=y.openElements.items[ye],st=y.openElements.tagIDs[ye];if(te===st&&(te!==a.TAG_ID.UNKNOWN||y.treeAdapter.getTagName(we)===Y)){y.openElements.generateImpliedEndTagsWithExclusion(te),y.openElements.stackTop>=ye&&y.openElements.shortenToLength(ye);break}if(y._isSpecialElement(we,st))break}}function cu(y,S){switch(S.tagID){case a.TAG_ID.A:case a.TAG_ID.B:case a.TAG_ID.I:case a.TAG_ID.S:case a.TAG_ID.U:case a.TAG_ID.EM:case a.TAG_ID.TT:case a.TAG_ID.BIG:case a.TAG_ID.CODE:case a.TAG_ID.FONT:case a.TAG_ID.NOBR:case a.TAG_ID.SMALL:case a.TAG_ID.STRIKE:case a.TAG_ID.STRONG:{R(y,S);break}case a.TAG_ID.P:{xr(y);break}case a.TAG_ID.DL:case a.TAG_ID.UL:case a.TAG_ID.OL:case a.TAG_ID.DIR:case a.TAG_ID.DIV:case a.TAG_ID.NAV:case a.TAG_ID.PRE:case a.TAG_ID.MAIN:case a.TAG_ID.MENU:case a.TAG_ID.ASIDE:case a.TAG_ID.BUTTON:case a.TAG_ID.CENTER:case a.TAG_ID.FIGURE:case a.TAG_ID.FOOTER:case a.TAG_ID.HEADER:case a.TAG_ID.HGROUP:case a.TAG_ID.DIALOG:case a.TAG_ID.ADDRESS:case a.TAG_ID.ARTICLE:case a.TAG_ID.DETAILS:case a.TAG_ID.SEARCH:case a.TAG_ID.SECTION:case a.TAG_ID.SUMMARY:case a.TAG_ID.LISTING:case a.TAG_ID.FIELDSET:case a.TAG_ID.BLOCKQUOTE:case a.TAG_ID.FIGCAPTION:{Be(y,S);break}case a.TAG_ID.LI:{sc(y);break}case a.TAG_ID.DD:case a.TAG_ID.DT:{ac(y,S);break}case a.TAG_ID.H1:case a.TAG_ID.H2:case a.TAG_ID.H3:case a.TAG_ID.H4:case a.TAG_ID.H5:case a.TAG_ID.H6:{wa(y);break}case a.TAG_ID.BR:{lc(y);break}case a.TAG_ID.BODY:{he(y,S);break}case a.TAG_ID.HTML:{Se(y,S);break}case a.TAG_ID.FORM:{it(y);break}case a.TAG_ID.APPLET:case a.TAG_ID.OBJECT:case a.TAG_ID.MARQUEE:{oc(y,S);break}case a.TAG_ID.TEMPLATE:{H(y,S);break}default:Oa(y,S)}}function Da(y,S){y.tmplInsertionModeStack.length>0?Eh(y,S):w(y,S)}function cc(y,S){var Y;S.tagID===a.TAG_ID.SCRIPT&&((Y=y.scriptHandler)===null||Y===void 0||Y.call(y,y.openElements.current)),y.openElements.pop(),y.insertionMode=y.originalInsertionMode}function dc(y,S){y._err(S,s.ERR.eofInElementThatCanContainOnlyText),y.openElements.pop(),y.insertionMode=y.originalInsertionMode,y.onEof(S)}function du(y,S){if(y.openElements.currentTagId!==void 0&&A.has(y.openElements.currentTagId))switch(y.pendingCharacterTokens.length=0,y.hasNonWhitespacePendingCharacterToken=!1,y.originalInsertionMode=y.insertionMode,y.insertionMode=d.IN_TABLE_TEXT,S.type){case c.TokenType.CHARACTER:{hh(y,S);break}case c.TokenType.WHITESPACE_CHARACTER:{Vr(y,S);break}}else or(y,S)}function Ra(y,S){y.openElements.clearBackToTableContext(),y.activeFormattingElements.insertMarker(),y._insertElement(S,a.NS.HTML),y.insertionMode=d.IN_CAPTION}function La(y,S){y.openElements.clearBackToTableContext(),y._insertElement(S,a.NS.HTML),y.insertionMode=d.IN_COLUMN_GROUP}function Pa(y,S){y.openElements.clearBackToTableContext(),y._insertFakeElement(a.TAG_NAMES.COLGROUP,a.TAG_ID.COLGROUP),y.insertionMode=d.IN_COLUMN_GROUP,fc(y,S)}function Ma(y,S){y.openElements.clearBackToTableContext(),y._insertElement(S,a.NS.HTML),y.insertionMode=d.IN_TABLE_BODY}function J(y,S){y.openElements.clearBackToTableContext(),y._insertFakeElement(a.TAG_NAMES.TBODY,a.TAG_ID.TBODY),y.insertionMode=d.IN_TABLE_BODY,Fa(y,S)}function Ce(y,S){y.openElements.hasInTableScope(a.TAG_ID.TABLE)&&(y.openElements.popUntilTagNamePopped(a.TAG_ID.TABLE),y._resetInsertionMode(),y._processStartTag(S))}function He(y,S){Ve(S)?y._appendElement(S,a.NS.HTML):or(y,S),S.ackSelfClosing=!0}function ut(y,S){!y.formElement&&y.openElements.tmplCount===0&&(y._insertElement(S,a.NS.HTML),y.formElement=y.openElements.current,y.openElements.pop())}function qe(y,S){switch(S.tagID){case a.TAG_ID.TD:case a.TAG_ID.TH:case a.TAG_ID.TR:{J(y,S);break}case a.TAG_ID.STYLE:case a.TAG_ID.SCRIPT:case a.TAG_ID.TEMPLATE:{F(y,S);break}case a.TAG_ID.COL:{Pa(y,S);break}case a.TAG_ID.FORM:{ut(y,S);break}case a.TAG_ID.TABLE:{Ce(y,S);break}case a.TAG_ID.TBODY:case a.TAG_ID.TFOOT:case a.TAG_ID.THEAD:{Ma(y,S);break}case a.TAG_ID.INPUT:{He(y,S);break}case a.TAG_ID.CAPTION:{Ra(y,S);break}case a.TAG_ID.COLGROUP:{La(y,S);break}default:or(y,S)}}function Et(y,S){switch(S.tagID){case a.TAG_ID.TABLE:{y.openElements.hasInTableScope(a.TAG_ID.TABLE)&&(y.openElements.popUntilTagNamePopped(a.TAG_ID.TABLE),y._resetInsertionMode());break}case a.TAG_ID.TEMPLATE:{H(y,S);break}case a.TAG_ID.BODY:case a.TAG_ID.CAPTION:case a.TAG_ID.COL:case a.TAG_ID.COLGROUP:case a.TAG_ID.HTML:case a.TAG_ID.TBODY:case a.TAG_ID.TD:case a.TAG_ID.TFOOT:case a.TAG_ID.TH:case a.TAG_ID.THEAD:case a.TAG_ID.TR:break;default:or(y,S)}}function or(y,S){const Y=y.fosterParentingEnabled;y.fosterParentingEnabled=!0,Ne(y,S),y.fosterParentingEnabled=Y}function Vr(y,S){y.pendingCharacterTokens.push(S)}function hh(y,S){y.pendingCharacterTokens.push(S),y.hasNonWhitespacePendingCharacterToken=!0}function Ju(y,S){let Y=0;if(y.hasNonWhitespacePendingCharacterToken)for(;Y<y.pendingCharacterTokens.length;Y++)or(y,y.pendingCharacterTokens[Y]);else for(;Y<y.pendingCharacterTokens.length;Y++)y._insertCharacters(y.pendingCharacterTokens[Y]);y.insertionMode=y.originalInsertionMode,y._processToken(S)}const ph=new Set([a.TAG_ID.CAPTION,a.TAG_ID.COL,a.TAG_ID.COLGROUP,a.TAG_ID.TBODY,a.TAG_ID.TD,a.TAG_ID.TFOOT,a.TAG_ID.TH,a.TAG_ID.THEAD,a.TAG_ID.TR]);function gy(y,S){const Y=S.tagID;ph.has(Y)?y.openElements.hasInTableScope(a.TAG_ID.CAPTION)&&(y.openElements.generateImpliedEndTags(),y.openElements.popUntilTagNamePopped(a.TAG_ID.CAPTION),y.activeFormattingElements.clearToLastMarker(),y.insertionMode=d.IN_TABLE,qe(y,S)):re(y,S)}function by(y,S){const Y=S.tagID;switch(Y){case a.TAG_ID.CAPTION:case a.TAG_ID.TABLE:{y.openElements.hasInTableScope(a.TAG_ID.CAPTION)&&(y.openElements.generateImpliedEndTags(),y.openElements.popUntilTagNamePopped(a.TAG_ID.CAPTION),y.activeFormattingElements.clearToLastMarker(),y.insertionMode=d.IN_TABLE,Y===a.TAG_ID.TABLE&&Et(y,S));break}case a.TAG_ID.BODY:case a.TAG_ID.COL:case a.TAG_ID.COLGROUP:case a.TAG_ID.HTML:case a.TAG_ID.TBODY:case a.TAG_ID.TD:case a.TAG_ID.TFOOT:case a.TAG_ID.TH:case a.TAG_ID.THEAD:case a.TAG_ID.TR:break;default:cu(y,S)}}function fc(y,S){switch(S.tagID){case a.TAG_ID.HTML:{re(y,S);break}case a.TAG_ID.COL:{y._appendElement(S,a.NS.HTML),S.ackSelfClosing=!0;break}case a.TAG_ID.TEMPLATE:{F(y,S);break}default:Ba(y,S)}}function Ey(y,S){switch(S.tagID){case a.TAG_ID.COLGROUP:{y.openElements.currentTagId===a.TAG_ID.COLGROUP&&(y.openElements.pop(),y.insertionMode=d.IN_TABLE);break}case a.TAG_ID.TEMPLATE:{H(y,S);break}case a.TAG_ID.COL:break;default:Ba(y,S)}}function Ba(y,S){y.openElements.currentTagId===a.TAG_ID.COLGROUP&&(y.openElements.pop(),y.insertionMode=d.IN_TABLE,y._processToken(S))}function Fa(y,S){switch(S.tagID){case a.TAG_ID.TR:{y.openElements.clearBackToTableBodyContext(),y._insertElement(S,a.NS.HTML),y.insertionMode=d.IN_ROW;break}case a.TAG_ID.TH:case a.TAG_ID.TD:{y.openElements.clearBackToTableBodyContext(),y._insertFakeElement(a.TAG_NAMES.TR,a.TAG_ID.TR),y.insertionMode=d.IN_ROW,Ha(y,S);break}case a.TAG_ID.CAPTION:case a.TAG_ID.COL:case a.TAG_ID.COLGROUP:case a.TAG_ID.TBODY:case a.TAG_ID.TFOOT:case a.TAG_ID.THEAD:{y.openElements.hasTableBodyContextInTableScope()&&(y.openElements.clearBackToTableBodyContext(),y.openElements.pop(),y.insertionMode=d.IN_TABLE,qe(y,S));break}default:qe(y,S)}}function hc(y,S){const Y=S.tagID;switch(S.tagID){case a.TAG_ID.TBODY:case a.TAG_ID.TFOOT:case a.TAG_ID.THEAD:{y.openElements.hasInTableScope(Y)&&(y.openElements.clearBackToTableBodyContext(),y.openElements.pop(),y.insertionMode=d.IN_TABLE);break}case a.TAG_ID.TABLE:{y.openElements.hasTableBodyContextInTableScope()&&(y.openElements.clearBackToTableBodyContext(),y.openElements.pop(),y.insertionMode=d.IN_TABLE,Et(y,S));break}case a.TAG_ID.BODY:case a.TAG_ID.CAPTION:case a.TAG_ID.COL:case a.TAG_ID.COLGROUP:case a.TAG_ID.HTML:case a.TAG_ID.TD:case a.TAG_ID.TH:case a.TAG_ID.TR:break;default:Et(y,S)}}function Ha(y,S){switch(S.tagID){case a.TAG_ID.TH:case a.TAG_ID.TD:{y.openElements.clearBackToTableRowContext(),y._insertElement(S,a.NS.HTML),y.insertionMode=d.IN_CELL,y.activeFormattingElements.insertMarker();break}case a.TAG_ID.CAPTION:case a.TAG_ID.COL:case a.TAG_ID.COLGROUP:case a.TAG_ID.TBODY:case a.TAG_ID.TFOOT:case a.TAG_ID.THEAD:case a.TAG_ID.TR:{y.openElements.hasInTableScope(a.TAG_ID.TR)&&(y.openElements.clearBackToTableRowContext(),y.openElements.pop(),y.insertionMode=d.IN_TABLE_BODY,Fa(y,S));break}default:qe(y,S)}}function mh(y,S){switch(S.tagID){case a.TAG_ID.TR:{y.openElements.hasInTableScope(a.TAG_ID.TR)&&(y.openElements.clearBackToTableRowContext(),y.openElements.pop(),y.insertionMode=d.IN_TABLE_BODY);break}case a.TAG_ID.TABLE:{y.openElements.hasInTableScope(a.TAG_ID.TR)&&(y.openElements.clearBackToTableRowContext(),y.openElements.pop(),y.insertionMode=d.IN_TABLE_BODY,hc(y,S));break}case a.TAG_ID.TBODY:case a.TAG_ID.TFOOT:case a.TAG_ID.THEAD:{(y.openElements.hasInTableScope(S.tagID)||y.openElements.hasInTableScope(a.TAG_ID.TR))&&(y.openElements.clearBackToTableRowContext(),y.openElements.pop(),y.insertionMode=d.IN_TABLE_BODY,hc(y,S));break}case a.TAG_ID.BODY:case a.TAG_ID.CAPTION:case a.TAG_ID.COL:case a.TAG_ID.COLGROUP:case a.TAG_ID.HTML:case a.TAG_ID.TD:case a.TAG_ID.TH:break;default:Et(y,S)}}function Ty(y,S){const Y=S.tagID;ph.has(Y)?(y.openElements.hasInTableScope(a.TAG_ID.TD)||y.openElements.hasInTableScope(a.TAG_ID.TH))&&(y._closeTableCell(),Ha(y,S)):re(y,S)}function _y(y,S){const Y=S.tagID;switch(Y){case a.TAG_ID.TD:case a.TAG_ID.TH:{y.openElements.hasInTableScope(Y)&&(y.openElements.generateImpliedEndTags(),y.openElements.popUntilTagNamePopped(Y),y.activeFormattingElements.clearToLastMarker(),y.insertionMode=d.IN_ROW);break}case a.TAG_ID.TABLE:case a.TAG_ID.TBODY:case a.TAG_ID.TFOOT:case a.TAG_ID.THEAD:case a.TAG_ID.TR:{y.openElements.hasInTableScope(Y)&&(y._closeTableCell(),mh(y,S));break}case a.TAG_ID.BODY:case a.TAG_ID.CAPTION:case a.TAG_ID.COL:case a.TAG_ID.COLGROUP:case a.TAG_ID.HTML:break;default:cu(y,S)}}function gh(y,S){switch(S.tagID){case a.TAG_ID.HTML:{re(y,S);break}case a.TAG_ID.OPTION:{y.openElements.currentTagId===a.TAG_ID.OPTION&&y.openElements.pop(),y._insertElement(S,a.NS.HTML);break}case a.TAG_ID.OPTGROUP:{y.openElements.currentTagId===a.TAG_ID.OPTION&&y.openElements.pop(),y.openElements.currentTagId===a.TAG_ID.OPTGROUP&&y.openElements.pop(),y._insertElement(S,a.NS.HTML);break}case a.TAG_ID.HR:{y.openElements.currentTagId===a.TAG_ID.OPTION&&y.openElements.pop(),y.openElements.currentTagId===a.TAG_ID.OPTGROUP&&y.openElements.pop(),y._appendElement(S,a.NS.HTML),S.ackSelfClosing=!0;break}case a.TAG_ID.INPUT:case a.TAG_ID.KEYGEN:case a.TAG_ID.TEXTAREA:case a.TAG_ID.SELECT:{y.openElements.hasInSelectScope(a.TAG_ID.SELECT)&&(y.openElements.popUntilTagNamePopped(a.TAG_ID.SELECT),y._resetInsertionMode(),S.tagID!==a.TAG_ID.SELECT&&y._processStartTag(S));break}case a.TAG_ID.SCRIPT:case a.TAG_ID.TEMPLATE:{F(y,S);break}}}function bh(y,S){switch(S.tagID){case a.TAG_ID.OPTGROUP:{y.openElements.stackTop>0&&y.openElements.currentTagId===a.TAG_ID.OPTION&&y.openElements.tagIDs[y.openElements.stackTop-1]===a.TAG_ID.OPTGROUP&&y.openElements.pop(),y.openElements.currentTagId===a.TAG_ID.OPTGROUP&&y.openElements.pop();break}case a.TAG_ID.OPTION:{y.openElements.currentTagId===a.TAG_ID.OPTION&&y.openElements.pop();break}case a.TAG_ID.SELECT:{y.openElements.hasInSelectScope(a.TAG_ID.SELECT)&&(y.openElements.popUntilTagNamePopped(a.TAG_ID.SELECT),y._resetInsertionMode());break}case a.TAG_ID.TEMPLATE:{H(y,S);break}}}function yy(y,S){const Y=S.tagID;Y===a.TAG_ID.CAPTION||Y===a.TAG_ID.TABLE||Y===a.TAG_ID.TBODY||Y===a.TAG_ID.TFOOT||Y===a.TAG_ID.THEAD||Y===a.TAG_ID.TR||Y===a.TAG_ID.TD||Y===a.TAG_ID.TH?(y.openElements.popUntilTagNamePopped(a.TAG_ID.SELECT),y._resetInsertionMode(),y._processStartTag(S)):gh(y,S)}function Ay(y,S){const Y=S.tagID;Y===a.TAG_ID.CAPTION||Y===a.TAG_ID.TABLE||Y===a.TAG_ID.TBODY||Y===a.TAG_ID.TFOOT||Y===a.TAG_ID.THEAD||Y===a.TAG_ID.TR||Y===a.TAG_ID.TD||Y===a.TAG_ID.TH?y.openElements.hasInTableScope(Y)&&(y.openElements.popUntilTagNamePopped(a.TAG_ID.SELECT),y._resetInsertionMode(),y.onEndTag(S)):bh(y,S)}function xy(y,S){switch(S.tagID){case a.TAG_ID.BASE:case a.TAG_ID.BASEFONT:case a.TAG_ID.BGSOUND:case a.TAG_ID.LINK:case a.TAG_ID.META:case a.TAG_ID.NOFRAMES:case a.TAG_ID.SCRIPT:case a.TAG_ID.STYLE:case a.TAG_ID.TEMPLATE:case a.TAG_ID.TITLE:{F(y,S);break}case a.TAG_ID.CAPTION:case a.TAG_ID.COLGROUP:case a.TAG_ID.TBODY:case a.TAG_ID.TFOOT:case a.TAG_ID.THEAD:{y.tmplInsertionModeStack[0]=d.IN_TABLE,y.insertionMode=d.IN_TABLE,qe(y,S);break}case a.TAG_ID.COL:{y.tmplInsertionModeStack[0]=d.IN_COLUMN_GROUP,y.insertionMode=d.IN_COLUMN_GROUP,fc(y,S);break}case a.TAG_ID.TR:{y.tmplInsertionModeStack[0]=d.IN_TABLE_BODY,y.insertionMode=d.IN_TABLE_BODY,Fa(y,S);break}case a.TAG_ID.TD:case a.TAG_ID.TH:{y.tmplInsertionModeStack[0]=d.IN_ROW,y.insertionMode=d.IN_ROW,Ha(y,S);break}default:y.tmplInsertionModeStack[0]=d.IN_BODY,y.insertionMode=d.IN_BODY,re(y,S)}}function Cy(y,S){S.tagID===a.TAG_ID.TEMPLATE&&H(y,S)}function Eh(y,S){y.openElements.tmplCount>0?(y.openElements.popUntilTagNamePopped(a.TAG_ID.TEMPLATE),y.activeFormattingElements.clearToLastMarker(),y.tmplInsertionModeStack.shift(),y._resetInsertionMode(),y.onEof(S)):w(y,S)}function Ny(y,S){S.tagID===a.TAG_ID.HTML?re(y,S):ja(y,S)}function Th(y,S){var Y;if(S.tagID===a.TAG_ID.HTML){if(y.fragmentContext||(y.insertionMode=d.AFTER_AFTER_BODY),y.options.sourceCodeLocationInfo&&y.openElements.tagIDs[0]===a.TAG_ID.HTML){y._setEndLocation(y.openElements.items[0],S);const te=y.openElements.items[1];te&&!(!((Y=y.treeAdapter.getNodeSourceCodeLocation(te))===null||Y===void 0)&&Y.endTag)&&y._setEndLocation(te,S)}}else ja(y,S)}function ja(y,S){y.insertionMode=d.IN_BODY,Ne(y,S)}function Sy(y,S){switch(S.tagID){case a.TAG_ID.HTML:{re(y,S);break}case a.TAG_ID.FRAMESET:{y._insertElement(S,a.NS.HTML);break}case a.TAG_ID.FRAME:{y._appendElement(S,a.NS.HTML),S.ackSelfClosing=!0;break}case a.TAG_ID.NOFRAMES:{F(y,S);break}}}function Iy(y,S){S.tagID===a.TAG_ID.FRAMESET&&!y.openElements.isRootHtmlElementCurrent()&&(y.openElements.pop(),!y.fragmentContext&&y.openElements.currentTagId!==a.TAG_ID.FRAMESET&&(y.insertionMode=d.AFTER_FRAMESET))}function vy(y,S){switch(S.tagID){case a.TAG_ID.HTML:{re(y,S);break}case a.TAG_ID.NOFRAMES:{F(y,S);break}}}function ky(y,S){S.tagID===a.TAG_ID.HTML&&(y.insertionMode=d.AFTER_AFTER_FRAMESET)}function wy(y,S){S.tagID===a.TAG_ID.HTML?re(y,S):Ua(y,S)}function Ua(y,S){y.insertionMode=d.IN_BODY,Ne(y,S)}function Oy(y,S){switch(S.tagID){case a.TAG_ID.HTML:{re(y,S);break}case a.TAG_ID.NOFRAMES:{F(y,S);break}}}function Dy(y,S){S.chars=o.REPLACEMENT_CHARACTER,y._insertCharacters(S)}function Ry(y,S){y._insertCharacters(S),y.framesetOk=!1}function _h(y){for(;y.treeAdapter.getNamespaceURI(y.openElements.current)!==a.NS.HTML&&y.openElements.currentTagId!==void 0&&!y._isIntegrationPoint(y.openElements.currentTagId,y.openElements.current);)y.openElements.pop()}function Ly(y,S){if(u.causesExit(S))_h(y),y._startTagOutsideForeignContent(S);else{const Y=y._getAdjustedCurrentElement(),te=y.treeAdapter.getNamespaceURI(Y);te===a.NS.MATHML?u.adjustTokenMathMLAttrs(S):te===a.NS.SVG&&(u.adjustTokenSVGTagName(S),u.adjustTokenSVGAttrs(S)),u.adjustTokenXMLAttrs(S),S.selfClosing?y._appendElement(S,te):y._insertElement(S,te),S.ackSelfClosing=!0}}function Py(y,S){if(S.tagID===a.TAG_ID.P||S.tagID===a.TAG_ID.BR){_h(y),y._endTagOutsideForeignContent(S);return}for(let Y=y.openElements.stackTop;Y>0;Y--){const te=y.openElements.items[Y];if(y.treeAdapter.getNamespaceURI(te)===a.NS.HTML){y._endTagOutsideForeignContent(S);break}const ye=y.treeAdapter.getTagName(te);if(ye.toLowerCase()===S.tagName){S.tagName=ye,y.openElements.shortenToLength(Y);break}}}return bs}var Cs={},Dd={},_b;function PB(){return _b||(_b=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.getCodePoint=e.xmlReplacer=void 0,e.encodeXML=n,e.xmlReplacer=/["$&'<>\u0080-\uFFFF]/g;const t=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);e.getCodePoint=String.prototype.codePointAt==null?(i,u)=>(i.charCodeAt(u)&64512)===55296?(i.charCodeAt(u)-55296)*1024+i.charCodeAt(u+1)-56320+65536:i.charCodeAt(u):(i,u)=>i.codePointAt(u);function n(i){let u="",s=0,o;for(;(o=e.xmlReplacer.exec(i))!==null;){const{index:a}=o,c=i.charCodeAt(a),l=t.get(c);l===void 0?(u+=`${i.substring(s,a)}&#x${(0,e.getCodePoint)(i,a).toString(16)};`,s=e.xmlReplacer.lastIndex+=+((c&64512)===55296)):(u+=i.substring(s,a)+l,s=a+1)}return u+i.substr(s)}e.escape=n;function r(i,u){return function(o){let a,c=0,l="";for(;a=i.exec(o);)c!==a.index&&(l+=o.substring(c,a.index)),l+=u.get(a[0].charCodeAt(0)),c=a.index+1;return l+o.substring(c)}}e.escapeUTF8=r(/["&'<>]/g,t),e.escapeAttribute=r(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),e.escapeText=r(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(Dd)),Dd}var yb;function MB(){if(yb)return Cs;yb=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.serialize=s,Cs.serializeOuter=o;const e=Ai(),t=PB(),n=fh(),r=new Set([e.TAG_NAMES.AREA,e.TAG_NAMES.BASE,e.TAG_NAMES.BASEFONT,e.TAG_NAMES.BGSOUND,e.TAG_NAMES.BR,e.TAG_NAMES.COL,e.TAG_NAMES.EMBED,e.TAG_NAMES.FRAME,e.TAG_NAMES.HR,e.TAG_NAMES.IMG,e.TAG_NAMES.INPUT,e.TAG_NAMES.KEYGEN,e.TAG_NAMES.LINK,e.TAG_NAMES.META,e.TAG_NAMES.PARAM,e.TAG_NAMES.SOURCE,e.TAG_NAMES.TRACK,e.TAG_NAMES.WBR]);function i(A,x){return x.treeAdapter.isElementNode(A)&&x.treeAdapter.getNamespaceURI(A)===e.NS.HTML&&r.has(x.treeAdapter.getTagName(A))}const u={treeAdapter:n.defaultTreeAdapter,scriptingEnabled:!0};function s(A,x){const g=Object.assign(Object.assign({},u),x);return i(A,g)?"":a(A,g)}function o(A,x){const g=Object.assign(Object.assign({},u),x);return c(A,g)}function a(A,x){let g="";const b=x.treeAdapter.isElementNode(A)&&x.treeAdapter.getTagName(A)===e.TAG_NAMES.TEMPLATE&&x.treeAdapter.getNamespaceURI(A)===e.NS.HTML?x.treeAdapter.getTemplateContent(A):A,v=x.treeAdapter.getChildNodes(b);if(v)for(const p of v)g+=c(p,x);return g}function c(A,x){return x.treeAdapter.isElementNode(A)?l(A,x):x.treeAdapter.isTextNode(A)?h(A,x):x.treeAdapter.isCommentNode(A)?d(A,x):x.treeAdapter.isDocumentTypeNode(A)?m(A,x):""}function l(A,x){const g=x.treeAdapter.getTagName(A);return`<${g}${f(A,x)}>${i(A,x)?"":`${a(A,x)}</${g}>`}`}function f(A,{treeAdapter:x}){let g="";for(const b of x.getAttrList(A)){if(g+=" ",b.namespace)switch(b.namespace){case e.NS.XML:{g+=`xml:${b.name}`;break}case e.NS.XMLNS:{b.name!=="xmlns"&&(g+="xmlns:"),g+=b.name;break}case e.NS.XLINK:{g+=`xlink:${b.name}`;break}default:g+=`${b.prefix}:${b.name}`}else g+=b.name;g+=`="${(0,t.escapeAttribute)(b.value)}"`}return g}function h(A,x){const{treeAdapter:g}=x,b=g.getTextNodeContent(A),v=g.getParentNode(A),p=v&&g.isElementNode(v)&&g.getTagName(v);return p&&g.getNamespaceURI(v)===e.NS.HTML&&(0,e.hasUnescapedText)(p,x.scriptingEnabled)?b:(0,t.escapeText)(b)}function d(A,{treeAdapter:x}){return`<!--${x.getCommentNodeContent(A)}-->`}function m(A,{treeAdapter:x}){return`<!DOCTYPE ${x.getDocumentTypeNodeName(A)}>`}return Cs}var Ab;function hy(){return Ab||(Ab=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizerMode=e.Tokenizer=e.Token=e.html=e.foreignContent=e.ErrorCodes=e.serializeOuter=e.serialize=e.Parser=e.defaultTreeAdapter=void 0,e.parse=o,e.parseFragment=a;const t=Tb();var n=fh();Object.defineProperty(e,"defaultTreeAdapter",{enumerable:!0,get:function(){return n.defaultTreeAdapter}});var r=Tb();Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return r.Parser}});var i=MB();Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return i.serialize}}),Object.defineProperty(e,"serializeOuter",{enumerable:!0,get:function(){return i.serializeOuter}});var u=uc();Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return u.ERR}}),e.foreignContent=fy(),e.html=Ai(),e.Token=dh();var s=dy();Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return s.Tokenizer}}),Object.defineProperty(e,"TokenizerMode",{enumerable:!0,get:function(){return s.TokenizerMode}});function o(c,l){return t.Parser.parse(c,l)}function a(c,l,f){typeof c=="string"&&(f=l,l=c,c=null);const h=t.Parser.getFragmentParser(c,f);return h.tokenizer.write(l,!0),h.getFragment()}})(Id)),Id}var Rd={},xb;function BB(){return xb||(xb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.adapter=void 0,e.serializeDoctypeContent=i;const t=hy(),n=An();function r(u){const s=u.includes('"')?"'":'"';return s+u+s}function i(u,s,o){let a="!DOCTYPE ";return u&&(a+=u),s?a+=` PUBLIC ${r(s)}`:o&&(a+=" SYSTEM"),o&&(a+=` ${r(o)}`),a}e.adapter={isCommentNode:n.isComment,isElementNode:n.isTag,isTextNode:n.isText,createDocument(){const u=new n.Document([]);return u["x-mode"]=t.html.DOCUMENT_MODE.NO_QUIRKS,u},createDocumentFragment(){return new n.Document([])},createElement(u,s,o){const a=Object.create(null),c=Object.create(null),l=Object.create(null);for(let h=0;h<o.length;h++){const d=o[h].name;a[d]=o[h].value,c[d]=o[h].namespace,l[d]=o[h].prefix}const f=new n.Element(u,a,[]);return f.namespace=s,f["x-attribsNamespace"]=c,f["x-attribsPrefix"]=l,f},createCommentNode(u){return new n.Comment(u)},createTextNode(u){return new n.Text(u)},appendChild(u,s){const o=u.children[u.children.length-1];o&&(o.next=s,s.prev=o),u.children.push(s),s.parent=u},insertBefore(u,s,o){const a=u.children.indexOf(o),{prev:c}=o;c&&(c.next=s,s.prev=c),o.prev=s,s.next=o,u.children.splice(a,0,s),s.parent=u},setTemplateContent(u,s){e.adapter.appendChild(u,s)},getTemplateContent(u){return u.children[0]},setDocumentType(u,s,o,a){const c=i(s,o,a);let l=u.children.find(f=>(0,n.isDirective)(f)&&f.name==="!doctype");l?l.data=c!=null?c:null:(l=new n.ProcessingInstruction("!doctype",c),e.adapter.appendChild(u,l)),l["x-name"]=s,l["x-publicId"]=o,l["x-systemId"]=a},setDocumentMode(u,s){u["x-mode"]=s},getDocumentMode(u){return u["x-mode"]},detachNode(u){if(u.parent){const s=u.parent.children.indexOf(u),{prev:o,next:a}=u;u.prev=null,u.next=null,o&&(o.next=a),a&&(a.prev=o),u.parent.children.splice(s,1),u.parent=null}},insertText(u,s){const o=u.children[u.children.length-1];o&&(0,n.isText)(o)?o.data+=s:e.adapter.appendChild(u,e.adapter.createTextNode(s))},insertTextBefore(u,s,o){const a=u.children[u.children.indexOf(o)-1];a&&(0,n.isText)(a)?a.data+=s:e.adapter.insertBefore(u,e.adapter.createTextNode(s),o)},adoptAttributes(u,s){for(let o=0;o<s.length;o++){const a=s[o].name;u.attribs[a]===void 0&&(u.attribs[a]=s[o].value,u["x-attribsNamespace"][a]=s[o].namespace,u["x-attribsPrefix"][a]=s[o].prefix)}},getFirstChild(u){return u.children[0]},getChildNodes(u){return u.children},getParentNode(u){return u.parent},getAttrList(u){return u.attributes},getTagName(u){return u.name},getNamespaceURI(u){return u.namespace},getTextNodeContent(u){return u.data},getCommentNodeContent(u){return u.data},getDocumentTypeNodeName(u){var s;return(s=u["x-name"])!==null&&s!==void 0?s:""},getDocumentTypeNodePublicId(u){var s;return(s=u["x-publicId"])!==null&&s!==void 0?s:""},getDocumentTypeNodeSystemId(u){var s;return(s=u["x-systemId"])!==null&&s!==void 0?s:""},isDocumentTypeNode(u){return(0,n.isDirective)(u)&&u.name==="!doctype"},setNodeSourceCodeLocation(u,s){s&&(u.startIndex=s.startOffset,u.endIndex=s.endOffset),u.sourceCodeLocation=s},getNodeSourceCodeLocation(u){return u.sourceCodeLocation},updateNodeSourceCodeLocation(u,s){s.endOffset!=null&&(u.endIndex=s.endOffset),u.sourceCodeLocation=Object.assign(Object.assign({},u.sourceCodeLocation),s)}}})(Rd)),Rd}var Cb;function FB(){if(Cb)return Dr;Cb=1;var e=Dr&&Dr.__spreadArray||function(o,a,c){if(c||arguments.length===2)for(var l=0,f=a.length,h;l<f;l++)(h||!(l in a))&&(h||(h=Array.prototype.slice.call(a,0,l)),h[l]=a[l]);return o.concat(h||Array.prototype.slice.call(a))};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.renderWithParse5=Dr.parseWithParse5=void 0;var t=An(),n=hy(),r=BB();function i(o,a,c,l){var f={scriptingEnabled:typeof a.scriptingEnabled=="boolean"?a.scriptingEnabled:!0,treeAdapter:r.adapter,sourceCodeLocationInfo:a.sourceCodeLocationInfo};return c?(0,n.parse)(o,f):(0,n.parseFragment)(l,o,f)}Dr.parseWithParse5=i;var u={treeAdapter:r.adapter};function s(o){for(var a,c=("length"in o)?o:[o],l=0;l<c.length;l+=1){var f=c[l];(0,t.isDocument)(f)&&(a=Array.prototype.splice).call.apply(a,e([c,l,1],f.children,!1))}for(var h="",l=0;l<c.length;l+=1){var f=c[l];h+=(0,n.serializeOuter)(f,u)}return h}return Dr.renderWithParse5=s,Dr}var er={},tr={},Ld={},Nb;function py(){return Nb||(Nb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var t=kl(),n;(function(h){h[h.Tab=9]="Tab",h[h.NewLine=10]="NewLine",h[h.FormFeed=12]="FormFeed",h[h.CarriageReturn=13]="CarriageReturn",h[h.Space=32]="Space",h[h.ExclamationMark=33]="ExclamationMark",h[h.Number=35]="Number",h[h.Amp=38]="Amp",h[h.SingleQuote=39]="SingleQuote",h[h.DoubleQuote=34]="DoubleQuote",h[h.Dash=45]="Dash",h[h.Slash=47]="Slash",h[h.Zero=48]="Zero",h[h.Nine=57]="Nine",h[h.Semi=59]="Semi",h[h.Lt=60]="Lt",h[h.Eq=61]="Eq",h[h.Gt=62]="Gt",h[h.Questionmark=63]="Questionmark",h[h.UpperA=65]="UpperA",h[h.LowerA=97]="LowerA",h[h.UpperF=70]="UpperF",h[h.LowerF=102]="LowerF",h[h.UpperZ=90]="UpperZ",h[h.LowerZ=122]="LowerZ",h[h.LowerX=120]="LowerX",h[h.OpeningSquareBracket=91]="OpeningSquareBracket"})(n||(n={}));var r;(function(h){h[h.Text=1]="Text",h[h.BeforeTagName=2]="BeforeTagName",h[h.InTagName=3]="InTagName",h[h.InSelfClosingTag=4]="InSelfClosingTag",h[h.BeforeClosingTagName=5]="BeforeClosingTagName",h[h.InClosingTagName=6]="InClosingTagName",h[h.AfterClosingTagName=7]="AfterClosingTagName",h[h.BeforeAttributeName=8]="BeforeAttributeName",h[h.InAttributeName=9]="InAttributeName",h[h.AfterAttributeName=10]="AfterAttributeName",h[h.BeforeAttributeValue=11]="BeforeAttributeValue",h[h.InAttributeValueDq=12]="InAttributeValueDq",h[h.InAttributeValueSq=13]="InAttributeValueSq",h[h.InAttributeValueNq=14]="InAttributeValueNq",h[h.BeforeDeclaration=15]="BeforeDeclaration",h[h.InDeclaration=16]="InDeclaration",h[h.InProcessingInstruction=17]="InProcessingInstruction",h[h.BeforeComment=18]="BeforeComment",h[h.CDATASequence=19]="CDATASequence",h[h.InSpecialComment=20]="InSpecialComment",h[h.InCommentLike=21]="InCommentLike",h[h.BeforeSpecialS=22]="BeforeSpecialS",h[h.SpecialStartSequence=23]="SpecialStartSequence",h[h.InSpecialTag=24]="InSpecialTag",h[h.BeforeEntity=25]="BeforeEntity",h[h.BeforeNumericEntity=26]="BeforeNumericEntity",h[h.InNamedEntity=27]="InNamedEntity",h[h.InNumericEntity=28]="InNumericEntity",h[h.InHexEntity=29]="InHexEntity"})(r||(r={}));function i(h){return h===n.Space||h===n.NewLine||h===n.Tab||h===n.FormFeed||h===n.CarriageReturn}function u(h){return h===n.Slash||h===n.Gt||i(h)}function s(h){return h>=n.Zero&&h<=n.Nine}function o(h){return h>=n.LowerA&&h<=n.LowerZ||h>=n.UpperA&&h<=n.UpperZ}function a(h){return h>=n.UpperA&&h<=n.UpperF||h>=n.LowerA&&h<=n.LowerF}var c;(function(h){h[h.NoValue=0]="NoValue",h[h.Unquoted=1]="Unquoted",h[h.Single=2]="Single",h[h.Double=3]="Double"})(c=e.QuoteType||(e.QuoteType={}));var l={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},f=(function(){function h(d,m){var A=d.xmlMode,x=A===void 0?!1:A,g=d.decodeEntities,b=g===void 0?!0:g;this.cbs=m,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=x,this.decodeEntities=b,this.entityTrie=x?t.xmlDecodeTree:t.htmlDecodeTree}return h.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},h.prototype.write=function(d){this.offset+=this.buffer.length,this.buffer=d,this.parse()},h.prototype.end=function(){this.running&&this.finish()},h.prototype.pause=function(){this.running=!1},h.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},h.prototype.getIndex=function(){return this.index},h.prototype.getSectionStart=function(){return this.sectionStart},h.prototype.stateText=function(d){d===n.Lt||!this.decodeEntities&&this.fastForwardTo(n.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&d===n.Amp&&(this.state=r.BeforeEntity)},h.prototype.stateSpecialStartSequence=function(d){var m=this.sequenceIndex===this.currentSequence.length,A=m?u(d):(d|32)===this.currentSequence[this.sequenceIndex];if(!A)this.isSpecial=!1;else if(!m){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(d)},h.prototype.stateInSpecialTag=function(d){if(this.sequenceIndex===this.currentSequence.length){if(d===n.Gt||i(d)){var m=this.index-this.currentSequence.length;if(this.sectionStart<m){var A=this.index;this.index=m,this.cbs.ontext(this.sectionStart,m),this.index=A}this.isSpecial=!1,this.sectionStart=m+2,this.stateInClosingTagName(d);return}this.sequenceIndex=0}(d|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===l.TitleEnd?this.decodeEntities&&d===n.Amp&&(this.state=r.BeforeEntity):this.fastForwardTo(n.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(d===n.Lt)},h.prototype.stateCDATASequence=function(d){d===l.Cdata[this.sequenceIndex]?++this.sequenceIndex===l.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=l.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(d))},h.prototype.fastForwardTo=function(d){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===d)return!0;return this.index=this.buffer.length+this.offset-1,!1},h.prototype.stateInCommentLike=function(d){d===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):d!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},h.prototype.isTagStartChar=function(d){return this.xmlMode?!u(d):o(d)},h.prototype.startSpecial=function(d,m){this.isSpecial=!0,this.currentSequence=d,this.sequenceIndex=m,this.state=r.SpecialStartSequence},h.prototype.stateBeforeTagName=function(d){if(d===n.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(d===n.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(d)){var m=d|32;this.sectionStart=this.index,!this.xmlMode&&m===l.TitleEnd[2]?this.startSpecial(l.TitleEnd,3):this.state=!this.xmlMode&&m===l.ScriptEnd[2]?r.BeforeSpecialS:r.InTagName}else d===n.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(d))},h.prototype.stateInTagName=function(d){u(d)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(d))},h.prototype.stateBeforeClosingTagName=function(d){i(d)||(d===n.Gt?this.state=r.Text:(this.state=this.isTagStartChar(d)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},h.prototype.stateInClosingTagName=function(d){(d===n.Gt||i(d))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(d))},h.prototype.stateAfterClosingTagName=function(d){(d===n.Gt||this.fastForwardTo(n.Gt))&&(this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeAttributeName=function(d){d===n.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.baseState=this.state,this.sectionStart=this.index+1):d===n.Slash?this.state=r.InSelfClosingTag:i(d)||(this.state=r.InAttributeName,this.sectionStart=this.index)},h.prototype.stateInSelfClosingTag=function(d){d===n.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):i(d)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(d))},h.prototype.stateInAttributeName=function(d){(d===n.Eq||u(d))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterAttributeName,this.stateAfterAttributeName(d))},h.prototype.stateAfterAttributeName=function(d){d===n.Eq?this.state=r.BeforeAttributeValue:d===n.Slash||d===n.Gt?(this.cbs.onattribend(c.NoValue,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(d)):i(d)||(this.cbs.onattribend(c.NoValue,this.index),this.state=r.InAttributeName,this.sectionStart=this.index)},h.prototype.stateBeforeAttributeValue=function(d){d===n.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):d===n.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):i(d)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(d))},h.prototype.handleInAttributeValue=function(d,m){d===m||!this.decodeEntities&&this.fastForwardTo(m)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(m===n.DoubleQuote?c.Double:c.Single,this.index),this.state=r.BeforeAttributeName):this.decodeEntities&&d===n.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},h.prototype.stateInAttributeValueDoubleQuotes=function(d){this.handleInAttributeValue(d,n.DoubleQuote)},h.prototype.stateInAttributeValueSingleQuotes=function(d){this.handleInAttributeValue(d,n.SingleQuote)},h.prototype.stateInAttributeValueNoQuotes=function(d){i(d)||d===n.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(c.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(d)):this.decodeEntities&&d===n.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},h.prototype.stateBeforeDeclaration=function(d){d===n.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=d===n.Dash?r.BeforeComment:r.InDeclaration},h.prototype.stateInDeclaration=function(d){(d===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},h.prototype.stateInProcessingInstruction=function(d){(d===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeComment=function(d){d===n.Dash?(this.state=r.InCommentLike,this.currentSequence=l.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},h.prototype.stateInSpecialComment=function(d){(d===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeSpecialS=function(d){var m=d|32;m===l.ScriptEnd[3]?this.startSpecial(l.ScriptEnd,4):m===l.StyleEnd[3]?this.startSpecial(l.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(d))},h.prototype.stateBeforeEntity=function(d){this.entityExcess=1,this.entityResult=0,d===n.Number?this.state=r.BeforeNumericEntity:d===n.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=r.InNamedEntity,this.stateInNamedEntity(d))},h.prototype.stateInNamedEntity=function(d){if(this.entityExcess+=1,this.trieIndex=(0,t.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,d),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var m=this.trieCurrent&t.BinTrieFlags.VALUE_LENGTH;if(m){var A=(m>>14)-1;if(!this.allowLegacyEntity()&&d!==n.Semi)this.trieIndex+=A;else{var x=this.index-this.entityExcess+1;x>this.sectionStart&&this.emitPartial(this.sectionStart,x),this.entityResult=this.trieIndex,this.trieIndex+=A,this.entityExcess=0,this.sectionStart=this.index+1,A===0&&this.emitNamedEntity()}}},h.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var d=(this.entityTrie[this.entityResult]&t.BinTrieFlags.VALUE_LENGTH)>>14;switch(d){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~t.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},h.prototype.stateBeforeNumericEntity=function(d){(d|32)===n.LowerX?(this.entityExcess++,this.state=r.InHexEntity):(this.state=r.InNumericEntity,this.stateInNumericEntity(d))},h.prototype.emitNumericEntity=function(d){var m=this.index-this.entityExcess-1,A=m+2+ +(this.state===r.InHexEntity);A!==this.index&&(m>this.sectionStart&&this.emitPartial(this.sectionStart,m),this.sectionStart=this.index+Number(d),this.emitCodePoint((0,t.replaceCodePoint)(this.entityResult))),this.state=this.baseState},h.prototype.stateInNumericEntity=function(d){d===n.Semi?this.emitNumericEntity(!0):s(d)?(this.entityResult=this.entityResult*10+(d-n.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.stateInHexEntity=function(d){d===n.Semi?this.emitNumericEntity(!0):s(d)?(this.entityResult=this.entityResult*16+(d-n.Zero),this.entityExcess++):a(d)?(this.entityResult=this.entityResult*16+((d|32)-n.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===r.Text||this.baseState===r.InSpecialTag)},h.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===r.InAttributeValueDq||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},h.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},h.prototype.parse=function(){for(;this.shouldContinue();){var d=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case r.Text:{this.stateText(d);break}case r.SpecialStartSequence:{this.stateSpecialStartSequence(d);break}case r.InSpecialTag:{this.stateInSpecialTag(d);break}case r.CDATASequence:{this.stateCDATASequence(d);break}case r.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(d);break}case r.InAttributeName:{this.stateInAttributeName(d);break}case r.InCommentLike:{this.stateInCommentLike(d);break}case r.InSpecialComment:{this.stateInSpecialComment(d);break}case r.BeforeAttributeName:{this.stateBeforeAttributeName(d);break}case r.InTagName:{this.stateInTagName(d);break}case r.InClosingTagName:{this.stateInClosingTagName(d);break}case r.BeforeTagName:{this.stateBeforeTagName(d);break}case r.AfterAttributeName:{this.stateAfterAttributeName(d);break}case r.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(d);break}case r.BeforeAttributeValue:{this.stateBeforeAttributeValue(d);break}case r.BeforeClosingTagName:{this.stateBeforeClosingTagName(d);break}case r.AfterClosingTagName:{this.stateAfterClosingTagName(d);break}case r.BeforeSpecialS:{this.stateBeforeSpecialS(d);break}case r.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(d);break}case r.InSelfClosingTag:{this.stateInSelfClosingTag(d);break}case r.InDeclaration:{this.stateInDeclaration(d);break}case r.BeforeDeclaration:{this.stateBeforeDeclaration(d);break}case r.BeforeComment:{this.stateBeforeComment(d);break}case r.InProcessingInstruction:{this.stateInProcessingInstruction(d);break}case r.InNamedEntity:{this.stateInNamedEntity(d);break}case r.BeforeEntity:{this.stateBeforeEntity(d);break}case r.InHexEntity:{this.stateInHexEntity(d);break}case r.InNumericEntity:{this.stateInNumericEntity(d);break}default:this.stateBeforeNumericEntity(d)}this.index++}this.cleanup()},h.prototype.finish=function(){this.state===r.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},h.prototype.handleTrailingData=function(){var d=this.buffer.length+this.offset;this.state===r.InCommentLike?this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,d,0):this.cbs.oncomment(this.sectionStart,d,0):this.state===r.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,d)},h.prototype.emitPartial=function(d,m){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribdata(d,m):this.cbs.ontext(d,m)},h.prototype.emitCodePoint=function(d){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribentity(d):this.cbs.ontextentity(d)},h})();e.default=f})(Ld)),Ld}var Sb;function Ib(){if(Sb)return tr;Sb=1;var e=tr&&tr.__createBinding||(Object.create?(function(x,g,b,v){v===void 0&&(v=b);var p=Object.getOwnPropertyDescriptor(g,b);(!p||("get"in p?!g.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return g[b]}}),Object.defineProperty(x,v,p)}):(function(x,g,b,v){v===void 0&&(v=b),x[v]=g[b]})),t=tr&&tr.__setModuleDefault||(Object.create?(function(x,g){Object.defineProperty(x,"default",{enumerable:!0,value:g})}):function(x,g){x.default=g}),n=tr&&tr.__importStar||function(x){if(x&&x.__esModule)return x;var g={};if(x!=null)for(var b in x)b!=="default"&&Object.prototype.hasOwnProperty.call(x,b)&&e(g,x,b);return t(g,x),g};Object.defineProperty(tr,"__esModule",{value:!0}),tr.Parser=void 0;var r=n(py()),i=kl(),u=new Set(["input","option","optgroup","select","button","datalist","textarea"]),s=new Set(["p"]),o=new Set(["thead","tbody"]),a=new Set(["dd","dt"]),c=new Set(["rt","rp"]),l=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",s],["h1",s],["h2",s],["h3",s],["h4",s],["h5",s],["h6",s],["select",u],["input",u],["output",u],["button",u],["datalist",u],["textarea",u],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",a],["dt",a],["address",s],["article",s],["aside",s],["blockquote",s],["details",s],["div",s],["dl",s],["fieldset",s],["figcaption",s],["figure",s],["footer",s],["form",s],["header",s],["hr",s],["main",s],["nav",s],["ol",s],["pre",s],["section",s],["table",s],["ul",s],["rt",c],["rp",c],["tbody",o],["tfoot",o]]),f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),h=new Set(["math","svg"]),d=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),m=/\s|\//,A=(function(){function x(g,b){b===void 0&&(b={});var v,p,_,E,k;this.options=b,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=g!=null?g:{},this.lowerCaseTagNames=(v=b.lowerCaseTags)!==null&&v!==void 0?v:!b.xmlMode,this.lowerCaseAttributeNames=(p=b.lowerCaseAttributeNames)!==null&&p!==void 0?p:!b.xmlMode,this.tokenizer=new((_=b.Tokenizer)!==null&&_!==void 0?_:r.default)(this.options,this),(k=(E=this.cbs).onparserinit)===null||k===void 0||k.call(E,this)}return x.prototype.ontext=function(g,b){var v,p,_=this.getSlice(g,b);this.endIndex=b-1,(p=(v=this.cbs).ontext)===null||p===void 0||p.call(v,_),this.startIndex=b},x.prototype.ontextentity=function(g){var b,v,p=this.tokenizer.getSectionStart();this.endIndex=p-1,(v=(b=this.cbs).ontext)===null||v===void 0||v.call(b,(0,i.fromCodePoint)(g)),this.startIndex=p},x.prototype.isVoidElement=function(g){return!this.options.xmlMode&&f.has(g)},x.prototype.onopentagname=function(g,b){this.endIndex=b;var v=this.getSlice(g,b);this.lowerCaseTagNames&&(v=v.toLowerCase()),this.emitOpenTag(v)},x.prototype.emitOpenTag=function(g){var b,v,p,_;this.openTagStart=this.startIndex,this.tagname=g;var E=!this.options.xmlMode&&l.get(g);if(E)for(;this.stack.length>0&&E.has(this.stack[this.stack.length-1]);){var k=this.stack.pop();(v=(b=this.cbs).onclosetag)===null||v===void 0||v.call(b,k,!0)}this.isVoidElement(g)||(this.stack.push(g),h.has(g)?this.foreignContext.push(!0):d.has(g)&&this.foreignContext.push(!1)),(_=(p=this.cbs).onopentagname)===null||_===void 0||_.call(p,g),this.cbs.onopentag&&(this.attribs={})},x.prototype.endOpenTag=function(g){var b,v;this.startIndex=this.openTagStart,this.attribs&&((v=(b=this.cbs).onopentag)===null||v===void 0||v.call(b,this.tagname,this.attribs,g),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},x.prototype.onopentagend=function(g){this.endIndex=g,this.endOpenTag(!1),this.startIndex=g+1},x.prototype.onclosetag=function(g,b){var v,p,_,E,k,R;this.endIndex=b;var D=this.getSlice(g,b);if(this.lowerCaseTagNames&&(D=D.toLowerCase()),(h.has(D)||d.has(D))&&this.foreignContext.pop(),this.isVoidElement(D))!this.options.xmlMode&&D==="br"&&((p=(v=this.cbs).onopentagname)===null||p===void 0||p.call(v,"br"),(E=(_=this.cbs).onopentag)===null||E===void 0||E.call(_,"br",{},!0),(R=(k=this.cbs).onclosetag)===null||R===void 0||R.call(k,"br",!1));else{var N=this.stack.lastIndexOf(D);if(N!==-1)if(this.cbs.onclosetag)for(var I=this.stack.length-N;I--;)this.cbs.onclosetag(this.stack.pop(),I!==0);else this.stack.length=N;else!this.options.xmlMode&&D==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=b+1},x.prototype.onselfclosingtag=function(g){this.endIndex=g,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=g+1):this.onopentagend(g)},x.prototype.closeCurrentTag=function(g){var b,v,p=this.tagname;this.endOpenTag(g),this.stack[this.stack.length-1]===p&&((v=(b=this.cbs).onclosetag)===null||v===void 0||v.call(b,p,!g),this.stack.pop())},x.prototype.onattribname=function(g,b){this.startIndex=g;var v=this.getSlice(g,b);this.attribname=this.lowerCaseAttributeNames?v.toLowerCase():v},x.prototype.onattribdata=function(g,b){this.attribvalue+=this.getSlice(g,b)},x.prototype.onattribentity=function(g){this.attribvalue+=(0,i.fromCodePoint)(g)},x.prototype.onattribend=function(g,b){var v,p;this.endIndex=b,(p=(v=this.cbs).onattribute)===null||p===void 0||p.call(v,this.attribname,this.attribvalue,g===r.QuoteType.Double?'"':g===r.QuoteType.Single?"'":g===r.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},x.prototype.getInstructionName=function(g){var b=g.search(m),v=b<0?g:g.substr(0,b);return this.lowerCaseTagNames&&(v=v.toLowerCase()),v},x.prototype.ondeclaration=function(g,b){this.endIndex=b;var v=this.getSlice(g,b);if(this.cbs.onprocessinginstruction){var p=this.getInstructionName(v);this.cbs.onprocessinginstruction("!".concat(p),"!".concat(v))}this.startIndex=b+1},x.prototype.onprocessinginstruction=function(g,b){this.endIndex=b;var v=this.getSlice(g,b);if(this.cbs.onprocessinginstruction){var p=this.getInstructionName(v);this.cbs.onprocessinginstruction("?".concat(p),"?".concat(v))}this.startIndex=b+1},x.prototype.oncomment=function(g,b,v){var p,_,E,k;this.endIndex=b,(_=(p=this.cbs).oncomment)===null||_===void 0||_.call(p,this.getSlice(g,b-v)),(k=(E=this.cbs).oncommentend)===null||k===void 0||k.call(E),this.startIndex=b+1},x.prototype.oncdata=function(g,b,v){var p,_,E,k,R,D,N,I,w,O;this.endIndex=b;var P=this.getSlice(g,b-v);this.options.xmlMode||this.options.recognizeCDATA?((_=(p=this.cbs).oncdatastart)===null||_===void 0||_.call(p),(k=(E=this.cbs).ontext)===null||k===void 0||k.call(E,P),(D=(R=this.cbs).oncdataend)===null||D===void 0||D.call(R)):((I=(N=this.cbs).oncomment)===null||I===void 0||I.call(N,"[CDATA[".concat(P,"]]")),(O=(w=this.cbs).oncommentend)===null||O===void 0||O.call(w)),this.startIndex=b+1},x.prototype.onend=function(){var g,b;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var v=this.stack.length;v>0;this.cbs.onclosetag(this.stack[--v],!0));}(b=(g=this.cbs).onend)===null||b===void 0||b.call(g)},x.prototype.reset=function(){var g,b,v,p;(b=(g=this.cbs).onreset)===null||b===void 0||b.call(g),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(p=(v=this.cbs).onparserinit)===null||p===void 0||p.call(v,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},x.prototype.parseComplete=function(g){this.reset(),this.end(g)},x.prototype.getSlice=function(g,b){for(;g-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var v=this.buffers[0].slice(g-this.bufferOffset,b-this.bufferOffset);b-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),v+=this.buffers[0].slice(0,b-this.bufferOffset);return v},x.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},x.prototype.write=function(g){var b,v;if(this.ended){(v=(b=this.cbs).onerror)===null||v===void 0||v.call(b,new Error(".write() after done!"));return}this.buffers.push(g),this.tokenizer.running&&(this.tokenizer.write(g),this.writeIndex++)},x.prototype.end=function(g){var b,v;if(this.ended){(v=(b=this.cbs).onerror)===null||v===void 0||v.call(b,new Error(".end() after done!"));return}g&&this.write(g),this.ended=!0,this.tokenizer.end()},x.prototype.pause=function(){this.tokenizer.pause()},x.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},x.prototype.parseChunk=function(g){this.write(g)},x.prototype.done=function(g){this.end(g)},x})();return tr.Parser=A,tr}var vb;function HB(){return vb||(vb=1,(function(e){var t=er&&er.__createBinding||(Object.create?(function(g,b,v,p){p===void 0&&(p=v);var _=Object.getOwnPropertyDescriptor(b,v);(!_||("get"in _?!b.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return b[v]}}),Object.defineProperty(g,p,_)}):(function(g,b,v,p){p===void 0&&(p=v),g[p]=b[v]})),n=er&&er.__setModuleDefault||(Object.create?(function(g,b){Object.defineProperty(g,"default",{enumerable:!0,value:b})}):function(g,b){g.default=b}),r=er&&er.__importStar||function(g){if(g&&g.__esModule)return g;var b={};if(g!=null)for(var v in g)v!=="default"&&Object.prototype.hasOwnProperty.call(g,v)&&t(b,g,v);return n(b,g),b},i=er&&er.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var u=Ib(),s=Ib();Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return s.Parser}});var o=An(),a=An();Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return a.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return a.DomHandler}});function c(g,b){var v=new o.DomHandler(void 0,b);return new u.Parser(v,b).end(g),v.root}e.parseDocument=c;function l(g,b){return c(g,b).children}e.parseDOM=l;function f(g,b,v){var p=new o.DomHandler(g,b,v);return new u.Parser(p,b)}e.createDomStream=f;var h=py();Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return i(h).default}}),e.ElementType=r(va());var d=br(),m=br();Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return m.getFeed}});var A={xmlMode:!0};function x(g,b){return b===void 0&&(b=A),(0,d.getFeed)(l(g,b))}e.parseFeed=x,e.DomUtils=r(br())})(er)),er}var kb;function jB(){return kb||(kb=1,(function(e){var t=Rn&&Rn.__createBinding||(Object.create?(function(m,A,x,g){g===void 0&&(g=x);var b=Object.getOwnPropertyDescriptor(A,x);(!b||("get"in b?!A.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return A[x]}}),Object.defineProperty(m,g,b)}):(function(m,A,x,g){g===void 0&&(g=x),m[g]=A[x]})),n=Rn&&Rn.__setModuleDefault||(Object.create?(function(m,A){Object.defineProperty(m,"default",{enumerable:!0,value:A})}):function(m,A){m.default=A}),r=Rn&&Rn.__exportStar||function(m,A){for(var x in m)x!=="default"&&!Object.prototype.hasOwnProperty.call(A,x)&&t(A,m,x)},i=Rn&&Rn.__importStar||function(m){if(m&&m.__esModule)return m;var A={};if(m!=null)for(var x in m)x!=="default"&&Object.prototype.hasOwnProperty.call(m,x)&&t(A,m,x);return n(A,m),A},u=Rn&&Rn.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.root=e.parseHTML=e.merge=e.contains=e.text=e.xml=e.html=e.load=void 0,r(V7(),e);var s=kB(),o=cy(),a=FB(),c=u(X_()),l=HB(),f=(0,o.getParse)(function(m,A,x,g){return A.xmlMode||A._useHtmlParser2?(0,l.parseDocument)(m,A):(0,a.parseWithParse5)(m,A,x,g)});e.load=(0,s.getLoad)(f,function(m,A){return A.xmlMode||A._useHtmlParser2?(0,c.default)(m,A):(0,a.renderWithParse5)(m)}),e.default=(0,e.load)([]);var h=Gu();Object.defineProperty(e,"html",{enumerable:!0,get:function(){return h.html}}),Object.defineProperty(e,"xml",{enumerable:!0,get:function(){return h.xml}}),Object.defineProperty(e,"text",{enumerable:!0,get:function(){return h.text}});var d=i(Gu());e.contains=d.contains,e.merge=d.merge,e.parseHTML=d.parseHTML,e.root=d.root})(Rn)),Rn}var Bi={},Ls={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */var UB=Ls.exports,wb;function zB(){return wb||(wb=1,(function(e,t){(function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,u=typeof Sh=="object"&&Sh;(u.global===u||u.window===u||u.self===u)&&(n=u);var s,o=2147483647,a=36,c=1,l=26,f=38,h=700,d=72,m=128,A="-",x=/^xn--/,g=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=a-c,_=Math.floor,E=String.fromCharCode,k;function R(L){throw RangeError(v[L])}function D(L,F){for(var V=L.length,H=[];V--;)H[V]=F(L[V]);return H}function N(L,F){var V=L.split("@"),H="";V.length>1&&(H=V[0]+"@",L=V[1]),L=L.replace(b,".");var Q=L.split("."),ee=D(Q,F).join(".");return H+ee}function I(L){for(var F=[],V=0,H=L.length,Q,ee;V<H;)Q=L.charCodeAt(V++),Q>=55296&&Q<=56319&&V<H?(ee=L.charCodeAt(V++),(ee&64512)==56320?F.push(((Q&1023)<<10)+(ee&1023)+65536):(F.push(Q),V--)):F.push(Q);return F}function w(L){return D(L,function(F){var V="";return F>65535&&(F-=65536,V+=E(F>>>10&1023|55296),F=56320|F&1023),V+=E(F),V}).join("")}function O(L){return L-48<10?L-22:L-65<26?L-65:L-97<26?L-97:a}function P(L,F){return L+22+75*(L<26)-((F!=0)<<5)}function B(L,F,V){var H=0;for(L=V?_(L/h):L>>1,L+=_(L/F);L>p*l>>1;H+=a)L=_(L/p);return _(H+(p+1)*L/(L+f))}function M(L){var F=[],V=L.length,H,Q=0,ee=m,ie=d,me,_e,se,De,Ne,Pe,Ge,lt,Me;for(me=L.lastIndexOf(A),me<0&&(me=0),_e=0;_e<me;++_e)L.charCodeAt(_e)>=128&&R("not-basic"),F.push(L.charCodeAt(_e));for(se=me>0?me+1:0;se<V;){for(De=Q,Ne=1,Pe=a;se>=V&&R("invalid-input"),Ge=O(L.charCodeAt(se++)),(Ge>=a||Ge>_((o-Q)/Ne))&&R("overflow"),Q+=Ge*Ne,lt=Pe<=ie?c:Pe>=ie+l?l:Pe-ie,!(Ge<lt);Pe+=a)Me=a-lt,Ne>_(o/Me)&&R("overflow"),Ne*=Me;H=F.length+1,ie=B(Q-De,H,De==0),_(Q/H)>o-ee&&R("overflow"),ee+=_(Q/H),Q%=H,F.splice(Q++,0,ee)}return w(F)}function j(L){var F,V,H,Q,ee,ie,me,_e,se,De,Ne,Pe=[],Ge,lt,Me,St;for(L=I(L),Ge=L.length,F=m,V=0,ee=d,ie=0;ie<Ge;++ie)Ne=L[ie],Ne<128&&Pe.push(E(Ne));for(H=Q=Pe.length,Q&&Pe.push(A);H<Ge;){for(me=o,ie=0;ie<Ge;++ie)Ne=L[ie],Ne>=F&&Ne<me&&(me=Ne);for(lt=H+1,me-F>_((o-V)/lt)&&R("overflow"),V+=(me-F)*lt,F=me,ie=0;ie<Ge;++ie)if(Ne=L[ie],Ne<F&&++V>o&&R("overflow"),Ne==F){for(_e=V,se=a;De=se<=ee?c:se>=ee+l?l:se-ee,!(_e<De);se+=a)St=_e-De,Me=a-De,Pe.push(E(P(De+St%Me,0))),_e=_(St/Me);Pe.push(E(P(_e,0))),ee=B(V,lt,H==Q),V=0,++H}++V,++F}return Pe.join("")}function W(L){return N(L,function(F){return x.test(F)?M(F.slice(4).toLowerCase()):F})}function $(L){return N(L,function(F){return g.test(F)?"xn--"+j(F):F})}if(s={version:"1.3.2",ucs2:{decode:I,encode:w},decode:M,encode:j,toASCII:$,toUnicode:W},r&&i)if(e.exports==r)i.exports=s;else for(k in s)s.hasOwnProperty(k)&&(r[k]=s[k]);else n.punycode=s})(UB)})(Ls,Ls.exports)),Ls.exports}var Pd,Ob;function GB(){return Ob||(Ob=1,Pd={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}}),Pd}var Eu={},Md,Db;function qB(){if(Db)return Md;Db=1;function e(t,n){return Object.prototype.hasOwnProperty.call(t,n)}return Md=function(t,n,r,i){n=n||"&",r=r||"=";var u={};if(typeof t!="string"||t.length===0)return u;var s=/\+/g;t=t.split(n);var o=1e3;i&&typeof i.maxKeys=="number"&&(o=i.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var c=0;c<a;++c){var l=t[c].replace(s,"%20"),f=l.indexOf(r),h,d,m,A;f>=0?(h=l.substr(0,f),d=l.substr(f+1)):(h=l,d=""),m=decodeURIComponent(h),A=decodeURIComponent(d),e(u,m)?Array.isArray(u[m])?u[m].push(A):u[m]=[u[m],A]:u[m]=A}return u},Md}var Bd,Rb;function VB(){if(Rb)return Bd;Rb=1;var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};return Bd=function(t,n,r,i){return n=n||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(u){var s=encodeURIComponent(e(u))+r;return Array.isArray(t[u])?t[u].map(function(o){return s+encodeURIComponent(e(o))}).join(n):s+encodeURIComponent(e(t[u]))}).join(n):i?encodeURIComponent(e(i))+r+encodeURIComponent(e(t)):""},Bd}var Lb;function WB(){return Lb||(Lb=1,Eu.decode=Eu.parse=qB(),Eu.encode=Eu.stringify=VB()),Eu}var Pb;function YB(){if(Pb)return Bi;Pb=1;var e=zB(),t=GB();Bi.parse=b,Bi.resolve=p,Bi.resolveObject=_,Bi.format=v,Bi.Url=n;function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var r=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,s=["<",">",'"',"`"," ","\r",`
`,"	"],o=["{","}","|","\\","^","`"].concat(s),a=["'"].concat(o),c=["%","/","?",";","#"].concat(a),l=["/","?","#"],f=255,h=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},A={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=WB();function b(E,k,R){if(E&&t.isObject(E)&&E instanceof n)return E;var D=new n;return D.parse(E,k,R),D}n.prototype.parse=function(E,k,R){if(!t.isString(E))throw new TypeError("Parameter 'url' must be a string, not "+typeof E);var D=E.indexOf("?"),N=D!==-1&&D<E.indexOf("#")?"?":"#",I=E.split(N),w=/\\/g;I[0]=I[0].replace(w,"/"),E=I.join(N);var O=E;if(O=O.trim(),!R&&E.split("#").length===1){var P=u.exec(O);if(P)return this.path=O,this.href=O,this.pathname=P[1],P[2]?(this.search=P[2],k?this.query=g.parse(this.search.substr(1)):this.query=this.search.substr(1)):k&&(this.search="",this.query={}),this}var B=r.exec(O);if(B){B=B[0];var M=B.toLowerCase();this.protocol=M,O=O.substr(B.length)}if(R||B||O.match(/^\/\/[^@\/]+@[^@\/]+/)){var j=O.substr(0,2)==="//";j&&!(B&&A[B])&&(O=O.substr(2),this.slashes=!0)}if(!A[B]&&(j||B&&!x[B])){for(var W=-1,$=0;$<l.length;$++){var L=O.indexOf(l[$]);L!==-1&&(W===-1||L<W)&&(W=L)}var F,V;W===-1?V=O.lastIndexOf("@"):V=O.lastIndexOf("@",W),V!==-1&&(F=O.slice(0,V),O=O.slice(V+1),this.auth=decodeURIComponent(F)),W=-1;for(var $=0;$<c.length;$++){var L=O.indexOf(c[$]);L!==-1&&(W===-1||L<W)&&(W=L)}W===-1&&(W=O.length),this.host=O.slice(0,W),O=O.slice(W),this.parseHost(),this.hostname=this.hostname||"";var H=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!H)for(var Q=this.hostname.split(/\./),$=0,ee=Q.length;$<ee;$++){var ie=Q[$];if(ie&&!ie.match(h)){for(var me="",_e=0,se=ie.length;_e<se;_e++)ie.charCodeAt(_e)>127?me+="x":me+=ie[_e];if(!me.match(h)){var De=Q.slice(0,$),Ne=Q.slice($+1),Pe=ie.match(d);Pe&&(De.push(Pe[1]),Ne.unshift(Pe[2])),Ne.length&&(O="/"+Ne.join(".")+O),this.hostname=De.join(".");break}}}this.hostname.length>f?this.hostname="":this.hostname=this.hostname.toLowerCase(),H||(this.hostname=e.toASCII(this.hostname));var Ge=this.port?":"+this.port:"",lt=this.hostname||"";this.host=lt+Ge,this.href+=this.host,H&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),O[0]!=="/"&&(O="/"+O))}if(!m[M])for(var $=0,ee=a.length;$<ee;$++){var Me=a[$];if(O.indexOf(Me)!==-1){var St=encodeURIComponent(Me);St===Me&&(St=escape(Me)),O=O.split(Me).join(St)}}var vt=O.indexOf("#");vt!==-1&&(this.hash=O.substr(vt),O=O.slice(0,vt));var Lt=O.indexOf("?");if(Lt!==-1?(this.search=O.substr(Lt),this.query=O.substr(Lt+1),k&&(this.query=g.parse(this.query)),O=O.slice(0,Lt)):k&&(this.search="",this.query={}),O&&(this.pathname=O),x[M]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Ge=this.pathname||"",Ue=this.search||"";this.path=Ge+Ue}return this.href=this.format(),this};function v(E){return t.isString(E)&&(E=b(E)),E instanceof n?E.format():n.prototype.format.call(E)}n.prototype.format=function(){var E=this.auth||"";E&&(E=encodeURIComponent(E),E=E.replace(/%3A/i,":"),E+="@");var k=this.protocol||"",R=this.pathname||"",D=this.hash||"",N=!1,I="";this.host?N=E+this.host:this.hostname&&(N=E+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(N+=":"+this.port)),this.query&&t.isObject(this.query)&&Object.keys(this.query).length&&(I=g.stringify(this.query));var w=this.search||I&&"?"+I||"";return k&&k.substr(-1)!==":"&&(k+=":"),this.slashes||(!k||x[k])&&N!==!1?(N="//"+(N||""),R&&R.charAt(0)!=="/"&&(R="/"+R)):N||(N=""),D&&D.charAt(0)!=="#"&&(D="#"+D),w&&w.charAt(0)!=="?"&&(w="?"+w),R=R.replace(/[?#]/g,function(O){return encodeURIComponent(O)}),w=w.replace("#","%23"),k+N+R+w+D};function p(E,k){return b(E,!1,!0).resolve(k)}n.prototype.resolve=function(E){return this.resolveObject(b(E,!1,!0)).format()};function _(E,k){return E?b(E,!1,!0).resolveObject(k):k}return n.prototype.resolveObject=function(E){if(t.isString(E)){var k=new n;k.parse(E,!1,!0),E=k}for(var R=new n,D=Object.keys(this),N=0;N<D.length;N++){var I=D[N];R[I]=this[I]}if(R.hash=E.hash,E.href==="")return R.href=R.format(),R;if(E.slashes&&!E.protocol){for(var w=Object.keys(E),O=0;O<w.length;O++){var P=w[O];P!=="protocol"&&(R[P]=E[P])}return x[R.protocol]&&R.hostname&&!R.pathname&&(R.path=R.pathname="/"),R.href=R.format(),R}if(E.protocol&&E.protocol!==R.protocol){if(!x[E.protocol]){for(var B=Object.keys(E),M=0;M<B.length;M++){var j=B[M];R[j]=E[j]}return R.href=R.format(),R}if(R.protocol=E.protocol,!E.host&&!A[E.protocol]){for(var ee=(E.pathname||"").split("/");ee.length&&!(E.host=ee.shift()););E.host||(E.host=""),E.hostname||(E.hostname=""),ee[0]!==""&&ee.unshift(""),ee.length<2&&ee.unshift(""),R.pathname=ee.join("/")}else R.pathname=E.pathname;if(R.search=E.search,R.query=E.query,R.host=E.host||"",R.auth=E.auth,R.hostname=E.hostname||E.host,R.port=E.port,R.pathname||R.search){var W=R.pathname||"",$=R.search||"";R.path=W+$}return R.slashes=R.slashes||E.slashes,R.href=R.format(),R}var L=R.pathname&&R.pathname.charAt(0)==="/",F=E.host||E.pathname&&E.pathname.charAt(0)==="/",V=F||L||R.host&&E.pathname,H=V,Q=R.pathname&&R.pathname.split("/")||[],ee=E.pathname&&E.pathname.split("/")||[],ie=R.protocol&&!x[R.protocol];if(ie&&(R.hostname="",R.port=null,R.host&&(Q[0]===""?Q[0]=R.host:Q.unshift(R.host)),R.host="",E.protocol&&(E.hostname=null,E.port=null,E.host&&(ee[0]===""?ee[0]=E.host:ee.unshift(E.host)),E.host=null),V=V&&(ee[0]===""||Q[0]==="")),F)R.host=E.host||E.host===""?E.host:R.host,R.hostname=E.hostname||E.hostname===""?E.hostname:R.hostname,R.search=E.search,R.query=E.query,Q=ee;else if(ee.length)Q||(Q=[]),Q.pop(),Q=Q.concat(ee),R.search=E.search,R.query=E.query;else if(!t.isNullOrUndefined(E.search)){if(ie){R.hostname=R.host=Q.shift();var me=R.host&&R.host.indexOf("@")>0?R.host.split("@"):!1;me&&(R.auth=me.shift(),R.host=R.hostname=me.shift())}return R.search=E.search,R.query=E.query,(!t.isNull(R.pathname)||!t.isNull(R.search))&&(R.path=(R.pathname?R.pathname:"")+(R.search?R.search:"")),R.href=R.format(),R}if(!Q.length)return R.pathname=null,R.search?R.path="/"+R.search:R.path=null,R.href=R.format(),R;for(var _e=Q.slice(-1)[0],se=(R.host||E.host||Q.length>1)&&(_e==="."||_e==="..")||_e==="",De=0,Ne=Q.length;Ne>=0;Ne--)_e=Q[Ne],_e==="."?Q.splice(Ne,1):_e===".."?(Q.splice(Ne,1),De++):De&&(Q.splice(Ne,1),De--);if(!V&&!H)for(;De--;De)Q.unshift("..");V&&Q[0]!==""&&(!Q[0]||Q[0].charAt(0)!=="/")&&Q.unshift(""),se&&Q.join("/").substr(-1)!=="/"&&Q.push("");var Pe=Q[0]===""||Q[0]&&Q[0].charAt(0)==="/";if(ie){R.hostname=R.host=Pe?"":Q.length?Q.shift():"";var me=R.host&&R.host.indexOf("@")>0?R.host.split("@"):!1;me&&(R.auth=me.shift(),R.host=R.hostname=me.shift())}return V=V||R.host&&Q.length,V&&!Pe&&Q.unshift(""),Q.length?R.pathname=Q.join("/"):(R.pathname=null,R.path=null),(!t.isNull(R.pathname)||!t.isNull(R.search))&&(R.path=(R.pathname?R.pathname:"")+(R.search?R.search:"")),R.auth=E.auth||R.auth,R.slashes=R.slashes||E.slashes,R.href=R.format(),R},n.prototype.parseHost=function(){var E=this.host,k=i.exec(E);k&&(k=k[0],k!==":"&&(this.port=k.substr(1)),E=E.substr(0,E.length-k.length)),E&&(this.hostname=E)},Bi}var Ns={},Mb;function KB(){return Mb||(Mb=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.CONSTANTS=void 0,Ns.CONSTANTS={REGEX_VALID_URL:new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i"),REGEX_LOOPBACK:new RegExp("^(?:127(?:\\.\\d{1,3}){3})|(?:10(?:\\.\\d{1,3}){3})|(?:172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})|(?:192\\.168(?:\\.\\d{1,3}){2})|(?:169\\.254(?:\\.\\d{1,3}){2})|(?:192\\.0\\.2(?:\\.\\d{1,3}){1})|(?:198\\.51\\.100(?:\\.\\d{1,3}){1})|(?:203\\.0\\.113(?:\\.\\d{1,3}){1})|(?:100\\.(?:6[4-9]|[7-9]\\d|1[0-1]\\d)(?:\\.\\d{1,3}){2})$","i"),REGEX_CONTENT_TYPE_IMAGE:new RegExp("image/.*","i"),REGEX_CONTENT_TYPE_AUDIO:new RegExp("audio/.*","i"),REGEX_CONTENT_TYPE_VIDEO:new RegExp("video/.*","i"),REGEX_CONTENT_TYPE_TEXT:new RegExp("text/.*","i"),REGEX_CONTENT_TYPE_APPLICATION:new RegExp("application/.*","i")}),Ns}var Bb;function $B(){if(Bb)return bn;Bb=1;var e=bn&&bn.__assign||function(){return e=Object.assign||function(w){for(var O,P=1,B=arguments.length;P<B;P++){O=arguments[P];for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&(w[M]=O[M])}return w},e.apply(this,arguments)},t=bn&&bn.__awaiter||function(w,O,P,B){function M(j){return j instanceof P?j:new P(function(W){W(j)})}return new(P||(P=Promise))(function(j,W){function $(V){try{F(B.next(V))}catch(H){W(H)}}function L(V){try{F(B.throw(V))}catch(H){W(H)}}function F(V){V.done?j(V.value):M(V.value).then($,L)}F((B=B.apply(w,O||[])).next())})},n=bn&&bn.__generator||function(w,O){var P={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},B,M,j,W;return W={next:$(0),throw:$(1),return:$(2)},typeof Symbol=="function"&&(W[Symbol.iterator]=function(){return this}),W;function $(F){return function(V){return L([F,V])}}function L(F){if(B)throw new TypeError("Generator is already executing.");for(;P;)try{if(B=1,M&&(j=F[0]&2?M.return:F[0]?M.throw||((j=M.return)&&j.call(M),0):M.next)&&!(j=j.call(M,F[1])).done)return j;switch(M=0,j&&(F=[F[0]&2,j.value]),F[0]){case 0:case 1:j=F;break;case 4:return P.label++,{value:F[1],done:!1};case 5:P.label++,M=F[1],F=[0];continue;case 7:F=P.ops.pop(),P.trys.pop();continue;default:if(j=P.trys,!(j=j.length>0&&j[j.length-1])&&(F[0]===6||F[0]===2)){P=0;continue}if(F[0]===3&&(!j||F[1]>j[0]&&F[1]<j[3])){P.label=F[1];break}if(F[0]===6&&P.label<j[1]){P.label=j[1],j=F;break}if(j&&P.label<j[2]){P.label=j[2],P.ops.push(F);break}j[2]&&P.ops.pop(),P.trys.pop();continue}F=O.call(w,P)}catch(V){F=[6,V],M=0}finally{B=j=0}if(F[0]&5)throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}},r=bn&&bn.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(bn,"__esModule",{value:!0}),bn.getPreviewFromContent=bn.getLinkPreview=void 0;var i=r(jB()),u=r(YB()),s=KB();function o(w){if(s.CONSTANTS.REGEX_LOOPBACK.test(w))throw new Error("SSRF request detected, trying to query host")}function a(w,O,P){var B=w("meta[".concat(P,"='").concat(O,"']"));return B.length?B:null}function c(w,O,P){return w("meta[".concat(P,"='").concat(O,"']")).attr("content")}function l(w){var O=c(w,"og:title","property")||c(w,"og:title","name");return O||(O=w("head > title").text()),O}function f(w){var O=c(w,"og:site_name","property")||c(w,"og:site_name","name");return O}function h(w){var O=c(w,"author","name")||c(w,"article:author","property");return O}function d(w){var O=c(w,"description","name")||c(w,"Description","name")||c(w,"og:description","property");return O}function m(w){var O=a(w,"medium","name");if(O){var P=O.attr("content");return P==="image"?"photo":P}return c(w,"og:type","property")||c(w,"og:type","name")}function A(w,O,P){var B=[],M,j,W={},$=P!=null?P:"og";return M=a(w,"".concat($,":image"),"property")||a(w,"".concat($,":image"),"name"),M&&M.each(function(L,F){F.type==="tag"&&(j=F.attribs.content,j&&(j=u.default.resolve(O,j),B.push(j)))}),B.length<=0&&!P&&(j=w("link[rel=image_src]").attr("href"),j?(j=u.default.resolve(O,j),B=[j]):(M=w("img"),M!=null&&M.length&&(W={},B=[],M.each(function(L,F){F.type==="tag"&&(j=F.attribs.src),j&&!W[j]&&(W[j]=!0,B.push(u.default.resolve(O,j)))})))),B}function x(w){var O=[],P,B,M,j,W,$,L,F,V,H,Q,ee=a(w,"og:video","property")||a(w,"og:video","name");if(ee!=null&&ee.length)for(P=a(w,"og:video:type","property")||a(w,"og:video:type","name"),B=a(w,"og:video:secure_url","property")||a(w,"og:video:secure_url","name"),F=c(w,"og:video:width","property")||c(w,"og:video:width","name"),V=c(w,"og:video:height","property")||c(w,"og:video:height","name"),Q=0;Q<ee.length;Q+=1){var ie=ee[Q];ie.type==="tag"&&(W=ie.attribs.content),M=P==null?void 0:P[Q],(M==null?void 0:M.type)==="tag"&&($=M?M.attribs.content:null),j=B==null?void 0:B[Q],(j==null?void 0:j.type)==="tag"&&(L=j?j.attribs.content:null),H={url:W,secureUrl:L,type:$,width:F,height:V},$&&$.indexOf("video/")===0?O.splice(0,0,H):O.push(H)}return O}function g(w){return u.default.resolve(w,"/favicon.ico")}function b(w,O){var P=[],B=[],M,j=["rel=icon",'rel="shortcut icon"',"rel=apple-touch-icon"];return j.forEach(function(W){B=w("link[".concat(W,"]")),B.length&&B.each(function($,L){L.type==="tag"&&(M=L.attribs.href),M&&(M=u.default.resolve(O,M),P.push(M))})}),P.length<=0&&P.push(g(O)),P}function v(w,O){return{url:w,mediaType:"image",contentType:O,favicons:[g(w)]}}function p(w,O){return{url:w,mediaType:"audio",contentType:O,favicons:[g(w)]}}function _(w,O){return{url:w,mediaType:"video",contentType:O,favicons:[g(w)]}}function E(w,O){return{url:w,mediaType:"application",contentType:O,favicons:[g(w)]}}function k(w,O,P,B){P===void 0&&(P={});var M=i.default.load(w),j={url:O,title:l(M),siteName:f(M),description:d(M),author:h(M),mediaType:m(M)||"website",contentType:B,images:A(M,O,P.imagesPropertyType),videos:x(M),favicons:b(M,O)};if(P!=null&&P.onResponse&&typeof P.onResponse!="function")throw new Error("link-preview-js onResponse option must be a function");if(P!=null&&P.onResponse){var W=structuredClone(j),$=new URL(O);j=P.onResponse(W,M,$)}return j}function R(w,O,P,B){return P===void 0&&(P={}),k(w,O,P,B)}function D(w,O){try{var P=w.headers["content-type"],B=[],M=null;if(!P)return R(w.data,w.url,O);if(P.includes(";")){B=P.split(";"),P=B[0];for(var j=0,W=B;j<W.length;j++){var $=W[j];$.indexOf("charset=")!==-1&&(M=$.split("=")[1])}}if(s.CONSTANTS.REGEX_CONTENT_TYPE_IMAGE.test(P))return e(e({},v(w.url,P)),{charset:M});if(s.CONSTANTS.REGEX_CONTENT_TYPE_AUDIO.test(P))return e(e({},p(w.url,P)),{charset:M});if(s.CONSTANTS.REGEX_CONTENT_TYPE_VIDEO.test(P))return e(e({},_(w.url,P)),{charset:M});if(s.CONSTANTS.REGEX_CONTENT_TYPE_TEXT.test(P)){var L=w.data;return e(e({},k(L,w.url,O,P)),{charset:M})}if(s.CONSTANTS.REGEX_CONTENT_TYPE_APPLICATION.test(P))return e(e({},E(w.url,P)),{charset:M});var F=w.data;return e(e({},R(F,w.url,O)),{charset:M})}catch(V){throw new Error("link-preview-js could not fetch link information ".concat(V.toString()))}}function N(w,O){var P,B,M;return t(this,void 0,void 0,function(){var j,me,W,$,L,F,V,H,Q,ee,ie,me,_e,se,De;return n(this,function(Ne){switch(Ne.label){case 0:if(!w||typeof w!="string")throw new Error("link-preview-js did not receive a valid url or text");if(j=w.replace(/\n/g," ").split(" ").find(function(Pe){return s.CONSTANTS.REGEX_VALID_URL.test(Pe)}),!j)throw new Error("link-preview-js did not receive a valid a url or text");if((O==null?void 0:O.followRedirects)==="manual"&&!(O!=null&&O.handleRedirects))throw new Error("link-preview-js followRedirects is set to manual, but no handleRedirects function was provided");return O!=null&&O.resolveDNSHost?[4,O.resolveDNSHost(j)]:[3,2];case 1:me=Ne.sent(),o(me),Ne.label=2;case 2:return W=(P=O==null?void 0:O.timeout)!==null&&P!==void 0?P:3e3,$=new AbortController,L=setTimeout(function(){return $.abort()},W),F={headers:(B=O==null?void 0:O.headers)!==null&&B!==void 0?B:{},redirect:(M=O==null?void 0:O.followRedirects)!==null&&M!==void 0?M:"error",signal:$.signal},V=O!=null&&O.proxyUrl?O.proxyUrl.concat(j):j,[4,fetch(V,F).catch(function(Pe){throw Pe.name==="AbortError"?new Error("Request timeout"):(clearTimeout(L),Pe)})];case 3:if(H=Ne.sent(),!(H.status>300&&H.status<309&&F.redirect==="manual"&&(O!=null&&O.handleRedirects)))return[3,7];if(Q=H.headers.get("location")||"",ee=Q.startsWith("http://")||Q.startsWith("https://"),ie=ee?Q:u.default.resolve(V,Q),!O.handleRedirects(V,ie))throw new Error("link-preview-js could not handle redirect");return O!=null&&O.resolveDNSHost?[4,O.resolveDNSHost(ie)]:[3,5];case 4:me=Ne.sent(),o(me),Ne.label=5;case 5:return[4,fetch(ie,F)];case 6:H=Ne.sent(),Ne.label=7;case 7:return clearTimeout(L),_e={},H.headers.forEach(function(Pe,Ge){_e[Ge]=Pe}),De={url:O!=null&&O.proxyUrl?H.url.replace(O.proxyUrl,""):H.url,headers:_e},[4,H.text()];case 8:return se=(De.data=Ne.sent(),De),[2,D(se,O)]}})})}bn.getLinkPreview=N;function I(w,O){return t(this,void 0,void 0,function(){return n(this,function(P){if(!w||typeof w!="object")throw new Error("link-preview-js did not receive a valid response object");if(!w.url)throw new Error("link-preview-js did not receive a valid response object");return[2,D(w,O)]})})}return bn.getPreviewFromContent=I,bn}var QB=$B();const an=({active:e,onClick:t,disabled:n,children:r,title:i})=>T.jsx(Yt,{title:i,children:T.jsx("button",{onClick:t,disabled:n,type:"button",className:`p-2 rounded-md transition-colors duration-150 ${n?"opacity-50 cursor-not-allowed":e?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,children:r})}),XB=({initialContent:e,onChange:t,onBlur:n,proofreadingResults:r=[],onAcceptSuggestion:i})=>{const[u,s]=K.useState(!1),[o,a]=K.useState(""),[c,l]=K.useState(""),[f,h]=K.useState(!1),[d,m]=K.useState(""),[A,x]=K.useState(""),[g,b]=K.useState(null),[v,p]=K.useState(!1),[_,E]=K.useState(""),[k,R]=K.useState(null),[D,N]=K.useState(!1),[I,w]=K.useState(null),[O,P]=K.useState(null),[B,M]=K.useState(!1),[j,W]=K.useState({x:0,y:0}),$=K.useRef(null),L=K.useRef(null),F=K.useRef({}),[V,H]=K.useState(null),Q=K.useRef(null),[ee,ie]=K.useState(!1),[me,_e]=K.useState("youtube"),[se,De]=K.useState(""),[Ne,Pe]=K.useState(""),[Ge,lt]=K.useState(""),[Me,St]=K.useState(""),[vt,Lt]=K.useState(""),[Ue,Gt]=K.useState(""),ce=l_({extensions:[M_.configure({heading:!1,bulletList:!1,orderedList:!1,listItem:!1}),d_.configure({levels:[3,4]}),D9,R9,L9,w_,$_.configure({resizable:!0,HTMLAttributes:{class:"border-collapse border border-gray-300 w-full my-4"}}),K_.configure({HTMLAttributes:{class:"border border-gray-300"}}),Y_.configure({HTMLAttributes:{class:"border border-gray-300 bg-gray-100 p-2 font-semibold text-left"}}),W_.configure({HTMLAttributes:{class:"border border-gray-300 p-2"}}),k9.configure({HTMLAttributes:{class:"rounded-lg max-w-full h-auto object-contain my-4 cursor-pointer"}}),O9.configure({types:["heading","paragraph"]}),jM.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-600 underline cursor-pointer hover:text-blue-800",rel:"noopener noreferrer",target:"_blank"}}),G7,q7,z7.configure({suggestions:r})],content:e,onUpdate:({editor:ue})=>{t(ue.getHTML())},editorProps:{attributes:{class:"prose max-w-none focus:outline-none min-h-[200px] [&>h3]:text-lg [&>h3]:font-semibold [&>h3]:mb-2 [&>h3]:mt-4 [&>h4]:text-base [&>h4]:font-medium [&>h4]:mb-2 [&>h4]:mt-3 [&>p]:mb-4 [&>p]:leading-relaxed [&>ul]:list-disc [&>ul]:pl-6 [&>ul>li]:mb-2 [&>ol]:list-decimal [&>ol]:pl-6 [&>ol>li]:mb-2 [&_img]:max-w-full [&_img]:h-auto [&_img]:rounded-lg"},handleClick:(ue,Ie,je)=>{const et=je.target.closest("a");if(et)return je.preventDefault(),b({href:et.href,text:et.textContent,element:et}),R(null),!0;const $e=je.target.closest("img");if($e)return je.preventDefault(),R({src:$e.src,alt:$e.alt||"",element:$e}),b(null),N(!1),!0;const tn=je.target.closest(".proofreading-original, .proofreading-suggestion, .proofreading-mark");return tn&&(tn.dataset.suggestion||tn.dataset.original)?(je.preventDefault(),H(tn),!0):(b(null),R(null),H(null),!1)}}});if(K.useEffect(()=>{if(ce){const ue=ce.extensionManager.extensions.find(Ie=>Ie.name==="proofreadingDecoration");ue&&(ue.options.suggestions=r||[],ce.view.dispatch(ce.state.tr))}},[r,ce]),K.useEffect(()=>{ce&&e!==ce.getHTML()&&ce.commands.setContent(e,!1)},[e,ce]),!ce)return null;const pt=()=>{if(!V||!ce)return;const ue=V.dataset.original,Ie=V.dataset.suggestion;if(!(!ue||!Ie)){if(i)i({original:ue,change:Ie});else{const je=Number(V.dataset.from),et=Number(V.dataset.to);if(!isNaN(je)&&!isNaN(et))try{ce.chain().focus().deleteRange({from:je,to:et}).insertContent(Ie).run(),Ee.success("Change applied")}catch($e){console.error("Error applying change:",$e)}}H(null)}},nt=()=>{H(null)},At=()=>{const{from:ue,to:Ie}=ce.state.selection,je=ce.state.doc.textBetween(ue,Ie," ");l(je),a(""),s(!0)},xn=()=>{if(!o){Ee.error("Please enter a URL");return}let ue=o;/^https?:\/\//i.test(ue)||(ue="https://"+ue),c&&ce.state.selection.empty?ce.chain().focus().insertContent(`<a href="${ue}">${c}</a>`).run():ce.chain().focus().setLink({href:ue}).run(),s(!1),a(""),l(""),Ee.success("Link added")},Z=()=>{ce.chain().focus().unsetLink().run(),b(null),Ee.success("Link removed")},de=()=>{g&&(E(g.href),p(!0))},ve=()=>{if(!_){Ee.error("Please enter a URL");return}let ue=_;if(/^https?:\/\//i.test(ue)||(ue="https://"+ue),ce&&g){const{state:Ie}=ce,{from:je,to:et}=Ie.selection;ce.chain().focus().extendMarkRange("link").setLink({href:ue}).run(),p(!1),E(""),b(le(G({},g),{href:ue})),Ee.success("Link updated")}},xe=()=>{m(""),x(""),h(!0)},Ve=()=>{if(!d){Ee.error("Please enter an image URL");return}let ue=d;/^https?:\/\//i.test(ue)||(ue="https://"+ue),ce.chain().focus().setImage({src:ue,alt:A}).run(),h(!1),m(""),x(""),Ee.success("Image added")},kt=()=>{k&&k.element&&(k.element.alt=A,t(ce.getHTML()),N(!1),Ee.success("Alt text updated"))},rt=()=>{if(k&&ce){const{state:ue}=ce;let Ie=null;ue.doc.descendants((je,et)=>{if(je.type.name==="image"&&je.attrs.src===k.src)return Ie=et,!1}),Ie!==null&&(ce.chain().focus().deleteRange({from:Ie,to:Ie+1}).run(),R(null),Ee.success("Image deleted"))}},Bt=()=>{if(m((k==null?void 0:k.src)||""),x((k==null?void 0:k.alt)||""),h(!0),k&&ce){const{state:ue}=ce;let Ie=null;ue.doc.descendants((je,et)=>{if(je.type.name==="image"&&je.attrs.src===k.src)return Ie=et,!1}),Ie!==null&&ce.chain().focus().deleteRange({from:Ie,to:Ie+1}).run()}R(null)},qt=ue=>{if(!ue)return{valid:!1,embedUrl:null,videoId:null};const Ie=ue.match(/youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/);if(Ie)return{valid:!0,embedUrl:ue,videoId:Ie[1]};const je=[/(?:youtube\.com\/watch\?v=)([a-zA-Z0-9_-]{11})/,/(?:youtu\.be\/)([a-zA-Z0-9_-]{11})/,/(?:youtube\.com\/v\/)([a-zA-Z0-9_-]{11})/,/(?:youtube\.com\/shorts\/)([a-zA-Z0-9_-]{11})/];for(const et of je){const $e=ue.match(et);if($e)return{valid:!0,embedUrl:`https://www.youtube.com/embed/${$e[1]}`,videoId:$e[1]}}return{valid:!1,embedUrl:null,videoId:null}},gn=ue=>{if(!ue)return!1;try{const Ie=new URL(ue.startsWith("http")?ue:`https://${ue}`);return Ie.protocol==="http:"||Ie.protocol==="https:"}catch(Ie){return!1}},Xe=()=>{const ue=qt(se);if(!ue.valid){lt("Please enter a valid YouTube URL");return}if(!Ne.trim()){Ee.warning("Please add a title for SEO");return}ce.chain().focus().setIframe({src:ue.embedUrl,title:Ne.trim()}).run(),De(""),Pe(""),lt(""),ie(!1),Ee.success("YouTube video added")},Vt=()=>{if(!gn(Me)){Gt("Please enter a valid website URL");return}if(!vt.trim()){Ee.warning("Please add a title for SEO");return}let ue=Me;ue.startsWith("http")||(ue=`https://${ue}`),ce.chain().focus().setWebsiteEmbed({href:ue,title:vt.trim()}).run(),St(""),Lt(""),Gt(""),ie(!1),Ee.success("Website link added")},be=()=>{De(""),Pe(""),lt(""),St(""),Lt(""),Gt(""),ie(!1)};return T.jsxs("div",{className:"border rounded-lg bg-white shadow-sm",children:[T.jsxs("div",{className:"flex items-center gap-1 p-2 border-b bg-gray-50 rounded-t-lg flex-wrap",children:[T.jsx(an,{title:"Heading 3",active:ce.isActive("heading",{level:3}),onClick:()=>ce.chain().focus().toggleHeading({level:3}).run(),children:T.jsx(dx,{className:"w-4 h-4"})}),T.jsx(an,{title:"Heading 4",active:ce.isActive("heading",{level:4}),onClick:()=>ce.chain().focus().toggleHeading({level:4}).run(),children:T.jsx(hx,{className:"w-4 h-4"})}),T.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),T.jsx(an,{title:"Bold (Ctrl+B)",active:ce.isActive("bold"),onClick:()=>ce.chain().focus().toggleBold().run(),children:T.jsx(Kb,{className:"w-4 h-4"})}),T.jsx(an,{title:"Italic (Ctrl+I)",active:ce.isActive("italic"),onClick:()=>ce.chain().focus().toggleItalic().run(),children:T.jsx(Qb,{className:"w-4 h-4"})}),T.jsx(an,{title:"Underline (Ctrl+U)",active:ce.isActive("underline"),onClick:()=>ce.chain().focus().toggleUnderline().run(),children:T.jsx(Xb,{className:"w-4 h-4"})}),T.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),T.jsx(an,{title:"Bullet List",active:ce.isActive("bulletList"),onClick:()=>ce.chain().focus().toggleBulletList().run(),children:T.jsx(Tx,{className:"w-4 h-4"})}),T.jsx(an,{title:"Numbered List",active:ce.isActive("orderedList"),onClick:()=>ce.chain().focus().toggleOrderedList().run(),children:T.jsx(bx,{className:"w-4 h-4"})}),T.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),T.jsx(an,{title:"Align Left",active:ce.isActive({textAlign:"left"}),onClick:()=>ce.chain().focus().setTextAlign("left").run(),children:T.jsx(VA,{className:"w-4 h-4"})}),T.jsx(an,{title:"Align Center",active:ce.isActive({textAlign:"center"}),onClick:()=>ce.chain().focus().setTextAlign("center").run(),children:T.jsx(GA,{className:"w-4 h-4"})}),T.jsx(an,{title:"Align Right",active:ce.isActive({textAlign:"right"}),onClick:()=>ce.chain().focus().setTextAlign("right").run(),children:T.jsx(YA,{className:"w-4 h-4"})}),T.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),T.jsx(an,{title:"Add Link",active:ce.isActive("link"),onClick:At,children:T.jsx(qa,{className:"w-4 h-4"})}),T.jsx(an,{title:"Add Image",onClick:xe,children:T.jsx(To,{className:"w-4 h-4"})}),T.jsx(Dh,{menu:{items:[{key:"youtube",label:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Tu,{className:"w-4 h-4 text-red-600"}),T.jsx("span",{children:"YouTube Video"})]}),onClick:()=>{_e("youtube"),ie(!0)}},{key:"website",label:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(_u,{className:"w-4 h-4 text-blue-600"}),T.jsx("span",{children:"Website Link"})]}),onClick:()=>{_e("website"),ie(!0)}}]},trigger:["click"],placement:"bottomLeft",children:T.jsx("div",{children:T.jsx(an,{title:"Add Embed (YouTube / Website)",children:T.jsx(Tu,{className:"w-4 h-4"})})})}),T.jsx(Dh,{menu:{items:[{key:"insert",label:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Bh,{className:"w-4 h-4"}),T.jsx("span",{children:"Insert 3×3 Table"})]}),onClick:()=>ce.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()},{type:"divider"},{key:"addRowBefore",label:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(kn,{className:"w-4 h-4"}),T.jsx("span",{children:"Add Row Before"})]}),onClick:()=>ce.chain().focus().addRowBefore().run(),disabled:!ce.can().addRowBefore()},{key:"addRowAfter",label:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(kn,{className:"w-4 h-4"}),T.jsx("span",{children:"Add Row After"})]}),onClick:()=>ce.chain().focus().addRowAfter().run(),disabled:!ce.can().addRowAfter()},{key:"deleteRow",label:T.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[T.jsx(Mh,{className:"w-4 h-4"}),T.jsx("span",{children:"Delete Row"})]}),onClick:()=>ce.chain().focus().deleteRow().run(),disabled:!ce.can().deleteRow()},{type:"divider"},{key:"addColBefore",label:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(kn,{className:"w-4 h-4"}),T.jsx("span",{children:"Add Column Before"})]}),onClick:()=>ce.chain().focus().addColumnBefore().run(),disabled:!ce.can().addColumnBefore()},{key:"addColAfter",label:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(kn,{className:"w-4 h-4"}),T.jsx("span",{children:"Add Column After"})]}),onClick:()=>ce.chain().focus().addColumnAfter().run(),disabled:!ce.can().addColumnAfter()},{key:"deleteCol",label:T.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[T.jsx(Mh,{className:"w-4 h-4"}),T.jsx("span",{children:"Delete Column"})]}),onClick:()=>ce.chain().focus().deleteColumn().run(),disabled:!ce.can().deleteColumn()},{type:"divider"},{key:"deleteTable",label:T.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[T.jsx(Fr,{className:"w-4 h-4"}),T.jsx("span",{children:"Delete Table"})]}),onClick:()=>ce.chain().focus().deleteTable().run(),disabled:!ce.can().deleteTable()}]},trigger:["click"],placement:"bottomLeft",children:T.jsx("div",{children:T.jsx(an,{title:"Table",active:ce.isActive("table"),children:T.jsx(Bh,{className:"w-4 h-4"})})})}),T.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),T.jsx(an,{title:"Undo (Ctrl+Z)",disabled:!ce.can().undo(),onClick:()=>ce.chain().focus().undo().run(),children:T.jsx(Lx,{className:"w-4 h-4"})}),T.jsx(an,{title:"Redo (Ctrl+Y)",disabled:!ce.can().redo(),onClick:()=>ce.chain().focus().redo().run(),children:T.jsx(Nx,{className:"w-4 h-4"})})]}),g&&T.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-50 border-b text-sm",children:[T.jsx(qa,{className:"w-4 h-4 text-blue-600"}),T.jsx("span",{className:"text-blue-600 truncate flex-1",children:g.href}),T.jsx(Yt,{title:"Edit Link",children:T.jsx("button",{onClick:de,className:"p-1 hover:bg-blue-100 rounded",children:T.jsx(Rh,{className:"w-4 h-4 text-blue-600"})})}),T.jsx(Yt,{title:"Delete Link",children:T.jsx("button",{onClick:Z,className:"p-1 hover:bg-red-100 rounded",children:T.jsx(Fr,{className:"w-4 h-4 text-red-500"})})})]}),k&&T.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-purple-50 border-b text-sm",children:[T.jsx(To,{className:"w-4 h-4 text-purple-600"}),D?T.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[T.jsx(yt,{size:"small",value:A,onChange:ue=>x(ue.target.value),placeholder:"Alt text",className:"flex-1"}),T.jsx(Yt,{title:"Save",children:T.jsx("button",{onClick:kt,className:"p-1 hover:bg-green-100 rounded",children:T.jsx(_o,{className:"w-4 h-4 text-green-600"})})}),T.jsx(Yt,{title:"Cancel",children:T.jsx("button",{onClick:()=>N(!1),className:"p-1 hover:bg-gray-100 rounded",children:T.jsx(jr,{className:"w-4 h-4 text-gray-500"})})})]}):T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"text-purple-700 truncate flex-1",children:k.alt||"No alt text"}),T.jsx(Yt,{title:"Edit Alt Text",children:T.jsx("button",{onClick:()=>{x(k.alt||""),N(!0)},className:"p-1 hover:bg-purple-100 rounded",children:T.jsx(Rh,{className:"w-4 h-4 text-purple-600"})})}),T.jsx(Yt,{title:"Replace Image",children:T.jsx("button",{onClick:Bt,className:"p-1 hover:bg-blue-100 rounded",children:T.jsx(To,{className:"w-4 h-4 text-blue-600"})})}),T.jsx(Yt,{title:"Delete Image",children:T.jsx("button",{onClick:rt,className:"p-1 hover:bg-red-100 rounded",children:T.jsx(Fr,{className:"w-4 h-4 text-red-500"})})})]})]}),V&&T.jsxs("div",{ref:Q,className:"bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-amber-300 rounded-xl  mx-4 mb-4 overflow-hidden mt-5",children:[T.jsxs("div",{className:"px-4 py-2 bg-gradient-to-r from-amber-100 to-orange-100 border-b border-amber-200 flex items-center gap-2",children:[T.jsx("div",{className:"w-6 h-6 bg-amber-500 rounded-full flex items-center justify-center",children:T.jsx("span",{className:"text-white text-xs font-bold",children:"!"})}),T.jsx("span",{className:"text-sm font-semibold text-amber-800",children:"AI Suggestion"})]}),T.jsxs("div",{className:"p-4 space-y-3",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[T.jsx("div",{className:"w-4 h-4 bg-green-100 rounded flex items-center justify-center",children:T.jsx(_o,{className:"w-2.5 h-2.5 text-green-500"})}),T.jsx("span",{className:"text-xs font-semibold text-green-600 uppercase",children:"Suggested"})]}),T.jsx("div",{className:"p-2 bg-green-50 border border-green-200 rounded-lg text-sm text-gray-700",children:V.dataset.suggestion})]}),T.jsxs("div",{className:"flex gap-2 pt-2",children:[T.jsxs("button",{onClick:pt,className:"flex-1 flex items-center justify-center gap-1.5 px-4 py-2.5 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg text-sm font-semibold hover:shadow-md hover:scale-[1.02] transition-all",children:[T.jsx(_o,{className:"w-4 h-4"}),"Accept Change"]}),T.jsxs("button",{onClick:nt,className:"px-4 py-2.5 bg-gray-100 text-gray-600 rounded-lg text-sm font-medium hover:bg-gray-200 transition-all flex items-center gap-1.5",children:[T.jsx(jr,{className:"w-4 h-4"}),"Dismiss"]})]})]})]}),T.jsxs("div",{ref:L,className:"p-4 relative",onClick:()=>ce.chain().focus().run(),onMouseOver:ue=>{const Ie=ue.target.closest("a");Ie&&($.current&&clearTimeout($.current),$.current=setTimeout(()=>Ft(null,null,function*(){var tn,Dn,re;const je=Ie.getBoundingClientRect(),et=(tn=L.current)==null?void 0:tn.getBoundingClientRect();et&&W({x:Math.min(je.left-et.left,et.width-280),y:je.bottom-et.top+5});const $e=Ie.href;if(w({href:$e,text:Ie.textContent}),F.current[$e])P(F.current[$e]);else{M(!0),P(null);try{const he=yield QB.getLinkPreview($e,{timeout:5e3,followRedirects:"follow",headers:{"user-agent":"googlebot"}}),Se={title:he.title||"",description:he.description||"",image:((Dn=he.images)==null?void 0:Dn[0])||((re=he.favicons)==null?void 0:re[0])||"",siteName:he.siteName||new URL($e).hostname};F.current[$e]=Se,P(Se)}catch(he){console.log("Link preview failed:",he.message);const Se={title:"",description:"",image:"",siteName:new URL($e).hostname};F.current[$e]=Se,P(Se)}finally{M(!1)}}}),300))},onMouseOut:ue=>{var et;const Ie=ue.target.closest("a"),je=ue.relatedTarget;Ie&&(!je||!((et=je.closest)!=null&&et.call(je,".link-hover-preview")))&&($.current&&clearTimeout($.current),$.current=setTimeout(()=>{w(null),P(null)},200))},children:[T.jsx(a_,{editor:ce}),I&&!g&&T.jsxs("div",{className:"link-hover-preview absolute z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-3 w-72",style:{left:j.x,top:j.y},onMouseEnter:()=>{$.current&&clearTimeout($.current)},onMouseLeave:()=>{w(null),P(null)},children:[B?T.jsxs("div",{className:"flex items-center gap-2 py-2",children:[T.jsx(qb,{className:"w-4 h-4 text-blue-600 animate-spin"}),T.jsx("span",{className:"text-sm text-gray-500",children:"Loading preview..."})]}):O?T.jsxs("div",{children:[O.image&&T.jsx("div",{className:"mb-2 -mx-3 -mt-3",children:T.jsx("img",{src:O.image,alt:"",className:"w-full h-32 object-cover rounded-t-lg",onError:ue=>ue.target.style.display="none"})}),O.title&&T.jsx("h4",{className:"font-semibold text-sm text-gray-900 line-clamp-2 mb-1",children:O.title}),O.description&&T.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 mb-2",children:O.description}),T.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400 mb-2",children:[T.jsx(qa,{className:"w-3 h-3"}),T.jsx("span",{className:"truncate",children:O.siteName})]})]}):T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx(qa,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),T.jsx("a",{href:I.href,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm truncate",children:I.href})]}),T.jsxs("div",{className:"flex gap-1 pt-2 border-t border-gray-100",children:[T.jsxs("a",{href:I.href,target:"_blank",rel:"noopener noreferrer",className:"flex-1 px-2 py-1.5 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center justify-center gap-1",children:[T.jsx(ta,{className:"w-3 h-3"})," Open"]}),T.jsxs("button",{onClick:()=>{ce&&ce.chain().focus().unsetLink().run(),w(null),Ee.success("Link removed!")},className:"flex-1 px-2 py-1.5 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 flex items-center justify-center gap-1",children:[T.jsx(Fr,{className:"w-3 h-3"})," Delete"]})]})]})]}),T.jsx(Yn,{title:"Add Link",open:u,onCancel:()=>s(!1),footer:T.jsxs("div",{className:"flex justify-end gap-2",children:[T.jsx(Ot,{onClick:()=>s(!1),children:"Cancel"}),T.jsx(Ot,{type:"primary",onClick:xn,children:"Add Link"})]}),children:T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link Text (optional)"}),T.jsx(yt,{value:c,onChange:ue=>l(ue.target.value),placeholder:"Display text for the link"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),T.jsx(yt,{value:o,onChange:ue=>a(ue.target.value),placeholder:"https://example.com"})]})]})}),T.jsx(Yn,{title:"Add Image",open:f,onCancel:()=>h(!1),footer:T.jsxs("div",{className:"flex justify-end gap-2",children:[T.jsx(Ot,{onClick:()=>h(!1),children:"Cancel"}),T.jsx(Ot,{type:"primary",onClick:Ve,children:"Add Image"})]}),children:T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),T.jsx(yt,{value:d,onChange:ue=>m(ue.target.value),placeholder:"https://example.com/image.jpg"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alt Text (optional)"}),T.jsx(yt,{value:A,onChange:ue=>x(ue.target.value),placeholder:"Description of the image"})]})]})}),T.jsx(Yn,{title:"Edit Link",open:v,onCancel:()=>p(!1),footer:T.jsxs("div",{className:"flex justify-end gap-2",children:[T.jsx(Ot,{onClick:()=>p(!1),children:"Cancel"}),T.jsx(Ot,{type:"primary",onClick:ve,children:"Update Link"})]}),children:T.jsx("div",{className:"space-y-4",children:T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link URL"}),T.jsx(yt,{value:_,onChange:ue=>E(ue.target.value),placeholder:"https://example.com",onKeyDown:ue=>ue.key==="Enter"&&ve()})]})})}),T.jsxs(Yn,{title:T.jsxs("div",{className:"flex items-center gap-2",children:[me==="youtube"?T.jsx(Tu,{className:"w-5 h-5 text-red-600"}):T.jsx(_u,{className:"w-5 h-5 text-blue-600"}),T.jsx("span",{children:me==="youtube"?"Add YouTube Video":"Add Website Link"})]}),open:ee,onCancel:be,footer:null,width:520,centered:!0,children:[T.jsxs("div",{className:"flex gap-2 mb-4 p-1 bg-gray-100 rounded-lg",children:[T.jsxs("button",{onClick:()=>_e("youtube"),className:`flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-md text-sm font-medium transition-all ${me==="youtube"?"bg-white text-red-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[T.jsx(Tu,{className:"w-4 h-4"}),"YouTube"]}),T.jsxs("button",{onClick:()=>_e("website"),className:`flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-md text-sm font-medium transition-all ${me==="website"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[T.jsx(_u,{className:"w-4 h-4"}),"Website"]})]}),me==="youtube"&&T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["YouTube URL ",T.jsx("span",{className:"text-red-500",children:"*"})]}),T.jsx(yt,{value:se,onChange:ue=>{De(ue.target.value),lt("")},placeholder:"https://www.youtube.com/watch?v=... or embed URL",status:Ge?"error":""}),Ge&&T.jsx("p",{className:"text-xs text-red-500 mt-1",children:Ge}),T.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supports: youtube.com/watch, youtu.be, youtube.com/embed"})]}),se&&qt(se).valid&&T.jsx("div",{className:"border rounded-lg overflow-hidden",children:T.jsx("div",{className:"aspect-video bg-gray-900",children:T.jsx("iframe",{src:qt(se).embedUrl,title:"Preview",frameBorder:"0",className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})})}),T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",T.jsx("span",{className:"text-red-500",children:"*"})]}),T.jsx(yt,{value:Ne,onChange:ue=>Pe(ue.target.value),placeholder:"Video title for SEO and accessibility"})]}),T.jsx(Ot,{type:"primary",onClick:Xe,disabled:!se||!Ne.trim(),block:!0,className:"!bg-red-600 !hover:bg-red-700 !border-red-600",icon:T.jsx(Tu,{className:"w-4 h-4"}),children:"Add YouTube Video"})]}),me==="website"&&T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Website URL ",T.jsx("span",{className:"text-red-500",children:"*"})]}),T.jsx(yt,{value:Me,onChange:ue=>{St(ue.target.value),Gt("")},placeholder:"https://example.com",status:Ue?"error":"",prefix:T.jsx(_u,{className:"w-4 h-4 text-gray-400"})}),Ue&&T.jsx("p",{className:"text-xs text-red-500 mt-1",children:Ue})]}),T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",T.jsx("span",{className:"text-red-500",children:"*"})]}),T.jsx(yt,{value:vt,onChange:ue=>Lt(ue.target.value),placeholder:"Link title for SEO and accessibility"})]}),T.jsx(Ot,{type:"primary",onClick:Vt,disabled:!Me||!vt.trim(),block:!0,icon:T.jsx(_u,{className:"w-4 h-4"}),children:"Add Website Link"})]})]})]})},my=K.createContext(null),JB=({children:e,value:t})=>T.jsx(my.Provider,{value:t,children:e}),ZB=()=>{const e=K.useContext(my);if(!e)throw new Error("useEditorContext must be used within an EditorProvider");return e},{TextArea:pH}=yt,{Option:mH}=pr,eF=e=>{if(!e)return{valid:!1,embedUrl:null,videoId:null};const t=e.match(/youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/);if(t)return{valid:!0,embedUrl:e,videoId:t[1],type:"embed"};const n=[/(?:youtube\.com\/watch\?v=)([a-zA-Z0-9_-]{11})/,/(?:youtu\.be\/)([a-zA-Z0-9_-]{11})/,/(?:youtube\.com\/v\/)([a-zA-Z0-9_-]{11})/,/(?:youtube\.com\/shorts\/)([a-zA-Z0-9_-]{11})/];for(const r of n){const i=e.match(r);if(i)return{valid:!0,embedUrl:`https://www.youtube.com/embed/${i[1]}`,videoId:i[1],type:"video"}}return{valid:!1,embedUrl:null,videoId:null}},tF=({embed:e,onEdit:t,onDelete:n,editable:r=!0})=>{const[i,u]=K.useState(!1);return e.type==="youtube"?T.jsxs("div",{className:"relative group my-4 rounded-xl overflow-hidden shadow-sm border border-gray-200",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[T.jsx("div",{className:"aspect-video bg-black",children:T.jsx("iframe",{src:e.embedUrl,title:e.title||"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}),T.jsx("div",{className:"p-3 bg-white border-t border-gray-100",children:T.jsxs("div",{className:"flex items-start justify-between gap-2",children:[T.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[T.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center flex-shrink-0",children:T.jsx(Tu,{className:"w-4 h-4 text-red-600"})}),T.jsx("div",{className:"min-w-0",children:T.jsx("h4",{className:"font-medium text-gray-800 truncate text-sm",children:e.title||"Untitled Video"})})]}),r&&T.jsxs("div",{className:`flex items-center gap-1 transition-opacity ${i?"opacity-100":"opacity-0"}`,children:[T.jsx("button",{onClick:()=>t==null?void 0:t(e),className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors",title:"Edit",children:T.jsx(si,{className:"w-4 h-4 text-gray-500"})}),T.jsx("button",{onClick:()=>n==null?void 0:n(e),className:"p-1.5 rounded-lg hover:bg-red-50 transition-colors",title:"Delete",children:T.jsx(Fr,{className:"w-4 h-4 text-red-500"})})]})]})})]}):T.jsxs("div",{className:"relative group my-4 rounded-xl overflow-hidden shadow-sm border border-gray-200 hover:border-blue-300 transition-colors",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[T.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"block p-4 bg-gradient-to-r from-blue-50 to-indigo-50",children:T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:T.jsx(_u,{className:"w-5 h-5 text-blue-600"})}),T.jsxs("div",{className:"min-w-0 flex-1",children:[T.jsx("h4",{className:"font-medium text-gray-800 truncate",children:e.title||e.url}),T.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-blue-600",children:[T.jsx(ta,{className:"w-3 h-3"}),T.jsx("span",{className:"truncate",children:e.url})]})]})]})}),r&&T.jsxs("div",{className:`absolute top-2 right-2 flex items-center gap-1 transition-opacity ${i?"opacity-100":"opacity-0"}`,children:[T.jsx("button",{onClick:s=>{s.preventDefault(),s.stopPropagation(),t==null||t(e)},className:"p-1.5 rounded-lg bg-white shadow-sm hover:bg-gray-50 transition-colors",title:"Edit",children:T.jsx(si,{className:"w-4 h-4 text-gray-500"})}),T.jsx("button",{onClick:s=>{s.preventDefault(),s.stopPropagation(),n==null||n(e)},className:"p-1.5 rounded-lg bg-white shadow-sm hover:bg-red-50 transition-colors",title:"Delete",children:T.jsx(Fr,{className:"w-4 h-4 text-red-500"})})]})]})},nF=e=>{if(!e)return[];const t=[];return new DOMParser().parseFromString(e,"text/html").querySelectorAll("iframe").forEach((u,s)=>{const o=u.getAttribute("src")||"",a=u.getAttribute("title")||"",c=eF(o);c.valid&&t.push({id:`embed-yt-${s}-${Date.now()}`,type:"youtube",embedUrl:c.embedUrl,originalUrl:o,videoId:c.videoId,title:a||"YouTube Video",element:u.outerHTML})}),t},rF=({section:e,index:t})=>{var _e;const[n,r]=K.useState(!1),[i,u]=K.useState(!1),[s,o]=K.useState(!1),[a,c]=K.useState(""),[l,f]=K.useState(!1),[h,d]=K.useState(""),[m,A]=K.useState([]),{userPlan:x,editingIndex:g,setEditingIndex:b,handleDelete:v,handleSectionChange:p,handleSectionTitleChange:_,handleAddSection:E,handleMoveSection:k,sectionsCount:R,navigateToPricing:D,getSectionImage:N,proofreadingResults:I,handleReplace:w,onUpdateSectionImage:O,onDeleteSectionImage:P}=ZB(),B=!1,M=g===t,j=N==null?void 0:N(e.id),W=t===0,$=t===R-1;K.useEffect(()=>{if(e.content){const se=nF(e.content);A(se)}},[e.content]);const L=se=>se?se.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").trim():"",F=(I||[]).filter(se=>{if(!e.content||!se.original)return!1;const De=L(e.content);return e.content.includes(se.original)||De.includes(se.original)}),V=se=>{!(se!=null&&se.original)||!(se!=null&&se.change)||w&&(w(se.original,se.change),Ee.success("Change applied!"))},H=()=>{O&&j&&(O(e.id,le(G({},j),{altText:a})),Ee.success("Alt text updated")),o(!1),u(!1)},Q=()=>{P&&(P(e.id),Ee.success("Image removed")),u(!1)},ee=()=>{if(!h){Ee.error("Please enter an image URL");return}O&&j&&(O(e.id,le(G({},j),{url:h})),Ee.success("Image replaced")),f(!1),d(""),u(!1)},ie=T.jsx("div",{className:"min-w-[150px]",children:s?T.jsxs("div",{className:"space-y-2",children:[T.jsx(yt,{size:"small",value:a,onChange:se=>c(se.target.value),placeholder:"Enter alt text",autoFocus:!0}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("button",{onClick:H,className:"flex-1 px-2 py-1 bg-green-500 text-white rounded text-xs hover:bg-green-600 flex items-center justify-center gap-1",children:[T.jsx(_o,{className:"w-3 h-3"})," Save"]}),T.jsxs("button",{onClick:()=>o(!1),className:"flex-1 px-2 py-1 bg-gray-200 text-gray-700 rounded text-xs hover:bg-gray-300 flex items-center justify-center gap-1",children:[T.jsx(jr,{className:"w-3 h-3"})," Cancel"]})]})]}):T.jsxs("div",{className:"space-y-1",children:[T.jsxs("button",{onClick:()=>{c((j==null?void 0:j.altText)||""),o(!0)},className:"w-full px-1 py-1 text-left text-sm hover:bg-gray-100 rounded flex items-center gap-2",children:[T.jsx(si,{className:"w-4 h-4"})," Edit Alt Text"]}),T.jsxs("button",{onClick:()=>{d((j==null?void 0:j.url)||""),f(!0)},className:"w-full px-1 py-1 text-left text-sm hover:bg-gray-100 rounded flex items-center gap-2",children:[T.jsx(To,{className:"w-4 h-4"})," Replace Image"]}),T.jsxs("button",{onClick:Q,className:"w-full px-1 py-1 text-left text-sm hover:bg-red-50 text-red-600 rounded flex items-center gap-2",children:[T.jsx(Fr,{className:"w-4 h-4"})," Delete Image"]})]})}),me=LA();return T.jsxs(UA,{value:e,id:e.id||`section-${t}`,dragListener:!1,dragControls:me,className:"relative border rounded-xl p-5 shadow-sm bg-white mb-6 hover:shadow-md transition-shadow group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.3,delay:t*.05},whileDrag:{scale:1.02,boxShadow:"0 10px 40px rgba(0,0,0,0.15)",zIndex:50,cursor:"grabbing"},children:[B,T.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1 z-20 opacity-0 group-hover:opacity-100 transition-opacity",children:[T.jsx(Yt,{title:"Move Up",children:T.jsx("button",{onClick:se=>{se.stopPropagation(),k(t,"up")},disabled:W,className:`p-1.5 rounded-lg transition-colors ${W?"opacity-30 cursor-not-allowed":"hover:bg-gray-100"}`,children:T.jsx(rx,{className:"w-4 h-4 text-gray-500"})})}),T.jsx(Yt,{title:"Move Down",children:T.jsx("button",{onClick:se=>{se.stopPropagation(),k(t,"down")},disabled:$,className:`p-1.5 rounded-lg transition-colors ${$?"opacity-30 cursor-not-allowed":"hover:bg-gray-100"}`,children:T.jsx(XA,{className:"w-4 h-4 text-gray-500"})})}),T.jsx(Yt,{title:"Delete Section",children:T.jsx("button",{onClick:se=>{se.stopPropagation(),v(t)},className:"p-1.5 rounded-lg hover:bg-red-50 transition-colors",children:T.jsx(Fr,{className:"w-4 h-4 text-red-500"})})})]}),T.jsx(Yt,{title:"Drag to reorder",children:T.jsx("div",{className:"absolute top-1/2 -left-3 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing p-2 hover:bg-gray-100 rounded-lg z-30",onPointerDown:se=>{se.preventDefault(),me.start(se)},children:T.jsx(lx,{className:"w-5 h-5 text-gray-400"})})}),T.jsx("div",{className:"mb-3 pr-12",children:n?T.jsx(yt,{value:e.title,onChange:se=>_(t,se.target.value),onBlur:()=>r(!1),onPressEnter:()=>r(!1),autoFocus:!0,className:"text-xl font-bold"}):T.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:se=>{se.stopPropagation(),r(!0)},children:[T.jsx("h2",{className:"text-xl font-bold",children:e.title}),T.jsx(si,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),j&&T.jsxs("div",{className:"mb-4 relative group",children:[T.jsx(SA,{content:ie,trigger:"click",open:i,onOpenChange:u,placement:"bottom",className:"p-0",children:T.jsxs("div",{className:"cursor-pointer relative",children:[T.jsx("img",{src:j.url,alt:j.altText||e.title,className:"w-full h-full object-cover rounded-lg shadow-sm transition-all group-hover:brightness-95"}),T.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all rounded-lg flex items-center justify-center",children:T.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-white/90 px-3 py-1.5 rounded-lg text-sm font-medium text-gray-700 shadow",children:"Click to edit image"})})]})}),((_e=j.attribution)==null?void 0:_e.name)&&T.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-center",children:["Photo by"," ",T.jsx("a",{href:j.attribution.profile,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:j.attribution.name})]})]}),T.jsx(Yn,{title:"Replace Image",open:l,onCancel:()=>f(!1),onOk:ee,okText:"Replace",children:T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Image URL"}),T.jsx(yt,{value:h,onChange:se=>d(se.target.value),placeholder:"https://example.com/image.jpg"})]}),h&&T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preview"}),T.jsx("img",{src:h,alt:"Preview",className:"max-h-40 rounded-lg",onError:se=>se.target.style.display="none"})]})]})}),M?T.jsx("div",{className:"mt-3",onClick:se=>se.stopPropagation(),children:T.jsx(XB,{initialContent:e.content,onChange:se=>p(t,{content:se}),onBlur:()=>b(null),proofreadingResults:F,onAcceptSuggestion:V})}):T.jsxs("div",{className:"cursor-pointer group",onClick:()=>b(t),children:[F.length>0&&T.jsxs("div",{className:"mb-2 inline-flex items-center gap-1.5 px-2 py-1 bg-amber-50 border border-amber-200 rounded text-xs",children:[T.jsx("span",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse"}),T.jsxs("span",{className:"font-medium text-amber-700",children:[F.length," suggestion",F.length>1?"s":""]}),T.jsx("span",{className:"text-amber-600",children:"• Click to review"})]}),T.jsx("div",{className:"prose max-w-none blog-content",dangerouslySetInnerHTML:{__html:e.content}}),!F.length&&T.jsx("div",{className:"mt-2 text-center opacity-0 group-hover:opacity-100 transition-opacity",children:T.jsx("span",{className:"text-sm text-gray-500",children:"Click to edit"})})]}),m.length>0&&T.jsxs("div",{className:"mt-4 border-t border-gray-100 pt-4",children:[T.jsx("div",{className:"flex items-center justify-between mb-3",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(ax,{className:"w-4 h-4 text-purple-600"}),T.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Embedded Content (",m.length,")"]})]})}),T.jsx("div",{className:"space-y-3",children:m.map(se=>T.jsx(tF,{embed:se,editable:!1},se.id))})]}),T.jsx("div",{className:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 opacity-0 hover:opacity-100 group-hover:opacity-100 transition-opacity z-30",children:T.jsx(Yt,{title:"Add section below",children:T.jsxs("button",{onClick:se=>{se.stopPropagation(),E(t)},className:"flex items-center gap-1 px-3 py-1.5 bg-blue-600 text-white text-xs rounded-full shadow-lg hover:bg-blue-700 transition-colors",children:[T.jsx(kn,{className:"w-3 h-3"}),"Add Section"]})})})]})},bo=({active:e,onClick:t,children:n,title:r})=>T.jsx(Yt,{title:r,children:T.jsx("button",{onClick:t,type:"button",className:`p-1.5 rounded transition-colors ${e?"bg-blue-100 text-blue-600":"hover:bg-gray-100 text-gray-700"}`,children:n})}),Ss=({value:e,onChange:t,placeholder:n,className:r="",editorClassName:i="",onBlur:u,autoFocus:s=!1,singleLine:o=!1})=>{const[a,c]=K.useState(!1),[l,f]=K.useState({top:0,left:0}),h=K.useRef(null),d=l_({extensions:[M_.configure({heading:!1,paragraph:{HTMLAttributes:{class:o?"inline":""}}}),d_.configure({levels:[1,2,3]}),w_],content:e||"",onUpdate:({editor:A})=>{t(A.getHTML())},onBlur:()=>{setTimeout(()=>{c(!1),u&&u()},200)},onSelectionUpdate:({editor:A})=>{const{from:x,to:g}=A.state.selection;if(x!==g&&h.current){const v=window.getSelection();if(v&&v.rangeCount>0){const _=v.getRangeAt(0).getBoundingClientRect(),E=h.current.getBoundingClientRect();f({top:_.top-E.top-45,left:Math.max(0,_.left-E.left+_.width/2-120)}),c(!0)}}else c(!1)},editorProps:{attributes:{class:`focus:outline-none ${i}`},handleKeyDown:(A,x)=>o&&x.key==="Enter"?(x.preventDefault(),!0):!1},autofocus:s});if(K.useEffect(()=>{d&&e!==d.getHTML()&&d.commands.setContent(e||"",!1)},[e,d]),!d)return null;const m=()=>{d.chain().focus().clearNodes().unsetAllMarks().run()};return T.jsxs("div",{ref:h,className:`inline-editor-wrapper relative ${r}`,children:[a&&T.jsxs("div",{className:"absolute z-50 bg-white border border-gray-200 rounded-lg shadow-lg px-1 py-1 flex items-center gap-0.5",style:{top:l.top,left:l.left},onMouseDown:A=>A.preventDefault(),children:[T.jsx(bo,{title:"Bold",active:d.isActive("bold"),onClick:()=>d.chain().focus().toggleBold().run(),children:T.jsx(Kb,{className:"w-4 h-4"})}),T.jsx(bo,{title:"Italic",active:d.isActive("italic"),onClick:()=>d.chain().focus().toggleItalic().run(),children:T.jsx(Qb,{className:"w-4 h-4"})}),T.jsx(bo,{title:"Underline",active:d.isActive("underline"),onClick:()=>d.chain().focus().toggleUnderline().run(),children:T.jsx(Xb,{className:"w-4 h-4"})}),T.jsx("div",{className:"w-px h-5 bg-gray-300 mx-1"}),T.jsx(bo,{title:"Clear Formatting",onClick:m,children:T.jsx(Ix,{className:"w-4 h-4"})})]}),T.jsx("div",{className:`border rounded-lg px-3 py-2 focus-within:border-blue-500 focus-within:ring-2 focus-within:ring-blue-100 transition-all ${!e||e==="<p></p>"?"text-gray-400":""}`,"data-placeholder":n,children:T.jsx(a_,{editor:d})})]})},{TextArea:gH}=yt;uu.setOption("tables",!0);uu.setOption("tasklists",!0);uu.setOption("simpleLineBreaks",!0);uu.setOption("openLinksInNewWindow",!0);uu.setOption("emoji",!0);function Du(){const e=Date.now().toString(36),t=Math.random().toString(36).substring(2,8);return`sec-${e}-${t}`}function iF(e){if(!e)return"";const t=new jo({headingStyle:"atx",bulletListMarker:"-"});return t.keep(["p","div","iframe","table","tr","th","td","img"]),t.turndown(e)}function Fd(e){return e&&new DOMParser().parseFromString(e,"text/html").body.textContent||""}function uF(e){var A,x,g,b;if(!e)return{title:"",description:"",sections:[],faq:null,cta:null,quickSummary:null};const n=new DOMParser().parseFromString(e,"text/html");let r="",i="";const u=[];let s=null,o=null,a=null;const c=n.querySelector(".blog-title, h1.heading-1");c&&(r=((A=c.textContent)==null?void 0:A.trim())||"");const l=n.querySelector(".blog-description, .meta-description");l&&(i=((x=l.textContent)==null?void 0:x.trim())||""),n.querySelectorAll(".blog-section:not(.faq-section)").forEach((v,p)=>{var k,R,D;const _=((R=(k=v.querySelector(".section-title"))==null?void 0:k.textContent)==null?void 0:R.trim())||`Section ${p+1}`,E=((D=v.querySelector(".section-content"))==null?void 0:D.innerHTML)||"";u.push({id:v.id||Du(),title:_,content:E,originalContent:E})});const h=n.querySelector(".faq-section");if(h){const v=((b=(g=h.querySelector(".faq-heading"))==null?void 0:g.textContent)==null?void 0:b.trim())||"FAQ",p=h.querySelectorAll(".faq-qa-pair"),_=[];p.forEach(E=>{var N,I,w;const k=((I=(N=E.querySelector(".faq-question"))==null?void 0:N.textContent)==null?void 0:I.trim())||"",R=E.querySelector(".faq-answer"),D=((w=R==null?void 0:R.textContent)==null?void 0:w.trim())||"";k&&_.push({question:k,answer:D})}),_.length>0&&(s={heading:v,qa:_})}const d=n.querySelector(".blog-brand-cta, .cta-wrapper");d&&(o=d.innerHTML);const m=n.querySelector(".blog-quick-summary, .summary-wrapper");return m&&(a=m.innerHTML),{title:r,description:i,sections:u,faq:s,cta:o,quickSummary:a}}function sF(e){if(!e)return[];const t=new uu.Converter({tables:!0,tasklists:!0,simpleLineBreaks:!0,openLinksInNewWindow:!0}),n=/^##\s+(.+)$/gm;let r,i="";const u=[];for(;(r=n.exec(e))!==null;)u.push({title:r[1].trim(),index:r.index,fullMatch:r[0]});if(u.length===0){const o=t.makeHtml(e);return[{id:Du(),title:"Content",content:o,originalContent:o}]}return u[0].index>0&&(i=e.substring(0,u[0].index).trim()),u.map((o,a)=>{const c=o.index+o.fullMatch.length,l=a<u.length-1?u[a+1].index:e.length,f=e.substring(c,l).trim(),h=a===0&&i?i+`

`+f:f,d=t.makeHtml(h);return{id:Du(),title:o.title,content:d,originalContent:d}})}const aF=({blog:e,activeTab:t,setActiveTab:n,content:r,setContent:i,title:u,proofreadingResults:s,handleReplace:o,isSavingKeyword:a,humanizedContent:c,showDiff:l,handleAcceptHumanizedContent:f,handleAcceptOriginalContent:h,editorContent:d,unsavedChanges:m,setUnsavedChanges:A,wordpressMetadata:x,handleSubmit:g,onReplaceReady:b})=>{var tn,Dn;const[v,p]=K.useState(!0),[_,E]=K.useState(!1),[k,R]=K.useState(null),[D,N]=K.useState([]),[I,w]=K.useState(null),[O,P]=K.useState(""),[B,M]=K.useState(""),[j,W]=K.useState(""),[$,L]=K.useState(""),[F,V]=K.useState([]),[H,Q]=K.useState(!1),[ee,ie]=K.useState(!1),[me,_e]=K.useState([]),[se,De]=K.useState(!1),Ne=Gf(),{handlePopup:Pe}=Fb(),Ge=gr(re=>re.auth.user),lt=(tn=Ge==null?void 0:Ge.subscription)==null?void 0:tn.plan,Me=K.useRef(!1);jb().pathname,`${e==null?void 0:e._id}`,K.useEffect(()=>{e!=null&&e.images&&Array.isArray(e.images)&&_e(e.images)},[e==null?void 0:e.images]),K.useEffect(()=>{var re;((re=e==null?void 0:e.options)==null?void 0:re.includeTableOfContents)!==void 0&&De(e.options.includeTableOfContents)},[(Dn=e==null?void 0:e.options)==null?void 0:Dn.includeTableOfContents]);const vt=K.useCallback(re=>!me||!Array.isArray(me)?null:me.find(he=>he.sectionId===re&&he.role==="section"),[me]),Lt=K.useCallback((re,he)=>{_e(Se=>Se.map(Be=>Be.sectionId===re&&Be.role==="section"?G(G({},Be),he):Be))},[]),Ue=K.useCallback(re=>{_e(he=>he.filter(Se=>!(Se.sectionId===re&&Se.role==="section")))},[]),Gt=K.useMemo(()=>{if(O!==j||B!==$||D.length!==F.length)return!0;for(let re=0;re<D.length;re++){const he=D[re],Se=F.find(Be=>Be.id===he.id);if(!Se||he.content!==Se.originalContent||he.title!==Se.title)return!0}return!1},[O,B,D,j,$,F]);K.useEffect(()=>{A(Gt)},[Gt,A]),K.useEffect(()=>{if(e){let re={title:"",description:"",sections:[],faq:null};if(e.content&&(e.content.includes("<article")||e.content.includes("<section")||e.content.includes("blog-section")||e.content.includes("section-content")))re=uF(e.content),!re.title&&e.title&&(re.title=e.title);else if(e.content&&(e.content.includes("## ")||e.content.includes("**")))re.title=e.title||"",re.sections=sF(e.content);else if(e.content){const he=new uu.Converter({tables:!0,tasklists:!0,simpleLineBreaks:!0}),Se=e.content.includes("<")?e.content:he.makeHtml(e.content);re.title=e.title||"",re.sections=[{id:Du(),title:"Content",content:Se,originalContent:Se}]}else re.title=e.title||"Untitled Blog",re.sections=[];P(re.title),M(re.description),N(re.sections),w(re.faq),W(re.title),L(re.description),V(re.sections.map(he=>G({},he)))}},[e]);const ce=K.useCallback(()=>{let re="";return D.forEach(he=>{re+=`## ${he.title}

`,re+=iF(he.content)+`

`}),I&&(re+=`## ${I.heading}

`,I.qa.forEach(he=>{re+=`### ${he.question}

${he.answer}

`})),re.trim()},[D,I]);K.useEffect(()=>{const re=ce();i&&i(re)},[D,ce,i]);const pt=re=>{Pe({title:"Delete Section",description:"Are you sure you want to delete this section? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:()=>{N(he=>he.filter((Se,Be)=>Be!==re)),Ee.success("Section deleted")}})},nt=(re,he)=>{N(Se=>Se.map((Be,it)=>it===re?G(G({},Be),he):Be))},At=(re,he)=>{N(Se=>Se.map((Be,it)=>it===re?le(G({},Be),{title:he}):Be))},xn=re=>{const he={id:Du(),title:"New Section",content:"<p>Start writing here...</p>",originalContent:""};N(Se=>{const Be=[...Se];return Be.splice(re+1,0,he),Be}),Ee.success("New section added")},Z=()=>{const re={id:Du(),title:"New Section",content:"<p>Start writing here...</p>",originalContent:""};N([re]),Ee.success("Section added")},de=(re,he)=>{N(Se=>{const Be=[...Se],it=he==="up"?re-1:re+1;if(it<0||it>=Be.length)return Se;const xr=Be[re];return Be[re]=Be[it],Be[it]=xr,Be})},ve=K.useCallback((re,he)=>{if(!re||!he)return;const Se=new RegExp(re.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");N(Be=>Be.map(it=>it.content&&it.content.includes(re)?le(G({},it),{content:it.content.replace(Se,he)}):it))},[]),xe=()=>Ft(null,null,function*(){try{const re=ce();yield navigator.clipboard.writeText(re),Ee.success("Content copied to clipboard!")}catch(re){Ee.error("Failed to copy content.")}}),Ve=lA(({currentLocation:re,nextLocation:he})=>Gt&&re.pathname!==he.pathname);K.useEffect(()=>{Ve.state==="blocked"&&(window.confirm("You have unsaved changes, are you sure you want to leave?")?Ve.proceed():Ve.reset())},[Ve]),K.useEffect(()=>{p(!0);const re=setTimeout(()=>p(!1),300);return()=>clearTimeout(re)},[]),K.useEffect(()=>{(e==null?void 0:e.status)==="failed"&&!Me.current&&(Ee.error("Your blog generation failed. You can write blog manually."),Me.current=!0)},[e==null?void 0:e.status]);const kt=K.useCallback((re,he)=>{if(!re||!he)return;const Se=new RegExp(re.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");ve(re,he),i&&i(Be=>Be.replace(Se,he))},[ve,i]),rt=K.useMemo(()=>({userPlan:lt,editingIndex:k,setEditingIndex:R,handleDelete:pt,handleSectionChange:nt,handleSectionTitleChange:At,handleAddSection:xn,handleMoveSection:de,sectionsCount:D.length,navigateToPricing:()=>Ne("/pricing"),getSectionImage:vt,proofreadingResults:s||[],handleReplace:kt,onUpdateSectionImage:Lt,onDeleteSectionImage:Ue}),[lt,k,pt,nt,At,xn,de,D.length,Ne,vt,s,kt,Lt,Ue]),Bt=(re,he,Se)=>{w(Be=>{if(!Be)return Be;const it=[...Be.qa];return it[re]=le(G({},it[re]),{[he]:Se}),le(G({},Be),{qa:it})})},qt=re=>{w(he=>he&&le(G({},he),{heading:re}))},gn=()=>{w(re=>re&&le(G({},re),{qa:[...re.qa,{question:"New Question",answer:"New Answer"}]}))},Xe=re=>{w(he=>he&&le(G({},he),{qa:he.qa.filter((Se,Be)=>Be!==re)}))},[Vt,be]=K.useState(null),[ue,Ie]=K.useState(!1),je=()=>I?T.jsxs(Mn.div,{className:"border rounded-xl p-5 shadow-sm bg-white mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ue?T.jsx(Ss,{value:I.heading,onChange:qt,placeholder:"FAQ Heading...",onBlur:()=>Ie(!1),autoFocus:!0,singleLine:!0,editorClassName:"text-2xl font-bold"}):T.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>Ie(!0),children:[T.jsx("h2",{className:"text-2xl font-bold",children:I.heading}),T.jsx(si,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]}),T.jsxs("button",{onClick:gn,className:"flex items-center gap-1 px-3 py-1.5 text-sm text-blue-600 hover:bg-blue-50 rounded-lg",children:[T.jsx(kn,{className:"w-4 h-4"})," Add FAQ"]})]}),T.jsx("div",{className:"space-y-4",children:I.qa.map((re,he)=>T.jsxs("div",{className:"relative group p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[T.jsx("button",{onClick:()=>Xe(he),className:"absolute top-2 right-2 p-1.5 text-red-500 hover:bg-red-50 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:T.jsx(Fr,{className:"w-4 h-4"})}),Vt===`q-${he}`?T.jsx("div",{className:"mb-2",children:T.jsx(Ss,{value:re.question,onChange:Se=>Bt(he,"question",Se),placeholder:"Enter question...",onBlur:()=>be(null),autoFocus:!0,singleLine:!0,editorClassName:"font-semibold text-lg"})}):T.jsxs("div",{className:"flex items-center gap-2 cursor-pointer mb-2",onClick:()=>be(`q-${he}`),children:[T.jsx("h3",{className:"font-semibold text-lg",children:re.question}),T.jsx(si,{className:"w-3 h-3 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]}),Vt===`a-${he}`?T.jsx(Ss,{value:re.answer,onChange:Se=>Bt(he,"answer",Se),placeholder:"Enter answer...",onBlur:()=>be(null),autoFocus:!0,editorClassName:"text-gray-600"}):T.jsx("div",{className:"cursor-pointer",onClick:()=>be(`a-${he}`),children:T.jsx("p",{className:"text-gray-600",children:re.answer})})]},he))})]}):null,et=()=>T.jsxs("div",{className:"bg-white border-b border-gray-200 shadow-sm px-4 py-3 flex flex-wrap items-center justify-between gap-2",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("span",{className:"text-gray-600 text-sm",children:[T.jsx("span",{className:"font-semibold",children:D.length})," sections"]}),Gt&&T.jsxs("span",{className:"text-orange-600 text-sm font-medium flex items-center gap-1",children:[T.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),"Unsaved changes"]})]}),T.jsx("div",{className:"flex gap-2",children:T.jsx(Yt,{title:"Preview",children:T.jsxs("button",{onClick:()=>E(!0),className:"px-3 py-1.5 rounded-lg border border-gray-200 hover:bg-gray-50 flex items-center gap-2 text-sm",children:[T.jsx(Vf,{className:"w-4 h-4"}),T.jsx("span",{className:"hidden sm:inline",children:"Preview"})]})})})]}),$e=()=>v||(e==null?void 0:e.status)==="pending"?T.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-300px)] bg-white",children:T.jsx(Hd,{})}):T.jsxs("div",{className:"p-4 sm:p-6 bg-white min-h-screen",children:[T.jsx("div",{className:"mb-4",children:H?T.jsx(Ss,{value:O,onChange:P,placeholder:"Enter blog title...",onBlur:()=>Q(!1),autoFocus:!0,singleLine:!0,editorClassName:"text-3xl font-bold text-gray-900"}):T.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>Q(!0),children:[T.jsx("div",{className:"text-3xl font-bold text-gray-900",dangerouslySetInnerHTML:{__html:O||"Untitled Blog"}}),T.jsx(si,{className:"w-5 h-5 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),T.jsx("div",{className:"mb-8",children:ee?T.jsx(Ss,{value:B,onChange:M,placeholder:"Enter blog description...",onBlur:()=>ie(!1),autoFocus:!0,editorClassName:"text-gray-600"}):T.jsxs("div",{className:"flex items-start gap-2 group cursor-pointer",onClick:()=>ie(!0),children:[T.jsx("div",{className:"text-gray-600 flex-1",dangerouslySetInnerHTML:{__html:B||"Click to add description..."}}),T.jsx(si,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity mt-1"})]})}),D.length===0?T.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl",children:[T.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center mb-4",children:T.jsx(kn,{className:"w-8 h-8 text-blue-600"})}),T.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Start Building Your Blog"}),T.jsx("p",{className:"text-gray-500 text-center mb-6 max-w-md",children:"Add your first section to begin writing. Each section can have its own title and content."}),T.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition-all duration-300",children:[T.jsx(kn,{className:"w-5 h-5"}),"Add Section"]})]}):T.jsxs(T.Fragment,{children:[T.jsx(JB,{value:rt,children:T.jsx(BA,{axis:"y",values:D,onReorder:N,className:"space-y-6",children:D.map((re,he)=>T.jsx(rF,{section:re,index:he},re.id||he))})}),T.jsx("div",{className:"flex justify-center mt-6",children:T.jsxs("button",{onClick:()=>xn(D.length-1),className:"flex items-center gap-2 px-5 py-2.5 bg-white border-2 border-dashed border-gray-300 text-gray-600 rounded-xl hover:border-blue-400 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200",children:[T.jsx(kn,{className:"w-5 h-5"}),"Add Section"]})})]}),je()]});return T.jsxs(Mn.div,{className:"flex-1 bg-gray-50",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[a&&T.jsx("div",{className:"fixed inset-0 bg-white/80 flex items-center justify-center z-50",children:T.jsx(Hd,{})}),T.jsx(Yn,{open:_,onCancel:()=>E(!1),footer:null,width:950,centered:!0,title:T.jsxs("div",{className:"flex justify-between items-center w-full pr-4",children:[T.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Blog Preview"}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:se,onChange:re=>De(re.target.checked),className:"w-4 h-4 rounded border-gray-300"}),T.jsx("span",{className:"text-sm text-gray-600",children:"Table of Contents"})]}),T.jsx(Ot,{type:"primary",onClick:xe,className:"!bg-gradient-to-r !from-indigo-500 !to-purple-600 !shadow-sm hover:!shadow-md mr-5",children:"Copy All"})]})]}),children:T.jsxs("div",{className:"max-h-[70vh] overflow-y-auto px-4 pb-6 custom-scroll",children:[T.jsx("h1",{className:"text-3xl font-bold mb-4 text-gray-900",children:Fd(O)}),(()=>{var Be,it;const re=me==null?void 0:me.find(xr=>xr.role==="thumbnail"||xr.role==="main"),he=D.length>0?vt((Be=D[0])==null?void 0:Be.id):null,Se=re||he;return Se?T.jsxs("div",{className:"mb-6",children:[T.jsx("img",{src:Se.url,alt:Se.altText||O,className:"w-full max-h-[400px] object-cover"}),((it=Se.attribution)==null?void 0:it.name)&&T.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Photo by"," ",T.jsx("a",{href:Se.attribution.profile,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:Se.attribution.name})]})]}):null})(),B&&T.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:B}),se&&D.length>0&&T.jsxs("nav",{className:"mb-8 p-4 bg-gray-50 border border-gray-200",children:[T.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-800",children:"Table of Contents"}),T.jsxs("ul",{className:"space-y-2",children:[D.map((re,he)=>T.jsx("li",{children:T.jsx("a",{href:`#preview-section-${he}`,className:"text-blue-600 hover:underline",onClick:Se=>{var Be;Se.preventDefault(),(Be=document.getElementById(`preview-section-${he}`))==null||Be.scrollIntoView({behavior:"smooth"})},children:Fd(re.title)})},he)),I&&T.jsx("li",{children:T.jsx("a",{href:"#preview-faq",className:"text-blue-600 hover:underline",onClick:re=>{var he;re.preventDefault(),(he=document.getElementById("preview-faq"))==null||he.scrollIntoView({behavior:"smooth"})},children:I.heading})})]})]}),D.map((re,he)=>{var Be;const Se=vt(re.id);return T.jsxs("div",{id:`preview-section-${he}`,className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold mb-3 text-gray-900",children:Fd(re.title)}),Se&&he>0&&T.jsxs("div",{className:"mb-4",children:[T.jsx("img",{src:Se.url,alt:Se.altText||re.title,className:"w-full max-h-[350px] object-cover"}),((Be=Se.attribution)==null?void 0:Be.name)&&T.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Photo by"," ",T.jsx("a",{href:Se.attribution.profile,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:Se.attribution.name})]})]}),T.jsx("div",{className:"blog-content",dangerouslySetInnerHTML:{__html:re.content}})]},he)}),I&&T.jsxs("div",{id:"preview-faq",className:"mt-8 pt-6 border-t",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:I.heading}),T.jsx("div",{className:"space-y-4",children:I.qa.map((re,he)=>T.jsxs("div",{children:[T.jsx("h3",{className:"font-medium text-gray-900",children:re.question}),T.jsx("p",{className:"text-gray-600 mt-1",children:re.answer})]},he))})]}),!D.length&&T.jsx("div",{className:"text-center py-12 text-gray-500",children:"No sections available."})]})}),T.jsxs("div",{className:"flex flex-col h-full",children:[T.jsx("div",{className:"sticky top-0 z-50 bg-white shadow-sm",children:et()}),T.jsx("div",{className:"flex-1 overflow-auto",children:$e()})]})]})},bH=()=>{var Xe,Vt;const{id:e}=cA(),t=wl(),n=gr(be=>be.blog.selectedBlog),{metadata:r}=gr(be=>be.wordpress),[i,u]=K.useState("Normal"),[s,o]=K.useState(!!e),[a,c]=K.useState([]),[l,f]=K.useState(""),[h,d]=K.useState(""),[m,A]=K.useState([]),[x,g]=K.useState(!1),[b,v]=K.useState(null),[p,_]=K.useState(!1),[E,k]=K.useState(null),[R,D]=K.useState(!1),[N,I]=K.useState({category:"",includeTableOfContents:!1}),[w,O]=K.useState(!e),[P,B]=K.useState(!1),[M,j]=K.useState(""),[W,$]=K.useState(!1),[L,F]=K.useState(""),[V,H]=K.useState(!1),Q=()=>H(be=>!be),ee=gr(be=>be.auth.user),ie=(Vt=ee==null?void 0:ee.plan)!=null?Vt:(Xe=ee==null?void 0:ee.subscription)==null?void 0:Xe.plan,me=Gf(),se=jb().pathname===`/blog-editor/${n==null?void 0:n._id}`,[De,Ne]=K.useState(!1),[Pe,Ge]=K.useState(!1),{Title:lt}=dA,[Me,St]=K.useState({title:"",topic:"",tone:"Informative",focusKeywords:[],keywords:[],userDefinedLength:1200,focusKeywordInput:"",keywordInput:"",template:""}),[vt,Lt]=K.useState({title:!1,topic:!1,tone:!1,focusKeywords:!1,keywords:!1,userDefinedLength:!1,template:!1});K.useEffect(()=>{const be=ue=>{Pe&&(ue.preventDefault(),ue.returnValue="You have unsaved changes. Are you sure you want to leave?")};return window.addEventListener("beforeunload",be),()=>window.removeEventListener("beforeunload",be)},[Pe]),K.useEffect(()=>{e&&(o(!0),t(Ih(e)).unwrap().catch(()=>Ee.error("Failed to load blog.")).finally(()=>o(!1)))},[e,t]),K.useEffect(()=>{var be,ue;n&&(c(n.keywords||[]),d(n.title||""),f((be=n.content)!=null?be:""),k(((ue=n.posting)==null?void 0:ue.items)||{}),I({category:n.category||"",includeTableOfContents:n.includeTableOfContents||!1,title:n.title||""}),Ge(!1))},[n]),K.useEffect(()=>{window.scrollTo(0,0)},[]);const Ue=K.useRef(null),Gt=K.useCallback(be=>{Ue.current=be},[]),ce=K.useCallback((be,ue)=>{if(typeof be!="string"||typeof ue!="string"){Ee.error("Invalid suggestion format.");return}if(Ue.current)Ue.current(be,ue);else{const Ie=new RegExp(be.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");f(je=>je.replace(Ie,ue))}A(Ie=>Ie.filter(je=>je.original!==be))},[]),pt=be=>Ft(null,null,function*(){var Ie,je,et,$e,tn,Dn,re;if(D(!0),!h){Ee.error("Blog title is missing."),D(!1);return}if(!l.trim()){Ee.error("Blog content is empty."),D(!1);return}if(!be.categories){Ee.error("Please select a category."),D(!1);return}const ue=be.categories||N.categories;if(!ue){Ee.error("Please select a category."),D(!1);return}try{const he={type:be.type.platform,blogId:n._id,includeTableOfContents:(Ie=be.includeTableOfContents)!=null?Ie:!1,category:ue,removeWaterMark:(je=be.removeWaterMark)!=null?je:!0},Se=E?yield kh.put("/integrations/post",he):yield kh.post("/integrations/post",he),Be=((tn=($e=(et=Se==null?void 0:Se.data)==null?void 0:et.posting)==null?void 0:$e.items)==null?void 0:tn[be.type.platform])||null;k(it=>le(G({},it),{[be.type.platform]:Be})),Ee.success(`Blog ${E!=null&&E[be.type.platform]?"updated":"posted"} successfully!`)}catch(he){Ee.error(((re=(Dn=he.response)==null?void 0:Dn.data)==null?void 0:re.message)||`Failed to ${E?"update":"post to"} WordPress.`)}finally{D(!1)}}),nt=be=>be.trim().split(/\s+/).filter(ue=>ue.length>0).length,At=ue=>Ft(null,[ue],function*({metadata:be}){if(ie==="free"||ie==="basic"){me("/pricing");return}if(!h.trim()){Ee.error("Blog title is required.");return}_(!0);try{const Ie=yield t(vh({id:n._id,title:h,content:l,published:n==null?void 0:n.published,focusKeywords:n==null?void 0:n.focusKeywords,keywords:a,seoMetadata:be?{title:be.title,description:be.description}:(n==null?void 0:n.seoMetadata)||{title:"",description:""}})).unwrap();return Ee.success("Blog updated successfully"),Ge(!1),o(!0),setTimeout(()=>{t(Ih(e)).unwrap().finally(()=>o(!1))},2e3),Ie}catch(Ie){console.error("Error updating the blog:",Ie),Ee.error("Failed to save blog.")}finally{_(!1)}}),xn=()=>Ft(null,null,function*(){_(!0);try{yield t(vh({id:n._id,title:h,content:l,published:n==null?void 0:n.published,focusKeywords:n==null?void 0:n.focusKeywords,keywords:a,seoMetadata:r?{title:r.title,description:r.description}:(n==null?void 0:n.seoMetadata)||{title:"",description:""}})).unwrap();const be=yield hA(n._id);be.data?(v(be.data),g(!0),Ee.success("Review the suggested content.")):Ee.error("No content received from retry."),Ge(!1)}catch(be){console.error("Error updating the blog:",be),Ee.error("Failed to save blog.")}finally{_(!1)}}),Z=()=>{b&&(f(b),Ee.success("Content updated successfully!")),g(!1),v(null)},de=()=>{g(!1),v(null),Ee.info("Changes discarded.")},ve=()=>{var ue,Ie,je;(!((ue=Me.title)!=null&&ue.trim())||!((Ie=Me.topic)!=null&&Ie.trim())||!((je=Me.tone)!=null&&je.trim())||!Me.template||!Me.userDefinedLength||Me.userDefinedLength<=0||!Me.focusKeywords||Me.focusKeywords.length===0||!Me.keywords||Me.keywords.length===0)&&!e&&me("/toolbox"),O(!1)},xe=()=>Ft(null,null,function*(){var Ie,je,et;const be={title:(Ie=Me.title)==null?void 0:Ie.trim(),topic:(je=Me.topic)==null?void 0:je.trim(),tone:(et=Me.tone)==null?void 0:et.trim(),focusKeywords:Me.focusKeywords,keywords:Me.keywords,userDefinedLength:Number(Me.userDefinedLength),template:Me.template,aiModel:"gemini",isCheckedGeneratedImages:!1,isUnsplashActive:!1},ue={};if(be.title||(ue.title=!0),be.topic||(ue.topic=!0),be.tone||(ue.tone=!0),be.template||(ue.template=!0),(!be.userDefinedLength||be.userDefinedLength<=0)&&(ue.userDefinedLength=!0),(!be.focusKeywords||be.focusKeywords.length===0)&&(ue.focusKeywords=!0),(!be.keywords||be.keywords.length===0)&&(ue.keywords=!0),Object.keys(ue).length>0){Lt($e=>G(G({},$e),ue)),Ee.error("Please fill all required fields correctly.");return}try{const $e=yield t(pA({blogData:be,user:ee})).unwrap();O(!1),me(`/blog-editor/${$e._id}`)}catch($e){console.error("Failed to create blog:",$e),Ee.error(($e==null?void 0:$e.message)||"Failed to create blog")}}),Ve=be=>{const ue=be.target.value;nt(ue)<=60?(d(ue),I(Ie=>le(G({},Ie),{title:ue}))):Ee.error("Title exceeds 60 words.")},kt=()=>{if(!l.trim()){Ee.error("Please write some content to preview.");return}Ne(!0)},rt=()=>Ne(!1),Bt=()=>l.trim()?`<div class="prose prose-lg"><h1>${h||Me.topic||"Your Blog Title"}</h1>${l}</div>`:`<h1>${h||"Preview Title"}</h1><p>No content available for preview.</p>`,qt=K.useCallback(()=>{f(M),B(!1),u("Normal"),Ee.success("Humanized content applied successfully!")},[M,f,B,u]),gn=K.useCallback(()=>{B(!1),u("Normal"),Ee.info("Retained original content.")},[B,u]);return s||R?T.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-white/90 backdrop-blur-sm",children:T.jsx(Hd,{})}):T.jsxs(T.Fragment,{children:[T.jsx(fA,{children:T.jsx("title",{children:"Blog Editor | GenWrite"})}),T.jsxs("div",{className:`flex flex-col max-h-screen overflow-y-hidden ${w?"blur-sm":""}`,children:[T.jsx(Yn,{open:x,centered:!0,footer:[T.jsxs("div",{className:"flex justify-end gap-3 w-full",children:[T.jsx(Ot,{onClick:de,className:"px-3 sm:px-4 py-2 bg-gray-100 text-gray-600 hover:bg-gray-200 rounded-md",children:"Reject"},"reject"),T.jsx(Ot,{type:"primary",onClick:Z,className:"px-3 sm:px-4 py-2 rounded-md",children:"Accept"},"accept")]},"footer")],onCancel:de,width:"100%",className:"rounded-lg max-w-[600px] sm:max-w-[700px] md:max-w-[800px]",children:T.jsxs("div",{className:"flex flex-col gap-4",children:[T.jsx(lt,{level:3,className:"text-lg ml-5 sm:text-xl !mb-0 text-gray-800",children:"Suggested Content"}),T.jsx("div",{className:"p-5 custom-scroll border border-gray-200 rounded-lg shadow-inner max-h-[70vh] overflow-y-auto prose prose-sm sm:prose-base leading-relaxed text-gray-700",children:T.jsx(US,{remarkPlugins:[ev],rehypePlugins:[fw],components:{a:({href:be,children:ue})=>T.jsx("a",{href:be,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 font-medium hover:underline",children:ue}),strong:({children:be})=>T.jsx("strong",{className:"font-semibold text-gray-900",children:be}),p:({children:be})=>T.jsx("p",{className:"mb-3 last:mb-0",children:be}),li:({children:be})=>T.jsx("li",{className:"mb-1",children:be})},children:b})})]})}),T.jsx(Yn,{title:"Blog Preview",open:De,onCancel:rt,footer:[T.jsx("button",{onClick:rt,className:"px-3 sm:px-4 py-2 bg-gray-400 text-white rounded-md hover:bg-gray-500 focus:outline-none focus:bg-gray-500","aria-label":"Close preview",children:"Close"},"close")],width:"100%",className:"rounded-lg max-w-[700px] sm:max-w-[800px] md:max-w-[900px]",centered:!0,children:T.jsx("div",{className:"prose prose-sm sm:prose-base max-w-none p-4 sm:p-6",dangerouslySetInnerHTML:{__html:Bt()}})}),T.jsxs("div",{className:"flex flex-col md:flex-row flex-grow overflow-hidden",children:[T.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[T.jsxs("header",{className:"bg-white shadow-lg border rounded-tl-lg border-gray-200 p-4 sm:p-6",children:[T.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[T.jsxs("div",{className:"flex items-center gap-4 mt-5 lg:mt-0 w-full",children:[T.jsx("div",{className:"w-8 sm:w-10 h-8 sm:h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:T.jsx(Eo,{className:"w-4 sm:w-5 h-4 sm:h-5 text-white"})}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:e?"Edit Blog":"Create New Blog"}),T.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Write and optimize your content"})]}),T.jsx("button",{onClick:Q,className:"md:hidden ml-auto",children:!V&&T.jsx(Ax,{})})]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto",children:[se&&T.jsxs("button",{onClick:kt,className:"px-3 sm:px-4 py-2 bg-gradient-to-r from-[#1B6FC9] to-[#4C9FE8] text-white rounded-lg hover:from-[#1B6FC9]/90 hover:to-[#4C9FE8]/90 flex items-center text-xs sm:text-sm","aria-label":"Preview blog",children:[T.jsx(Vf,{className:"w-4 sm:w-5 h-4 sm:h-5 mr-2"}),"Preview"]}),T.jsx("button",{onClick:()=>At({metadata:r}),className:`px-3 sm:px-4 py-2 min-w-[130px] rounded-lg font-semibold flex items-center gap-2 justify-center transition-all duration-300 ${p||!h.trim()||!l.trim()||nt(h)>60?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:shadow-lg hover:scale-105"}`,disabled:p||!h.trim()||!l.trim()||nt(h)>60,children:p?T.jsxs(T.Fragment,{children:[T.jsx(qf,{className:"w-4 sm:w-5 h-4 sm:h-5 animate-spin"}),"Saving..."]}):T.jsxs(T.Fragment,{children:[T.jsx(kx,{className:"w-4 sm:w-5 h-4 sm:h-5"}),"Save Blog"]})})]})]}),se&&T.jsxs("div",{className:"mt-4",children:[T.jsx("div",{className:"flex gap-2 flex-col sm:flex-row",children:T.jsx("input",{type:"text",value:h,onChange:Ve,placeholder:"Enter your blog title...",className:`flex-1 text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 placeholder-gray-400 border-none outline-none resize-none w-full ${nt(h)>60?"text-red-600":""}`,"aria-label":"Blog title"})}),T.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-500",children:[nt(h),"/60 words (optimal for SEO)",nt(h)>60&&T.jsx("span",{className:"text-red-600 ml-2",children:"Title exceeds 60 words"})]})]})]}),T.jsx("div",{className:"flex-grow overflow-auto max-h-[800px]",children:s?T.jsx("div",{className:"flex justify-center items-center h-[calc(100vh-120px)]",children:T.jsx(qb,{className:"animate-spin h-8 w-8 text-blue-600"})}):T.jsx(aF,{keywords:a,setKeywords:c,blog:n,activeTab:i,setActiveTab:u,proofreadingResults:m,handleReplace:ce,content:l,setContent:f,title:h,setTitle:d,isSavingKeyword:p,handleSubmit:At,className:"w-full",humanizedContent:M,showDiff:P,handleAcceptHumanizedContent:qt,handleAcceptOriginalContent:gn,editorContent:l,unsavedChanges:Pe,setUnsavedChanges:Ge,wordpressMetadata:r,onReplaceReady:Gt})},i)]}),T.jsx("div",{className:"hidden md:block border-l border-gray-200 overflow-y-auto custom-scroll max-h-[900px]",children:T.jsx(Jp,{blog:n,keywords:a,setKeywords:c,onPost:pt,activeTab:i,handleReplace:ce,proofreadingResults:m,setProofreadingResults:A,handleSave:xn,handleSubmit:At,posted:E,isPosting:R,formData:N,title:h,setEditorContent:f,editorContent:l,humanizePrompt:L,setHumanizePrompt:F,setIsHumanizing:$,isHumanizing:W,setHumanizedContent:j,setIsHumanizeModalOpen:B,unsavedChanges:Pe,wordpressMetadata:r})}),T.jsx(Do,{children:V&&T.jsx(Mn.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{duration:.3},className:"fixed inset-y-0 right-0 w-4/5 max-w-xs bg-white shadow-lg z-50 overflow-y-auto md:hidden",children:T.jsx(Jp,{blog:n,keywords:a,setKeywords:c,onPost:pt,activeTab:i,handleReplace:ce,proofreadingResults:m,setProofreadingResults:A,handleSave:xn,handleSubmit:At,posted:E,isPosting:R,formData:N,title:h,setEditorContent:f,editorContent:l,humanizePrompt:L,setHumanizePrompt:F,setIsHumanizing:$,isHumanizing:W,setHumanizedContent:j,setIsHumanizeModalOpen:B,setIsSidebarOpen:H,unsavedChanges:Pe,wordpressMetadata:r})})})]}),T.jsx(pw,{closeFnc:ve,isOpen:w,handleSubmit:xe,errors:vt,setErrors:Lt,formData:Me,setFormData:St,className:"w-full max-w-lg"})]})]})};export{bH as default};
