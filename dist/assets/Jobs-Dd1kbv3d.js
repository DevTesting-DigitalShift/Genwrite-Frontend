var Bn=Object.defineProperty,Vn=Object.defineProperties;var $n=Object.getOwnPropertyDescriptors;var hn=Object.getOwnPropertySymbols;var _n=Object.prototype.hasOwnProperty,zn=Object.prototype.propertyIsEnumerable;var pn=(s,a,d)=>a in s?Bn(s,a,{enumerable:!0,configurable:!0,writable:!0,value:d}):s[a]=d,b=(s,a)=>{for(var d in a||(a={}))_n.call(a,d)&&pn(s,d,a[d]);if(hn)for(var d of hn(a))zn.call(a,d)&&pn(s,d,a[d]);return s},w=(s,a)=>Vn(s,$n(a));var Ur=(s,a,d)=>new Promise((r,i)=>{var n=Y=>{try{j(d.next(Y))}catch(g){i(g)}},A=Y=>{try{j(d.throw(Y))}catch(g){i(g)}},j=Y=>Y.done?r(Y.value):Promise.resolve(Y.value).then(n,A);j((d=d.apply(s,a)).next())});import{aX as Hn,al as In,ao as Un,K as qn,u as Xr,r as Ie,a as Hr,b as Pn,ae as Gn,j as t,m as rr,T as en,aY as dn,aH as Kn,W as pt,Q as mn,X as tn,P as Qn,aZ as rn,a_ as Xn,a$ as Zn,M as Jn,Y as Yn,b0 as ea,b1 as ta,z as ra,H as na,B as aa,b2 as sa}from"./index-HTll-w-o.js";import{a as qr,b as Gr,c as oa,d as ia,e as la}from"./index-5QMaIVBN.js";import{b as da}from"./SkeletonLoader-CbI8wAhO.js";import{U as ca}from"./UpgradeModal-NjhElEpH.js";import{o as cn}from"./UpgardePopUp-Rg6u_yUw.js";import{T as ua}from"./TemplateSelection-PDpWo4H-.js";import{B as ma}from"./BrandVoiceSelector-CudECZHE.js";import{S as zr}from"./index-ElXrfozC.js";import{X as nn}from"./x-BmrU18-F.js";import{C as gn}from"./crown-CdNWPbL1.js";import{I as yn}from"./info-CdGhmY8h.js";import{P as bn}from"./plus-fs-BZmgN.js";import{U as xn}from"./upload-BeYNB5o2.js";import{I as an,a as vn}from"./forms.schemas-pdGzUOEy.js";import{u as wn}from"./Brand.query-CEG0W7DA.js";import{u as fa}from"./useQuery-DpHhRXXa.js";import{g as ha}from"./socket-gvXshyWb.js";import{R as pa}from"./refresh-ccw-aMlPpLvM.js";import{P as ga}from"./Pagination-DBpELwYj.js";import"./iconBase-BDJoOqVd.js";import"./lock-CpwUUMbm.js";import"./arrow-left-C-mTSGJV.js";import"./index-BYCOGY7B.js";import"./gapSize-U1swVQyS.js";import"./index-DLSJQiDO.js";import"./Input-BX-vmOgu.js";import"./EyeOutlined-Bmd706kk.js";import"./SearchOutlined-BSfuQocW.js";import"./search-m1Jb6u_1.js";import"./index-CDPjLZrL.js";import"./index-DJ3Zupii.js";import"./index-DxkUizud.js";import"./useForm-CaaswH7C.js";import"./index-Bnmid4PL.js";import"./move-DFNOvUr4.js";import"./useInfiniteQuery-Vny1_Z6G.js";import"./LeftOutlined-CjTST1FD.js";import"./RightOutlined-D6mL3_Xz.js";import"./useBreakpoint-BT1VC6sf.js";import"./useForceUpdate-BomXVAhR.js";var sn={},Qr={exports:{}},ya=Qr.exports,kn;function ba(){return kn||(kn=1,(function(s,a){(function(d,r){s.exports=r(Hn(),In())})(ya,(function(d,r){function i(h){return h&&typeof h=="object"&&"default"in h?h:{default:h}}var n=i(r);function A(h,F){var p=Object.keys(h);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(h);F&&(E=E.filter((function(X){return Object.getOwnPropertyDescriptor(h,X).enumerable}))),p.push.apply(p,E)}return p}function j(h){for(var F=1;F<arguments.length;F++){var p=arguments[F]!=null?arguments[F]:{};F%2?A(Object(p),!0).forEach((function(E){Y(h,E,p[E])})):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(p)):A(Object(p)).forEach((function(E){Object.defineProperty(h,E,Object.getOwnPropertyDescriptor(p,E))}))}return h}function Y(h,F,p){return F in h?Object.defineProperty(h,F,{value:p,enumerable:!0,configurable:!0,writable:!0}):h[F]=p,h}function g(h,F){return(function(p){if(Array.isArray(p))return p})(h)||(function(p,E){var X=p==null?null:typeof Symbol!="undefined"&&p[Symbol.iterator]||p["@@iterator"];if(X!=null){var Ce,q,ve=[],Le=!0,W=!1;try{for(X=X.call(p);!(Le=(Ce=X.next()).done)&&(ve.push(Ce.value),!E||ve.length!==E);Le=!0);}catch(Oe){W=!0,q=Oe}finally{try{Le||X.return==null||X.return()}finally{if(W)throw q}}return ve}})(h,F)||(function(p,E){if(p){if(typeof p=="string")return ue(p,E);var X=Object.prototype.toString.call(p).slice(8,-1);if(X==="Object"&&p.constructor&&(X=p.constructor.name),X==="Map"||X==="Set")return Array.from(p);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return ue(p,E)}})(h,F)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function ue(h,F){(F==null||F>h.length)&&(F=h.length);for(var p=0,E=new Array(F);p<F;p++)E[p]=h[p];return E}function T(h,F){var p=h.element,E=h.popper,X=h.position,Ce=X===void 0?"bottom-center":X,q=h.containerStyle,ve=h.containerClassName,Le=ve===void 0?"":ve,W=h.arrow,Oe=h.arrowStyle,be=Oe===void 0?{}:Oe,ct=h.arrowClassName,nt=ct===void 0?"":ct,te=h.fixMainPosition,Z=h.fixRelativePosition,qe=h.offsetY,Je=h.offsetX,gt=h.animations,ut=h.zIndex,yt=ut===void 0?0:ut,Dt=h.popperShadow,It=h.onChange,Pt=h.active,Yt=Pt===void 0||Pt,ze=h.portal,xt=h.portalTarget,He=typeof window!="undefined",Ve=He&&xt instanceof HTMLElement,At=W===!0,St=E&&Yt===!0,l=r.useRef(),m=r.useRef(),k=r.useRef(),S=r.useRef(),K=r.useMemo((function(){return{position:Ce,fixMainPosition:te,fixRelativePosition:Z,offsetY:qe,offsetX:Je,defaultArrow:At,animations:gt,zIndex:yt,onChange:It}}),[Ce,te,Z,qe,Je,At,gt,It,yt]),Ae=r.useCallback((function(){k.current&&(k.current.style.transition=""),m.current&&(m.current.parentNode.style.transition="")}),[]),le={element:j({display:"inline-block",height:"max-content"},q),arrow:j({visibility:"hidden",left:"0",top:"0",position:"absolute"},be),popper:{position:"absolute",left:"0",top:"0",willChange:"transform",visibility:"hidden",zIndex:yt}};He&&!S.current&&(S.current=document.createElement("div"),S.current.data={portal:ze,isValidPortalTarget:Ve}),r.useEffect((function(){if(ze&&!Ve){var je=S.current;return document.body.appendChild(je),function(){document.body.contains(je)&&document.body.removeChild(je)}}}),[ze,Ve]),r.useEffect((function(){if(!St)return Ae(),m.current.parentNode.style.visibility="hidden",void(k.current&&(k.current.style.visibility="hidden"));function je(wt){wt&&wt.type!=="resize"&&!wt.target.contains(l.current)||(wt&&Ae(),ne(l,m,k,K,wt))}return je(),document.addEventListener("scroll",je,!0),window.addEventListener("resize",je),function(){document.removeEventListener("scroll",je,!0),window.removeEventListener("resize",je)}}),[St,K,Ae]),r.useEffect((function(){var je={portal:ze,isValidPortalTarget:Ve},wt=S.current.data;JSON.stringify(je)!==JSON.stringify(wt)&&(S.current.data=je,l.current.refreshPosition())}),[ze,Ve]);var vt=n.default.createElement(n.default.Fragment,null,(function(){if(!W||!St)return null;var je=n.default.createElement("div",{ref:k,style:le.arrow}),wt=r.isValidElement(W)?{children:W}:{className:"ep-arrow ".concat(Dt?"ep-shadow":""," ").concat(nt)};return r.cloneElement(je,wt)})(),n.default.createElement("div",{className:Dt?"ep-popper-shadow":"",style:le.popper},n.default.createElement("div",{ref:m},E)));return n.default.createElement("div",{ref:function(je){if(je&&(je.removeTransition=Ae,je.refreshPosition=function(){return setTimeout((function(){return ne(l,m,k,K,{})}),10)}),l.current=je,F instanceof Function)return F(je);F&&(F.current=je)},className:Le,style:le.element},p,ze&&He?d.createPortal(vt,Ve?xt:S.current):vt)}function ne(h,F,p,E,X){var Ce=E.position,q=E.fixMainPosition,ve=E.fixRelativePosition,Le=E.offsetY,W=Le===void 0?0:Le,Oe=E.offsetX,be=Oe===void 0?0:Oe,ct=E.defaultArrow,nt=E.animations,te=nt===void 0?[]:nt,Z=E.zIndex,qe=E.onChange;if(h.current&&F.current){var Je,gt,ut,yt,Dt=(gt=window.pageXOffset!==void 0,ut=(document.compatMode||"")==="CSS1Compat",{scrollLeft:gt?window.pageXOffset:ut?document.documentElement.scrollLeft:document.body.scrollLeft,scrollTop:gt?window.pageYOffset:ut?document.documentElement.scrollTop:document.body.scrollTop}),It=Dt.scrollLeft,Pt=Dt.scrollTop,Yt=D(h.current,It,Pt),ze=Yt.top,xt=Yt.left,He=Yt.height,Ve=Yt.width,At=Yt.right,St=Yt.bottom,l=D(F.current,It,Pt),m=l.top,k=l.left,S=l.height,K=l.width,Ae=document.documentElement,le=Ae.clientHeight,vt=Ae.clientWidth,je=F.current.parentNode,wt=(function(re){if(!re)return[0,0];var U=g((re.style.transform.match(/translate\((.*?)px,\s(.*?)px\)/)||[]).map((function(ce){return Number(ce)})),3),V=U[1],Q=V===void 0?0:V,ie=U[2];return[Q,ie===void 0?0:ie]})(je),kr=g(wt,2),jr=kr[0],Ft=kr[1],mr=(function(re){var U=g(re.split("-"),2),V=U[0],Q=V===void 0?"bottom":V,ie=U[1],ce=ie===void 0?"center":ie;Q==="auto"&&(Q="bottom"),ce==="auto"&&(ce="center");var ot=Q==="top"||Q==="bottom",Xe=Q==="left"||Q==="right";return Xe&&(ce==="start"&&(ce="top"),ce==="end"&&(ce="bottom")),ot&&(ce==="start"&&(ce="left"),ce==="end"&&(ce="right")),[Q,ce,ot,Xe]})(Ce),e=g(mr,4),o=e[0],c=e[1],f=e[2],x=e[3],y=o,I=function(re,U){return"translate(".concat(re,"px, ").concat(U,"px)")},P=Ve-K,L=He-S,R=c==="left"?0:c==="right"?P:P/2,N=P-R,$=c==="top"?0:c==="bottom"?L:L/2,C=L-$,G=xt-k+jr,me=ze-m+Ft,oe=0,ae=0,fe=ke(h.current),Me=[],Se=p.current,Ye=D(Se,It,Pt)||{},De=Ye.height,se=De===void 0?0:De,Fe=Ye.width,he=Fe===void 0?0:Fe,_=G,B=me,z={top:"bottom",bottom:"top",left:"right",right:"left"};for(f&&(G+=R,me+=o==="top"?-S:He,ct&&(se=11,he=20)),x&&(G+=o==="left"?-K:Ve,me+=$,ct&&(se=20,he=11));fe;)Me.push(fe),de(D(fe,It,Pt)),fe=ke(fe.parentNode);de({top:Pt,bottom:Pt+le,left:It,right:It+vt,height:le,width:vt}),f&&(me+=y==="bottom"?W:-W),x&&(G+=y==="right"?be:-be),G-=oe,me-=ae,Je=z[y],Se&&(f&&((yt=Ve<K)?_+=Ve/2:_=G+K/2,_-=he/2,y==="bottom"&&(B=me,me+=se),y==="top"&&(B=(me-=se)+S),oe<0&&oe-R<0&&(yt?_+=(R-oe)/2:Ve-R+oe<K&&(_+=(Ve-R+oe-K)/2)),oe>0&&oe+N>0&&(yt?_-=(oe+N)/2:Ve-oe-N<K&&(_-=(Ve-oe-N-K)/2))),x&&((yt=He<S)?B+=He/2:B=me+S/2,B-=se/2,y==="left"&&(_=(G-=he)+K),y==="right"&&(_=G,G+=he),ae<0&&ae-$<0&&(yt?B+=($-ae)/2:He-$+ae<S&&(B+=(He-$+ae-S)/2)),ae>0&&ae+C>0&&(yt?B-=(ae+C)/2:He-ae-C<S&&(B-=(He-ae-C-S)/2))),Se.setAttribute("direction",Je),Se.style.height=se+"px",Se.style.width=he+"px",Se.style.transform=I(_,B),Se.style.visibility="visible",Se.style.zIndex=Z+1),je.style.transform=I(G,me);var H={popper:{top:me,bottom:me+S,left:G,right:G+K,height:S,width:K},element:{top:ze,bottom:St,left:xt,right:At,height:He,width:Ve},arrow:{top:B,bottom:B+se,left:_,right:_+he,height:se,width:he,direction:Je},position:y+"-"+(oe!==0?"auto":c),scroll:{scrollLeft:It,scrollTop:Pt},scrollableParents:Me,event:X};X||te.forEach((function(re){re({popper:je,arrow:Se,data:j(j({},H),{},{getTransform:I,mirror:z})})})),je.style.visibility="visible",typeof qe=="function"&&qe(H)}function de(re){var U=re.top,V=re.bottom,Q=re.left,ie=re.right,ce=re.height,ot=re.width;if(f){var Xe=Math.round(ze-U+He/2),$t=Math.round(ce/2);q||(ze-(S+W+se)<U&&Xe<=$t&&y==="top"?(me+=S+He,y="bottom"):St+S+W+se>ce+U&&Xe>=$t&&y==="bottom"&&(me-=S+He,y="top")),ve||(xt+R<Q&&(oe=ee(At-he>Q?xt+R-Q:-Ve+R+he,oe)),At-N>ie&&(oe=ee(xt+he<ie?At-N-ie:Ve-N-he,oe)))}if(x){var ye=Math.round(xt-Q+Ve/2),we=Math.round(ot/2);q||(xt-(K+be+he)<Q&&ye<we&&y==="left"?(G+=Ve+K,y="right"):At+K+be+he>ie&&ye>we&&y==="right"&&(G-=Ve+K,y="left")),ve||(ze+$<U&&(ae=ee(St-se>U?ze+$-U:-He+$+se,ae)),St-C>V&&(ae=ee(ze+se<V?St-C-V:He-C-se,ae)))}}}function D(h,F,p){if(h){var E=h.getBoundingClientRect(),X=E.top,Ce=E.left,q=E.width,ve=E.height,Le=X+p,W=Ce+F;return{top:Le,bottom:Le+ve,left:W,right:W+q,width:q,height:ve}}}function ke(h){if(h&&h.tagName!=="HTML"){var F=window.getComputedStyle(h),p=function(E){return["auto","scroll"].includes(E)};return h.clientHeight<h.scrollHeight&&p(F.overflowX)||h.clientWidth<h.scrollWidth&&p(F.overflowY)?h:ke(h.parentNode)}}function ee(h,F){return Math.round(Math.abs(h))>Math.round(Math.abs(F))?h:F}return r.forwardRef(T)}))})(Qr)),Qr.exports}function Ir(s){return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ir(s)}function xa(s){return(function(a){if(Array.isArray(a))return un(a)})(s)||En(s)||Zr(s)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function En(s){if(typeof Symbol!="undefined"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function jn(s,a){var d=typeof Symbol!="undefined"&&s[Symbol.iterator]||s["@@iterator"];if(!d){if(Array.isArray(s)||(d=Zr(s))||a){d&&(s=d);var r=0,i=function(){};return{s:i,n:function(){return r>=s.length?{done:!0}:{done:!1,value:s[r++]}},e:function(Y){throw Y},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,A=!0,j=!1;return{s:function(){d=d.call(s)},n:function(){var Y=d.next();return A=Y.done,Y},e:function(Y){j=!0,n=Y},f:function(){try{A||d.return==null||d.return()}finally{if(j)throw n}}}}function Nn(s,a){var d=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable}))),d.push.apply(d,r)}return d}function Sn(s){for(var a=1;a<arguments.length;a++){var d=arguments[a]!=null?arguments[a]:{};a%2?Nn(Object(d),!0).forEach((function(r){va(s,r,d[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(d)):Nn(Object(d)).forEach((function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(d,r))}))}return s}function va(s,a,d){return(a=An(a))in s?Object.defineProperty(s,a,{value:d,enumerable:!0,configurable:!0,writable:!0}):s[a]=d,s}function vr(s,a){return Ln(s)||(function(d,r){var i=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(i!=null){var n,A,j,Y,g=[],ue=!0,T=!1;try{if(j=(i=i.call(d)).next,r===0){if(Object(i)!==i)return;ue=!1}else for(;!(ue=(n=j.call(i)).done)&&(g.push(n.value),g.length!==r);ue=!0);}catch(ne){T=!0,A=ne}finally{try{if(!ue&&i.return!=null&&(Y=i.return(),Object(Y)!==Y))return}finally{if(T)throw A}}return g}})(s,a)||Zr(s,a)||Tn()}function Tn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zr(s,a){if(s){if(typeof s=="string")return un(s,a);var d=Object.prototype.toString.call(s).slice(8,-1);return d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set"?Array.from(s):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?un(s,a):void 0}}function un(s,a){(a==null||a>s.length)&&(a=s.length);for(var d=0,r=new Array(a);d<a;d++)r[d]=s[d];return r}function Ln(s){if(Array.isArray(s))return s}function wa(s,a){for(var d=0;d<a.length;d++){var r=a[d];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(s,An(r.key),r)}}function An(s){var a=(function(d,r){if(Ir(d)!=="object"||d===null)return d;var i=d[Symbol.toPrimitive];if(i!==void 0){var n=i.call(d,r);if(Ir(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)})(s,"string");return Ir(a)==="symbol"?a:String(a)}function lt(s,a,d){(function(r,i){if(i.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")})(s,a),a.set(s,d)}function u(s,a){return(function(d,r){return r.get?r.get.call(d):r.value})(s,Fn(s,a,"get"))}function O(s,a,d){return(function(r,i,n){if(i.set)i.set.call(r,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}})(s,Fn(s,a,"set"),d),d}function Fn(s,a,d){if(!a.has(s))throw new TypeError("attempted to "+d+" private field on non-instance");return a.get(s)}function ka(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function ja(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Cn={name:"gregorian_en",months:[["January","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May","May"],["June","Jun"],["July","Jul"],["August","Aug"],["September","Sep"],["October","Oct"],["November","Nov"],["December","Dec"]],weekDays:[["Saturday","Sat"],["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"]],digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]},Kr={name:"gregorian",startYear:1,yearLength:365,epoch:1721424,century:20,weekStartDayIndex:1,getMonthLengths:function(s){return[31,s?29:28,31,30,31,30,31,31,30,31,30,31]},isLeap:function(s){return s%4==0&&s%100!=0||s%400==0},getLeaps:function(s){if(s!==0){for(var a=s>0?1:-1,d=[];s>0?a<=s:s<=a;)this.isLeap(a)&&d.push(a),s>0?a++:a--;return d}},getDayOfYear:function(s){for(var a=s.year,d=s.month,r=s.day,i=this.getMonthLengths(this.isLeap(a)),n=0;n<d.index;n++)r+=i[n];return r},getAllDays:function(s){var a=s.year;return this.yearLength*(a-1)+this.leapsLength(a)+this.getDayOfYear(s)},leapsLength:function(s){return((s-1)/4|0)+(-(s-1)/100|0)+((s-1)/400|0)},guessYear:function(s,a){return~~(s/365.24)+(a>0?1:-1)}};function gr(s){return s&&s.constructor===Object}function Ut(s){if(!isNaN(s))return parseInt(s)}function wr(s){return Array.isArray(s)}function Cr(s,a,d){return s===void 0||s<a||s>d}var dt=new WeakMap,Ke=new WeakMap,_e=new WeakMap,qt=new WeakMap,dr=new WeakMap,cr=new WeakMap,rt=new WeakMap,ur=new WeakMap,bt=new WeakMap,Qe=new WeakMap,Or=new WeakMap,Gt=new WeakMap,On=new WeakMap,Mr=new WeakMap,Dr=new WeakMap,Mn=new WeakMap,on=new WeakMap,Kt=new WeakMap,ln=new WeakMap,Na=(function(){function s(r){var i=this;(function(Y,g){if(!(Y instanceof g))throw new TypeError("Cannot call a class as a function")})(this,s),lt(this,dt,{writable:!0,value:void 0}),lt(this,Ke,{writable:!0,value:void 0}),lt(this,_e,{writable:!0,value:void 0}),lt(this,qt,{writable:!0,value:void 0}),lt(this,dr,{writable:!0,value:void 0}),lt(this,cr,{writable:!0,value:void 0}),lt(this,rt,{writable:!0,value:void 0}),lt(this,ur,{writable:!0,value:void 0}),lt(this,bt,{writable:!0,value:Cn}),lt(this,Qe,{writable:!0,value:Kr}),lt(this,Or,{writable:!0,value:!1}),lt(this,Gt,{writable:!0,value:{}}),lt(this,On,{writable:!0,value:/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d\.\d\d\dZ$/}),lt(this,Mr,{writable:!0,value:[]}),lt(this,Dr,{writable:!0,value:!0}),lt(this,Mn,{writable:!0,value:function(Y,g){switch(Y){case"YYYY":return["year",g];case"YY":return["year","".concat(u(i,Qe).century).concat(g)];case"MMMM":case"MMM":return["month",i.months.findIndex((function(T){var ne=T.name,D=T.shortName;return new RegExp(g,"i").test(ne+D)}))+1];case"MM":case"M":return["month",g];case"DD":case"D":return["day",g];case"HH":case"H":return["hour",g];case"hh":case"h":var ue=Ut(g);return["hour",ue>12?ue-12:ue];case"mm":case"m":return["minute",g];case"ss":case"s":return["second",g];case"SSS":case"SS":case"S":return["millisecond",g];default:return[]}}}),lt(this,on,{writable:!0,value:function(){return u(i,dt)===0&&u(i,Qe).startYear!==0}}),lt(this,Kt,{writable:!0,value:function(){if(u(i,Dr)&&i.isValid){var Y=Math.floor,g=function(ee,h){return[(E=ee,(E<0?-1:1)*Math.abs(Y(ee/h))),(F=ee,p=h,(F<0&&Y(F%p)!==-0?p:0)+Y(ee%h))];var F,p,E},ue=function(){if(u(i,Ke)<0||u(i,Ke)>11){var ee=u(i,Ke)<0?-1:1,h=vr(g(u(i,Ke),12),2),F=h[0],p=h[1];O(i,dt,u(i,dt)+F),O(i,Ke,p),u(i,on).call(i)&&O(i,dt,ee)}};for(O(i,Dr,!1),[["millisecond","second",1e3],["second","minute",60],["minute","hour",60],["hour","day",24]].forEach((function(ee){var h=vr(ee,3),F=h[0],p=h[1],E=h[2];if((function(ve,Le){return ve>=Le||ve<0})(i[F],E)){var X=vr(g(i[F],E),2),Ce=X[0],q=X[1];i[p]+=Ce,i[F]=q}})),O(i,Dr,!0),ue();u(i,_e)<-u(i,Qe).yearLength||u(i,_e)>u(i,Qe).yearLength;){if(u(i,Ke)>0){for(var T=u(i,Qe).getMonthLengths(i.isLeap),ne=0;ne<u(i,Ke);ne++)O(i,_e,u(i,_e)+T[ne]);O(i,Ke,0)}var D=i.isLeap?i.calendar.yearLength+1:i.calendar.yearLength;O(i,_e,u(i,_e)+D*(u(i,_e)<0?1:-1)),O(i,dt,u(i,dt)+(u(i,_e)<0?-1:1))}for(;;){var ke;for(ue();u(i,_e)<1;)O(i,Ke,u(i,Ke)-1),ue(),O(i,_e,i.month.length+u(i,_e));if(u(i,_e)<=i.month.length||isNaN(u(i,_e)))break;O(i,_e,u(i,_e)-i.month.length),O(i,Ke,(ke=u(i,Ke),ke++,ke))}u(i,qt)||O(i,qt,0),u(i,dr)||O(i,dr,0),u(i,cr)||O(i,cr,0),u(i,rt)||O(i,rt,0)}}}),lt(this,ln,{writable:!0,value:function(){return(u(i,Gt).weekDays||u(i,bt).weekDays).map((function(Y,g){var ue=vr(Y,2),T=ue[0],ne=ue[1],D=g-i.weekStartDayIndex;return D<0&&(D+=7),{name:T,shortName:ne,index:D,number:D+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}}))}});var n=gr(r)?Sn({},r):r,A=!0;if(n&&typeof n!="boolean"||(n={date:new Date}),gr(n)||(n={date:n}),Object.keys(n).length!==0){for(var j in gr(n.calendar)&&O(this,Qe,n.calendar),gr(n.locale)&&O(this,bt,n.locale),isNaN(n.year)&&isNaN(n.month)&&isNaN(n.day)&&!n.date&&(n.date=new Date),n.date&&(typeof n.date=="string"&&n.format&&O(this,ur,n.format),this.setDate(n.date),n.calendar&&this.convert(n.calendar),A=!1),delete n.calendar,delete n.locale,delete n.date,n)this.set(j,n[j]);u(this,on).call(this)&&O(this,dt,-1),A&&u(this,Kt).call(this)}}var a,d;return a=s,d=[{key:"parse",value:function(r){if(!r)return this;var i,n,A=u(this,ur),j=u(this,bt).digits,Y=jn(j);try{for(Y.s();!(i=Y.n()).done;){var g=i.value;r=r.replace(new RegExp(g,"g"),j.indexOf(g))}}catch(be){Y.e(be)}finally{Y.f()}if(A)for(var ue=A.split(/[^\w\u0600-\u06FF]/),T=r.split(/[^\w\u0600-\u06FF]/),ne=0;ne<ue.length;ne++)this.set.apply(this,xa(u(this,Mn).call(this,ue[ne],T[ne])));else{var D=r.match(/(-?\d{2,4})?\W?([A-z]{3,9}|\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,3})?\W?(am|pm)?/),ke=(Ln(n=D)||En(n)||Zr(n)||Tn()).slice(1),ee=ke[1];ee&&(ee=/\d+/.test(ee)?Ut(ee)-1:this.months.findIndex((function(be){return new RegExp(ee,"i").test(be.name)}))),ke[1]=ee;var h=vr(ke.map(Ut),7),F=h[0],p=h[1],E=h[2],X=h[3],Ce=h[4],q=h[5],ve=h[6];O(this,dt,F),O(this,Ke,p),O(this,_e,E),O(this,qt,X),O(this,dr,Ce),O(this,cr,q),O(this,rt,ve)}var Le=vr(u(this,bt).meridiems[1],2),W=Le[0],Oe=Le[1];return u(this,qt)<12&&(r.includes(W)||r.includes(Oe))&&O(this,qt,u(this,qt)+12),u(this,Kt).call(this),this}},{key:"convert",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kr,i=arguments.length>1?arguments[1]:void 0;if(gr(i)&&O(this,bt,i),!gr(r)||r.name===u(this,Qe).name)return this;var n=this.toJulianDay()-r.epoch,A=new s({calendar:r,year:r.guessYear(n,u(this,dt)),month:1,day:1});return A.day+=n-A.toDays(),O(this,dt,A.year),O(this,Ke,A.month.index),O(this,_e,A.day),O(this,Qe,r),this}},{key:"format",value:function(r,i){if(!this.isValid||r&&typeof r!="string")return"";r||(r=u(this,ur)||"YYYY/MM/DD"),wr(i)||(i=[]),i=(i=i.concat(u(this,Mr))).filter((function(ne){return typeof ne=="string"||(console.warn("type of all items in the ignore list must be string, found",Ir(ne)),!1)})).map((function(ne){return ne.replace(/[*/+\-()[\]{}\s$^]/g,(function(D){return"\\"+D}))}));var n,A=new RegExp("".concat(i.join("|")).concat(i.length>0?"|":"","YYYY|YY|MMMM|MMM|MM|M|WW|W|DDDD|DDD|DD|D|dddd|ddd|dd|d|HH|H|hh|h|mm|m|ss|s|SSS|SS|S|A|a|."),"g"),j="",Y=jn(r.match(A)||[]);try{for(Y.s();!(n=Y.n()).done;){var g=n.value,ue=this.getValue(g);j+=i.includes(g)?g:ue===0?ue:ue||g}}catch(ne){Y.e(ne)}finally{Y.f()}var T=this.digits;return j.replace(/[0-9]/g,(function(ne){return T[ne]}))}},{key:"getProperty",value:function(r){return this.getValue(r)}},{key:"getValue",value:function(r){var i=function(n){return n<10?"0"+n:n};switch(r){case"YYYY":return this.year;case"YY":return this.year.toString().substring(2,4);case"MMMM":return this.month.name;case"MMM":return this.month.shortName;case"MM":return i(this.month.number);case"M":return this.month.number;case"WW":return i(this.weekOfYear);case"W":return this.weekOfYear;case"DDDD":case"DDD":return this.dayOfYear;case"DD":return i(this.day);case"D":return this.day;case"HH":return i(this.hour);case"H":return this.hour;case"dddd":return this.weekDay.name;case"ddd":return this.weekDay.shortName;case"dd":return i(this.weekDay.number);case"d":return this.weekDay.number;case"hh":return i(this.hour>12?this.hour-12:this.hour||12);case"h":return this.hour>12?this.hour-12:this.hour||12;case"mm":return i(this.minute);case"m":return this.minute;case"ss":return i(this.second);case"s":return this.second;case"SSS":return u(this,rt)<10?"00".concat(u(this,rt)):u(this,rt)<100?"0".concat(u(this,rt)):u(this,rt);case"SS":return u(this,rt)<10?"00":u(this,rt)<100?("0"+u(this,rt)).substring(2,0):u(this,rt).toString().substring(0,2);case"S":return u(this,rt)<10||u(this,rt)<100?"0":u(this,rt).toString().substring(0,1);case"a":return this.hour>=12?u(this,bt).meridiems[1][1]:u(this,bt).meridiems[0][1];case"A":return this.hour>=12?u(this,bt).meridiems[1][0]:u(this,bt).meridiems[0][0];default:return""}}},{key:"setYear",value:function(r){return this.year=r,this}},{key:"setMonths",value:function(r){return this.months=r,this}},{key:"setMonth",value:function(r){return this.month=r,this}},{key:"setWeekDays",value:function(r){return this.weekDays=r,this}},{key:"setDigits",value:function(r){return this.digits=r,this}},{key:"setDay",value:function(r){return this.day=r,this}},{key:"setHour",value:function(r){return this.hour=r,this}},{key:"setMinute",value:function(r){return this.minute=r,this}},{key:"setSecond",value:function(r){return this.second=r,this}},{key:"setMillisecond",value:function(r){return this.millisecond=r,this}},{key:"setFormat",value:function(r){return O(this,ur,r),this}},{key:"setLocale",value:function(r){return this.locale=r,this}},{key:"setCalendar",value:function(r){return this.calendar=r,this}},{key:"setDate",value:function(r){if(typeof r=="string"){if(!u(this,On).test(r))return this.parse(r);r=new Date(r)}return typeof r=="number"&&(r=new Date(r)),r instanceof Date&&(O(this,Qe,Kr),O(this,dt,r.getFullYear()),O(this,Ke,r.getMonth()),O(this,_e,r.getDate()),O(this,qt,r.getHours()),O(this,dr,r.getMinutes()),O(this,cr,r.getSeconds()),O(this,rt,r.getMilliseconds()),O(this,Or,!1)),r instanceof s&&(O(this,dt,r.year),O(this,Ke,r.month.index),O(this,_e,r.day),O(this,qt,r.hour),O(this,dr,r.minute),O(this,cr,r.second),O(this,rt,r.millisecond),O(this,bt,r.locale),O(this,ur,r._format),O(this,Qe,r.calendar),O(this,Or,r.isUTC),O(this,Mr,r.ignoreList),O(this,Gt,r.custom)),this}},{key:"setIgnoreList",value:function(r){return this.ignoreList=r,this}},{key:"set",value:function(r,i){if(r==null)return this;if(gr(r)){var n=Sn({},r);for(var A in n.date&&(this.setDate(n.date),delete n.date),n.calendar&&(this.convert(n.calendar),delete n.calendar),n.locale&&(this.setLocale(n.locale),delete n.locale),O(this,Dr,!1),n)this.set(A,n[A]);return O(this,Dr,!0),u(this,Kt).call(this),this}r==="format"&&(r="_format");try{this[r]=i}catch(j){}return this}},{key:"add",value:function(r,i){if(!(r=Ut(r))||!i)return this;switch(i){case"years":case"y":i="year";break;case"months":case"M":i="month";break;case"days":case"d":i="day";break;case"hours":case"h":i="hour";break;case"minutes":case"m":i="minute";break;case"seconds":case"s":i="second";break;case"milliseconds":case"ms":i="millisecond"}return this[i]+=r,this}},{key:"subtract",value:function(r,i){return this.add(-r,i)}},{key:"toFirstOfYear",value:function(){return this.month=1,this.day=1,this}},{key:"toLastOfYear",value:function(){return this.day>=29&&(this.day=29),this.month=12,this.toLastOfMonth(),this}},{key:"toFirstOfMonth",value:function(){return O(this,_e,1),this}},{key:"toLastOfMonth",value:function(){return O(this,_e,0),O(this,Ke,u(this,Ke)+1),u(this,Kt).call(this),this}},{key:"toFirstOfWeek",value:function(){return this.day-=this.weekDay.index,this}},{key:"toLastOfWeek",value:function(){return this.day+=6-this.weekDay.index,this}},{key:"toFirstWeekOfYear",value:function(){return this.toFirstOfYear(),this.weekDay.index===0?this:this.toLastOfWeek().setDay(this.day+1)}},{key:"toLastWeekOfYear",value:function(){return this.toLastOfYear().toFirstOfWeek()}},{key:"toString",value:function(){return this.format()}},{key:"toDate",value:function(){var r=new s(this);return u(this,Qe).name!=="gregorian"&&r.convert(Kr),new Date(r.year,r.month.index,r.day,r.hour,r.minute,r.second,r.millisecond)}},{key:"toUTC",value:function(){return u(this,Or)||(this.minute+=this.toDate().getTimezoneOffset(),O(this,Or,!0)),this}},{key:"toUnix",value:function(){return this.unix}},{key:"toJulianDay",value:function(){return this.toDays()+u(this,Qe).epoch}},{key:"toObject",value:function(){return{year:u(this,dt),month:this.month,day:u(this,_e),weekDay:this.weekDay,hour:u(this,qt),minute:u(this,dr),second:u(this,cr),millisecond:u(this,rt),weekOfYear:this.weekOfYear,dayOfYear:this.dayOfYear,daysLeft:this.daysLeft,calendar:u(this,Qe),locale:u(this,bt),format:u(this,ur)||"YYYY/MM/DD",ignoreList:u(this,Mr)}}},{key:"toJSON",value:function(){return this.valueOf()}},{key:"valueOf",value:function(){return this.toDate().valueOf()}},{key:"toDays",value:function(){if(this.isValid)return u(this,Qe).getAllDays(this)}},{key:"dayOfBeginning",get:function(){return this.toDays()}},{key:"dayOfYear",get:function(){if(this.isValid)return u(this,Qe).getDayOfYear(this)}},{key:"weekOfYear",get:function(){if(this.isValid)return 1+~~(this.dayOfYear/7)}},{key:"daysLeft",get:function(){if(this.isValid){var r=u(this,Qe).yearLength;return(this.isLeap?r+1:r)-this.dayOfYear}}},{key:"year",get:function(){return u(this,dt)},set:function(r){O(this,dt,Ut(r)),u(this,Kt).call(this)}},{key:"month",get:function(){return this.months[u(this,Ke)]||{}},set:function(r){var i;r=(i=Ut(r.valueOf())-1)!==null&&i!==void 0?i:void 0,O(this,Ke,r),Cr(r,0,11)&&u(this,Kt).call(this)}},{key:"monthIndex",get:function(){return u(this,Ke)}},{key:"day",get:function(){return u(this,_e)},set:function(r){r=Ut(r),O(this,_e,r),Cr(r,1,28)&&u(this,Kt).call(this)}},{key:"weekDay",get:function(){if(!this.isValid)return{};var r=(this.toJulianDay()+3)%7;return u(this,ln).call(this)[r]}},{key:"hour",get:function(){return u(this,qt)},set:function(r){r=Ut(r),O(this,qt,r),Cr(r,0,23)&&u(this,Kt).call(this)}},{key:"minute",get:function(){return u(this,dr)},set:function(r){r=Ut(r),O(this,dr,r),Cr(r,0,59)&&u(this,Kt).call(this)}},{key:"second",get:function(){return u(this,cr)},set:function(r){r=Ut(r),O(this,cr,r),Cr(r,0,59)&&u(this,Kt).call(this)}},{key:"millisecond",get:function(){return u(this,rt)},set:function(r){r=Ut(r),O(this,rt,r),Cr(r,0,999)&&u(this,Kt).call(this)}},{key:"months",get:function(){var r=u(this,Qe).getMonthLengths(this.isLeap),i=(u(this,Gt).months||u(this,bt).months).map((function(n,A){var j=vr(n,2);return{name:j[0],shortName:j[1],length:r[A],index:A,number:A+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}}));return i},set:function(r){if(!r)return delete u(this,Gt).months;wr(r)&&r.length===12&&r.every((function(i){return wr(i)&&i.length===2&&i.every((function(n){return typeof n=="string"}))}))&&(u(this,Gt).months=r)}},{key:"weekDays",get:function(){return u(this,ln).call(this).sort((function(r,i){return r.index-i.index}))},set:function(r){if(!r)return delete u(this,Gt).weekDays;wr(r)&&r.length===7&&r.every((function(i){return wr(i)&&i.length===2&&i.every((function(n){return typeof n=="string"}))}))&&(u(this,Gt).weekDays=r)}},{key:"leaps",get:function(){return u(this,Qe).getLeaps(u(this,dt))}},{key:"calendar",get:function(){return u(this,Qe)},set:function(r){this.convert(r)}},{key:"locale",get:function(){return u(this,bt)},set:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cn;gr(r)&&O(this,bt,r)}},{key:"custom",get:function(){return u(this,Gt)}},{key:"meridiems",get:function(){return u(this,bt).meridiems}},{key:"digits",get:function(){return u(this,Gt).digits||u(this,bt).digits},set:function(r){if(!r)return delete u(this,Gt).digits;wr(r)&&r.length===10&&(u(this,Gt).digits=r)}},{key:"_format",get:function(){return u(this,ur)},set:function(r){typeof r=="string"&&O(this,ur,r)}},{key:"isLeap",get:function(){return u(this,Qe).isLeap(u(this,dt))}},{key:"isValid",get:function(){return!isNaN(u(this,dt))&&!isNaN(u(this,Ke))&&!isNaN(u(this,_e))}},{key:"isUTC",get:function(){return u(this,Or)}},{key:"unix",get:function(){return(this.valueOf()-this.millisecond)/1e3}},{key:"ignoreList",get:function(){return u(this,Mr)},set:function(r){wr(r)&&O(this,Mr,r)}},{key:"weekStartDayIndex",get:function(){return u(this,Qe).weekStartDayIndex},set:function(r){(r=Ut(r))!==void 0&&(u(this,Qe).weekStartDayIndex=Math.abs(r)%7)}},{key:"date",set:function(r){this.setDate(r)}}],d&&wa(a.prototype,d),Object.defineProperty(a,"prototype",{writable:!1}),s})(),Sa=ka(ja(Na));const Ca=Object.freeze(Object.defineProperty({__proto__:null,default:Sa},Symbol.toStringTag,{value:"Module"})),Oa=Un(Ca);var Dn;function Ma(){return Dn||(Dn=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0});var a=In(),d=ba(),r=Oa;function i(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var n=i(a),A=i(d),j=i(r);function Y(e,o){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(e);o&&(f=f.filter((function(x){return Object.getOwnPropertyDescriptor(e,x).enumerable}))),c.push.apply(c,f)}return c}function g(e){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?Y(Object(c),!0).forEach((function(f){ue(e,f,c[f])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):Y(Object(c)).forEach((function(f){Object.defineProperty(e,f,Object.getOwnPropertyDescriptor(c,f))}))}return e}function ue(e,o,c){return(o=(function(f){var x=(function(y,I){if(typeof y!="object"||y===null)return y;var P=y[Symbol.toPrimitive];if(P!==void 0){var L=P.call(y,I);if(typeof L!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(y)})(f,"string");return typeof x=="symbol"?x:String(x)})(o))in e?Object.defineProperty(e,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[o]=c,e}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(e[f]=c[f])}return e},T.apply(this,arguments)}function ne(e,o){if(e==null)return{};var c,f,x=(function(I,P){if(I==null)return{};var L,R,N={},$=Object.keys(I);for(R=0;R<$.length;R++)L=$[R],P.indexOf(L)>=0||(N[L]=I[L]);return N})(e,o);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(e);for(f=0;f<y.length;f++)c=y[f],o.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(x[c]=e[c])}return x}function D(e,o){return(function(c){if(Array.isArray(c))return c})(e)||(function(c,f){var x=c==null?null:typeof Symbol!="undefined"&&c[Symbol.iterator]||c["@@iterator"];if(x!=null){var y,I,P,L,R=[],N=!0,$=!1;try{if(P=(x=x.call(c)).next,f===0){if(Object(x)!==x)return;N=!1}else for(;!(N=(y=P.call(x)).done)&&(R.push(y.value),R.length!==f);N=!0);}catch(C){$=!0,I=C}finally{try{if(!N&&x.return!=null&&(L=x.return(),Object(L)!==L))return}finally{if($)throw I}}return R}})(e,o)||ee(e,o)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function ke(e){return(function(o){if(Array.isArray(o))return h(o)})(e)||(function(o){if(typeof Symbol!="undefined"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)})(e)||ee(e)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function ee(e,o){if(e){if(typeof e=="string")return h(e,o);var c=Object.prototype.toString.call(e).slice(8,-1);return c==="Object"&&e.constructor&&(c=e.constructor.name),c==="Map"||c==="Set"?Array.from(e):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?h(e,o):void 0}}function h(e,o){(o==null||o>e.length)&&(o=e.length);for(var c=0,f=new Array(o);c<o;c++)f[c]=e[c];return f}function F(e,o){var c=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!c){if(Array.isArray(e)||(c=ee(e))||o){c&&(e=c);var f=0,x=function(){};return{s:x,n:function(){return f>=e.length?{done:!0}:{done:!1,value:e[f++]}},e:function(L){throw L},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,I=!0,P=!1;return{s:function(){c=c.call(e)},n:function(){var L=c.next();return I=L.done,L},e:function(L){P=!0,y=L},f:function(){try{I||c.return==null||c.return()}finally{if(P)throw y}}}}function p(e){return Array.isArray(e)}function E(e){var o=e.state.date,c=o.calendar,f=o.locale,x=e.customWeekDays,y=e.weekStartDayIndex,I=e.displayWeekNumbers,P=e.weekNumber,L=a.useMemo((function(){var R=x;return p(R)&&R.length>=7?(R.length=7,R=R.map((function(N){return p(N)&N.length>1?N=N[1]:p(N)&&(N=N[0]),N}))):R=new j.default({year:1,calendar:c,locale:f}).weekDays.map((function(N){return N.shortName})),R}),[c,f,x]);return L=ke(L).slice(y).concat(ke(L).splice(0,y)),n.default.createElement("div",{className:"rmdp-week"},I&&n.default.createElement("div",{className:"rmdp-week-day"},P),L.map((function(R,N){return n.default.createElement("div",{key:N,className:"rmdp-week-day"},R)})))}function X(e,o){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],f=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!e||!o)return!1;if(e.year===o.year){if(f)return!0;if(e.monthIndex===o.monthIndex)return!!c||e.day===o.day}}function Ce(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY/MM/DD";return e.format(o)}function q(e,o,c){var f=c.multiple,x=c.range,y=c.selectedDate,I=c.onlyMonthPicker,P=c.onlyYearPicker,L=c.format,R=c.focused,N=c.weekPicker;e.setFormat(L);var $=new j.default(e);return y=f&&x?(function(){var C=!0;p(y)||(y=[[y]]);var G=y.find((function(fe){return fe.length===1})),me=I?"YYYY/MM":"YYYY/MM/DD",oe=y;if(G){var ae=G[0];oe=oe.filter((function(fe){if(fe.length===1)return!0;var Me=D(fe,2),Se=Me[0],Ye=Me[1],De=D([ae,$].sort((function(H,de){return H-de})),2),se=[Se,Ye,De[0],De[1]].map((function(H){return Ce(H,me)})),Fe=D(se,4),he=Fe[0],_=Fe[1],B=Fe[2],z=Fe[3];return!(B<=he&&z>=_||B>=he&&z>=_&&B<=_||B<=he&&z<=_&&z>=he)}))}else oe=oe.filter((function(fe){if(!p(fe))return!0;if(fe.length===0)return!1;var Me=D(fe,2),Se=[Me[0],Me[1],$].map((function(he){return Ce(he,me)})),Ye=D(Se,3),De=Ye[0],se=Ye[1],Fe=Ye[2];return!(Fe>=De&&Fe<=se)}));return oe=oe.map((function(fe){var Me;return p(fe)?fe.length===1?(C=!1,Me=fe.concat($)):Me=fe:(C=!1,Me=[fe,$]),Me.sort((function(Se,Ye){return Se-Ye}))})),C&&(oe=[].concat(ke(oe),[[$]])),oe})():f?(function(){var C=y.filter((function(G){return!X(e,G,I,P)}));return C.length===y.length?C.push($):$=C.find((function(G){return X(G,R)})),o&&C.sort((function(G,me){return G-me})),C})():x?(function(){if(N)return[new j.default($).toFirstOfWeek(),new j.default($).toLastOfWeek()];if(y.length===2||y.length===0)return[$];if(y.length===1)return[y[0],$].sort((function(C,G){return C-G}))})():$,[y,$]}function ve(e,o,c,f){var x=[],y=c?"YYYY/MM":"YYYY/MM/DD",I=Ce(e,y);function P(L){var R=L[0],N=L[1];if(L.length===1)X(e,R,c)&&x.push("rmdp-range");else if(L.length===2){var $=[R,N].map((function(oe){return Ce(oe,y)})),C=D($,2),G=C[0],me=C[1];I>=G&&I<=me&&x.push("rmdp-range"),I===G&&x.push("start"),I===me&&x.push("end")}}return f?(p(o)?o:[[o]]).forEach(P):P(o),x.join(" ")}function Le(e,o,c,f){var x=arguments.length>5?arguments[5]:void 0,y=[];if(f&&c){var I,P=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:"day")==="day"?"YYYY/MM/DD":"YYYY/MM",L=c.format(P),R=e.format(P);if(x||(o==null?void 0:o.length)!==1){if(x&&p(o)){var N,$=F(o);try{for($.s();!(N=$.n()).done;){var C=N.value;if(p(C)&&C.length===1){I=C[0].format(P);break}}}catch(G){$.e(G)}finally{$.f()}}}else I=o[0].format(P);(R>I&&R<=L||R<I&&R>=L)&&(y.push("rmdp-range-hover"),R===L&&y.push(L>I?"end":"start"),p(o)&&o.flat().some((function(G){return G.format(P)===R}))&&y.push("force"))}return y}function W(e,o,c){if(e){var f=Oe(e);return c?Array.from(f.querySelectorAll(o)):f.querySelector(o)}}function Oe(e){return e.closest(".rmdp-calendar")}var be=["selected","today","day:not(.rmdp-day-hidden):not(.rmdp-disabled)"];function ct(e,o,c){var f=c.type,x=f===void 0?"day":f,y=c.format;e.preventDefault();var I=e.currentTarget,P=e.key,L=e.code,R=x==="day"?7:3,N=Oe(I),$=N&&N.classList.contains("rmdp-rtl"),C={ArrowRight:$?-1:1,ArrowLeft:$?1:-1,ArrowUp:-R,ArrowDown:R};if(L==="Space"||P===" ")I.click();else if(Object.keys(C).includes(P)){var G=function(){if(x==="month")return nt(N,[be[2]]);var fe=W(I,me<0?".rmdp-left":".rmdp-right");fe&&(fe.click(),nt(N))},me=C[P],oe=new j.default(o.date).add(me,x);(function(fe){if(!fe)return G();var Me=fe.getAttribute("class");Me.includes("hidden")||Me.includes("disabled")?ct(e,g(g({},o),{},{date:oe}),{type:x,format:y}):fe.focus()})(W(I,'[aria-label*="'.concat(o.year?"year ".concat(o.year+me):oe.format(y),'"]')))}else{var ae=W(I,".rmdp-arrow-container");ae&&ae.focus()}}function nt(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:be,c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],f="[data-active='true']";e.querySelectorAll("".concat(f," [tabindex='0']")).forEach((function(x){return x.setAttribute("tabindex","-1")})),setTimeout((function(){var x,y=F(o);try{for(y.s();!(x=y.n()).done;){var I=x.value,P=e.querySelector("".concat(f," .rmdp-").concat(I));if(P){P.setAttribute("tabindex","0"),c&&P.focus();break}}}catch(L){y.e(L)}finally{y.f()}}),10)}var te="dddd MMMM DD of YYYY";function Z(e){var o=e.state,c=e.onChange,f=e.showOtherDays,x=f!==void 0&&f,y=e.mapDays,I=e.onlyShowInRangeDates,P=e.customWeekDays,L=e.sort,R=e.numberOfMonths,N=e.isRTL,$=e.weekStartDayIndex,C=e.handleFocusedDate,G=e.hideWeekDays,me=e.fullYear,oe=D(e.monthAndYears,1)[0],ae=e.displayWeekNumbers,fe=e.weekNumber,Me=fe===void 0?"":fe,Se=e.rangeHover,Ye=e.highlightToday,De=a.useRef({}),se=a.useRef(),Fe=o.today,he=o.minDate,_=o.maxDate,B=o.range,z=o.multiple,H=o.date,de=o.selectedDate,re=o.onlyMonthPicker,U=o.onlyYearPicker,V=o.mustShowMonthPicker,Q=o.mustShowYearPicker,ie=!re&&!U,ce=D(a.useState(),2),ot=ce[0],Xe=ce[1];De.current.date=H;var $t=a.useMemo((function(){return ie?(function(we,Ge,$e,Ct){if(!we)return[];for(var Ee=[],_t=0;_t<$e;_t++){var kt=(we=new j.default(we).toFirstOfMonth()).monthIndex,Et=[];we.toFirstOfWeek().add(Ct,"day"),we.monthIndex===kt&&we.day>1&&we.subtract(7,"days");for(var mt=0;mt<6;mt++){for(var jt=[],at=0;at<7;at++)jt.push({date:new j.default(we),day:we.format("D"),current:we.monthIndex===kt}),we.day+=1;if(Et.push(jt),mt>2&&we.monthIndex!==kt)break}Ee.push(Et)}return Ee})(De.current.date,0,R,$):[]}),[H.monthIndex,H.year,H.calendar,H.locale,ie,x,R,$]);return ie&&n.default.createElement("div",{ref:se,className:"rmdp-day-picker ".concat(me?"rmdp-full-year":""),style:{display:me?"grid":"flex"},onMouseLeave:function(){return Se&&Xe()},"data-active":ie&&!V&&!Q},$t.map((function(we,Ge){return n.default.createElement("div",{key:Ge,style:ue({},N?"marginLeft":"marginRight",Ge+(me?0:1)<R?"10px":"")},me&&n.default.createElement("div",{className:"rmdp-month-name"},oe[Ge]),!G&&n.default.createElement(E,{state:o,customWeekDays:P,weekStartDayIndex:$,displayWeekNumbers:ae,weekNumber:Me}),we.map((function($e,Ct){return n.default.createElement("div",{key:Ct,className:"rmdp-week"},ae&&n.default.createElement("div",{className:"rmdp-day rmdp-disabled"},n.default.createElement("span",null,$e[0].date.format("WW"))),$e.map((function(Ee,_t){var kt=(function(Te){if(!Te.current&&!x)return{};var Re={};return y.forEach((function(et){var it,tt=et({date:Te.date,today:Fe,currentMonth:o.date.month,selectedDate:o.selectedDate,isSameDate:X});((it=tt)===null||it===void 0?void 0:it.constructor)!==Object&&(tt={}),(tt.disabled||tt.hidden)&&(Te.disabled=!0),tt.hidden&&(Te.hidden=!0),Re=g(g({},Re),tt)})),delete Re.disabled,delete Re.hidden,Re})(Ee={date:Ee.date,day:Ee.day,current:Ee.current}),Et=ye(Ee)&&!Ee.disabled,mt="".concat(Et?"sd":""),jt=kt.children;Et&&(mt="".concat(mt," ").concat(kt.className||"")),delete kt.className,delete kt.children;var at=(function(Te,Re){var et=["rmdp-day"],it=Te.date,tt=Te.hidden,Qt=Te.current;if(!ye(Te)||tt)et.push("rmdp-day-hidden");else{(he&&it<he||_&&it>_||Te.disabled)&&(et.push("rmdp-disabled"),Te.disabled||(Te.disabled=!0)),Qt||et.push("rmdp-deactive");var zt=Re>1&&Qt||Re===1;Te.disabled&&I||(X(it,Fe)&&Ye&&et.push("rmdp-today"),Ht=it,[].concat(de).some((function(Rt){return X(Rt,Ht)}))&&zt&&!B&&et.push("rmdp-selected")),B&&!Te.disabled&&zt&&(et.push(ve(it,de,void 0,z)),et=et.concat(Le(it,de,ot,Se,void 0,z)))}var Ht;return et.join(" ")})(Ee,R);return(Ee.hidden||Ee.disabled)&&(mt=mt.replace("sd","")),n.default.createElement("div",{key:_t,tabIndex:-1,"aria-label":"Choose ".concat(Ee.date.format(te)),className:at,onMouseEnter:function(){return Se&&Xe(Ee.date)},onKeyDown:function(Te){return ct(Te,Ee,{format:te})},onClick:function(){ye(Ee)&&!Ee.disabled&&(function(Te,Re,et){var it,tt,Qt,zt=Te.date,Ht=Te.current,Rt=o.selectedDate,fr=o.focused,Tt=o.date,hr=Tt,yr=hr.hour,Pr=hr.minute,br=hr.second;zt.set({hour:((it=Rt)===null||it===void 0?void 0:it.hour)||yr,minute:((tt=Rt)===null||tt===void 0?void 0:tt.minute)||Pr,second:((Qt=Rt)===null||Qt===void 0?void 0:Qt.second)||br}),et!==1||Ht?et>1&&!Ht&&(Re===0&&zt<Tt&&(Tt=new j.default(Tt).toFirstOfMonth()),Re>0&&zt.monthIndex>Tt.monthIndex+Re&&Re+1===et&&(Tt=new j.default(Tt).toFirstOfMonth().add(1,"month"))):Tt=new j.default(Tt).toFirstOfMonth();var pr=D(q(zt,L,o),2);Rt=pr[0],fr=pr[1],c(Rt,g(g({},o),{},{date:Tt,focused:fr,selectedDate:Rt})),C(fr,zt)})(Ee,Ge,R)}},n.default.createElement("span",T({className:mt},kt),ye(Ee)&&!Ee.hidden?jt!=null?jt:Ee.day:""))})))})))})));function ye(we){return!!we.current||x}}function qe(e){var o=e.direction,c=e.onClick,f=e.disabled,x=e.onKeyDown;return n.default.createElement("button",{type:"button",className:"rmdp-arrow-container ".concat(o," ").concat(f?"disabled":""),onClick:c,onKeyDown:x,"aria-roledescription":"button to navigate ".concat(o.replace("rmdp-",""))},n.default.createElement("i",{className:"rmdp-arrow"}))}function Je(e){var o=e.state,c=e.setState,f=e.disableYearPicker,x=e.disableMonthPicker,y=e.buttons,I=e.renderButton,P=e.handleMonthChange,L=e.disabled,R=e.hideMonth,N=e.hideYear,$=e.isRTL,C=e.fullYear,G=D(e.monthAndYears,2),me=G[0],oe=G[1],ae=e.monthYearSeparator,fe=e.formatMonth,Me=e.formatYear,Se=e.headerOrder,Ye=e.onYearChange,De={},se=o.date,Fe=o.onlyMonthPicker,he=o.onlyYearPicker,_=o.mustShowYearPicker,B=o.minDate,z=o.maxDate,H=o.year,de=o.today,re=B&&se.year<=B.year&&B.monthIndex>se.monthIndex-1,U=z&&se.year>=z.year&&z.monthIndex<se.monthIndex+1,V=de.year+7;if(V-=12*Math.floor((V-H)/12),(R||C)&&N&&!y)return null;if((Fe||C)&&(B&&B.year>=se.year&&(re=!0),z&&z.year<=se.year&&(U=!0)),_||he){var Q=V-11;re=B&&B.year>Q,U=z&&z.year<V}return L&&(re=!0,U=!0),n.default.createElement("div",{className:"rmdp-header"},n.default.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},Array.from(new Set(Se)).map((function(ye,we){return n.default.createElement(a.Fragment,{key:we},(function(Ge){switch(Ge){case"LEFT_BUTTON":return y&&ot("left");case"RIGHT_BUTTON":return y&&ot("right");case"MONTH_YEAR":case"YEAR_MONTH":if(C)return n.default.createElement("div",{className:"rmdp-header-values",style:De},!N&&se.format("YYYY"));var $e=Ge.split("_").filter((function(Ct){return Ct==="MONTH"&&!R||Ct==="YEAR"&&!N}));return $e.length>1&&($e=[$e[0],ce(),$e[1]]),me.map((function(Ct,Ee){return n.default.createElement("div",{key:Ee,className:"rmdp-header-values",style:De},$e.map((function(_t,kt){return n.default.createElement(a.Fragment,{key:kt},(function(Et,mt,jt){switch(Et){case"MONTH":return n.default.createElement("span",{tabIndex:0,onKeyDown:ie,style:{cursor:L||x||Fe?"default":"pointer"},onClick:function(at){return!x&&$t("mustShowMonthPicker",at)}},(function(at,Te){return typeof fe=="function"?fe(at,Te):at})(mt,oe[jt]));case"YEAR":return n.default.createElement("span",{tabIndex:0,onKeyDown:ie,style:{cursor:L||f||he?"default":"pointer"},onClick:function(at){return!f&&$t("mustShowYearPicker",at)}},(function(at,Te){return typeof fe=="function"?Me(at,Te):at})(oe[jt],mt));default:return Et}})(_t,Ct,Ee))})))}));default:return}})(ye))}))));function ie(ye){var we=ye.currentTarget,Ge=ye.key,$e=ye.code;$e==="Space"||Ge===" "?(ye.preventDefault(),we.click()):$e==="ArrowDown"&&(ye.preventDefault(),nt(Oe(ye.target)))}function ce(){return ae?n.default.createElement("span",null,ae):$?"ØŒ":","}function ot(ye){var we=function($e){$e.preventDefault(),Xe(ye==="right"?1:-1,$e)},Ge=ye==="left"&&re||ye==="right"&&U;return I instanceof Function?I(ye,we,Ge,ie):a.isValidElement(I)?a.cloneElement(I,{direction:ye,handleClick:we,disabled:Ge,onKeyDown:ie}):n.default.createElement(qe,{direction:"rmdp-".concat(ye),onClick:we,onKeyDown:ie,disabled:Ge})}function Xe(ye,we){L||ye<0&&re||ye>0&&U||(C?(se.year+=ye,Ye==null||Ye(new j.default(se))):_||he?(H+=12*ye,ye<0&&B&&H<B.year&&(H=B.year),ye>0&&z&&H>z.year&&(H=z.year)):(se.toFirstOfMonth(),Fe?se.year+=ye:(se.month+=ye,P(se))),c(g(g({},o),{},{date:se,year:H})),nt(Oe(we.target),void 0,!1))}function $t(ye,we){if(!L){var Ge={mustShowMonthPicker:!1,mustShowYearPicker:!1};Ge[ye]=!o[ye],c(g(g({},o),Ge)),nt(Oe(we.target),void 0,!1)}}}function gt(e){return p(e)||(e=[]),JSON.stringify(e)}var ut="MMMM of YYYY";function yt(e){var o=e.state,c=e.onChange,f=e.customMonths,x=e.sort,y=e.handleMonthChange,I=e.handleFocusedDate,P=e.rangeHover,L=e.highlightToday,R=e.numberOfMonths,N=o.date,$=o.today,C=o.minDate,G=o.maxDate,me=o.calendar,oe=o.locale,ae=o.onlyMonthPicker,fe=o.onlyYearPicker,Me=o.range,Se=o.onlyShowInRangeDates,Ye=(o.mustShowMonthPicker||ae)&&!fe,De=D(a.useState(),2),se=De[0],Fe=De[1];f=f&&gt(f);var he=a.useMemo((function(){var z=[],H=ae?R:1,de=f&&JSON.parse(f),re=new j.default({calendar:me,locale:oe,format:o.date._format,year:o.date.year,month:1,day:1});p(de)&&de.length>=12?(de.length=12,de=de.map((function(Xe){return p(Xe)?Xe[0]:Xe}))):de=re.locale.months.map((function(Xe){return D(Xe,1)[0]}));for(var U=0;U<H;U++){for(var V=[],Q=0,ie=0;ie<4;ie++){for(var ce=[],ot=0;ot<3;ot++)ce.push({date:new j.default(re),name:de[Q]}),Q++,re.add(1,"month");V.push(ce)}z.push(V)}return z}),[me,oe,f,o.date.year,o.date._format,R,ae]);return n.default.createElement("div",{className:"".concat(ae?"only ":"","rmdp-month-picker"),style:{display:Ye?"flex":"none"},"data-active":Ye,onMouseLeave:function(){return P&&Fe()}},he.map((function(z,H){return n.default.createElement("div",{key:H,style:{margin:"0 5px",flex:1}},z.map((function(de,re){return n.default.createElement("div",{key:re,className:"rmdp-ym"},de.map((function(U,V){var Q=U.date,ie=U.name;return n.default.createElement("div",{key:V,"aria-label":"Select ".concat(Q.format(ut)),tabIndex:-1,onKeyDown:function(ce){return ct(ce,{date:Q},{format:ut,type:"month"})},className:B(Q),onClick:function(ce){return _(Q,ce)},onMouseEnter:function(){return P&&Fe(Q)}},n.default.createElement("span",{className:ae?"sd":""},ie))})))})))})));function _(z,H){var de=o.selectedDate,re=o.focused,U=z.year,V=z.monthIndex;if(!(C&&U<=C.year&&V<C.monthIndex||G&&U>=G.year&&V>G.monthIndex)){if(N.setMonth(V+1),ae){var Q=D(q(z,x,o),2);de=Q[0],re=Q[1]}else y(N),nt(Oe(H.target));c(ae?de:void 0,g(g({},o),{},{date:N,focused:re,selectedDate:de,mustShowMonthPicker:!1})),ae&&I(re,z)}}function B(z){var H=["rmdp-day"],de=z.year,re=z.monthIndex,U=o.selectedDate,V=o.multiple;if((C&&(de<C.year||de===C.year&&re<C.monthIndex)||G&&(de>G.year||de===G.year&&re>G.monthIndex))&&H.push("rmdp-disabled"),!H.includes("rmdp-disabled")||!Se)return X($,z,!0)&&L&&H.push("rmdp-today"),ae?Me?(H.push(ve(z,U,!0,V)),H=H.concat(Le(z,U,se,P,"month",V))):[].concat(U).some((function(Q){return X(Q,z,!0)}))&&H.push("rmdp-selected"):N.monthIndex===re&&H.push("rmdp-selected"),H.join(" ")}}function Dt(e,o){return e.replace(/[0-9]/g,(function(c){return o[c]}))}var It="YYYY";function Pt(e){var o=e.state,c=e.onChange,f=e.sort,x=e.handleFocusedDate,y=e.onYearChange,I=e.rangeHover,P=e.highlightToday,L=o.date,R=o.today,N=o.minDate,$=o.maxDate,C=o.onlyYearPicker,G=o.range,me=o.onlyShowInRangeDates,oe=o.year,ae=o.mustShowYearPicker||C,fe=L.digits,Me=D(a.useState(),2),Se=Me[0],Ye=Me[1],De=R.year-4;De-=12*Math.ceil((De-oe)/12);var se=a.useMemo((function(){for(var _=[],B=De,z=0;z<4;z++){for(var H=[],de=0;de<3;de++)H.push(B),B++;_.push(H)}return _}),[De]);return n.default.createElement("div",{className:"".concat(C?"only ":"","rmdp-year-picker"),style:{display:ae?"block":"none"},"data-active":ae},se.map((function(_,B){return n.default.createElement("div",{key:B,className:"rmdp-ym",onMouseLeave:function(){return I&&Ye()}},_.map((function(z,H){return n.default.createElement("div",{key:H,"aria-label":"Select year ".concat(z),tabIndex:-1,onKeyDown:function(de){return ct(de,{year:z,date:L},{format:It,type:"year"})},className:Fe(z),onClick:function(de){return(function(re,U){if(!he(re)){var V=new j.default(o.date).setYear(re),Q=o.selectedDate,ie=o.focused;if(C){var ce=D(q(V,f,o),2);Q=ce[0],ie=ce[1]}else N&&V.monthIndex<N.monthIndex?V=V.setMonth(N.monthIndex+1):$&&V.monthIndex>$.monthIndex&&(V=V.setMonth($.monthIndex+1)),y==null||y(V),nt(Oe(U.target));c(C?Q:void 0,g(g({},o),{},{date:V,focused:ie,selectedDate:Q,mustShowYearPicker:!1})),C&&x(ie,V)}})(z,de)},onMouseEnter:function(){return I&&Ye(z)}},n.default.createElement("span",{className:C?"sd":""},Dt(z.toString(),fe)))})))})));function Fe(_){var B=["rmdp-day"],z=o.date,H=o.selectedDate,de=o.multiple;if(he(_)&&B.push("rmdp-disabled"),!B.includes("rmdp-disabled")||!me){if(R.year===_&&P&&B.push("rmdp-today"),C)if(G){var re=function(U){var V=U[0],Q=U[1];if(U.length===1){if(_===V.year&&B.push("rmdp-range"),I){var ie=U[0].year;(_>ie&&_<=Se||_<ie&&_>=Se)&&(B.push("rmdp-range-hover"),_===Se&&B.push(Se>ie?"end":"start"))}}else U.length===2&&(_>=V.year&&_<=Q.year&&B.push("rmdp-range"),_===V.year&&B.push("start"),_===Q.year&&B.push("end"))};de?(p(H)?H:[[H]]).forEach((function(U){return re(U)})):re(H)}else[].concat(H).some((function(U){return U&&U.year===_}))&&B.push("rmdp-selected");else _===z.year&&B.push("rmdp-selected");return B.join(" ")}}function he(_){return N&&_<N.year||$&&_>$.year}}function Yt(e,o,c){return c||(e?"MM/YYYY":o?"YYYY":"YYYY/MM/DD")}function ze(e,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"YYYY/MM/DD";return e instanceof j.default?e.set({calendar:o,format:c}):e=new j.default({date:e,calendar:o,format:c}),e}function xt(e){"_self"in n.default.createElement("div")&&console.warn(e.join(`
`))}var He=new j.default,Ve=He.calendar,At=He.locale;function St(e,o){return e&&e.constructor!==Object&&(xt(l("calendar")),e=void 0),o&&o.constructor!==Object&&(xt(l("locale")),o=void 0),[e||Ve,o||At]}function l(e){return["".concat(e," must be an object"),"https://shahabyazdi.github.io/react-multi-date-picker/calendars/"]}function m(e){return e&&e.name?e.name.split("_")[1]:""}function k(e){return["fa","ar"].includes(m(e))}function S(e,o){o===void 0&&(o={});var c=o.insertAt;if(e&&typeof document!="undefined"){var f=document.head||document.getElementsByTagName("head")[0],x=document.createElement("style");x.type="text/css",c==="top"&&f.firstChild?f.insertBefore(x,f.firstChild):f.appendChild(x),x.styleSheet?x.styleSheet.cssText=e:x.appendChild(document.createTextNode(e))}}S(".rmdp-wrapper{background-color:#fff;border-radius:5px;direction:ltr;text-align:center;width:max-content}.rmdp-shadow{box-shadow:0 0 5px #8798ad}.rmdp-border{border:1px solid #cfd8e2}.rmdp-calendar{height:max-content;padding:4px}.rmdp-border-top{border-top:1px solid #cfd8e2}.rmdp-border-bottom{border-bottom:1px solid #cfd8e2}.rmdp-border-left{border-left:1px solid #cfd8e2}.rmdp-border-right{border-right:1px solid #cfd8e2}.rmdp-week,.rmdp-ym{display:flex;justify-content:space-between}.rmdp-ym{height:25%}.rmdp-day,.rmdp-week-day{color:#000;cursor:pointer;height:34px;position:relative;width:34px}.rmdp-calendar :focus{outline-color:#00539c}.rmdp-day:not(.rmdp-range):focus{border-radius:50%}.rmdp-ym .rmdp-day:not(.rmdp-range):focus{border-radius:15px}.rmdp-week-day{color:#0074d9;cursor:default;font-size:13px;font-weight:500}.rmdp-day span,.rmdp-week-day{display:flex;flex-direction:column;justify-content:center}.rmdp-day span{border-radius:50%;bottom:3px;font-size:14px;left:3px;position:absolute;right:3px;top:3px}.rmdp-day.rmdp-today span{background-color:#7fdbff;color:#fff}.rmdp-day.rmdp-selected span:not(.highlight){background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-day.rmdp-deactive,.rmdp-day.rmdp-disabled{color:#8798ad}.rmdp-day.rmdp-deactive.rmdp-selected span{background-color:#4ca6f5;box-shadow:0 0 3px #bac5d3}.rmdp-ym .rmdp-day{flex:1;margin:auto}.rmdp-ym .rmdp-day span{border-radius:12px;padding:2px 0}.rmdp-range{background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-range-hover{background-color:#7ea6f0;color:#fff}.rmdp-range-hover.start:not(.force),.rmdp-range.start:not(.force){border-bottom-left-radius:50%;border-top-left-radius:50%}.rmdp-range-hover.end:not(.force),.rmdp-range.end:not(.force){border-bottom-right-radius:50%;border-top-right-radius:50%}.rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-ym .rmdp-range.start:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-ym .rmdp-range.end:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}@media (hover:hover){.rmdp-day:not(.rmdp-disabled,.rmdp-day-hidden) span:hover{background-color:#7ea6f0;color:#fff}}.rmdp-day-picker{padding:5px}.rmdp-header{font-size:14px;margin-top:5px;padding:9px 0}.rmdp-month-picker,.rmdp-year-picker{background-color:#fff;border-radius:0 0 5px 5px;bottom:2px;left:2px;position:absolute;right:2px;top:2px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:240px;position:static;width:240px}.rmdp-header-values{color:#000;margin:auto}.rmdp-header-values span{padding:0 0 0 5px}.rmdp-arrow{border:solid #0074d9;border-width:0 2px 2px 0;display:inline-block;height:3px;margin-top:5px;padding:2px;width:3px}.rmdp-right i{margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-left i{margin-left:3px;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-left{left:0}.rmdp-right{right:0}.rmdp-arrow-container{background:transparent;border:none;border-radius:50%;cursor:pointer;display:flex;height:20px;justify-content:center;margin:0 5px;padding:0;width:20px}.rmdp-arrow-container:hover{background-color:#0074d9;box-shadow:0 0 3px #8798ad}.rmdp-arrow-container:hover .rmdp-arrow{border:solid #fff;border-width:0 2px 2px 0}.rmdp-arrow-container.disabled{cursor:default}.rmdp-arrow-container.disabled:hover{background-color:inherit;box-shadow:inherit}.rmdp-arrow-container.disabled .rmdp-arrow,.rmdp-arrow-container.disabled:hover .rmdp-arrow{border:solid gray;border-width:0 2px 2px 0}.rmdp-rtl{direction:rtl}.rmdp-rtl .rmdp-left i{margin-left:0;margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-rtl .rmdp-right i{margin-left:3px;margin-right:0;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-rtl .rmdp-right{left:0;right:auto}.rmdp-rtl .rmdp-left{left:auto;right:0}.rmdp-rtl .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-range.start:not(.force){border-bottom-left-radius:unset;border-bottom-right-radius:50%;border-top-left-radius:unset;border-top-right-radius:50%}.rmdp-rtl .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-range.end:not(.force){border-bottom-left-radius:50%;border-bottom-right-radius:unset;border-top-left-radius:50%;border-top-right-radius:unset}.rmdp-rtl .rmdp-range.start.end:not(.force){border-radius:50%}.rmdp-rtl .rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.start:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}.rmdp-rtl .rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.end:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-day-hidden,.rmdp-day.rmdp-disabled{cursor:default}.rmdp-selected .highlight{box-shadow:0 0 3px #8798ad}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-red:hover{background-color:#ff6687}.rmdp-day:not(.rmdp-deactive) .highlight-red{color:#cc0303}.rmdp-day.rmdp-deactive .highlight-red{color:#e08e8e}.rmdp-day.rmdp-selected .highlight-red{background-color:#ea0034;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-red{background-color:#e4b0ba;color:#fff}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-green:hover{background-color:#4db6ac}.rmdp-day:not(.rmdp-deactive) .highlight-green{color:#00796b}.rmdp-day.rmdp-deactive .highlight-green{color:#7ab3ac}.rmdp-day.rmdp-selected .highlight-green{background-color:#009688;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-green{background-color:#749c98;color:#fff}.rmdp-day-hidden,.rmdp-day-hidden:hover span{background-color:unset;color:transparent}.rmdp-month-name{cursor:default;font-size:14px;margin:3px 0}.rmdp-full-year{grid-template-columns:1fr 1fr 1fr}@media (max-height:450px),(max-width:450px){.rmdp-day,.rmdp-week-day{height:28px;width:28px}.rmdp-day span{font-size:12px;padding-left:.5px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:200px;width:230px}.rmdp-header{padding:3px 0 0}.rmdp-header,.rmdp-month-name{font-size:12px}.rmdp-full-year{grid-template-columns:1fr 1fr}}");var K=["datePickerProps","DatePicker"];function Ae(e,o){var c,f=e.value,x=e.calendar,y=e.locale,I=e.format,P=e.onlyMonthPicker,L=e.onlyYearPicker,R=e.range,N=R!==void 0&&R,$=e.multiple,C=$!==void 0&&$,G=e.className,me=e.role,oe=e.weekDays,ae=e.months,fe=e.children,Me=e.onChange,Se=e.showOtherDays,Ye=e.minDate,De=e.maxDate,se=e.mapDays,Fe=e.disableMonthPicker,he=e.disableYearPicker,_=e.formattingIgnoreList,B=e.onReady,z=e.onlyShowInRangeDates,H=z===void 0||z,de=e.zIndex,re=de===void 0?100:de,U=e.plugins,V=U===void 0?[]:U,Q=e.sort,ie=e.numberOfMonths,ce=ie===void 0?1:ie,ot=e.currentDate,Xe=e.digits,$t=e.buttons,ye=$t===void 0||$t,we=e.renderButton,Ge=e.weekStartDayIndex,$e=Ge===void 0?0:Ge,Ct=e.disableDayPicker,Ee=e.onPropsChange,_t=e.onMonthChange,kt=e.onYearChange,Et=e.onFocusedDateChange,mt=e.readOnly,jt=e.disabled,at=e.hideMonth,Te=e.hideYear,Re=e.hideWeekDays,et=e.shadow,it=et===void 0||et,tt=e.fullYear,Qt=e.displayWeekNumbers,zt=e.weekNumber,Ht=e.weekPicker,Rt=e.rangeHover,fr=e.monthYearSeparator,Tt=e.formatMonth,hr=e.formatYear,yr=e.highlightToday,Pr=yr===void 0||yr,br=e.headerOrder,pr=br===void 0?["LEFT_BUTTON","MONTH_YEAR","RIGHT_BUTTON"]:br,Yr=e.style,Jr=Yr===void 0?{}:Yr,Er=e.autoFocus,Tr=Er!==void 0&&Er;!ot||ot instanceof j.default||(console.warn("currentDate must be instance of DateObject"),ot=void 0),(typeof $e!="number"||$e<0||$e>6)&&($e=0),(typeof ce!="number"||ce<1||L)&&(ce=1),!(C||N||p(f))||N||C||(C=!0),Ht&&(N=!0,C=!1),tt&&(ce=12,P=!1,L=!1),L&&!at&&(at=!0);var xr=D(St(x,y),2);x=xr[0],y=xr[1],I=Yt(P,L,I),_=gt(_),se=[].concat(se).filter(Boolean),V=[].concat.apply([],V);var Lr=D(a.useState({}),2),Lt=Lr[0],Xt=Lr[1],nr={},Ot=a.useRef({mustCallOnReady:!0,currentDate:ot});a.useEffect((function(){Xt((function(M){var xe=Ot.current.currentDate,ge=M.date,pe=M.selectedDate,st=M.initialValue,Ze=M.focused,We=M.mustSortDates;function ft(v){if(v)return v.calendar.name!==x.name&&v.setCalendar(x),v.locale.name!==y.name&&v.setLocale(y),v._format!==I&&v.setFormat(I),v.digits=Xe,v.ignoreList=JSON.parse(_),v}function Mt(v){return new j.default(xe||v)}if(f)if(p(pe=vt(f,x,y,I)))ge||(ge=Mt(pe.flat()[0]));else if(ge&&ce!==1){var er=new j.default(ge).toFirstOfMonth(),sr=new j.default(ge).add(ce-1,P?"years":"months").toLastOfMonth();(pe<er||pe>sr)&&(ge=new j.default(pe))}else ge=Mt(pe);else ge||(ge=Mt({calendar:x,locale:y,format:I})),st&&(pe=void 0);if([].concat(pe).flat().forEach(ft),ft(ge),C||N||p(f)){if(pe||(pe=[]),p(pe)||(pe=C&&N?[[pe]]:[pe]),N&&!C&&pe.length>2){var tr=pe[pe.length-1];pe=[pe[0],tr],Ze=tr}C&&!N&&Q&&!We?(We=!0,pe.sort((function(v,J){return v-J}))):N&&!C&&pe.sort((function(v,J){return v-J}))}else p(pe)&&(pe=pe.flat()[pe.length-1]);return tt&&ge.toFirstOfYear(),delete Ot.current.currentDate,g(g({},M),{},{date:ge,selectedDate:pe,multiple:C,range:N,onlyMonthPicker:P,onlyYearPicker:L,initialValue:M.initialValue||f,value:f,focused:Ze,calendar:x,locale:y,format:I,mustSortDates:We,year:ge.year,today:ft(M.today)||new j.default({calendar:x}),weekPicker:Ht})}))}),[f,x,y,I,P,L,N,C,Q,ce,Xe,_,tt,Ht]),a.useEffect((function(){(Ye||De)&&Xt((function(M){var xe=M.calendar,ge=M.locale,pe=M.format,st=(function(er,sr,tr,v,J){return sr&&(sr=ze(sr,v,J).set({hour:0,minute:0,second:0,millisecond:0})),tr&&(tr=ze(tr,v,J).set({hour:23,minute:59,second:59,millisecond:999})),p(er)&&(er=er.filter((function(Pe){return!(sr&&Pe<sr)&&!(tr&&Pe>tr)}))),[er,sr,tr]})(vt(f,xe,ge,pe),Ye,De,xe,pe),Ze=D(st,3),We=Ze[0],ft=Ze[1],Mt=Ze[2];return g(g({},M),{},{inRangeDates:H?We:M.selectedDate,minDate:ft,maxDate:Mt})}))}),[Ye,De,H,f]),Lt.today&&!Ot.current.isReady&&(Ot.current.isReady=!0),a.useEffect((function(){Ot.current.isReady&&Ot.current.mustCallOnReady&&B instanceof Function&&(Ot.current.mustCallOnReady=!1,B())}),[Ot.current.isReady,B]);var or="rmdp-top-class "+Jt(["top","bottom"]),Wt={top:[],bottom:[],left:[],right:[]},Ar=k((c=Lt.date)===null||c===void 0?void 0:c.locale),Zt={state:Lt,setState:Xt,onChange:ir,sort:Q,handleFocusedDate:lr,isRTL:Ar,fullYear:tt,monthAndYears:(function(){var M=Lt.date;if(!M)return[];for(var xe=[],ge=[],pe=M.digits,st=0;st<ce;st++){var Ze=void 0,We=M.year,ft=M.monthIndex+st;if(P&&(We+=st),ft>11&&(ft-=12,P||We++),p(ae)&&ae.length>=12){var Mt=ae[ft];Ze=p(Mt)?Mt[0]:Mt}else Ze=M.months[ft].name;We=Dt(We.toString(),pe),xe.push(Ze),ge.push(We)}return[xe,ge]})(),rangeHover:Rt,highlightToday:Pr,numberOfMonths:ce},Nr=arguments[0],Fr=Nr.datePickerProps,Sr=Nr.DatePicker,Rr=ne(Nr,K);return a.useEffect((function(){var M=Ot.current.Calendar;M&&nt(M,void 0,Tr&&!Sr)}),[Tr,Lt.today,Sr]),(function(){if(!(!Ot.current.isReady||!p(V))){var M={state:Lt,setState:Xt,registerListener:Wr,calendarProps:Rr,datePickerProps:Fr,handleChange:ir,Calendar:Ot.current.Calendar,DatePicker:Sr,handlePropsChange:ar,handleFocusedDate:function(ge){return lr(ge)},minDate:Ye,maxDate:De},xe=function(ge){return Ct?"bottom":ge.props.position||"right"};V.forEach((function(ge,pe){if(typeof ge.type!="string"){var st={},Ze=xe(ge);if(Wt[Ze]&&!ge.props.disabled){for(var We=0;We<V.length;We++)if(typeof V[We].type!="string"&&!V[We].props.disabled){if(Object.keys(st).length===4)break;var ft=xe(V[We]);["top","bottom"].includes(Ze)?(ft===Ze&&We>pe&&(st.bottom=!0),ft===Ze&&We<pe&&(st.top=!0)):(or.includes("border-top")&&(st.top=!0),or.includes("border-bottom")&&(st.bottom=!0),ft===Ze&&We>pe&&(st.right=!0),ft===Ze&&We<pe&&(st.left=!0))}Wt[Ze].push(a.cloneElement(ge,g({key:pe,position:Ze,nodes:st},M)))}}else ge.type==="mapDays"&&se.push(ge.fn(M))}))}})(),Lt.today?n.default.createElement("div",{ref:function(M){if(M&&(M.date=Lt.date,M.set=function(xe,ge){jt||Xt(g(g({},Lt),{},{date:new j.default(Lt.date.set(xe,ge))}))}),Ot.current.Calendar=M,o instanceof Function)return o(M);o&&(o.current=M)},role:me||"dialog",className:"rmdp-wrapper rmdp-".concat(it?"shadow":"border"," ").concat(G||""),style:g({zIndex:re},Jr)},Wt.top,n.default.createElement("div",{style:{display:"flex"},className:or},Wt.left,!Ct&&n.default.createElement("div",{className:"rmdp-calendar ".concat(Ar?"rmdp-rtl":""," ").concat(Jt(["left","right"]))},n.default.createElement(Je,g(g({},Zt),{},{disableYearPicker:he,disableMonthPicker:Fe,buttons:ye,renderButton:we,handleMonthChange:Ne,disabled:jt,hideMonth:at,hideYear:Te,monthYearSeparator:fr,formatMonth:Tt,formatYear:hr,headerOrder:pr,onYearChange:kt})),n.default.createElement("div",{style:{position:"relative"}},n.default.createElement(Z,g(g({},Zt),{},{showOtherDays:Se,mapDays:se,onlyShowInRangeDates:H,customWeekDays:oe,weekStartDayIndex:$e,hideWeekDays:Re,displayWeekNumbers:Qt,weekNumber:zt})),!tt&&n.default.createElement(n.default.Fragment,null,!Fe&&n.default.createElement(yt,T({},Zt,{customMonths:ae,handleMonthChange:Ne})),!he&&n.default.createElement(Pt,T({},Zt,{onYearChange:kt}))))),Wt.right),Wt.bottom,fe):null;function ir(M,xe){if(M instanceof j.default&&(M=new j.default(M)),!jt){if(M||M===null){if(mt)return;nr.change&&nr.change.forEach((function(pe){return pe(M)}))}if(M||M===null){var ge=Me==null?void 0:Me(M);xe&&ge!==!1&&Xt(xe)}else xe&&Xt(xe);ar({value:M})}}function ar(){var M,xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!mt&&!jt){var ge=g(g(g(g({},Rr),Fr),xe),{},{value:(M=xe.value)!==null&&M!==void 0?M:Lt.selectedDate});delete ge.onPropsChange,Ee==null||Ee(ge)}}function lr(M,xe){mt||jt||Et==null||Et(M,xe)}function Ne(M){_t==null||_t(M)}function Jt(M){return Ct||!p(V)?"":Array.from(new Set(V.map((function(xe){if(!xe.props)return"";var ge=xe.props.position||"right";return M.includes(ge)&&!xe.props.disabled?"rmdp-border-"+ge:""})))).join(" ")}function Wr(M,xe){nr[M]||(nr[M]=[]),nr[M].push(xe)}}var le=a.forwardRef(Ae);function vt(e,o,c,f){var x=[].concat(e).map((function(P){return p(P)?P.map(y).filter(I):y(P)})).filter(I);return p(e)?x:x.flat()[0];function y(P){return P?P instanceof j.default?P:new j.default({date:P,calendar:o,locale:c,format:f}):{}}function I(P){return p(P)||P.isValid}}S('.rmdp-visible{visibility:visible}.rmdp-invisible{visibility:hidden}.rmdp-input{border:1px solid #c0c4d6;border-radius:5px;height:22px;margin:1px 0;padding:2px 5px}.rmdp-input:focus{border:1px solid #a4b3c5;box-shadow:0 0 2px #a4b3c5;outline:none!important}.rmdp-button{background-color:#0074d9;border:none;border-radius:5px;color:#fff;cursor:pointer;display:inline-block;padding:7px 16px;text-align:center;text-decoration:none;transition:.3s}.rmdp-button:hover{background-color:#143ac5;transition:.4s}.rmdp-button:disabled{background-color:#8798ad}.rmdp-action-button{border-radius:unset;color:#2682d3;float:right;font-weight:700;margin:15px 10px 15px 0}.rmdp-action-button,.rmdp-action-button:hover{background-color:transparent}.rmdp-ep-arrow{overflow:hidden;will-change:transform}.rmdp-ep-arrow:after{background-color:#fff;content:"";height:12px;position:absolute;transform:rotate(45deg);width:12px}.rmdp-ep-shadow:after{box-shadow:0 0 6px #8798ad}.rmdp-ep-border:after{border:1px solid #cfd8e2}.rmdp-ep-arrow[direction=top]{border-bottom:1px solid #fff}.rmdp-ep-arrow[direction=left]{border-right:1px solid #fff}.rmdp-ep-arrow[direction=right]{border-left:1px solid #fff;margin-left:-1px}.rmdp-ep-arrow[direction=bottom]{border-top:1px solid #fff;margin-top:-1.5px}.rmdp-ep-arrow[direction=top]:after{left:4px;top:5px}.rmdp-ep-arrow[direction=bottom]:after{left:4px;top:-6px}.rmdp-ep-arrow[direction=left]:after{left:5px;top:3px}.rmdp-ep-arrow[direction=right]:after{left:-6px;top:3px}');var je=["value","calendar","locale","format","onlyMonthPicker","onlyYearPicker","onChange","range","multiple","name","id","title","placeholder","required","style","className","inputClass","disabled","render","weekDays","months","children","inputMode","scrollSensitive","hideOnScroll","minDate","maxDate","formattingIgnoreList","containerClassName","calendarPosition","editable","onOpen","onClose","arrowClassName","zIndex","arrow","fixMainPosition","onPositionChange","onPropsChange","digits","readOnly","shadow","onFocusedDateChange","type","weekPicker","mobileLabels","onOpenPickNewDate","mobileButtons","dateSeparator","multipleRangeSeparator","typingTimeout"],wt=["label"];function kr(e,o){var c=e.value,f=e.calendar,x=e.locale,y=e.format,I=e.onlyMonthPicker,P=e.onlyYearPicker,L=e.onChange,R=e.range,N=R!==void 0&&R,$=e.multiple,C=$!==void 0&&$,G=e.name,me=e.id,oe=e.title,ae=e.placeholder,fe=e.required,Me=e.style,Se=Me===void 0?{}:Me,Ye=e.className,De=Ye===void 0?"":Ye,se=e.inputClass,Fe=e.disabled,he=e.render,_=e.weekDays,B=e.months,z=e.children,H=e.inputMode,de=e.scrollSensitive,re=de===void 0||de,U=e.hideOnScroll,V=e.minDate,Q=e.maxDate,ie=e.formattingIgnoreList,ce=e.containerClassName,ot=ce===void 0?"":ce,Xe=e.calendarPosition,$t=Xe===void 0?"bottom-left":Xe,ye=e.editable,we=ye===void 0||ye,Ge=e.onOpen,$e=e.onClose,Ct=e.arrowClassName,Ee=Ct===void 0?"":Ct,_t=e.zIndex,kt=_t===void 0?100:_t,Et=e.arrow,mt=Et===void 0||Et,jt=e.fixMainPosition,at=e.onPositionChange,Te=e.onPropsChange,Re=e.digits,et=e.readOnly,it=e.shadow,tt=it===void 0||it,Qt=e.onFocusedDateChange,zt=e.type,Ht=e.weekPicker,Rt=e.mobileLabels,fr=e.onOpenPickNewDate,Tt=fr===void 0||fr,hr=e.mobileButtons,yr=hr===void 0?[]:hr,Pr=e.dateSeparator,br=e.multipleRangeSeparator,pr=br===void 0?",":br,Yr=e.typingTimeout,Jr=Yr===void 0?700:Yr,Er=ne(e,je),Tr=D(a.useState(),2),xr=Tr[0],Lr=Tr[1],Lt=D(a.useState(),2),Xt=Lt[0],nr=Lt[1],Ot=D(a.useState(""),2),or=Ot[0],Wt=Ot[1],Ar=D(a.useState(!1),2),Zt=Ar[0],Nr=Ar[1],Fr=D(a.useState(!1),2),Sr=Fr[0],Rr=Fr[1],ir=a.useRef(),ar=a.useRef(),lr=a.useRef(),Ne=a.useRef({isTyping:!1}),Jt=Pr||(N||Ht?" ~ ":", "),Wr=arguments[0],M=typeof De=="string"&&De.includes("rmdp-mobile"),xe=a.useCallback((function(){if(($e==null?void 0:$e())!==!1){var v=mr(ar);if(v&&v.forEach((function(Pe){return Pe.blur()})),Ne.current.mobile){var J=lr.current.parentNode.parentNode;J.classList.remove("rmdp-calendar-container-mobile"),J.style.position="absolute",J.style.visibility="hidden"}Ne.current.validInputValue!==void 0&&(Wt(Ne.current.validInputValue),Ne.current.validInputValue=void 0),Nr(!1),Rr(!1)}}),[$e]),ge=[{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){nr(void 0),xe()},label:Ze("CANCEL")},{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){Xt&&(Mt(Xt,!0),nr(void 0)),xe()},label:Ze("OK")}];M&&!Ne.current.mobile&&(Ne.current=g(g({},Ne.current),{},{mobile:!0})),!M&&Ne.current.mobile&&(Ne.current=g(g({},Ne.current),{},{mobile:!1})),ie=gt(ie),y=Yt(I,P,y);var pe,st=D(St(f,x),2);return f=st[0],x=st[1],a.useEffect((function(){function v(Pe){if(Zt&&!Ne.current.mobile){var Nt=[];if([ar.current,lr.current].forEach((function(Bt){var ht,Vt;!Bt||Bt.contains(Pe.target)||Pe.target.classList.contains("b-deselect")||(ht=Pe.target.parentNode)!==null&&ht!==void 0&&(ht=ht.classList)!==null&&ht!==void 0&&(Vt=ht.contains)!==null&&Vt!==void 0&&Vt.call(ht,"b-deselect")||Nt.push(Bt)})),Nt.length===2)return xe();lr.current&&lr.current.contains(Pe.target)&&(ir.current.removeTransition(),ir.current.refreshPosition())}}function J(){U&&Zt&&xe()}return document.addEventListener("click",v,!1),document.addEventListener("scroll",J,!0),function(){document.removeEventListener("click",v,!1),document.removeEventListener("scroll",J,!0)}}),[xe,o,Zt,U]),a.useEffect((function(){var v=c,J=Ne.current,Pe=J.date,Nt=J.initialValue,Bt=function(){return v[v.length-1]};function ht(Be){if(Be)return Be instanceof j.default||(Be=new j.default({date:Be,calendar:f,locale:x,format:y})),Be.calendar!==f&&Be.setCalendar(f),Be.set({weekDays:_,months:B,digits:Re,locale:x,format:y,ignoreList:JSON.parse(ie)}),Be}c||Nt||!Pe?Nt&&!c&&(Nt=void 0):v=Pe;var Vt="";if(N||C||p(v)){var Br=function(Be){return Be=Be.map(ht).filter((function($r){return $r!==void 0})),N&&Be.length>2&&(Be=[Be[0],Bt()]),[Be,Ft(Be,Jt)]};if(p(v)||(v=N&&C?v?[[v]]:[]:[v]),C&&N)v=v.map((function(Be,$r){var fn=D(Br(p(Be)?Be:[Be]),2),Rn=fn[0],Wn=fn[1];return Vt+=Wn+($r<v.length-1?" ".concat(pr," "):""),Rn}));else{var Vr=D(Br(v),2);v=Vr[0],Vt=Vr[1]}Vt=Vt.toString().replace(/\s,\s$/,"")}else p(v)&&(v=Bt()),(v=ht(v))&&(Vt=v.format());Ne.current.isTyping||Wt(Vt),Ne.current=g(g({},Ne.current),{},{date:v,separator:Jt,initialValue:Nt||c}),Ne.current.mobile&&ir.current.isOpen?nr(v):(Ne.current.validInputValue=void 0,Lr(v))}),[c,f,x,y,N,C,Jt,I,P,_,B,Re,ie]),a.useEffect((function(){var v=Ne.current.selection;if(v){var J=mr(ar);J.length!==0&&(J.forEach((function(Pe){document.activeElement===Pe&&(Pe.setSelectionRange(v,v),Ne.current.selection=void 0)})),ir.current.refreshPosition())}}),[or]),(C||N||p(xr)||!we)&&(H="none"),n.default.createElement(A.default,T({ref:function(v){if(v&&(v.openCalendar=function(){return setTimeout((function(){return We()}),10)},v.closeCalendar=xe,v.isOpen=Zt&&Sr),ir.current=v,o instanceof Function)return o(v);o&&(o.current=v)},element:he?n.default.createElement("div",{ref:ar},a.isValidElement(he)?a.cloneElement(he,{value:or,openCalendar:We,onFocus:We,handleValueChange:er,onChange:er,locale:x,separator:Jt}):he instanceof Function?he(or,We,er,x,Jt):null):n.default.createElement("input",{ref:ar,type:zt||"text",name:G,id:me,title:oe,required:fe,onFocus:We,className:se||"rmdp-input",placeholder:ae,value:or,onChange:er,style:Se,autoComplete:"off",disabled:!!Fe,inputMode:H||(M?"none":void 0),readOnly:et}),popper:Zt&&n.default.createElement(le,T({ref:lr,value:Xt||xr,onChange:Mt,range:N,multiple:C,calendar:f,locale:x,format:y,onlyMonthPicker:I,onlyYearPicker:P,className:De+(M?" rmdp-mobile":""),weekDays:_,months:B,digits:Re,minDate:V,maxDate:Q,formattingIgnoreList:JSON.parse(ie),onPropsChange:Te,shadow:tt,onReady:sr,DatePicker:ir.current,datePickerProps:Wr,onFocusedDateChange:tr,weekPicker:Ht},Er),z,M&&(pe=[].concat.apply([],Wr.plugins||[]).some((function(v){var J=v.props;return!(J===void 0?{}:J).disabled})),p(yr)&&n.default.createElement("div",{className:"rmdp-action-buttons ".concat(k(x)?"rmdp-rtl":""," ").concat(pe?"rmdp-border-top":"")},yr.concat(ge).map((function(v,J){var Pe=v.label,Nt=ne(v,wt);return n.default.createElement("button",T({key:J},Nt),Pe)}))))),active:!M&&Sr,position:$t,arrow:!M&&mt,fixMainPosition:!re||jt,zIndex:kt,onChange:!M&&at,containerClassName:"rmdp-container ".concat(ot),arrowClassName:["rmdp-ep-arrow","rmdp-ep-".concat(tt?"shadow":"border"),De,Ee].join(" ")},Er));function Ze(v){var J,Pe=x||new j.default().locale;return typeof Pe.name!="string"?v:(Rt==null?void 0:Rt[v])||((J={en:{OK:"OK",CANCEL:"CANCEL"},fa:{OK:"ØªØ£ÛŒÛŒØ¯",CANCEL:"Ù„ØºÙˆ"},ar:{OK:"ØªØ£ÙƒÙŠØ¯",CANCEL:"Ø§Ù„ØºØ§Ø¡"},hi:{OK:"à¤ªà¥à¤·à¥à¤Ÿà¤¿",CANCEL:"à¤°à¤¦à¥à¤¦ à¤•à¤°à¥‡à¤‚"}}[m(Pe)])===null||J===void 0?void 0:J[v])||v}function We(){if(!Fe&&!et&&(Ge==null?void 0:Ge())!==!1){if(Tt&&!c&&!Ne.current.date&&!N&&!C&&!M){var v=new j.default({calendar:f,locale:x,format:y,months:B,weekDays:_,digits:Re,ignoreList:JSON.parse(ie)});(!V||v>ze(V,f,y))&&(!Q||v<ze(Q,f,y))&&(Mt(v),Te==null||Te(g(g({},Wr),{},{value:v})),Ne.current.date=v)}var J=mr(ar);M&&J.length>0&&J.forEach((function(Pe){return Pe.blur()})),J.length>0||!Zt?Nr(!0):xe()}}function ft(v){var J="";return v&&(J=C&&N&&p(v)?v.map((function(Pe){return Ft(Pe,Jt)})).join(" ".concat(pr," ")):Ft(v,Jt)),J}function Mt(v,J,Pe){if(M&&!J)return nr(v);var Nt=ft(v),Bt=Pe||Nt.toString().replace(/\s,\s$/,"");return v&&[].concat(v).flat().some((function(ht){return V&&ht<ze(V,f,y)||Q&&ht>ze(Q,f,y)}))?(Ne.current.validInputValue=ft(c||Ne.current.date),Wt(Bt)):(Ne.current.validInputValue=Nt,(L==null?void 0:L(v,{validatedValue:Nt,input:ar.current,isTyping:!!Pe}))===!1?(Wt(or),!1):(Lr(v),Wt(Bt),void(Ne.current=g(g({},Ne.current),{},{date:v}))))}function er(v){if(we){Ne.current.isTyping=!0,setTimeout((function(){Ne.current.isTyping=!1}),Jr),Ne.current.selection=v.target.selectionStart;var J=v.target.value,Pe={calendar:f,locale:x,format:y,ignoreList:JSON.parse(ie)};if(Re=p(Re)?Re:x.digits,!J)return Wt(""),Mt(null);if(Re){var Nt,Bt,ht=F(Re);try{for(ht.s();!(Nt=ht.n()).done;){var Vt=Nt.value;J=J.replace(new RegExp(Vt,"g"),Re.indexOf(Vt))}}catch(Be){ht.e(Be)}finally{ht.f()}Bt=p(xr)?C&&N?(J||"").split(pr).filter(Boolean).map(Vr):Vr(J):Br(J),Mt(p(xr)||Bt.isValid?Bt:null,void 0,Dt(J,Re))}}function Br(Be){return/(?=.*Y)(?=.*M)(?=.*D)/.test(y)?new j.default(g(g({},Pe),{},{date:Be})):new j.default(Pe).parse(Be)}function Vr(Be){return(Be||"").split(Jt).filter(Boolean).map((function($r){return Br($r.trim())}))}}function sr(){if(Rr(!0),M){var v=lr.current.parentNode.parentNode;v.className="rmdp-calendar-container-mobile",v.style.position="fixed",v.style.transform="",setTimeout((function(){v.style.visibility="visible"}),50)}}function tr(v,J){p(Ne.current.date)||!J||M||xe(),Qt==null||Qt(v,J)}}var jr=a.forwardRef(kr);function Ft(e,o){var c=[].concat(e).map((function(f){return f!=null&&f.isValid?f.format():""}));return c.toString=function(){return this.filter(Boolean).join(o)},c}function mr(e){return e.current?e.current.tagName==="INPUT"?[e.current]:Array.from(e.current.querySelectorAll("input")):[]}Object.defineProperty(s,"DateObject",{enumerable:!0,get:function(){return j.default}}),s.Calendar=le,s.default=jr,s.getAllDatesInRange=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(e))return[];var c=e[0],f=e[e.length-1],x=[];if(!(c instanceof j.default&&f instanceof j.default&&c.isValid&&f.isValid&&!(c>f)))return[];for(c=new j.default(c),f=new j.default(f);c<=f;c.day++)x.push(o?c.toDate():new j.default(c));return x},s.toDateObject=ze})(sn)),sn}var Da=Ma();const Ia=qn(Da),{Option:Ue}=zr,Pa=({currentStep:s,newJob:a,setNewJob:d,formData:r,setFormData:i,errors:n,setErrors:A,recentlyUploadedTopicsCount:j,setRecentlyUploadedTopicsCount:Y,recentlyUploadedKeywordsCount:g,setRecentlyUploadedKeywordsCount:ue,showAllTopics:T,setShowAllTopics:ne,showAllKeywords:D,setShowAllKeywords:ke,user:ee,userPlan:h})=>{var Yt,ze,xt,He,Ve,At,St;const F=Xr(),p=Ie.useRef(null);(Yt=ee==null?void 0:ee.subscription)==null||Yt.plan;const{data:E}=Hr(l=>l.wordpress);Ie.useEffect(()=>{var l;(l=E==null?void 0:E.integrations)!=null&&l.size&&i(m=>w(b({},m),{postingType:E.integrations.key().next().value}))},[E]);const X=10,Ce=((ze=ee==null?void 0:ee.usage)==null?void 0:ze.aiImages)>=((xt=ee==null?void 0:ee.usageLimits)==null?void 0:xt.aiImages),q=Pn();Ie.useEffect(()=>{F(Gn())},[F]),Ie.useEffect(()=>()=>{var l,m;(m=(l=a==null?void 0:a.blogs)==null?void 0:l.blogImages)==null||m.forEach(k=>{k instanceof File&&URL.revokeObjectURL(URL.createObjectURL(k))})},[a.blogs.blogImages]),Ie.useEffect(()=>{Ce&&a.blogs.isCheckedGeneratedImages&&d(l=>w(b({},l),{blogs:w(b({},l.blogs),{isCheckedGeneratedImages:!1,imageSource:"stock"})}))},[Ce,a.blogs.isCheckedGeneratedImages]);const ve=[{id:"stock",label:"Stock Images",value:"stock",restricted:!1},{id:"ai",label:"AI-Generated Images",value:"ai",restricted:h==="free",featureName:"AI-Generated Images",isAiImagesLimitReached:Ce}],Le=l=>{i(m=>w(b({},m),{postingType:l})),A(m=>w(b({},m),{postingType:!1}))},W=(l,m)=>{const k=l.trim();if(!k)return;const S=m==="topics"?a.blogs.topics.map(le=>le.toLowerCase().trim()):r.keywords.map(le=>le.toLowerCase().trim()),K=new Set,Ae=k.split(",").map(le=>le.trim()).filter(le=>{const vt=le.toLowerCase();return!le||K.has(vt)||S.includes(vt)?!1:(K.add(vt),!0)});Ae.length!==0&&(m==="topics"?(i(le=>w(b({},le),{topicInput:""})),d(le=>w(b({},le),{blogs:w(b({},le.blogs),{topics:[...le.blogs.topics,...Ae]})})),A(le=>w(b({},le),{topics:!1}))):(i(le=>w(b({},le),{keywords:[...le.keywords,...Ae],keywordInput:""})),d(le=>w(b({},le),{blogs:w(b({},le.blogs),{keywords:[...le.blogs.keywords,...Ae]})})),A(le=>w(b({},le),{keywords:!1}))))},Oe=l=>{const{name:m,value:k,type:S}=l.target;let K;S==="tel"?k===""?K="":(K=parseInt(k,10),K<0&&(K=0),K>20&&(K=20)):K=k,d(Ae=>w(b({},Ae),{blogs:w(b({},Ae.blogs),{[m]:K})}))},be=(l,m)=>{var Ae;const k=(Ae=l.target.files)==null?void 0:Ae[0];if(!k){pt.error("No file selected. Please choose a valid CSV file.");return}if(!k.name.toLowerCase().endsWith(".csv")){pt.error("Invalid file type. Please upload a .csv file."),l.target.value=null;return}const S=20*1024;if(k.size>S){pt.error("File size exceeds 20KB limit. Please upload a smaller file."),l.target.value=null;return}const K=new FileReader;K.onload=le=>{var mr;const vt=(mr=le.target)==null?void 0:mr.result;if(!vt||typeof vt!="string"){pt.error("Failed to read the CSV file. Please ensure it is valid.");return}let je=vt.trim().split(/\r?\n/);if(je.length===0){pt.error("The CSV file is empty. Please provide a valid CSV with topics or keywords.");return}m.charAt(0).toUpperCase()+m.slice(1),je[0].toLowerCase().includes(m)&&(je=je.slice(1));const wt=je.map(e=>e.split(",").map(c=>c.trim()).find(c=>c)||null).filter(e=>e&&e.trim().length>0);if(wt.length===0){pt.warning(`No valid ${m} found in the CSV file.`);return}const kr=m==="topics"?a.blogs.topics.map(e=>e.toLowerCase().trim()):r.keywords.map(e=>e.toLowerCase().trim()),jr=new Set,Ft=wt.filter(e=>{const o=e.toLowerCase().trim();return!e||jr.has(o)||kr.includes(o)?!1:(jr.add(o),!0)});if(Ft.length===0){pt.warning(`No new ${m} found in the CSV. All provided items are either duplicates or already exist.`);return}m==="topics"?(d(e=>w(b({},e),{blogs:w(b({},e.blogs),{topics:[...e.blogs.topics,...Ft]})})),A(e=>w(b({},e),{topics:!1}))):(i(e=>w(b({},e),{keywords:[...e.keywords,...Ft]})),d(e=>w(b({},e),{blogs:w(b({},e.blogs),{keywords:[...e.blogs.keywords,...Ft]})})),A(e=>w(b({},e),{keywords:!1}))),pt.success(`${Ft.length} new ${m} added from CSV.`),m==="topics"?(Y(Ft.length),setTimeout(()=>Y(null),5e3)):(ue(Ft.length),setTimeout(()=>ue(null),5e3))},K.onerror=()=>{pt.error("An error occurred while reading the CSV file.")},K.readAsText(k),l.target.value=null},ct=l=>{const{name:m,checked:k}=l.target;if(m==="wordpressPosting"&&k&&!(Object.keys((E==null?void 0:E.integrations)||{}).length>0)){pt.error("Please connect your account in plugins.");return}d(S=>w(b({},S),{options:w(b({},S.options),{[m]:k})})),m==="performKeywordResearch"&&(i(S=>w(b({},S),{performKeywordResearch:k})),A(S=>w(b({},S),{keywords:!1})))},nt=l=>{const{value:m}=l.target;let k;m===""?k="":(k=parseInt(m,10),isNaN(k)&&(k=""),k>X&&(k=X),k<0&&(k=0)),d(S=>w(b({},S),{blogs:w(b({},S.blogs),{numberOfBlogs:k})})),A(S=>w(b({},S),{numberOfBlogs:!1}))},te=D?r.keywords.slice().reverse():r.keywords.slice().reverse().slice(0,18),Z=T?a.blogs.topics.slice().reverse():a.blogs.topics.slice().reverse().slice(0,18),qe=l=>{d(m=>w(b({},m),{blogs:w(b({},m.blogs),{imageSource:l,isstockActive:l==="stock"})})),A(m=>w(b({},m),{imageSource:!1}))},Je=l=>{const S=["image/jpeg","image/png","image/webp"];if(!l||l.length===0)return[];const K=Array.from(l).filter(le=>S.includes(le.type)?le.size>5242880?(pt.error(`"${le.name}" exceeds the 5 MB size limit.`),!1):!0:(pt.error(`"${le.name}" is not a valid image type. Only PNG, JPEG, and WebP are allowed.`),!1));return a.blogs.blogImages.length+K.length>15?(pt.error("Cannot upload more than 15 images."),K.slice(0,15-a.blogs.blogImages.length)):K},gt=l=>{const m=l.target.files;if(!m||m.length===0)return;const k=Je(m);k.length>0&&(d(S=>w(b({},S),{blogs:w(b({},S.blogs),{blogImages:[...S.blogs.blogImages,...k]})})),pt.success(`${k.length} image(s) added successfully!`)),p.current&&(p.current.value="")},ut=l=>{l.preventDefault(),l.stopPropagation(),i(S=>w(b({},S),{isDragging:!1}));const m=l.dataTransfer.files;if(!m||m.length===0)return;const k=Je(m);k.length>0&&d(S=>w(b({},S),{blogs:w(b({},S.blogs),{blogImages:[...S.blogs.blogImages,...k]})}))},yt=l=>{l.preventDefault(),l.stopPropagation(),i(m=>w(b({},m),{isDragging:!0}))},Dt=l=>{l.preventDefault(),l.stopPropagation(),i(m=>w(b({},m),{isDragging:!1}))},It=l=>{d(m=>w(b({},m),{blogs:w(b({},m.blogs),{blogImages:m.blogs.blogImages.filter((k,S)=>S!==l)})}))},Pt=Ie.useCallback(l=>{d(m=>w(b({},m),{blogs:w(b({},m.blogs),{templates:l.map(k=>k.name)}),templateIds:l.map(k=>k.id)})),A(m=>w(b({},m),{templates:!1}))},[]);switch(s){case 1:return t.jsxs(rr.div,{initial:{opacity:0},animate:{opacity:1},className:`space-y-4 sm:space-y-6 ${Kn(n.templates&&"border-2 border-red-500 rounded-lg")}`,children:[t.jsx(ua,{numberOfSelection:3,userSubscriptionPlan:h!=null?h:"free",preSelectedIds:(Ve=(He=a==null?void 0:a.blogs)==null?void 0:He.templates)!=null?Ve:[],onClick:Pt}),t.jsx("p",{className:`text-sm ${n!=null&&n.templates?"text-red-500":"text-gray-600"}  my-3 sm:mb-4 px-4`,children:n!=null&&n.templates?n.templates:"Select up to 3 templates for the types of blogs you want to generate."})]});case 2:return t.jsx(rr.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Name"}),t.jsx("input",{type:"text",value:a.name,placeholder:"Enter job name",onChange:l=>{d(w(b({},a),{name:l.target.value})),A(m=>w(b({},m),{name:!1}))},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${n.name?"border-red-500":"border-gray-200"}`,"aria-label":"Job name"}),n.name&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.name})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-2 flex gap-2 items-center",children:["Topics",t.jsx(en,{title:"Upload a .csv file in the format: `Topics` as header",children:t.jsx(yn,{size:16,className:"text-blue-500 cursor-pointer"})})]}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:r.topicInput||"",onKeyDown:l=>l.key==="Enter"&&W(r.topicInput,"topics"),onChange:l=>i(m=>w(b({},m),{topicInput:l.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${n.topics?"border-red-500":"border-gray-200"}`,placeholder:"Add a topic...","aria-label":"Add topic"}),t.jsx(rr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(r.topicInput,"topics"),className:"px-4 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-lg","aria-label":"Add topic",children:t.jsx(bn,{})}),t.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[t.jsx(xn,{size:16}),t.jsx("input",{type:"file",accept:".csv",onChange:l=>be(l,"topics"),hidden:!0}),t.jsx("span",{className:"sr-only",children:"Upload CSV for topics"})]})]}),n.topics&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.topics}),t.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[Z.map((l,m)=>{const k=a.blogs.topics.length-1-m;return t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[l,t.jsx("button",{type:"button",onClick:()=>d(S=>w(b({},S),{blogs:w(b({},S.blogs),{topics:S.blogs.topics.filter((K,Ae)=>Ae!==k)})})),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none","aria-label":`Remove topic ${l}`,children:t.jsx(nn,{className:"w-3 h-3"})})]},`${l}-${k}`)}),(a.blogs.topics.length>18||j)&&t.jsx("span",{onClick:()=>ne(l=>!l),className:"text-xs font-medium text-blue-600 self-center cursor-pointer flex items-center gap-1",children:T?t.jsx(t.Fragment,{children:"Show less"}):t.jsxs(t.Fragment,{children:[a.blogs.topics.length>18&&`+${a.blogs.topics.length-18} more`,j&&` (+${j} uploaded)`]})})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Perform Keyword Research?",t.jsx("p",{className:"text-xs text-gray-500",children:"Allow AI to find relevant keywords for the topics."})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",name:"performKeywordResearch",checked:r.performKeywordResearch,onChange:ct,className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),!r.performKeywordResearch&&t.jsxs("div",{children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-2 flex gap-2 items-center",children:["Keywords",t.jsx(en,{title:"Upload a .csv file in the format: `Keywords` as header",children:t.jsx(yn,{size:16,className:"text-blue-500 cursor-pointer"})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:r.keywordInput,onChange:l=>i(m=>w(b({},m),{keywordInput:l.target.value})),onKeyDown:l=>l.key==="Enter"&&W(r.keywordInput,"keywords"),className:`flex-1 px-3 py-2 border rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 ${n.keywords?"border-red-500":"border-gray-300"}`,placeholder:"e.g., digital marketing trends, AI in business"}),t.jsx("button",{onClick:()=>W(r.keywordInput,"keywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:t.jsx(bn,{})}),t.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[t.jsx(xn,{size:16}),t.jsx("input",{type:"file",accept:".csv",onChange:l=>be(l,"keywords"),hidden:!0}),t.jsx("span",{className:"sr-only",children:"Upload CSV"})]})]}),n.keywords&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.keywords}),t.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[te.map((l,m)=>{const k=r.keywords.length-1-m;return t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[l,t.jsx("button",{type:"button",onClick:()=>{const S=[...r.keywords];S.splice(k,1),i(K=>w(b({},K),{keywords:S})),d(K=>w(b({},K),{blogs:w(b({},K.blogs),{keywords:S})}))},className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:t.jsx(nn,{className:"w-3 h-3"})})]},`${l}-${k}`)}),(r.keywords.length>18||g)&&t.jsx("span",{onClick:()=>ke(l=>!l),className:"text-xs font-medium text-blue-600 self-center cursor-pointer flex items-center gap-1",children:D?t.jsx(t.Fragment,{children:"Show less"}):t.jsxs(t.Fragment,{children:[r.keywords.length>18&&`+${r.keywords.length-18} more`,g&&` (+${g} uploaded)`]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"tone",className:"block text-sm font-medium text-gray-700 mb-2",children:["Tone of Voice ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs(zr,{className:"w-full",value:a.blogs.tone,onChange:l=>{d(w(b({},a),{blogs:w(b({},a.blogs),{tone:l})})),A(m=>w(b({},m),{tone:!1}))},placeholder:"Select tone",status:n.tone?"error":"",children:[t.jsx(Ue,{value:"",children:"Select Tone"}),t.jsx(Ue,{value:"professional",children:"Professional"}),t.jsx(Ue,{value:"casual",children:"Casual"}),t.jsx(Ue,{value:"friendly",children:"Friendly"}),t.jsx(Ue,{value:"formal",children:"Formal"}),t.jsx(Ue,{value:"conversational",children:"Conversational"}),t.jsx(Ue,{value:"witty",children:"Witty"}),t.jsx(Ue,{value:"informative",children:"Informative"}),t.jsx(Ue,{value:"inspirational",children:"Inspirational"}),t.jsx(Ue,{value:"persuasive",children:"Persuasive"}),t.jsx(Ue,{value:"empathetic",children:"Empathetic"})]}),n.tone&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.tone})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"language",className:"block text-sm font-medium text-gray-700 mb-2",children:["Language ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs(zr,{className:"w-full",value:a.blogs.languageToWrite,onChange:l=>{d(w(b({},a),{blogs:w(b({},a.blogs),{languageToWrite:l})}))},placeholder:"Select language",children:[t.jsx(Ue,{value:"English",children:"English"}),t.jsx(Ue,{value:"Spanish",children:"Spanish"}),t.jsx(Ue,{value:"German",children:"German"}),t.jsx(Ue,{value:"French",children:"French"}),t.jsx(Ue,{value:"Italian",children:"Italian"}),t.jsx(Ue,{value:"Portuguese",children:"Portuguese"}),t.jsx(Ue,{value:"Dutch",children:"Dutch"}),t.jsx(Ue,{value:"Japanese",children:"Japanese"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approx. Blog Length (Words)"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"range",min:"500",max:"5000",value:a.blogs.userDefinedLength,className:"w-full h-1 rounded-lg appearance-none cursor-pointer bg-gradient-to-r from-[#1B6FC9] to-gray-100 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${(a.blogs.userDefinedLength-500)/4500*100}%, #E5E7EB ${(a.blogs.userDefinedLength-500)/4500*100}%)`},onChange:l=>d(w(b({},a),{blogs:w(b({},a.blogs),{userDefinedLength:parseInt(l.target.value)})}))}),t.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[a.blogs.userDefinedLength," words"]})]})]})]})]})});case 3:return t.jsxs(rr.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Add Image"}),t.jsxs("div",{className:"flex items-center",children:[t.jsxs("label",{htmlFor:"add-image-toggle",className:"relative inline-block w-12 h-6",children:[t.jsx("input",{type:"checkbox",id:"add-image-toggle",className:"sr-only peer",checked:a.blogs.isCheckedGeneratedImages,onChange:l=>{const m=l.target.checked;d(k=>w(b({},k),{blogs:w(b({},k.blogs),{isCheckedGeneratedImages:m,imageSource:m?k.blogs.imageSource:"stock"})}))}}),t.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${a.blogs.isCheckedGeneratedImages?"bg-[#1B6FC9]":"bg-gray-300"}`}),t.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 ${a.blogs.isCheckedGeneratedImages?"translate-x-6":""}`})]}),a.blogs.isCheckedGeneratedImages&&Ce&&t.jsx(en,{title:"You've reached your AI image generation limit. It'll reset in the next billing cycle.",overlayInnerStyle:{backgroundColor:"#FEF9C3",border:"1px solid #FACC15",color:"#78350F"},children:t.jsx(dn,{className:"text-yellow-400 ml-4",size:15})})]})]}),a.blogs.isCheckedCustomImages&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Upload Custom Images (Max 15, each 5MB)"}),t.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${r.isDragging?"border-blue-600 bg-blue-50":"border-gray-300 bg-gray-50"}`,onDragOver:yt,onDragLeave:Dt,onDrop:ut,children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drag and drop images here or click to select"}),t.jsx("button",{className:"px-4 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md text-sm",onClick:()=>{var l;return(l=p.current)==null?void 0:l.click()},children:"Select Images"}),t.jsx("input",{type:"file",ref:p,onChange:gt,accept:"image/jpeg,image/png,image/webp",multiple:!0,className:"hidden"})]}),a.blogs.blogImages.length>0&&t.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 gap-4",children:a.blogs.blogImages.map((l,m)=>t.jsxs("div",{className:"relative group",children:[t.jsx("img",{src:l instanceof File?URL.createObjectURL(l):l,alt:l instanceof File?l.name:`Image ${m+1}`,className:"w-full h-24 object-cover rounded-md"}),t.jsx("button",{onClick:()=>It(m),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx(nn,{className:"w-4 h-4"})}),t.jsx("p",{className:"text-xs text-gray-600 truncate mt-1",children:l instanceof File?l.name:`Image ${m+1}`})]},m))})]}),a.blogs.isCheckedGeneratedImages&&!a.blogs.isCheckedCustomImages&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Image Source"}),t.jsx("div",{className:`grid grid-cols-2 gap-4 mx-auto w-full ${n.imageSource?"border-2 border-red-500 rounded-lg p-2":""}`,children:ve.map(l=>{const m=l.value==="ai-generated"&&l.isAiImagesLimitReached,k=l.restricted||m;return t.jsxs("label",{htmlFor:l.id,className:`relative border rounded-lg px-4 py-3 flex items-center gap-3 justify-center cursor-pointer transition-all duration-150
              ${a.blogs.imageSource===l.value?"border-blue-600 bg-blue-50":"border-gray-300"}
              hover:shadow-sm w-full
              ${k?"opacity-50 cursor-not-allowed":""}
            `,onClick:S=>{k&&(S.preventDefault(),cn({featureName:l.featureName||"AI-Generated Images",navigate:q}))},children:[t.jsx("input",{type:"radio",id:l.id,name:"imageSource",value:l.value,checked:a.blogs.imageSource===l.value,onChange:()=>{k||qe(l.value)},className:"hidden",disabled:k}),t.jsx("span",{className:"text-sm font-medium text-gray-800",children:l.label}),(l.restricted||m)&&t.jsx(gn,{className:"w-4 h-4 text-yellow-500 absolute top-2 right-2"})]},l.id)})}),n.imageSource&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.imageSource})]}),t.jsxs("div",{className:"w-full",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Number of Images"}),t.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the number of images (0 = AI will decide)"}),t.jsx("input",{type:"tel",inputMode:"numeric",name:"numberOfImages",min:"0",max:"15",value:(At=a.blogs.numberOfImages)!=null?At:"",onChange:Oe,onWheel:l=>l.currentTarget.blur(),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm placeholder-gray-400 transition",placeholder:"e.g., 5"}),n.numberOfImages&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.numberOfImages})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select AI Model"}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[{id:"gemini",label:"Gemini",logo:"/Images/gemini.webp",restricted:!1},{id:"openai",label:"ChatGPT",logo:"/Images/chatgpt.webp"},{id:"claude",label:"Claude",logo:"/Images/claude.webp"}].map(l=>t.jsxs("label",{htmlFor:l.id,className:`relative border rounded-lg px-4 py-3 flex items-center gap-3 cursor-pointer transition-all duration-150
      ${r.aiModel===l.id?"border-blue-600 bg-blue-50":"border-gray-300"}
      hover:shadow-sm w-full`,onClick:m=>{l.restricted&&(m.preventDefault(),cn({featureName:l.label,navigate:q}))},children:[t.jsx("input",{type:"radio",id:l.id,name:"aiModel",value:l.id,checked:r.aiModel===l.id,onChange:m=>{l.restricted||i(k=>w(b({},k),{aiModel:m.target.value}))},className:"hidden"}),t.jsx("img",{src:l.logo,alt:l.label,className:"w-6 h-6 object-contain"}),t.jsx("span",{className:"text-sm font-medium text-gray-800",children:l.label}),l.restricted&&t.jsx(gn,{className:"w-4 h-4 text-yellow-500 absolute top-2 right-2"})]},l.id))})]}),t.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4 shadow-sm mb-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-green-900 mb-1",children:"ðŸ’° Cost Cutter"}),t.jsx("p",{className:"text-xs text-green-700",children:"Use AI Flash model for 25% savings"})]}),t.jsxs("label",{htmlFor:"cost-cutter-toggle",className:"relative inline-block w-12 h-6",children:[t.jsx("input",{type:"checkbox",id:"cost-cutter-toggle",className:"sr-only peer",checked:a.blogs.costCutter||!1,onChange:l=>{d(m=>w(b({},m),{blogs:w(b({},m.blogs),{costCutter:l.target.checked})}))}}),t.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${a.blogs.costCutter?"bg-green-500":"bg-gray-300"}`}),t.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 shadow-md ${a.blogs.costCutter?"translate-x-6":""}`})]})]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule Type"}),t.jsxs(zr,{value:a.schedule.type,onChange:l=>{d(w(b({},a),{schedule:w(b({},a.schedule),{type:l,daysOfWeek:l==="weekly"?[]:a.schedule.daysOfWeek,daysOfMonth:l==="monthly"?[]:a.schedule.daysOfMonth,customDates:l==="custom"?[]:a.schedule.customDates})})),A(m=>w(b({},m),{daysOfWeek:!1,daysOfMonth:!1,customDates:!1}))},className:"w-full",children:[t.jsx(Ue,{value:"daily",children:"Daily"}),t.jsx(Ue,{value:"weekly",children:"Weekly"}),t.jsx(Ue,{value:"monthly",children:"Monthly"}),t.jsx(Ue,{value:"custom",children:"Custom"})]})]}),a.schedule.type==="weekly"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Days of Week"}),t.jsx("div",{className:`flex gap-2 flex-wrap ${n.daysOfWeek?"border-red-500 border-2 p-2 rounded":""}`,children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((l,m)=>{var k;return t.jsx("button",{type:"button",className:`px-2 py-1 rounded ${(k=a.schedule.daysOfWeek)!=null&&k.includes(m)?"bg-[#1B6FC9] text-white":"bg-gray-200 text-gray-700"}`,onClick:()=>{d(S=>{var Ae;const K=(Ae=S.schedule.daysOfWeek)!=null&&Ae.includes(m)?S.schedule.daysOfWeek.filter(le=>le!==m):[...S.schedule.daysOfWeek||[],m];return w(b({},S),{schedule:w(b({},S.schedule),{daysOfWeek:K})})}),A(S=>w(b({},S),{daysOfWeek:!1}))},children:l},m)})}),n.daysOfWeek&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.daysOfWeek})]}),a.schedule.type==="monthly"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Dates of Month"}),t.jsx("div",{className:`flex gap-2 flex-wrap ${n.daysOfMonth?"border-red-500 border-2 p-2 rounded":""}`,children:Array.from({length:31},(l,m)=>m+1).map(l=>{var m;return t.jsx("button",{type:"button",className:`px-2 py-1 rounded ${(m=a.schedule.daysOfMonth)!=null&&m.includes(l)?"bg-[#1B6FC9] text-white":"bg-gray-200 text-gray-700"}`,onClick:()=>{d(k=>{var K;const S=(K=k.schedule.daysOfMonth)!=null&&K.includes(l)?k.schedule.daysOfMonth.filter(Ae=>Ae!==l):[...k.schedule.daysOfMonth||[],l];return w(b({},k),{schedule:w(b({},k.schedule),{daysOfMonth:S})})}),A(k=>w(b({},k),{daysOfMonth:!1}))},children:l},l)})}),n.daysOfMonth&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.daysOfMonth})]}),a.schedule.type==="custom"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Dates"}),t.jsx("div",{className:n.customDates?"border-2 border-red-500 rounded-lg":"",children:t.jsx(Ia,{value:a.schedule.customDates,onChange:l=>{d(w(b({},a),{schedule:w(b({},a.schedule),{customDates:l,daysOfWeek:[],daysOfMonth:[]})})),A(m=>w(b({},m),{customDates:!1}))},multiple:!0,format:"YYYY-MM-DD",className:"w-full",inputClass:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"})}),n.customDates&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.customDates})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Blogs"}),t.jsx("input",{type:"tel",inputMode:"numeric",name:"numberOfBlogs",min:"1",max:X,value:(St=a.blogs.numberOfBlogs)!=null?St:"",onChange:nt,onWheel:l=>l.currentTarget.blur(),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${n.numberOfBlogs?"border-red-500":"border-gray-200"}`,placeholder:"Enter the number of blogs"}),n.numberOfBlogs&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.numberOfBlogs})]})]})]});case 4:return t.jsxs("div",{children:[t.jsxs("div",{className:"mt-0",children:[[{label:"Add FAQ",name:"includeFaqs",desc:"Include frequently asked questions at the end of the blog."},{label:"Add Competitive Research",name:"includeCompetitorResearch",desc:"Analyze competitors to improve blog quality."},...a.options.includeCompetitorResearch?[{label:"Show Outbound Links",name:"addOutBoundLinks",desc:"Add outbound links, references of other websites"}]:[],{label:"Add InterLinks",name:"includeInterlinks",desc:"Add internal links between your blogs for better SEO."},{label:"Enable Automatic Posting",name:"wordpressPosting",desc:"Automatically post the blog to your connected plugins."},...a.options.wordpressPosting?[{label:"Table of Content",name:"includeTableOfContents",desc:"Display a table of contents for easier navigation."}]:[]].map(({label:l,name:m,desc:k})=>t.jsxs("div",{className:"flex items-start justify-between py-2 mt-3",children:[t.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[l,t.jsx("p",{className:"text-xs text-gray-500",children:k})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.options[m],onChange:ct,name:m}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]},m)),a.options.wordpressPosting&&Object.keys((E==null?void 0:E.integrations)||{}).length>0&&t.jsxs("div",{className:"my-5",children:[t.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Select Your Publishing Platform",t.jsx("p",{className:"text-xs text-gray-500",children:"Post your blog automatically to connected platforms only."})]}),t.jsx(zr,{className:"w-full mt-2",placeholder:"Select platform",value:r.postingType,onChange:Le,status:n.postingType?"error":"",children:Object.entries(E.integrations).map(([l,m])=>t.jsx(Ue,{value:l,children:l},l))}),n.postingType&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.postingType})]})]}),t.jsx("div",{className:"my-5",children:t.jsx(ma,{label:"Write with Brand Voice",labelClass:"text-sm font-medium text-gray-700",errorText:n.brandId,size:"large",value:{isCheckedBrand:a.blogs.useBrandVoice,brandId:a.blogs.brandId,addCTA:a.blogs.addCTA},onChange:l=>{d(m=>w(b({},m),{blogs:w(b({},m.blogs),{useBrandVoice:l.isCheckedBrand,brandId:l.brandId,addCTA:l.addCTA})})),l.brandId&&A(m=>w(b({},m),{brandId:!1}))}})})]});default:return null}},Ya=({showJobModal:s,selectedKeywords:a,user:d,userPlan:r,isUserLoaded:i})=>{const n={name:"",schedule:{type:"daily",customDates:[],daysOfWeek:[],daysOfMonth:[]},blogs:{numberOfBlogs:1,topics:[],keywords:[],templates:[],tone:"Professional",userDefinedLength:1e3,imageSource:an.STOCK,aiModel:"gemini",brandId:null,useBrandVoice:!1,isCheckedGeneratedImages:!0,isCheckedCustomImages:!1,addCTA:!0,numberOfImages:0,blogImages:[],postingType:null,languageToWrite:"English",costCutter:!0},options:{wordpressPosting:!1,includeFaqs:!1,includeCompetitorResearch:!1,includeInterlinks:!1,performKeywordResearch:!1,includeTableOfContents:!1,addOutBoundLinks:!1},status:"active",templateIds:[]},A=Xr(),j=mn(),{selectedJob:Y}=Hr(te=>te.jobs),[g,ue]=Ie.useState(1),[T,ne]=Ie.useState(n),[D,ke]=Ie.useState({keywords:n.blogs.keywords||[],keywordInput:"",performKeywordResearch:n.options.performKeywordResearch,aiModel:n.blogs.aiModel,postingType:n.blogs.postingType}),[ee,h]=Ie.useState({}),[F,p]=Ie.useState(null),[E,X]=Ie.useState(null),[Ce,q]=Ie.useState(!1),[ve,Le]=Ie.useState(!1),W=10;Ie.useEffect(()=>{s||(ne(te=>n),ke({keywords:[],keywordInput:"",performKeywordResearch:!1,postingType:"WORDPRESS",aiModel:"gemini"}),ue(1),h({}),A(tn()))},[s]),Ie.useEffect(()=>{Y?(ke(te=>{var Z,qe,Je,gt,ut,yt,Dt;return w(b({},te),{aiModel:((Z=Y.blogs)==null?void 0:Z.aiModel)||n.blogs.aiModel,performKeywordResearch:(Je=(qe=Y.options)==null?void 0:qe.performKeywordResearch)!=null?Je:n.options.performKeywordResearch,keywords:(ut=(gt=Y.blogs)==null?void 0:gt.keywords)!=null?ut:n.blogs.keywords,postingType:((yt=Y.blogs)==null?void 0:yt.postingType)||n.blogs.postingType,templates:((Dt=Y.blogs)==null?void 0:Dt.templates)||n.blogs.templates})}),ne(Y)):ne(n)},[Y]),Ie.useEffect(()=>{let te=Y?b({},Y):n,Z=[...te.blogs.topics||[],...(a==null?void 0:a.allKeywords)||[]],qe=[...te.blogs.keywords||[],...(a==null?void 0:a.focusKeywords)||[],...(a==null?void 0:a.allKeywords)||[]];ne(w(b({},te),{blogs:w(b({},te.blogs),{topics:[...new Set(Z)],keywords:[...new Set(qe)]})})),ke(Je=>w(b({},Je),{keywords:[...new Set([...Je.keywords||[],...(a==null?void 0:a.focusKeywords)||[],...(a==null?void 0:a.allKeywords)||[]])]}))},[a,Y]),Ie.useEffect(()=>{const te=[...new Set([...(a==null?void 0:a.focusKeywords)||[],...(a==null?void 0:a.allKeywords)||[]])];te.length>0&&(ke(Z=>w(b({},Z),{keywords:[...new Set([...Z.keywords,...te])]})),ne(Z=>w(b({},Z),{blogs:w(b({},Z.blogs),{keywords:[...new Set([...Z.blogs.keywords,...te])]})})))},[a]);const Oe=te=>{const Z={};return(te===1||te==="all")&&T.blogs.templates.length===0&&(Z.templates="Please select at least one template."),(te===2||te==="all")&&(T.name||(Z.name="Please enter a job name."),T.blogs.topics.length===0&&(Z.topics="Please add at least one topic."),T.blogs.tone||(Z.tone="Please select a tone."),!D.performKeywordResearch&&D.keywords.length===0&&(Z.keywords="Please add at least one keyword or enable keyword research.")),(te===3||te==="all")&&((T.blogs.numberOfBlogs<1||T.blogs.numberOfBlogs>W)&&(Z.numberOfBlogs=`Number of blogs must be between 1 and ${W}.`),(T.blogs.numberOfImages<0||T.blogs.numberOfImages>W)&&(Z.numberOfImages="Number of images must be between 0 and 20."),T.blogs.useBrandVoice&&!T.blogs.brandId&&(Z.brandId="Please select a brand voice."),T.schedule.type==="weekly"&&T.schedule.daysOfWeek.length===0&&(Z.daysOfWeek="Please select at least one day of the week."),T.schedule.type==="monthly"&&T.schedule.daysOfMonth.length===0&&(Z.daysOfMonth="Please select at least one day of the month."),T.schedule.type==="custom"&&T.schedule.customDates.length===0&&(Z.customDates="Please select at least one custom date."),T.blogs.isCheckedGeneratedImages&&!T.blogs.imageSource&&(Z.imageSource="Please select an image source.")),(te===4||te==="all")&&T.options.wordpressPosting&&!D.postingType&&(Z.postingType="Please select a posting platform."),h(Z),Object.keys(Z).length===0},be=()=>Ur(null,null,function*(){if(!Oe("all"))return;const te=w(b({},T),{blogs:w(b({},T.blogs),{keywords:D.keywords,aiModel:D.aiModel,postingType:D.postingType,imageSource:T.blogs.isCheckedGeneratedImages?T.blogs.imageSource:an.NONE}),options:w(b({},T.options),{performKeywordResearch:D.performKeywordResearch,brandId:T.blogs.useBrandVoice?T.blogs.brandId:null})});try{const Z=vn(te),qe=yield A(Zn({jobPayload:Z,user:d})).unwrap();j.setQueryData(["jobs",d.id],(Je=[])=>[qe,...Je]),A(rn()),ne(n),ke({keywords:[],keywordInput:"",performKeywordResearch:!1,postingType:"WORDPRESS",aiModel:"gemini"}),ue(1),h({}),A(tn())}catch(Z){console.error("Failed to create job. Please try again.",Z)}}),ct=te=>Ur(null,null,function*(){if(!i){pt.error("User data is still loading. Please try again.");return}if(!Oe("all"))return;const Z=w(b({},T),{blogs:w(b({},T.blogs),{keywords:D.keywords,aiModel:D.aiModel,postingType:D.postingType,imageSource:T.blogs.isCheckedGeneratedImages?T.blogs.imageSource:an.NONE}),options:w(b({},T.options),{performKeywordResearch:D.performKeywordResearch,brandId:T.blogs.useBrandVoice?T.blogs.brandId:null})});try{const qe=vn(Z),Je=yield A(Xn({jobId:te,jobPayload:qe})).unwrap();j.setQueryData(["jobs",d.id],(gt=[])=>gt.map(ut=>ut._id===te?b(b({},ut),Je):ut)),A(rn()),ne(n),ke({keywords:[],keywordInput:"",performKeywordResearch:!1,postingType:"WORDPRESS",aiModel:"gemini"}),ue(1),h({}),A(tn())}catch(qe){console.error(qe)}}),nt=[g>1&&t.jsx("button",{onClick:()=>ue(g-1),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg mr-3 hover:bg-gray-300","aria-label":"Previous step",children:"Previous"},"previous"),g<3&&t.jsx("button",{onClick:()=>{Oe(g)&&ue(g+1)},className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90","aria-label":"Next step",children:"Next"},"next"),g===3&&t.jsx("button",{onClick:()=>{Oe(g)&&ue(4)},className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90","aria-label":"Next step",children:"Next"},"next-step-4"),g===4&&t.jsxs("button",{onClick:Y?()=>ct(Y._id):be,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90","aria-label":Y?"Update job":"Create job",children:[Y?"Update":"Create"," Job"]},"submit")];return t.jsx(Qn,{title:`Step ${g}: ${g===1?"Select Templates":g===2?"Job Details":g===3?"Schedule Settings":"Blog Options"}`,open:s,onCancel:()=>{A(rn())},footer:nt,width:800,centered:!0,className:"custom-modal",children:t.jsx("div",{className:"p-2 md:p-4 max-h-[80vh] overflow-y-auto",children:t.jsx(Pa,{currentStep:g,newJob:T,setNewJob:ne,formData:D,setFormData:ke,errors:ee,setErrors:h,recentlyUploadedTopicsCount:F,setRecentlyUploadedTopicsCount:p,recentlyUploadedKeywordsCount:E,setRecentlyUploadedKeywordsCount:X,showAllTopics:Ce,setShowAllTopics:q,showAllKeywords:ve,setShowAllKeywords:Le,user:d,userPlan:r})})})},Ea=Ie.memo(({job:s,setCurrentPage:a,paginatedJobs:d})=>{var D,ke,ee,h,F,p,E,X,Ce;const r=Xr(),i=mn(),{handlePopup:n}=Jn(),[A,j]=Ie.useState(!1),Y=wn({mutationFn:({jobId:q,currentStatus:ve})=>r(ea({jobId:q,currentStatus:ve})).unwrap(),onSuccess:()=>{i.invalidateQueries({queryKey:["jobs"],exact:!1})},onError:q=>{console.error("Failed to toggle job status:",q)}}),g=wn({mutationFn:q=>r(ta(q)).unwrap(),onSuccess:()=>{i.invalidateQueries({queryKey:["jobs"],exact:!1}),d.length===1&&currentPage>1&&a(q=>q-1)},onError:q=>{console.error("Failed to delete job:",q)}}),ue=q=>{const ve=d.find(Le=>Le._id===q);if(!ve){pt.error("Job not found.");return}Y.mutate({jobId:q,currentStatus:ve.status})},T=q=>{g.mutate(q)},ne=q=>{if(!(q!=null&&q._id)){pt.error("Invalid job ID.");return}if(q.status==="active"){pt.warning("Please pause the job before editing.");return}r(Yn(q))};return t.jsxs(rr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.4,ease:"easeOut"},className:"bg-white rounded-xl shadow-lg hover:shadow-xl p-6",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 capitalize",children:s.name}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["ID: ",(s._id||"").toString().slice(-6)||"N/A"]})]}),t.jsx(rr.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>ue(s._id),className:`px-3 py-1 rounded-full text-sm font-medium ${s.status==="active"?"bg-red-100 text-red-600 hover:bg-red-200":"bg-green-100 text-green-600 hover:bg-green-200"}`,"aria-label":s.status==="active"?"Stop job":"Start job",children:s.status==="active"?"Stop":"Start"})]}),t.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center gap-2 capitalize",children:[t.jsx(qr,{className:"w-4 h-4 text-blue-500"}),t.jsxs("span",{children:["Scheduling: ",(D=s==null?void 0:s.schedule)==null?void 0:D.type]})]}),t.jsxs("div",{className:"flex items-center gap-2 capitalize",children:[t.jsx(Gr,{className:"w-4 h-4 text-purple-500"}),t.jsxs("span",{children:["Daily Blogs: ",(ke=s==null?void 0:s.blogs)==null?void 0:ke.numberOfBlogs]})]}),t.jsxs("div",{className:"flex items-center gap-2 capitalize",children:[t.jsx(oa,{className:"w-4 h-4 text-green-500"}),t.jsxs("span",{children:["Model: ",(ee=s==null?void 0:s.blogs)==null?void 0:ee.aiModel]})]}),t.jsxs("div",{className:"flex items-center gap-2 capitalize",children:[t.jsx(qr,{className:"w-4 h-4 text-red-500"}),t.jsxs("span",{children:["Status: ",s==null?void 0:s.status]})]}),((F=(h=s==null?void 0:s.blogs)==null?void 0:h.topics)==null?void 0:F.length)>0&&t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Gr,{className:"w-4 h-4 text-purple-500 mt-0.5"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Topics:"}),(A?s.blogs.topics:s.blogs.topics.slice(0,6)).map((q,ve)=>t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-md text-xs",children:q},ve)),s.blogs.topics.length>6&&t.jsx("button",{onClick:()=>j(q=>!q),className:"text-xs text-blue-600 hover:underline",children:A?"Show less":`+${s.blogs.topics.length-6} more`})]})]}),((E=(p=s==null?void 0:s.blogs)==null?void 0:p.keywords)==null?void 0:E.length)>0&&t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Gr,{className:"w-4 h-4 text-indigo-500 mt-0.5"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Keywords:"}),(Ce=(X=s==null?void 0:s.blogs)==null?void 0:X.keywords)==null?void 0:Ce.map((q,ve)=>t.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-600 rounded-md text-xs",children:q},ve))]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Gr,{className:"w-4 h-4 text-purple-500"}),t.jsxs("span",{children:["Generated Blogs: ",((s==null?void 0:s.createdBlogs)||[]).length]})]}),(s==null?void 0:s.lastRun)&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(qr,{className:"w-4 h-4 text-yellow-500"}),t.jsxs("span",{children:["Last Run:"," ",new Date(s==null?void 0:s.lastRun).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(qr,{className:"w-4 h-4 text-yellow-500"}),t.jsxs("span",{children:["Created:"," ",s!=null&&s.createdAt?new Date(s==null?void 0:s.createdAt).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"}):"N/A"]})]})]}),t.jsxs("div",{className:"flex gap-2 mt-6",children:[t.jsxs(rr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ne(s),className:"px-4 py-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 flex items-center gap-2","aria-label":"Edit job",children:[t.jsx(ia,{}),"Edit"]}),t.jsx(rr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200","aria-label":"Delete job",onClick:()=>n({title:"Delete Job",description:t.jsxs("span",{className:"my-2",children:["Are you sure you want to delete ",t.jsx("b",{className:"capitalize",children:s.name})," job?"]}),confirmText:"Delete",onConfirm:()=>{T(s._id)},confirmProps:{type:"text",className:"border-red-500 hover:bg-red-500 bg-red-100 text-red-600"},cancelProps:{danger:!1}}),children:"Delete"})]})]})}),_r=15,ws=()=>{var q,ve,Le;const s=Xr(),a=Pn(),d=mn(),{showJobModal:r}=Hr(W=>W.jobs),{selectedKeywords:i}=Hr(W=>W.analysis),n=Hr(ra),A=((n==null?void 0:n.plan)||((q=n==null?void 0:n.subscription)==null?void 0:q.plan)||"free").toLowerCase(),[j,Y]=Ie.useState(1),[g,ue]=Ie.useState(!1),[T,ne]=Ie.useState(!1),D=(ve=n==null?void 0:n.usage)==null?void 0:ve.createdJobs,ke=(Le=n==null?void 0:n.usageLimits)==null?void 0:Le.createdJobs,{data:ee=[],isLoading:h}=fa({queryKey:["jobs",n==null?void 0:n.id],queryFn:()=>Ur(null,null,function*(){return(yield s(sa()).unwrap())||[]}),staleTime:1/0,gcTime:1/0,refetchOnMount:"always",refetchOnWindowFocus:!1,enabled:!!n});Ie.useEffect(()=>{const W=ha();if(!W||!n){console.debug("Socket or user not available, skipping WebSocket setup");return}console.debug("Setting up WebSocket listeners for user:",n.id);const Oe=(be,ct)=>{console.debug(`Received ${ct}:`,be);const nt=["jobs",n.id];ct==="job:deleted"?(d.setQueryData(nt,(te=[])=>te.filter(Z=>Z._id!==be.jobId)),d.removeQueries({queryKey:["job",be.jobId]})):(d.setQueryData(nt,(te=[])=>{const Z=te.findIndex(qe=>qe._id===be.jobId||qe._id===be._id);return Z>-1?(te[Z]=b(b({},te[Z]),be),[...te]):[be,...te]}),d.setQueryData(["job",be.jobId||be._id],te=>b(b({},te),be)))};return W.on("job:statusChanged",be=>Oe(be,"job:statusChanged")),W.on("job:updated",be=>Oe(be,"job:updated")),W.on("job:created",be=>Oe(be,"job:created")),W.on("job:deleted",be=>Oe(be,"job:deleted")),W.on("connect",()=>console.debug("Socket connected")),W.on("disconnect",()=>console.debug("Socket disconnected")),()=>{console.debug("Cleaning up WebSocket listeners"),W.off("job:statusChanged"),W.off("job:updated"),W.off("job:created"),W.off("job:deleted"),W.off("connect"),W.off("disconnect")}},[d,n]),Ie.useEffect(()=>{n?ne(!!(n!=null&&n.name||n!=null&&n.credits)):(d.removeQueries({queryKey:["jobs"]}),Y(1),ue(!1),ne(!1))},[n,d]);const F=Ie.useCallback(()=>D>=ke?(cn({featureName:"Additional Jobs",navigate:a}),!1):!0,[D,ke,a]),p=Ie.useCallback(()=>{F()&&s(Yn(null))},[s,F]),E=Ie.useCallback(()=>{d.invalidateQueries({queryKey:["jobs",n==null?void 0:n.id]})},[d,n]);Ie.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[j]);const X=Ie.useMemo(()=>Math.ceil(ee.length/_r),[ee]),Ce=Ie.useMemo(()=>{const W=(j-1)*_r;return ee.slice(W,W+_r)},[ee,j]);return A==="free"?t.jsx(ca,{featureName:"Content Agent"}):t.jsxs(t.Fragment,{children:[t.jsx(na,{children:t.jsx("title",{children:"Content Agent | GenWrite"})}),t.jsxs("div",{className:"min-h-screen p-4 lg:p-8",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between mt-5 md:mt-0",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx(rr.h1,{initial:{y:-20},animate:{y:0},className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Jobs Automation"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your automated content generation jobs"})]}),t.jsxs("div",{className:"flex gap-2",children:[D>=ke&&t.jsx("button",{onClick:()=>ue(W=>!W),className:"text-yellow-500 hover:text-yellow-600 transition",title:"View usage warning",children:t.jsx(dn,{className:"w-6 h-6"})}),t.jsx(rr.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsx(aa,{type:"default",icon:t.jsx(pa,{className:"w-4 sm:w-5 h-4 sm:h-5"}),onClick:E,disabled:h,className:"text-xs sm:text-sm px-4 py-2",children:"Refresh"})})]})]}),g&&D>=ke&&t.jsxs("div",{className:"flex items-start mb-10 gap-3 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg shadow-sm text-sm",children:[t.jsx("div",{className:"pt-1 text-yellow-500",children:t.jsx(dn,{className:"w-5 h-5"})}),t.jsxs("div",{className:"text-yellow-900",children:[t.jsx("p",{className:"font-semibold mb-1",children:"Monthly Job Creation Limit Reached"}),t.jsxs("p",{className:"mb-1",children:["You've created ",t.jsx("span",{className:"font-bold text-black",children:D})," out of"," ",t.jsx("span",{className:"font-bold text-black",children:ke})," allowed jobs this month. You can't create any more jobs until your next billing cycle."]}),t.jsx("p",{className:"text-red-400 text-xs font-semibold",children:"Tip: Update your current job instead of deleting and recreating."})]})]}),t.jsxs(rr.div,{className:"w-full md:w-1/2 lg:w-1/3 h-52 p-6 bg-white rounded-2xl shadow-lg hover:shadow-xl cursor-pointer mb-8 transition-all duration-300 border border-gray-100",onClick:p,children:[t.jsx("div",{className:"flex items-center justify-between gap-4",children:t.jsx("span",{className:"bg-blue-50 rounded-2xl p-4 shadow-inner",children:t.jsx(la,{className:"w-7 h-7 text-blue-600"})})}),t.jsxs("div",{className:"mt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 tracking-wide",children:"Create New Job"}),t.jsx("p",{className:"text-gray-500 mt-2 text-sm leading-relaxed",children:"Automate content generation with custom templates and scheduling."})]})]}),ee.length>0&&t.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Active Jobs"}),h?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(_r)].map((W,Oe)=>t.jsx(da,{},Oe))}):ee.length===0?t.jsx("div",{className:"flex flex-col justify-center items-center",style:{minHeight:"calc(100vh - 250px)"},children:t.jsx("p",{className:"text-xl text-gray-600",children:"No jobs available."})}):t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[" ",Ce.map(W=>t.jsx(Ea,{job:W,setCurrentPage:Y,paginatedJobs:Ce},W._id))]}),X>1&&t.jsx("div",{className:"flex justify-center mt-6",children:t.jsx(ga,{current:j,pageSize:_r,total:ee.length,onChange:W=>Y(W),showSizeChanger:!1,responsive:!0})})]}),t.jsx(Ya,{showJobModal:r,selectedKeywords:i,user:n,userPlan:A,isUserLoaded:T})]})]})};export{ws as default};
