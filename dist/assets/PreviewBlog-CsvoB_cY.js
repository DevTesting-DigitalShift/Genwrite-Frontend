import{aR as j,r as p,j as s,B as $}from"./index-Cd0i5XqR.js";import{m as N,p as T}from"./marked.esm-BFQzAr0N.js";import{C as g}from"./index-oYSgYArA.js";import"./EllipsisOutlined-EUcw65Tn.js";import"./Overflow-Dka4ymBO.js";const{Title:C,Text:h}=$;function b(n){const l=n.trim().split(/\s+/).length;return`${Math.ceil(l/200)} min read`}function v(n){const l=n.split(`
`),a=new Set,r=[];let c=!1;for(const o of l)if(/^## /.test(o)){c=!0;let e=o.replace(/^## /,"").trim();e=e.replace(/!\[.*?\]\(.*?\)/g,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/[*_~`]+/g,"").replace(/<[^>]*>/g,"").trim();const t=e.toLowerCase().replace(/[^\w]+/g,"-").replace(/^-+|-+$/g,"");a.has(t)||(a.add(t),r.push({text:e,id:t,level:2}))}else if(/^### /.test(o)&&!c){let e=o.replace(/^### /,"").trim();e=e.replace(/!\[.*?\]\(.*?\)/g,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/[*_~`]+/g,"").replace(/<[^>]*>/g,"").trim();const t=e.toLowerCase().replace(/[^\w]+/g,"-").replace(/^-+|-+$/g,"");a.has(t)||(a.add(t),r.push({text:e,id:t,level:3}))}return r}function L(n){return n.replace(/^(#{2,3}) (.+)$/gm,(l,a,r)=>{const c=r.toLowerCase().replace(/[^\w]+/g,"-");return`${a} <a id="${c}"></a>${r}`})}function E(){const n=j(),[l,a]=p.useState(""),[r,c]=p.useState([]),o=typeof window!="undefined";p.useEffect(()=>{if(n&&o){const{title:m,content:i}=n,d=L(i),w=N.parse(d),y=T.sanitize(w);a(y),c(v(i)),document.title=m}},[n]);const{title:e,author:t,createdAt:u,content:x}=n,f=b(x);return s.jsx("div",{className:"max-w-6xl mx-auto px-4 py-10 scroll-smooth",children:s.jsxs(g,{className:"rounded-lg shadow-lg",children:[s.jsxs("header",{className:"mb-6 text-right",children:[s.jsx(C,{level:1,className:"mb-2 text-center text-pretty ",children:e}),s.jsxs(h,{type:"secondary",children:["By ",s.jsx(h,{strong:!0,children:t==null?void 0:t.name}),"  · ",new Date(u).toLocaleDateString("en-US",{month:"long",day:"2-digit",year:"numeric"})," · ",f]})]}),r.length>0&&s.jsx(g,{type:"inner",title:"Table of Contents",className:"mb-6",children:s.jsx("ul",{className:"pl-4 space-y-1",children:r.map(({text:m,id:i,level:d})=>s.jsx("li",{className:`ml-${d===3?"4":"0"} list-disc`,children:s.jsx("a",{href:`#${i}`,className:"link no-underline hover:underline",children:m})},i))})}),s.jsx("article",{className:"blog-content prose max-w-none",dangerouslySetInnerHTML:{__html:l}})]})})}export{E as default};
