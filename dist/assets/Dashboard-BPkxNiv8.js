var ps=Object.defineProperty,fs=Object.defineProperties;var bs=Object.getOwnPropertyDescriptors;var Ie=Object.getOwnPropertySymbols;var He=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable;var Ge=(n,i,a)=>i in n?ps(n,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[i]=a,l=(n,i)=>{for(var a in i||(i={}))He.call(i,a)&&Ge(n,a,i[a]);if(Ie)for(var a of Ie(i))Ue.call(i,a)&&Ge(n,a,i[a]);return n},o=(n,i)=>fs(n,bs(i));var Ke=(n,i)=>{var a={};for(var s in n)He.call(n,s)&&i.indexOf(s)<0&&(a[s]=n[s]);if(n!=null&&Ie)for(var s of Ie(n))i.indexOf(s)<0&&Ue.call(n,s)&&(a[s]=n[s]);return a};var ae=(n,i,a)=>new Promise((s,u)=>{var K=k=>{try{f(a.next(k))}catch(N){u(N)}},F=k=>{try{f(a.throw(k))}catch(N){u(N)}},f=k=>k.done?s(k.value):Promise.resolve(k.value).then(K,F);f((a=a.apply(n,i)).next())});import{r as I,_ as ys,F as rs,G as ws,p as as,J as qe,K as js,M as Ve,d as vs,e as Ns,h as ks,k as he,P as Cs,Q as Ss,C as Is,S as Ls,n as Bs,W as Ms,U as $s,I as Ks,j as e,V as Qe,X as oe,Y as Me,Z as z,u as xe,a as ie,T as je,$ as ls,a0 as As,z as ve,a1 as Ce,m as U,a2 as Fs,a3 as ns,a4 as Ee,a5 as Es,a6 as Ts,a7 as Te,a8 as ke,a9 as Ps,x as os,aa as Ds,ab as Os,H as zs,A as Ae,B as Ye,ac as Xe,ad as Rs,ae as _s}from"./index-DsZ2pA_a.js";import{p as re,C as De}from"./templates-CV4c9e0f.js";import{u as is}from"./useQuery-CUNYxbeh.js";import{o as Je}from"./UpgardePopUp-BwbOBDAW.js";import{C as Ze}from"./crown-C_EAaApa.js";import{T as cs}from"./triangle-alert-CSw-LWq_.js";import{P as pe}from"./plus-CcXKwh0S.js";import{X as ne}from"./x-pShtipJz.js";import{d as ds}from"./dayjs.min-PIlIe8Ye.js";import{c as Se}from"./createLucideIcon-Bo73qIN3.js";import{A as ms}from"./arrow-right-r3rz5qp6.js";import{g as Oe}from"./getEstimatedCost-DY-amqeV.js";import{S as fe}from"./index-O8iLpBm9.js";import{I as es}from"./info-CABffpJI.js";import{U as ss}from"./upload-DZRpvy_E.js";import{S as Fe,a as Le}from"./SkeletonLoader-D1b1YTm8.js";import{C as Ws,A as Gs,L as Hs,a as Us,b as qs,P as Vs,p as Qs,c as Ys,d as Xs}from"./chart-BkHIec8n.js";import{P as Js}from"./pen-tool-CznAGVaJ.js";import{Z as Zs}from"./zap-Cv1UNnFU.js";import{S as et}from"./search-bqHwMbB5.js";import{U as st}from"./users-BFJ9tEAd.js";import{F as ze}from"./Table-CLM5aKc2.js";import{R as tt,a as rt,C as at}from"./CompetitiveAnalysisModal-wQXSFwxd.js";import{E as lt}from"./index-xU08BmKm.js";import{T as nt}from"./tag-pj4xSohH.js";import{S as ot}from"./index-CAVqXlb5.js";import{R as it}from"./refresh-cw-BGLtf2Tv.js";import{S as hs}from"./sparkles-BXs-LU_W.js";import{I as ct}from"./index-uRe_78Cl.js";import{T as dt}from"./index-mNGmCJ-b.js";import{C as mt}from"./clock-CmIIxT0r.js";import"./LeftOutlined-D-8XQ1Uf.js";import"./index-BBRTv3yj.js";import"./EllipsisOutlined-BdEFb0w1.js";import"./Overflow-TqdMiLQs.js";import"./index-D-qL5Ule.js";import"./SearchOutlined-ayzGSmbj.js";import"./clsx-B-dksMZM.js";import"./useBreakpoint-D65Y-lxC.js";import"./Pagination-o1jA_5eC.js";import"./Input-BT1tmBwb.js";import"./index-rbkzgHgz.js";import"./progress-CuamSodW.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],xt=Se("activity",ht);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],gt=Se("chart-no-axes-column",ut);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],xs=Se("gem",pt);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],bt=Se("grid-3x3",ft);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],wt=Se("tags",yt);var jt=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],us=I.forwardRef(function(n,i){var a,s=n.prefixCls,u=s===void 0?"rc-switch":s,K=n.className,F=n.checked,f=n.defaultChecked,k=n.disabled,N=n.loadingIcon,h=n.checkedChildren,A=n.unCheckedChildren,T=n.onClick,B=n.onChange,g=n.onKeyDown,M=ys(n,jt),D=rs(!1,{value:F,defaultValue:f}),c=ws(D,2),v=c[0],C=c[1];function E($,d){var S=v;return k||(S=$,C(S),B==null||B(S,d)),S}function R($){$.which===Ve.LEFT?E(!1,$):$.which===Ve.RIGHT&&E(!0,$),g==null||g($)}function b($){var d=E(!v,$);T==null||T(d,$)}var y=as(u,K,(a={},qe(a,"".concat(u,"-checked"),v),qe(a,"".concat(u,"-disabled"),k),a));return I.createElement("button",js({},M,{type:"button",role:"switch","aria-checked":v,disabled:k,className:y,ref:i,onKeyDown:R,onClick:b}),N,I.createElement("span",{className:"".concat(u,"-inner")},I.createElement("span",{className:"".concat(u,"-inner-checked")},h),I.createElement("span",{className:"".concat(u,"-inner-unchecked")},A)))});us.displayName="Switch";const vt=n=>{const{componentCls:i,trackHeightSM:a,trackPadding:s,trackMinWidthSM:u,innerMinMarginSM:K,innerMaxMarginSM:F,handleSizeSM:f,calc:k}=n,N=`${i}-inner`,h=he(k(f).add(k(s).mul(2)).equal()),A=he(k(F).mul(2).equal());return{[i]:{[`&${i}-small`]:{minWidth:u,height:a,lineHeight:he(a),[`${i}-inner`]:{paddingInlineStart:F,paddingInlineEnd:K,[`${N}-checked, ${N}-unchecked`]:{minHeight:a},[`${N}-checked`]:{marginInlineStart:`calc(-100% + ${h} - ${A})`,marginInlineEnd:`calc(100% - ${h} + ${A})`},[`${N}-unchecked`]:{marginTop:k(a).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${i}-handle`]:{width:f,height:f},[`${i}-loading-icon`]:{top:k(k(f).sub(n.switchLoadingIconSize)).div(2).equal(),fontSize:n.switchLoadingIconSize},[`&${i}-checked`]:{[`${i}-inner`]:{paddingInlineStart:K,paddingInlineEnd:F,[`${N}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${N}-unchecked`]:{marginInlineStart:`calc(100% - ${h} + ${A})`,marginInlineEnd:`calc(-100% + ${h} - ${A})`}},[`${i}-handle`]:{insetInlineStart:`calc(100% - ${he(k(f).add(s).equal())})`}},[`&:not(${i}-disabled):active`]:{[`&:not(${i}-checked) ${N}`]:{[`${N}-unchecked`]:{marginInlineStart:k(n.marginXXS).div(2).equal(),marginInlineEnd:k(n.marginXXS).mul(-1).div(2).equal()}},[`&${i}-checked ${N}`]:{[`${N}-checked`]:{marginInlineStart:k(n.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:k(n.marginXXS).div(2).equal()}}}}}}},Nt=n=>{const{componentCls:i,handleSize:a,calc:s}=n;return{[i]:{[`${i}-loading-icon${n.iconCls}`]:{position:"relative",top:s(s(a).sub(n.fontSize)).div(2).equal(),color:n.switchLoadingIconColor,verticalAlign:"top"},[`&${i}-checked ${i}-loading-icon`]:{color:n.switchColor}}}},kt=n=>{const{componentCls:i,trackPadding:a,handleBg:s,handleShadow:u,handleSize:K,calc:F}=n,f=`${i}-handle`;return{[i]:{[f]:{position:"absolute",top:a,insetInlineStart:a,width:K,height:K,transition:`all ${n.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:s,borderRadius:F(K).div(2).equal(),boxShadow:u,transition:`all ${n.switchDuration} ease-in-out`,content:'""'}},[`&${i}-checked ${f}`]:{insetInlineStart:`calc(100% - ${he(F(K).add(a).equal())})`},[`&:not(${i}-disabled):active`]:{[`${f}::before`]:{insetInlineEnd:n.switchHandleActiveInset,insetInlineStart:0},[`&${i}-checked ${f}::before`]:{insetInlineEnd:0,insetInlineStart:n.switchHandleActiveInset}}}}},Ct=n=>{const{componentCls:i,trackHeight:a,trackPadding:s,innerMinMargin:u,innerMaxMargin:K,handleSize:F,calc:f}=n,k=`${i}-inner`,N=he(f(F).add(f(s).mul(2)).equal()),h=he(f(K).mul(2).equal());return{[i]:{[k]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:K,paddingInlineEnd:u,transition:`padding-inline-start ${n.switchDuration} ease-in-out, padding-inline-end ${n.switchDuration} ease-in-out`,[`${k}-checked, ${k}-unchecked`]:{display:"block",color:n.colorTextLightSolid,fontSize:n.fontSizeSM,transition:`margin-inline-start ${n.switchDuration} ease-in-out, margin-inline-end ${n.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:a},[`${k}-checked`]:{marginInlineStart:`calc(-100% + ${N} - ${h})`,marginInlineEnd:`calc(100% - ${N} + ${h})`},[`${k}-unchecked`]:{marginTop:f(a).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${i}-checked ${k}`]:{paddingInlineStart:u,paddingInlineEnd:K,[`${k}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${k}-unchecked`]:{marginInlineStart:`calc(100% - ${N} + ${h})`,marginInlineEnd:`calc(-100% + ${N} - ${h})`}},[`&:not(${i}-disabled):active`]:{[`&:not(${i}-checked) ${k}`]:{[`${k}-unchecked`]:{marginInlineStart:f(s).mul(2).equal(),marginInlineEnd:f(s).mul(-1).mul(2).equal()}},[`&${i}-checked ${k}`]:{[`${k}-checked`]:{marginInlineStart:f(s).mul(-1).mul(2).equal(),marginInlineEnd:f(s).mul(2).equal()}}}}}},St=n=>{const{componentCls:i,trackHeight:a,trackMinWidth:s}=n;return{[i]:Object.assign(Object.assign(Object.assign(Object.assign({},ks(n)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:s,height:a,lineHeight:he(a),verticalAlign:"middle",background:n.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${n.motionDurationMid}`,userSelect:"none",[`&:hover:not(${i}-disabled)`]:{background:n.colorTextTertiary}}),Cs(n)),{[`&${i}-checked`]:{background:n.switchColor,[`&:hover:not(${i}-disabled)`]:{background:n.colorPrimaryHover}},[`&${i}-loading, &${i}-disabled`]:{cursor:"not-allowed",opacity:n.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${i}-rtl`]:{direction:"rtl"}})}},It=n=>{const{fontSize:i,lineHeight:a,controlHeight:s,colorWhite:u}=n,K=i*a,F=s/2,f=2,k=K-f*2,N=F-f*2;return{trackHeight:K,trackHeightSM:F,trackMinWidth:k*2+f*4,trackMinWidthSM:N*2+f*2,trackPadding:f,handleBg:u,handleSize:k,handleSizeSM:N,handleShadow:`0 2px 4px 0 ${new Ss("#00230b").setA(.2).toRgbString()}`,innerMinMargin:k/2,innerMaxMargin:k+f+f*2,innerMinMarginSM:N/2,innerMaxMarginSM:N+f+f*2}},Lt=vs("Switch",n=>{const i=Ns(n,{switchDuration:n.motionDurationMid,switchColor:n.colorPrimary,switchDisabledOpacity:n.opacityLoading,switchLoadingIconSize:n.calc(n.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${n.opacityLoading})`,switchHandleActiveInset:"-30%"});return[St(i),Ct(i),kt(i),Nt(i),vt(i)]},It);var Bt=function(n,i){var a={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&i.indexOf(s)<0&&(a[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(n);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(n,s[u])&&(a[s[u]]=n[s[u]]);return a};const Mt=I.forwardRef((n,i)=>{const{prefixCls:a,size:s,disabled:u,loading:K,className:F,rootClassName:f,style:k,checked:N,value:h,defaultChecked:A,defaultValue:T,onChange:B}=n,g=Bt(n,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[M,D]=rs(!1,{value:N!=null?N:h,defaultValue:A!=null?A:T}),{getPrefixCls:c,direction:v,switch:C}=I.useContext(Is),E=I.useContext(Ls),R=(u!=null?u:E)||K,b=c("switch",a),y=I.createElement("div",{className:`${b}-handle`},K&&I.createElement($s,{className:`${b}-loading-icon`})),[$,d,S]=Lt(b),_=Bs(s),H=as(C==null?void 0:C.className,{[`${b}-small`]:_==="small",[`${b}-loading`]:K,[`${b}-rtl`]:v==="rtl"},F,f,d,S),G=Object.assign(Object.assign({},C==null?void 0:C.style),k),W=(...r)=>{D(r[0]),B==null||B.apply(void 0,r)};return $(I.createElement(Ms,{component:"Switch"},I.createElement(us,Object.assign({},g,{checked:M,onChange:W,prefixCls:b,className:H,style:G,disabled:R,ref:i,loadingIcon:y}))))}),Re=Mt;Re.__ANT_SWITCH=!0;var $t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function Pe(){return Pe=Object.assign?Object.assign.bind():function(n){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])}return n},Pe.apply(this,arguments)}const Kt=(n,i)=>I.createElement(Ks,Pe({},n,{ref:i,icon:$t})),gs=I.forwardRef(Kt),At=({title:n,visible:i,onCancel:a,children:s})=>i?e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e.jsx("div",{className:"modal-overlay absolute inset-0 bg-gray-800 opacity-50"}),e.jsxs("div",{className:"modal-container bgwhi w-96 rounded-lg shadow-lg z-50 overflow-y-auto",children:[e.jsxs("div",{className:"modal-header p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold ",children:n}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:a,children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"modal-content p-4",children:s})]})]}):null,Ft=({handleNext:n,handleClose:i,data:a,setData:s})=>{const[u,K]=Qe.useState(null),[F,f]=Qe.useState({userDefinedLength:0,tone:"",includeInterlink:!1,includeMetaHeadlines:!1,wordpressStatus:!0,numberOfBlogs:0,postFrequency:0,randomisedFrequency:0,template:[],focusKeywords:[],keywords:[],focusKeywordInput:"",keywordInput:""}),k=h=>{K(h),s(o(l({},a),{template:re[h]})),f(o(l({},F),{template:[re[h].name]}))},N=()=>{if(u!==null){const h=re[u],A=o(l({},a),{selectedTemplate:h});s(A),n()}else z.error("Please select a template before proceeding.")};return I.useEffect(()=>(open?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[]),e.jsx(oe,{title:"Step 1: Select Template",open:!0,onCancel:i,footer:[e.jsx(Me,{onClick:N,className:"px-4 sm:px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-2 sm:ml-3 text-sm sm:text-base",children:"Next"},"next")],centered:!0,width:"90vw",styles:{content:{maxWidth:"800px",margin:"0 auto"},body:{padding:"16px"}},className:"rounded-lg sm:rounded-xl",transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"max-h-[80vh] overflow-y-auto",children:[e.jsx("div",{className:"sm:hidden grid grid-cols-2 gap-4",children:re.map((h,A)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${F.template.includes(h.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>k(A),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:h.imgSrc||"/placeholder.svg",alt:h.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:h.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:h.description})]})]})},A))}),e.jsx("div",{className:"hidden sm:block",children:e.jsx(De,{className:"flex flex-row gap-4",children:re.map((h,A)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 w-full h-full${F.template.includes(h.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>k(A),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:h.imgSrc||"/placeholder.svg",alt:h.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:h.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:h.description})]})]})},A))})})]})})},Et=I.memo(Ft),Tt=({handlePrevious:n,handleClose:i,data:a,setData:s,handleSubmit:u,navigate:K})=>{var b,y,$;const F=xe(),{user:f}=ie(d=>d.auth),k=((b=f==null?void 0:f.subscription)==null?void 0:b.plan)||(f==null?void 0:f.plan)||"free",N=((y=f==null?void 0:f.usage)==null?void 0:y.aiImages)>=(($=f==null?void 0:f.usageLimits)==null?void 0:$.aiImages),[h,A]=I.useState({isCheckedQuick:(a==null?void 0:a.isCheckedQuick)||!1,isCheckedBrand:(a==null?void 0:a.isCheckedBrand)||!1,aiModel:(a==null?void 0:a.aiModel)||"gemini",brandId:(a==null?void 0:a.brandId)||null,isFAQEnabled:(a==null?void 0:a.isFAQEnabled)||!1,imageSource:(a==null?void 0:a.imageSource)||"unsplash",isCheckedGeneratedImages:(a==null?void 0:a.isCheckedGeneratedImages)||!1,isCheckedblogImages:(a==null?void 0:a.isCheckedblogImages)||!1,blogImages:Array.isArray(a==null?void 0:a.blogImages)?a.blogImages:[],referenceLinks:Array.isArray(a==null?void 0:a.referenceLinks)?a.referenceLinks:[],includeInterlinks:(a==null?void 0:a.includeInterlinks)||!1,addOutBoundLinks:(a==null?void 0:a.addOutBoundLinks)||!1,addCTA:(a==null?void 0:a.addCTA)||!0,numberOfImages:(a==null?void 0:a.numberOfImages)||0,isDragging:!1}),[T,B]=I.useState({newLink:""});I.useRef(null),I.useEffect(()=>()=>{h.blogImages.forEach(d=>{d instanceof File&&URL.revokeObjectURL(URL.createObjectURL(d))})},[h.blogImages]);const{data:g=[],isLoading:M,error:D}=is({queryKey:["brands"],queryFn:()=>ae(null,null,function*(){return yield F(ls()).unwrap()}),enabled:h.isCheckedBrand}),c=d=>{const{name:S,value:_,type:H}=d.target,G=H==="number"?parseInt(_,10)||0:_;A(W=>o(l({},W),{[S]:G})),s(W=>o(l({},W),{[S]:G}))},v=()=>{const d=T.newLink.trim();if(!d)return;const S=h.referenceLinks.map(W=>W.toLowerCase().trim()),_=W=>{try{return new URL(W),!0}catch(r){return!1}},H=new Set,G=d.split(",").map(W=>W.trim()).filter(W=>{const r=W.toLowerCase();return!H.has(r)&&_(W)&&!S.includes(r)&&H.add(r)});if(G.length===0){z.error("Please enter valid, non-duplicate URLs separated by commas.");return}A(W=>o(l({},W),{referenceLinks:[...W.referenceLinks,...G]})),B(W=>o(l({},W),{newLink:""})),z.success("Reference link added!")},C=d=>{A(S=>o(l({},S),{referenceLinks:S.referenceLinks.filter((_,H)=>H!==d)})),s(S=>o(l({},S),{referenceLinks:S.referenceLinks.filter((_,H)=>H!==d)}))},E=d=>{A(S=>o(l({},S),{imageSource:d})),s(S=>o(l({},S),{imageSource:d,isUnsplashActive:d==="unsplash"}))},R=()=>{const d=l(l({},a),h);u(d)};return e.jsx(oe,{title:"Final Step: Content Enhancements",open:!0,onCancel:i,footer:[e.jsx("button",{onClick:n,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Previous"},"previous"),e.jsx("button",{onClick:R,className:"px-6 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md ml-3",children:"Submit"},"next")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select AI Model"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 w-full",children:[{id:"gemini",label:"Gemini",logo:"/Images/gemini.png",restricted:!1},{id:"chatgpt",label:"ChatGPT",logo:"/Images/chatgpt.png"},{id:"claude",label:"Claude",logo:"/Images/claude.png"}].map(d=>e.jsxs("label",{htmlFor:d.id,className:`relative border rounded-lg px-4 py-3 flex items-center gap-3 cursor-pointer transition-all duration-150
        ${h.aiModel===d.id?"border-blue-600 bg-blue-50":"border-gray-300"}
        hover:shadow-sm w-full`,onClick:S=>{d.restricted&&(S.preventDefault(),Je({featureName:d.label,navigate:K}))},children:[e.jsx("input",{type:"radio",id:d.id,name:"aiModel",value:d.id,checked:h.aiModel===d.id,onChange:S=>{d.restricted||(A(_=>o(l({},_),{aiModel:S.target.value})),s(_=>o(l({},_),{aiModel:S.target.value})))},className:"hidden"}),e.jsx("img",{src:d.logo,alt:d.label,className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:d.label}),d.restricted&&e.jsx(Ze,{className:"w-4 h-4 text-yellow-500 absolute top-2 right-2"})]},d.id))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Add Image"}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{htmlFor:"add-image-toggle",className:"relative inline-block w-12 h-6",children:[e.jsx("input",{type:"checkbox",id:"add-image-toggle",className:"sr-only peer",checked:h.isCheckedGeneratedImages,onChange:d=>{const S=d.target.checked;A(_=>o(l({},_),{isCheckedGeneratedImages:S,imageSource:S?_.imageSource:"unsplash"})),s(_=>o(l({},_),{isCheckedGeneratedImages:S,imageSource:S?_.imageSource:"unsplash",isUnsplashActive:S?_.isUnsplashActive:!0}))}}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${h.isCheckedGeneratedImages?"bg-[#1B6FC9]":"bg-gray-300"}`}),e.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 ${h.isCheckedGeneratedImages?"translate-x-6":""}`})]})})]}),h.isCheckedGeneratedImages&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Image Source"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 w-full",children:[e.jsxs("label",{htmlFor:"unsplash",className:`border rounded-lg px-4 py-3 flex items-center justify-center gap-3 cursor-pointer transition-all duration-150
        ${h.imageSource==="unsplash"?"border-blue-600 bg-blue-50":"border-gray-300"}
        hover:shadow-sm w-full`,children:[e.jsx("input",{type:"radio",id:"unsplash",name:"imageSource",checked:h.imageSource==="unsplash",onChange:()=>E("unsplash"),className:"hidden"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Stock Images"})]}),e.jsxs("label",{htmlFor:"ai-generated",className:`relative border rounded-lg px-4 py-3 flex items-center justify-center gap-3 cursor-pointer transition-all duration-150
        ${h.imageSource==="ai"?"border-blue-600 bg-blue-50":"border-gray-300"}
        hover:shadow-sm w-full`,onClick:d=>{k==="free"&&(d.preventDefault(),Je({featureName:"AI-Generated Images",navigate:K}))},children:[e.jsx("input",{type:"radio",id:"ai-generated",name:"imageSource",checked:h.imageSource==="ai",onChange:()=>E("ai"),className:"hidden",disabled:k==="free"||N}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:"AI-Generated Images"}),k==="free"?e.jsx(Ze,{className:"w-4 h-4 text-yellow-500 absolute top-2 right-2"}):N&&e.jsx(je,{title:"You've reached your AI image generation limit. It'll reset in the next billing cycle.",styles:{body:{backgroundColor:"#FEF9C3",border:"1px solid #FACC15",color:"#78350F"}},children:e.jsx(cs,{className:"text-yellow-400 ml-2",size:15})})]})]})]}),e.jsxs("div",{className:"pt-4 w-full",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Number of Images"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the number of images (0 = AI will decide)"}),e.jsx("input",{type:"number",name:"numberOfImages",min:"0",max:"20",value:h.numberOfImages,onChange:c,onWheel:d=>d.currentTarget.blur(),inputMode:"numeric",pattern:"[0-9]*",className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm placeholder-gray-400 transition",placeholder:"e.g., 5"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add a Quick Summary"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:h.isCheckedQuick,onChange:()=>{A(d=>o(l({},d),{isCheckedQuick:!d.isCheckedQuick})),s(d=>o(l({},d),{isCheckedQuick:!d.isCheckedQuick}))},className:"sr-only peer","aria-checked":h.isCheckedQuick}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Write with Brand Voice"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:h.isCheckedBrand,onChange:()=>{A(d=>o(l({},d),{isCheckedBrand:!d.isCheckedBrand,brandId:null})),s(d=>o(l({},d),{isCheckedBrand:!d.isCheckedBrand,brandId:null}))},className:"sr-only peer","aria-checked":h.isCheckedBrand}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),h.isCheckedBrand&&e.jsx("div",{className:"mt-3 p-3 sm:p-4 rounded-md border border-gray-200 bg-gray-50",children:M?e.jsx("div",{className:"text-gray-500 text-sm",children:"Loading brand voices..."}):D?e.jsx("div",{className:"text-red-500 text-sm font-medium",children:D}):(g==null?void 0:g.length)>0?e.jsx("div",{className:"max-h-48 overflow-y-auto pr-1",children:e.jsx("div",{className:"grid gap-3 sm:grid-cols-1",children:g.map(d=>e.jsxs("label",{className:`flex flex-col sm:flex-row sm:items-start gap-2 p-3 rounded-md cursor-pointer transition ${h.brandId===d._id?"bg-blue-100 border-blue-300":"bg-white border border-gray-200"}`,children:[e.jsx("input",{type:"radio",name:"selectedBrandVoice",value:d._id,checked:h.brandId===d._id,onChange:()=>{A(S=>o(l({},S),{brandId:d._id})),s(S=>o(l({},S),{brandId:d._id}))},className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-700",children:d.nameOfVoice}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.describeBrand})]})]},d._id))})}):e.jsx("div",{className:"text-gray-500 text-sm italic",children:"No brand voices available. Create one to get started."})}),h.isCheckedBrand&&e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add CTA at the End"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:h.addCTA,onChange:()=>{A(d=>o(l({},d),{addCTA:!d.addCTA})),s(d=>o(l({},d),{addCTA:!d.addCTA}))},className:"sr-only peer","aria-checked":h.addCTA}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Add FAQ"}),e.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Generate frequently asked questions for your blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:h.isFAQEnabled,onChange:()=>{A(d=>o(l({},d),{isFAQEnabled:!d.isFAQEnabled})),s(d=>o(l({},d),{isFAQEnabled:!d.isFAQEnabled}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Interlinks",e.jsx("p",{className:"text-xs text-gray-500",children:"Auto-link to other blogs within your content."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer self-end",children:[e.jsx("input",{type:"checkbox",checked:h.includeInterlinks,onChange:d=>{A(S=>o(l({},S),{includeInterlinks:d.target.checked})),s(S=>o(l({},S),{includeInterlinks:d.target.checked}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Add Competitive Research",e.jsx("p",{className:"text-xs text-gray-500",children:"Analyze similar blogs to find strategic insights."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer self-end",children:[e.jsx("input",{type:"checkbox",checked:h.isCompetitiveResearchEnabled,onChange:()=>{A(d=>o(l({},d),{isCompetitiveResearchEnabled:!d.isCompetitiveResearchEnabled})),s(d=>o(l({},d),{isCompetitiveResearchEnabled:!d.isCompetitiveResearchEnabled}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),h.isCompetitiveResearchEnabled&&e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Show Outbound Links",e.jsx("p",{className:"text-xs text-gray-500",children:"Display reference links from competitor analysis."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer self-end",children:[e.jsx("input",{type:"checkbox",checked:h.addOutBoundLinks,onChange:()=>{A(d=>o(l({},d),{addOutBoundLinks:!d.addOutBoundLinks})),s(d=>o(l({},d),{addOutBoundLinks:!d.addOutBoundLinks}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Reference Links (Helps make blog more compelling)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600",placeholder:"https://example.com",onKeyDown:d=>{d.key==="Enter"&&(d.preventDefault(),v())},value:T.newLink,onChange:d=>B(S=>o(l({},S),{newLink:d.target.value}))}),e.jsx("button",{onClick:v,className:"px-3 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md",children:e.jsx(pe,{className:"w-4 h-4"})})]}),h.referenceLinks.length>0&&e.jsx("div",{className:"mt-2 space-y-2",children:h.referenceLinks.map((d,S)=>e.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-50 rounded-md",children:[e.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 truncate",children:d}),e.jsx("button",{onClick:()=>C(S),className:"text-gray-500 hover:text-red-500",children:e.jsx(ne,{className:"w-4 h-4"})})]},S))})]})]})})})};var Be={exports:{}},Pt=Be.exports,ts;function Dt(){return ts||(ts=1,(function(n,i){(function(a,s){n.exports=s()})(Pt,(function(){return function(a,s,u){a=a||{};var K=s.prototype,F={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function f(N,h,A,T){return K.fromToBase(N,h,A,T)}u.en.relativeTime=F,K.fromToBase=function(N,h,A,T,B){for(var g,M,D,c=A.$locale().relativeTime||F,v=a.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],C=v.length,E=0;E<C;E+=1){var R=v[E];R.d&&(g=T?u(N).diff(A,R.d,!0):A.diff(N,R.d,!0));var b=(a.rounding||Math.round)(Math.abs(g));if(D=g>0,b<=R.r||!R.r){b<=1&&E>0&&(R=v[E-1]);var y=c[R.l];B&&(b=B(""+b)),M=typeof y=="string"?y.replace("%d",b):y(b,h,R.l,D);break}}if(h)return M;var $=D?c.future:c.past;return typeof $=="function"?$(M):$.replace("%s",M)},K.to=function(N,h){return f(N,h,this,!0)},K.from=function(N,h){return f(N,h,this)};var k=function(N){return N.$u?u.utc():u()};K.toNow=function(N){return this.to(k(this),N)},K.fromNow=function(N){return this.from(k(this),N)}}}))})(Be)),Be.exports}var Ot=Dt();const zt=As(Ot);ds.extend(zt);const Rt=({title:n,content:i,id:a,functions:s,icon:u,gradient:K})=>{var A,T,B;const F=ie(g=>g.auth.user),f=(T=F==null?void 0:F.plan)!=null?T:(A=F==null?void 0:F.subscription)==null?void 0:A.plan,k=ve(),{handlePopup:N}=Ce(),h=()=>{var g,M,D,c,v;if(a==="A")(g=s.showQuickBlogModal)==null||g.call(s);else if(a===1)(M=s.showModal)==null||M.call(s);else if(a==="B"){if(["free","basic"].includes(f==null?void 0:f.toLowerCase())){k("/pricing");return}(D=s.showMultiStepModal)==null||D.call(s)}else a===4?(c=s.showCompetitiveAnalysis)==null||c.call(s):a===3&&((v=s.showPerformanceMonitoring)==null||v.call(s))};return e.jsxs("div",{onClick:h,className:"group relative bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-xl hover:scale-[1.02] transition-all duration-300 cursor-pointer overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-5 transition-opacity duration-300 from-blue-500 to-purple-500"}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-r ${K} text-white mb-6 transition-transform duration-300`,children:u}),["free","basic"].includes((B=f==null?void 0:f.toLowerCase)==null?void 0:B.call(f))&&a==="B"&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(xs,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:n}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:i}),e.jsxs("div",{className:"flex items-center text-blue-600 font-medium text-sm group-hover:gap-2 transition-all",children:["Get Started",e.jsx(ms,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})},_t=({icon:n,title:i,content:a,id:s,functions:u,bgColor:K,hoverBg:F,color:f,navigate:k})=>{var g,M,D;const N=ve(),h=ie(c=>c.auth.user),A=(M=h==null?void 0:h.plan)!=null?M:(g=h==null?void 0:h.subscription)==null?void 0:g.plan,{handlePopup:T}=Ce(),B=()=>{if(k){N(k);return}if(s===4&&(u!=null&&u.showCompetitiveAnalysis)){if(["free","basic"].includes(A==null?void 0:A.toLowerCase())){N("/pricing");return}u.showCompetitiveAnalysis()}else s===3&&(u!=null&&u.showPerformanceMonitoring)?u.showPerformanceMonitoring():s===2&&(u!=null&&u.showSeoAnalysis)?u.showSeoAnalysis():s===1&&(u!=null&&u.showKeywordResearch)&&u.showKeywordResearch()};return e.jsxs("div",{onClick:B,className:`group p-6 rounded-xl ${K} ${F} border border-transparent hover:border-gray-200 hover:shadow-md transition-all duration-300 cursor-pointer`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(U.div,{whileHover:{scale:1.15,rotate:8},transition:{type:"spring",stiffness:300},className:`inline-flex items-center justify-center w-12 h-12 rounded-xl bg-white ${f} mb-4 group-hover:scale-110 transition-transform duration-300 shadow-sm`,children:n}),["free","basic"].includes((D=A==null?void 0:A.toLowerCase)==null?void 0:D.call(A))&&s===4&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(xs,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors text-[18px]",children:i}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:a})]})},Wt=({title:n,content:i,tags:a,item:s,time:u})=>{var N,h,A,T,B;const K=ve(),F=(B=(T=(A=(h=(N=i==null?void 0:i.replace(/^#+\s*/gm,""))==null?void 0:N.replace(/#[^\s#]+/g,""))==null?void 0:h.replace(/[*_~`>\\=|-]+/g,""))==null?void 0:A.replace(/\n+/g," "))==null?void 0:T.replace(/\s+/g," "))==null?void 0:B.trim(),f=F&&F.length>80?`${F.substring(0,80)}...`:F||"",k=()=>{s&&s._id&&K(`/toolbox/${s._id}`,{state:{blog:s}})};return e.jsx("div",{onClick:k,className:"group p-4 sm:p-5 md:p-6 rounded-xl border border-gray-200 hover:border-blue-200 hover:shadow-md transition-all duration-300 cursor-pointer mb-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-3",children:[e.jsx("h3",{className:"font-bold capitalize text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-1",children:n}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${s!=null&&s.isManuallyEdited?"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"}`,children:s!=null&&s.isManuallyEdited?"Manually Generated":(s==null?void 0:s.aiModel)||"Gemini"}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${(s==null?void 0:s.status)==="complete"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:(s==null?void 0:s.status)||""})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:f}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a==null?void 0:a.map((g,M)=>e.jsx("span",{className:"px-3 py-1 text-xs capitalize bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors",children:g},M))})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-500 ml-auto",children:[e.jsx("span",{children:"View"}),e.jsx("span",{children:ds(u).fromNow()}),e.jsx(ms,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})})},Gt=({closeFnc:n})=>{var te,ye,Ne;const i=xe(),a=ve(),{handlePopup:s}=Ce(),u=ie(t=>t.auth.user),K=((te=u==null?void 0:u.subscription)==null?void 0:te.plan)||(u==null?void 0:u.plan),[F,f]=I.useState(!1),k=((ye=u==null?void 0:u.usage)==null?void 0:ye.aiImages)>=((Ne=u==null?void 0:u.usageLimits)==null?void 0:Ne.aiImages),N=I.useRef(null),[h,A]=I.useState(0),[T,B]=I.useState(null),{Option:g}=fe,[M,D]=I.useState({topics:!1,keywords:!1,tone:!1}),[c,v]=I.useState({templates:[],topics:[],keywords:[],topicInput:"",keywordInput:"",performKeywordResearch:!0,tone:"",numberOfCounts:5,userDefinedLength:1e3,imageSource:"unsplash",useBrandVoice:!0,useCompetitors:!1,includeInterlinks:!0,includeMetaHeadlines:!0,includeFaqs:!0,numberOfBlogs:1,numberOfImages:0,wordpressPostStatus:!1,postFrequency:600,selectedDates:null,aiModel:"gemini",includeTableOfContents:!1,isCheckedGeneratedImages:!0,addOutBoundLinks:!1,blogImages:[]}),{data:C=[],isLoading:E,error:R}=is({queryKey:["brands"],queryFn:()=>ae(null,null,function*(){return yield i(ls()).unwrap()}),enabled:c.isCheckedBrand});I.useEffect(()=>{k&&c.isCheckedGeneratedImages&&v(t=>o(l({},t),{isCheckedGeneratedImages:!1,imageSource:"unsplash"}))},[k,c.isCheckedGeneratedImages]);const b=()=>{if(h===0&&c.templates.length===0){z.error("Please add at least one template.");return}if(h===1){const t={topics:c.topics.length===0&&c.topicInput.trim()==="",keywords:!c.performKeywordResearch&&c.keywords.length===0&&c.keywordInput.trim()==="",tone:!c.tone};if(D(t),Object.values(t).some(m=>m)){z.error("Please fill all required fields in this step.");return}}A(t=>t+1)},y=()=>{A(t=>t>0?t-1:t)},$=()=>{n()},d=()=>{const t={topics:c.topics.length===0&&c.topicInput.trim()==="",keywords:!c.performKeywordResearch&&c.keywords.length===0&&c.keywordInput.trim()==="",tone:!c.tone};if(D(t),Object.values(t).some(Y=>Y)){z.error("Please fill all required fields.");return}if(c.numberOfBlogs<1||c.numberOfBlogs>10){z.error("Number of blogs must be between 1 and 10.");return}const m=c.aiModel||"gemini",O=Oe("blog.single",m),L=c.numberOfBlogs*O;s({title:"Bulk Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Estimated cost for ",e.jsx("b",{children:c.numberOfBlogs})," blog",c.numberOfBlogs>1?"s":"",": ",e.jsxs("b",{children:[L," credits"]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue?"})]}),onConfirm:()=>{i(Fs({blogData:c,user:u,navigate:a})),$()}})},S=t=>{const m=re[t].name;c.templates.includes(m)?v(L=>o(l({},L),{templates:L.templates.filter(Y=>Y!==m)})):c.templates.length<3?v(L=>o(l({},L),{templates:[...L.templates,m]})):z.error("You can select a maximum of 3 templates.")},_=t=>{const{name:m,value:O,type:L}=t.target,Y=L==="number"?parseInt(O,10)||0:O;v(o(l({},c),{[m]:Y}))},H=t=>ae(null,null,function*(){const{name:m,checked:O}=t.target;if(m==="wordpressPostStatus"&&O)try{if(!(u!=null&&u.wordpressLink)){z.error("Please connect your WordPress account in your profile before enabling automatic posting."),a("/profile");return}}catch(L){z.error("Failed to check profile. Please try again.");return}v(o(l({},c),{[m]:O})),m==="performKeywordResearch"&&D(L=>o(l({},L),{keywords:!1}))}),G=t=>{v(m=>o(l({},m),{topicInput:t.target.value})),D(m=>o(l({},m),{topics:!1}))},W=t=>{v(m=>o(l({},m),{keywordInput:t.target.value})),D(m=>o(l({},m),{keywords:!1}))},r=()=>{const t=c.topicInput;if(t.trim()==="")return D(L=>o(l({},L),{topics:!0})),z.error("Please enter a topic."),!1;const m=c.topics.map(L=>L.toLowerCase().trim()),O=t.split(",").map(L=>L.trim()).filter(L=>L!==""&&!m.includes(L.toLowerCase()));return O.length===0?(D(L=>o(l({},L),{topics:!0})),z.error("Please enter valid, non-duplicate topics separated by commas."),v(L=>o(l({},L),{topicInput:""})),!1):(v(L=>o(l({},L),{topics:[...L.topics,...O],topicInput:""})),D(L=>o(l({},L),{topics:!1})),!0)},x=t=>{v(m=>o(l({},m),{topics:m.topics.filter((O,L)=>L!==t)}))},p=()=>{const t=c.keywordInput;if(t.trim()==="")return D(L=>o(l({},L),{keywords:!0})),z.error("Please enter a keyword."),!1;const m=c.keywords.map(L=>L.toLowerCase().trim()),O=t.split(",").map(L=>L.trim()).filter(L=>L!==""&&!m.includes(L.toLowerCase()));return O.length===0?(D(L=>o(l({},L),{keywords:!0})),z.error("Please enter valid, non-duplicate keywords separated by commas."),v(L=>o(l({},L),{keywordInput:""})),!1):(v(L=>o(l({},L),{keywords:[...L.keywords,...O],keywordInput:""})),D(L=>o(l({},L),{keywords:!1})),!0)},j=t=>{v(m=>o(l({},m),{keywords:m.keywords.filter((O,L)=>L!==t)}))},w=t=>{if(t.key==="Enter"){t.preventDefault();const m=r();!c.performKeywordResearch&&m&&p()}},P=t=>{v(m=>o(l({},m),{imageSource:t}))},X=t=>{var Y;const m=(Y=t.target.files)==null?void 0:Y[0];if(!m)return;if(!m.name.toLowerCase().endsWith(".csv")){z.error("Invalid file type. Please upload a .csv file."),t.target.value=null;return}const O=20*1024;if(m.size>O){z.error("File size exceeds 20KB limit. Please upload a smaller file."),t.target.value=null;return}const L=new FileReader;L.onload=ue=>{var Z;const me=(Z=ue.target)==null?void 0:Z.result;if(!me)return;const $e=me.trim().split(/\r?\n/).slice(1).map(ee=>{const We=ee.split(",");return We.length>=2?We[1].trim():null}).filter(Boolean),we=c.topics.map(ee=>ee.toLowerCase().trim()),ge=$e.filter(ee=>!we.includes(ee.toLowerCase().trim()));if(ge.length===0){z.error("No new topics found in the CSV.");return}v(ee=>o(l({},ee),{topics:[...ee.topics,...ge]})),D(ee=>o(l({},ee),{topics:!1})),ge.length>8&&(B(ge.length),setTimeout(()=>B(null),5e3))},L.readAsText(m),t.target.value=null},se=t=>{var L;const m=(L=t.target.files)==null?void 0:L[0];if(!m)return;const O=new FileReader;O.onload=Y=>{var ge;const ue=(ge=Y.target)==null?void 0:ge.result;if(!ue)return;const _e=ue.trim().split(/\r?\n/).slice(1).map(Z=>{const ee=Z.split(",");return ee.length>=2?ee[1].trim():null}).filter(Boolean),$e=c.keywords.map(Z=>Z.toLowerCase().trim()),we=_e.filter(Z=>!$e.includes(Z.toLowerCase().trim()));if(we.length===0){z.error("No new keywords found in the CSV.");return}v(Z=>o(l({},Z),{keywords:[...Z.keywords,...we]})),D(Z=>o(l({},Z),{keywords:!1})),we.length>8&&(B(we.length),setTimeout(()=>B(null),5e3))},O.readAsText(m),t.target.value=null},V=["Select Template's","Add Details","Blog Options"],Q=t=>{const L=["image/jpeg","image/png","image/webp"];if(!t||t.length===0)return[];const Y=Array.from(t).filter(me=>L.includes(me.type)?me.size>5242880?(z.error(`"${me.name}" exceeds the 5 MB size limit.`),!1):!0:(z.error(`"${me.name}" is not a valid image type. Only PNG, JPEG, and WebP are allowed.`),!1));return c.blogImages.length+Y.length>15?(z.error("Cannot upload more than 15 images."),Y.slice(0,15-c.blogImages.length)):Y},ce=t=>{const m=t.target.files;if(!m||m.length===0)return;const O=Q(m);O.length>0&&(v(L=>o(l({},L),{blogImages:[...L.blogImages,...O]})),setData(L=>o(l({},L),{blogImages:(Array.isArray(L.blogImages)?L.blogImages:[]).filter((Y,ue)=>ue!==index)}))),N.current&&(N.current.value="")},q=t=>{t.preventDefault(),t.stopPropagation(),v(L=>o(l({},L),{isDragging:!1}));const m=t.dataTransfer.files;if(!m||m.length===0)return;const O=Q(m);O.length>0&&(v(L=>o(l({},L),{blogImages:[...L.blogImages,...O]})),setData(L=>o(l({},L),{blogImages:[...L.blogImages,...O]})),z.success(`${O.length} image(s) added successfully!`))},J=t=>{t.preventDefault(),t.stopPropagation(),v(m=>o(l({},m),{isDragging:!0}))},de=t=>{t.preventDefault(),t.stopPropagation(),v(m=>o(l({},m),{isDragging:!1}))},be=t=>{v(m=>{const O=m.blogImages.filter((L,Y)=>Y!==t);return o(l({},m),{blogImages:O})}),setData(m=>o(l({},m),{blogImages:m.blogImages.filter((O,L)=>L!==t)}))};return e.jsx(oe,{title:`Step ${h+1} : ${V[h]}`,open:!0,onCancel:$,footer:e.jsxs("div",{className:"flex justify-end gap-3",children:[h>0&&e.jsx("button",{onClick:y,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Previous"}),e.jsx("button",{onClick:h===2?d:b,className:"px-4 py-2 text-sm font-medium text-white bg-[#1B6FC9] rounded-md hover:bg-[#1B6FC9]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:h===2?"Generate Blogs":"Next"})]}),width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"p-2 md:p-4 max-h-[80vh] overflow-y-auto",children:[h===0&&e.jsxs("div",{className:"p-3 md:p-0",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3 sm:mb-4",children:"Select up to 3 templates for the types of blogs you want to generate."}),e.jsx("div",{className:"sm:hidden grid grid-cols-2 gap-4",children:re.map((t,m)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 w-full ${c.templates.includes(t.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>S(m),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:t.imgSrc||"/placeholder.svg",alt:t.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:t.description})]})]})},t.name))}),e.jsx("div",{className:"hidden sm:block",children:e.jsx(De,{className:"flex flex-row gap-4",children:re.map((t,m)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 w-full ${c.templates.includes(t.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>S(m),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:t.imgSrc||"/placeholder.svg",alt:t.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:t.description})]})]})},t.name))})})]}),h===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Topics ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(je,{title:"Upload a .csv file in the format: `Keyword` as header",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(es,{size:16,className:"text-blue-500"})})})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the main topics for your blogs."}),e.jsx("input",{type:"text",value:c.topicInput,onChange:G,onKeyDown:w,className:`w-full px-3 py-2 border ${M.topics?"border-red-500":"border-gray-300"} rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 bg-gray-50`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("button",{onClick:r,className:"flex-1 sm:flex-none px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:"flex-1 sm:flex-none px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center justify-center gap-1 hover:bg-gray-200",children:[e.jsx(ss,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:X,hidden:!0}),"Upload"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[(F?c.topics:c.topics.slice().reverse().slice(0,18)).map((t,m)=>{const O=F?m:c.topics.length-1-m;return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[t,e.jsx("button",{type:"button",onClick:()=>x(O),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(ne,{className:"w-3 h-3"})})]},`${t}-${m}`)}),(c.topics.length>18||T)&&!F&&e.jsxs("span",{onClick:()=>f(!0),className:"cursor-pointer text-xs font-medium text-blue-600 self-center",children:[c.topics.length>18&&`+${c.topics.length-18} more `,T&&`(+${T} uploaded)`]}),F&&e.jsx("span",{onClick:()=>f(!1),className:"cursor-pointer text-xs font-medium text-red-600 self-center",children:"Show less"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Perform Keyword Research?",e.jsx("p",{className:"text-xs text-gray-500",children:"Allow AI to find relevant keywords for the topics."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"performKeywordResearch",checked:c.performKeywordResearch,onChange:H,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),!c.performKeywordResearch&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(je,{title:"Upload a .csv file in the format: `Keyword` as header",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(es,{size:16,className:"text-blue-500"})})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:c.keywordInput,onChange:W,onKeyDown:w,className:`flex-1 px-3 py-2 border ${M.keywords?"border-red-500":"border-gray-300"} rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 bg-gray-50`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:p,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(ss,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:se,hidden:!0})]})]}),M.keywords&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Please add at least one keyword"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[c.keywords.slice().reverse().slice(0,18).map((t,m)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[t,e.jsx("button",{type:"button",onClick:()=>j(c.keywords.length-1-m),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(ne,{className:"w-3 h-3"})})]},`${t}-${m}`)),(c.keywords.length>18||T)&&e.jsxs("span",{className:"text-xs font-medium text-blue-600 self-center",children:[c.keywords.length>18&&`+${c.keywords.length-18} more `,T&&`(+${T} uploaded)`]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"tone",className:"block text-sm font-medium text-gray-700 mb-1",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(fe,{className:"w-full",value:c.tone,onChange:t=>{v(m=>o(l({},m),{tone:t})),D(m=>o(l({},m),{tone:!1}))},placeholder:"Select tone",status:M.tone?"error":"",children:[e.jsx(g,{value:"",children:"Select Tone"}),e.jsx(g,{value:"professional",children:"Professional"}),e.jsx(g,{value:"casual",children:"Casual"}),e.jsx(g,{value:"friendly",children:"Friendly"}),e.jsx(g,{value:"formal",children:"Formal"}),e.jsx(g,{value:"conversational",children:"Conversational"}),e.jsx(g,{value:"witty",children:"Witty"}),e.jsx(g,{value:"informative",children:"Informative"}),e.jsx(g,{value:"inspirational",children:"Inspirational"}),e.jsx(g,{value:"persuasive",children:"Persuasive"}),e.jsx(g,{value:"empathetic",children:"Empathetic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approx. Blog Length (Words)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:c.userDefinedLength,className:"w-full h-1 rounded-lg appearance-none cursor-pointer bg-gradient-to-r from-[#1B6FC9] to-gray-100 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${(c.userDefinedLength-500)/4500*100}%, #E5E7EB ${(c.userDefinedLength-500)/4500*100}%)`},onChange:t=>{v(m=>o(l({},m),{userDefinedLength:parseInt(t.target.value,10)}))}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[c.userDefinedLength," words"]})]})]})]})]}),h===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select AI Model"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:[{id:"gemini",label:"Gemini",logo:"/Images/gemini.png",restricted:!1},{id:"chatgpt",label:"ChatGPT",logo:"/Images/chatgpt.png",restricted:K==="free"},{id:"claude",label:"Claude",logo:"/Images/claude.png",restricted:K==="free"||K==="basic"}].map(t=>e.jsxs("label",{htmlFor:t.id,className:`relative border rounded-lg px-4 py-3 flex items-center gap-3 cursor-pointer transition-all duration-150 ${c.aiModel===t.id?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm`,children:[e.jsx("input",{type:"radio",id:t.id,name:"aiModel",value:t.id,checked:c.aiModel===t.id,onChange:m=>v(O=>o(l({},O),{aiModel:m.target.value})),className:"hidden"}),e.jsx("img",{src:t.logo,alt:t.label,className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:t.label})]},t.id))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Add Image"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{htmlFor:"add-image-toggle",className:`relative inline-block w-12 h-6 ${k?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("input",{type:"checkbox",id:"add-image-toggle",className:"sr-only peer",checked:c.isCheckedGeneratedImages,disabled:k,onChange:t=>{if(k){openUpgradePopup({featureName:"AI-Generated Images",navigate:a});return}const m=t.target.checked;v(O=>o(l({},O),{isCheckedGeneratedImages:m,imageSource:m?O.imageSource:"unsplash"}))}}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${c.isCheckedGeneratedImages&&!k?"bg-[#1B6FC9]":"bg-gray-300"}`}),e.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 ${c.isCheckedGeneratedImages&&!k?"translate-x-6":""}`})]}),k&&e.jsx(je,{title:"You've reached your AI image generation limit. It'll reset in the next billing cycle.",overlayInnerStyle:{backgroundColor:"#FEF9C3",border:"1px solid #FACC15",color:"#78350F"},children:e.jsx(cs,{className:"text-yellow-400 ml-4",size:15})})]})]}),c.isCheckedGeneratedImages&&!c.isCheckedblogImages&&!k&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Image Source"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[{id:"unsplash",label:"Stock Images",value:"unsplash",restricted:!1},{id:"ai",label:"AI Generated",value:"ai",restricted:K==="free"}].map(t=>e.jsxs("label",{htmlFor:t.id,className:`border rounded-lg px-4 py-3 flex items-center justify-center gap-3 cursor-pointer transition-all duration-150 ${c.imageSource===t.value?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm`,children:[e.jsx("input",{type:"radio",id:t.id,name:"imageSource",value:t.value,checked:c.imageSource===t.value,onChange:()=>P(t.value),className:"hidden"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:t.label})]},t.id))})]}),c.imageSource==="customImages"&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Upload Custom Images (Max 15, each 1GB)"}),e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${c.isDragging?"border-blue-600 bg-blue-50":"border-gray-300 bg-gray-50"}`,onDragOver:J,onDragLeave:de,onDrop:q,children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drag and drop images here or click to select"}),e.jsx("button",{className:"px-4 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md text-sm",onClick:()=>{var t;return(t=N.current)==null?void 0:t.click()},children:"Select Images"}),e.jsx("input",{type:"file",ref:N,onChange:ce,accept:"image/jpeg,image/png,image/gif,image/webp",multiple:!0,className:"hidden"})]}),c.blogImages.length>0&&e.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 gap-4",children:c.blogImages.map((t,m)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:t instanceof File?URL.createObjectURL(t):t,alt:t instanceof File?t.name:`Image ${m+1}`,className:"w-full h-24 object-cover rounded-md"}),e.jsx("button",{onClick:()=>be(m),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(ne,{className:"w-4 h-4"})}),e.jsx("p",{className:"text-xs text-gray-600 truncate mt-1",children:t instanceof File?t.name:`Image ${m+1}`})]},m))})]}),e.jsxs("div",{className:"pt-4 w-full",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Number of Images"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the number of images (0 = AI will decide)"}),e.jsx("input",{type:"tel",inputMode:"numeric",name:"numberOfImages",min:"0",max:"20",value:c.numberOfImages,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm placeholder-gray-400 transition",placeholder:"e.g., 5"})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Write with Brand Voice"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.isCheckedBrand,onChange:()=>{v(t=>o(l({},t),{isCheckedBrand:!t.isCheckedBrand,brandId:null})),setData(t=>o(l({},t),{isCheckedBrand:!t.isCheckedBrand,brandId:null}))},className:"sr-only peer","aria-checked":c.isCheckedBrand}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),c.isCheckedBrand&&e.jsx("div",{className:"mt-3 p-4 rounded-md border border-gray-200 bg-gray-50",children:E?e.jsx("div",{className:"text-gray-500 text-sm",children:"Loading brand voices..."}):R?e.jsx("div",{className:"text-red-500 text-sm font-medium",children:R}):(C==null?void 0:C.length)>0?e.jsx("div",{className:"max-h-48 overflow-y-auto pr-1",children:e.jsx("div",{className:"grid gap-3",children:C.map(t=>e.jsxs("label",{className:`flex items-start gap-2 p-3 rounded-md cursor-pointer ${c.brandId===t._id?"bg-blue-100 border-blue-300":"bg-white border border-gray-200"}`,children:[e.jsx("input",{type:"radio",name:"selectedBrandVoice",value:t._id,checked:c.brandId===t._id,onChange:()=>{v(m=>o(l({},m),{brandId:t._id})),setData(m=>o(l({},m),{brandId:t._id}))},className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-700",children:t.nameOfVoice}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.describeBrand})]})]},t._id))})}):e.jsx("div",{className:"text-gray-500 text-sm italic",children:"No brand voices available. Create one to get started."})}),c.isCheckedBrand&&e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add CTA at the End"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.addCTA,onChange:()=>{v(t=>o(l({},t),{addCTA:!t.addCTA})),setData(t=>o(l({},t),{addCTA:!t.addCTA}))},className:"sr-only peer","aria-checked":c.addCTA}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Interlinks",e.jsx("p",{className:"text-xs text-gray-500",children:"Attempt to link between generated blogs if relevant."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeInterlinks",checked:c.includeInterlinks,onChange:H,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include FAQ Section",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate relevant FAQ questions and answers for the blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeFaqs",checked:c.includeFaqs,onChange:H,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Competitive Research",e.jsx("p",{className:"text-xs text-gray-500",children:"Perform competitive research to analyze similar blogs."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"useCompetitors",checked:c.useCompetitors,onChange:H,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),c.useCompetitors&&e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Show Outbound Links",e.jsx("p",{className:"text-xs text-gray-500",children:"Display outbound links found during competitor analysis."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"addOutBoundLinks",checked:c.addOutBoundLinks,onChange:H,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Automatic Posting",e.jsx("p",{className:"text-xs text-gray-500",children:"Automatically post blogs on the selected dates."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"wordpressPostStatus",checked:c.wordpressPostStatus,onChange:H,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),c.wordpressPostStatus&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Table of Contents",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate a table of contents for each blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeTableOfContents",checked:c.includeTableOfContents,onChange:H,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Blogs"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"How many blogs to generate based on the topics provided."}),e.jsx("input",{name:"numberOfBlogs",type:"tel",inputMode:"numeric",min:"1",max:"10",value:c.numberOfBlogs===0?"":c.numberOfBlogs,onChange:_,onWheel:t=>t.currentTarget.blur(),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 5"})]})})]})]})})},Ht=({closeFnc:n})=>{const[i,a]=I.useState(1),s=()=>a(i+1),u=()=>a(i-1);return e.jsxs("div",{className:"border-8 border-teal-700",children:[e.jsx("input",{type:"checkbox",id:"my-modal",className:"modal-toggle"}),e.jsx("div",{className:"modal",children:e.jsxs("div",{className:"modal-box",children:[i===1&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 1"}),e.jsx("p",{className:"py-4",children:"Content for step 1 goes here."}),e.jsx("div",{className:"modal-action",children:e.jsx("button",{className:"btn border-8 border-teal-700",onClick:s,children:"Next"})})]}),i===2&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 2"}),e.jsx("p",{className:"py-4",children:"Content for step 2 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:u,children:"Previous"}),e.jsx("button",{className:"btn",onClick:s,children:"Next"})]})]}),i===3&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 3"}),e.jsx("p",{className:"py-4",children:"Content for step 3 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:n,children:"Previous"}),e.jsx("label",{htmlFor:"my-modal",className:"btn",children:"Finish"})]})]})]})})]})},Ut=({onClose:n})=>e.jsxs(oe,{open:!0,onCancel:n,centered:!0,footer:null,closeIcon:e.jsx(ne,{size:24,className:"text-gray-500 hover:text-gray-800 transition-colors"}),width:900,bodyStyle:{padding:0,borderRadius:"12px",overflow:"hidden"},destroyOnClose:!0,styles:{mask:{backdropFilter:"blur(4px)"}},children:[e.jsxs("div",{className:"p-6 pb-0 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Here’s How We Make Things Easy"}),e.jsx("p",{className:"mt-2 text-md text-gray-600",children:"See how each feature helps you get more done, faster."})]}),e.jsx("div",{className:"relative rounded-lg overflow-hidden m-6 mt-4",children:open&&e.jsx("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/Yq9WDkzi39U?autoplay=0&mute=1&loop=1&playlist=Yq9WDkzi39U",title:"YouTube video player",frameborder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0,className:"w-full h-64 sm:h-80 md:h-96 lg:h-[500px] rounded-lg"})})]}),qt=[{id:1,imageUrl:"./Images/createnew.png",title:"Create New Blog",icon:e.jsx(Js,{className:"w-6 h-6"}),content:"Generate blogs, email, product, description, etc.",hoverGradient:"from-blue-600 to-blue-700"},{id:"A",imageUrl:"./Images/quickblog.png",title:"Generate Quick Blog",icon:e.jsx(Zs,{className:"w-6 h-6"}),content:"With few inputs you are good to go to create Awesome blogs!",hoverGradient:"from-purple-600 to-purple-700"},{id:"B",imageUrl:"./Images/createmultipleblog.png",title:"Create Multiple Blogs",icon:e.jsx(bt,{className:"w-6 h-6"}),content:"Generate multiple blogs using a variety of customizable templates.",hoverGradient:"from-emerald-600 to-emerald-700"}],Vt=[{id:1,title:"Keyword Research",content:"Explore keywords, check stats, and power your blogs & jobs.",icon:e.jsx(et,{className:"w-8 h-8"}),color:"text-blue-600",bgColor:"bg-blue-50",hoverBg:"hover:bg-blue-100"},{id:3,title:"Performance Monitoring",content:"Monitor your blog's SEO, keywords, and competitor data easily.",icon:e.jsx(xt,{className:"w-8 h-8"}),color:"text-orange-600",bgColor:"bg-orange-50",hoverBg:"hover:bg-orange-100"},{id:4,title:"Competitor Analysis",content:"Analyze your competitors' content and strategies.",icon:e.jsx(st,{className:"w-8 h-8"}),color:"text-purple-600",bgColor:"bg-purple-50",hoverBg:"hover:bg-purple-100"},{id:5,title:"Analytics",content:"Visualize performance, unlock insights, and stay ahead",icon:e.jsx(gt,{className:"w-8 h-8"}),color:"text-green-600",bgColor:"bg-green-50",hoverBg:"hover:bg-green-100",navigate:"/analytics"}],Qt=({closeFnc:n})=>{var c;const[i,a]=I.useState({selectedBlog:null,title:"",content:""}),[s,u]=I.useState(!1),[K,F]=I.useState(null),f=xe(),{blogs:k,error:N}=ie(v=>v.blog);I.useEffect(()=>{f(ns())},[f]),I.useEffect(()=>{N&&z.error(N)},[N]);const h=v=>{a({selectedBlog:v,title:v.title,content:v.content}),F(null)},A=()=>ae(null,null,function*(){if(!i.selectedBlog){z.error("Please select a blog");return}u(!0);try{const v=yield f(Ee(i.selectedBlog._id));if(Ee.fulfilled.match(v)){const{stats:C}=v.payload;F(C),z.success("Performance analysis completed!")}else z.error("Something went wrong during stats fetching.")}catch(v){z.error("Unexpected error occurred.")}finally{u(!1)}}),T={flesch:"📘 Flesch Reading Ease (0–100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"📗 SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"📙 ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"📈 SEO Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},B=({type:v="seo"})=>e.jsx(je,{title:T[v],trigger:["hover","click"],placement:"top",children:e.jsx(gs,{className:"ml-2 text-black size-8 hover:text-blue-500 cursor-pointer"})}),g=({icon:v,label:C,value:E,color:R,delay:b=0,suffix:y="",description:$=""})=>e.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:b*.1,duration:.3},className:`p-4 bg-white rounded-xl border ${R} shadow-sm`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[v&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-500",children:v}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:C}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-1",children:[E,y]}),$&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:$})]})]})}),M=({score:v,max:C,label:E,level:R,color:b})=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[E,e.jsx(B,{type:/seo/gi.test(E)?"seo":"flesch"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:R})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${b}`,style:{width:`${v/C*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[v," / ",C]})})]})]}),D=({stats:v})=>{var S,_,H,G,W,r,x,p;if(!v)return null;const{readabililty:C={},seo:E={},engagement:R={},metadata:b={}}=v,y=(E==null?void 0:E.keywordDensity)||{},$=Object.entries(y).map(([j,{count:w,density:P}],X)=>({key:j,keyword:j,count:w,density:P,animationDelay:X*.1})),d=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(j,w)=>j.density-w.density,render:j=>`${j.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-5 mt-4",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(b==null?void 0:b.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(b==null?void 0:b.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(b==null?void 0:b.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(b==null?void 0:b.aiModel)||"-"})]})]}),(b==null?void 0:b.generatedAt)&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(b.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-green-100 rounded text-green-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 11.5V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1.4"}),e.jsx("path",{d:"M14 10V8a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2"}),e.jsx("path",{d:"M10 9.9V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v5"}),e.jsx("path",{d:"M6 14v0a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0"}),e.jsx("path",{d:"M18 11v0a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-4a8 8 0 0 1-8-8 2 2 0 1 1 4 0"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Engagement"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(g,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),label:"GenWrite Views",value:(R==null?void 0:R.views)||0,color:"border-green-100",delay:0}),e.jsx(g,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),label:"WordPress Views",value:(R==null?void 0:R.wordpressViews)||0,color:"border-green-100",delay:1})]}),e.jsx("div",{className:"mt-4 bg-gray-50 p-4 rounded-xl border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Public Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${R!=null&&R.isPublic?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R!=null&&R.isPublic?"✅ Public":"❌ Private"})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(M,{score:(E==null?void 0:E.score)||0,max:100,label:"SEO Score",level:`${(E==null?void 0:E.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(g,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(E==null?void 0:E.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(g,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(E==null?void 0:E.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(g,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(E==null?void 0:E.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(S=E==null?void 0:E.focusKeywords)==null?void 0:S.map((j,w)=>e.jsx(U.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"px-3 py-1 bg-blue-50 rounded-full text-sm text-blue-700 border border-blue-100",children:j},j))})]}),(E==null?void 0:E.keywords.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Other Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(_=E==null?void 0:E.keywords)==null?void 0:_.map((j,w)=>e.jsx(U.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-700 border border-gray-200",children:j},j))})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Keyword Densities"}),e.jsx(U.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:e.jsx(ze,{dataSource:$,columns:d,pagination:!1,components:{body:{row:P=>{var X=P,{children:j}=X,w=Ke(X,["children"]);var V;const se=((V=$[w["data-row-key"]])==null?void 0:V.animationDelay)||0;return e.jsx(U.tr,o(l({},w),{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:se},children:j}))}}},className:"rounded-md overflow-hidden"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(M,{score:((H=C==null?void 0:C.fleschEase)==null?void 0:H.score)||0,max:100,label:"Flesch Ease",level:((G=C==null?void 0:C.fleschEase)==null?void 0:G.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["SMOG Index",e.jsx(B,{type:"smog"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((W=C==null?void 0:C.smogIndex)==null?void 0:W.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((r=C==null?void 0:C.smogIndex)==null?void 0:r.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["ARI ",e.jsx(B,{type:"ari"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((x=C==null?void 0:C.ari)==null?void 0:x.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((p=C==null?void 0:C.ari)==null?void 0:p.score)||0," grade"]})]}),e.jsx(g,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(C==null?void 0:C.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(g,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(C==null?void 0:C.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(C==null?void 0:C.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(C==null?void 0:C.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(C==null?void 0:C.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(C==null?void 0:C.syllableCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paragraphs"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(C==null?void 0:C.paragraphCount)||0})]})]})]})]})};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-4xl bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[e.jsxs(U.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Seo Analysis Dashboard"})]}),e.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-gray-100 transition-all",children:e.jsx(ne,{className:"h-6 w-6 text-gray-500 hover:text-gray-700"})})]}),e.jsx("div",{className:"p-5 overflow-y-auto max-h-[80vh]",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Blog"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 appearance-none",onChange:v=>{const C=k.data.find(E=>E._id===v.target.value);C&&h(C)},value:((c=i.selectedBlog)==null?void 0:c._id)||"",children:[e.jsx("option",{value:"",className:"bg-gray-50",children:"Select a blog"}),k.data.map(v=>e.jsx("option",{value:v._id,className:"bg-gray-50 capitalize",children:v.title},v._id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),i.selectedBlog&&e.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"font-medium text-gray-700",children:"Preview"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 truncate capitalize",children:i.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3",children:i.content})]})]}),e.jsx(U.div,{className:"flex justify-end pt-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(U.button,{onClick:A,className:`px-5 py-2.5 rounded-lg font-medium flex items-center gap-2 ${s?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"} transition-all duration-300 shadow`,disabled:s||!i.selectedBlog,whileHover:{scale:!s&&i.selectedBlog?1.03:1},whileTap:{scale:.97},children:s?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),"Analyze Performance"]})})}),s&&!K&&e.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-4",children:[...Array(6)].map((v,C)=>e.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:C*.1},className:"h-32 bg-gray-100 rounded-xl animate-pulse"},C))}),e.jsx(D,{stats:K})]})}),e.jsx("div",{className:"flex justify-end gap-3 p-5 border-t border-gray-100",children:e.jsx(U.button,{onClick:n,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-300",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close Dashboard"})})]})})},Yt=({closeFnc:n,visible:i,allBlogs:a})=>{var C,E,R;const[s,u]=I.useState({selectedBlog:null,title:"",content:"",keywords:[]}),[K,F]=I.useState(null),[f,k]=I.useState(null),[N,h]=I.useState(!1),A=xe();I.useEffect(()=>{f&&(h(!0),A(Es(f)).unwrap().then(b=>{b!=null&&b._id?u(y=>o(l({},y),{title:b.title||"",content:b.content||"",keywords:b.focusKeywords||[],selectedBlog:b,contentType:"markdown"})):z.error("Blog details not found.")}).catch(b=>{console.error("Failed to fetch blog by ID:",b),z.error("Failed to fetch blog details.")}).finally(()=>h(!1)))},[f,A]);const T=b=>{const y=a.find($=>$._id===b);y&&(k(y._id),u({selectedBlog:y,title:y.title||"",content:y.content||"",keywords:y.focusKeywords||[]}),F(null))},B=()=>ae(null,null,function*(){var b;if(!((b=s.selectedBlog)!=null&&b._id)){z.error("Please select a blog.");return}if(s.content.length<500){z.warning("Your content is too short. This may affect performance analysis accuracy.");return}h(!0);try{const y=yield A(Ee(s.selectedBlog._id)).unwrap();F(y.stats||y),z.success("Performance insights loaded successfully.")}catch(y){console.error("Failed to fetch blog stats:",y),z.error("Failed to load performance stats.")}finally{h(!1)}}),g={flesch:"📘 Flesch Reading Ease (0–100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"📗 SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"📙 ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"📈 Blog Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},M=({type:b="seo"})=>e.jsx(je,{title:g[b],trigger:["hover","click"],placement:"top",children:e.jsx(gs,{className:"ml-1 text-gray-500 hover:text-blue-500 cursor-pointer"})}),D=({icon:b,label:y,value:$,color:d,delay:S=0,suffix:_="",description:H=""})=>e.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:S*.1,duration:.3},className:`p-4 bg-white rounded-lg border ${d} shadow-sm hover:shadow-md transition-shadow w-full sm:w-auto`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[b&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-md text-blue-500",children:b}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:y}),e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:[$,_]}),H&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:H})]})]})}),c=({score:b,max:y,label:$,level:d,color:S})=>e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm w-full",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600 flex items-center gap-1",children:[$,e.jsx(M,{type:/seo/gi.test($)?"seo":"flesch"})]}),e.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:d})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full ${S} transition-all duration-500`,style:{width:`${b/y*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:[b," / ",y]})})]})]}),v=({stats:b})=>{var x,p,j,w,P,X,se;if(!b)return null;const{readabililty:y={},seo:$={},engagement:d={},metadata:S={}}=b,_=($==null?void 0:$.keywordDensity)||{},H=Object.keys(_).filter(V=>V.split(" ").length<=2).length,G=Object.keys(_).filter(V=>V.split(" ").length>2).length,W=Object.entries(_).map(([V,{count:Q,density:ce}],q)=>({key:V,keyword:V,count:Q,density:ce,animationDelay:q*.1})),r=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(V,Q)=>V.density-Q.density,render:V=>`${V.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 sm:p-6 mt-4 sm:mt-6",children:[e.jsx("div",{className:"mb-4 sm:mb-6 text-center",children:e.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-6 sm:mb-8 capitalize",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-base sm:text-xl font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(S==null?void 0:S.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(S==null?void 0:S.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(S==null?void 0:S.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(S==null?void 0:S.aiModel)||"-"})]})]}),(S==null?void 0:S.generatedAt)&&e.jsxs("div",{className:"mt-3 sm:mt-4 bg-gray-50 p-3 rounded-lg border normal-case border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(S.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-base sm:text-xl font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[!!($!=null&&$.score)&&e.jsx(c,{score:($==null?void 0:$.score)||0,max:100,label:"Blog Score",level:`${($==null?void 0:$.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsx(D,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:($==null?void 0:$.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(D,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:($==null?void 0:$.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(D,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:($==null?void 0:$.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-4 sm:mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-2 sm:mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(x=$==null?void 0:$.focusKeywords)==null?void 0:x.map((V,Q)=>e.jsx(U.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:Q*.1},className:"px-2 sm:px-3 py-1 bg-blue-50 rounded-full text-xs sm:text-sm text-blue-700 border border-blue-100 hover:bg-blue-100 transition-colors",children:V},V))})]}),e.jsxs("div",{className:"mt-4 sm:mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-2 sm:mb-3",children:"Keyword Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-3 sm:mb-4",children:[e.jsx(D,{icon:e.jsx(nt,{className:"w-4 h-4 sm:w-5 sm:h-5"}),label:"Short-Tail Keywords",value:H,color:"border-blue-100",delay:0}),e.jsx(D,{icon:e.jsx(wt,{className:"w-4 h-4 sm:w-5 sm:h-5"}),label:"Long-Tail Keywords",value:G,color:"border-blue-100",delay:.1})]}),e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-2 sm:mb-3",children:"Keyword Densities"}),e.jsx(U.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},className:"overflow-x-auto w-full",children:e.jsx(ze,{dataSource:W,columns:r,pagination:!1,components:{body:{row:ce=>{var q=ce,{children:V}=q,Q=Ke(q,["children"]);var de;const J=((de=W[Q["data-row-key"]])==null?void 0:de.animationDelay)||0;return e.jsx(U.tr,o(l({},Q),{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:J},className:"w-full",children:V}))}}},className:"min-w-[300px] sm:min-w-full md:min-w-[600px] lg:min-w-full rounded-md overflow-hidden capitalize"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-1.5 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-base sm:text-xl font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsx(c,{score:((p=y==null?void 0:y.fleschEase)==null?void 0:p.score)||0,max:100,label:"Flesch Ease",level:((j=y==null?void 0:y.fleschEase)==null?void 0:j.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:["SMOG Index",e.jsx(M,{type:"smog"})]}),e.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:((w=y==null?void 0:y.smogIndex)==null?void 0:w.level)||"-"})]}),e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-2",children:[((P=y==null?void 0:y.smogIndex)==null?void 0:P.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:["ARI ",e.jsx(M,{type:"ari"})]}),e.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:((X=y==null?void 0:y.ari)==null?void 0:X.level)||"-"})]}),e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-2",children:[((se=y==null?void 0:y.ari)==null?void 0:se.score)||0," grade"]})]}),e.jsx(D,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(y==null?void 0:y.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mt-3 sm:mt-4",children:[e.jsx(D,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 sm:w-5 sm:h-5",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(y==null?void 0:y.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:(y==null?void 0:y.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:(y==null?void 0:y.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:(y==null?void 0:y.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-800 mt-1",children:(y==null?void 0:y.syllableCount)||0})]})]})]})]})};return I.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[i]),e.jsx(oe,{title:e.jsxs(U.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"p-1.5 sm:p-2 bg-blue-500 rounded-md text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3 h-3 sm:w-4 sm:h-4",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Performance Dashboard"})]}),open:i,onCancel:n,footer:null,width:"90vw",centered:!0,styles:{body:{maxHeight:"80vh",overflowY:"auto"},content:{maxWidth:"900px",margin:"0 auto"}},className:"rounded-lg sm:rounded-2xl shadow-lg",children:e.jsxs("div",{className:"p-0 sm:p-4 space-y-4 sm:space-y-6",children:[e.jsxs(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-sm sm:text-base font-semibold text-gray-700 mt-2 sm:mt-0 mb-1 sm:mb-2",children:"Select Blog"}),e.jsx("div",{className:"relative",children:e.jsxs(fe,{showSearch:!0,filterOption:(b,y)=>{var $;return($=y==null?void 0:y.children)==null?void 0:$.toLowerCase().includes(b.toLowerCase())},className:"w-full",placeholder:"Select Blog",onChange:T,value:((C=s.selectedBlog)==null?void 0:C._id)||"",children:[e.jsx(fe.Option,{value:"",children:"Select Blog"}),a==null?void 0:a.map(b=>e.jsx(fe.Option,{value:b._id,className:"bg-gray-50",children:b.title||"Untitled"},b._id))]})})]}),!s.selectedBlog&&e.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8 sm:py-10 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:e.jsx("p",{className:"text-sm sm:text-lg text-gray-600",children:"Select a blog to view content and performance insights."})}),s.selectedBlog&&e.jsxs(e.Fragment,{children:[e.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"p-3 sm:p-4 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700",children:"Content Preview"})}),e.jsx("div",{children:e.jsx("div",{className:"text-gray-700 max-h-[200px] sm:max-h-[300px] overflow-y-auto whitespace-pre-wrap leading-relaxed p-3 sm:p-4 rounded-md text-sm sm:text-base",children:(E=s==null?void 0:s.content)!=null&&E.trim()?s.content.split(`
`).map((b,y)=>b.startsWith("### ")?e.jsx("h3",{className:"text-base sm:text-lg font-semibold mt-2",children:b.replace("### ","").replace(/[*_~>`]/g,"").trim()},y):b.startsWith("## ")?e.jsx("h2",{className:"text-lg sm:text-xl font-semibold mt-2",children:b.replace("## ","").replace(/[*_~>`]/g,"").trim()},y):b.startsWith("# ")?e.jsx("h1",{className:"text-xl sm:text-2xl font-bold mt-2",children:b.replace("# ","").replace(/[*_~>`]/g,"").trim()},y):e.jsx("p",{className:"text-sm sm:text-base mt-2",children:b.replace(/[*_~>`]/g,"").trim()},y)):e.jsx(lt,{description:"No content available for this blog"})})})]}),((R=s.keywords)==null?void 0:R.length)>0&&e.jsxs(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-3 sm:p-4 bg-gray-50 border border-gray-200 rounded-lg shadow-sm",children:[e.jsx("h4",{className:"text-sm sm:text-md font-semibold text-gray-700 mb-2",children:"Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.keywords.map((b,y)=>e.jsx(U.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:y*.1},className:"px-2 sm:px-3 py-1 bg-blue-50 rounded-full text-xs sm:text-sm text-blue-700 border border-blue-100 hover:bg-blue-100 transition-colors",children:b},b))})]}),!K&&e.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center",children:e.jsx(Me,{type:"primary",size:"large",onClick:B,loading:N,className:"bg-blue-600 text-white hover:bg-blue-700 rounded-lg px-4 sm:px-6 py-2 transition-all duration-200",disabled:N||!s.selectedBlog,children:N?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(tt,{})," Loading Insights..."]}):"Get Performance Insights"})}),K&&e.jsx(v,{stats:K})]})]})})},{Option:le}=fe,Xt=({handleNext:n,handleClose:i,handlePrevious:a,data:s,setData:u})=>{var x;const[K,F]=I.useState((s==null?void 0:s.topic)||""),[f,k]=I.useState(!1),N=18,[h,A]=I.useState(!1),{selectedKeywords:T}=ie(p=>p.analysis),B=xe(),[g,M]=I.useState({focusKeywordInput:(s==null?void 0:s.focusKeywordInput)||"",focusKeywords:(s==null?void 0:s.focusKeywords)||[],keywordInput:(s==null?void 0:s.keywordInput)||"",keywords:(s==null?void 0:s.keywords)||[]}),[D,c]=I.useState({title:!1,topic:!1,tone:!1,focusKeyword:!1,focusKeywordInput:"",keyword:!1,keywordInput:""}),[v,C]=I.useState([]),[E,R]=I.useState(!1);I.useEffect(()=>{T&&M(p=>o(l({},p),{focusKeywords:T.focusKeywords||p.focusKeywords,keywords:T.keywords||p.keywords}))},[T]),I.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),I.useEffect(()=>{k(!1),C([])},[]);const b=p=>{const j=p.target.value;M(w=>o(l({},w),{keywordInput:j})),u(w=>o(l({},w),{keywordInput:j}))},y=()=>{const p=g.keywordInput;if(p.trim()!==""){const j=p.split(",").map(w=>w.trim()).filter(w=>w!==""&&!g.keywords.includes(w));j.length>0&&M(w=>o(l({},w),{keywords:[...w.keywords,...j],keywordInput:""}))}},$=p=>{const j=p.target.value;M(w=>o(l({},w),{focusKeywordInput:j})),u(w=>o(l({},w),{focusKeywordInput:j}))},d=()=>{const p=g.focusKeywordInput;if(p.trim()!==""){const j=p.split(",").map(w=>w.trim()).filter(w=>w!==""&&!g.focusKeywords.includes(w));if(j.length>0){const w=[...g.focusKeywords,...j].slice(0,3);M(P=>o(l({},P),{focusKeywords:w,focusKeywordInput:""})),u(P=>o(l({},P),{focusKeywords:w,focusKeywordInput:""}))}}},S=(p,j)=>{const w=[...g[j]];w.splice(p,1),M(P=>o(l({},P),{[j]:w})),u(P=>o(l({},P),{[j]:w}))},_=(p,j)=>{p.key==="Enter"&&(p.preventDefault(),j==="focusKeywords"?d():y())},H=p=>{u(j=>o(l({},j),{tone:p})),c(j=>o(l({},j),{tone:!1}))},G=()=>ae(null,null,function*(){if(!K.trim()||g.focusKeywords.length===0||g.keywords.length===0){z.error("Please enter a topic and at least one keyword before generating titles.");return}R(!0);try{const p=l({keywords:g.keywords,focusKeywords:g.focusKeywords,topic:K,template:s.selectedTemplate.name,userDefinedLength:(s==null?void 0:s.userDefinedLength)||1e3},f&&{oldTitles:v}),j=yield B(Ts(p)).unwrap();C(j),k(!0)}catch(p){console.error("Error generating titles:",p),z.error("Failed to generate titles. Please try again later.")}finally{R(!1)}}),W=()=>{var w;const p={title:!((w=s==null?void 0:s.title)!=null&&w.trim()),topic:!(K!=null&&K.trim()),tone:!(s!=null&&s.tone),focusKeyword:g.focusKeywords.length===0,keyword:g.keywords.length===0};if(c(p),Object.values(p).some(P=>P)){z.error("Please fill in all required fields.");return}const j=o(l({},s),{topic:K,focusKeywords:g.focusKeywords,keywords:g.keywords,keywordInput:g.keywordInput,focusKeywordInput:g.focusKeywordInput,userDefinedLength:(s==null?void 0:s.userDefinedLength)||1e3});u(j),n()},r=()=>{M({focusKeywordInput:"",focusKeywords:[],keywordInput:"",keywords:[]}),F(""),C([]),k(!1),i()};return I.useEffect(()=>{s&&!s.isCheckedGeneratedImages&&u(p=>o(l({},p),{isCheckedGeneratedImages:!0,isUnsplashActive:!0}))},[s,u]),e.jsx(oe,{title:"Step 2: Crucial Details",open:!0,onCancel:r,footer:[e.jsx("button",{onClick:a,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Back"},"back"),e.jsx("button",{onClick:W,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsx("div",{className:"p-2 md:p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Topic ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:`w-full px-3 py-2 bg-gray-50 border ${D.topic?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., Tech Blog",value:K,onChange:p=>{F(p.target.value),c(j=>o(l({},j),{topic:!1}))}})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Focus Keywords (up to 3)",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:g.focusKeywordInput,onChange:$,onKeyDown:p=>_(p,"focusKeywords"),className:`flex-1 px-3 py-2 bg-gray-50 border ${D.focusKeyword?"border-red-500":"border-gray-200"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 text-sm`,placeholder:"Enter focus keywords, separated by commas"}),e.jsx("button",{onClick:d,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 text-sm flex items-center",children:e.jsx(pe,{size:16})})]}),g.focusKeywords.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:g.focusKeywords.map((p,j)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[p,e.jsx("button",{onClick:()=>S(j,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},j))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Keywords",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:g.keywordInput,onChange:b,onKeyDown:p=>_(p,"keywords"),className:`flex-1 px-3 py-2 bg-gray-50 border ${D.keyword?"border-red-500":"border-gray-200"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 text-sm`,placeholder:"Enter keywords, separated by commas"}),e.jsx("button",{onClick:y,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 text-sm flex items-center",children:e.jsx(pe,{size:16})})]}),g.keywords.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[(h?g.keywords:g.keywords.slice(0,N)).map((p,j)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[p,e.jsx("button",{onClick:()=>S(j,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},`${p}-${j}`)),g.keywords.length>N&&e.jsx("button",{type:"button",onClick:()=>A(!h),className:"text-xs text-blue-600 underline ml-2 self-center",children:h?"Show less":`+${g.keywords.length-N} more`})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"block text-sm sm:text-base font-medium mb-2",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("input",{type:"text",className:`flex-1 px-3 py-2 text-sm sm:text-base bg-gray-50 border ${D.title?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., How to Create a Tech Blog",value:(s==null?void 0:s.title)||"",onChange:p=>{u(j=>o(l({},j),{title:p.target.value})),c(j=>o(l({},j),{title:!1}))}}),e.jsx("button",{onClick:G,disabled:E,className:`px-4 py-2 sm:px-5 sm:py-2.5 bg-gradient-to-r from-[#1B6FC9] to-[#4C9FE8] text-white rounded-lg flex items-center justify-center text-sm sm:text-base ${E?"opacity-50 cursor-not-allowed":"hover:from-[#1B6FC9]/90 hover:to-[#4C9FE8]/90"}`,children:E?e.jsx(ot,{size:"small"}):f?e.jsxs(e.Fragment,{children:[e.jsx(it,{size:16,className:"mr-2"}),"Generate More"]}):e.jsxs(e.Fragment,{children:[e.jsx(hs,{size:16,className:"mr-2"}),"Generate Titles"]})})]}),v.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2 items-center",children:v.map((p,j)=>{const w=s.title===p;return e.jsx("div",{className:"relative group",children:e.jsx("button",{type:"button",onClick:()=>{u(P=>o(l({},P),{title:p})),c(P=>o(l({},P),{title:!1}))},className:`px-3 py-1 rounded-full text-sm sm:text-base border transition w-full truncate
                ${w?"bg-[#1B6FC9] text-white border-[#1B6FC9]":"bg-gray-100 text-gray-700 border-gray-300 opacity-60 hover:opacity-100 hover:bg-gray-200"}`,children:p})},j)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(fe,{className:"w-full",value:(s==null?void 0:s.tone)||void 0,onChange:H,placeholder:"Select tone",status:D.tone?"error":"",children:[e.jsx(le,{value:"professional",children:"Professional"}),e.jsx(le,{value:"casual",children:"Casual"}),e.jsx(le,{value:"friendly",children:"Friendly"}),e.jsx(le,{value:"formal",children:"Formal"}),e.jsx(le,{value:"conversational",children:"Conversational"}),e.jsx(le,{value:"witty",children:"Witty"}),e.jsx(le,{value:"informative",children:"Informative"}),e.jsx(le,{value:"inspirational",children:"Inspirational"}),e.jsx(le,{value:"persuasive",children:"Persuasive"}),e.jsx(le,{value:"empathetic",children:"Empathetic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Choose length of Blog"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:(s==null?void 0:s.userDefinedLength)||1e3,className:`w-full h-1 rounded-lg appearance-none cursor-pointer \r
                    [&::-webkit-slider-thumb]:appearance-none \r
                    [&::-webkit-slider-thumb]:h-4 \r
                    [&::-webkit-slider-thumb]:w-4 \r
                    [&::-webkit-slider-thumb]:rounded-full \r
                    [&::-webkit-slider-thumb]:bg-[#1B6FC9]`,onChange:p=>{u(j=>o(l({},j),{userDefinedLength:parseInt(p.target.value,10)}))},style:{background:`linear-gradient(to right, #1B6FC9 ${(((s==null?void 0:s.userDefinedLength)||1e3)-500)/45}%, #e5e7eb 0%)`}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[(s==null?void 0:s.userDefinedLength)||1e3," words"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add Brief Section (Optional)"}),e.jsx("textarea",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]",rows:3,placeholder:"Enter brief section",value:(s==null?void 0:s.brief)||"",onChange:p=>u(j=>o(l({},j),{brief:p.target.value}))}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-xs text-gray-500",children:[((x=s==null?void 0:s.brief)==null?void 0:x.length)||0,"/2000 characters"]})})]})]})})})},Jt=I.memo(Xt),Zt=({closeFnc:n,openSecondStepModal:i,openJobModal:a,visible:s})=>{var W;const[u,K]=I.useState(""),[F,f]=I.useState([]),[k,N]=I.useState(1),[h,A]=I.useState(!1),T=xe(),{keywordAnalysis:B,loading:g,selectedKeywords:M}=ie(r=>r.analysis);I.useEffect(()=>{F.length===0&&(N(1),T(Te()))},[F,T]);const D=()=>{const r=u.trim();if(!r)return;const x=F.map(w=>w.toLowerCase()),p=new Set,j=r.split(",").map(w=>w.trim()).filter(w=>w&&!x.includes(w.toLowerCase())&&!p.has(w.toLowerCase())&&p.add(w.toLowerCase()));j.length>0&&(f([...F,...j]),K(""))},c=r=>{var j;const x=F[r],p=F.filter((w,P)=>P!==r);if(f(p),p.length===0&&(T(Te()),N(1)),(j=M==null?void 0:M.allKeywords)!=null&&j.includes(x)){const w=M.allKeywords.filter(P=>P!==x);T(ke({focusKeywords:w.slice(0,3),keywords:w,allKeywords:w}))}},v=r=>{r.key==="Enter"&&(r.preventDefault(),D())},C=()=>{F.length>0&&(T(Ps(F)),N(1))},E=()=>{const r={LOW:[],MEDIUM:[],HIGH:[]};B==null||B.forEach(w=>{r[w.competition]&&r[w.competition].push({keyword:w.keyword,competition_index:w.competition_index})});const x=r.LOW.sort((w,P)=>w.competition_index-P.competition_index).slice(0,2),p=r.MEDIUM.sort((w,P)=>w.competition_index-P.competition_index).slice(0,2),j=r.HIGH.sort((w,P)=>w.competition_index-P.competition_index).slice(0,2);return[...x.map(w=>w.keyword),...p.map(w=>w.keyword),...j.map(w=>w.keyword)]},R=()=>{const r=E();if(!r.length||!(B!=null&&B.length)){oe.error({title:"No Auto-Selected Keywords",content:"No keywords available to auto-select. Please analyze keywords first."});return}oe.info({icon:null,title:e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("span",{children:"Auto-Selected Keywords"})}),content:e.jsxs("div",{children:[e.jsx("p",{children:"We selected these keywords automatically based on competition index:"}),e.jsx("ul",{className:"list-disc ml-5 mt-2",children:r.map(x=>e.jsx("li",{className:"capitalize text-sm sm:text-base",children:x},x))}),e.jsx("p",{className:"mt-3 text-sm sm:text-base",children:"Do you want to add these too?"})]}),okText:"Accept",cancelText:"Decline",closable:!0,onOk(){const x=[...(M==null?void 0:M.allKeywords)||[],...r.filter(p=>{var j;return!((j=M==null?void 0:M.allKeywords)!=null&&j.includes(p))})].slice(0,6);T(ke({focusKeywords:x.slice(0,3),keywords:x,allKeywords:x}))},onCancel(){const x=(M==null?void 0:M.allKeywords)||[];T(ke({focusKeywords:x.slice(0,3),keywords:x,allKeywords:x}))},okButtonProps:{className:"bg-blue-600 text-white"}})},b=r=>ae(null,null,function*(){const x=(M==null?void 0:M.allKeywords)||[];yield T(ke({focusKeywords:x.slice(0,3),keywords:x.slice(3),allKeywords:x})),setTimeout(()=>{r==="blog"?i({focusKeywords:x.slice(0,3),keywords:x.slice(3),allKeywords:x}):a(),n()},100)}),y=()=>{b("blog")},$=()=>{b("job")},d=[{title:"Keyword",dataIndex:"keyword",key:"keyword",sorter:(r,x)=>r.keyword.localeCompare(x.keyword),render:r=>e.jsx("span",{className:"font-medium capitalize text-sm sm:text-base",children:r})},{title:"Monthly Searches",dataIndex:"avgMonthlySearches",key:"avgMonthlySearches",sorter:(r,x)=>r.avgMonthlySearches-x.avgMonthlySearches,render:r=>new Intl.NumberFormat().format(r)},{title:"Competition",dataIndex:"competition",key:"competition",sorter:(r,x)=>r.competition_index-x.competition_index,render:r=>e.jsx(dt,{color:r==="LOW"?"green":r==="MEDIUM"?"orange":r==="HIGH"?"red":"gray",className:"text-xs sm:text-sm",children:r})},{title:"Competition Index",dataIndex:"competition_index",key:"competition_index",sorter:(r,x)=>r.competition_index-x.competition_index,render:r=>r||"-"}],S=(B==null?void 0:B.map((r,x)=>({key:x,keyword:r.keyword,avgMonthlySearches:r.avgMonthlySearches,competition:r.competition,competition_index:r.competition_index,avgCpc:r.avgCpc,lowBid:r.lowBid,highBid:r.highBid})))||[],_=h?S.filter(r=>{var x;return(x=M==null?void 0:M.allKeywords)==null?void 0:x.includes(r.keyword)}):S,H=r=>N(r);I.useEffect(()=>()=>{f([]),K(""),N(1),A(!1)},[]),I.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[s]);const G=((W=M==null?void 0:M.allKeywords)==null?void 0:W.length)>0;return e.jsx(oe,{open:s,onCancel:n,closable:!0,footer:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3 pt-2 border-t border-gray-100",children:[e.jsx(U.button,{onClick:R,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 w-full sm:w-auto",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:g||!(B!=null&&B.length),style:{opacity:g||!(B!=null&&B.length)?.5:1,cursor:g||!(B!=null&&B.length)?"not-allowed":"pointer"},children:"Show Auto-Selected Keywords"}),e.jsx(U.button,{onClick:y,className:`px-4 py-2 text-sm font-medium rounded-lg w-full sm:w-auto ${G?"text-gray-700 bg-gray-100 hover:bg-gray-200":"text-gray-400 bg-gray-200 cursor-not-allowed"}`,whileHover:{scale:G?1.03:1},whileTap:{scale:G?.97:1},disabled:!G,children:"Create Blog"}),e.jsx(U.button,{onClick:$,className:`px-4 py-2 text-sm font-medium rounded-lg w-full sm:w-auto ${G?"text-gray-700 bg-gray-100 hover:bg-gray-200":"text-gray-400 bg-gray-200 cursor-not-allowed"}`,whileHover:{scale:G?1.03:1},whileTap:{scale:G?.97:1},disabled:!G,children:"Create New Job"}),e.jsx(U.button,{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 w-full sm:w-auto",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close"})]})],width:"90vw",centered:!0,title:"Keyword Research",maskClosable:!0,styles:{content:{maxWidth:"1000px",margin:"0 auto"},body:{padding:"16px"}},className:"rounded-lg sm:rounded-xl",children:e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx("p",{className:"mb-3 sm:mb-4 text-gray-600 text-sm sm:text-base",children:"Find and analyze keywords for your blog"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4 sm:mb-6",children:[e.jsx(ct,{placeholder:"Enter a keyword",value:u,onChange:r=>K(r.target.value),onKeyPress:v,className:"flex-1 text-sm sm:text-base","aria-label":"Enter keyword"}),e.jsx(U.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(Me,{type:"primary",onClick:D,className:"w-full sm:w-auto",children:"Add"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4 sm:mb-6",children:F.map((r,x)=>e.jsxs(U.div,{initial:{opacity:0,scale:.8},animate:{opacity:1},className:"bg-blue-100 text-blue-800 px-2 sm:px-3 py-1 rounded-full flex items-center text-xs sm:text-sm",children:[e.jsx("span",{className:"capitalize",children:r}),e.jsx(U.div,{whileHover:{scale:1.2},whileTap:{scale:.8},className:"ml-1 sm:ml-2 cursor-pointer",onClick:()=>c(x),children:e.jsx(rt,{className:"text-blue-800 text-xs"})})]},x))}),e.jsx(U.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(Me,{block:!0,type:"primary",onClick:C,loading:g,disabled:F.length===0,className:"text-sm sm:text-base",children:"Analyze Keywords"})}),!g&&(B==null?void 0:B.length)>0&&e.jsxs("div",{className:"mt-4 sm:mt-6",children:[e.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[e.jsx(Re,{checked:h,onChange:r=>A(r),disabled:!G,size:"small"}),e.jsx("span",{className:"ml-2 text-gray-600 text-sm sm:text-base",children:"Show Selected Keywords Only"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx(ze,{columns:d,dataSource:_,pagination:{current:k,pageSize:5,showSizeChanger:!1,onChange:H,total:_.length,responsive:!0},rowSelection:{selectedRowKeys:(M==null?void 0:M.allKeywords)||[],onChange:r=>{T(ke({focusKeywords:r.slice(0,3),keywords:r,allKeywords:r}))},getCheckboxProps:r=>({name:r.keyword})},rowKey:r=>r.keyword,scroll:{x:600},className:"min-w-[600px]"})})]})]})})},er=({closeFnc:n})=>{const[i,a]=I.useState(0),[s,u]=I.useState(null),[K,F]=I.useState([]),[f,k]=I.useState([]),[N,h]=I.useState(!1),A=ie(os),[T,B]=I.useState({template:!1,focusKeywords:!1,keywords:!1,videoLinks:!1,otherLinks:!1}),[g,M]=I.useState({template:null,keywords:[],focusKeywords:[],videoLinkInput:"",otherLinkInput:"",focusKeywordInput:"",keywordInput:""}),D=xe(),c=ve(),{handlePopup:v}=Ce(),C=()=>{if(i===0&&!g.template){B(r=>o(l({},r),{template:!0})),z.error("Please select a template before proceeding.");return}B(r=>o(l({},r),{template:!1})),a(i+1)},E=()=>{a(i-1)},R=()=>{n()},b=()=>{const r={template:!g.template,focusKeywords:g.focusKeywords.length===0,keywords:g.keywords.length===0,videoLinks:K.length===0,otherLinks:N&&f.length===0};if(B(r),Object.values(r).some(p=>p)){z.error("Please fill all required fields.");return}if(K.length>3){B(p=>o(l({},p),{videoLinks:!0})),z.error("You can only add up to 3 video links.");return}if(f.length>3){B(p=>o(l({},p),{otherLinks:!0})),z.error("You can only add up to 3 other links.");return}const x=o(l({},g),{videoLinks:[...K,...f]});v({title:"Quick Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Quick blog generation costs ",e.jsxs("b",{children:[Oe("blog.quick")," credits"]}),"."]}),e.jsx("br",{}),e.jsx("span",{children:"Are you sure you want to proceed?"})]}),onConfirm:()=>{D(Ds({blogData:x,user:A,navigate:c})),R()}})},y=r=>{u(r),M(x=>o(l({},x),{template:re[r].name})),B(x=>o(l({},x),{template:!1}))},$=(r,x)=>{const p=x==="keywords"?"keywordInput":"focusKeywordInput";M(j=>o(l({},j),{[p]:r.target.value})),B(j=>o(l({},j),{[x]:!1}))},d=r=>{const x=r==="keywords"?"keywordInput":"focusKeywordInput",p=g[x].trim();if(!p){B(P=>o(l({},P),{[r]:!0})),z.error("Please enter a keyword.");return}const j=new Set(g[r].map(P=>P.trim().toLowerCase())),w=p.split(",").map(P=>P.trim()).filter(P=>P!==""&&!j.has(P.toLowerCase()));if(w.length===0){B(P=>o(l({},P),{[r]:!0})),z.error("Please enter valid, non-duplicate keywords separated by commas.");return}if(r==="focusKeywords"&&g[r].length+w.length>3){B(P=>o(l({},P),{[r]:!0})),z.error("You can only add up to 3 focus keywords.");return}M(P=>o(l({},P),{[r]:[...P[r],...w],[x]:""})),B(P=>o(l({},P),{[r]:!1}))},S=(r,x)=>{const p=[...g[x]];p.splice(r,1),M(o(l({},g),{[x]:p}))},_=(r,x)=>{r.key==="Enter"&&(r.preventDefault(),d(x))},H=r=>{var ce;const x=r==="video",p=x?"videoLinkInput":"otherLinkInput",j=x?"videoLinks":"otherLinks",w=(ce=g[p])==null?void 0:ce.trim(),P=x?K:f,X=x?F:k,se=3;if(!w){B(q=>o(l({},q),{[j]:!0})),z.error(`Please enter at least one ${x?"video":"other"} link.`);return}const V=w.split(",").map(q=>q.trim()).filter(q=>q!==""),Q=[];for(let q of V){let J=q;/^https?:\/\//i.test(J)||(J=`https://${J}`);try{const de=new URL(J);if(x&&!["youtube.com","youtu.be"].some(te=>de.hostname.includes(te))){B(te=>o(l({},te),{videoLinks:!0})),z.error("Please enter a valid video URL (e.g., YouTube).");continue}!K.includes(J)&&!f.includes(J)&&!Q.includes(J)&&Q.push(J)}catch(de){B(be=>o(l({},be),{[j]:!0})),z.error(`Invalid ${x?"video":"other"} URL: ${q}`)}}if(Q.length===0){B(q=>o(l({},q),{[j]:!0})),z.error(`No valid, unique ${x?"video":"other"} URLs found.`);return}if(P.length+Q.length>se){B(q=>o(l({},q),{[j]:!0})),z.error(`You can only add up to ${se} ${x?"video":"other"} links.`);return}X([...P,...Q]),M(q=>o(l({},q),{[p]:""})),B(q=>o(l({},q),{[j]:!1}))},G=(r,x)=>{r.key==="Enter"&&(r.preventDefault(),H(x))},W=(r,x)=>{const p=x==="video",j=p?K:f,w=p?F:k,P=[...j];P.splice(r,1),w(P),B(X=>o(l({},X),{[p?"videoLinks":"otherLinks"]:!1}))};return e.jsx(oe,{title:"Generate Quick Blog",open:!0,onCancel:R,footer:i===0?[e.jsx("button",{onClick:C,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Next step",children:"Next"},"next")]:[e.jsx("button",{onClick:E,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors","aria-label":"Previous step",children:"Previous"},"previous"),e.jsx("button",{onClick:b,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 transition-colors ml-3","aria-label":"Submit quick blog",children:"Submit"},"submit")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"p-2 md:p-4 lg:p-6 space-y-6 max-h-[80vh] overflow-y-auto",children:[i===0&&e.jsxs("div",{children:[e.jsx("div",{className:"sm:hidden grid grid-cols-2 gap-4",children:re.map((r,x)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 w-full ${g.template===r.name?"border-gray-300 border-2 rounded-md":""}`,onClick:()=>y(x),role:"button",tabIndex:0,onKeyDown:p=>p.key==="Enter"&&y(x),"aria-label":`Select ${r.name} template`,children:e.jsxs("div",{className:"bg-white rounded-md overflow-hidden shadow-sm",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:r.imgSrc||"/placeholder.svg",alt:r.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:r.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:r.description})]})]})},x))}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx(De,{className:"flex flex-row gap-4",children:re.map((r,x)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 w-full ${g.template===r.name?"border-gray-300 border-2 rounded-md":""}`,onClick:()=>y(x),role:"button",tabIndex:0,onKeyDown:p=>p.key==="Enter"&&y(x),"aria-label":`Select ${r.name} template`,children:e.jsxs("div",{className:"bg-white rounded-md overflow-hidden shadow-sm",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:r.imgSrc||"/placeholder.svg",alt:r.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:r.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:r.description})]})]})},x))}),T.template&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Please select a template."})]})]}),i===1&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Focus Keywords ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:g.focusKeywordInput,onChange:r=>$(r,"focusKeywords"),onKeyDown:r=>_(r,"focusKeywords"),className:`flex-1 px-3 py-2 border ${T.focusKeywords?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter focus keywords, separated by commas","aria-label":"Focus keywords"}),e.jsx("button",{onClick:()=>d("focusKeywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Add focus keywords",children:e.jsx(pe,{size:16})})]}),T.focusKeywords&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please add at least one focus keyword."}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:g.focusKeywords.map((r,x)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[r,e.jsx("button",{onClick:()=>S(x,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove ${r}`,children:e.jsx(ne,{size:16})})]},x))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:g.keywordInput,onChange:r=>$(r,"keywords"),onKeyDown:r=>_(r,"keywords"),className:`flex-1 px-3 py-2 border ${T.keywords?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter secondary keywords, separated by commas","aria-label":"Secondary keywords"}),e.jsx("button",{onClick:()=>d("keywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Add secondary keywords",children:e.jsx(pe,{size:16})})]}),T.keywords&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please add at least one secondary keyword."}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:g.keywords.map((r,x)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[r,e.jsx("button",{onClick:()=>S(x,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove ${r}`,children:e.jsx(ne,{size:16})})]},x))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Video Links (e.g., YouTube) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:g.videoLinkInput,onChange:r=>M(x=>o(l({},x),{videoLinkInput:r.target.value})),onKeyDown:r=>G(r,"video"),className:`flex-1 px-3 py-2 border ${T.videoLinks?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter video links (e.g., YouTube), separated by commas","aria-label":"Video links"}),e.jsx("button",{onClick:()=>H("video"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Add video links",children:e.jsx(pe,{size:16})})]}),T.videoLinks&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please add at least one valid video link (up to 3 allowed)."}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:K.map((r,x)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[r,e.jsx("button",{onClick:()=>W(x,"video"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove ${r}`,children:e.jsx(ne,{size:16})})]},x))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Other Links (e.g., articles, websites)",N&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Re,{checked:N,onChange:r=>{h(r),r||(k([]),M(x=>o(l({},x),{otherLinkInput:""})),B(x=>o(l({},x),{otherLinks:!1})))},"aria-label":"Toggle other links input"})})]}),N&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:g.otherLinkInput,onChange:r=>M(x=>o(l({},x),{otherLinkInput:r.target.value})),onKeyDown:r=>G(r,"other"),className:`flex-1 px-3 py-2 border ${T.otherLinks?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter other links (e.g., articles, websites), separated by commas","aria-label":"Other links"}),e.jsx("button",{onClick:()=>H("other"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center hover:bg-[#1B6FC9]/90 transition-colors","aria-label":"Add other links",children:e.jsx(pe,{size:16})})]}),T.otherLinks&&e.jsx("p",{className:"text-red-500 text-sm",children:"Please add at least one valid other link (up to 3 allowed)."}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((r,x)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[r,e.jsx("button",{onClick:()=>W(x,"other"),className:"ml-1 text-blue-400 hover:text-blue-600","aria-label":`Remove ${r}`,children:e.jsx(ne,{size:16})})]},x))})]})]})]})]})})};Ws.register(Gs,Hs,Us,qs,Vs,Qs,Ys,Xs);const Hr=()=>{const[n,i]=I.useState(!1),[a,s]=I.useState(0),[u,K]=I.useState(!1),[F,f]=I.useState(!1),[k,N]=I.useState(!1),[h,A]=I.useState(!1),[T,B]=I.useState(!1),[g,M]=I.useState(!1),[D,c]=I.useState(!1),[v,C]=I.useState({}),[E,R]=I.useState([]),[b,y]=I.useState(!0),{blogs:$,error:d,allBlogs:S}=ie(t=>t.blog),[_,H]=I.useState(!1),G=xe(),W=ve(),r=ie(os),{handlePopup:x}=Ce(),p=()=>i(!0),j=()=>K(!0),w=()=>K(!1),P=()=>f(!0),X=()=>f(!1),se=()=>N(!0),V=()=>N(!1),Q=()=>A(!0),ce=()=>A(!1);I.useEffect(()=>{const t=r;t&&!t.lastLogin&&H(!0)},[r]);const q=()=>{H(!1)},J=()=>{M(!1),i(!0),s(0)},de=()=>{M(!1),G(_s()),W("/jobs")};I.useEffect(()=>{G(Os())},[]),I.useEffect(()=>{G(ns());const t=setTimeout(()=>y(!1),1200);return()=>clearTimeout(t)},[G]),I.useEffect(()=>{ae(null,null,function*(){if(!localStorage.getItem("token")){W("/login");return}try{const O=yield G(Ye());Ye.rejected.match(O)&&(console.warn("Failed to load user, redirecting..."),W("/login"))}catch(O){console.error("User init failed:",O),z.error("Failed to load user data.")}})},[G,W]),I.useEffect(()=>{if($!=null&&$.data&&Array.isArray($.data)){const t=$.data.filter(m=>m.isArchived===!1).slice(0,3);R(t)}else R([])},[$]),I.useEffect(()=>{d&&z.error(d)},[d]);const be=t=>ae(null,null,function*(){var m,O;try{const L=(((m=r==null?void 0:r.credits)==null?void 0:m.base)||0)+(((O=r==null?void 0:r.credits)==null?void 0:O.extra)||0),Y=Oe("blog.single",v.aiModel||"default");x({title:"Confirm Blog Creation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Single Blog generation cost: ",e.jsxs("b",{children:[Y," credits"]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue?"})]}),onConfirm:()=>{if(Y>L){z.error("You do not have enough credits to generate this blog."),x(!1);return}G(Rs({blogData:t,user:r,navigate:W})),i(!1),s(0)}}),G(Xe())}catch(L){console.error("Error submitting form:",L),z.error("Failed to create blog.")}}),te=()=>{i(!1),s(0),C({}),G(Xe())},ye=()=>s(a+1),Ne=()=>s(a-1);return e.jsxs(e.Fragment,{children:[e.jsx(zs,{children:e.jsx("title",{children:"Home | GenWrite"})}),_&&e.jsx(Ut,{onClose:q}),e.jsxs(At,{title:`Step ${a}/3`,visible:n,onCancel:te,className:"max-h-[90vh] overflow-scroll",children:[a===0&&e.jsx(Et,{handleNext:ye,handleClose:te,data:v,setData:C}),a===1&&e.jsx(Jt,{handleNext:ye,handleClose:te,handlePrevious:Ne,data:v,setData:C}),a===2&&e.jsx(Tt,{handleNext:ye,handlePrevious:Ne,handleClose:te,data:v,setData:C,handleSubmit:be}),e.jsx("div",{className:"flex items-center justify-center mt-4",children:e.jsx("progress",{className:"w-full max-w-md",max:"3",value:a})})]}),u&&e.jsx(Ht,{closeFnc:w}),F&&e.jsx(Gt,{closeFnc:X}),k&&e.jsx(er,{closeFnc:V}),h&&e.jsx(at,{closeFnc:ce,open:h,blogs:S}),T&&e.jsx(Yt,{allBlogs:S,closeFnc:()=>B(!1),visible:()=>B(!0)}),g&&e.jsx(Zt,{closeFnc:()=>{M(!1),G(Te())},openSecondStepModal:J,openJobModal:de,visible:g}),D&&e.jsx(Qt,{closeFnc:()=>c(!1)}),e.jsxs(U.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mt-5 ml-10",children:[e.jsxs("h1",{className:"bg-clip-text bg-gradient-to-r font-bold from-blue-600 md:text-4xl text-3xl text-transparent to-purple-600",children:["Let's Begin ",e.jsx("span",{className:"ml-2 text-2xl text-yellow-400",children:"✨"})]}),e.jsxs("p",{className:"text-gray-600 text-lg mt-2",children:["Welcome back ",e.jsx("b",{children:(r==null?void 0:r.name)||"User"}),"! Ready to create something amazing today?"]})]}),e.jsxs("div",{className:"min-h-screen bg-gray-50 p-6 relative",children:[b?e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((t,m)=>e.jsx(Fe,{},m))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:2}).map((t,m)=>e.jsx(Le,{},m))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((t,m)=>e.jsx(Fe,{},m))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((t,m)=>e.jsx(Le,{},m))})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid lg:grid-cols-3 gap-4",children:e.jsx(Ae,{children:b?Array.from({length:3}).map((t,m)=>e.jsx(Fe,{},m)):qt.map((t,m)=>e.jsx(Rt,{icon:t.icon,title:t.title,content:t.content,id:t.id,gradient:t.hoverGradient,functions:{showModal:p,setModelData:C,showDaisy:j,showMultiStepModal:P,showQuickBlogModal:se,showCompetitiveAnalysis:Q}},m))})}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center",children:e.jsx(hs,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Tools"})]}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4",children:e.jsx(Ae,{children:b?Array.from({length:4}).map((t,m)=>e.jsx(Le,{},m)):Vt.map((t,m)=>{const O={};return t.id===1?O.showKeywordResearch=()=>M(!0):t.id===2?O.showSeoAnalysis=()=>c(!0):t.id===3?O.showPerformanceMonitoring=()=>B(!0):t.id===4&&(O.showCompetitiveAnalysis=()=>Q()),e.jsx(_t,{id:t.id,icon:t.icon,title:t.title,content:t.content,bgColor:t.bgColor,hoverBg:t.hoverBg,color:t.color,navigate:t.navigate,functions:O},m)})})})]}),E.length>0&&e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 mt-6",children:[e.jsx("div",{className:"mb-6 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-600 flex items-center justify-center",children:e.jsx(mt,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Projects"})]})}),e.jsxs("div",{children:[e.jsx(Ae,{children:b?Array.from({length:3}).map((t,m)=>e.jsx(Le,{},m)):E.map((t,m)=>e.jsx(Wt,{title:t.title,content:t.content,tags:t.focusKeywords,item:t,time:t.updatedAt},m))}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{className:"px-6 py-2 text-blue-600 hover:text-blue-700 font-medium hover:bg-blue-50 rounded-lg transition-colors",onClick:()=>W("/blogs"),children:"View All Projects"})})]})]})]}),e.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLScIdA2aVtugx-zMGON8LJKD4IRWtLZqiiurw-jU6wRYfOv7EA/viewform?usp=sharing&ouid=117159793210831255816",target:"_blank",rel:"noopener noreferrer",className:"fixed right-0 bottom-28 z-50",children:e.jsx("button",{className:"fixed right-[-30px] bottom-28 bg-blue-600 text-white px-4 py-2 rounded-lg rotate-90 flex items-center gap-2 hover:bg-blue-700 transition-all duration-300 shadow-md z-50",style:{backfaceVisibility:"hidden",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},"aria-label":"Provide feedback",children:"Feedback"})})]})]})};export{Hr as default};
