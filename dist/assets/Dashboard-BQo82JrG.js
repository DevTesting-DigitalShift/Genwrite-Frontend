import{I as Fe,j as e,s as T,b as W,a as V,u as ee,P as se,Q as Pe,S as Ce,G as re,m as F,T as oe,U as Te,V as De,W as Se,X as xe,Y as ne,D as ye,Z as je,$ as Ee,E as Re,H as ze,A as me,J as we,a0 as $e,a1 as _e,a2 as Oe}from"./index-DGHiW57s.js";import{b as j}from"./chunk-tiptap-Diw-eXXG.js";import{C as pe}from"./Carousel-Cq1d3aPn.js";import{o as Be}from"./UpgardePopUp-7rhWcOfI.js";import{P as he}from"./plus-CyxAP8n0.js";import{S as Ue}from"./index-B96yiMor.js";import{S as Le}from"./sparkles-B-mEaFlZ.js";import{C as Ie}from"./crown-CgIJuwts.js";import{S as Me}from"./Pagination-DR0kmCmw.js";import{P as Ge}from"./pen-tool-CvOnkxLM.js";import{Z as We}from"./zap-aeIAaMTM.js";import{c as ae}from"./createLucideIcon-C5jW9RxN.js";import{S as He}from"./search-D9LAgYQh.js";import{U as Ve}from"./users-DPOxn49H.js";import{h as Qe}from"./moment-C5S46NFB.js";import{A as Ae}from"./arrow-right-BSwhHR0B.js";import{E as qe}from"./eye-CNo1tKaf.js";import{p as ie}from"./templates-Bxc_B2TQ.js";import{g as te,R as Ye}from"./getEstimatedCost-1NotqahA.js";import{I as ve,U as Ne}from"./upload-Do5G6uA7.js";import{X}from"./x-CRSOVgfR.js";import{C as Ze}from"./CompetitiveAnalysisModal-BHviV5_v.js";import{F as fe,T as Je}from"./index-BuJtx3KA.js";import{C as Xe}from"./index-DPcBYSoY.js";import{I as es}from"./index-BYeyVrq_.js";import{S as ss,a as ke}from"./SkeletonLoader-CMKvWClM.js";import{C as ts}from"./clock-BIXxGrxt.js";import"./Overflow-CuPL40-G.js";import"./useIcons-yOSFe3cV.js";import"./index-DNyANLcl.js";import"./EllipsisOutlined-DrIzj6Xd.js";import"./Input-Ctx7f8VF.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],as=ae("activity",rs);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],ue=ae("gem",ls);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],os=ae("grid-3x3",ns);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],cs=ae("tag",is);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],ms=ae("tags",ds);var xs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function ge(){return ge=Object.assign?Object.assign.bind():function(M){for(var f=1;f<arguments.length;f++){var v=arguments[f];for(var t in v)Object.prototype.hasOwnProperty.call(v,t)&&(M[t]=v[t])}return M},ge.apply(this,arguments)}const hs=(M,f)=>j.createElement(Fe,ge({},M,{ref:f,icon:xs})),Ke=j.forwardRef(hs),us=({title:M,visible:f,onCancel:v,children:t})=>f?e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e.jsx("div",{className:"modal-overlay absolute inset-0 bg-gray-800 opacity-50"}),e.jsxs("div",{className:"modal-container bgwhi w-96 rounded-lg shadow-lg z-50 overflow-y-auto",children:[e.jsxs("div",{className:"modal-header p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold ",children:M}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:v,children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"modal-content p-4",children:t})]})]}):null,gs=({handleNext:M,handleClose:f,data:v,setData:t})=>{const[y,h]=j.useState(null),[S,x]=j.useState({userDefinedLength:0,tone:"",includeInterlink:!1,includeMetaHeadlines:!1,wordpressStatus:!0,numberOfBlogs:0,postFrequency:0,randomisedFrequency:0,template:[],focusKeywords:[],keywords:[],focusKeywordInput:"",keywordInput:""}),N=[{imgSrc:"./Images/Classic.png",name:"Classic",description:"Timeless elegance for your classic blog journey",author:"Author 1"},{imgSrc:"./Images/Listicle.png",name:"Listicle",description:"Tips for actionable success in list format.",author:"Author 2"},{imgSrc:"./Images/ProductReview.png",name:"Product Review",description:"Product insights: pros, cons, and more.",author:"Author 3"},{imgSrc:"./Images/HowTo.png",name:"How to....",description:"Step-by-step guides for practical how-to solutions.",author:"Author 4"},{imgSrc:"./Images/NewsArticle.png",name:"News Article",description:"Latest updates and breaking news coverage."},{imgSrc:"./Images/OpinionPiece.png",name:"Opinion Piece",description:"Expert insights and analytical perspectives."},{imgSrc:"./Images/CaseStudy.png",name:"Case Study",description:"In-depth analysis and real-world examples."},{imgSrc:"./Images/Interview.png",name:"Interview",description:"Engaging conversations with industry experts."}],l=k=>{h(k),t({...v,template:N[k]}),x({...S,template:[N[k].name]})},g=()=>{if(y!==null){const k=N[y],L={...v,selectedTemplate:k};t(L),M()}else T.error("Please select a template before proceeding.")};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:" w-[800px] bg-white rounded-lg shadow-xl",children:[e.jsx("div",{className:"flex items-center relative justify-between p-6",children:e.jsxs("div",{className:"flex items-center gap-2 ",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Select Template"}),e.jsx("button",{onClick:f,className:"ml-4 text-4xl absolute right-10 top-5 text-gray-400 hover:text-gray-600",children:"×"})]})}),e.jsx("div",{className:"p-6",children:e.jsx(pe,{children:N.map((k,L)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${S.template.includes(k.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>l(L),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:k.imgSrc||"/placeholder.svg",alt:k.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:k.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:k.description})]})]})},L))})}),e.jsx("div",{className:"flex justify-end p-6 border-t",children:e.jsx("button",{onClick:g,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-colors duration-300",children:"Next"})})]})})},ps=j.memo(gs),{Option:le}=Me,fs=({handleNext:M,handleClose:f,handlePrevious:v,data:t,setData:y})=>{var z,o;const[h,S]=j.useState((t==null?void 0:t.topic)||""),{user:x}=W(s=>s.auth),N=V(),l=ee(),g=((z=x==null?void 0:x.subscription)==null?void 0:z.plan)||(x==null?void 0:x.plan),[k,L]=j.useState({title:!1,topic:!1,tone:!1,imageSource:!1}),[C,p]=j.useState({focusKeywords:t.focusKeywords||[],keywords:t.keywords||[],focusKeywordInput:(t.focusKeywords||[]).join(", "),keywordInput:(t.keywords||[]).join(", ")}),[r,u]=j.useState([]),[m,i]=j.useState(!1),c=(s,a)=>{p(w=>({...w,[`${a}Input`]:s.target.value}))},b=s=>{const a=C[`${s}Input`].trim();if(!a){T.error("Please enter a keyword.");return}const w=C[s].map(K=>K.toLowerCase().trim()),n=new Set,A=a.split(",").map(K=>K.trim()).filter(K=>{const R=K.toLowerCase();return!K||n.has(R)||w.includes(R)?!1:(n.add(R),!0)});if(A.length===0){T.error("Please enter valid, non-duplicate keywords separated by commas.");return}if(s==="focusKeywords"&&C[s].length+A.length>3){T.error("You can only add up to 3 focus keywords.");return}p(K=>({...K,[s]:[...K[s],...A],[`${s}Input`]:""}))},P=(s,a)=>{const w=[...C[a]];w.splice(s,1),p(n=>({...n,[a]:w,[`${a}Input`]:w.join(", ")}))},B=(s,a)=>{s.key==="Enter"&&(s.preventDefault(),b(a))},$=s=>{y(a=>({...a,isCheckedGeneratedImages:!0,isUnsplashActive:s==="unsplash"})),L(a=>({...a,imageSource:!1}))},d=s=>{y(a=>({...a,tone:s})),L(a=>({...a,tone:!1}))},I=async()=>{if(!h.trim()){T.error("Please enter a topic before generating titles.");return}i(!0);try{const s=await N(Pe({keywords:C.keywords,focusKeywords:C.focusKeywords,topic:h,template:"default"})).unwrap();u(s)}catch{}finally{i(!1)}},D=()=>{var w;const s={title:!((w=t==null?void 0:t.title)!=null&&w.trim()),topic:!(h!=null&&h.trim()),tone:!(t!=null&&t.tone),imageSource:!(t!=null&&t.isCheckedGeneratedImages)};if(L(s),Object.values(s).some(n=>n)){T.error("Please fill in all required fields.");return}const a={...t,topic:h,focusKeywords:C.focusKeywords,keywords:C.keywords};y(a),M()};return j.useEffect(()=>{t&&!t.isCheckedGeneratedImages&&y(s=>({...s,isCheckedGeneratedImages:!0,isUnsplashActive:!0}))},[t,y]),e.jsx(se,{title:"Step 1: Let's get started",open:!0,onCancel:f,footer:[e.jsx("button",{onClick:v,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Back"},"back"),e.jsx("button",{onClick:D,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")],width:800,centered:!0,bodyStyle:{maxHeight:"80vh",overflowY:"auto"},children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-sm text-gray-600",children:"Step 1 of 3"})}),e.jsx("div",{className:"h-1 w-full bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full w-1/3 bg-[#1B6FC9] rounded-full"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Topic ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:`w-full px-3 py-2 bg-gray-50 border ${k.topic?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., Tech Blog",value:h,onChange:s=>{S(s.target.value),L(a=>({...a,topic:!1}))}}),k.topic&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Please enter a topic"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Focus Keywords (up to 3)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:C.focusKeyword,onChange:s=>c(s,"focusKeywords"),onKeyDown:s=>B(s,"focusKeywords"),className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9] text-sm",placeholder:"Enter focus keywords, separated by commas"}),e.jsx("button",{onClick:()=>b("focusKeywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 text slim flex items-center",children:e.jsx(he,{size:16})})]}),C.focusKeywords.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:C.focusKeywords.map((s,a)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[s,e.jsx("button",{onClick:()=>P(a,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Keywords"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:C.keyword,onChange:s=>c(s,"keywords"),onKeyDown:s=>B(s,"keywords"),className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9] text-sm",placeholder:"Enter secondary keywords, separated by commas"}),e.jsx("button",{onClick:()=>b("keywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 text-sm flex items-center",children:e.jsx(he,{size:16})})]}),C.keywords.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:C.keywords.map((s,a)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[s,e.jsx("button",{onClick:()=>P(a,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},a))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:`flex-1 px-3 py-2 bg-gray-50 border ${k.title?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., How to Create a Tech Blog",value:(t==null?void 0:t.title)||"",onChange:s=>{y(a=>({...a,title:s.target.value})),L(a=>({...a,title:!1}))}}),e.jsxs("button",{onClick:I,disabled:m,className:"px-4 py-2 bg-gradient-to-r from-[#1B6FC9] to-[#4C9FE8] text-white rounded-lg hover:from-[#1B6FC9]/90 hover:to-[#4C9FE8]/90 flex items-center",children:[m?e.jsx(Ue,{size:"small"}):e.jsx(Le,{size:16,className:"mr-2"}),"Generate Titles"]})]}),k.title&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Please enter a title"}),r.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.map((s,a)=>{const w=t.title===s;return e.jsx("div",{className:"relative group",children:e.jsx("button",{type:"button",onClick:()=>{y(n=>({...n,title:s})),L(n=>({...n,title:!1}))},className:`px-3 py-1 rounded-full text-sm border transition w-full truncate
              ${w?"bg-[#1B6FC9] text-white border-[#1B6FC9]":"bg-gray-100 text-gray-700 border-gray-300 opacity-60 hover:opacity-100 hover:bg-gray-200"}
            `,children:s})},a)})})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("label",{className:"block text-sm font-medium",children:["Image Source ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"unsplash",name:"imageSource",checked:t==null?void 0:t.isUnsplashActive,onChange:()=>$("unsplash"),className:"h-4 w-4 text-[#1B6FC9] focus:ring-[#1B6FC9] border-gray-300"}),e.jsx("label",{htmlFor:"unsplash",className:"text-sm text-gray-700 whitespace-nowrap",children:"Stock Images"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"ai-generated",name:"imageSource",checked:!(t!=null&&t.isUnsplashActive),onChange:()=>{g!=="free"&&$("ai")},className:"h-4 w-4 text-[#1B6FC9] focus:ring-[#1B6FC9] border-gray-300"}),e.jsxs("label",{htmlFor:"ai-generated",onClick:s=>{g==="free"&&(s.preventDefault(),Be({featureName:"AI-Generated Images",navigate:l}))},className:"text-sm cursor-pointer flex items-center gap-1 text-gray-700",children:["AI-Generated Images",g==="free"&&e.jsx(Ie,{className:"w-4 h-4 text-yellow-500"})]})]})]})]}),k.imageSource&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Please select an image source"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Me,{className:"w-full",value:(t==null?void 0:t.tone)||void 0,onChange:d,placeholder:"Select tone",status:k.tone?"error":"",children:[e.jsx(le,{value:"professional",children:"Professional"}),e.jsx(le,{value:"casual",children:"Casual"}),e.jsx(le,{value:"friendly",children:"Friendly"}),e.jsx(le,{value:"formal",children:"Formal"})]}),k.tone&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Please select a tone of voice"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Choose length of Blog"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:(t==null?void 0:t.userDefinedLength)??1e3,className:"w-full h-1 rounded-lg appearance-none cursor-pointer bg-gradient-to-r from-[#1B6FC9] to-gray-100 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${(t.userDefinedLength-500)/4500*100}%, #E5E7EB ${(t.userDefinedLength-500)/4500*100}%)`},onChange:s=>{y(a=>({...a,userDefinedLength:parseInt(s.target.value,10)}))}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[(t==null?void 0:t.userDefinedLength)??1e3," words"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add Brief Section (Optional)"}),e.jsx("textarea",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]",rows:3,placeholder:"Enter brief section",value:(t==null?void 0:t.brief)||"",onChange:s=>y(a=>({...a,brief:s.target.value}))}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-xs text-gray-500",children:[((o=t==null?void 0:t.brief)==null?void 0:o.length)||0,"/2000 characters"]})})]})]})]})})},bs=j.memo(fs),ys=["Blogging","Technology","Lifestyle","Travel","Food & Drink","Health & Wellness","Fashion","Business","Education","Entertainment","Photography","Fitness","Marketing","Finance","DIY & Crafts"],js=({handleNext:M,handlePrevious:f,handleClose:v,data:t,setData:y})=>{var p;const h=V(),{user:S}=W(r=>r.auth),x=ee(),N=((p=S==null?void 0:S.subscription)==null?void 0:p.plan)||(S==null?void 0:S.plan),[l,g]=j.useState({isCheckedQuick:t.isCheckedQuick||!1,isCheckedBrand:t.isCheckedBrand||!1,aiModel:t.aiModel||"gemini",categories:t.categories||[]}),k=()=>{y(r=>({...r,...l})),M()};j.useEffect(()=>{l.isCheckedBrand&&h(Ce())},[l.isCheckedBrand,h]);const L=r=>{l.categories.includes(r)||g(u=>({...u,categories:[...u.categories,r]}))},C=r=>{g(u=>({...u,categories:u.categories.filter(m=>m!==r)}))};return e.jsx(se,{title:"Step 2: Let's make it Compelling",open:!0,onCancel:v,footer:[e.jsx("button",{onClick:f,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Previous"},"previous"),e.jsx("button",{onClick:k,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")],width:800,centered:!0,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-sm text-gray-600",children:"Step 2 of 3"})}),e.jsx("div",{className:"h-1 w-full bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full w-2/3 bg-[#1B6FC9] rounded-full"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select AI Model"}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"gemini",name:"aiModel",value:"gemini",checked:l.aiModel==="gemini",onChange:r=>g(u=>({...u,aiModel:r.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300"}),e.jsx("label",{htmlFor:"gemini",className:"text-sm text-gray-700",children:"Gemini"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"chatgpt",name:"aiModel",value:"chatgpt",checked:l.aiModel==="chatgpt",onChange:r=>{N!=="free"&&g(u=>({...u,aiModel:r.target.value}))},className:"h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300"}),e.jsxs("label",{htmlFor:"chatgpt",onClick:r=>{N==="free"&&(r.preventDefault(),Be({featureName:"ChatGPT",navigate:x}))},className:"text-sm cursor-pointer flex items-center gap-1 text-gray-700",children:["ChatGPT",N==="free"&&e.jsx(Ie,{className:"w-4 h-4 text-yellow-500"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Categories"}),l.categories.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:l.categories.map(r=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-[#1B6FC9] text-white rounded-full text-sm",children:[r,e.jsx("button",{onClick:()=>C(r),className:"text-white hover:text-gray-200",children:"×"})]},r))}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 overflow-y-auto p-2 rounded-lg border border-gray-200 bg-gray-50",children:ys.map(r=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-full bg-white border border-gray-200 text-sm font-medium cursor-pointer transition-all duration-200 ${l.categories.includes(r)?"opacity-50 cursor-not-allowed":"hover:bg-indigo-50 hover:border-indigo-300"}`,children:[e.jsx("span",{children:r}),!l.categories.includes(r)&&e.jsx("button",{onClick:()=>L(r),className:"text-[#1B6FC9] hover:text-[#1B6FC9]/80",children:e.jsx(he,{size:16})})]},r))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Add a Quick Summary"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.isCheckedQuick,onChange:()=>g(r=>({...r,isCheckedQuick:!r.isCheckedQuick})),className:"sr-only peer"}),e.jsx("div",{className:`w-14 h-8 bg-gray-200 peer-focus:outline-none rounded-full relative \r
                peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] \r
                after:content-[''] after:absolute after:top-[4px] after:left-[4px] \r
                after:bg-white after:rounded-full after:h-6 after:w-6 after:transition-all`})]})]})]})]})})},ws=({handleSubmit:M,handlePrevious:f,handleClose:v,data:t,setData:y})=>{const{brands:h}=W(m=>m.brand),S=V();j.useEffect(()=>{S(Ce())},[S]);const[x,N]=j.useState({isCheckedBrand:t.isCheckedBrand||!1,brandId:t.brandId||null,categories:t.categories||[],...t}),[l,g]=j.useState({images:[],currentImageIndex:0,referenceLinks:[],newLink:""}),{items:k,loading:L,error:C}=W(m=>m.brand),p=()=>{const m=l.newLink.trim();if(!m)return;const i=l.referenceLinks.map(B=>B.toLowerCase().trim()),c=B=>{try{return new URL(B),!0}catch{return!1}},b=new Set,P=m.split(",").map(B=>B.trim()).filter(B=>{const $=B.toLowerCase();return!b.has($)&&c(B)&&!i.includes($)&&b.add($)});if(P.length===0){T.error("Please enter valid, non-duplicate URLs separated by commas.");return}g(B=>({...B,referenceLinks:[...B.referenceLinks,...P],newLink:""}))},r=m=>{g(i=>({...i,referenceLinks:i.referenceLinks.filter((c,b)=>b!==m)}))},u=()=>{const m={...t,brandId:x.isCheckedBrand?x.brandId:null,categories:x.categories,images:[...t.images||[],...l.images],referenceLinks:[...t.referenceLinks||[],...l.referenceLinks]};M(m)};return e.jsx(se,{title:"Step 3: Final Details",open:!0,onCancel:v,footer:e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx("button",{onClick:f,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg",children:"Previous"}),e.jsx("button",{onClick:u,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg",children:"Submit"})]}),width:800,centered:!0,transitionName:"",maskTransitionName:"",bodyStyle:{padding:"24px"},children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-sm text-gray-600",children:"Step 3 of 3"})}),e.jsx("div",{className:"h-1 w-full bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full w-full bg-[#1B6FC9] rounded-full"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Write with Brand Voice"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.isCheckedBrand,onChange:()=>N(m=>({...m,isCheckedBrand:!m.isCheckedBrand,brandId:m.isCheckedBrand?null:m.brandId})),className:"sr-only peer"}),e.jsx("div",{className:"w-14 h-8 bg-gray-200 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-[4px] after:left-[4px] after:bg-white after:rounded-full after:h-6 after:w-6"})]})]}),x.isCheckedBrand&&e.jsx("div",{className:"mt-4 p-6 rounded-lg border border-indigo-100 bg-indigo-50/50 shadow-sm",children:L?e.jsx("div",{className:"text-gray-500 text-sm",children:"Loading brand voices..."}):C?e.jsx("div",{className:"text-red-500 text-sm font-medium",children:C}):(h==null?void 0:h.length)>0?e.jsx("div",{className:"max-h-64 overflow-y-auto pr-1",children:e.jsx("div",{className:"grid gap-4",children:h.map(m=>e.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-lg cursor-pointer ${x.brandId===m._id?"bg-indigo-100 border-indigo-300 shadow-md":"bg-white border border-gray-200"}`,children:[e.jsx("input",{type:"radio",name:"selectedBrandVoice",value:m._id,checked:x.brandId===m._id,onChange:()=>N(i=>({...i,brandId:m._id})),className:"mt-1 form-radio text-indigo-600 focus:ring-indigo-500 h-5 w-5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-indigo-800 text-base",children:m.nameOfVoice}),e.jsx("p",{className:"text-gray-600 text-sm mt-1 leading-relaxed",children:m.describeBrand})]})]},m._id))})}):e.jsx("div",{className:"text-gray-500 text-sm italic",children:"No brand voices available. Create one to get started."})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Add FAQ"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:!!t.isFAQEnabled,onChange:()=>y(m=>({...m,isFAQEnabled:!m.isFAQEnabled})),className:"sr-only peer"}),e.jsx("div",{className:"w-14 h-8 bg-gray-200 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-[4px] after:left-[4px] after:bg-white after:rounded-full after:h-6 after:w-6"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Add Competitive Research"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:!!t.isCompetitiveResearchEnabled,onChange:()=>y(m=>({...m,isCompetitiveResearchEnabled:!m.isCompetitiveResearchEnabled})),className:"sr-only peer"}),e.jsx("div",{className:"w-14 h-8 bg-gray-200 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-[4px] after:left-[4px] after:bg-white after:rounded-full after:h-6 after:w-6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add Reference Links (Helps to make blog more compelling)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]",placeholder:"https://thedigitalshift.co/blog-standard/",onKeyDown:m=>{m.key==="Enter"&&(m.preventDefault(),p())},value:l.newLink,onChange:m=>g(i=>({...i,newLink:m.target.value}))}),e.jsx("button",{onClick:p,className:"px-3 py-2 bg-[#1B6FC9] text-white rounded-lg",children:"Add"})]}),e.jsx("div",{className:"mt-2 space-y-2",children:l.referenceLinks.map((m,i)=>e.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-50 rounded-lg",children:[e.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 truncate",children:m}),e.jsx("button",{onClick:()=>r(i),className:"ml-4 text-4xl text-gray-400",children:"×"})]},i))})]})]})]})})},vs=[{id:1,imageUrl:"./Images/createnew.png",title:"Create New Blog",icon:e.jsx(Ge,{className:"w-6 h-6"}),content:"Generate blogs, email, product, description, etc.",hoverGradient:"from-blue-600 to-blue-700"},{id:"A",imageUrl:"./Images/quickblog.png",title:"Generate Quick Blog",icon:e.jsx(We,{className:"w-6 h-6"}),content:"With few inputs you are good to go to create Awesome blogs!",hoverGradient:"from-purple-600 to-purple-700"},{id:"B",imageUrl:"./Images/createmultipleblog.png",title:"Create Multiple Blogs",icon:e.jsx(os,{className:"w-6 h-6"}),content:"Ellipse draft overflow arrange pen",hoverGradient:"from-emerald-600 to-emerald-700"}],Ns=[{id:1,imageUrl:"./Images/keyword.png",title:"Keyword Research",content:"Fill bold reesizing vector create group inspect effect.",icon:e.jsx(He,{className:"w-8 h-8"}),color:"text-blue-600",bgColor:"bg-blue-50",hoverBg:"hover:bg-blue-100"},{id:3,imageUrl:"./Images/performancemonitoring.png",title:"Performance Monitoring",content:"Generate blogs, emails , product description etc.",icon:e.jsx(as,{className:"w-8 h-8"}),color:"text-orange-600",bgColor:"bg-orange-50",hoverBg:"hover:bg-orange-100"},{id:4,imageUrl:"./Images/competitor.png",title:"Competitor Analysis",content:"Analyze your competitors' content and strategies",icon:e.jsx(Ve,{className:"w-8 h-8"}),color:"text-purple-600",bgColor:"bg-purple-50",hoverBg:"hover:bg-purple-100"}],ks=({title:M,content:f,id:v,functions:t,icon:y,gradient:h})=>{var k,L;const S=W(C=>C.auth.user),x=(S==null?void 0:S.plan)??((k=S==null?void 0:S.subscription)==null?void 0:k.plan),{handlePopup:N}=re(),l=()=>{N({title:"Upgrade Required",description:"Bulk blog generation is only available for Pro and Enterprise users.",confirmText:"Buy Now",cancelText:"Cancel",icon:e.jsx(ue,{style:{fontSize:50,color:"#a47dab"}}),onConfirm:()=>navigate("/upgrade")})},g=()=>{var C,p,r,u,m;if(v==="A")(C=t.showQuickBlogModal)==null||C.call(t);else if(v===1)(p=t.showModal)==null||p.call(t);else if(v==="B"){if(["free","basic"].includes(x==null?void 0:x.toLowerCase())){l();return}(r=t.showMultiStepModal)==null||r.call(t)}else v===4?(u=t.showCompetitiveAnalysis)==null||u.call(t):v===3&&((m=t.showPerformanceMonitoring)==null||m.call(t))};return e.jsxs("div",{onClick:g,className:"group relative bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-xl hover:scale-[1.02] transition-all duration-300 cursor-pointer overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-5 transition-opacity duration-300 from-blue-500 to-purple-500"}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-r ${h} text-white mb-6 transition-transform duration-300`,children:y}),["free","basic"].includes((L=x==null?void 0:x.toLowerCase)==null?void 0:L.call(x))&&v==="B"&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(ue,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:M}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:f}),e.jsxs("div",{className:"flex items-center text-blue-600 font-medium text-sm group-hover:gap-2 transition-all",children:["Get Started",e.jsx(Ae,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})},Cs=({icon:M,title:f,content:v,id:t,functions:y,bgColor:h,hoverBg:S,color:x})=>{var C,p;const N=W(r=>r.auth.user),l=(N==null?void 0:N.plan)??((C=N==null?void 0:N.subscription)==null?void 0:C.plan),{handlePopup:g}=re(),k=()=>{g({title:"Upgrade Required",description:"Competitor Analysis is only available for Pro and Enterprise users.",confirmText:"Buy Now",cancelText:"Cancel",onConfirm:()=>navigate("/upgrade")})},L=()=>{if(t===4&&(y!=null&&y.showCompetitiveAnalysis)){if(["free","basic"].includes(l==null?void 0:l.toLowerCase())){k();return}y.showCompetitiveAnalysis()}else t===3&&(y!=null&&y.showPerformanceMonitoring)?y.showPerformanceMonitoring():t===2&&(y!=null&&y.showSeoAnalysis)?y.showSeoAnalysis():t===1&&(y!=null&&y.showKeywordResearch)&&y.showKeywordResearch()};return e.jsxs("div",{onClick:L,className:`group p-6 rounded-xl ${h} ${S} border border-transparent hover:border-gray-200 hover:shadow-md transition-all duration-300 cursor-pointer`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(F.div,{whileHover:{scale:1.15,rotate:8},transition:{type:"spring",stiffness:300},className:`inline-flex items-center justify-center w-12 h-12 rounded-xl bg-white ${x} mb-4 group-hover:scale-110 transition-transform duration-300 shadow-sm`,children:M}),["free","basic"].includes((p=l==null?void 0:l.toLowerCase)==null?void 0:p.call(l))&&t===4&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(ue,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors text-[18px]",children:f}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:v})]})},Ss=({title:M,content:f,tags:v,item:t,time:y})=>{var l,g,k,L,C;const h=ee(),S=(C=(L=(k=(g=(l=f==null?void 0:f.replace(/^#+\s*/gm,""))==null?void 0:l.replace(/#[^\s#]+/g,""))==null?void 0:g.replace(/[*_~`>\\=|-]+/g,""))==null?void 0:k.replace(/\n+/g," "))==null?void 0:L.replace(/\s+/g," "))==null?void 0:C.trim(),x=S&&S.length>40?`${S.substring(0,80)}...`:S||"",N=()=>{t&&t._id&&h(`/toolbox/${t._id}`,{state:{blog:t}})};return e.jsx("div",{onClick:N,className:"group p-6 rounded-xl border border-gray-200 hover:border-blue-200 hover:shadow-md transition-all duration-300 cursor-pointer mb-4",children:e.jsxs("div",{className:"flex lg:items-start lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h3",{className:"font-bold capitalize text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-1",children:M}),e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full capitalize",children:(t==null?void 0:t.aiModel)||"Gemini"}),e.jsx("span",{className:`px-2 py-1 capitalize text-xs font-medium rounded-full ${(t==null?void 0:t.status)==="complete"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:(t==null?void 0:t.status)||""})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:x}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v==null?void 0:v.map((p,r)=>e.jsx("span",{className:"px-3 py-1 capitalize bg-gray-100 text-gray-700 text-xs rounded-full hover:bg-gray-200 transition-colors",children:p},r))})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(qe,{className:"w-4 h-4"}),e.jsx("span",{children:"View"})]}),e.jsx("span",{children:Qe(y).fromNow()}),e.jsx(Ae,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})})},Bs=({closeFnc:M})=>{const f=V(),v=ee(),{handlePopup:t}=re(),y=W(s=>s.auth.user),[h,S]=j.useState(0),[x,N]=j.useState(null),[l,g]=j.useState({templates:[],topics:[],keywords:[],topicInput:"",keywordInput:"",performKeywordResearch:!0,tone:"",numberOfCounts:5,userDefinedLength:1e3,imageSource:"unsplash",useBrandVoice:!0,useCompetitors:!1,includeInterlinks:!0,includeMetaHeadlines:!0,includeFaqs:!0,numberOfBlogs:1,wordpressPostStatus:!1,postFrequency:10*60,selectedDates:null,aiModel:"gemini",includeTableOfContents:!1}),k=()=>{if(h===0&&l.templates.length===0){T.error("Please add at least one template.");return}if(h===1){if(l.topics.length===0&&l.topicInput.trim()===""){T.error("Please add at least one topic.");return}if(!l.tone){T.error("Please select a Tone of Voice.");return}}S(s=>s+1)},L=()=>{S(s=>s>0?s-1:s)},C=()=>{M()},p=()=>{if(l.topics.length===0&&l.topicInput.trim()===""){T.error("Please add at least one topic.");return}if(!l.tone){T.error("Please select a Tone of Voice.");return}if(l.numberOfBlogs<1){T.error("Number of blogs must be at least 1.");return}if(l.numberOfBlogs>10){T.error("Number of blogs must be at most 10.");return}t({title:"Bulk Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Estimated Cost for bulk blogs :"," ",e.jsxs("b",{children:[l.numberOfBlogs*(te("blog.single")+(l.imageSource==="unsplash"?0:te("aiImages")))," ","credits"]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue ? "})]}),onConfirm:()=>{f(Te({blogData:l,navigate:v})),C()}})},r=s=>{const a=ie[s].name;l.templates.includes(a)?g(n=>({...n,templates:n.templates.filter(A=>A!==a)})):l.templates.length<3?g(n=>({...n,templates:[...n.templates,a]})):T.error("You can select a maximum of 3 templates.")},u=s=>{const{name:a,value:w,type:n}=s.target,A=n==="number"?parseInt(w,10)||0:w;g({...l,[a]:A})},m=async s=>{const{name:a,checked:w}=s.target;if(a==="wordpressPostStatus"&&w)try{if(!(y!=null&&y.wordpressLink)){T.error("Please connect your WordPress account in your profile before enabling automatic posting."),v("/profile");return}}catch{T.error("Failed to check profile. Please try again.");return}g({...l,[a]:w})},i=s=>{g(a=>({...a,topicInput:s.target.value}))},c=s=>{g(a=>({...a,keywordInput:s.target.value}))},b=()=>{const s=l.topicInput;if(s.trim()!==""){const a=l.topics.map(n=>n.toLowerCase().trim()),w=s.split(",").map(n=>n.trim()).filter(n=>n!==""&&!a.includes(n.toLowerCase()));return w.length>0?(g(n=>({...n,topics:[...n.topics,...w],topicInput:""})),!0):(g(n=>({...n,topicInput:""})),!1)}return!1},P=s=>{g(a=>({...a,topics:a.topics.filter((w,n)=>n!==s)}))},B=()=>{const s=l.keywordInput;if(s.trim()!==""){const a=l.keywords.map(n=>n.toLowerCase().trim()),w=s.split(",").map(n=>n.trim()).filter(n=>n!==""&&!a.includes(n.toLowerCase()));return w.length>0?(g(n=>({...n,keywords:[...n.keywords,...w],keywordInput:""})),!0):(g(n=>({...n,keywordInput:""})),!1)}return!1},$=s=>{g(a=>({...a,keywords:a.keywords.filter((w,n)=>n!==s)}))},d=s=>{s.key==="Enter"&&(s.preventDefault(),b(),B())},I=s=>{g(a=>({...a,imageSource:s}))},D=s=>{var A;const a=(A=s.target.files)==null?void 0:A[0];if(!a)return;if(!a.name.toLowerCase().endsWith(".csv")){T.error("Invalid file type. Please upload a .csv file."),s.target.value=null;return}const w=20*1024;if(a.size>w){T.error("File size exceeds 20KB limit. Please upload a smaller file."),s.target.value=null;return}const n=new FileReader;n.onload=K=>{var O;const R=(O=K.target)==null?void 0:O.result;if(!R)return;const G=R.trim().split(/\r?\n/).slice(1).map(U=>{const Y=U.split(",");return Y.length>=2?Y[1].trim():null}).filter(Boolean),q=l.topics.map(U=>U.toLowerCase().trim()),H=G.filter(U=>!q.includes(U.toLowerCase().trim()));if(H.length===0){T.warning("No new topics found in the CSV.");return}g(U=>({...U,topics:[...U.topics,...H]})),H.length>8&&(N(H.length),setTimeout(()=>N(null),5e3))},n.readAsText(a),s.target.value=null},z=s=>{var n;const a=(n=s.target.files)==null?void 0:n[0];if(!a)return;const w=new FileReader;w.onload=A=>{var H;const K=(H=A.target)==null?void 0:H.result;if(!K)return;const Q=K.trim().split(/\r?\n/).slice(1).map(O=>{const U=O.split(",");return U.length>=2?U[1].trim():null}).filter(Boolean),G=l.keywords.map(O=>O.toLowerCase().trim()),q=Q.filter(O=>!G.includes(O.toLowerCase().trim()));if(q.length===0){T.warning("No new keywords found in the CSV.");return}g(O=>({...O,keywords:[...O.keywords,...q]})),q.length>8&&(N(q.length),setTimeout(()=>N(null),5e3))},w.readAsText(a),s.target.value=null},o=["Select Template's","Add Details","Configure Output"];return e.jsx(se,{title:`Step ${h+1} | ${o[h]}`,open:!0,onCancel:C,footer:e.jsxs("div",{className:"flex justify-end gap-3",children:[h>0&&e.jsx("button",{onClick:L,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Previous"}),e.jsx("button",{onClick:h===2?p:k,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:h===2?"Generate Blogs":"Next"})]}),width:800,centered:!0,children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full my-6",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(h+1)/o.length*100}%`}})}),h===0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select up to 3 templates for the types of blogs you want to generate."}),e.jsx(pe,{children:ie.map((s,a)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${l.templates.includes(s.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>r(a),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:s.imgSrc||"/placeholder.svg",alt:s.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:s.description})]})]})},s.name))})]}),h===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Topics ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(oe,{title:"Upload a .csv file in the format: `S.No., Keyword`",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(ve,{size:16,className:"text-blue-500"})})})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the main topics for your blogs."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:l.topicInput,onChange:i,onKeyDown:d,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700",children:"Add"}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(Ne,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:D,hidden:!0})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[l.topics.slice().reverse().slice(0,18).map((s,a)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[s,e.jsx("button",{type:"button",onClick:()=>P(l.topics.length-1-a),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(X,{className:"w-3 h-3"})})]},`${s}-${a}`)),(l.topics.length>18||x)&&e.jsxs("span",{className:"text-xs font-medium text-blue-600 self-center",children:[l.topics.length>18&&`+${l.topics.length-18} more `,x&&`(+${x} uploaded)`]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Perform Keyword Research?",e.jsx("p",{className:"text-xs text-gray-500",children:"Allow AI to find relevant keywords for the topics."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"performKeywordResearch",checked:l.performKeywordResearch,onChange:m,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),!l.performKeywordResearch&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Keywords",e.jsx(oe,{title:"Upload a .csv file in the format: `S.No., Keyword`",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(ve,{size:16,className:"text-blue-500"})})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:l.keywordInput,onChange:c,onKeyDown:d,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:B,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700",children:"Add"}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(Ne,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:z,hidden:!0})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[l.keywords.slice().reverse().slice(0,18).map((s,a)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[s,e.jsx("button",{type:"button",onClick:()=>$(l.keywords.length-1-a),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(X,{className:"w-3 h-3"})})]},`${s}-${a}`)),(l.keywords.length>18||x)&&e.jsxs("span",{className:"text-xs font-medium text-blue-600 self-center",children:[l.keywords.length>18&&`+${l.keywords.length-18} more `,x&&`(+${x} uploaded)`]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"tone",className:"block text-sm font-medium text-gray-700 mb-1",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"tone",name:"tone",value:l.tone,onChange:u,required:!0,className:`w-full px-3 py-2 border rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 ${l.tone?"border-gray-300":"border-red-300 text-gray-500"}`,children:[e.jsx("option",{disabled:!0,value:"",children:"-- Select a Tone --"}),e.jsx("option",{value:"professional",children:"Professional"}),e.jsx("option",{value:"friendly",children:"Friendly"}),e.jsx("option",{value:"casual",children:"Casual"}),e.jsx("option",{value:"formal",children:"Formal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approx. Blog Length (Words)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:l.userDefinedLength,className:`w-full h-1 rounded-lg appearance-none cursor-pointer 
                    bg-gradient-to-r from-[#1B6FC9] to-gray-100
                    [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]`,style:{background:`linear-gradient(to right, #1B6FC9 ${(l.userDefinedLength-500)/4500*100}%, #E5E7EB ${(l.userDefinedLength-500)/4500*100}%)`},onChange:s=>{g(a=>({...a,userDefinedLength:s.target.value}))}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[l.userDefinedLength," words"]})]})]})]})]}),h===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select AI Model"}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"aiModel",value:"gemini",checked:l.aiModel==="gemini",onChange:s=>g(a=>({...a,aiModel:s.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Gemini"})]}),e.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"aiModel",value:"chatgpt",checked:l.aiModel==="chatgpt",onChange:s=>g(a=>({...a,aiModel:s.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"ChatGPT"})]}),e.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"aiModel",value:"claude",checked:l.aiModel==="claude",onChange:s=>g(a=>({...a,aiModel:s.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Claude"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Source"}),e.jsxs("fieldset",{className:"mt-2",children:[e.jsx("legend",{className:"sr-only",children:"Image source selection"}),e.jsxs("div",{className:"flex items-center gap-x-6",children:[e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("input",{id:"image-source-ai",name:"image-source",type:"radio",value:"ai",checked:l.imageSource==="ai",onChange:()=>I("ai"),className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"image-source-ai",className:"block text-sm font-medium leading-6 text-gray-900",children:"AI Generated Images"})]}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("input",{id:"image-source-unsplash",name:"image-source",type:"radio",value:"unsplash",checked:l.imageSource==="unsplash",onChange:()=>I("unsplash"),className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"image-source-unsplash",className:"block text-sm font-medium leading-6 text-gray-900",children:"Stock Images"})]})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Interlinks",e.jsx("p",{className:"text-xs text-gray-500",children:"Attempt to link between generated blogs if relevant."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeInterlinks",checked:l.includeInterlinks,onChange:m,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include FAQ Section",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate relevant FAQ questions and answers for the blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeFaqs",checked:l.includeFaqs,onChange:m,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Competitive Research",e.jsx("p",{className:"text-xs text-gray-500",children:"Perform competitive research to analyze similar blogs."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"useCompetitors",checked:l.useCompetitors,onChange:m,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Blogs"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"How many blogs to generate based on the topics provided."}),e.jsx("input",{type:"number",name:"numberOfBlogs",min:"1",max:"10",value:l.numberOfBlogs,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 5"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Automatic Posting",e.jsx("p",{className:"text-xs text-gray-500",children:"Automatically post blogs on the selected dates."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"wordpressPostStatus",checked:l.wordpressPostStatus,onChange:m,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),l.wordpressPostStatus&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Table of Contents",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate a table of contents for each blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeTableOfContents",checked:l.includeTableOfContents,onChange:m,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]})})},Ls=({closeFnc:M})=>{const[f,v]=j.useState(1),t=()=>v(f+1),y=()=>v(f-1);return e.jsxs("div",{className:"border-8 border-teal-700",children:[e.jsx("input",{type:"checkbox",id:"my-modal",className:"modal-toggle"}),e.jsx("div",{className:"modal",children:e.jsxs("div",{className:"modal-box",children:[f===1&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 1"}),e.jsx("p",{className:"py-4",children:"Content for step 1 goes here."}),e.jsx("div",{className:"modal-action",children:e.jsx("button",{className:"btn border-8 border-teal-700",onClick:t,children:"Next"})})]}),f===2&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 2"}),e.jsx("p",{className:"py-4",children:"Content for step 2 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:y,children:"Previous"}),e.jsx("button",{className:"btn",onClick:t,children:"Next"})]})]}),f===3&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 3"}),e.jsx("p",{className:"py-4",children:"Content for step 3 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:M,children:"Previous"}),e.jsx("label",{htmlFor:"my-modal",className:"btn",children:"Finish"})]})]})]})})]})},Is=({closeFnc:M})=>{const[f,v]=j.useState(0),[t,y]=j.useState(null),[h,S]=j.useState([]),[x,N]=j.useState({template:null,keywords:[],focusKeywords:[],videoLinks:[],keywordInput:"",focusKeywordInput:"",videoLinkInput:""}),l=V(),g=ee(),{handlePopup:k}=re(),L=()=>{if(f===0&&!x.template){T.error("Please select a template before proceeding.");return}v(f+1)},C=()=>{v(f-1)},p=()=>{M()},r=()=>{if(!(x.focusKeywords.length&&x.keywords.length&&h.length))T.error("Please fill all the fields");else{const d={...x,videoLinks:h};k({title:"Quick Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Quick blog generation is ",e.jsxs("b",{children:[te("blog.quick")," credits."]})]}),e.jsx("br",{}),e.jsx("span",{children:"Are you sure ?"})]}),onConfirm:()=>{l(De({blogData:d,navigate:g})),p()}})}},u=d=>{y(d),N({...x,template:ie[d].name})},m=(d,I)=>{N(I==="keywords"?D=>({...D,keywordInput:d.target.value}):D=>({...D,focusKeywordInput:d.target.value}))},i=d=>{const I=x[`${d}Input`];if(I.trim()!==""){const D=new Set(x[d].map(o=>o.trim().toLowerCase())),z=I.split(",").map(o=>o.trim()).filter(o=>o!==""&&!D.has(o.toLowerCase()));if(d==="focusKeywords"&&x[d].length+z.length>3){T.error("You can only add up to 3 focus keywords.");return}z.length>0?N(o=>({...o,[d]:[...o[d],...z],[`${d}Input`]:""})):N(o=>({...o,[`${d}Input`]:""}))}},c=(d,I)=>{const D=[...x[I]];D.splice(d,1),N({...x,[I]:D})},b=(d,I)=>{d.key==="Enter"&&(d.preventDefault(),i(I))},P=()=>{var o;const d=(o=x.videoLinkInput)==null?void 0:o.trim();if(!d){T.error("Please enter at least one link.");return}const I=d.split(",").map(s=>s.trim()).filter(s=>s!==""),D=[];for(let s of I){let a=s;/^https?:\/\//i.test(a)||(a=`https://${a}`);try{const w=new URL(a);!h.includes(a)&&!D.includes(a)&&D.push(a)}catch{}}if(D.length===0){T.error("No valid, unique URLs found.");return}if(h.length+D.length>3){T.error("You can only add up to 3 links in total.");return}S([...h,...D]),N(s=>({...s,videoLinkInput:""}))},B=d=>{d.key==="Enter"&&(d.preventDefault(),P())},$=d=>{const I=[...h];I.splice(d,1),S(I)};return e.jsx(se,{title:"Create Quick Blog",open:!0,onCancel:p,footer:f===0?[e.jsx("button",{onClick:L,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:bg-blue-700",children:"Next"},"next")]:[e.jsx("button",{onClick:C,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none",children:"Previous"},"previous"),e.jsx("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:bg-blue-700 ml-3",children:"Submit"},"submit")],width:800,centered:!0,children:e.jsxs("div",{className:"p-6",children:[f===0&&e.jsx("div",{children:e.jsx("div",{className:"p-3",children:e.jsx(pe,{children:ie.map((d,I)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${x.template===d.name?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>u(I),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:d.imgSrc||"/placeholder.svg",alt:d.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:d.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:d.description})]})]})},I))})})}),f===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Focus Keywords"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:x.focusKeywordInput,onChange:d=>m(d,"focusKeywords"),onKeyDown:d=>b(d,"focusKeywords"),className:"flex-1 px-3 py-2 border border-gray-200 rounded-md text-sm",placeholder:"Enter focus keywords"}),e.jsx("button",{onClick:()=>i("focusKeywords"),className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:x.focusKeywords.map((d,I)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[d,e.jsx("button",{onClick:()=>c(I,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},I))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Keywords"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:x.keywordInput,onChange:d=>m(d,"keywords"),onKeyDown:d=>b(d,"keywords"),className:"flex-1 px-3 py-2 border border-gray-200 rounded-md text-sm",placeholder:"Enter keywords"}),e.jsx("button",{onClick:()=>i("keywords"),className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:x.keywords.map((d,I)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[d,e.jsx("button",{onClick:()=>c(I,"keywords"),className:"ml-1 text-gray-400 hover:text-gray-600",children:"×"})]},I))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-hind font-normal mb-2",children:"Add Links (max 3)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:x.videoLinkInput||"",onChange:d=>N(I=>({...I,videoLinkInput:d.target.value})),onKeyDown:B,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Enter link"}),e.jsx("button",{onClick:P,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:h.map((d,I)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[d,e.jsx("button",{onClick:()=>$(I),className:"ml-1 text-gray-400 hover:text-gray-600",children:"×"})]},I))})]})]})]})})},Ms=({closeFnc:M})=>{var C;const[f,v]=j.useState({selectedBlog:null,title:"",content:""}),[t,y]=j.useState(null),h=V(),{blogs:S}=W(p=>p.blog);j.useEffect(()=>{h(Se())},[h]);const x=async p=>{v({selectedBlog:p,title:p.title,content:p.content}),y(null);try{h(xe(p._id)).unwrap().then(({stats:r})=>y(r))}catch{T.error("Failed to load blog performance stats.")}},N={flesch:"📘 Flesch Reading Ease (0–100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"📗 SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"📙 ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"📈 Blog Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},l=({type:p="seo"})=>e.jsx(oe,{title:N[p],trigger:["hover","click"],placement:"top",children:e.jsx(Ke,{className:"ml-2 text-gray-500 hover:text-blue-500 cursor-pointer"})}),g=({icon:p,label:r,value:u,color:m,delay:i=0,suffix:c="",description:b=""})=>e.jsx(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:i*.1,duration:.3},className:`p-5 bg-white rounded-xl border ${m} shadow-sm hover:shadow-md transition-shadow`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[p&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-500",children:p}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:r}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:[u,c]}),b&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b})]})]})}),k=({score:p,max:r,label:u,level:m,color:i})=>e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600 flex items-center gap-2",children:[u,e.jsx(l,{type:/seo/gi.test(u)?"seo":"flesch"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:m})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full ${i} transition-all duration-500`,style:{width:`${p/r*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-2",children:e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[p," / ",r]})})]})]}),L=({stats:p})=>{var d,I,D,z,o,s,a,w;if(!p)return null;const{readabililty:r={},seo:u={},engagement:m={},metadata:i={}}=p,c=(u==null?void 0:u.keywordDensity)||{},b=Object.keys(c).filter(n=>n.split(" ").length<=2).length,P=Object.keys(c).filter(n=>n.split(" ").length>2).length,B=Object.entries(c).map(([n,{count:A,density:K}],R)=>({key:n,keyword:n,count:A,density:K,animationDelay:R*.1})),$=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(n,A)=>n.density-A.density,render:n=>`${n.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 mt-6",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-8 capitalize",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(i==null?void 0:i.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(i==null?void 0:i.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(i==null?void 0:i.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(i==null?void 0:i.aiModel)||"-"})]})]}),(i==null?void 0:i.generatedAt)&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border normal-case border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(i.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[!!(u!=null&&u.score)&&e.jsx(k,{score:(u==null?void 0:u.score)||0,max:100,label:"Blog Score",level:`${(u==null?void 0:u.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(g,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(u==null?void 0:u.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(g,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(u==null?void 0:u.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(g,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(u==null?void 0:u.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(d=u==null?void 0:u.focusKeywords)==null?void 0:d.map((n,A)=>e.jsx(F.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:A*.1},className:"px-3 py-1 bg-blue-50 rounded-full text-sm text-blue-700 border border-blue-100 hover:bg-blue-100 transition-colors",children:n},n))})]}),(u==null?void 0:u.keywords.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Other Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(I=u==null?void 0:u.keywords)==null?void 0:I.map((n,A)=>e.jsx(F.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:A*.1},className:"px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-700 border border-gray-200 hover:bg-gray-200 transition-colors",children:n},n))})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Keyword Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx(g,{icon:e.jsx(cs,{className:"w-5 h-5"}),label:"Short-Tail Keywords",value:b,color:"border-blue-100",delay:0}),e.jsx(g,{icon:e.jsx(ms,{className:"w-5 h-5"}),label:"Long-Tail Keywords",value:P,color:"border-blue-100",delay:.1})]}),e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Keyword Densities"}),e.jsx(F.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:e.jsx(fe,{dataSource:B,columns:$,pagination:!1,components:{body:{row:({children:n,...A})=>{var R;const K=((R=B[A["data-row-key"]])==null?void 0:R.animationDelay)||0;return e.jsx(F.tr,{...A,initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:K},children:n})}}},className:"rounded-md overflow-hidden capitalize"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(k,{score:((D=r==null?void 0:r.fleschEase)==null?void 0:D.score)||0,max:100,label:"Flesch Ease",level:((z=r==null?void 0:r.fleschEase)==null?void 0:z.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:["SMOG Index",e.jsx(l,{type:"smog"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:((o=r==null?void 0:r.smogIndex)==null?void 0:o.level)||"-"})]}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:[((s=r==null?void 0:r.smogIndex)==null?void 0:s.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:["ARI ",e.jsx(l,{type:"ari"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:((a=r==null?void 0:r.ari)==null?void 0:a.level)||"-"})]}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:[((w=r==null?void 0:r.ari)==null?void 0:w.score)||0," grade"]})]}),e.jsx(g,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(r==null?void 0:r.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(g,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(r==null?void 0:r.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(r==null?void 0:r.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(r==null?void 0:r.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(r==null?void 0:r.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(r==null?void 0:r.syllableCount)||0})]})]})]})]})};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50 h-[100vh]",children:e.jsxs(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-3xl bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gray-50",children:[e.jsxs(F.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Performance Dashboard"})]}),e.jsx("button",{onClick:M,className:"p-2 rounded-full hover:bg-gray-200 transition-all",children:e.jsx(X,{className:"h-6 w-6 text-gray-600 hover:text-gray-800"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[85vh]",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Blog"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 appearance-none shadow-sm",onChange:p=>{const r=S.find(u=>u._id===p.target.value);r&&x(r)},value:((C=f.selectedBlog)==null?void 0:C._id)||"",children:[e.jsx("option",{value:"",className:"bg-gray-50",children:"Select a blog"}),S==null?void 0:S.filter(p=>p.status==="complete"&&p.isArchived===!1).map(p=>e.jsx("option",{value:p._id,className:"bg-gray-50",children:p.title},p._id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),f.selectedBlog&&e.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Preview"})}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2 truncate",children:f.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3",children:(f.content||"").replace(/[#>*=_`~-]+/g,"").replace(/\n+/g," ").replace(/\s+/g," ").trim()})]})]}),e.jsx(L,{stats:t})]})})]})})},As=({closeFnc:M})=>{var m;const[f,v]=j.useState({selectedBlog:null,title:"",content:""}),[t,y]=j.useState(!1),[h,S]=j.useState(null),x=V(),{blogs:N,error:l}=W(i=>i.blog);j.useEffect(()=>{x(Se())},[x]),j.useEffect(()=>{l&&T.error(l)},[l]);const g=i=>{v({selectedBlog:i,title:i.title,content:i.content}),S(null)},k=async()=>{if(!f.selectedBlog){T.error("Please select a blog");return}y(!0);try{const i=await x(xe(f.selectedBlog._id));if(xe.fulfilled.match(i)){const{stats:c}=i.payload;S(c),T.success("Performance analysis completed!")}else T.error("Something went wrong during stats fetching.")}catch{T.error("Unexpected error occurred.")}finally{y(!1)}},L={flesch:"📘 Flesch Reading Ease (0–100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"📗 SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"📙 ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"📈 SEO Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},C=({type:i="seo"})=>e.jsx(oe,{title:L[i],trigger:["hover","click"],placement:"top",children:e.jsx(Ke,{className:"ml-2 text-black size-8 hover:text-blue-500 cursor-pointer"})}),p=({icon:i,label:c,value:b,color:P,delay:B=0,suffix:$="",description:d=""})=>e.jsx(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:B*.1,duration:.3},className:`p-4 bg-white rounded-xl border ${P} shadow-sm`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[i&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-500",children:i}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:c}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-1",children:[b,$]}),d&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:d})]})]})}),r=({score:i,max:c,label:b,level:P,color:B})=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[b,e.jsx(C,{type:/seo/gi.test(b)?"seo":"flesch"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:P})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${B}`,style:{width:`${i/c*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[i," / ",c]})})]})]}),u=({stats:i})=>{var D,z,o,s,a,w,n,A;if(!i)return null;const{readabililty:c={},seo:b={},engagement:P={},metadata:B={}}=i,$=(b==null?void 0:b.keywordDensity)||{},d=Object.entries($).map(([K,{count:R,density:Q}],G)=>({key:K,keyword:K,count:R,density:Q,animationDelay:G*.1})),I=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(K,R)=>K.density-R.density,render:K=>`${K.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-5 mt-4",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(B==null?void 0:B.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(B==null?void 0:B.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(B==null?void 0:B.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(B==null?void 0:B.aiModel)||"-"})]})]}),(B==null?void 0:B.generatedAt)&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(B.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-green-100 rounded text-green-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 11.5V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1.4"}),e.jsx("path",{d:"M14 10V8a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2"}),e.jsx("path",{d:"M10 9.9V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v5"}),e.jsx("path",{d:"M6 14v0a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0"}),e.jsx("path",{d:"M18 11v0a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-4a8 8 0 0 1-8-8 2 2 0 1 1 4 0"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Engagement"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(p,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),label:"GenWrite Views",value:(P==null?void 0:P.views)||0,color:"border-green-100",delay:0}),e.jsx(p,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),label:"WordPress Views",value:(P==null?void 0:P.wordpressViews)||0,color:"border-green-100",delay:1})]}),e.jsx("div",{className:"mt-4 bg-gray-50 p-4 rounded-xl border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Public Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${P!=null&&P.isPublic?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P!=null&&P.isPublic?"✅ Public":"❌ Private"})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(r,{score:(b==null?void 0:b.score)||0,max:100,label:"SEO Score",level:`${(b==null?void 0:b.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(p,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(b==null?void 0:b.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(p,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(b==null?void 0:b.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(p,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(b==null?void 0:b.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(D=b==null?void 0:b.focusKeywords)==null?void 0:D.map((K,R)=>e.jsx(F.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:R*.1},className:"px-3 py-1 bg-blue-50 rounded-full text-sm text-blue-700 border border-blue-100",children:K},K))})]}),(b==null?void 0:b.keywords.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Other Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(z=b==null?void 0:b.keywords)==null?void 0:z.map((K,R)=>e.jsx(F.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:R*.1},className:"px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-700 border border-gray-200",children:K},K))})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Keyword Densities"}),e.jsx(F.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:e.jsx(fe,{dataSource:d,columns:I,pagination:!1,components:{body:{row:({children:K,...R})=>{var G;const Q=((G=d[R["data-row-key"]])==null?void 0:G.animationDelay)||0;return e.jsx(F.tr,{...R,initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:Q},children:K})}}},className:"rounded-md overflow-hidden"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(r,{score:((o=c==null?void 0:c.fleschEase)==null?void 0:o.score)||0,max:100,label:"Flesch Ease",level:((s=c==null?void 0:c.fleschEase)==null?void 0:s.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["SMOG Index",e.jsx(C,{type:"smog"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((a=c==null?void 0:c.smogIndex)==null?void 0:a.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((w=c==null?void 0:c.smogIndex)==null?void 0:w.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["ARI ",e.jsx(C,{type:"ari"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((n=c==null?void 0:c.ari)==null?void 0:n.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((A=c==null?void 0:c.ari)==null?void 0:A.score)||0," grade"]})]}),e.jsx(p,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(c==null?void 0:c.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(p,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(c==null?void 0:c.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(c==null?void 0:c.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(c==null?void 0:c.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(c==null?void 0:c.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(c==null?void 0:c.syllableCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paragraphs"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(c==null?void 0:c.paragraphCount)||0})]})]})]})]})};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-4xl bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[e.jsxs(F.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Seo Analysis Dashboard"})]}),e.jsx("button",{onClick:M,className:"p-2 rounded-full hover:bg-gray-100 transition-all",children:e.jsx(X,{className:"h-6 w-6 text-gray-500 hover:text-gray-700"})})]}),e.jsx("div",{className:"p-5 overflow-y-auto max-h-[80vh]",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Blog"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 appearance-none",onChange:i=>{const c=N.find(b=>b._id===i.target.value);c&&g(c)},value:((m=f.selectedBlog)==null?void 0:m._id)||"",children:[e.jsx("option",{value:"",className:"bg-gray-50",children:"Select a blog"}),N.map(i=>e.jsx("option",{value:i._id,className:"bg-gray-50 capitalize",children:i.title},i._id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),f.selectedBlog&&e.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"font-medium text-gray-700",children:"Preview"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 truncate capitalize",children:f.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3",children:f.content})]})]}),e.jsx(F.div,{className:"flex justify-end pt-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(F.button,{onClick:k,className:`px-5 py-2.5 rounded-lg font-medium flex items-center gap-2 ${t?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"} transition-all duration-300 shadow`,disabled:t||!f.selectedBlog,whileHover:{scale:!t&&f.selectedBlog?1.03:1},whileTap:{scale:.97},children:t?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),"Analyze Performance"]})})}),t&&!h&&e.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-4",children:[...Array(6)].map((i,c)=>e.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:c*.1},className:"h-32 bg-gray-100 rounded-xl animate-pulse"},c))}),e.jsx(u,{stats:h})]})}),e.jsx("div",{className:"flex justify-end gap-3 p-5 border-t border-gray-100",children:e.jsx(F.button,{onClick:M,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-300",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close Dashboard"})})]})})},Ks=({closeFnc:M,openSecondStepModal:f,openJobModal:v})=>{const[t,y]=j.useState(""),[h,S]=j.useState([]),[x,N]=j.useState(1),[l,g]=j.useState([]),k=V(),{keywordAnalysis:L,loading:C,error:p,selectedKeywords:r}=W(o=>o.analysis);j.useEffect(()=>{console.log("KeywordResearchModel: Current selectedKeywords in Redux:",r)},[r]),j.useEffect(()=>{h.length===0&&(k(ne()),g([]),N(1))},[h,k]);const u=()=>{const o=t.trim();if(!o)return;const s=h.map(n=>n.toLowerCase()),a=new Set,w=o.split(",").map(n=>n.trim()).filter(n=>n&&!s.includes(n.toLowerCase())&&!a.has(n.toLowerCase())&&a.add(n.toLowerCase()));w.length>0&&(S([...h,...w]),y(""))},m=o=>{const s=h.filter((a,w)=>w!==o);S(s),s.length===0&&(k(ne()),g([]),N(1))},i=o=>{o.key==="Enter"&&(o.preventDefault(),u())},c=()=>{h.length>0&&(k(Ee(h)),N(1))},b=()=>{const o={LOW:[],MEDIUM:[],HIGH:[]};L==null||L.forEach(n=>{o[n.competition]&&o[n.competition].push({keyword:n.keyword,competition_index:n.competition_index})});const s=o.LOW.sort((n,A)=>n.competition_index-A.competition_index).slice(0,2),a=o.MEDIUM.sort((n,A)=>n.competition_index-A.competition_index).slice(0,2),w=o.HIGH.sort((n,A)=>n.competition_index-A.competition_index).slice(0,2);return[...s.map(n=>n.keyword),...a.map(n=>n.keyword),...w.map(n=>n.keyword)]},P=o=>{const s=b();g(s);const a=se.info({icon:null,title:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Auto-Selected Keywords"}),e.jsx("button",{onClick:()=>a.destroy(),className:"text-gray-500 hover:text-red-500","aria-label":"Close modal",children:e.jsx(X,{className:"h-5 w-5"})})]}),content:e.jsxs("div",{children:[e.jsx("p",{children:"We selected these keywords automatically based on competition index:"}),e.jsx("ul",{className:"list-disc ml-5 mt-2",children:s.map(w=>e.jsx("li",{className:"capitalize",children:w},w))}),e.jsx("p",{className:"mt-3",children:"Do you want to proceed with these?"})]}),okText:"Accept",cancelText:"Decline",closable:!0,onOk(){const w=[...(r==null?void 0:r.focusKeywords)||[],...s.filter(n=>{var A;return!((A=r==null?void 0:r.focusKeywords)!=null&&A.includes(n))})].slice(0,6);d(w,o)},onCancel(){const w=(r==null?void 0:r.focusKeywords)||[];d(w,o)},okButtonProps:{className:"bg-blue-600 text-white"}})},B=()=>{P("blog")},$=()=>{P("job")},d=async(o,s)=>{console.log("KeywordResearchModel: Dispatching finalSelectedKeywords:",o),await k(je({focusKeywords:o,allKeywords:o})),setTimeout(()=>{s==="blog"?f():v(),M()},100)},I=[{title:"Keyword",dataIndex:"keyword",key:"keyword",sorter:(o,s)=>o.keyword.localeCompare(s.keyword),render:o=>e.jsx("span",{className:"font-medium capitalize",children:o})},{title:"Monthly Searches",dataIndex:"avgMonthlySearches",key:"avgMonthlySearches",sorter:(o,s)=>o.avgMonthlySearches-s.avgMonthlySearches,render:o=>new Intl.NumberFormat().format(o)},{title:"Competition",dataIndex:"competition",key:"competition",sorter:(o,s)=>o.competition_index-s.competition_index,render:o=>e.jsx(Je,{color:o==="LOW"?"green":o==="MEDIUM"?"orange":o==="HIGH"?"red":"gray",children:o})},{title:"Competition Index",dataIndex:"competition_index",key:"competition_index",sorter:(o,s)=>o.competition_index-s.competition_index,render:o=>o||"-"}],D=(L==null?void 0:L.map((o,s)=>({key:s,keyword:o.keyword,avgMonthlySearches:o.avgMonthlySearches,competition:o.competition,competition_index:o.competition_index,avgCpc:o.avgCpc,lowBid:o.lowBid,highBid:o.highBid})))||[],z=o=>N(o);return j.useEffect(()=>()=>{console.log("KeywordResearchModel: Unmounting, clearing keywordAnalysis only"),k(ne()),S([]),y(""),g([]),N(1)},[k]),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsx(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-4xl rounded-2xl overflow-hidden border",children:e.jsxs(Xe,{title:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Keyword Research"}),e.jsx("button",{onClick:M,className:"p-2 rounded-full hover:bg-gray-100","aria-label":"Close keyword research modal",children:e.jsx(X,{className:"h-6 w-6 text-gray-500 hover:text-gray-700"})})]}),className:"rounded-xl shadow-lg border-0",children:[e.jsx("p",{className:"mb-4 text-gray-600",children:"Find and analyze keywords for your blog"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx(es,{placeholder:"Enter a keyword",value:t,onChange:o=>y(o.target.value),onKeyPress:i,className:"flex-1","aria-label":"Enter keyword"}),e.jsx(F.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(ye,{type:"primary",onClick:u,children:"Add"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:h.map((o,s)=>e.jsxs(F.div,{initial:{opacity:0,scale:.8},animate:{opacity:1},className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full flex items-center",children:[e.jsx("span",{children:o}),e.jsx(F.div,{whileHover:{scale:1.2},whileTap:{scale:.8},className:"ml-2 cursor-pointer",onClick:()=>m(s),children:e.jsx(Ye,{className:"text-blue-800 text-xs"})})]},s))}),e.jsx(F.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(ye,{block:!0,type:"primary",onClick:c,loading:C,disabled:h.length===0,children:"Analyze Keywords"})}),h.length>0&&L&&Array.isArray(L)&&e.jsx("div",{className:"mt-6",children:e.jsx(fe,{columns:I,dataSource:D,pagination:{current:x,pageSize:4,showSizeChanger:!1,onChange:z,total:D.length},rowSelection:{selectedRowKeys:(r==null?void 0:r.focusKeywords)||[],onChange:o=>{k(je({focusKeywords:o,allKeywords:o})),console.log("Table selected keywords:",o)},getCheckboxProps:o=>({name:o.keyword})},rowKey:o=>o.keyword,scroll:{x:!0}})}),e.jsxs("div",{className:"flex justify-end gap-3 mt-5 border-t border-gray-100 pt-4",children:[e.jsx(F.button,{onClick:B,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:!L||C||h.length===0,children:"Create Blog"}),e.jsx(F.button,{onClick:$,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:!L||C||h.length===0,children:"Create New Job"}),e.jsx(F.button,{onClick:M,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close"})]})]})})})},mt=()=>{const[M,f]=j.useState(!1),[v,t]=j.useState(0),[y,h]=j.useState(!1),[S,x]=j.useState(!1),[N,l]=j.useState(!1),[g,k]=j.useState(!1),[L,C]=j.useState(!1),[p,r]=j.useState(!1),[u,m]=j.useState(!1),[i,c]=j.useState({}),[b,P]=j.useState([]),[B,$]=j.useState([]),[d,I]=j.useState(!0),D=V(),z=ee(),o=W(Re),{handlePopup:s}=re();j.useEffect(()=>{const E=setTimeout(()=>{I(!1)},1200);return()=>clearTimeout(E)},[]),j.useEffect(()=>{(async()=>{if(!localStorage.getItem("token")){z("/login");return}try{const Z=await D(we());we.rejected.match(Z)&&(console.warn("Failed to load user, redirecting..."),z("/login"))}catch(Z){console.error("User init failed:",Z)}})()},[D,z]),j.useEffect(()=>{(async()=>{try{const Z=(await $e()).filter(J=>J.status==="complete"&&J.isArchived===!1).slice(-3);P(Z)}catch(_){console.error("Error fetching blogs:",_.message)}})()},[]);const a=()=>f(!0),w=()=>h(!0),n=()=>h(!1),A=()=>x(!0),K=()=>x(!1),R=()=>l(!0),Q=()=>l(!1),G=()=>k(!0),q=()=>k(!1),H=()=>{r(!1),f(!0),t(0)},O=()=>{r(!1),D(Oe()),z("/jobs")},U=async E=>{var _,Z;try{const J=(((_=o==null?void 0:o.credits)==null?void 0:_.base)||0)+(((Z=o==null?void 0:o.credits)==null?void 0:Z.extra)||0),be=te("blog.single",i.aiModel)+(i.isUnsplashActive?0:te("aiImages"));s({title:"Confirm Blog Creation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Single Blog generation cost: ",e.jsxs("b",{children:[be," credits."]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue?"})]}),onConfirm:()=>{if(be>J){T.error("You do not have enough credits to generate this blog."),s(!1);return}else D(_e({blogData:E,navigate:z})),f(!1),t(0)}})}catch(J){console.error("Error submitting form:",J)}},Y=()=>{f(!1),t(0),c({})},ce=()=>t(v+1),de=()=>t(v-1);return e.jsxs(e.Fragment,{children:[e.jsx(ze,{children:e.jsx("title",{children:"Home | GenWrite"})}),e.jsxs(us,{title:`Step ${v}/3`,visible:M,onCancel:Y,className:"max-h-[90vh] overflow-scroll",children:[v===0&&e.jsx(ps,{handleNext:ce,handleClose:Y,data:i,setData:c}),v===1&&e.jsx(bs,{handleNext:ce,handleClose:Y,handlePrevious:de,data:i,setData:c}),v===2&&e.jsx(js,{handleNext:ce,handlePrevious:de,handleClose:Y,data:i,setData:c}),v===3&&e.jsx(ws,{handlePrevious:de,handleSubmit:U,handleClose:Y,data:i,setData:c}),e.jsx("div",{className:"flex items-center justify-center mt-4",children:e.jsx("progress",{className:"w-full max-w-md",max:"3",value:v})})]}),y&&e.jsx(Ls,{closeFnc:n}),S&&e.jsx(Bs,{closeFnc:K}),N&&e.jsx(Is,{closeFnc:Q}),g&&e.jsx(Ze,{closeFnc:q}),L&&e.jsx(Ms,{closeFnc:()=>C(!1)}),p&&e.jsx(Ks,{closeFnc:()=>{r(!1),D(ne())},openSecondStepModal:H,openJobModal:O}),u&&e.jsx(As,{closeFnc:()=>m(!1)}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/50 p-6",children:e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"gap-6",children:e.jsxs("div",{children:[e.jsxs(F.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:["Let's Begin",e.jsx("span",{className:"ml-2 text-2xl text-yellow-400",children:"✨"})]}),e.jsxs("p",{className:"text-gray-600 text-lg mt-2",children:["Welcome back ",e.jsx("b",{children:o==null?void 0:o.name}),"! Ready to create something amazing today?"]})]})}),e.jsx("div",{className:"grid lg:grid-cols-3 gap-6",children:e.jsx(me,{children:d?Array.from({length:3}).map((E,_)=>e.jsx(ss,{},_)):vs.map((E,_)=>e.jsx(ks,{icon:E.icon,title:E.title,content:E.content,id:E.id,gradient:E.hoverGradient,functions:{showModal:a,setModelData:c,showDaisy:w,showMultiStepModal:A,showQuickBlogModal:R,showCompetitiveAnalysis:G}},_))})}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center",children:e.jsx(Le,{className:"w-5 h-5 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Quick Tools"})]}),e.jsx("div",{className:"grid gap-6 sm:grid-cols-1 md:grid-cols- lg:grid-cols-3",children:e.jsx(me,{children:d?Array.from({length:3}).map((E,_)=>e.jsx(ke,{},_)):Ns.map((E,_)=>e.jsx(Cs,{imageUrl:E.imageUrl,title:E.title,content:E.content,id:E.id,color:E.color,icon:E.icon,bgColor:E.bgColor,hoverBg:E.hoverBg,functions:{...E.id===3?{showPerformanceMonitoring:()=>C(!0)}:{},...E.id===2?{showSeoAnalysis:()=>m(!0)}:{},...E.id===1?{showKeywordResearch:()=>r(!0)}:{},...E.id===4?{showCompetitiveAnalysis:G}:{}}},_))})})]}),b.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 mt-10",children:[e.jsx("div",{className:"mb-8 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-emerald-500 to-teal-500 flex items-center justify-center",children:e.jsx(ts,{className:"w-5 h-5 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recent Projects"})]})}),e.jsxs("div",{children:[e.jsx(me,{children:d?Array.from({length:3}).map((E,_)=>e.jsx(ke,{},_)):b.map((E,_)=>e.jsx(Ss,{title:E.title,content:E.content,tags:E.focusKeywords,item:E,time:E.updatedAt},_))}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{className:"px-6 py-3 text-blue-600 hover:text-blue-700 font-medium hover:bg-blue-50 rounded-lg transition-colors",onClick:()=>z("/blogs"),children:"View All Projects"})})]})]})]})})]})};export{mt as default};
