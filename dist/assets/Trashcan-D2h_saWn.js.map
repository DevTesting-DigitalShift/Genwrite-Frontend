{"version":3,"file":"Trashcan-D2h_saWn.js","sources":["../../src/pages/Trashcan.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\"\r\nimport {\r\n  Button,\r\n  Tooltip,\r\n  Popconfirm,\r\n  Badge,\r\n  Pagination,\r\n  Input,\r\n  Select,\r\n  message,\r\n} from \"antd\"\r\nimport { RefreshCcw, Trash2, Search } from \"lucide-react\"\r\nimport { useConfirmPopup } from \"@/context/ConfirmPopupContext\"\r\nimport { QuestionCircleOutlined } from \"@ant-design/icons\"\r\nimport { motion } from \"framer-motion\"\r\nimport { Helmet } from \"react-helmet\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport SkeletonLoader from \"@components/Projects/SkeletonLoader\"\r\nimport { getAllBlogs } from \"@api/blogApi\"\r\nimport { deleteAllUserBlogs, restoreTrashedBlog } from \"@store/slices/blogSlice\"\r\nimport { debounce } from \"lodash\"\r\nimport moment from \"moment\"\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\"\r\n\r\nconst { Search: AntSearch } = Input\r\nconst { Option } = Select\r\n\r\nconst Trashcan = () => {\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [pageSize, setPageSize] = useState(15)\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [statusFilter, setStatusFilter] = useState(\"all\")\r\n  const [dateRange, setDateRange] = useState([null, null])\r\n\r\n  const { handlePopup } = useConfirmPopup()\r\n  const dispatch = useDispatch()\r\n  const navigate = useNavigate()\r\n  const queryClient = useQueryClient()\r\n\r\n  const TRUNCATE_LENGTH = 85\r\n  const PAGE_SIZE_OPTIONS = [10, 15, 20, 50]\r\n\r\n  // Debounced search handler\r\n  const debouncedSearch = useCallback(\r\n    debounce((value) => {\r\n      setSearchTerm(value)\r\n      setCurrentPage(1) // Reset to first page on search\r\n    }, 500),\r\n    []\r\n  )\r\n\r\n  // Fetch trashed blogs using TanStack Query\r\n  const { data, isLoading } = useQuery({\r\n    queryKey: [\"trashedBlogs\", statusFilter, searchTerm, dateRange, currentPage, pageSize],\r\n    queryFn: async () => {\r\n      const queryParams = {\r\n        isArchived: true,\r\n        status: statusFilter !== \"all\" ? statusFilter : undefined,\r\n        q: searchTerm || undefined,\r\n        start: dateRange[0] ? moment(dateRange[0]).toISOString() : undefined,\r\n        end: dateRange[1] ? moment(dateRange[1]).toISOString() : undefined,\r\n        page: currentPage,\r\n        limit: pageSize,\r\n      }\r\n      const response = await getAllBlogs(queryParams)\r\n      return {\r\n        trashedBlogs: response.data || [],\r\n        totalBlogs: response.totalItems || 0,\r\n      }\r\n    },\r\n    keepPreviousData: true, // Keep previous data while fetching new data\r\n    staleTime: 5 * 60 * 1000, // Cache data for 5 minutes\r\n    cacheTime: 10 * 60 * 1000, // Keep cache for 10 minutes\r\n  })\r\n\r\n  const trashedBlogs = data?.trashedBlogs || []\r\n  const totalBlogs = data?.totalBlogs || 0\r\n\r\n  // Mutation for restoring a blog\r\n  const restoreMutation = useMutation({\r\n    mutationFn: (id) => dispatch(restoreTrashedBlog(id)).unwrap(),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries([\"trashedBlogs\"])\r\n      message.success(\"Blog restored successfully\")\r\n    },\r\n    onError: (error) => {\r\n      console.error(\"Failed to restore blog:\", error)\r\n      message.error(\"Failed to restore blog. Please try again.\")\r\n    },\r\n  })\r\n\r\n  // Mutation for bulk delete\r\n  const bulkDeleteMutation = useMutation({\r\n    mutationFn: () => dispatch(deleteAllUserBlogs()).unwrap(),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries([\"trashedBlogs\"])\r\n      setCurrentPage(1)\r\n      message.success(\"All trashed blogs deleted successfully\")\r\n    },\r\n    onError: (error) => {\r\n      console.error(\"Failed to delete all blogs:\", error)\r\n      message.error(\"Failed to delete all blogs. Please try again.\")\r\n    },\r\n  })\r\n\r\n  // Scroll to top on page change\r\n  useEffect(() => {\r\n    window.scrollTo({ top: 0, behavior: \"smooth\" })\r\n  }, [currentPage])\r\n\r\n  // Truncate content\r\n  const truncateContent = (content, length = TRUNCATE_LENGTH) => {\r\n    if (!content) return \"\"\r\n    return content.length > length ? content.substring(0, length) + \"...\" : content\r\n  }\r\n\r\n  // Strip markdown\r\n  const stripMarkdown = (text) => {\r\n    return text\r\n      ?.replace(/<[^>]*>/g, \"\")\r\n      ?.replace(/[\\\\*#=_~`>\\-]+/g, \"\")\r\n      ?.replace(/\\s{2,}/g, \" \")\r\n      ?.trim()\r\n  }\r\n\r\n  // Handle restore\r\n  const handleRestore = (id) => {\r\n    restoreMutation.mutate(id)\r\n  }\r\n\r\n  // Handle bulk delete\r\n  const handleBulkDelete = () => {\r\n    bulkDeleteMutation.mutate()\r\n  }\r\n\r\n  // Handle refresh\r\n  const handleRefresh = () => {\r\n    queryClient.invalidateQueries([\"trashedBlogs\"])\r\n    message.info(\"Blog list refreshed\")\r\n  }\r\n\r\n  // Handle blog click\r\n  const handleBlogClick = (blog) => {\r\n    message.info(`Clicked on blog: ${blog.title}`)\r\n  }\r\n\r\n  // Handle manual blog click\r\n  const handleManualBlogClick = (blog) => {\r\n    navigate(`/blog-editor/${blog._id}`)\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-5\">\r\n      <Helmet>\r\n        <title>Trashcan | GenWrite</title>\r\n      </Helmet>\r\n      <div>\r\n        {/* Header */}\r\n        <div className=\"flex flex-col sm:flex-row items-center justify-between gap-4 mb-6\">\r\n          <motion.h1\r\n            initial={{ opacity: 0, y: -10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.4 }}\r\n            className=\"text-3xl sm:text-4xl font-extrabold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\"\r\n          >\r\n            Trashcan\r\n          </motion.h1>\r\n          <div className=\"flex items-center gap-3\">\r\n            <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>\r\n              <Button\r\n                type=\"default\"\r\n                icon={<RefreshCcw className=\"w-4 h-4\" />}\r\n                onClick={handleRefresh}\r\n                disabled={isLoading}\r\n              >\r\n                Refresh\r\n              </Button>\r\n            </motion.div>\r\n            {trashedBlogs.length > 0 && (\r\n              <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>\r\n                <Button\r\n                  type=\"default\"\r\n                  icon={<Trash2 className=\"w-4 h-4\" />}\r\n                  onClick={() =>\r\n                    handlePopup({\r\n                      title: \"Delete All Trashed Blogs\",\r\n                      description: (\r\n                        <span className=\"my-2\">\r\n                          All trashed blogs will be <b>permanently deleted</b>. This action cannot\r\n                          be undone.\r\n                        </span>\r\n                      ),\r\n                      confirmText: \"Delete All\",\r\n                      onConfirm: handleBulkDelete,\r\n                      confirmProps: {\r\n                        className: \"border-red-500 hover:bg-red-500 hover:text-white\",\r\n                      },\r\n                      cancelProps: {\r\n                        danger: false,\r\n                      },\r\n                    })\r\n                  }\r\n                  disabled={isLoading}\r\n                >\r\n                  Delete All\r\n                </Button>\r\n              </motion.div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <motion.p\r\n          initial={{ opacity: 0, y: -10 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.4, delay: 0.1 }}\r\n          className=\"text-gray-600 text-sm sm:text-base max-w-xl mb-6\"\r\n        >\r\n          Restore valuable work or permanently delete clutter. Trashed items are deleted after 7\r\n          days.\r\n        </motion.p>\r\n\r\n        {/* Filters */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -10 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.4, delay: 0.2 }}\r\n          className=\"bg-white/90 backdrop-blur-md rounded-xl shadow-sm border border-gray-100 p-4 mb-6\"\r\n        >\r\n          <div className=\"flex flex-col sm:flex-row gap-4\">\r\n            <AntSearch\r\n              placeholder=\"Search by title or keywords...\"\r\n              onChange={(e) => debouncedSearch(e.target.value)}\r\n              prefix={<Search className=\"w-5 h-5 text-gray-400 mr-2\" />}\r\n              allowClear\r\n              className=\"w-full rounded-lg\"\r\n              disabled={isLoading}\r\n            />\r\n            <Select\r\n              value={statusFilter}\r\n              onChange={(value) => {\r\n                setStatusFilter(value)\r\n                setCurrentPage(1)\r\n              }}\r\n              className=\"w-full sm:w-1/4 rounded-lg\"\r\n              placeholder=\"Filter by status\"\r\n              disabled={isLoading}\r\n            >\r\n              <Option value=\"all\">All Statuses</Option>\r\n              <Option value=\"complete\">Complete</Option>\r\n              <Option value=\"failed\">Failed</Option>\r\n              <Option value=\"pending\">Pending</Option>\r\n            </Select>\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/* Blog Grid */}\r\n        {isLoading ? (\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n            {[...Array(pageSize)].map((_, index) => (\r\n              <div key={index} className=\"bg-white shadow-md rounded-xl p-4\">\r\n                <SkeletonLoader />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : trashedBlogs.length === 0 ? (\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.95 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            transition={{ duration: 0.4 }}\r\n            className=\"flex flex-col justify-center items-center\"\r\n            style={{ minHeight: \"calc(100vh - 250px)\" }}\r\n          >\r\n            <img src=\"Images/trash-can.png\" alt=\"Trash\" style={{ width: \"8rem\" }} />\r\n            <p className=\"text-xl mt-5 text-gray-600\">No trashed blogs available.</p>\r\n          </motion.div>\r\n        ) : (\r\n          <>\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              transition={{ duration: 0.4 }}\r\n              className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 p-2\"\r\n            >\r\n              {trashedBlogs.map((blog) => {\r\n                const isManualEditor = blog.isManuallyEdited === true\r\n                const {\r\n                  _id,\r\n                  title,\r\n                  status,\r\n                  createdAt,\r\n                  content,\r\n                  aiModel,\r\n                  focusKeywords,\r\n                  wordpress,\r\n                  archiveDate,\r\n                  agendaJob,\r\n                } = blog\r\n                const isGemini = /gemini/gi.test(aiModel)\r\n                return (\r\n                  <Badge.Ribbon\r\n                    key={_id}\r\n                    text={\r\n                      <span className=\"flex items-center justify-center gap-1 py-1 font-medium tracking-wide\">\r\n                        {isManualEditor ? (\r\n                          <>Manually Generated</>\r\n                        ) : (\r\n                          <>\r\n                            <img\r\n                              src={`./Images/${\r\n                                isGemini ? \"gemini\" : aiModel === \"claude\" ? \"claude\" : \"chatgpt\"\r\n                              }.png`}\r\n                              alt={\r\n                                isGemini ? \"Gemini\" : aiModel === \"claude\" ? \"Claude\" : \"ChatGPT\"\r\n                              }\r\n                              width={20}\r\n                              height={20}\r\n                              loading=\"lazy\"\r\n                              className=\"bg-white\"\r\n                            />\r\n                            {isGemini\r\n                              ? \"Gemini 2.0 flash\"\r\n                              : aiModel === \"claude\"\r\n                              ? \"Claude 4 sonnet\"\r\n                              : \"Gpt 4.1 nano\"}\r\n                          </>\r\n                        )}\r\n                      </span>\r\n                    }\r\n                    className=\"absolute top-0\"\r\n                    color={\r\n                      isManualEditor\r\n                        ? \"#9CA3AF\"\r\n                        : isGemini\r\n                        ? \"#4796E3\"\r\n                        : aiModel === \"claude\"\r\n                        ? \"#9368F8\"\r\n                        : \"#74AA9C\"\r\n                    }\r\n                  >\r\n                    <div\r\n                      className={`bg-white shadow-md hover:shadow-xl transition-all duration-300 rounded-xl p-4 min-h-[180px] min-w-[390px] relative ${\r\n                        isManualEditor\r\n                          ? \"border-gray-500\"\r\n                          : status === \"failed\"\r\n                          ? \"border-red-500\"\r\n                          : status === \"pending\" || status === \"in-progress\"\r\n                          ? \"border-yellow-500\"\r\n                          : \"border-green-500\"\r\n                      } border-2`}\r\n                      title={title}\r\n                    >\r\n                      <div className=\"text-xs font-semibold text-gray-400 mb-2 -mt-2\">\r\n                        {new Date(createdAt).toLocaleDateString(\"en-US\", {\r\n                          dateStyle: \"medium\",\r\n                        })}\r\n                      </div>\r\n\r\n                      {isManualEditor ? (\r\n                        <div\r\n                          className=\"cursor-pointer\"\r\n                          onClick={() => handleManualBlogClick(blog)}\r\n                          role=\"button\"\r\n                          tabIndex={0}\r\n                          onKeyDown={(e) => e.key === \"Enter\" && navigate(`/blog-editor`)}\r\n                          aria-label={`View blog ${title}`}\r\n                        >\r\n                          <div className=\"flex flex-col gap-4 items-center justify-between mb-2\">\r\n                            <h3 className=\"text-lg capitalize font-semibold text-gray-900 !text-left max-w-76\">\r\n                              {title}\r\n                            </h3>\r\n                            <p className=\"text-sm text-gray-600 mb-4 line-clamp-3 break-all\">\r\n                              {truncateContent(stripMarkdown(content)) || \"\"}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        <Tooltip\r\n                          title={\r\n                            status === \"complete\"\r\n                              ? title\r\n                              : status === \"failed\"\r\n                              ? \"Blog generation failed\"\r\n                              : status === \"pending\"\r\n                              ? `Pending Blog will be generated ${\r\n                                  agendaJob?.nextRunAt\r\n                                    ? \"at \" +\r\n                                      new Date(agendaJob.nextRunAt).toLocaleString(\"en-IN\", {\r\n                                        dateStyle: \"medium\",\r\n                                        timeStyle: \"short\",\r\n                                      })\r\n                                    : \"shortly\"\r\n                                }`\r\n                              : `Blog generation is ${status}`\r\n                          }\r\n                          color={\r\n                            status === \"complete\"\r\n                              ? \"green\"\r\n                              : status === \"failed\"\r\n                              ? \"red\"\r\n                              : \"#eab308\"\r\n                          }\r\n                        >\r\n                          <div\r\n                            className=\"cursor-pointer\"\r\n                            onClick={() => {\r\n                              if (status === \"complete\" || status === \"failed\") {\r\n                                handleBlogClick(blog)\r\n                              }\r\n                            }}\r\n                            role=\"button\"\r\n                            tabIndex={0}\r\n                            onKeyDown={(e) =>\r\n                              e.key === \"Enter\" &&\r\n                              (status === \"complete\" || status === \"failed\") &&\r\n                              handleBlogClick(blog)\r\n                            }\r\n                            aria-label={`View blog ${title}`}\r\n                          >\r\n                            <div className=\"flex flex-col gap-4 items-center justify-between mb-2\">\r\n                              <h3 className=\"text-lg capitalize font-semibold text-gray-900 !text-left max-w-76\">\r\n                                {title}\r\n                              </h3>\r\n                              <p className=\"text-sm text-gray-600 mb-4 line-clamp-3 break-all\">\r\n                                {truncateContent(stripMarkdown(content)) || \"\"}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                        </Tooltip>\r\n                      )}\r\n                      <div className=\"flex items-center justify-between gap-2\">\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                          {focusKeywords?.map((keyword, index) => (\r\n                            <span\r\n                              key={index}\r\n                              className=\"bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-full\"\r\n                            >\r\n                              {keyword}\r\n                            </span>\r\n                          ))}\r\n                        </div>\r\n                        <Popconfirm\r\n                          title=\"Restore Blog\"\r\n                          description=\"Are you sure to restore this blog?\"\r\n                          icon={<QuestionCircleOutlined style={{ color: \"red\" }} />}\r\n                          okText=\"Yes\"\r\n                          cancelText=\"No\"\r\n                          onConfirm={() => handleRestore(_id)}\r\n                        >\r\n                          <motion.div whileHover={{ scale: 1.1 }} whileTap={{ scale: 0.9 }}>\r\n                            <img\r\n                              src=\"Images/restore.svg\"\r\n                              alt=\"Restore\"\r\n                              width=\"20\"\r\n                              height=\"20\"\r\n                              className=\"cursor-pointer restore-icon\"\r\n                            />\r\n                          </motion.div>\r\n                        </Popconfirm>\r\n                      </div>\r\n                      <div className=\"mt-3 mb-2 flex justify-end text-xs text-right text-gray-500 font-medium\">\r\n                        {wordpress?.postedOn && (\r\n                          <span>\r\n                            Posted on:  \r\n                            {new Date(wordpress.postedOn).toLocaleDateString(\"en-US\", {\r\n                              dateStyle: \"medium\",\r\n                            })}\r\n                          </span>\r\n                        )}\r\n                        <span className=\"block -mb-2 text-sm text-right\">\r\n                          Archive Date:{\" \"}\r\n                          {new Date(archiveDate).toLocaleDateString(\"en-US\", {\r\n                            dateStyle: \"medium\",\r\n                          })}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </Badge.Ribbon>\r\n                )\r\n              })}\r\n            </motion.div>\r\n            {totalBlogs > 15 && (\r\n              <motion.div\r\n                initial={{ opacity: 0 }}\r\n                animate={{ opacity: 1 }}\r\n                transition={{ duration: 0.4, delay: 0.3 }}\r\n                className=\"flex justify-center mt-6\"\r\n              >\r\n                <Pagination\r\n                  current={currentPage}\r\n                  pageSize={pageSize}\r\n                  total={totalBlogs}\r\n                  pageSizeOptions={PAGE_SIZE_OPTIONS.filter((size) => size <= 100)}\r\n                  onChange={(page, newPageSize) => {\r\n                    setCurrentPage(page)\r\n                    if (newPageSize !== pageSize) {\r\n                      setPageSize(newPageSize)\r\n                      setCurrentPage(1)\r\n                    }\r\n                  }}\r\n                  showSizeChanger={false}\r\n                  showTotal={(total) => `Total ${total} blogs`}\r\n                  responsive={true}\r\n                  disabled={isLoading}\r\n                />\r\n              </motion.div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Trashcan"],"names":["AntSearch","Input","Option","Select","Trashcan","currentPage","setCurrentPage","useState","pageSize","setPageSize","searchTerm","setSearchTerm","statusFilter","setStatusFilter","dateRange","setDateRange","handlePopup","useConfirmPopup","dispatch","useDispatch","navigate","useNavigate","queryClient","useQueryClient","TRUNCATE_LENGTH","PAGE_SIZE_OPTIONS","debouncedSearch","useCallback","debounce","value","data","isLoading","useQuery","__async","queryParams","moment","response","getAllBlogs","trashedBlogs","totalBlogs","restoreMutation","useMutation","id","restoreTrashedBlog","message","error","bulkDeleteMutation","deleteAllUserBlogs","useEffect","truncateContent","content","length","stripMarkdown","text","_c","_b","_a","handleRestore","handleBulkDelete","handleRefresh","handleBlogClick","blog","handleManualBlogClick","jsxs","jsx","Helmet","motion","Button","RefreshCcw","Trash2","e","Search","_","index","SkeletonLoader","Fragment","isManualEditor","_id","title","status","createdAt","aiModel","focusKeywords","wordpress","archiveDate","agendaJob","isGemini","Badge","Tooltip","keyword","Popconfirm","QuestionCircleOutlined","Pagination","size","page","newPageSize","total"],"mappings":"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"}