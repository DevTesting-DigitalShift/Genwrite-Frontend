var M=(a,g,i)=>new Promise((p,c)=>{var f=r=>{try{d(i.next(r))}catch(m){c(m)}},u=r=>{try{d(i.throw(r))}catch(m){c(m)}},d=r=>r.done?p(r.value):Promise.resolve(r.value).then(f,u);d((i=i.apply(a,g)).next())});import{r as l,u as T,b as D,J as K,a as S,Q as o,a1 as L,c2 as H,j as e,B as b}from"./index-BIbsCxtN.js";import{S as I}from"./sparkles-DN6SvM5L.js";import{R as $}from"./refresh-cw-B3z0cUHK.js";import{I as B}from"./index-D-xhrFMu.js";import{R as G}from"./CopyOutlined-C9Z6tg1F.js";import"./createLucideIcon-DtwEnn9D.js";import"./Input-B-q3hbwv.js";import"./SearchOutlined-BsngejUw.js";const{TextArea:A}=B,z=()=>{var N,v,C,k;const[a,g]=l.useState(""),[i,p]=l.useState([]),[c,f]=l.useState(""),[u,d]=l.useState(!1),r=T(),m=D(),{handlePopup:F}=K(),x=S(t=>{var s,h;return(h=(s=t.auth.user)==null?void 0:s.subscription)==null?void 0:h.plan}),n=S(t=>t.wordpress.metadata),w=l.useCallback(()=>a.trim().split(/\s+/).filter(s=>s.length>0).length,[a]),R=l.useCallback(()=>M(null,null,function*(){var t;if(!a.trim()){o.error("Please enter some content to generate metadata.");return}if(a.length<300){o.error("Content must be at least 300 characters long.");return}if(["free","basic"].includes((t=x==null?void 0:x.toLowerCase)==null?void 0:t.call(x))){openUpgradePopup({featureName:"Metadata Generation",navigate:m});return}d(!0);try{yield r(L({content:a})).unwrap(),o.success("Metadata generated successfully!")}catch(s){console.error("Error generating metadata:",s),o.error("Failed to generate metadata.")}finally{d(!1)}}),[a,r,x,m]),y=l.useCallback(()=>{if(c.trim()){const t=c.split(",").map(s=>s.trim().toLowerCase()).filter(s=>s&&!i.map(h=>h.toLowerCase()).includes(s));t.length>0&&p(s=>[...s,...t]),f("")}},[c,i]);l.useCallback(t=>{t.key==="Enter"&&(t.preventDefault(),y())},[y]),l.useCallback(t=>{p(s=>s.filter(h=>h!==t))},[]);const j=(t,s)=>{navigator.clipboard.writeText(t).then(()=>{o.success(`${s} copied to clipboard!`)}).catch(()=>{o.error(`Failed to copy ${s}.`)})},E=l.useCallback(()=>{g(""),p([]),f(""),r(H()),o.success("Content and metadata reset!")},[r]);return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 p-5",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start sm:items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(I,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"SEO Metadata Generator"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Create SEO-friendly metadata for your content"})]})]}),e.jsx("div",{className:"flex justify-end mt-2 lg:mt-0 flex-shrink-0",children:e.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-3 py-1.5 sm:px-4 sm:py-2 text-sm sm:text-base text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Reset all content",children:[e.jsx($,{className:"w-4 h-4"}),"Reset"]})})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-text w-5 h-5 text-blue-600",children:[e.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),e.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),e.jsx("path",{d:"M10 9H8"}),e.jsx("path",{d:"M16 13H8"}),e.jsx("path",{d:"M16 17H8"})]}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Content"})]}),e.jsx(A,{value:a,onChange:t=>g(t.target.value),placeholder:"Enter your content here...",rows:12,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 custom-scroll"})]}),e.jsx("div",{className:"flex justify-end items-center",children:e.jsxs("p",{className:`text-sm mb-2 ${w()<300?"text-yellow-500":"text-green-600"}`,children:["Word count: ",w()," ",w()<300?"(Minimum 60 words required)":""]})}),e.jsx(b,{onClick:()=>R(),loading:u,disabled:u||!a.trim()||a.length<300,className:`w-full py-3 text-sm font-medium text-white rounded-lg transition-all duration-200 bg-gradient-to-r from-blue-600 to-purple-600 hover:shadow-lg flex items-center justify-center gap-2 ${!a.trim()||a.length<300?"opacity-50 cursor-not-allowed":""}`,children:u?"Generating...":"Generate Metadata"})]}),n&&e.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Meta Title"}),e.jsxs(b,{type:"link",onClick:()=>j(n.title,"Meta Title"),className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 p-0",children:[e.jsx(G,{className:"w-4 h-4"}),"Copy"]})]}),e.jsxs("div",{className:"p-3 bg-white border border-gray-300 rounded-lg text-sm text-gray-700",children:[n.title||"No title generated",e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[((N=n.title)==null?void 0:N.length)||0,"/60 characters",((v=n.title)==null?void 0:v.length)>60&&e.jsx("span",{className:"text-red-600 ml-2",children:"Title exceeds 60 characters"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Meta Description"}),e.jsxs(b,{type:"link",onClick:()=>j(n.description,"Meta Description"),className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 p-0",children:[e.jsx(G,{className:"w-4 h-4"}),"Copy"]})]}),e.jsxs("div",{className:"p-3 bg-white border border-gray-300 rounded-lg text-sm text-gray-700",children:[n.description||"No description generated",e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[((C=n.description)==null?void 0:C.length)||0,"/160 characters",((k=n.description)==null?void 0:k.length)>160&&e.jsx("span",{className:"text-red-600 ml-2",children:"Description exceeds 160 characters"})]})]})]})]})]})]})};export{z as default};
