var zn=Object.defineProperty,_n=Object.defineProperties;var Kn=Object.getOwnPropertyDescriptors;var mn=Object.getOwnPropertySymbols;var Un=Object.prototype.hasOwnProperty,qn=Object.prototype.propertyIsEnumerable;var fn=(a,n,d)=>n in a?zn(a,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[n]=d,v=(a,n)=>{for(var d in n||(n={}))Un.call(n,d)&&fn(a,d,n[d]);if(mn)for(var d of mn(n))qn.call(n,d)&&fn(a,d,n[d]);return a},k=(a,n)=>_n(a,Kn(n));var or=(a,n,d)=>new Promise((r,i)=>{var s=w=>{try{j(d.next(w))}catch(g){i(g)}},N=w=>{try{j(d.throw(w))}catch(g){i(g)}},j=w=>w.done?r(w.value):Promise.resolve(w.value).then(s,N);j((d=d.apply(a,n)).next())});import{j as e}from"./tiptap-BabmW22p.js";import{a as Hn,r as On,n as Gn,g as Qn,b as Pe,h as Mn}from"./vendor-CcjAMWu8.js";import{c as cn,a as Tr,b as Er,d as Qr,m as Ir,T as sn,u as Dn,H as Xn,A as Zn}from"./index-CHEUOGl9.js";import{a as Jn,u as ea}from"./useAuthStore-CU2rUJjR.js";import{u as In}from"./useJobStore-0ufV0pgR.js";import{u as Pn}from"./useAnalysisStore-CRW_-n-r.js";import{u as Tn}from"./useQuery-CEoF32mJ.js";import{s as He,c as qr,e as Jr,t as ta,M as ra,v as na}from"./antd-8WQTeuab.js";import{S as aa}from"./SkeletonLoader-CKVNh3dE.js";import{U as sa}from"./UpgradeModal-INh7gSIx.js";import{o as on}from"./UpgardePopUp-BR-RcAtv.js";import{T as oa}from"./TemplateSelection-4e8DvOf9.js";import{B as ia}from"./BrandVoiceSelector-O34KYrAH.js";import{X as en}from"./x-z7Bk40f8.js";import{C as hn}from"./crown-RvwzBM2s.js";import{I as pn}from"./info-BiZJ-d04.js";import{P as ln}from"./plus-VJ30hOQJ.js";import{U as gn}from"./upload-DkfPBW6S.js";import{I as tn}from"./blogData-ClS6pc3R.js";import{a as bn}from"./forms.schemas-BlbdkHpq.js";import{C as la}from"./clock-B7F40lQy.js";import{g as da}from"./socket-UX3sw_I2.js";import{L as ca}from"./list-hFg1W_97.js";import{R as ua}from"./refresh-cw-C9vuQMbq.js";import{B as En}from"./briefcase-DEbiCj8M.js";import{S as yn}from"./sparkles-CoI3F60w.js";import{S as ma}from"./search-Csb6xL5U.js";import{P as fa}from"./pencil-DWK3mEea.js";import{T as ha}from"./trash-2-CXprfFVP.js";import"./utils-DIb0lvMo.js";import"./DataLayer-DALerVhB.js";import"./react-wNxFir7h.js";import"./analysisApi-DM6-hWp4.js";import"./lock-Drv_J_nJ.js";import"./arrow-left-D6iFa1kI.js";import"./Brand.query-s4DtUkVn.js";import"./useInfiniteQuery-6lwL1tXa.js";const pa=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],ga=cn("layout-grid",pa);const ba=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ya=cn("play",ba);const xa=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],va=cn("square",xa),wa=a=>or(null,null,function*(){return(yield Tr.post("/jobs",a)).data}),ka=()=>or(null,null,function*(){return(yield Tr.get("/jobs")).data}),ja=(a,n)=>or(null,null,function*(){return(yield Tr.put(`/jobs/${a}`,n)).data}),Na=a=>or(null,null,function*(){return(yield Tr.patch(`/jobs/${a}/start`)).data}),Sa=a=>or(null,null,function*(){return(yield Tr.patch(`/jobs/${a}/stop`)).data}),Ca=a=>or(null,null,function*(){return(yield Tr.delete(`/jobs/${a}`)).data}),Oa=(a=!0)=>Tn({queryKey:["jobs"],queryFn:ka,enabled:a}),Ma=()=>{const a=Er();return Qr({mutationFn:wa,onSuccess:(n,d)=>{const{user:r}=d;He.success("Job created successfully!"),a.invalidateQueries({queryKey:["jobs"]})},onError:n=>{var d,r;He.error(((r=(d=n==null?void 0:n.response)==null?void 0:d.data)==null?void 0:r.message)||"Failed to create job")}})},Da=()=>{const a=Er();return Qr({mutationFn:({jobId:n,jobPayload:d})=>ja(n,d),onSuccess:()=>{He.success("Job updated successfully!"),a.invalidateQueries({queryKey:["jobs"]})},onError:n=>{He.error("Failed to update job")}})},Yn=()=>{const a=Er();return Qr({mutationFn:r=>or(null,[r],function*({jobId:n,currentStatus:d}){return d==="active"?Sa(n):Na(n)}),onSuccess:(n,d)=>{const{currentStatus:r}=d;He.success(r==="active"?"Job paused!":"Job started!"),a.invalidateQueries({queryKey:["jobs"]})},onError:()=>{He.error("Failed to update job status")}})},Ln=()=>{const a=Er();return Qr({mutationFn:Ca,onSuccess:()=>{He.success("Job deleted successfully!"),a.invalidateQueries({queryKey:["jobs"]})},onError:n=>{var d,r;He.error(((r=(d=n.response)==null?void 0:d.data)==null?void 0:r.message)||"Failed to delete job")}})};var rn={},Gr={exports:{}},Ia=Gr.exports,xn;function Pa(){return xn||(xn=1,(function(a,n){(function(d,r){a.exports=r(Hn(),On())})(Ia,(function(d,r){function i(p){return p&&typeof p=="object"&&"default"in p?p:{default:p}}var s=i(r);function N(p,M){var c=Object.keys(p);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(p);M&&(L=L.filter((function(Q){return Object.getOwnPropertyDescriptor(p,Q).enumerable}))),c.push.apply(c,L)}return c}function j(p){for(var M=1;M<arguments.length;M++){var c=arguments[M]!=null?arguments[M]:{};M%2?N(Object(c),!0).forEach((function(L){w(p,L,c[L])})):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(c)):N(Object(c)).forEach((function(L){Object.defineProperty(p,L,Object.getOwnPropertyDescriptor(c,L))}))}return p}function w(p,M,c){return M in p?Object.defineProperty(p,M,{value:c,enumerable:!0,configurable:!0,writable:!0}):p[M]=c,p}function g(p,M){return(function(c){if(Array.isArray(c))return c})(p)||(function(c,L){var Q=c==null?null:typeof Symbol!="undefined"&&c[Symbol.iterator]||c["@@iterator"];if(Q!=null){var Te,Be,Ee=[],Ce=!0,Oe=!1;try{for(Q=Q.call(c);!(Ce=(Te=Q.next()).done)&&(Ee.push(Te.value),!L||Ee.length!==L);Ce=!0);}catch(de){Oe=!0,Be=de}finally{try{Ce||Q.return==null||Q.return()}finally{if(Oe)throw Be}}return Ee}})(p,M)||(function(c,L){if(c){if(typeof c=="string")return ee(c,L);var Q=Object.prototype.toString.call(c).slice(8,-1);if(Q==="Object"&&c.constructor&&(Q=c.constructor.name),Q==="Map"||Q==="Set")return Array.from(c);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return ee(c,L)}})(p,M)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function ee(p,M){(M==null||M>p.length)&&(M=p.length);for(var c=0,L=new Array(M);c<M;c++)L[c]=p[c];return L}function he(p,M){var c=p.element,L=p.popper,Q=p.position,Te=Q===void 0?"bottom-center":Q,Be=p.containerStyle,Ee=p.containerClassName,Ce=Ee===void 0?"":Ee,Oe=p.arrow,de=p.arrowStyle,we=de===void 0?{}:de,et=p.arrowClassName,Qe=et===void 0?"":et,pt=p.fixMainPosition,Tt=p.fixRelativePosition,Ct=p.offsetY,Ot=p.offsetX,xt=p.animations,Y=p.zIndex,U=Y===void 0?0:Y,ye=p.popperShadow,nt=p.onChange,at=p.active,vt=at===void 0||at,Fe=p.portal,ct=p.portalTarget,Ge=typeof window!="undefined",_e=Ge&&ct instanceof HTMLElement,Rt=Oe===!0,l=L&&vt===!0,m=r.useRef(),C=r.useRef(),W=r.useRef(),K=r.useRef(),ge=r.useMemo((function(){return{position:Te,fixMainPosition:pt,fixRelativePosition:Tt,offsetY:Ct,offsetX:Ot,defaultArrow:Rt,animations:xt,zIndex:U,onChange:nt}}),[Te,pt,Tt,Ct,Ot,Rt,xt,nt,U]),oe=r.useCallback((function(){W.current&&(W.current.style.transition=""),C.current&&(C.current.parentNode.style.transition="")}),[]),wt={element:j({display:"inline-block",height:"max-content"},Be),arrow:j({visibility:"hidden",left:"0",top:"0",position:"absolute"},we),popper:{position:"absolute",left:"0",top:"0",willChange:"transform",visibility:"hidden",zIndex:U}};Ge&&!K.current&&(K.current=document.createElement("div"),K.current.data={portal:Fe,isValidPortalTarget:_e}),r.useEffect((function(){if(Fe&&!_e){var Me=K.current;return document.body.appendChild(Me),function(){document.body.contains(Me)&&document.body.removeChild(Me)}}}),[Fe,_e]),r.useEffect((function(){if(!l)return oe(),C.current.parentNode.style.visibility="hidden",void(W.current&&(W.current.style.visibility="hidden"));function Me(Mt){Mt&&Mt.type!=="resize"&&!Mt.target.contains(m.current)||(Mt&&oe(),T(m,C,W,ge,Mt))}return Me(),document.addEventListener("scroll",Me,!0),window.addEventListener("resize",Me),function(){document.removeEventListener("scroll",Me,!0),window.removeEventListener("resize",Me)}}),[l,ge,oe]),r.useEffect((function(){var Me={portal:Fe,isValidPortalTarget:_e},Mt=K.current.data;JSON.stringify(Me)!==JSON.stringify(Mt)&&(K.current.data=Me,m.current.refreshPosition())}),[Fe,_e]);var Et=s.default.createElement(s.default.Fragment,null,(function(){if(!Oe||!l)return null;var Me=s.default.createElement("div",{ref:W,style:wt.arrow}),Mt=r.isValidElement(Oe)?{children:Oe}:{className:"ep-arrow ".concat(ye?"ep-shadow":""," ").concat(Qe)};return r.cloneElement(Me,Mt)})(),s.default.createElement("div",{className:ye?"ep-popper-shadow":"",style:wt.popper},s.default.createElement("div",{ref:C},L)));return s.default.createElement("div",{ref:function(Me){if(Me&&(Me.removeTransition=oe,Me.refreshPosition=function(){return setTimeout((function(){return T(m,C,W,ge,{})}),10)}),m.current=Me,M instanceof Function)return M(Me);M&&(M.current=Me)},className:Ce,style:wt.element},c,Fe&&Ge?d.createPortal(Et,_e?ct:K.current):Et)}function T(p,M,c,L,Q){var Te=L.position,Be=L.fixMainPosition,Ee=L.fixRelativePosition,Ce=L.offsetY,Oe=Ce===void 0?0:Ce,de=L.offsetX,we=de===void 0?0:de,et=L.defaultArrow,Qe=L.animations,pt=Qe===void 0?[]:Qe,Tt=L.zIndex,Ct=L.onChange;if(p.current&&M.current){var Ot,xt,Y,U,ye=(xt=window.pageXOffset!==void 0,Y=(document.compatMode||"")==="CSS1Compat",{scrollLeft:xt?window.pageXOffset:Y?document.documentElement.scrollLeft:document.body.scrollLeft,scrollTop:xt?window.pageYOffset:Y?document.documentElement.scrollTop:document.body.scrollTop}),nt=ye.scrollLeft,at=ye.scrollTop,vt=E(p.current,nt,at),Fe=vt.top,ct=vt.left,Ge=vt.height,_e=vt.width,Rt=vt.right,l=vt.bottom,m=E(M.current,nt,at),C=m.top,W=m.left,K=m.height,ge=m.width,oe=document.documentElement,wt=oe.clientHeight,Et=oe.clientWidth,Me=M.current.parentNode,Mt=(function(te){if(!te)return[0,0];var G=g((te.style.transform.match(/translate\((.*?)px,\s(.*?)px\)/)||[]).map((function(le){return Number(le)})),3),V=G[1],Z=V===void 0?0:V,se=G[2];return[Z,se===void 0?0:se]})(Me),yr=g(Mt,2),Qt=yr[0],fr=yr[1],Ne=(function(te){var G=g(te.split("-"),2),V=G[0],Z=V===void 0?"bottom":V,se=G[1],le=se===void 0?"center":se;Z==="auto"&&(Z="bottom"),le==="auto"&&(le="center");var ut=Z==="top"||Z==="bottom",tt=Z==="left"||Z==="right";return tt&&(le==="start"&&(le="top"),le==="end"&&(le="bottom")),ut&&(le==="start"&&(le="left"),le==="end"&&(le="right")),[Z,le,ut,tt]})(Te),t=g(Ne,4),o=t[0],u=t[1],h=t[2],y=t[3],b=o,A=function(te,G){return"translate(".concat(te,"px, ").concat(G,"px)")},R=_e-ge,F=Ge-K,B=u==="left"?0:u==="right"?R:R/2,O=R-B,z=u==="top"?0:u==="bottom"?F:F/2,D=F-z,X=ct-W+Qt,ce=Fe-C+fr,ae=0,re=0,ue=je(p.current),De=[],Se=c.current,Le=E(Se,nt,at)||{},Ie=Le.height,ne=Ie===void 0?0:Ie,We=Le.width,me=We===void 0?0:We,_=X,$=ce,q={top:"bottom",bottom:"top",left:"right",right:"left"};for(h&&(X+=B,ce+=o==="top"?-K:Ge,et&&(ne=11,me=20)),y&&(X+=o==="left"?-ge:_e,ce+=z,et&&(ne=20,me=11));ue;)De.push(ue),ie(E(ue,nt,at)),ue=je(ue.parentNode);ie({top:at,bottom:at+wt,left:nt,right:nt+Et,height:wt,width:Et}),h&&(ce+=b==="bottom"?Oe:-Oe),y&&(X+=b==="right"?we:-we),X-=ae,ce-=re,Ot=q[b],Se&&(h&&((U=_e<ge)?_+=_e/2:_=X+ge/2,_-=me/2,b==="bottom"&&($=ce,ce+=ne),b==="top"&&($=(ce-=ne)+K),ae<0&&ae-B<0&&(U?_+=(B-ae)/2:_e-B+ae<ge&&(_+=(_e-B+ae-ge)/2)),ae>0&&ae+O>0&&(U?_-=(ae+O)/2:_e-ae-O<ge&&(_-=(_e-ae-O-ge)/2))),y&&((U=Ge<K)?$+=Ge/2:$=ce+K/2,$-=ne/2,b==="left"&&(_=(X-=me)+ge),b==="right"&&(_=X,X+=me),re<0&&re-z<0&&(U?$+=(z-re)/2:Ge-z+re<K&&($+=(Ge-z+re-K)/2)),re>0&&re+D>0&&(U?$-=(re+D)/2:Ge-re-D<K&&($-=(Ge-re-D-K)/2))),Se.setAttribute("direction",Ot),Se.style.height=ne+"px",Se.style.width=me+"px",Se.style.transform=A(_,$),Se.style.visibility="visible",Se.style.zIndex=Tt+1),Me.style.transform=A(X,ce);var H={popper:{top:ce,bottom:ce+K,left:X,right:X+ge,height:K,width:ge},element:{top:Fe,bottom:l,left:ct,right:Rt,height:Ge,width:_e},arrow:{top:$,bottom:$+ne,left:_,right:_+me,height:ne,width:me,direction:Ot},position:b+"-"+(ae!==0?"auto":u),scroll:{scrollLeft:nt,scrollTop:at},scrollableParents:De,event:Q};Q||pt.forEach((function(te){te({popper:Me,arrow:Se,data:j(j({},H),{},{getTransform:A,mirror:q})})})),Me.style.visibility="visible",typeof Ct=="function"&&Ct(H)}function ie(te){var G=te.top,V=te.bottom,Z=te.left,se=te.right,le=te.height,ut=te.width;if(h){var tt=Math.round(Fe-G+Ge/2),Vt=Math.round(le/2);Be||(Fe-(K+Oe+ne)<G&&tt<=Vt&&b==="top"?(ce+=K+Ge,b="bottom"):l+K+Oe+ne>le+G&&tt>=Vt&&b==="bottom"&&(ce-=K+Ge,b="top")),Ee||(ct+B<Z&&(ae=S(Rt-me>Z?ct+B-Z:-_e+B+me,ae)),Rt-O>se&&(ae=S(ct+me<se?Rt-O-se:_e-O-me,ae)))}if(y){var be=Math.round(ct-Z+_e/2),ve=Math.round(ut/2);Be||(ct-(ge+we+me)<Z&&be<ve&&b==="left"?(X+=_e+ge,b="right"):Rt+ge+we+me>se&&be>ve&&b==="right"&&(X-=_e+ge,b="left")),Ee||(Fe+z<G&&(re=S(l-ne>G?Fe+z-G:-Ge+z+ne,re)),l-D>V&&(re=S(Fe+ne<V?l-D-V:Ge-D-ne,re)))}}}function E(p,M,c){if(p){var L=p.getBoundingClientRect(),Q=L.top,Te=L.left,Be=L.width,Ee=L.height,Ce=Q+c,Oe=Te+M;return{top:Ce,bottom:Ce+Ee,left:Oe,right:Oe+Be,width:Be,height:Ee}}}function je(p){if(p&&p.tagName!=="HTML"){var M=window.getComputedStyle(p),c=function(L){return["auto","scroll"].includes(L)};return p.clientHeight<p.scrollHeight&&c(M.overflowX)||p.clientWidth<p.scrollWidth&&c(M.overflowY)?p:je(p.parentNode)}}function S(p,M){return Math.round(Math.abs(p))>Math.round(Math.abs(M))?p:M}return r.forwardRef(he)}))})(Gr)),Gr.exports}function Pr(a){return Pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Pr(a)}function Ta(a){return(function(n){if(Array.isArray(n))return dn(n)})(a)||An(a)||Xr(a)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function An(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function vn(a,n){var d=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!d){if(Array.isArray(a)||(d=Xr(a))||n){d&&(a=d);var r=0,i=function(){};return{s:i,n:function(){return r>=a.length?{done:!0}:{done:!1,value:a[r++]}},e:function(w){throw w},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,N=!0,j=!1;return{s:function(){d=d.call(a)},n:function(){var w=d.next();return N=w.done,w},e:function(w){j=!0,s=w},f:function(){try{N||d.return==null||d.return()}finally{if(j)throw s}}}}function wn(a,n){var d=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);n&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable}))),d.push.apply(d,r)}return d}function kn(a){for(var n=1;n<arguments.length;n++){var d=arguments[n]!=null?arguments[n]:{};n%2?wn(Object(d),!0).forEach((function(r){Ea(a,r,d[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(d)):wn(Object(d)).forEach((function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(d,r))}))}return a}function Ea(a,n,d){return(n=Wn(n))in a?Object.defineProperty(a,n,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[n]=d,a}function kr(a,n){return Fn(a)||(function(d,r){var i=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(i!=null){var s,N,j,w,g=[],ee=!0,he=!1;try{if(j=(i=i.call(d)).next,r===0){if(Object(i)!==i)return;ee=!1}else for(;!(ee=(s=j.call(i)).done)&&(g.push(s.value),g.length!==r);ee=!0);}catch(T){he=!0,N=T}finally{try{if(!ee&&i.return!=null&&(w=i.return(),Object(w)!==w))return}finally{if(he)throw N}}return g}})(a,n)||Xr(a,n)||Rn()}function Rn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xr(a,n){if(a){if(typeof a=="string")return dn(a,n);var d=Object.prototype.toString.call(a).slice(8,-1);return d==="Object"&&a.constructor&&(d=a.constructor.name),d==="Map"||d==="Set"?Array.from(a):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?dn(a,n):void 0}}function dn(a,n){(n==null||n>a.length)&&(n=a.length);for(var d=0,r=new Array(n);d<n;d++)r[d]=a[d];return r}function Fn(a){if(Array.isArray(a))return a}function Ya(a,n){for(var d=0;d<n.length;d++){var r=n[d];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,Wn(r.key),r)}}function Wn(a){var n=(function(d,r){if(Pr(d)!=="object"||d===null)return d;var i=d[Symbol.toPrimitive];if(i!==void 0){var s=i.call(d,r);if(Pr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)})(a,"string");return Pr(n)==="symbol"?n:String(n)}function ft(a,n,d){(function(r,i){if(i.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")})(a,n),n.set(a,d)}function f(a,n){return(function(d,r){return r.get?r.get.call(d):r.value})(a,Bn(a,n,"get"))}function I(a,n,d){return(function(r,i,s){if(i.set)i.set.call(r,s);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=s}})(a,Bn(a,n,"set"),d),d}function Bn(a,n,d){if(!n.has(a))throw new TypeError("attempted to "+d+" private field on non-instance");return n.get(a)}function La(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function Aa(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var jn={name:"gregorian_en",months:[["January","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May","May"],["June","Jun"],["July","Jul"],["August","Aug"],["September","Sep"],["October","Oct"],["November","Nov"],["December","Dec"]],weekDays:[["Saturday","Sat"],["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"]],digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]},Hr={name:"gregorian",startYear:1,yearLength:365,epoch:1721424,century:20,weekStartDayIndex:1,getMonthLengths:function(a){return[31,a?29:28,31,30,31,30,31,31,30,31,30,31]},isLeap:function(a){return a%4==0&&a%100!=0||a%400==0},getLeaps:function(a){if(a!==0){for(var n=a>0?1:-1,d=[];a>0?n<=a:a<=n;)this.isLeap(n)&&d.push(n),a>0?n++:n--;return d}},getDayOfYear:function(a){for(var n=a.year,d=a.month,r=a.day,i=this.getMonthLengths(this.isLeap(n)),s=0;s<d.index;s++)r+=i[s];return r},getAllDays:function(a){var n=a.year;return this.yearLength*(n-1)+this.leapsLength(n)+this.getDayOfYear(a)},leapsLength:function(a){return((a-1)/4|0)+(-(a-1)/100|0)+((a-1)/400|0)},guessYear:function(a,n){return~~(a/365.24)+(n>0?1:-1)}};function br(a){return a&&a.constructor===Object}function Ut(a){if(!isNaN(a))return parseInt(a)}function jr(a){return Array.isArray(a)}function Cr(a,n,d){return a===void 0||a<n||a>d}var ht=new WeakMap,Ze=new WeakMap,Ue=new WeakMap,qt=new WeakMap,cr=new WeakMap,ur=new WeakMap,it=new WeakMap,mr=new WeakMap,kt=new WeakMap,Je=new WeakMap,Or=new WeakMap,Ht=new WeakMap,Nn=new WeakMap,Mr=new WeakMap,Dr=new WeakMap,Sn=new WeakMap,nn=new WeakMap,Gt=new WeakMap,an=new WeakMap,Ra=(function(){function a(r){var i=this;(function(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")})(this,a),ft(this,ht,{writable:!0,value:void 0}),ft(this,Ze,{writable:!0,value:void 0}),ft(this,Ue,{writable:!0,value:void 0}),ft(this,qt,{writable:!0,value:void 0}),ft(this,cr,{writable:!0,value:void 0}),ft(this,ur,{writable:!0,value:void 0}),ft(this,it,{writable:!0,value:void 0}),ft(this,mr,{writable:!0,value:void 0}),ft(this,kt,{writable:!0,value:jn}),ft(this,Je,{writable:!0,value:Hr}),ft(this,Or,{writable:!0,value:!1}),ft(this,Ht,{writable:!0,value:{}}),ft(this,Nn,{writable:!0,value:/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d\.\d\d\dZ$/}),ft(this,Mr,{writable:!0,value:[]}),ft(this,Dr,{writable:!0,value:!0}),ft(this,Sn,{writable:!0,value:function(w,g){switch(w){case"YYYY":return["year",g];case"YY":return["year","".concat(f(i,Je).century).concat(g)];case"MMMM":case"MMM":return["month",i.months.findIndex((function(he){var T=he.name,E=he.shortName;return new RegExp(g,"i").test(T+E)}))+1];case"MM":case"M":return["month",g];case"DD":case"D":return["day",g];case"HH":case"H":return["hour",g];case"hh":case"h":var ee=Ut(g);return["hour",ee>12?ee-12:ee];case"mm":case"m":return["minute",g];case"ss":case"s":return["second",g];case"SSS":case"SS":case"S":return["millisecond",g];default:return[]}}}),ft(this,nn,{writable:!0,value:function(){return f(i,ht)===0&&f(i,Je).startYear!==0}}),ft(this,Gt,{writable:!0,value:function(){if(f(i,Dr)&&i.isValid){var w=Math.floor,g=function(S,p){return[(L=S,(L<0?-1:1)*Math.abs(w(S/p))),(M=S,c=p,(M<0&&w(M%c)!==-0?c:0)+w(S%p))];var M,c,L},ee=function(){if(f(i,Ze)<0||f(i,Ze)>11){var S=f(i,Ze)<0?-1:1,p=kr(g(f(i,Ze),12),2),M=p[0],c=p[1];I(i,ht,f(i,ht)+M),I(i,Ze,c),f(i,nn).call(i)&&I(i,ht,S)}};for(I(i,Dr,!1),[["millisecond","second",1e3],["second","minute",60],["minute","hour",60],["hour","day",24]].forEach((function(S){var p=kr(S,3),M=p[0],c=p[1],L=p[2];if((function(Ee,Ce){return Ee>=Ce||Ee<0})(i[M],L)){var Q=kr(g(i[M],L),2),Te=Q[0],Be=Q[1];i[c]+=Te,i[M]=Be}})),I(i,Dr,!0),ee();f(i,Ue)<-f(i,Je).yearLength||f(i,Ue)>f(i,Je).yearLength;){if(f(i,Ze)>0){for(var he=f(i,Je).getMonthLengths(i.isLeap),T=0;T<f(i,Ze);T++)I(i,Ue,f(i,Ue)+he[T]);I(i,Ze,0)}var E=i.isLeap?i.calendar.yearLength+1:i.calendar.yearLength;I(i,Ue,f(i,Ue)+E*(f(i,Ue)<0?1:-1)),I(i,ht,f(i,ht)+(f(i,Ue)<0?-1:1))}for(;;){var je;for(ee();f(i,Ue)<1;)I(i,Ze,f(i,Ze)-1),ee(),I(i,Ue,i.month.length+f(i,Ue));if(f(i,Ue)<=i.month.length||isNaN(f(i,Ue)))break;I(i,Ue,f(i,Ue)-i.month.length),I(i,Ze,(je=f(i,Ze),je++,je))}f(i,qt)||I(i,qt,0),f(i,cr)||I(i,cr,0),f(i,ur)||I(i,ur,0),f(i,it)||I(i,it,0)}}}),ft(this,an,{writable:!0,value:function(){return(f(i,Ht).weekDays||f(i,kt).weekDays).map((function(w,g){var ee=kr(w,2),he=ee[0],T=ee[1],E=g-i.weekStartDayIndex;return E<0&&(E+=7),{name:he,shortName:T,index:E,number:E+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}}))}});var s=br(r)?kn({},r):r,N=!0;if(s&&typeof s!="boolean"||(s={date:new Date}),br(s)||(s={date:s}),Object.keys(s).length!==0){for(var j in br(s.calendar)&&I(this,Je,s.calendar),br(s.locale)&&I(this,kt,s.locale),isNaN(s.year)&&isNaN(s.month)&&isNaN(s.day)&&!s.date&&(s.date=new Date),s.date&&(typeof s.date=="string"&&s.format&&I(this,mr,s.format),this.setDate(s.date),s.calendar&&this.convert(s.calendar),N=!1),delete s.calendar,delete s.locale,delete s.date,s)this.set(j,s[j]);f(this,nn).call(this)&&I(this,ht,-1),N&&f(this,Gt).call(this)}}var n,d;return n=a,d=[{key:"parse",value:function(r){if(!r)return this;var i,s,N=f(this,mr),j=f(this,kt).digits,w=vn(j);try{for(w.s();!(i=w.n()).done;){var g=i.value;r=r.replace(new RegExp(g,"g"),j.indexOf(g))}}catch(we){w.e(we)}finally{w.f()}if(N)for(var ee=N.split(/[^\w\u0600-\u06FF]/),he=r.split(/[^\w\u0600-\u06FF]/),T=0;T<ee.length;T++)this.set.apply(this,Ta(f(this,Sn).call(this,ee[T],he[T])));else{var E=r.match(/(-?\d{2,4})?\W?([A-z]{3,9}|\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,3})?\W?(am|pm)?/),je=(Fn(s=E)||An(s)||Xr(s)||Rn()).slice(1),S=je[1];S&&(S=/\d+/.test(S)?Ut(S)-1:this.months.findIndex((function(we){return new RegExp(S,"i").test(we.name)}))),je[1]=S;var p=kr(je.map(Ut),7),M=p[0],c=p[1],L=p[2],Q=p[3],Te=p[4],Be=p[5],Ee=p[6];I(this,ht,M),I(this,Ze,c),I(this,Ue,L),I(this,qt,Q),I(this,cr,Te),I(this,ur,Be),I(this,it,Ee)}var Ce=kr(f(this,kt).meridiems[1],2),Oe=Ce[0],de=Ce[1];return f(this,qt)<12&&(r.includes(Oe)||r.includes(de))&&I(this,qt,f(this,qt)+12),f(this,Gt).call(this),this}},{key:"convert",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Hr,i=arguments.length>1?arguments[1]:void 0;if(br(i)&&I(this,kt,i),!br(r)||r.name===f(this,Je).name)return this;var s=this.toJulianDay()-r.epoch,N=new a({calendar:r,year:r.guessYear(s,f(this,ht)),month:1,day:1});return N.day+=s-N.toDays(),I(this,ht,N.year),I(this,Ze,N.month.index),I(this,Ue,N.day),I(this,Je,r),this}},{key:"format",value:function(r,i){if(!this.isValid||r&&typeof r!="string")return"";r||(r=f(this,mr)||"YYYY/MM/DD"),jr(i)||(i=[]),i=(i=i.concat(f(this,Mr))).filter((function(T){return typeof T=="string"||(console.warn("type of all items in the ignore list must be string, found",Pr(T)),!1)})).map((function(T){return T.replace(/[*/+\-()[\]{}\s$^]/g,(function(E){return"\\"+E}))}));var s,N=new RegExp("".concat(i.join("|")).concat(i.length>0?"|":"","YYYY|YY|MMMM|MMM|MM|M|WW|W|DDDD|DDD|DD|D|dddd|ddd|dd|d|HH|H|hh|h|mm|m|ss|s|SSS|SS|S|A|a|."),"g"),j="",w=vn(r.match(N)||[]);try{for(w.s();!(s=w.n()).done;){var g=s.value,ee=this.getValue(g);j+=i.includes(g)?g:ee===0?ee:ee||g}}catch(T){w.e(T)}finally{w.f()}var he=this.digits;return j.replace(/[0-9]/g,(function(T){return he[T]}))}},{key:"getProperty",value:function(r){return this.getValue(r)}},{key:"getValue",value:function(r){var i=function(s){return s<10?"0"+s:s};switch(r){case"YYYY":return this.year;case"YY":return this.year.toString().substring(2,4);case"MMMM":return this.month.name;case"MMM":return this.month.shortName;case"MM":return i(this.month.number);case"M":return this.month.number;case"WW":return i(this.weekOfYear);case"W":return this.weekOfYear;case"DDDD":case"DDD":return this.dayOfYear;case"DD":return i(this.day);case"D":return this.day;case"HH":return i(this.hour);case"H":return this.hour;case"dddd":return this.weekDay.name;case"ddd":return this.weekDay.shortName;case"dd":return i(this.weekDay.number);case"d":return this.weekDay.number;case"hh":return i(this.hour>12?this.hour-12:this.hour||12);case"h":return this.hour>12?this.hour-12:this.hour||12;case"mm":return i(this.minute);case"m":return this.minute;case"ss":return i(this.second);case"s":return this.second;case"SSS":return f(this,it)<10?"00".concat(f(this,it)):f(this,it)<100?"0".concat(f(this,it)):f(this,it);case"SS":return f(this,it)<10?"00":f(this,it)<100?("0"+f(this,it)).substring(2,0):f(this,it).toString().substring(0,2);case"S":return f(this,it)<10||f(this,it)<100?"0":f(this,it).toString().substring(0,1);case"a":return this.hour>=12?f(this,kt).meridiems[1][1]:f(this,kt).meridiems[0][1];case"A":return this.hour>=12?f(this,kt).meridiems[1][0]:f(this,kt).meridiems[0][0];default:return""}}},{key:"setYear",value:function(r){return this.year=r,this}},{key:"setMonths",value:function(r){return this.months=r,this}},{key:"setMonth",value:function(r){return this.month=r,this}},{key:"setWeekDays",value:function(r){return this.weekDays=r,this}},{key:"setDigits",value:function(r){return this.digits=r,this}},{key:"setDay",value:function(r){return this.day=r,this}},{key:"setHour",value:function(r){return this.hour=r,this}},{key:"setMinute",value:function(r){return this.minute=r,this}},{key:"setSecond",value:function(r){return this.second=r,this}},{key:"setMillisecond",value:function(r){return this.millisecond=r,this}},{key:"setFormat",value:function(r){return I(this,mr,r),this}},{key:"setLocale",value:function(r){return this.locale=r,this}},{key:"setCalendar",value:function(r){return this.calendar=r,this}},{key:"setDate",value:function(r){if(typeof r=="string"){if(!f(this,Nn).test(r))return this.parse(r);r=new Date(r)}return typeof r=="number"&&(r=new Date(r)),r instanceof Date&&(I(this,Je,Hr),I(this,ht,r.getFullYear()),I(this,Ze,r.getMonth()),I(this,Ue,r.getDate()),I(this,qt,r.getHours()),I(this,cr,r.getMinutes()),I(this,ur,r.getSeconds()),I(this,it,r.getMilliseconds()),I(this,Or,!1)),r instanceof a&&(I(this,ht,r.year),I(this,Ze,r.month.index),I(this,Ue,r.day),I(this,qt,r.hour),I(this,cr,r.minute),I(this,ur,r.second),I(this,it,r.millisecond),I(this,kt,r.locale),I(this,mr,r._format),I(this,Je,r.calendar),I(this,Or,r.isUTC),I(this,Mr,r.ignoreList),I(this,Ht,r.custom)),this}},{key:"setIgnoreList",value:function(r){return this.ignoreList=r,this}},{key:"set",value:function(r,i){if(r==null)return this;if(br(r)){var s=kn({},r);for(var N in s.date&&(this.setDate(s.date),delete s.date),s.calendar&&(this.convert(s.calendar),delete s.calendar),s.locale&&(this.setLocale(s.locale),delete s.locale),I(this,Dr,!1),s)this.set(N,s[N]);return I(this,Dr,!0),f(this,Gt).call(this),this}r==="format"&&(r="_format");try{this[r]=i}catch(j){}return this}},{key:"add",value:function(r,i){if(!(r=Ut(r))||!i)return this;switch(i){case"years":case"y":i="year";break;case"months":case"M":i="month";break;case"days":case"d":i="day";break;case"hours":case"h":i="hour";break;case"minutes":case"m":i="minute";break;case"seconds":case"s":i="second";break;case"milliseconds":case"ms":i="millisecond"}return this[i]+=r,this}},{key:"subtract",value:function(r,i){return this.add(-r,i)}},{key:"toFirstOfYear",value:function(){return this.month=1,this.day=1,this}},{key:"toLastOfYear",value:function(){return this.day>=29&&(this.day=29),this.month=12,this.toLastOfMonth(),this}},{key:"toFirstOfMonth",value:function(){return I(this,Ue,1),this}},{key:"toLastOfMonth",value:function(){return I(this,Ue,0),I(this,Ze,f(this,Ze)+1),f(this,Gt).call(this),this}},{key:"toFirstOfWeek",value:function(){return this.day-=this.weekDay.index,this}},{key:"toLastOfWeek",value:function(){return this.day+=6-this.weekDay.index,this}},{key:"toFirstWeekOfYear",value:function(){return this.toFirstOfYear(),this.weekDay.index===0?this:this.toLastOfWeek().setDay(this.day+1)}},{key:"toLastWeekOfYear",value:function(){return this.toLastOfYear().toFirstOfWeek()}},{key:"toString",value:function(){return this.format()}},{key:"toDate",value:function(){var r=new a(this);return f(this,Je).name!=="gregorian"&&r.convert(Hr),new Date(r.year,r.month.index,r.day,r.hour,r.minute,r.second,r.millisecond)}},{key:"toUTC",value:function(){return f(this,Or)||(this.minute+=this.toDate().getTimezoneOffset(),I(this,Or,!0)),this}},{key:"toUnix",value:function(){return this.unix}},{key:"toJulianDay",value:function(){return this.toDays()+f(this,Je).epoch}},{key:"toObject",value:function(){return{year:f(this,ht),month:this.month,day:f(this,Ue),weekDay:this.weekDay,hour:f(this,qt),minute:f(this,cr),second:f(this,ur),millisecond:f(this,it),weekOfYear:this.weekOfYear,dayOfYear:this.dayOfYear,daysLeft:this.daysLeft,calendar:f(this,Je),locale:f(this,kt),format:f(this,mr)||"YYYY/MM/DD",ignoreList:f(this,Mr)}}},{key:"toJSON",value:function(){return this.valueOf()}},{key:"valueOf",value:function(){return this.toDate().valueOf()}},{key:"toDays",value:function(){if(this.isValid)return f(this,Je).getAllDays(this)}},{key:"dayOfBeginning",get:function(){return this.toDays()}},{key:"dayOfYear",get:function(){if(this.isValid)return f(this,Je).getDayOfYear(this)}},{key:"weekOfYear",get:function(){if(this.isValid)return 1+~~(this.dayOfYear/7)}},{key:"daysLeft",get:function(){if(this.isValid){var r=f(this,Je).yearLength;return(this.isLeap?r+1:r)-this.dayOfYear}}},{key:"year",get:function(){return f(this,ht)},set:function(r){I(this,ht,Ut(r)),f(this,Gt).call(this)}},{key:"month",get:function(){return this.months[f(this,Ze)]||{}},set:function(r){var i;r=(i=Ut(r.valueOf())-1)!==null&&i!==void 0?i:void 0,I(this,Ze,r),Cr(r,0,11)&&f(this,Gt).call(this)}},{key:"monthIndex",get:function(){return f(this,Ze)}},{key:"day",get:function(){return f(this,Ue)},set:function(r){r=Ut(r),I(this,Ue,r),Cr(r,1,28)&&f(this,Gt).call(this)}},{key:"weekDay",get:function(){if(!this.isValid)return{};var r=(this.toJulianDay()+3)%7;return f(this,an).call(this)[r]}},{key:"hour",get:function(){return f(this,qt)},set:function(r){r=Ut(r),I(this,qt,r),Cr(r,0,23)&&f(this,Gt).call(this)}},{key:"minute",get:function(){return f(this,cr)},set:function(r){r=Ut(r),I(this,cr,r),Cr(r,0,59)&&f(this,Gt).call(this)}},{key:"second",get:function(){return f(this,ur)},set:function(r){r=Ut(r),I(this,ur,r),Cr(r,0,59)&&f(this,Gt).call(this)}},{key:"millisecond",get:function(){return f(this,it)},set:function(r){r=Ut(r),I(this,it,r),Cr(r,0,999)&&f(this,Gt).call(this)}},{key:"months",get:function(){var r=f(this,Je).getMonthLengths(this.isLeap),i=(f(this,Ht).months||f(this,kt).months).map((function(s,N){var j=kr(s,2);return{name:j[0],shortName:j[1],length:r[N],index:N,number:N+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}}));return i},set:function(r){if(!r)return delete f(this,Ht).months;jr(r)&&r.length===12&&r.every((function(i){return jr(i)&&i.length===2&&i.every((function(s){return typeof s=="string"}))}))&&(f(this,Ht).months=r)}},{key:"weekDays",get:function(){return f(this,an).call(this).sort((function(r,i){return r.index-i.index}))},set:function(r){if(!r)return delete f(this,Ht).weekDays;jr(r)&&r.length===7&&r.every((function(i){return jr(i)&&i.length===2&&i.every((function(s){return typeof s=="string"}))}))&&(f(this,Ht).weekDays=r)}},{key:"leaps",get:function(){return f(this,Je).getLeaps(f(this,ht))}},{key:"calendar",get:function(){return f(this,Je)},set:function(r){this.convert(r)}},{key:"locale",get:function(){return f(this,kt)},set:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jn;br(r)&&I(this,kt,r)}},{key:"custom",get:function(){return f(this,Ht)}},{key:"meridiems",get:function(){return f(this,kt).meridiems}},{key:"digits",get:function(){return f(this,Ht).digits||f(this,kt).digits},set:function(r){if(!r)return delete f(this,Ht).digits;jr(r)&&r.length===10&&(f(this,Ht).digits=r)}},{key:"_format",get:function(){return f(this,mr)},set:function(r){typeof r=="string"&&I(this,mr,r)}},{key:"isLeap",get:function(){return f(this,Je).isLeap(f(this,ht))}},{key:"isValid",get:function(){return!isNaN(f(this,ht))&&!isNaN(f(this,Ze))&&!isNaN(f(this,Ue))}},{key:"isUTC",get:function(){return f(this,Or)}},{key:"unix",get:function(){return(this.valueOf()-this.millisecond)/1e3}},{key:"ignoreList",get:function(){return f(this,Mr)},set:function(r){jr(r)&&I(this,Mr,r)}},{key:"weekStartDayIndex",get:function(){return f(this,Je).weekStartDayIndex},set:function(r){(r=Ut(r))!==void 0&&(f(this,Je).weekStartDayIndex=Math.abs(r)%7)}},{key:"date",set:function(r){this.setDate(r)}}],d&&Ya(n.prototype,d),Object.defineProperty(n,"prototype",{writable:!1}),a})(),Fa=La(Aa(Ra));const Wa=Object.freeze(Object.defineProperty({__proto__:null,default:Fa},Symbol.toStringTag,{value:"Module"})),Ba=Gn(Wa);var Cn;function $a(){return Cn||(Cn=1,(function(a){Object.defineProperty(a,"__esModule",{value:!0});var n=On(),d=Pa(),r=Ba;function i(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var s=i(n),N=i(d),j=i(r);function w(t,o){var u=Object.keys(t);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(t);o&&(h=h.filter((function(y){return Object.getOwnPropertyDescriptor(t,y).enumerable}))),u.push.apply(u,h)}return u}function g(t){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?w(Object(u),!0).forEach((function(h){ee(t,h,u[h])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(u)):w(Object(u)).forEach((function(h){Object.defineProperty(t,h,Object.getOwnPropertyDescriptor(u,h))}))}return t}function ee(t,o,u){return(o=(function(h){var y=(function(b,A){if(typeof b!="object"||b===null)return b;var R=b[Symbol.toPrimitive];if(R!==void 0){var F=R.call(b,A);if(typeof F!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(b)})(h,"string");return typeof y=="symbol"?y:String(y)})(o))in t?Object.defineProperty(t,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[o]=u,t}function he(){return he=Object.assign?Object.assign.bind():function(t){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(t[h]=u[h])}return t},he.apply(this,arguments)}function T(t,o){if(t==null)return{};var u,h,y=(function(A,R){if(A==null)return{};var F,B,O={},z=Object.keys(A);for(B=0;B<z.length;B++)F=z[B],R.indexOf(F)>=0||(O[F]=A[F]);return O})(t,o);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(t);for(h=0;h<b.length;h++)u=b[h],o.indexOf(u)>=0||Object.prototype.propertyIsEnumerable.call(t,u)&&(y[u]=t[u])}return y}function E(t,o){return(function(u){if(Array.isArray(u))return u})(t)||(function(u,h){var y=u==null?null:typeof Symbol!="undefined"&&u[Symbol.iterator]||u["@@iterator"];if(y!=null){var b,A,R,F,B=[],O=!0,z=!1;try{if(R=(y=y.call(u)).next,h===0){if(Object(y)!==y)return;O=!1}else for(;!(O=(b=R.call(y)).done)&&(B.push(b.value),B.length!==h);O=!0);}catch(D){z=!0,A=D}finally{try{if(!O&&y.return!=null&&(F=y.return(),Object(F)!==F))return}finally{if(z)throw A}}return B}})(t,o)||S(t,o)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function je(t){return(function(o){if(Array.isArray(o))return p(o)})(t)||(function(o){if(typeof Symbol!="undefined"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)})(t)||S(t)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function S(t,o){if(t){if(typeof t=="string")return p(t,o);var u=Object.prototype.toString.call(t).slice(8,-1);return u==="Object"&&t.constructor&&(u=t.constructor.name),u==="Map"||u==="Set"?Array.from(t):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?p(t,o):void 0}}function p(t,o){(o==null||o>t.length)&&(o=t.length);for(var u=0,h=new Array(o);u<o;u++)h[u]=t[u];return h}function M(t,o){var u=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!u){if(Array.isArray(t)||(u=S(t))||o){u&&(t=u);var h=0,y=function(){};return{s:y,n:function(){return h>=t.length?{done:!0}:{done:!1,value:t[h++]}},e:function(F){throw F},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,A=!0,R=!1;return{s:function(){u=u.call(t)},n:function(){var F=u.next();return A=F.done,F},e:function(F){R=!0,b=F},f:function(){try{A||u.return==null||u.return()}finally{if(R)throw b}}}}function c(t){return Array.isArray(t)}function L(t){var o=t.state.date,u=o.calendar,h=o.locale,y=t.customWeekDays,b=t.weekStartDayIndex,A=t.displayWeekNumbers,R=t.weekNumber,F=n.useMemo((function(){var B=y;return c(B)&&B.length>=7?(B.length=7,B=B.map((function(O){return c(O)&O.length>1?O=O[1]:c(O)&&(O=O[0]),O}))):B=new j.default({year:1,calendar:u,locale:h}).weekDays.map((function(O){return O.shortName})),B}),[u,h,y]);return F=je(F).slice(b).concat(je(F).splice(0,b)),s.default.createElement("div",{className:"rmdp-week"},A&&s.default.createElement("div",{className:"rmdp-week-day"},R),F.map((function(B,O){return s.default.createElement("div",{key:O,className:"rmdp-week-day"},B)})))}function Q(t,o){var u=arguments.length>2&&arguments[2]!==void 0&&arguments[2],h=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!t||!o)return!1;if(t.year===o.year){if(h)return!0;if(t.monthIndex===o.monthIndex)return!!u||t.day===o.day}}function Te(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY/MM/DD";return t.format(o)}function Be(t,o,u){var h=u.multiple,y=u.range,b=u.selectedDate,A=u.onlyMonthPicker,R=u.onlyYearPicker,F=u.format,B=u.focused,O=u.weekPicker;t.setFormat(F);var z=new j.default(t);return b=h&&y?(function(){var D=!0;c(b)||(b=[[b]]);var X=b.find((function(ue){return ue.length===1})),ce=A?"YYYY/MM":"YYYY/MM/DD",ae=b;if(X){var re=X[0];ae=ae.filter((function(ue){if(ue.length===1)return!0;var De=E(ue,2),Se=De[0],Le=De[1],Ie=E([re,z].sort((function(H,ie){return H-ie})),2),ne=[Se,Le,Ie[0],Ie[1]].map((function(H){return Te(H,ce)})),We=E(ne,4),me=We[0],_=We[1],$=We[2],q=We[3];return!($<=me&&q>=_||$>=me&&q>=_&&$<=_||$<=me&&q<=_&&q>=me)}))}else ae=ae.filter((function(ue){if(!c(ue))return!0;if(ue.length===0)return!1;var De=E(ue,2),Se=[De[0],De[1],z].map((function(me){return Te(me,ce)})),Le=E(Se,3),Ie=Le[0],ne=Le[1],We=Le[2];return!(We>=Ie&&We<=ne)}));return ae=ae.map((function(ue){var De;return c(ue)?ue.length===1?(D=!1,De=ue.concat(z)):De=ue:(D=!1,De=[ue,z]),De.sort((function(Se,Le){return Se-Le}))})),D&&(ae=[].concat(je(ae),[[z]])),ae})():h?(function(){var D=b.filter((function(X){return!Q(t,X,A,R)}));return D.length===b.length?D.push(z):z=D.find((function(X){return Q(X,B)})),o&&D.sort((function(X,ce){return X-ce})),D})():y?(function(){if(O)return[new j.default(z).toFirstOfWeek(),new j.default(z).toLastOfWeek()];if(b.length===2||b.length===0)return[z];if(b.length===1)return[b[0],z].sort((function(D,X){return D-X}))})():z,[b,z]}function Ee(t,o,u,h){var y=[],b=u?"YYYY/MM":"YYYY/MM/DD",A=Te(t,b);function R(F){var B=F[0],O=F[1];if(F.length===1)Q(t,B,u)&&y.push("rmdp-range");else if(F.length===2){var z=[B,O].map((function(ae){return Te(ae,b)})),D=E(z,2),X=D[0],ce=D[1];A>=X&&A<=ce&&y.push("rmdp-range"),A===X&&y.push("start"),A===ce&&y.push("end")}}return h?(c(o)?o:[[o]]).forEach(R):R(o),y.join(" ")}function Ce(t,o,u,h){var y=arguments.length>5?arguments[5]:void 0,b=[];if(h&&u){var A,R=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:"day")==="day"?"YYYY/MM/DD":"YYYY/MM",F=u.format(R),B=t.format(R);if(y||(o==null?void 0:o.length)!==1){if(y&&c(o)){var O,z=M(o);try{for(z.s();!(O=z.n()).done;){var D=O.value;if(c(D)&&D.length===1){A=D[0].format(R);break}}}catch(X){z.e(X)}finally{z.f()}}}else A=o[0].format(R);(B>A&&B<=F||B<A&&B>=F)&&(b.push("rmdp-range-hover"),B===F&&b.push(F>A?"end":"start"),c(o)&&o.flat().some((function(X){return X.format(R)===B}))&&b.push("force"))}return b}function Oe(t,o,u){if(t){var h=de(t);return u?Array.from(h.querySelectorAll(o)):h.querySelector(o)}}function de(t){return t.closest(".rmdp-calendar")}var we=["selected","today","day:not(.rmdp-day-hidden):not(.rmdp-disabled)"];function et(t,o,u){var h=u.type,y=h===void 0?"day":h,b=u.format;t.preventDefault();var A=t.currentTarget,R=t.key,F=t.code,B=y==="day"?7:3,O=de(A),z=O&&O.classList.contains("rmdp-rtl"),D={ArrowRight:z?-1:1,ArrowLeft:z?1:-1,ArrowUp:-B,ArrowDown:B};if(F==="Space"||R===" ")A.click();else if(Object.keys(D).includes(R)){var X=function(){if(y==="month")return Qe(O,[we[2]]);var ue=Oe(A,ce<0?".rmdp-left":".rmdp-right");ue&&(ue.click(),Qe(O))},ce=D[R],ae=new j.default(o.date).add(ce,y);(function(ue){if(!ue)return X();var De=ue.getAttribute("class");De.includes("hidden")||De.includes("disabled")?et(t,g(g({},o),{},{date:ae}),{type:y,format:b}):ue.focus()})(Oe(A,'[aria-label*="'.concat(o.year?"year ".concat(o.year+ce):ae.format(b),'"]')))}else{var re=Oe(A,".rmdp-arrow-container");re&&re.focus()}}function Qe(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:we,u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h="[data-active='true']";t.querySelectorAll("".concat(h," [tabindex='0']")).forEach((function(y){return y.setAttribute("tabindex","-1")})),setTimeout((function(){var y,b=M(o);try{for(b.s();!(y=b.n()).done;){var A=y.value,R=t.querySelector("".concat(h," .rmdp-").concat(A));if(R){R.setAttribute("tabindex","0"),u&&R.focus();break}}}catch(F){b.e(F)}finally{b.f()}}),10)}var pt="dddd MMMM DD of YYYY";function Tt(t){var o=t.state,u=t.onChange,h=t.showOtherDays,y=h!==void 0&&h,b=t.mapDays,A=t.onlyShowInRangeDates,R=t.customWeekDays,F=t.sort,B=t.numberOfMonths,O=t.isRTL,z=t.weekStartDayIndex,D=t.handleFocusedDate,X=t.hideWeekDays,ce=t.fullYear,ae=E(t.monthAndYears,1)[0],re=t.displayWeekNumbers,ue=t.weekNumber,De=ue===void 0?"":ue,Se=t.rangeHover,Le=t.highlightToday,Ie=n.useRef({}),ne=n.useRef(),We=o.today,me=o.minDate,_=o.maxDate,$=o.range,q=o.multiple,H=o.date,ie=o.selectedDate,te=o.onlyMonthPicker,G=o.onlyYearPicker,V=o.mustShowMonthPicker,Z=o.mustShowYearPicker,se=!te&&!G,le=E(n.useState(),2),ut=le[0],tt=le[1];Ie.current.date=H;var Vt=n.useMemo((function(){return se?(function(ve,Xe,Ke,Dt){if(!ve)return[];for(var Ae=[],zt=0;zt<Ke;zt++){var jt=(ve=new j.default(ve).toFirstOfMonth()).monthIndex,Yt=[];ve.toFirstOfWeek().add(Dt,"day"),ve.monthIndex===jt&&ve.day>1&&ve.subtract(7,"days");for(var gt=0;gt<6;gt++){for(var Nt=[],lt=0;lt<7;lt++)Nt.push({date:new j.default(ve),day:ve.format("D"),current:ve.monthIndex===jt}),ve.day+=1;if(Yt.push(Nt),gt>2&&ve.monthIndex!==jt)break}Ae.push(Yt)}return Ae})(Ie.current.date,0,B,z):[]}),[H.monthIndex,H.year,H.calendar,H.locale,se,y,B,z]);return se&&s.default.createElement("div",{ref:ne,className:"rmdp-day-picker ".concat(ce?"rmdp-full-year":""),style:{display:ce?"grid":"flex"},onMouseLeave:function(){return Se&&tt()},"data-active":se&&!V&&!Z},Vt.map((function(ve,Xe){return s.default.createElement("div",{key:Xe,style:ee({},O?"marginLeft":"marginRight",Xe+(ce?0:1)<B?"10px":"")},ce&&s.default.createElement("div",{className:"rmdp-month-name"},ae[Xe]),!X&&s.default.createElement(L,{state:o,customWeekDays:R,weekStartDayIndex:z,displayWeekNumbers:re,weekNumber:De}),ve.map((function(Ke,Dt){return s.default.createElement("div",{key:Dt,className:"rmdp-week"},re&&s.default.createElement("div",{className:"rmdp-day rmdp-disabled"},s.default.createElement("span",null,Ke[0].date.format("WW"))),Ke.map((function(Ae,zt){var jt=(function(Re){if(!Re.current&&!y)return{};var $e={};return b.forEach((function(st){var mt,ot=st({date:Re.date,today:We,currentMonth:o.date.month,selectedDate:o.selectedDate,isSameDate:Q});((mt=ot)===null||mt===void 0?void 0:mt.constructor)!==Object&&(ot={}),(ot.disabled||ot.hidden)&&(Re.disabled=!0),ot.hidden&&(Re.hidden=!0),$e=g(g({},$e),ot)})),delete $e.disabled,delete $e.hidden,$e})(Ae={date:Ae.date,day:Ae.day,current:Ae.current}),Yt=be(Ae)&&!Ae.disabled,gt="".concat(Yt?"sd":""),Nt=jt.children;Yt&&(gt="".concat(gt," ").concat(jt.className||"")),delete jt.className,delete jt.children;var lt=(function(Re,$e){var st=["rmdp-day"],mt=Re.date,ot=Re.hidden,Xt=Re.current;if(!be(Re)||ot)st.push("rmdp-day-hidden");else{(me&&mt<me||_&&mt>_||Re.disabled)&&(st.push("rmdp-disabled"),Re.disabled||(Re.disabled=!0)),Xt||st.push("rmdp-deactive");var _t=$e>1&&Xt||$e===1;Re.disabled&&A||(Q(mt,We)&&Le&&st.push("rmdp-today"),Kt=mt,[].concat(ie).some((function(Ft){return Q(Ft,Kt)}))&&_t&&!$&&st.push("rmdp-selected")),$&&!Re.disabled&&_t&&(st.push(Ee(mt,ie,void 0,q)),st=st.concat(Ce(mt,ie,ut,Se,void 0,q)))}var Kt;return st.join(" ")})(Ae,B);return(Ae.hidden||Ae.disabled)&&(gt=gt.replace("sd","")),s.default.createElement("div",{key:zt,tabIndex:-1,"aria-label":"Choose ".concat(Ae.date.format(pt)),className:lt,onMouseEnter:function(){return Se&&tt(Ae.date)},onKeyDown:function(Re){return et(Re,Ae,{format:pt})},onClick:function(){be(Ae)&&!Ae.disabled&&(function(Re,$e,st){var mt,ot,Xt,_t=Re.date,Kt=Re.current,Ft=o.selectedDate,hr=o.focused,Lt=o.date,pr=Lt,xr=pr.hour,Yr=pr.minute,vr=pr.second;_t.set({hour:((mt=Ft)===null||mt===void 0?void 0:mt.hour)||xr,minute:((ot=Ft)===null||ot===void 0?void 0:ot.minute)||Yr,second:((Xt=Ft)===null||Xt===void 0?void 0:Xt.second)||vr}),st!==1||Kt?st>1&&!Kt&&($e===0&&_t<Lt&&(Lt=new j.default(Lt).toFirstOfMonth()),$e>0&&_t.monthIndex>Lt.monthIndex+$e&&$e+1===st&&(Lt=new j.default(Lt).toFirstOfMonth().add(1,"month"))):Lt=new j.default(Lt).toFirstOfMonth();var gr=E(Be(_t,F,o),2);Ft=gr[0],hr=gr[1],u(Ft,g(g({},o),{},{date:Lt,focused:hr,selectedDate:Ft})),D(hr,_t)})(Ae,Xe,B)}},s.default.createElement("span",he({className:gt},jt),be(Ae)&&!Ae.hidden?Nt!=null?Nt:Ae.day:""))})))})))})));function be(ve){return!!ve.current||y}}function Ct(t){var o=t.direction,u=t.onClick,h=t.disabled,y=t.onKeyDown;return s.default.createElement("button",{type:"button",className:"rmdp-arrow-container ".concat(o," ").concat(h?"disabled":""),onClick:u,onKeyDown:y,"aria-roledescription":"button to navigate ".concat(o.replace("rmdp-",""))},s.default.createElement("i",{className:"rmdp-arrow"}))}function Ot(t){var o=t.state,u=t.setState,h=t.disableYearPicker,y=t.disableMonthPicker,b=t.buttons,A=t.renderButton,R=t.handleMonthChange,F=t.disabled,B=t.hideMonth,O=t.hideYear,z=t.isRTL,D=t.fullYear,X=E(t.monthAndYears,2),ce=X[0],ae=X[1],re=t.monthYearSeparator,ue=t.formatMonth,De=t.formatYear,Se=t.headerOrder,Le=t.onYearChange,Ie={},ne=o.date,We=o.onlyMonthPicker,me=o.onlyYearPicker,_=o.mustShowYearPicker,$=o.minDate,q=o.maxDate,H=o.year,ie=o.today,te=$&&ne.year<=$.year&&$.monthIndex>ne.monthIndex-1,G=q&&ne.year>=q.year&&q.monthIndex<ne.monthIndex+1,V=ie.year+7;if(V-=12*Math.floor((V-H)/12),(B||D)&&O&&!b)return null;if((We||D)&&($&&$.year>=ne.year&&(te=!0),q&&q.year<=ne.year&&(G=!0)),_||me){var Z=V-11;te=$&&$.year>Z,G=q&&q.year<V}return F&&(te=!0,G=!0),s.default.createElement("div",{className:"rmdp-header"},s.default.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},Array.from(new Set(Se)).map((function(be,ve){return s.default.createElement(n.Fragment,{key:ve},(function(Xe){switch(Xe){case"LEFT_BUTTON":return b&&ut("left");case"RIGHT_BUTTON":return b&&ut("right");case"MONTH_YEAR":case"YEAR_MONTH":if(D)return s.default.createElement("div",{className:"rmdp-header-values",style:Ie},!O&&ne.format("YYYY"));var Ke=Xe.split("_").filter((function(Dt){return Dt==="MONTH"&&!B||Dt==="YEAR"&&!O}));return Ke.length>1&&(Ke=[Ke[0],le(),Ke[1]]),ce.map((function(Dt,Ae){return s.default.createElement("div",{key:Ae,className:"rmdp-header-values",style:Ie},Ke.map((function(zt,jt){return s.default.createElement(n.Fragment,{key:jt},(function(Yt,gt,Nt){switch(Yt){case"MONTH":return s.default.createElement("span",{tabIndex:0,onKeyDown:se,style:{cursor:F||y||We?"default":"pointer"},onClick:function(lt){return!y&&Vt("mustShowMonthPicker",lt)}},(function(lt,Re){return typeof ue=="function"?ue(lt,Re):lt})(gt,ae[Nt]));case"YEAR":return s.default.createElement("span",{tabIndex:0,onKeyDown:se,style:{cursor:F||h||me?"default":"pointer"},onClick:function(lt){return!h&&Vt("mustShowYearPicker",lt)}},(function(lt,Re){return typeof ue=="function"?De(lt,Re):lt})(ae[Nt],gt));default:return Yt}})(zt,Dt,Ae))})))}));default:return}})(be))}))));function se(be){var ve=be.currentTarget,Xe=be.key,Ke=be.code;Ke==="Space"||Xe===" "?(be.preventDefault(),ve.click()):Ke==="ArrowDown"&&(be.preventDefault(),Qe(de(be.target)))}function le(){return re?s.default.createElement("span",null,re):z?"":","}function ut(be){var ve=function(Ke){Ke.preventDefault(),tt(be==="right"?1:-1,Ke)},Xe=be==="left"&&te||be==="right"&&G;return A instanceof Function?A(be,ve,Xe,se):n.isValidElement(A)?n.cloneElement(A,{direction:be,handleClick:ve,disabled:Xe,onKeyDown:se}):s.default.createElement(Ct,{direction:"rmdp-".concat(be),onClick:ve,onKeyDown:se,disabled:Xe})}function tt(be,ve){F||be<0&&te||be>0&&G||(D?(ne.year+=be,Le==null||Le(new j.default(ne))):_||me?(H+=12*be,be<0&&$&&H<$.year&&(H=$.year),be>0&&q&&H>q.year&&(H=q.year)):(ne.toFirstOfMonth(),We?ne.year+=be:(ne.month+=be,R(ne))),u(g(g({},o),{},{date:ne,year:H})),Qe(de(ve.target),void 0,!1))}function Vt(be,ve){if(!F){var Xe={mustShowMonthPicker:!1,mustShowYearPicker:!1};Xe[be]=!o[be],u(g(g({},o),Xe)),Qe(de(ve.target),void 0,!1)}}}function xt(t){return c(t)||(t=[]),JSON.stringify(t)}var Y="MMMM of YYYY";function U(t){var o=t.state,u=t.onChange,h=t.customMonths,y=t.sort,b=t.handleMonthChange,A=t.handleFocusedDate,R=t.rangeHover,F=t.highlightToday,B=t.numberOfMonths,O=o.date,z=o.today,D=o.minDate,X=o.maxDate,ce=o.calendar,ae=o.locale,re=o.onlyMonthPicker,ue=o.onlyYearPicker,De=o.range,Se=o.onlyShowInRangeDates,Le=(o.mustShowMonthPicker||re)&&!ue,Ie=E(n.useState(),2),ne=Ie[0],We=Ie[1];h=h&&xt(h);var me=n.useMemo((function(){var q=[],H=re?B:1,ie=h&&JSON.parse(h),te=new j.default({calendar:ce,locale:ae,format:o.date._format,year:o.date.year,month:1,day:1});c(ie)&&ie.length>=12?(ie.length=12,ie=ie.map((function(tt){return c(tt)?tt[0]:tt}))):ie=te.locale.months.map((function(tt){return E(tt,1)[0]}));for(var G=0;G<H;G++){for(var V=[],Z=0,se=0;se<4;se++){for(var le=[],ut=0;ut<3;ut++)le.push({date:new j.default(te),name:ie[Z]}),Z++,te.add(1,"month");V.push(le)}q.push(V)}return q}),[ce,ae,h,o.date.year,o.date._format,B,re]);return s.default.createElement("div",{className:"".concat(re?"only ":"","rmdp-month-picker"),style:{display:Le?"flex":"none"},"data-active":Le,onMouseLeave:function(){return R&&We()}},me.map((function(q,H){return s.default.createElement("div",{key:H,style:{margin:"0 5px",flex:1}},q.map((function(ie,te){return s.default.createElement("div",{key:te,className:"rmdp-ym"},ie.map((function(G,V){var Z=G.date,se=G.name;return s.default.createElement("div",{key:V,"aria-label":"Select ".concat(Z.format(Y)),tabIndex:-1,onKeyDown:function(le){return et(le,{date:Z},{format:Y,type:"month"})},className:$(Z),onClick:function(le){return _(Z,le)},onMouseEnter:function(){return R&&We(Z)}},s.default.createElement("span",{className:re?"sd":""},se))})))})))})));function _(q,H){var ie=o.selectedDate,te=o.focused,G=q.year,V=q.monthIndex;if(!(D&&G<=D.year&&V<D.monthIndex||X&&G>=X.year&&V>X.monthIndex)){if(O.setMonth(V+1),re){var Z=E(Be(q,y,o),2);ie=Z[0],te=Z[1]}else b(O),Qe(de(H.target));u(re?ie:void 0,g(g({},o),{},{date:O,focused:te,selectedDate:ie,mustShowMonthPicker:!1})),re&&A(te,q)}}function $(q){var H=["rmdp-day"],ie=q.year,te=q.monthIndex,G=o.selectedDate,V=o.multiple;if((D&&(ie<D.year||ie===D.year&&te<D.monthIndex)||X&&(ie>X.year||ie===X.year&&te>X.monthIndex))&&H.push("rmdp-disabled"),!H.includes("rmdp-disabled")||!Se)return Q(z,q,!0)&&F&&H.push("rmdp-today"),re?De?(H.push(Ee(q,G,!0,V)),H=H.concat(Ce(q,G,ne,R,"month",V))):[].concat(G).some((function(Z){return Q(Z,q,!0)}))&&H.push("rmdp-selected"):O.monthIndex===te&&H.push("rmdp-selected"),H.join(" ")}}function ye(t,o){return t.replace(/[0-9]/g,(function(u){return o[u]}))}var nt="YYYY";function at(t){var o=t.state,u=t.onChange,h=t.sort,y=t.handleFocusedDate,b=t.onYearChange,A=t.rangeHover,R=t.highlightToday,F=o.date,B=o.today,O=o.minDate,z=o.maxDate,D=o.onlyYearPicker,X=o.range,ce=o.onlyShowInRangeDates,ae=o.year,re=o.mustShowYearPicker||D,ue=F.digits,De=E(n.useState(),2),Se=De[0],Le=De[1],Ie=B.year-4;Ie-=12*Math.ceil((Ie-ae)/12);var ne=n.useMemo((function(){for(var _=[],$=Ie,q=0;q<4;q++){for(var H=[],ie=0;ie<3;ie++)H.push($),$++;_.push(H)}return _}),[Ie]);return s.default.createElement("div",{className:"".concat(D?"only ":"","rmdp-year-picker"),style:{display:re?"block":"none"},"data-active":re},ne.map((function(_,$){return s.default.createElement("div",{key:$,className:"rmdp-ym",onMouseLeave:function(){return A&&Le()}},_.map((function(q,H){return s.default.createElement("div",{key:H,"aria-label":"Select year ".concat(q),tabIndex:-1,onKeyDown:function(ie){return et(ie,{year:q,date:F},{format:nt,type:"year"})},className:We(q),onClick:function(ie){return(function(te,G){if(!me(te)){var V=new j.default(o.date).setYear(te),Z=o.selectedDate,se=o.focused;if(D){var le=E(Be(V,h,o),2);Z=le[0],se=le[1]}else O&&V.monthIndex<O.monthIndex?V=V.setMonth(O.monthIndex+1):z&&V.monthIndex>z.monthIndex&&(V=V.setMonth(z.monthIndex+1)),b==null||b(V),Qe(de(G.target));u(D?Z:void 0,g(g({},o),{},{date:V,focused:se,selectedDate:Z,mustShowYearPicker:!1})),D&&y(se,V)}})(q,ie)},onMouseEnter:function(){return A&&Le(q)}},s.default.createElement("span",{className:D?"sd":""},ye(q.toString(),ue)))})))})));function We(_){var $=["rmdp-day"],q=o.date,H=o.selectedDate,ie=o.multiple;if(me(_)&&$.push("rmdp-disabled"),!$.includes("rmdp-disabled")||!ce){if(B.year===_&&R&&$.push("rmdp-today"),D)if(X){var te=function(G){var V=G[0],Z=G[1];if(G.length===1){if(_===V.year&&$.push("rmdp-range"),A){var se=G[0].year;(_>se&&_<=Se||_<se&&_>=Se)&&($.push("rmdp-range-hover"),_===Se&&$.push(Se>se?"end":"start"))}}else G.length===2&&(_>=V.year&&_<=Z.year&&$.push("rmdp-range"),_===V.year&&$.push("start"),_===Z.year&&$.push("end"))};ie?(c(H)?H:[[H]]).forEach((function(G){return te(G)})):te(H)}else[].concat(H).some((function(G){return G&&G.year===_}))&&$.push("rmdp-selected");else _===q.year&&$.push("rmdp-selected");return $.join(" ")}}function me(_){return O&&_<O.year||z&&_>z.year}}function vt(t,o,u){return u||(t?"MM/YYYY":o?"YYYY":"YYYY/MM/DD")}function Fe(t,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"YYYY/MM/DD";return t instanceof j.default?t.set({calendar:o,format:u}):t=new j.default({date:t,calendar:o,format:u}),t}function ct(t){"_self"in s.default.createElement("div")&&console.warn(t.join(`
`))}var Ge=new j.default,_e=Ge.calendar,Rt=Ge.locale;function l(t,o){return t&&t.constructor!==Object&&(ct(m("calendar")),t=void 0),o&&o.constructor!==Object&&(ct(m("locale")),o=void 0),[t||_e,o||Rt]}function m(t){return["".concat(t," must be an object"),"https://shahabyazdi.github.io/react-multi-date-picker/calendars/"]}function C(t){return t&&t.name?t.name.split("_")[1]:""}function W(t){return["fa","ar"].includes(C(t))}function K(t,o){o===void 0&&(o={});var u=o.insertAt;if(t&&typeof document!="undefined"){var h=document.head||document.getElementsByTagName("head")[0],y=document.createElement("style");y.type="text/css",u==="top"&&h.firstChild?h.insertBefore(y,h.firstChild):h.appendChild(y),y.styleSheet?y.styleSheet.cssText=t:y.appendChild(document.createTextNode(t))}}K(".rmdp-wrapper{background-color:#fff;border-radius:5px;direction:ltr;text-align:center;width:max-content}.rmdp-shadow{box-shadow:0 0 5px #8798ad}.rmdp-border{border:1px solid #cfd8e2}.rmdp-calendar{height:max-content;padding:4px}.rmdp-border-top{border-top:1px solid #cfd8e2}.rmdp-border-bottom{border-bottom:1px solid #cfd8e2}.rmdp-border-left{border-left:1px solid #cfd8e2}.rmdp-border-right{border-right:1px solid #cfd8e2}.rmdp-week,.rmdp-ym{display:flex;justify-content:space-between}.rmdp-ym{height:25%}.rmdp-day,.rmdp-week-day{color:#000;cursor:pointer;height:34px;position:relative;width:34px}.rmdp-calendar :focus{outline-color:#00539c}.rmdp-day:not(.rmdp-range):focus{border-radius:50%}.rmdp-ym .rmdp-day:not(.rmdp-range):focus{border-radius:15px}.rmdp-week-day{color:#0074d9;cursor:default;font-size:13px;font-weight:500}.rmdp-day span,.rmdp-week-day{display:flex;flex-direction:column;justify-content:center}.rmdp-day span{border-radius:50%;bottom:3px;font-size:14px;left:3px;position:absolute;right:3px;top:3px}.rmdp-day.rmdp-today span{background-color:#7fdbff;color:#fff}.rmdp-day.rmdp-selected span:not(.highlight){background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-day.rmdp-deactive,.rmdp-day.rmdp-disabled{color:#8798ad}.rmdp-day.rmdp-deactive.rmdp-selected span{background-color:#4ca6f5;box-shadow:0 0 3px #bac5d3}.rmdp-ym .rmdp-day{flex:1;margin:auto}.rmdp-ym .rmdp-day span{border-radius:12px;padding:2px 0}.rmdp-range{background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-range-hover{background-color:#7ea6f0;color:#fff}.rmdp-range-hover.start:not(.force),.rmdp-range.start:not(.force){border-bottom-left-radius:50%;border-top-left-radius:50%}.rmdp-range-hover.end:not(.force),.rmdp-range.end:not(.force){border-bottom-right-radius:50%;border-top-right-radius:50%}.rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-ym .rmdp-range.start:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-ym .rmdp-range.end:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}@media (hover:hover){.rmdp-day:not(.rmdp-disabled,.rmdp-day-hidden) span:hover{background-color:#7ea6f0;color:#fff}}.rmdp-day-picker{padding:5px}.rmdp-header{font-size:14px;margin-top:5px;padding:9px 0}.rmdp-month-picker,.rmdp-year-picker{background-color:#fff;border-radius:0 0 5px 5px;bottom:2px;left:2px;position:absolute;right:2px;top:2px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:240px;position:static;width:240px}.rmdp-header-values{color:#000;margin:auto}.rmdp-header-values span{padding:0 0 0 5px}.rmdp-arrow{border:solid #0074d9;border-width:0 2px 2px 0;display:inline-block;height:3px;margin-top:5px;padding:2px;width:3px}.rmdp-right i{margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-left i{margin-left:3px;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-left{left:0}.rmdp-right{right:0}.rmdp-arrow-container{background:transparent;border:none;border-radius:50%;cursor:pointer;display:flex;height:20px;justify-content:center;margin:0 5px;padding:0;width:20px}.rmdp-arrow-container:hover{background-color:#0074d9;box-shadow:0 0 3px #8798ad}.rmdp-arrow-container:hover .rmdp-arrow{border:solid #fff;border-width:0 2px 2px 0}.rmdp-arrow-container.disabled{cursor:default}.rmdp-arrow-container.disabled:hover{background-color:inherit;box-shadow:inherit}.rmdp-arrow-container.disabled .rmdp-arrow,.rmdp-arrow-container.disabled:hover .rmdp-arrow{border:solid gray;border-width:0 2px 2px 0}.rmdp-rtl{direction:rtl}.rmdp-rtl .rmdp-left i{margin-left:0;margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-rtl .rmdp-right i{margin-left:3px;margin-right:0;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-rtl .rmdp-right{left:0;right:auto}.rmdp-rtl .rmdp-left{left:auto;right:0}.rmdp-rtl .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-range.start:not(.force){border-bottom-left-radius:unset;border-bottom-right-radius:50%;border-top-left-radius:unset;border-top-right-radius:50%}.rmdp-rtl .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-range.end:not(.force){border-bottom-left-radius:50%;border-bottom-right-radius:unset;border-top-left-radius:50%;border-top-right-radius:unset}.rmdp-rtl .rmdp-range.start.end:not(.force){border-radius:50%}.rmdp-rtl .rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.start:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}.rmdp-rtl .rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.end:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-day-hidden,.rmdp-day.rmdp-disabled{cursor:default}.rmdp-selected .highlight{box-shadow:0 0 3px #8798ad}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-red:hover{background-color:#ff6687}.rmdp-day:not(.rmdp-deactive) .highlight-red{color:#cc0303}.rmdp-day.rmdp-deactive .highlight-red{color:#e08e8e}.rmdp-day.rmdp-selected .highlight-red{background-color:#ea0034;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-red{background-color:#e4b0ba;color:#fff}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-green:hover{background-color:#4db6ac}.rmdp-day:not(.rmdp-deactive) .highlight-green{color:#00796b}.rmdp-day.rmdp-deactive .highlight-green{color:#7ab3ac}.rmdp-day.rmdp-selected .highlight-green{background-color:#009688;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-green{background-color:#749c98;color:#fff}.rmdp-day-hidden,.rmdp-day-hidden:hover span{background-color:unset;color:transparent}.rmdp-month-name{cursor:default;font-size:14px;margin:3px 0}.rmdp-full-year{grid-template-columns:1fr 1fr 1fr}@media (max-height:450px),(max-width:450px){.rmdp-day,.rmdp-week-day{height:28px;width:28px}.rmdp-day span{font-size:12px;padding-left:.5px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:200px;width:230px}.rmdp-header{padding:3px 0 0}.rmdp-header,.rmdp-month-name{font-size:12px}.rmdp-full-year{grid-template-columns:1fr 1fr}}");var ge=["datePickerProps","DatePicker"];function oe(t,o){var u,h=t.value,y=t.calendar,b=t.locale,A=t.format,R=t.onlyMonthPicker,F=t.onlyYearPicker,B=t.range,O=B!==void 0&&B,z=t.multiple,D=z!==void 0&&z,X=t.className,ce=t.role,ae=t.weekDays,re=t.months,ue=t.children,De=t.onChange,Se=t.showOtherDays,Le=t.minDate,Ie=t.maxDate,ne=t.mapDays,We=t.disableMonthPicker,me=t.disableYearPicker,_=t.formattingIgnoreList,$=t.onReady,q=t.onlyShowInRangeDates,H=q===void 0||q,ie=t.zIndex,te=ie===void 0?100:ie,G=t.plugins,V=G===void 0?[]:G,Z=t.sort,se=t.numberOfMonths,le=se===void 0?1:se,ut=t.currentDate,tt=t.digits,Vt=t.buttons,be=Vt===void 0||Vt,ve=t.renderButton,Xe=t.weekStartDayIndex,Ke=Xe===void 0?0:Xe,Dt=t.disableDayPicker,Ae=t.onPropsChange,zt=t.onMonthChange,jt=t.onYearChange,Yt=t.onFocusedDateChange,gt=t.readOnly,Nt=t.disabled,lt=t.hideMonth,Re=t.hideYear,$e=t.hideWeekDays,st=t.shadow,mt=st===void 0||st,ot=t.fullYear,Xt=t.displayWeekNumbers,_t=t.weekNumber,Kt=t.weekPicker,Ft=t.rangeHover,hr=t.monthYearSeparator,Lt=t.formatMonth,pr=t.formatYear,xr=t.highlightToday,Yr=xr===void 0||xr,vr=t.headerOrder,gr=vr===void 0?["LEFT_BUTTON","MONTH_YEAR","RIGHT_BUTTON"]:vr,Lr=t.style,Zr=Lr===void 0?{}:Lr,Ar=t.autoFocus,Rr=Ar!==void 0&&Ar;!ut||ut instanceof j.default||(console.warn("currentDate must be instance of DateObject"),ut=void 0),(typeof Ke!="number"||Ke<0||Ke>6)&&(Ke=0),(typeof le!="number"||le<1||F)&&(le=1),!(D||O||c(h))||O||D||(D=!0),Kt&&(O=!0,D=!1),ot&&(le=12,R=!1,F=!1),F&&!lt&&(lt=!0);var wr=E(l(y,b),2);y=wr[0],b=wr[1],A=vt(R,F,A),_=xt(_),ne=[].concat(ne).filter(Boolean),V=[].concat.apply([],V);var Fr=E(n.useState({}),2),At=Fr[0],Zt=Fr[1],nr={},It=n.useRef({mustCallOnReady:!0,currentDate:ut});n.useEffect((function(){Zt((function(P){var xe=It.current.currentDate,pe=P.date,fe=P.selectedDate,dt=P.initialValue,rt=P.focused,Ve=P.mustSortDates;function bt(x){if(x)return x.calendar.name!==y.name&&x.setCalendar(y),x.locale.name!==b.name&&x.setLocale(b),x._format!==A&&x.setFormat(A),x.digits=tt,x.ignoreList=JSON.parse(_),x}function Pt(x){return new j.default(xe||x)}if(h)if(c(fe=Et(h,y,b,A)))pe||(pe=Pt(fe.flat()[0]));else if(pe&&le!==1){var tr=new j.default(pe).toFirstOfMonth(),sr=new j.default(pe).add(le-1,R?"years":"months").toLastOfMonth();(fe<tr||fe>sr)&&(pe=new j.default(fe))}else pe=Pt(fe);else pe||(pe=Pt({calendar:y,locale:b,format:A})),dt&&(fe=void 0);if([].concat(fe).flat().forEach(bt),bt(pe),D||O||c(h)){if(fe||(fe=[]),c(fe)||(fe=D&&O?[[fe]]:[fe]),O&&!D&&fe.length>2){var rr=fe[fe.length-1];fe=[fe[0],rr],rt=rr}D&&!O&&Z&&!Ve?(Ve=!0,fe.sort((function(x,J){return x-J}))):O&&!D&&fe.sort((function(x,J){return x-J}))}else c(fe)&&(fe=fe.flat()[fe.length-1]);return ot&&pe.toFirstOfYear(),delete It.current.currentDate,g(g({},P),{},{date:pe,selectedDate:fe,multiple:D,range:O,onlyMonthPicker:R,onlyYearPicker:F,initialValue:P.initialValue||h,value:h,focused:rt,calendar:y,locale:b,format:A,mustSortDates:Ve,year:pe.year,today:bt(P.today)||new j.default({calendar:y}),weekPicker:Kt})}))}),[h,y,b,A,R,F,O,D,Z,le,tt,_,ot,Kt]),n.useEffect((function(){(Le||Ie)&&Zt((function(P){var xe=P.calendar,pe=P.locale,fe=P.format,dt=(function(tr,sr,rr,x,J){return sr&&(sr=Fe(sr,x,J).set({hour:0,minute:0,second:0,millisecond:0})),rr&&(rr=Fe(rr,x,J).set({hour:23,minute:59,second:59,millisecond:999})),c(tr)&&(tr=tr.filter((function(Ye){return!(sr&&Ye<sr)&&!(rr&&Ye>rr)}))),[tr,sr,rr]})(Et(h,xe,pe,fe),Le,Ie,xe,fe),rt=E(dt,3),Ve=rt[0],bt=rt[1],Pt=rt[2];return g(g({},P),{},{inRangeDates:H?Ve:P.selectedDate,minDate:bt,maxDate:Pt})}))}),[Le,Ie,H,h]),At.today&&!It.current.isReady&&(It.current.isReady=!0),n.useEffect((function(){It.current.isReady&&It.current.mustCallOnReady&&$ instanceof Function&&(It.current.mustCallOnReady=!1,$())}),[It.current.isReady,$]);var ir="rmdp-top-class "+er(["top","bottom"]),Wt={top:[],bottom:[],left:[],right:[]},Wr=W((u=At.date)===null||u===void 0?void 0:u.locale),Jt={state:At,setState:Zt,onChange:lr,sort:Z,handleFocusedDate:dr,isRTL:Wr,fullYear:ot,monthAndYears:(function(){var P=At.date;if(!P)return[];for(var xe=[],pe=[],fe=P.digits,dt=0;dt<le;dt++){var rt=void 0,Ve=P.year,bt=P.monthIndex+dt;if(R&&(Ve+=dt),bt>11&&(bt-=12,R||Ve++),c(re)&&re.length>=12){var Pt=re[bt];rt=c(Pt)?Pt[0]:Pt}else rt=P.months[bt].name;Ve=ye(Ve.toString(),fe),xe.push(rt),pe.push(Ve)}return[xe,pe]})(),rangeHover:Ft,highlightToday:Yr,numberOfMonths:le},Nr=arguments[0],Br=Nr.datePickerProps,Sr=Nr.DatePicker,$r=T(Nr,ge);return n.useEffect((function(){var P=It.current.Calendar;P&&Qe(P,void 0,Rr&&!Sr)}),[Rr,At.today,Sr]),(function(){if(!(!It.current.isReady||!c(V))){var P={state:At,setState:Zt,registerListener:Vr,calendarProps:$r,datePickerProps:Br,handleChange:lr,Calendar:It.current.Calendar,DatePicker:Sr,handlePropsChange:ar,handleFocusedDate:function(pe){return dr(pe)},minDate:Le,maxDate:Ie},xe=function(pe){return Dt?"bottom":pe.props.position||"right"};V.forEach((function(pe,fe){if(typeof pe.type!="string"){var dt={},rt=xe(pe);if(Wt[rt]&&!pe.props.disabled){for(var Ve=0;Ve<V.length;Ve++)if(typeof V[Ve].type!="string"&&!V[Ve].props.disabled){if(Object.keys(dt).length===4)break;var bt=xe(V[Ve]);["top","bottom"].includes(rt)?(bt===rt&&Ve>fe&&(dt.bottom=!0),bt===rt&&Ve<fe&&(dt.top=!0)):(ir.includes("border-top")&&(dt.top=!0),ir.includes("border-bottom")&&(dt.bottom=!0),bt===rt&&Ve>fe&&(dt.right=!0),bt===rt&&Ve<fe&&(dt.left=!0))}Wt[rt].push(n.cloneElement(pe,g({key:fe,position:rt,nodes:dt},P)))}}else pe.type==="mapDays"&&ne.push(pe.fn(P))}))}})(),At.today?s.default.createElement("div",{ref:function(P){if(P&&(P.date=At.date,P.set=function(xe,pe){Nt||Zt(g(g({},At),{},{date:new j.default(At.date.set(xe,pe))}))}),It.current.Calendar=P,o instanceof Function)return o(P);o&&(o.current=P)},role:ce||"dialog",className:"rmdp-wrapper rmdp-".concat(mt?"shadow":"border"," ").concat(X||""),style:g({zIndex:te},Zr)},Wt.top,s.default.createElement("div",{style:{display:"flex"},className:ir},Wt.left,!Dt&&s.default.createElement("div",{className:"rmdp-calendar ".concat(Wr?"rmdp-rtl":""," ").concat(er(["left","right"]))},s.default.createElement(Ot,g(g({},Jt),{},{disableYearPicker:me,disableMonthPicker:We,buttons:be,renderButton:ve,handleMonthChange:ke,disabled:Nt,hideMonth:lt,hideYear:Re,monthYearSeparator:hr,formatMonth:Lt,formatYear:pr,headerOrder:gr,onYearChange:jt})),s.default.createElement("div",{style:{position:"relative"}},s.default.createElement(Tt,g(g({},Jt),{},{showOtherDays:Se,mapDays:ne,onlyShowInRangeDates:H,customWeekDays:ae,weekStartDayIndex:Ke,hideWeekDays:$e,displayWeekNumbers:Xt,weekNumber:_t})),!ot&&s.default.createElement(s.default.Fragment,null,!We&&s.default.createElement(U,he({},Jt,{customMonths:re,handleMonthChange:ke})),!me&&s.default.createElement(at,he({},Jt,{onYearChange:jt}))))),Wt.right),Wt.bottom,ue):null;function lr(P,xe){if(P instanceof j.default&&(P=new j.default(P)),!Nt){if(P||P===null){if(gt)return;nr.change&&nr.change.forEach((function(fe){return fe(P)}))}if(P||P===null){var pe=De==null?void 0:De(P);xe&&pe!==!1&&Zt(xe)}else xe&&Zt(xe);ar({value:P})}}function ar(){var P,xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!gt&&!Nt){var pe=g(g(g(g({},$r),Br),xe),{},{value:(P=xe.value)!==null&&P!==void 0?P:At.selectedDate});delete pe.onPropsChange,Ae==null||Ae(pe)}}function dr(P,xe){gt||Nt||Yt==null||Yt(P,xe)}function ke(P){zt==null||zt(P)}function er(P){return Dt||!c(V)?"":Array.from(new Set(V.map((function(xe){if(!xe.props)return"";var pe=xe.props.position||"right";return P.includes(pe)&&!xe.props.disabled?"rmdp-border-"+pe:""})))).join(" ")}function Vr(P,xe){nr[P]||(nr[P]=[]),nr[P].push(xe)}}var wt=n.forwardRef(oe);function Et(t,o,u,h){var y=[].concat(t).map((function(R){return c(R)?R.map(b).filter(A):b(R)})).filter(A);return c(t)?y:y.flat()[0];function b(R){return R?R instanceof j.default?R:new j.default({date:R,calendar:o,locale:u,format:h}):{}}function A(R){return c(R)||R.isValid}}K('.rmdp-visible{visibility:visible}.rmdp-invisible{visibility:hidden}.rmdp-input{border:1px solid #c0c4d6;border-radius:5px;height:22px;margin:1px 0;padding:2px 5px}.rmdp-input:focus{border:1px solid #a4b3c5;box-shadow:0 0 2px #a4b3c5;outline:none!important}.rmdp-button{background-color:#0074d9;border:none;border-radius:5px;color:#fff;cursor:pointer;display:inline-block;padding:7px 16px;text-align:center;text-decoration:none;transition:.3s}.rmdp-button:hover{background-color:#143ac5;transition:.4s}.rmdp-button:disabled{background-color:#8798ad}.rmdp-action-button{border-radius:unset;color:#2682d3;float:right;font-weight:700;margin:15px 10px 15px 0}.rmdp-action-button,.rmdp-action-button:hover{background-color:transparent}.rmdp-ep-arrow{overflow:hidden;will-change:transform}.rmdp-ep-arrow:after{background-color:#fff;content:"";height:12px;position:absolute;transform:rotate(45deg);width:12px}.rmdp-ep-shadow:after{box-shadow:0 0 6px #8798ad}.rmdp-ep-border:after{border:1px solid #cfd8e2}.rmdp-ep-arrow[direction=top]{border-bottom:1px solid #fff}.rmdp-ep-arrow[direction=left]{border-right:1px solid #fff}.rmdp-ep-arrow[direction=right]{border-left:1px solid #fff;margin-left:-1px}.rmdp-ep-arrow[direction=bottom]{border-top:1px solid #fff;margin-top:-1.5px}.rmdp-ep-arrow[direction=top]:after{left:4px;top:5px}.rmdp-ep-arrow[direction=bottom]:after{left:4px;top:-6px}.rmdp-ep-arrow[direction=left]:after{left:5px;top:3px}.rmdp-ep-arrow[direction=right]:after{left:-6px;top:3px}');var Me=["value","calendar","locale","format","onlyMonthPicker","onlyYearPicker","onChange","range","multiple","name","id","title","placeholder","required","style","className","inputClass","disabled","render","weekDays","months","children","inputMode","scrollSensitive","hideOnScroll","minDate","maxDate","formattingIgnoreList","containerClassName","calendarPosition","editable","onOpen","onClose","arrowClassName","zIndex","arrow","fixMainPosition","onPositionChange","onPropsChange","digits","readOnly","shadow","onFocusedDateChange","type","weekPicker","mobileLabels","onOpenPickNewDate","mobileButtons","dateSeparator","multipleRangeSeparator","typingTimeout"],Mt=["label"];function yr(t,o){var u=t.value,h=t.calendar,y=t.locale,b=t.format,A=t.onlyMonthPicker,R=t.onlyYearPicker,F=t.onChange,B=t.range,O=B!==void 0&&B,z=t.multiple,D=z!==void 0&&z,X=t.name,ce=t.id,ae=t.title,re=t.placeholder,ue=t.required,De=t.style,Se=De===void 0?{}:De,Le=t.className,Ie=Le===void 0?"":Le,ne=t.inputClass,We=t.disabled,me=t.render,_=t.weekDays,$=t.months,q=t.children,H=t.inputMode,ie=t.scrollSensitive,te=ie===void 0||ie,G=t.hideOnScroll,V=t.minDate,Z=t.maxDate,se=t.formattingIgnoreList,le=t.containerClassName,ut=le===void 0?"":le,tt=t.calendarPosition,Vt=tt===void 0?"bottom-left":tt,be=t.editable,ve=be===void 0||be,Xe=t.onOpen,Ke=t.onClose,Dt=t.arrowClassName,Ae=Dt===void 0?"":Dt,zt=t.zIndex,jt=zt===void 0?100:zt,Yt=t.arrow,gt=Yt===void 0||Yt,Nt=t.fixMainPosition,lt=t.onPositionChange,Re=t.onPropsChange,$e=t.digits,st=t.readOnly,mt=t.shadow,ot=mt===void 0||mt,Xt=t.onFocusedDateChange,_t=t.type,Kt=t.weekPicker,Ft=t.mobileLabels,hr=t.onOpenPickNewDate,Lt=hr===void 0||hr,pr=t.mobileButtons,xr=pr===void 0?[]:pr,Yr=t.dateSeparator,vr=t.multipleRangeSeparator,gr=vr===void 0?",":vr,Lr=t.typingTimeout,Zr=Lr===void 0?700:Lr,Ar=T(t,Me),Rr=E(n.useState(),2),wr=Rr[0],Fr=Rr[1],At=E(n.useState(),2),Zt=At[0],nr=At[1],It=E(n.useState(""),2),ir=It[0],Wt=It[1],Wr=E(n.useState(!1),2),Jt=Wr[0],Nr=Wr[1],Br=E(n.useState(!1),2),Sr=Br[0],$r=Br[1],lr=n.useRef(),ar=n.useRef(),dr=n.useRef(),ke=n.useRef({isTyping:!1}),er=Yr||(O||Kt?" ~ ":", "),Vr=arguments[0],P=typeof Ie=="string"&&Ie.includes("rmdp-mobile"),xe=n.useCallback((function(){if((Ke==null?void 0:Ke())!==!1){var x=Ne(ar);if(x&&x.forEach((function(Ye){return Ye.blur()})),ke.current.mobile){var J=dr.current.parentNode.parentNode;J.classList.remove("rmdp-calendar-container-mobile"),J.style.position="absolute",J.style.visibility="hidden"}ke.current.validInputValue!==void 0&&(Wt(ke.current.validInputValue),ke.current.validInputValue=void 0),Nr(!1),$r(!1)}}),[Ke]),pe=[{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){nr(void 0),xe()},label:rt("CANCEL")},{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){Zt&&(Pt(Zt,!0),nr(void 0)),xe()},label:rt("OK")}];P&&!ke.current.mobile&&(ke.current=g(g({},ke.current),{},{mobile:!0})),!P&&ke.current.mobile&&(ke.current=g(g({},ke.current),{},{mobile:!1})),se=xt(se),b=vt(A,R,b);var fe,dt=E(l(h,y),2);return h=dt[0],y=dt[1],n.useEffect((function(){function x(Ye){if(Jt&&!ke.current.mobile){var St=[];if([ar.current,dr.current].forEach((function(Bt){var yt,$t;!Bt||Bt.contains(Ye.target)||Ye.target.classList.contains("b-deselect")||(yt=Ye.target.parentNode)!==null&&yt!==void 0&&(yt=yt.classList)!==null&&yt!==void 0&&($t=yt.contains)!==null&&$t!==void 0&&$t.call(yt,"b-deselect")||St.push(Bt)})),St.length===2)return xe();dr.current&&dr.current.contains(Ye.target)&&(lr.current.removeTransition(),lr.current.refreshPosition())}}function J(){G&&Jt&&xe()}return document.addEventListener("click",x,!1),document.addEventListener("scroll",J,!0),function(){document.removeEventListener("click",x,!1),document.removeEventListener("scroll",J,!0)}}),[xe,o,Jt,G]),n.useEffect((function(){var x=u,J=ke.current,Ye=J.date,St=J.initialValue,Bt=function(){return x[x.length-1]};function yt(ze){if(ze)return ze instanceof j.default||(ze=new j.default({date:ze,calendar:h,locale:y,format:b})),ze.calendar!==h&&ze.setCalendar(h),ze.set({weekDays:_,months:$,digits:$e,locale:y,format:b,ignoreList:JSON.parse(se)}),ze}u||St||!Ye?St&&!u&&(St=void 0):x=Ye;var $t="";if(O||D||c(x)){var zr=function(ze){return ze=ze.map(yt).filter((function(Kr){return Kr!==void 0})),O&&ze.length>2&&(ze=[ze[0],Bt()]),[ze,fr(ze,er)]};if(c(x)||(x=O&&D?x?[[x]]:[]:[x]),D&&O)x=x.map((function(ze,Kr){var un=E(zr(c(ze)?ze:[ze]),2),$n=un[0],Vn=un[1];return $t+=Vn+(Kr<x.length-1?" ".concat(gr," "):""),$n}));else{var _r=E(zr(x),2);x=_r[0],$t=_r[1]}$t=$t.toString().replace(/\s,\s$/,"")}else c(x)&&(x=Bt()),(x=yt(x))&&($t=x.format());ke.current.isTyping||Wt($t),ke.current=g(g({},ke.current),{},{date:x,separator:er,initialValue:St||u}),ke.current.mobile&&lr.current.isOpen?nr(x):(ke.current.validInputValue=void 0,Fr(x))}),[u,h,y,b,O,D,er,A,R,_,$,$e,se]),n.useEffect((function(){var x=ke.current.selection;if(x){var J=Ne(ar);J.length!==0&&(J.forEach((function(Ye){document.activeElement===Ye&&(Ye.setSelectionRange(x,x),ke.current.selection=void 0)})),lr.current.refreshPosition())}}),[ir]),(D||O||c(wr)||!ve)&&(H="none"),s.default.createElement(N.default,he({ref:function(x){if(x&&(x.openCalendar=function(){return setTimeout((function(){return Ve()}),10)},x.closeCalendar=xe,x.isOpen=Jt&&Sr),lr.current=x,o instanceof Function)return o(x);o&&(o.current=x)},element:me?s.default.createElement("div",{ref:ar},n.isValidElement(me)?n.cloneElement(me,{value:ir,openCalendar:Ve,onFocus:Ve,handleValueChange:tr,onChange:tr,locale:y,separator:er}):me instanceof Function?me(ir,Ve,tr,y,er):null):s.default.createElement("input",{ref:ar,type:_t||"text",name:X,id:ce,title:ae,required:ue,onFocus:Ve,className:ne||"rmdp-input",placeholder:re,value:ir,onChange:tr,style:Se,autoComplete:"off",disabled:!!We,inputMode:H||(P?"none":void 0),readOnly:st}),popper:Jt&&s.default.createElement(wt,he({ref:dr,value:Zt||wr,onChange:Pt,range:O,multiple:D,calendar:h,locale:y,format:b,onlyMonthPicker:A,onlyYearPicker:R,className:Ie+(P?" rmdp-mobile":""),weekDays:_,months:$,digits:$e,minDate:V,maxDate:Z,formattingIgnoreList:JSON.parse(se),onPropsChange:Re,shadow:ot,onReady:sr,DatePicker:lr.current,datePickerProps:Vr,onFocusedDateChange:rr,weekPicker:Kt},Ar),q,P&&(fe=[].concat.apply([],Vr.plugins||[]).some((function(x){var J=x.props;return!(J===void 0?{}:J).disabled})),c(xr)&&s.default.createElement("div",{className:"rmdp-action-buttons ".concat(W(y)?"rmdp-rtl":""," ").concat(fe?"rmdp-border-top":"")},xr.concat(pe).map((function(x,J){var Ye=x.label,St=T(x,Mt);return s.default.createElement("button",he({key:J},St),Ye)}))))),active:!P&&Sr,position:Vt,arrow:!P&&gt,fixMainPosition:!te||Nt,zIndex:jt,onChange:!P&&lt,containerClassName:"rmdp-container ".concat(ut),arrowClassName:["rmdp-ep-arrow","rmdp-ep-".concat(ot?"shadow":"border"),Ie,Ae].join(" ")},Ar));function rt(x){var J,Ye=y||new j.default().locale;return typeof Ye.name!="string"?x:(Ft==null?void 0:Ft[x])||((J={en:{OK:"OK",CANCEL:"CANCEL"},fa:{OK:"",CANCEL:""},ar:{OK:"",CANCEL:""},hi:{OK:"",CANCEL:" "}}[C(Ye)])===null||J===void 0?void 0:J[x])||x}function Ve(){if(!We&&!st&&(Xe==null?void 0:Xe())!==!1){if(Lt&&!u&&!ke.current.date&&!O&&!D&&!P){var x=new j.default({calendar:h,locale:y,format:b,months:$,weekDays:_,digits:$e,ignoreList:JSON.parse(se)});(!V||x>Fe(V,h,b))&&(!Z||x<Fe(Z,h,b))&&(Pt(x),Re==null||Re(g(g({},Vr),{},{value:x})),ke.current.date=x)}var J=Ne(ar);P&&J.length>0&&J.forEach((function(Ye){return Ye.blur()})),J.length>0||!Jt?Nr(!0):xe()}}function bt(x){var J="";return x&&(J=D&&O&&c(x)?x.map((function(Ye){return fr(Ye,er)})).join(" ".concat(gr," ")):fr(x,er)),J}function Pt(x,J,Ye){if(P&&!J)return nr(x);var St=bt(x),Bt=Ye||St.toString().replace(/\s,\s$/,"");return x&&[].concat(x).flat().some((function(yt){return V&&yt<Fe(V,h,b)||Z&&yt>Fe(Z,h,b)}))?(ke.current.validInputValue=bt(u||ke.current.date),Wt(Bt)):(ke.current.validInputValue=St,(F==null?void 0:F(x,{validatedValue:St,input:ar.current,isTyping:!!Ye}))===!1?(Wt(ir),!1):(Fr(x),Wt(Bt),void(ke.current=g(g({},ke.current),{},{date:x}))))}function tr(x){if(ve){ke.current.isTyping=!0,setTimeout((function(){ke.current.isTyping=!1}),Zr),ke.current.selection=x.target.selectionStart;var J=x.target.value,Ye={calendar:h,locale:y,format:b,ignoreList:JSON.parse(se)};if($e=c($e)?$e:y.digits,!J)return Wt(""),Pt(null);if($e){var St,Bt,yt=M($e);try{for(yt.s();!(St=yt.n()).done;){var $t=St.value;J=J.replace(new RegExp($t,"g"),$e.indexOf($t))}}catch(ze){yt.e(ze)}finally{yt.f()}Bt=c(wr)?D&&O?(J||"").split(gr).filter(Boolean).map(_r):_r(J):zr(J),Pt(c(wr)||Bt.isValid?Bt:null,void 0,ye(J,$e))}}function zr(ze){return/(?=.*Y)(?=.*M)(?=.*D)/.test(b)?new j.default(g(g({},Ye),{},{date:ze})):new j.default(Ye).parse(ze)}function _r(ze){return(ze||"").split(er).filter(Boolean).map((function(Kr){return zr(Kr.trim())}))}}function sr(){if($r(!0),P){var x=dr.current.parentNode.parentNode;x.className="rmdp-calendar-container-mobile",x.style.position="fixed",x.style.transform="",setTimeout((function(){x.style.visibility="visible"}),50)}}function rr(x,J){c(ke.current.date)||!J||P||xe(),Xt==null||Xt(x,J)}}var Qt=n.forwardRef(yr);function fr(t,o){var u=[].concat(t).map((function(h){return h!=null&&h.isValid?h.format():""}));return u.toString=function(){return this.filter(Boolean).join(o)},u}function Ne(t){return t.current?t.current.tagName==="INPUT"?[t.current]:Array.from(t.current.querySelectorAll("input")):[]}Object.defineProperty(a,"DateObject",{enumerable:!0,get:function(){return j.default}}),a.Calendar=wt,a.default=Qt,a.getAllDatesInRange=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(t))return[];var u=t[0],h=t[t.length-1],y=[];if(!(u instanceof j.default&&h instanceof j.default&&u.isValid&&h.isValid&&!(u>h)))return[];for(u=new j.default(u),h=new j.default(h);u<=h;u.day++)y.push(o?u.toDate():new j.default(u));return y},a.toDateObject=Fe})(rn)),rn}var Va=$a();const za=Qn(Va),{Option:qe}=qr,_a=({currentStep:a,newJob:n,setNewJob:d,formData:r,setFormData:i,errors:s,setErrors:N,recentlyUploadedTopicsCount:j,setRecentlyUploadedTopicsCount:w,recentlyUploadedKeywordsCount:g,setRecentlyUploadedKeywordsCount:ee,showAllTopics:he,setShowAllTopics:T,showAllKeywords:E,setShowAllKeywords:je,user:S,userPlan:p})=>{var at,vt,Fe,ct,Ge,_e,Rt;const M=Pe.useRef(null);(at=S==null?void 0:S.subscription)==null||at.plan;const{data:c}=Tn({queryKey:["integrations"],queryFn:Jn,staleTime:300*1e3});Pe.useEffect(()=>{var l;(l=c==null?void 0:c.integrations)!=null&&l.size?i(m=>k(v({},m),{postingType:c.integrations.key().next().value})):c!=null&&c.integrations&&Object.keys(c.integrations).length>0&&i(m=>k(v({},m),{postingType:Object.keys(c.integrations)[0]}))},[c]);const L=10,Q=((vt=S==null?void 0:S.usage)==null?void 0:vt.aiImages)>=((Fe=S==null?void 0:S.usageLimits)==null?void 0:Fe.aiImages),Te=Mn();Pe.useEffect(()=>()=>{var l,m;(m=(l=n==null?void 0:n.blogs)==null?void 0:l.blogImages)==null||m.forEach(C=>{C instanceof File&&URL.revokeObjectURL(URL.createObjectURL(C))})},[n.blogs.blogImages]),Pe.useEffect(()=>{Q&&n.blogs.isCheckedGeneratedImages&&d(l=>k(v({},l),{blogs:k(v({},l.blogs),{isCheckedGeneratedImages:!1,imageSource:"stock"})}))},[Q,n.blogs.isCheckedGeneratedImages]);const Be=[{id:"stock",label:"Stock Images",value:"stock",restricted:!1},{id:"ai",label:"AI-Generated Images",value:"ai",restricted:p==="free",featureName:"AI-Generated Images",isAiImagesLimitReached:Q}],Ee=l=>{i(m=>k(v({},m),{postingType:l})),N(m=>k(v({},m),{postingType:!1}))},Ce=(l,m)=>{const C=l.trim();if(!C)return;const W=m==="topics"?n.blogs.topics.map(oe=>oe.toLowerCase().trim()):r.keywords.map(oe=>oe.toLowerCase().trim()),K=new Set,ge=C.split(",").map(oe=>oe.trim()).filter(oe=>{const wt=oe.toLowerCase();return!oe||K.has(wt)||W.includes(wt)?!1:(K.add(wt),!0)});ge.length!==0&&(m==="topics"?(i(oe=>k(v({},oe),{topicInput:""})),d(oe=>k(v({},oe),{blogs:k(v({},oe.blogs),{topics:[...oe.blogs.topics,...ge]})})),N(oe=>k(v({},oe),{topics:!1}))):(i(oe=>k(v({},oe),{keywords:[...oe.keywords,...ge],keywordInput:""})),d(oe=>k(v({},oe),{blogs:k(v({},oe.blogs),{keywords:[...oe.blogs.keywords,...ge]})})),N(oe=>k(v({},oe),{keywords:!1}))))},Oe=l=>{const{name:m,value:C,type:W}=l.target;let K;W==="tel"?C===""?K="":(K=parseInt(C,10),K<0&&(K=0),K>20&&(K=20)):K=C,d(ge=>k(v({},ge),{blogs:k(v({},ge.blogs),{[m]:K})}))},de=(l,m)=>{var ge;const C=(ge=l.target.files)==null?void 0:ge[0];if(!C){He.error("No file selected. Please choose a valid CSV file.");return}if(!C.name.toLowerCase().endsWith(".csv")){He.error("Invalid file type. Please upload a .csv file."),l.target.value=null;return}const W=20*1024;if(C.size>W){He.error("File size exceeds 20KB limit. Please upload a smaller file."),l.target.value=null;return}const K=new FileReader;K.onload=oe=>{var fr;const wt=(fr=oe.target)==null?void 0:fr.result;if(!wt||typeof wt!="string"){He.error("Failed to read the CSV file. Please ensure it is valid.");return}let Et=wt.trim().split(/\r?\n/);if(Et.length===0){He.error("The CSV file is empty. Please provide a valid CSV with topics or keywords.");return}m.charAt(0).toUpperCase()+m.slice(1),Et[0].toLowerCase().includes(m)&&(Et=Et.slice(1));const Me=Et.map(Ne=>Ne.split(",").map(o=>o.trim()).find(o=>o)||null).filter(Ne=>Ne&&Ne.trim().length>0);if(Me.length===0){He.warning(`No valid ${m} found in the CSV file.`);return}const Mt=m==="topics"?n.blogs.topics.map(Ne=>Ne.toLowerCase().trim()):r.keywords.map(Ne=>Ne.toLowerCase().trim()),yr=new Set,Qt=Me.filter(Ne=>{const t=Ne.toLowerCase().trim();return!Ne||yr.has(t)||Mt.includes(t)?!1:(yr.add(t),!0)});if(Qt.length===0){He.warning(`No new ${m} found in the CSV. All provided items are either duplicates or already exist.`);return}m==="topics"?(d(Ne=>k(v({},Ne),{blogs:k(v({},Ne.blogs),{topics:[...Ne.blogs.topics,...Qt]})})),N(Ne=>k(v({},Ne),{topics:!1}))):(i(Ne=>k(v({},Ne),{keywords:[...Ne.keywords,...Qt]})),d(Ne=>k(v({},Ne),{blogs:k(v({},Ne.blogs),{keywords:[...Ne.blogs.keywords,...Qt]})})),N(Ne=>k(v({},Ne),{keywords:!1}))),He.success(`${Qt.length} new ${m} added from CSV.`),m==="topics"?(w(Qt.length),setTimeout(()=>w(null),5e3)):(ee(Qt.length),setTimeout(()=>ee(null),5e3))},K.onerror=()=>{He.error("An error occurred while reading the CSV file.")},K.readAsText(C),l.target.value=null},we=l=>{const{name:m,checked:C}=l.target;if(m==="wordpressPosting"&&C&&!(Object.keys((c==null?void 0:c.integrations)||{}).length>0)){He.error("Please connect your account in plugins.");return}d(W=>k(v({},W),{options:k(v({},W.options),{[m]:C})})),m==="performKeywordResearch"&&(i(W=>k(v({},W),{performKeywordResearch:C})),N(W=>k(v({},W),{keywords:!1})))},et=l=>{const{value:m}=l.target;let C;m===""?C="":(C=parseInt(m,10),isNaN(C)&&(C=""),C>L&&(C=L),C<0&&(C=0)),d(W=>k(v({},W),{blogs:k(v({},W.blogs),{numberOfBlogs:C})})),N(W=>k(v({},W),{numberOfBlogs:!1}))},Qe=E?r.keywords.slice().reverse():r.keywords.slice().reverse().slice(0,18),pt=he?n.blogs.topics.slice().reverse():n.blogs.topics.slice().reverse().slice(0,18),Tt=l=>{d(m=>k(v({},m),{blogs:k(v({},m.blogs),{imageSource:l,isstockActive:l==="stock"})})),N(m=>k(v({},m),{imageSource:!1}))},Ct=l=>{const W=["image/jpeg","image/png","image/webp"];if(!l||l.length===0)return[];const K=Array.from(l).filter(oe=>W.includes(oe.type)?oe.size>5242880?(He.error(`"${oe.name}" exceeds the 5 MB size limit.`),!1):!0:(He.error(`"${oe.name}" is not a valid image type. Only PNG, JPEG, and WebP are allowed.`),!1));return n.blogs.blogImages.length+K.length>15?(He.error("Cannot upload more than 15 images."),K.slice(0,15-n.blogs.blogImages.length)):K},Ot=l=>{const m=l.target.files;if(!m||m.length===0)return;const C=Ct(m);C.length>0&&(d(W=>k(v({},W),{blogs:k(v({},W.blogs),{blogImages:[...W.blogs.blogImages,...C]})})),He.success(`${C.length} image(s) added successfully!`)),M.current&&(M.current.value="")},xt=l=>{l.preventDefault(),l.stopPropagation(),i(W=>k(v({},W),{isDragging:!1}));const m=l.dataTransfer.files;if(!m||m.length===0)return;const C=Ct(m);C.length>0&&d(W=>k(v({},W),{blogs:k(v({},W.blogs),{blogImages:[...W.blogs.blogImages,...C]})}))},Y=l=>{l.preventDefault(),l.stopPropagation(),i(m=>k(v({},m),{isDragging:!0}))},U=l=>{l.preventDefault(),l.stopPropagation(),i(m=>k(v({},m),{isDragging:!1}))},ye=l=>{d(m=>k(v({},m),{blogs:k(v({},m.blogs),{blogImages:m.blogs.blogImages.filter((C,W)=>W!==l)})}))},nt=Pe.useCallback(l=>{d(m=>k(v({},m),{blogs:k(v({},m.blogs),{templates:l.map(C=>C.name)}),templateIds:l.map(C=>C.id)})),N(m=>k(v({},m),{templates:!1}))},[]);switch(a){case 1:return e.jsxs(Ir.div,{initial:{opacity:0},animate:{opacity:1},className:`space-y-4 sm:space-y-6 ${ta(s.templates&&"border-2 border-red-500 rounded-lg")}`,children:[e.jsx(oa,{numberOfSelection:3,userSubscriptionPlan:p!=null?p:"free",preSelectedIds:(Ge=(ct=n==null?void 0:n.blogs)==null?void 0:ct.templates)!=null?Ge:[],onClick:nt}),e.jsx("p",{className:`text-sm ${s!=null&&s.templates?"text-red-500":"text-gray-600"}  my-3 sm:mb-4 px-4`,children:s!=null&&s.templates?s.templates:"Select up to 3 templates for the types of blogs you want to generate."})]});case 2:return e.jsx(Ir.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Name"}),e.jsx("input",{type:"text",value:n.name,placeholder:"Enter job name",onChange:l=>{d(k(v({},n),{name:l.target.value})),N(m=>k(v({},m),{name:!1}))},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s.name?"border-red-500":"border-gray-200"}`,"aria-label":"Job name"}),s.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-2 flex gap-2 items-center",children:["Topics",e.jsx(Jr,{title:"Upload a .csv file in the format: `Topics` as header",children:e.jsx(pn,{size:16,className:"text-blue-500 cursor-pointer"})})]}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{type:"text",value:r.topicInput||"",onKeyDown:l=>l.key==="Enter"&&Ce(r.topicInput,"topics"),onChange:l=>i(m=>k(v({},m),{topicInput:l.target.value})),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${s.topics?"border-red-500":"border-gray-200"}`,placeholder:"Add a topic...","aria-label":"Add topic"}),e.jsx(Ir.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ce(r.topicInput,"topics"),className:"px-4 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-lg","aria-label":"Add topic",children:e.jsx(ln,{})}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(gn,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:l=>de(l,"topics"),hidden:!0}),e.jsx("span",{className:"sr-only",children:"Upload CSV for topics"})]})]}),s.topics&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.topics}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[pt.map((l,m)=>{const C=n.blogs.topics.length-1-m;return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[l,e.jsx("button",{type:"button",onClick:()=>d(W=>k(v({},W),{blogs:k(v({},W.blogs),{topics:W.blogs.topics.filter((K,ge)=>ge!==C)})})),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none","aria-label":`Remove topic ${l}`,children:e.jsx(en,{className:"w-3 h-3"})})]},`${l}-${C}`)}),(n.blogs.topics.length>18||j)&&e.jsx("span",{onClick:()=>T(l=>!l),className:"text-xs font-medium text-blue-600 self-center cursor-pointer flex items-center gap-1",children:he?e.jsx(e.Fragment,{children:"Show less"}):e.jsxs(e.Fragment,{children:[n.blogs.topics.length>18&&`+${n.blogs.topics.length-18} more`,j&&` (+${j} uploaded)`]})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Perform Keyword Research?",e.jsx("p",{className:"text-xs text-gray-500",children:"Allow AI to find relevant keywords for the topics."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"performKeywordResearch",checked:r.performKeywordResearch,onChange:we,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),!r.performKeywordResearch&&e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-2 flex gap-2 items-center",children:["Keywords",e.jsx(Jr,{title:"Upload a .csv file in the format: `Keywords` as header",children:e.jsx(pn,{size:16,className:"text-blue-500 cursor-pointer"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:r.keywordInput,onChange:l=>i(m=>k(v({},m),{keywordInput:l.target.value})),onKeyDown:l=>l.key==="Enter"&&Ce(r.keywordInput,"keywords"),className:`flex-1 px-3 py-2 border rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 ${s.keywords?"border-red-500":"border-gray-300"}`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:()=>Ce(r.keywordInput,"keywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:e.jsx(ln,{})}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(gn,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:l=>de(l,"keywords"),hidden:!0}),e.jsx("span",{className:"sr-only",children:"Upload CSV"})]})]}),s.keywords&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.keywords}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[Qe.map((l,m)=>{const C=r.keywords.length-1-m;return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[l,e.jsx("button",{type:"button",onClick:()=>{const W=[...r.keywords];W.splice(C,1),i(K=>k(v({},K),{keywords:W})),d(K=>k(v({},K),{blogs:k(v({},K.blogs),{keywords:W})}))},className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(en,{className:"w-3 h-3"})})]},`${l}-${C}`)}),(r.keywords.length>18||g)&&e.jsx("span",{onClick:()=>je(l=>!l),className:"text-xs font-medium text-blue-600 self-center cursor-pointer flex items-center gap-1",children:E?e.jsx(e.Fragment,{children:"Show less"}):e.jsxs(e.Fragment,{children:[r.keywords.length>18&&`+${r.keywords.length-18} more`,g&&` (+${g} uploaded)`]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"tone",className:"block text-sm font-medium text-gray-700 mb-2",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(qr,{className:"w-full",value:n.blogs.tone,onChange:l=>{d(k(v({},n),{blogs:k(v({},n.blogs),{tone:l})})),N(m=>k(v({},m),{tone:!1}))},placeholder:"Select tone",status:s.tone?"error":"",children:[e.jsx(qe,{value:"",children:"Select Tone"}),e.jsx(qe,{value:"professional",children:"Professional"}),e.jsx(qe,{value:"casual",children:"Casual"}),e.jsx(qe,{value:"friendly",children:"Friendly"}),e.jsx(qe,{value:"formal",children:"Formal"}),e.jsx(qe,{value:"conversational",children:"Conversational"}),e.jsx(qe,{value:"witty",children:"Witty"}),e.jsx(qe,{value:"informative",children:"Informative"}),e.jsx(qe,{value:"inspirational",children:"Inspirational"}),e.jsx(qe,{value:"persuasive",children:"Persuasive"}),e.jsx(qe,{value:"empathetic",children:"Empathetic"})]}),s.tone&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.tone})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"language",className:"block text-sm font-medium text-gray-700 mb-2",children:["Language ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(qr,{className:"w-full",value:n.blogs.languageToWrite,onChange:l=>{d(k(v({},n),{blogs:k(v({},n.blogs),{languageToWrite:l})}))},placeholder:"Select language",children:[e.jsx(qe,{value:"English",children:"English"}),e.jsx(qe,{value:"Spanish",children:"Spanish"}),e.jsx(qe,{value:"German",children:"German"}),e.jsx(qe,{value:"French",children:"French"}),e.jsx(qe,{value:"Italian",children:"Italian"}),e.jsx(qe,{value:"Portuguese",children:"Portuguese"}),e.jsx(qe,{value:"Dutch",children:"Dutch"}),e.jsx(qe,{value:"Japanese",children:"Japanese"}),e.jsx(qe,{value:"Hindi",children:"Hindi"}),e.jsx(qe,{value:"Chinese",children:"Chinese"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approx. Blog Length (Words)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:n.blogs.userDefinedLength,className:"w-full h-1 rounded-lg appearance-none cursor-pointer bg-gradient-to-r from-[#1B6FC9] to-gray-100 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${(n.blogs.userDefinedLength-500)/4500*100}%, #E5E7EB ${(n.blogs.userDefinedLength-500)/4500*100}%)`},onChange:l=>d(k(v({},n),{blogs:k(v({},n.blogs),{userDefinedLength:parseInt(l.target.value)})}))}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[n.blogs.userDefinedLength," words"]})]})]})]})]})});case 3:return e.jsxs(Ir.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Add Image"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{htmlFor:"add-image-toggle",className:"relative inline-block w-12 h-6",children:[e.jsx("input",{type:"checkbox",id:"add-image-toggle",className:"sr-only peer",checked:n.blogs.isCheckedGeneratedImages,onChange:l=>{const m=l.target.checked;d(C=>k(v({},C),{blogs:k(v({},C.blogs),{isCheckedGeneratedImages:m,imageSource:m?C.blogs.imageSource:"stock"})}))}}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${n.blogs.isCheckedGeneratedImages?"bg-[#1B6FC9]":"bg-gray-300"}`}),e.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 ${n.blogs.isCheckedGeneratedImages?"translate-x-6":""}`})]}),n.blogs.isCheckedGeneratedImages&&Q&&e.jsx(Jr,{title:"You've reached your AI image generation limit. It'll reset in the next billing cycle.",overlayInnerStyle:{backgroundColor:"#FEF9C3",border:"1px solid #FACC15",color:"#78350F"},children:e.jsx(sn,{className:"text-yellow-400 ml-4",size:15})})]})]}),n.blogs.isCheckedCustomImages&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Upload Custom Images (Max 15, each 5MB)"}),e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${r.isDragging?"border-blue-600 bg-blue-50":"border-gray-300 bg-gray-50"}`,onDragOver:Y,onDragLeave:U,onDrop:xt,children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drag and drop images here or click to select"}),e.jsx("button",{className:"px-4 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md text-sm",onClick:()=>{var l;return(l=M.current)==null?void 0:l.click()},children:"Select Images"}),e.jsx("input",{type:"file",ref:M,onChange:Ot,accept:"image/jpeg,image/png,image/webp",multiple:!0,className:"hidden"})]}),n.blogs.blogImages.length>0&&e.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 gap-4",children:n.blogs.blogImages.map((l,m)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:l instanceof File?URL.createObjectURL(l):l,alt:l instanceof File?l.name:`Image ${m+1}`,className:"w-full h-24 object-cover rounded-md"}),e.jsx("button",{onClick:()=>ye(m),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(en,{className:"w-4 h-4"})}),e.jsx("p",{className:"text-xs text-gray-600 truncate mt-1",children:l instanceof File?l.name:`Image ${m+1}`})]},m))})]}),n.blogs.isCheckedGeneratedImages&&!n.blogs.isCheckedCustomImages&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Image Source"}),e.jsx("div",{className:`grid grid-cols-2 gap-4 mx-auto w-full ${s.imageSource?"border-2 border-red-500 rounded-lg p-2":""}`,children:Be.map(l=>{const m=l.value==="ai-generated"&&l.isAiImagesLimitReached,C=l.restricted||m;return e.jsxs("label",{htmlFor:l.id,className:`relative border rounded-lg px-4 py-3 flex items-center gap-3 justify-center cursor-pointer transition-all duration-150
              ${n.blogs.imageSource===l.value?"border-blue-600 bg-blue-50":"border-gray-300"}
              hover:shadow-sm w-full
              ${C?"opacity-50 cursor-not-allowed":""}
            `,onClick:W=>{C&&(W.preventDefault(),on({featureName:l.featureName||"AI-Generated Images",navigate:Te}))},children:[e.jsx("input",{type:"radio",id:l.id,name:"imageSource",value:l.value,checked:n.blogs.imageSource===l.value,onChange:()=>{C||Tt(l.value)},className:"hidden",disabled:C}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:l.label}),(l.restricted||m)&&e.jsx(hn,{className:"w-4 h-4 text-yellow-500 absolute top-2 right-2"})]},l.id)})}),s.imageSource&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.imageSource})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Number of Images"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the number of images (0 = AI will decide)"}),e.jsx("input",{type:"tel",inputMode:"numeric",name:"numberOfImages",min:"0",max:"15",value:(_e=n.blogs.numberOfImages)!=null?_e:"",onChange:Oe,onWheel:l=>l.currentTarget.blur(),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm placeholder-gray-400 transition",placeholder:"e.g., 5"}),s.numberOfImages&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.numberOfImages})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select AI Model"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[{id:"gemini",label:"Gemini",logo:"/Images/gemini.webp",restricted:!1},{id:"openai",label:"ChatGPT",logo:"/Images/chatgpt.webp"},{id:"claude",label:"Claude",logo:"/Images/claude.webp"}].map(l=>e.jsxs("label",{htmlFor:l.id,className:`relative border rounded-lg px-4 py-3 flex items-center gap-3 cursor-pointer transition-all duration-150
      ${r.aiModel===l.id?"border-blue-600 bg-blue-50":"border-gray-300"}
      hover:shadow-sm w-full`,onClick:m=>{l.restricted&&(m.preventDefault(),on({featureName:l.label,navigate:Te}))},children:[e.jsx("input",{type:"radio",id:l.id,name:"aiModel",value:l.id,checked:r.aiModel===l.id,onChange:m=>{l.restricted||i(C=>k(v({},C),{aiModel:m.target.value}))},className:"hidden"}),e.jsx("img",{src:l.logo,alt:l.label,className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:l.label}),l.restricted&&e.jsx(hn,{className:"w-4 h-4 text-yellow-500 absolute top-2 right-2"})]},l.id))})]}),e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4 shadow-sm mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-green-900 mb-1",children:" Cost Cutter"}),e.jsx("p",{className:"text-xs text-green-700",children:"Use AI Flash model for 25% savings"})]}),e.jsxs("label",{htmlFor:"cost-cutter-toggle",className:"relative inline-block w-12 h-6",children:[e.jsx("input",{type:"checkbox",id:"cost-cutter-toggle",className:"sr-only peer",checked:n.blogs.costCutter||!1,onChange:l=>{d(m=>k(v({},m),{blogs:k(v({},m.blogs),{costCutter:l.target.checked})}))}}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${n.blogs.costCutter?"bg-green-500":"bg-gray-300"}`}),e.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 shadow-md ${n.blogs.costCutter?"translate-x-6":""}`})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule Type"}),e.jsxs(qr,{value:n.schedule.type,onChange:l=>{d(k(v({},n),{schedule:k(v({},n.schedule),{type:l,daysOfWeek:l==="weekly"?[]:n.schedule.daysOfWeek,daysOfMonth:l==="monthly"?[]:n.schedule.daysOfMonth,customDates:l==="custom"?[]:n.schedule.customDates})})),N(m=>k(v({},m),{daysOfWeek:!1,daysOfMonth:!1,customDates:!1}))},className:"w-full",children:[e.jsx(qe,{value:"daily",children:"Daily"}),e.jsx(qe,{value:"weekly",children:"Weekly"}),e.jsx(qe,{value:"monthly",children:"Monthly"}),e.jsx(qe,{value:"custom",children:"Custom"})]})]}),n.schedule.type==="weekly"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Days of Week"}),e.jsx("div",{className:`flex gap-2 flex-wrap ${s.daysOfWeek?"border-red-500 border-2 p-2 rounded":""}`,children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((l,m)=>{var C;return e.jsx("button",{type:"button",className:`px-2 py-1 rounded ${(C=n.schedule.daysOfWeek)!=null&&C.includes(m)?"bg-[#1B6FC9] text-white":"bg-gray-200 text-gray-700"}`,onClick:()=>{d(W=>{var ge;const K=(ge=W.schedule.daysOfWeek)!=null&&ge.includes(m)?W.schedule.daysOfWeek.filter(oe=>oe!==m):[...W.schedule.daysOfWeek||[],m];return k(v({},W),{schedule:k(v({},W.schedule),{daysOfWeek:K})})}),N(W=>k(v({},W),{daysOfWeek:!1}))},children:l},m)})}),s.daysOfWeek&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.daysOfWeek})]}),n.schedule.type==="monthly"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Dates of Month"}),e.jsx("div",{className:`flex gap-2 flex-wrap ${s.daysOfMonth?"border-red-500 border-2 p-2 rounded":""}`,children:Array.from({length:31},(l,m)=>m+1).map(l=>{var m;return e.jsx("button",{type:"button",className:`px-2 py-1 rounded ${(m=n.schedule.daysOfMonth)!=null&&m.includes(l)?"bg-[#1B6FC9] text-white":"bg-gray-200 text-gray-700"}`,onClick:()=>{d(C=>{var K;const W=(K=C.schedule.daysOfMonth)!=null&&K.includes(l)?C.schedule.daysOfMonth.filter(ge=>ge!==l):[...C.schedule.daysOfMonth||[],l];return k(v({},C),{schedule:k(v({},C.schedule),{daysOfMonth:W})})}),N(C=>k(v({},C),{daysOfMonth:!1}))},children:l},l)})}),s.daysOfMonth&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.daysOfMonth})]}),n.schedule.type==="custom"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Dates"}),e.jsx("div",{className:s.customDates?"border-2 border-red-500 rounded-lg":"",children:e.jsx(za,{value:n.schedule.customDates,onChange:l=>{d(k(v({},n),{schedule:k(v({},n.schedule),{customDates:l,daysOfWeek:[],daysOfMonth:[]})})),N(m=>k(v({},m),{customDates:!1}))},multiple:!0,format:"YYYY-MM-DD",className:"w-full",inputClass:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"})}),s.customDates&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.customDates})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Blogs"}),e.jsx("input",{type:"tel",inputMode:"numeric",name:"numberOfBlogs",min:"1",max:L,value:(Rt=n.blogs.numberOfBlogs)!=null?Rt:"",onChange:et,onWheel:l=>l.currentTarget.blur(),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${s.numberOfBlogs?"border-red-500":"border-gray-200"}`,placeholder:"Enter the number of blogs"}),s.numberOfBlogs&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.numberOfBlogs})]})]})]});case 4:return e.jsxs("div",{children:[e.jsxs("div",{className:"mt-0",children:[[{label:"Add FAQ",name:"includeFaqs",desc:"Include frequently asked questions at the end of the blog."},{label:"Add Competitive Research",name:"includeCompetitorResearch",desc:"Analyze competitors to improve blog quality."},...n.options.includeCompetitorResearch?[{label:"Show Outbound Links",name:"addOutBoundLinks",desc:"Add outbound links, references of other websites"}]:[],{label:"Add InterLinks",name:"includeInterlinks",desc:"Add internal links between your blogs for better SEO."},{label:"Enable Automatic Posting",name:"wordpressPosting",desc:"Automatically post the blog to your connected plugins."},...n.options.wordpressPosting?[{label:"Table of Content",name:"includeTableOfContents",desc:"Display a table of contents for easier navigation."}]:[],{label:"Easy to Understand",name:"easyToUnderstand",desc:" for better accessibility."},{label:"Embed YouTube Videos",name:"embedYouTubeVideos",desc:"Add relevant YouTube videos to your blog content."}].map(({label:l,name:m,desc:C})=>e.jsxs("div",{className:"flex items-start justify-between py-2 mt-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[l,e.jsx("p",{className:"text-xs text-gray-500",children:C})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:n.options[m],onChange:we,name:m}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]},m)),n.options.wordpressPosting&&Object.keys((c==null?void 0:c.integrations)||{}).length>0&&e.jsxs("div",{className:"my-5",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Select Your Publishing Platform",e.jsx("p",{className:"text-xs text-gray-500",children:"Post your blog automatically to connected platforms only."})]}),e.jsx(qr,{className:"w-full mt-2",placeholder:"Select platform",value:r.postingType,onChange:Ee,status:s.postingType?"error":"",children:Object.entries(c.integrations).map(([l,m])=>e.jsx(qe,{value:l,children:l},l))}),s.postingType&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.postingType})]})]}),e.jsx("div",{className:"my-5",children:e.jsx(ia,{label:"Write with Brand Voice",labelClass:"text-sm font-medium text-gray-700",errorText:s.brandId,size:"large",value:{isCheckedBrand:n.blogs.useBrandVoice,brandId:n.blogs.brandId,addCTA:n.blogs.addCTA},onChange:l=>{d(m=>k(v({},m),{blogs:k(v({},m.blogs),{useBrandVoice:l.isCheckedBrand,brandId:l.brandId,addCTA:l.addCTA})})),l.brandId&&N(m=>k(v({},m),{brandId:!1}))}})})]});default:return null}},Ka=({user:a,userPlan:n,isUserLoaded:d})=>{const{showJobModal:r,closeJobModal:i,selectedJob:s}=In(),{selectedKeywords:N,clearSelectedKeywords:j}=Pn(),w={name:"",schedule:{type:"daily",customDates:[],daysOfWeek:[],daysOfMonth:[]},blogs:{numberOfBlogs:1,topics:[],keywords:[],templates:[],tone:"Professional",userDefinedLength:1e3,imageSource:tn.STOCK,aiModel:"gemini",brandId:null,useBrandVoice:!1,isCheckedGeneratedImages:!0,isCheckedCustomImages:!1,addCTA:!0,numberOfImages:0,blogImages:[],postingType:null,languageToWrite:"English",costCutter:!0},options:{wordpressPosting:!1,includeFaqs:!1,includeCompetitorResearch:!1,includeInterlinks:!1,performKeywordResearch:!1,includeTableOfContents:!1,addOutBoundLinks:!1,easyToUnderstand:!1,embedYouTubeVideos:!1},status:"active",templateIds:[]},{mutate:g,isPending:ee}=Ma(),{mutate:he,isPending:T}=Da(),[E,je]=Pe.useState(1),[S,p]=Pe.useState(w),[M,c]=Pe.useState({keywords:w.blogs.keywords||[],keywordInput:"",performKeywordResearch:w.options.performKeywordResearch,aiModel:w.blogs.aiModel,postingType:w.blogs.postingType}),[L,Q]=Pe.useState({}),[Te,Be]=Pe.useState(null),[Ee,Ce]=Pe.useState(null),[Oe,de]=Pe.useState(!1),[we,et]=Pe.useState(!1),Qe=10;Pe.useEffect(()=>{r||(p(Y=>w),c({keywords:[],keywordInput:"",performKeywordResearch:!1,postingType:"WORDPRESS",aiModel:"gemini"}),je(1),Q({}),j())},[r,j]),Pe.useEffect(()=>{s?(c(Y=>{var U,ye,nt,at,vt,Fe,ct;return k(v({},Y),{aiModel:((U=s.blogs)==null?void 0:U.aiModel)||w.blogs.aiModel,performKeywordResearch:(nt=(ye=s.options)==null?void 0:ye.performKeywordResearch)!=null?nt:w.options.performKeywordResearch,keywords:(vt=(at=s.blogs)==null?void 0:at.keywords)!=null?vt:w.blogs.keywords,postingType:((Fe=s.blogs)==null?void 0:Fe.postingType)||w.blogs.postingType,templates:((ct=s.blogs)==null?void 0:ct.templates)||w.blogs.templates})}),p(s)):p(w)},[s]),Pe.useEffect(()=>{let Y=s?v({},s):w,U=[...Y.blogs.topics||[],...(N==null?void 0:N.allKeywords)||[]],ye=[...Y.blogs.keywords||[],...(N==null?void 0:N.focusKeywords)||[],...(N==null?void 0:N.allKeywords)||[]];p(k(v({},Y),{blogs:k(v({},Y.blogs),{topics:[...new Set(U)],keywords:[...new Set(ye)]})})),c(nt=>k(v({},nt),{keywords:[...new Set([...nt.keywords||[],...(N==null?void 0:N.focusKeywords)||[],...(N==null?void 0:N.allKeywords)||[]])]}))},[N,s]),Pe.useEffect(()=>{const Y=[...new Set([...(N==null?void 0:N.focusKeywords)||[],...(N==null?void 0:N.allKeywords)||[]])];Y.length>0&&(c(U=>k(v({},U),{keywords:[...new Set([...U.keywords,...Y])]})),p(U=>k(v({},U),{blogs:k(v({},U.blogs),{keywords:[...new Set([...U.blogs.keywords,...Y])]})})))},[N]);const pt=Y=>{const U={};return(Y===1||Y==="all")&&S.blogs.templates.length===0&&(U.templates="Please select at least one template."),(Y===2||Y==="all")&&(S.name||(U.name="Please enter a job name."),S.blogs.topics.length===0&&(U.topics="Please add at least one topic."),S.blogs.tone||(U.tone="Please select a tone."),!M.performKeywordResearch&&M.keywords.length===0&&(U.keywords="Please add at least one keyword or enable keyword research.")),(Y===3||Y==="all")&&((S.blogs.numberOfBlogs<1||S.blogs.numberOfBlogs>Qe)&&(U.numberOfBlogs=`Number of blogs must be between 1 and ${Qe}.`),(S.blogs.numberOfImages<0||S.blogs.numberOfImages>Qe)&&(U.numberOfImages="Number of images must be between 0 and 20."),S.blogs.useBrandVoice&&!S.blogs.brandId&&(U.brandId="Please select a brand voice."),S.schedule.type==="weekly"&&S.schedule.daysOfWeek.length===0&&(U.daysOfWeek="Please select at least one day of the week."),S.schedule.type==="monthly"&&S.schedule.daysOfMonth.length===0&&(U.daysOfMonth="Please select at least one day of the month."),S.schedule.type==="custom"&&S.schedule.customDates.length===0&&(U.customDates="Please select at least one custom date."),S.blogs.isCheckedGeneratedImages&&!S.blogs.imageSource&&(U.imageSource="Please select an image source.")),(Y===4||Y==="all")&&S.options.wordpressPosting&&!M.postingType&&(U.postingType="Please select a posting platform."),Q(U),Object.keys(U).length===0},Tt=()=>{i(),p(w),c({keywords:[],keywordInput:"",performKeywordResearch:!1,postingType:"WORDPRESS",aiModel:"gemini"}),je(1),Q({}),j()},Ct=()=>or(null,null,function*(){if(!pt("all"))return;const Y=k(v({},S),{blogs:k(v({},S.blogs),{keywords:M.keywords,aiModel:M.aiModel,postingType:M.postingType,imageSource:S.blogs.isCheckedGeneratedImages?S.blogs.imageSource:tn.NONE,brandId:S.blogs.useBrandVoice&&S.blogs.brandId?S.blogs.brandId:null}),options:k(v({},S.options),{performKeywordResearch:M.performKeywordResearch,brandId:S.blogs.useBrandVoice?S.blogs.brandId:null})}),U=bn(Y);g(U,{onSuccess:()=>{Tt()}})}),Ot=Y=>or(null,null,function*(){if(!d){He.error("User data is still loading. Please try again.");return}if(!pt("all"))return;const U=k(v({},S),{blogs:k(v({},S.blogs),{keywords:M.keywords,aiModel:M.aiModel,postingType:M.postingType,imageSource:S.blogs.isCheckedGeneratedImages?S.blogs.imageSource:tn.NONE,brandId:S.blogs.useBrandVoice&&S.blogs.brandId?S.blogs.brandId:null}),options:k(v({},S.options),{performKeywordResearch:M.performKeywordResearch,brandId:S.blogs.useBrandVoice?S.blogs.brandId:null})}),ye=bn(U);he({jobId:Y,jobPayload:ye},{onSuccess:()=>{Tt()}})}),xt=[E>1&&e.jsx("button",{onClick:()=>je(E-1),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg mr-3 hover:bg-gray-300","aria-label":"Previous step",children:"Previous"},"previous"),E<3&&e.jsx("button",{onClick:()=>{pt(E)&&je(E+1)},className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90","aria-label":"Next step",children:"Next"},"next"),E===3&&e.jsx("button",{onClick:()=>{pt(E)&&je(4)},className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90","aria-label":"Next step",children:"Next"},"next-step-4"),E===4&&e.jsx("button",{onClick:s?()=>Ot(s._id):Ct,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90","aria-label":s?"Update job":"Create job",disabled:ee||T,children:ee||T?"Processing...":s?"Update Job":"Create Job"},"submit")];return e.jsx(ra,{title:`Step ${E}: ${E===1?"Select Templates":E===2?"Job Details":E===3?"Schedule Settings":"Blog Options"}`,open:r,onCancel:()=>{i()},footer:xt,width:800,centered:!0,className:"custom-modal",children:e.jsx("div",{className:"p-2 md:p-4 max-h-[80vh] overflow-y-auto",children:e.jsx(_a,{currentStep:E,newJob:S,setNewJob:p,formData:M,setFormData:c,errors:L,setErrors:Q,recentlyUploadedTopicsCount:Te,setRecentlyUploadedTopicsCount:Be,recentlyUploadedKeywordsCount:Ee,setRecentlyUploadedKeywordsCount:Ce,showAllTopics:Oe,setShowAllTopics:de,showAllKeywords:we,setShowAllKeywords:et,user:a,userPlan:n})})})},Ua=Pe.memo(({job:a,setCurrentPage:n,paginatedJobs:d,onEdit:r})=>{var M,c,L,Q,Te,Be,Ee,Ce,Oe;Er();const{handlePopup:i}=Dn(),[s,N]=Pe.useState(!1),j=a.status==="active",{mutate:w,isPending:g}=Yn(),{mutate:ee}=Ln(),he=de=>{de.stopPropagation(),w({jobId:a._id,currentStatus:a.status})},T=de=>{ee(de,{onSuccess:()=>{d.length===1&&n&&n(we=>Math.max(1,we-1))}})},E=de=>{if(de.stopPropagation(),a.status==="active"){He.warning("Please pause the job before editing.");return}r(a)},je=de=>de?new Date(de).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"}):"N/A",p=(de=>{if(!de)return[];const we={wordpressPosting:"WordPress Posting",includeFaqs:"FAQs",includeCompetitorResearch:"Comp. Research",includeInterlinks:"Interlinks",performKeywordResearch:"Keyword Research",includeTableOfContents:"TOC",addOutBoundLinks:"Outbound Links",embedYouTubeVideos:"YouTube Emb.",easyToUnderstand:"Simple Style"};return Object.entries(de).filter(([et,Qe])=>Qe===!0&&we[et]).map(([et])=>we[et])})(a.options);return e.jsxs(Ir.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-2xl border border-slate-200 p-6 flex flex-col hover:shadow-xl transition-all duration-300 relative",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[e.jsx("h3",{className:"font-black text-slate-900 text-xl tracking-tight mb-1 truncate capitalize",children:a.name}),e.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:["ID: ",(a._id||"").toString().slice(-6)]})]}),e.jsx("button",{onClick:he,disabled:g,className:`flex items-center justify-center w-11 h-11 rounded-xl transition-all ${j?"bg-red-500 text-white hover:bg-red-600":"bg-emerald-50 text-emerald-600 hover:bg-emerald-100 border border-emerald-100"}`,title:j?"Stop Job":"Start Job",children:g?e.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}):j?e.jsx(va,{size:16,fill:"currentColor"}):e.jsx(ya,{size:16,fill:"currentColor",className:"ml-0.5"})})]}),e.jsxs("div",{className:"space-y-4 mb-6 pt-4 border-t border-slate-100",children:[((c=(M=a.blogs)==null?void 0:M.topics)==null?void 0:c.length)>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Topics"}),e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[a.blogs.topics.slice(0,5).map((de,we)=>e.jsx("span",{className:"px-2 py-1 bg-slate-50 text-slate-600 text-[11px] font-bold rounded-lg border border-slate-100",children:de},we)),a.blogs.topics.length>5&&e.jsxs("span",{className:"text-[11px] font-black text-indigo-600 ml-1",children:["+",a.blogs.topics.length-5]})]})]}),((Q=(L=a.blogs)==null?void 0:L.keywords)==null?void 0:Q.length)>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Focus Keywords"}),e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[a.blogs.keywords.slice(0,5).map((de,we)=>e.jsx("span",{className:"px-2 py-1 bg-indigo-50/50 text-indigo-700 text-[11px] font-bold rounded-lg border border-indigo-100/50",children:de},we)),a.blogs.keywords.length>5&&e.jsxs("span",{className:"text-[11px] font-black text-indigo-600 ml-1",children:["+",a.blogs.keywords.length-5]})]})]}),p.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Active Settings"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:p.map((de,we)=>e.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-500 rounded text-[10px] font-bold border border-slate-200",children:de},we))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 pb-4 border-b border-slate-100",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Intelligence"}),e.jsxs("span",{className:"text-xs font-bold text-slate-900 truncate uppercase tracking-tight",children:[(Te=a.blogs)==null?void 0:Te.aiModel," / ",(Be=a.blogs)==null?void 0:Be.languageToWrite]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Schedule"}),e.jsxs("span",{className:"text-xs font-bold text-slate-900 truncate capitalize tracking-tight",children:[(Ee=a.schedule)==null?void 0:Ee.type," (",(Ce=a.blogs)==null?void 0:Ce.numberOfBlogs,")"]})]}),e.jsxs("div",{className:"flex flex-col col-span-2 mt-2",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Last Run"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(la,{size:14,className:"text-slate-400"}),e.jsx("span",{className:"text-xs font-bold text-slate-700",children:je(a.lastRun)})]})]})]}),e.jsxs("div",{className:"mt-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${j?"bg-emerald-500":"bg-slate-300"}`}),e.jsx("span",{className:`text-[11px] font-black uppercase tracking-widest ${j?"text-emerald-600":"text-slate-400"}`,children:j?"Running":"Stopped"})]}),e.jsxs("div",{className:"text-[11px] font-bold text-slate-700 bg-slate-100 px-2 py-1 rounded-lg",children:[((Oe=a==null?void 0:a.createdBlogs)==null?void 0:Oe.length)||0," GENERATED"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:E,className:"flex items-center justify-center gap-2 py-3 rounded-xl text-sm font-bold text-slate-700 hover:bg-slate-100 transition-colors border border-slate-200",children:"Edit Job"}),e.jsx("button",{onClick:()=>i({title:"Delete Job",description:"Are you sure you want to delete this job?",confirmText:"Delete",onConfirm:()=>T(a._id),confirmProps:{danger:!0}}),className:"flex items-center justify-center gap-2 py-3 rounded-xl text-sm font-bold text-rose-600 hover:bg-rose-50 transition-colors border border-rose-100",children:"Delete"})]})]})]})}),Ur=12,qa=({data:a,onEdit:n,onToggleStatus:d,onDelete:r,isToggling:i})=>{const s=w=>{if(!w)return[];const g={wordpressPosting:"WordPress",includeFaqs:"FAQs",includeCompetitorResearch:"Competitor",includeInterlinks:"Interlinks",performKeywordResearch:"Keywords",includeTableOfContents:"TOC",addOutBoundLinks:"Outbound",embedYouTubeVideos:"YouTube",easyToUnderstand:"Simple"};return Object.entries(w).filter(([ee,he])=>he===!0&&g[ee]).map(([ee])=>g[ee])},N=(w,g=3)=>{if(!w||w.length===0)return e.jsx("span",{className:"text-slate-300",children:"-"});const ee=w.slice(0,g),he=w.length-g;return e.jsxs("div",{className:"flex flex-wrap gap-1",children:[ee.map((T,E)=>e.jsx("span",{className:"px-2 py-0.5 bg-slate-50 text-slate-600 rounded-md text-[10px] font-medium border border-slate-100 whitespace-nowrap",children:T},E)),he>0&&e.jsxs("span",{className:"text-[10px] font-bold text-indigo-500 bg-indigo-50 px-1.5 py-0.5 rounded-md border border-indigo-100",children:["+",he]})]})},j=w=>{if(!w)return e.jsx("span",{className:"text-slate-300 italic text-[11px]",children:"Never run"});try{const g=new Date(w);return e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:g.toLocaleDateString(void 0,{month:"short",day:"numeric"})}),e.jsx("span",{className:"text-[10px] text-slate-400",children:g.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})})]})}catch(g){return e.jsx("span",{className:"text-slate-300",children:"-"})}};return e.jsx("div",{className:"overflow-hidden bg-white rounded-2xl border border-slate-200 shadow-sm ring-1 ring-slate-100",children:e.jsxs("table",{className:"w-full text-left border-collapse min-w-[1000px]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/80 border-b border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Job Details"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Intelligence"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Last Run"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Schedule"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Topics"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Config"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:a.map(w=>{var g,ee,he,T,E,je,S,p;return e.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-50 text-indigo-600 flex items-center justify-center flex-shrink-0",children:e.jsx(En,{size:18})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900 text-sm",children:w.name}),e.jsxs("div",{className:"text-[10px] text-slate-400 font-mono mt-0.5 uppercase tracking-wider",children:["ID: ",(g=w._id)==null?void 0:g.toString().slice(-6)]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col items-start gap-1.5",children:[e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-slate-100 text-slate-600 border border-slate-200",children:((he=(ee=w.blogs)==null?void 0:ee.aiModel)==null?void 0:he.toUpperCase())||"AI"}),e.jsx("span",{className:"text-[11px] text-slate-500 font-medium pl-0.5",children:(T=w.blogs)==null?void 0:T.languageToWrite})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex flex-col items-start gap-1",children:e.jsx("button",{onClick:()=>d(w),disabled:i,className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider transition-all border ${w.status==="active"?"bg-emerald-50 text-emerald-600 border-emerald-200 hover:bg-emerald-100":"bg-slate-100 text-slate-500 border-slate-200 hover:bg-slate-200"}`,children:w.status==="active"?"Running":"Paused"})})}),e.jsx("td",{className:"px-6 py-4",children:j(w.lastRun)}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold text-slate-700 capitalize",children:((E=w.schedule)==null?void 0:E.type)||"Manual"}),e.jsxs("span",{className:"text-xs text-slate-400 font-medium",children:[(je=w.blogs)==null?void 0:je.numberOfBlogs," ",((S=w.blogs)==null?void 0:S.numberOfBlogs)===1?"blog":"blogs","/day"]})]})}),e.jsx("td",{className:"px-6 py-4 max-w-[200px]",children:N((p=w.blogs)==null?void 0:p.topics,2)}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1 max-w-[200px]",children:[s(w.options).length>0?s(w.options).slice(0,3).map((M,c)=>e.jsx("span",{className:"px-1.5 py-0.5 bg-white text-slate-500 rounded text-[10px] font-medium border border-slate-200 shadow-xs",children:M},c)):e.jsx("span",{className:"text-slate-300 text-[10px]",children:"Basic"}),s(w.options).length>3&&e.jsx("span",{className:"text-[10px] text-slate-400 px-1",children:"+More"})]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>n(w),className:"p-2.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Edit Job",children:e.jsx(fa,{size:18})}),e.jsx("button",{onClick:()=>r(w),className:"p-2.5 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",title:"Delete Job",children:e.jsx(ha,{size:18})})]})})]},w._id)})})]})})},Ts=()=>{var Tt,Ct,Ot,xt;const a=Mn(),n=Er(),{handlePopup:d}=Dn(),r=In(Y=>Y.openJobModal),[i,s]=Pe.useState(""),[N,j]=Pe.useState(()=>localStorage.getItem("jobs_view_mode")||"grid");Pe.useEffect(()=>{localStorage.setItem("jobs_view_mode",N)},[N]);const{mutate:w,isPending:g}=Yn(),{mutate:ee,isPending:he}=Ln();Pn(Y=>Y.selectedKeywords);const T=ea(Y=>Y.user),E=((T==null?void 0:T.plan)||((Tt=T==null?void 0:T.subscription)==null?void 0:Tt.plan)||"free").toLowerCase(),[je,S]=Pe.useState(1),[p,M]=Pe.useState(!1),c=((Ct=T==null?void 0:T.usage)==null?void 0:Ct.createdJobs)||0,L=((Ot=T==null?void 0:T.usageLimits)==null?void 0:Ot.createdJobs)||0;(xt=T==null?void 0:T.credits)!=null&&xt.base;const{data:Q=[],isLoading:Te,refetch:Be}=Oa(!!T);Pe.useEffect(()=>{const Y=da();if(!Y||!T)return;const U=(ye,nt)=>{var at;((ye==null?void 0:ye.status)==="stop"||(ye==null?void 0:ye.status)==="stopped")&&((at=ye==null?void 0:ye.reason)!=null&&at.toLowerCase().includes("insufficient credits"))&&He.error({content:e.jsxs("div",{className:"text-left",children:[e.jsx("strong",{className:"block",children:"Job Stopped: Insufficient Credits"}),e.jsx("p",{className:"text-xs mt-1 text-slate-500",children:"You don't have enough credits to continue this job."}),e.jsxs("button",{onClick:()=>a("/pricing"),className:"mt-2 text-indigo-600 font-bold text-xs hover:underline flex items-center gap-1",children:["Add Credits ",e.jsx(yn,{size:12})]})]}),duration:10}),n.invalidateQueries({queryKey:["jobs",T.id]})};return Y.on("job:statusChanged",ye=>U(ye)),Y.on("job:updated",ye=>U(ye)),Y.on("job:created",ye=>U(ye)),Y.on("job:deleted",ye=>U(ye)),()=>{Y.off("job:statusChanged"),Y.off("job:updated"),Y.off("job:created"),Y.off("job:deleted")}},[n,T,a]),Pe.useEffect(()=>{T?M(!!(T!=null&&T.name||T!=null&&T.credits)):(n.removeQueries({queryKey:["jobs"]}),S(1),M(!1))},[T,n]);const Ee=Pe.useCallback(()=>c>=L?(on({featureName:"Additional Jobs",navigate:a}),!1):!0,[c,L,a]),Ce=Pe.useCallback(()=>{Ee()&&r(null)},[Ee,r]),Oe=Pe.useCallback(Y=>{r(Y)},[r]),de=()=>{Be(),He.success("Jobs list refreshed")},we=Pe.useMemo(()=>Q.filter(Y=>{var U,ye;return((U=Y.name)==null?void 0:U.toLowerCase().includes(i.toLowerCase()))||((ye=Y._id)==null?void 0:ye.toString().includes(i))}),[Q,i]),et=Pe.useMemo(()=>{const Y=(je-1)*Ur;return we.slice(Y,Y+Ur)},[we,je]),Qe=Math.ceil(we.length/Ur),pt=Math.min(100,Math.round(c/L*100));return E==="free"?e.jsx(sa,{featureName:"Content Agent"}):e.jsxs(e.Fragment,{children:[e.jsx(Xn,{children:e.jsx("title",{children:"Automation Jobs | GenWrite"})}),e.jsxs("div",{className:"p-4 md:p-6 lg:p-10 max-w-[1700px] mx-auto",children:[e.jsx("header",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 pb-6 border-b border-slate-200",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Automation Jobs"}),e.jsx("p",{className:"text-slate-500 text-base font-medium",children:"Create and manage your automated content generation pipelines."})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"flex items-center bg-slate-100 p-1.5 rounded-xl mr-2",children:[e.jsx("button",{onClick:()=>j("grid"),className:`p-3 rounded-lg transition-all ${N==="grid"?"bg-white text-indigo-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,title:"Grid View",children:e.jsx(ga,{size:20})}),e.jsx("button",{onClick:()=>j("list"),className:`p-3 rounded-lg transition-all ${N==="list"?"bg-white text-indigo-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,title:"List View",children:e.jsx(ca,{size:20})})]}),e.jsxs("button",{onClick:de,disabled:Te,className:"flex items-center gap-2 bg-white border border-slate-200 hover:bg-slate-50 text-slate-700 px-6 py-3 rounded-xl font-bold text-sm transition-all shadow-sm cursor-pointer",children:[e.jsx(ua,{size:18,className:`${Te?"animate-spin":""} text-slate-400`}),"Refresh"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-10",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 flex flex-col justify-between shadow-sm lg:col-span-2",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Your Usage Overview"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Monthly active job limits."})]})}),e.jsx("div",{className:"grid grid-cols-1 mt-2",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 text-blue-500 flex items-center justify-center border border-blue-100",children:e.jsx(En,{size:24,strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("span",{className:"text-xl font-black text-slate-900",children:[c," ",e.jsxs("span",{className:"text-base text-slate-400 font-medium",children:["/ ",L]})]}),e.jsxs("span",{className:"text-xs font-bold text-slate-500",children:[pt,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${pt>90?"bg-rose-500":"bg-blue-500"}`,style:{width:`${pt}%`}})}),e.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wide mt-1",children:"Jobs Created"})]})]})})]}),e.jsxs("button",{onClick:Ce,disabled:c>=L,className:`group relative overflow-hidden rounded-2xl p-6 text-left transition-all duration-300 border-2 cursor-pointer ${c>=L?"bg-slate-50 border-slate-200 cursor-not-allowed opacity-80":"bg-indigo-600 border-indigo-600 hover:bg-indigo-700 hover:border-indigo-700 hover:shadow-xl hover:shadow-indigo-200"}`,children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 transform translate-x-4 -translate-y-4 group-hover:scale-110 transition-transform duration-500",children:e.jsx(yn,{size:140,fill:"currentColor"})}),e.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 text-white flex items-center justify-center mb-4 backdrop-blur-sm shadow-inner",children:e.jsx(ln,{size:24,strokeWidth:3})}),e.jsx("h3",{className:`text-xl font-black mb-2 ${c>=L?"text-slate-400":"text-white"}`,children:"Create New Job"}),e.jsx("p",{className:`text-sm font-medium max-w-[240px] leading-relaxed ${c>=L?"text-slate-400":"text-indigo-100"}`,children:"Setup a new automated content pipeline for your strategy."})]}),c>=L&&e.jsxs("div",{className:"flex items-center gap-2 text-rose-600 text-xs font-bold bg-white px-3 py-1.5 rounded-lg w-max mt-4 shadow-sm",children:[e.jsx(sn,{size:14})," Limit Reached"]})]})]})]}),e.jsx(Zn,{children:c>=L&&e.jsx(Ir.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 bg-amber-50 border border-amber-200 p-4 rounded-3xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-100 text-amber-600 flex items-center justify-center flex-shrink-0",children:e.jsx(sn,{size:24})}),e.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[e.jsx("h4",{className:"font-bold text-amber-900",children:"Job Creation Limit Reached"}),e.jsxs("p",{className:"text-amber-700 text-sm",children:["You've used ",e.jsx("span",{className:"font-black",children:c})," of your"," ",e.jsx("span",{className:"font-black",children:L})," job slots. Consider upgrading for more."]})]}),e.jsx("button",{onClick:()=>a("/pricing"),className:"bg-amber-600 hover:bg-amber-700 text-white px-6 py-2.5 rounded-2xl font-bold text-xs transition-colors shadow-lg shadow-amber-600/20 whitespace-nowrap cursor-pointer",children:"Upgrade Now"})]})})}),Te?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(Ur)].map((Y,U)=>e.jsx(aa,{className:"rounded-2xl h-[300px]"},U))}):we.length===0&&i?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-100 text-slate-400 rounded-full flex items-center justify-center mb-4",children:e.jsx(ma,{size:32})}),e.jsx("h3",{className:"font-bold text-slate-900 text-lg",children:"No Results Found"}),e.jsxs("p",{className:"text-slate-500 text-sm",children:[`We couldn't find any jobs matching "`,i,'"']}),e.jsx("button",{onClick:()=>s(""),className:"mt-4 text-indigo-600 font-bold text-sm hover:underline",children:"Clear Search"})]}):N==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:et.map(Y=>e.jsx(Ua,{job:Y,setCurrentPage:S,paginatedJobs:et,onEdit:Oe},Y._id))}):e.jsx(qa,{data:et,onEdit:Oe,isToggling:g,isDeleting:he,onToggleStatus:Y=>{w({jobId:Y._id,currentStatus:Y.status})},onDelete:Y=>{d({title:"Delete Job",description:`Are you sure you want to delete "${Y.name}"?`,confirmText:"Delete",onConfirm:()=>ee(Y._id),confirmProps:{danger:!0}})}}),Qe>1&&e.jsx("div",{className:"flex justify-center mt-12 bg-white/50 p-4 rounded-3xl border border-slate-100 shadow-sm backdrop-blur-sm",children:e.jsx(na,{current:je,pageSize:Ur,total:we.length,onChange:S,showSizeChanger:!1,responsive:!0,className:"jobs-pagination"})}),e.jsx(Ka,{user:T,userPlan:E,isUserLoaded:p})]}),e.jsx("style",{jsx:!0,global:!0,children:`
        .jobs-pagination .ant-pagination-item {
          border-radius: 12px;
          border: 1px solid #e2e8f0;
          font-weight: 600;
        }
        .jobs-pagination .ant-pagination-item-active {
          background: #4f46e5;
          border-color: #4f46e5;
        }
        .jobs-pagination .ant-pagination-item-active a {
          color: white !important;
        }
        .jobs-pagination .ant-pagination-prev .ant-pagination-item-link,
        .jobs-pagination .ant-pagination-next .ant-pagination-item-link {
          border-radius: 12px;
          border: 1px solid #e2e8f0;
        }
      `})]})};export{Ts as default};
