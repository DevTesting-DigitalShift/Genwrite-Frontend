import{u as Z,a as M,E as K,ac as k,a8 as B,j as e,m as g,D as V,y as W}from"./index-DLrJUxXB.js";import{b as c,R as L}from"./chunk-tiptap-Diw-eXXG.js";import{C as O,D as G,B as H,e as Q,f as X,r as Y}from"./chart-Cc8l8VFj.js";import{c as b}from"./createLucideIcon-C5jW9RxN.js";import{I as ee}from"./image-e10RQTUV.js";import{S as _}from"./index-FXkuxm9X.js";import{T as se}from"./trending-up-DHW81h7M.js";import{F as ae}from"./file-text-DF9-VUTD.js";import{P as te}from"./progress-BrCdZ2pG.js";import"./Overflow-Cs0EI4O5.js";import"./useIcons-DXaw8wC4.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],re=b("archive",ie);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],ne=b("badge-percent",le);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],ce=b("circle-stop",oe);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],ge=b("cloud-upload",de);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],ue=b("ellipsis",me);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],pe=b("file-plus",he);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],be=b("gauge",xe),I="label";function S(t,s){typeof t=="function"?t(s):t&&(t.current=s)}function ye(t,s){const l=t.options;l&&s&&Object.assign(l,s)}function z(t,s){t.labels=s}function A(t,s){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I;const d=[];t.datasets=s.map(i=>{const o=t.datasets.find(u=>u[l]===i[l]);return!o||!i.data||d.includes(o)?{...i}:(d.push(o),Object.assign(o,i),o)})}function fe(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I;const l={labels:[],datasets:[]};return z(l,t.labels),A(l,t.datasets,s),l}function je(t,s){const{height:l=150,width:d=300,redraw:i=!1,datasetIdKey:o,type:u,data:r,options:h,plugins:N=[],fallbackContent:w,updateMode:j,...y}=t,m=c.useRef(null),n=c.useRef(null),p=()=>{m.current&&(n.current=new O(m.current,{type:u,data:fe(r,o),options:h&&{...h},plugins:N}),S(s,n.current))},x=()=>{S(s,null),n.current&&(n.current.destroy(),n.current=null)};return c.useEffect(()=>{!i&&n.current&&h&&ye(n.current,h)},[i,h]),c.useEffect(()=>{!i&&n.current&&z(n.current.config.data,r.labels)},[i,r.labels]),c.useEffect(()=>{!i&&n.current&&r.datasets&&A(n.current.config.data,r.datasets,o)},[i,r.datasets]),c.useEffect(()=>{n.current&&(i?(x(),setTimeout(p)):n.current.update(j))},[i,h,r.labels,r.datasets,j]),c.useEffect(()=>{n.current&&(x(),setTimeout(p))},[u]),c.useEffect(()=>(p(),()=>x()),[]),L.createElement("canvas",{ref:m,role:"img",height:l,width:d,...y},w)}const ve=c.forwardRef(je);function v(t,s){return O.register(s),c.forwardRef((l,d)=>L.createElement(ve,{...l,ref:d,type:t}))}const Ne=v("line",Q),we=v("bar",H),ke=v("doughnut",G),Be=v("pie",X);O.register(...Y);const{Option:C}=_,E=({title:t,value:s,icon:l,iconBg:d,cardBg:i,ringColor:o,progress:u,limit:r})=>e.jsx(g.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`
      group relative ${i} p-4 rounded-xl border border-gray-200
      shadow-sm hover:shadow-md transition-all duration-300
      hover:ring-1 hover:ring-offset-2 ${o}
      text-gray-900 border-gray-200
    `,children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-semibold",children:t}),e.jsx("div",{className:`p-2 rounded-md ${d} shadow-md`,children:l})]}),e.jsxs("p",{className:"text-3xl font-bold",children:[s,r?` / ${r}`:""]}),u!==void 0&&r!==void 0&&e.jsxs("div",{className:"mt-2",children:[e.jsx(te,{percent:Math.min(s/r*100,100),size:"small",status:s>=r?"exception":s/r>.8?"warning":"normal",showInfo:!1,strokeColor:s>=r?"#ef4444":s/r>.8?"#f59e0b":"#10b981"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Math.round(s/r*100),"% of limit used"]})]})]})}),Ce=({title:t,children:s,className:l=""})=>e.jsxs("div",{className:`rounded-2xl p-6 shadow-sm border transition-all duration-300
      bg-white border-gray-100 text-gray-900
      hover:shadow-lg ${l}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:t}),e.jsx("button",{className:"p-2 rounded-lg transition-colors hover:bg-gray-50","aria-label":"More options",children:e.jsx(ue,{className:"w-5 h-5 text-gray-400"})})]}),e.jsx("div",{className:"h-80",children:s})]}),Pe=()=>{const t=Z(),{blogStatus:s,loading:l,error:d}=M(a=>a.blog),i=M(K),[o,u]=c.useState("30days");c.useEffect(()=>{t(k()),t(B())},[t]);const r=(s==null?void 0:s.stats)||{},{totalBlogs:h=0,postedBlogs:N=0,archivedBlogs:w=0,brandedBlogs:j=0,blogsByModel:y={},blogsByStatus:m={},imageSources:n={},templatesUsed:p={}}=r,x=(i==null?void 0:i.usage)||{createdJobs:0,aiImages:0},R=(i==null?void 0:i.usageLimits)||{createdJobs:10,aiImages:50},f={maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{font:{size:12},padding:20,color:"#6b7280"}},tooltip:{backgroundColor:"white",titleColor:"#1f2937",bodyColor:"#1f2937",borderColor:"#e5e7eb",borderWidth:1,cornerRadius:12}},scales:{x:{ticks:{font:{size:12},color:"#6b7280"}},y:{ticks:{font:{size:12},color:"#6b7280"},beginAtZero:!0}}},$={...f,scales:{x:{ticks:{font:{size:12},color:"#6b7280",maxRotation:45,minRotation:45}},y:{ticks:{font:{size:12},color:"#6b7280",stepSize:1},beginAtZero:!0}}},P={...f,plugins:{...f.plugins,legend:{display:!1}},scales:{x:{ticks:{font:{size:12},color:"#6b7280",maxRotation:45,minRotation:45}},y:{ticks:{font:{size:12},color:"#6b7280",stepSize:1},beginAtZero:!0}}},T=[{title:"Blogs by Model",type:"Pie",data:{labels:Object.keys(y).length?Object.keys(y):["No Data"],datasets:[{data:Object.keys(y).length?Object.values(y):[1],backgroundColor:["#3B82F6","#10B981","#F59E0B","#6B7280"],hoverOffset:20,borderColor:"#ffffff"}]}},{title:"Image Sources",type:"Doughnut",data:{labels:Object.keys(n).length?Object.keys(n):["No Data"],datasets:[{data:Object.keys(n).length?Object.values(n):[1],backgroundColor:["#10B981","#F59E0B","#EF4444"],hoverOffset:20,borderColor:"#ffffff"}]}},{title:"Blogs by Status",type:"Bar",data:{labels:Object.keys(m).length?Object.keys(m):["No Data"],datasets:[{label:"Blogs by Status",data:Object.keys(m).length?Object.values(m):[0],backgroundColor:Object.keys(m).length?Object.keys(m).map(a=>{switch(a.toLowerCase()){case"pending":return"#facc15";case"complete":return"#22c55e";case"failed":return"#ef4444";case"in-progress":return"#a78bfa";default:return"#6b7280"}}):["#9ca3af"],borderColor:"#e5e7eb",borderWidth:1}]}},{title:"Templates Used",type:"Line",data:{labels:Object.keys(p).length?Object.keys(p):["No Data"],datasets:[{label:"Templates Used",data:Object.keys(p).length?Object.values(p):[0],borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4,fill:!0}]}}],F=[{title:"Total Blogs",value:h,icon:e.jsx(ae,{className:"w-5 h-5 text-white"}),iconBg:"bg-blue-500",cardBg:"bg-blue-50",ringColor:"ring-blue-200"},{title:"Posted Blogs",value:N,icon:e.jsx(ge,{className:"w-5 h-5 text-white"}),iconBg:"bg-green-500",cardBg:"bg-green-50",ringColor:"ring-green-200"},{title:"Archived Blogs",value:w,icon:e.jsx(re,{className:"w-5 h-5 text-white"}),iconBg:"bg-yellow-500",cardBg:"bg-yellow-50",ringColor:"ring-yellow-200"},{title:"Branded Blogs",value:j,icon:e.jsx(ne,{className:"w-5 h-5 text-white"}),iconBg:"bg-pink-500",cardBg:"bg-pink-50",ringColor:"ring-pink-200"}],U=[{title:"Created Jobs",value:x.createdJobs,limit:R.createdJobs,progress:x.createdJobs,icon:e.jsx(pe,{className:"w-5 h-5 text-white"}),iconBg:"bg-purple-500",cardBg:"bg-purple-50",ringColor:"ring-purple-200"},{title:"AI Images",value:x.aiImages,limit:R.aiImages,progress:x.aiImages,icon:e.jsx(ee,{className:"w-5 h-5 text-white"}),iconBg:"bg-teal-500",cardBg:"bg-teal-50",ringColor:"ring-teal-200"}],q=a=>{u(a),t(k()),t(B()),W.success(`Data refreshed for ${a}`)},J=()=>{t(k()),t(B())};return e.jsx("div",{className:"min-h-screen transition-colors duration-300 bg-gray-50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Blog Analytics"}),e.jsx("p",{className:"text-sm mt-1 text-gray-600",children:"Track your blog performance and engagement metrics"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(_,{value:o,onChange:q,className:"w-40","aria-label":"Select time range",children:[e.jsx(C,{value:"7days",children:"Last 7 Days"}),e.jsx(C,{value:"30days",children:"Last 30 Days"}),e.jsx(C,{value:"90days",children:"Last 90 Days"})]})})]}),l||!i?e.jsx(Oe,{}):d?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("p",{className:"text-lg text-red-500",children:["Error: ",d||"Failed to load analytics data"]}),e.jsx(V,{onClick:J,className:"mt-4 bg-blue-600 text-white","aria-label":"Retry loading data",children:"Retry"})]}):e.jsxs(e.Fragment,{children:[e.jsx(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-600 flex items-center justify-center",children:e.jsx(se,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Blog Statistics"})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:F.map((a,D)=>e.jsx(E,{title:a.title,value:a.value,icon:a.icon,iconBg:a.iconBg,cardBg:a.cardBg,ringColor:a.ringColor,progress:a.progress,limit:a.limit},a.title))}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center",children:e.jsx(be,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Usage & Limit"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6 mb-8",children:U.map((a,D)=>e.jsx(E,{title:a.title,value:a.value,icon:a.icon,iconBg:a.iconBg,cardBg:a.cardBg,ringColor:a.ringColor,progress:a.progress,limit:a.limit},a.title))}),e.jsx(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-600 flex items-center justify-center",children:e.jsx(ce,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analytics Charts"})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:T.map((a,D)=>e.jsxs(Ce,{title:a.title,children:[a.type==="Pie"&&e.jsx(Be,{data:a.data,options:f}),a.type==="Doughnut"&&e.jsx(ke,{data:a.data,options:f}),a.type==="Bar"&&e.jsx(we,{data:a.data,options:$}),a.type==="Line"&&e.jsx(Ne,{data:a.data,options:P})]},a.title))}),e.jsx("div",{className:"mt-12 text-center text-sm text-gray-500",children:e.jsxs("p",{children:["Last updated: ",new Date().toLocaleString()]})})]})]})})},Oe=()=>e.jsxs("div",{className:"p-6",children:[e.jsxs(g.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("div",{className:"h-8 w-64 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-4 w-48 bg-gray-200 rounded mt-2 animate-pulse"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("div",{className:"h-10 w-40 bg-gray-200 rounded animate-pulse"})})]}),e.jsx(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse"})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((t,s)=>e.jsxs(g.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:s*.1},className:"p-4 rounded-xl border border-gray-200 bg-gray-50 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-md animate-pulse"})]}),e.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded animate-pulse"})]},s))}),e.jsx(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse"})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6 mb-8",children:[...Array(2)].map((t,s)=>e.jsxs(g.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:s*.1},className:"p-4 rounded-xl border border-gray-200 bg-gray-50 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-md animate-pulse"})]}),e.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full animate-pulse"}),e.jsx("div",{className:"h-3 w-16 bg-gray-200 rounded mt-1 animate-pulse"})]})]},s))}),e.jsx(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse"})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(4)].map((t,s)=>e.jsxs(g.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:s*.1},className:"rounded-2xl p-6 shadow-sm border bg-white border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"h-5 w-40 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded animate-pulse"})]}),e.jsx("div",{className:"h-80 w-full bg-gray-200 rounded-lg animate-pulse"})]},s))}),e.jsx("div",{className:"mt-12 text-center",children:e.jsx("div",{className:"h-4 w-48 mx-auto bg-gray-200 rounded animate-pulse"})})]});export{Pe as default};
