import{Q as We,S as Ee,U as qe,o as Pe,V as Ie,W as Ue,X as Be,d as Ve,e as Qe,r as Xe,h as re,Y as Ye,Z as Ze,C as Je,$ as es,l as ss,a0 as ts,a1 as rs,I as as,j as e,a2 as te,y as O,a as se,u as ae,a3 as ns,a4 as ls,T as oe,J as he,G as xe,m as G,a5 as os,a6 as is,a7 as je,a8 as Te,a9 as De,D as Le,aa as de,ab as cs,E as ds,ac as ms,H as hs,A as be,K as Me,ad as $e,ae as xs,af as us}from"./index-DLrJUxXB.js";import{b as j}from"./chunk-tiptap-Diw-eXXG.js";import{C as Ne,p as fe}from"./templates-CQPgN-gR.js";import{P as ie}from"./plus-CyxAP8n0.js";import{S as gs}from"./index-zcaSWCim.js";import{R as ps}from"./refresh-cw-uvCvSKMp.js";import{S as ze}from"./sparkles-B-mEaFlZ.js";import{S as me}from"./index-FXkuxm9X.js";import{o as ge}from"./UpgardePopUp-C4w7djEc.js";import{C as Ae}from"./crown-CgIJuwts.js";import{T as Oe}from"./triangle-alert-BGpy7GMR.js";import{X as le}from"./x-CRSOVgfR.js";import{P as fs}from"./pen-tool-CvOnkxLM.js";import{Z as bs}from"./zap-aeIAaMTM.js";import{c as ce}from"./createLucideIcon-C5jW9RxN.js";import{S as ys}from"./search-D9LAgYQh.js";import{U as js}from"./users-DPOxn49H.js";import{h as ws}from"./moment-C5S46NFB.js";import{A as Ge}from"./arrow-right-BSwhHR0B.js";import{E as vs}from"./eye-CNo1tKaf.js";import{g as ke}from"./getEstimatedCost-B6lBIM45.js";import{I as Ke,U as Fe}from"./upload-Do5G6uA7.js";import{R as Ns,C as ks}from"./CompetitiveAnalysisModal-DFwcLy5e.js";import{F as Ce,T as Cs}from"./index-D_G7sH4X.js";import{I as Ss}from"./index-DJOugIM4.js";import{S as ye,a as pe}from"./SkeletonLoader-D-9JC_vA.js";import{C as Is,A as Bs,L as Ls,a as Ms,b as $s,P as As,p as Ks,c as Fs,d as Es}from"./chart-Cc8l8VFj.js";import{C as Ps}from"./clock-BIXxGrxt.js";import"./Overflow-Cs0EI4O5.js";import"./useIcons-DXaw8wC4.js";import"./LeftOutlined-DSa5ZScd.js";import"./index-BuKrm9Mt.js";import"./EllipsisOutlined-D5glN4X7.js";import"./index-D2nsof2Q.js";import"./progress-BrCdZ2pG.js";import"./Pagination-Dmwlg-dZ.js";import"./Input-Y3iDEfvG.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ds=ce("activity",Ts);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],Os=ce("chart-no-axes-column",zs);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],we=ce("gem",Gs);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],_s=ce("grid-3x3",Rs);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ws=ce("tag",Hs);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],Us=ce("tags",qs);var Vs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},Qs=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],Re=j.forwardRef(function(o,n){var h,s=o.prefixCls,m=s===void 0?"rc-switch":s,C=o.className,L=o.checked,f=o.defaultChecked,g=o.disabled,p=o.loadingIcon,K=o.checkedChildren,N=o.unCheckedChildren,S=o.onClick,d=o.onChange,w=o.onKeyDown,v=We(o,Qs),r=Ee(!1,{value:L,defaultValue:f}),c=qe(r,2),u=c[0],b=c[1];function y(t,F){var i=u;return g||(i=t,b(i),d==null||d(i,F)),i}function D(t){t.which===Be.LEFT?y(!1,t):t.which===Be.RIGHT&&y(!0,t),w==null||w(t)}function E(t){var F=y(!u,t);S==null||S(F,t)}var W=Pe(m,C,(h={},Ie(h,"".concat(m,"-checked"),u),Ie(h,"".concat(m,"-disabled"),g),h));return j.createElement("button",Ue({},v,{type:"button",role:"switch","aria-checked":u,disabled:g,className:W,ref:n,onKeyDown:D,onClick:E}),p,j.createElement("span",{className:"".concat(m,"-inner")},j.createElement("span",{className:"".concat(m,"-inner-checked")},K),j.createElement("span",{className:"".concat(m,"-inner-unchecked")},N)))});Re.displayName="Switch";const Xs=o=>{const{componentCls:n,trackHeightSM:h,trackPadding:s,trackMinWidthSM:m,innerMinMarginSM:C,innerMaxMarginSM:L,handleSizeSM:f,calc:g}=o,p=`${n}-inner`,K=re(g(f).add(g(s).mul(2)).equal()),N=re(g(L).mul(2).equal());return{[n]:{[`&${n}-small`]:{minWidth:m,height:h,lineHeight:re(h),[`${n}-inner`]:{paddingInlineStart:L,paddingInlineEnd:C,[`${p}-checked, ${p}-unchecked`]:{minHeight:h},[`${p}-checked`]:{marginInlineStart:`calc(-100% + ${K} - ${N})`,marginInlineEnd:`calc(100% - ${K} + ${N})`},[`${p}-unchecked`]:{marginTop:g(h).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:f,height:f},[`${n}-loading-icon`]:{top:g(g(f).sub(o.switchLoadingIconSize)).div(2).equal(),fontSize:o.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:C,paddingInlineEnd:L,[`${p}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${p}-unchecked`]:{marginInlineStart:`calc(100% - ${K} + ${N})`,marginInlineEnd:`calc(-100% + ${K} - ${N})`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${re(g(f).add(s).equal())})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${p}`]:{[`${p}-unchecked`]:{marginInlineStart:g(o.marginXXS).div(2).equal(),marginInlineEnd:g(o.marginXXS).mul(-1).div(2).equal()}},[`&${n}-checked ${p}`]:{[`${p}-checked`]:{marginInlineStart:g(o.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:g(o.marginXXS).div(2).equal()}}}}}}},Ys=o=>{const{componentCls:n,handleSize:h,calc:s}=o;return{[n]:{[`${n}-loading-icon${o.iconCls}`]:{position:"relative",top:s(s(h).sub(o.fontSize)).div(2).equal(),color:o.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:o.switchColor}}}},Zs=o=>{const{componentCls:n,trackPadding:h,handleBg:s,handleShadow:m,handleSize:C,calc:L}=o,f=`${n}-handle`;return{[n]:{[f]:{position:"absolute",top:h,insetInlineStart:h,width:C,height:C,transition:`all ${o.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:s,borderRadius:L(C).div(2).equal(),boxShadow:m,transition:`all ${o.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${f}`]:{insetInlineStart:`calc(100% - ${re(L(C).add(h).equal())})`},[`&:not(${n}-disabled):active`]:{[`${f}::before`]:{insetInlineEnd:o.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${f}::before`]:{insetInlineEnd:0,insetInlineStart:o.switchHandleActiveInset}}}}},Js=o=>{const{componentCls:n,trackHeight:h,trackPadding:s,innerMinMargin:m,innerMaxMargin:C,handleSize:L,calc:f}=o,g=`${n}-inner`,p=re(f(L).add(f(s).mul(2)).equal()),K=re(f(C).mul(2).equal());return{[n]:{[g]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:C,paddingInlineEnd:m,transition:`padding-inline-start ${o.switchDuration} ease-in-out, padding-inline-end ${o.switchDuration} ease-in-out`,[`${g}-checked, ${g}-unchecked`]:{display:"block",color:o.colorTextLightSolid,fontSize:o.fontSizeSM,transition:`margin-inline-start ${o.switchDuration} ease-in-out, margin-inline-end ${o.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:h},[`${g}-checked`]:{marginInlineStart:`calc(-100% + ${p} - ${K})`,marginInlineEnd:`calc(100% - ${p} + ${K})`},[`${g}-unchecked`]:{marginTop:f(h).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${g}`]:{paddingInlineStart:m,paddingInlineEnd:C,[`${g}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${g}-unchecked`]:{marginInlineStart:`calc(100% - ${p} + ${K})`,marginInlineEnd:`calc(-100% + ${p} - ${K})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${g}`]:{[`${g}-unchecked`]:{marginInlineStart:f(s).mul(2).equal(),marginInlineEnd:f(s).mul(-1).mul(2).equal()}},[`&${n}-checked ${g}`]:{[`${g}-checked`]:{marginInlineStart:f(s).mul(-1).mul(2).equal(),marginInlineEnd:f(s).mul(2).equal()}}}}}},et=o=>{const{componentCls:n,trackHeight:h,trackMinWidth:s}=o;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Xe(o)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:s,height:h,lineHeight:re(h),verticalAlign:"middle",background:o.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${o.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:o.colorTextTertiary}}),Ye(o)),{[`&${n}-checked`]:{background:o.switchColor,[`&:hover:not(${n}-disabled)`]:{background:o.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:o.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}},st=o=>{const{fontSize:n,lineHeight:h,controlHeight:s,colorWhite:m}=o,C=n*h,L=s/2,f=2,g=C-f*2,p=L-f*2;return{trackHeight:C,trackHeightSM:L,trackMinWidth:g*2+f*4,trackMinWidthSM:p*2+f*2,trackPadding:f,handleBg:m,handleSize:g,handleSizeSM:p,handleShadow:`0 2px 4px 0 ${new Ze("#00230b").setA(.2).toRgbString()}`,innerMinMargin:g/2,innerMaxMargin:g+f+f*2,innerMinMarginSM:p/2,innerMaxMarginSM:p+f+f*2}},tt=Ve("Switch",o=>{const n=Qe(o,{switchDuration:o.motionDurationMid,switchColor:o.colorPrimary,switchDisabledOpacity:o.opacityLoading,switchLoadingIconSize:o.calc(o.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${o.opacityLoading})`,switchHandleActiveInset:"-30%"});return[et(n),Js(n),Zs(n),Ys(n),Xs(n)]},st);var rt=function(o,n){var h={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&n.indexOf(s)<0&&(h[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,s=Object.getOwnPropertySymbols(o);m<s.length;m++)n.indexOf(s[m])<0&&Object.prototype.propertyIsEnumerable.call(o,s[m])&&(h[s[m]]=o[s[m]]);return h};const at=j.forwardRef((o,n)=>{const{prefixCls:h,size:s,disabled:m,loading:C,className:L,rootClassName:f,style:g,checked:p,value:K,defaultChecked:N,defaultValue:S,onChange:d}=o,w=rt(o,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[v,r]=Ee(!1,{value:p??K,defaultValue:N??S}),{getPrefixCls:c,direction:u,switch:b}=j.useContext(Je),y=j.useContext(es),D=(m??y)||C,E=c("switch",h),W=j.createElement("div",{className:`${E}-handle`},C&&j.createElement(rs,{className:`${E}-loading-icon`})),[t,F,i]=tt(E),M=ss(s),z=Pe(b==null?void 0:b.className,{[`${E}-small`]:M==="small",[`${E}-loading`]:C,[`${E}-rtl`]:u==="rtl"},L,f,F,i),P=Object.assign(Object.assign({},b==null?void 0:b.style),g),H=(...a)=>{r(a[0]),d==null||d.apply(void 0,a)};return t(j.createElement(ts,{component:"Switch"},j.createElement(Re,Object.assign({},w,{checked:v,onChange:H,prefixCls:E,className:z,style:P,disabled:D,ref:n,loadingIcon:W}))))}),_e=at;_e.__ANT_SWITCH=!0;function ve(){return ve=Object.assign?Object.assign.bind():function(o){for(var n=1;n<arguments.length;n++){var h=arguments[n];for(var s in h)Object.prototype.hasOwnProperty.call(h,s)&&(o[s]=h[s])}return o},ve.apply(this,arguments)}const nt=(o,n)=>j.createElement(as,ve({},o,{ref:n,icon:Vs})),He=j.forwardRef(nt),lt=({title:o,visible:n,onCancel:h,children:s})=>n?e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e.jsx("div",{className:"modal-overlay absolute inset-0 bg-gray-800 opacity-50"}),e.jsxs("div",{className:"modal-container bgwhi w-96 rounded-lg shadow-lg z-50 overflow-y-auto",children:[e.jsxs("div",{className:"modal-header p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold ",children:o}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:h,children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"modal-content p-4",children:s})]})]}):null,ot=({handleNext:o,handleClose:n,data:h,setData:s})=>{const[m,C]=j.useState(null),[L,f]=j.useState({userDefinedLength:0,tone:"",includeInterlink:!1,includeMetaHeadlines:!1,wordpressStatus:!0,numberOfBlogs:0,postFrequency:0,randomisedFrequency:0,template:[],focusKeywords:[],keywords:[],focusKeywordInput:"",keywordInput:""}),g=[{imgSrc:"./Images/Classic.png",name:"Classic",description:"Timeless elegance for your classic blog journey",author:"Author 1"},{imgSrc:"./Images/Listicle.png",name:"Listicle",description:"Tips for actionable success in list format.",author:"Author 2"},{imgSrc:"./Images/ProductReview.png",name:"Product Review",description:"Product insights: pros, cons, and more.",author:"Author 3"},{imgSrc:"./Images/HowTo.png",name:"How to....",description:"Step-by-step guides for practical how-to solutions.",author:"Author 4"},{imgSrc:"./Images/NewsArticle.png",name:"News Article",description:"Latest updates and breaking news coverage."},{imgSrc:"./Images/OpinionPiece.png",name:"Opinion Piece",description:"Expert insights and analytical perspectives."},{imgSrc:"./Images/CaseStudy.png",name:"Case Study",description:"In-depth analysis and real-world examples."},{imgSrc:"./Images/Interview.png",name:"Interview",description:"Engaging conversations with industry experts."}],p=N=>{C(N),s({...h,template:g[N]}),f({...L,template:[g[N].name]})},K=()=>{if(m!==null){const N=g[m],S={...h,selectedTemplate:N};s(S),o()}else O.error("Please select a template before proceeding.")};return j.useEffect(()=>(open?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[open]),e.jsx(te,{title:"Step 1: Select Template",open:!0,onCancel:n,footer:[e.jsx("button",{onClick:K,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")],centered:!0,width:800,transitionName:"",maskTransitionName:"",children:e.jsx("div",{children:e.jsx("div",{className:"p-3",children:e.jsx(Ne,{children:g.map((N,S)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${L.template.includes(N.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>p(S),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:N.imgSrc||"/placeholder.svg",alt:N.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:N.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:N.description})]})]})},S))})})})})},it=j.memo(ot),{Option:ee}=me,ct=({handleNext:o,handleClose:n,handlePrevious:h,data:s,setData:m})=>{var a;const[C,L]=j.useState((s==null?void 0:s.topic)||""),[f,g]=j.useState(!1),p=18,[K,N]=j.useState(!1),{selectedKeywords:S}=se(l=>l.analysis),d=ae(),[w,v]=j.useState({focusKeywordInput:"",focusKeywords:(S==null?void 0:S.focusKeywords)||[],keywordInput:"",keywords:(S==null?void 0:S.keywords)||[]}),[r,c]=j.useState({title:!1,topic:!1,tone:!1,focusKeyword:!1,focusKeywordInput:"",keyword:!1,keywordInput:""}),[u,b]=j.useState([]),[y,D]=j.useState(!1);j.useEffect(()=>{v(l=>({...l,focusKeywords:(S==null?void 0:S.focusKeywords)||[],keywords:(S==null?void 0:S.keywords)||[]}))},[S]),j.useEffect(()=>{g(!1),b([])},[]),j.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]);const E=l=>{v(A=>({...A,keywordInput:l.target.value}))},W=()=>{const l=w.keywordInput;if(l.trim()!==""){const A=l.split(",").map(k=>k.trim()).filter(k=>k!==""&&!w.keywords.includes(k));A.length>0&&v(k=>({...k,keywords:[...k.keywords,...A],keywordInput:""}))}},t=l=>{v(A=>({...A,focusKeywordInput:l.target.value}))},F=()=>{const l=w.focusKeywordInput;if(l.trim()!==""){const A=l.split(",").map(k=>k.trim()).filter(k=>k!==""&&!w.focusKeywords.includes(k));if(A.length>0){const k=[...w.focusKeywords,...A].slice(0,3);v(I=>({...I,focusKeywords:k,focusKeywordInput:""}))}}},i=(l,A)=>{const k=[...w[A]];k.splice(l,1),v(I=>({...I,[A]:k}))},M=(l,A)=>{l.key==="Enter"&&(l.preventDefault(),A==="focusKeywords"?F():W())},z=l=>{m(A=>({...A,tone:l})),c(A=>({...A,tone:!1}))},P=async()=>{if(!C.trim()||w.keywords.length===0){O.error("Please enter a topic and at least one keyword before generating titles.");return}D(!0);try{const l={keywords:w.keywords,focusKeywords:w.focusKeywords,topic:C,template:"default",...f&&{oldTitles:u}},A=await d(ns(l)).unwrap();b(A),g(!0)}catch{O.error("Failed to generate titles. Please try again.")}finally{D(!1)}},H=()=>{var k;const l={title:!((k=s==null?void 0:s.title)!=null&&k.trim()),topic:!(C!=null&&C.trim()),tone:!(s!=null&&s.tone),focusKeyword:w.focusKeywords.length===0,keyword:w.keywords.length===0};if(c(l),Object.values(l).some(I=>I)){O.error("Please fill in all required fields.");return}const A={...s,topic:C,focusKeywords:w.focusKeywords,keywords:w.keywords};m(A),o()};return j.useEffect(()=>{s&&!s.isCheckedGeneratedImages&&m(l=>({...l,isCheckedGeneratedImages:!0,isUnsplashActive:!0}))},[s,m]),e.jsx(te,{title:"Step 2: Crucial Details",open:!0,onCancel:n,footer:[e.jsx("button",{onClick:h,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Back"},"back"),e.jsx("button",{onClick:H,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Topic ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:`w-full px-3 py-2 bg-gray-50 border ${r.topic?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., Tech Blog",value:C,onChange:l=>{L(l.target.value),c(A=>({...A,topic:!1}))}})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Focus Keywords (up to 3)",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:w.focusKeywordInput,onChange:t,onKeyDown:l=>M(l,"focusKeywords"),className:`flex-1 px-3 py-2 bg-gray-50 border ${r.focusKeyword?"border-red-500":"border-gray-200"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 text-sm`,placeholder:"Enter focus keywords, separated by commas"}),e.jsx("button",{onClick:F,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 text-sm flex items-center",children:e.jsx(ie,{size:16})})]}),w.focusKeywords.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:w.focusKeywords.map((l,A)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[l,e.jsx("button",{onClick:()=>i(A,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},A))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Keywords",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:w.keywordInput,onChange:E,onKeyDown:l=>M(l,"keywords"),className:`flex-1 px-3 py-2 bg-gray-50 border ${r.keyword?"border-red-500":"border-gray-200"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 text-sm`,placeholder:"Enter keywords, separated by commas"}),e.jsx("button",{onClick:W,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 text-sm flex items-center",children:e.jsx(ie,{size:16})})]}),w.keywords.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[(K?w.keywords:w.keywords.slice(0,p)).map((l,A)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[l,e.jsx("button",{onClick:()=>i(A,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:"×"})]},`${l}-${A}`)),w.keywords.length>p&&e.jsx("button",{type:"button",onClick:()=>N(!K),className:"text-xs text-blue-600 underline ml-2 self-center",children:K?"Show less":`+${w.keywords.length-p} more`})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:`flex-1 px-3 py-2 bg-gray-50 border ${r.title?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]`,placeholder:"e.g., How to Create a Tech Blog",value:(s==null?void 0:s.title)||"",onChange:l=>{m(A=>({...A,title:l.target.value})),c(A=>({...A,title:!1}))}}),e.jsx("button",{onClick:P,disabled:y,className:`px-4 py-2 bg-gradient-to-r from-[#1B6FC9] to-[#4C9FE8] text-white rounded-lg flex items-center ${y?"opacity-50 cursor-not-allowed":"hover:from-[#1B6FC9]/90 hover:to-[#4C9FE8]/90"}`,children:y?e.jsx(gs,{size:"small"}):f?e.jsxs(e.Fragment,{children:[e.jsx(ps,{size:16,className:"mr-2"}),"Generate More"]}):e.jsxs(e.Fragment,{children:[e.jsx(ze,{size:16,className:"mr-2"}),"Generate Titles"]})})]}),u.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2 items-center",children:u.map((l,A)=>{const k=s.title===l;return e.jsx("div",{className:"relative group",children:e.jsx("button",{type:"button",onClick:()=>{m(I=>({...I,title:l})),c(I=>({...I,title:!1}))},className:`px-3 py-1 rounded-full text-sm border transition w-full truncate
                          ${k?"bg-[#1B6FC9] text-white border-[#1B6FC9]":"bg-gray-100 text-gray-700 border-gray-300 opacity-60 hover:opacity-100 hover:bg-gray-200"}`,children:l})},A)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(me,{className:"w-full",value:(s==null?void 0:s.tone)||void 0,onChange:z,placeholder:"Select tone",status:r.tone?"error":"",children:[e.jsx(ee,{value:"professional",children:"Professional"}),e.jsx(ee,{value:"casual",children:"Casual"}),e.jsx(ee,{value:"friendly",children:"Friendly"}),e.jsx(ee,{value:"formal",children:"Formal"}),e.jsx(ee,{value:"conversational",children:"Conversational"}),e.jsx(ee,{value:"witty",children:"Witty"}),e.jsx(ee,{value:"informative",children:"Informative"}),e.jsx(ee,{value:"inspirational",children:"Inspirational"}),e.jsx(ee,{value:"persuasive",children:"Persuasive"}),e.jsx(ee,{value:"empathetic",children:"Empathetic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Choose length of Blog"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:(s==null?void 0:s.userDefinedLength)??1e3,className:`w-full h-1 rounded-lg appearance-none cursor-pointer \r
                    [&::-webkit-slider-thumb]:appearance-none \r
                    [&::-webkit-slider-thumb]:h-4 \r
                    [&::-webkit-slider-thumb]:w-4 \r
                    [&::-webkit-slider-thumb]:rounded-full \r
                    [&::-webkit-slider-thumb]:bg-[#1B6FC9]`,onChange:l=>{m(A=>({...A,userDefinedLength:parseInt(l.target.value,10)}))},style:{background:`linear-gradient(to right, #1B6FC9 ${(((s==null?void 0:s.userDefinedLength)??1e3)-500)/45}%, #e5e7eb 0%)`}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[(s==null?void 0:s.userDefinedLength)??1e3," words"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add Brief Section (Optional)"}),e.jsx("textarea",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B6FC9]",rows:3,placeholder:"Enter brief section",value:(s==null?void 0:s.brief)||"",onChange:l=>m(A=>({...A,brief:l.target.value}))}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-xs text-gray-500",children:[((a=s==null?void 0:s.brief)==null?void 0:a.length)||0,"/2000 characters"]})})]})]})})})},dt=j.memo(ct),mt=({handlePrevious:o,handleClose:n,data:h,setData:s,handleSubmit:m,navigate:C})=>{var D,E,W;const L=ae(),{user:f}=se(t=>t.auth),{brands:g,loading:p,error:K}=se(t=>t.brand),N=((D=f==null?void 0:f.subscription)==null?void 0:D.plan)||(f==null?void 0:f.plan)||"free",S=((E=f==null?void 0:f.usage)==null?void 0:E.aiImages)>=((W=f==null?void 0:f.usageLimits)==null?void 0:W.aiImages),[d,w]=j.useState({isCheckedQuick:h.isCheckedQuick||!1,isCheckedBrand:h.isCheckedBrand||!1,aiModel:h.aiModel||"gemini",brandId:h.brandId||null,isFAQEnabled:h.isFAQEnabled||!1,imageSource:h.imageSource||"unsplash",isCheckedGeneratedImages:h.isCheckedGeneratedImages||!1,referenceLinks:h.referenceLinks||[],includeInterlinks:h.includeInterlinks||!1,addOutBoundLinks:h.addOutBoundLinks||!1}),[v,r]=j.useState({newLink:""});j.useEffect(()=>{S&&d.isCheckedGeneratedImages&&(w(t=>({...t,isCheckedGeneratedImages:!1,imageSource:"unsplash"})),s(t=>({...t,isCheckedGeneratedImages:!1,imageSource:"unsplash"})))},[S,d.isCheckedGeneratedImages,s]),j.useEffect(()=>{d.isCheckedBrand&&L(ls())},[d.isCheckedBrand,L]);const c=()=>{const t=v.newLink.trim();if(!t)return;const F=d.referenceLinks.map(P=>P.toLowerCase().trim()),i=P=>{try{return new URL(P),!0}catch{return!1}},M=new Set,z=t.split(",").map(P=>P.trim()).filter(P=>{const H=P.toLowerCase();return!M.has(H)&&i(P)&&!F.includes(H)&&M.add(H)});if(z.length===0){O.error("Please enter valid, non-duplicate URLs separated by commas.");return}w(P=>({...P,referenceLinks:[...P.referenceLinks,...z]})),r(P=>({...P,newLink:""})),O.success("Reference link added!")},u=t=>{w(F=>({...F,referenceLinks:F.referenceLinks.filter((i,M)=>M!==t)}))},b=()=>{const t={...h,...d};m(t)},y=t=>{if(t==="ai"&&N==="free"){ge({featureName:"AI-Generated Images",navigate:C});return}w(F=>({...F,imageSource:t,isCheckedGeneratedImages:t==="ai"})),s(F=>({...F,imageSource:t,isCheckedGeneratedImages:t==="ai",isUnsplashActive:t==="unsplash"}))};return e.jsx(te,{title:"Final Step: Content Enhancements",open:!0,onCancel:n,footer:[e.jsx("button",{onClick:o,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Previous"},"previous"),e.jsx("button",{onClick:b,className:"px-6 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md ml-3",children:"Submit"},"next")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select AI Model"}),e.jsx("div",{className:"flex gap-6 flex-wrap",children:[{id:"gemini",label:"Gemini",logo:"/Images/gemini.png",restricted:!1},{id:"chatgpt",label:"ChatGPT",logo:"/Images/chatgpt.png",restricted:N==="free"},{id:"claude",label:"Claude",logo:"/Images/claude.png",restricted:N==="free"||N==="basic"}].map(t=>e.jsxs("label",{htmlFor:t.id,className:`relative border rounded-lg px-4 py-3 flex items-center gap-3 cursor-pointer transition-all duration-150 ${d.aiModel===t.id?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[200px]`,onClick:F=>{t.restricted&&(F.preventDefault(),ge({featureName:t.label,navigate:C}))},children:[e.jsx("input",{type:"radio",id:t.id,name:"aiModel",value:t.id,checked:d.aiModel===t.id,onChange:F=>{t.restricted||(w(i=>({...i,aiModel:F.target.value})),s(i=>({...i,aiModel:F.target.value})))},className:"hidden"}),e.jsx("img",{src:t.logo,alt:t.label,className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:t.label}),t.restricted&&e.jsx(Ae,{className:"w-4 h-4 text-yellow-500 absolute top-2 right-2"})]},t.id))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Add Image"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{htmlFor:"add-image-toggle",className:`relative inline-block w-12 h-6 ${S?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("input",{type:"checkbox",id:"add-image-toggle",className:"sr-only peer",checked:d.isCheckedGeneratedImages,disabled:S,onChange:t=>{if(S){ge({featureName:"AI-Generated Images",navigate:C});return}const F=t.target.checked;w(i=>({...i,isCheckedGeneratedImages:F,imageSource:F?i.imageSource:"unsplash"})),s(i=>({...i,isCheckedGeneratedImages:F,imageSource:F?i.imageSource:"unsplash",isUnsplashActive:F?i.isUnsplashActive:!0}))}}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${d.isCheckedGeneratedImages&&!S?"bg-[#1B6FC9]":"bg-gray-300"}`}),e.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 ${d.isCheckedGeneratedImages&&!S?"translate-x-6":""}`})]}),S&&e.jsx(oe,{title:"You've reached your AI image generation limit. It'll reset in the next billing cycle.",overlayInnerStyle:{backgroundColor:"#FEF9C3",border:"1px solid #FACC15",color:"#78350F"},children:e.jsx(Oe,{className:"text-yellow-400 ml-4",size:15})})]})]}),d.isCheckedGeneratedImages&&!S&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Image Source"}),e.jsxs("div",{className:"flex gap-6 flex-wrap",children:[e.jsxs("label",{htmlFor:"unsplash",className:`border rounded-lg px-4 py-3 flex items-center gap-3 justify-center cursor-pointer transition-all duration-150 ${d.imageSource==="unsplash"?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[200px]`,children:[e.jsx("input",{type:"radio",id:"unsplash",name:"imageSource",checked:d.imageSource==="unsplash",onChange:()=>y("unsplash"),className:"hidden"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Stock Images"})]}),e.jsxs("label",{htmlFor:"ai-generated",className:`border rounded-lg px-4 py-3 flex items-center gap-3 justify-center cursor-pointer transition-all duration-150 ${d.imageSource==="ai"?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[200px] relative`,onClick:t=>{N==="free"&&(t.preventDefault(),ge({featureName:"AI-Generated Images",navigate:C}))},children:[e.jsx("input",{type:"radio",id:"ai-generated",name:"imageSource",checked:d.imageSource==="ai",onChange:()=>y("ai"),className:"hidden"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:"AI-Generated Images"}),N==="free"&&e.jsx(Ae,{className:"w-4 h-4 text-yellow-500 absolute top-2 right-2"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add a Quick Summary"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d.isCheckedQuick,onChange:()=>{w(t=>({...t,isCheckedQuick:!t.isCheckedQuick})),s(t=>({...t,isCheckedQuick:!t.isCheckedQuick}))},className:"sr-only peer","aria-checked":d.isCheckedQuick}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Write with Brand Voice"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d.isCheckedBrand,onChange:()=>{w(t=>({...t,isCheckedBrand:!t.isCheckedBrand,brandId:t.isCheckedBrand?null:t.brandId})),s(t=>({...t,isCheckedBrand:!t.isCheckedBrand,brandId:t.isCheckedBrand?null:t.brandId}))},className:"sr-only peer","aria-checked":d.isCheckedBrand}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),d.isCheckedBrand&&e.jsx("div",{className:"mt-3 p-4 rounded-md border border-gray-200 bg-gray-50",children:p?e.jsx("div",{className:"text-gray-500 text-sm",children:"Loading brand voices..."}):K?e.jsx("div",{className:"text-red-500 text-sm font-medium",children:K}):(g==null?void 0:g.length)>0?e.jsx("div",{className:"max-h-48 overflow-y-auto pr-1",children:e.jsx("div",{className:"grid gap-3",children:g.map(t=>e.jsxs("label",{className:`flex items-start gap-2 p-3 rounded-md cursor-pointer ${d.brandId===t._id?"bg-blue-100 border-blue-300":"bg-white border border-gray-200"}`,children:[e.jsx("input",{type:"radio",name:"selectedBrandVoice",value:t._id,checked:d.brandId===t._id,onChange:()=>{w(F=>({...F,brandId:t._id})),s(F=>({...F,brandId:t._id}))},className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-700",children:t.nameOfVoice}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.describeBrand})]})]},t._id))})}):e.jsx("div",{className:"text-gray-500 text-sm italic",children:"No brand voices available. Create one to get started."})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Add FAQ"}),e.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Generate frequently asked questions for your blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d.isFAQEnabled,onChange:()=>{w(t=>({...t,isFAQEnabled:!t.isFAQEnabled})),s(t=>({...t,isFAQEnabled:!t.isFAQEnabled}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Interlinks",e.jsx("p",{className:"text-xs text-gray-500",children:"Auto-link to other blogs within your content."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer self-end",children:[e.jsx("input",{type:"checkbox",checked:d.includeInterlinks,onChange:t=>{w(F=>({...F,includeInterlinks:t.target.checked})),s(F=>({...F,includeInterlinks:t.target.checked}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Add Competitive Research",e.jsx("p",{className:"text-xs text-gray-500",children:"Analyze similar blogs to find strategic insights."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer self-end",children:[e.jsx("input",{type:"checkbox",checked:d.isCompetitiveResearchEnabled,onChange:()=>{w(t=>({...t,isCompetitiveResearchEnabled:!t.isCompetitiveResearchEnabled})),s(t=>({...t,isCompetitiveResearchEnabled:!t.isCompetitiveResearchEnabled}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]}),d.isCompetitiveResearchEnabled&&e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Show Outbound Links",e.jsx("p",{className:"text-xs text-gray-500",children:"Display reference links from competitor analysis."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer self-end",children:[e.jsx("input",{type:"checkbox",checked:d.addOutBoundLinks,onChange:()=>{w(t=>({...t,addOutBoundLinks:!t.addOutBoundLinks})),s(t=>({...t,addOutBoundLinks:!t.addOutBoundLinks}))},className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-6 peer-checked:bg-[#1B6FC9] after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform duration-300"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Reference Links (Helps make blog more compelling)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600",placeholder:"https://example.com",onKeyDown:t=>{t.key==="Enter"&&(t.preventDefault(),c())},value:v.newLink,onChange:t=>r(F=>({...F,newLink:t.target.value}))}),e.jsx("button",{onClick:c,className:"px-3 py-2 bg-[#1B6FC9] hover:bg-[#1B6FC9]/90 text-white rounded-md",children:e.jsx(ie,{className:"w-4 h-4"})})]}),d.referenceLinks.length>0&&e.jsx("div",{className:"mt-2 space-y-2",children:d.referenceLinks.map((t,F)=>e.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-gray-50 rounded-md",children:[e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 truncate",children:t}),e.jsx("button",{onClick:()=>u(F),className:"text-gray-500 hover:text-red-500",children:e.jsx(le,{className:"w-4 h-4"})})]},F))})]})]})})})},ht=[{id:1,imageUrl:"./Images/createnew.png",title:"Create New Blog",icon:e.jsx(fs,{className:"w-6 h-6"}),content:"Generate blogs, email, product, description, etc.",hoverGradient:"from-blue-600 to-blue-700"},{id:"A",imageUrl:"./Images/quickblog.png",title:"Generate Quick Blog",icon:e.jsx(bs,{className:"w-6 h-6"}),content:"With few inputs you are good to go to create Awesome blogs!",hoverGradient:"from-purple-600 to-purple-700"},{id:"B",imageUrl:"./Images/createmultipleblog.png",title:"Create Multiple Blogs",icon:e.jsx(_s,{className:"w-6 h-6"}),content:"Ellipse draft overflow arrange pen",hoverGradient:"from-emerald-600 to-emerald-700"}],xt=[{id:1,title:"Keyword Research",content:"Fill bold resizing vector create group inspect effect",icon:e.jsx(ys,{className:"w-8 h-8"}),color:"text-blue-600",bgColor:"bg-blue-50",hoverBg:"hover:bg-blue-100"},{id:3,title:"Performance Monitoring",content:"Generate blogs, emails , product description etc",icon:e.jsx(Ds,{className:"w-8 h-8"}),color:"text-orange-600",bgColor:"bg-orange-50",hoverBg:"hover:bg-orange-100"},{id:4,title:"Competitor Analysis",content:"Analyze your competitors' content and strategies",icon:e.jsx(js,{className:"w-8 h-8"}),color:"text-purple-600",bgColor:"bg-purple-50",hoverBg:"hover:bg-purple-100"},{id:5,title:"Analytics",content:"Visualize performance, unlock insights, and stay ahead",icon:e.jsx(Os,{className:"w-8 h-8"}),color:"text-green-600",bgColor:"bg-green-50",hoverBg:"hover:bg-green-100",navigate:"/analytics"}],ut=({title:o,content:n,id:h,functions:s,icon:m,gradient:C})=>{var N,S;const L=se(d=>d.auth.user),f=(L==null?void 0:L.plan)??((N=L==null?void 0:L.subscription)==null?void 0:N.plan),{handlePopup:g}=he(),p=()=>{g({title:"Upgrade Required",description:"Bulk blog generation is only available for Pro and Enterprise users.",confirmText:"Buy Now",cancelText:"Cancel",icon:e.jsx(we,{style:{fontSize:50,color:"#a47dab"}}),onConfirm:()=>navigate("/pricing")})},K=()=>{var d,w,v,r,c;if(h==="A")(d=s.showQuickBlogModal)==null||d.call(s);else if(h===1)(w=s.showModal)==null||w.call(s);else if(h==="B"){if(["free","basic"].includes(f==null?void 0:f.toLowerCase())){p();return}(v=s.showMultiStepModal)==null||v.call(s)}else h===4?(r=s.showCompetitiveAnalysis)==null||r.call(s):h===3&&((c=s.showPerformanceMonitoring)==null||c.call(s))};return e.jsxs("div",{onClick:K,className:"group relative bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-xl hover:scale-[1.02] transition-all duration-300 cursor-pointer overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-5 transition-opacity duration-300 from-blue-500 to-purple-500"}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-r ${C} text-white mb-6 transition-transform duration-300`,children:m}),["free","basic"].includes((S=f==null?void 0:f.toLowerCase)==null?void 0:S.call(f))&&h==="B"&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(we,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:o}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:n}),e.jsxs("div",{className:"flex items-center text-blue-600 font-medium text-sm group-hover:gap-2 transition-all",children:["Get Started",e.jsx(Ge,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})},gt=({icon:o,title:n,content:h,id:s,functions:m,bgColor:C,hoverBg:L,color:f,navigate:g})=>{var v,r;const p=xe(),K=se(c=>c.auth.user),N=(K==null?void 0:K.plan)??((v=K==null?void 0:K.subscription)==null?void 0:v.plan),{handlePopup:S}=he(),d=()=>{S({title:"Upgrade Required",description:"Competitor Analysis is only available for Pro and Enterprise users.",confirmText:"Buy Now",cancelText:"Cancel",onConfirm:()=>p("/pricing")})},w=()=>{if(g){p(g);return}if(s===4&&(m!=null&&m.showCompetitiveAnalysis)){if(["free","basic"].includes(N==null?void 0:N.toLowerCase())){d();return}m.showCompetitiveAnalysis()}else s===3&&(m!=null&&m.showPerformanceMonitoring)?m.showPerformanceMonitoring():s===2&&(m!=null&&m.showSeoAnalysis)?m.showSeoAnalysis():s===1&&(m!=null&&m.showKeywordResearch)&&m.showKeywordResearch()};return e.jsxs("div",{onClick:w,className:`group p-6 rounded-xl ${C} ${L} border border-transparent hover:border-gray-200 hover:shadow-md transition-all duration-300 cursor-pointer`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(G.div,{whileHover:{scale:1.15,rotate:8},transition:{type:"spring",stiffness:300},className:`inline-flex items-center justify-center w-12 h-12 rounded-xl bg-white ${f} mb-4 group-hover:scale-110 transition-transform duration-300 shadow-sm`,children:o}),["free","basic"].includes((r=N==null?void 0:N.toLowerCase)==null?void 0:r.call(N))&&s===4&&e.jsxs("span",{className:"flex items-center gap-2 rounded-md text-white font-semibold border p-2 px-3 bg-gradient-to-tr from-blue-500 to-purple-500 shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out animate-pulse backdrop-blur-sm text-lg mb-5",children:[e.jsx(we,{className:"w-4 h-4 animate-bounce"}),"Pro"]})]}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 group-hover:text-gray-700 transition-colors text-[18px]",children:n}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:h})]})},pt=({title:o,content:n,tags:h,item:s,time:m})=>{var p,K,N,S,d;const C=xe(),L=(d=(S=(N=(K=(p=n==null?void 0:n.replace(/^#+\s*/gm,""))==null?void 0:p.replace(/#[^\s#]+/g,""))==null?void 0:K.replace(/[*_~`>\\=|-]+/g,""))==null?void 0:N.replace(/\n+/g," "))==null?void 0:S.replace(/\s+/g," "))==null?void 0:d.trim(),f=L&&L.length>40?`${L.substring(0,80)}...`:L||"",g=()=>{s&&s._id&&C(`/toolbox/${s._id}`,{state:{blog:s}})};return e.jsx("div",{onClick:g,className:"group p-6 rounded-xl border border-gray-200 hover:border-blue-200 hover:shadow-md transition-all duration-300 cursor-pointer mb-4",children:e.jsxs("div",{className:"flex lg:items-start lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h3",{className:"font-bold capitalize text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-1",children:o}),e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full capitalize",children:(s==null?void 0:s.aiModel)||"Gemini"}),e.jsx("span",{className:`px-2 py-1 capitalize text-xs font-medium rounded-full ${(s==null?void 0:s.status)==="complete"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:(s==null?void 0:s.status)||""})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:f}),e.jsx("div",{className:"flex flex-wrap gap-2",children:h==null?void 0:h.map((w,v)=>e.jsx("span",{className:"px-3 py-1 capitalize bg-gray-100 text-gray-700 text-xs rounded-full hover:bg-gray-200 transition-colors",children:w},v))})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(vs,{className:"w-4 h-4"}),e.jsx("span",{children:"View"})]}),e.jsx("span",{children:ws(m).fromNow()}),e.jsx(Ge,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})})},ft=({closeFnc:o})=>{var q,U,ue;const n=ae(),h=xe(),{handlePopup:s}=he(),m=se(x=>x.auth.user),C=((q=m==null?void 0:m.subscription)==null?void 0:q.plan)||(m==null?void 0:m.plan),[L,f]=j.useState(!1),g=((U=m==null?void 0:m.usage)==null?void 0:U.aiImages)>=((ue=m==null?void 0:m.usageLimits)==null?void 0:ue.aiImages),[p,K]=j.useState(0),[N,S]=j.useState(null),{Option:d}=me,[w,v]=j.useState({topics:!1,keywords:!1,tone:!1}),[r,c]=j.useState({templates:[],topics:[],keywords:[],topicInput:"",keywordInput:"",performKeywordResearch:!0,tone:"",numberOfCounts:5,userDefinedLength:1e3,imageSource:"unsplash",useBrandVoice:!0,useCompetitors:!1,includeInterlinks:!0,includeMetaHeadlines:!0,includeFaqs:!0,numberOfBlogs:1,wordpressPostStatus:!1,postFrequency:10*60,selectedDates:null,aiModel:"gemini",includeTableOfContents:!1,isCheckedGeneratedImages:!0,addOutBoundLinks:!1});j.useEffect(()=>{g&&r.isCheckedGeneratedImages&&c(x=>({...x,isCheckedGeneratedImages:!1,imageSource:"unsplash"}))},[g,r.isCheckedGeneratedImages]);const u=()=>{if(p===0&&r.templates.length===0){O.error("Please add at least one template.");return}if(p===1){const x={topics:r.topics.length===0&&r.topicInput.trim()==="",keywords:!r.performKeywordResearch&&r.keywords.length===0&&r.keywordInput.trim()==="",tone:!r.tone};if(v(x),Object.values(x).some(B=>B)){O.error("Please fill all required fields in this step.");return}}K(x=>x+1)},b=()=>{K(x=>x>0?x-1:x)},y=()=>{o()},D=()=>{const x={topics:r.topics.length===0&&r.topicInput.trim()==="",keywords:!r.performKeywordResearch&&r.keywords.length===0&&r.keywordInput.trim()==="",tone:!r.tone};if(v(x),Object.values(x).some(Q=>Q)){O.error("Please fill all required fields.");return}if(r.numberOfBlogs<1||r.numberOfBlogs>10){O.error("Number of blogs must be between 1 and 10.");return}const B=r.aiModel||"gemini",R=ke("blog.single",B),$=r.numberOfBlogs*R;s({title:"Bulk Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Estimated cost for ",e.jsx("b",{children:r.numberOfBlogs})," blog",r.numberOfBlogs>1?"s":"",": ",e.jsxs("b",{children:[$," credits"]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue?"})]}),onConfirm:()=>{n(os({blogData:r,navigate:h})),y()}})},E=x=>{const B=fe[x].name;r.templates.includes(B)?c($=>({...$,templates:$.templates.filter(Q=>Q!==B)})):r.templates.length<3?c($=>({...$,templates:[...$.templates,B]})):O.error("You can select a maximum of 3 templates.")},W=x=>{const{name:B,value:R,type:$}=x.target,Q=$==="number"?parseInt(R,10)||0:R;c({...r,[B]:Q})},t=async x=>{const{name:B,checked:R}=x.target;if(B==="wordpressPostStatus"&&R)try{if(!(m!=null&&m.wordpressLink)){O.error("Please connect your WordPress account in your profile before enabling automatic posting."),h("/profile");return}}catch{O.error("Failed to check profile. Please try again.");return}c({...r,[B]:R}),B==="performKeywordResearch"&&v($=>({...$,keywords:!1}))},F=x=>{c(B=>({...B,topicInput:x.target.value})),v(B=>({...B,topics:!1}))},i=x=>{c(B=>({...B,keywordInput:x.target.value})),v(B=>({...B,keywords:!1}))},M=()=>{const x=r.topicInput;if(x.trim()==="")return v($=>({...$,topics:!0})),O.error("Please enter a topic."),!1;const B=r.topics.map($=>$.toLowerCase().trim()),R=x.split(",").map($=>$.trim()).filter($=>$!==""&&!B.includes($.toLowerCase()));return R.length===0?(v($=>({...$,topics:!0})),O.error("Please enter valid, non-duplicate topics separated by commas."),c($=>({...$,topicInput:""})),!1):(c($=>({...$,topics:[...$.topics,...R],topicInput:""})),v($=>({...$,topics:!1})),!0)},z=x=>{c(B=>({...B,topics:B.topics.filter((R,$)=>$!==x)}))},P=()=>{const x=r.keywordInput;if(x.trim()==="")return v($=>({...$,keywords:!0})),O.error("Please enter a keyword."),!1;const B=r.keywords.map($=>$.toLowerCase().trim()),R=x.split(",").map($=>$.trim()).filter($=>$!==""&&!B.includes($.toLowerCase()));return R.length===0?(v($=>({...$,keywords:!0})),O.error("Please enter valid, non-duplicate keywords separated by commas."),c($=>({...$,keywordInput:""})),!1):(c($=>({...$,keywords:[...$.keywords,...R],keywordInput:""})),v($=>({...$,keywords:!1})),!0)},H=x=>{c(B=>({...B,keywords:B.keywords.filter((R,$)=>$!==x)}))},a=x=>{if(x.key==="Enter"){x.preventDefault();const B=M();!r.performKeywordResearch&&B&&P()}},l=x=>{c(B=>({...B,imageSource:x}))},A=x=>{var Q;const B=(Q=x.target.files)==null?void 0:Q[0];if(!B)return;if(!B.name.toLowerCase().endsWith(".csv")){O.error("Invalid file type. Please upload a .csv file."),x.target.value=null;return}const R=20*1024;if(B.size>R){O.error("File size exceeds 20KB limit. Please upload a smaller file."),x.target.value=null;return}const $=new FileReader;$.onload=ne=>{var X;const T=(X=ne.target)==null?void 0:X.result;if(!T)return;const V=T.trim().split(/\r?\n/).slice(1).map(Y=>{const Se=Y.split(",");return Se.length>=2?Se[1].trim():null}).filter(Boolean),Z=r.topics.map(Y=>Y.toLowerCase().trim()),J=V.filter(Y=>!Z.includes(Y.toLowerCase().trim()));if(J.length===0){O.error("No new topics found in the CSV.");return}c(Y=>({...Y,topics:[...Y.topics,...J]})),v(Y=>({...Y,topics:!1})),J.length>8&&(S(J.length),setTimeout(()=>S(null),5e3))},$.readAsText(B),x.target.value=null},k=x=>{var $;const B=($=x.target.files)==null?void 0:$[0];if(!B)return;const R=new FileReader;R.onload=Q=>{var J;const ne=(J=Q.target)==null?void 0:J.result;if(!ne)return;const _=ne.trim().split(/\r?\n/).slice(1).map(X=>{const Y=X.split(",");return Y.length>=2?Y[1].trim():null}).filter(Boolean),V=r.keywords.map(X=>X.toLowerCase().trim()),Z=_.filter(X=>!V.includes(X.toLowerCase().trim()));if(Z.length===0){O.error("No new keywords found in the CSV.");return}c(X=>({...X,keywords:[...X.keywords,...Z]})),v(X=>({...X,keywords:!1})),Z.length>8&&(S(Z.length),setTimeout(()=>S(null),5e3))},R.readAsText(B),x.target.value=null},I=["Select Template's","Add Details","Blog Options"];return e.jsx(te,{title:`Step ${p+1} : ${I[p]}`,open:!0,onCancel:y,footer:e.jsxs("div",{className:"flex justify-end gap-3",children:[p>0&&e.jsx("button",{onClick:b,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Previous"}),e.jsx("button",{onClick:p===2?D:u,className:"px-4 py-2 text-sm font-medium text-white bg-[#1B6FC9] rounded-md hover:bg-[#1B6FC9]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:p===2?"Generate Blogs":"Next"})]}),width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"p-4",children:[p===0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select up to 3 templates for the types of blogs you want to generate."}),e.jsx(Ne,{children:fe.map((x,B)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${r.templates.includes(x.name)?"border-gray-300 border-2 rounded-lg":""}`,onClick:()=>E(B),children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:x.imgSrc||"/placeholder.svg",alt:x.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:x.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:x.description})]})]})},x.name))})]}),p===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Topics ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(oe,{title:"Upload a .csv file in the format: `Keyword` as header",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(Ke,{size:16,className:"text-blue-500"})})})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter the main topics for your blogs."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:r.topicInput,onChange:F,onKeyDown:a,className:`flex-1 px-3 py-2 border ${w.topics?"border-red-500":"border-gray-300"} rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 bg-gray-50`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:M,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(Fe,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:A,hidden:!0})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[(L?r.topics:r.topics.slice().reverse().slice(0,18)).map((x,B)=>{const R=L?B:r.topics.length-1-B;return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[x,e.jsx("button",{type:"button",onClick:()=>z(R),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(le,{className:"w-3 h-3"})})]},`${x}-${B}`)}),(r.topics.length>18||N)&&!L&&e.jsxs("span",{onClick:()=>f(!0),className:"cursor-pointer text-xs font-medium text-blue-600 self-center",children:[r.topics.length>18&&`+${r.topics.length-18} more `,N&&`(+${N} uploaded)`]}),L&&e.jsx("span",{onClick:()=>f(!1),className:"cursor-pointer text-xs font-medium text-red-600 self-center",children:"Show less"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Perform Keyword Research?",e.jsx("p",{className:"text-xs text-gray-500",children:"Allow AI to find relevant keywords for the topics."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"performKeywordResearch",checked:r.performKeywordResearch,onChange:t,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),!r.performKeywordResearch&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(oe,{title:"Upload a .csv file in the format: `Keyword` as header",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(Ke,{size:16,className:"text-blue-500"})})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:r.keywordInput,onChange:i,onKeyDown:a,className:`flex-1 px-3 py-2 border ${w.keywords?"border-red-500":"border-gray-300"} rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 bg-gray-50`,placeholder:"e.g., digital marketing trends, AI in business"}),e.jsx("button",{onClick:P,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm hover:bg-[#1B6FC9]/90",children:"Add"}),e.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 border rounded-md text-sm cursor-pointer flex items-center gap-1 hover:bg-gray-200",children:[e.jsx(Fe,{size:16}),e.jsx("input",{type:"file",accept:".csv",onChange:k,hidden:!0})]})]}),w.keywords&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Please add at least one keyword"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 min-h-[28px]",children:[r.keywords.slice().reverse().slice(0,18).map((x,B)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[x,e.jsx("button",{type:"button",onClick:()=>H(r.keywords.length-1-B),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600 focus:outline-none",children:e.jsx(le,{className:"w-3 h-3"})})]},`${x}-${B}`)),(r.keywords.length>18||N)&&e.jsxs("span",{className:"text-xs font-medium text-blue-600 self-center",children:[r.keywords.length>18&&`+${r.keywords.length-18} more `,N&&`(+${N} uploaded)`]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"tone",className:"block text-sm font-medium text-gray-700 mb-1",children:["Tone of Voice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(me,{className:"w-full",value:r.tone,onChange:x=>{c(B=>({...B,tone:x})),v(B=>({...B,tone:!1}))},placeholder:"Select tone",status:w.tone?"error":"",children:[e.jsx(d,{value:"",children:"Select Tone"}),e.jsx(d,{value:"professional",children:"Professional"}),e.jsx(d,{value:"casual",children:"Casual"}),e.jsx(d,{value:"friendly",children:"Friendly"}),e.jsx(d,{value:"formal",children:"Formal"}),e.jsx(d,{value:"conversational",children:"Conversational"}),e.jsx(d,{value:"witty",children:"Witty"}),e.jsx(d,{value:"informative",children:"Informative"}),e.jsx(d,{value:"inspirational",children:"Inspirational"}),e.jsx(d,{value:"persuasive",children:"Persuasive"}),e.jsx(d,{value:"empathetic",children:"Empathetic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approx. Blog Length (Words)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"500",max:"5000",value:r.userDefinedLength,className:"w-full h-1 rounded-lg appearance-none cursor-pointer bg-gradient-to-r from-[#1B6FC9] to-gray-100 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[#1B6FC9]",style:{background:`linear-gradient(to right, #1B6FC9 ${(r.userDefinedLength-500)/4500*100}%, #E5E7EB ${(r.userDefinedLength-500)/4500*100}%)`},onChange:x=>{c(B=>({...B,userDefinedLength:parseInt(x.target.value,10)}))}}),e.jsxs("span",{className:"mt-2 text-sm text-gray-600 block",children:[r.userDefinedLength," words"]})]})]})]})]}),p===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select AI Model"}),e.jsx("div",{className:"flex gap-4 flex-wrap",children:[{id:"gemini",label:"Gemini",logo:"/Images/gemini.png",restricted:!1},{id:"chatgpt",label:"ChatGPT",logo:"/Images/chatgpt.png",restricted:C==="free"},{id:"claude",label:"Claude",logo:"/Images/claude.png",restricted:C==="free"||C==="basic"}].map(x=>e.jsxs("label",{htmlFor:x.id,className:`border rounded-lg px-4 py-3 flex items-center gap-3 cursor-pointer transition-all duration-150 ${r.aiModel===x.id?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[220px]`,children:[e.jsx("input",{type:"radio",id:x.id,name:"aiModel",value:x.id,checked:r.aiModel===x.id,onChange:B=>{c(R=>({...R,aiModel:B.target.value}))},className:"hidden"}),e.jsx("img",{src:x.logo,alt:x.label,className:"w-6 h-6 object-contain"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:x.label})]},x.id))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Add Image"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{htmlFor:"add-image-toggle",className:`relative inline-block w-12 h-6 ${g?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("input",{type:"checkbox",id:"add-image-toggle",className:"sr-only peer",checked:r.isCheckedGeneratedImages,disabled:g,onChange:x=>{if(g){openUpgradePopup({featureName:"AI-Generated Images",navigate:h});return}const B=x.target.checked;c(R=>({...R,isCheckedGeneratedImages:B,imageSource:B?R.imageSource:"unsplash"}))}}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-all duration-300 ${r.isCheckedGeneratedImages&&!g?"bg-[#1B6FC9]":"bg-gray-300"}`}),e.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white rounded-full h-5 w-5 transition-transform duration-300 ${r.isCheckedGeneratedImages&&!g?"translate-x-6":""}`})]}),g&&e.jsx(oe,{title:"You've reached your AI image generation limit. It'll reset in the next billing cycle.",overlayInnerStyle:{backgroundColor:"#FEF9C3",border:"1px solid #FACC15",color:"#78350F"},children:e.jsx(Oe,{className:"text-yellow-400 ml-4",size:15})})]})]}),r.isCheckedGeneratedImages&&!g&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Image Source"}),e.jsx("div",{className:"flex gap-4 flex-wrap",children:[{id:"unsplash",label:"Stock Images",value:"unsplash",restricted:!1},{id:"ai",label:"AI Generated",value:"ai",restricted:C==="free"}].map(x=>e.jsxs("label",{htmlFor:x.id,className:`border rounded-lg px-4 py-3 flex items-center gap-3 justify-center cursor-pointer transition-all duration-150 ${r.imageSource===x.value?"border-blue-600 bg-blue-50":"border-gray-300"} hover:shadow-sm w-full max-w-[220px]`,children:[e.jsx("input",{type:"radio",id:x.id,name:"imageSource",value:x.value,checked:r.imageSource===x.value,onChange:()=>{l(x.value)},className:"hidden"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:x.label})]},x.id))})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Interlinks",e.jsx("p",{className:"text-xs text-gray-500",children:"Attempt to link between generated blogs if relevant."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeInterlinks",checked:r.includeInterlinks,onChange:t,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include FAQ Section",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate relevant FAQ questions and answers for the blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeFaqs",checked:r.includeFaqs,onChange:t,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Competitive Research",e.jsx("p",{className:"text-xs text-gray-500",children:"Perform competitive research to analyze similar blogs."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"useCompetitors",checked:r.useCompetitors,onChange:t,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),r.useCompetitors&&e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Show Outbound Links",e.jsx("p",{className:"text-xs text-gray-500",children:"Display outbound links found during competitor analysis."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"addOutBoundLinks",checked:r.addOutBoundLinks,onChange:t,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Enable Automatic Posting",e.jsx("p",{className:"text-xs text-gray-500",children:"Automatically post blogs on the selected dates."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"wordpressPostStatus",checked:r.wordpressPostStatus,onChange:t,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),r.wordpressPostStatus&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Include Table of Contents",e.jsx("p",{className:"text-xs text-gray-500",children:"Generate a table of contents for each blog."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"includeTableOfContents",checked:r.includeTableOfContents,onChange:t,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1B6FC9]"})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Blogs"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"How many blogs to generate based on the topics provided."}),e.jsx("input",{type:"number",name:"numberOfBlogs",min:"1",max:"10",value:r.numberOfBlogs===0?"":r.numberOfBlogs,onChange:W,onWheel:x=>x.currentTarget.blur(),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 5"})]})})]})]})})},bt=({closeFnc:o})=>{const[n,h]=j.useState(1),s=()=>h(n+1),m=()=>h(n-1);return e.jsxs("div",{className:"border-8 border-teal-700",children:[e.jsx("input",{type:"checkbox",id:"my-modal",className:"modal-toggle"}),e.jsx("div",{className:"modal",children:e.jsxs("div",{className:"modal-box",children:[n===1&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 1"}),e.jsx("p",{className:"py-4",children:"Content for step 1 goes here."}),e.jsx("div",{className:"modal-action",children:e.jsx("button",{className:"btn border-8 border-teal-700",onClick:s,children:"Next"})})]}),n===2&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 2"}),e.jsx("p",{className:"py-4",children:"Content for step 2 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:m,children:"Previous"}),e.jsx("button",{className:"btn",onClick:s,children:"Next"})]})]}),n===3&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Step 3"}),e.jsx("p",{className:"py-4",children:"Content for step 3 goes here."}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn",onClick:o,children:"Previous"}),e.jsx("label",{htmlFor:"my-modal",className:"btn",children:"Finish"})]})]})]})})]})},yt=({closeFnc:o})=>{const[n,h]=j.useState(0),[s,m]=j.useState(null),[C,L]=j.useState([]),[f,g]=j.useState({template:!1,focusKeywords:!1,keywords:!1,videoLinks:!1}),[p,K]=j.useState({template:null,keywords:[],focusKeywords:[],videoLinks:[],keywordInput:"",focusKeywordInput:"",videoLinkInput:""}),N=ae(),S=xe(),{handlePopup:d}=he(),w=()=>{if(n===0&&!p.template){g(i=>({...i,template:!0})),O.error("Please select a template before proceeding.");return}g(i=>({...i,template:!1})),h(n+1)},v=()=>{h(n-1)},r=()=>{o()},c=()=>{const i={template:!p.template,focusKeywords:p.focusKeywords.length===0,keywords:p.keywords.length===0,videoLinks:C.length===0};if(g(i),Object.values(i).some(z=>z)){O.error("Please fill all the fields");return}const M={...p,videoLinks:C};d({title:"Quick Blog Generation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Quick blog generation is ",e.jsxs("b",{children:[ke("blog.quick")," credits."]})]}),e.jsx("br",{}),e.jsx("span",{children:"Are you sure ?"})]}),onConfirm:()=>{N(is({blogData:M,navigate:S})),r()}})},u=i=>{m(i),K({...p,template:fe[i].name}),g(M=>({...M,template:!1}))},b=(i,M)=>{const z=M==="keywords"?"keywordInput":"focusKeywordInput";K(P=>({...P,[z]:i.target.value})),g(P=>({...P,[M]:!1}))},y=i=>{const M=i==="keywords"?"keywordInput":"focusKeywordInput",z=p[M].trim();if(!z){g(a=>({...a,[i]:!0})),O.error("Please enter a keyword.");return}const P=new Set(p[i].map(a=>a.trim().toLowerCase())),H=z.split(",").map(a=>a.trim()).filter(a=>a!==""&&!P.has(a.toLowerCase()));if(H.length===0){g(a=>({...a,[i]:!0})),O.error("Please enter valid, non-duplicate keywords separated by commas.");return}if(i==="focusKeywords"&&p[i].length+H.length>3){g(a=>({...a,[i]:!0})),O.error("You can only add up to 3 focus keywords.");return}K(a=>({...a,[i]:[...a[i],...H],[M]:""})),g(a=>({...a,[i]:!1}))},D=(i,M)=>{const z=[...p[M]];z.splice(i,1),K({...p,[M]:z})},E=(i,M)=>{i.key==="Enter"&&(i.preventDefault(),y(M))},W=()=>{var H;const i=(H=p.videoLinkInput)==null?void 0:H.trim();if(!i){g(a=>({...a,videoLinks:!0})),O.error("Please enter at least one link.");return}const M=i.split(",").map(a=>a.trim()).filter(a=>a!==""),z=[];for(let a of M){let l=a;/^https?:\/\//i.test(l)||(l=`https://${l}`);try{const A=new URL(l);!C.includes(l)&&!z.includes(l)&&z.push(l)}catch{}}if(z.length===0){g(a=>({...a,videoLinks:!0})),O.error("No valid, unique URLs found.");return}if(C.length+z.length>3){g(a=>({...a,videoLinks:!0})),O.error("You can only add up to 3 links in total.");return}L([...C,...z]),K(a=>({...a,videoLinkInput:""})),g(a=>({...a,videoLinks:!1}))},t=i=>{i.key==="Enter"&&(i.preventDefault(),W())},F=i=>{const M=[...C];M.splice(i,1),L(M)};return e.jsx(te,{title:"Generate Quick Blog",open:!0,onCancel:r,footer:n===0?[e.jsx("button",{onClick:w,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Next"},"next")]:[e.jsx("button",{onClick:v,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none",children:"Previous"},"previous"),e.jsx("button",{onClick:c,className:"px-6 py-2 bg-[#1B6FC9] text-white rounded-lg hover:bg-[#1B6FC9]/90 ml-3",children:"Submit"},"submit")],width:800,centered:!0,transitionName:"",maskTransitionName:"",children:e.jsxs("div",{className:"p-4",children:[n===0&&e.jsx("div",{children:e.jsx("div",{className:"p-3",children:e.jsx(Ne,{children:fe.map((i,M)=>e.jsx("div",{className:`cursor-pointer transition-all duration-200 ${p.template===i.name?"border-gray-300 border-2 rounded-md":""}`,onClick:()=>u(M),children:e.jsxs("div",{className:"bg-white rounded-md overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:i.imgSrc||"/placeholder.svg",alt:i.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2 mt-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:i.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:i.description})]})]})},M))})})}),n===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Focus Keywords ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:p.focusKeywordInput,onChange:i=>b(i,"focusKeywords"),onKeyDown:i=>E(i,"focusKeywords"),className:`flex-1 px-3 py-2 border ${f.focusKeywords?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter focus keywords, separated by commas"}),e.jsx("button",{onClick:()=>y("focusKeywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center",children:e.jsx(ie,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:p.focusKeywords.map((i,M)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[i,e.jsx("button",{onClick:()=>D(M,"focusKeywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:e.jsx(le,{size:16})})]},M))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Keywords ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:p.keywordInput,onChange:i=>b(i,"keywords"),onKeyDown:i=>E(i,"keywords"),className:`flex-1 px-3 py-2 border ${f.keywords?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter secondary keywords, separated by commas"}),e.jsx("button",{onClick:()=>y("keywords"),className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center",children:e.jsx(ie,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:p.keywords.map((i,M)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[i,e.jsx("button",{onClick:()=>D(M,"keywords"),className:"ml-1 text-blue-400 hover:text-blue-600",children:e.jsx(le,{size:16})})]},M))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Add Links (max 3) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:p.videoLinkInput||"",onChange:i=>K(M=>({...M,videoLinkInput:i.target.value})),onKeyDown:t,className:`flex-1 px-3 py-2 border ${f.videoLinks?"border-red-500":"border-gray-200"} rounded-md text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-600`,placeholder:"Enter links, separated by commas"}),e.jsx("button",{onClick:W,className:"px-4 py-2 bg-[#1B6FC9] text-white rounded-md text-sm flex items-center",children:e.jsx(ie,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:C.map((i,M)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[i,e.jsx("button",{onClick:()=>F(M),className:"ml-1 text-blue-400 hover:text-blue-600",children:e.jsx(le,{size:16})})]},M))})]})]})]})})},jt=({closeFnc:o,visible:n,allBlogs:h})=>{var w,v;const[s,m]=j.useState({selectedBlog:null,title:"",content:""}),[C,L]=j.useState(null),f=ae(),g=async r=>{m({selectedBlog:r,title:r.title,content:r.content}),L(null);try{const{stats:c}=await f(je(r._id)).unwrap();L(c)}catch{O.error("Failed to load blog performance stats.")}},p={flesch:"📘 Flesch Reading Ease (0–100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"📗 SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"📙 ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"📈 Blog Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},K=({type:r="seo"})=>e.jsx(oe,{title:p[r],trigger:["hover","click"],placement:"top",children:e.jsx(He,{className:"ml-2 text-gray-500 hover:text-blue-500 cursor-pointer"})}),N=({icon:r,label:c,value:u,color:b,delay:y=0,suffix:D="",description:E=""})=>e.jsx(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:y*.1,duration:.3},className:`p-5 bg-white rounded-xl border ${b} shadow-sm hover:shadow-md transition-shadow`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[r&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-500",children:r}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:c}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:[u,D]}),E&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:E})]})]})}),S=({score:r,max:c,label:u,level:b,color:y})=>e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600 flex items-center gap-2",children:[u,e.jsx(K,{type:/seo/gi.test(u)?"seo":"flesch"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:b})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full ${y} transition-all duration-500`,style:{width:`${r/c*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-2",children:e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[r," / ",c]})})]})]}),d=({stats:r})=>{var i,M,z,P,H,a,l,A;if(!r)return null;const{readabililty:c={},seo:u={},engagement:b={},metadata:y={}}=r,D=(u==null?void 0:u.keywordDensity)||{},E=Object.keys(D).filter(k=>k.split(" ").length<=2).length,W=Object.keys(D).filter(k=>k.split(" ").length>2).length,t=Object.entries(D).map(([k,{count:I,density:q}],U)=>({key:k,keyword:k,count:I,density:q,animationDelay:U*.1})),F=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(k,I)=>k.density-I.density,render:k=>`${k.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 mt-6",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-8 capitalize",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(y==null?void 0:y.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(y==null?void 0:y.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(y==null?void 0:y.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(y==null?void 0:y.aiModel)||"-"})]})]}),(y==null?void 0:y.generatedAt)&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border normal-case border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(y.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[!!(u!=null&&u.score)&&e.jsx(S,{score:(u==null?void 0:u.score)||0,max:100,label:"Blog Score",level:`${(u==null?void 0:u.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(N,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(u==null?void 0:u.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(N,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(u==null?void 0:u.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(N,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(u==null?void 0:u.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(i=u==null?void 0:u.focusKeywords)==null?void 0:i.map((k,I)=>e.jsx(G.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:I*.1},className:"px-3 py-1 bg-blue-50 rounded-full text-sm text-blue-700 border border-blue-100 hover:bg-blue-100 transition-colors",children:k},k))})]}),(u==null?void 0:u.keywords.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Other Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(M=u==null?void 0:u.keywords)==null?void 0:M.map((k,I)=>e.jsx(G.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:I*.1},className:"px-3 py-2 bg-gray-100 rounded-full text-sm text-gray-700 border border-gray-200 hover:bg-gray-200 transition-colors",children:k},k))})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Keyword Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx(N,{icon:e.jsx(Ws,{className:"w-5 h-5"}),label:"Short-Tail Keywords",value:E,color:"border-blue-100",delay:0}),e.jsx(N,{icon:e.jsx(Us,{className:"w-5 h-5"}),label:"Long-Tail Keywords",value:W,color:"border-blue-100",delay:.1})]}),e.jsx("h5",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Keyword Densities"}),e.jsx(G.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:e.jsx(Ce,{dataSource:t,columns:F,pagination:!1,components:{body:{row:({children:k,...I})=>{var U;const q=((U=t[I["data-row-key"]])==null?void 0:U.animationDelay)||0;return e.jsx(G.tr,{...I,initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:q},children:k})}}},className:"rounded-md overflow-hidden capitalize"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(S,{score:((z=c==null?void 0:c.fleschEase)==null?void 0:z.score)||0,max:100,label:"Flesch Ease",level:((P=c==null?void 0:c.fleschEase)==null?void 0:P.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:["SMOG Index",e.jsx(K,{type:"smog"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:((H=c==null?void 0:c.smogIndex)==null?void 0:H.level)||"-"})]}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:[((a=c==null?void 0:c.smogIndex)==null?void 0:a.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:["ARI ",e.jsx(K,{type:"ari"})]}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:((l=c==null?void 0:c.ari)==null?void 0:l.level)||"-"})]}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:[((A=c==null?void 0:c.ari)==null?void 0:A.score)||0," grade"]})]}),e.jsx(N,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(c==null?void 0:c.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(N,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(c==null?void 0:c.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(c==null?void 0:c.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(c==null?void 0:c.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(c==null?void 0:c.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:(c==null?void 0:c.syllableCount)||0})]})]})]})]})};return j.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[n]),e.jsx(te,{title:e.jsxs(G.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-lg",children:"Performance Dashboard"})]}),open:n,onCancel:o,footer:null,width:900,centered:!0,bodyStyle:{maxHeight:"85vh",overflowY:"auto"},className:"rounded-2xl shadow-2xl",children:e.jsxs("div",{className:"space-y-6 p-4",children:[e.jsxs(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-base font-semibold text-gray-700 mb-2",children:"Select Blog"}),e.jsx("div",{className:"relative",children:e.jsxs(me,{className:"w-full",placeholder:"Select Blog",onChange:r=>{const c=h.data.find(u=>u._id===r);c&&g(c)},value:((w=s.selectedBlog)==null?void 0:w._id)||"",children:[e.jsx(Option,{value:"",children:"Select Blog"}),(v=h.data)==null?void 0:v.filter(r=>r.status==="complete"&&r.isArchived===!1).map(r=>e.jsx(Option,{value:r._id,className:"bg-gray-50",children:r.title},r._id))]})})]}),s.selectedBlog&&e.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[e.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Preview"})}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2 truncate",children:s.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3",children:(s.content||"").replace(/[#>*=_`~-]+/g,"").replace(/\n+/g," ").replace(/\s+/g," ").trim()})]})]}),e.jsx(d,{stats:C})]})})},wt=({closeFnc:o})=>{var c;const[n,h]=j.useState({selectedBlog:null,title:"",content:""}),[s,m]=j.useState(!1),[C,L]=j.useState(null),f=ae(),{blogs:g,error:p}=se(u=>u.blog);j.useEffect(()=>{f(Te())},[f]),j.useEffect(()=>{p&&O.error(p)},[p]);const K=u=>{h({selectedBlog:u,title:u.title,content:u.content}),L(null)},N=async()=>{if(!n.selectedBlog){O.error("Please select a blog");return}m(!0);try{const u=await f(je(n.selectedBlog._id));if(je.fulfilled.match(u)){const{stats:b}=u.payload;L(b),O.success("Performance analysis completed!")}else O.error("Something went wrong during stats fetching.")}catch{O.error("Unexpected error occurred.")}finally{m(!1)}},S={flesch:"📘 Flesch Reading Ease (0–100): Higher is easier to read. Aim for 60+ for general audiences.",smog:"📗 SMOG Index: Estimates education level needed to understand. Lower is better (ideal < 10).",ari:"📙 ARI (Automated Readability Index): Based on sentence and word length. Lower = easier.",seo:"📈 SEO Score: Evaluates keyword use, metadata, and structure. Aim for 80+ for strong SEO."},d=({type:u="seo"})=>e.jsx(oe,{title:S[u],trigger:["hover","click"],placement:"top",children:e.jsx(He,{className:"ml-2 text-black size-8 hover:text-blue-500 cursor-pointer"})}),w=({icon:u,label:b,value:y,color:D,delay:E=0,suffix:W="",description:t=""})=>e.jsx(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:E*.1,duration:.3},className:`p-4 bg-white rounded-xl border ${D} shadow-sm`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[u&&e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-500",children:u}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:b}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-1",children:[y,W]}),t&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t})]})]})}),v=({score:u,max:b,label:y,level:D,color:E})=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[y,e.jsx(d,{type:/seo/gi.test(y)?"seo":"flesch"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:D})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${E}`,style:{width:`${u/b*100}%`}})}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[u," / ",b]})})]})]}),r=({stats:u})=>{var i,M,z,P,H,a,l,A;if(!u)return null;const{readabililty:b={},seo:y={},engagement:D={},metadata:E={}}=u,W=(y==null?void 0:y.keywordDensity)||{},t=Object.entries(W).map(([k,{count:I,density:q}],U)=>({key:k,keyword:k,count:I,density:q,animationDelay:U*.1})),F=[{title:"Keywords",dataIndex:"keyword",key:"keyword",width:"60%",ellipsis:!0},{title:"Count",dataIndex:"count",key:"count",align:"center",width:"5ch"},{title:"Density",dataIndex:"density",key:"density",sorter:(k,I)=>k.density-I.density,render:k=>`${k.toFixed(2)}%`,align:"center",width:"5ch"}];return e.jsxs(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-5 mt-4",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Blog Performance Overview"})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-purple-100 rounded text-purple-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.jsx("path",{d:"M12 17h.01"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Metadata"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Title"}),e.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(E==null?void 0:E.title)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tone"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(E==null?void 0:E.tone)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Template"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(E==null?void 0:E.template)||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"AI Model"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:(E==null?void 0:E.aiModel)||"-"})]})]}),(E==null?void 0:E.generatedAt)&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Generated At"}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:new Date(E.generatedAt).toLocaleString("en-IN")})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-green-100 rounded text-green-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 11.5V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1.4"}),e.jsx("path",{d:"M14 10V8a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2"}),e.jsx("path",{d:"M10 9.9V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v5"}),e.jsx("path",{d:"M6 14v0a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0"}),e.jsx("path",{d:"M18 11v0a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-4a8 8 0 0 1-8-8 2 2 0 1 1 4 0"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Engagement"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(w,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),label:"GenWrite Views",value:(D==null?void 0:D.views)||0,color:"border-green-100",delay:0}),e.jsx(w,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),label:"WordPress Views",value:(D==null?void 0:D.wordpressViews)||0,color:"border-green-100",delay:1})]}),e.jsx("div",{className:"mt-4 bg-gray-50 p-4 rounded-xl border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Public Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${D!=null&&D.isPublic?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:D!=null&&D.isPublic?"✅ Public":"❌ Private"})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded text-blue-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),e.jsx("path",{d:"m11.6 16.8 3.9-2.4 3.9 2.4"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"SEO"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(v,{score:(y==null?void 0:y.score)||0,max:100,label:"SEO Score",level:`${(y==null?void 0:y.score)||0}/100`,color:"bg-blue-500"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(w,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),label:"Meta Description Length",value:(y==null?void 0:y.metaDescriptionLength)||0,suffix:" characters",color:"border-blue-100",delay:1}),e.jsx(w,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m10 14 2-2 2 2"}),e.jsx("path",{d:"M12 12v8"}),e.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),label:"Internal Links",value:(y==null?void 0:y.internalLinks)||0,color:"border-purple-100",delay:2}),e.jsx(w,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),label:"External Links",value:(y==null?void 0:y.externalLinks)||0,color:"border-indigo-100",delay:3})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Focus Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(i=y==null?void 0:y.focusKeywords)==null?void 0:i.map((k,I)=>e.jsx(G.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:I*.1},className:"px-3 py-1 bg-blue-50 rounded-full text-sm text-blue-700 border border-blue-100",children:k},k))})]}),(y==null?void 0:y.keywords.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Other Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(M=y==null?void 0:y.keywords)==null?void 0:M.map((k,I)=>e.jsx(G.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:I*.1},className:"px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-700 border border-gray-200",children:k},k))})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Keyword Densities"}),e.jsx(G.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:e.jsx(Ce,{dataSource:t,columns:F,pagination:!1,components:{body:{row:({children:k,...I})=>{var U;const q=((U=t[I["data-row-key"]])==null?void 0:U.animationDelay)||0;return e.jsx(G.tr,{...I,initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:q},children:k})}}},className:"rounded-md overflow-hidden"})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1 bg-teal-100 rounded text-teal-500",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Readability"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(v,{score:((z=b==null?void 0:b.fleschEase)==null?void 0:z.score)||0,max:100,label:"Flesch Ease",level:((P=b==null?void 0:b.fleschEase)==null?void 0:P.level)||"-",color:"bg-teal-500"}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["SMOG Index",e.jsx(d,{type:"smog"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((H=b==null?void 0:b.smogIndex)==null?void 0:H.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((a=b==null?void 0:b.smogIndex)==null?void 0:a.score)||0," grade"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["ARI ",e.jsx(d,{type:"ari"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((l=b==null?void 0:b.ari)==null?void 0:l.level)||"-"})]}),e.jsxs("p",{className:"text-xl font-bold text-gray-800 mt-2",children:[((A=b==null?void 0:b.ari)==null?void 0:A.score)||0," grade"]})]}),e.jsx(w,{icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),label:"Reading Time",value:(b==null?void 0:b.readingTime)||0,suffix:" min",color:"border-teal-100",delay:0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx(w,{icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),label:"Word Count",value:(b==null?void 0:b.wordCount)||0,color:"border-amber-100",delay:1}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sentence Count"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(b==null?void 0:b.sentenceCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Sentence Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(b==null?void 0:b.avgSentenceLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Word Length"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(b==null?void 0:b.avgWordLength)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Syllables"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(b==null?void 0:b.syllableCount)||0})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paragraphs"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(b==null?void 0:b.paragraphCount)||0})]})]})]})]})};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-4xl bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[e.jsxs(G.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Seo Analysis Dashboard"})]}),e.jsx("button",{onClick:o,className:"p-2 rounded-full hover:bg-gray-100 transition-all",children:e.jsx(le,{className:"h-6 w-6 text-gray-500 hover:text-gray-700"})})]}),e.jsx("div",{className:"p-5 overflow-y-auto max-h-[80vh]",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Blog"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 appearance-none",onChange:u=>{const b=g.data.find(y=>y._id===u.target.value);b&&K(b)},value:((c=n.selectedBlog)==null?void 0:c._id)||"",children:[e.jsx("option",{value:"",className:"bg-gray-50",children:"Select a blog"}),g.data.map(u=>e.jsx("option",{value:u._id,className:"bg-gray-50 capitalize",children:u.title},u._id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400",children:e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),n.selectedBlog&&e.jsxs(G.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"font-medium text-gray-700",children:"Preview"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 truncate capitalize",children:n.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3",children:n.content})]})]}),e.jsx(G.div,{className:"flex justify-end pt-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(G.button,{onClick:N,className:`px-5 py-2.5 rounded-lg font-medium flex items-center gap-2 ${s?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"} transition-all duration-300 shadow`,disabled:s||!n.selectedBlog,whileHover:{scale:!s&&n.selectedBlog?1.03:1},whileTap:{scale:.97},children:s?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),"Analyze Performance"]})})}),s&&!C&&e.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-4",children:[...Array(6)].map((u,b)=>e.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:b*.1},className:"h-32 bg-gray-100 rounded-xl animate-pulse"},b))}),e.jsx(r,{stats:C})]})}),e.jsx("div",{className:"flex justify-end gap-3 p-5 border-t border-gray-100",children:e.jsx(G.button,{onClick:o,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-300",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close Dashboard"})})]})})},vt=({closeFnc:o,openSecondStepModal:n,openJobModal:h,visible:s})=>{var H;const[m,C]=j.useState(""),[L,f]=j.useState([]),[g,p]=j.useState(1),[K,N]=j.useState(!1),S=ae(),{keywordAnalysis:d,loading:w,selectedKeywords:v}=se(a=>a.analysis);j.useEffect(()=>{L.length===0&&(p(1),S(De()))},[L,S]);const r=()=>{const a=m.trim();if(!a)return;const l=L.map(I=>I.toLowerCase()),A=new Set,k=a.split(",").map(I=>I.trim()).filter(I=>I&&!l.includes(I.toLowerCase())&&!A.has(I.toLowerCase())&&A.add(I.toLowerCase()));k.length>0&&(f([...L,...k]),C(""))},c=a=>{var k;const l=L[a],A=L.filter((I,q)=>q!==a);if(f(A),A.length===0&&(S(clearKingdomAnalysis()),p(1)),(k=v==null?void 0:v.allKeywords)!=null&&k.includes(l)){const I=v.allKeywords.filter(q=>q!==l);S(de({focusKeywords:I.slice(0,3),keywords:I,allKeywords:I}))}},u=a=>{a.key==="Enter"&&(a.preventDefault(),r())},b=()=>{L.length>0&&(S(cs(L)),p(1))},y=()=>{const a={LOW:[],MEDIUM:[],HIGH:[]};d==null||d.forEach(I=>{a[I.competition]&&a[I.competition].push({keyword:I.keyword,competition_index:I.competition_index})});const l=a.LOW.sort((I,q)=>I.competition_index-q.competition_index).slice(0,2),A=a.MEDIUM.sort((I,q)=>I.competition_index-q.competition_index).slice(0,2),k=a.HIGH.sort((I,q)=>I.competition_index-q.competition_index).slice(0,2);return[...l.map(I=>I.keyword),...A.map(I=>I.keyword),...k.map(I=>I.keyword)]},D=()=>{const a=y();if(!a.length||!(d!=null&&d.length)){te.error({title:"No Auto-Selected Keywords",content:"No keywords available to auto-select. Please analyze keywords first."});return}te.info({icon:null,title:e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("span",{children:"Auto-Selected Keywords"})}),content:e.jsxs("div",{children:[e.jsx("p",{children:"We selected these keywords automatically based on competition index:"}),e.jsx("ul",{className:"list-disc ml-5 mt-2",children:a.map(l=>e.jsx("li",{className:"capitalize",children:l},l))}),e.jsx("p",{className:"mt-3",children:"Do you want to add these too?"})]}),okText:"Accept",cancelText:"Decline",closable:!0,onOk(){const l=[...(v==null?void 0:v.allKeywords)||[],...a.filter(A=>{var k;return!((k=v==null?void 0:v.allKeywords)!=null&&k.includes(A))})].slice(0,6);S(de({focusKeywords:l.slice(0,3),keywords:l,allKeywords:l}))},onCancel(){const l=(v==null?void 0:v.allKeywords)||[];S(de({focusKeywords:l.slice(0,3),keywords:l,allKeywords:l}))},okButtonProps:{className:"bg-blue-600 text-white"}})},E=async a=>{const l=(v==null?void 0:v.allKeywords)||[];await S(de({focusKeywords:l.slice(0,3),keywords:l,allKeywords:l})),setTimeout(()=>{a==="blog"?n({focusKeywords:l.slice(0,3),keywords:l,allKeywords:l}):h(),o()},100)},W=()=>{E("blog")},t=()=>{E("job")},F=[{title:"Keyword",dataIndex:"keyword",key:"keyword",sorter:(a,l)=>a.keyword.localeCompare(l.keyword),render:a=>e.jsx("span",{className:"font-medium capitalize",children:a})},{title:"Monthly Searches",dataIndex:"avgMonthlySearches",key:"avgMonthlySearches",sorter:(a,l)=>a.avgMonthlySearches-l.avgMonthlySearches,render:a=>new Intl.NumberFormat().format(a)},{title:"Competition",dataIndex:"competition",key:"competition",sorter:(a,l)=>a.competition_index-l.competition_index,render:a=>e.jsx(Cs,{color:a==="LOW"?"green":a==="MEDIUM"?"orange":a==="HIGH"?"red":"gray",children:a})},{title:"Competition Index",dataIndex:"competition_index",key:"competition_index",sorter:(a,l)=>a.competition_index-l.competition_index,render:a=>a||"-"}],i=(d==null?void 0:d.map((a,l)=>({key:l,keyword:a.keyword,avgMonthlySearches:a.avgMonthlySearches,competition:a.competition,competition_index:a.competition_index,avgCpc:a.avgCpc,lowBid:a.lowBid,highBid:a.highBid})))||[],M=K?i.filter(a=>{var l;return(l=v==null?void 0:v.allKeywords)==null?void 0:l.includes(a.keyword)}):i,z=a=>p(a);j.useEffect(()=>()=>{f([]),C(""),p(1),N(!1)},[]),j.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[s]);const P=((H=v==null?void 0:v.allKeywords)==null?void 0:H.length)>0;return e.jsx(te,{open:s,onCancel:o,closable:!0,footer:[e.jsxs("div",{className:"flex justify-end gap-3 pt-2 border-gray-100",children:[e.jsx(G.button,{onClick:D,className:"px-5 py-2.5 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:w||!(d!=null&&d.length),style:{opacity:w||!(d!=null&&d.length)?.5:1,cursor:w||!(d!=null&&d.length)?"not-allowed":"pointer"},children:"Show Auto-Selected Keywords"}),e.jsx(G.button,{onClick:W,className:`px-5 py-2.5 text-sm font-medium rounded-lg ${P?"text-gray-700 bg-gray-100 hover:bg-gray-200":"text-gray-400 bg-gray-200 cursor-not-allowed"}`,whileHover:{scale:P?1.03:1},whileTap:{scale:P?.97:1},disabled:!P,children:"Create Blog"}),e.jsx(G.button,{onClick:t,className:`px-5 py-2.5 text-sm font-medium rounded-lg ${P?"text-gray-700 bg-gray-100 hover:bg-gray-200":"text-gray-400 bg-gray-200 cursor-not-allowed"}`,whileHover:{scale:P?1.03:1},whileTap:{scale:P?.97:1},disabled:!P,children:"Create New Job"}),e.jsx(G.button,{onClick:o,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Close"})]})],width:1e3,centered:!0,title:"Keyword Research",maskClosable:!0,children:e.jsxs("div",{children:[e.jsx("p",{className:"mb-4 text-gray-600",children:"Find and analyze keywords for your blog"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx(Ss,{placeholder:"Enter a keyword",value:m,onChange:a=>C(a.target.value),onKeyPress:u,className:"flex-1","aria-label":"Enter keyword"}),e.jsx(G.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(Le,{type:"primary",onClick:r,children:"Add"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:L.map((a,l)=>e.jsxs(G.div,{initial:{opacity:0,scale:.8},animate:{opacity:1},className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full flex items-center",children:[e.jsx("span",{className:"capitalize",children:a}),e.jsx(G.div,{whileHover:{scale:1.2},whileTap:{scale:.8},className:"ml-2 cursor-pointer",onClick:()=>c(l),children:e.jsx(Ns,{className:"text-blue-800 text-xs"})})]},l))}),e.jsx(G.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(Le,{block:!0,type:"primary",onClick:b,loading:w,disabled:L.length===0,children:"Analyze Keywords"})}),!w&&(d==null?void 0:d.length)>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(_e,{checked:K,onChange:a=>N(a),disabled:!P}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Show Selected Keywords Only"})]}),e.jsx(Ce,{columns:F,dataSource:M,pagination:{current:g,pageSize:4,showSizeChanger:!1,onChange:z,total:M.length},rowSelection:{selectedRowKeys:(v==null?void 0:v.allKeywords)||[],onChange:a=>{S(de({focusKeywords:a.slice(0,3),keywords:a,allKeywords:a}))},getCheckboxProps:a=>({name:a.keyword})},rowKey:a=>a.keyword,scroll:{x:!0}})]})]})})};Is.register(Bs,Ls,Ms,$s,As,Ks,Fs,Es);const lr=()=>{const[o,n]=j.useState(!1),[h,s]=j.useState(0),[m,C]=j.useState(!1),[L,f]=j.useState(!1),[g,p]=j.useState(!1),[K,N]=j.useState(!1),[S,d]=j.useState(!1),[w,v]=j.useState(!1),[r,c]=j.useState(!1),[u,b]=j.useState({}),[y,D]=j.useState([]),[E,W]=j.useState(!0),{blogs:t,error:F}=se(T=>T.blog),i=ae(),M=xe(),z=se(ds),{handlePopup:P}=he(),H=()=>n(!0),a=()=>C(!0),l=()=>C(!1),A=()=>f(!0),k=()=>f(!1),I=()=>p(!0),q=()=>p(!1),U=()=>N(!0),ue=()=>N(!1),x=()=>{v(!1),n(!0),s(0)},B=()=>{v(!1),i(us()),M("/jobs")};j.useEffect(()=>{i(ms()),i(Te());const T=setTimeout(()=>W(!1),1200);return()=>clearTimeout(T)},[i]),j.useEffect(()=>{(async()=>{if(!localStorage.getItem("token")){M("/login");return}try{const V=await i(Me());Me.rejected.match(V)&&(console.warn("Failed to load user, redirecting..."),M("/login"))}catch(V){console.error("User init failed:",V),O.error("Failed to load user data.")}})()},[i,M]),j.useEffect(()=>{if(t!=null&&t.data&&Array.isArray(t.data)){const T=t.data.filter(_=>_.isArchived===!1).slice(-3);D(T)}else D([])},[t]),j.useEffect(()=>{F&&O.error(F)},[F]);const R=async T=>{var _,V;try{const Z=(((_=z==null?void 0:z.credits)==null?void 0:_.base)||0)+(((V=z==null?void 0:z.credits)==null?void 0:V.extra)||0),J=ke("blog.single",u.aiModel||"default");P({title:"Confirm Blog Creation",description:e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Single Blog generation cost: ",e.jsxs("b",{children:[J," credits"]})]}),e.jsx("br",{}),e.jsx("span",{children:"Do you want to continue?"})]}),onConfirm:()=>{if(J>Z){O.error("You do not have enough credits to generate this blog."),P(!1);return}i(xs({blogData:T,navigate:M})),n(!1),s(0)}}),i($e())}catch(Z){console.error("Error submitting form:",Z),O.error("Failed to create blog.")}},$=()=>{n(!1),s(0),b({}),i($e())},Q=()=>s(h+1),ne=()=>s(h-1);return e.jsxs(e.Fragment,{children:[e.jsx(hs,{children:e.jsx("title",{children:"Home | GenWrite"})}),e.jsxs(lt,{title:`Step ${h}/3`,visible:o,onCancel:$,className:"max-h-[90vh] overflow-scroll",children:[h===0&&e.jsx(it,{handleNext:Q,handleClose:$,data:u,setData:b}),h===1&&e.jsx(dt,{handleNext:Q,handleClose:$,handlePrevious:ne,data:u,setData:b}),h===2&&e.jsx(mt,{handleNext:Q,handlePrevious:ne,handleClose:$,data:u,setData:b,handleSubmit:R}),e.jsx("div",{className:"flex items-center justify-center mt-4",children:e.jsx("progress",{className:"w-full max-w-md",max:"3",value:h})})]}),m&&e.jsx(bt,{closeFnc:l}),L&&e.jsx(ft,{closeFnc:k}),g&&e.jsx(yt,{closeFnc:q}),K&&e.jsx(ks,{closeFnc:ue,open:U,blogs:t}),S&&e.jsx(jt,{allBlogs:t,closeFnc:()=>d(!1),visible:()=>d(!0)}),w&&e.jsx(vt,{closeFnc:()=>{v(!1),i(De())},openSecondStepModal:x,openJobModal:B,visible:w}),r&&e.jsx(wt,{closeFnc:()=>c(!1)}),e.jsxs(G.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mt-5 ml-10",children:[e.jsxs("h1",{className:"bg-clip-text bg-gradient-to-r font-bold from-blue-600 md:text-4xl text-3xl text-transparent to-purple-600",children:["Let's Begin ",e.jsx("span",{className:"ml-2 text-2xl text-yellow-400",children:"✨"})]}),e.jsxs("p",{className:"text-gray-600 text-lg mt-2",children:["Welcome back ",e.jsx("b",{children:(z==null?void 0:z.name)||"User"}),"! Ready to create something amazing today?"]})]}),e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:E?e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((T,_)=>e.jsx(ye,{},_))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:2}).map((T,_)=>e.jsx(pe,{},_))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((T,_)=>e.jsx(ye,{},_))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((T,_)=>e.jsx(pe,{},_))})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid lg:grid-cols-3 gap-4",children:e.jsx(be,{children:E?Array.from({length:3}).map((T,_)=>e.jsx(ye,{},_)):ht.map((T,_)=>e.jsx(ut,{icon:T.icon,title:T.title,content:T.content,id:T.id,gradient:T.hoverGradient,functions:{showModal:H,setModelData:b,showDaisy:a,showMultiStepModal:A,showQuickBlogModal:I,showCompetitiveAnalysis:U}},_))})}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center",children:e.jsx(ze,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Tools"})]}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4",children:e.jsx(be,{children:E?Array.from({length:4}).map((T,_)=>e.jsx(pe,{},_)):xt.map((T,_)=>{const V={};return T.id===1?V.showKeywordResearch=()=>v(!0):T.id===2?V.showSeoAnalysis=()=>c(!0):T.id===3?V.showPerformanceMonitoring=()=>d(!0):T.id===4&&(V.showCompetitiveAnalysis=()=>U()),e.jsx(gt,{id:T.id,icon:T.icon,title:T.title,content:T.content,bgColor:T.bgColor,hoverBg:T.hoverBg,color:T.color,navigate:T.navigate,functions:V},_)})})})]}),y.length>0&&e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 mt-6",children:[e.jsx("div",{className:"mb-6 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-600 flex items-center justify-center",children:e.jsx(Ps,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Projects"})]})}),e.jsxs("div",{children:[e.jsx(be,{children:E?Array.from({length:3}).map((T,_)=>e.jsx(pe,{},_)):y.map((T,_)=>e.jsx(pt,{title:T.title,content:T.content,tags:T.focusKeywords,item:T,time:T.updatedAt},_))}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{className:"px-6 py-2 text-blue-600 hover:text-blue-700 font-medium hover:bg-blue-50 rounded-lg transition-colors",onClick:()=>M("/blogs"),children:"View All Projects"})})]})]})]})})]})};export{lr as default};
