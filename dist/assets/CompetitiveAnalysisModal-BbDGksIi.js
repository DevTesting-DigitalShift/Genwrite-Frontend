import{a7 as ue,e as B,a8 as z,a5 as me,aD as pe,a9 as G,aa as le,ay as Re,z as Se,a6 as _e,ai as Me,ag as Be,ah as Q,_ as De,C as Ie,g as we,c as ke,d as T,r as Pe,aV as Te,aS as Le,I as Ke,x as We,D as ye,aH as Fe,o as ce,as as ze,bh as de,T as Xe,aF as He,F as Ge,bi as Ve,bj as qe,bk as Ue,bl as Qe,a0 as Ye,j as f,m as te,b as Y,B as U}from"./index-Cq5-48xo.js";import{R as O,b as d}from"./chunk-tiptap-DryasWDK.js";import{g as Ze}from"./getEstimatedCost-BDtYIndE.js";import{X as he}from"./x-NcH51iHG.js";import{C as Je}from"./index-D5dPhX59.js";import{g as et,R as tt}from"./collapse-CFgHjxhv.js";var je=O.forwardRef(function(e,t){var r=e.prefixCls,n=e.forceRender,a=e.className,u=e.style,s=e.children,l=e.isActive,i=e.role,g=e.classNames,p=e.styles,h=O.useState(l||n),x=ue(h,2),y=x[0],b=x[1];return O.useEffect(function(){(n||l)&&b(!0)},[n,l]),y?O.createElement("div",{ref:t,className:B("".concat(r,"-content"),z(z({},"".concat(r,"-content-active"),l),"".concat(r,"-content-inactive"),!l),a),style:u,role:i},O.createElement("div",{className:B("".concat(r,"-content-box"),g==null?void 0:g.body),style:p==null?void 0:p.body},s)):null});je.displayName="PanelContent";var rt=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],Ne=O.forwardRef(function(e,t){var r=e.showArrow,n=r===void 0?!0:r,a=e.headerClass,u=e.isActive,s=e.onItemClick,l=e.forceRender,i=e.className,g=e.classNames,p=g===void 0?{}:g,h=e.styles,x=h===void 0?{}:h,y=e.prefixCls,b=e.collapsible,S=e.accordion,w=e.panelKey,v=e.extra,$=e.header,P=e.expandIcon,o=e.openMotion,c=e.destroyInactivePanel,m=e.children,I=me(e,rt),k=b==="disabled",j=v!=null&&typeof v!="boolean",C=z(z(z({onClick:function(){s==null||s(w)},onKeyDown:function(A){(A.key==="Enter"||A.keyCode===pe.ENTER||A.which===pe.ENTER)&&(s==null||s(w))},role:S?"tab":"button"},"aria-expanded",u),"aria-disabled",k),"tabIndex",k?-1:0),_=typeof P=="function"?P(e):O.createElement("i",{className:"arrow"}),W=_&&O.createElement("div",G({className:"".concat(y,"-expand-icon")},["header","icon"].includes(b)?C:{}),_),L=B("".concat(y,"-item"),z(z({},"".concat(y,"-item-active"),u),"".concat(y,"-item-disabled"),k),i),K=B(a,"".concat(y,"-header"),z({},"".concat(y,"-collapsible-").concat(b),!!b),p.header),E=le({className:K,style:x.header},["header","icon"].includes(b)?{}:C);return O.createElement("div",G({},I,{ref:t,className:L}),O.createElement("div",E,n&&W,O.createElement("span",G({className:"".concat(y,"-header-text")},b==="header"?C:{}),$),j&&O.createElement("div",{className:"".concat(y,"-extra")},v)),O.createElement(Re,G({visible:u,leavedClassName:"".concat(y,"-content-hidden")},o,{forceRender:l,removeOnLeave:c}),function(N,A){var F=N.className,R=N.style;return O.createElement(je,{ref:A,prefixCls:y,className:F,classNames:p,style:R,styles:x,isActive:u,forceRender:l,role:S?"tabpanel":void 0},m)}))}),nt=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],ot=function(t,r){var n=r.prefixCls,a=r.accordion,u=r.collapsible,s=r.destroyInactivePanel,l=r.onItemClick,i=r.activeKey,g=r.openMotion,p=r.expandIcon;return t.map(function(h,x){var y=h.children,b=h.label,S=h.key,w=h.collapsible,v=h.onItemClick,$=h.destroyInactivePanel,P=me(h,nt),o=String(S??x),c=w??u,m=$??s,I=function(C){c!=="disabled"&&(l(C),v==null||v(C))},k=!1;return a?k=i[0]===o:k=i.indexOf(o)>-1,O.createElement(Ne,G({},P,{prefixCls:n,key:o,panelKey:o,isActive:k,accordion:a,openMotion:g,expandIcon:p,header:b,collapsible:c,onItemClick:I,destroyInactivePanel:m}),y)})},at=function(t,r,n){if(!t)return null;var a=n.prefixCls,u=n.accordion,s=n.collapsible,l=n.destroyInactivePanel,i=n.onItemClick,g=n.activeKey,p=n.openMotion,h=n.expandIcon,x=t.key||String(r),y=t.props,b=y.header,S=y.headerClass,w=y.destroyInactivePanel,v=y.collapsible,$=y.onItemClick,P=!1;u?P=g[0]===x:P=g.indexOf(x)>-1;var o=v??s,c=function(k){o!=="disabled"&&(i(k),$==null||$(k))},m={key:x,panelKey:x,header:b,headerClass:S,isActive:P,prefixCls:a,destroyInactivePanel:w??l,openMotion:p,accordion:u,children:t.props.children,onItemClick:c,expandIcon:h,collapsible:o};return typeof t.type=="string"?t:(Object.keys(m).forEach(function(I){typeof m[I]>"u"&&delete m[I]}),O.cloneElement(t,m))};function st(e,t,r){return Array.isArray(e)?ot(e,r):Se(t).map(function(n,a){return at(n,a,r)})}function it(e){var t=e;if(!Array.isArray(t)){var r=Q(t);t=r==="number"||r==="string"?[t]:[]}return t.map(function(n){return String(n)})}var lt=O.forwardRef(function(e,t){var r=e.prefixCls,n=r===void 0?"rc-collapse":r,a=e.destroyInactivePanel,u=a===void 0?!1:a,s=e.style,l=e.accordion,i=e.className,g=e.children,p=e.collapsible,h=e.openMotion,x=e.expandIcon,y=e.activeKey,b=e.defaultActiveKey,S=e.onChange,w=e.items,v=B(n,i),$=_e([],{value:y,onChange:function(j){return S==null?void 0:S(j)},defaultValue:b,postState:it}),P=ue($,2),o=P[0],c=P[1],m=function(j){return c(function(){if(l)return o[0]===j?[]:[j];var C=o.indexOf(j),_=C>-1;return _?o.filter(function(W){return W!==j}):[].concat(De(o),[j])})};Me(!g,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var I=st(w,g,{prefixCls:n,accordion:l,openMotion:h,expandIcon:x,collapsible:p,destroyInactivePanel:u,onItemClick:m,activeKey:o});return O.createElement("div",G({ref:t,className:v,style:s,role:l?"tablist":void 0},Be(e,{aria:!0,data:!0})),I)});const ge=Object.assign(lt,{Panel:Ne});ge.Panel;const ct=d.forwardRef((e,t)=>{const{getPrefixCls:r}=d.useContext(Ie),{prefixCls:n,className:a,showArrow:u=!0}=e,s=r("collapse",n),l=B({[`${s}-no-arrow`]:!u},a);return d.createElement(ge.Panel,Object.assign({ref:t},e,{prefixCls:s,className:l}))}),dt=e=>{const{componentCls:t,contentBg:r,padding:n,headerBg:a,headerPadding:u,collapseHeaderPaddingSM:s,collapseHeaderPaddingLG:l,collapsePanelBorderRadius:i,lineWidth:g,lineType:p,colorBorder:h,colorText:x,colorTextHeading:y,colorTextDisabled:b,fontSizeLG:S,lineHeight:w,lineHeightLG:v,marginSM:$,paddingSM:P,paddingLG:o,paddingXS:c,motionDurationSlow:m,fontSizeIcon:I,contentPadding:k,fontHeight:j,fontHeightLG:C}=e,_=`${T(g)} ${p} ${h}`;return{[t]:Object.assign(Object.assign({},Pe(e)),{backgroundColor:a,border:_,borderRadius:i,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:_,"&:first-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`${T(i)} ${T(i)} 0 0`}},"&:last-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`0 0 ${T(i)} ${T(i)}`}},[`> ${t}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:u,color:y,lineHeight:w,cursor:"pointer",transition:`all ${m}, visibility 0s`},Te(e)),{[`> ${t}-header-text`]:{flex:"auto"},[`${t}-expand-icon`]:{height:j,display:"flex",alignItems:"center",paddingInlineEnd:$},[`${t}-arrow`]:Object.assign(Object.assign({},Le()),{fontSize:I,transition:`transform ${m}`,svg:{transition:`transform ${m}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}}),[`${t}-collapsible-header`]:{cursor:"default",[`${t}-header-text`]:{flex:"none",cursor:"pointer"}},[`${t}-collapsible-icon`]:{cursor:"unset",[`${t}-expand-icon`]:{cursor:"pointer"}}},[`${t}-content`]:{color:x,backgroundColor:r,borderTop:_,[`& > ${t}-content-box`]:{padding:k},"&-hidden":{display:"none"}},"&-small":{[`> ${t}-item`]:{[`> ${t}-header`]:{padding:s,paddingInlineStart:c,[`> ${t}-expand-icon`]:{marginInlineStart:e.calc(P).sub(c).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:P}}},"&-large":{[`> ${t}-item`]:{fontSize:S,lineHeight:v,[`> ${t}-header`]:{padding:l,paddingInlineStart:n,[`> ${t}-expand-icon`]:{height:C,marginInlineStart:e.calc(o).sub(n).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:o}}},[`${t}-item:last-child`]:{borderBottom:0,[`> ${t}-content`]:{borderRadius:`0 0 ${T(i)} ${T(i)}`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:b,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:$}}}}})}},ut=e=>{const{componentCls:t}=e,r=`> ${t}-item > ${t}-header ${t}-arrow`;return{[`${t}-rtl`]:{[r]:{transform:"rotate(180deg)"}}}},mt=e=>{const{componentCls:t,headerBg:r,borderlessContentPadding:n,borderlessContentBg:a,colorBorder:u}=e;return{[`${t}-borderless`]:{backgroundColor:r,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${u}`},[`
        > ${t}-item:last-child,
        > ${t}-item:last-child ${t}-header
      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:a,borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{padding:n}}}},gt=e=>{const{componentCls:t,paddingSM:r}=e;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:r}}}}}},ft=e=>({headerPadding:`${e.paddingSM}px ${e.padding}px`,headerBg:e.colorFillAlter,contentPadding:`${e.padding}px 16px`,contentBg:e.colorBgContainer,borderlessContentPadding:`${e.paddingXXS}px 16px ${e.padding}px`,borderlessContentBg:"transparent"}),pt=we("Collapse",e=>{const t=ke(e,{collapseHeaderPaddingSM:`${T(e.paddingXS)} ${T(e.paddingSM)}`,collapseHeaderPaddingLG:`${T(e.padding)} ${T(e.paddingLG)}`,collapsePanelBorderRadius:e.borderRadiusLG});return[dt(t),mt(t),gt(t),ut(t),et(t)]},ft),yt=d.forwardRef((e,t)=>{const{getPrefixCls:r,direction:n,expandIcon:a,className:u,style:s}=Ke("collapse"),{prefixCls:l,className:i,rootClassName:g,style:p,bordered:h=!0,ghost:x,size:y,expandIconPosition:b="start",children:S,destroyInactivePanel:w,destroyOnHidden:v,expandIcon:$}=e,P=We(E=>{var N;return(N=y??E)!==null&&N!==void 0?N:"middle"}),o=r("collapse",l),c=r(),[m,I,k]=pt(o),j=d.useMemo(()=>b==="left"?"start":b==="right"?"end":b,[b]),C=$??a,_=d.useCallback((E={})=>{const N=typeof C=="function"?C(E):d.createElement(tt,{rotate:E.isActive?n==="rtl"?-90:90:void 0,"aria-label":E.isActive?"expanded":"collapsed"});return ye(N,()=>{var A;return{className:B((A=N==null?void 0:N.props)===null||A===void 0?void 0:A.className,`${o}-arrow`)}})},[C,o]),W=B(`${o}-icon-position-${j}`,{[`${o}-borderless`]:!h,[`${o}-rtl`]:n==="rtl",[`${o}-ghost`]:!!x,[`${o}-${P}`]:P!=="middle"},u,i,g,I,k),L=Object.assign(Object.assign({},Fe(c)),{motionAppear:!1,leavedClassName:`${o}-content-hidden`}),K=d.useMemo(()=>S?Se(S).map((E,N)=>{var A,F;const R=E.props;if(R!=null&&R.disabled){const M=(A=E.key)!==null&&A!==void 0?A:String(N),D=Object.assign(Object.assign({},ce(E.props,["disabled"])),{key:M,collapsible:(F=R.collapsible)!==null&&F!==void 0?F:"disabled"});return ye(E,D)}return E}):null,[S]);return m(d.createElement(ge,Object.assign({ref:t,openMotion:L},ce(e,["rootClassName"]),{expandIcon:_,prefixCls:o,className:W,style:Object.assign(Object.assign({},s),p),destroyInactivePanel:v??w}),K))}),Ee=Object.assign(yt,{Panel:ct});var ht={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},vt=function(){var t=d.useRef([]),r=d.useRef(null);return d.useEffect(function(){var n=Date.now(),a=!1;t.current.forEach(function(u){if(u){a=!0;var s=u.style;s.transitionDuration=".3s, .3s, .3s, .06s",r.current&&n-r.current<100&&(s.transitionDuration="0s, 0s")}}),a&&(r.current=Date.now())}),t.current},ve=0,bt=ze();function xt(){var e;return bt?(e=ve,ve+=1):e="TEST_OR_SSR",e}const Ct=function(e){var t=d.useState(),r=ue(t,2),n=r[0],a=r[1];return d.useEffect(function(){a("rc_progress_".concat(xt()))},[]),e||n};var be=function(t){var r=t.bg,n=t.children;return d.createElement("div",{style:{width:"100%",height:"100%",background:r}},n)};function xe(e,t){return Object.keys(e).map(function(r){var n=parseFloat(r),a="".concat(Math.floor(n*t),"%");return"".concat(e[r]," ").concat(a)})}var $t=d.forwardRef(function(e,t){var r=e.prefixCls,n=e.color,a=e.gradientId,u=e.radius,s=e.style,l=e.ptg,i=e.strokeLinecap,g=e.strokeWidth,p=e.size,h=e.gapDegree,x=n&&Q(n)==="object",y=x?"#FFF":void 0,b=p/2,S=d.createElement("circle",{className:"".concat(r,"-circle-path"),r:u,cx:b,cy:b,stroke:y,strokeLinecap:i,strokeWidth:g,opacity:l===0?0:1,style:s,ref:t});if(!x)return S;var w="".concat(a,"-conic"),v=h?"".concat(180+h/2,"deg"):"0deg",$=xe(n,(360-h)/360),P=xe(n,1),o="conic-gradient(from ".concat(v,", ").concat($.join(", "),")"),c="linear-gradient(to ".concat(h?"bottom":"top",", ").concat(P.join(", "),")");return d.createElement(d.Fragment,null,d.createElement("mask",{id:w},S),d.createElement("foreignObject",{x:0,y:0,width:p,height:p,mask:"url(#".concat(w,")")},d.createElement(be,{bg:c},d.createElement(be,{bg:o}))))}),J=100,ie=function(t,r,n,a,u,s,l,i,g,p){var h=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,x=n/100*360*((360-s)/360),y=s===0?0:{bottom:0,top:180,left:90,right:-90}[l],b=(100-a)/100*r;g==="round"&&a!==100&&(b+=p/2,b>=r&&(b=r-.01));var S=J/2;return{stroke:typeof i=="string"?i:void 0,strokeDasharray:"".concat(r,"px ").concat(t),strokeDashoffset:b+h,transform:"rotate(".concat(u+x+y,"deg)"),transformOrigin:"".concat(S,"px ").concat(S,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},St=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Ce(e){var t=e??[];return Array.isArray(t)?t:[t]}var It=function(t){var r=le(le({},ht),t),n=r.id,a=r.prefixCls,u=r.steps,s=r.strokeWidth,l=r.trailWidth,i=r.gapDegree,g=i===void 0?0:i,p=r.gapPosition,h=r.trailColor,x=r.strokeLinecap,y=r.style,b=r.className,S=r.strokeColor,w=r.percent,v=me(r,St),$=J/2,P=Ct(n),o="".concat(P,"-gradient"),c=$-s/2,m=Math.PI*2*c,I=g>0?90+g/2:-90,k=m*((360-g)/360),j=Q(u)==="object"?u:{count:u,gap:2},C=j.count,_=j.gap,W=Ce(w),L=Ce(S),K=L.find(function(D){return D&&Q(D)==="object"}),E=K&&Q(K)==="object",N=E?"butt":x,A=ie(m,k,0,100,I,g,p,h,N,s),F=vt(),R=function(){var V=0;return W.map(function(H,q){var ae=L[q]||L[L.length-1],Z=ie(m,k,V,H,I,g,p,ae,N,s);return V+=H,d.createElement($t,{key:q,color:ae,ptg:H,radius:c,prefixCls:a,gradientId:o,style:Z,strokeLinecap:N,strokeWidth:s,gapDegree:g,ref:function(se){F[q]=se},size:J})}).reverse()},M=function(){var V=Math.round(C*(W[0]/100)),H=100/C,q=0;return new Array(C).fill(null).map(function(ae,Z){var ee=Z<=V-1?L[0]:h,se=ee&&Q(ee)==="object"?"url(#".concat(o,")"):void 0,fe=ie(m,k,q,H,I,g,p,ee,"butt",s,_);return q+=(k-fe.strokeDashoffset+_)*100/k,d.createElement("circle",{key:Z,className:"".concat(a,"-circle-path"),r:c,cx:$,cy:$,stroke:se,strokeWidth:s,opacity:1,style:fe,ref:function(Oe){F[Z]=Oe}})})};return d.createElement("svg",G({className:B("".concat(a,"-circle"),b),viewBox:"0 0 ".concat(J," ").concat(J),style:y,id:n,role:"presentation"},v),!C&&d.createElement("circle",{className:"".concat(a,"-circle-trail"),r:c,cx:$,cy:$,stroke:h,strokeLinecap:N,strokeWidth:l||s,style:A}),C?M():R())};function X(e){return!e||e<0?0:e>100?100:e}function re({success:e,successPercent:t}){let r=t;return e&&"progress"in e&&(r=e.progress),e&&"percent"in e&&(r=e.percent),r}const wt=({percent:e,success:t,successPercent:r})=>{const n=X(re({success:t,successPercent:r}));return[n,X(X(e)-n)]},kt=({success:e={},strokeColor:t})=>{const{strokeColor:r}=e;return[r||de.green,t||null]},oe=(e,t,r)=>{var n,a,u,s;let l=-1,i=-1;if(t==="step"){const g=r.steps,p=r.strokeWidth;typeof e=="string"||typeof e>"u"?(l=e==="small"?2:14,i=p??8):typeof e=="number"?[l,i]=[e,e]:[l=14,i=8]=Array.isArray(e)?e:[e.width,e.height],l*=g}else if(t==="line"){const g=r==null?void 0:r.strokeWidth;typeof e=="string"||typeof e>"u"?i=g||(e==="small"?6:8):typeof e=="number"?[l,i]=[e,e]:[l=-1,i=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[l,i]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[l,i]=[e,e]:Array.isArray(e)&&(l=(a=(n=e[0])!==null&&n!==void 0?n:e[1])!==null&&a!==void 0?a:120,i=(s=(u=e[0])!==null&&u!==void 0?u:e[1])!==null&&s!==void 0?s:120));return[l,i]},Pt=3,jt=e=>Pt/e*100,Nt=e=>{const{prefixCls:t,trailColor:r=null,strokeLinecap:n="round",gapPosition:a,gapDegree:u,width:s=120,type:l,children:i,success:g,size:p=s,steps:h}=e,[x,y]=oe(p,"circle");let{strokeWidth:b}=e;b===void 0&&(b=Math.max(jt(x),6));const S={width:x,height:y,fontSize:x*.15+6},w=d.useMemo(()=>{if(u||u===0)return u;if(l==="dashboard")return 75},[u,l]),v=wt(e),$=a||l==="dashboard"&&"bottom"||void 0,P=Object.prototype.toString.call(e.strokeColor)==="[object Object]",o=kt({success:g,strokeColor:e.strokeColor}),c=B(`${t}-inner`,{[`${t}-circle-gradient`]:P}),m=d.createElement(It,{steps:h,percent:h?v[1]:v,strokeWidth:b,trailWidth:b,strokeColor:h?o[1]:o,strokeLinecap:n,trailColor:r,prefixCls:t,gapDegree:w,gapPosition:$}),I=x<=20,k=d.createElement("div",{className:c,style:S},m,!I&&i);return I?d.createElement(Xe,{title:i},k):k},ne="--progress-line-stroke-color",Ae="--progress-percent",$e=e=>{const t=e?"100%":"-100%";return new He(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},Et=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:Object.assign(Object.assign({},Pe(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${ne})`]},height:"100%",width:`calc(1 / var(${Ae}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[r]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${T(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:$e(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:$e(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},At=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[r]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},Ot=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Rt=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${r}`]:{fontSize:e.fontSizeSM}}}},_t=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),Mt=we("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),r=ke(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[Et(r),At(r),Ot(r),Rt(r)]},_t);var Bt=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Dt=e=>{let t=[];return Object.keys(e).forEach(r=>{const n=parseFloat(r.replace(/%/g,""));Number.isNaN(n)||t.push({key:n,value:e[r]})}),t=t.sort((r,n)=>r.key-n.key),t.map(({key:r,value:n})=>`${n} ${r}%`).join(", ")},Tt=(e,t)=>{const{from:r=de.blue,to:n=de.blue,direction:a=t==="rtl"?"to left":"to right"}=e,u=Bt(e,["from","to","direction"]);if(Object.keys(u).length!==0){const l=Dt(u),i=`linear-gradient(${a}, ${l})`;return{background:i,[ne]:i}}const s=`linear-gradient(${a}, ${r}, ${n})`;return{background:s,[ne]:s}},Lt=e=>{const{prefixCls:t,direction:r,percent:n,size:a,strokeWidth:u,strokeColor:s,strokeLinecap:l="round",children:i,trailColor:g=null,percentPosition:p,success:h}=e,{align:x,type:y}=p,b=s&&typeof s!="string"?Tt(s,r):{[ne]:s,background:s},S=l==="square"||l==="butt"?0:void 0,w=a??[-1,u||(a==="small"?6:8)],[v,$]=oe(w,"line",{strokeWidth:u}),P={backgroundColor:g||void 0,borderRadius:S},o=Object.assign(Object.assign({width:`${X(n)}%`,height:$,borderRadius:S},b),{[Ae]:X(n)/100}),c=re(e),m={width:`${X(c)}%`,height:$,borderRadius:S,backgroundColor:h==null?void 0:h.strokeColor},I={width:v<0?"100%":v},k=d.createElement("div",{className:`${t}-inner`,style:P},d.createElement("div",{className:B(`${t}-bg`,`${t}-bg-${y}`),style:o},y==="inner"&&i),c!==void 0&&d.createElement("div",{className:`${t}-success-bg`,style:m})),j=y==="outer"&&x==="start",C=y==="outer"&&x==="end";return y==="outer"&&x==="center"?d.createElement("div",{className:`${t}-layout-bottom`},k,i):d.createElement("div",{className:`${t}-outer`,style:I},j&&i,k,C&&i)},Kt=e=>{const{size:t,steps:r,rounding:n=Math.round,percent:a=0,strokeWidth:u=8,strokeColor:s,trailColor:l=null,prefixCls:i,children:g}=e,p=n(r*(a/100)),x=t??[t==="small"?2:14,u],[y,b]=oe(x,"step",{steps:r,strokeWidth:u}),S=y/r,w=Array.from({length:r});for(let v=0;v<r;v++){const $=Array.isArray(s)?s[v]:s;w[v]=d.createElement("div",{key:v,className:B(`${i}-steps-item`,{[`${i}-steps-item-active`]:v<=p-1}),style:{backgroundColor:v<=p-1?$:l,width:S,height:b}})}return d.createElement("div",{className:`${i}-steps-outer`},w,g)};var Wt=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Ft=["normal","exception","active","success"],zt=d.forwardRef((e,t)=>{const{prefixCls:r,className:n,rootClassName:a,steps:u,strokeColor:s,percent:l=0,size:i="default",showInfo:g=!0,type:p="line",status:h,format:x,style:y,percentPosition:b={}}=e,S=Wt(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:w="end",type:v="outer"}=b,$=Array.isArray(s)?s[0]:s,P=typeof s=="string"||Array.isArray(s)?s:void 0,o=d.useMemo(()=>{if($){const R=typeof $=="string"?$:Object.values($)[0];return new Ge(R).isLight()}return!1},[s]),c=d.useMemo(()=>{var R,M;const D=re(e);return parseInt(D!==void 0?(R=D??0)===null||R===void 0?void 0:R.toString():(M=l??0)===null||M===void 0?void 0:M.toString(),10)},[l,e.success,e.successPercent]),m=d.useMemo(()=>!Ft.includes(h)&&c>=100?"success":h||"normal",[h,c]),{getPrefixCls:I,direction:k,progress:j}=d.useContext(Ie),C=I("progress",r),[_,W,L]=Mt(C),K=p==="line",E=K&&!u,N=d.useMemo(()=>{if(!g)return null;const R=re(e);let M;const D=x||(H=>`${H}%`),V=K&&o&&v==="inner";return v==="inner"||x||m!=="exception"&&m!=="success"?M=D(X(l),X(R)):m==="exception"?M=K?d.createElement(Ve,null):d.createElement(qe,null):m==="success"&&(M=K?d.createElement(Ue,null):d.createElement(Qe,null)),d.createElement("span",{className:B(`${C}-text`,{[`${C}-text-bright`]:V,[`${C}-text-${w}`]:E,[`${C}-text-${v}`]:E}),title:typeof M=="string"?M:void 0},M)},[g,l,c,m,p,C,x]);let A;p==="line"?A=u?d.createElement(Kt,Object.assign({},e,{strokeColor:P,prefixCls:C,steps:typeof u=="object"?u.count:u}),N):d.createElement(Lt,Object.assign({},e,{strokeColor:$,prefixCls:C,direction:k,percentPosition:{align:w,type:v}}),N):(p==="circle"||p==="dashboard")&&(A=d.createElement(Nt,Object.assign({},e,{strokeColor:$,prefixCls:C,progressStatus:m}),N));const F=B(C,`${C}-status-${m}`,{[`${C}-${p==="dashboard"&&"circle"||p}`]:p!=="line",[`${C}-inline-circle`]:p==="circle"&&oe(i,"circle")[0]<=20,[`${C}-line`]:E,[`${C}-line-align-${w}`]:E,[`${C}-line-position-${v}`]:E,[`${C}-steps`]:u,[`${C}-show-info`]:g,[`${C}-${i}`]:typeof i=="string",[`${C}-rtl`]:k==="rtl"},j==null?void 0:j.className,n,a,W,L);return _(d.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},j==null?void 0:j.style),y),className:F,role:"progressbar","aria-valuenow":c,"aria-valuemin":0,"aria-valuemax":100},ce(S,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),A))});typeof window<"u"&&Y&&!Y._authInterceptorSet&&(Y.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers=e.headers||{},e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),Y._authInterceptorSet=!0);const{Panel:Xt}=Ee,Zt=({closeFnc:e})=>{var P;const[t,r]=d.useState({title:"",content:"",keywords:[],keywordInput:"",contentType:"text",selectedProject:null}),[n,a]=d.useState([]),[u,s]=d.useState(!0),[l,i]=d.useState(!1),[g,p]=d.useState(null),{handlePopup:h}=Ye();d.useEffect(()=>{(async()=>{try{const I=(await Y.get("/blogs")).data.slice(-10).reverse();a(I),s(!1)}catch(c){console.error("Error fetching recent projects:",c),U.error("Failed to load recent projects"),s(!1)}})()},[]);const x=o=>{const{name:c,value:m}=o.target;r(I=>({...I,[c]:m}))},y=o=>{r(c=>({...c,title:o.title,content:o.content,keywords:o.focusKeywords||[],selectedProject:o,contentType:"markdown"}))},b=o=>{r(c=>({...c,keywordInput:o.target.value}))},S=()=>{const o=t.keywordInput;if(o.trim()!==""){const c=o.split(",").map(m=>m.trim()).filter(m=>m!==""&&!t.keywords.includes(m));c.length>0&&r(m=>({...m,keywords:[...m.keywords,...c],keywordInput:""}))}},w=o=>{r(c=>({...c,keywords:c.keywords.filter((m,I)=>I!==o)}))},v=o=>{o.key==="Enter"?(o.preventDefault(),S()):o.key===","&&(o.preventDefault(),S(type))},$=async()=>{if(!t.title.trim()){U.error("Please enter a blog title");return}if(!t.content.trim()){U.error("Please enter blog content");return}if(t.keywords.length===0){U.error("Please add at least one keyword");return}h({title:"Analyse the competitors",description:f.jsxs("p",{children:["Competitors Analysis cost: ",f.jsxs("b",{children:[Ze("analysis.competitors")," credits"]}),f.jsx("br",{}),"Do you wish to proceed ?"]}),onConfirm:async()=>{var o;i(!0);try{const c=await Y.post("/analysis/run",{title:t.title,content:t.content,keywords:t.keywords,contentType:t.contentType,blogId:(o=t==null?void 0:t.selectedProject)==null?void 0:o._id});c.data&&(p(c.data),U.success("Analysis completed successfully!"))}catch(c){console.error("Error performing competitive analysis:",c),U.error("Failed to perform competitive analysis")}finally{i(!1)}}})};return f.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:f.jsxs("div",{className:"w-[800px] bg-white rounded-lg shadow-xl max-h-[90vh] flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[f.jsx("h2",{className:"text-lg font-semibold",children:"Competitive Analysis"}),f.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:f.jsx(he,{className:"h-6 w-6"})})]}),f.jsx("div",{className:"px-6 py-4 overflow-y-auto",children:f.jsx("div",{className:"space-y-6",children:g?f.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"space-y-4",children:[f.jsxs(te.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},className:"flex flex-col items-center",children:[f.jsx(zt,{type:"dashboard",percent:parseInt(g.blogScore||0),format:o=>`${o} / 100`,strokeColor:{"0%":"#108ee9","100%":"#87d068"},trailColor:"#d1d5db"}),f.jsx("div",{className:"text-gray-700 text-base font-semibold mb-2",children:"Blog SEO Score"})]}),f.jsx(te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.4},children:f.jsx(Je,{title:"Suggestions to Beat Competitors",className:"bg-gray-50 border border-gray-200 rounded-lg",headStyle:{background:"#f9fafb",fontWeight:600},children:f.jsx("p",{className:"text-gray-700 text-sm whitespace-pre-line",children:g.suggestions})})}),f.jsx(te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.4},children:f.jsx(Ee,{accordion:!0,className:"bg-white border border-gray-200 rounded-lg",expandIconPosition:"right",children:Object.entries(g.analysis).map(([o,c])=>{const m=c.match(/^(\d+\/\d+)\s+—\s+(.*)$/),I=m?m[1]:null,k=m?m[2]:c;return f.jsx(Xt,{header:f.jsxs("div",{className:"flex justify-between items-center w-full pr-2",children:[f.jsx("span",{className:"font-medium text-gray-800",children:o}),I&&f.jsx("span",{className:"text-sm text-center w-[10ch] font-semibold text-blue-700 bg-gray-100 tracking-wide px-2 py-0.5 rounded-md",children:I==null?void 0:I.replace("/"," / ")})]}),className:"text-sm text-gray-700 leading-relaxed",children:f.jsx("p",{children:k})},o)})})})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Recent Project"}),f.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 max-h-[200px] overflow-y-auto",onChange:o=>{const c=n.find(m=>m._id===o.target.value);c&&y(c)},value:((P=t.selectedProject)==null?void 0:P._id)||"",children:[f.jsx("option",{value:"",children:"Select a project"}),n.map(o=>f.jsx("option",{value:o._id,children:o.title},o._id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blog Title"}),f.jsx("input",{type:"text",name:"title",value:t.title,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your blog title"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blog Content"}),f.jsx("textarea",{name:"content",value:t.content,onChange:x,className:"w-full h-40 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:`Enter your blog content in ${t.contentType} format`})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Keywords"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:t.keywordInput,onChange:b,onKeyDown:v,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Add keywords (comma-separated)"}),f.jsx("button",{onClick:S,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700",children:"Add"})]}),f.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.keywords.map((o,c)=>f.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[o,f.jsx("button",{type:"button",onClick:()=>w(c),className:"ml-1.5 flex-shrink-0 text-indigo-400 hover:text-indigo-600",children:f.jsx(he,{className:"w-3 h-3"})})]},c))})]})]})})}),f.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t",children:[f.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Close"}),!g&&f.jsx("button",{onClick:$,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",disabled:l,children:l?"Analyzing...":"Analyze"})]})]})})};export{Zt as C};
